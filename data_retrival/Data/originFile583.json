{"items":[{"tags":["java","amazon-web-services","jsp","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":401338,"reputation":1859,"user_id":1454719,"display_name":"Pozzo Apps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404387779,"creation_date":1404387779,"answer_id":24552799,"question_id":24549685,"body_markdown":"From [PutObjectRequest][1] doc\r\n\r\n&gt; metadata - The object metadata. At minimum this specifies the content\r\n&gt; length for the stream of data being uploaded.\r\n\r\nI had never used an input stream from an URL, but looks like you are missing the &quot;length for the stream&quot;.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest(java.lang.String,%20java.lang.String,%20java.io.InputStream,%20com.amazonaws.services.s3.model.ObjectMetadata)","title":"Uploading S3 using AWS SDK Java","body":"<p>From <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest%28java.lang.String,%20java.lang.String,%20java.io.InputStream,%20com.amazonaws.services.s3.model.ObjectMetadata%29\" rel=\"nofollow\">PutObjectRequest</a> doc</p>\n\n<blockquote>\n  <p>metadata - The object metadata. At minimum this specifies the content\n  length for the stream of data being uploaded.</p>\n</blockquote>\n\n<p>I had never used an input stream from an URL, but looks like you are missing the \"length for the stream\".</p>\n"},{"tags":[],"owner":{"account_id":324511,"reputation":4310,"user_id":645112,"display_name":"Wade Matveyenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404774149,"creation_date":1404774149,"answer_id":24621302,"question_id":24549685,"body_markdown":"Since you are uploading from a file, you could use [this][1] constructor for the PutObjectRequest:\r\n\r\n     File theFile = new File(filePath);\r\n     PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, theFile);\r\n     putObjectRequest.withMetadata(objectMetadata);\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest(java.lang.String,%20java.lang.String,%20java.io.File)","title":"Uploading S3 using AWS SDK Java","body":"<p>Since you are uploading from a file, you could use <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest%28java.lang.String,%20java.lang.String,%20java.io.File%29\" rel=\"nofollow\">this</a> constructor for the PutObjectRequest:</p>\n\n<pre><code> File theFile = new File(filePath);\n PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, theFile);\n putObjectRequest.withMetadata(objectMetadata);\n</code></pre>\n"}],"owner":{"account_id":2987564,"reputation":743,"user_id":2535956,"accept_rate":43,"display_name":"rav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678594167,"creation_date":1404379014,"question_id":24549685,"body_markdown":"my current setup is like this\r\n\r\n      AmazonS3 s3Client = new AmazonS3Client();\r\n    \r\n      InputStream stream = new URL(filePath).openStream();\r\n    \r\n      ObjectMetadata objectMetadata = new ObjectMetadata();\r\n      PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, stream, objectMetadata);\r\n    \r\n      PutObjectResult result = s3Client.putObject(putObjectRequest);\r\n\r\n\r\nAnd I&#39;m always getting this error\r\n\r\n    java.lang.IllegalStateException: Content has been consumed\r\n\r\nAnd I know it is caused by calling\r\n\r\n     HttpEntity.getContent()\r\n\r\nmultiple times\r\n\r\nBut I can&#39;t seem to debug/find where it is being called multiple times","title":"Uploading S3 using AWS SDK Java","body":"<p>my current setup is like this</p>\n\n<pre><code>  AmazonS3 s3Client = new AmazonS3Client();\n\n  InputStream stream = new URL(filePath).openStream();\n\n  ObjectMetadata objectMetadata = new ObjectMetadata();\n  PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, stream, objectMetadata);\n\n  PutObjectResult result = s3Client.putObject(putObjectRequest);\n</code></pre>\n\n<p>And I'm always getting this error</p>\n\n<pre><code>java.lang.IllegalStateException: Content has been consumed\n</code></pre>\n\n<p>And I know it is caused by calling</p>\n\n<pre><code> HttpEntity.getContent()\n</code></pre>\n\n<p>multiple times</p>\n\n<p>But I can't seem to debug/find where it is being called multiple times</p>\n"},{"tags":["java","android","amazon-web-services","amazon-s3","image-upload"],"comments":[{"owner":{"account_id":3007337,"reputation":703,"user_id":2551580,"display_name":"cigno5.5"},"score":0,"creation_date":1424167594,"post_id":28559100,"comment_id":45430269,"body_markdown":"The problem is clearly that you cannot write into that position. Have you checked bucket permission and policy?","body":"The problem is clearly that you cannot write into that position. Have you checked bucket permission and policy?"},{"owner":{"account_id":3005582,"reputation":145,"user_id":2550183,"accept_rate":20,"display_name":"RDD"},"score":0,"creation_date":1424168778,"post_id":28559100,"comment_id":45431085,"body_markdown":"@cigno5.5 this is my first attempt. please guide me in the correct way. i have access_key, secret_key, bucket, accessmode. what else i need to use. if these enough, how can i use them further?","body":"@cigno5.5 this is my first attempt. please guide me in the correct way. i have access_key, secret_key, bucket, accessmode. what else i need to use. if these enough, how can i use them further?"},{"owner":{"account_id":3007337,"reputation":703,"user_id":2551580,"display_name":"cigno5.5"},"score":0,"creation_date":1424169469,"post_id":28559100,"comment_id":45431467,"body_markdown":"have you already accessed to http://aws.amazon.com/console/ ? In there you can setup everything about services from aws. \nThere are many ways to configure permissions but you should try as first step directly on the console","body":"have you already accessed to <a href=\"http://aws.amazon.com/console/\" rel=\"nofollow noreferrer\">aws.amazon.com/console</a> ? In there you can setup everything about services from aws.  There are many ways to configure permissions but you should try as first step directly on the console"}],"answers":[{"tags":[],"owner":{"account_id":3005582,"reputation":145,"user_id":2550183,"accept_rate":20,"display_name":"RDD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424179875,"creation_date":1424179875,"answer_id":28562729,"question_id":28559100,"body_markdown":"Found the way.\r\n\r\n    AWSCredentials credentials = new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY);\r\n    TransferManager manager = new TransferManager(credentials);\r\n    Upload upload = manager.upload(pictureBucket,&quot;images/&quot;+fileName,new File(fileURI));\r\n\r\nThis will do..","title":"What is the right way to upload image to amazon s3 in android?","body":"<p>Found the way.</p>\n\n<pre><code>AWSCredentials credentials = new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY);\nTransferManager manager = new TransferManager(credentials);\nUpload upload = manager.upload(pictureBucket,\"images/\"+fileName,new File(fileURI));\n</code></pre>\n\n<p>This will do..</p>\n"}],"owner":{"account_id":3005582,"reputation":145,"user_id":2550183,"accept_rate":20,"display_name":"RDD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678594114,"creation_date":1424166791,"question_id":28559100,"body_markdown":"I used Following way to upload image to amazon s3. But i couldn&#39;t get succeed in this.\r\n\r\n    public UploadAmazon() {\r\n        s3Client = new AmazonS3Client(new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY));\r\n        s3Client.createBucket(pictureBucket);\r\n        s3Client.setBucketAcl(pictureBucket, CannedAccessControlList.valueOf(&quot;private&quot;));\r\n        uploadFile();\r\n    }\r\n\r\n    public void uploadFile() {\r\n        PutObjectRequest por = new PutObjectRequest(pictureBucket,&quot;images/&quot;+fileName,new File(fileURI));\r\n        PutObjectResult result = s3Client.putObject(por);\r\n    }\r\n\r\nWhen trying like this i&#39;m getting following error\r\n\r\n    E/AndroidRuntime(31827): FATAL EXCEPTION: AsyncTask #1\r\n    E/AndroidRuntime(31827): Process: com.xxx.yyy.zzz, PID: 31827\r\n    E/AndroidRuntime(31827): java.lang.RuntimeException: An error occured while executing doInBackground()\r\n    E/AndroidRuntime(31827): \tat android.os.AsyncTask$3.done(AsyncTask.java:300)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.setException(FutureTask.java:222)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n    E/AndroidRuntime(31827): \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n    E/AndroidRuntime(31827): \tat java.lang.Thread.run(Thread.java:841)\r\n    E/AndroidRuntime(31827): Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 123456789), S3 Extended Request ID: XXXXXXXXXXXXXX\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.http.AmazonHttpClient.executeHelper(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.http.AmazonHttpClient.execute(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.services.s3.AmazonS3Client.invoke(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.xxx.yyy.zzz.ftp.UploadAmazon.&lt;init&gt;(UploadAmazon.java:37)\r\n    E/AndroidRuntime(31827): \tat com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:859)\r\n    E/AndroidRuntime(31827): \tat com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:855)\r\n    E/AndroidRuntime(31827): \tat android.os.AsyncTask$2.call(AsyncTask.java:288)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n    E/AndroidRuntime(31827): \t... 4 more\r\n\r\ni refered [here][1], but no success. Help Predicted. Thanks in advance\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24139352/aws-s3-java-sdk-access-denied","title":"What is the right way to upload image to amazon s3 in android?","body":"<p>I used Following way to upload image to amazon s3. But i couldn't get succeed in this.</p>\n\n<pre><code>public UploadAmazon() {\n    s3Client = new AmazonS3Client(new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY));\n    s3Client.createBucket(pictureBucket);\n    s3Client.setBucketAcl(pictureBucket, CannedAccessControlList.valueOf(\"private\"));\n    uploadFile();\n}\n\npublic void uploadFile() {\n    PutObjectRequest por = new PutObjectRequest(pictureBucket,\"images/\"+fileName,new File(fileURI));\n    PutObjectResult result = s3Client.putObject(por);\n}\n</code></pre>\n\n<p>When trying like this i'm getting following error</p>\n\n<pre><code>E/AndroidRuntime(31827): FATAL EXCEPTION: AsyncTask #1\nE/AndroidRuntime(31827): Process: com.xxx.yyy.zzz, PID: 31827\nE/AndroidRuntime(31827): java.lang.RuntimeException: An error occured while executing doInBackground()\nE/AndroidRuntime(31827):    at android.os.AsyncTask$3.done(AsyncTask.java:300)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.setException(FutureTask.java:222)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.run(FutureTask.java:242)\nE/AndroidRuntime(31827):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\nE/AndroidRuntime(31827):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\nE/AndroidRuntime(31827):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\nE/AndroidRuntime(31827):    at java.lang.Thread.run(Thread.java:841)\nE/AndroidRuntime(31827): Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 123456789), S3 Extended Request ID: XXXXXXXXXXXXXX\nE/AndroidRuntime(31827):    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.http.AmazonHttpClient.executeHelper(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.http.AmazonHttpClient.execute(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.services.s3.AmazonS3Client.invoke(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\nE/AndroidRuntime(31827):    at com.xxx.yyy.zzz.ftp.UploadAmazon.&lt;init&gt;(UploadAmazon.java:37)\nE/AndroidRuntime(31827):    at com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:859)\nE/AndroidRuntime(31827):    at com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:855)\nE/AndroidRuntime(31827):    at android.os.AsyncTask$2.call(AsyncTask.java:288)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\nE/AndroidRuntime(31827):    ... 4 more\n</code></pre>\n\n<p>i refered <a href=\"https://stackoverflow.com/questions/24139352/aws-s3-java-sdk-access-denied\">here</a>, but no success. Help Predicted. Thanks in advance</p>\n"},{"tags":["java","amazon-web-services","android-studio","amazon-s3","imdb"],"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1508171159,"post_id":46774813,"comment_id":80495357,"body_markdown":"make sure you don&#39;t have runtime permission issue for storage. don&#39;t know then plz google","body":"make sure you don&#39;t have runtime permission issue for storage. don&#39;t know then plz google"}],"answers":[{"tags":[],"owner":{"account_id":2004545,"reputation":4301,"user_id":1794802,"display_name":"strongjz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508196596,"creation_date":1508196596,"answer_id":46780423,"question_id":46774813,"body_markdown":"&gt;Files are located under documents/v1/*\r\n\r\nIn your example the Key is just `title.basics.tsv.gz` \r\n\r\n\r\nIn their code example [here](http://www.imdb.com/offsite/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;page-action=offsite-com&amp;token=BCYvnuVb2ORucx2WkXMNoaohuut3pGpZqPvtO90A7eaeNfbrg-NabaUeL2nd7cXcFAbfS_pzcvRk%0D%0AEcT8OmTcZJQ6hqy9YcLkyMnGlhdVzzqArXgqNbukuINjRH6UbvizKxREWcR_qeHkblrlBCz--STk%0D%0A5BQhiN4bEinDVw_r-3mPGaOcxLnM8GrFw6Y6XPtBcp5VZc5Wi0XCUyzL_XUpEYgB_Apa_AU3JSNK%0D%0AWUPEKi8dc3EQueNQLm78kvZ-Cm8PFdo6qovJgJz6KS5EUMYynRJGXw%0D%0A&amp;ref_=fea_mn_lk7) \r\n\r\n \r\n\r\n    private static String bucketName = &quot;imdb-datasets&quot;; \r\n    private static String key        = &quot;documents/v1/current/name.basics.tsv.gz&quot;;      \r\n    \r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        ProfileCredentialsProvider credentialsProvider =\r\n                new ProfileCredentialsProvider(&quot;*** FULL PATH TO AWS CREDENTIALS FILE ***&quot;,\r\n                                               &quot;*** CREDENTIALS PROFILE NAME ***&quot;);\r\n\r\n        AmazonS3 s3Client = new AmazonS3Client(credentialsProvider);\r\n\r\n        try {\r\n            // Note: It&#39;s necessary to set RequesterPays to true\r\n            GetObjectRequest getObjectRequest = new GetObjectRequest(bucketName, key)\r\n                                                    .withRequesterPays(true);\r\n\r\n\r\nhttp://www.imdb.com/interfaces/\r\n\r\n**I don&#39;t know what the app is for or does but a reminder about their License** \r\n&gt;You can hold local copies of this data, and it is subject to our terms and conditions. Please refer to the [Non-Commercial Licensing](http://www.imdb.com/help/show_leaf?usedatasoftware&amp;pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk1) and [copyright/license](http://www.imdb.com/Copyright?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk2) and verify compliance.\r\n","title":"Access denied error imdb s3 bucket","body":"<blockquote>\n  <p>Files are located under documents/v1/*</p>\n</blockquote>\n\n<p>In your example the Key is just <code>title.basics.tsv.gz</code> </p>\n\n<p>In their code example <a href=\"http://www.imdb.com/offsite/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;page-action=offsite-com&amp;token=BCYvnuVb2ORucx2WkXMNoaohuut3pGpZqPvtO90A7eaeNfbrg-NabaUeL2nd7cXcFAbfS_pzcvRk%0D%0AEcT8OmTcZJQ6hqy9YcLkyMnGlhdVzzqArXgqNbukuINjRH6UbvizKxREWcR_qeHkblrlBCz--STk%0D%0A5BQhiN4bEinDVw_r-3mPGaOcxLnM8GrFw6Y6XPtBcp5VZc5Wi0XCUyzL_XUpEYgB_Apa_AU3JSNK%0D%0AWUPEKi8dc3EQueNQLm78kvZ-Cm8PFdo6qovJgJz6KS5EUMYynRJGXw%0D%0A&amp;ref_=fea_mn_lk7\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<pre><code>private static String bucketName = \"imdb-datasets\"; \nprivate static String key        = \"documents/v1/current/name.basics.tsv.gz\";      \n\npublic static void main(String[] args) throws IOException, InterruptedException {\n    ProfileCredentialsProvider credentialsProvider =\n            new ProfileCredentialsProvider(\"*** FULL PATH TO AWS CREDENTIALS FILE ***\",\n                                           \"*** CREDENTIALS PROFILE NAME ***\");\n\n    AmazonS3 s3Client = new AmazonS3Client(credentialsProvider);\n\n    try {\n        // Note: It's necessary to set RequesterPays to true\n        GetObjectRequest getObjectRequest = new GetObjectRequest(bucketName, key)\n                                                .withRequesterPays(true);\n</code></pre>\n\n<p><a href=\"http://www.imdb.com/interfaces/\" rel=\"nofollow noreferrer\">http://www.imdb.com/interfaces/</a></p>\n\n<p><strong>I don't know what the app is for or does but a reminder about their License</strong> </p>\n\n<blockquote>\n  <p>You can hold local copies of this data, and it is subject to our terms and conditions. Please refer to the <a href=\"http://www.imdb.com/help/show_leaf?usedatasoftware&amp;pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk1\" rel=\"nofollow noreferrer\">Non-Commercial Licensing</a> and <a href=\"http://www.imdb.com/Copyright?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk2\" rel=\"nofollow noreferrer\">copyright/license</a> and verify compliance.</p>\n</blockquote>\n"}],"owner":{"account_id":12007525,"reputation":95,"user_id":8785400,"display_name":"Vlad J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678594035,"creation_date":1508170868,"question_id":46774813,"body_markdown":"I&#39;m working on an app which will use the amazon aws s3 imdb bucket called &quot;imdb-datasets&quot; to display various movie info. Before trying this i tested the code with my own bucket and managed to upload and download a testfile from my android device to my bucket and vice versa. But upon trying the same method with the imdb-datasets bucket i started getting an acess denied error 403. After doing some research i found out that the possible issue would be that i have to specify in the code that it is a requester-pays bucket. I tried to implement the requester pays bit (the commented out code) but it crashes my application. I have no idea how to implement it in my app as i didn&#39;t manage to find any guide or solution. Any ideas how to do that?   \r\n\r\nEdit: I have also given permissions for the app to be able to access storage, both through manifest and manually in the app through the android device settings. Role policies with the iam user and the imdb bucket are also assigned.\r\n\r\n    import android.os.Environment;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n\r\n    import com.amazonaws.auth.CognitoCachingCredentialsProvider;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferListener;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferObserver;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferState;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferUtility;\r\n    import com.amazonaws.regions.Region;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3Client;\r\n\r\n\r\n    import java.io.File;\r\n\r\n\r\n\r\n    public class movieChooseActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_movie_choose);\r\n\r\n        }\r\n\r\n    public void getFile(View v) {\r\n\r\n\r\n        File sdcard = Environment.getExternalStorageDirectory();\r\n        String key = &quot;documents/v1/current/title.basics.tsv.gz&quot;;\r\n        File file = new File(key, &quot;title.basics.tsv.gz&quot;);\r\n\r\n\r\n        // Initialize the Amazon Cognito credentials provider\r\n        CognitoCachingCredentialsProvider credentialsProvider = new \r\n        CognitoCachingCredentialsProvider(\r\n                getApplicationContext(),\r\n                &quot;eu-west-2:4c829519-0596-4fdb-ad04-6b8912e44164&quot;, // Identity \r\n                                                                  //pool ID\r\n                Regions.EU_WEST_2 // Region\r\n        );\r\n\r\n\r\n        AmazonS3 s3 = new AmazonS3Client(credentialsProvider);\r\n        s3.setRegion(Region.getRegion(Regions.US_EAST_1));\r\n\r\n        //include the appropriate request-payer parameter\r\n        //s3.getObject(new GetObjectRequest(&quot;imdb-datasets&quot;, \r\n          key).withRequesterPays(true));\r\n         \r\n\r\n\r\n                TransferUtility transferUtility = new TransferUtility(s3, \r\n                getApplicationContext());\r\n\r\n        TransferObserver transferObserver =  transferUtility.download(&quot;imdb-\r\n        datasets&quot;,&quot;title.basics.tsv.gz&quot;,file);\r\n\r\n        transferObserver.setTransferListener(new TransferListener() {\r\n            @Override\r\n            public void onStateChanged(int i, TransferState state) {\r\n                Log.e(&quot;statechange&quot;,state + &quot; &quot;);\r\n                if(state == state.COMPLETED) {\r\n                    Toast.makeText(movieChooseActivity.this, &quot;File transfered&quot;, \r\n                    Toast.LENGTH_LONG).show();\r\n                }\r\n                if(state == state.FAILED) {\r\n                    Toast.makeText(movieChooseActivity.this, &quot;Failed&quot;, \r\n                    Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onProgressChanged(int i, long l, long l1) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(int i, Exception e) {\r\n                Log.e(&quot;whattowatchapp&quot;,&quot;Error:&quot;+ e.getMessage());\r\n            }\r\n        });\r\n     }\r\n\r\n    }\r\n","title":"Access denied error imdb s3 bucket","body":"<p>I'm working on an app which will use the amazon aws s3 imdb bucket called \"imdb-datasets\" to display various movie info. Before trying this i tested the code with my own bucket and managed to upload and download a testfile from my android device to my bucket and vice versa. But upon trying the same method with the imdb-datasets bucket i started getting an acess denied error 403. After doing some research i found out that the possible issue would be that i have to specify in the code that it is a requester-pays bucket. I tried to implement the requester pays bit (the commented out code) but it crashes my application. I have no idea how to implement it in my app as i didn't manage to find any guide or solution. Any ideas how to do that?   </p>\n\n<p>Edit: I have also given permissions for the app to be able to access storage, both through manifest and manually in the app through the android device settings. Role policies with the iam user and the imdb bucket are also assigned.</p>\n\n<pre><code>import android.os.Environment;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.amazonaws.auth.CognitoCachingCredentialsProvider;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferListener;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferObserver;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferState;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferUtility;\nimport com.amazonaws.regions.Region;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3Client;\n\n\nimport java.io.File;\n\n\n\npublic class movieChooseActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_movie_choose);\n\n    }\n\npublic void getFile(View v) {\n\n\n    File sdcard = Environment.getExternalStorageDirectory();\n    String key = \"documents/v1/current/title.basics.tsv.gz\";\n    File file = new File(key, \"title.basics.tsv.gz\");\n\n\n    // Initialize the Amazon Cognito credentials provider\n    CognitoCachingCredentialsProvider credentialsProvider = new \n    CognitoCachingCredentialsProvider(\n            getApplicationContext(),\n            \"eu-west-2:4c829519-0596-4fdb-ad04-6b8912e44164\", // Identity \n                                                              //pool ID\n            Regions.EU_WEST_2 // Region\n    );\n\n\n    AmazonS3 s3 = new AmazonS3Client(credentialsProvider);\n    s3.setRegion(Region.getRegion(Regions.US_EAST_1));\n\n    //include the appropriate request-payer parameter\n    //s3.getObject(new GetObjectRequest(\"imdb-datasets\", \n      key).withRequesterPays(true));\n\n\n\n            TransferUtility transferUtility = new TransferUtility(s3, \n            getApplicationContext());\n\n    TransferObserver transferObserver =  transferUtility.download(\"imdb-\n    datasets\",\"title.basics.tsv.gz\",file);\n\n    transferObserver.setTransferListener(new TransferListener() {\n        @Override\n        public void onStateChanged(int i, TransferState state) {\n            Log.e(\"statechange\",state + \" \");\n            if(state == state.COMPLETED) {\n                Toast.makeText(movieChooseActivity.this, \"File transfered\", \n                Toast.LENGTH_LONG).show();\n            }\n            if(state == state.FAILED) {\n                Toast.makeText(movieChooseActivity.this, \"Failed\", \n                Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onProgressChanged(int i, long l, long l1) {\n\n        }\n\n        @Override\n        public void onError(int i, Exception e) {\n            Log.e(\"whattowatchapp\",\"Error:\"+ e.getMessage());\n        }\n    });\n }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","upload"],"answers":[{"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1451954731,"creation_date":1451954731,"answer_id":34602520,"question_id":34599840,"body_markdown":"From the looks of it GeneratePresignedUrlRequest is for existing objects in S3.\r\n\r\n&gt; public GeneratePresignedUrlRequest(String bucketName,  String key)  \r\n\r\n&gt;Creates a new request for generating a pre-signed URL that can be used as part of an HTTP GET request to access the Amazon S3 object stored under the specified key in the specified bucket.  \r\n&gt;Parameters:  \r\n&gt;bucketName - The name of the bucket containing the desired Amazon S3 object.  \r\n&gt;key - The key under which the desired Amazon S3 object is stored.  \r\n\r\n\r\nYou can use one of the `putObject` methods in AmazonS3Client class.\r\n\r\n\r\n&gt;  PutObjectResult\tputObject(PutObjectRequest putObjectRequest)  \r\nUploads a new object to the specified Amazon S3 bucket.\r\n\r\n&gt;  PutObjectResult\tputObject(String bucketName, String key, File file)  \r\nUploads the specified file to Amazon S3 under the specified bucket and key name.  \r\n\r\n&gt; PutObjectResult\tputObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)  \r\nUploads the specified input stream and object metadata to Amazon S3 under the specified bucket and key name.  \r\n\r\nOnce you put the object into S3, you can then use the key to instantiate a GeneratePresignedUrlRequest object and get the URL.","title":"Amazon S3 GeneratePresignedUrlRequest - new file","body":"<p>From the looks of it GeneratePresignedUrlRequest is for existing objects in S3.</p>\n\n<blockquote>\n  <p>public GeneratePresignedUrlRequest(String bucketName,  String key)  </p>\n  \n  <p>Creates a new request for generating a pre-signed URL that can be used as part of an HTTP GET request to access the Amazon S3 object stored under the specified key in the specified bucket.<br>\n  Parameters:<br>\n  bucketName - The name of the bucket containing the desired Amazon S3 object.<br>\n  key - The key under which the desired Amazon S3 object is stored.  </p>\n</blockquote>\n\n<p>You can use one of the <code>putObject</code> methods in AmazonS3Client class.</p>\n\n<blockquote>\n  <p>PutObjectResult  putObject(PutObjectRequest putObjectRequest)<br>\n  Uploads a new object to the specified Amazon S3 bucket.</p>\n  \n  <p>PutObjectResult  putObject(String bucketName, String key, File file)<br>\n  Uploads the specified file to Amazon S3 under the specified bucket and key name.  </p>\n  \n  <p>PutObjectResult   putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)<br>\n  Uploads the specified input stream and object metadata to Amazon S3 under the specified bucket and key name.  </p>\n</blockquote>\n\n<p>Once you put the object into S3, you can then use the key to instantiate a GeneratePresignedUrlRequest object and get the URL.</p>\n"},{"tags":[],"owner":{"account_id":221274,"reputation":1942,"user_id":2390296,"display_name":"koolhead17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463149829,"creation_date":1463149829,"answer_id":37212680,"question_id":34599840,"body_markdown":"Alternatively you can use [minio-java][1] client library, its Open Source and compatible with AWS S3 API.\r\n\r\nYou can check [PresignedPutObject.java][2] example for the same. \r\n&lt;pre&gt;\r\nimport io.minio.MinioClient;\r\nimport io.minio.errors.MinioException;\r\n\r\nimport java.io.IOException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.InvalidKeyException;\r\n\r\nimport org.xmlpull.v1.XmlPullParserException;\r\n\r\n\r\npublic class PresignedPutObject {\r\n  public static void main(String[] args)\r\n    throws NoSuchAlgorithmException, IOException, InvalidKeyException, XmlPullParserException, MinioException {\r\n    // Note: YOUR-ACCESSKEYID, YOUR-SECRETACCESSKEY and my-bucketname are\r\n    // dummy values, please replace them with original values.\r\n    // Set s3 endpoint, region is calculated automatically\r\n    MinioClient s3Client = new MinioClient(&quot;https://s3.amazonaws.com&quot;, &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;);\r\n\r\n    String url = s3Client.presignedPutObject(&quot;my-bucketname&quot;, &quot;my-objectname&quot;, 60 * 60 * 24);\r\n    System.out.println(url);\r\n  }\r\n}\r\n&lt;/pre&gt;\r\n \r\nHope it helps.\r\n\r\nDisclaimer: I work for [Minio][3]\r\n\r\n\r\n  [1]: https://github.com/minio/minio-java\r\n  [2]: https://github.com/minio/minio-java/blob/master/examples/PresignedPutObject.java\r\n  [3]: https://www.minio.io","title":"Amazon S3 GeneratePresignedUrlRequest - new file","body":"<p>Alternatively you can use <a href=\"https://github.com/minio/minio-java\" rel=\"nofollow\">minio-java</a> client library, its Open Source and compatible with AWS S3 API.</p>\n\n<p>You can check <a href=\"https://github.com/minio/minio-java/blob/master/examples/PresignedPutObject.java\" rel=\"nofollow\">PresignedPutObject.java</a> example for the same. </p>\n\n<pre>\nimport io.minio.MinioClient;\nimport io.minio.errors.MinioException;\n\nimport java.io.IOException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.InvalidKeyException;\n\nimport org.xmlpull.v1.XmlPullParserException;\n\n\npublic class PresignedPutObject {\n  public static void main(String[] args)\n    throws NoSuchAlgorithmException, IOException, InvalidKeyException, XmlPullParserException, MinioException {\n    // Note: YOUR-ACCESSKEYID, YOUR-SECRETACCESSKEY and my-bucketname are\n    // dummy values, please replace them with original values.\n    // Set s3 endpoint, region is calculated automatically\n    MinioClient s3Client = new MinioClient(\"https://s3.amazonaws.com\", \"YOUR-ACCESSKEYID\", \"YOUR-SECRETACCESSKEY\");\n\n    String url = s3Client.presignedPutObject(\"my-bucketname\", \"my-objectname\", 60 * 60 * 24);\n    System.out.println(url);\n  }\n}\n</pre>\n\n<p>Hope it helps.</p>\n\n<p>Disclaimer: I work for <a href=\"https://www.minio.io\" rel=\"nofollow\">Minio</a></p>\n"}],"owner":{"account_id":1212387,"reputation":6854,"user_id":1180686,"accept_rate":82,"display_name":"Jerome Ansia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34602520,"answer_count":2,"score":0,"last_activity_date":1678593991,"creation_date":1451941583,"question_id":34599840,"body_markdown":"I would like to upload a new file to Amazon s3 to my test-bucket.\r\n\r\nHere is the java code:\r\n\r\n        AmazonS3 s3Client = new AmazonS3Client(new ProfileCredentialsProvider());\r\n        java.util.Date expiration = new java.util.Date();\r\n        long msec = expiration.getTime();\r\n        msec += 1000 * 60 * 60; // Add 1 hour.\r\n        expiration.setTime(msec);\r\n        GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(&quot;test-bucket&quot;, filename);\r\n        generatePresignedUrlRequest.setMethod(HttpMethod.GET);\r\n        generatePresignedUrlRequest.setExpiration(expiration);\r\n        URL s = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\nHowever i keep getting:\r\n\r\n&quot;The specified key does not exist.&quot; for the filename var.\r\n\r\nHow do I make this code works with a new file?","title":"Amazon S3 GeneratePresignedUrlRequest - new file","body":"<p>I would like to upload a new file to Amazon s3 to my test-bucket.</p>\n\n<p>Here is the java code:</p>\n\n<pre><code>    AmazonS3 s3Client = new AmazonS3Client(new ProfileCredentialsProvider());\n    java.util.Date expiration = new java.util.Date();\n    long msec = expiration.getTime();\n    msec += 1000 * 60 * 60; // Add 1 hour.\n    expiration.setTime(msec);\n    GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(\"test-bucket\", filename);\n    generatePresignedUrlRequest.setMethod(HttpMethod.GET);\n    generatePresignedUrlRequest.setExpiration(expiration);\n    URL s = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n</code></pre>\n\n<p>However i keep getting:</p>\n\n<p>\"The specified key does not exist.\" for the filename var.</p>\n\n<p>How do I make this code works with a new file?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1506088588,"creation_date":1506088588,"answer_id":46366514,"question_id":46348295,"body_markdown":"Going with the solution as described above as unable to come up with an alternative solution","title":"Amazon Java S3 SDK - UploadDirectory","body":"<p>Going with the solution as described above as unable to come up with an alternative solution</p>\n"},{"tags":[],"owner":{"account_id":1801980,"reputation":1068,"user_id":1640065,"accept_rate":64,"display_name":"Manan Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552984900,"creation_date":1552910527,"answer_id":55220907,"question_id":46348295,"body_markdown":"You can use an alternative method of [TransferManager][1] class: \r\n\r\n\r\n`uploadDirectory(String bucketName, String virtualDirectoryKeyPrefix, File directory, boolean includeSubdirectories, ObjectMetadataProvider metadataProvider, ObjectTaggingProvider taggingProvider, ObjectCannedAclProvider cannedAclProvider)`\r\n\r\n\r\n    ObjectCannedAclProvider cannedAclProvider = new ObjectCannedAclProvider() {\r\n            public CannedAccessControlList provideObjectCannedAcl(File file) {\r\n                    return CannedAccessControlList.PublicRead;\r\n            }\r\n    }\r\n    \r\n    MultipleFileUpload multiUpload = transferManager.uploadDirectory(bucketName, keyPrefix, \r\n                  directory, includeSubdirectories, null, null, cannedAclProvider);\r\n\r\n\r\nThe require gradle dependency is : `compile(&quot;com.amazonaws:aws-java-sdk:1.11.519&quot;)` \r\n\r\nNote: Similar question is asked by someone in the AWS sdk-java thread.\r\nhttps://github.com/aws/aws-sdk-java/issues/1938\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html","title":"Amazon Java S3 SDK - UploadDirectory","body":"<p>You can use an alternative method of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\" rel=\"nofollow noreferrer\">TransferManager</a> class: </p>\n\n<p><code>uploadDirectory(String bucketName, String virtualDirectoryKeyPrefix, File directory, boolean includeSubdirectories, ObjectMetadataProvider metadataProvider, ObjectTaggingProvider taggingProvider, ObjectCannedAclProvider cannedAclProvider)</code></p>\n\n<pre><code>ObjectCannedAclProvider cannedAclProvider = new ObjectCannedAclProvider() {\n        public CannedAccessControlList provideObjectCannedAcl(File file) {\n                return CannedAccessControlList.PublicRead;\n        }\n}\n\nMultipleFileUpload multiUpload = transferManager.uploadDirectory(bucketName, keyPrefix, \n              directory, includeSubdirectories, null, null, cannedAclProvider);\n</code></pre>\n\n<p>The require gradle dependency is : <code>compile(\"com.amazonaws:aws-java-sdk:1.11.519\")</code> </p>\n\n<p>Note: Similar question is asked by someone in the AWS sdk-java thread.\n<a href=\"https://github.com/aws/aws-sdk-java/issues/1938\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/issues/1938</a></p>\n"}],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46366514,"answer_count":2,"score":2,"last_activity_date":1678593916,"creation_date":1506009123,"question_id":46348295,"body_markdown":"I am using the Java Amazon S3 SDK to upload files\r\nI was wondering - when using the transferManager to upload a directory - is there a better way to set the Acl to be public-read\r\n\r\nHere is my code\r\n\r\n    public boolean uploadDirectoryToAmazon(String directory, String bucketName, String s3DirectoryKey) {\r\n\t\tboolean result = false;\r\n\r\n        try {\r\n            LOGGER.info(&quot;Uploading a directory to S3&quot;);\r\n\r\n    \t\tBasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretAccessKey); \r\n    \t\tAWSStaticCredentialsProvider awsStaticCredentialsProvider = new AWSStaticCredentialsProvider(credentials);\r\n\r\n            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n            \t\t.withCredentials(awsStaticCredentialsProvider)\r\n            \t\t.withRegion(amazonS3Region)\r\n            \t\t.build();\r\n\r\n            //PutObjectResult putObjectResult = s3Client.putObject(putObjectRequest);\r\n            //http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\r\n            TransferManager transferManager = TransferManagerBuilder.\r\n            \t\tstandard().\r\n            \t\twithS3Client(s3Client)\r\n            \t\t.build();\r\n\r\n                      \r\n\t\t\t            ObjectMetadataProvider objectTaggingProvider = new ObjectMetadataProvider() {\r\n                public void provideObjectMetadata(File file, ObjectMetadata metadata) {\r\n                \tif (BooleanUtils.isTrue(isPublic)) {\r\n\t\t\t\t\t\tmetadata.setHeader(Headers.S3_CANNED_ACL, CannedAccessControlList.PublicRead);\r\n\t\t            }\r\n                }\r\n            };\r\n                      \r\n            File dirToUpload = new File(directory);\r\n            MultipleFileUpload uploadDirectoryResult = transferManager.uploadDirectory(bucketName, s3DirectoryKey, dirToUpload, false, objectMetadataProvider);\r\n \r\n            //Call method to log the progress\r\n            logProgress(uploadDirectoryResult);            \r\n\r\n            result = true;  \r\n            transferManager.shutdownNow();\r\n         } catch (AmazonServiceException ase) {\r\n            LOGGER.error(&quot;Caught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.&quot;);\r\n            LOGGER.error(&quot;Error Message:    &quot; + ase.getMessage());\r\n            LOGGER.error(&quot;HTTP Status Code: &quot; + ase.getStatusCode());\r\n            LOGGER.error(&quot;AWS Error Code:   &quot; + ase.getErrorCode());\r\n            LOGGER.error(&quot;Error Type:       &quot; + ase.getErrorType());\r\n            LOGGER.error(&quot;Request ID:       &quot; + ase.getRequestId());\r\n        } catch (AmazonClientException ace) {\r\n            LOGGER.error(&quot;Caught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.&quot;);\r\n            LOGGER.error(&quot;Error Message: &quot; + ace.getMessage());\r\n        }\r\n\t\treturn result;\r\n\t}\r\n\r\nOther file upload options have easy methods to specify the ACL - just wondering if there is an easier way for the uploadDirectory command\r\n\r\nThanks\r\nDamien","title":"Amazon Java S3 SDK - UploadDirectory","body":"<p>I am using the Java Amazon S3 SDK to upload files\nI was wondering - when using the transferManager to upload a directory - is there a better way to set the Acl to be public-read</p>\n\n<p>Here is my code</p>\n\n<pre><code>public boolean uploadDirectoryToAmazon(String directory, String bucketName, String s3DirectoryKey) {\n    boolean result = false;\n\n    try {\n        LOGGER.info(\"Uploading a directory to S3\");\n\n        BasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretAccessKey); \n        AWSStaticCredentialsProvider awsStaticCredentialsProvider = new AWSStaticCredentialsProvider(credentials);\n\n        AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                .withCredentials(awsStaticCredentialsProvider)\n                .withRegion(amazonS3Region)\n                .build();\n\n        //PutObjectResult putObjectResult = s3Client.putObject(putObjectRequest);\n        //http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\n        TransferManager transferManager = TransferManagerBuilder.\n                standard().\n                withS3Client(s3Client)\n                .build();\n\n\n                    ObjectMetadataProvider objectTaggingProvider = new ObjectMetadataProvider() {\n            public void provideObjectMetadata(File file, ObjectMetadata metadata) {\n                if (BooleanUtils.isTrue(isPublic)) {\n                    metadata.setHeader(Headers.S3_CANNED_ACL, CannedAccessControlList.PublicRead);\n                }\n            }\n        };\n\n        File dirToUpload = new File(directory);\n        MultipleFileUpload uploadDirectoryResult = transferManager.uploadDirectory(bucketName, s3DirectoryKey, dirToUpload, false, objectMetadataProvider);\n\n        //Call method to log the progress\n        logProgress(uploadDirectoryResult);            \n\n        result = true;  \n        transferManager.shutdownNow();\n     } catch (AmazonServiceException ase) {\n        LOGGER.error(\"Caught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.\");\n        LOGGER.error(\"Error Message:    \" + ase.getMessage());\n        LOGGER.error(\"HTTP Status Code: \" + ase.getStatusCode());\n        LOGGER.error(\"AWS Error Code:   \" + ase.getErrorCode());\n        LOGGER.error(\"Error Type:       \" + ase.getErrorType());\n        LOGGER.error(\"Request ID:       \" + ase.getRequestId());\n    } catch (AmazonClientException ace) {\n        LOGGER.error(\"Caught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.\");\n        LOGGER.error(\"Error Message: \" + ace.getMessage());\n    }\n    return result;\n}\n</code></pre>\n\n<p>Other file upload options have easy methods to specify the ACL - just wondering if there is an easier way for the uploadDirectory command</p>\n\n<p>Thanks\nDamien</p>\n"},{"tags":["java","amazon-mws"],"answers":[{"tags":[],"owner":{"account_id":2399146,"reputation":6802,"user_id":2097290,"display_name":"Hazzit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1380458718,"creation_date":1380458718,"answer_id":19078180,"question_id":18833766,"body_markdown":"The way I read this crash report, AMTU got an unexpected result from the MWS servers:\r\n\r\n    MWS responded with an error: Internal Error\r\n\r\nIt seems the error handling in AMTU is not good enough to gracefully handle a HTTP status 500, and there is not a lot you can do about this. You could put a HTTP proxy in between and catch a HTTP 500 on the line before it gets to the AMTU, replacing it with something that AMTU handles more gracefully (e.g. an empty XML result or a time out). It would be preferrable though that Amazon doesn&#39;t send those errors back, after all, a 500 is an error on *their* side of things.\r\n\r\nI seriously doubt the Java version has anything to do with this, but just in case: You can still download JRE6 even though it is end-of-life:\r\n\r\n[Java 6 downloads][1]\r\n\r\nPlease note that the true name of JRE6 is &quot;Java SE runtime environment&quot; and JDK6 is called &quot;Java SE development kit&quot;. At the time of writing, the most current version is &quot;update 45&quot;. You may need to uninstall Java 7 to make sure the AMTU actually uses the version you want it to. Please also note that since AMTU is a 32bit process, you will need the 32bit JRE even if it is run on a 64bit windows.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-javase6-419409.html","title":"AMTU (Amazon Transport Utility) crashing and service not running","body":"<p>The way I read this crash report, AMTU got an unexpected result from the MWS servers:</p>\n\n<pre><code>MWS responded with an error: Internal Error\n</code></pre>\n\n<p>It seems the error handling in AMTU is not good enough to gracefully handle a HTTP status 500, and there is not a lot you can do about this. You could put a HTTP proxy in between and catch a HTTP 500 on the line before it gets to the AMTU, replacing it with something that AMTU handles more gracefully (e.g. an empty XML result or a time out). It would be preferrable though that Amazon doesn't send those errors back, after all, a 500 is an error on <em>their</em> side of things.</p>\n\n<p>I seriously doubt the Java version has anything to do with this, but just in case: You can still download JRE6 even though it is end-of-life:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-javase6-419409.html\" rel=\"nofollow\">Java 6 downloads</a></p>\n\n<p>Please note that the true name of JRE6 is \"Java SE runtime environment\" and JDK6 is called \"Java SE development kit\". At the time of writing, the most current version is \"update 45\". You may need to uninstall Java 7 to make sure the AMTU actually uses the version you want it to. Please also note that since AMTU is a 32bit process, you will need the 32bit JRE even if it is run on a 64bit windows.</p>\n"}],"owner":{"account_id":1342219,"reputation":243,"user_id":1283691,"accept_rate":59,"display_name":"monsey11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19078180,"answer_count":1,"score":0,"last_activity_date":1678593551,"creation_date":1379351996,"question_id":18833766,"body_markdown":"Having a problem running AMTU on a windows 7 Pro Machine.\r\n\r\nIt runs fine when it opens but it crashes after running a few days.\r\n\r\nHere is the Crash Report.\r\n&gt;2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - Unable to retrieve unacknowledged report information - MWS Request ID unknown\r\n2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - MWS responded with an error: Internal Error\r\ncom.amazonaws.mws.MarketplaceWebServiceException: Internal Error\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.processErrors(MarketplaceWebServiceClient.java:2342)\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2231)\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2011)\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.getReportList(MarketplaceWebServiceClient.java:1206)\r\n\tat com.amazon.merchants.services.RetrieverService.processReportCheck(RetrieverService.java:94)\r\n\tat com.amazon.merchants.services.RetrieverService.run(RetrieverService.java:46)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRunAndReset(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.runAndReset(Unknown Source)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(Unknown Source)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(Unknown Source)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nI also cannot start the Windows Service called AMTU. Get the following Error:\r\n&gt;The AMTU service on local computer has started and then stopped\r\n\r\n\r\nI am suspecting its a Java version issue.\r\n\r\nIn the AMTU documentation it says &quot;requires Java version 1.6.0 or later (listed as JDK/JRE - 6)&quot; and links to http://www.oracle.com/technetwork/java/archive-139210.html. The link has many download links, but nothing listed &quot;JDK/JRE - 6&quot;.\r\n\r\n\r\nAMTU documentation: https://d28hcfptedr5ia.cloudfront.net/ug/AMTU_2.2_UserGuide.pdf \r\n\r\nAny Ideas?\r\n\r\nThanks in advance.","title":"AMTU (Amazon Transport Utility) crashing and service not running","body":"<p>Having a problem running AMTU on a windows 7 Pro Machine.</p>\n\n<p>It runs fine when it opens but it crashes after running a few days.</p>\n\n<p>Here is the Crash Report.</p>\n\n<blockquote>\n  <p>2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - Unable to retrieve unacknowledged report information - MWS Request ID unknown\n  2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - MWS responded with an error: Internal Error\n  com.amazonaws.mws.MarketplaceWebServiceException: Internal Error\n      at com.amazonaws.mws.MarketplaceWebServiceClient.processErrors(MarketplaceWebServiceClient.java:2342)\n      at com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2231)\n      at com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2011)\n      at com.amazonaws.mws.MarketplaceWebServiceClient.getReportList(MarketplaceWebServiceClient.java:1206)\n      at com.amazon.merchants.services.RetrieverService.processReportCheck(RetrieverService.java:94)\n      at com.amazon.merchants.services.RetrieverService.run(RetrieverService.java:46)\n      at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n      at java.util.concurrent.FutureTask$Sync.innerRunAndReset(Unknown Source)\n      at java.util.concurrent.FutureTask.runAndReset(Unknown Source)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(Unknown Source)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(Unknown Source)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n      at java.lang.Thread.run(Unknown Source)</p>\n</blockquote>\n\n<p>I also cannot start the Windows Service called AMTU. Get the following Error:</p>\n\n<blockquote>\n  <p>The AMTU service on local computer has started and then stopped</p>\n</blockquote>\n\n<p>I am suspecting its a Java version issue.</p>\n\n<p>In the AMTU documentation it says \"requires Java version 1.6.0 or later (listed as JDK/JRE - 6)\" and links to <a href=\"http://www.oracle.com/technetwork/java/archive-139210.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/archive-139210.html</a>. The link has many download links, but nothing listed \"JDK/JRE - 6\".</p>\n\n<p>AMTU documentation: <a href=\"https://d28hcfptedr5ia.cloudfront.net/ug/AMTU_2.2_UserGuide.pdf\" rel=\"nofollow\">https://d28hcfptedr5ia.cloudfront.net/ug/AMTU_2.2_UserGuide.pdf</a> </p>\n\n<p>Any Ideas?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","amazon-mws"],"answers":[{"tags":[],"owner":{"account_id":4161291,"reputation":587,"user_id":3411338,"display_name":"iMakeWebsites"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523476805,"creation_date":1523476805,"answer_id":49783557,"question_id":49770017,"body_markdown":"74259017632 is your requestID.\r\n\r\nYou need to send your reportID.\r\n\r\nSo there are 3 steps:\r\n\r\n 1. GetReportRequestList for _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_\r\n 2. GetReportList for 74259017632 (this will give you the reportid)\r\n 3. GetReport for the reportID\r\n\r\n","title":"InputDataError Amazon MSW Java","body":"<p>74259017632 is your requestID.</p>\n\n<p>You need to send your reportID.</p>\n\n<p>So there are 3 steps:</p>\n\n<ol>\n<li>GetReportRequestList for _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_</li>\n<li>GetReportList for 74259017632 (this will give you the reportid)</li>\n<li>GetReport for the reportID</li>\n</ol>\n"}],"owner":{"account_id":13148635,"reputation":153,"user_id":9497956,"display_name":"Mara M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49783557,"answer_count":1,"score":1,"last_activity_date":1678593540,"creation_date":1523434842,"question_id":49770017,"body_markdown":"I&#39;m trying to download a report with Amazon MWS Java samples. I made the request report and then I made the get report request list. The answer is that it&#39;s _DONE_ but when I&#39;m trying to call the getReport I&#39;m getting this error:\r\nCaught Exception: InputDataError\r\nResponse Status Code: 400\r\nError Code: InputDataError\r\nError Type: Sender\r\nThe keys and IDs are the same as in other requests that work. I&#39;m getting the Report ID from this answer which I receive from get report request list:\r\n\r\n    GetReportRequestListResponse\r\n        GetReportRequestListResult\r\n            HasNext\r\n                false\r\n            ReportRequestInfo\r\n                ReportRequestId\r\n                    74259017632\r\n                ReportType\r\n                    _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_\r\n                StartDate\r\n                    2018-01-31T22:00:00Z\r\n                EndDate\r\n                    2018-02-01T22:00:00Z\r\n                SubmittedDate\r\n                    2018-04-11T08:10:44Z\r\n                CompletedDate\r\n                    2018-04-11T08:10:54Z\r\n                ReportProcessingStatus\r\n                    _DONE_\r\n        ResponseMetadata\r\n            RequestId\r\n                9d7668b4-8568-4522-aefc-1bc72f33e20d\r\nAnd this is how I set my report ID:\r\n\r\n    GetReportRequest request = new GetReportRequest();\r\n    request.setMerchant( merchantId );\r\n    request.setReportId( &quot;74259017632&quot; );","title":"InputDataError Amazon MSW Java","body":"<p>I'm trying to download a report with Amazon MWS Java samples. I made the request report and then I made the get report request list. The answer is that it's <em>DONE</em> but when I'm trying to call the getReport I'm getting this error:\nCaught Exception: InputDataError\nResponse Status Code: 400\nError Code: InputDataError\nError Type: Sender\nThe keys and IDs are the same as in other requests that work. I'm getting the Report ID from this answer which I receive from get report request list:</p>\n\n<pre><code>GetReportRequestListResponse\n    GetReportRequestListResult\n        HasNext\n            false\n        ReportRequestInfo\n            ReportRequestId\n                74259017632\n            ReportType\n                _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_\n            StartDate\n                2018-01-31T22:00:00Z\n            EndDate\n                2018-02-01T22:00:00Z\n            SubmittedDate\n                2018-04-11T08:10:44Z\n            CompletedDate\n                2018-04-11T08:10:54Z\n            ReportProcessingStatus\n                _DONE_\n    ResponseMetadata\n        RequestId\n            9d7668b4-8568-4522-aefc-1bc72f33e20d\n</code></pre>\n\n<p>And this is how I set my report ID:</p>\n\n<pre><code>GetReportRequest request = new GetReportRequest();\nrequest.setMerchant( merchantId );\nrequest.setReportId( \"74259017632\" );\n</code></pre>\n"},{"tags":["java","linux","anaconda"],"answers":[{"tags":[],"owner":{"account_id":11341910,"reputation":3,"user_id":8315680,"display_name":"SunScript"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675005723,"creation_date":1675005723,"answer_id":75276042,"question_id":75153495,"body_markdown":"I solved this issue and I&#39;m posting in case others encounter the same. This seemed to be due to some conflict between openjdk and java-jdk conda packages. I solved it by: \r\n\r\n    conda install --force-reinstall java-jdk","title":"java: symbol lookup error: java: undefined symbol: JLI_StringDup in conda environment","body":"<p>I solved this issue and I'm posting in case others encounter the same. This seemed to be due to some conflict between openjdk and java-jdk conda packages. I solved it by:</p>\n<pre><code>conda install --force-reinstall java-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19926620,"reputation":11,"user_id":14601171,"display_name":"George Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678592922,"creation_date":1678592922,"answer_id":75710958,"question_id":75153495,"body_markdown":"I had the same problem, and I solved it by simply removing java-jdk using:\r\n```\r\nconda remove java-jdk\r\n```","title":"java: symbol lookup error: java: undefined symbol: JLI_StringDup in conda environment","body":"<p>I had the same problem, and I solved it by simply removing java-jdk using:</p>\n<pre><code>conda remove java-jdk\n</code></pre>\n"}],"owner":{"account_id":11341910,"reputation":3,"user_id":8315680,"display_name":"SunScript"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75276042,"answer_count":2,"score":0,"last_activity_date":1678592922,"creation_date":1674000518,"question_id":75153495,"body_markdown":"Running anything with java (even just the java command on its own) yields the error:\r\n\r\n`java: symbol lookup error: java: undefined symbol: JLI_StringDup`\r\n\r\nI am in a conda environment with java-jdk and openjdk installed.\r\nOS is Red Hat Enterprise Linux Server, version 7.9.\r\n\r\n\r\nI believe that this JLI_StringDup might have something to do with libjli, so I tried adding paths to LIBRARY_PATH, LD_LIBRARY_PATH, JAVA_LD_LIBRARY_PATH and even PATH (cause why not) to no avail:\r\n\r\n```\r\nPATH=$PATH:&lt;conda-env&gt;/lib/jvm/lib\r\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\r\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\r\n\r\nPATH=$PATH:&lt;conda-env&gt;/jre/lib\r\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\r\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\r\n\r\nPATH=$PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\n\r\njava\r\n```\r\n\r\nWhere &lt;conda-env&gt; is the path to my conda environment, and it returns:\r\n\r\n`java: symbol lookup error: java: undefined symbol: JLI_StringDup`\r\n\r\nDoes anyone know how to solve this?","title":"java: symbol lookup error: java: undefined symbol: JLI_StringDup in conda environment","body":"<p>Running anything with java (even just the java command on its own) yields the error:</p>\n<p><code>java: symbol lookup error: java: undefined symbol: JLI_StringDup</code></p>\n<p>I am in a conda environment with java-jdk and openjdk installed.\nOS is Red Hat Enterprise Linux Server, version 7.9.</p>\n<p>I believe that this JLI_StringDup might have something to do with libjli, so I tried adding paths to LIBRARY_PATH, LD_LIBRARY_PATH, JAVA_LD_LIBRARY_PATH and even PATH (cause why not) to no avail:</p>\n<pre><code>PATH=$PATH:&lt;conda-env&gt;/lib/jvm/lib\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\n\nPATH=$PATH:&lt;conda-env&gt;/jre/lib\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\n\nPATH=$PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\n\njava\n</code></pre>\n<p>Where  is the path to my conda environment, and it returns:</p>\n<p><code>java: symbol lookup error: java: undefined symbol: JLI_StringDup</code></p>\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["java","android","xml","simple-framework","amazon-advertising-api"],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1313357364,"creation_date":1313357364,"answer_id":7059855,"question_id":7059565,"body_markdown":"N.B, this is just from reading the docs (the only question is if it should be name=&quot;Author&quot; or entry=&quot;Author&quot;):\r\n\r\n    @Element\r\n    public class ItemAttributes {\r\n        @Element(inline=true, type=String.class, name=&quot;Author&quot;)\r\n        public List&lt;String&gt; authors;\r\n    ...\r\n    }","title":"Multiple elements with the same name with SimpleXML and Java","body":"<p>N.B, this is just from reading the docs (the only question is if it should be name=\"Author\" or entry=\"Author\"):</p>\n\n<pre><code>@Element\npublic class ItemAttributes {\n    @Element(inline=true, type=String.class, name=\"Author\")\n    public List&lt;String&gt; authors;\n...\n}\n</code></pre>\n"}],"owner":{"account_id":270246,"reputation":868,"user_id":560089,"accept_rate":100,"display_name":"LouieGeetoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2022,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7059855,"answer_count":1,"score":2,"last_activity_date":1678592772,"creation_date":1313354225,"question_id":7059565,"body_markdown":"I&#39;m trying to use SimpleXML to parse an XML document (an `ItemLookupResponse` for a book from the [Amazon Product Advertising API][1]) which contains the following element:\r\n\r\n    &lt;ItemAttributes&gt;\r\n      &lt;Author&gt;Shane Conder&lt;/Author&gt;\r\n      &lt;Author&gt;Lauren Darcey&lt;/Author&gt;\r\n      &lt;Manufacturer&gt;Pearson Educacion&lt;/Manufacturer&gt;\r\n      &lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\r\n      &lt;Title&gt;Android Wireless Application Development: Barnes &amp; Noble Special Edition&lt;/Title&gt;\r\n    &lt;/ItemAttributes&gt;\r\n\r\nMy problem is that I don&#39;t know how to deal with the multiple possible `Author` elements.\r\n\r\nHere&#39;s what I have right now for the corresponding POJO (Plain Old Java Object), keeping in mind that it&#39;s not handling the case of multiple `Author`s:\r\n\r\n    @Element\r\n    public class ItemAttributes {\r\n        @Element\r\n        public String Author;\r\n        \r\n        @Element\r\n        public String Manufacturer;\r\n        \r\n        @Element\r\n        public String Title;\r\n    }\r\n\r\n(I don&#39;t care about the `ProductGroup`, so it&#39;s not in the class -- I&#39;m just setting SimpleXML&#39;s `strict` mode to `off` to allow for that.)\r\n\r\nI couldn&#39;t find an example in [the documentation][2] that corresponded with such a case. Using an `ElementList` with `(inline=true)` seemed along the right lines, but I didn&#39;t see how to do it for String (as opposed to a separate Author class, which I have no need for and don&#39;t see how it would even work).\r\n\r\nHere&#39;s a similar question and answer, but for PHP: [php - simpleXML how to access a specific element with the same name as others?][3] I don&#39;t know what the Java equivalent would be to the accepted answer.\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/DG/\r\n  [2]: http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php\r\n  [3]: https://stackoverflow.com/questions/3652683/php-simplexml-how-to-access-a-specific-element-with-the-same-name-as-others","title":"Multiple elements with the same name with SimpleXML and Java","body":"<p>I'm trying to use SimpleXML to parse an XML document (an <code>ItemLookupResponse</code> for a book from the <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/DG/\" rel=\"nofollow noreferrer\">Amazon Product Advertising API</a>) which contains the following element:</p>\n\n<pre><code>&lt;ItemAttributes&gt;\n  &lt;Author&gt;Shane Conder&lt;/Author&gt;\n  &lt;Author&gt;Lauren Darcey&lt;/Author&gt;\n  &lt;Manufacturer&gt;Pearson Educacion&lt;/Manufacturer&gt;\n  &lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\n  &lt;Title&gt;Android Wireless Application Development: Barnes &amp; Noble Special Edition&lt;/Title&gt;\n&lt;/ItemAttributes&gt;\n</code></pre>\n\n<p>My problem is that I don't know how to deal with the multiple possible <code>Author</code> elements.</p>\n\n<p>Here's what I have right now for the corresponding POJO (Plain Old Java Object), keeping in mind that it's not handling the case of multiple <code>Author</code>s:</p>\n\n<pre><code>@Element\npublic class ItemAttributes {\n    @Element\n    public String Author;\n\n    @Element\n    public String Manufacturer;\n\n    @Element\n    public String Title;\n}\n</code></pre>\n\n<p>(I don't care about the <code>ProductGroup</code>, so it's not in the class -- I'm just setting SimpleXML's <code>strict</code> mode to <code>off</code> to allow for that.)</p>\n\n<p>I couldn't find an example in <a href=\"http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php\" rel=\"nofollow noreferrer\">the documentation</a> that corresponded with such a case. Using an <code>ElementList</code> with <code>(inline=true)</code> seemed along the right lines, but I didn't see how to do it for String (as opposed to a separate Author class, which I have no need for and don't see how it would even work).</p>\n\n<p>Here's a similar question and answer, but for PHP: <a href=\"https://stackoverflow.com/questions/3652683/php-simplexml-how-to-access-a-specific-element-with-the-same-name-as-others\">php - simpleXML how to access a specific element with the same name as others?</a> I don't know what the Java equivalent would be to the accepted answer.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","animation"],"answers":[{"tags":[],"owner":{"account_id":27995883,"reputation":11,"user_id":21381135,"display_name":"OrlanDroyd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678592747,"creation_date":1678592747,"answer_id":75710951,"question_id":75710341,"body_markdown":"The problem is in the logic of the `back()` function, which by calling `startActivity()` again causes the first activity to enter the `onCreate()` method.\r\nThe solution would be to leave it alone in a `finish()` so that the lifecycle enters the `onRestart()` and `onResume()` method directly.\r\n\r\n      public void back(){\r\n        // perform any necessary tasks before going back\r\n        finish(); // close the current activity\r\n      }","title":"How to make animation only run when open or restart app in adnroid studio","body":"<p>The problem is in the logic of the <code>back()</code> function, which by calling <code>startActivity()</code> again causes the first activity to enter the <code>onCreate()</code> method.\nThe solution would be to leave it alone in a <code>finish()</code> so that the lifecycle enters the <code>onRestart()</code> and <code>onResume()</code> method directly.</p>\n<pre><code>  public void back(){\n    // perform any necessary tasks before going back\n    finish(); // close the current activity\n  }\n</code></pre>\n"}],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678592747,"creation_date":1678579969,"question_id":75710341,"body_markdown":"I have a big program for the end of year project, in which in the welcome interface of the application I put in a few animations, bundle it into an animation() function and put it in onCreate. The problem here is that it won&#39;t stop when I move from the 2nd Activity to the first with Intent, it keeps running non-stop even though the Activity lifecycle is onCreate called only once. So the question I want to ask is how can we make animation() only run when the app opens or restarts.\r\n\r\nHere is the simple example of code that i just create to try fix this problem.\r\n\r\nActivity 1\r\n```\r\n    package com.example.stopanimation;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.AnimationUtils;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    TextView view;\r\n    Button button;\r\n    boolean isFirstTime = true;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        view = findViewById(R.id.text);\r\n        button = findViewById(R.id.button);\r\n\r\n        if (isFirstTime) {\r\n            animation();\r\n            isFirstTime = false;\r\n        }\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void animation(){\r\n        Animation animation = AnimationUtils.loadAnimation(this,R.anim.alpha);\r\n        Animation animatio = AnimationUtils.loadAnimation(this,R.anim.alpha);\r\n        view.startAnimation(animation);\r\n        button.startAnimation(animatio);\r\n    }\r\n    }\r\n\r\n```\r\nActivity 2\r\n```\r\n    package com.example.stopanimation;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n\r\n    public class MainActivity2 extends AppCompatActivity {\r\n    Button button;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        button = findViewById(R.id.back);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                back();\r\n            }\r\n        });\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(0, 0);\r\n    }\r\n    public void back(){\r\n        // perform any necessary tasks before going back\r\n        finish(); // close the current activity\r\n        overridePendingTransition(0, 0);\r\n        startActivity(new Intent(MainActivity2.this,MainActivity.class));\r\n    }\r\n\r\n    }\r\n```\r\nI did try write overridePendingTransition(0, 0); on onPaused, onResume but i did&#39;nt seem to \r\n","title":"How to make animation only run when open or restart app in adnroid studio","body":"<p>I have a big program for the end of year project, in which in the welcome interface of the application I put in a few animations, bundle it into an animation() function and put it in onCreate. The problem here is that it won't stop when I move from the 2nd Activity to the first with Intent, it keeps running non-stop even though the Activity lifecycle is onCreate called only once. So the question I want to ask is how can we make animation() only run when the app opens or restarts.</p>\n<p>Here is the simple example of code that i just create to try fix this problem.</p>\n<p>Activity 1</p>\n<pre><code>    package com.example.stopanimation;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.view.animation.Animation;\n    import android.view.animation.AnimationUtils;\n    import android.widget.Button;\n    import android.widget.TextView;\n\n    public class MainActivity extends AppCompatActivity {\n    TextView view;\n    Button button;\n    boolean isFirstTime = true;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        view = findViewById(R.id.text);\n        button = findViewById(R.id.button);\n\n        if (isFirstTime) {\n            animation();\n            isFirstTime = false;\n        }\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n    public void animation(){\n        Animation animation = AnimationUtils.loadAnimation(this,R.anim.alpha);\n        Animation animatio = AnimationUtils.loadAnimation(this,R.anim.alpha);\n        view.startAnimation(animation);\n        button.startAnimation(animatio);\n    }\n    }\n\n</code></pre>\n<p>Activity 2</p>\n<pre><code>    package com.example.stopanimation;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n\n    public class MainActivity2 extends AppCompatActivity {\n    Button button;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        button = findViewById(R.id.back);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                back();\n            }\n        });\n    }\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        overridePendingTransition(0, 0);\n    }\n    public void back(){\n        // perform any necessary tasks before going back\n        finish(); // close the current activity\n        overridePendingTransition(0, 0);\n        startActivity(new Intent(MainActivity2.this,MainActivity.class));\n    }\n\n    }\n</code></pre>\n<p>I did try write overridePendingTransition(0, 0); on onPaused, onResume but i did'nt seem to</p>\n"},{"tags":["java","xml","amazon-advertising-api"],"answers":[{"tags":[],"owner":{"account_id":1936670,"reputation":2894,"user_id":1743971,"display_name":"Yeshodhan Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494970244,"creation_date":1494970244,"answer_id":44011921,"question_id":44006582,"body_markdown":"SignedRequestHelper is a class available in one of the code samples from AWS here:\r\n\r\nhttp://docs.aws.amazon.com/AWSECommerceService/latest/DG/AuthJavaSampleSig2.html\r\n\r\nYou can copy/paste the code in your project to make it run and work.","title":"Amazon Advertising API: Cannot locate SignedRequestHelper class","body":"<p>SignedRequestHelper is a class available in one of the code samples from AWS here:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/AuthJavaSampleSig2.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AWSECommerceService/latest/DG/AuthJavaSampleSig2.html</a></p>\n\n<p>You can copy/paste the code in your project to make it run and work.</p>\n"}],"owner":{"account_id":10911612,"reputation":1,"user_id":8020837,"display_name":"Max01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678592557,"creation_date":1494951205,"question_id":44006582,"body_markdown":"I have got code from amazon scratchpad and got the package required. The SignedRequestHelper class is not in the package and i am unable to run the program. I am attempting to get the price of the item using the amazon asin number.\r\n\r\n    package com.amazon.advertising.api.sample;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    \r\n    /*\r\n     * This class shows how to make a simple authenticated call to the\r\n     * Amazon Product Advertising API.\r\n     *\r\n     * See the README.html that came with this sample for instructions on\r\n     * configuring and running the sample.\r\n     */\r\n    public class lookup {\r\n    \r\n        /*\r\n         * Your AWS Access Key ID, as taken from the AWS Your Account page.\r\n         */\r\n        private static final String AWS_ACCESS_KEY_ID = &quot;XXXXXX&quot;;\r\n    \r\n        /*\r\n         * Your AWS Secret Key corresponding to the above ID, as taken from the AWS\r\n         * Your Account page.\r\n         */\r\n        private static final String AWS_SECRET_KEY = &quot;XXXXXXX&quot;;\r\n    \r\n        /*\r\n         * Use the end-point according to the region you are interested in.\r\n         */\r\n        private static final String ENDPOINT = &quot;webservices.amazon.com&quot;;\r\n        \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            /*\r\n             * Set up the signed requests helper.\r\n             */\r\n            SignedRequestsHelper helper;\r\n    \r\n            try {\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return;\r\n            }\r\n    \r\n            String requestUrl = null;\r\n    \r\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    \r\n            params.put(&quot;Service&quot;, &quot;AWSECommerceService&quot;);\r\n            params.put(&quot;Operation&quot;, &quot;ItemLookup&quot;);\r\n            params.put(&quot;AWSAccessKeyId&quot;, &quot;XXXXXX&quot;);\r\n            params.put(&quot;AssociateTag&quot;, &quot;XXXXX&quot;);\r\n            params.put(&quot;ItemId&quot;, &quot;B01H57GXUQ&quot;);\r\n            params.put(&quot;IdType&quot;, &quot;ASIN&quot;);\r\n            params.put(&quot;ResponseGroup&quot;, &quot;Images,ItemAttributes,Offers&quot;);\r\n    \r\n            requestUrl = helper.sign(params);\r\n    \r\n            System.out.println(&quot;Signed URL: \\&quot;&quot; + requestUrl + &quot;\\&quot;&quot;);\r\n        }\r\n    }\r\n\r\nHow would i be able to get the signedrequestshelper method or how would i be able to change the code?\r\n","title":"Amazon Advertising API: Cannot locate SignedRequestHelper class","body":"<p>I have got code from amazon scratchpad and got the package required. The SignedRequestHelper class is not in the package and i am unable to run the program. I am attempting to get the price of the item using the amazon asin number.</p>\n\n<pre><code>package com.amazon.advertising.api.sample;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\n\n/*\n * This class shows how to make a simple authenticated call to the\n * Amazon Product Advertising API.\n *\n * See the README.html that came with this sample for instructions on\n * configuring and running the sample.\n */\npublic class lookup {\n\n    /*\n     * Your AWS Access Key ID, as taken from the AWS Your Account page.\n     */\n    private static final String AWS_ACCESS_KEY_ID = \"XXXXXX\";\n\n    /*\n     * Your AWS Secret Key corresponding to the above ID, as taken from the AWS\n     * Your Account page.\n     */\n    private static final String AWS_SECRET_KEY = \"XXXXXXX\";\n\n    /*\n     * Use the end-point according to the region you are interested in.\n     */\n    private static final String ENDPOINT = \"webservices.amazon.com\";\n\n\n    public static void main(String[] args) {\n\n        /*\n         * Set up the signed requests helper.\n         */\n        SignedRequestsHelper helper;\n\n        try {\n        } catch (Exception e) {\n            e.printStackTrace();\n            return;\n        }\n\n        String requestUrl = null;\n\n        Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\n        params.put(\"Service\", \"AWSECommerceService\");\n        params.put(\"Operation\", \"ItemLookup\");\n        params.put(\"AWSAccessKeyId\", \"XXXXXX\");\n        params.put(\"AssociateTag\", \"XXXXX\");\n        params.put(\"ItemId\", \"B01H57GXUQ\");\n        params.put(\"IdType\", \"ASIN\");\n        params.put(\"ResponseGroup\", \"Images,ItemAttributes,Offers\");\n\n        requestUrl = helper.sign(params);\n\n        System.out.println(\"Signed URL: \\\"\" + requestUrl + \"\\\"\");\n    }\n}\n</code></pre>\n\n<p>How would i be able to get the signedrequestshelper method or how would i be able to change the code?</p>\n"},{"tags":["java","api","web-services","amazon-advertising-api"],"answers":[{"tags":[],"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1309089158,"creation_date":1309089158,"answer_id":6483733,"question_id":6483665,"body_markdown":"Sounds like you wanted to use the [Amazon Product Advertising API][1].\r\n\r\n\r\n  [1]: https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html","title":"Google goggles with Intent OR Amazon API?","body":"<p>Sounds like you wanted to use the <a href=\"https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html\" rel=\"nofollow\">Amazon Product Advertising API</a>.</p>\n"},{"tags":[],"owner":{"account_id":13062,"reputation":21722,"user_id":26039,"accept_rate":82,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309096437,"creation_date":1309096437,"answer_id":6484382,"question_id":6483665,"body_markdown":"If you&#39;re looking for rather &quot;raw&quot; information about certain books (no image covers, user reviews etc.), you can use [SRU/SRW][1] to search catalogs like [The Library Of Congress][2]. Amazon and Google are definitively more friendly to users, but professional systems would probably prefer authorities from their own field, like LOC. And, FWIW, SRU/W is a standard, and not a commercial service.\r\n\r\nThe use of SRU/SRW (pretty much the same thing, one uses Url, the other Web-service) requires some investment, but if you&#39;d like to execute the same queries over and over again, it would not require thorough learning of the complexities of the query language and the protocol.\r\n\r\nYou can find some reference implementations [here][3].\r\n\r\n\r\n  [1]: http://www.loc.gov/standards/sru/\r\n  [2]: http://catalog.loc.gov/\r\n  [3]: http://www.loc.gov/standards/sru/resources/implementations.html","title":"Google goggles with Intent OR Amazon API?","body":"<p>If you're looking for rather \"raw\" information about certain books (no image covers, user reviews etc.), you can use <a href=\"http://www.loc.gov/standards/sru/\" rel=\"nofollow\">SRU/SRW</a> to search catalogs like <a href=\"http://catalog.loc.gov/\" rel=\"nofollow\">The Library Of Congress</a>. Amazon and Google are definitively more friendly to users, but professional systems would probably prefer authorities from their own field, like LOC. And, FWIW, SRU/W is a standard, and not a commercial service.</p>\n\n<p>The use of SRU/SRW (pretty much the same thing, one uses Url, the other Web-service) requires some investment, but if you'd like to execute the same queries over and over again, it would not require thorough learning of the complexities of the query language and the protocol.</p>\n\n<p>You can find some reference implementations <a href=\"http://www.loc.gov/standards/sru/resources/implementations.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2515966,"reputation":81,"user_id":2187409,"display_name":"TMDQ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363710516,"creation_date":1363710516,"answer_id":15505094,"question_id":6483665,"body_markdown":"kooaba http://www.kooaba.com has what you need. Image recognition and a database of book covers you can use.","title":"Google goggles with Intent OR Amazon API?","body":"<p>kooaba <a href=\"http://www.kooaba.com\" rel=\"nofollow\">http://www.kooaba.com</a> has what you need. Image recognition and a database of book covers you can use.</p>\n"}],"owner":{"account_id":392377,"reputation":11332,"user_id":753603,"accept_rate":96,"display_name":"TeaCupApp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6483733,"answer_count":3,"score":2,"last_activity_date":1678592500,"creation_date":1309088441,"question_id":6483665,"body_markdown":"I am planning to make an application, In which I need to get information regarding a book. Method which I am having in my mind is to capture an image and let &quot;Google goggles&quot; get information for me. Else I overheard from somewhere that I can use amazon API and send a request with ISBN number to get information for a(any) book.\r\n\r\nI try hard to look at every where with no luck! I am planning to develop in JAVA.\r\n\r\n 1. Where could I find Amazon API(Web service) to do these things?\r\n\r\n\r\n","title":"Google goggles with Intent OR Amazon API?","body":"<p>I am planning to make an application, In which I need to get information regarding a book. Method which I am having in my mind is to capture an image and let \"Google goggles\" get information for me. Else I overheard from somewhere that I can use amazon API and send a request with ISBN number to get information for a(any) book.</p>\n\n<p>I try hard to look at every where with no luck! I am planning to develop in JAVA.</p>\n\n<ol>\n<li>Where could I find Amazon API(Web service) to do these things?</li>\n</ol>\n"},{"tags":["java","rest","jakarta-ee","jaxb","amazon-product-api"],"answers":[{"tags":[],"owner":{"account_id":1520228,"reputation":537,"user_id":3219010,"display_name":"venkat balabhadra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375547667,"creation_date":1375547667,"answer_id":18034994,"question_id":18034781,"body_markdown":"I hope the top level class to covert the response to object should be &quot;ItemSearchResponse&quot;, try creating a class with member variable &quot;Items&quot; which inturn will have another member object array &quot;AmazonItem&quot;","title":"REST xml answer - Jaxb - Amazon product API","body":"<p>I hope the top level class to covert the response to object should be \"ItemSearchResponse\", try creating a class with member variable \"Items\" which inturn will have another member object array \"AmazonItem\"</p>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1375547673,"creation_date":1375547673,"answer_id":18034995,"question_id":18034781,"body_markdown":"It appears that the XML document is namespace qualified.  You can use the package level `@XmlSchema` location annotation to specify the namespace qualification for the entire document.  Package level annotations go on a special call called `package-info` that looks like the following:\r\n\r\n**package-info**\r\n\r\n    @XmlSchema(\r\n        namespace = &quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;,\r\n        elementFormDefault = XmlNsForm.QUALIFIED)\r\n    package com.your.pkg;\r\n     \r\n    import javax.xml.bind.annotation.XmlNsForm;\r\n    import javax.xml.bind.annotation.XmlSchema;\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2010/08/jaxb-namespaces.html","title":"REST xml answer - Jaxb - Amazon product API","body":"<p>It appears that the XML document is namespace qualified.  You can use the package level <code>@XmlSchema</code> location annotation to specify the namespace qualification for the entire document.  Package level annotations go on a special call called <code>package-info</code> that looks like the following:</p>\n\n<p><strong>package-info</strong></p>\n\n<pre><code>@XmlSchema(\n    namespace = \"http://webservices.amazon.com/AWSECommerceService/2011-08-01\",\n    elementFormDefault = XmlNsForm.QUALIFIED)\npackage com.your.pkg;\n\nimport javax.xml.bind.annotation.XmlNsForm;\nimport javax.xml.bind.annotation.XmlSchema;\n</code></pre>\n\n<p><strong>For More Information</strong></p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2010/08/jaxb-namespaces.html\" rel=\"nofollow\">http://blog.bdoughan.com/2010/08/jaxb-namespaces.html</a></li>\n</ul>\n"}],"owner":{"account_id":2826657,"reputation":582,"user_id":2429178,"accept_rate":74,"display_name":"ogdabou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18034995,"answer_count":2,"score":1,"last_activity_date":1678592031,"creation_date":1375546382,"question_id":18034781,"body_markdown":"I&#39;m currently (trying) to work with the amazon product API to search thourgh items.\r\nI have the response in XML, but i have an exception in jaxb, maybe i missed something..\r\n\r\nHere is the XML :\r\n\r\n[XML response from Amazon][1]\r\n\r\n\r\n\r\n\r\nI want to extract items informations, but i&#39;m getting some trouble.\r\n\r\nItem class:\r\n\r\n    @XmlRootElement(name=&quot;ItemSearchResponse&quot;)\r\n    public class AmazonItem\r\n    {\r\n        private String name;\r\n        private String asin;\r\n        private String price;\r\n        \r\n        public AmazonItem()\r\n        {\r\n            \r\n        }\r\n        \r\n        @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n        @XmlElement(name=&quot;Title&quot;)\r\n        public String getName()\r\n        {\r\n            return name;\r\n        }\r\n        public void setName(String name)\r\n        {\r\n            this.name = name;\r\n        }\r\n        \r\n        @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n        @XmlElement(name=&quot;ASIN&quot;)\r\n        public String getAsin()\r\n        {\r\n            return asin;\r\n        }\r\n        public void setAsin(String asin)\r\n        {\r\n            this.asin = asin;\r\n        }\r\n        \r\n        @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n        @XmlElement(name=&quot;FormattedPrice&quot;)\r\n        public String getPrice()\r\n        {\r\n            return price;\r\n        }\r\n        public void setPrice(String price)\r\n        {\r\n            this.price = price;\r\n        }\r\n    }\r\n\r\n\r\nmy builder :\r\n\r\n    public class AmazonItemBuilder\r\n    {\r\n        public AmazonItemBuilder()\r\n        {\r\n            \r\n        }\r\n        \r\n        public List&lt;AmazonItem&gt; build(InputStream response)\r\n        {\r\n            try\r\n            {\r\n                JAXBContext context = JAXBContext.newInstance(AmazonItem.class);\r\n                Unmarshaller unMarshaller = context.createUnmarshaller();\r\n                AmazonItem newItem = (AmazonItem) unMarshaller.unmarshal(response);\r\n                System.out.println(newItem);\r\n            }\r\n            catch (JAXBException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\nthe &quot;response&quot; come from a URL response.openStream();\r\n\r\n\r\nOK i forgot the error -_____-\r\njavax.xml.bind.UnmarshalException: \r\nunexpected element (uri:&quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;, local:&quot;ItemSearchResponse&quot;). Expected elements are &lt;{}ItemSearchResponse&gt;\r\n\r\n\r\nThank you !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xlxbb.png","title":"REST xml answer - Jaxb - Amazon product API","body":"<p>I'm currently (trying) to work with the amazon product API to search thourgh items.\nI have the response in XML, but i have an exception in jaxb, maybe i missed something..</p>\n\n<p>Here is the XML :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xlxbb.png\" rel=\"nofollow\">XML response from Amazon</a></p>\n\n<p>I want to extract items informations, but i'm getting some trouble.</p>\n\n<p>Item class:</p>\n\n<pre><code>@XmlRootElement(name=\"ItemSearchResponse\")\npublic class AmazonItem\n{\n    private String name;\n    private String asin;\n    private String price;\n\n    public AmazonItem()\n    {\n\n    }\n\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlElement(name=\"Title\")\n    public String getName()\n    {\n        return name;\n    }\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlElement(name=\"ASIN\")\n    public String getAsin()\n    {\n        return asin;\n    }\n    public void setAsin(String asin)\n    {\n        this.asin = asin;\n    }\n\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlElement(name=\"FormattedPrice\")\n    public String getPrice()\n    {\n        return price;\n    }\n    public void setPrice(String price)\n    {\n        this.price = price;\n    }\n}\n</code></pre>\n\n<p>my builder :</p>\n\n<pre><code>public class AmazonItemBuilder\n{\n    public AmazonItemBuilder()\n    {\n\n    }\n\n    public List&lt;AmazonItem&gt; build(InputStream response)\n    {\n        try\n        {\n            JAXBContext context = JAXBContext.newInstance(AmazonItem.class);\n            Unmarshaller unMarshaller = context.createUnmarshaller();\n            AmazonItem newItem = (AmazonItem) unMarshaller.unmarshal(response);\n            System.out.println(newItem);\n        }\n        catch (JAXBException e)\n        {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>the \"response\" come from a URL response.openStream();</p>\n\n<p>OK i forgot the error -<strong>_</strong>-\njavax.xml.bind.UnmarshalException: \nunexpected element (uri:\"<a href=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\" rel=\"nofollow\">http://webservices.amazon.com/AWSECommerceService/2011-08-01</a>\", local:\"ItemSearchResponse\"). Expected elements are &lt;{}ItemSearchResponse></p>\n\n<p>Thank you !</p>\n"},{"tags":["java","hashmap","nlp"],"answers":[{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1448134632,"creation_date":1333357925,"answer_id":9973653,"question_id":9973596,"body_markdown":"Why can&#39;t you use something like this:\r\n\r\n    class Bigram{\r\n        private String firstItem;\r\n        private String secondItem;\r\n    \r\n        &lt;getters/setters&gt;\r\n    \r\n        @Override\r\n        public int hashCode(){\r\n            ...\r\n        }\r\n    \r\n        @Override \r\n        public boolean equals(){\r\n            ...\r\n        }\r\n    }\r\n\r\ninstead of using the dynamic collection for limited number of items (two).","title":"ArrayList as key in HashMap","body":"<p>Why can't you use something like this:</p>\n\n<pre><code>class Bigram{\n    private String firstItem;\n    private String secondItem;\n\n    &lt;getters/setters&gt;\n\n    @Override\n    public int hashCode(){\n        ...\n    }\n\n    @Override \n    public boolean equals(){\n        ...\n    }\n}\n</code></pre>\n\n<p>instead of using the dynamic collection for limited number of items (two).</p>\n"},{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1333358707,"creation_date":1333357946,"answer_id":9973662,"question_id":9973596,"body_markdown":"`ArrayList.equals()` is inherited from `java.lang.Object` - therefore `equals()` on ArrayList is independent of the content of the list.\r\n\r\nIf you want to use an ArrayList as a map key, you will need to override `equals()` and `hashcode()` in order to make two arraylists with the same content in the same order return true on a call to `equals()` and return the same hashcode on a call to `hashcode()`.\r\n\r\nIs there any particular reason you *have* to use an ArrayList as opposed to say a simple String as the key?\r\n\r\nedit: Ignore me, as Joachim Sauer pointed out below, I am so wrong it&#39;s not even funny.\r\n","title":"ArrayList as key in HashMap","body":"<p><code>ArrayList.equals()</code> is inherited from <code>java.lang.Object</code> - therefore <code>equals()</code> on ArrayList is independent of the content of the list.</p>\n\n<p>If you want to use an ArrayList as a map key, you will need to override <code>equals()</code> and <code>hashcode()</code> in order to make two arraylists with the same content in the same order return true on a call to <code>equals()</code> and return the same hashcode on a call to <code>hashcode()</code>.</p>\n\n<p>Is there any particular reason you <em>have</em> to use an ArrayList as opposed to say a simple String as the key?</p>\n\n<p>edit: Ignore me, as Joachim Sauer pointed out below, I am so wrong it's not even funny.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1391415002,"creation_date":1333358070,"answer_id":9973694,"question_id":9973596,"body_markdown":"Yes you can have `ArrayList`s as a keys in a hash map, but it is a **very bad idea** since they are **mutable**.\r\n\r\nIf you change the `ArrayList` in any way (or any of its elements), the mapping will basically be lost, since the key won&#39;t have the same `hashCode` as it had when it was inserted.\r\n\r\nThe rule of thumb is to use only immutable data types as keys in a hash map. As suggested by Alex Stybaev, you probably want to create a `Bigram` class like this:\r\n\r\n    final class Bigram {\r\n    \r\n        private final String word1, word2;\r\n    \r\n        public Bigram(String word1, String word2) {\r\n            this.word1 = word1;\r\n            this.word2 = word2;\r\n        }\r\n    \r\n        public String getWord1() {\r\n            return word1;\r\n        }\r\n\r\n        public String getWord2() {\r\n            return word2;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return word1.hashCode() ^ word2.hashCode();\r\n        }\r\n     \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            return (obj instanceof Bigram) &amp;&amp; ((Bigram) obj).word1.equals(word1)\r\n                                           &amp;&amp; ((Bigram) obj).word2.equals(word2);\r\n        }\r\n    }","title":"ArrayList as key in HashMap","body":"<p>Yes you can have <code>ArrayList</code>s as a keys in a hash map, but it is a <strong>very bad idea</strong> since they are <strong>mutable</strong>.</p>\n\n<p>If you change the <code>ArrayList</code> in any way (or any of its elements), the mapping will basically be lost, since the key won't have the same <code>hashCode</code> as it had when it was inserted.</p>\n\n<p>The rule of thumb is to use only immutable data types as keys in a hash map. As suggested by Alex Stybaev, you probably want to create a <code>Bigram</code> class like this:</p>\n\n<pre><code>final class Bigram {\n\n    private final String word1, word2;\n\n    public Bigram(String word1, String word2) {\n        this.word1 = word1;\n        this.word2 = word2;\n    }\n\n    public String getWord1() {\n        return word1;\n    }\n\n    public String getWord2() {\n        return word2;\n    }\n\n    @Override\n    public int hashCode() {\n        return word1.hashCode() ^ word2.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return (obj instanceof Bigram) &amp;&amp; ((Bigram) obj).word1.equals(word1)\n                                       &amp;&amp; ((Bigram) obj).word2.equals(word2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":539735,"reputation":9276,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448134728,"creation_date":1333358277,"answer_id":9973749,"question_id":9973596,"body_markdown":"Try this ,this will work.\r\n   \r\n\r\n     public Map&lt;List, Integer&gt; getBigramMap (String word1,String word2){\r\n        Map&lt;List,Integer&gt; hm = new HashMap&lt;List, Integer&gt;();\r\n        List&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\r\n        arrList1 = getBigram(word1, word2);     \r\n        if(hm.get(arrList1) !=null){\r\n            hm.put(arrList1, hm.get(arrList1)+1);\r\n        }\r\n        else {\r\n            hm.put(arrList1, 1);\r\n        }\r\n\n        System.out.println(hm.get(arrList1));\r\n        return hm;\r\n    }\r\n\r\n","title":"ArrayList as key in HashMap","body":"<p>Try this ,this will work.</p>\n\n<pre><code> public Map&lt;List, Integer&gt; getBigramMap (String word1,String word2){\n    Map&lt;List,Integer&gt; hm = new HashMap&lt;List, Integer&gt;();\n    List&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\n    arrList1 = getBigram(word1, word2);     \n    if(hm.get(arrList1) !=null){\n        hm.put(arrList1, hm.get(arrList1)+1);\n    }\n    else {\n        hm.put(arrList1, 1);\n    }\n\n    System.out.println(hm.get(arrList1));\n    return hm;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333365584,"creation_date":1333358532,"answer_id":9973829,"question_id":9973596,"body_markdown":"From [the documentation][1]:\r\n\r\n&gt; Note: great care must be exercised if mutable objects are used as map\r\n     keys.  The behavior of a map is not specified if the value of an object is\r\n     changed in a manner that affects `equals` comparisons while the\r\n     object is a key in the map.  A special case of this prohibition is that it\r\n     is not permissible for a map to contain itself as a key.  While it is\r\n     permissible for a map to contain itself as a value, extreme caution is\r\n     advised: the `equals` and `hashCode` methods are no longer\r\n     well defined on such a map.\r\n\r\nYou have to take care when you are using *mutable objects* as keys for the sake of `hashCode` and `equals`.\r\n\r\nThe bottom line is that it is better to use immutable objects as keys.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Map.html","title":"ArrayList as key in HashMap","body":"<p>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Note: great care must be exercised if mutable objects are used as map\n       keys.  The behavior of a map is not specified if the value of an object is\n       changed in a manner that affects <code>equals</code> comparisons while the\n       object is a key in the map.  A special case of this prohibition is that it\n       is not permissible for a map to contain itself as a key.  While it is\n       permissible for a map to contain itself as a value, extreme caution is\n       advised: the <code>equals</code> and <code>hashCode</code> methods are no longer\n       well defined on such a map.</p>\n</blockquote>\n\n<p>You have to take care when you are using <em>mutable objects</em> as keys for the sake of <code>hashCode</code> and <code>equals</code>.</p>\n\n<p>The bottom line is that it is better to use immutable objects as keys.</p>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333358791,"creation_date":1333358791,"answer_id":9973899,"question_id":9973596,"body_markdown":"Sure it possible. I suppose the issue in your `put`. Try obtain key for bigram, increment it, remove entry with this bigram and insert updated value","title":"ArrayList as key in HashMap","body":"<p>Sure it possible. I suppose the issue in your <code>put</code>. Try obtain key for bigram, increment it, remove entry with this bigram and insert updated value</p>\n"},{"tags":[],"owner":{"account_id":2540468,"reputation":443,"user_id":2206374,"accept_rate":20,"display_name":"Musaddique"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436532931,"creation_date":1436532931,"answer_id":31341352,"question_id":9973596,"body_markdown":"Please check below my code in order to understand if key is ArrayList in Map and how JVM will do it for inputs:\r\nhere i write hashCode and equals method for TesthashCodeEquals class.\r\n\r\n    package com.msq;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    class TesthashCodeEquals {\r\n    \tprivate int a;\r\n    \tprivate int b;\r\n    \r\n    \tpublic TesthashCodeEquals() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \tpublic TesthashCodeEquals(int a, int b) {\r\n    \t\tsuper();\r\n    \t\tthis.a = a;\r\n    \t\tthis.b = b;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic int getA() {\r\n    \t\treturn a;\r\n    \t}\r\n    \r\n    \tpublic void setA(int a) {\r\n    \t\tthis.a = a;\r\n    \t}\r\n    \r\n    \tpublic int getB() {\r\n    \t\treturn b;\r\n    \t}\r\n    \r\n    \tpublic void setB(int b) {\r\n    \t\tthis.b = b;\r\n    \t}\r\n    \r\n    \tpublic int hashCode() {\r\n    \r\n    \t\treturn this.a + this.b;\r\n    \t}\r\n    \r\n    \tpublic boolean equals(Object o) {\r\n    \r\n    \t\tif (o instanceof TesthashCodeEquals &amp;&amp; o != null) {\r\n    \r\n    \t\t\tTesthashCodeEquals c = (TesthashCodeEquals) o;\r\n    \r\n    \t\t\treturn ((this.a == c.a) &amp;&amp; (this.b == c.b));\r\n    \r\n    \t\t} else\r\n    \t\t\treturn false;\r\n    \t}\r\n    }\r\n    \r\n    public class HasCodeEquals {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tMap&lt;List&lt;TesthashCodeEquals&gt;, String&gt; m = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tList&lt;TesthashCodeEquals&gt; list1=new ArrayList&lt;&gt;();\r\n    \t\tlist1.add(new TesthashCodeEquals(1, 2));\r\n    \t\tlist1.add(new TesthashCodeEquals(3, 4));\r\n    \t\t\r\n    \t\tList&lt;TesthashCodeEquals&gt; list2=new ArrayList&lt;&gt;();\r\n    \t\tlist2.add(new TesthashCodeEquals(10, 20));\r\n    \t\tlist2.add(new TesthashCodeEquals(30, 40));\r\n    \t\t\r\n    \t\t\r\n    \t\tList&lt;TesthashCodeEquals&gt; list3=new ArrayList&lt;&gt;();\r\n    \t\tlist3.add(new TesthashCodeEquals(1, 2));\r\n    \t\tlist3.add(new TesthashCodeEquals(3, 4));\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\tm.put(list1, &quot;List1&quot;);\r\n    \t\tm.put(list2, &quot;List2&quot;);\r\n    \t\tm.put(list3, &quot;List3&quot;);\r\n    \t\t\r\n    \t\tfor(Map.Entry&lt;List&lt;TesthashCodeEquals&gt;,String&gt; entry:m.entrySet()){\r\n    \t\t\tfor(TesthashCodeEquals t:entry.getKey()){\r\n    \t\t\t\tSystem.out.print(&quot;value of a: &quot;+t.getA()+&quot;, value of b: &quot;+t.getB()+&quot;, map value is:&quot;+entry.getValue() );\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;######################&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n.\r\n\r\n    output:\r\n    \r\n    value of a: 10, value of b: 20, map value is:List2\r\n    value of a: 30, value of b: 40, map value is:List2\r\n    ######################\r\n    value of a: 1, value of b: 2, map value is:List3\r\n    value of a: 3, value of b: 4, map value is:List3\r\n    ######################\r\n\r\nso this will check the number of objects in List and the values of valriabe in object. if number of objects are same and the values of instance variables is also same then it will consider duplicate key and override the key.\r\n\r\nnow if i change only the value of object on list3 \r\n\r\nlist3.add(new TesthashCodeEquals(2, 2));\r\n\r\nthen it will print:\r\n\r\n    \r\n\r\n   \r\n\r\n     output\r\n        value of a: 2, value of b: 2, map value is:List3\r\n        value of a: 3, value of b: 4, map value is:List3\r\n        ######################\r\n        value of a: 10, value of b: 20, map value is:List2\r\n        value of a: 30, value of b: 40, map value is:List2\r\n        ######################\r\n        value of a: 1, value of b: 2, map value is:List1\r\n        value of a: 3, value of b: 4, map value is:List1\r\n    ######################\r\n\r\nso that It always check the number of objects in List and the value of instance variable of object.\r\n\r\nthanks\r\n\r\n","title":"ArrayList as key in HashMap","body":"<p>Please check below my code in order to understand if key is ArrayList in Map and how JVM will do it for inputs:\nhere i write hashCode and equals method for TesthashCodeEquals class.</p>\n\n<pre><code>package com.msq;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nclass TesthashCodeEquals {\n    private int a;\n    private int b;\n\n    public TesthashCodeEquals() {\n        // TODO Auto-generated constructor stub\n    }\n\n\n\n    public TesthashCodeEquals(int a, int b) {\n        super();\n        this.a = a;\n        this.b = b;\n    }\n\n\n\n    public int getA() {\n        return a;\n    }\n\n    public void setA(int a) {\n        this.a = a;\n    }\n\n    public int getB() {\n        return b;\n    }\n\n    public void setB(int b) {\n        this.b = b;\n    }\n\n    public int hashCode() {\n\n        return this.a + this.b;\n    }\n\n    public boolean equals(Object o) {\n\n        if (o instanceof TesthashCodeEquals &amp;&amp; o != null) {\n\n            TesthashCodeEquals c = (TesthashCodeEquals) o;\n\n            return ((this.a == c.a) &amp;&amp; (this.b == c.b));\n\n        } else\n            return false;\n    }\n}\n\npublic class HasCodeEquals {\n    public static void main(String[] args) {\n\n        Map&lt;List&lt;TesthashCodeEquals&gt;, String&gt; m = new HashMap&lt;&gt;();\n\n        List&lt;TesthashCodeEquals&gt; list1=new ArrayList&lt;&gt;();\n        list1.add(new TesthashCodeEquals(1, 2));\n        list1.add(new TesthashCodeEquals(3, 4));\n\n        List&lt;TesthashCodeEquals&gt; list2=new ArrayList&lt;&gt;();\n        list2.add(new TesthashCodeEquals(10, 20));\n        list2.add(new TesthashCodeEquals(30, 40));\n\n\n        List&lt;TesthashCodeEquals&gt; list3=new ArrayList&lt;&gt;();\n        list3.add(new TesthashCodeEquals(1, 2));\n        list3.add(new TesthashCodeEquals(3, 4));\n\n\n\n        m.put(list1, \"List1\");\n        m.put(list2, \"List2\");\n        m.put(list3, \"List3\");\n\n        for(Map.Entry&lt;List&lt;TesthashCodeEquals&gt;,String&gt; entry:m.entrySet()){\n            for(TesthashCodeEquals t:entry.getKey()){\n                System.out.print(\"value of a: \"+t.getA()+\", value of b: \"+t.getB()+\", map value is:\"+entry.getValue() );\n                System.out.println();\n            }\n            System.out.println(\"######################\");\n        }\n\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>output:\n\nvalue of a: 10, value of b: 20, map value is:List2\nvalue of a: 30, value of b: 40, map value is:List2\n######################\nvalue of a: 1, value of b: 2, map value is:List3\nvalue of a: 3, value of b: 4, map value is:List3\n######################\n</code></pre>\n\n<p>so this will check the number of objects in List and the values of valriabe in object. if number of objects are same and the values of instance variables is also same then it will consider duplicate key and override the key.</p>\n\n<p>now if i change only the value of object on list3 </p>\n\n<p>list3.add(new TesthashCodeEquals(2, 2));</p>\n\n<p>then it will print:</p>\n\n<pre><code> output\n    value of a: 2, value of b: 2, map value is:List3\n    value of a: 3, value of b: 4, map value is:List3\n    ######################\n    value of a: 10, value of b: 20, map value is:List2\n    value of a: 30, value of b: 40, map value is:List2\n    ######################\n    value of a: 1, value of b: 2, map value is:List1\n    value of a: 3, value of b: 4, map value is:List1\n######################\n</code></pre>\n\n<p>so that It always check the number of objects in List and the value of instance variable of object.</p>\n\n<p>thanks</p>\n"},{"tags":[],"owner":{"account_id":3849703,"reputation":435,"user_id":3190174,"accept_rate":75,"display_name":"Javo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464337142,"creation_date":1464334732,"answer_id":37477576,"question_id":9973596,"body_markdown":"I&#39;ve come up with this solution. It is obviously not usable in all cases, for example over stepping the hashcodes int capacity, or list.clone() complications(if the input list gets changed, key stays the same as intended, but when the items of List are mutable, cloned list has the same reference to its items, which would result in changing the key itself).\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class ListKey&lt;T&gt; {\r\n    \tprivate ArrayList&lt;T&gt; list;\r\n    \r\n    \tpublic ListKey(ArrayList&lt;T&gt; list) {\r\n    \t\tthis.list = (ArrayList&lt;T&gt;) list.clone();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \r\n    \t\tfor (int i = 0; i &lt; this.list.size(); i++) {\r\n    \t\t\tT item = this.list.get(i);\r\n    \t\t\tresult = prime * result + ((item == null) ? 0 : item.hashCode());\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\treturn this.list.equals(obj);\r\n    \t}\r\n    }\r\n\r\n    ---------\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tArrayList&lt;Float&gt; createFloatList = createFloatList();\r\n    \t\tArrayList&lt;Float&gt; createFloatList2 = createFloatList();\r\n    \t\t\r\n    \t\tHashtable&lt;ListKey&lt;Float&gt;, String&gt; table = new Hashtable&lt;&gt;();\r\n    \t\ttable.put(new ListKey(createFloatList2), &quot;IT WORKS!&quot;);\r\n    \t\tSystem.out.println(table.get(createFloatList2));\r\n    \t\tcreateFloatList2.add(1f);\r\n    \t\tSystem.out.println(table.get(createFloatList2));\r\n    \t\tcreateFloatList2.remove(3);\r\n    \t\tSystem.out.println(table.get(createFloatList2));\r\n    \t}\r\n    \r\n    \tpublic static ArrayList&lt;Float&gt; createFloatList() {\r\n    \t\tArrayList&lt;Float&gt; floatee = new ArrayList&lt;&gt;();\r\n    \t\tfloatee.add(34.234f);\r\n    \t\tfloatee.add(new Float(33));\r\n    \t\tfloatee.add(null);\r\n    \t\t\r\n    \t\treturn floatee;\r\n    \t}\r\n    \r\n    Output:\r\n    IT WORKS!\r\n    null\r\n    IT WORKS!","title":"ArrayList as key in HashMap","body":"<p>I've come up with this solution. It is obviously not usable in all cases, for example over stepping the hashcodes int capacity, or list.clone() complications(if the input list gets changed, key stays the same as intended, but when the items of List are mutable, cloned list has the same reference to its items, which would result in changing the key itself).</p>\n\n<pre><code>import java.util.ArrayList;\n\npublic class ListKey&lt;T&gt; {\n    private ArrayList&lt;T&gt; list;\n\n    public ListKey(ArrayList&lt;T&gt; list) {\n        this.list = (ArrayList&lt;T&gt;) list.clone();\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n\n        for (int i = 0; i &lt; this.list.size(); i++) {\n            T item = this.list.get(i);\n            result = prime * result + ((item == null) ? 0 : item.hashCode());\n        }\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return this.list.equals(obj);\n    }\n}\n\n---------\n    public static void main(String[] args) {\n\n        ArrayList&lt;Float&gt; createFloatList = createFloatList();\n        ArrayList&lt;Float&gt; createFloatList2 = createFloatList();\n\n        Hashtable&lt;ListKey&lt;Float&gt;, String&gt; table = new Hashtable&lt;&gt;();\n        table.put(new ListKey(createFloatList2), \"IT WORKS!\");\n        System.out.println(table.get(createFloatList2));\n        createFloatList2.add(1f);\n        System.out.println(table.get(createFloatList2));\n        createFloatList2.remove(3);\n        System.out.println(table.get(createFloatList2));\n    }\n\n    public static ArrayList&lt;Float&gt; createFloatList() {\n        ArrayList&lt;Float&gt; floatee = new ArrayList&lt;&gt;();\n        floatee.add(34.234f);\n        floatee.add(new Float(33));\n        floatee.add(null);\n\n        return floatee;\n    }\n\nOutput:\nIT WORKS!\nnull\nIT WORKS!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587367040,"creation_date":1587367040,"answer_id":61316987,"question_id":9973596,"body_markdown":"Unlike `Array`, `List` can be used as the key of a HashMap, but it is not a good idea, since we should always try to **use an immutable object as the key**. \r\n\r\n`.toString()` method getting the String represtenation is a good key choice in many cases, since `String` is an immuteable object and can prefectly stands for the array or list.","title":"ArrayList as key in HashMap","body":"<p>Unlike <code>Array</code>, <code>List</code> can be used as the key of a HashMap, but it is not a good idea, since we should always try to <strong>use an immutable object as the key</strong>. </p>\n\n<p><code>.toString()</code> method getting the String represtenation is a good key choice in many cases, since <code>String</code> is an immuteable object and can prefectly stands for the array or list.</p>\n"},{"tags":[],"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678591377,"creation_date":1678591377,"answer_id":75710893,"question_id":9973596,"body_markdown":"Yes, you can extend HashMap then you just need to modify `get()` to bring back the value on a match, e.g. \r\n\r\n    class KeyArrayHashMap extends HashMap &lt;ArrayList&lt;String&gt;, ArrayList&lt;String&gt;&gt; { \r\n    \r\n     public ArrayList&lt;String&gt; get(String findKey) { \r\n        ArrayList&lt;String&gt; retVal = null; \r\n        for ( ArrayList&lt;String&gt; key : this.keySet() ) {\r\n            if (key.contains(findKey)) {           \r\n                 System.out.printf( &quot;Found key %s it&#39;s %s.\\n&quot;, findKey, key.toString());\r\n                retVal = key; \r\n                break; \r\n                }\r\n        }\r\n    \r\n    return this.get(retVal);\r\n    }\r\n    }\r\n\r\nThis code gets the keySet and iterates over searching each key ArrayList for a String. Code should run about O(n) (we leave on first match but depends on how many keys you have). ","title":"ArrayList as key in HashMap","body":"<p>Yes, you can extend HashMap then you just need to modify <code>get()</code> to bring back the value on a match, e.g.</p>\n<pre><code>class KeyArrayHashMap extends HashMap &lt;ArrayList&lt;String&gt;, ArrayList&lt;String&gt;&gt; { \n\n public ArrayList&lt;String&gt; get(String findKey) { \n    ArrayList&lt;String&gt; retVal = null; \n    for ( ArrayList&lt;String&gt; key : this.keySet() ) {\n        if (key.contains(findKey)) {           \n             System.out.printf( &quot;Found key %s it's %s.\\n&quot;, findKey, key.toString());\n            retVal = key; \n            break; \n            }\n    }\n\nreturn this.get(retVal);\n}\n}\n</code></pre>\n<p>This code gets the keySet and iterates over searching each key ArrayList for a String. Code should run about O(n) (we leave on first match but depends on how many keys you have).</p>\n"}],"owner":{"account_id":107856,"reputation":6973,"user_id":286579,"accept_rate":53,"display_name":"thetna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59050,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":10,"score":23,"last_activity_date":1678591377,"creation_date":1333357661,"question_id":9973596,"body_markdown":"Would it be possible to add an `ArrayList` as the key of `HashMap`. I would like to keep the frequency count of bigrams. The bigram is the key and the value is its frequency.\r\n\r\nFor each of the bigrams like &quot;he is&quot;, I create an `ArrayList` for it and insert it into the `HashMap`. But I am not getting the correct output.\r\n\r\n\r\n\tpublic HashMap&lt;ArrayList&lt;String&gt;, Integer&gt; getBigramMap(String word1, String word2) {\r\n\t\tHashMap&lt;ArrayList&lt;String&gt;, Integer&gt; hm = new HashMap&lt;ArrayList&lt;String&gt;, Integer&gt;();\r\n\t\tArrayList&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\r\n\t\tarrList1 = getBigram(word1, word2);\r\n\t\tif (hm.get(arrList1) != null) {\r\n\t\t\thm.put(arrList1, hm.get(arrList1) + 1);\r\n\t\t} else {\r\n\t\t\thm.put(arrList1, 1);\r\n\t\t}\r\n\t\tSystem.out.println(hm.get(arrList1));\r\n\t\treturn hm;\r\n\t}\r\n\r\n\r\n\tpublic ArrayList&lt;String&gt; getBigram(String word1, String word2) {\r\n\t\tArrayList&lt;String&gt; arrList2 = new ArrayList&lt;String&gt;();\r\n\t\tarrList2.add(word1);\r\n\t\tarrList2.add(word2);\r\n\t\treturn arrList2;\r\n\t}\r\n\t\r\n","title":"ArrayList as key in HashMap","body":"<p>Would it be possible to add an <code>ArrayList</code> as the key of <code>HashMap</code>. I would like to keep the frequency count of bigrams. The bigram is the key and the value is its frequency.</p>\n\n<p>For each of the bigrams like \"he is\", I create an <code>ArrayList</code> for it and insert it into the <code>HashMap</code>. But I am not getting the correct output.</p>\n\n<pre><code>public HashMap&lt;ArrayList&lt;String&gt;, Integer&gt; getBigramMap(String word1, String word2) {\n    HashMap&lt;ArrayList&lt;String&gt;, Integer&gt; hm = new HashMap&lt;ArrayList&lt;String&gt;, Integer&gt;();\n    ArrayList&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\n    arrList1 = getBigram(word1, word2);\n    if (hm.get(arrList1) != null) {\n        hm.put(arrList1, hm.get(arrList1) + 1);\n    } else {\n        hm.put(arrList1, 1);\n    }\n    System.out.println(hm.get(arrList1));\n    return hm;\n}\n\n\npublic ArrayList&lt;String&gt; getBigram(String word1, String word2) {\n    ArrayList&lt;String&gt; arrList2 = new ArrayList&lt;String&gt;();\n    arrList2.add(word1);\n    arrList2.add(word2);\n    return arrList2;\n}\n</code></pre>\n"},{"tags":["java","user-interface","intellij-idea","javafx","memory"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678574641,"post_id":75709820,"comment_id":133560974,"body_markdown":"Definitely not, it&#39;s unusual for it to take up so little memory, but I&#39;m sure it&#39;ll get going once you add more functionality. If you&#39;re constrained by memory, forget java.","body":"Definitely not, it&#39;s unusual for it to take up so little memory, but I&#39;m sure it&#39;ll get going once you add more functionality. If you&#39;re constrained by memory, forget java."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678575158,"post_id":75709820,"comment_id":133561056,"body_markdown":"Note: the JVM tends to request more memory from the OS than it needs and is not too aggressive about freeing it because people get nervous when the garbage collector uses up too much CPU. If you want to see what your application really needs, you can experiment with lower values of `-Xmx` command line option. But this is not a very productive direction to explore.","body":"Note: the JVM tends to request more memory from the OS than it needs and is not too aggressive about freeing it because people get nervous when the garbage collector uses up too much CPU. If you want to see what your application really needs, you can experiment with lower values of <code>-Xmx</code> command line option. But this is not a very productive direction to explore."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678579999,"post_id":75709820,"comment_id":133561610,"body_markdown":"Try a [profile](http://stackoverflow.com/q/2064427/230513) to see more details.","body":"Try a <a href=\"http://stackoverflow.com/q/2064427/230513\">profile</a> to see more details."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678580938,"post_id":75709820,"comment_id":133561680,"body_markdown":"When I start gedit, it uses 55 MB.  Just something to consider.","body":"When I start gedit, it uses 55 MB.  Just something to consider."},{"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"score":0,"creation_date":1678590507,"post_id":75709820,"comment_id":133562452,"body_markdown":"@trashgod I&#39;m not too sure what else I should include, but I included a few screenshots regarding heap memory","body":"@trashgod I&#39;m not too sure what else I should include, but I included a few screenshots regarding heap memory"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1678590631,"post_id":75709820,"comment_id":133562466,"body_markdown":"Java VM&#39;s like to reserve some memory for things to come (and basically the GC will initially run when you hit the max heap space. This is also why having virtual memory may be beneficial *even if you have a good amount of RAM*: you may have used memory sitting around doing nothing most of the time. You can alter some of the memory parameters using `-X` arguments for the `java` or `java.exe` VM.","body":"Java VM&#39;s like to reserve some memory for things to come (and basically the GC will initially run when you hit the max heap space. This is also why having virtual memory may be beneficial <i>even if you have a good amount of RAM</i>: you may have used memory sitting around doing nothing most of the time. You can alter some of the memory parameters using <code>-X</code> arguments for the <code>java</code> or <code>java.exe</code> VM."},{"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"score":0,"creation_date":1678591607,"post_id":75709820,"comment_id":133562529,"body_markdown":"@MaartenBodewes I&#39;ve tried -Xmx and it doesn&#39;t really seem to affect how much memory it uses","body":"@MaartenBodewes I&#39;ve tried -Xmx and it doesn&#39;t really seem to affect how much memory it uses"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678596411,"post_id":75709820,"comment_id":133562847,"body_markdown":"You could use GraalVM to aot compile to native if you wished.  I don’t know if this would decrease memory usage as opposed to running in a VM, but I guess it would.  It seems surprising to me that -X memory options were unable to reduce [max memory usage](https://stackoverflow.com/questions/1493913/how-to-set-the-maximum-memory-usage-for-jvm) for you, but I’ll trust your findings on your platform.","body":"You could use GraalVM to aot compile to native if you wished.  I don’t know if this would decrease memory usage as opposed to running in a VM, but I guess it would.  It seems surprising to me that -X memory options were unable to reduce <a href=\"https://stackoverflow.com/questions/1493913/how-to-set-the-maximum-memory-usage-for-jvm\">max memory usage</a> for you, but I’ll trust your findings on your platform."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678627219,"post_id":75709820,"comment_id":133566358,"body_markdown":"This [example](https://stackoverflow.com/a/45124503/230513) illustrates using the -X options to an artificially small heap. What happens when you request garbage collection?","body":"This <a href=\"https://stackoverflow.com/a/45124503/230513\">example</a> illustrates using the -X options to an artificially small heap. What happens when you request garbage collection?"}],"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678590521,"creation_date":1678572222,"question_id":75709820,"body_markdown":"    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            HBox test = new HBox();\r\n            Scene test2 = new Scene(test);\r\n            primaryStage.setScene(test2);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n[![Memory Usage from Task Manager][1]][1]\r\n\r\n\r\nI&#39;m don&#39;t really know if this is the usual amount of memory a blank javafx application uses and I find it quite a lot for a blank application. Tkinter programs seems to be use way less memory even with components inside the application. Is there a way to lower the amount of memory javafx uses in general?\r\n\r\nEdit:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/21KdY.png\r\n  [2]: https://i.stack.imgur.com/nxtVQ.png","title":"Is it normal for a blank javafx application to use 85mb of memory?","body":"<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        HBox test = new HBox();\n        Scene test2 = new Scene(test);\n        primaryStage.setScene(test2);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/21KdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/21KdY.png\" alt=\"Memory Usage from Task Manager\" /></a></p>\n<p>I'm don't really know if this is the usual amount of memory a blank javafx application uses and I find it quite a lot for a blank application. Tkinter programs seems to be use way less memory even with components inside the application. Is there a way to lower the amount of memory javafx uses in general?</p>\n<p>Edit:\n<a href=\"https://i.stack.imgur.com/nxtVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nxtVQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4747149,"reputation":2525,"user_id":3838167,"accept_rate":60,"display_name":"Mars"},"score":1,"creation_date":1573783732,"post_id":58869350,"comment_id":104007634,"body_markdown":"Please show us what you expect the output to be","body":"Please show us what you expect the output to be"}],"answers":[{"tags":[],"owner":{"account_id":6654973,"reputation":295,"user_id":5135849,"display_name":"Viswa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573787940,"creation_date":1573787593,"answer_id":58869805,"question_id":58869350,"body_markdown":"Move the passArr loop outside.\r\n    \r\n    public static void main(String[] args) {\r\n        String password = &quot;zebra&quot;;\r\n        char[] passArr = new char[password.length()];\r\n        passArr = password.toCharArray();\r\n\r\n        StringBuilder forcedPass = new StringBuilder();\r\n        char[] alphabet = new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;};\r\n        boolean solved = false;\r\n\r\n        while (solved != true) {\r\n            for (int j = 0; j &lt; passArr.length; j++) {\r\n                for (int i = 0; i &lt; alphabet.length; i++) {\r\n                    if (alphabet[i] == passArr[j]) {\r\n                        forcedPass.append(alphabet[i]);\r\n                        System.out.println(forcedPass.toString());\r\n                        solved = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java Brute Force Password Cracker","body":"<p>Move the passArr loop outside.</p>\n\n<pre><code>public static void main(String[] args) {\n    String password = \"zebra\";\n    char[] passArr = new char[password.length()];\n    passArr = password.toCharArray();\n\n    StringBuilder forcedPass = new StringBuilder();\n    char[] alphabet = new char[]{'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'};\n    boolean solved = false;\n\n    while (solved != true) {\n        for (int j = 0; j &lt; passArr.length; j++) {\n            for (int i = 0; i &lt; alphabet.length; i++) {\n                if (alphabet[i] == passArr[j]) {\n                    forcedPass.append(alphabet[i]);\n                    System.out.println(forcedPass.toString());\n                    solved = true;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16623452,"reputation":902,"user_id":12013107,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678590027,"creation_date":1573787673,"answer_id":58869812,"question_id":58869350,"body_markdown":"Based on your required output, your code should look like this below:\r\n\r\n    public static void main(String[] args) {\r\n        String password = &quot;zebra&quot;;\r\n        char [] passArr = password.toCharArray();\r\n    \r\n        String brutePass = &quot;&quot;;\r\n        char[] alphabet = new char[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;,&#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39; };\r\n        boolean solved = false;\r\n       StringBuilder forcedPass = new StringBuilder(brutePass); // Initialize StringBuilder outside.\r\n        while (solved != true) {\r\n             for (int j = 0; j &lt; passArr.length; j++) { //Moved for loop outside.\r\n            for (int i = 0; i &lt; alphabet.length; i++) {\r\n               \r\n                    if (alphabet[i] == passArr[j]) {\r\n                        forcedPass.append(passArr[j]); // Used append instead of insert\r\n                        System.out.println(forcedPass.toString());\r\n                        solved = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHere, I have made two changes, I swapped the position of your inner and outer loop and You have used `insert()` method of `StringBuilder` class, which is incorrect. You have to use the `append()` method of it. To find out more about `StringBuilder` methods,visit [this][1].\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/lang/java_lang_stringbuilder.htm","title":"Java Brute Force Password Cracker","body":"<p>Based on your required output, your code should look like this below:</p>\n<pre><code>public static void main(String[] args) {\n    String password = &quot;zebra&quot;;\n    char [] passArr = password.toCharArray();\n\n    String brutePass = &quot;&quot;;\n    char[] alphabet = new char[] { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p','q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z' };\n    boolean solved = false;\n   StringBuilder forcedPass = new StringBuilder(brutePass); // Initialize StringBuilder outside.\n    while (solved != true) {\n         for (int j = 0; j &lt; passArr.length; j++) { //Moved for loop outside.\n        for (int i = 0; i &lt; alphabet.length; i++) {\n           \n                if (alphabet[i] == passArr[j]) {\n                    forcedPass.append(passArr[j]); // Used append instead of insert\n                    System.out.println(forcedPass.toString());\n                    solved = true;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here, I have made two changes, I swapped the position of your inner and outer loop and You have used <code>insert()</code> method of <code>StringBuilder</code> class, which is incorrect. You have to use the <code>append()</code> method of it. To find out more about <code>StringBuilder</code> methods,visit <a href=\"https://www.tutorialspoint.com/java/lang/java_lang_stringbuilder.htm\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":12464487,"reputation":11,"user_id":9074988,"display_name":"ALL STAR GAMER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2954,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58869812,"answer_count":2,"score":0,"last_activity_date":1678590027,"creation_date":1573783626,"question_id":58869350,"body_markdown":"I am making a brute force password cracker. I am able to use for loops to find which characters match the original password. But the output is not in the correct order. the output is in alphabetical order. How do i fix this?\r\nthe output should be something like&quot;\r\n\r\n    z\r\n    ze\r\n    zeb\r\n    zebr\r\n    zebra\r\n\r\nCode:\r\n\r\n        \tpublic static void main(String[] args) {\r\n\t\tString password = &quot;zebra&quot;;\r\n\t\tchar [] passArr = new char [password.length()];\r\n\t\tpassArr = password.toCharArray();\r\n\t\t\r\n\t\tString brutePass = &quot;&quot;;\r\n\t\tchar[] alphabet = new char[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;,&#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39; };\r\n\t\tboolean solved = false;\r\n\r\n\t\twhile (solved != true) {\r\n\t\t\tfor (int i = 0; i &lt; alphabet.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; passArr.length; j++) {\r\n\t\t\t\t\tif (alphabet[i] == passArr[j]) {\r\n\t\t\t\t\t\t//brutePass +=passArr[j];\r\n\t\t\t\t\t\t//System.out.println(brutePass);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t    StringBuilder forcedPass = new StringBuilder(brutePass);\r\n\t\t\t\t\t    forcedPass.insert(passArr[j], alphabet[i]);\r\n\t\t\t\t\t\tSystem.out.println(forcedPass.toString());\r\n\t\t\t\t\t\tsolved = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n","title":"Java Brute Force Password Cracker","body":"<p>I am making a brute force password cracker. I am able to use for loops to find which characters match the original password. But the output is not in the correct order. the output is in alphabetical order. How do i fix this?\nthe output should be something like\"</p>\n\n<pre><code>z\nze\nzeb\nzebr\nzebra\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>        public static void main(String[] args) {\n    String password = \"zebra\";\n    char [] passArr = new char [password.length()];\n    passArr = password.toCharArray();\n\n    String brutePass = \"\";\n    char[] alphabet = new char[] { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p','q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z' };\n    boolean solved = false;\n\n    while (solved != true) {\n        for (int i = 0; i &lt; alphabet.length; i++) {\n            for (int j = 0; j &lt; passArr.length; j++) {\n                if (alphabet[i] == passArr[j]) {\n                    //brutePass +=passArr[j];\n                    //System.out.println(brutePass);\n\n                    StringBuilder forcedPass = new StringBuilder(brutePass);\n                    forcedPass.insert(passArr[j], alphabet[i]);\n                    System.out.println(forcedPass.toString());\n                    solved = true;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","apache-spark","apache-spark-2.0"],"answers":[{"tags":[],"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1678589995,"creation_date":1472372883,"answer_id":39189353,"question_id":39188504,"body_markdown":"Your JavaBean class should have a public no-argument constructor, getter and setters and it should implement Serializable interface. Spark SQL works on valid JavaBean class.\r\n\r\n**EDIT** : Adding working sample with inner class\r\n\r\n**OuterInnerDF.java**\r\n\r\n\r\n```\r\npackage com.abaghel.examples;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Encoder;\r\nimport org.apache.spark.sql.Encoders;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport com.abaghel.examples.OuterClass.InnerClass;\r\n\r\npublic class OuterInnerDF {\r\n    public static void main(String[] args) {\r\n        SparkSession spark = SparkSession\r\n            .builder()\r\n            .appName(&quot;OuterInnerDF&quot;)\r\n            .config(&quot;spark.sql.warehouse.dir&quot;, &quot;/file:C:/temp&quot;)\r\n            .master(&quot;local[2]&quot;)\r\n            .getOrCreate();\r\n\r\n        System.out.println(&quot;====&gt; Create DataFrame&quot;);\r\n        //Outer\r\n        OuterClass us = new OuterClass();\r\n        us.setId(111);\t\t\r\n        //Inner\r\n        OuterClass.InnerClass ic = new OuterClass.InnerClass();\r\n        ic.setStreetno(&quot;My Street&quot;);\r\n        //list\r\n        ArrayList&lt;InnerClass&gt; ar = new ArrayList&lt;InnerClass&gt;();\r\n        ar.add(ic);\t\t \r\n        us.setListofInner(ar);\t \r\n        //DF\r\n        Encoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);\t\t \r\n        Dataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singletonList(us), outerClassEncoder);\r\n        ds.show();\r\n    }\r\n}\r\n```\r\n\r\n**OuterClass.java**\r\n\r\n```    \r\npackage com.abaghel.examples;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\n\r\npublic class OuterClass implements Serializable {\r\n    int id;\r\n    ArrayList&lt;InnerClass&gt; listofInner;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int num) {\r\n        this.id = num;\r\n    }\r\n\r\n    public ArrayList&lt;InnerClass&gt; getListofInner() {\r\n        return listofInner;\r\n    }\r\n\r\n    public void setListofInner(ArrayList&lt;InnerClass&gt; list) {\r\n        this.listofInner = list;\r\n    }\r\n\r\n    public static class InnerClass implements Serializable {\r\n        String streetno;\r\n\r\n        public void setStreetno(String streetno) {\r\n            this.streetno = streetno;\r\n        }\r\n\r\n        public String getStreetno() {\r\n            return streetno;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Console Output**\r\n\r\n```\r\n====&gt; Create DataFrame\r\n16/08/28 18:02:55 INFO CodeGenerator: Code generated in 32.516369 ms\r\n+---+-------------+\r\n| id|  listofInner|\r\n+---+-------------+\r\n|111|[[My Street]]|\r\n+---+-------------+\r\n```\r\n\r\n\r\n","title":"How to create encoder for custom Java objects?","body":"<p>Your JavaBean class should have a public no-argument constructor, getter and setters and it should implement Serializable interface. Spark SQL works on valid JavaBean class.</p>\n<p><strong>EDIT</strong> : Adding working sample with inner class</p>\n<p><strong>OuterInnerDF.java</strong></p>\n<pre><code>package com.abaghel.examples;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Encoder;\nimport org.apache.spark.sql.Encoders;\nimport org.apache.spark.sql.SparkSession;\nimport com.abaghel.examples.OuterClass.InnerClass;\n\npublic class OuterInnerDF {\n    public static void main(String[] args) {\n        SparkSession spark = SparkSession\n            .builder()\n            .appName(&quot;OuterInnerDF&quot;)\n            .config(&quot;spark.sql.warehouse.dir&quot;, &quot;/file:C:/temp&quot;)\n            .master(&quot;local[2]&quot;)\n            .getOrCreate();\n\n        System.out.println(&quot;====&gt; Create DataFrame&quot;);\n        //Outer\n        OuterClass us = new OuterClass();\n        us.setId(111);      \n        //Inner\n        OuterClass.InnerClass ic = new OuterClass.InnerClass();\n        ic.setStreetno(&quot;My Street&quot;);\n        //list\n        ArrayList&lt;InnerClass&gt; ar = new ArrayList&lt;InnerClass&gt;();\n        ar.add(ic);      \n        us.setListofInner(ar);   \n        //DF\n        Encoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);         \n        Dataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singletonList(us), outerClassEncoder);\n        ds.show();\n    }\n}\n</code></pre>\n<p><strong>OuterClass.java</strong></p>\n<pre><code>package com.abaghel.examples;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\n\npublic class OuterClass implements Serializable {\n    int id;\n    ArrayList&lt;InnerClass&gt; listofInner;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int num) {\n        this.id = num;\n    }\n\n    public ArrayList&lt;InnerClass&gt; getListofInner() {\n        return listofInner;\n    }\n\n    public void setListofInner(ArrayList&lt;InnerClass&gt; list) {\n        this.listofInner = list;\n    }\n\n    public static class InnerClass implements Serializable {\n        String streetno;\n\n        public void setStreetno(String streetno) {\n            this.streetno = streetno;\n        }\n\n        public String getStreetno() {\n            return streetno;\n        }\n    }\n}\n</code></pre>\n<p><strong>Console Output</strong></p>\n<pre><code>====&gt; Create DataFrame\n16/08/28 18:02:55 INFO CodeGenerator: Code generated in 32.516369 ms\n+---+-------------+\n| id|  listofInner|\n+---+-------------+\n|111|[[My Street]]|\n+---+-------------+\n</code></pre>\n"}],"owner":{"account_id":1867196,"reputation":850,"user_id":1690436,"accept_rate":17,"display_name":"Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18454,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":39189353,"answer_count":1,"score":6,"last_activity_date":1678589995,"creation_date":1472364911,"question_id":39188504,"body_markdown":"I am using following class to create bean from Spark Encoders\r\n\r\n    Class OuterClass implements Serializable {\r\n\t\tint id;\r\n\t\tArrayList&lt;InnerClass&gt; listofInner;\r\n\t\t\r\n\t\tpublic int getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setId (int num) {\r\n\t\t\tthis.id = num;\r\n\t\t}\r\n\r\n\t\tpublic ArrayList&lt;InnerClass&gt; getListofInner() {\r\n\t\t\treturn listofInner;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setListofInner(ArrayList&lt;InnerClass&gt; list) {\r\n\t\t\tthis.listofInner = list;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class InnerClass implements Serializable {\r\n\t\tString streetno;\r\n\t\t\r\n\t\tpublic void setStreetno(String streetno) {\r\n\t\t\tthis.streetno= streetno;\r\n\t\t}\r\n\r\n\t\tpublic String getStreetno() {\r\n\t\t\treturn streetno;\r\n\t\t}\r\n    }\r\n\r\n    Encoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);\r\n    Dataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singeltonList(outerclassList), outerClassEncoder)\r\n\r\nAnd I am getting the following error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Cannot infer type for class OuterClass$InnerClass because it is not bean-compliant\r\n\r\nHow can I implement this type of use case for Spark in Java? This worked fine if I remove the inner class. But I need to have an inner class for my use case.","title":"How to create encoder for custom Java objects?","body":"<p>I am using following class to create bean from Spark Encoders</p>\n<pre><code>Class OuterClass implements Serializable {\n    int id;\n    ArrayList&lt;InnerClass&gt; listofInner;\n    \n    public int getId() {\n        return id;\n    }\n    \n    public void setId (int num) {\n        this.id = num;\n    }\n\n    public ArrayList&lt;InnerClass&gt; getListofInner() {\n        return listofInner;\n    }\n    \n    public void setListofInner(ArrayList&lt;InnerClass&gt; list) {\n        this.listofInner = list;\n    }\n}\n\npublic static class InnerClass implements Serializable {\n    String streetno;\n    \n    public void setStreetno(String streetno) {\n        this.streetno= streetno;\n    }\n\n    public String getStreetno() {\n        return streetno;\n    }\n}\n\nEncoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);\nDataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singeltonList(outerclassList), outerClassEncoder)\n</code></pre>\n<p>And I am getting the following error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Cannot infer type for class OuterClass$InnerClass because it is not bean-compliant\n</code></pre>\n<p>How can I implement this type of use case for Spark in Java? This worked fine if I remove the inner class. But I need to have an inner class for my use case.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1678572661,"post_id":75709854,"comment_id":133560722,"body_markdown":"`h2` is not `mysql`.","body":"<code>h2</code> is not <code>mysql</code>."}],"answers":[{"tags":[],"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678574475,"creation_date":1678574475,"answer_id":75710021,"question_id":75709854,"body_markdown":"Its normal since you are trying to put a mysql configuration while using h2\r\n\r\n\r\n    A link for h2 [https://www.baeldung.com/spring-boot-h2-database][1]\r\n","title":"Driver org.h2.Driver claims to not accept jdbcUrl how the Driver will accept the url","body":"<p>Its normal since you are trying to put a mysql configuration while using h2</p>\n<pre><code>A link for h2 [https://www.baeldung.com/spring-boot-h2-database][1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678589652,"creation_date":1678589652,"answer_id":75710818,"question_id":75709854,"body_markdown":"you have mistake charactor **mysql:**\r\n\r\nspring.datasource.url=jdbc:**mysql**//localhost:3307/exam?serverTimezone=UTC\r\n\r\nChange to :\r\n\r\nspring.datasource.url=jdbc:**mysql:**//localhost:3307/exam?serverTimezone=UTC\r\n\r\n&quot;also make sure your mysql is running with port 3307&quot;","title":"Driver org.h2.Driver claims to not accept jdbcUrl how the Driver will accept the url","body":"<p>you have mistake charactor <strong>mysql:</strong></p>\n<p>spring.datasource.url=jdbc:<strong>mysql</strong>//localhost:3307/exam?serverTimezone=UTC</p>\n<p>Change to :</p>\n<p>spring.datasource.url=jdbc:<strong>mysql:</strong>//localhost:3307/exam?serverTimezone=UTC</p>\n<p>&quot;also make sure your mysql is running with port 3307&quot;</p>\n"}],"owner":{"account_id":27994875,"reputation":13,"user_id":21380352,"display_name":"avishkar dixit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678589652,"creation_date":1678572607,"question_id":75709854,"body_markdown":"the given below is my pom.xml file and also the application.properties file please reveiw the code and help me out\r\n\r\nmy pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.exam&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;examserver&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;examserver&lt;/name&gt;\r\n\t&lt;description&gt;Backend code for exam portal&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\r\n     &lt;!--added--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nIn these code below I have changed the port and added the `DEBUG` line also rest of the code is same from before\r\n\r\nmy `application.properties` file \r\n```\r\n#added\r\n#logging.level.com.exam=DEBUG\r\nserver.port=8180\r\n##\r\n\r\n#database configuration\r\nspring.datasource.url=jdbc:mysql//localhost:3307/exam?serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=7057@Avi\r\n\r\nspring.datasource.driver-class=com.cj.jdbc.Driver\r\n\r\n#jpa configuration\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n```\r\n\r\nPlease give me the solution, so that my project can be able to create the database and I can move further in it ","title":"Driver org.h2.Driver claims to not accept jdbcUrl how the Driver will accept the url","body":"<p>the given below is my pom.xml file and also the application.properties file please reveiw the code and help me out</p>\n<p>my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.exam&lt;/groupId&gt;\n    &lt;artifactId&gt;examserver&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;examserver&lt;/name&gt;\n    &lt;description&gt;Backend code for exam portal&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n\n     &lt;!--added--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>In these code below I have changed the port and added the <code>DEBUG</code> line also rest of the code is same from before</p>\n<p>my <code>application.properties</code> file</p>\n<pre><code>#added\n#logging.level.com.exam=DEBUG\nserver.port=8180\n##\n\n#database configuration\nspring.datasource.url=jdbc:mysql//localhost:3307/exam?serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=7057@Avi\n\nspring.datasource.driver-class=com.cj.jdbc.Driver\n\n#jpa configuration\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n<p>Please give me the solution, so that my project can be able to create the database and I can move further in it</p>\n"},{"tags":["java","android","firebase","firebase-authentication","sms"],"comments":[{"owner":{"account_id":9009128,"reputation":207,"user_id":6714512,"display_name":"Raj Kumar"},"score":0,"creation_date":1679307287,"post_id":75710750,"comment_id":133691853,"body_markdown":"@flutroid Thank you. This link was useful. It seems that the APP NAME will appear in the SMS only when the app is deployed in Play Store.\nCan you help me with the second question?\n`reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app`","body":"@flutroid Thank you. This link was useful. It seems that the APP NAME will appear in the SMS only when the app is deployed in Play Store. Can you help me with the second question? <code>reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app</code>"}],"owner":{"account_id":9009128,"reputation":207,"user_id":6714512,"display_name":"Raj Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679313929,"answer_count":0,"score":0,"last_activity_date":1678587970,"creation_date":1678587970,"question_id":75710750,"body_markdown":"I am using Firebase Phone Authentication for Android. I received the OTP SMS with Project ID with App URL instead of the App name and hash code. I am testing the debug version of my app with my phone before publishing it to Google Play Store.\r\n\r\nI am getting OTP SMS from Firebase in the below format.\r\n\r\n```\r\n123456 is your verification code for project-id.firebaseapp.com\r\n```\r\n\r\nBut I need my App name in the SMS along with hash code instead of the App URL.\r\nCan you please help me out?\r\n\r\nAlso, reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app.","title":"Firebase phone authentication sends SMS with project ID instead of project name","body":"<p>I am using Firebase Phone Authentication for Android. I received the OTP SMS with Project ID with App URL instead of the App name and hash code. I am testing the debug version of my app with my phone before publishing it to Google Play Store.</p>\n<p>I am getting OTP SMS from Firebase in the below format.</p>\n<pre><code>123456 is your verification code for project-id.firebaseapp.com\n</code></pre>\n<p>But I need my App name in the SMS along with hash code instead of the App URL.\nCan you please help me out?</p>\n<p>Also, reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app.</p>\n"},{"tags":["java","android","kotlin","tcp","vpn"],"owner":{"account_id":26623144,"reputation":1,"user_id":20241601,"display_name":"sadasdfewfaafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678587275,"creation_date":1678587275,"question_id":75710716,"body_markdown":"0\r\n\r\n\r\nI recently found out a quirky way to connect to a socket using a raw http request sending a &quot;CONNECT&quot; http payload, to bypass my data plan which allows me to only use social media (by setting the host to m.facebook.com, etc). But that only works on one request.\r\n\r\nIs there any way to connect to self-hosted VPN using that payload to go to any url? I&#39;ve seen some apps like Anonytun or HTTP Injector do it\r\n\r\nCurrent code (to fetch google&#39;s 404 page, which works)\r\n\r\n```kotlin\r\nvar s = Socket();\r\ns.connect(InetSocketAddress(&quot;142.250.189.14&quot;, 80), 5 * 1000);\r\nval scanner = Scanner(s.getInputStream());\r\ns.outputStream.write(&quot;CONNECT Payload&quot;.toByteArray());\r\nvar str = StringBuilder();\r\nwhile (scanner.hasNextLine()) {\r\n    try {\r\n        str.append(scanner.nextLine());\r\n    } catch (e: Exception) {\r\n\r\n    }\r\n}\r\nscanner.close();\r\n```","title":"Android Connect to VPN/OpenVPN server using raw HTTP/TCP request to bypass data plan [2]","body":"<p>0</p>\n<p>I recently found out a quirky way to connect to a socket using a raw http request sending a &quot;CONNECT&quot; http payload, to bypass my data plan which allows me to only use social media (by setting the host to m.facebook.com, etc). But that only works on one request.</p>\n<p>Is there any way to connect to self-hosted VPN using that payload to go to any url? I've seen some apps like Anonytun or HTTP Injector do it</p>\n<p>Current code (to fetch google's 404 page, which works)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var s = Socket();\ns.connect(InetSocketAddress(&quot;142.250.189.14&quot;, 80), 5 * 1000);\nval scanner = Scanner(s.getInputStream());\ns.outputStream.write(&quot;CONNECT Payload&quot;.toByteArray());\nvar str = StringBuilder();\nwhile (scanner.hasNextLine()) {\n    try {\n        str.append(scanner.nextLine());\n    } catch (e: Exception) {\n\n    }\n}\nscanner.close();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1678489905,"post_id":75701744,"comment_id":133549101,"body_markdown":"Does this answer your question? [Java current machine name and logged in user?](https://stackoverflow.com/questions/473446/java-current-machine-name-and-logged-in-user)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/473446/java-current-machine-name-and-logged-in-user\">Java current machine name and logged in user?</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678549571,"post_id":75701744,"comment_id":133555879,"body_markdown":"Stay away from com.sun.* classes. They are private implementation details and later versions of Java can change or remove them without warning.  Public classes in the java.* and javax.* packages, on the other hand, almost never have existing parts changed or removed (and in the rare case where that does happen, there is a years-long deprecation process for it, so programmers have plenty of notice).","body":"Stay away from com.sun.* classes. They are private implementation details and later versions of Java can change or remove them without warning.  Public classes in the java.* and javax.* packages, on the other hand, almost never have existing parts changed or removed (and in the rare case where that does happen, there is a years-long deprecation process for it, so programmers have plenty of notice)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1678584563,"post_id":75701744,"comment_id":133561970,"body_markdown":"@VGR - In general yes.  In this case no.  The `UnixSystem` class was **added** to the official Java SE javadocs in Java 9 ... and it remains there.  It is in the `jdk.security.auth` module.","body":"@VGR - In general yes.  In this case no.  The <code>UnixSystem</code> class was <b>added</b> to the official Java SE javadocs in Java 9 ... and it remains there.  It is in the <code>jdk.security.auth</code> module."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678589285,"post_id":75701744,"comment_id":133562353,"body_markdown":"@StephenC Ah, [so it is](https://docs.oracle.com/en/java/javase/19/docs/api/jdk.security.auth/com/sun/security/auth/module/UnixSystem.html).  I stand corrected.","body":"@StephenC Ah, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.security.auth/com/sun/security/auth/module/UnixSystem.html\" rel=\"nofollow noreferrer\">so it is</a>.  I stand corrected."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678584388,"creation_date":1678526874,"answer_id":75703963,"question_id":75701744,"body_markdown":"Well ... `com.sun.security.auth.module.UnixSystem().getUsername()` *does* give you the Unix / Linux user name for the current user.\r\n\r\n&lt;sup&gt;As a general rule you should avoid the `com.sun.*` classes as they are internal and subject to change (or removal) without notice.  However the `com.sun.security.auth.*` packages are different.  Since Java 9, some  of these classes are in the official Java SE javadocs, and are (by implication) NOT internal.&lt;/sup&gt;\r\n\r\nHowever, you can&#39;t use the UNIX user name to reliably work out what the user&#39;s home directory is, as you are apparently trying to do.  And even if you could, it won&#39;t be in &quot;/Users/...&quot;.  That is a Windows-ism.  On a typical modern UNIX or Linux system, the user&#39;s home directory defaults to &quot;/home/\\&lt;username\\&gt;&quot; or something like that, but it *could* be literally anywhere.\r\n\r\nTo get the current user&#39;s home directory, use `java.lang.System.getProperty(&quot;user.home&quot;)`\r\n\r\n","title":"how do i get the username from new com.sun.security.auth.module.UnixSystem().getUsername()?","body":"<p>Well ... <code>com.sun.security.auth.module.UnixSystem().getUsername()</code> <em>does</em> give you the Unix / Linux user name for the current user.</p>\n<p><sup>As a general rule you should avoid the <code>com.sun.*</code> classes as they are internal and subject to change (or removal) without notice.  However the <code>com.sun.security.auth.*</code> packages are different.  Since Java 9, some  of these classes are in the official Java SE javadocs, and are (by implication) NOT internal.</sup></p>\n<p>However, you can't use the UNIX user name to reliably work out what the user's home directory is, as you are apparently trying to do.  And even if you could, it won't be in &quot;/Users/...&quot;.  That is a Windows-ism.  On a typical modern UNIX or Linux system, the user's home directory defaults to &quot;/home/&lt;username&gt;&quot; or something like that, but it <em>could</em> be literally anywhere.</p>\n<p>To get the current user's home directory, use <code>java.lang.System.getProperty(&quot;user.home&quot;)</code></p>\n"}],"owner":{"account_id":27987186,"reputation":1,"user_id":21373769,"display_name":"william"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678584388,"creation_date":1678489653,"question_id":75701744,"body_markdown":"i need help trying todo this--&gt;\r\n```\r\ntype variableName = new\r\ncom.sun.security.auth.module.UnixSystem().getUsername()\r\npublic class Main {\r\n   \r\n public static String CodeKey=&quot;RAWW&quot;;\r\n    public static String basedir=&quot;/Users/fuzzer/Desktop/random/&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // FireUP();\r\n\r\n        Encrypt(targetFilePath: &quot;/Users/&quot;)\r\n\r\n```\r\ni dont know how to set the thing after Users/   to the current user using the computer! please help!\r\n\r\ni tryied SOME things, but those didnt work, like naming a variable to the user.","title":"how do i get the username from new com.sun.security.auth.module.UnixSystem().getUsername()?","body":"<p>i need help trying todo this--&gt;</p>\n<pre><code>type variableName = new\ncom.sun.security.auth.module.UnixSystem().getUsername()\npublic class Main {\n   \n public static String CodeKey=&quot;RAWW&quot;;\n    public static String basedir=&quot;/Users/fuzzer/Desktop/random/&quot;;\n\n    public static void main(String[] args) {\n\n        // FireUP();\n\n        Encrypt(targetFilePath: &quot;/Users/&quot;)\n\n</code></pre>\n<p>i dont know how to set the thing after Users/   to the current user using the computer! please help!</p>\n<p>i tryied SOME things, but those didnt work, like naming a variable to the user.</p>\n"},{"tags":["java","arraylist","types","casting"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1678580241,"post_id":75710337,"comment_id":133561632,"body_markdown":"`ArrayList` can hold `Object`s - so, lots of different things simultaneously.  Obviously this isn&#39;t always desirable, but it&#39;s achivable","body":"<code>ArrayList</code> can hold <code>Object</code>s - so, lots of different things simultaneously.  Obviously this isn&#39;t always desirable, but it&#39;s achivable"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":1,"creation_date":1678583482,"post_id":75710337,"comment_id":133561869,"body_markdown":"Depending on your needs and control of the model you could add a supertype that Books and Collectables both share and use that for your list.","body":"Depending on your needs and control of the model you could add a supertype that Books and Collectables both share and use that for your list."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1678584915,"post_id":75710337,"comment_id":133561994,"body_markdown":"Use the type system to create types that are useful to you. It seems extremely unlikely that making a type for every kind of thing that can be auctioned is going to do anything but make things complicated.","body":"Use the type system to create types that are useful to you. It seems extremely unlikely that making a type for every kind of thing that can be auctioned is going to do anything but make things complicated."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678587377,"post_id":75710337,"comment_id":133562201,"body_markdown":"I’d categorise your items, then you’d have a List of AuctionItem’s, each with a category and associate data","body":"I’d categorise your items, then you’d have a List of AuctionItem’s, each with a category and associate data"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678594531,"post_id":75710337,"comment_id":133562712,"body_markdown":"The duplink gives the general solution.  In your case, I would try to come up with a  superclass or interface that is common to all of the objects in the list and use that ... rather than `java.lang.Object`.  But `Object` *will work* ... if there is nothing in common to the elements.","body":"The duplink gives the general solution.  In your case, I would try to come up with a  superclass or interface that is common to all of the objects in the list and use that ... rather than <code>java.lang.Object</code>.  But <code>Object</code> <i>will work</i> ... if there is nothing in common to the elements."}],"owner":{"account_id":18247803,"reputation":23,"user_id":13283510,"display_name":"Oceanman705"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678593898,"answer_count":0,"score":0,"last_activity_date":1678584314,"creation_date":1678579939,"question_id":75710337,"body_markdown":"I am trying to place some auction items into an array list, each item has a different type akin to what kind of item it is. \r\n\r\nBooks are classified as books, Collectables are collectables, etc. \r\n\r\nSince an array list can only hold several of one type of item, how can I place these different types of items into the same array list?\r\n\r\n","title":"Attempting to place auction items into an arraylist","body":"<p>I am trying to place some auction items into an array list, each item has a different type akin to what kind of item it is.</p>\n<p>Books are classified as books, Collectables are collectables, etc.</p>\n<p>Since an array list can only hold several of one type of item, how can I place these different types of items into the same array list?</p>\n"},{"tags":["java","class","processing","keypress","keyrelease"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1678585663,"post_id":75710205,"comment_id":133562057,"body_markdown":"That is _way_ too many `int` properties. All of them are x/y/w/h sets: make _that_ a class so that instead of _sixty eight individual ints_ you at least have only 17 things, but really, wrap those in some sensible classes too, like a `body` and a `ship` and `spots` or something. What you&#39;re showing is... not good.","body":"That is <i>way</i> too many <code>int</code> properties. All of them are x/y/w/h sets: make <i>that</i> a class so that instead of <i>sixty eight individual ints</i> you at least have only 17 things, but really, wrap those in some sensible classes too, like a <code>body</code> and a <code>ship</code> and <code>spots</code> or something. What you&#39;re showing is... not good."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678582620,"creation_date":1678577912,"answer_id":75710249,"question_id":75710205,"body_markdown":"When you use Processing, your `init` and `draw` methods, and all the other code in your sketch is inserted into a new class which is generated by Processing. This class extends `PApplet`.\r\n\r\nYou can see the Javadoc here: https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html\r\n\r\nThat parent class is where methods like `keyPressed` are declared. Processing will call your implementation of those methods, but only on the `PApplet` subclass it has created.\r\n\r\nWhen you move your code to a class which doesn&#39;t extend `PApplet`, those methods are no longer called by the framework.\r\n\r\nYou can keep all your code in your own class while still having the Processing framework call those methods by delegating them to your Alien instance:\r\n```\r\n// these methods are in your sketch, not your Alien class\r\nvoid keyReleased() {\r\n  alien.keyReleased();\r\n}\r\n\r\nvoid keyPressed() {\r\n  alien.keyPressed();\r\n}\r\n```\r\nYou don&#39;t need to change your `Alien` implementation.\r\n\r\n(I&#39;ve renamed your field `Alien` to `alien` -- variable names should not start with capital letters)","title":"My code works on its own, but when I put it into a class, it breaks","body":"<p>When you use Processing, your <code>init</code> and <code>draw</code> methods, and all the other code in your sketch is inserted into a new class which is generated by Processing. This class extends <code>PApplet</code>.</p>\n<p>You can see the Javadoc here: <a href=\"https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html\" rel=\"nofollow noreferrer\">https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html</a></p>\n<p>That parent class is where methods like <code>keyPressed</code> are declared. Processing will call your implementation of those methods, but only on the <code>PApplet</code> subclass it has created.</p>\n<p>When you move your code to a class which doesn't extend <code>PApplet</code>, those methods are no longer called by the framework.</p>\n<p>You can keep all your code in your own class while still having the Processing framework call those methods by delegating them to your Alien instance:</p>\n<pre><code>// these methods are in your sketch, not your Alien class\nvoid keyReleased() {\n  alien.keyReleased();\n}\n\nvoid keyPressed() {\n  alien.keyPressed();\n}\n</code></pre>\n<p>You don't need to change your <code>Alien</code> implementation.</p>\n<p>(I've renamed your field <code>Alien</code> to <code>alien</code> -- variable names should not start with capital letters)</p>\n"}],"owner":{"account_id":27995125,"reputation":1,"user_id":21380551,"display_name":"Rory Baird"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678582668,"creation_date":1678577266,"question_id":75710205,"body_markdown":"I have been making this alien game where you have to control the alien on a screen using &quot;wasd&quot;, but when I put my code into a class, the class does not read `Alien.KeyReleased` in the set up, and I have no idea why\r\n```\r\nAlien Alien;\r\n\r\nvoid setup(){\r\n  \r\n  size (950, 650);\r\n  background(10,10,20);\r\n  Alien = new Alien(90, 150, 200, 200);\r\n}\r\n\r\nvoid draw() {\r\n  noStroke();\r\n  background(10,10,25);\r\n\r\n  Alien.drawAlien();\r\n  Alien.moveAlien();\r\n  Alien.checkForedge();\r\n  Alien.keyReleased();\r\n  Alien.keyPressed();\r\n}\r\n```\r\n```\r\nclass Alien {\r\n  \r\nint alienSpeed = 5;\r\nboolean moveUp;\r\nboolean moveDown;\r\nboolean moveLeft;\r\nboolean moveRight;\r\n\r\nint boundboxXLoc = 325;\r\nint boundboxYLoc = 325;\r\nint boundboxWidth = 90;\r\nint boundboxHeight = 150;\r\n\r\n//body\r\nint BodyXLoc;\r\nint BodyYLoc;\r\nint BodyWidth;\r\nint BodyHeight;\r\n\r\n//spot1 \r\nint spot1XLoc ;\r\nint spot1YLoc ;\r\nint spot1Width;\r\nint spot1Height;\r\n\r\n//spot2 \r\nint spot2XLoc ;\r\nint spot2YLoc ;\r\nint spot2Width;\r\nint spot2Height;\r\n\r\n//spot23\r\nint spot3XLoc ;\r\nint spot3YLoc ;\r\nint spot3Width;\r\nint spot3Height;\r\n\r\n//Generate random colours\r\nint Red = (int) random(200);\r\nint Blue = (int) random(200);\r\nint Green = (int) random(200);\r\nint Opacity = 255;\r\n\r\n//Generate spot1 Loc, mid\r\nint spot1LocX = (int) random(-13,8);\r\n\r\n//Generate spot2Loc, small\r\nint spot2LocX = (int) random(-4,27);\r\n\r\n//Generate spot3 Loc, big\r\nint spot3LocX = (int) random(-2,20);\r\n\r\n//arms \r\nint armsXLoc ;\r\nint armsYLoc ;\r\nint armsWidth;\r\nint armsHeight;\r\n\r\n//head\r\nint HeadXLoc;\r\nint HeadYLoc; \r\nint HeadWidth;\r\nint HeadHeight;\r\n\r\n//mouth\r\nint mouthXLoc;\r\nint mouthYLoc;\r\nint mouthWidth;\r\nint mouthHeight;\r\n\r\n//eyestalk\r\nint eyestalkXLoc;\r\nint eyestalkYLoc;\r\nint eyestalkWidth;\r\nint eyestalkHeight;\r\n\r\n//eyestalk1\r\nint eyestalk1XLoc;\r\nint eyestalk1YLoc;\r\nint eyestalk1Width;\r\nint eyestalk1Height;\r\n\r\n//eyestalk2\r\nint eyestalk2XLoc;\r\nint eyestalk2YLoc;\r\nint eyestalk2Width;\r\nint eyestalk2Height;\r\n\r\n//eyestalk3\r\nint eyestalk3XLoc;\r\nint eyestalk3YLoc;\r\nint eyestalk3Width;\r\nint eyestalk3Height;\r\n\r\n//eyestalk4\r\nint eyestalk4XLoc;\r\nint eyestalk4YLoc;\r\nint eyestalk4Width;\r\nint eyestalk4Height;\r\n\r\n//eyestalk5\r\nint eyestalk5XLoc;\r\nint eyestalk5YLoc;\r\nint eyestalk5Width;\r\nint eyestalk5Height;\r\n\r\n//eyestalk6\r\nint eyestalk6XLoc;\r\nint eyestalk6YLoc;\r\nint eyestalk6Width;\r\nint eyestalk6Height;\r\n\r\n///eyestalk7\r\nint eyestalk7XLoc;\r\nint eyestalk7YLoc;\r\nint eyestalk7Width;\r\nint eyestalk7Height;\r\n\r\n//ship\r\nint shipXLoc;\r\nint shipYLoc;\r\nint shipWidth = 180;\r\nint shipHeight = 75;\r\n\r\n//ship1\r\nint ship1XLoc;\r\nint ship1YLoc;\r\nint ship1Width = 100;\r\nint ship1Height = 30;\r\n  \r\n  \r\n  \r\n  Alien (int bW, int bH, int xL, int yL) {\r\n   \r\n    boundboxWidth = bW;\r\n    boundboxHeight = bH;\r\n    boundboxXLoc = xL;\r\n    boundboxYLoc = yL;\r\n\r\n  } \r\n  \r\n  \r\n  // draw the boundary box\r\n    void drawAlien() {\r\n    fill (100,0,0,0);\r\n    ellipse(boundboxXLoc, boundboxYLoc, boundboxWidth, boundboxHeight);\r\n\r\n // draw the Body\r\n     fill (Red,Green,Blue,Opacity);\r\n     ellipse(BodyXLoc, BodyYLoc, BodyWidth, BodyHeight);\r\n     BodyXLoc = boundboxXLoc;\r\n     BodyYLoc = boundboxYLoc + (boundboxHeight/8);\r\n     BodyWidth = boundboxWidth / (175/75) ;\r\n     BodyHeight = boundboxHeight / (250/100); \r\n     \r\n\r\n // draw the head\r\n    fill (Red,Green,Blue,Opacity);\r\n    ellipse(HeadXLoc, HeadYLoc, HeadWidth, HeadHeight); \r\n    HeadXLoc = boundboxXLoc;\r\n    HeadYLoc = boundboxYLoc - (boundboxHeight/5);\r\n    HeadWidth = boundboxWidth / (175/70);\r\n    HeadHeight = boundboxHeight / (250/56); \r\n  \r\n // draw the right eye stalk\r\n    fill (Red,Green,Blue,Opacity);\r\n    rect(eyestalkXLoc, eyestalkYLoc, eyestalkWidth, eyestalkHeight);\r\n    eyestalkXLoc = boundboxXLoc + (boundboxWidth/17);\r\n    eyestalkYLoc = boundboxYLoc - (boundboxHeight/2)+15;\r\n    eyestalkWidth = boundboxWidth / (175/20) - 1;\r\n    eyestalkHeight = boundboxHeight / (250/50); \r\n \r\n // draw the left eye stalk\r\n    fill (Red,Green,Blue,Opacity);\r\n    rect(eyestalk1XLoc, eyestalk1YLoc, eyestalk1Width, eyestalk1Height);\r\n    eyestalk1XLoc = boundboxXLoc -(boundboxWidth/6);\r\n    eyestalk1YLoc = boundboxYLoc - (boundboxHeight/2)+15;\r\n    eyestalk1Width = boundboxWidth / (175/20) - 1;\r\n    eyestalk1Height = boundboxHeight / (250/50);\r\n \r\n // the white part of the eye, right  \r\n    fill (255,255,255);\r\n    ellipse(eyestalk2XLoc, eyestalk2YLoc, eyestalk2Width, eyestalk2Height);\r\n    eyestalk2XLoc = boundboxXLoc + boundboxWidth / (175/20);\r\n    eyestalk2YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk2Width = boundboxWidth / (175/10);\r\n    eyestalk2Height = boundboxHeight / (250/30);\r\n \r\n // the white part of the eye, left  \r\n    fill (255,255,255);\r\n    ellipse(eyestalk3XLoc, eyestalk3YLoc, eyestalk3Width, eyestalk3Height);\r\n    eyestalk3XLoc = boundboxXLoc - boundboxWidth / (175/20);\r\n    eyestalk3YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk3Width = boundboxWidth / (175/10);\r\n    eyestalk3Height = boundboxHeight / (250/30);\r\n    \r\n // the right pupil\r\n    fill (0,0,0);\r\n    ellipse(eyestalk4XLoc, eyestalk4YLoc, eyestalk4Width, eyestalk4Height);\r\n    eyestalk4XLoc = boundboxXLoc + boundboxWidth / (175/20);\r\n    eyestalk4YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk4Width = boundboxWidth / (175/5);\r\n    eyestalk4Height = boundboxHeight / (250/15);\r\n    \r\n // the left pupil\r\n    fill (0,0,0);\r\n    ellipse(eyestalk5XLoc, eyestalk5YLoc, eyestalk5Width, eyestalk5Height);\r\n    eyestalk5XLoc = boundboxXLoc - boundboxWidth / (175/20);\r\n    eyestalk5YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk5Width = boundboxWidth / (175/5);\r\n    eyestalk5Height = boundboxHeight / (250/15);\r\n    \r\n // the top part of the eye stalk, right\r\n    fill (Red,Green,Blue,Opacity);\r\n    ellipse(eyestalk6XLoc, eyestalk6YLoc, eyestalk6Width, eyestalk6Height);\r\n    eyestalk6XLoc = boundboxXLoc + boundboxWidth / (175/19);\r\n    eyestalk6YLoc = eyestalkYLoc;\r\n    eyestalk6Width = boundboxWidth / (175/20);\r\n    eyestalk6Height = boundboxHeight / (250/20);\r\n    \r\n // the top part of the eye stalk, left\r\n    fill (Red,Green,Blue,Opacity);\r\n    ellipse(eyestalk7XLoc, eyestalk7YLoc, eyestalk7Width, eyestalk7Height);\r\n    eyestalk7XLoc = boundboxXLoc - boundboxWidth / (175/19);\r\n    eyestalk7YLoc = eyestalkYLoc;\r\n    eyestalk7Width = boundboxWidth / (175/20);\r\n    eyestalk7Height = boundboxHeight / (250/20);\r\n   \r\n // The mouth\r\n   fill (50,50,50);\r\n   ellipse(mouthXLoc, mouthYLoc, mouthWidth, mouthHeight);\r\n   mouthXLoc = boundboxXLoc;\r\n   mouthYLoc = boundboxYLoc - boundboxHeight/6;\r\n   mouthWidth = boundboxWidth / (175/40);\r\n   mouthHeight = boundboxHeight / (250/10);\r\n\r\n // the arms\r\n   fill (Red,Green,Blue,Opacity);\r\n   ellipse(armsXLoc, armsYLoc, armsWidth, armsHeight);\r\n   armsXLoc = BodyXLoc; \r\n   armsYLoc = BodyYLoc-10;\r\n   armsWidth = boundboxWidth ;\r\n   armsHeight = boundboxHeight / (250/15);\r\n   \r\n //spot1\r\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\r\n   ellipse(spot1XLoc, spot1YLoc, spot1Width, spot1Height);\r\n   spot1XLoc = boundboxXLoc + spot1LocX + (boundboxWidth/20);\r\n   spot1YLoc = boundboxYLoc + (boundboxHeight/50);\r\n   spot1Width = boundboxWidth / (175/30) ;\r\n   spot1Height = boundboxHeight / (250/15); \r\n     \r\n  //spot2\r\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\r\n   ellipse(spot2XLoc, spot2YLoc, spot2Width, spot2Height);\r\n   spot2XLoc = boundboxXLoc + spot2LocX - (boundboxWidth / 10);\r\n   spot2YLoc = boundboxYLoc  - (boundboxHeight/20);\r\n   spot2Width = boundboxWidth / (175/15) ;\r\n   spot2Height = boundboxHeight / (250/13); \r\n     \r\n  //spot3\r\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\r\n   ellipse(spot3XLoc, spot3YLoc, spot3Width, spot3Height);\r\n   spot3XLoc = boundboxXLoc + spot3LocX - (boundboxWidth / 10);\r\n   spot3YLoc = boundboxYLoc + (boundboxHeight/10);\r\n   spot3Width = boundboxWidth / (175/50) ;\r\n   spot3Height = boundboxHeight / (250/23); \r\n\r\n // the ship\r\n   fill (100,100,100);\r\n   ellipse(shipXLoc, shipYLoc, shipWidth, shipHeight);\r\n   shipXLoc = BodyXLoc; \r\n   shipYLoc = (BodyYLoc + (boundboxHeight/5));\r\n   shipWidth = boundboxWidth;\r\n   shipHeight = boundboxHeight / (250/75);\r\n\r\n // the bottom of the ship\r\n    fill (150,170,200);\r\n    ellipse(ship1XLoc, ship1YLoc, ship1Width, ship1Height);\r\n    ship1XLoc = BodyXLoc; \r\n    ship1YLoc = (shipYLoc + (shipHeight/3));\r\n    ship1Width = boundboxWidth / (250/100);\r\n    ship1Height = boundboxHeight / (250/30);\r\n \r\n}\r\n  \r\n  void moveAlien() {\r\n  if (moveUp) {\r\n    boundboxYLoc -= alienSpeed;\r\n  }\r\n  if (moveRight) {\r\n    if (moveUp) {\r\n      boundboxXLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\r\n      boundboxYLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\r\n    } else {\r\n      boundboxXLoc += alienSpeed;\r\n    }\r\n  }\r\n  if (moveDown) {\r\n    boundboxYLoc += alienSpeed;\r\n  }\r\n  if (moveLeft) {\r\n    if (moveDown) {\r\n      boundboxXLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\r\n      boundboxYLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\r\n    } else {\r\n      boundboxXLoc -= alienSpeed;\r\n    }\r\n }\r\n}\r\n\r\nvoid keyReleased() {\r\n  if (key == &#39;w&#39;) {\r\n    moveUp = false;\r\n  }\r\n  if (key == &#39;a&#39;) {\r\n    moveLeft = false;\r\n  }\r\n  if (key == &#39;s&#39;) {\r\n    moveDown = false;\r\n  }\r\n  if (key == &#39;d&#39;) {\r\n    moveRight = false;\r\n  }\r\n}\r\n\r\n\r\nvoid keyPressed() {\r\n  if (key == &#39;w&#39;) {\r\n    moveUp = true;\r\n  }\r\n  if (key == &#39;s&#39;) {\r\n    moveDown = true;\r\n  }\r\n  if (key == &#39;a&#39;) {\r\n    moveLeft = true;\r\n  }\r\n  if (key == &#39;d&#39;) {\r\n    moveRight = true;\r\n  }\r\n}\r\n\r\nvoid checkForedge() {\r\n  \r\n// right wall\r\n  if(boundboxXLoc &gt;= 990) {\r\n      boundboxXLoc = boundboxXLoc -1050;\r\n\r\n  }  \r\n// left wall\r\n    if(boundboxXLoc &lt;= -50) {\r\n      boundboxXLoc = boundboxXLoc + 1050;\r\n\r\n    }\r\n// bottom wall\r\n  if(boundboxYLoc &lt;= -70) {\r\n      boundboxYLoc = boundboxYLoc + 780;\r\n\r\n  }  \r\n// top wall\r\n    if(boundboxYLoc &gt;= 700) {\r\n      boundboxYLoc = boundboxYLoc - 780; \r\n    \r\n  }\r\n}\r\n  \r\n}//end class\r\n```\r\nI tried moving about the position of `ALien.KeyPressed` and `Alien.KeyReleased` hoping it would help it read it, but thats had no affect","title":"My code works on its own, but when I put it into a class, it breaks","body":"<p>I have been making this alien game where you have to control the alien on a screen using &quot;wasd&quot;, but when I put my code into a class, the class does not read <code>Alien.KeyReleased</code> in the set up, and I have no idea why</p>\n<pre><code>Alien Alien;\n\nvoid setup(){\n  \n  size (950, 650);\n  background(10,10,20);\n  Alien = new Alien(90, 150, 200, 200);\n}\n\nvoid draw() {\n  noStroke();\n  background(10,10,25);\n\n  Alien.drawAlien();\n  Alien.moveAlien();\n  Alien.checkForedge();\n  Alien.keyReleased();\n  Alien.keyPressed();\n}\n</code></pre>\n<pre><code>class Alien {\n  \nint alienSpeed = 5;\nboolean moveUp;\nboolean moveDown;\nboolean moveLeft;\nboolean moveRight;\n\nint boundboxXLoc = 325;\nint boundboxYLoc = 325;\nint boundboxWidth = 90;\nint boundboxHeight = 150;\n\n//body\nint BodyXLoc;\nint BodyYLoc;\nint BodyWidth;\nint BodyHeight;\n\n//spot1 \nint spot1XLoc ;\nint spot1YLoc ;\nint spot1Width;\nint spot1Height;\n\n//spot2 \nint spot2XLoc ;\nint spot2YLoc ;\nint spot2Width;\nint spot2Height;\n\n//spot23\nint spot3XLoc ;\nint spot3YLoc ;\nint spot3Width;\nint spot3Height;\n\n//Generate random colours\nint Red = (int) random(200);\nint Blue = (int) random(200);\nint Green = (int) random(200);\nint Opacity = 255;\n\n//Generate spot1 Loc, mid\nint spot1LocX = (int) random(-13,8);\n\n//Generate spot2Loc, small\nint spot2LocX = (int) random(-4,27);\n\n//Generate spot3 Loc, big\nint spot3LocX = (int) random(-2,20);\n\n//arms \nint armsXLoc ;\nint armsYLoc ;\nint armsWidth;\nint armsHeight;\n\n//head\nint HeadXLoc;\nint HeadYLoc; \nint HeadWidth;\nint HeadHeight;\n\n//mouth\nint mouthXLoc;\nint mouthYLoc;\nint mouthWidth;\nint mouthHeight;\n\n//eyestalk\nint eyestalkXLoc;\nint eyestalkYLoc;\nint eyestalkWidth;\nint eyestalkHeight;\n\n//eyestalk1\nint eyestalk1XLoc;\nint eyestalk1YLoc;\nint eyestalk1Width;\nint eyestalk1Height;\n\n//eyestalk2\nint eyestalk2XLoc;\nint eyestalk2YLoc;\nint eyestalk2Width;\nint eyestalk2Height;\n\n//eyestalk3\nint eyestalk3XLoc;\nint eyestalk3YLoc;\nint eyestalk3Width;\nint eyestalk3Height;\n\n//eyestalk4\nint eyestalk4XLoc;\nint eyestalk4YLoc;\nint eyestalk4Width;\nint eyestalk4Height;\n\n//eyestalk5\nint eyestalk5XLoc;\nint eyestalk5YLoc;\nint eyestalk5Width;\nint eyestalk5Height;\n\n//eyestalk6\nint eyestalk6XLoc;\nint eyestalk6YLoc;\nint eyestalk6Width;\nint eyestalk6Height;\n\n///eyestalk7\nint eyestalk7XLoc;\nint eyestalk7YLoc;\nint eyestalk7Width;\nint eyestalk7Height;\n\n//ship\nint shipXLoc;\nint shipYLoc;\nint shipWidth = 180;\nint shipHeight = 75;\n\n//ship1\nint ship1XLoc;\nint ship1YLoc;\nint ship1Width = 100;\nint ship1Height = 30;\n  \n  \n  \n  Alien (int bW, int bH, int xL, int yL) {\n   \n    boundboxWidth = bW;\n    boundboxHeight = bH;\n    boundboxXLoc = xL;\n    boundboxYLoc = yL;\n\n  } \n  \n  \n  // draw the boundary box\n    void drawAlien() {\n    fill (100,0,0,0);\n    ellipse(boundboxXLoc, boundboxYLoc, boundboxWidth, boundboxHeight);\n\n // draw the Body\n     fill (Red,Green,Blue,Opacity);\n     ellipse(BodyXLoc, BodyYLoc, BodyWidth, BodyHeight);\n     BodyXLoc = boundboxXLoc;\n     BodyYLoc = boundboxYLoc + (boundboxHeight/8);\n     BodyWidth = boundboxWidth / (175/75) ;\n     BodyHeight = boundboxHeight / (250/100); \n     \n\n // draw the head\n    fill (Red,Green,Blue,Opacity);\n    ellipse(HeadXLoc, HeadYLoc, HeadWidth, HeadHeight); \n    HeadXLoc = boundboxXLoc;\n    HeadYLoc = boundboxYLoc - (boundboxHeight/5);\n    HeadWidth = boundboxWidth / (175/70);\n    HeadHeight = boundboxHeight / (250/56); \n  \n // draw the right eye stalk\n    fill (Red,Green,Blue,Opacity);\n    rect(eyestalkXLoc, eyestalkYLoc, eyestalkWidth, eyestalkHeight);\n    eyestalkXLoc = boundboxXLoc + (boundboxWidth/17);\n    eyestalkYLoc = boundboxYLoc - (boundboxHeight/2)+15;\n    eyestalkWidth = boundboxWidth / (175/20) - 1;\n    eyestalkHeight = boundboxHeight / (250/50); \n \n // draw the left eye stalk\n    fill (Red,Green,Blue,Opacity);\n    rect(eyestalk1XLoc, eyestalk1YLoc, eyestalk1Width, eyestalk1Height);\n    eyestalk1XLoc = boundboxXLoc -(boundboxWidth/6);\n    eyestalk1YLoc = boundboxYLoc - (boundboxHeight/2)+15;\n    eyestalk1Width = boundboxWidth / (175/20) - 1;\n    eyestalk1Height = boundboxHeight / (250/50);\n \n // the white part of the eye, right  \n    fill (255,255,255);\n    ellipse(eyestalk2XLoc, eyestalk2YLoc, eyestalk2Width, eyestalk2Height);\n    eyestalk2XLoc = boundboxXLoc + boundboxWidth / (175/20);\n    eyestalk2YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk2Width = boundboxWidth / (175/10);\n    eyestalk2Height = boundboxHeight / (250/30);\n \n // the white part of the eye, left  \n    fill (255,255,255);\n    ellipse(eyestalk3XLoc, eyestalk3YLoc, eyestalk3Width, eyestalk3Height);\n    eyestalk3XLoc = boundboxXLoc - boundboxWidth / (175/20);\n    eyestalk3YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk3Width = boundboxWidth / (175/10);\n    eyestalk3Height = boundboxHeight / (250/30);\n    \n // the right pupil\n    fill (0,0,0);\n    ellipse(eyestalk4XLoc, eyestalk4YLoc, eyestalk4Width, eyestalk4Height);\n    eyestalk4XLoc = boundboxXLoc + boundboxWidth / (175/20);\n    eyestalk4YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk4Width = boundboxWidth / (175/5);\n    eyestalk4Height = boundboxHeight / (250/15);\n    \n // the left pupil\n    fill (0,0,0);\n    ellipse(eyestalk5XLoc, eyestalk5YLoc, eyestalk5Width, eyestalk5Height);\n    eyestalk5XLoc = boundboxXLoc - boundboxWidth / (175/20);\n    eyestalk5YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk5Width = boundboxWidth / (175/5);\n    eyestalk5Height = boundboxHeight / (250/15);\n    \n // the top part of the eye stalk, right\n    fill (Red,Green,Blue,Opacity);\n    ellipse(eyestalk6XLoc, eyestalk6YLoc, eyestalk6Width, eyestalk6Height);\n    eyestalk6XLoc = boundboxXLoc + boundboxWidth / (175/19);\n    eyestalk6YLoc = eyestalkYLoc;\n    eyestalk6Width = boundboxWidth / (175/20);\n    eyestalk6Height = boundboxHeight / (250/20);\n    \n // the top part of the eye stalk, left\n    fill (Red,Green,Blue,Opacity);\n    ellipse(eyestalk7XLoc, eyestalk7YLoc, eyestalk7Width, eyestalk7Height);\n    eyestalk7XLoc = boundboxXLoc - boundboxWidth / (175/19);\n    eyestalk7YLoc = eyestalkYLoc;\n    eyestalk7Width = boundboxWidth / (175/20);\n    eyestalk7Height = boundboxHeight / (250/20);\n   \n // The mouth\n   fill (50,50,50);\n   ellipse(mouthXLoc, mouthYLoc, mouthWidth, mouthHeight);\n   mouthXLoc = boundboxXLoc;\n   mouthYLoc = boundboxYLoc - boundboxHeight/6;\n   mouthWidth = boundboxWidth / (175/40);\n   mouthHeight = boundboxHeight / (250/10);\n\n // the arms\n   fill (Red,Green,Blue,Opacity);\n   ellipse(armsXLoc, armsYLoc, armsWidth, armsHeight);\n   armsXLoc = BodyXLoc; \n   armsYLoc = BodyYLoc-10;\n   armsWidth = boundboxWidth ;\n   armsHeight = boundboxHeight / (250/15);\n   \n //spot1\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\n   ellipse(spot1XLoc, spot1YLoc, spot1Width, spot1Height);\n   spot1XLoc = boundboxXLoc + spot1LocX + (boundboxWidth/20);\n   spot1YLoc = boundboxYLoc + (boundboxHeight/50);\n   spot1Width = boundboxWidth / (175/30) ;\n   spot1Height = boundboxHeight / (250/15); \n     \n  //spot2\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\n   ellipse(spot2XLoc, spot2YLoc, spot2Width, spot2Height);\n   spot2XLoc = boundboxXLoc + spot2LocX - (boundboxWidth / 10);\n   spot2YLoc = boundboxYLoc  - (boundboxHeight/20);\n   spot2Width = boundboxWidth / (175/15) ;\n   spot2Height = boundboxHeight / (250/13); \n     \n  //spot3\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\n   ellipse(spot3XLoc, spot3YLoc, spot3Width, spot3Height);\n   spot3XLoc = boundboxXLoc + spot3LocX - (boundboxWidth / 10);\n   spot3YLoc = boundboxYLoc + (boundboxHeight/10);\n   spot3Width = boundboxWidth / (175/50) ;\n   spot3Height = boundboxHeight / (250/23); \n\n // the ship\n   fill (100,100,100);\n   ellipse(shipXLoc, shipYLoc, shipWidth, shipHeight);\n   shipXLoc = BodyXLoc; \n   shipYLoc = (BodyYLoc + (boundboxHeight/5));\n   shipWidth = boundboxWidth;\n   shipHeight = boundboxHeight / (250/75);\n\n // the bottom of the ship\n    fill (150,170,200);\n    ellipse(ship1XLoc, ship1YLoc, ship1Width, ship1Height);\n    ship1XLoc = BodyXLoc; \n    ship1YLoc = (shipYLoc + (shipHeight/3));\n    ship1Width = boundboxWidth / (250/100);\n    ship1Height = boundboxHeight / (250/30);\n \n}\n  \n  void moveAlien() {\n  if (moveUp) {\n    boundboxYLoc -= alienSpeed;\n  }\n  if (moveRight) {\n    if (moveUp) {\n      boundboxXLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\n      boundboxYLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\n    } else {\n      boundboxXLoc += alienSpeed;\n    }\n  }\n  if (moveDown) {\n    boundboxYLoc += alienSpeed;\n  }\n  if (moveLeft) {\n    if (moveDown) {\n      boundboxXLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\n      boundboxYLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\n    } else {\n      boundboxXLoc -= alienSpeed;\n    }\n }\n}\n\nvoid keyReleased() {\n  if (key == 'w') {\n    moveUp = false;\n  }\n  if (key == 'a') {\n    moveLeft = false;\n  }\n  if (key == 's') {\n    moveDown = false;\n  }\n  if (key == 'd') {\n    moveRight = false;\n  }\n}\n\n\nvoid keyPressed() {\n  if (key == 'w') {\n    moveUp = true;\n  }\n  if (key == 's') {\n    moveDown = true;\n  }\n  if (key == 'a') {\n    moveLeft = true;\n  }\n  if (key == 'd') {\n    moveRight = true;\n  }\n}\n\nvoid checkForedge() {\n  \n// right wall\n  if(boundboxXLoc &gt;= 990) {\n      boundboxXLoc = boundboxXLoc -1050;\n\n  }  \n// left wall\n    if(boundboxXLoc &lt;= -50) {\n      boundboxXLoc = boundboxXLoc + 1050;\n\n    }\n// bottom wall\n  if(boundboxYLoc &lt;= -70) {\n      boundboxYLoc = boundboxYLoc + 780;\n\n  }  \n// top wall\n    if(boundboxYLoc &gt;= 700) {\n      boundboxYLoc = boundboxYLoc - 780; \n    \n  }\n}\n  \n}//end class\n</code></pre>\n<p>I tried moving about the position of <code>ALien.KeyPressed</code> and <code>Alien.KeyReleased</code> hoping it would help it read it, but thats had no affect</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"score":0,"creation_date":1678586925,"post_id":75710480,"comment_id":133562175,"body_markdown":"Providing more details on the crash, including what type of exception is happening, a stack trace, or a way to reproduce the issue is probably going to be helpful.  Do you even know that the two code snippets above are actually causing the issue?  I am not an Android expert, but I think it&#39;s unlikely that most people will be able to divine your issue just based on those two functions and a quick description of the problem.  More context is almost certainly needed.","body":"Providing more details on the crash, including what type of exception is happening, a stack trace, or a way to reproduce the issue is probably going to be helpful.  Do you even know that the two code snippets above are actually causing the issue?  I am not an Android expert, but I think it&#39;s unlikely that most people will be able to divine your issue just based on those two functions and a quick description of the problem.  More context is almost certainly needed."},{"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"score":0,"creation_date":1678659206,"post_id":75710480,"comment_id":133571922,"body_markdown":"@Jake Like I said am not getting any error in my logs but the app is crashing. Am lost too, because there is no error that I can see in the logs its just crashing. I don&#39;t mind providing more code on request because I don&#39;t know which code to provide","body":"@Jake Like I said am not getting any error in my logs but the app is crashing. Am lost too, because there is no error that I can see in the logs its just crashing. I don&#39;t mind providing more code on request because I don&#39;t know which code to provide"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678582342,"creation_date":1678582342,"question_id":75710480,"body_markdown":"so I am building a social app which needs images for posts. The problem is when I open the gallery to select an image it crashes. It doesn&#39;t crash always it only crashes if I take some time, But not t0o much time just an amount I think would be average in terms of an average person going through his gallery looking for the right image. I have no idea where the issue is because I tried finding an error in the logs but its almost like the crash event is outside the app so the logs don&#39;t show it. here is the code to pick the image\r\n\r\n    add_image.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                    Intent intent = new Intent();\r\n                    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                    intent.setType(&quot;image/*&quot;);\r\n                    startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\r\n\r\n            }\r\n        });\r\n\r\nThen here is the code for retrieving and compressing the image in onActivityResult of course\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n\r\n            imageUri = data.getData();\r\n            imageView.setImageURI(imageUri);\r\n            imageView.setVisibility(View.VISIBLE);\r\n            isImageSelected = true;\r\n\r\n            try {\r\n                Bitmap original = MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\r\n                ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                original.compress(Bitmap.CompressFormat.JPEG, UPLOAD_IMAGE_QUALITY, stream);\r\n                image = stream.toByteArray();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n\r\n    }","title":"App Crashes after taking long to select image from gallery","body":"<p>so I am building a social app which needs images for posts. The problem is when I open the gallery to select an image it crashes. It doesn't crash always it only crashes if I take some time, But not t0o much time just an amount I think would be average in terms of an average person going through his gallery looking for the right image. I have no idea where the issue is because I tried finding an error in the logs but its almost like the crash event is outside the app so the logs don't show it. here is the code to pick the image</p>\n<pre><code>add_image.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\n\n        }\n    });\n</code></pre>\n<p>Then here is the code for retrieving and compressing the image in onActivityResult of course</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n    if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n\n        imageUri = data.getData();\n        imageView.setImageURI(imageUri);\n        imageView.setVisibility(View.VISIBLE);\n        isImageSelected = true;\n\n        try {\n            Bitmap original = MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            original.compress(Bitmap.CompressFormat.JPEG, UPLOAD_IMAGE_QUALITY, stream);\n            image = stream.toByteArray();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    super.onActivityResult(requestCode, resultCode, data);\n\n\n}\n</code></pre>\n"},{"tags":["java","optimization","casting","memory-management"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1287495416,"post_id":3968913,"comment_id":4243625,"body_markdown":"It is not good practice to maintain two, can you post your actual problem so that we can suggest better design. I didn&#39;t down vote","body":"It is not good practice to maintain two, can you post your actual problem so that we can suggest better design. I didn&#39;t down vote"},{"owner":{"account_id":199923,"reputation":106976,"user_id":445517,"accept_rate":43,"display_name":"CodesInChaos"},"score":0,"creation_date":1287495666,"post_id":3968913,"comment_id":4243672,"body_markdown":"Casting to the superclass should be free. And about how many pointers are we talking here? Is it just a few local variables or thousands?","body":"Casting to the superclass should be free. And about how many pointers are we talking here? Is it just a few local variables or thousands?"},{"owner":{"account_id":101106,"reputation":2210,"user_id":272176,"display_name":"Tom Castle"},"score":2,"creation_date":1287495963,"post_id":3968913,"comment_id":4243742,"body_markdown":"Worth reading the answers to this question on the overhead of casting - http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why","body":"Worth reading the answers to this question on the overhead of casting - <a href=\"http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why\" title=\"does java casting introduce overhead why\">stackoverflow.com/questions/2170872/&hellip;</a>"},{"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"score":0,"creation_date":1287500990,"post_id":3968913,"comment_id":4244755,"body_markdown":"http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why/2171477#2171477 is what you are looking for.","body":"<a href=\"http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why/2171477#2171477\" title=\"does java casting introduce overhead why\">stackoverflow.com/questions/2170872/&hellip;</a> is what you are looking for."},{"owner":{"account_id":174188,"reputation":1673,"user_id":403397,"accept_rate":59,"display_name":"GC_"},"score":0,"creation_date":1287960191,"post_id":3968913,"comment_id":4298510,"body_markdown":"I choose P&#233;ter T&#246;r&#246;k, because he wrote, &quot;Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is within your code,&quot; which I think is good advice.","body":"I choose P&#233;ter T&#246;r&#246;k, because he wrote, &quot;Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is within your code,&quot; which I think is good advice."}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1287495498,"creation_date":1287495498,"answer_id":3968934,"question_id":3968913,"body_markdown":"Do whatever makes the code clearer, forget about micro-optimizations.","title":"How much processing and memory use does casting take in Java?","body":"<p>Do whatever makes the code clearer, forget about micro-optimizations.</p>\n"},{"tags":[],"owner":{"account_id":44204,"reputation":9823,"user_id":129599,"accept_rate":100,"display_name":"Ophidian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287495507,"creation_date":1287495507,"answer_id":3968936,"question_id":3968913,"body_markdown":"Just go with whichever solution is easier to read and cleanest to maintain (likely the first solution).  At that low a level of optimization, it&#39;s really not worth it except in edge cases where you really need the extra 0.01% performance improvement.\r\n\r\nFor what it&#39;s worth, you don&#39;t actually need to cast a subclass to a superclass reference (second solution listed), only the other way around.  When casting a superclass to a subclass, it&#39;s generally preferred verify its type with `instanceof` prior to the cast rather than making assumptions.","title":"How much processing and memory use does casting take in Java?","body":"<p>Just go with whichever solution is easier to read and cleanest to maintain (likely the first solution).  At that low a level of optimization, it's really not worth it except in edge cases where you really need the extra 0.01% performance improvement.</p>\n\n<p>For what it's worth, you don't actually need to cast a subclass to a superclass reference (second solution listed), only the other way around.  When casting a superclass to a subclass, it's generally preferred verify its type with <code>instanceof</code> prior to the cast rather than making assumptions.</p>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287495832,"creation_date":1287495530,"answer_id":3968942,"question_id":3968913,"body_markdown":"&lt;strike&gt;Casting is not an &quot;operation&quot; that is done at runtime. It&#39;s just needed by the compiler to assure you static type safety.&lt;/strike&gt;\r\n\r\nJust looked at JVM code, the two approaches are basically equivalent, they are implemented as\r\n\r\n    CHECKCAST Main$B\r\n    INVOKEVIRTUAL Main$B.mySubMethod()V\r\n\r\nso a small overhead is present, but it&#39;s the same in both cases (since you gotta do a downcast anyway).","title":"How much processing and memory use does casting take in Java?","body":"<p><strike>Casting is not an \"operation\" that is done at runtime. It's just needed by the compiler to assure you static type safety.</strike></p>\n\n<p>Just looked at JVM code, the two approaches are basically equivalent, they are implemented as</p>\n\n<pre><code>CHECKCAST Main$B\nINVOKEVIRTUAL Main$B.mySubMethod()V\n</code></pre>\n\n<p>so a small overhead is present, but it's the same in both cases (since you gotta do a downcast anyway).</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1287653604,"creation_date":1287495534,"answer_id":3968943,"question_id":3968913,"body_markdown":"&lt;strike&gt;It seems from your code snippet that `getSameInstance()` returns a `SubClass`. In this case the simplest solution is\n\n    SubClass objectB = getSameInstance();\n    objectB.functionOne();\n    objectB.functionOther();\n\nNo casts, no worries :-)&lt;/strike&gt;\n\nAs others have rightly noted, the primary concern should be code readability and simplicity, not performance. **Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is** within your code. Even in this case, micro-optimization is rarely useful in Java.\n\nAn additional note: calling the same method twice can be problematic if the method is heavy (in which case you are effectively making your code slower, not faster), or has side effects (in which case the behaviour of your program may noticeably change).\n\nAnd btw in this line of your code snippet\n\n    SuperClass objectA = (SuperClass) getSameInstance();\n\nthere is absolutely no need to upcast the returned value to `SuperClass` - a superclass reference can always point to a subclass object. (I guess that such an upcast would be omitted by the compiler anyway, so it makes no difference in the bytecode.)\n\n### Update\n\nYou still haven&#39;t published the declaration of the method I asked for. But from your explanation I presume it should look something like\n\n    public Shape getSomeRandomShape();\n\n**is this correct?**\n\nThis would btw mean that your 2nd original code snippet (with the `getSameInstance()` call) is incorrect - the casts should be the opposite way. You managed to confuse me with it, so you got a confusing answer :-)\n\nAlso in the latest examples, you don&#39;t need to cast the returned value to a `(Shape)`, since it is already a `Shape`. The cast is just cluttering your code. Similarly, the many casts in the 2nd example of your UPDATE 2 are making the code hard to read. I would prefer the first version, with two references (_not_ pointers btw - Java has no pointers).\n\nAnd I care only about code readability here - as others have already noted, **you should really, really not waste your time thinking about the cost of casts**. Just **focus on making your code as simple and readable as possible**. You would most likely never ever going to notice the tiniest bit of difference between the performance of the two code snippets you show above (unless maybe if they are executed in a tight loop millions of times - but then, I guess, the JIT would optimize the casts away anyway). However, you will notice the difference it takes in time to understand one code snippet versus the other, for someone who is new to this code - or someone who has forgotten the details already, which could be you in about 6 months.\n","title":"How much processing and memory use does casting take in Java?","body":"<p><strike>It seems from your code snippet that <code>getSameInstance()</code> returns a <code>SubClass</code>. In this case the simplest solution is</p>\n<pre><code>SubClass objectB = getSameInstance();\nobjectB.functionOne();\nobjectB.functionOther();\n</code></pre>\n<p>No casts, no worries :-)</strike></p>\n<p>As others have rightly noted, the primary concern should be code readability and simplicity, not performance. <strong>Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is</strong> within your code. Even in this case, micro-optimization is rarely useful in Java.</p>\n<p>An additional note: calling the same method twice can be problematic if the method is heavy (in which case you are effectively making your code slower, not faster), or has side effects (in which case the behaviour of your program may noticeably change).</p>\n<p>And btw in this line of your code snippet</p>\n<pre><code>SuperClass objectA = (SuperClass) getSameInstance();\n</code></pre>\n<p>there is absolutely no need to upcast the returned value to <code>SuperClass</code> - a superclass reference can always point to a subclass object. (I guess that such an upcast would be omitted by the compiler anyway, so it makes no difference in the bytecode.)</p>\n<h3>Update</h3>\n<p>You still haven't published the declaration of the method I asked for. But from your explanation I presume it should look something like</p>\n<pre><code>public Shape getSomeRandomShape();\n</code></pre>\n<p><strong>is this correct?</strong></p>\n<p>This would btw mean that your 2nd original code snippet (with the <code>getSameInstance()</code> call) is incorrect - the casts should be the opposite way. You managed to confuse me with it, so you got a confusing answer :-)</p>\n<p>Also in the latest examples, you don't need to cast the returned value to a <code>(Shape)</code>, since it is already a <code>Shape</code>. The cast is just cluttering your code. Similarly, the many casts in the 2nd example of your UPDATE 2 are making the code hard to read. I would prefer the first version, with two references (<em>not</em> pointers btw - Java has no pointers).</p>\n<p>And I care only about code readability here - as others have already noted, <strong>you should really, really not waste your time thinking about the cost of casts</strong>. Just <strong>focus on making your code as simple and readable as possible</strong>. You would most likely never ever going to notice the tiniest bit of difference between the performance of the two code snippets you show above (unless maybe if they are executed in a tight loop millions of times - but then, I guess, the JIT would optimize the casts away anyway). However, you will notice the difference it takes in time to understand one code snippet versus the other, for someone who is new to this code - or someone who has forgotten the details already, which could be you in about 6 months.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287495541,"creation_date":1287495541,"answer_id":3968944,"question_id":3968913,"body_markdown":"Readability and code maintenance should be your priority in something like this, not performance, unless you actually hit a bottleneck (extremely unlikely).\r\n\r\nHowever, there is no reason to have two references (pointers). Just reference the subclass. Anything you could do with the superclass reference you can do with the subclass reference, in almost all cases (a parameter to an overloaded method is the only exception I know of).","title":"How much processing and memory use does casting take in Java?","body":"<p>Readability and code maintenance should be your priority in something like this, not performance, unless you actually hit a bottleneck (extremely unlikely).</p>\n\n<p>However, there is no reason to have two references (pointers). Just reference the subclass. Anything you could do with the superclass reference you can do with the subclass reference, in almost all cases (a parameter to an overloaded method is the only exception I know of).</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287520625,"creation_date":1287520625,"answer_id":3972555,"question_id":3968913,"body_markdown":"Lets say you have a 64-bit machine and it saves 8-bytes of resources.  Lets say you have spent 10 minutes think about it.  Was it a good use of your time?\r\n\r\n1 GB adds about $100 to the cost of a server so 8 bytes cost about $0.0000008\r\n\r\n10 minutes of you time is worth about $1 on minimum wage.\r\n\r\nThe resource is reusable, your time is not.  More importantly the time of anyone reading/ supporting your code is likely to be even more expensive and that is why simplicity/clarity is far more important.\r\n\r\n","title":"How much processing and memory use does casting take in Java?","body":"<p>Lets say you have a 64-bit machine and it saves 8-bytes of resources.  Lets say you have spent 10 minutes think about it.  Was it a good use of your time?</p>\n\n<p>1 GB adds about $100 to the cost of a server so 8 bytes cost about $0.0000008</p>\n\n<p>10 minutes of you time is worth about $1 on minimum wage.</p>\n\n<p>The resource is reusable, your time is not.  More importantly the time of anyone reading/ supporting your code is likely to be even more expensive and that is why simplicity/clarity is far more important.</p>\n"}],"owner":{"account_id":174188,"reputation":1673,"user_id":403397,"accept_rate":59,"display_name":"GC_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3773,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":3968943,"answer_count":6,"score":8,"last_activity_date":1678581953,"creation_date":1287495343,"question_id":3968913,"body_markdown":"I am considering whether it is better to have two pointers, one for each object sub class and super, or whether I should just use casting.\n\nHow much system resources does this use: \n\n    objectName.functionOne();\n    ((SubClass) objectName).functionOther();\n\nIs it better than:\n\n    SuperClass objectA = (SuperClass) getSameInstance();\n    SubClass objectB = getSameInstance();\n    objectA.functionOne();\n    objectB.functionOther();\n\nBasically, my main question is about the resources used with casting, versus making an extra pointer.  It seems like I could save several in line casts, such as: \n\n    ((SubClass) objectName).functionOther();\n\nHowever, is it worth it?\n\nThanks,&lt;br/&gt;\nGrae\n\n\n### UPDATE:\n\nThere were some unclear parts to my question.  Basically, I have a super class that I am using through out a large function.  It works with three subclasses.  Some the super class is working as I would like.  However, I hit a road block in a few places where I have to use a function from one of the three different subclass; a function that is only in one of the subclasses.\n\nI could just have:\n\n    SuperClass instanceRef;\n    SubClass instanceRef2;\n    \n    instanceRef.etc()\n    instanceRef.etc2()\n    instanceRef.etc3()\n    instanceRef2.specialSubClassOnlyCall();\n    instanceRef2.specialSubClassOnlyCall2();\n\nor I could have:\n\n    SuperClass instanceRef;\n    \n    instanceRef.etc()\n    instanceRef.etc2()\n    instanceRef.etc3()\n    ((SpecialSubClass)instanceRef).specialSubClassOnlyCall();\n    ((SpecialSubClass)instanceRef).specialSubClassOnlyCall2();\n\nHowever, I don&#39;t know which is more efficient.\n\n\n### UPDATE 2:\n\nHere is an example to show you what I am talking about:\n\n    class Shape\n    Triangle extends Shape\n    Square extends Shape\n    Circle extends Shape\n    Cube extends Shape\n\nThe Two Pointer Example:   (Downside an extra pointer.)\n\n    Shape pointer1 = (Shape) getSomeRandomShape();\n    Cube pointer2 = null;\n    \n    pointer1.getWidth();\n    pointer1.getHeight();\n    pointer1.generalShapeProp();\n    pointer1.generalShapeProp2();\n    pointer1.generalShapeProp3();\n    \n    if(sure_its_cube)\n    {\n       pointer2 = (Cube) pointer1;\n       pointer2.getZAxis();\n       pointer2.getOtherCubeOnlyThing();\n       pointer2.getOtherCubeOnlyThing2();\n       pointer2.getOtherCubeOnlyThing3();\n       pointer2.getOtherCubeOnlyThing4();\n    }\n\nOr I could do it this way.  (Downside a bunch of casts.)\n\n    Shape pointer1 = (Shape) getSomeRandomShape();\n    \n    pointer1.getWidth();\n    pointer1.getHeight();\n    pointer1.generalShapeProp();\n    pointer1.generalShapeProp2();\n    pointer1.generalShapeProp3();\n    \n    if(sure_its_cube)\n    {\n       ((Cube)pointer1).getZAxis();\n       ((Cube)pointer1).getOtherCubeOnlyThing();\n       ((Cube)pointer1).getOtherCubeOnlyThing2();\n       ((Cube)pointer1).getOtherCubeOnlyThing3();\n       ((Cube)pointer1).getOtherCubeOnlyThing4();\n    }\n\nSo is five casts worse than one extra pointer?   What is it was six casts, or 20?  Is one cast worse than the pointer.\n\nGrae\n\n\n\n\n","title":"How much processing and memory use does casting take in Java?","body":"<p>I am considering whether it is better to have two pointers, one for each object sub class and super, or whether I should just use casting.</p>\n<p>How much system resources does this use:</p>\n<pre><code>objectName.functionOne();\n((SubClass) objectName).functionOther();\n</code></pre>\n<p>Is it better than:</p>\n<pre><code>SuperClass objectA = (SuperClass) getSameInstance();\nSubClass objectB = getSameInstance();\nobjectA.functionOne();\nobjectB.functionOther();\n</code></pre>\n<p>Basically, my main question is about the resources used with casting, versus making an extra pointer.  It seems like I could save several in line casts, such as:</p>\n<pre><code>((SubClass) objectName).functionOther();\n</code></pre>\n<p>However, is it worth it?</p>\n<p>Thanks,<br/>\nGrae</p>\n<h3>UPDATE:</h3>\n<p>There were some unclear parts to my question.  Basically, I have a super class that I am using through out a large function.  It works with three subclasses.  Some the super class is working as I would like.  However, I hit a road block in a few places where I have to use a function from one of the three different subclass; a function that is only in one of the subclasses.</p>\n<p>I could just have:</p>\n<pre><code>SuperClass instanceRef;\nSubClass instanceRef2;\n\ninstanceRef.etc()\ninstanceRef.etc2()\ninstanceRef.etc3()\ninstanceRef2.specialSubClassOnlyCall();\ninstanceRef2.specialSubClassOnlyCall2();\n</code></pre>\n<p>or I could have:</p>\n<pre><code>SuperClass instanceRef;\n\ninstanceRef.etc()\ninstanceRef.etc2()\ninstanceRef.etc3()\n((SpecialSubClass)instanceRef).specialSubClassOnlyCall();\n((SpecialSubClass)instanceRef).specialSubClassOnlyCall2();\n</code></pre>\n<p>However, I don't know which is more efficient.</p>\n<h3>UPDATE 2:</h3>\n<p>Here is an example to show you what I am talking about:</p>\n<pre><code>class Shape\nTriangle extends Shape\nSquare extends Shape\nCircle extends Shape\nCube extends Shape\n</code></pre>\n<p>The Two Pointer Example:   (Downside an extra pointer.)</p>\n<pre><code>Shape pointer1 = (Shape) getSomeRandomShape();\nCube pointer2 = null;\n\npointer1.getWidth();\npointer1.getHeight();\npointer1.generalShapeProp();\npointer1.generalShapeProp2();\npointer1.generalShapeProp3();\n\nif(sure_its_cube)\n{\n   pointer2 = (Cube) pointer1;\n   pointer2.getZAxis();\n   pointer2.getOtherCubeOnlyThing();\n   pointer2.getOtherCubeOnlyThing2();\n   pointer2.getOtherCubeOnlyThing3();\n   pointer2.getOtherCubeOnlyThing4();\n}\n</code></pre>\n<p>Or I could do it this way.  (Downside a bunch of casts.)</p>\n<pre><code>Shape pointer1 = (Shape) getSomeRandomShape();\n\npointer1.getWidth();\npointer1.getHeight();\npointer1.generalShapeProp();\npointer1.generalShapeProp2();\npointer1.generalShapeProp3();\n\nif(sure_its_cube)\n{\n   ((Cube)pointer1).getZAxis();\n   ((Cube)pointer1).getOtherCubeOnlyThing();\n   ((Cube)pointer1).getOtherCubeOnlyThing2();\n   ((Cube)pointer1).getOtherCubeOnlyThing3();\n   ((Cube)pointer1).getOtherCubeOnlyThing4();\n}\n</code></pre>\n<p>So is five casts worse than one extra pointer?   What is it was six casts, or 20?  Is one cast worse than the pointer.</p>\n<p>Grae</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3623110,"reputation":676,"user_id":3021376,"display_name":"marcellsimon"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1460573127,"creation_date":1390132633,"answer_id":21216424,"question_id":21193380,"body_markdown":"As far as I know, `RequestBody` and `ResponseBody` can be read only once. So you should not read them in an `Interceptor`. \r\nHere&#39;s some [explanation][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10458119/3021376\r\n","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>As far as I know, <code>RequestBody</code> and <code>ResponseBody</code> can be read only once. So you should not read them in an <code>Interceptor</code>. \nHere's some <a href=\"https://stackoverflow.com/a/10458119/3021376\">explanation</a>.</p>\n"},{"tags":[],"owner":{"account_id":289963,"reputation":2107,"user_id":591234,"accept_rate":50,"display_name":"Sashi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390183585,"creation_date":1390183585,"answer_id":21225160,"question_id":21193380,"body_markdown":"Here&#39;s the relevant statement from javadoc for  HandlerInterceptor javadoc. \r\n\r\n\r\n\r\n&gt; Callback after completion of request processing, that is, after rendering the view. Will be called on any outcome of handler execution, thus allows for proper resource cleanup.\r\n\r\n[HandlerIntercepter Javadoc][1]\r\n\r\nYou cannot access the request body (as an InputStream) because the request was already read. If you need access to request parameters, you could do so using the request object by calling - request.getParameter(&quot;parameterName&quot;);\r\n\r\nYou cannot access the response body because the response is already rendered. That means the response is already committed to the outputstream. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>Here's the relevant statement from javadoc for  HandlerInterceptor javadoc. </p>\n\n<blockquote>\n  <p>Callback after completion of request processing, that is, after rendering the view. Will be called on any outcome of handler execution, thus allows for proper resource cleanup.</p>\n</blockquote>\n\n<p><a href=\"http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html\" rel=\"nofollow\">HandlerIntercepter Javadoc</a></p>\n\n<p>You cannot access the request body (as an InputStream) because the request was already read. If you need access to request parameters, you could do so using the request object by calling - request.getParameter(\"parameterName\");</p>\n\n<p>You cannot access the response body because the response is already rendered. That means the response is already committed to the outputstream. </p>\n"},{"tags":[],"owner":{"account_id":6821772,"reputation":467,"user_id":5248705,"display_name":"Aarya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464855772,"creation_date":1464855772,"answer_id":37586382,"question_id":21193380,"body_markdown":"You can get the request body from HTTPServlet request inside HandlerInterceptorAdapter methods using the method:\r\n\r\n    request.getInputStream();\r\n\r\nIf you want it to use with scanner you can assign the scanner as follows:\r\n\r\n    Scanner scanner = new Scanner(request.getInputStream(), &quot;UTF-8&quot;);\r\nThen you can use the required data from the scanner using some manipulation or scanner tricks.\r\nOr else you can assign it to a string also using  Apache Commons IO:\r\n\r\n    String requestStr = IOUtils.toString(request.getInputStream());","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>You can get the request body from HTTPServlet request inside HandlerInterceptorAdapter methods using the method:</p>\n\n<pre><code>request.getInputStream();\n</code></pre>\n\n<p>If you want it to use with scanner you can assign the scanner as follows:</p>\n\n<pre><code>Scanner scanner = new Scanner(request.getInputStream(), \"UTF-8\");\n</code></pre>\n\n<p>Then you can use the required data from the scanner using some manipulation or scanner tricks.\nOr else you can assign it to a string also using  Apache Commons IO:</p>\n\n<pre><code>String requestStr = IOUtils.toString(request.getInputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5229397,"reputation":119,"user_id":4180295,"display_name":"TorIsHere"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1482380934,"creation_date":1482380934,"answer_id":41275811,"question_id":21193380,"body_markdown":"This is quite an old thread but for the sake of people who looking for a way to get `RequestBody` and `ResponseBody` from Interceptor. Here is how I got it working.\r\n\r\n`RequestBody`, can simply use IOUtils:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String requestBody= IOUtils.toString(request.getInputStream(), StandardCharsets.UTF_8);\r\n\r\n`ResponseBody`, I had to used HttpServletResponseCopier:\r\n        \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ServletLoggingFilter.HttpServletResponseCopier copier = (ServletLoggingFilter.HttpServletResponseCopier) response;\r\n    String responseBody = new String(copier.getCopy());\r\n            ","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>This is quite an old thread but for the sake of people who looking for a way to get <code>RequestBody</code> and <code>ResponseBody</code> from Interceptor. Here is how I got it working.</p>\n\n<p><code>RequestBody</code>, can simply use IOUtils:\n</p>\n\n<pre><code>String requestBody= IOUtils.toString(request.getInputStream(), StandardCharsets.UTF_8);\n</code></pre>\n\n<p><code>ResponseBody</code>, I had to used HttpServletResponseCopier:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ServletLoggingFilter.HttpServletResponseCopier copier = (ServletLoggingFilter.HttpServletResponseCopier) response;\nString responseBody = new String(copier.getCopy());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83967,"reputation":7565,"user_id":235026,"accept_rate":100,"display_name":"Mingjiang Shi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513574043,"creation_date":1513574043,"answer_id":47862468,"question_id":21193380,"body_markdown":"You may use ```ResponseBodyAdvice``` available since Spring 4.1, with which you could intercept the response body before the body is written to the client. \r\n\r\nHere is an example: https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>You may use <code>ResponseBodyAdvice</code> available since Spring 4.1, with which you could intercept the response body before the body is written to the client. </p>\n\n<p>Here is an example: <a href=\"https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/\" rel=\"nofollow noreferrer\">https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/</a></p>\n"},{"tags":[],"owner":{"account_id":1664709,"reputation":4045,"user_id":2397613,"accept_rate":86,"display_name":"ton"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1579878776,"creation_date":1536776221,"answer_id":52301252,"question_id":21193380,"body_markdown":"As others said, you can not read request input stream or response output stream more than once, but, you can use Filters to replace the original request and response objects with wrapped ones.\r\nThis way you can implement your wrapper and bufferize the payload, this way you can use it how many times you want.\r\n\r\nHere a repo with the working code:\r\nhttps://github.com/glaudiston/spring-boot-rest-payload-logging\r\n\r\nJust do a `mvn clean install` on it and be happy.\r\n\r\n```sh\r\n$ java -jar target/rest-service-0.0.1-SNAPSHOT.jar                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                 \r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.2.RELEASE)\r\n\r\n2020-01-24 13:06:07.297  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Starting RestServiceApplication v0.0.1-SNAPSHOT on ca275nt with PID 918 (/home/ggs/src/spring-boot-rest-payload-logging/target/rest-service-0.0.1-SNAPSHOT.jar started by ggs\r\nin /home/ggs/src/spring-boot-rest-payload-logging)\r\n2020-01-24 13:06:07.301  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : No active profile set, falling back to default profiles: default                                                                                                             \r\n2020-01-24 13:06:08.331  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)                                                                                                                                 \r\n2020-01-24 13:06:08.348  INFO 918 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2020-01-24 13:06:08.348  INFO 918 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]                                                                                                                              \r\n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext                                                                                                                           \r\n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1044 ms                                                                                                              \r\n2020-01-24 13:06:08.627  INFO 918 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;                                                                                                                       \r\n2020-01-24 13:06:08.787  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;                                                                                                                  \r\n2020-01-24 13:06:08.791  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Started RestServiceApplication in 1.928 seconds (JVM running for 2.319)                                                                                                      \r\n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;                                                                                                                    \r\n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;                                                                                                                                     \r\n2020-01-24 13:06:11.022  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\r\n2020-01-24 13:06:11 [] INFO  RequestFilter:23 - doFilter, parsing request\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:64 - Request Method: POST\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:65 - Request Headers:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:66 - host:localhost:8080\r\nuser-agent:curl/7.64.0\r\naccept:*/*\r\ncontent-length:32\r\ncontent-type:application/x-www-form-urlencoded\r\n\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:67 - Request body:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:68 - testdata=123456789&amp;test2=9876543\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:75 - Response Status: 200\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:76 - Response Headers:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:77 -\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:78 - Response body:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:84 - {&quot;id&quot;:1,&quot;content&quot;:&quot;Hello, World!&quot;}\r\n──────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n$ curl -X POST --data &quot;testdata=123456789&amp;test2=9876543&quot; http://localhost:8080/greeting\r\n{&quot;id&quot;:1,&quot;content&quot;:&quot;Hello, World!&quot;}\r\n```","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>As others said, you can not read request input stream or response output stream more than once, but, you can use Filters to replace the original request and response objects with wrapped ones.\nThis way you can implement your wrapper and bufferize the payload, this way you can use it how many times you want.</p>\n\n<p>Here a repo with the working code:\n<a href=\"https://github.com/glaudiston/spring-boot-rest-payload-logging\" rel=\"noreferrer\">https://github.com/glaudiston/spring-boot-rest-payload-logging</a></p>\n\n<p>Just do a <code>mvn clean install</code> on it and be happy.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ java -jar target/rest-service-0.0.1-SNAPSHOT.jar                                                                                                                                                                                                                               \n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.2.RELEASE)\n\n2020-01-24 13:06:07.297  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Starting RestServiceApplication v0.0.1-SNAPSHOT on ca275nt with PID 918 (/home/ggs/src/spring-boot-rest-payload-logging/target/rest-service-0.0.1-SNAPSHOT.jar started by ggs\nin /home/ggs/src/spring-boot-rest-payload-logging)\n2020-01-24 13:06:07.301  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : No active profile set, falling back to default profiles: default                                                                                                             \n2020-01-24 13:06:08.331  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)                                                                                                                                 \n2020-01-24 13:06:08.348  INFO 918 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-01-24 13:06:08.348  INFO 918 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]                                                                                                                              \n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext                                                                                                                           \n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1044 ms                                                                                                              \n2020-01-24 13:06:08.627  INFO 918 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'                                                                                                                       \n2020-01-24 13:06:08.787  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''                                                                                                                  \n2020-01-24 13:06:08.791  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Started RestServiceApplication in 1.928 seconds (JVM running for 2.319)                                                                                                      \n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'                                                                                                                    \n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'                                                                                                                                     \n2020-01-24 13:06:11.022  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\n2020-01-24 13:06:11 [] INFO  RequestFilter:23 - doFilter, parsing request\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:64 - Request Method: POST\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:65 - Request Headers:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:66 - host:localhost:8080\nuser-agent:curl/7.64.0\naccept:*/*\ncontent-length:32\ncontent-type:application/x-www-form-urlencoded\n\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:67 - Request body:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:68 - testdata=123456789&amp;test2=9876543\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:75 - Response Status: 200\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:76 - Response Headers:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:77 -\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:78 - Response body:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:84 - {\"id\":1,\"content\":\"Hello, World!\"}\n──────────────────────────────────────────────────────────────────────────────────────────────────────────────\n$ curl -X POST --data \"testdata=123456789&amp;test2=9876543\" http://localhost:8080/greeting\n{\"id\":1,\"content\":\"Hello, World!\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1541224379,"creation_date":1541224379,"answer_id":53128795,"question_id":21193380,"body_markdown":"You can extend `RequestBodyAdviceAdapter` and implement the method `afterBodyRead`:\r\n\r\n    @ControllerAdvice\r\n    public MyRequestBodyAdviceAdapter extends RequestBodyAdviceAdapter {\r\n    \r\n    \t@Override\r\n    \tpublic Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter,\r\n    \t\t\tType targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n    \t\t\r\n    \t\t// write body -your input dto- to logs or database or whatever\r\n    \t\t\r\n    \t\treturn body;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThe RequestBodyAdvice comes in pre setp the request chain before the `HandlerInterceptor`. it is exactly after the http request inputstream is converted to your object.","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>You can extend <code>RequestBodyAdviceAdapter</code> and implement the method <code>afterBodyRead</code>:</p>\n\n<pre><code>@ControllerAdvice\npublic MyRequestBodyAdviceAdapter extends RequestBodyAdviceAdapter {\n\n    @Override\n    public Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter,\n            Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n\n        // write body -your input dto- to logs or database or whatever\n\n        return body;\n    }\n\n}\n</code></pre>\n\n<p>The RequestBodyAdvice comes in pre setp the request chain before the <code>HandlerInterceptor</code>. it is exactly after the http request inputstream is converted to your object.</p>\n"},{"tags":[],"owner":{"account_id":27995365,"reputation":1,"user_id":21380744,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678581923,"creation_date":1678581923,"answer_id":75710451,"question_id":21193380,"body_markdown":"As request body is available as stream in interceptor is becomes unavailable after read. If you need body in interceptor and later in controller you need to cache it in your own wrapper: https://tomsdevblog.com/read-message-body-in-request-interceptor/","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>As request body is available as stream in interceptor is becomes unavailable after read. If you need body in interceptor and later in controller you need to cache it in your own wrapper: <a href=\"https://tomsdevblog.com/read-message-body-in-request-interceptor/\" rel=\"nofollow noreferrer\">https://tomsdevblog.com/read-message-body-in-request-interceptor/</a></p>\n"}],"owner":{"account_id":2410758,"reputation":637,"user_id":2105863,"accept_rate":67,"display_name":"kyberorg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93296,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":21216424,"answer_count":8,"score":23,"last_activity_date":1678581923,"creation_date":1389983911,"question_id":21193380,"body_markdown":"Logic I have to implement is logging all requests with body served to DB.\r\n\r\nSo I decided to use: `afterCompletion` method of `HandlerInterceptor`.\r\nThere are two parameters passed to this method `HttpServletRequest` and `HttpServletResponse` among the others.\r\n\r\nQuestion is: how to get `RequestBody` and `ResponseBody` from supplied objects?\r\n\r\nAs far as I know at Controller we can use `@RequestBody` and `@ResponseBody`. Can I reuse them at `HandlerInterceptor`?","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>Logic I have to implement is logging all requests with body served to DB.</p>\n\n<p>So I decided to use: <code>afterCompletion</code> method of <code>HandlerInterceptor</code>.\nThere are two parameters passed to this method <code>HttpServletRequest</code> and <code>HttpServletResponse</code> among the others.</p>\n\n<p>Question is: how to get <code>RequestBody</code> and <code>ResponseBody</code> from supplied objects?</p>\n\n<p>As far as I know at Controller we can use <code>@RequestBody</code> and <code>@ResponseBody</code>. Can I reuse them at <code>HandlerInterceptor</code>?</p>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680602601,"post_id":75710421,"comment_id":133922258,"body_markdown":"&quot;... save the registry object in a static field&quot;: that works. What happened when you tried it? Code for that? &quot;My understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared.&quot; Your understanding is incorrect. If the references to the remote object and the Regsitry are purely local, they are liable to GC, which will unexport them.","body":"&quot;... save the registry object in a static field&quot;: that works. What happened when you tried it? Code for that? &quot;My understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared.&quot; Your understanding is incorrect. If the references to the remote object and the Regsitry are purely local, they are liable to GC, which will unexport them."}],"owner":{"account_id":3299361,"reputation":57,"user_id":3881582,"accept_rate":62,"display_name":"Ceriana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678581444,"creation_date":1678581444,"question_id":75710421,"body_markdown":"This is driving me crazy for hours now.\r\n\r\nSo here is my main:\r\n\r\n```java\r\npublic class Main\r\n{\r\n\tpublic static void main(final String[] args)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.setProperty(&quot;java.rmi.server.hostname&quot;, &quot;127.0.0.1&quot;);\r\n\t\t\tServerInterface server = (ServerInterface) UnicastRemoteObject.exportObject(new Server(), 0);\r\n\r\n\t\t\tRegistry registry = LocateRegistry.createRegistry(Configuration.rmiPort);\r\n\t\t\tregistry.bind(&quot;server&quot;, server);\r\n\t\t\tSystem.out.println(&quot;Ready&quot;);\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe Server class contains the logic (at the moment just a method to output some text).\r\n\r\nEverytime I compile and run this, the application just closes after &quot;Ready&quot;.\r\n\r\nI found similiar threads on SO with the same issue, so here is what I tried so far:\r\n\r\n - save the registry object in a static field\r\n - using the rmiregistry from outside the program (unmarshalling exception)\r\n - rebind instead of bind\r\n - save the object to be exported in a static field before exporting it\r\n\r\nMy understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared. \r\n\r\nCould this be due to Maven? Because actually I had this code from some YT tutorial and it happened to run on my local machine just fine where I just use ```javac``` and ```java```, but I can&#39;t get it to work on the server, where I run the program with ```mvn clean install exec:java```.","title":"Java RMI just closes and doesn&#39;t wait for clients","body":"<p>This is driving me crazy for hours now.</p>\n<p>So here is my main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    public static void main(final String[] args)\n    {\n        try\n        {\n            System.setProperty(&quot;java.rmi.server.hostname&quot;, &quot;127.0.0.1&quot;);\n            ServerInterface server = (ServerInterface) UnicastRemoteObject.exportObject(new Server(), 0);\n\n            Registry registry = LocateRegistry.createRegistry(Configuration.rmiPort);\n            registry.bind(&quot;server&quot;, server);\n            System.out.println(&quot;Ready&quot;);\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The Server class contains the logic (at the moment just a method to output some text).</p>\n<p>Everytime I compile and run this, the application just closes after &quot;Ready&quot;.</p>\n<p>I found similiar threads on SO with the same issue, so here is what I tried so far:</p>\n<ul>\n<li>save the registry object in a static field</li>\n<li>using the rmiregistry from outside the program (unmarshalling exception)</li>\n<li>rebind instead of bind</li>\n<li>save the object to be exported in a static field before exporting it</li>\n</ul>\n<p>My understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared.</p>\n<p>Could this be due to Maven? Because actually I had this code from some YT tutorial and it happened to run on my local machine just fine where I just use <code>javac</code> and <code>java</code>, but I can't get it to work on the server, where I run the program with <code>mvn clean install exec:java</code>.</p>\n"},{"tags":["java","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1562917425,"post_id":57002302,"comment_id":100537795,"body_markdown":"your service is under `com.homzhub.lms.service` package so you have to add this package to component scan too.","body":"your service is under <code>com.homzhub.lms.service</code> package so you have to add this package to component scan too."},{"owner":{"account_id":16303319,"reputation":63,"user_id":11773852,"display_name":"riteshD"},"score":0,"creation_date":1562917832,"post_id":57002302,"comment_id":100538029,"body_markdown":"@michalk Added com.homzhub.lms.service in MainApplication class as ComponentScan but still no mapping. The console output is same as above.","body":"@michalk Added com.homzhub.lms.service in MainApplication class as ComponentScan but still no mapping. The console output is same as above."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1678662554,"post_id":57002302,"comment_id":133572387,"body_markdown":"Does this answer your question? [Spring Boot: Cannot access REST Controller on localhost (404)](https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\">Spring Boot: Cannot access REST Controller on localhost (404)</a>"}],"answers":[{"tags":[],"owner":{"account_id":11283042,"reputation":321,"user_id":8274968,"display_name":"Filippo De Angelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917736,"creation_date":1562917736,"answer_id":57002442,"question_id":57002302,"body_markdown":"If it isn&#39;t already, you need to define `UserService` as a Component, or more appropriately as a Service. If it already is you have to map it, which is a bit weird considering Spring should do that on its own.","title":"Rest controller not mapping in spring boot","body":"<p>If it isn't already, you need to define <code>UserService</code> as a Component, or more appropriately as a Service. If it already is you have to map it, which is a bit weird considering Spring should do that on its own.</p>\n"},{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917784,"creation_date":1562917784,"answer_id":57002454,"question_id":57002302,"body_markdown":"Your are only scanning `com.homzhub.lms.controller` and `UserService` is not under ComponentScan. \r\nYou need to add service package to ComponentScan \r\n\r\n`@ComponentScan(basePackages = {&quot;com.homzhub.lms&quot;})`","title":"Rest controller not mapping in spring boot","body":"<p>Your are only scanning <code>com.homzhub.lms.controller</code> and <code>UserService</code> is not under ComponentScan. \nYou need to add service package to ComponentScan </p>\n\n<p><code>@ComponentScan(basePackages = {\"com.homzhub.lms\"})</code></p>\n"},{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917832,"creation_date":1562917832,"answer_id":57002471,"question_id":57002302,"body_markdown":"You service is under `com.homzhub.lms.service` package so you have to add this package to `@ComponentScan` too, so Spring will scan this package too and pick up the classes marked with stereotypes there :\r\n````\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.homzhub.lms.controller, &quot;com.homzhub.lms.service&quot;})\r\npublic class LmsApplication{\r\n    public static void main(String[] args){\r\n        SpringApplication.run(LmsApplication.class, args);\r\n    }\r\n}\r\n````\r\n\r\nHowever I can see that your class annotated with `@SpringBootApplication` is already above all the packages with your components so you could get rid of `@ComponentScan` annotation at all. So it will scan nested packages by default.\r\n\r\nAnd also remember about annotating your service classes with Spring stereotypes annotations for example `@Service` so component scan will be able to pick them up.","title":"Rest controller not mapping in spring boot","body":"<p>You service is under <code>com.homzhub.lms.service</code> package so you have to add this package to <code>@ComponentScan</code> too, so Spring will scan this package too and pick up the classes marked with stereotypes there :</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\"com.homzhub.lms.controller, \"com.homzhub.lms.service\"})\npublic class LmsApplication{\n    public static void main(String[] args){\n        SpringApplication.run(LmsApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>However I can see that your class annotated with <code>@SpringBootApplication</code> is already above all the packages with your components so you could get rid of <code>@ComponentScan</code> annotation at all. So it will scan nested packages by default.</p>\n\n<p>And also remember about annotating your service classes with Spring stereotypes annotations for example <code>@Service</code> so component scan will be able to pick them up.</p>\n"},{"tags":[],"owner":{"account_id":12534122,"reputation":542,"user_id":9121293,"display_name":"Pranjal Gore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562923570,"creation_date":1562923570,"answer_id":57004088,"question_id":57002302,"body_markdown":"Uncomment `@Autowired` annotation. Put `@Service` annotation on the implementing class instead of the interface and make sure your implementing class is discover-able via `componentScan`. &lt;p&gt;Also, as a side note, Spring will scan all subpackages of your main class (class with `@SpringBootApplication` annotation). So it would be a good idea to have a directory structure like `com.homzhub.lms` as a root and `com.homzhub.lms.controller` for controllers `com.homzhub.lms.service` for service and `com.homzhub.lms.service.impl` if you want to keep implementations in a different package. &lt;/p&gt; If you are following this structure, you won&#39;t need `componentScan`.","title":"Rest controller not mapping in spring boot","body":"<p>Uncomment <code>@Autowired</code> annotation. Put <code>@Service</code> annotation on the implementing class instead of the interface and make sure your implementing class is discover-able via <code>componentScan</code>. <p>Also, as a side note, Spring will scan all subpackages of your main class (class with <code>@SpringBootApplication</code> annotation). So it would be a good idea to have a directory structure like <code>com.homzhub.lms</code> as a root and <code>com.homzhub.lms.controller</code> for controllers <code>com.homzhub.lms.service</code> for service and <code>com.homzhub.lms.service.impl</code> if you want to keep implementations in a different package. </p> If you are following this structure, you won't need <code>componentScan</code>.</p>\n"}],"owner":{"account_id":16303319,"reputation":63,"user_id":11773852,"display_name":"riteshD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2577,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1678580598,"creation_date":1562917275,"question_id":57002302,"body_markdown":" My application runs but nothing about mapping is shown in console. My Application class file is above controller and also added @ComponentScan(basePackages : &quot;com.org.name.controller&quot;) to scan for controllers. Still no mapping shows up in console. I have commented out @Autowired in controller class as i was getting error of :\r\n\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2019-07-12 11:05:16.014 ERROR 14104 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field userService in com.homzhub.lms.controller.UserController required a bean of type &#39;com.homzhub.lms.service.UserService&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.homzhub.lms.service.UserService&#39; in your configuration.\r\n    \r\n     \r\n\r\nMain class:\r\n\r\n    package com.homzhub.lms;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com.homzhub.lms.controller&quot;})\r\n    //@EnableJpaRepositories(&quot;repository&quot;)\r\n    //@EnableAutoConfiguration\r\n    public class LmsApplication{\r\n        public static void main(String[] args){\r\n            SpringApplication.run(LmsApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nappointment controller : \r\n\r\n    package com.homzhub.lms.controller;\r\n    \r\n    import java.security.Principal;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import com.homzhub.lms.entity.Appointment;\r\n    import com.homzhub.lms.entity.User;\r\n    import com.homzhub.lms.service.AppointmentService;\r\n    import com.homzhub.lms.service.UserService;\r\n    \r\n    \r\n    \r\n    @Controller\r\n    @RequestMapping(path = &quot;/appointment&quot;)\r\n    public class AppointmentController {\r\n    \r\n       // @Autowired\r\n        private AppointmentService appointmentService;\r\n    \r\n        //@Autowired\r\n        private UserService userService;\r\n    \r\n        @RequestMapping(value = &quot;/create&quot;, method = RequestMethod.GET)\r\n        public void createAppointment(Model model) {\r\n            Appointment appointment = new Appointment();\r\n            model.addAttribute(&quot;appointment&quot;, appointment);\r\n            model.addAttribute(&quot;dateString&quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/create&quot;, method = RequestMethod.POST)\r\n        public String createAppointmentPost(@ModelAttribute(&quot;appointment&quot;) Appointment appointment, @ModelAttribute(&quot;dateString&quot;) String date, Model model, Principal principal) throws ParseException {\r\n    \r\n            SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm&quot;);\r\n            Date d1 = format1.parse(date);\r\n            appointment.setDate(d1);\r\n    \r\n            User user = userService.findByUsername(principal.getName());\r\n            appointment.setUser(user);\r\n    \r\n            appointmentService.createAppointment(appointment);\r\n    \r\n            return &quot;redirect:/userFront&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\npom.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;!-- \t\t&lt;version&gt;1.5.21.RELEASE&lt;/version&gt;  --&gt;\r\n    \t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.homzhub&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;lms&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;lms&lt;/name&gt;\r\n    \t&lt;description&gt;Lead Management System&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nConsole output. After commenting out @Autowired in controller classes the application runs  but no mapping is done :\r\n\r\n    2019-07-12 12:58:04.638  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Starting LmsApplication v0.0.1-SNAPSHOT on rms-Lenovo-ideapad-330-15IKB with PID 18828 (/home/rms/lms/target/lms-0.0.1-SNAPSHOT.jar started by rms in /home/rms/lms)\r\n    2019-07-12 12:58:04.644  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : No active profile set, falling back to default profiles: default\r\n    2019-07-12 12:58:05.941  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n    2019-07-12 12:58:06.161  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 204ms. Found 13 repository interfaces.\r\n    2019-07-12 12:58:06.849  INFO 18828 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d931452d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2019-07-12 12:58:07.301  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2019-07-12 12:58:07.350  INFO 18828 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2019-07-12 12:58:07.350  INFO 18828 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.21]\r\n    2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2751 ms\r\n    2019-07-12 12:58:07.952  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2019-07-12 12:58:08.286  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2019-07-12 12:58:08.388  INFO 18828 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n    \tname: default\r\n    \t...]\r\n    2019-07-12 12:58:08.519  INFO 18828 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\r\n    2019-07-12 12:58:08.521  INFO 18828 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2019-07-12 12:58:08.773  INFO 18828 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n    2019-07-12 12:58:09.175  INFO 18828 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    2019-07-12 12:58:10.967  INFO 18828 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-07-12 12:58:12.284  INFO 18828 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2019-07-12 12:58:12.364  WARN 18828 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2019-07-12 12:58:12.923  INFO 18828 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\r\n    2019-07-12 12:58:13.211  INFO 18828 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \r\n    \r\n    Using generated security password: f1e93a8f-d01a-4050-8724-87ff348fab02\r\n    \r\n    2019-07-12 12:58:13.388  INFO 18828 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dcca8d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@6daf2337, org.springframework.security.web.header.HeaderWriterFilter@70e3f36f, org.springframework.security.web.csrf.CsrfFilter@3c7cfcbb, org.springframework.security.web.authentication.logout.LogoutFilter@7d755813, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e25147a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60e5272, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5631962, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@56303475, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@250b236d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@432034a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52a70627, org.springframework.security.web.session.SessionManagementFilter@23e44287, org.springframework.security.web.access.ExceptionTranslationFilter@1bfe3203, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71870da7]\r\n    2019-07-12 12:58:13.517  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2019-07-12 12:58:13.520  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Started LmsApplication in 9.518 seconds (JVM running for 10.158)\r\n\r\nUserService class :\r\n\r\n    package com.homzhub.lms.service;\r\n    \r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import org.springframework.stereotype.Service;\r\n    import com.homzhub.lms.entity.User;\r\n    import com.homzhub.lms.security.UserRole;\r\n    //@Service(&quot;userDetailsService&quot;)\r\n    @Service\r\n    public interface UserService{\r\n        User findByUsername(String username);\r\n        User findByEmail(String email);\r\n     //   User findByPhoneNumber(String phoneNumber);\r\n        boolean checkUserExists(String username, String email);\r\n        boolean checkUsernameExists(String username);\r\n        boolean checkEmailExists(String email);\r\n        void save(User user);\r\n        User createUser(User user, Set&lt;UserRole&gt; userRoles);\r\n        User saveUser(User user);\r\n        List&lt;User&gt; findUserList();\r\n        void enableUser(String username);\r\n        void disableUser(String username);\r\n    }\r\n\r\n","title":"Rest controller not mapping in spring boot","body":"<p>My application runs but nothing about mapping is shown in console. My Application class file is above controller and also added @ComponentScan(basePackages : \"com.org.name.controller\") to scan for controllers. Still no mapping shows up in console. I have commented out @Autowired in controller class as i was getting error of :</p>\n\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-07-12 11:05:16.014 ERROR 14104 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userService in com.homzhub.lms.controller.UserController required a bean of type 'com.homzhub.lms.service.UserService' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.homzhub.lms.service.UserService' in your configuration.\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code>package com.homzhub.lms;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages = {\"com.homzhub.lms.controller\"})\n//@EnableJpaRepositories(\"repository\")\n//@EnableAutoConfiguration\npublic class LmsApplication{\n    public static void main(String[] args){\n        SpringApplication.run(LmsApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>appointment controller : </p>\n\n<pre><code>package com.homzhub.lms.controller;\n\nimport java.security.Principal;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport com.homzhub.lms.entity.Appointment;\nimport com.homzhub.lms.entity.User;\nimport com.homzhub.lms.service.AppointmentService;\nimport com.homzhub.lms.service.UserService;\n\n\n\n@Controller\n@RequestMapping(path = \"/appointment\")\npublic class AppointmentController {\n\n   // @Autowired\n    private AppointmentService appointmentService;\n\n    //@Autowired\n    private UserService userService;\n\n    @RequestMapping(value = \"/create\", method = RequestMethod.GET)\n    public void createAppointment(Model model) {\n        Appointment appointment = new Appointment();\n        model.addAttribute(\"appointment\", appointment);\n        model.addAttribute(\"dateString\", \"\");\n    }\n\n    @RequestMapping(value = \"/create\", method = RequestMethod.POST)\n    public String createAppointmentPost(@ModelAttribute(\"appointment\") Appointment appointment, @ModelAttribute(\"dateString\") String date, Model model, Principal principal) throws ParseException {\n\n        SimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd hh:mm\");\n        Date d1 = format1.parse(date);\n        appointment.setDate(d1);\n\n        User user = userService.findByUsername(principal.getName());\n        appointment.setUser(user);\n\n        appointmentService.createAppointment(appointment);\n\n        return \"redirect:/userFront\";\n    }\n}\n</code></pre>\n\n<p>pom.xml file :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;!--        &lt;version&gt;1.5.21.RELEASE&lt;/version&gt;  --&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.homzhub&lt;/groupId&gt;\n    &lt;artifactId&gt;lms&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;lms&lt;/name&gt;\n    &lt;description&gt;Lead Management System&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;   \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Console output. After commenting out @Autowired in controller classes the application runs  but no mapping is done :</p>\n\n<pre><code>2019-07-12 12:58:04.638  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Starting LmsApplication v0.0.1-SNAPSHOT on rms-Lenovo-ideapad-330-15IKB with PID 18828 (/home/rms/lms/target/lms-0.0.1-SNAPSHOT.jar started by rms in /home/rms/lms)\n2019-07-12 12:58:04.644  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : No active profile set, falling back to default profiles: default\n2019-07-12 12:58:05.941  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-07-12 12:58:06.161  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 204ms. Found 13 repository interfaces.\n2019-07-12 12:58:06.849  INFO 18828 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d931452d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2019-07-12 12:58:07.301  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2019-07-12 12:58:07.350  INFO 18828 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-07-12 12:58:07.350  INFO 18828 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.21]\n2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2751 ms\n2019-07-12 12:58:07.952  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2019-07-12 12:58:08.286  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2019-07-12 12:58:08.388  INFO 18828 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\n2019-07-12 12:58:08.519  INFO 18828 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\n2019-07-12 12:58:08.521  INFO 18828 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-07-12 12:58:08.773  INFO 18828 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-07-12 12:58:09.175  INFO 18828 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2019-07-12 12:58:10.967  INFO 18828 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-07-12 12:58:12.284  INFO 18828 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-07-12 12:58:12.364  WARN 18828 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2019-07-12 12:58:12.923  INFO 18828 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\n2019-07-12 12:58:13.211  INFO 18828 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: f1e93a8f-d01a-4050-8724-87ff348fab02\n\n2019-07-12 12:58:13.388  INFO 18828 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dcca8d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@6daf2337, org.springframework.security.web.header.HeaderWriterFilter@70e3f36f, org.springframework.security.web.csrf.CsrfFilter@3c7cfcbb, org.springframework.security.web.authentication.logout.LogoutFilter@7d755813, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e25147a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60e5272, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5631962, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@56303475, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@250b236d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@432034a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52a70627, org.springframework.security.web.session.SessionManagementFilter@23e44287, org.springframework.security.web.access.ExceptionTranslationFilter@1bfe3203, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71870da7]\n2019-07-12 12:58:13.517  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-07-12 12:58:13.520  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Started LmsApplication in 9.518 seconds (JVM running for 10.158)\n</code></pre>\n\n<p>UserService class :</p>\n\n<pre><code>package com.homzhub.lms.service;\n\nimport java.util.List;\nimport java.util.Set;\nimport org.springframework.stereotype.Service;\nimport com.homzhub.lms.entity.User;\nimport com.homzhub.lms.security.UserRole;\n//@Service(\"userDetailsService\")\n@Service\npublic interface UserService{\n    User findByUsername(String username);\n    User findByEmail(String email);\n //   User findByPhoneNumber(String phoneNumber);\n    boolean checkUserExists(String username, String email);\n    boolean checkUsernameExists(String username);\n    boolean checkEmailExists(String email);\n    void save(User user);\n    User createUser(User user, Set&lt;UserRole&gt; userRoles);\n    User saveUser(User user);\n    List&lt;User&gt; findUserList();\n    void enableUser(String username);\n    void disableUser(String username);\n}\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1420762005,"post_id":27851768,"comment_id":44107589,"body_markdown":"Good question... I did get my build.gradle files to do that but I don&#39;t understand why they work at all...","body":"Good question... I did get my build.gradle files to do that but I don&#39;t understand why they work at all..."}],"answers":[{"tags":[],"owner":{"account_id":927061,"reputation":13268,"user_id":957630,"display_name":"Mark Vieira"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1421040559,"creation_date":1420777669,"answer_id":27853822,"question_id":27851768,"body_markdown":"Javadocs are produced by the `javadoc` **task** (I think you are mistakenly referring to it as a plugin). This task isn&#39;t actually executed by default when running `build` or `install`. Additionally you&#39;ll want to define a `jar` task to bundle the javadocs and tell your build to publish that artifact by adding it to the `artifacts {...}` block.\r\n\r\n    task javadocJar(type: Jar) {\r\n        classifier = &#39;javadoc&#39;\r\n        from javadoc\r\n    }   \r\n \r\n    artifacts {\r\n        archives javadocJar\r\n    }\r\n\r\nRunning `install` should then both create the javadoc jar and publish it to maven local. Additionally, running `uploadArchives` would then publish that artifact to any configured repositories.\r\n\r\n**Edit:** Updated to add definition of javadoc `jar` task.","title":"Gradle: gradle install with javadocs","body":"<p>Javadocs are produced by the <code>javadoc</code> <strong>task</strong> (I think you are mistakenly referring to it as a plugin). This task isn't actually executed by default when running <code>build</code> or <code>install</code>. Additionally you'll want to define a <code>jar</code> task to bundle the javadocs and tell your build to publish that artifact by adding it to the <code>artifacts {...}</code> block.</p>\n\n<pre><code>task javadocJar(type: Jar) {\n    classifier = 'javadoc'\n    from javadoc\n}   \n\nartifacts {\n    archives javadocJar\n}\n</code></pre>\n\n<p>Running <code>install</code> should then both create the javadoc jar and publish it to maven local. Additionally, running <code>uploadArchives</code> would then publish that artifact to any configured repositories.</p>\n\n<p><strong>Edit:</strong> Updated to add definition of javadoc <code>jar</code> task.</p>\n"},{"tags":[],"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678580470,"creation_date":1678580470,"answer_id":75710366,"question_id":27851768,"body_markdown":"2023 -&gt; Since Gradle 6.0 you can use new `withJavadocJar()` method in java plugin extension. See [documentation][1].\r\n\r\n&gt; Automatically packages Javadoc and creates a variant javadocElements with an artifact -javadoc.jar, which will be part of the publication.\r\n\r\nThis means javadoc.jar artifact will automagically be created alongside your standard jar package with compiled classes and be ready for publishing.\r\n\r\nExample:\r\n``` groovy\r\njava {\r\n  withJavadocJar()\r\n}\r\n```\r\n\r\nMore detailed documentation in [Gradle javadoc for JavaPluginExtension][2].\r\n\r\n\r\n  [1]: https://docs.gradle.org/6.0/userguide/java_plugin.html#sec:java-extension\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/api/plugins/JavaPluginExtension.html#withJavadocJar--","title":"Gradle: gradle install with javadocs","body":"<p>2023 -&gt; Since Gradle 6.0 you can use new <code>withJavadocJar()</code> method in java plugin extension. See <a href=\"https://docs.gradle.org/6.0/userguide/java_plugin.html#sec:java-extension\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<blockquote>\n<p>Automatically packages Javadoc and creates a variant javadocElements with an artifact -javadoc.jar, which will be part of the publication.</p>\n</blockquote>\n<p>This means javadoc.jar artifact will automagically be created alongside your standard jar package with compiled classes and be ready for publishing.</p>\n<p>Example:</p>\n<pre><code>java {\n  withJavadocJar()\n}\n</code></pre>\n<p>More detailed documentation in <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/plugins/JavaPluginExtension.html#withJavadocJar--\" rel=\"nofollow noreferrer\">Gradle javadoc for JavaPluginExtension</a>.</p>\n"}],"owner":{"account_id":1631410,"reputation":1735,"user_id":1505851,"display_name":"lmika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":27853822,"answer_count":2,"score":6,"last_activity_date":1678580470,"creation_date":1420761841,"question_id":27851768,"body_markdown":"I&#39;m making use of the Gradle `maven` plugin to build an artefact that is to be used for another unrelated project.  Along with the built *.jar* artefact, I would also like to generate and install the *-javadoc.jar* artefact along side it.\r\n\r\nUsing `gradle clean build javadoc install` generates the JavaDoc in the local *build* file, and install the built artefact to the local repository, but it currently does not build and install *-javadoc.jar* along side it.\r\n\r\nIs there a way to do this in Gradle using the `maven` or `javadoc` plugin?  I don&#39;t mind writing a custom task to do it, but I rather use the &quot;officially supported&quot; way if one exists.\r\n\r\nThe *build.gradle* file:\r\n\r\n    project.group = &quot;org.example.artefact&quot;\r\n    project.version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;maven&#39;\r\n    \r\n    dependencies {\r\n        // ...\r\n    }\r\n\r\n    uploadArchives {\r\n        repositories {\r\n            mavenDeployer {\r\n                // Custom repository location\r\n                repository(url: &quot;file:///home/user/.m3/repository&quot;)\r\n            }\r\n        }\r\n    }","title":"Gradle: gradle install with javadocs","body":"<p>I'm making use of the Gradle <code>maven</code> plugin to build an artefact that is to be used for another unrelated project.  Along with the built <em>.jar</em> artefact, I would also like to generate and install the <em>-javadoc.jar</em> artefact along side it.</p>\n\n<p>Using <code>gradle clean build javadoc install</code> generates the JavaDoc in the local <em>build</em> file, and install the built artefact to the local repository, but it currently does not build and install <em>-javadoc.jar</em> along side it.</p>\n\n<p>Is there a way to do this in Gradle using the <code>maven</code> or <code>javadoc</code> plugin?  I don't mind writing a custom task to do it, but I rather use the \"officially supported\" way if one exists.</p>\n\n<p>The <em>build.gradle</em> file:</p>\n\n<pre><code>project.group = \"org.example.artefact\"\nproject.version = \"1.0-SNAPSHOT\"\n\napply plugin: 'java'\napply plugin: 'maven'\n\ndependencies {\n    // ...\n}\n\nuploadArchives {\n    repositories {\n        mavenDeployer {\n            // Custom repository location\n            repository(url: \"file:///home/user/.m3/repository\")\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1683302109,"post_id":75673566,"comment_id":134351088,"body_markdown":"Hello, could you solve this problem?","body":"Hello, could you solve this problem?"}],"answers":[{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678579629,"creation_date":1678297500,"answer_id":75676483,"question_id":75673566,"body_markdown":"This is happening due to `entityManager.clear()` call. According to the [specifications](https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entitymanager#clear()), once you call `entityManager.clear()` all of the managed entities in your persistence context will be detached - mainly, the `Track` entity received in the `deleteTrackVersions` method parameter. And, as you said, the `@OneToMany` mapping use lazy loading by default.\r\n\r\nOnce the `Track` entity becomes detached, it doesn&#39;t matter if still there&#39;s an active transaction. You won&#39;t be able to retrieve the related `TrackVersion` entities unless you reattach the `Track` entity first.\r\n\r\nTo reattach an entity to the persistence context you can use `entityManager.merge()` method. Nevertheless, considering the code you provided, I&#39;d just remove the `entityManager.clear()` call.\r\n\r\nAs an unrelated note, you can&#39;t trust the lazy loading mapping configuration blindly; it&#39;s a hint to the persistence provider, but it isn&#39;t guaranteed to be observed.","title":"EntityManager.clear() caused LazyInitializationException: failed to lazily initialize a collection","body":"<p>This is happening due to <code>entityManager.clear()</code> call. According to the <a href=\"https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entitymanager#clear()\" rel=\"nofollow noreferrer\">specifications</a>, once you call <code>entityManager.clear()</code> all of the managed entities in your persistence context will be detached - mainly, the <code>Track</code> entity received in the <code>deleteTrackVersions</code> method parameter. And, as you said, the <code>@OneToMany</code> mapping use lazy loading by default.</p>\n<p>Once the <code>Track</code> entity becomes detached, it doesn't matter if still there's an active transaction. You won't be able to retrieve the related <code>TrackVersion</code> entities unless you reattach the <code>Track</code> entity first.</p>\n<p>To reattach an entity to the persistence context you can use <code>entityManager.merge()</code> method. Nevertheless, considering the code you provided, I'd just remove the <code>entityManager.clear()</code> call.</p>\n<p>As an unrelated note, you can't trust the lazy loading mapping configuration blindly; it's a hint to the persistence provider, but it isn't guaranteed to be observed.</p>\n"}],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678579629,"creation_date":1678281510,"question_id":75673566,"body_markdown":"I kinda facing a challenge where I have an entity with uni-directional OnetoMany list So we have `Track` and list of `TrackVersions versions`\r\n\r\n\r\n    Track {\r\n        @OneToMany(mappedBy = &quot;track&quot;, cascade = CascadeType.ALL) // lazy by default\r\n        private final List&lt;TrackVersion&gt; versions = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\r\nThen I have a service to delete `TrackVersions` by `Track`\r\n\r\n    .....\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Transactional\r\n    public void deleteTrackVersions(Track track) {\r\n        entityManger.flush();\r\n        entityManger.clear();\r\n        \r\n        trackVerionRepo.deleteTrackVerions(track.getVersions); // This is a JPQL query that deletes track version where track version IN (? givenTrackVersions param)\r\n\r\n       ..... some other logic\r\n    \r\n    }\r\n\r\nHowever whenever `trackVerionRepo.deleteTrackVerions(track.getTrackVersions)` executes it fails with \r\n\r\n`failed to lazily initialize a collection of role: Track.versions, could not initialize proxy - no Session; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: Track.versions, could not initialize proxy - no Session`\r\n\r\n\r\nWhat happened is The `entityManager.clear()` cleared the persistence context causing `verisons` which is lazily loaded to be dropped. So any consecutive request to load it will cause `LazyInitializedExcpetion`\r\n\r\n\r\nBut as per my understanding as long as there is an opened `Transaction` hence an opened `HibernateSession` so there is no reason for that `LazyException` to happen, that lazy collection should have been loaded again!\r\n\r\n\r\nNote: I&#39;m aware of the similar Posts of `LazyInitilizationExcpetion` errors in hibernate but in this case, I&#39;m asking specifically why it happened after the `entityManager.clear()`\r\n\r\n \r\n\r\n\r\n\r\n","title":"EntityManager.clear() caused LazyInitializationException: failed to lazily initialize a collection","body":"<p>I kinda facing a challenge where I have an entity with uni-directional OnetoMany list So we have <code>Track</code> and list of <code>TrackVersions versions</code></p>\n<pre><code>Track {\n    @OneToMany(mappedBy = &quot;track&quot;, cascade = CascadeType.ALL) // lazy by default\n    private final List&lt;TrackVersion&gt; versions = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Then I have a service to delete <code>TrackVersions</code> by <code>Track</code></p>\n<pre><code>.....\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\n@Transactional\npublic void deleteTrackVersions(Track track) {\n    entityManger.flush();\n    entityManger.clear();\n    \n    trackVerionRepo.deleteTrackVerions(track.getVersions); // This is a JPQL query that deletes track version where track version IN (? givenTrackVersions param)\n\n   ..... some other logic\n\n}\n</code></pre>\n<p>However whenever <code>trackVerionRepo.deleteTrackVerions(track.getTrackVersions)</code> executes it fails with</p>\n<p><code>failed to lazily initialize a collection of role: Track.versions, could not initialize proxy - no Session; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: Track.versions, could not initialize proxy - no Session</code></p>\n<p>What happened is The <code>entityManager.clear()</code> cleared the persistence context causing <code>verisons</code> which is lazily loaded to be dropped. So any consecutive request to load it will cause <code>LazyInitializedExcpetion</code></p>\n<p>But as per my understanding as long as there is an opened <code>Transaction</code> hence an opened <code>HibernateSession</code> so there is no reason for that <code>LazyException</code> to happen, that lazy collection should have been loaded again!</p>\n<p>Note: I'm aware of the similar Posts of <code>LazyInitilizationExcpetion</code> errors in hibernate but in this case, I'm asking specifically why it happened after the <code>entityManager.clear()</code></p>\n"},{"tags":["java","classloader","bytecode","java-bytecode-asm","bytecode-manipulation"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678578242,"creation_date":1678578242,"answer_id":75710275,"question_id":75709890,"body_markdown":"The argument to `ClassReader` is in dollarized syntax.\r\n\r\nThis is a weirdo, hybrid JVM/java syntax where you use dots as separator between the package, and a dot between package and class, but then dollars for inner class separation. `Builder` is an inner class of `OkHttpClient` (the capitalization gives it away: OkHttpClient is the first capitalized thing, so that&#39;s a class, and thus Builder is an inner class of that), thus, you end up at `okhttp3.OkHttpClient$Builder`.\r\n\r\nI&#39;d replace that code with:\r\n\r\n```\r\nClassReader cr = new ClassReader(okhttp3.OkHttpClient.Builder.class.getName());\r\n```\r\n\r\nThis gets you the right (with dollars for inners) name and ensures you can&#39;t typo that thing (or rather, that you get a compile/write time error if you do, instead of figuring it out later at runtime).","title":"Java ASM ClassReader fails with java.io.IOException: Class not found","body":"<p>The argument to <code>ClassReader</code> is in dollarized syntax.</p>\n<p>This is a weirdo, hybrid JVM/java syntax where you use dots as separator between the package, and a dot between package and class, but then dollars for inner class separation. <code>Builder</code> is an inner class of <code>OkHttpClient</code> (the capitalization gives it away: OkHttpClient is the first capitalized thing, so that's a class, and thus Builder is an inner class of that), thus, you end up at <code>okhttp3.OkHttpClient$Builder</code>.</p>\n<p>I'd replace that code with:</p>\n<pre><code>ClassReader cr = new ClassReader(okhttp3.OkHttpClient.Builder.class.getName());\n</code></pre>\n<p>This gets you the right (with dollars for inners) name and ensures you can't typo that thing (or rather, that you get a compile/write time error if you do, instead of figuring it out later at runtime).</p>\n"}],"owner":{"account_id":997544,"reputation":2566,"user_id":1013139,"accept_rate":51,"display_name":"rysv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75710275,"answer_count":1,"score":0,"last_activity_date":1678578242,"creation_date":1678573024,"question_id":75709890,"body_markdown":"I am trying to instrument OkHttpClient builder class. However, I am not able to create `ClassReader` in the first place.\r\n\r\n    import org.objectweb.asm.ClassReader;\r\n    ...\r\n    // this works meaning dependency from gradle is satisfied\r\n    okhttp3.OkHttpClient.Builder test = new okhttp3.OkHttpClient.Builder();\r\n    ...\r\n    // but this fails with java.io.IOException: Class not found\r\n    ClassReader cr = new ClassReader(&quot;okhttp3.OkHttpClient.Builder&quot;);\r\n\r\nAssuming this is even possible, is there a way to achieve this? My intention is to insert an interceptor to the `build()` method of `Builer` class.\r\n\r\n    ","title":"Java ASM ClassReader fails with java.io.IOException: Class not found","body":"<p>I am trying to instrument OkHttpClient builder class. However, I am not able to create <code>ClassReader</code> in the first place.</p>\n<pre><code>import org.objectweb.asm.ClassReader;\n...\n// this works meaning dependency from gradle is satisfied\nokhttp3.OkHttpClient.Builder test = new okhttp3.OkHttpClient.Builder();\n...\n// but this fails with java.io.IOException: Class not found\nClassReader cr = new ClassReader(&quot;okhttp3.OkHttpClient.Builder&quot;);\n</code></pre>\n<p>Assuming this is even possible, is there a way to achieve this? My intention is to insert an interceptor to the <code>build()</code> method of <code>Builer</code> class.</p>\n"},{"tags":["java","arrays","multidimensional-array","char","column-major-order"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678594041,"post_id":75709486,"comment_id":133562679,"body_markdown":"Check out [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code. This is a critical skill to learn as you are learning to code. You will almost never write code correctly the first time and it is important to be able to check what your code is doing and compare that with what you expect.","body":"Check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code. This is a critical skill to learn as you are learning to code. You will almost never write code correctly the first time and it is important to be able to check what your code is doing and compare that with what you expect."}],"owner":{"account_id":27936464,"reputation":3,"user_id":21333371,"display_name":"vert4848"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678577668,"creation_date":1678568359,"question_id":75709486,"body_markdown":"I am working on an assignment where I need to take text from a file, put it into an array, reverse all odd-numbered rows, and print the characters in a string in a column-major order. For example:\r\n\r\nInput:\r\n\r\nAnd the rest is rust and stardust\r\n\r\nArray Grid Size: 4 * 8\r\n\r\nOutput:\r\n\r\nAnd the rest is rust and stardust\r\n\r\nA rsnsuudisd  trtt ahsayeens rd \r\n\r\nEdit: I added a stringbuilder, as I think that will help, but I&#39;m unsure how to apply it to do as I want.\r\n\r\nHere&#39;s the code I have been using to do this. I initially reversed `charArray[j][i]` to `charArray[i][j]` and printed it, but it&#39;s giving me a out of bounds error, and I&#39;m now not sure what to do.\r\n\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tScanner input;\r\n\t\tFileInputStream inputFile = null;\r\n\t\tPrintWriter outPrint = null;\r\n\t\t\r\n\t\tinputFile = new FileInputStream(&quot;input3.in&quot;);\r\n\t\tinput = new Scanner(inputFile);\r\n\t\t\r\n\t\tString lineReader = input.nextLine();\r\n\t\tSystem.out.println(lineReader);\r\n\t\t\r\n\t\tint m = 8;\r\n\t\tint n = 4;\r\n\t\tint index = 0;\r\n\t\tchar[][] charArray = new char[m][n];\r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t    for (int j = 0; j &lt; m; j++) {\r\n\t\t        charArray[j][i] = lineReader.charAt(index++);\r\n\t\t    }\r\n\t\t}\r\n\r\n        StringBuilder result = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t    if (i % 2 == 0) {\r\n\t\t        for (int j = 0; j &lt; m; j++) {\r\n\t\t            System.out.print(charArray[i][j]);\r\n\t\t        }\r\n\t\t    } \r\n\t\t    else {\r\n\t\t        for (int j = m - 1; j &gt;= 0; j--) {\r\n\t\t        \tSystem.out.print(charArray[i][j]);\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\t\t\r\n\t\tinputFile.close();\r\n\t\tinput.close();\r\n\t\t\r\n\t\t\r\n\t}}\r\n\r\n```\r\n","title":"Printing a new string from the characters inside a 2d array in column major order","body":"<p>I am working on an assignment where I need to take text from a file, put it into an array, reverse all odd-numbered rows, and print the characters in a string in a column-major order. For example:</p>\n<p>Input:</p>\n<p>And the rest is rust and stardust</p>\n<p>Array Grid Size: 4 * 8</p>\n<p>Output:</p>\n<p>And the rest is rust and stardust</p>\n<p>A rsnsuudisd  trtt ahsayeens rd</p>\n<p>Edit: I added a stringbuilder, as I think that will help, but I'm unsure how to apply it to do as I want.</p>\n<p>Here's the code I have been using to do this. I initially reversed <code>charArray[j][i]</code> to <code>charArray[i][j]</code> and printed it, but it's giving me a out of bounds error, and I'm now not sure what to do.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        \n        Scanner input;\n        FileInputStream inputFile = null;\n        PrintWriter outPrint = null;\n        \n        inputFile = new FileInputStream(&quot;input3.in&quot;);\n        input = new Scanner(inputFile);\n        \n        String lineReader = input.nextLine();\n        System.out.println(lineReader);\n        \n        int m = 8;\n        int n = 4;\n        int index = 0;\n        char[][] charArray = new char[m][n];\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; m; j++) {\n                charArray[j][i] = lineReader.charAt(index++);\n            }\n        }\n\n        StringBuilder result = new StringBuilder();\n        for (int i = 0; i &lt; n; i++) {\n            if (i % 2 == 0) {\n                for (int j = 0; j &lt; m; j++) {\n                    System.out.print(charArray[i][j]);\n                }\n            } \n            else {\n                for (int j = m - 1; j &gt;= 0; j--) {\n                    System.out.print(charArray[i][j]);\n                }\n            }\n        }\n        \n        inputFile.close();\n        input.close();\n        \n        \n    }}\n\n</code></pre>\n"},{"tags":["java","rest","spring-boot"],"comments":[{"owner":{"account_id":1817178,"reputation":4027,"user_id":1654284,"accept_rate":67,"display_name":"mchlfchr"},"score":0,"creation_date":1436446965,"post_id":31318107,"comment_id":50623772,"body_markdown":"Tried it separetely via Eclipse and with mvn spring-boot:run (as jar). See above for logs (edited)","body":"Tried it separetely via Eclipse and with mvn spring-boot:run (as jar). See above for logs (edited)"},{"owner":{"account_id":1632105,"reputation":6968,"user_id":1506440,"display_name":"MattR"},"score":1,"creation_date":1436447039,"post_id":31318107,"comment_id":50623829,"body_markdown":"From the startup log it doesn&#39;t look like it&#39;s finding your controller, what package is your controller class in?","body":"From the startup log it doesn&#39;t look like it&#39;s finding your controller, what package is your controller class in?"},{"owner":{"account_id":1817178,"reputation":4027,"user_id":1654284,"accept_rate":67,"display_name":"mchlfchr"},"score":1,"creation_date":1436447178,"post_id":31318107,"comment_id":50623918,"body_markdown":"It&#39;s in a separate package.\nThe starter class with the main method is in &quot;application&quot; while the controller is in the package &quot;controller&quot;. I&#39;ve seen examples (not the ones on spring.io), which also were structured in that way.","body":"It&#39;s in a separate package. The starter class with the main method is in &quot;application&quot; while the controller is in the package &quot;controller&quot;. I&#39;ve seen examples (not the ones on spring.io), which also were structured in that way."},{"owner":{"account_id":1632105,"reputation":6968,"user_id":1506440,"display_name":"MattR"},"score":9,"creation_date":1436447347,"post_id":31318107,"comment_id":50624025,"body_markdown":"By default spring-boot will scan for components in the same package, or packages &quot;below&quot; (same prefix) as your application class. Otherwise you need to explicitly scan for them, eg using @ComponentScan","body":"By default spring-boot will scan for components in the same package, or packages &quot;below&quot; (same prefix) as your application class. Otherwise you need to explicitly scan for them, eg using @ComponentScan"},{"owner":{"account_id":1817178,"reputation":4027,"user_id":1654284,"accept_rate":67,"display_name":"mchlfchr"},"score":0,"creation_date":1436447658,"post_id":31318107,"comment_id":50624279,"body_markdown":"The @ComponentScan on the controller didn&#39;t work. Same error as above.","body":"The @ComponentScan on the controller didn&#39;t work. Same error as above."},{"owner":{"account_id":1632105,"reputation":6968,"user_id":1506440,"display_name":"MattR"},"score":0,"creation_date":1436448112,"post_id":31318107,"comment_id":50624611,"body_markdown":"Adding it to the controller won&#39;t help :-) See my answer...","body":"Adding it to the controller won&#39;t help :-) See my answer..."}],"answers":[{"tags":[],"owner":{"account_id":1632105,"reputation":6968,"user_id":1506440,"display_name":"MattR"},"down_vote_count":1,"up_vote_count":297,"is_accepted":true,"score":296,"last_activity_date":1469139099,"creation_date":1436448115,"answer_id":31318789,"question_id":31318107,"body_markdown":"Try adding the following to your InventoryApp class\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackageClasses = ItemInventoryController.class)\r\n    public class InventoryApp {\r\n    ...\r\n\r\nspring-boot will scan for components in packages below `com.nice.application`, so if your controller is in `com.nice.controller` you need to scan for it explicitly.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Try adding the following to your InventoryApp class</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackageClasses = ItemInventoryController.class)\npublic class InventoryApp {\n...\n</code></pre>\n\n<p>spring-boot will scan for components in packages below <code>com.nice.application</code>, so if your controller is in <code>com.nice.controller</code> you need to scan for it explicitly.</p>\n"},{"tags":[],"owner":{"account_id":5457869,"reputation":1091,"user_id":4340769,"display_name":"cipley"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1456291518,"creation_date":1456291518,"answer_id":35593927,"question_id":31318107,"body_markdown":"Adding to MattR&#39;s answer:&lt;br&gt;&lt;br&gt;\r\nAs stated in [here][1], `@SpringBootApplication` automatically inserts the needed annotations: `@Configuration`, `@EnableAutoConfiguration`, and also `@ComponentScan`; however, the `@ComponentScan` will only look for the components in the same package as the App, in this case your `com.nice.application`, whereas your controller resides in `com.nice.controller`. That&#39;s why you get 404 because the App didn&#39;t find the controller in the `application` package.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/rest-service/","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Adding to MattR's answer:<br><br>\nAs stated in <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"noreferrer\">here</a>, <code>@SpringBootApplication</code> automatically inserts the needed annotations: <code>@Configuration</code>, <code>@EnableAutoConfiguration</code>, and also <code>@ComponentScan</code>; however, the <code>@ComponentScan</code> will only look for the components in the same package as the App, in this case your <code>com.nice.application</code>, whereas your controller resides in <code>com.nice.controller</code>. That's why you get 404 because the App didn't find the controller in the <code>application</code> package.</p>\n"},{"tags":[],"owner":{"account_id":5910752,"reputation":460,"user_id":4651104,"display_name":"Mohammed Sarfaraz"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1574832481,"creation_date":1491602517,"answer_id":43287703,"question_id":31318107,"body_markdown":"There are 2 method to overcome this\r\n\r\n\r\n\r\n1. Place the bootup application at start of the package structure and rest all controller inside it.\r\n\r\n    Example : \r\n\r\n    package com.spring.boot.app; - You bootup application(i.e. Main Method -SpringApplication.run(App.class, args);)\r\n\r\n    You Rest Controller in with the same package structure\r\nExample :\r\npackage com.spring.boot.app.rest;\r\n\r\n2. Explicitly define the Controller in the Bootup package.\r\n\r\n\r\n\r\nMethod 1 is more cleaner.\r\n\r\n\r\n","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>There are 2 method to overcome this</p>\n\n<ol>\n<li><p>Place the bootup application at start of the package structure and rest all controller inside it.</p>\n\n<p>Example : </p>\n\n<p>package com.spring.boot.app; - You bootup application(i.e. Main Method -SpringApplication.run(App.class, args);)</p>\n\n<p>You Rest Controller in with the same package structure\nExample :\npackage com.spring.boot.app.rest;</p></li>\n<li><p>Explicitly define the Controller in the Bootup package.</p></li>\n</ol>\n\n<p>Method 1 is more cleaner.</p>\n"},{"tags":[],"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1495016677,"creation_date":1495015101,"answer_id":44021569,"question_id":31318107,"body_markdown":"I had this issue and what you need to do is fix your packages. If you downloaded this project from http://start.spring.io/ then you have your main class in some package. For example if the package for the main class is: &quot;com.example&quot; then and your controller must be in package: &quot;com.example.controller&quot;. Hope this helps.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I had this issue and what you need to do is fix your packages. If you downloaded this project from <a href=\"http://start.spring.io/\" rel=\"noreferrer\">http://start.spring.io/</a> then you have your main class in some package. For example if the package for the main class is: \"com.example\" then and your controller must be in package: \"com.example.controller\". Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11230815,"reputation":51,"user_id":8238940,"display_name":"Anjan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498852262,"creation_date":1498851018,"answer_id":44853662,"question_id":31318107,"body_markdown":"You need to modify the Starter-Application class as shown below. \r\n\r\n    @SpringBootApplication\r\n    \r\n    @EnableAutoConfiguration\r\n    \r\n    @ComponentScan(basePackages=&quot;com.nice.application&quot;)\r\n    \r\n    @EnableJpaRepositories(&quot;com.spring.app.repository&quot;)\r\n    \r\n    public class InventoryApp extends SpringBootServletInitializer {..........\r\n\r\nAnd update the Controller, Service and Repository packages structure as I mentioned below. \r\n\r\nExample:\r\nREST-Controller\r\n\r\n`package com.nice.controller;`   --&gt;   It has to be modified as  \r\n`package com.nice.application.controller;`\r\n\r\nYou need to follow proper package structure for all packages which are in Spring Boot MVC flow.\r\n\r\nSo, If you modify your project bundle package structures correctly then your spring boot app will work correctly.\r\n","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>You need to modify the Starter-Application class as shown below. </p>\n\n<pre><code>@SpringBootApplication\n\n@EnableAutoConfiguration\n\n@ComponentScan(basePackages=\"com.nice.application\")\n\n@EnableJpaRepositories(\"com.spring.app.repository\")\n\npublic class InventoryApp extends SpringBootServletInitializer {..........\n</code></pre>\n\n<p>And update the Controller, Service and Repository packages structure as I mentioned below. </p>\n\n<p>Example:\nREST-Controller</p>\n\n<p><code>package com.nice.controller;</code>   -->   It has to be modified as<br>\n<code>package com.nice.application.controller;</code></p>\n\n<p>You need to follow proper package structure for all packages which are in Spring Boot MVC flow.</p>\n\n<p>So, If you modify your project bundle package structures correctly then your spring boot app will work correctly.</p>\n"},{"tags":[],"owner":{"account_id":6379814,"reputation":3935,"user_id":4949653,"display_name":"torina"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1500891191,"creation_date":1500887190,"answer_id":45276448,"question_id":31318107,"body_markdown":"SpringBoot developers recommend to locate your main application class in a root package above other classes. Using a root package also allows the @ComponentScan annotation to be used without needing to specify a *basePackage* attribute.  [Detailed info][1]\r\nBut be sure that the custom root package exists.\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/htmlsingle/#using-boot-locating-the-main-class ","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>SpringBoot developers recommend to locate your main application class in a root package above other classes. Using a root package also allows the @ComponentScan annotation to be used without needing to specify a <em>basePackage</em> attribute.  <a href=\"http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/htmlsingle/#using-boot-locating-the-main-class\" rel=\"noreferrer\">Detailed info</a>\nBut be sure that the custom root package exists.</p>\n"},{"tags":[],"owner":{"account_id":7546083,"reputation":1151,"user_id":5729064,"display_name":"Ihor Khomiak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526810701,"creation_date":1526810701,"answer_id":50433663,"question_id":31318107,"body_markdown":"Replace `@RequestMapping( &quot;/item&quot; )` with `@GetMapping(value=&quot;/item&quot;, produces=MediaType.APPLICATION_JSON_VALUE)`.\r\n\r\nMaybe it will help somebody.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Replace <code>@RequestMapping( \"/item\" )</code> with <code>@GetMapping(value=\"/item\", produces=MediaType.APPLICATION_JSON_VALUE)</code>.</p>\n\n<p>Maybe it will help somebody.</p>\n"},{"tags":[],"owner":{"account_id":13696366,"reputation":9,"user_id":9882912,"display_name":"ASG"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1527880242,"creation_date":1527880242,"answer_id":50649737,"question_id":31318107,"body_markdown":"Place your springbootapplication class in root package for example if your service,controller is in springBoot.xyz package then your main class should be in springBoot package otherwise it will not scan below packages","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Place your springbootapplication class in root package for example if your service,controller is in springBoot.xyz package then your main class should be in springBoot package otherwise it will not scan below packages</p>\n"},{"tags":[],"owner":{"account_id":2098061,"reputation":363,"user_id":1866404,"accept_rate":36,"display_name":"Mahender Ambala"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1529693798,"creation_date":1529693798,"answer_id":50994122,"question_id":31318107,"body_markdown":"Same 404 response I got after service executed with the below code \r\n  \r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/duecreate/v1.0&quot;)\r\n    public class DueCreateController {\r\n    \r\n    }\r\nResponse:\r\n\r\n    {\r\n    &quot;timestamp&quot;: 1529692263422,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/duecreate/v1.0/status&quot;\r\n    }\r\n\r\n\r\nafter changing it to below code I received proper response\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/duecreate/v1.0&quot;)\r\n    public class DueCreateController {\r\n    \r\n    }\r\nResponse:\r\n\r\n    {\r\n    &quot;batchId&quot;: &quot;DUE1529673844630&quot;,\r\n    &quot;batchType&quot;: null,\r\n    &quot;executionDate&quot;: null,\r\n    &quot;status&quot;: &quot;OPEN&quot;\r\n    }\r\n\r\n","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Same 404 response I got after service executed with the below code </p>\n\n<pre><code>@Controller\n@RequestMapping(\"/duecreate/v1.0\")\npublic class DueCreateController {\n\n}\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>{\n\"timestamp\": 1529692263422,\n\"status\": 404,\n\"error\": \"Not Found\",\n\"message\": \"No message available\",\n\"path\": \"/duecreate/v1.0/status\"\n}\n</code></pre>\n\n<p>after changing it to below code I received proper response</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/duecreate/v1.0\")\npublic class DueCreateController {\n\n}\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>{\n\"batchId\": \"DUE1529673844630\",\n\"batchType\": null,\n\"executionDate\": null,\n\"status\": \"OPEN\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10353180,"reputation":1566,"user_id":7636024,"display_name":"Nabin Kumar Khatiwada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555653798,"creation_date":1555653798,"answer_id":55757317,"question_id":31318107,"body_markdown":"I had exact same error, I was not giving base package. Giving correct base package,ressolved it. \r\n\r\n    package com.ymc.backend.ymcbe;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages=&quot;com.ymc.backend&quot;)\r\n    public class YmcbeApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(YmcbeApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; Note: not including .controller\r\n&gt; @ComponentScan(basePackages=&quot;com.ymc.backend.controller&quot;) because i\r\n&gt; have many other component classes which my project does not scan if i\r\n&gt; just give .controller\r\n\r\nHere is my controller sample: \r\n\r\n    package com.ymc.backend.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @RestController\r\n    @CrossOrigin\r\n    @RequestMapping(value = &quot;/user&quot;)\r\n    public class UserController {\r\n    \r\n    \t@PostMapping(&quot;/sendOTP&quot;)\r\n    \tpublic String sendOTP() {\r\n    \t\treturn &quot;OTP sent&quot;;\r\n    \t};\r\n    \r\n    \r\n    }\r\n\r\n","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I had exact same error, I was not giving base package. Giving correct base package,ressolved it. </p>\n\n<pre><code>package com.ymc.backend.ymcbe;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages=\"com.ymc.backend\")\npublic class YmcbeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(YmcbeApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Note: not including .controller\n  @ComponentScan(basePackages=\"com.ymc.backend.controller\") because i\n  have many other component classes which my project does not scan if i\n  just give .controller</p>\n</blockquote>\n\n<p>Here is my controller sample: </p>\n\n<pre><code>package com.ymc.backend.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\n@CrossOrigin\n@RequestMapping(value = \"/user\")\npublic class UserController {\n\n    @PostMapping(\"/sendOTP\")\n    public String sendOTP() {\n        return \"OTP sent\";\n    };\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16330551,"reputation":41,"user_id":11794009,"display_name":"Love Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563817283,"creation_date":1563811270,"answer_id":57149782,"question_id":31318107,"body_markdown":"Sometimes spring boot behaves weird. I specified below in application class and it works:\r\n\r\n    @ComponentScan(&quot;com.seic.deliveryautomation.controller&quot;)","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Sometimes spring boot behaves weird. I specified below in application class and it works:</p>\n\n<pre><code>@ComponentScan(\"com.seic.deliveryautomation.controller\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3658685,"reputation":8401,"user_id":3049065,"accept_rate":67,"display_name":"Mahendran Sakkarai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564598225,"creation_date":1564598225,"answer_id":57297032,"question_id":31318107,"body_markdown":"I got the 404 problem, because of **Url Case Sensitivity**. \r\n\r\nFor example \r\n`@RequestMapping(value = &quot;/api/getEmployeeData&quot;,method = RequestMethod.GET)` should be accessed using `http://www.example.com/api/getEmployeeData`. If we are using `http://www.example.com/api/getemployeedata`, we&#39;ll get the 404 error.\r\n\r\nNote:\r\n`http://www.example.com` is just for reference which i mentioned above. It should be your domain name where you hosted your application.\r\n\r\nAfter a lot of struggle and apply all the other answers in this post, I got that the problem is with that url only. It might be silly problem. But it cost my 2 hours. So I hope it will help someone.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I got the 404 problem, because of <strong>Url Case Sensitivity</strong>. </p>\n\n<p>For example \n<code>@RequestMapping(value = \"/api/getEmployeeData\",method = RequestMethod.GET)</code> should be accessed using <code>http://www.example.com/api/getEmployeeData</code>. If we are using <code>http://www.example.com/api/getemployeedata</code>, we'll get the 404 error.</p>\n\n<p>Note:\n<code>http://www.example.com</code> is just for reference which i mentioned above. It should be your domain name where you hosted your application.</p>\n\n<p>After a lot of struggle and apply all the other answers in this post, I got that the problem is with that url only. It might be silly problem. But it cost my 2 hours. So I hope it will help someone.</p>\n"},{"tags":[],"owner":{"account_id":12622880,"reputation":199,"user_id":9177727,"accept_rate":0,"display_name":"sakirow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570092304,"creation_date":1570092304,"answer_id":58215402,"question_id":31318107,"body_markdown":"for me, I was adding spring-web instead of the spring-boot-starter-web into my pom.xml\r\n\r\nwhen i replace it from spring-web to spring-boot-starter-web, all maping is shown in the console log.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>for me, I was adding spring-web instead of the spring-boot-starter-web into my pom.xml</p>\n\n<p>when i replace it from spring-web to spring-boot-starter-web, all maping is shown in the console log.</p>\n"},{"tags":[],"owner":{"account_id":12508688,"reputation":113,"user_id":9104707,"display_name":"Muralidhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570106040,"creation_date":1570105862,"answer_id":58219178,"question_id":31318107,"body_markdown":"It also works if we use as follows:\r\n\r\n    @SpringBootApplication(scanBasePackages = { &quot;&lt;class ItemInventoryController package &gt;.*&quot; })","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>It also works if we use as follows:</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = { \"&lt;class ItemInventoryController package &gt;.*\" })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573871508,"creation_date":1573825404,"answer_id":58878307,"question_id":31318107,"body_markdown":"It could be that something else is running on port 8080, and you&#39;re actually connecting to it by mistake. \r\n\r\nDefinitely check that out, especially if you have dockers that are bringing up other services you don&#39;t control, and are port forwarding those services.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>It could be that something else is running on port 8080, and you're actually connecting to it by mistake. </p>\n\n<p>Definitely check that out, especially if you have dockers that are bringing up other services you don't control, and are port forwarding those services.</p>\n"},{"tags":[],"owner":{"account_id":15142068,"reputation":27,"user_id":10926789,"display_name":"cemahi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1573839188,"creation_date":1573839188,"answer_id":58882044,"question_id":31318107,"body_markdown":"You can add inside the POM.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;XXXXXXXXX&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>You can add inside the POM.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;version&gt;XXXXXXXXX&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8196165,"reputation":293,"user_id":6628739,"accept_rate":75,"display_name":"Naresh Bhadke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574832253,"creation_date":1574832253,"answer_id":59063527,"question_id":31318107,"body_markdown":"The problem is with your package structure. Spring Boot Application has a specific package structure to allow spring context to scan and load various beans in its context.\r\n\r\nIn com.nice.application is where your Main Class is and in com.nice.controller, you have your controller classes.\r\n\r\nMove your com.nice.controller package into com.nice.application so that Spring can access your beans.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>The problem is with your package structure. Spring Boot Application has a specific package structure to allow spring context to scan and load various beans in its context.</p>\n\n<p>In com.nice.application is where your Main Class is and in com.nice.controller, you have your controller classes.</p>\n\n<p>Move your com.nice.controller package into com.nice.application so that Spring can access your beans.</p>\n"},{"tags":[],"owner":{"account_id":1058660,"reputation":1737,"user_id":1060779,"accept_rate":77,"display_name":"maxivis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603133320,"creation_date":1603133320,"answer_id":64433445,"question_id":31318107,"body_markdown":"Another solution in case it helps: in my case, the problem was that I had a `@RequestMapping(&quot;/xxx&quot;)` at class level (in my controller), and in the exposed services I had `@PostMapping (value = &quot;/yyyy&quot;)` and `@GetMapping (value = &quot;/zzz&quot;)`; once I commented the `@RequestMapping(&quot;/xxx&quot;)` and managed all at method level, worked like a charm.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Another solution in case it helps: in my case, the problem was that I had a <code>@RequestMapping(&quot;/xxx&quot;)</code> at class level (in my controller), and in the exposed services I had <code>@PostMapping (value = &quot;/yyyy&quot;)</code> and <code>@GetMapping (value = &quot;/zzz&quot;)</code>; once I commented the <code>@RequestMapping(&quot;/xxx&quot;)</code> and managed all at method level, worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":13616153,"reputation":362,"user_id":9822004,"display_name":"MJL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613933969,"creation_date":1613933969,"answer_id":66305963,"question_id":31318107,"body_markdown":"For me, the problem was that I had set up the Application in a way that it always immediately shut down after starting. So by the time I tried out if I could access the controller, the Application wasn&#39;t running anymore.\r\nThe problem with immediately shutting down is adressed in [this thread][1].  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22380119/why-does-my-spring-boot-app-always-shutdown-immediately-after-starting","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>For me, the problem was that I had set up the Application in a way that it always immediately shut down after starting. So by the time I tried out if I could access the controller, the Application wasn't running anymore.\nThe problem with immediately shutting down is adressed in <a href=\"https://stackoverflow.com/questions/22380119/why-does-my-spring-boot-app-always-shutdown-immediately-after-starting\">this thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":20542644,"reputation":19,"user_id":15077253,"display_name":"Sumanta Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626679731,"creation_date":1626679731,"answer_id":68436659,"question_id":31318107,"body_markdown":"Change the Return type from String to ResponseEntity&lt;String&gt;\r\n\r\n    Like : \r\n    @RequestMapping( &quot;/item&quot; )\r\n    public ResponseEntity&lt;String&gt; getStockItem() {\r\n            return new ResponseEntity&lt;String&gt;(&quot;It&#39;s working...!&quot;, HttpStatus.OK);\r\n    }","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>Change the Return type from String to ResponseEntity</p>\n<pre><code>Like : \n@RequestMapping( &quot;/item&quot; )\npublic ResponseEntity&lt;String&gt; getStockItem() {\n        return new ResponseEntity&lt;String&gt;(&quot;It's working...!&quot;, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177643,"reputation":99,"user_id":6822729,"display_name":"Virendra khade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639051881,"creation_date":1639051881,"answer_id":70289713,"question_id":31318107,"body_markdown":"@SpringBootApplication\r\n**@ComponentScan(basePackages = {&quot;com.rest&quot;}) // basePackageClasses = HelloController.class)**\r\n// use above componnent scan to add packages\r\npublic class RestfulWebServicesApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RestfulWebServicesApplication.class, args);\r\n\t}\r\n\r\n\t\r\n\t\r\n}\r\n","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>@SpringBootApplication\n<strong>@ComponentScan(basePackages = {&quot;com.rest&quot;}) // basePackageClasses = HelloController.class)</strong>\n// use above componnent scan to add packages\npublic class RestfulWebServicesApplication {</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(RestfulWebServicesApplication.class, args);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":11054958,"reputation":397,"user_id":8118030,"display_name":"pankaj pundir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647086711,"creation_date":1647086711,"answer_id":71449550,"question_id":31318107,"body_markdown":"I found a really great thread for this issue.\r\n\r\nhttps://coderanch.com/t/735307/frameworks/Spring-boot-Rest-api\r\n\r\nThe controller api should be in the sub directory structure to automatically detect the controllers. Otherwise annotation argument can be used.\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.example.demo&quot;, &quot;com.example.Controller&quot;})\r\n\r\n","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I found a really great thread for this issue.</p>\n<p><a href=\"https://coderanch.com/t/735307/frameworks/Spring-boot-Rest-api\" rel=\"nofollow noreferrer\">https://coderanch.com/t/735307/frameworks/Spring-boot-Rest-api</a></p>\n<p>The controller api should be in the sub directory structure to automatically detect the controllers. Otherwise annotation argument can be used.</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.example.demo&quot;, &quot;com.example.Controller&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18011033,"reputation":121,"user_id":13090695,"display_name":"Prajwal S M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648550320,"creation_date":1648550320,"answer_id":71660575,"question_id":31318107,"body_markdown":"**There may 3 reasons causing for this error:**\r\n\r\n 1&gt;\r\n&gt; check your URL  you are requesting is correct  \r\n\r\n2&gt; check if your\r\n&gt; using MVC then use @Controller else use @RestController \r\n\r\n3&gt; check\r\n&gt; whether you have placed Controller package(or Class) outside the root\r\n&gt; package example: com.example.demo -&gt; is your main \r\npackage \r\n\r\n\r\n &gt; place controller package inside  com.example.demo.controller\r\n\r\n ","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p><strong>There may 3 reasons causing for this error:</strong></p>\n<p>1&gt;</p>\n<blockquote>\n<p>check your URL  you are requesting is correct</p>\n</blockquote>\n<p>2&gt; check if your</p>\n<blockquote>\n<p>using MVC then use @Controller else use @RestController</p>\n</blockquote>\n<p>3&gt; check</p>\n<blockquote>\n<p>whether you have placed Controller package(or Class) outside the root\npackage example: com.example.demo -&gt; is your main\npackage</p>\n</blockquote>\n<blockquote>\n<p>place controller package inside  com.example.demo.controller</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12480679,"reputation":170,"user_id":9085549,"display_name":"Chetan Handa"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1671343841,"creation_date":1651434955,"answer_id":72079999,"question_id":31318107,"body_markdown":"The controller should be accessible in the same namespace\r\nThis is what you have \r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is how it should be, see the hierarchy of the namespace\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V6MzN.png\r\n  [2]: https://i.stack.imgur.com/SWz6n.png","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>The controller should be accessible in the same namespace\nThis is what you have\n<a href=\"https://i.stack.imgur.com/V6MzN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V6MzN.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how it should be, see the hierarchy of the namespace</p>\n<p><a href=\"https://i.stack.imgur.com/SWz6n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SWz6n.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657704009,"creation_date":1657704009,"answer_id":72963816,"question_id":31318107,"body_markdown":"I had the same issue, because I created an **inner class** annotated with `@Configuration` and it prohibited somehow the component scan.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I had the same issue, because I created an <strong>inner class</strong> annotated with <code>@Configuration</code> and it prohibited somehow the component scan.</p>\n"},{"tags":[],"owner":{"account_id":8323670,"reputation":709,"user_id":6254385,"accept_rate":90,"display_name":"epicUsername"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666629700,"creation_date":1666629700,"answer_id":74184282,"question_id":31318107,"body_markdown":"I had the same problem, and while the above solution are correct in their own right, they did not work for me, and I found another possible reason that solved it - you have to shut down the application from the port, and restart your application, if doing a Maven Update or a project clean fail to solve it.\r\n\r\nBriefly, open a command prompt, and run the following two commands:\r\n\r\n    netstat -ano | findstr :8080\r\n\r\nThis command will locate the Process ID that is attached at the port that your app is running on - please make sure to specify the port, if you have it anywhere other than the default.\r\n\r\nYou will get the following output:\r\n[![enter image description here][1]][1]\r\n\r\nWhat you care about is the number in the last column, which is the process ID associated with the port, on which the instance of the app is running.\r\n\r\nIf you are using STS4 for your development purposes, you can also see the PID on the top margin of the console, but you do have to squint for it:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAt this point, run the next command to kill the process:\r\n\r\n    taskkill /pid 22552 /f\r\n\r\nAnd it results in this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nDo remember that there will be a different PID for every time you run the application.\r\n\r\nAnd finally, you can run it again, and that should do it.\r\n\r\nMore relevant materials:\r\n[Closing network connections][4]\r\n\r\n[Programmatically shutting down SpringBoot app][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p6Iuy.png\r\n  [2]: https://i.stack.imgur.com/4Uyqs.png\r\n  [3]: https://i.stack.imgur.com/x9tv6.png\r\n  [4]: https://stackoverflow.com/questions/8688949/how-to-close-tcp-and-udp-ports-via-windows-command-line\r\n  [5]: https://www.baeldung.com/spring-boot-shutdown","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I had the same problem, and while the above solution are correct in their own right, they did not work for me, and I found another possible reason that solved it - you have to shut down the application from the port, and restart your application, if doing a Maven Update or a project clean fail to solve it.</p>\n<p>Briefly, open a command prompt, and run the following two commands:</p>\n<pre><code>netstat -ano | findstr :8080\n</code></pre>\n<p>This command will locate the Process ID that is attached at the port that your app is running on - please make sure to specify the port, if you have it anywhere other than the default.</p>\n<p>You will get the following output:\n<a href=\"https://i.stack.imgur.com/p6Iuy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p6Iuy.png\" alt=\"enter image description here\" /></a></p>\n<p>What you care about is the number in the last column, which is the process ID associated with the port, on which the instance of the app is running.</p>\n<p>If you are using STS4 for your development purposes, you can also see the PID on the top margin of the console, but you do have to squint for it:</p>\n<p><a href=\"https://i.stack.imgur.com/4Uyqs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Uyqs.png\" alt=\"enter image description here\" /></a></p>\n<p>At this point, run the next command to kill the process:</p>\n<pre><code>taskkill /pid 22552 /f\n</code></pre>\n<p>And it results in this:</p>\n<p><a href=\"https://i.stack.imgur.com/x9tv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x9tv6.png\" alt=\"enter image description here\" /></a></p>\n<p>Do remember that there will be a different PID for every time you run the application.</p>\n<p>And finally, you can run it again, and that should do it.</p>\n<p>More relevant materials:\n<a href=\"https://stackoverflow.com/questions/8688949/how-to-close-tcp-and-udp-ports-via-windows-command-line\">Closing network connections</a></p>\n<p><a href=\"https://www.baeldung.com/spring-boot-shutdown\" rel=\"nofollow noreferrer\">Programmatically shutting down SpringBoot app</a></p>\n"},{"tags":[],"owner":{"account_id":1820877,"reputation":303,"user_id":1654975,"display_name":"samiup"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674677304,"creation_date":1674677304,"answer_id":75239301,"question_id":31318107,"body_markdown":"New to Springboot, tried everything above, but ended up being as simple as I had a / at the end of the URL on my browser while my only Get() method was blank, just returning a string. \r\nHope this&#39;ll help someone someday.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>New to Springboot, tried everything above, but ended up being as simple as I had a / at the end of the URL on my browser while my only Get() method was blank, just returning a string.\nHope this'll help someone someday.</p>\n"},{"tags":[],"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678577150,"creation_date":1678577150,"answer_id":75710196,"question_id":31318107,"body_markdown":"I think it&#39;s also worth noting that the absolute path of your project matters (in my case it was on a Windows Computer). I had a similar issue, I restructured my project, made sure I had `@Controller` or `@RestController` where necessary. I made sure I named my path correctly but somehow I always ended up with a ***White Label Error Page*** and when I took a step back I realized I had spaces and special characters at some point in my project&#39;s absolute path, hence I moved the same project to a new directory where there is no space and/or special characters at any point in my folders name and it worked.","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I think it's also worth noting that the absolute path of your project matters (in my case it was on a Windows Computer). I had a similar issue, I restructured my project, made sure I had <code>@Controller</code> or <code>@RestController</code> where necessary. I made sure I named my path correctly but somehow I always ended up with a <em><strong>White Label Error Page</strong></em> and when I took a step back I realized I had spaces and special characters at some point in my project's absolute path, hence I moved the same project to a new directory where there is no space and/or special characters at any point in my folders name and it worked.</p>\n"}],"owner":{"account_id":1817178,"reputation":4027,"user_id":1654284,"accept_rate":67,"display_name":"mchlfchr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411503,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":31318789,"answer_count":28,"score":171,"last_activity_date":1678577150,"creation_date":1436446352,"question_id":31318107,"body_markdown":"I am trying to adapt the REST Controller example on the Spring Boot website.\r\nUnfortunately I&#39;ve got the following error when I am trying to access the `localhost:8080/item` URL. \r\n\r\n    {\r\n      &quot;timestamp&quot;: 1436442596410,\r\n      &quot;status&quot;: 404,\r\n      &quot;error&quot;: &quot;Not Found&quot;,\r\n      &quot;message&quot;: &quot;No message available&quot;,\r\n      &quot;path&quot;: &quot;/item&quot;\r\n    }\r\n\r\n\r\nPOM:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n       &lt;groupId&gt;SpringBootTest&lt;/groupId&gt;\r\n       &lt;artifactId&gt;SpringBootTest&lt;/artifactId&gt;\r\n       &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n       &lt;properties&gt;\r\n          &lt;javaVersion&gt;1.8&lt;/javaVersion&gt;\r\n          &lt;mainClassPackage&gt;com.nice.application&lt;/mainClassPackage&gt;\r\n          &lt;mainClass&gt;${mainClassPackage}.InventoryApp&lt;/mainClass&gt;\r\n       &lt;/properties&gt;\r\n    \r\n       &lt;build&gt;\r\n          &lt;plugins&gt;\r\n             &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;source&gt;${javaVersion}&lt;/source&gt;\r\n                   &lt;target&gt;${javaVersion}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n             &lt;/plugin&gt;\r\n    \r\n             &lt;!-- Makes the Spring Boot app executable for a jar file. The additional configuration is needed for the cmd: mvn spring-boot:repackage \r\n                OR mvn spring-boot:run --&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \r\n                &lt;configuration&gt;\r\n                   &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                   &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                   &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                         &lt;goal&gt;repackage&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                   &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n             &lt;/plugin&gt;\r\n    \r\n             &lt;!-- Create a jar with a manifest --&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;archive&gt;\r\n                      &lt;manifest&gt;\r\n                         &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                      &lt;/manifest&gt;\r\n                   &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n             &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n       &lt;/build&gt;\r\n    \r\n       &lt;dependencyManagement&gt;\r\n          &lt;dependencies&gt;\r\n             &lt;dependency&gt;\r\n                &lt;!-- Import dependency management from Spring Boot. This replaces the usage of the Spring Boot parent POM file. --&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n             &lt;/dependency&gt;\r\n    \r\n             &lt;!-- more comfortable usage of several features when developing in an IDE. Developer tools are automatically disabled when \r\n                running a fully packaged application. If your application is launched using java -jar or if it’s started using a special classloader, \r\n                then it is considered a &#39;production application&#39;. Applications that use spring-boot-devtools will automatically restart whenever files \r\n                on the classpath change. --&gt;\r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n             &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n       &lt;/dependencyManagement&gt;\r\n    \r\n       &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n             &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n             &lt;version&gt;15.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nStarter-Application:\r\n\r\n    package com.nice.application;\r\n    @SpringBootApplication // same as @Configuration @EnableAutoConfiguration @ComponentScan\r\n    public class InventoryApp {\r\n       public static void main( String[] args ) {\r\n          SpringApplication.run( InventoryApp.class, args );\r\n       }\r\n    }\r\n\r\nREST-Controller:\r\n\r\n    package com.nice.controller; \r\n    @RestController // shorthand for @Controller and @ResponseBody rolled together\r\n    public class ItemInventoryController {\r\n       public ItemInventoryController() {\r\n       }\r\n     \r\n       @RequestMapping( &quot;/item&quot; )\r\n       public String getStockItem() {\r\n          return &quot;It&#39;s working...!&quot;;\r\n       }\r\n      \r\n    }\r\n\r\n\r\nI am building this project with Maven.\r\nStarted it as jar (spring-boot:run) and as well inside the IDE (Eclipse).\r\n\r\nConsole Log:\r\n\r\n    2015-07-09 14:21:52.132  INFO 1204 --- [           main] c.b.i.p.s.e.i.a.InventoryApp          : Starting InventoryApp on 101010002016M with PID 1204 (C:\\eclipse_workspace\\SpringBootTest\\target\\classes started by MFE in C:\\eclipse_workspace\\SpringBootTest)\r\n    2015-07-09 14:21:52.165  INFO 1204 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7a3d45bd: startup date [Thu Jul 09 14:21:52 CEST 2015]; root of context hierarchy\r\n    2015-07-09 14:21:52.661  INFO 1204 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;beanNameViewResolver&#39;: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\r\n    2015-07-09 14:21:53.430  INFO 1204 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2015-07-09 14:21:53.624  INFO 1204 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n    2015-07-09 14:21:53.625  INFO 1204 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.23\r\n    2015-07-09 14:21:53.731  INFO 1204 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2015-07-09 14:21:53.731  INFO 1204 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1569 ms\r\n    2015-07-09 14:21:54.281  INFO 1204 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2015-07-09 14:21:54.285  INFO 1204 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2015-07-09 14:21:54.285  INFO 1204 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2015-07-09 14:21:54.508  INFO 1204 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7a3d45bd: startup date [Thu Jul 09 14:21:52 CEST 2015]; root of context hierarchy\r\n    2015-07-09 14:21:54.573  INFO 1204 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error]}&quot; onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\r\n    2015-07-09 14:21:54.573  INFO 1204 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error],produces=[text/html]}&quot; onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)\r\n    2015-07-09 14:21:54.594  INFO 1204 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2015-07-09 14:21:54.594  INFO 1204 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2015-07-09 14:21:54.633  INFO 1204 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2015-07-09 14:21:54.710  INFO 1204 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n    2015-07-09 14:21:54.793  INFO 1204 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\r\n    2015-07-09 14:21:54.795  INFO 1204 --- [           main] c.b.i.p.s.e.i.a.InventoryApp          : Started InventoryApp in 2.885 seconds (JVM running for 3.227)\r\n    2015-07-09 14:22:10.911  INFO 1204 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2015-07-09 14:22:10.911  INFO 1204 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2015-07-09 14:22:10.926  INFO 1204 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 15 ms\r\n\r\n\r\n\r\nWhat I&#39;ve tried so far: \r\n\r\n- Accessing the URL with the application name (InventoryApp)\r\n- Put another `@RequestMapping(&quot;/&quot;)` at class level of the `ItemInventoryController`\r\n\r\n\r\n\r\n\r\nAs far as I understood, I won&#39;t need an application-context when using Spring Boot. Am I right?\r\n\r\nWhat else can I do to access the method via URL?","title":"Spring Boot: Cannot access REST Controller on localhost (404)","body":"<p>I am trying to adapt the REST Controller example on the Spring Boot website.\nUnfortunately I've got the following error when I am trying to access the <code>localhost:8080/item</code> URL. </p>\n\n<pre><code>{\n  \"timestamp\": 1436442596410,\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"No message available\",\n  \"path\": \"/item\"\n}\n</code></pre>\n\n<p>POM:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;groupId&gt;SpringBootTest&lt;/groupId&gt;\n   &lt;artifactId&gt;SpringBootTest&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;properties&gt;\n      &lt;javaVersion&gt;1.8&lt;/javaVersion&gt;\n      &lt;mainClassPackage&gt;com.nice.application&lt;/mainClassPackage&gt;\n      &lt;mainClass&gt;${mainClassPackage}.InventoryApp&lt;/mainClass&gt;\n   &lt;/properties&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n               &lt;source&gt;${javaVersion}&lt;/source&gt;\n               &lt;target&gt;${javaVersion}&lt;/target&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n\n         &lt;!-- Makes the Spring Boot app executable for a jar file. The additional configuration is needed for the cmd: mvn spring-boot:repackage \n            OR mvn spring-boot:run --&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n\n            &lt;configuration&gt;\n               &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n               &lt;layout&gt;ZIP&lt;/layout&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n               &lt;execution&gt;\n                  &lt;goals&gt;\n                     &lt;goal&gt;repackage&lt;/goal&gt;\n                  &lt;/goals&gt;\n               &lt;/execution&gt;\n            &lt;/executions&gt;\n         &lt;/plugin&gt;\n\n         &lt;!-- Create a jar with a manifest --&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n               &lt;archive&gt;\n                  &lt;manifest&gt;\n                     &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n               &lt;/archive&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n   &lt;dependencyManagement&gt;\n      &lt;dependencies&gt;\n         &lt;dependency&gt;\n            &lt;!-- Import dependency management from Spring Boot. This replaces the usage of the Spring Boot parent POM file. --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n         &lt;/dependency&gt;\n\n         &lt;!-- more comfortable usage of several features when developing in an IDE. Developer tools are automatically disabled when \n            running a fully packaged application. If your application is launched using java -jar or if it’s started using a special classloader, \n            then it is considered a 'production application'. Applications that use spring-boot-devtools will automatically restart whenever files \n            on the classpath change. --&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n   &lt;/dependencyManagement&gt;\n\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n         &lt;artifactId&gt;guava&lt;/artifactId&gt;\n         &lt;version&gt;15.0&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Starter-Application:</p>\n\n<pre><code>package com.nice.application;\n@SpringBootApplication // same as @Configuration @EnableAutoConfiguration @ComponentScan\npublic class InventoryApp {\n   public static void main( String[] args ) {\n      SpringApplication.run( InventoryApp.class, args );\n   }\n}\n</code></pre>\n\n<p>REST-Controller:</p>\n\n<pre><code>package com.nice.controller; \n@RestController // shorthand for @Controller and @ResponseBody rolled together\npublic class ItemInventoryController {\n   public ItemInventoryController() {\n   }\n\n   @RequestMapping( \"/item\" )\n   public String getStockItem() {\n      return \"It's working...!\";\n   }\n\n}\n</code></pre>\n\n<p>I am building this project with Maven.\nStarted it as jar (spring-boot:run) and as well inside the IDE (Eclipse).</p>\n\n<p>Console Log:</p>\n\n<pre><code>2015-07-09 14:21:52.132  INFO 1204 --- [           main] c.b.i.p.s.e.i.a.InventoryApp          : Starting InventoryApp on 101010002016M with PID 1204 (C:\\eclipse_workspace\\SpringBootTest\\target\\classes started by MFE in C:\\eclipse_workspace\\SpringBootTest)\n2015-07-09 14:21:52.165  INFO 1204 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7a3d45bd: startup date [Thu Jul 09 14:21:52 CEST 2015]; root of context hierarchy\n2015-07-09 14:21:52.661  INFO 1204 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'beanNameViewResolver': replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\n2015-07-09 14:21:53.430  INFO 1204 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2015-07-09 14:21:53.624  INFO 1204 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2015-07-09 14:21:53.625  INFO 1204 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.23\n2015-07-09 14:21:53.731  INFO 1204 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2015-07-09 14:21:53.731  INFO 1204 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1569 ms\n2015-07-09 14:21:54.281  INFO 1204 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2015-07-09 14:21:54.285  INFO 1204 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]\n2015-07-09 14:21:54.285  INFO 1204 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2015-07-09 14:21:54.508  INFO 1204 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7a3d45bd: startup date [Thu Jul 09 14:21:52 CEST 2015]; root of context hierarchy\n2015-07-09 14:21:54.573  INFO 1204 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error]}\" onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\n2015-07-09 14:21:54.573  INFO 1204 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],produces=[text/html]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)\n2015-07-09 14:21:54.594  INFO 1204 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-07-09 14:21:54.594  INFO 1204 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-07-09 14:21:54.633  INFO 1204 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2015-07-09 14:21:54.710  INFO 1204 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2015-07-09 14:21:54.793  INFO 1204 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2015-07-09 14:21:54.795  INFO 1204 --- [           main] c.b.i.p.s.e.i.a.InventoryApp          : Started InventoryApp in 2.885 seconds (JVM running for 3.227)\n2015-07-09 14:22:10.911  INFO 1204 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2015-07-09 14:22:10.911  INFO 1204 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2015-07-09 14:22:10.926  INFO 1204 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms\n</code></pre>\n\n<p>What I've tried so far: </p>\n\n<ul>\n<li>Accessing the URL with the application name (InventoryApp)</li>\n<li>Put another <code>@RequestMapping(\"/\")</code> at class level of the <code>ItemInventoryController</code></li>\n</ul>\n\n<p>As far as I understood, I won't need an application-context when using Spring Boot. Am I right?</p>\n\n<p>What else can I do to access the method via URL?</p>\n"},{"tags":["java","r","bufferedreader","java-io","rscript"],"owner":{"account_id":3158846,"reputation":3608,"user_id":2670571,"accept_rate":52,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678576212,"creation_date":1678573014,"question_id":75709888,"body_markdown":"I am running an R script from java using RScript and Runtime.getRuntime() as shown in the code below.  The code seems to stop part way through (the code stops writing output).  If I run the script from a cmd line the script runs to completion.  I&#39;m not sure if this is a problem with RScript, or maybe the buffered reader, or maybe Runtime.getRuntime().exec().  \r\n\r\nAny help would be greatly appreciated.  \r\n\r\n\r\n\r\n    package org.nachc.tools.fhirtoomop.tools.build.postgres.build;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import com.nach.core.util.file.FileUtil;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class ETLSYN01_LoadSynthFiles {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\texec();\r\n    \t}\r\n    \t\r\n    \tpublic static void exec() {\r\n    \t\ttry {\r\n    \t\t\tlog.info(&quot;\\n\\n\\n-----------------------------------&quot;);\r\n    \t\t\tlog.info(&quot;LOADING TEST DATA USING ETL-Synthea R-SCRIPTS&quot;);\r\n    \t\t\t// get the file to run\r\n    \t\t\tFile file = FileUtil.getFile(&quot;/postgres/build/r/load-synthea-files.R&quot;);\r\n    \t\t\tString path = FileUtil.getCanonicalPath(file);\r\n    \t\t\tString cmd = &quot;Rscript &quot; + path;\r\n    \t\t\tlog.info(&quot;Got file: &quot; + path);\r\n    \t\t\tlog.info(&quot;Running cmd: &quot; + cmd);\r\n    \t\t\t// run r through runtime\r\n    \t\t\tRuntime rt = Runtime.getRuntime();\r\n    \t\t\tProcess proc = rt.exec(cmd);\r\n    \t\t\t// echo output\r\n    \t\t\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\r\n    \t\t\tString s = null;\r\n    \t\t\twhile ((s = stdInput.readLine()) != null) {\r\n    \t\t\t\tlog.info(s);\r\n    \t\t\t}\r\n    \t\t\t// echo errors\r\n    \t\t\tBufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\r\n    \t\t\tSystem.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\r\n    \t\t\twhile ((s = stdError.readLine()) != null) {\r\n    \t\t\t\tlog.info(s);\r\n    \t\t\t}\t\t\t\r\n    \t\t\tlog.info(&quot;Done.&quot;);\t\t\t\r\n    \t\t} catch(Exception exp) {\r\n    \t\t\tthrow (new RuntimeException(exp));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**--- EDIT ----------------------------------**\r\n\r\nIf I add sink to my code, the Java process keeps running and the output to the file stops at the exact same point where it stops when output is sent to the console normally\r\n\r\n    sink(file=&quot;./SINK.TXT&quot;)\r\n       ...&lt;my_code/&gt;\r\n    sink(file=NULL) \r\n\r\n\r\n**--- EDIT ----------------------------------**\r\n\r\nAs a potential workaround, calling rscript from a .bat file works (the rscript runs to completion).  The code below runs to completion.  \r\n\r\n\r\n    package org.nachc.tools.fhirtoomop.tools.build.postgres.build;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import org.yaorma.util.time.Timer;\r\n    \r\n    import com.nach.core.util.file.FileUtil;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class ACH1_RunAchilles {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\texec();\r\n    \t}\r\n    \r\n    \tpublic static void exec() {\r\n    \t\tTimer timer = new Timer();\r\n    \t\ttimer.start();\r\n    \t\t//\t\trunRScript(FileUtil.getFile(&quot;/postgres/build/r/achilles/install-achilles.r&quot;));\r\n    \t\tFile file = FileUtil.getFile(&quot;/postgres/build/r/achilles/run-achilles.bat&quot;);\r\n    \t\tString fileName = FileUtil.getCanonicalPath(file);\r\n    \t\tlog.info(&quot;File: &quot; + fileName);\r\n    \t\ttry {\r\n    \t\t\tRuntime.\r\n    \t\t\t   getRuntime().\r\n    \t\t\t   exec(&quot;cmd /c start \\&quot;\\&quot; &quot; + fileName);\r\n    \t\t} catch (Exception exp) {\r\n    \t\t\tthrow new RuntimeException(exp);\r\n    \t\t}\r\n    \t\tlog.info(&quot;TIME TO RUN ACHILLES: &quot; + timer.getElapsedString());\r\n    \t\tlog.info(&quot;Done running Ahcilles.&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void runRScript(File file) {\r\n    \t\ttry {\r\n    \t\t\tlog.info(&quot;\\n\\n\\n-----------------------------------&quot;);\r\n    \t\t\tlog.info(&quot;RUNNING ACHILLES USING R-SCRIPTS&quot;);\r\n    \t\t\t// get the file to run\r\n    \t\t\tString path = FileUtil.getCanonicalPath(file);\r\n    \t\t\tString cmd = &quot;Rscript &quot; + path;\r\n    \t\t\tlog.info(&quot;Got file: &quot; + path);\r\n    \t\t\tlog.info(&quot;Running cmd: &quot; + cmd);\r\n    \t\t\t// run r through runtime\r\n    \t\t\tRuntime rt = Runtime.getRuntime();\r\n    \t\t\tProcess proc = rt.exec(cmd);\r\n    \t\t\t// echo output\r\n    \t\t\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\r\n    \t\t\tString s;\r\n    \t\t\ts = null;\r\n    \t\t\twhile ((s = stdInput.readLine()) != null) {\r\n    \t\t\t\tlog.info(s);\r\n    \t\t\t}\r\n    \t\t\tlog.info(&quot;Done with Achilles, looking to see if there are any errors...&quot;);\r\n    \t\t\t// echo errors\r\n    \t\t\tBufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\r\n    \t\t\tSystem.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\r\n    \t\t\ts = null;\r\n    \t\t\tboolean hasErrors = false;\r\n    \t\t\twhile ((s = stdError.readLine()) != null) {\r\n    \t\t\t\tif (hasErrors == false) {\r\n    \t\t\t\t\thasErrors = true;\r\n    \t\t\t\t\tlog.error(&quot;ERRORS LOGGED DURING EXECUTION&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tlog.info(s);\r\n    \t\t\t}\r\n    \t\t\tlog.info(&quot;Done processing R script&quot;);\r\n    \t\t} catch (Exception exp) {\r\n    \t\t\tthrow (new RuntimeException(exp));\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Running R script from Java using Runtime rt = Runtime.getRuntime(), RScript, and Buffered reader seems to hang before finishing","body":"<p>I am running an R script from java using RScript and Runtime.getRuntime() as shown in the code below.  The code seems to stop part way through (the code stops writing output).  If I run the script from a cmd line the script runs to completion.  I'm not sure if this is a problem with RScript, or maybe the buffered reader, or maybe Runtime.getRuntime().exec().</p>\n<p>Any help would be greatly appreciated.</p>\n<pre><code>package org.nachc.tools.fhirtoomop.tools.build.postgres.build;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\n\nimport com.nach.core.util.file.FileUtil;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class ETLSYN01_LoadSynthFiles {\n\n    public static void main(String[] args) {\n        exec();\n    }\n    \n    public static void exec() {\n        try {\n            log.info(&quot;\\n\\n\\n-----------------------------------&quot;);\n            log.info(&quot;LOADING TEST DATA USING ETL-Synthea R-SCRIPTS&quot;);\n            // get the file to run\n            File file = FileUtil.getFile(&quot;/postgres/build/r/load-synthea-files.R&quot;);\n            String path = FileUtil.getCanonicalPath(file);\n            String cmd = &quot;Rscript &quot; + path;\n            log.info(&quot;Got file: &quot; + path);\n            log.info(&quot;Running cmd: &quot; + cmd);\n            // run r through runtime\n            Runtime rt = Runtime.getRuntime();\n            Process proc = rt.exec(cmd);\n            // echo output\n            BufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\n            String s = null;\n            while ((s = stdInput.readLine()) != null) {\n                log.info(s);\n            }\n            // echo errors\n            BufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\n            System.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\n            while ((s = stdError.readLine()) != null) {\n                log.info(s);\n            }           \n            log.info(&quot;Done.&quot;);          \n        } catch(Exception exp) {\n            throw (new RuntimeException(exp));\n        }\n    }\n    \n}\n</code></pre>\n<p><strong>--- EDIT ----------------------------------</strong></p>\n<p>If I add sink to my code, the Java process keeps running and the output to the file stops at the exact same point where it stops when output is sent to the console normally</p>\n<pre><code>sink(file=&quot;./SINK.TXT&quot;)\n   ...&lt;my_code/&gt;\nsink(file=NULL) \n</code></pre>\n<p><strong>--- EDIT ----------------------------------</strong></p>\n<p>As a potential workaround, calling rscript from a .bat file works (the rscript runs to completion).  The code below runs to completion.</p>\n<pre><code>package org.nachc.tools.fhirtoomop.tools.build.postgres.build;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\nimport org.yaorma.util.time.Timer;\n\nimport com.nach.core.util.file.FileUtil;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class ACH1_RunAchilles {\n\n    public static void main(String[] args) {\n        exec();\n    }\n\n    public static void exec() {\n        Timer timer = new Timer();\n        timer.start();\n        //      runRScript(FileUtil.getFile(&quot;/postgres/build/r/achilles/install-achilles.r&quot;));\n        File file = FileUtil.getFile(&quot;/postgres/build/r/achilles/run-achilles.bat&quot;);\n        String fileName = FileUtil.getCanonicalPath(file);\n        log.info(&quot;File: &quot; + fileName);\n        try {\n            Runtime.\n               getRuntime().\n               exec(&quot;cmd /c start \\&quot;\\&quot; &quot; + fileName);\n        } catch (Exception exp) {\n            throw new RuntimeException(exp);\n        }\n        log.info(&quot;TIME TO RUN ACHILLES: &quot; + timer.getElapsedString());\n        log.info(&quot;Done running Ahcilles.&quot;);\n    }\n\n    private static void runRScript(File file) {\n        try {\n            log.info(&quot;\\n\\n\\n-----------------------------------&quot;);\n            log.info(&quot;RUNNING ACHILLES USING R-SCRIPTS&quot;);\n            // get the file to run\n            String path = FileUtil.getCanonicalPath(file);\n            String cmd = &quot;Rscript &quot; + path;\n            log.info(&quot;Got file: &quot; + path);\n            log.info(&quot;Running cmd: &quot; + cmd);\n            // run r through runtime\n            Runtime rt = Runtime.getRuntime();\n            Process proc = rt.exec(cmd);\n            // echo output\n            BufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\n            String s;\n            s = null;\n            while ((s = stdInput.readLine()) != null) {\n                log.info(s);\n            }\n            log.info(&quot;Done with Achilles, looking to see if there are any errors...&quot;);\n            // echo errors\n            BufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\n            System.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\n            s = null;\n            boolean hasErrors = false;\n            while ((s = stdError.readLine()) != null) {\n                if (hasErrors == false) {\n                    hasErrors = true;\n                    log.error(&quot;ERRORS LOGGED DURING EXECUTION&quot;);\n                }\n                log.info(s);\n            }\n            log.info(&quot;Done processing R script&quot;);\n        } catch (Exception exp) {\n            throw (new RuntimeException(exp));\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","file","binaryfiles","outputstream","fileoutputstream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1678575288,"post_id":75710068,"comment_id":133561078,"body_markdown":"`the first line contains only numbers that require exactly one byte` When talking about a binary file, what does &quot;line&quot; mean?  Are you sure the requirement is binary?  For `the first 8 bytes in each line represent how many prime numbers` can you expand on how those 8 bytes are interpreted?  As a 64 bit little endian integer perhaps?  Or big endian?  Or `double`?","body":"<code>the first line contains only numbers that require exactly one byte</code> When talking about a binary file, what does &quot;line&quot; mean?  Are you sure the requirement is binary?  For <code>the first 8 bytes in each line represent how many prime numbers</code> can you expand on how those 8 bytes are interpreted?  As a 64 bit little endian integer perhaps?  Or big endian?  Or <code>double</code>?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":2,"creation_date":1678575476,"post_id":75710068,"comment_id":133561099,"body_markdown":"&#39;Line&#39; is a text concept. There&#39;s no &#39;end of line&#39; needed in your binary data - the counts (initial 8-byte values) tell you where that section of data ends, and then there will be the next count.  8 bytes is kind of excessive for an integer count in binary, though.","body":"&#39;Line&#39; is a text concept. There&#39;s no &#39;end of line&#39; needed in your binary data - the counts (initial 8-byte values) tell you where that section of data ends, and then there will be the next count.  8 bytes is kind of excessive for an integer count in binary, though."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678576920,"post_id":75710068,"comment_id":133561294,"body_markdown":"&quot;When I try to read the file and output it to the screen I get a completely different result.&quot; How are you doing this?","body":"&quot;When I try to read the file and output it to the screen I get a completely different result.&quot; How are you doing this?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678577053,"post_id":75710068,"comment_id":133561311,"body_markdown":"Are the numbers you are writing signed or unsigned? i.e. does 128 need one byte or two?","body":"Are the numbers you are writing signed or unsigned? i.e. does 128 need one byte or two?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678578000,"post_id":75710068,"comment_id":133561415,"body_markdown":"`arr[j] &gt;&gt; 8 * i` - this doesn&#39;t work. the right hand side (`8 * i`) is divided by 32 and the remainder is used, and you go above 32. Which means the number &#39;loops&#39;. What you really want is to write 4 zero-bytes first, as the java array can never be larger than 32-bit (given that it&#39;s int-size limited). Just the first thing I noticed, nmo doubt there are many more bugs.","body":"<code>arr[j] &gt;&gt; 8 * i</code> - this doesn&#39;t work. the right hand side (<code>8 * i</code>) is divided by 32 and the remainder is used, and you go above 32. Which means the number &#39;loops&#39;. What you really want is to write 4 zero-bytes first, as the java array can never be larger than 32-bit (given that it&#39;s int-size limited). Just the first thing I noticed, nmo doubt there are many more bugs."},{"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"score":0,"creation_date":1678620688,"post_id":75710068,"comment_id":133565449,"body_markdown":"@tgdavies, i can write up to 256 numbers as 1 byte","body":"@tgdavies, i can write up to 256 numbers as 1 byte"},{"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"score":0,"creation_date":1678620921,"post_id":75710068,"comment_id":133565473,"body_markdown":"@tgdavies, i doesn&#39;t important now how i read file, because i stores info in file in wrong way","body":"@tgdavies, i doesn&#39;t important now how i read file, because i stores info in file in wrong way"},{"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"score":0,"creation_date":1678621079,"post_id":75710068,"comment_id":133565489,"body_markdown":"@rzwitserloot, can please write in more detail what is wrong and how I can fix it?","body":"@rzwitserloot, can please write in more detail what is wrong and how I can fix it?"}],"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678575563,"creation_date":1678575037,"question_id":75710068,"body_markdown":"here is my task:  Save the calculated data in a binary file according to the following format:\r\n\r\n- the first 8 bytes in each line represent how many prime numbers are saved in that\r\nline;\r\n- after 8 bytes, the unsupervised prime numbers are written according to the assumption that the first line contains only numbers that require exactly one byte to be\r\nsaved, the second line contains only numbers that require exactly 2 bytes to be\r\nsaved, in the third line 3 bytes are required, etc.\r\n\r\nSo I need to write prime numbers to a binary file. The first number of each line of the file will start with an 8-byte number, which indicates how many numbers will be written to that line. For example, in the first line we write all the numbers that need 1 byte, in the second line 2 bytes, etc. I seem to have done everything correctly, but it still writes it wrong...\r\n```\r\nclass Write {\r\n    public static final int[] Byte_Sizes  = {1,2,3,4};\r\n    public  void write(String filename, ArrayList&lt;Integer&gt; data) {\r\n        try( OutputStream os = new FileOutputStream(filename)) {\r\n            int[] arr = countNumbersInEachLine(data);\r\n            int index = 0;\r\n\r\n            for(int j=0; j&lt;arr.length; j++) {\r\n                for (int i = 7; i &gt;= 0; --i) {\r\n                    os.write( (arr[j] &gt;&gt; i * 8) );\r\n                }\r\n                while (index&lt;data.size() &amp;&amp; index&lt; arr[j]){\r\n                    int size = getByteSize(data.get(index));\r\n                    for (int b = size -1; b &gt;= 0 ; --b) {\r\n                        os.write( (data.get(index) &gt;&gt; b * 8) );\r\n                    }index++;\r\n                }os.write(&#39;\\n&#39;);\r\n            }\r\n\r\n        }catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n    public static int getByteSize(int value) {\r\n        int size =1;\r\n        while (value &gt;= Math.pow(2, 8*size)) {\r\n            size++;\r\n        }\r\n        return size;\r\n    }\r\n    public int[] countNumbersInEachLine(ArrayList&lt;Integer&gt; primes){\r\n        int[] amount_in_each_line = new int[Byte_Sizes.length];\r\n        for(int j =0; j&lt; Byte_Sizes.length; j++) {\r\n            int counter =0;\r\n            for (int i = 0; i &lt; primes.size(); i++) {\r\n                if(getByteSize(primes.get(i)) == Byte_Sizes[j]){\r\n                    counter++;\r\n                }\r\n            }\r\n            amount_in_each_line[j] = counter;\r\n        }\r\n        return amount_in_each_line;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI have method getByteSize to determine how manu bytes is needed to write number, method countNumbersInEachLine to count how many 1,2,3...-byte numbers exist and them add them on the begining of each line. I expect to have 54 as the number of numbers on the first line, then 54 single-byte numbers, then 6488 on the next line and 6488 numbers and so on. I also know that if everything is stored correctly, the file size should be 2,242kb, and I have a different one. When I try to read the file and output it to the screen I get a completely different result.\r\nMaybe someone can point to problems with my solution(","title":"Writing to binary file in Java","body":"<p>here is my task:  Save the calculated data in a binary file according to the following format:</p>\n<ul>\n<li>the first 8 bytes in each line represent how many prime numbers are saved in that\nline;</li>\n<li>after 8 bytes, the unsupervised prime numbers are written according to the assumption that the first line contains only numbers that require exactly one byte to be\nsaved, the second line contains only numbers that require exactly 2 bytes to be\nsaved, in the third line 3 bytes are required, etc.</li>\n</ul>\n<p>So I need to write prime numbers to a binary file. The first number of each line of the file will start with an 8-byte number, which indicates how many numbers will be written to that line. For example, in the first line we write all the numbers that need 1 byte, in the second line 2 bytes, etc. I seem to have done everything correctly, but it still writes it wrong...</p>\n<pre><code>class Write {\n    public static final int[] Byte_Sizes  = {1,2,3,4};\n    public  void write(String filename, ArrayList&lt;Integer&gt; data) {\n        try( OutputStream os = new FileOutputStream(filename)) {\n            int[] arr = countNumbersInEachLine(data);\n            int index = 0;\n\n            for(int j=0; j&lt;arr.length; j++) {\n                for (int i = 7; i &gt;= 0; --i) {\n                    os.write( (arr[j] &gt;&gt; i * 8) );\n                }\n                while (index&lt;data.size() &amp;&amp; index&lt; arr[j]){\n                    int size = getByteSize(data.get(index));\n                    for (int b = size -1; b &gt;= 0 ; --b) {\n                        os.write( (data.get(index) &gt;&gt; b * 8) );\n                    }index++;\n                }os.write('\\n');\n            }\n\n        }catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n    public static int getByteSize(int value) {\n        int size =1;\n        while (value &gt;= Math.pow(2, 8*size)) {\n            size++;\n        }\n        return size;\n    }\n    public int[] countNumbersInEachLine(ArrayList&lt;Integer&gt; primes){\n        int[] amount_in_each_line = new int[Byte_Sizes.length];\n        for(int j =0; j&lt; Byte_Sizes.length; j++) {\n            int counter =0;\n            for (int i = 0; i &lt; primes.size(); i++) {\n                if(getByteSize(primes.get(i)) == Byte_Sizes[j]){\n                    counter++;\n                }\n            }\n            amount_in_each_line[j] = counter;\n        }\n        return amount_in_each_line;\n    }\n}\n</code></pre>\n<p>I have method getByteSize to determine how manu bytes is needed to write number, method countNumbersInEachLine to count how many 1,2,3...-byte numbers exist and them add them on the begining of each line. I expect to have 54 as the number of numbers on the first line, then 54 single-byte numbers, then 6488 on the next line and 6488 numbers and so on. I also know that if everything is stored correctly, the file size should be 2,242kb, and I have a different one. When I try to read the file and output it to the screen I get a completely different result.\nMaybe someone can point to problems with my solution(</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":14404229,"reputation":33,"user_id":10404844,"display_name":"CokeVoAYCE"},"score":0,"creation_date":1678574877,"post_id":75709540,"comment_id":133561010,"body_markdown":"Working. Thanks, I feel dumb.","body":"Working. Thanks, I feel dumb."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678575541,"post_id":75709540,"comment_id":133561107,"body_markdown":"Happy to help. I&#39;ve made that an answer now.","body":"Happy to help. I&#39;ve made that an answer now."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678575531,"creation_date":1678575531,"answer_id":75710100,"question_id":75709540,"body_markdown":"Call `findById` to get the row you want and call `delete` on that. There&#39;s no need to load all the rows.","title":"How to delete by int entered? (Value of a variable inside an object inside an ArrayList)","body":"<p>Call <code>findById</code> to get the row you want and call <code>delete</code> on that. There's no need to load all the rows.</p>\n"}],"owner":{"account_id":14404229,"reputation":33,"user_id":10404844,"display_name":"CokeVoAYCE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75710100,"answer_count":1,"score":0,"last_activity_date":1678575531,"creation_date":1678568881,"question_id":75709540,"body_markdown":"I want to delete by the ID the user enters as the Long id parameter being the ID the user enters. \r\n\r\n```\r\npublic Address deleteAddress(Long id) {\r\n\t\tint idInt = id.intValue();\r\n\t\tArrayList&lt;Address&gt; addresses = new ArrayList&lt;Address&gt;();\r\n\t\taddressRepository.findAll().forEach(addresses::add);\r\n\t\tif (addresses.size() &lt;= id || id &lt; 0) {\r\n\t\t\tthrow new ArithmeticException(&quot;ID entered out of possible range&quot;);\r\n\t\t}\r\n\t\taddressRepository.delete(addresses.get(idInt));\r\n\t\treturn null;\r\n\t}\r\n```\r\nThe problem is when I use address.get(idInt) it takes me to the position in the array of [0]. I want to go to the position in the array where ID equals the value 1 in the variable Long ID inside the object inside the array. for example: [![enter image description here][1]][1]\r\n\r\nThe id has the value of Long 1 inside [0]. Is there a way to check if the value of id inside the object equals the id entered and then delete that position in the array?\r\n\r\nThe reason why this is a problem is because next time the program runs, the ArrayList will be one length shorter, so next time I enter to delete the value of say 2, it will delete position [2] in the array which will now hold the ID of 3 because the array list would have shrunk by 1 position. Any ideas? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PMEek.png","title":"How to delete by int entered? (Value of a variable inside an object inside an ArrayList)","body":"<p>I want to delete by the ID the user enters as the Long id parameter being the ID the user enters.</p>\n<pre><code>public Address deleteAddress(Long id) {\n        int idInt = id.intValue();\n        ArrayList&lt;Address&gt; addresses = new ArrayList&lt;Address&gt;();\n        addressRepository.findAll().forEach(addresses::add);\n        if (addresses.size() &lt;= id || id &lt; 0) {\n            throw new ArithmeticException(&quot;ID entered out of possible range&quot;);\n        }\n        addressRepository.delete(addresses.get(idInt));\n        return null;\n    }\n</code></pre>\n<p>The problem is when I use address.get(idInt) it takes me to the position in the array of [0]. I want to go to the position in the array where ID equals the value 1 in the variable Long ID inside the object inside the array. for example: <a href=\"https://i.stack.imgur.com/PMEek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMEek.png\" alt=\"enter image description here\" /></a></p>\n<p>The id has the value of Long 1 inside [0]. Is there a way to check if the value of id inside the object equals the id entered and then delete that position in the array?</p>\n<p>The reason why this is a problem is because next time the program runs, the ArrayList will be one length shorter, so next time I enter to delete the value of say 2, it will delete position [2] in the array which will now hold the ID of 3 because the array list would have shrunk by 1 position. Any ideas?</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1496847241,"post_id":44416049,"comment_id":75831152,"body_markdown":"What &quot;parent library&quot;? Note that when you import `java.nio` (which you didn&#39;t), you *only* import that package, not any sub-packages.","body":"What &quot;parent library&quot;? Note that when you import <code>java.nio</code> (which you didn&#39;t), you <i>only</i> import that package, not any sub-packages."},{"owner":{"account_id":10975299,"reputation":39,"user_id":8064166,"display_name":"S.M."},"score":0,"creation_date":1496847295,"post_id":44416049,"comment_id":75831199,"body_markdown":"sorry, it was java.nio.*;","body":"sorry, it was java.nio.*;"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1496847334,"post_id":44416049,"comment_id":75831240,"body_markdown":"`java.nio.charset` is a different package from `java.nio`. That&#39;s it.","body":"<code>java.nio.charset</code> is a different package from <code>java.nio</code>. That&#39;s it."}],"answers":[{"tags":[],"owner":{"account_id":7825432,"reputation":2465,"user_id":5917104,"display_name":"Riaan Nel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496847210,"creation_date":1496847210,"answer_id":44416100,"question_id":44416049,"body_markdown":"You import packages, not libraries.  A library might contain multiple packages, but that doesn&#39;t mean that you can get away from importing them individually.\r\n\r\nAlso, the Charset class belongs to the java.nio.**charset** package, while you&#39;ve imported the java.nio.**file** package.  There is no relation between the two - one isn&#39;t a parent of the other. ","title":"why does java Charset need extra import?","body":"<p>You import packages, not libraries.  A library might contain multiple packages, but that doesn't mean that you can get away from importing them individually.</p>\n\n<p>Also, the Charset class belongs to the java.nio.<strong>charset</strong> package, while you've imported the java.nio.<strong>file</strong> package.  There is no relation between the two - one isn't a parent of the other. </p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496847659,"creation_date":1496847346,"answer_id":44416157,"question_id":44416049,"body_markdown":"&gt; But why do I have to import it, if I already got the parent library?\r\n\r\nNo you are not, imagine packages as folders and sub folder defining a path...\r\n\r\nWhen you import this\r\n\r\njava.nio.file.*;\r\n\r\nYou are accessing all classes in that &quot;path&quot;\r\n\r\nBut Charset is in the  java.nio.charset folder....wich is actually another totally different path...\r\n\r\nYou mean importing all from a parent package like \r\n\r\n&gt; java.nio.*;","title":"why does java Charset need extra import?","body":"<blockquote>\n  <p>But why do I have to import it, if I already got the parent library?</p>\n</blockquote>\n\n<p>No you are not, imagine packages as folders and sub folder defining a path...</p>\n\n<p>When you import this</p>\n\n<p>java.nio.file.*;</p>\n\n<p>You are accessing all classes in that \"path\"</p>\n\n<p>But Charset is in the  java.nio.charset folder....wich is actually another totally different path...</p>\n\n<p>You mean importing all from a parent package like </p>\n\n<blockquote>\n  <p>java.nio.*;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9514505,"reputation":226,"user_id":7071384,"accept_rate":100,"display_name":"RostSunshine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496847416,"creation_date":1496847416,"answer_id":44416178,"question_id":44416049,"body_markdown":"An example to help is when you think about it the object package is the king of all the packages, yet if you import it you don&#39;t get everything under it.  Then there would be no need to ever import stuff, not to mention the problems this creates.  You can&#39;t  just import a package and expect everything created under it to come with it.  Sub packages are still needed for storage reasons. ","title":"why does java Charset need extra import?","body":"<p>An example to help is when you think about it the object package is the king of all the packages, yet if you import it you don't get everything under it.  Then there would be no need to ever import stuff, not to mention the problems this creates.  You can't  just import a package and expect everything created under it to come with it.  Sub packages are still needed for storage reasons. </p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678575512,"creation_date":1678575512,"answer_id":75710099,"question_id":44416049,"body_markdown":"**import java.nio.charset.Charset;**","title":"why does java Charset need extra import?","body":"<p><strong>import java.nio.charset.Charset;</strong></p>\n"}],"owner":{"account_id":10975299,"reputation":39,"user_id":8064166,"display_name":"S.M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3044,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1678575512,"creation_date":1496847084,"question_id":44416049,"body_markdown":"I am teaching myself a little about Files and I/O in Java, based on this tutorial: [Oracle Tutorial][1]\r\n\r\nNow, after writing some examples to understand input and output, I got a question regarding the import of certain libraries.\r\n\r\nI created the following example program, and I ask myself why the program says: \r\n\r\n&gt; Cannot find symbol - class Charset\r\n\r\n    import java.nio.*;\r\n\r\n    public class test\r\n    {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Charset charset = Charset.forName(&quot;US-ASCII&quot;);\r\n    }\r\n    \r\n    }\r\n\r\nI know that the solution is to import the following\r\n    import java.nio.charset.*;\r\n\r\nBut why do I have to import it, if I already got the parent library?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/file.html#creating","title":"why does java Charset need extra import?","body":"<p>I am teaching myself a little about Files and I/O in Java, based on this tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/file.html#creating\" rel=\"nofollow noreferrer\">Oracle Tutorial</a></p>\n\n<p>Now, after writing some examples to understand input and output, I got a question regarding the import of certain libraries.</p>\n\n<p>I created the following example program, and I ask myself why the program says: </p>\n\n<blockquote>\n  <p>Cannot find symbol - class Charset</p>\n</blockquote>\n\n<pre><code>import java.nio.*;\n\npublic class test\n{\n\npublic static void main(String[] args)\n{\n    Charset charset = Charset.forName(\"US-ASCII\");\n}\n\n}\n</code></pre>\n\n<p>I know that the solution is to import the following\n    import java.nio.charset.*;</p>\n\n<p>But why do I have to import it, if I already got the parent library?</p>\n"},{"tags":["java","boolean"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678573665,"creation_date":1678573665,"answer_id":75709946,"question_id":75709875,"body_markdown":"First of all take care of java naming conventions.\r\nClass names should start with upper case character and all names should be camelCase.\r\nAlso for boolean values you can write: \r\n\r\n    if (continueinput) \r\n\r\nYou do not need to write `== true` it makes it more readable\r\n\r\n\r\nNo to your question:\r\n\r\nread the line feed after `nextInt()` by using `nextline`\r\nand than you can use \r\n\r\n    String inputYesNo = input.nextLine();\r\n    continueinput = inputYesNo.equalsIgnoreCase(&quot;YES&quot;) ? true :  false;\r\n\r\nto map Yes to `true` and other values to `false`\r\n\r\n    class Hw8 {\r\n        public static void main(String[] args) {\r\n            int min = 0;\r\n            int max = 9;\r\n            boolean continueinput = true;\r\n            while (continueinput) { //user can use the program without having to run it again.\r\n                int number1 = (int) Math.floor(Math.random() * (max - min + 1) + min);\r\n                int number2 = (int) Math.floor(Math.random() * (max - min + 1) + min);\r\n                Scanner input = new Scanner(System.in);\r\n                System.out.println(number1 + &quot; + &quot; + number2 + &quot; = ?&quot;);\r\n                int studentanswer = input.nextInt();\r\n                input.nextLine();\r\n                int correctanswer = number1 + number2;\r\n                if (studentanswer == correctanswer) {\r\n                    System.out.println(&quot;Congratulations, you solved it correctly!&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Oh, &quot; + studentanswer + &quot; is not correct, correct answer was &quot; + correctanswer + &quot;. But don&#39;t worry! I&#39;m sure you&#39;ll get it right next time!&quot;);\r\n                }\r\n                System.out.println(&quot;Do you want to continue solving problems? true(Yes)/false(No) (example: enter false for No)&quot;);\r\n                String inputYesNo = input.nextLine();\r\n                continueinput = inputYesNo.equalsIgnoreCase(&quot;YES&quot;) ? true :  false;\r\n                if (!continueinput) {\r\n                    System.out.println(&quot;So you&#39;re tired! That&#39;s completely okay but don&#39;t be a stranger!&quot;);\r\n                }\r\n            }\r\n        }\r\n     }\r\n\r\n","title":"How Can I Simplify the Yes/No Value I Get From the User for Java?","body":"<p>First of all take care of java naming conventions.\nClass names should start with upper case character and all names should be camelCase.\nAlso for boolean values you can write:</p>\n<pre><code>if (continueinput) \n</code></pre>\n<p>You do not need to write <code>== true</code> it makes it more readable</p>\n<p>No to your question:</p>\n<p>read the line feed after <code>nextInt()</code> by using <code>nextline</code>\nand than you can use</p>\n<pre><code>String inputYesNo = input.nextLine();\ncontinueinput = inputYesNo.equalsIgnoreCase(&quot;YES&quot;) ? true :  false;\n</code></pre>\n<p>to map Yes to <code>true</code> and other values to <code>false</code></p>\n<pre><code>class Hw8 {\n    public static void main(String[] args) {\n        int min = 0;\n        int max = 9;\n        boolean continueinput = true;\n        while (continueinput) { //user can use the program without having to run it again.\n            int number1 = (int) Math.floor(Math.random() * (max - min + 1) + min);\n            int number2 = (int) Math.floor(Math.random() * (max - min + 1) + min);\n            Scanner input = new Scanner(System.in);\n            System.out.println(number1 + &quot; + &quot; + number2 + &quot; = ?&quot;);\n            int studentanswer = input.nextInt();\n            input.nextLine();\n            int correctanswer = number1 + number2;\n            if (studentanswer == correctanswer) {\n                System.out.println(&quot;Congratulations, you solved it correctly!&quot;);\n            } else {\n                System.out.println(&quot;Oh, &quot; + studentanswer + &quot; is not correct, correct answer was &quot; + correctanswer + &quot;. But don't worry! I'm sure you'll get it right next time!&quot;);\n            }\n            System.out.println(&quot;Do you want to continue solving problems? true(Yes)/false(No) (example: enter false for No)&quot;);\n            String inputYesNo = input.nextLine();\n            continueinput = inputYesNo.equalsIgnoreCase(&quot;YES&quot;) ? true :  false;\n            if (!continueinput) {\n                System.out.println(&quot;So you're tired! That's completely okay but don't be a stranger!&quot;);\n            }\n        }\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678574598,"creation_date":1678574598,"answer_id":75710034,"question_id":75709875,"body_markdown":"\r\n\r\nImplement a useful subroutine:\r\n\r\n    boolean ask(Scanner scanner, String question) {\r\n        System.out.println(question);\r\n        while (true) {\r\n            String s = scanner.nextLine().trim().toLowerCase();\r\n            if (s.equals(&quot;yes&quot;)) return true;\r\n            if (s.equals(&quot;no&quot;)) return false;\r\n            System.out.println(&quot;Please answer yes or no&quot;);\r\n        }\r\n    }\r\n\r\nYou can put printing the question inside the loop if you think it useful to repeat the question each time of re-asking.\r\n\r\nThen use it:\r\n\r\n    continueinput = ask(input, &quot;Do you want to continue?&quot;);\r\n\r\nThis illustrates the useful technique of breaking a problem into parts which you can then implement independently.  You now have a general-purpose way of asking yes/no questions.\r\n \r\n\r\n    ","title":"How Can I Simplify the Yes/No Value I Get From the User for Java?","body":"<p>Implement a useful subroutine:</p>\n<pre><code>boolean ask(Scanner scanner, String question) {\n    System.out.println(question);\n    while (true) {\n        String s = scanner.nextLine().trim().toLowerCase();\n        if (s.equals(&quot;yes&quot;)) return true;\n        if (s.equals(&quot;no&quot;)) return false;\n        System.out.println(&quot;Please answer yes or no&quot;);\n    }\n}\n</code></pre>\n<p>You can put printing the question inside the loop if you think it useful to repeat the question each time of re-asking.</p>\n<p>Then use it:</p>\n<pre><code>continueinput = ask(input, &quot;Do you want to continue?&quot;);\n</code></pre>\n<p>This illustrates the useful technique of breaking a problem into parts which you can then implement independently.  You now have a general-purpose way of asking yes/no questions.</p>\n"}],"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75709946,"answer_count":2,"score":0,"last_activity_date":1678574598,"creation_date":1678572858,"question_id":75709875,"body_markdown":"```\r\npackage hw;\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class hw8 {\r\n\tpublic static void main(String[] args) {\r\n\t\tint min = 0;\r\n\t\tint max = 9;\r\n\t\tboolean continueinput = true;\r\n\t\twhile (continueinput == true) { //user can use the program without having to run it again.\r\n\t\t\tint number1 = (int)Math.floor(Math.random() * (max - min + 1) + min);\r\n\t\t\tint number2 = (int)Math.floor(Math.random() * (max - min + 1) + min);\r\n\t\t\tScanner input = new Scanner(System.in);\r\n\t\t\tSystem.out.println(number1+&quot; + &quot;+number2+&quot; = ?&quot;);\r\n\t\t\tint studentanswer = input.nextInt();\r\n\t\t\tint correctanswer = number1 + number2;\r\n\t\t\tif (studentanswer == correctanswer) {\r\n\t\t\t\tSystem.out.println(&quot;Congratulations, you solved it correctly!&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Oh, &quot;+studentanswer+&quot; is not correct, correct answer was &quot;+correctanswer+&quot;. But don&#39;t worry! I&#39;m sure you&#39;ll get it right next time!&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Do you want to continue solving problems? true(Yes)/false(No) (example: enter false for No)&quot;);\r\n\t\t\tcontinueinput = input.nextBoolean();\r\n\t\t\tif (continueinput == false) {\r\n\t\t\t\tSystem.out.println(&quot;So you&#39;re tired! That&#39;s completely okay but don&#39;t be a stranger!&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nFor my homework, I am trying to write a math program that can be used by elementary school students. I associated &quot;yes&quot; with true and &quot;no&quot; with false for user to understand. But I don&#39;t think that&#39;s very nice.\r\nIs there any way to run this code when the user types &quot;yes&quot; or &quot;no&quot; directly? Also, if the user types a different value instead of true or false, how can I explain to the user that this is an invalid value and that he/she should enter the value again? I have a little difficulty when it comes to boolean. Thanks in advance.","title":"How Can I Simplify the Yes/No Value I Get From the User for Java?","body":"<pre><code>package hw;\nimport java.util.Scanner;\nimport java.util.Random;\n\npublic class hw8 {\n    public static void main(String[] args) {\n        int min = 0;\n        int max = 9;\n        boolean continueinput = true;\n        while (continueinput == true) { //user can use the program without having to run it again.\n            int number1 = (int)Math.floor(Math.random() * (max - min + 1) + min);\n            int number2 = (int)Math.floor(Math.random() * (max - min + 1) + min);\n            Scanner input = new Scanner(System.in);\n            System.out.println(number1+&quot; + &quot;+number2+&quot; = ?&quot;);\n            int studentanswer = input.nextInt();\n            int correctanswer = number1 + number2;\n            if (studentanswer == correctanswer) {\n                System.out.println(&quot;Congratulations, you solved it correctly!&quot;);\n            } else {\n                System.out.println(&quot;Oh, &quot;+studentanswer+&quot; is not correct, correct answer was &quot;+correctanswer+&quot;. But don't worry! I'm sure you'll get it right next time!&quot;);\n            }\n            System.out.println(&quot;Do you want to continue solving problems? true(Yes)/false(No) (example: enter false for No)&quot;);\n            continueinput = input.nextBoolean();\n            if (continueinput == false) {\n                System.out.println(&quot;So you're tired! That's completely okay but don't be a stranger!&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>For my homework, I am trying to write a math program that can be used by elementary school students. I associated &quot;yes&quot; with true and &quot;no&quot; with false for user to understand. But I don't think that's very nice.\nIs there any way to run this code when the user types &quot;yes&quot; or &quot;no&quot; directly? Also, if the user types a different value instead of true or false, how can I explain to the user that this is an invalid value and that he/she should enter the value again? I have a little difficulty when it comes to boolean. Thanks in advance.</p>\n"},{"tags":["java","spring","rest","controller"],"comments":[{"owner":{"account_id":7109505,"reputation":169,"user_id":5437972,"accept_rate":0,"display_name":"Guillaume LUNIK"},"score":0,"creation_date":1476989322,"post_id":40162145,"comment_id":67593391,"body_markdown":"bad spelling in stackoverflow -_-&quot;","body":"bad spelling in stackoverflow -_-&quot;"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1476989503,"post_id":40162145,"comment_id":67593499,"body_markdown":"You need `@Configuration` on your `Application` class (or trade all of the annotations for `@SpringBootApplication`).","body":"You need <code>@Configuration</code> on your <code>Application</code> class (or trade all of the annotations for <code>@SpringBootApplication</code>)."},{"owner":{"account_id":7109505,"reputation":169,"user_id":5437972,"accept_rate":0,"display_name":"Guillaume LUNIK"},"score":0,"creation_date":1476990102,"post_id":40162145,"comment_id":67593864,"body_markdown":"I have tryed with @SpringBootApplication but nothing :/","body":"I have tryed with @SpringBootApplication but nothing :/"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1476991126,"post_id":40162145,"comment_id":67594446,"body_markdown":"What packages are everything in? Can you confirm in the logs whether a mapping for `/login` is being registered?","body":"What packages are everything in? Can you confirm in the logs whether a mapping for <code>&#47;login</code> is being registered?"},{"owner":{"account_id":7109505,"reputation":169,"user_id":5437972,"accept_rate":0,"display_name":"Guillaume LUNIK"},"score":0,"creation_date":1476991795,"post_id":40162145,"comment_id":67594794,"body_markdown":"I have edited my package structure","body":"I have edited my package structure"},{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1477032596,"post_id":40162145,"comment_id":67608132,"body_markdown":"can you paste stack trace in console when you access the url","body":"can you paste stack trace in console when you access the url"},{"owner":{"account_id":7109505,"reputation":169,"user_id":5437972,"accept_rate":0,"display_name":"Guillaume LUNIK"},"score":0,"creation_date":1477038420,"post_id":40162145,"comment_id":67611225,"body_markdown":"Any other suggestions ?","body":"Any other suggestions ?"},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1678662595,"post_id":40162145,"comment_id":133572396,"body_markdown":"Does this answer your question? [Spring Boot: Cannot access REST Controller on localhost (404)](https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\">Spring Boot: Cannot access REST Controller on localhost (404)</a>"}],"answers":[{"tags":[],"owner":{"account_id":8805467,"reputation":73,"user_id":6580311,"display_name":"SantiagoM"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476993377,"creation_date":1476992680,"answer_id":40163201,"question_id":40162145,"body_markdown":"You should use this annotations in your init class of your springBoot App\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.my.package&quot;)\r\n    public class WebAppInitializer{\r\n    \r\n        public static void main(String[] args) throws Exception{\r\n            SpringApplication.run(WebAppInitializer.class, args);\r\n        }\r\n\r\n}","title":"Spring REST Controller not mapped","body":"<p>You should use this annotations in your init class of your springBoot App</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan(\"com.my.package\")\npublic class WebAppInitializer{\n\n    public static void main(String[] args) throws Exception{\n        SpringApplication.run(WebAppInitializer.class, args);\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12349292,"reputation":199,"user_id":9008749,"display_name":"mufeez-shaikh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531416990,"creation_date":1531415768,"answer_id":51311234,"question_id":40162145,"body_markdown":"The controller class should be in a folder of the Application class or in the lower folder.\r\n\r\nSo, if the application class is in package `com.company.app`, then the controller class should be in package `com.company.app` or in `com.company.app.*.` Let say the controller class is in `com.company.controller`, it will not mapped since its not in same package or child package of application class.","title":"Spring REST Controller not mapped","body":"<p>The controller class should be in a folder of the Application class or in the lower folder.</p>\n\n<p>So, if the application class is in package <code>com.company.app</code>, then the controller class should be in package <code>com.company.app</code> or in <code>com.company.app.*.</code> Let say the controller class is in <code>com.company.controller</code>, it will not mapped since its not in same package or child package of application class.</p>\n"},{"tags":[],"owner":{"account_id":9492754,"reputation":1,"user_id":7056936,"display_name":"Deian Petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570696853,"creation_date":1570696853,"answer_id":58318784,"question_id":40162145,"body_markdown":"Sometimes, when it makes no sense why the mapping is not working, just change the server port so something different than 8080. \r\n\r\nie. in the application.properties or yml, server.port=8081","title":"Spring REST Controller not mapped","body":"<p>Sometimes, when it makes no sense why the mapping is not working, just change the server port so something different than 8080. </p>\n\n<p>ie. in the application.properties or yml, server.port=8081</p>\n"}],"owner":{"account_id":7109505,"reputation":169,"user_id":5437972,"accept_rate":0,"display_name":"Guillaume LUNIK"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10608,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":3,"score":7,"last_activity_date":1678574412,"creation_date":1476988930,"question_id":40162145,"body_markdown":"I&#39;m trying to create &#224; Rest controller that listen on &quot;/login&quot; I have defined the code bellow but when I open http://localhost:8080/login I get a 404 error...\r\nPlease help :)\r\n\r\nHere is my package structure:\r\n\r\n    com.my.package\r\n       |_ Application.java\r\n       |_ controller\r\n              |_ LoginController\r\n\r\n**My Application:**\r\n\r\n    @ComponentScan(&quot;com.my.package.controller&quot;)\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args){\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n**My Rest controller:**\r\n\r\n    @RestController\r\n    public class LoginController {\r\n    \r\n        @RequestMapping(&quot;/login&quot;)\r\n        public @ResponseBody String getLogin(){\r\n            return &quot;{}&quot;;\r\n        }\r\n    }\r\n","title":"Spring REST Controller not mapped","body":"<p>I'm trying to create à Rest controller that listen on \"/login\" I have defined the code bellow but when I open <a href=\"http://localhost:8080/login\" rel=\"noreferrer\">http://localhost:8080/login</a> I get a 404 error...\nPlease help :)</p>\n\n<p>Here is my package structure:</p>\n\n<pre><code>com.my.package\n   |_ Application.java\n   |_ controller\n          |_ LoginController\n</code></pre>\n\n<p><strong>My Application:</strong></p>\n\n<pre><code>@ComponentScan(\"com.my.package.controller\")\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args){\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>My Rest controller:</strong></p>\n\n<pre><code>@RestController\npublic class LoginController {\n\n    @RequestMapping(\"/login\")\n    public @ResponseBody String getLogin(){\n        return \"{}\";\n    }\n}\n</code></pre>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678576735,"post_id":75710004,"comment_id":133561272,"body_markdown":"Static analysis like errorprone.info is likely your best bet.","body":"Static analysis like errorprone.info is likely your best bet."}],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678574191,"creation_date":1678574191,"question_id":75710004,"body_markdown":"I want to experiment with restricting access to IO and time in my Java codebase. So almost no code should be allowed to call `Instant.now()`, but I would like to be able to pass around instances of `Instant`, and call the non-static methods.\r\n\r\nLikewise I would like to restrict access to almost all of java.io.\r\n\r\nI could use a security manager, but I would like to do this at compile time.\r\n\r\nArchUnit seems like it might be a start, and I seem to remember seeing some sort of restrictions UI in IntelliJ. Is there a way to achieve my goal?\r\n\r\n","title":"How can I restrict access to certain methods in my Java project?","body":"<p>I want to experiment with restricting access to IO and time in my Java codebase. So almost no code should be allowed to call <code>Instant.now()</code>, but I would like to be able to pass around instances of <code>Instant</code>, and call the non-static methods.</p>\n<p>Likewise I would like to restrict access to almost all of java.io.</p>\n<p>I could use a security manager, but I would like to do this at compile time.</p>\n<p>ArchUnit seems like it might be a start, and I seem to remember seeing some sort of restrictions UI in IntelliJ. Is there a way to achieve my goal?</p>\n"},{"tags":["java","jvm","jit"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678576767,"post_id":75709763,"comment_id":133561277,"body_markdown":"I would be shocked if this were possible.","body":"I would be shocked if this were possible."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678710312,"post_id":75709763,"comment_id":133580476,"body_markdown":"See [Is it possible to disable `-XX:+PrintCompilation` and `-verbose:gc&quot;` at runtime?](https://stackoverflow.com/q/65909269/2711488). You can also get extensive diagnostics, see https://ideone.com/EZD5Jn I don’t know whether this will help you, as I don’t know how to reproduce the JIT compilation failures you described.","body":"See <a href=\"https://stackoverflow.com/q/65909269/2711488\">Is it possible to disable <code>-XX:+PrintCompilation</code> and <code>-verbose:gc&quot;</code> at runtime?</a>. You can also get extensive diagnostics, see <a href=\"https://ideone.com/EZD5Jn\" rel=\"nofollow noreferrer\">ideone.com/EZD5Jn</a> I don’t know whether this will help you, as I don’t know how to reproduce the JIT compilation failures you described."}],"owner":{"account_id":16914392,"reputation":111,"user_id":12232740,"display_name":"vkm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678573324,"creation_date":1678571496,"question_id":75709763,"body_markdown":"Is there a way to fetch the JIT compilation failures in a running jvm?\r\n\r\nIn that running jvm, using jstat it is possible to fetch the last failed compilations. But I want to see all the failed compilations since restart. 20+ failures since the restart.\r\n\r\nI can enable PrintCompilation, but for that I&#39;ve to restart the server. In my case, it is needed to check the failures without restarting the servers. \r\n\r\nAnalysis reason:\r\nThere is a sudden spike in memory used. Approx 2GB. Suspecting some heavy compilation done by JIT. Based on my past experiences, such heavy compilations have failed with COMPILER OUT OF NODES reason. \r\n\r\nRandomness is there in this memory issue occurrence. If I restart the server it may not happen again.","title":"Fetching JIT compilation failures","body":"<p>Is there a way to fetch the JIT compilation failures in a running jvm?</p>\n<p>In that running jvm, using jstat it is possible to fetch the last failed compilations. But I want to see all the failed compilations since restart. 20+ failures since the restart.</p>\n<p>I can enable PrintCompilation, but for that I've to restart the server. In my case, it is needed to check the failures without restarting the servers.</p>\n<p>Analysis reason:\nThere is a sudden spike in memory used. Approx 2GB. Suspecting some heavy compilation done by JIT. Based on my past experiences, such heavy compilations have failed with COMPILER OUT OF NODES reason.</p>\n<p>Randomness is there in this memory issue occurrence. If I restart the server it may not happen again.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678572517,"creation_date":1678561588,"question_id":75708884,"body_markdown":"I have the following setup:\r\n```java\r\n@Getter\r\n@MappedSuperclass\r\n@IdClass(Fruit.ID)\r\npublic class Fruit {\r\n\r\n    @Id private String kingdom;\r\n    @Id private String phylum;\r\n    @Id private String class;\r\n    @Id private String order;\r\n    @Id private String family;\r\n    @Id private String genus;\r\n    @Id private String species;\r\n    \r\n    private String color;\r\n    private String weight;\r\n    \r\n    @EqualsAndHashCode\r\n    public static class ID implements Serializable {\r\n        private String kingdom;\r\n        private String phylum;\r\n        private String class;\r\n        private String order;\r\n        private String family;\r\n        private String genus;\r\n        private String species;\r\n    }\r\n\r\n    @Entity\r\n    public static class Banana {}\r\n    @Entity\r\n    public static class Apple {}\r\n}\r\n@NoRepositoryBean\r\npublic interface ReadOnlyRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt;, JpaSpecificationExecutor&lt;T&gt;, ReadOnlyFragmentRepository&lt;T&gt; {\r\n    Optional&lt;T&gt; findById(ID id);\r\n    List&lt;T&gt; findAll();\r\n}\r\n\r\n@NoRepositoryBean\r\npublic interface FruitRepository&lt;T extends Fruit&gt; extends ReadOnlyRepository&lt;T, Fruit.ID&gt;{\r\n    List&lt;T&gt; findByColor(String color);\r\n    List&lt;T&gt; findByWeight(String weight);\r\n\r\n    interface Apple  extends FruitRepository&lt;Fruit.Apple&gt;  {}\r\n    interface Banana extends FruitRepository&lt;Fruit.Banana&gt; {}\r\n}\r\n```\r\nNow, the above code works fine. I&#39;ve been running with it throughout my project. The issue comes when I try to implement a custom repository like so:\r\n```java\r\n@EnableJpaRepositories(\r\n    considerNestedProperties        = true,\r\n    repositoryImplementationPostfix = &quot;Implementation&quot;,\r\n    bootstrapMode                   = BootstrapMode.LAZY\r\n)\r\n@SpringBootApplication\r\npublic class Application implements CommandLineRunner {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n\r\n  @Override\r\n  public void run(String... args) throws Exception {\r\n    // ...\r\n  }\r\n}\r\n\r\npublic abstract class FruitSpecification {\r\n    public static Specification&lt;Fruit&gt; hasColor(final String color) {\r\n        if (color == null) {\r\n            return null;\r\n        }\r\n\r\n        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.like(root.get(&quot;color&quot;), String.format(&quot;%%%s%%&quot;, color));\r\n    }\r\n}\r\npublic interface ReadOnlyFragmentRepository&lt;T&gt; {\r\n    Stream&lt;T&gt; stream(Specification&lt;T&gt; specification, Class&lt;T&gt; clazz);\r\n}\r\npublic class ReadOnlyFragmentRepositoryImplementation&lt;T&gt; implements ReadOnlyFragmentRepository&lt;T&gt; {\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; stream(Specification&lt;T&gt; specification, Class&lt;T&gt; clazz) {\r\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(clazz);\r\n        Root&lt;T&gt; root = criteriaQuery.from(clazz);\r\n        criteriaQuery.select(root);\r\n\r\n        if (specification != null) {\r\n            criteriaQuery.where(specification.toPredicate(root, criteriaQuery, criteriaBuilder));\r\n        }\r\n        return entityManager.createQuery(criteriaQuery)\r\n                .setHint(HINT_FETCH_SIZE, &quot;1&quot;)\r\n                .getResultStream();\r\n    }\r\n}\r\n```\r\nEvery time I start up the application it gives me the error:\r\n&gt; No property &#39;stream&#39; found for type &#39;Banana&#39;\r\n\r\nIf I change the name of the method to `streamAllBy` I get the error:\r\n&gt;  At least 1 parameter(s) provided but only 0 parameter(s) present in query.\r\n\r\nThe `ReadOnlyRepository` and `FruitRepository` reside in a folder called `repository`. The `ReadOnlyFragmentRepository` and `ReadOnlyFragmentRepositoryImplementation` reside in a subfolder called `fragments` in the `repository` folder. I am running Spring Boot 3 and `spring-boot-starter-data-jpa`.","title":"How to write custom repository method (with a custom name) for Spring that returns a Stream and takes in a Specification?","body":"<p>I have the following setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@MappedSuperclass\n@IdClass(Fruit.ID)\npublic class Fruit {\n\n    @Id private String kingdom;\n    @Id private String phylum;\n    @Id private String class;\n    @Id private String order;\n    @Id private String family;\n    @Id private String genus;\n    @Id private String species;\n    \n    private String color;\n    private String weight;\n    \n    @EqualsAndHashCode\n    public static class ID implements Serializable {\n        private String kingdom;\n        private String phylum;\n        private String class;\n        private String order;\n        private String family;\n        private String genus;\n        private String species;\n    }\n\n    @Entity\n    public static class Banana {}\n    @Entity\n    public static class Apple {}\n}\n@NoRepositoryBean\npublic interface ReadOnlyRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt;, JpaSpecificationExecutor&lt;T&gt;, ReadOnlyFragmentRepository&lt;T&gt; {\n    Optional&lt;T&gt; findById(ID id);\n    List&lt;T&gt; findAll();\n}\n\n@NoRepositoryBean\npublic interface FruitRepository&lt;T extends Fruit&gt; extends ReadOnlyRepository&lt;T, Fruit.ID&gt;{\n    List&lt;T&gt; findByColor(String color);\n    List&lt;T&gt; findByWeight(String weight);\n\n    interface Apple  extends FruitRepository&lt;Fruit.Apple&gt;  {}\n    interface Banana extends FruitRepository&lt;Fruit.Banana&gt; {}\n}\n</code></pre>\n<p>Now, the above code works fine. I've been running with it throughout my project. The issue comes when I try to implement a custom repository like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableJpaRepositories(\n    considerNestedProperties        = true,\n    repositoryImplementationPostfix = &quot;Implementation&quot;,\n    bootstrapMode                   = BootstrapMode.LAZY\n)\n@SpringBootApplication\npublic class Application implements CommandLineRunner {\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  public void run(String... args) throws Exception {\n    // ...\n  }\n}\n\npublic abstract class FruitSpecification {\n    public static Specification&lt;Fruit&gt; hasColor(final String color) {\n        if (color == null) {\n            return null;\n        }\n\n        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.like(root.get(&quot;color&quot;), String.format(&quot;%%%s%%&quot;, color));\n    }\n}\npublic interface ReadOnlyFragmentRepository&lt;T&gt; {\n    Stream&lt;T&gt; stream(Specification&lt;T&gt; specification, Class&lt;T&gt; clazz);\n}\npublic class ReadOnlyFragmentRepositoryImplementation&lt;T&gt; implements ReadOnlyFragmentRepository&lt;T&gt; {\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public Stream&lt;T&gt; stream(Specification&lt;T&gt; specification, Class&lt;T&gt; clazz) {\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(clazz);\n        Root&lt;T&gt; root = criteriaQuery.from(clazz);\n        criteriaQuery.select(root);\n\n        if (specification != null) {\n            criteriaQuery.where(specification.toPredicate(root, criteriaQuery, criteriaBuilder));\n        }\n        return entityManager.createQuery(criteriaQuery)\n                .setHint(HINT_FETCH_SIZE, &quot;1&quot;)\n                .getResultStream();\n    }\n}\n</code></pre>\n<p>Every time I start up the application it gives me the error:</p>\n<blockquote>\n<p>No property 'stream' found for type 'Banana'</p>\n</blockquote>\n<p>If I change the name of the method to <code>streamAllBy</code> I get the error:</p>\n<blockquote>\n<p>At least 1 parameter(s) provided but only 0 parameter(s) present in query.</p>\n</blockquote>\n<p>The <code>ReadOnlyRepository</code> and <code>FruitRepository</code> reside in a folder called <code>repository</code>. The <code>ReadOnlyFragmentRepository</code> and <code>ReadOnlyFragmentRepositoryImplementation</code> reside in a subfolder called <code>fragments</code> in the <code>repository</code> folder. I am running Spring Boot 3 and <code>spring-boot-starter-data-jpa</code>.</p>\n"},{"tags":["java","gradle","cucumber"],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678572381,"creation_date":1678572381,"question_id":75709837,"body_markdown":"I need to pass the parameters from the Gradle to my cucumber tests.\r\n\r\n\r\n# TASK:\r\n\r\nI have the several cucumber task like this:\r\n\r\n```groovy\r\ntask smokeTests() {\r\n    dependsOn assemble, testClasses, setProperties\r\n    doLast {\r\n        javaexec {\r\n            main = &quot;io.cucumber.core.cli.Main&quot;\r\n            classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n            args = [\r\n                    &#39;--plugin&#39;, &#39;pretty&#39;,\r\n                    &#39;--plugin&#39;, &#39;html:target/cucumber-report.html&#39;,\r\n                    &#39;--glue&#39;, &#39;testing.steps&#39;,\r\n                    &#39;src/test/resources/scenarios/demo&#39;]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I have several parameters that I have to pass in my tests, like `browser` or `environment`, etc... Since I have close to 10 parameters and it is supposed that cucumber tasks amount will be increasing I need to determine parameters once for all &quot;cucumber-tasks&quot;:\r\n\r\n```\r\nsystemProperty &#39;browser&#39;, System.getProperty(&#39;browser&#39;)\r\nsystemProperty &#39;env&#39;, System.getProperty(&#39;env&#39;)\r\n....\r\n```\r\n\r\n# ISSUE:\r\n\r\nThe problem is that I can&#39;t use (type: Test) for the task where I want to set properties (option 2).\r\nIn another way, Gradle can&#39;t execute `systemProperty` function for the not-Test-tasks:\r\n\r\n\r\n - option 1:\r\n\r\n```groovy\r\ntask setProperties() {\r\n    systemProperty &#39;browser&#39;, System.getProperty(&#39;browser&#39;)\r\n}\r\n\r\n```\r\n\r\n**Error**:\r\n\r\n&gt; Could not find method systemProperty() for arguments...\r\n\r\n - option 2:\r\n\r\n```\r\ntask setProperties(type: Test) {  &lt; ----- &quot;type: Test&quot; added\r\n    systemProperty &#39;browser&#39;, System.getProperty(&#39;browser&#39;)\r\n}\r\n```\r\n\r\n**Error:**\r\n\r\n&gt;    testing.steps.DemoTest &gt; initializationError FAILED\r\n&gt;    io.cucumber.core.exception.CucumberException at Assertions.java:17\r\n\r\n - Option 3 (with `type: Exec` and `commandLine`):\r\n \r\n```groovy\r\ntask setProperties(type: Exec) {\r\n    commandLine &quot;java&quot;, &quot;-Dbrowser=${System.getProperty(&#39;browser&#39;, &#39;chrome&#39;)}&quot;, &quot;-version&quot;\r\n}\r\n```\r\n\r\n**Error:**\r\n\r\n in the java code I receive null for the `System.getProperty(&quot;chrome&quot;)`\r\n\r\n\r\n----------\r\n\r\nGradle command:\r\n\r\n`gradle clean uitests -Dbrowser=chrome` &lt; --- -D&lt;br/&gt;\r\n`gradle clean uitests -Pbrowser=chrome` &lt; --- -P","title":"io.cucumber.core.exception.CucumberException at Assertions.java:17. Can&#39;t pass parameter to the cucumber task with gradle","body":"<p>I need to pass the parameters from the Gradle to my cucumber tests.</p>\n<h1>TASK:</h1>\n<p>I have the several cucumber task like this:</p>\n<pre><code>task smokeTests() {\n    dependsOn assemble, testClasses, setProperties\n    doLast {\n        javaexec {\n            main = &quot;io.cucumber.core.cli.Main&quot;\n            classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n            args = [\n                    '--plugin', 'pretty',\n                    '--plugin', 'html:target/cucumber-report.html',\n                    '--glue', 'testing.steps',\n                    'src/test/resources/scenarios/demo']\n        }\n    }\n}\n</code></pre>\n<p>And I have several parameters that I have to pass in my tests, like <code>browser</code> or <code>environment</code>, etc... Since I have close to 10 parameters and it is supposed that cucumber tasks amount will be increasing I need to determine parameters once for all &quot;cucumber-tasks&quot;:</p>\n<pre><code>systemProperty 'browser', System.getProperty('browser')\nsystemProperty 'env', System.getProperty('env')\n....\n</code></pre>\n<h1>ISSUE:</h1>\n<p>The problem is that I can't use (type: Test) for the task where I want to set properties (option 2).\nIn another way, Gradle can't execute <code>systemProperty</code> function for the not-Test-tasks:</p>\n<ul>\n<li>option 1:</li>\n</ul>\n<pre><code>task setProperties() {\n    systemProperty 'browser', System.getProperty('browser')\n}\n\n</code></pre>\n<p><strong>Error</strong>:</p>\n<blockquote>\n<p>Could not find method systemProperty() for arguments...</p>\n</blockquote>\n<ul>\n<li>option 2:</li>\n</ul>\n<pre><code>task setProperties(type: Test) {  &lt; ----- &quot;type: Test&quot; added\n    systemProperty 'browser', System.getProperty('browser')\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<blockquote>\n<p>testing.steps.DemoTest &gt; initializationError FAILED\nio.cucumber.core.exception.CucumberException at Assertions.java:17</p>\n</blockquote>\n<ul>\n<li>Option 3 (with <code>type: Exec</code> and <code>commandLine</code>):</li>\n</ul>\n<pre><code>task setProperties(type: Exec) {\n    commandLine &quot;java&quot;, &quot;-Dbrowser=${System.getProperty('browser', 'chrome')}&quot;, &quot;-version&quot;\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<p>in the java code I receive null for the <code>System.getProperty(&quot;chrome&quot;)</code></p>\n<hr />\n<p>Gradle command:</p>\n<p><code>gradle clean uitests -Dbrowser=chrome</code> &lt; --- -D<br/>\n<code>gradle clean uitests -Pbrowser=chrome</code> &lt; --- -P</p>\n"},{"tags":["java","spring","spring-boot","testing"],"answers":[{"tags":[],"owner":{"account_id":20233342,"reputation":68,"user_id":14839276,"display_name":"ChalsBP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617965989,"creation_date":1617965638,"answer_id":67019785,"question_id":67019554,"body_markdown":"It&#39;s already solved. \r\nOpen the cmd and go to your project directory, then execute: &quot;mvn dependency:purge-local-repository&quot;. This will reinstall your dependencies, because it may be corrupt.\r\n\r\nAnd if you refresh your project it should let you import the @RunWith like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8gRdp.png\r\n\r\nBefore the purge I wasn&#39;t able to import it.","title":"@RunWith cannot be resolved to a type - Spring Boot","body":"<p>It's already solved.\nOpen the cmd and go to your project directory, then execute: &quot;mvn dependency:purge-local-repository&quot;. This will reinstall your dependencies, because it may be corrupt.</p>\n<p>And if you refresh your project it should let you import the @RunWith like this:</p>\n<p><a href=\"https://i.stack.imgur.com/8gRdp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8gRdp.png\" alt=\"enter image description here\" /></a></p>\n<p>Before the purge I wasn't able to import it.</p>\n"},{"tags":[],"owner":{"account_id":18109258,"reputation":447,"user_id":13166430,"display_name":"Eimantas G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678571300,"creation_date":1678571300,"answer_id":75709745,"question_id":67019554,"body_markdown":"[`@RunWith` annotation has been replaced by the more powerful `@ExtendWith` annotation. ][1] \r\n\r\n[**As of Spring Boot 2.1,**][2] All `@…​Test` annotations are meta-annotated with `@ExtendWith(SpringExtension.class)` so this can be **removed** if you’re using JUnit 5.\r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-5-runwith\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes#junit-5","title":"@RunWith cannot be resolved to a type - Spring Boot","body":"<p><a href=\"https://www.baeldung.com/junit-5-runwith\" rel=\"nofollow noreferrer\"><code>@RunWith</code> annotation has been replaced by the more powerful <code>@ExtendWith</code> annotation. </a></p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes#junit-5\" rel=\"nofollow noreferrer\"><strong>As of Spring Boot 2.1,</strong></a> All <code>@…​Test</code> annotations are meta-annotated with <code>@ExtendWith(SpringExtension.class)</code> so this can be <strong>removed</strong> if you’re using JUnit 5.</p>\n"}],"owner":{"account_id":20233342,"reputation":68,"user_id":14839276,"display_name":"ChalsBP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678571300,"creation_date":1617964721,"question_id":67019554,"body_markdown":"I have a problem testing with Spring Boot. The error seems to happen with JUnit but I have the pom dependency correctly written. \r\n\r\nHere is the error: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe message error is: RunWith cannot be resolved to a type.\r\n\r\nAnd the pom dependency: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nDoes anybody know why is this happening? I haven&#39;t found similar errors and it&#39;s driving me crazy.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MIC9d.png\r\n  [2]: https://i.stack.imgur.com/QjbwP.png","title":"@RunWith cannot be resolved to a type - Spring Boot","body":"<p>I have a problem testing with Spring Boot. The error seems to happen with JUnit but I have the pom dependency correctly written.</p>\n<p>Here is the error:</p>\n<p><a href=\"https://i.stack.imgur.com/MIC9d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MIC9d.png\" alt=\"enter image description here\" /></a></p>\n<p>The message error is: RunWith cannot be resolved to a type.</p>\n<p>And the pom dependency:</p>\n<p><a href=\"https://i.stack.imgur.com/QjbwP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QjbwP.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anybody know why is this happening? I haven't found similar errors and it's driving me crazy.</p>\n"},{"tags":["java","string","csv","split","return-value"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1678547346,"post_id":75705824,"comment_id":133555477,"body_markdown":"what have you tried? StackOverflow is not a free coding service. You need to make some effort and show what you have tried - Read the [ask] page","body":"what have you tried? StackOverflow is not a free coding service. You need to make some effort and show what you have tried - Read the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> page"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1678547364,"post_id":75705824,"comment_id":133555479,"body_markdown":"Looks like the requierement  is clear. So you can start implementing it and come back if you have a specific problem","body":"Looks like the requierement  is clear. So you can start implementing it and come back if you have a specific problem"}],"answers":[{"tags":[],"owner":{"account_id":12027197,"reputation":177,"user_id":8850201,"display_name":"Florian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678547876,"creation_date":1678547876,"answer_id":75705892,"question_id":75705824,"body_markdown":"You can split the string at the comma, then remove the undesired values and join it again. Here&#39;s an example doing this using the Java 8 Streams API:\r\n\r\n```java\r\nArrays.stream(&quot;1,2,3&quot;.split(&quot;,&quot;))\r\n    .filter(part -&gt; !part.equals(&quot;2&quot;))\r\n    .collect(Collectors.joining(&quot;,&quot;))\r\n```\r\n\r\nAlso I noticed you have the &quot;CSV&quot; tag in your question. If you plan to parse a CSV it would probably be better use a library like [fast-csv][1] or [commons-csv][2] instead. They will be more optimized and also support more complex cases like escapes.\r\n\r\n\r\n  [1]: https://github.com/osiegmar/FastCSV\r\n  [2]: https://github.com/apache/commons-csv","title":"java code to remove a particular value from a string with comma seprated","body":"<p>You can split the string at the comma, then remove the undesired values and join it again. Here's an example doing this using the Java 8 Streams API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.stream(&quot;1,2,3&quot;.split(&quot;,&quot;))\n    .filter(part -&gt; !part.equals(&quot;2&quot;))\n    .collect(Collectors.joining(&quot;,&quot;))\n</code></pre>\n<p>Also I noticed you have the &quot;CSV&quot; tag in your question. If you plan to parse a CSV it would probably be better use a library like <a href=\"https://github.com/osiegmar/FastCSV\" rel=\"nofollow noreferrer\">fast-csv</a> or <a href=\"https://github.com/apache/commons-csv\" rel=\"nofollow noreferrer\">commons-csv</a> instead. They will be more optimized and also support more complex cases like escapes.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678571288,"creation_date":1678567311,"answer_id":75709397,"question_id":75705824,"body_markdown":"In case there are multiple duplicate values, here is one way to remove by position.\r\n```\r\nString str = &quot;123,456,123,982,345&quot;;\r\nString[] array = str.split(&quot;,&quot;);\r\nfor (int pos = 1; pos &lt;= 5; pos++) {\r\n    String result = removeItem(str, pos);\r\n    System.out.printf(&quot;Removing %s at pos %d : %s%n&quot;, array[pos-1], pos,\r\n            result);\r\n}\r\n```\r\nprints\r\n```\r\nRemoving 123 at pos 0 : 456, 123, 982, 345\r\nRemoving 456 at pos 1 : 123, 123, 982, 345\r\nRemoving 123 at pos 2 : 123, 456, 982, 345\r\nRemoving 982 at pos 3 : 123, 456, 123, 345\r\nRemoving 345 at pos 4 : 123, 456, 123, 982\r\n```\r\n- Pass the string and the position (1 based)\r\n- Split the string on the delimiter to create an array of elements\r\n- Create an `ArrayList` of the elements.\r\n- Remove the one at the specified position.\r\n- And join, returning a String.\r\n  \r\n```\r\npublic static String removeItem(String str, int pos) {\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(str.split(&quot;,&quot;)));\r\n    list.remove(pos-1);\r\n    return String.join(&quot;,&quot;, list);\r\n}\r\n```\r\nIf there are no duplicates, then use [String.replace()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence))\r\n```\r\nString str = &quot;123,456,423,982,345&quot;;\r\nstr = str.replace(&quot;423,&quot;,&quot;); // replace with an empty string\r\nSystem.out.println(str);\r\n```\r\nprints\r\n```\r\n123,456,982,345","title":"java code to remove a particular value from a string with comma seprated","body":"<p>In case there are multiple duplicate values, here is one way to remove by position.</p>\n<pre><code>String str = &quot;123,456,123,982,345&quot;;\nString[] array = str.split(&quot;,&quot;);\nfor (int pos = 1; pos &lt;= 5; pos++) {\n    String result = removeItem(str, pos);\n    System.out.printf(&quot;Removing %s at pos %d : %s%n&quot;, array[pos-1], pos,\n            result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Removing 123 at pos 0 : 456, 123, 982, 345\nRemoving 456 at pos 1 : 123, 123, 982, 345\nRemoving 123 at pos 2 : 123, 456, 982, 345\nRemoving 982 at pos 3 : 123, 456, 123, 345\nRemoving 345 at pos 4 : 123, 456, 123, 982\n</code></pre>\n<ul>\n<li>Pass the string and the position (1 based)</li>\n<li>Split the string on the delimiter to create an array of elements</li>\n<li>Create an <code>ArrayList</code> of the elements.</li>\n<li>Remove the one at the specified position.</li>\n<li>And join, returning a String.</li>\n</ul>\n<pre><code>public static String removeItem(String str, int pos) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(str.split(&quot;,&quot;)));\n    list.remove(pos-1);\n    return String.join(&quot;,&quot;, list);\n}\n</code></pre>\n<p>If there are no duplicates, then use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String.replace()</a></p>\n<pre><code>String str = &quot;123,456,423,982,345&quot;;\nstr = str.replace(&quot;423,&quot;,&quot;); // replace with an empty string\nSystem.out.println(str);\n</code></pre>\n<p>prints</p>\n<pre><code>123,456,982,345\n</code></pre>\n"}],"owner":{"account_id":1436517,"reputation":23,"user_id":1357748,"display_name":"1355"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75705892,"answer_count":2,"score":1,"last_activity_date":1678571288,"creation_date":1678547223,"question_id":75705824,"body_markdown":"I have a value like the below\r\nString original = &quot;109,107,108&quot;;\r\n\r\nnow I have to remove 107 the comma in the front and the back and should get the output of the string like\r\n\r\nString new=&quot;109,108&quot;\r\n\r\nvalue to be removed can be dynamic. if say I will get the value to be removed from the string from another method.","title":"java code to remove a particular value from a string with comma seprated","body":"<p>I have a value like the below\nString original = &quot;109,107,108&quot;;</p>\n<p>now I have to remove 107 the comma in the front and the back and should get the output of the string like</p>\n<p>String new=&quot;109,108&quot;</p>\n<p>value to be removed can be dynamic. if say I will get the value to be removed from the string from another method.</p>\n"},{"tags":["java","mysql","jdbc","init"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1678565886,"post_id":75709255,"comment_id":133559857,"body_markdown":"It seems you have a typo on the url, try `&quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM classpath:init.sql&quot;;`","body":"It seems you have a typo on the url, try <code>&quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM classpath:init.sql&quot;;</code>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1678570705,"post_id":75709255,"comment_id":133560488,"body_markdown":"As well as removing the extra whitespaces, this needs the classpath file to be in single quotes, in order to work (for me): `&quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM &#39;classpath:init.sql&#39;&quot;;`. @YoucefLAIDANI","body":"As well as removing the extra whitespaces, this needs the classpath file to be in single quotes, in order to work (for me): <code>&quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM &#39;classpath:init.sql&#39;&quot;;</code>. @YoucefLAIDANI"}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678571136,"creation_date":1678571136,"answer_id":75709733,"question_id":75709255,"body_markdown":"Try this:\r\n\r\n    static String dbUrl = &quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM &#39;classpath:init.sql&#39;&quot;;\r\n\r\nNote the removal of specific whitespaces from the example in the question (`...;INIT=RUNSCRIPT ...`), and the use of single quotes around `&#39;classpath:init.sql&#39;` (the question is missing one of the single quotes).\r\n\r\nSee the [RUNSCRIPT](https://www.h2database.com/html/commands.html#runscript) documentation for examples, including:\r\n\r\n&gt; RUNSCRIPT FROM &#39;classpath:/com/acme/test.sql&#39;","title":"Unsupported connection option &quot; INIT &quot;","body":"<p>Try this:</p>\n<pre><code>static String dbUrl = &quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM 'classpath:init.sql'&quot;;\n</code></pre>\n<p>Note the removal of specific whitespaces from the example in the question (<code>...;INIT=RUNSCRIPT ...</code>), and the use of single quotes around <code>'classpath:init.sql'</code> (the question is missing one of the single quotes).</p>\n<p>See the <a href=\"https://www.h2database.com/html/commands.html#runscript\" rel=\"nofollow noreferrer\">RUNSCRIPT</a> documentation for examples, including:</p>\n<blockquote>\n<p>RUNSCRIPT FROM 'classpath:/com/acme/test.sql'</p>\n</blockquote>\n"}],"owner":{"account_id":26765780,"reputation":1,"user_id":20362961,"display_name":"Evgeni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75709733,"answer_count":1,"score":0,"last_activity_date":1678571136,"creation_date":1678565603,"question_id":75709255,"body_markdown":"I don&#39;t understand what the problem is and how to view it. second month in programming\r\n\r\n1 location error\r\n\r\n    private static String dbUrl = &quot;jdbc:h2:mem:test; INIT = RUNSCRIPT FROM classpath:init.sql&#39; &quot;;`\r\n\r\n2 text error\r\n&gt;Exception in thread &quot;main&quot; java.lang.RuntimeException: &gt;org.h2.jdbc.JdbcSQLNonTransientConnectionException: Неподдерживаемая &gt;опция соединения &quot; INIT &quot;\r\n\r\n&gt;Unsupported connection setting &quot; INIT &quot; \\[90113-200\\]\r\n\r\n3 possible cause of the error\r\n\r\n\r\n        \r\n![enter image description here](https://i.stack.imgur.com/wLIYN.png)\r\n        \r\n    \r\n","title":"Unsupported connection option &quot; INIT &quot;","body":"<p>I don't understand what the problem is and how to view it. second month in programming</p>\n<p>1 location error</p>\n<pre><code>private static String dbUrl = &quot;jdbc:h2:mem:test; INIT = RUNSCRIPT FROM classpath:init.sql' &quot;;`\n</code></pre>\n<p>2 text error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: &gt;org.h2.jdbc.JdbcSQLNonTransientConnectionException: Неподдерживаемая &gt;опция соединения &quot; INIT &quot;</p>\n</blockquote>\n<blockquote>\n<p>Unsupported connection setting &quot; INIT &quot; [90113-200]</p>\n</blockquote>\n<p>3 possible cause of the error</p>\n<p><img src=\"https://i.stack.imgur.com/wLIYN.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","sql","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535113870,"creation_date":1535113870,"answer_id":52004564,"question_id":52004302,"body_markdown":"Don&#39;t select * \r\n\r\nYou should select the columns in the order of your DropDownValues and if the names of the columns don&#39;t match the attribute names use aliases.\r\n\r\nExample:\r\n\r\n    @Query(value = &quot;SELECT name AS name, age AS age FROM Person&quot;, nativeQuery = true)\r\n    List&lt;PersonSummary&gt; findAllProjectedNativeQuery();","title":"I have used @Query(nativeQuery=true, value=&quot;SELECT * FROM CVT_CODE_INDEX&quot;) i am not able retrive value from DB..pls let me know","body":"<p>Don't select * </p>\n\n<p>You should select the columns in the order of your DropDownValues and if the names of the columns don't match the attribute names use aliases.</p>\n\n<p>Example:</p>\n\n<pre><code>@Query(value = \"SELECT name AS name, age AS age FROM Person\", nativeQuery = true)\nList&lt;PersonSummary&gt; findAllProjectedNativeQuery();\n</code></pre>\n"}],"owner":{"account_id":1436517,"reputation":23,"user_id":1357748,"display_name":"1355"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678571019,"creation_date":1535113022,"question_id":52004302,"body_markdown":"\t\r\n    @Query(nativeQuery=true, value=&quot;SELECT * FROM CVT_CODE_INDEX&quot;) \r\n\r\ni am not able retrive value from DB..pls let me know\r\n\r\n\r\n\tList&lt;DropDownValues&gt; dropdownDetailsList =  dropDownRepository.findAllValues();\r\n","title":"I have used @Query(nativeQuery=true, value=&quot;SELECT * FROM CVT_CODE_INDEX&quot;) i am not able retrive value from DB..pls let me know","body":"<pre><code>@Query(nativeQuery=true, value=&quot;SELECT * FROM CVT_CODE_INDEX&quot;) \n</code></pre>\n<p>i am not able retrive value from DB..pls let me know</p>\n<pre><code>List&lt;DropDownValues&gt; dropdownDetailsList =  dropDownRepository.findAllValues();\n</code></pre>\n"},{"tags":["java","intellij-idea","nodes","computer-science","singly-linked-list"],"owner":{"account_id":27987656,"reputation":1,"user_id":21374148,"display_name":"user21374148"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678570531,"creation_date":1678570531,"question_id":75709687,"body_markdown":"For a school assignment I have to use the findTail function and the setNext function to create      \r\nthe addToList function, but nothing I do is working. The point is to add a new node to the end  \r\nof the list.\r\n\r\n    //sets the reference to the next node in the linked list\r\n\r\n    public void setNext (SingLinked nxt) {nextNode = nxt;}\r\n\r\n    //locate and return the reference to the tail node \r\n\r\n    public SingLinked findTail() {\r\n        SingLinked current = nextNode;\r\n        while (current != null) {\r\n            if (current.getNext() == null) {\r\n                break; }\r\n            else {\r\n                current = current.getNext();\r\n\r\n        return current;\r\n\r\n    //This is the code I have to fix using findTail() and setNext()\r\n\r\n    public void addToList(int elVal) { \r\n        SingLinked lastNode = new SingLinked(elVal);\r\n        if (findTail().nextNode == null)\r\n            findtail().setNext(lastNode);","title":"How do I add a node to the end of a list with the findTail/setNext function?","body":"<p>For a school assignment I have to use the findTail function and the setNext function to create<br />\nthe addToList function, but nothing I do is working. The point is to add a new node to the end<br />\nof the list.</p>\n<pre><code>//sets the reference to the next node in the linked list\n\npublic void setNext (SingLinked nxt) {nextNode = nxt;}\n\n//locate and return the reference to the tail node \n\npublic SingLinked findTail() {\n    SingLinked current = nextNode;\n    while (current != null) {\n        if (current.getNext() == null) {\n            break; }\n        else {\n            current = current.getNext();\n\n    return current;\n\n//This is the code I have to fix using findTail() and setNext()\n\npublic void addToList(int elVal) { \n    SingLinked lastNode = new SingLinked(elVal);\n    if (findTail().nextNode == null)\n        findtail().setNext(lastNode);\n</code></pre>\n"},{"tags":["java","sublimetext3"],"comments":[{"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"score":0,"creation_date":1678580081,"post_id":75709612,"comment_id":133561618,"body_markdown":"Please copy your code here instead of posting images so that we can see exactly what&#39;s going on","body":"Please copy your code here instead of posting images so that we can see exactly what&#39;s going on"},{"owner":{"account_id":1528147,"reputation":101264,"user_id":1426065,"accept_rate":82,"display_name":"MattDMo"},"score":2,"creation_date":1678630254,"post_id":75709612,"comment_id":133566827,"body_markdown":"[*Please do not post text as images*](https://meta.stackoverflow.com/q/285551). Copy and paste the text into your question and use the code formatting tool (`{}` button) to format it correctly. Images are not searchable, cannot be interpreted by screen readers for those with visual impairments, and cannot be copied for testing and debugging purposes. Use the [edit] link to modify your question.","body":"<a href=\"https://meta.stackoverflow.com/q/285551\"><i>Please do not post text as images</i></a>. Copy and paste the text into your question and use the code formatting tool (<code>{}</code> button) to format it correctly. Images are not searchable, cannot be interpreted by screen readers for those with visual impairments, and cannot be copied for testing and debugging purposes. Use the <a href=\"https://stackoverflow.com/posts/75709612/edit\">edit</a> link to modify your question."}],"owner":{"account_id":27994713,"reputation":1,"user_id":21380226,"display_name":"Havockk2926"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678569783,"creation_date":1678569783,"question_id":75709612,"body_markdown":"Im kind of new to Java and I just made a new class along with a Build System: \r\n(https://i.stack.imgur.com/bZIiL.png)\r\nHowever, when i go to run my program, it says Error: Could not find or load main class Unit1 \r\n(https://i.stack.imgur.com/LXWZD.png)\r\n\r\nWhat can i do?\r\n\r\n\r\n\r\nI have already gone through a plethora of potential solutions by changing the path in system variables but to no awail.","title":"Error: Could not find or load main class in Sublime Text 3","body":"<p>Im kind of new to Java and I just made a new class along with a Build System:\n(<a href=\"https://i.stack.imgur.com/bZIiL.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/bZIiL.png</a>)\nHowever, when i go to run my program, it says Error: Could not find or load main class Unit1\n(<a href=\"https://i.stack.imgur.com/LXWZD.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/LXWZD.png</a>)</p>\n<p>What can i do?</p>\n<p>I have already gone through a plethora of potential solutions by changing the path in system variables but to no awail.</p>\n"},{"tags":["java","inheritance","jaxb","unmarshalling","pojo"],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678569521,"creation_date":1678567756,"answer_id":75709436,"question_id":75696006,"body_markdown":"I have a possible solution that you can download from [hisrc-higherjaxb-sample-any-content-2.1.0-mvn-src.zip](https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-any-content-2.1.0-mvn-src.zip). The download is a standalone Maven project containing a unit test to parse your `RESPONSE` files using JAXB generated classes from [response.xsd](https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/any-content/src/main/resources/response.xsd), a reverse engineered XML schema.\r\n\r\n*Solution:*\r\n\r\nCreate an XML Schema by inspecting the XML to identify this structure:\r\n\r\n~~~\r\nCONTENT: anySimpleType\r\nCONTENTAddress: complexType\r\nCONTENTSalary: complexType\r\nRESPONSE: complexType\r\n    INFO: complexType\r\n    CONTENT: ref\r\n~~~\r\n\r\nThe key is to define the `CONTENT` as `anySimpleType` and as a top level element. As such, JAXB is able to unmarshal the ambiguous content (address, salary, etc.) into a general DOM `Element`. Further, as a top-level element, JAXB treats it as a root element that can be marshaled into an XML fragment.\r\n\r\nThe trick is to programmatically detect the actual type from the fragment then modify the fragment to use the correct `CONTENT` tag: CONTENTAddress, CONTENTSalary, etc. Then to unmarshal the modified XML to instantiate the final objects.\r\n","title":"JAXB XML to Pojo using inheritance how to","body":"<p>I have a possible solution that you can download from <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-any-content-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-sample-any-content-2.1.0-mvn-src.zip</a>. The download is a standalone Maven project containing a unit test to parse your <code>RESPONSE</code> files using JAXB generated classes from <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/any-content/src/main/resources/response.xsd\" rel=\"nofollow noreferrer\">response.xsd</a>, a reverse engineered XML schema.</p>\n<p><em>Solution:</em></p>\n<p>Create an XML Schema by inspecting the XML to identify this structure:</p>\n<pre><code>CONTENT: anySimpleType\nCONTENTAddress: complexType\nCONTENTSalary: complexType\nRESPONSE: complexType\n    INFO: complexType\n    CONTENT: ref\n</code></pre>\n<p>The key is to define the <code>CONTENT</code> as <code>anySimpleType</code> and as a top level element. As such, JAXB is able to unmarshal the ambiguous content (address, salary, etc.) into a general DOM <code>Element</code>. Further, as a top-level element, JAXB treats it as a root element that can be marshaled into an XML fragment.</p>\n<p>The trick is to programmatically detect the actual type from the fragment then modify the fragment to use the correct <code>CONTENT</code> tag: CONTENTAddress, CONTENTSalary, etc. Then to unmarshal the modified XML to instantiate the final objects.</p>\n"}],"owner":{"account_id":27982438,"reputation":1,"user_id":21369952,"display_name":"Crypto Vice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678569521,"creation_date":1678450423,"question_id":75696006,"body_markdown":"I receive some XMLs from some endpoints. The basic structure of each response is similar (I get XML, no xsd): \r\n\r\n1) Endpoint Name-Address\r\n\r\n```\r\n&lt;RESPONSE&gt;\r\n&lt;INFO&gt;\r\n  &lt;ret_code&gt;0&lt;/ret_code&gt;\r\n  &lt;/details&gt;\r\n&lt;/INFO&gt;\r\n&lt;CONTENT&gt;\r\n   &lt;name&gt;John&lt;/name&gt;\r\n   &lt;addresses&gt;\r\n      &lt;address&gt;\r\n         &lt;city&gt;NewYork&lt;/city&gt;\r\n         &lt;street&gt;5th&lt;/street&gt;\r\n      &lt;/address&gt;\r\n      &lt;address&gt;\r\n          &lt;city&gt;Paris&lt;/city&gt;\r\n          &lt;street&gt;Colombe&lt;/street&gt;\r\n      &lt;/address&gt;\r\n   &lt;/addresses&gt;\r\n&lt;/CONTENT&gt;\r\n&lt;/RESPONSE&gt;\r\n```\r\n\r\n2) Endpoint for Salary\r\n\r\n```\r\n&lt;RESPONSE&gt;\r\n&lt;INFO&gt;\r\n  &lt;ret_code&gt;1&lt;/ret_code&gt;\r\n  &lt;details&gt;no salary data&lt;/details&gt;\r\n&lt;/INFO&gt;\r\n&lt;/RESPONSE&gt;\r\n```\r\n\r\nor a valid response with data\r\n\r\n```\r\n&lt;RESPONSE&gt;\r\n&lt;INFO&gt;\r\n  &lt;ret_code&gt;0&lt;/ret_code&gt;\r\n  &lt;/details&gt;\r\n&lt;/INFO&gt;\r\n&lt;CONTENT&gt;\r\n   &lt;name&gt;John&lt;/name&gt;\r\n   &lt;salary&gt;1000&lt;/salary&gt;\r\n&lt;/CONTENT&gt;\r\n&lt;/RESPONSE&gt;\r\n```\r\n\r\n3) Common parts\r\n\r\nAs you can see the \\&lt;RESPONSE\\&gt; tag is always there and the \\&lt;INFO\\&gt; tag is always there. The \\&lt;CONTENT\\&gt; is not always present and sometimes the content varies based on which endpoint is called. \r\n\r\nSo I wanted to (using JaxB) map these to some POJO as follows: \r\n\r\n1) INFO class\r\n\r\n```\r\n@XmlRootElement(name=&quot;INFO&quot;)\r\npublic class INFO {\r\n    @XmlElement\r\n    public String ret_code;\r\n    @XmlElement \r\n    public String details;\r\n}\r\n```\r\n\r\nAlso an ADDRESS class\r\n\r\n```\r\n@XmlRootElement(name = &quot;address&quot;)\r\npublic class ADDRESS{\r\n    @XmlElement\r\n    public String city;\r\n    @XmlElement\r\n    public String street;\r\n}\r\n```\r\n\r\n2) EndpointAddress\r\n\r\n```\r\n@XmlRootElement(name=&quot;RESPONSE&quot;)\r\npublic class Response extends INFO{\r\n\r\n\t@XmlElement(name=&quot;name&quot;)\r\n\tpublic String name;\r\n\r\n\t@XmlWrapperElement(name=&quot;addresses&quot;)\r\n\t@XmlElement(name=&quot;address&quot;)\r\n\tpublic List&lt;Address&gt; addresses;\r\n}\r\n```\r\n\r\n2\\.1.) EndpointAddress variation without inheritance\r\n\r\n```\r\n@XmlRootElement(name=&quot;RESPONSE&quot;)\r\npublic class Response {\r\n \r\n\t@XmlElement(name=&quot;INFO&quot;)\r\n\tpublic INFO info; \r\n\r\n\t@XmlElement(name=&quot;name&quot;)\r\n\tpublic String name;\r\n\r\n\t@XmlWrapperElement(name=&quot;addresses&quot;)\r\n\t@XmlElement(name=&quot;address&quot;)\r\n\tpublic List&lt;Address&gt; addresses;\r\n}\r\n```\r\n\r\n3) Endpoint Salary - 2 cases here (inheritance or not) as above.. will not post both to keep it short\r\n\r\n```\r\n@XmlRootElement(name=&quot;RESPONSE&quot;)\r\npublic class Response extends INFO{\r\n\r\n\t@XmlElement(name=&quot;salary&quot;)\r\n\tpublic String salary;\r\n}\r\n```\r\n\r\nAt this point the mapping returns: \r\n\r\n1) ClassCastException trying to map INFO into Response when using inheritance\r\n\r\n2) null values for  Info info, addresses when no inheritance. \r\n\r\nAny help on how to achieve some reusability would be more than welcomed. \r\n\r\nThank you! ","title":"JAXB XML to Pojo using inheritance how to","body":"<p>I receive some XMLs from some endpoints. The basic structure of each response is similar (I get XML, no xsd):</p>\n<ol>\n<li>Endpoint Name-Address</li>\n</ol>\n<pre><code>&lt;RESPONSE&gt;\n&lt;INFO&gt;\n  &lt;ret_code&gt;0&lt;/ret_code&gt;\n  &lt;/details&gt;\n&lt;/INFO&gt;\n&lt;CONTENT&gt;\n   &lt;name&gt;John&lt;/name&gt;\n   &lt;addresses&gt;\n      &lt;address&gt;\n         &lt;city&gt;NewYork&lt;/city&gt;\n         &lt;street&gt;5th&lt;/street&gt;\n      &lt;/address&gt;\n      &lt;address&gt;\n          &lt;city&gt;Paris&lt;/city&gt;\n          &lt;street&gt;Colombe&lt;/street&gt;\n      &lt;/address&gt;\n   &lt;/addresses&gt;\n&lt;/CONTENT&gt;\n&lt;/RESPONSE&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Endpoint for Salary</li>\n</ol>\n<pre><code>&lt;RESPONSE&gt;\n&lt;INFO&gt;\n  &lt;ret_code&gt;1&lt;/ret_code&gt;\n  &lt;details&gt;no salary data&lt;/details&gt;\n&lt;/INFO&gt;\n&lt;/RESPONSE&gt;\n</code></pre>\n<p>or a valid response with data</p>\n<pre><code>&lt;RESPONSE&gt;\n&lt;INFO&gt;\n  &lt;ret_code&gt;0&lt;/ret_code&gt;\n  &lt;/details&gt;\n&lt;/INFO&gt;\n&lt;CONTENT&gt;\n   &lt;name&gt;John&lt;/name&gt;\n   &lt;salary&gt;1000&lt;/salary&gt;\n&lt;/CONTENT&gt;\n&lt;/RESPONSE&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Common parts</li>\n</ol>\n<p>As you can see the &lt;RESPONSE&gt; tag is always there and the &lt;INFO&gt; tag is always there. The &lt;CONTENT&gt; is not always present and sometimes the content varies based on which endpoint is called.</p>\n<p>So I wanted to (using JaxB) map these to some POJO as follows:</p>\n<ol>\n<li>INFO class</li>\n</ol>\n<pre><code>@XmlRootElement(name=&quot;INFO&quot;)\npublic class INFO {\n    @XmlElement\n    public String ret_code;\n    @XmlElement \n    public String details;\n}\n</code></pre>\n<p>Also an ADDRESS class</p>\n<pre><code>@XmlRootElement(name = &quot;address&quot;)\npublic class ADDRESS{\n    @XmlElement\n    public String city;\n    @XmlElement\n    public String street;\n}\n</code></pre>\n<ol start=\"2\">\n<li>EndpointAddress</li>\n</ol>\n<pre><code>@XmlRootElement(name=&quot;RESPONSE&quot;)\npublic class Response extends INFO{\n\n    @XmlElement(name=&quot;name&quot;)\n    public String name;\n\n    @XmlWrapperElement(name=&quot;addresses&quot;)\n    @XmlElement(name=&quot;address&quot;)\n    public List&lt;Address&gt; addresses;\n}\n</code></pre>\n<p>2.1.) EndpointAddress variation without inheritance</p>\n<pre><code>@XmlRootElement(name=&quot;RESPONSE&quot;)\npublic class Response {\n \n    @XmlElement(name=&quot;INFO&quot;)\n    public INFO info; \n\n    @XmlElement(name=&quot;name&quot;)\n    public String name;\n\n    @XmlWrapperElement(name=&quot;addresses&quot;)\n    @XmlElement(name=&quot;address&quot;)\n    public List&lt;Address&gt; addresses;\n}\n</code></pre>\n<ol start=\"3\">\n<li>Endpoint Salary - 2 cases here (inheritance or not) as above.. will not post both to keep it short</li>\n</ol>\n<pre><code>@XmlRootElement(name=&quot;RESPONSE&quot;)\npublic class Response extends INFO{\n\n    @XmlElement(name=&quot;salary&quot;)\n    public String salary;\n}\n</code></pre>\n<p>At this point the mapping returns:</p>\n<ol>\n<li><p>ClassCastException trying to map INFO into Response when using inheritance</p>\n</li>\n<li><p>null values for  Info info, addresses when no inheritance.</p>\n</li>\n</ol>\n<p>Any help on how to achieve some reusability would be more than welcomed.</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678485355,"post_id":75699676,"comment_id":133548401,"body_markdown":"Nothing in the code you shared explains the behavior you describe, so it&#39;ll be hard for anyone here to help. Please edit your question to include the [minimal complete/standalone code+data that is needed for any of us to reproduce the problem](http://stackoverflow.com/help/mcve).","body":"Nothing in the code you shared explains the behavior you describe, so it&#39;ll be hard for anyone here to help. Please edit your question to include the <a href=\"http://stackoverflow.com/help/mcve\">minimal complete/standalone code+data that is needed for any of us to reproduce the problem</a>."},{"owner":{"account_id":14580336,"reputation":13,"user_id":10531038,"display_name":"Daniel Rubinstein"},"score":0,"creation_date":1678532856,"post_id":75699676,"comment_id":133553299,"body_markdown":"@FrankvanPuffelen Edited as per requested, although I don&#39;t really understand how what I do with the data is relevant.\n\nI&#39;ll try to elaborate a bit more:\nAs far as I know and understand, `onDataChange` executes as soon as Firebase returns the `DataSnapshot` - the issue is that it doesn&#39;t execute, no matter how long I wait for.. and since it worked perfectly before I really have no clue what is causing it.","body":"@FrankvanPuffelen Edited as per requested, although I don&#39;t really understand how what I do with the data is relevant.  I&#39;ll try to elaborate a bit more: As far as I know and understand, <code>onDataChange</code> executes as soon as Firebase returns the <code>DataSnapshot</code> - the issue is that it doesn&#39;t execute, no matter how long I wait for.. and since it worked perfectly before I really have no clue what is causing it."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678549738,"post_id":75699676,"comment_id":133555906,"body_markdown":"That code looks fine indeed, so it&#39;s unlikely the problem is in there (something we can only know once we&#39;ve seen the code, hence the ask for it). I don&#39;t think anything changed in the Realtime Database backend in those six months that would explain a change in behavior like what you describe though, so it&#39;s still most likely something change in the client-side behavior. I recommend [enabling debug logging](https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase.html#setLogLevel(com.google.firebase.database.Logger.Level)) and checking the logcat output.","body":"That code looks fine indeed, so it&#39;s unlikely the problem is in there (something we can only know once we&#39;ve seen the code, hence the ask for it). I don&#39;t think anything changed in the Realtime Database backend in those six months that would explain a change in behavior like what you describe though, so it&#39;s still most likely something change in the client-side behavior. I recommend <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase.html#setLogLevel(com.google.firebase.database.Logger.Level)\" rel=\"nofollow noreferrer\">enabling debug logging</a> and checking the logcat output."},{"owner":{"account_id":14580336,"reputation":13,"user_id":10531038,"display_name":"Daniel Rubinstein"},"score":0,"creation_date":1678565131,"post_id":75699676,"comment_id":133559752,"body_markdown":"@FrankvanPuffelen After enabling debug logging and further digging it seems like the issue is somehow related to my WIFI..?\nThe error I&#39;m getting is:\n`com.google.firebase.database.tubesock.WebSocketException: unknown host: #####.firebaseio.com`\nto which I found a corresponding bug report on GitHub, which suggested to use\n`database.goOffline();` and `database.goOnline();`, but without specifying where.\nAny suggestions?\n\n[Mentioned GitHub page](https://github.com/firebase/firebase-android-sdk/issues/1258)","body":"@FrankvanPuffelen After enabling debug logging and further digging it seems like the issue is somehow related to my WIFI..? The error I&#39;m getting is: <code>com.google.firebase.database.tubesock.WebSocketException: unknown host: #####.firebaseio.com</code> to which I found a corresponding bug report on GitHub, which suggested to use <code>database.goOffline();</code> and <code>database.goOnline();</code>, but without specifying where. Any suggestions?  <a href=\"https://github.com/firebase/firebase-android-sdk/issues/1258\" rel=\"nofollow noreferrer\">Mentioned GitHub page</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678568778,"post_id":75699676,"comment_id":133560250,"body_markdown":"Troubleshooting steps: 0) Please edit your question with the additional information you found above. Other potential helpers are not likely to see them in these comments. 1) Are you sure your device has a stable internet connection? 2) Are you sure you have the correct URL for your database configured either in the code of your app, or in the `google-services.json` file? If you&#39;re not certain: try the first option I gave here: https://stackoverflow.com/a/65566484.","body":"Troubleshooting steps: 0) Please edit your question with the additional information you found above. Other potential helpers are not likely to see them in these comments. 1) Are you sure your device has a stable internet connection? 2) Are you sure you have the correct URL for your database configured either in the code of your app, or in the <code>google-services.json</code> file? If you&#39;re not certain: try the first option I gave here: <a href=\"https://stackoverflow.com/a/65566484\">stackoverflow.com/a/65566484</a>."},{"owner":{"account_id":14580336,"reputation":13,"user_id":10531038,"display_name":"Daniel Rubinstein"},"score":0,"creation_date":1678569845,"post_id":75699676,"comment_id":133560377,"body_markdown":"@FrankvanPuffelen Tried running the app again on my laptop while connected to a different network and it worked just fine. \nIt indeed appears that the issue is with the stability of the internet connection on my Desktop, should&#39;ve checked that before asking I guess..\nReally appreciate the help and the patience, especially considering the actual problem.","body":"@FrankvanPuffelen Tried running the app again on my laptop while connected to a different network and it worked just fine.  It indeed appears that the issue is with the stability of the internet connection on my Desktop, should&#39;ve checked that before asking I guess.. Really appreciate the help and the patience, especially considering the actual problem."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678573802,"post_id":75699676,"comment_id":133560860,"body_markdown":"Good to hear you found the cause of the problem Daniel! &#128077; &#128293;","body":"Good to hear you found the cause of the problem Daniel! 👍 🔥"}],"owner":{"account_id":14580336,"reputation":13,"user_id":10531038,"display_name":"Daniel Rubinstein"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678569366,"creation_date":1678472045,"question_id":75699676,"body_markdown":"Following a `addListenerForSingleValueEvent()`, I have a defined an `onDataChange()` method - which insists on loading indefinitely and not returning any data from the database.\r\n\r\nI know that `onDataChange()` is asynchronous, and I&#39;m waiting for it to finish, it just doesn&#39;t.\r\n\r\nThis happened suddenly, and without me changing anything, after over 6 months of the method working just fine in my project.\r\n\r\nRelevant code attached below:\r\n```\r\nFirebaseDatabase database = FirebaseDatabase.getInstance();\r\nDatabaseReference usersRef = database.getReference().child(&quot;users&quot;);\r\n\r\nusersRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n        if (!dataSnapshot.child(userName).exists()) {\r\n            Toast.makeText(LogInActivity.this,&quot;Incorrect credentials were entered!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        else if (!dataSnapshot.child(userName).child(&quot;password&quot;).getValue().toString().equals(et_enterPassword.getText().toString())) {\r\n            Toast.makeText(LogInActivity.this,&quot;Incorrect credentials were entered!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        Intent homePageIntent = new Intent(LogInActivity.this, HomePageActivity.class);\r\n\r\n        startActivity(homePageIntent);\r\n    }\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n       Toast.makeText(LogInActivity.this,&quot;An error occurred!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n});\r\n```\r\n\r\nTried reinstalling my `google-services.json` file and checking perms for accessing the database, all of which resulted in absolutely nothing.\r\n\r\nEDIT:\r\nAfter enabling Firebase debug logging and further digging it seems like the issue is somehow related to my WIFI.\r\nThe error I&#39;m getting is: `com.google.firebase.database.tubesock.WebSocketException: unknown host: #####.firebaseio.com` to which I found a corresponding bug report on GitHub, which suggested to use `database.goOffline();` and `database.goOnline();`\r\n","title":"onDataChange loads indefinitely, Firebase in Android Studio","body":"<p>Following a <code>addListenerForSingleValueEvent()</code>, I have a defined an <code>onDataChange()</code> method - which insists on loading indefinitely and not returning any data from the database.</p>\n<p>I know that <code>onDataChange()</code> is asynchronous, and I'm waiting for it to finish, it just doesn't.</p>\n<p>This happened suddenly, and without me changing anything, after over 6 months of the method working just fine in my project.</p>\n<p>Relevant code attached below:</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference usersRef = database.getReference().child(&quot;users&quot;);\n\nusersRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        if (!dataSnapshot.child(userName).exists()) {\n            Toast.makeText(LogInActivity.this,&quot;Incorrect credentials were entered!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        else if (!dataSnapshot.child(userName).child(&quot;password&quot;).getValue().toString().equals(et_enterPassword.getText().toString())) {\n            Toast.makeText(LogInActivity.this,&quot;Incorrect credentials were entered!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        Intent homePageIntent = new Intent(LogInActivity.this, HomePageActivity.class);\n\n        startActivity(homePageIntent);\n    }\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n       Toast.makeText(LogInActivity.this,&quot;An error occurred!&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>Tried reinstalling my <code>google-services.json</code> file and checking perms for accessing the database, all of which resulted in absolutely nothing.</p>\n<p>EDIT:\nAfter enabling Firebase debug logging and further digging it seems like the issue is somehow related to my WIFI.\nThe error I'm getting is: <code>com.google.firebase.database.tubesock.WebSocketException: unknown host: #####.firebaseio.com</code> to which I found a corresponding bug report on GitHub, which suggested to use <code>database.goOffline();</code> and <code>database.goOnline();</code></p>\n"},{"tags":["java","gpt-3"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1672973315,"post_id":75026428,"comment_id":132399064,"body_markdown":"[Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question](https://meta.stackoverflow.com/a/253788/11107541). Can you please read it and apply what you learn to improve your question? You can also read [ask] for further guidance. Please read [ask] and describe your problem _before_ showing code. As in- what is your program supposed to do? What is it actually doing right now?","body":"<a href=\"https://meta.stackoverflow.com/a/253788/11107541\">Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question</a>. Can you please read it and apply what you learn to improve your question? You can also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for further guidance. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and describe your problem <i>before</i> showing code. As in- what is your program supposed to do? What is it actually doing right now?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1672974930,"post_id":75026428,"comment_id":132399254,"body_markdown":"Okay, why doesn&#39;t changing your URL as shown in the last panel solve your problem?  None of us have a ChatGPT key to test your code.","body":"Okay, why doesn&#39;t changing your URL as shown in the last panel solve your problem?  None of us have a ChatGPT key to test your code."},{"owner":{"account_id":9630189,"reputation":29,"user_id":7148393,"display_name":"Isaac"},"score":0,"creation_date":1672975425,"post_id":75026428,"comment_id":132399327,"body_markdown":"No, it only proves that my API key is valid. It shows details on the specific model I am using. I will update the question to explain this better","body":"No, it only proves that my API key is valid. It shows details on the specific model I am using. I will update the question to explain this better"},{"owner":{"account_id":2058164,"reputation":71291,"user_id":1835379,"accept_rate":86,"display_name":"Cerbrus"},"score":0,"creation_date":1673254840,"post_id":75026428,"comment_id":132448634,"body_markdown":"@GilbertLeBlanc OP isn&#39;t even talking to ChatGPT, as ChatGPT has no public API (yet?)","body":"@GilbertLeBlanc OP isn&#39;t even talking to ChatGPT, as ChatGPT has no public API (yet?)"},{"owner":{"account_id":9630189,"reputation":29,"user_id":7148393,"display_name":"Isaac"},"score":0,"creation_date":1675911895,"post_id":75026428,"comment_id":133031422,"body_markdown":"@Cerbrus ChatGPT has had a public API since atleast one month before I posted this","body":"@Cerbrus ChatGPT has had a public API since atleast one month before I posted this"},{"owner":{"account_id":2058164,"reputation":71291,"user_id":1835379,"accept_rate":86,"display_name":"Cerbrus"},"score":0,"creation_date":1675925358,"post_id":75026428,"comment_id":133033336,"body_markdown":"No, it doesn&#39;t have an official API. You&#39;re talking to `text-curie-001` That&#39;s ___not___ ChatGPT.","body":"No, it doesn&#39;t have an official API. You&#39;re talking to <code>text-curie-001</code> That&#39;s <b><i>not</i></b> ChatGPT."},{"owner":{"account_id":9630189,"reputation":29,"user_id":7148393,"display_name":"Isaac"},"score":0,"creation_date":1675960891,"post_id":75026428,"comment_id":133044699,"body_markdown":"@Cerbrus **text-curie-001** is one of the GPT3 models, you can see the list here: [https://platform.openai.com/docs/models/gpt-3](https://platform.openai.com/docs/models/gpt-3)","body":"@Cerbrus <b>text-curie-001</b> is one of the GPT3 models, you can see the list here: <a href=\"https://platform.openai.com/docs/models/gpt-3\" rel=\"nofollow noreferrer\">https://platform.openai.com/docs/models/gpt-3</a>"},{"owner":{"account_id":2058164,"reputation":71291,"user_id":1835379,"accept_rate":86,"display_name":"Cerbrus"},"score":0,"creation_date":1675964053,"post_id":75026428,"comment_id":133045800,"body_markdown":"___IT&#39;S NOT CHATGPT___. It&#39;s a different model.","body":"<b><i>IT&#39;S NOT CHATGPT</i></b>. It&#39;s a different model."}],"answers":[{"tags":[],"owner":{"account_id":27991539,"reputation":1,"user_id":21377294,"display_name":"aasdas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678568409,"creation_date":1678550657,"answer_id":75706180,"question_id":75026428,"body_markdown":"You are supposed to be using &quot;POST&quot; instead of &quot;GET&quot;.","title":"Error in formating the URL for chatGPT&#39;s API","body":"<p>You are supposed to be using &quot;POST&quot; instead of &quot;GET&quot;.</p>\n"}],"owner":{"account_id":9630189,"reputation":29,"user_id":7148393,"display_name":"Isaac"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678568409,"creation_date":1672972909,"question_id":75026428,"body_markdown":"I am trying to make a program where a user can asks GPT-3 a question through its API.\r\n\r\nI tried to get GPT-3&#39;s assistant to design code for me, however there were some errors because it uses outdated information from 2021. Below is my modified code after going through the documentation, but I still cant get it to work, it is generating a &#39;java.io.FileNotFoundException&#39; error.\r\n\r\nI believe the problem is with the formatting of the completion section of my URL, however I am not sure. If anyone could tell me what&#39;s wrong it would be greatly appreciated.\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\n\r\npublic class ChatGPT{\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String prompt = &quot;What country has the most moderate weather?&quot;;\r\n        String model = &quot;text-curie-001&quot;;\r\n        String apiKey = /*My API key*/;\r\n\r\n        // Encode the prompt and construct the API request URL\r\n        String url = String.format(\r\n            &quot;https://api.openai.com/v1/completions?model=%s&amp;prompt=%s&quot;,\r\n            model,\r\n            URLEncoder.encode(prompt, &quot;UTF-8&quot;)\r\n        );\r\n\r\n        // Create the request\r\n        HttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();\r\n        conn.setRequestMethod(&quot;GET&quot;);\r\n        conn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + apiKey);\r\n\r\n        // Make the request and retrieve the response\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n        StringBuilder responseBody = new StringBuilder();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            responseBody.append(line);\r\n        }\r\n        reader.close();\r\n\r\n        // Print the response\r\n        System.out.println(responseBody);\r\n    }\r\n}\r\n```\r\n\r\nI know my API key is valid because changing the url to whats shown below outputs the appropriate information:\r\n```\r\nString url = String.format(\r\n            &quot;https://api.openai.com/v1/models/%s&quot;,\r\n            model\r\n        );\r\n```\r\n\r\nthe format &quot;/v1/models/text-curie-001&quot; outputs the details for the model &#39;text-curie-001&#39;\r\n\r\nthe format &quot;/v1/completions...&quot; outputs a response based on the given prompt.","title":"Error in formating the URL for chatGPT&#39;s API","body":"<p>I am trying to make a program where a user can asks GPT-3 a question through its API.</p>\n<p>I tried to get GPT-3's assistant to design code for me, however there were some errors because it uses outdated information from 2021. Below is my modified code after going through the documentation, but I still cant get it to work, it is generating a 'java.io.FileNotFoundException' error.</p>\n<p>I believe the problem is with the formatting of the completion section of my URL, however I am not sure. If anyone could tell me what's wrong it would be greatly appreciated.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\n\npublic class ChatGPT{\n\n    public static void main(String[] args) throws IOException {\n        String prompt = &quot;What country has the most moderate weather?&quot;;\n        String model = &quot;text-curie-001&quot;;\n        String apiKey = /*My API key*/;\n\n        // Encode the prompt and construct the API request URL\n        String url = String.format(\n            &quot;https://api.openai.com/v1/completions?model=%s&amp;prompt=%s&quot;,\n            model,\n            URLEncoder.encode(prompt, &quot;UTF-8&quot;)\n        );\n\n        // Create the request\n        HttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();\n        conn.setRequestMethod(&quot;GET&quot;);\n        conn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + apiKey);\n\n        // Make the request and retrieve the response\n        BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n        StringBuilder responseBody = new StringBuilder();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            responseBody.append(line);\n        }\n        reader.close();\n\n        // Print the response\n        System.out.println(responseBody);\n    }\n}\n</code></pre>\n<p>I know my API key is valid because changing the url to whats shown below outputs the appropriate information:</p>\n<pre><code>String url = String.format(\n            &quot;https://api.openai.com/v1/models/%s&quot;,\n            model\n        );\n</code></pre>\n<p>the format &quot;/v1/models/text-curie-001&quot; outputs the details for the model 'text-curie-001'</p>\n<p>the format &quot;/v1/completions...&quot; outputs a response based on the given prompt.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1678091213,"post_id":75648506,"comment_id":133459222,"body_markdown":"Does it cause an exception?","body":"Does it cause an exception?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1678091645,"post_id":75648506,"comment_id":133459330,"body_markdown":"That is most likely not done by Spring Data JPA but by the JPA implementation. Probably Hibernate, maybe EclipseLink. Please tag the JPA implementation you are using.","body":"That is most likely not done by Spring Data JPA but by the JPA implementation. Probably Hibernate, maybe EclipseLink. Please tag the JPA implementation you are using."},{"owner":{"account_id":5469003,"reputation":1,"user_id":4348889,"display_name":"Praveen Kumar Dubey"},"score":0,"creation_date":1678091707,"post_id":75648506,"comment_id":133459354,"body_markdown":"I am using two schema that&#39;s the reason it cause an exception.","body":"I am using two schema that&#39;s the reason it cause an exception."}],"answers":[{"tags":[],"owner":{"account_id":26260052,"reputation":16,"user_id":19931523,"display_name":"Amrit Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678102403,"creation_date":1678102403,"answer_id":75650350,"question_id":75648506,"body_markdown":"To ignore the appending schema name with entity,  you can set the spring.jpa.properties.hibernate.default_schema in application.properties","title":"How to ignore to appending schema name with entity or view in spring boot 3.0.0","body":"<p>To ignore the appending schema name with entity,  you can set the spring.jpa.properties.hibernate.default_schema in application.properties</p>\n"}],"owner":{"account_id":5469003,"reputation":1,"user_id":4348889,"display_name":"Praveen Kumar Dubey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678567702,"creation_date":1678090886,"question_id":75648506,"body_markdown":"I have just migrated an application from spring boot 2.x to Spring Boot 3.0, and then schema name started adding in entity at run time. I want to ignore appending schema name from entity. How can I igore it ?\r\n````php\r\n@Table(name = &quot;employeee&quot;)\r\n````\r\nBut at run time it is executing `mydb.employeee`. just I want to ignore appending mydb.","title":"How to ignore to appending schema name with entity or view in spring boot 3.0.0","body":"<p>I have just migrated an application from spring boot 2.x to Spring Boot 3.0, and then schema name started adding in entity at run time. I want to ignore appending schema name from entity. How can I igore it ?</p>\n<pre class=\"lang-php prettyprint-override\"><code>@Table(name = &quot;employeee&quot;)\n</code></pre>\n<p>But at run time it is executing <code>mydb.employeee</code>. just I want to ignore appending mydb.</p>\n"},{"tags":["java","swing","loops","mouselistener"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1599343602,"post_id":63758837,"comment_id":112747280,"body_markdown":"*&quot;Listen for a mouse click event inside a for loop..&quot;* Don&#39;t. GUIs are event driven, not .. &#39;loop&#39; driven. For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"<i>&quot;Listen for a mouse click event inside a for loop..&quot;</i> Don&#39;t. GUIs are event driven, not .. &#39;loop&#39; driven. For better help sooner, <a href=\"https://stackoverflow.com/posts/63758837/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":19281162,"reputation":3,"user_id":14093133,"display_name":"SRP"},"score":0,"creation_date":1599345243,"post_id":63758837,"comment_id":112747557,"body_markdown":"Thanks for the comment but do you have any suggestions for how I can do something that would obtain the result I am looking for instead then as I really need to be able to get those coordinates so I can manipulate them in the code.","body":"Thanks for the comment but do you have any suggestions for how I can do something that would obtain the result I am looking for instead then as I really need to be able to get those coordinates so I can manipulate them in the code."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1599346280,"post_id":63758837,"comment_id":112747724,"body_markdown":"*&quot;do you have any suggestions&quot;* Post an MRE / SSCCE.. *&quot;..for how I can do something that would obtain the result I am looking for&quot;* ..in order to entice people to look at this more closely. But then, you ignored that advice the first time I suggested it, so I won&#39;t reply again until there is one.","body":"<i>&quot;do you have any suggestions&quot;</i> Post an MRE / SSCCE.. <i>&quot;..for how I can do something that would obtain the result I am looking for&quot;</i> ..in order to entice people to look at this more closely. But then, you ignored that advice the first time I suggested it, so I won&#39;t reply again until there is one."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1599348526,"post_id":63758837,"comment_id":112748088,"body_markdown":"*but I don&#39;t see a way that I can use the coordinate details outside of the mouseClicked function as I would like.* - this is the way a GUI works. You add the MouseListener to a component and then you respond to the event when the user does something with the mouse. Instead of asking such an abstract question ask a direct question. Why are you waiting for something to happen?. What do you think a JButton does. It just sits there doing nothing until you, the user, decide to click it. This is the way all Swing components work.","body":"<i>but I don&#39;t see a way that I can use the coordinate details outside of the mouseClicked function as I would like.</i> - this is the way a GUI works. You add the MouseListener to a component and then you respond to the event when the user does something with the mouse. Instead of asking such an abstract question ask a direct question. Why are you waiting for something to happen?. What do you think a JButton does. It just sits there doing nothing until you, the user, decide to click it. This is the way all Swing components work."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1599346297,"creation_date":1599345917,"answer_id":63759168,"question_id":63758837,"body_markdown":"You need to change the control flow of your program so that your code is responding to UI events, not trying to run the UI itself. Try something like this:\r\n```\r\nclass MyStateMachine {\r\n  int i = 0; // this is your loop index\r\n  boolean waitingForSecondClick = false; // is the next click the first or second?\r\n  int firstX; // coordinates of the first click\r\n  int firstY;\r\n\r\n  void receiveCoordinates(int x, int y) {\r\n    if (waitingForSecondClick) { \r\n       if (closestvertex(....)) {\r\n         // do your stuff\r\n       }\r\n       ++i;\r\n       waitingForSecondClick = false;\r\n    } else {\r\n       firstX = x;\r\n       firstY = y;\r\n       waitingForSecondClick = true;\r\n    }\r\n  }\r\n```\r\n\r\nSo your mouse listener becomes:\r\n```\r\n@Override\r\npublic void mouseClicked(MouseEvent e) {\r\n    stateMachine.receiveCoordinates(e.getX(), e.getY())\r\n}\r\n```\r\n\r\nThe first time your object receives a mouse click it just saves the coordinates in its instance variables and remembers that the next click is a &#39;second click&#39;. Next click it uses both clicks to do your task, increments `i` and starts looking for another &#39;first click&#39;.","title":"Listen for a mouse click event inside a for loop and use the coordinates from that event in later code","body":"<p>You need to change the control flow of your program so that your code is responding to UI events, not trying to run the UI itself. Try something like this:</p>\n<pre><code>class MyStateMachine {\n  int i = 0; // this is your loop index\n  boolean waitingForSecondClick = false; // is the next click the first or second?\n  int firstX; // coordinates of the first click\n  int firstY;\n\n  void receiveCoordinates(int x, int y) {\n    if (waitingForSecondClick) { \n       if (closestvertex(....)) {\n         // do your stuff\n       }\n       ++i;\n       waitingForSecondClick = false;\n    } else {\n       firstX = x;\n       firstY = y;\n       waitingForSecondClick = true;\n    }\n  }\n</code></pre>\n<p>So your mouse listener becomes:</p>\n<pre><code>@Override\npublic void mouseClicked(MouseEvent e) {\n    stateMachine.receiveCoordinates(e.getX(), e.getY())\n}\n</code></pre>\n<p>The first time your object receives a mouse click it just saves the coordinates in its instance variables and remembers that the next click is a 'second click'. Next click it uses both clicks to do your task, increments <code>i</code> and starts looking for another 'first click'.</p>\n"}],"owner":{"account_id":19281162,"reputation":3,"user_id":14093133,"display_name":"SRP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63759168,"answer_count":1,"score":-1,"last_activity_date":1678567624,"creation_date":1599342744,"question_id":63758837,"body_markdown":"What I want to do is inside the rest of my code have it wait for and recognise a mouse click event and then be able to use the coordinates of that click in the rest of the code, not just print it to the screen on click as pretty much every other example I have found does.\r\n\r\nI am new to java and this is the first time I&#39;m making an interface so I do apologise for any mistakes and I will fix them as soon as I can.\r\n\r\nUnfortunately, as I don&#39;t have a clue how to do what I am asking for, I can only represent it in a sort of pseudocode crossed with bits of code or I wouldn&#39;t be asking here in the first place.\r\n\r\nedit: Below comment says don&#39;t do this, which I understand but I really need to be able to get those coordinates to be usable in that area of code (which is a lot longer than shown below) so if anyone has any alternative ways in which I could achieve that then please share.\r\n\r\nIt is the two clicks at two different locations to get two different coordinates to then manipulate that is really throwing me.\r\n\r\n```\r\n.....\r\nfor(int i = 0; i &lt; 15; i++) {\r\n    wait for mouse click;\r\n    int x = x coordinate of mouse click;\r\n    int y = y coordinate of mouse click;\r\n    wait for mouse click;\r\n    int x2 = x coordinate of second mouse click;\r\n    int y2 = y coordinate of second mouse click;\r\n    if (closestVertex(x,y) != closestVertex(x2,y2) &amp;&amp; ! graph.isline(x,y,x2,y2)) {\r\n        graph.insertLine(x,y,x2,y2);\r\n    }\r\n}\r\n.... etc...\r\n```\r\n\r\nSo far the solutions I have seen have involved looking at where the pointer is at a given moment but that is not the location only at the moment when clicked. This type of solution is illustrated below:\r\n\r\n```\r\nint x = MouseInfo.getPointerInfo().getLocation.x;\r\nint y = MouseInfo.getPointerInfo().getLocation.y;\r\n```\r\n\r\nAnd also another common one that crops up is altering the MouseListener as below: \r\n\r\n```\r\n@Override\r\npublic void mouseClicked(MouseEvent e) {\r\n    int x=e.getX();\r\n    int y=e.getY();\r\n    System.out.println(x+&quot;,&quot;+y);\r\n}\r\n```\r\n\r\nBut for this option, yes, you can print the coordinate, but I don&#39;t see a way that I can use the coordinate details outside of the mouseClicked function as I would like.\r\n\r\nIn terms of getting it to wait for the action to occur and not just keep going through the loop, I have a couple of ideas. I thought of adding a while loop inside and using wait() and Thread.sleep(100) but the issue is I had no idea of how to say essentially:\r\n\r\n```\r\nwhile(event hasn&#39;t occurred) {\r\n    wait()\r\n}\r\nint x = x coordinate of mouse click;\r\nint y = y coordinate of mouse click;\r\n...etc\r\n```\r\nIf you have any new ideas I could try I would greatly appreciate it as I have been through I don&#39;t even know how many links on google looking for a way to make this work.","title":"Listen for a mouse click event inside a for loop and use the coordinates from that event in later code","body":"<p>What I want to do is inside the rest of my code have it wait for and recognise a mouse click event and then be able to use the coordinates of that click in the rest of the code, not just print it to the screen on click as pretty much every other example I have found does.</p>\n<p>I am new to java and this is the first time I'm making an interface so I do apologise for any mistakes and I will fix them as soon as I can.</p>\n<p>Unfortunately, as I don't have a clue how to do what I am asking for, I can only represent it in a sort of pseudocode crossed with bits of code or I wouldn't be asking here in the first place.</p>\n<p>edit: Below comment says don't do this, which I understand but I really need to be able to get those coordinates to be usable in that area of code (which is a lot longer than shown below) so if anyone has any alternative ways in which I could achieve that then please share.</p>\n<p>It is the two clicks at two different locations to get two different coordinates to then manipulate that is really throwing me.</p>\n<pre><code>.....\nfor(int i = 0; i &lt; 15; i++) {\n    wait for mouse click;\n    int x = x coordinate of mouse click;\n    int y = y coordinate of mouse click;\n    wait for mouse click;\n    int x2 = x coordinate of second mouse click;\n    int y2 = y coordinate of second mouse click;\n    if (closestVertex(x,y) != closestVertex(x2,y2) &amp;&amp; ! graph.isline(x,y,x2,y2)) {\n        graph.insertLine(x,y,x2,y2);\n    }\n}\n.... etc...\n</code></pre>\n<p>So far the solutions I have seen have involved looking at where the pointer is at a given moment but that is not the location only at the moment when clicked. This type of solution is illustrated below:</p>\n<pre><code>int x = MouseInfo.getPointerInfo().getLocation.x;\nint y = MouseInfo.getPointerInfo().getLocation.y;\n</code></pre>\n<p>And also another common one that crops up is altering the MouseListener as below:</p>\n<pre><code>@Override\npublic void mouseClicked(MouseEvent e) {\n    int x=e.getX();\n    int y=e.getY();\n    System.out.println(x+&quot;,&quot;+y);\n}\n</code></pre>\n<p>But for this option, yes, you can print the coordinate, but I don't see a way that I can use the coordinate details outside of the mouseClicked function as I would like.</p>\n<p>In terms of getting it to wait for the action to occur and not just keep going through the loop, I have a couple of ideas. I thought of adding a while loop inside and using wait() and Thread.sleep(100) but the issue is I had no idea of how to say essentially:</p>\n<pre><code>while(event hasn't occurred) {\n    wait()\n}\nint x = x coordinate of mouse click;\nint y = y coordinate of mouse click;\n...etc\n</code></pre>\n<p>If you have any new ideas I could try I would greatly appreciate it as I have been through I don't even know how many links on google looking for a way to make this work.</p>\n"},{"tags":["java","spring-boot","amazon-ec2","aws-lambda","spring-scheduled"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678552766,"post_id":75706082,"comment_id":133556426,"body_markdown":"Without any specific buisness demands this question is mostly opinionated. As ”better ” is a subjective opinion.","body":"Without any specific buisness demands this question is mostly opinionated. As ”better ” is a subjective opinion."}],"answers":[{"tags":[],"owner":{"account_id":16832705,"reputation":49,"user_id":12170258,"display_name":"Skirmish Playz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678551043,"creation_date":1678551043,"answer_id":75706221,"question_id":75706082,"body_markdown":"**Hello!**\r\n\r\nEither work fine for scheduled tasks, AWS Lambda could possibly start up a bit slower compared to Spring Boot, but shouldn&#39;t be too obvious.\r\n\r\nIn the end it&#39;s whichever you&#39;d like to use and whichever is easier for you, in this case it seems like Spring Boot. So I&#39;d go with that :)\r\n","title":"Scheduler in or outside Spring Boot","body":"<p><strong>Hello!</strong></p>\n<p>Either work fine for scheduled tasks, AWS Lambda could possibly start up a bit slower compared to Spring Boot, but shouldn't be too obvious.</p>\n<p>In the end it's whichever you'd like to use and whichever is easier for you, in this case it seems like Spring Boot. So I'd go with that :)</p>\n"},{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678567434,"creation_date":1678567434,"answer_id":75709407,"question_id":75706082,"body_markdown":"If you already have spring boot running on a server 24/7 then using Spring Boot scheduler is probably an easier and cleaner solution. Just remember if you are running multiple Spring Boot servers you should configure Spring to use a database backend for the Quartz scheduler. \r\n\r\nIf you do not have a Spring Boot server running 24/7, then it&#39;s going to be cheaper to use a scheduled Lambda function or an ECS Scheduled Task.","title":"Scheduler in or outside Spring Boot","body":"<p>If you already have spring boot running on a server 24/7 then using Spring Boot scheduler is probably an easier and cleaner solution. Just remember if you are running multiple Spring Boot servers you should configure Spring to use a database backend for the Quartz scheduler.</p>\n<p>If you do not have a Spring Boot server running 24/7, then it's going to be cheaper to use a scheduled Lambda function or an ECS Scheduled Task.</p>\n"}],"owner":{"account_id":18736751,"reputation":27,"user_id":13660931,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1678567434,"creation_date":1678549693,"question_id":75706082,"body_markdown":"We need to create simple email schedule process that run every day at 6AM. We have two choice:\r\n\r\n1. Setup a scheduler in AWS Lambda that basically trigger event which run the job. High maintenance.\r\n2. Setup scheduler task within Spring Boot using a cron expression. Low maintenance.\r\n\r\nWhich option is better and preferred. I personally prefer #2.\r\n\r\nDesign a schedule task","title":"Scheduler in or outside Spring Boot","body":"<p>We need to create simple email schedule process that run every day at 6AM. We have two choice:</p>\n<ol>\n<li>Setup a scheduler in AWS Lambda that basically trigger event which run the job. High maintenance.</li>\n<li>Setup scheduler task within Spring Boot using a cron expression. Low maintenance.</li>\n</ol>\n<p>Which option is better and preferred. I personally prefer #2.</p>\n<p>Design a schedule task</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4600987,"reputation":955,"user_id":3731747,"display_name":"Max"},"score":1,"creation_date":1500449921,"post_id":45183875,"comment_id":77335712,"body_markdown":"Can you please add request, that returns 404","body":"Can you please add request, that returns 404"},{"owner":{"account_id":8176101,"reputation":614,"user_id":6154775,"display_name":"Mayank"},"score":0,"creation_date":1500450003,"post_id":45183875,"comment_id":77335765,"body_markdown":"@Max By request you mean?","body":"@Max By request you mean?"},{"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"score":1,"creation_date":1500450093,"post_id":45183875,"comment_id":77335822,"body_markdown":"The url you are using to access your controller&#39;s methods?","body":"The url you are using to access your controller&#39;s methods?"},{"owner":{"account_id":8176101,"reputation":614,"user_id":6154775,"display_name":"Mayank"},"score":0,"creation_date":1500450152,"post_id":45183875,"comment_id":77335865,"body_markdown":"@Max localhost:8211/hello","body":"@Max localhost:8211/hello"},{"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"score":1,"creation_date":1500450205,"post_id":45183875,"comment_id":77335909,"body_markdown":"and your application.properties file? did you defined any contextpath? or check the port address","body":"and your application.properties file? did you defined any contextpath? or check the port address"},{"owner":{"account_id":8652805,"reputation":1100,"user_id":6477936,"accept_rate":9,"display_name":"Amit Gujarathi"},"score":0,"creation_date":1500450261,"post_id":45183875,"comment_id":77335939,"body_markdown":"Use GetMapping instead of RequestMapping its more specific","body":"Use GetMapping instead of RequestMapping its more specific"},{"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"score":0,"creation_date":1500450327,"post_id":45183875,"comment_id":77335981,"body_markdown":"@AmitGujarathi I think it doesn&#39;t matter here. if you are using RequestMapping, then it can be called by both GET &amp; POST methods.","body":"@AmitGujarathi I think it doesn&#39;t matter here. if you are using RequestMapping, then it can be called by both GET &amp; POST methods."},{"owner":{"account_id":8176101,"reputation":614,"user_id":6154775,"display_name":"Mayank"},"score":0,"creation_date":1500450405,"post_id":45183875,"comment_id":77336047,"body_markdown":"@Afridi in my application.properties there is only server.port, I added coz my 8080 was busy, I think this doesnt have anything to do with problem","body":"@Afridi in my application.properties there is only server.port, I added coz my 8080 was busy, I think this doesnt have anything to do with problem"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1500464582,"post_id":45183875,"comment_id":77345959,"body_markdown":"Please read [Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?](//meta.stackoverflow.com/q/326569) - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions.","body":"Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."},{"owner":{"account_id":8176101,"reputation":614,"user_id":6154775,"display_name":"Mayank"},"score":0,"creation_date":1500464674,"post_id":45183875,"comment_id":77346038,"body_markdown":"@halfer I will keep that in mind. Thanks","body":"@halfer I will keep that in mind. Thanks"},{"owner":{"account_id":15869411,"reputation":1,"user_id":11450569,"display_name":"Ruchi Jha"},"score":0,"creation_date":1557286140,"post_id":45183875,"comment_id":98709210,"body_markdown":"I have this same issue. Please check my code here. https://stackoverflow.com/questions/56015351/controller-not-getting-mapped","body":"I have this same issue. Please check my code here. <a href=\"https://stackoverflow.com/questions/56015351/controller-not-getting-mapped\" title=\"controller not getting mapped\">stackoverflow.com/questions/56015351/&hellip;</a>"},{"owner":{"account_id":15869411,"reputation":1,"user_id":11450569,"display_name":"Ruchi Jha"},"score":0,"creation_date":1557286268,"post_id":45183875,"comment_id":98709241,"body_markdown":"Same problem. Help\nhttps://stackoverflow.com/questions/56015351/controller-not-getting-mapped","body":"Same problem. Help <a href=\"https://stackoverflow.com/questions/56015351/controller-not-getting-mapped\" title=\"controller not getting mapped\">stackoverflow.com/questions/56015351/&hellip;</a>"},{"owner":{"account_id":411020,"reputation":209,"user_id":1861103,"display_name":"Danilo Caetano"},"score":0,"creation_date":1564411832,"post_id":45183875,"comment_id":101012189,"body_markdown":"I had put on the root and worked. If I would use a customized location, should I @Component?","body":"I had put on the root and worked. If I would use a customized location, should I @Component?"},{"owner":{"account_id":7104898,"reputation":141,"user_id":5434880,"accept_rate":80,"display_name":"piepi"},"score":0,"creation_date":1625091515,"post_id":45183875,"comment_id":120538748,"body_markdown":"For lost google souls, `@RestController` is for API responses like JSON/XML while `@Controller` will lokk for that particular view.","body":"For lost google souls, <code>@RestController</code> is for API responses like JSON/XML while <code>@Controller</code> will lokk for that particular view."}],"answers":[{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500450107,"creation_date":1500450107,"answer_id":45184016,"question_id":45183875,"body_markdown":"It depends on a couple of properties:\r\n\r\n- `server.contextPath` property in application properties. If it&#39;s set to any value then you need to append that in your request url. If there is no such property then add this line in application.properties `server.contextPath=/`\r\n- `method` property in `@RequestMapping`, there does not seem to be any value and hence, as per [documentation][1], it should map to all the methods. However, if you want it to listen to any particular method then you can set it to let&#39;s say `method = HttpMethod.GET`\r\n\r\n\r\n  [1]: http://www.baeldung.com/spring-requestmapping","title":"Spring Boot Controller not mapping","body":"<p>It depends on a couple of properties:</p>\n\n<ul>\n<li><code>server.contextPath</code> property in application properties. If it's set to any value then you need to append that in your request url. If there is no such property then add this line in application.properties <code>server.contextPath=/</code></li>\n<li><code>method</code> property in <code>@RequestMapping</code>, there does not seem to be any value and hence, as per <a href=\"http://www.baeldung.com/spring-requestmapping\" rel=\"nofollow noreferrer\">documentation</a>, it should map to all the methods. However, if you want it to listen to any particular method then you can set it to let's say <code>method = HttpMethod.GET</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8176101,"reputation":614,"user_id":6154775,"display_name":"Mayank"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500462813,"creation_date":1500456691,"answer_id":45186479,"question_id":45183875,"body_markdown":"I found the answer to this. This was occurring because of security configuration which is updated in newer versions of Spring Framework. So i just changed my version from 1.5.4 to 1.3.2","title":"Spring Boot Controller not mapping","body":"<p>I found the answer to this. This was occurring because of security configuration which is updated in newer versions of Spring Framework. So i just changed my version from 1.5.4 to 1.3.2</p>\n"},{"tags":[],"owner":{"account_id":2293099,"reputation":1780,"user_id":2015311,"accept_rate":75,"display_name":"iamharish15"},"down_vote_count":0,"up_vote_count":110,"is_accepted":true,"score":110,"last_activity_date":1520247943,"creation_date":1510655481,"answer_id":47283396,"question_id":45183875,"body_markdown":"I too had the similar issue and was able to finally resolve it by correcting the source package structure following [this][1]\r\n\r\nYour Controller classes are not scanned by the Component scanning. Your Controller classes must be nested below in package hierarchy to the main SpringApplication class having the main() method, then only it will be scanned and you should also see the RequestMappings listed in the console output while Spring Boot is getting started.\r\n\r\nTested on Spring Boot 1.5.8.RELEASE\r\n\r\nBut in case you prefer to use your own packaging structure, you can always use the `@ComponentScan` annotation to define your `basePackages` to scan.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-structuring-your-code.html","title":"Spring Boot Controller not mapping","body":"<p>I too had the similar issue and was able to finally resolve it by correcting the source package structure following <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-structuring-your-code.html\" rel=\"noreferrer\">this</a></p>\n\n<p>Your Controller classes are not scanned by the Component scanning. Your Controller classes must be nested below in package hierarchy to the main SpringApplication class having the main() method, then only it will be scanned and you should also see the RequestMappings listed in the console output while Spring Boot is getting started.</p>\n\n<p>Tested on Spring Boot 1.5.8.RELEASE</p>\n\n<p>But in case you prefer to use your own packaging structure, you can always use the <code>@ComponentScan</code> annotation to define your <code>basePackages</code> to scan.</p>\n"},{"tags":[],"owner":{"account_id":1170358,"reputation":1820,"user_id":1147684,"accept_rate":50,"display_name":"ptrk"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1527856733,"creation_date":1527856733,"answer_id":50643639,"question_id":45183875,"body_markdown":"In my case, it was missing the dependency from pom.xml, otherwise everything compiled just fine. The 404 and missing mappings info from Spring logs were the only hints.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"Spring Boot Controller not mapping","body":"<p>In my case, it was missing the dependency from pom.xml, otherwise everything compiled just fine. The 404 and missing mappings info from Spring logs were the only hints.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8637072,"reputation":3311,"user_id":8112217,"accept_rate":91,"display_name":"tsarenkotxt"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1533226721,"creation_date":1533226721,"answer_id":51658190,"question_id":45183875,"body_markdown":"Because of `DemoApplication.class` and `HelloController.class` in the same package       \r\nLocate your main application class in a root package above other classes    \r\nTake look at Spring Boot documentation [Locating the Main Application Class][1]\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-structuring-your-code.html#using-boot-locating-the-main-class\r\n\r\n&gt; Using a root package also allows component scan to apply only on your\r\n&gt; project.\r\n\r\nFor example, in your case it looks like below:\r\n\r\n`com.webservice.demo.DemoApplication`  \r\n`com.webservice.demo.controller.HelloController`   \r\n\r\n    ","title":"Spring Boot Controller not mapping","body":"<p>Because of <code>DemoApplication.class</code> and <code>HelloController.class</code> in the same package<br>\nLocate your main application class in a root package above other classes<br>\nTake look at Spring Boot documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-structuring-your-code.html#using-boot-locating-the-main-class\" rel=\"noreferrer\">Locating the Main Application Class</a></p>\n\n<blockquote>\n  <p>Using a root package also allows component scan to apply only on your\n  project.</p>\n</blockquote>\n\n<p>For example, in your case it looks like below:</p>\n\n<p><code>com.webservice.demo.DemoApplication</code><br>\n<code>com.webservice.demo.controller.HelloController</code>   </p>\n"},{"tags":[],"owner":{"account_id":6957691,"reputation":313,"user_id":5338234,"display_name":"Chinmay Biswal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555345103,"creation_date":1555345103,"answer_id":55693394,"question_id":45183875,"body_markdown":"In my opinion, this visibility problem comes when we leave the component scan to Spring which has a particular way of looking for the classes using standard convention. \r\nIn this scenario as the Starter class(DemoApplication)is in com.webservice.demo package, putting Controller one level below will help Spring to find the classes using the default component scan mechanism. Putting HelloController under com.webservice.demo.controller should solve the issue.","title":"Spring Boot Controller not mapping","body":"<p>In my opinion, this visibility problem comes when we leave the component scan to Spring which has a particular way of looking for the classes using standard convention. \nIn this scenario as the Starter class(DemoApplication)is in com.webservice.demo package, putting Controller one level below will help Spring to find the classes using the default component scan mechanism. Putting HelloController under com.webservice.demo.controller should solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":1373030,"reputation":1153,"user_id":1307586,"display_name":"volkovs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572530947,"creation_date":1572530947,"answer_id":58645139,"question_id":45183875,"body_markdown":"In my case I used wrong port for test request - Tomcat was started with several ones exposed (including one for monitoring /actuator).","title":"Spring Boot Controller not mapping","body":"<p>In my case I used wrong port for test request - Tomcat was started with several ones exposed (including one for monitoring /actuator).</p>\n"},{"tags":[],"owner":{"account_id":16639053,"reputation":51,"user_id":12025058,"display_name":"Jayesh Patel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581063012,"creation_date":1581061646,"answer_id":60109134,"question_id":45183875,"body_markdown":"I also had trouble with a similar issue and resolved it using the correct package structure as per below. After correction, it is working properly.\r\ne.g.\r\n\r\n- Spring Application Main Class is in package com.example\r\n- Controller Classes are in package com.example.controller","title":"Spring Boot Controller not mapping","body":"<p>I also had trouble with a similar issue and resolved it using the correct package structure as per below. After correction, it is working properly.\ne.g.</p>\n\n<ul>\n<li>Spring Application Main Class is in package com.example</li>\n<li>Controller Classes are in package com.example.controller</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17884775,"reputation":43,"user_id":12992721,"display_name":"Gaurav Gupta"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1585574241,"creation_date":1585574241,"answer_id":60931403,"question_id":45183875,"body_markdown":"Adding @ComponentScan(com.webservice) in main class above @SpringBootApplication will resolve your problem. Refer below code\r\n\r\n    package com.webservice.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @ComponentScan(com.webservice)\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    }","title":"Spring Boot Controller not mapping","body":"<p>Adding @ComponentScan(com.webservice) in main class above @SpringBootApplication will resolve your problem. Refer below code</p>\n\n<pre><code>package com.webservice.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@ComponentScan(com.webservice)\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1617737234,"creation_date":1617737234,"answer_id":66975285,"question_id":45183875,"body_markdown":"In my case, I was using &lt;code&gt;@Controller&lt;/code&gt; instead of &lt;code&gt;@RestController&lt;/code&gt; with &lt;code&gt;@RequestMapping&lt;/code&gt;","title":"Spring Boot Controller not mapping","body":"<p>In my case, I was using <code>@Controller</code> instead of <code>@RestController</code> with <code>@RequestMapping</code></p>\n"},{"tags":[],"owner":{"account_id":15785649,"reputation":1,"user_id":11390518,"display_name":"Areeba Fatima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634751264,"creation_date":1634751264,"answer_id":69650631,"question_id":45183875,"body_markdown":"In my case I changed the package of configuration file. Moved it back to the original com.example.demo package and things started working.","title":"Spring Boot Controller not mapping","body":"<p>In my case I changed the package of configuration file. Moved it back to the original com.example.demo package and things started working.</p>\n"},{"tags":[],"owner":{"account_id":74192,"reputation":280,"user_id":213285,"display_name":"PunchyRascal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655479270,"creation_date":1655479270,"answer_id":72661557,"question_id":45183875,"body_markdown":"Another case might be that you accidentally put a Java class in a Kotlin sources directory as I did.\r\n\r\nWrong:\r\n\r\n    src/main\r\n    ┕ kotlin       ← this is wrong for Java\r\n      ┕ com\r\n        ┕ example\r\n            ┕ web\r\n              ┕ Controller.class\r\n\r\nCorrect:\r\n\r\n    src/main\r\n    ┕ java          ← changed &#39;kotlin&#39; to &#39;java&#39;\r\n      ┕ com\r\n        ┕ example\r\n            ┕ web\r\n              ┕ Controller.class\r\n\r\n Because when in Kotlin sources directory, Java class won&#39;t get picked up.","title":"Spring Boot Controller not mapping","body":"<p>Another case might be that you accidentally put a Java class in a Kotlin sources directory as I did.</p>\n<p>Wrong:</p>\n<pre><code>src/main\n┕ kotlin       ← this is wrong for Java\n  ┕ com\n    ┕ example\n        ┕ web\n          ┕ Controller.class\n</code></pre>\n<p>Correct:</p>\n<pre><code>src/main\n┕ java          ← changed 'kotlin' to 'java'\n  ┕ com\n    ┕ example\n        ┕ web\n          ┕ Controller.class\n</code></pre>\n<p>Because when in Kotlin sources directory, Java class won't get picked up.</p>\n"},{"tags":[],"owner":{"account_id":3190366,"reputation":760,"user_id":2694792,"display_name":"Meet Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660238477,"creation_date":1660238477,"answer_id":73324648,"question_id":45183875,"body_markdown":"All other packages should be an extension of parent package then only spring boot app will scan them by default. \r\n\r\nOther option will be to use `@ComponentScan(com.webservice)`\r\n\r\n[package structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XzerW.png","title":"Spring Boot Controller not mapping","body":"<p>All other packages should be an extension of parent package then only spring boot app will scan them by default.</p>\n<p>Other option will be to use <code>@ComponentScan(com.webservice)</code></p>\n<p><a href=\"https://i.stack.imgur.com/XzerW.png\" rel=\"nofollow noreferrer\">package structure</a></p>\n"},{"tags":[],"owner":{"account_id":18688130,"reputation":14,"user_id":14892707,"display_name":"ytatichno"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670068430,"creation_date":1670068430,"answer_id":74666479,"question_id":45183875,"body_markdown":"&#128075; I set up `&#127811;Spring Boot Security` in Maven deps. And it automatically **deny access to unlogged users** also for login page if you haven&#39;t change rules for it.\r\nSo I prefered my own security system and deleted this dependency.&#129299;\r\n \r\nIf you want to use Spring Security. You can wrote WebSecurityConfig like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .csrf()\r\n                        .disable()\r\n                    .authorizeRequests()\r\n                        //Доступ только для не зарегистрированных пользователей\r\n                        .antMatchers(&quot;/registration&quot;).not().fullyAuthenticated()\r\n                        //Доступ только для пользователей с ролью Администратор\r\n                        .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .antMatchers(&quot;/news&quot;).hasRole(&quot;USER&quot;)\r\n                        //Доступ разрешен всем пользователей\r\n                        .antMatchers(&quot;/&quot;, &quot;/resources/**&quot;).permitAll()\r\n                    //Все остальные страницы требуют аутентификации\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                        //Настройка для входа в систему\r\n                        .formLogin()\r\n                        .loginPage(&quot;/login&quot;)\r\n                        //Перенарпавление на главную страницу после успешного входа\r\n                        .defaultSuccessUrl(&quot;/&quot;)\r\n                        .permitAll()\r\n                    .and()\r\n                        .logout()\r\n                        .permitAll()\r\n                        .logoutSuccessUrl(&quot;/&quot;);\r\n        }\r\n    \r\n        @Autowired\r\n        protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder());\r\n        }\r\n    }\r\nfrom [https://habr.com/ru/post/482552/] (in russian)\r\n","title":"Spring Boot Controller not mapping","body":"<p>👋 I set up <code>🍃Spring Boot Security</code> in Maven deps. And it automatically <strong>deny access to unlogged users</strong> also for login page if you haven't change rules for it.\nSo I prefered my own security system and deleted this dependency.🤓</p>\n<p>If you want to use Spring Security. You can wrote WebSecurityConfig like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    UserService userService;\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf()\n                    .disable()\n                .authorizeRequests()\n                    //Доступ только для не зарегистрированных пользователей\n                    .antMatchers(&quot;/registration&quot;).not().fullyAuthenticated()\n                    //Доступ только для пользователей с ролью Администратор\n                    .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                    .antMatchers(&quot;/news&quot;).hasRole(&quot;USER&quot;)\n                    //Доступ разрешен всем пользователей\n                    .antMatchers(&quot;/&quot;, &quot;/resources/**&quot;).permitAll()\n                //Все остальные страницы требуют аутентификации\n                .anyRequest().authenticated()\n                .and()\n                    //Настройка для входа в систему\n                    .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    //Перенарпавление на главную страницу после успешного входа\n                    .defaultSuccessUrl(&quot;/&quot;)\n                    .permitAll()\n                .and()\n                    .logout()\n                    .permitAll()\n                    .logoutSuccessUrl(&quot;/&quot;);\n    }\n\n    @Autowired\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder());\n    }\n}\n</code></pre>\n<p>from [https://habr.com/ru/post/482552/] (in russian)</p>\n"}],"owner":{"account_id":8176101,"reputation":614,"user_id":6154775,"display_name":"Mayank"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100854,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"accepted_answer_id":47283396,"answer_count":14,"score":52,"last_activity_date":1678567112,"creation_date":1500449756,"question_id":45183875,"body_markdown":"I have used STS and now I am using IntelliJ Ultimate Edition but I am still getting the same output. My controller is not getting mapped thus showing 404 error. I am completely new to Spring Framework.\r\n\r\nDemoApplication.java\r\n\r\n    package com.webservice.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nHelloController.java\r\n\r\n    package com.webservice.demo;\r\n    \r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n    \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public String sayHello(){\r\n            return &quot;Hey&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nConsole Output\r\n\r\n    com.webservice.demo.DemoApplication      : Starting DemoApplication on XFT000159365001 with PID 11708 (started by Mayank Khursija in C:\\Users\\Mayank Khursija\\IdeaProjects\\demo)\r\n        2017-07-19 12:59:46.150  INFO 11708 --- [           main] com.webservice.demo.DemoApplication      : No active profile set, falling back to default profiles: default\r\n        2017-07-19 12:59:46.218  INFO 11708 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@238e3f: startup date [Wed Jul 19 12:59:46 IST 2017]; root of context hierarchy\r\n        2017-07-19 12:59:47.821  INFO 11708 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8211 (http)\r\n        2017-07-19 12:59:47.832  INFO 11708 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n        2017-07-19 12:59:47.832  INFO 11708 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15\r\n        2017-07-19 12:59:47.944  INFO 11708 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n        2017-07-19 12:59:47.944  INFO 11708 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1728 ms\r\n        2017-07-19 12:59:47.987  INFO 11708 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n        2017-07-19 12:59:48.510  INFO 11708 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n        2017-07-19 12:59:48.519  INFO 11708 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0\r\n        2017-07-19 12:59:48.634  INFO 11708 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8211 (http)\r\n        2017-07-19 12:59:48.638  INFO 11708 --- [           main] com.webservice.demo.DemoApplication      : Started DemoApplication in 2.869 seconds (JVM running for 3.44)\r\n\r\n\r\n","title":"Spring Boot Controller not mapping","body":"<p>I have used STS and now I am using IntelliJ Ultimate Edition but I am still getting the same output. My controller is not getting mapped thus showing 404 error. I am completely new to Spring Framework.</p>\n\n<p>DemoApplication.java</p>\n\n<pre><code>package com.webservice.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>HelloController.java</p>\n\n<pre><code>package com.webservice.demo;\n\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n    @RequestMapping(\"/hello\")\n    public String sayHello(){\n        return \"Hey\";\n    }\n\n}\n</code></pre>\n\n<p>Console Output</p>\n\n<pre><code>com.webservice.demo.DemoApplication      : Starting DemoApplication on XFT000159365001 with PID 11708 (started by Mayank Khursija in C:\\Users\\Mayank Khursija\\IdeaProjects\\demo)\n    2017-07-19 12:59:46.150  INFO 11708 --- [           main] com.webservice.demo.DemoApplication      : No active profile set, falling back to default profiles: default\n    2017-07-19 12:59:46.218  INFO 11708 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@238e3f: startup date [Wed Jul 19 12:59:46 IST 2017]; root of context hierarchy\n    2017-07-19 12:59:47.821  INFO 11708 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8211 (http)\n    2017-07-19 12:59:47.832  INFO 11708 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n    2017-07-19 12:59:47.832  INFO 11708 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15\n    2017-07-19 12:59:47.944  INFO 11708 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2017-07-19 12:59:47.944  INFO 11708 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1728 ms\n    2017-07-19 12:59:47.987  INFO 11708 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n    2017-07-19 12:59:48.510  INFO 11708 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n    2017-07-19 12:59:48.519  INFO 11708 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0\n    2017-07-19 12:59:48.634  INFO 11708 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8211 (http)\n    2017-07-19 12:59:48.638  INFO 11708 --- [           main] com.webservice.demo.DemoApplication      : Started DemoApplication in 2.869 seconds (JVM running for 3.44)\n</code></pre>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":1,"creation_date":1678477478,"post_id":75700365,"comment_id":133546654,"body_markdown":"Your code works fine on my machine. Could you please include the full stack trace?","body":"Your code works fine on my machine. Could you please include the full stack trace?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678477860,"post_id":75700365,"comment_id":133546741,"body_markdown":"@Refik you&#39;ve redirected something to serve as standard in for your app, and that &#39;thing&#39; ends before 3 numbers show up, or, you didn&#39;t redirect but pressed CTRL+D or otherwise closed standard in. For example, you ran this with `nohup`, or `java MyApp &lt;someEmptyOrNonExistingFile.txt`, that sort of thing.","body":"@Refik you&#39;ve redirected something to serve as standard in for your app, and that &#39;thing&#39; ends before 3 numbers show up, or, you didn&#39;t redirect but pressed CTRL+D or otherwise closed standard in. For example, you ran this with <code>nohup</code>, or <code>java MyApp &lt;someEmptyOrNonExistingFile.txt</code>, that sort of thing."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1678478466,"post_id":75700365,"comment_id":133546851,"body_markdown":"&quot;java.util.NoSuchElementException&quot; doesn&#39;t mean that &quot;Java IDE doesn&#39;t recognize Scanner&quot;. It means that Scanner *couldn&#39;t* properly read data it was asked to read. More info about reason why it happen should be in stacktrace of thrown exception. Anyway some online IDEs don&#39;t support System.in, so it is no surprise that you ware not able to use this code there.","body":"&quot;java.util.NoSuchElementException&quot; doesn&#39;t mean that &quot;Java IDE doesn&#39;t recognize Scanner&quot;. It means that Scanner <i>couldn&#39;t</i> properly read data it was asked to read. More info about reason why it happen should be in stacktrace of thrown exception. Anyway some online IDEs don&#39;t support System.in, so it is no surprise that you ware not able to use this code there."},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1678478980,"post_id":75700365,"comment_id":133546973,"body_markdown":"Input the first number: \nException in thread &quot;main&quot; java.util.NoSuchElementException\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n\tat Main.main(Main.java:8)","body":"Input the first number:  Exception in thread &quot;main&quot; java.util.NoSuchElementException \tat java.base/java.util.Scanner.throwFor(Scanner.java:937) \tat java.base/java.util.Scanner.next(Scanner.java:1594) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212) \tat Main.main(Main.java:8)"},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1678478990,"post_id":75700365,"comment_id":133546976,"body_markdown":"This is the full trace.","body":"This is the full trace."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1678479425,"post_id":75700365,"comment_id":133547075,"body_markdown":"It looks like the case when `System.in` is already closed (or IDE sees it as such/can&#39;t handle it properly). Like it was said in earlier comments your code works fine (in *proper* environment - I tested it on IntelliJ, Eclipse and even console, got no problems there).","body":"It looks like the case when <code>System.in</code> is already closed (or IDE sees it as such/can&#39;t handle it properly). Like it was said in earlier comments your code works fine (in <i>proper</i> environment - I tested it on IntelliJ, Eclipse and even console, got no problems there)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1678479561,"post_id":75700365,"comment_id":133547104,"body_markdown":"Also works on https://ideone.com/46Eu8a (notice that there is separate section for user input in which I put 1 2 3 so sum is 6)","body":"Also works on <a href=\"https://ideone.com/46Eu8a\" rel=\"nofollow noreferrer\">ideone.com/46Eu8a</a> (notice that there is separate section for user input in which I put 1 2 3 so sum is 6)"},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1678483841,"post_id":75700365,"comment_id":133548102,"body_markdown":"Thanks for all answers, in Eclipse it worked. I can&#39;t understand the problem though.","body":"Thanks for all answers, in Eclipse it worked. I can&#39;t understand the problem though."}],"answers":[{"tags":[],"owner":{"account_id":27710606,"reputation":51,"user_id":21153396,"display_name":"Khang Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678482005,"creation_date":1678482005,"answer_id":75700968,"question_id":75700365,"body_markdown":"There doesn&#39;t seem to be an issue with the code that would cause this issue. java.util.NoSuchElementException is thrown by various accessor methods such as Iterator, or Scanner to indicate that the element being requested does not exist. This is strange that you are receiving this error message as I have tried and tested your code and it works. It could be a bug with your IDE that you could try to reinstall to fix.\r\n","title":"Java IDE doesn&#39;t recognize Scanner","body":"<p>There doesn't seem to be an issue with the code that would cause this issue. java.util.NoSuchElementException is thrown by various accessor methods such as Iterator, or Scanner to indicate that the element being requested does not exist. This is strange that you are receiving this error message as I have tried and tested your code and it works. It could be a bug with your IDE that you could try to reinstall to fix.</p>\n"}],"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678566926,"creation_date":1678477173,"question_id":75700365,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) \r\n  {\r\n    Scanner input = new Scanner (System.in);\r\n    System.out.print(&quot;Input the first number: &quot;);\r\n    int num1 = input.nextInt();\r\n    System.out.print(&quot;Input the second number: &quot;);\r\n    int num2 = input.nextInt();\r\n    System.out.print(&quot;Input the third number: &quot;);\r\n    int num3 = input.nextInt();\r\n    int sum = num1 + num2 + num3;\r\n    System.out.println();\r\n    System.out.println(&quot;Sum: &quot;+sum);\r\n  }\r\n}\r\n```\r\nI am trying to run this code in both an online IDE and Visual Studio. But they&#39;re giving me this error report:\r\n&gt;Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n\r\nCan you tell me why this is not working?","title":"Java IDE doesn&#39;t recognize Scanner","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n  public static void main(String[] args) \n  {\n    Scanner input = new Scanner (System.in);\n    System.out.print(&quot;Input the first number: &quot;);\n    int num1 = input.nextInt();\n    System.out.print(&quot;Input the second number: &quot;);\n    int num2 = input.nextInt();\n    System.out.print(&quot;Input the third number: &quot;);\n    int num3 = input.nextInt();\n    int sum = num1 + num2 + num3;\n    System.out.println();\n    System.out.println(&quot;Sum: &quot;+sum);\n  }\n}\n</code></pre>\n<p>I am trying to run this code in both an online IDE and Visual Studio. But they're giving me this error report:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.util.NoSuchElementException</p>\n</blockquote>\n<p>Can you tell me why this is not working?</p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678566434,"creation_date":1678566434,"answer_id":75709324,"question_id":75702373,"body_markdown":"This is not possible; Gson [does not allow](https://github.com/google/gson/blob/1da826dc6c8eb85ad9ed97e120823428fe1236f4/gson/src/main/java/com/google/gson/Gson.java#L283-L285) overwriting the default type adapter factory for `Object`.\r\n\r\nThere are probably the following alternatives:\r\n- Manually process the `Map` after it was deserilized with Gson and convert the values\r\n- Have a model class with `Object` as field type (if directly specifying `Date` is not possible for some reason), and then place a [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html) annotation on the field specifying your custom adapter factory\r\n- Specify one of the general purpose interfaces implemented by `Date` (`Serializable`, `Cloneable` or `Comparable`) as value type of the map, e.g. `Map&lt;String, Serializable&gt;`, and then register a type adapter factory for that interface.\r\nThis is possibly not a very clean solution and of course only works if the other deserialized values of the map implement that interface as well.\r\n- Register a custom type adapter factory for `Map` which performs conversion of the values\r\n","title":"How can GSON be configured to recognize ISO date fields as parse them as Date objects?","body":"<p>This is not possible; Gson <a href=\"https://github.com/google/gson/blob/1da826dc6c8eb85ad9ed97e120823428fe1236f4/gson/src/main/java/com/google/gson/Gson.java#L283-L285\" rel=\"nofollow noreferrer\">does not allow</a> overwriting the default type adapter factory for <code>Object</code>.</p>\n<p>There are probably the following alternatives:</p>\n<ul>\n<li>Manually process the <code>Map</code> after it was deserilized with Gson and convert the values</li>\n<li>Have a model class with <code>Object</code> as field type (if directly specifying <code>Date</code> is not possible for some reason), and then place a <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a> annotation on the field specifying your custom adapter factory</li>\n<li>Specify one of the general purpose interfaces implemented by <code>Date</code> (<code>Serializable</code>, <code>Cloneable</code> or <code>Comparable</code>) as value type of the map, e.g. <code>Map&lt;String, Serializable&gt;</code>, and then register a type adapter factory for that interface.\nThis is possibly not a very clean solution and of course only works if the other deserialized values of the map implement that interface as well.</li>\n<li>Register a custom type adapter factory for <code>Map</code> which performs conversion of the values</li>\n</ul>\n"}],"owner":{"account_id":1130933,"reputation":322,"user_id":1117003,"accept_rate":80,"display_name":"Emmanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75709324,"answer_count":1,"score":0,"last_activity_date":1678566434,"creation_date":1678500369,"question_id":75702373,"body_markdown":"This code:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;now&quot;, new Date());\r\n    \r\n    Gson gson = new GsonBuilder()\r\n            .setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n            .create();\r\n    String json = gson.toJson(map);\r\n    System.out.println(json);\r\n\r\nproduces something like `{&quot;now&quot;:&quot;2023-03-11T12:34:56.789Z&quot;}`\r\n\r\nContrarily, undoing the action like this:\r\n\r\n```\r\nMap&lt;String, Object&gt; map = gson.fromJson(json, new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType());\r\n```\r\nfails to produce the input data - instead giving output like `{&quot;now&quot;:&quot;2023-03-11T12:34:56.789Z&quot;}`.\r\n\r\nThe date string stays a string instead of being converted back to a `Date` object.\r\n\r\nHow may the string be parsed back into a `Map` so that GSON **recognises** the date string and parses it back to a `Date` object.\r\n\r\nThe regex pattern `&quot;\\\\d{1,4}-\\\\d{2}-\\\\d{2}T\\\\d{2}\\\\:\\\\d{2}\\\\:\\\\d{2}\\\\.\\\\d{3}Z&quot;` roughly correlates to the date pattern.\r\n\r\nBasically, I need to tell GSON by configuration:\r\nIf the string matches regex part (DATE_PATTERN) deserialize it as a date.\r\n\r\n*Note: I am aware that deserializing to a class with date field would work properly since the field type gives GSON a hint. I need GSON to determine the target type simply based on the format of the string.*","title":"How can GSON be configured to recognize ISO date fields as parse them as Date objects?","body":"<p>This code:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;now&quot;, new Date());\n\nGson gson = new GsonBuilder()\n        .setDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)\n        .create();\nString json = gson.toJson(map);\nSystem.out.println(json);\n</code></pre>\n<p>produces something like <code>{&quot;now&quot;:&quot;2023-03-11T12:34:56.789Z&quot;}</code></p>\n<p>Contrarily, undoing the action like this:</p>\n<pre><code>Map&lt;String, Object&gt; map = gson.fromJson(json, new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType());\n</code></pre>\n<p>fails to produce the input data - instead giving output like <code>{&quot;now&quot;:&quot;2023-03-11T12:34:56.789Z&quot;}</code>.</p>\n<p>The date string stays a string instead of being converted back to a <code>Date</code> object.</p>\n<p>How may the string be parsed back into a <code>Map</code> so that GSON <strong>recognises</strong> the date string and parses it back to a <code>Date</code> object.</p>\n<p>The regex pattern <code>&quot;\\\\d{1,4}-\\\\d{2}-\\\\d{2}T\\\\d{2}\\\\:\\\\d{2}\\\\:\\\\d{2}\\\\.\\\\d{3}Z&quot;</code> roughly correlates to the date pattern.</p>\n<p>Basically, I need to tell GSON by configuration:\nIf the string matches regex part (DATE_PATTERN) deserialize it as a date.</p>\n<p><em>Note: I am aware that deserializing to a class with date field would work properly since the field type gives GSON a hint. I need GSON to determine the target type simply based on the format of the string.</em></p>\n"},{"tags":["java","swing","user-interface","netbeans"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1678496854,"post_id":75702139,"comment_id":133549882,"body_markdown":"[Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html) - you might also want to do some research into dependency injection ... and just to head it off, `static` is NOT the solution you&#39;re looking for","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a> - you might also want to do some research into dependency injection ... and just to head it off, <code>static</code> is NOT the solution you&#39;re looking for"}],"answers":[{"tags":[],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678509131,"creation_date":1678509131,"answer_id":75702787,"question_id":75702139,"body_markdown":"To reference an instance of an object, you need to pass it somehow into IngresoUI. For example via injection in constructor of IngresoUI. \r\n \r\n\r\n    CuentaBancaria cuenta;\r\n    IngresoUI(CuentaBancaria cuenta){\r\n        this.cuenta=cuenta\r\n    }\r\n\r\nAnother method is to inject IngresoUI into RegistroUI and then pass CuentaBancaria cuenta into some method of IngresoUI. \r\n\r\n    IngresoUI ingresoUI;\r\n    RegistroUI( IngresoUI ingresoUI){\r\n        this.ingresoUI = ingresoUI;\r\n    }\r\n    void someMethodOfRegistroUI(){ //Method where you create CuentaBancaria \r\n        int nobre = 10;\r\n        CuentaBancaria cuenta = new CuentaBancaria(nombre);\r\n        ingresoUI.someMethodOfIngresoUI(cuenta);//call a method of IngresoUI\r\n        //where you need CuentaBancaria cuenta;\r\n    }\r\n\r\n \r\n\r\n","title":"how can i reference the instance of an object?","body":"<p>To reference an instance of an object, you need to pass it somehow into IngresoUI. For example via injection in constructor of IngresoUI.</p>\n<pre><code>CuentaBancaria cuenta;\nIngresoUI(CuentaBancaria cuenta){\n    this.cuenta=cuenta\n}\n</code></pre>\n<p>Another method is to inject IngresoUI into RegistroUI and then pass CuentaBancaria cuenta into some method of IngresoUI.</p>\n<pre><code>IngresoUI ingresoUI;\nRegistroUI( IngresoUI ingresoUI){\n    this.ingresoUI = ingresoUI;\n}\nvoid someMethodOfRegistroUI(){ //Method where you create CuentaBancaria \n    int nobre = 10;\n    CuentaBancaria cuenta = new CuentaBancaria(nombre);\n    ingresoUI.someMethodOfIngresoUI(cuenta);//call a method of IngresoUI\n    //where you need CuentaBancaria cuenta;\n}\n</code></pre>\n"}],"owner":{"account_id":27987513,"reputation":3,"user_id":21374034,"display_name":"Valeria Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678617395,"accepted_answer_id":75702787,"answer_count":1,"score":0,"last_activity_date":1678566365,"creation_date":1678495811,"question_id":75702139,"body_markdown":"Here&#39;s the thing i create a new instance of a class in a file then i&#39;m trying to reference that specific instance in another file.\r\n\r\nThis is the initilization of the object in RegistroUI.\r\n```js\r\nCuentaBancaria Cuenta = new CuentaBancaria(nombre);\r\n````\r\n\r\nThis is my code trying to reference that same class in IngresoUI.\r\n```js\r\ntextBienvenido.setText(&quot;BIENVENID@ USUARIO&quot; + Cuenta.getNombre());\r\n````\r\n\r\nAll of this is in the same package and written in java.\r\nPlease any idea will help :D\r\n\r\n\r\nI can&#39;t create another object because it won&#39;t have the same values for attributes and i don&#39;t need to import because is already in the same package.","title":"how can i reference the instance of an object?","body":"<p>Here's the thing i create a new instance of a class in a file then i'm trying to reference that specific instance in another file.</p>\n<p>This is the initilization of the object in RegistroUI.</p>\n<pre class=\"lang-js prettyprint-override\"><code>CuentaBancaria Cuenta = new CuentaBancaria(nombre);\n</code></pre>\n<p>This is my code trying to reference that same class in IngresoUI.</p>\n<pre class=\"lang-js prettyprint-override\"><code>textBienvenido.setText(&quot;BIENVENID@ USUARIO&quot; + Cuenta.getNombre());\n</code></pre>\n<p>All of this is in the same package and written in java.\nPlease any idea will help :D</p>\n<p>I can't create another object because it won't have the same values for attributes and i don't need to import because is already in the same package.</p>\n"},{"tags":["java","swing","jpanel","rtp","vlcj"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1678627524,"post_id":75709289,"comment_id":133566406,"body_markdown":"Why do you use startPaused on your live stream? Did you try just play() instead?","body":"Why do you use startPaused on your live stream? Did you try just play() instead?"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1678627630,"post_id":75709289,"comment_id":133566428,"body_markdown":"Also try adding &quot;-vvv&quot; to the media player factory initialisation and check the logs when you play your live feed.","body":"Also try adding &quot;-vvv&quot; to the media player factory initialisation and check the logs when you play your live feed."},{"owner":{"account_id":23383479,"reputation":1,"user_id":17449257,"display_name":"Jugador 123"},"score":0,"creation_date":1678643362,"post_id":75709289,"comment_id":133569216,"body_markdown":"@caprica idk what changed on my setup but doing `play()` with the sdp file now works, the feed is now being displayed although the latency is not that good, is there a way to disable buffering or to at least lower the amount of buffer?","body":"@caprica idk what changed on my setup but doing <code>play()</code> with the sdp file now works, the feed is now being displayed although the latency is not that good, is there a way to disable buffering or to at least lower the amount of buffer?"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1678696639,"post_id":75709289,"comment_id":133576650,"body_markdown":"https://stackoverflow.com/questions/73318693/how-to-decrease-buffer-size-in-vlcj","body":"<a href=\"https://stackoverflow.com/questions/73318693/how-to-decrease-buffer-size-in-vlcj\" title=\"how to decrease buffer size in vlcj\">stackoverflow.com/questions/73318693/&hellip;</a>"}],"owner":{"account_id":23383479,"reputation":1,"user_id":17449257,"display_name":"Jugador 123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678566187,"creation_date":1678566070,"question_id":75709289,"body_markdown":"I have a java swing app and im trying to display an rtp stream running on the same machine. I have tried using the ip adress or the sdp file with no luck.\r\n\r\n```\r\npublic class MediaPlayer {\r\n    private final EmbeddedMediaPlayer mediaPlayer;\r\n    private boolean playing;\r\n    public MediaPlayer(JPanel parent) {\r\n        new NativeDiscovery().discover();\r\n        EmbeddedMediaPlayerComponent mediaPlayerComponent = new EmbeddedMediaPlayerComponent();\r\n        this.mediaPlayer = mediaPlayerComponent.mediaPlayer();\r\n        parent.add(mediaPlayerComponent, BorderLayout.CENTER);\r\n    }\r\n    public void Play() {\r\n        this.playing = true;\r\n        this.mediaPlayer.controls().play();\r\n    }\r\n    public void Stop() {\r\n        this.playing = false;\r\n        this.mediaPlayer.controls().stop();\r\n    }\r\n\r\n    public void setMedia(String activeCam) {\r\n        String p1 = &quot;src/placeholders/fish.mp4&quot;;\r\n        String p2 = &quot;src/placeholders/rat.mp4&quot;;\r\n        String s1 = &quot;rtp://127.0.0.1:2222&quot;;\r\n        switch (activeCam) {\r\n            case &quot;Cam1&quot;:\r\n                this.mediaPlayer.media().startPaused(&quot;rtp://127.0.0.1:2222&quot;);\r\n                break;\r\n            case &quot;Cam2&quot;:\r\n                this.mediaPlayer.media().startPaused(p2);\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\nCalling `setMedia(&quot;Cam2&quot;)` and later `Play()` will display the video, but calling `setMedia(&quot;Cam1&quot;)` and `Play()` afterwards will bring only a blackscreen. I am able to open the video stream using the sdp file in vlc.\r\nThis is the command used to stream the camera \r\n`ffmpeg -hide_banner -f dshow -video_size 1920x1080 -framerate 15 -i video=&quot;Logitech BRIO&quot; -b:v 5500k  -an -f rtp rtp://localhost:2222?pkt_size=800 -sdp_file stream.sdp`\r\n\r\n\r\nIm expecting the Video feed to switch from the video and show the live stream but no luck,\r\ni have tried using the `rtp://localhost:2222`, `rtp://@:2222`, the sdp file and no luck","title":"Open RTP stream in JPanel using VlcJ","body":"<p>I have a java swing app and im trying to display an rtp stream running on the same machine. I have tried using the ip adress or the sdp file with no luck.</p>\n<pre><code>public class MediaPlayer {\n    private final EmbeddedMediaPlayer mediaPlayer;\n    private boolean playing;\n    public MediaPlayer(JPanel parent) {\n        new NativeDiscovery().discover();\n        EmbeddedMediaPlayerComponent mediaPlayerComponent = new EmbeddedMediaPlayerComponent();\n        this.mediaPlayer = mediaPlayerComponent.mediaPlayer();\n        parent.add(mediaPlayerComponent, BorderLayout.CENTER);\n    }\n    public void Play() {\n        this.playing = true;\n        this.mediaPlayer.controls().play();\n    }\n    public void Stop() {\n        this.playing = false;\n        this.mediaPlayer.controls().stop();\n    }\n\n    public void setMedia(String activeCam) {\n        String p1 = &quot;src/placeholders/fish.mp4&quot;;\n        String p2 = &quot;src/placeholders/rat.mp4&quot;;\n        String s1 = &quot;rtp://127.0.0.1:2222&quot;;\n        switch (activeCam) {\n            case &quot;Cam1&quot;:\n                this.mediaPlayer.media().startPaused(&quot;rtp://127.0.0.1:2222&quot;);\n                break;\n            case &quot;Cam2&quot;:\n                this.mediaPlayer.media().startPaused(p2);\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Calling <code>setMedia(&quot;Cam2&quot;)</code> and later <code>Play()</code> will display the video, but calling <code>setMedia(&quot;Cam1&quot;)</code> and <code>Play()</code> afterwards will bring only a blackscreen. I am able to open the video stream using the sdp file in vlc.\nThis is the command used to stream the camera\n<code>ffmpeg -hide_banner -f dshow -video_size 1920x1080 -framerate 15 -i video=&quot;Logitech BRIO&quot; -b:v 5500k  -an -f rtp rtp://localhost:2222?pkt_size=800 -sdp_file stream.sdp</code></p>\n<p>Im expecting the Video feed to switch from the video and show the live stream but no luck,\ni have tried using the <code>rtp://localhost:2222</code>, <code>rtp://@:2222</code>, the sdp file and no luck</p>\n"},{"tags":["java","android","android-recyclerview","android-animation"],"owner":{"account_id":24166330,"reputation":11,"user_id":21379900,"display_name":"Salatosik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678565821,"creation_date":1678565821,"question_id":75709278,"body_markdown":"I create an application with a chat on which I have already learned a lot, I encountered a problem - the animation of elements in `RecyclerView`. I use `ItemAnimator` to catch the moment when a new alement appears and then animate it. I succeed, at the beginning the messages are animated as it should, but after 1-2 messages the animations do not work, nor even the animations themselves, but the method itself with `ItemAnimator`.\r\n\r\nHere&#39;s the animation class:\r\n\r\n```\r\npublic class MessageAnimator extends DefaultItemAnimator {\r\n\r\n    public MessageAnimator(Context context) {\r\n        addMessageAnimation = AnimationUtils.loadAnimation(context, R.anim.message_add_animation);\r\n    }\r\n\r\n    private final Animation addMessageAnimation;\r\n\r\n    @Override\r\n    public boolean animateAdd(RecyclerView.ViewHolder holder) {\r\n        holder.itemView.startAnimation(addMessageAnimation);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nThe method used to add elements:\r\n\r\n```\r\n    public void addMessage(Message message) {\r\n        messages.add(message);\r\n        notifyItemInserted(messages.size() - 1);\r\n    }\r\n```\r\n\r\n[Here&#39;s a demo in the video view](https://youtu.be/8zO1Lbdfajs)\r\n\r\n\r\nI tried running the animation not through `ItemAnimator` but immediately in `onBindViewHolder`:\r\n\r\n```\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        Message message = messages.get(position);\r\n\r\n        switch(Message.MessageType.getById(holder.getItemViewType())) {\r\n            case USER:\r\n                if(holder instanceof UserMessageHolder) ((UserMessageHolder) holder).sendValues(message);\r\n                break;\r\n\r\n            case BOT:\r\n                if(holder instanceof BotMessageHolder) ((BotMessageHolder) holder).sendValues(message);\r\n                break;\r\n        }\r\n        \r\n        holder.itemView.startAnimation(AnimationUtils.loadAnimation(holder.itemView.getContext(), R.anim.message_add_animation));\r\n    }\r\n```\r\n\r\nIt really works, but I don&#39;t think that way is the right one.\r\n","title":"Why &quot;ItemAnimator&quot; does not work as it should, although in appearance everything seems to work","body":"<p>I create an application with a chat on which I have already learned a lot, I encountered a problem - the animation of elements in <code>RecyclerView</code>. I use <code>ItemAnimator</code> to catch the moment when a new alement appears and then animate it. I succeed, at the beginning the messages are animated as it should, but after 1-2 messages the animations do not work, nor even the animations themselves, but the method itself with <code>ItemAnimator</code>.</p>\n<p>Here's the animation class:</p>\n<pre><code>public class MessageAnimator extends DefaultItemAnimator {\n\n    public MessageAnimator(Context context) {\n        addMessageAnimation = AnimationUtils.loadAnimation(context, R.anim.message_add_animation);\n    }\n\n    private final Animation addMessageAnimation;\n\n    @Override\n    public boolean animateAdd(RecyclerView.ViewHolder holder) {\n        holder.itemView.startAnimation(addMessageAnimation);\n        return true;\n    }\n}\n</code></pre>\n<p>The method used to add elements:</p>\n<pre><code>    public void addMessage(Message message) {\n        messages.add(message);\n        notifyItemInserted(messages.size() - 1);\n    }\n</code></pre>\n<p><a href=\"https://youtu.be/8zO1Lbdfajs\" rel=\"nofollow noreferrer\">Here's a demo in the video view</a></p>\n<p>I tried running the animation not through <code>ItemAnimator</code> but immediately in <code>onBindViewHolder</code>:</p>\n<pre><code>    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        Message message = messages.get(position);\n\n        switch(Message.MessageType.getById(holder.getItemViewType())) {\n            case USER:\n                if(holder instanceof UserMessageHolder) ((UserMessageHolder) holder).sendValues(message);\n                break;\n\n            case BOT:\n                if(holder instanceof BotMessageHolder) ((BotMessageHolder) holder).sendValues(message);\n                break;\n        }\n        \n        holder.itemView.startAnimation(AnimationUtils.loadAnimation(holder.itemView.getContext(), R.anim.message_add_animation));\n    }\n</code></pre>\n<p>It really works, but I don't think that way is the right one.</p>\n"},{"tags":["java"],"owner":{"account_id":14770624,"reputation":17,"user_id":10667203,"display_name":"Homer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678565798,"creation_date":1678565798,"question_id":75709274,"body_markdown":"I have the following two classes in my implementation where the first is related to the sale, and the second to the products that are on sale, a one-to-many relationship :\r\n```\r\npackage model;\r\nimport com.sun.javafx.binding.StringFormatter;\r\nimport dao.ClienteDAO;\r\nimport dao.FormaPagamentoDAO;\r\nimport eletronicstorefx.TextFieldFormatter;\r\nimport java.io.Serializable;\r\nimport java.text.NumberFormat;\r\nimport java.text.ParseException;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.SequenceGenerator;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Temporal;\r\nimport javax.persistence.TemporalType;\r\nimport javax.persistence.Transient;\r\nimport javax.swing.text.MaskFormatter;\r\n\r\n/**\r\n *\r\n * @author Giovani\r\n */\r\n@Entity\r\n@Table(name = &quot;VENDAS_PRODUTOS&quot;)\r\npublic class VendasProdutos implements Serializable {\r\n\r\n    private int CODIGO_VENDA;\r\n    private int CLIENTE;\r\n    public Date DATA_VENDA;\r\n    private int FORMA_PAGAMENTO;\r\n    private int TAXA_VENDA;\r\n    private int PARCELAS;\r\n    private float VALOR_TOTAL;\r\n    private String USER_CADASTRO;\r\n    public Date DATA_CADASTRO;\r\n\r\n    public List&lt;VendasProdutosItens&gt; vendaProdItens = new ArrayList&lt;&gt;();\r\n    Cliente cliente = new Cliente();\r\n    Locale localBrasil = new Locale(&quot;pt&quot;, &quot;BR&quot;);\r\n\r\n    private String nomeCliente;\r\n    private String cpfCliente;\r\n    private String telefoneCliente;\r\n    private String cidadeCliente;\r\n    private String enderecoCliente;\r\n    private String numeroCliente;\r\n    private String formaPagCliente;\r\n    private String valorTotalMasc;\r\n   \r\n\r\n    public VendasProdutos(int CODIGO_VENDA, int CLIENTE, Date DATA_VENDA, int FORMA_PAGAMENTO, int TAXA_VENDA, int PARCELAS, float VALOR_TOTAL, String USER_CADASTRO, Date DATA_CADASTRO, List&lt;VendasProdutosItens&gt; vendaProdItens) {\r\n        this.CODIGO_VENDA = CODIGO_VENDA;\r\n        this.CLIENTE = CLIENTE;\r\n        this.DATA_VENDA = DATA_VENDA;\r\n        this.FORMA_PAGAMENTO = FORMA_PAGAMENTO;\r\n        this.TAXA_VENDA = TAXA_VENDA;\r\n        this.PARCELAS = PARCELAS;\r\n        this.VALOR_TOTAL = VALOR_TOTAL;\r\n        this.USER_CADASTRO = USER_CADASTRO;\r\n        this.DATA_CADASTRO = DATA_CADASTRO;\r\n        this.vendaProdItens = vendaProdItens;\r\n    }\r\n\r\n    public VendasProdutos() {\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;gen_vendas_prod_id&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;gen_vendas_prod_id&quot;, allocationSize = 1, name = &quot;gen_vendas_prod_id&quot;)\r\n    public int getCODIGO_VENDA() {\r\n        return CODIGO_VENDA;\r\n    }\r\n\r\n    public void setCODIGO_VENDA(int CODIGO_VENDA) {\r\n        this.CODIGO_VENDA = CODIGO_VENDA;\r\n    }\r\n\r\n    @Column(name = &quot;CLIENTE&quot;, nullable = false)\r\n    public int getCLIENTE(){       \r\n        return CLIENTE;\r\n    }\r\n    \r\n    public void setCLIENTE(int CLIENTE) {\r\n        this.CLIENTE = CLIENTE;\r\n    }\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;DATA_VENDA&quot;, length = 19, nullable = true)\r\n    public Date getDATA_VENDA() {\r\n        return DATA_VENDA;\r\n    }\r\n\r\n    public void setDATA_VENDA(Date DATA_VENDA) {\r\n        this.DATA_VENDA = DATA_VENDA;\r\n    }\r\n    \r\n\r\n    @Column(name = &quot;FORMA_PAGAMENTO&quot;, nullable = false)\r\n    public int getFORMA_PAGAMENTO() {\r\n        getFormaPagCliente();\r\n        return FORMA_PAGAMENTO;\r\n    }\r\n    \r\n\r\n    public void setFORMA_PAGAMENTO(int FORMA_PAGAMENTO) {\r\n        this.FORMA_PAGAMENTO = FORMA_PAGAMENTO;\r\n    }\r\n\r\n    @Column(name = &quot;TAXA_VENDA&quot;, nullable = false)\r\n    public int getTAXA_VENDA() {\r\n        return TAXA_VENDA;\r\n    }\r\n\r\n    public void setTAXA_VENDA(int TAXA_VENDA) {\r\n        this.TAXA_VENDA = TAXA_VENDA;\r\n    }\r\n\r\n    @Column(name = &quot;PARCELAS&quot;, nullable = false)\r\n    public int getPARCELAS() {\r\n        return PARCELAS;\r\n    }\r\n\r\n    public void setPARCELAS(int PARCELAS) {\r\n        this.PARCELAS = PARCELAS;\r\n    }\r\n\r\n    @Column(name = &quot;VALOR_TOTAL&quot;, nullable = false)\r\n    public float getVALOR_TOTAL() {\r\n        return VALOR_TOTAL;\r\n    }\r\n\r\n    public void setVALOR_TOTAL(float VALOR_TOTAL) {\r\n        this.VALOR_TOTAL = VALOR_TOTAL;\r\n    }\r\n\r\n    @Column(name = &quot;USER_CADASTRO&quot;, nullable = true)\r\n    public String getUSER_CADASTRO() {\r\n        return USER_CADASTRO;\r\n    }\r\n\r\n    public void setUSER_CADASTRO(String USER_CADASTRO) {\r\n        this.USER_CADASTRO = USER_CADASTRO;\r\n    }\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;DATA_CADASTRO&quot;, length = 19, nullable = true)\r\n    public Date getDATA_CADASTRO() {\r\n        return DATA_CADASTRO;\r\n    }\r\n\r\n    public void setDATA_CADASTRO(Date DATA_CADASTRO) {\r\n        this.DATA_CADASTRO = DATA_CADASTRO;\r\n    }\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;vendasProdutos&quot;)\r\n    public List&lt;VendasProdutosItens&gt; getVendaProdItens() {\r\n        return vendaProdItens;\r\n    }\r\n\r\n    public void setVendaProdItens(List&lt;VendasProdutosItens&gt; vendaProdItens) {\r\n        this.vendaProdItens = vendaProdItens;\r\n    }\r\n\r\n    @Transient\r\n    public String getNomeCliente() {\r\n        //Cliente \r\n                cliente = ClienteDAO.getClienteCod(this.CLIENTE);\r\n        nomeCliente = cliente.getNOME();\r\n        return nomeCliente;\r\n    }\r\n\r\n    @Transient\r\n    public String getCpfCliente() throws ParseException {\r\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\r\n        cpfCliente = cliente.getCPF();\r\n        MaskFormatter mask;\r\n        String concatenada = &quot;&quot;;\r\n        mask = new MaskFormatter(&quot;###.###.###-##&quot;);\r\n        mask.setValueContainsLiteralCharacters(false);\r\n        String opdMask = mask.valueToString(cpfCliente);\r\n        return opdMask;\r\n    }\r\n\r\n    @Transient\r\n    public String getTelefoneCliente() throws ParseException {\r\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\r\n        telefoneCliente = cliente.getCELULAR();\r\n        MaskFormatter mask;\r\n        String concatenada = &quot;&quot;;\r\n        mask = new MaskFormatter(&quot;(##) #####-####&quot;);\r\n        mask.setValueContainsLiteralCharacters(false);\r\n        String opdMask = mask.valueToString(telefoneCliente);       \r\n        return opdMask;\r\n    }\r\n\r\n    @Transient\r\n    public String getCidadeCliente() {\r\n        Cliente  cliente = ClienteDAO.getClienteCod(this.CLIENTE);\r\n        cidadeCliente = cliente.getCIDADE();\r\n        return cidadeCliente;\r\n    }\r\n\r\n    @Transient\r\n    public String getEnderecoCliente() {\r\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\r\n        enderecoCliente = cliente.getENDERECO();\r\n        return enderecoCliente;\r\n    }\r\n\r\n    @Transient\r\n    public String getNumeroCliente() {\r\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\r\n        numeroCliente = Integer.toString(cliente.getNUMERO());\r\n        return numeroCliente;\r\n    }\r\n\r\n    @Transient\r\n    public String getFormaPagCliente() {\r\n        FormaPagamento form = FormaPagamentoDAO.getFormaPagamento(this.FORMA_PAGAMENTO);\r\n        formaPagCliente = form.getDESCRICAO();\r\n        return formaPagCliente;\r\n    }\r\n    \r\n    @Transient\r\n    public String getvalorTotalMasc()\r\n    {        \r\n        valorTotalMasc = NumberFormat.getCurrencyInstance(localBrasil).format(this.VALOR_TOTAL);\r\n        return valorTotalMasc;\r\n    }    \r\n\r\n}\r\n\r\n```\r\n```\r\npackage model;\r\n\r\nimport dao.ClienteDAO;\r\nimport dao.ProdutoDAO;\r\nimport dao.VendasProdutosDAO;\r\nimport java.io.Serializable;\r\nimport java.text.NumberFormat;\r\nimport java.text.ParseException;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.SequenceGenerator;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Temporal;\r\nimport javax.persistence.TemporalType;\r\nimport javax.persistence.Transient;\r\n\r\n/**\r\n *\r\n * @author Giovani\r\n */\r\n@Entity\r\n@Table(name = &quot;VENDAS_PRODUTOS_ITENS&quot;)\r\npublic class VendasProdutosItens implements Serializable {\r\n\r\n    private int CODIGO;\r\n    private int CODIGO_VENDA;\r\n    private int COD_PRODUTO;\r\n    private int QUANTIDADE;\r\n    private int SEQUENCIAL;\r\n    private float VALOR_UNIT;\r\n    private float VALOR_TOTAL;\r\n    private float LUCRO;\r\n    private float ULTIMA_ENTRADA;\r\n    private String USER_CADASTRO;\r\n    public Date DATA_CADASTRO;\r\n\r\n    String descricao;\r\n    String descricaoProduto;\r\n    private VendasProdutos vendasProdutos;\r\n    \r\n    VendasProdutos venProd = new VendasProdutos();\r\n    Cliente cliente = new Cliente();\r\n    String nomeCliente;\r\n    //Date dataVenda;\r\n    Locale localBrasil = new Locale(&quot;pt&quot;, &quot;BR&quot;);\r\n    String valorUnitConvert;\r\n    String valorTotalConvert;\r\n\r\n    public VendasProdutosItens() {\r\n    }   \r\n    \r\n    public VendasProdutosItens(int CODIGO, int CODIGO_VENDA, int COD_PRODUTO, int QUANTIDADE, int SEQUENCIAL, float VALOR_UNIT, float VALOR_TOTAL, float LUCRO, float ULTIMA_ENTRADA, String USER_CADASTRO, Date DATA_CADASTRO, String descricao, String descricaoProduto, VendasProdutos vendasProdutos, String nomeCliente) {\r\n        this.CODIGO = CODIGO;\r\n        this.CODIGO_VENDA = CODIGO_VENDA;\r\n        this.COD_PRODUTO = COD_PRODUTO;\r\n        this.QUANTIDADE = QUANTIDADE;\r\n        this.SEQUENCIAL = SEQUENCIAL;\r\n        this.VALOR_UNIT = VALOR_UNIT;\r\n        this.VALOR_TOTAL = VALOR_TOTAL;\r\n        this.LUCRO = LUCRO;\r\n        this.ULTIMA_ENTRADA = ULTIMA_ENTRADA;\r\n        this.USER_CADASTRO = USER_CADASTRO;\r\n        this.DATA_CADASTRO = DATA_CADASTRO;\r\n        this.descricao = descricao;\r\n        this.descricaoProduto = descricaoProduto;\r\n        this.vendasProdutos = vendasProdutos;\r\n        this.nomeCliente = nomeCliente;        \r\n    } \r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;gen_vendas_prod_itens_id&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;gen_vendas_prod_itens_id&quot;, allocationSize = 1, name = &quot;gen_vendas_prod_itens_id&quot;)\r\n    public int getCODIGO() {\r\n        return CODIGO;\r\n    }\r\n\r\n    public void setCODIGO(int CODIGO) {\r\n        this.CODIGO = CODIGO;\r\n    }\r\n\r\n    @Column(name = &quot;CODIGO_VENDA&quot;, nullable = false)\r\n    public int getCODIGO_VENDA() {\r\n        return CODIGO_VENDA;\r\n    }\r\n\r\n    public void setCODIGO_VENDA(int COD_VENDA) {\r\n        this.CODIGO_VENDA = COD_VENDA;\r\n    }\r\n\r\n    @Column(name = &quot;COD_PRODUTO&quot;, nullable = false)\r\n    public int getCOD_PRODUTO() {\r\n        getDescricaoProduto();\r\n        return COD_PRODUTO;\r\n    }\r\n\r\n    public void setCOD_PRODUTO(int COD_PRODUTO) {\r\n        this.COD_PRODUTO = COD_PRODUTO;\r\n    }\r\n\r\n    @Column(name = &quot;QUANTIDADE&quot;, nullable = false)\r\n    public int getQUANTIDADE() {\r\n        return QUANTIDADE;\r\n    }\r\n\r\n    public void setQUANTIDADE(int QUANTIDADE) {\r\n        this.QUANTIDADE = QUANTIDADE;\r\n    }\r\n\r\n    @Column(name = &quot;SEQUENCIAL&quot;, nullable = false)\r\n    public int getSEQUENCIAL() {\r\n        return SEQUENCIAL;\r\n    }\r\n\r\n    public void setSEQUENCIAL(int SEQUENCIAL) {\r\n        this.SEQUENCIAL = SEQUENCIAL;\r\n    }\r\n\r\n    @Column(name = &quot;VALOR_UNIT&quot;, nullable = false)\r\n    public float getVALOR_UNIT() {\r\n        return VALOR_UNIT;\r\n    }\r\n\r\n    public void setVALOR_UNIT(float VALOR_UNIT) {\r\n        this.VALOR_UNIT = VALOR_UNIT;\r\n    }\r\n\r\n    @Column(name = &quot;VALOR_TOTAL&quot;, nullable = false)\r\n    public float getVALOR_TOTAL() {\r\n        return VALOR_TOTAL;\r\n    }\r\n\r\n    public void setVALOR_TOTAL(float VALOR_TOTAL) {\r\n        this.VALOR_TOTAL = VALOR_TOTAL;\r\n    }\r\n\r\n    @Column(name = &quot;LUCRO&quot;, nullable = false)\r\n    public float getLUCRO() {\r\n        return LUCRO;\r\n    }\r\n\r\n    public void setLUCRO(float LUCRO) {\r\n        this.LUCRO = LUCRO;\r\n    }\r\n\r\n    @Column(name = &quot;ULTIMA_ENTRADA&quot;, nullable = false)\r\n    public float getULTIMA_ENTRADA() {\r\n        return ULTIMA_ENTRADA;\r\n    }\r\n\r\n    public void setULTIMA_ENTRADA(float ULTIMA_ENTRADA) {\r\n        this.ULTIMA_ENTRADA = ULTIMA_ENTRADA;\r\n    }\r\n\r\n    @Column(name = &quot;USER_CADASTRO&quot;, nullable = true)\r\n    public String getUSER_CADASTRO() {\r\n        return USER_CADASTRO;\r\n    }\r\n\r\n    public void setUSER_CADASTRO(String USER_CADASTRO) {\r\n        this.USER_CADASTRO = USER_CADASTRO;\r\n    }\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;DATA_CADASTRO&quot;, length = 19, nullable = true)\r\n    public Date getDATA_CADASTRO() {\r\n        return DATA_CADASTRO;\r\n    }\r\n\r\n    public void setDATA_CADASTRO(Date DATA_CADASTRO) {\r\n        this.DATA_CADASTRO = DATA_CADASTRO;\r\n    }\r\n\r\n    public String getDescricao() {\r\n        return descricao;\r\n    }\r\n\r\n    public void setDescricao(String descricao) {\r\n        this.descricao = descricao;\r\n    }\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;CODIGO_VENDA&quot;, nullable = false, insertable = false, updatable = false)\r\n    public VendasProdutos getVendasProdutos() {\r\n        return vendasProdutos;\r\n    }\r\n\r\n    public void setVendasProdutos(VendasProdutos vendasProdutos) {\r\n        this.vendasProdutos = vendasProdutos;\r\n    }\r\n\r\n    @Transient\r\n    public String getDescricaoProduto() {\r\n        Produto produto = ProdutoDAO.getProduto(this.COD_PRODUTO);\r\n        descricaoProduto = produto.getDESCRICAO();\r\n        return descricaoProduto;\r\n    }    \r\n\r\n    @Transient\r\n    public String getNomeCliente() throws ParseException {\r\n        venProd = VendasProdutosDAO.getVendaProduto(this.getCODIGO_VENDA());\r\n        cliente = ClienteDAO.getClienteCod(venProd.getCLIENTE());\r\n        nomeCliente = cliente.getNOME();\r\n        nomeCliente.concat(&quot;- &quot;+this.getCODIGO_VENDA());\r\n        return nomeCliente;\r\n    }\r\n    \r\n    @Transient\r\n    public String getValorUnitConvert(){        \r\n        valorUnitConvert = NumberFormat.getCurrencyInstance(localBrasil).format(this.VALOR_UNIT);\r\n        return valorUnitConvert;\r\n    }\r\n    \r\n    @Transient\r\n    public String getValorTotalConvert()\r\n    {        \r\n        valorTotalConvert = NumberFormat.getCurrencyInstance(localBrasil).format(this.VALOR_TOTAL);\r\n        return valorTotalConvert;\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nHowever, when debugging what is happening in the following query:\r\n\r\n```\r\n  public static List&lt;VendasProdutos&gt; getVendas() {\r\n\r\n        Session sessao = null;\r\n        Transaction transacao = null;\r\n        Query consulta = null;\r\n        List&lt;VendasProdutos&gt; resultado = null;\r\n\r\n        try {\r\n            sessao = HibernateUtil.getSessionFactory().openSession();\r\n            transacao = sessao.beginTransaction();\r\n            consulta = sessao.createQuery(&quot;from VendasProdutos vp order by vp.CODIGO_VENDA DESC&quot;);             \r\n            resultado = consulta.list();\r\n            transacao.commit();\r\n            //select max (sol.CODIGO_SOLICITACAO) as SOLIC \r\n\r\n        } catch (HibernateException e) {\r\n            System.out.println(&quot;N&#227;o foi poss&#237;vel selecionar VendasProdutos. Erro: &quot; + e);         \r\n            throw new HibernateException(e);\r\n        } \r\n        return resultado;\r\n    }\r\n```\r\nWhen you get to the line: \r\n```\r\nresultado = consulta.list();\r\n```\r\n\r\nThe debug returns the VendasProdutos class in the following set method, directly in the line this.DATA_VENDA = DATA_VENDA ::\r\n``` \r\n public void setDATA_VENDA(Date DATA_VENDA) {\r\n       this.DATA_VENDA = DATA_VENDA;\r\n    }\r\n```\r\nContinuing with the debugging, the system enters the Method.java class, and directly follows the return line, and thus stays in the loop, between the Setter and the aforementioned Return. Can someone help me?\r\n\r\n```\r\n @CallerSensitive\r\n    public Object invoke(Object obj, Object... args)\r\n        throws IllegalAccessException, IllegalArgumentException,\r\n           InvocationTargetException\r\n    {\r\n        if (!override) {\r\n            if (!Reflection.quickCheckMemberAccess(clazz, modifiers)) {\r\n                Class&lt;?&gt; caller = Reflection.getCallerClass();\r\n                checkAccess(caller, clazz, obj, modifiers);\r\n            }\r\n        }\r\n        MethodAccessor ma = methodAccessor;             // read volatile\r\n        if (ma == null) {\r\n            ma = acquireMethodAccessor();\r\n        }\r\n        return ma.invoke(obj, args);\r\n    }\r\n```\r\n\r\n\r\nNote: In execution, the query works normally, only in debugging where I try to find an error after this execution that the problem occurs.\r\n\r\n","title":"When debugging a query the debugging system enters a set method and loops","body":"<p>I have the following two classes in my implementation where the first is related to the sale, and the second to the products that are on sale, a one-to-many relationship :</p>\n<pre><code>package model;\nimport com.sun.javafx.binding.StringFormatter;\nimport dao.ClienteDAO;\nimport dao.FormaPagamentoDAO;\nimport eletronicstorefx.TextFieldFormatter;\nimport java.io.Serializable;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\nimport javax.persistence.Transient;\nimport javax.swing.text.MaskFormatter;\n\n/**\n *\n * @author Giovani\n */\n@Entity\n@Table(name = &quot;VENDAS_PRODUTOS&quot;)\npublic class VendasProdutos implements Serializable {\n\n    private int CODIGO_VENDA;\n    private int CLIENTE;\n    public Date DATA_VENDA;\n    private int FORMA_PAGAMENTO;\n    private int TAXA_VENDA;\n    private int PARCELAS;\n    private float VALOR_TOTAL;\n    private String USER_CADASTRO;\n    public Date DATA_CADASTRO;\n\n    public List&lt;VendasProdutosItens&gt; vendaProdItens = new ArrayList&lt;&gt;();\n    Cliente cliente = new Cliente();\n    Locale localBrasil = new Locale(&quot;pt&quot;, &quot;BR&quot;);\n\n    private String nomeCliente;\n    private String cpfCliente;\n    private String telefoneCliente;\n    private String cidadeCliente;\n    private String enderecoCliente;\n    private String numeroCliente;\n    private String formaPagCliente;\n    private String valorTotalMasc;\n   \n\n    public VendasProdutos(int CODIGO_VENDA, int CLIENTE, Date DATA_VENDA, int FORMA_PAGAMENTO, int TAXA_VENDA, int PARCELAS, float VALOR_TOTAL, String USER_CADASTRO, Date DATA_CADASTRO, List&lt;VendasProdutosItens&gt; vendaProdItens) {\n        this.CODIGO_VENDA = CODIGO_VENDA;\n        this.CLIENTE = CLIENTE;\n        this.DATA_VENDA = DATA_VENDA;\n        this.FORMA_PAGAMENTO = FORMA_PAGAMENTO;\n        this.TAXA_VENDA = TAXA_VENDA;\n        this.PARCELAS = PARCELAS;\n        this.VALOR_TOTAL = VALOR_TOTAL;\n        this.USER_CADASTRO = USER_CADASTRO;\n        this.DATA_CADASTRO = DATA_CADASTRO;\n        this.vendaProdItens = vendaProdItens;\n    }\n\n    public VendasProdutos() {\n    }\n\n    @Id\n    @GeneratedValue(generator = &quot;gen_vendas_prod_id&quot;)\n    @SequenceGenerator(sequenceName = &quot;gen_vendas_prod_id&quot;, allocationSize = 1, name = &quot;gen_vendas_prod_id&quot;)\n    public int getCODIGO_VENDA() {\n        return CODIGO_VENDA;\n    }\n\n    public void setCODIGO_VENDA(int CODIGO_VENDA) {\n        this.CODIGO_VENDA = CODIGO_VENDA;\n    }\n\n    @Column(name = &quot;CLIENTE&quot;, nullable = false)\n    public int getCLIENTE(){       \n        return CLIENTE;\n    }\n    \n    public void setCLIENTE(int CLIENTE) {\n        this.CLIENTE = CLIENTE;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;DATA_VENDA&quot;, length = 19, nullable = true)\n    public Date getDATA_VENDA() {\n        return DATA_VENDA;\n    }\n\n    public void setDATA_VENDA(Date DATA_VENDA) {\n        this.DATA_VENDA = DATA_VENDA;\n    }\n    \n\n    @Column(name = &quot;FORMA_PAGAMENTO&quot;, nullable = false)\n    public int getFORMA_PAGAMENTO() {\n        getFormaPagCliente();\n        return FORMA_PAGAMENTO;\n    }\n    \n\n    public void setFORMA_PAGAMENTO(int FORMA_PAGAMENTO) {\n        this.FORMA_PAGAMENTO = FORMA_PAGAMENTO;\n    }\n\n    @Column(name = &quot;TAXA_VENDA&quot;, nullable = false)\n    public int getTAXA_VENDA() {\n        return TAXA_VENDA;\n    }\n\n    public void setTAXA_VENDA(int TAXA_VENDA) {\n        this.TAXA_VENDA = TAXA_VENDA;\n    }\n\n    @Column(name = &quot;PARCELAS&quot;, nullable = false)\n    public int getPARCELAS() {\n        return PARCELAS;\n    }\n\n    public void setPARCELAS(int PARCELAS) {\n        this.PARCELAS = PARCELAS;\n    }\n\n    @Column(name = &quot;VALOR_TOTAL&quot;, nullable = false)\n    public float getVALOR_TOTAL() {\n        return VALOR_TOTAL;\n    }\n\n    public void setVALOR_TOTAL(float VALOR_TOTAL) {\n        this.VALOR_TOTAL = VALOR_TOTAL;\n    }\n\n    @Column(name = &quot;USER_CADASTRO&quot;, nullable = true)\n    public String getUSER_CADASTRO() {\n        return USER_CADASTRO;\n    }\n\n    public void setUSER_CADASTRO(String USER_CADASTRO) {\n        this.USER_CADASTRO = USER_CADASTRO;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;DATA_CADASTRO&quot;, length = 19, nullable = true)\n    public Date getDATA_CADASTRO() {\n        return DATA_CADASTRO;\n    }\n\n    public void setDATA_CADASTRO(Date DATA_CADASTRO) {\n        this.DATA_CADASTRO = DATA_CADASTRO;\n    }\n\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;vendasProdutos&quot;)\n    public List&lt;VendasProdutosItens&gt; getVendaProdItens() {\n        return vendaProdItens;\n    }\n\n    public void setVendaProdItens(List&lt;VendasProdutosItens&gt; vendaProdItens) {\n        this.vendaProdItens = vendaProdItens;\n    }\n\n    @Transient\n    public String getNomeCliente() {\n        //Cliente \n                cliente = ClienteDAO.getClienteCod(this.CLIENTE);\n        nomeCliente = cliente.getNOME();\n        return nomeCliente;\n    }\n\n    @Transient\n    public String getCpfCliente() throws ParseException {\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\n        cpfCliente = cliente.getCPF();\n        MaskFormatter mask;\n        String concatenada = &quot;&quot;;\n        mask = new MaskFormatter(&quot;###.###.###-##&quot;);\n        mask.setValueContainsLiteralCharacters(false);\n        String opdMask = mask.valueToString(cpfCliente);\n        return opdMask;\n    }\n\n    @Transient\n    public String getTelefoneCliente() throws ParseException {\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\n        telefoneCliente = cliente.getCELULAR();\n        MaskFormatter mask;\n        String concatenada = &quot;&quot;;\n        mask = new MaskFormatter(&quot;(##) #####-####&quot;);\n        mask.setValueContainsLiteralCharacters(false);\n        String opdMask = mask.valueToString(telefoneCliente);       \n        return opdMask;\n    }\n\n    @Transient\n    public String getCidadeCliente() {\n        Cliente  cliente = ClienteDAO.getClienteCod(this.CLIENTE);\n        cidadeCliente = cliente.getCIDADE();\n        return cidadeCliente;\n    }\n\n    @Transient\n    public String getEnderecoCliente() {\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\n        enderecoCliente = cliente.getENDERECO();\n        return enderecoCliente;\n    }\n\n    @Transient\n    public String getNumeroCliente() {\n        Cliente cliente = ClienteDAO.getClienteCod(this.CLIENTE);\n        numeroCliente = Integer.toString(cliente.getNUMERO());\n        return numeroCliente;\n    }\n\n    @Transient\n    public String getFormaPagCliente() {\n        FormaPagamento form = FormaPagamentoDAO.getFormaPagamento(this.FORMA_PAGAMENTO);\n        formaPagCliente = form.getDESCRICAO();\n        return formaPagCliente;\n    }\n    \n    @Transient\n    public String getvalorTotalMasc()\n    {        \n        valorTotalMasc = NumberFormat.getCurrencyInstance(localBrasil).format(this.VALOR_TOTAL);\n        return valorTotalMasc;\n    }    \n\n}\n\n</code></pre>\n<pre><code>package model;\n\nimport dao.ClienteDAO;\nimport dao.ProdutoDAO;\nimport dao.VendasProdutosDAO;\nimport java.io.Serializable;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.util.Date;\nimport java.util.Locale;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\nimport javax.persistence.Transient;\n\n/**\n *\n * @author Giovani\n */\n@Entity\n@Table(name = &quot;VENDAS_PRODUTOS_ITENS&quot;)\npublic class VendasProdutosItens implements Serializable {\n\n    private int CODIGO;\n    private int CODIGO_VENDA;\n    private int COD_PRODUTO;\n    private int QUANTIDADE;\n    private int SEQUENCIAL;\n    private float VALOR_UNIT;\n    private float VALOR_TOTAL;\n    private float LUCRO;\n    private float ULTIMA_ENTRADA;\n    private String USER_CADASTRO;\n    public Date DATA_CADASTRO;\n\n    String descricao;\n    String descricaoProduto;\n    private VendasProdutos vendasProdutos;\n    \n    VendasProdutos venProd = new VendasProdutos();\n    Cliente cliente = new Cliente();\n    String nomeCliente;\n    //Date dataVenda;\n    Locale localBrasil = new Locale(&quot;pt&quot;, &quot;BR&quot;);\n    String valorUnitConvert;\n    String valorTotalConvert;\n\n    public VendasProdutosItens() {\n    }   \n    \n    public VendasProdutosItens(int CODIGO, int CODIGO_VENDA, int COD_PRODUTO, int QUANTIDADE, int SEQUENCIAL, float VALOR_UNIT, float VALOR_TOTAL, float LUCRO, float ULTIMA_ENTRADA, String USER_CADASTRO, Date DATA_CADASTRO, String descricao, String descricaoProduto, VendasProdutos vendasProdutos, String nomeCliente) {\n        this.CODIGO = CODIGO;\n        this.CODIGO_VENDA = CODIGO_VENDA;\n        this.COD_PRODUTO = COD_PRODUTO;\n        this.QUANTIDADE = QUANTIDADE;\n        this.SEQUENCIAL = SEQUENCIAL;\n        this.VALOR_UNIT = VALOR_UNIT;\n        this.VALOR_TOTAL = VALOR_TOTAL;\n        this.LUCRO = LUCRO;\n        this.ULTIMA_ENTRADA = ULTIMA_ENTRADA;\n        this.USER_CADASTRO = USER_CADASTRO;\n        this.DATA_CADASTRO = DATA_CADASTRO;\n        this.descricao = descricao;\n        this.descricaoProduto = descricaoProduto;\n        this.vendasProdutos = vendasProdutos;\n        this.nomeCliente = nomeCliente;        \n    } \n\n    @Id\n    @GeneratedValue(generator = &quot;gen_vendas_prod_itens_id&quot;)\n    @SequenceGenerator(sequenceName = &quot;gen_vendas_prod_itens_id&quot;, allocationSize = 1, name = &quot;gen_vendas_prod_itens_id&quot;)\n    public int getCODIGO() {\n        return CODIGO;\n    }\n\n    public void setCODIGO(int CODIGO) {\n        this.CODIGO = CODIGO;\n    }\n\n    @Column(name = &quot;CODIGO_VENDA&quot;, nullable = false)\n    public int getCODIGO_VENDA() {\n        return CODIGO_VENDA;\n    }\n\n    public void setCODIGO_VENDA(int COD_VENDA) {\n        this.CODIGO_VENDA = COD_VENDA;\n    }\n\n    @Column(name = &quot;COD_PRODUTO&quot;, nullable = false)\n    public int getCOD_PRODUTO() {\n        getDescricaoProduto();\n        return COD_PRODUTO;\n    }\n\n    public void setCOD_PRODUTO(int COD_PRODUTO) {\n        this.COD_PRODUTO = COD_PRODUTO;\n    }\n\n    @Column(name = &quot;QUANTIDADE&quot;, nullable = false)\n    public int getQUANTIDADE() {\n        return QUANTIDADE;\n    }\n\n    public void setQUANTIDADE(int QUANTIDADE) {\n        this.QUANTIDADE = QUANTIDADE;\n    }\n\n    @Column(name = &quot;SEQUENCIAL&quot;, nullable = false)\n    public int getSEQUENCIAL() {\n        return SEQUENCIAL;\n    }\n\n    public void setSEQUENCIAL(int SEQUENCIAL) {\n        this.SEQUENCIAL = SEQUENCIAL;\n    }\n\n    @Column(name = &quot;VALOR_UNIT&quot;, nullable = false)\n    public float getVALOR_UNIT() {\n        return VALOR_UNIT;\n    }\n\n    public void setVALOR_UNIT(float VALOR_UNIT) {\n        this.VALOR_UNIT = VALOR_UNIT;\n    }\n\n    @Column(name = &quot;VALOR_TOTAL&quot;, nullable = false)\n    public float getVALOR_TOTAL() {\n        return VALOR_TOTAL;\n    }\n\n    public void setVALOR_TOTAL(float VALOR_TOTAL) {\n        this.VALOR_TOTAL = VALOR_TOTAL;\n    }\n\n    @Column(name = &quot;LUCRO&quot;, nullable = false)\n    public float getLUCRO() {\n        return LUCRO;\n    }\n\n    public void setLUCRO(float LUCRO) {\n        this.LUCRO = LUCRO;\n    }\n\n    @Column(name = &quot;ULTIMA_ENTRADA&quot;, nullable = false)\n    public float getULTIMA_ENTRADA() {\n        return ULTIMA_ENTRADA;\n    }\n\n    public void setULTIMA_ENTRADA(float ULTIMA_ENTRADA) {\n        this.ULTIMA_ENTRADA = ULTIMA_ENTRADA;\n    }\n\n    @Column(name = &quot;USER_CADASTRO&quot;, nullable = true)\n    public String getUSER_CADASTRO() {\n        return USER_CADASTRO;\n    }\n\n    public void setUSER_CADASTRO(String USER_CADASTRO) {\n        this.USER_CADASTRO = USER_CADASTRO;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;DATA_CADASTRO&quot;, length = 19, nullable = true)\n    public Date getDATA_CADASTRO() {\n        return DATA_CADASTRO;\n    }\n\n    public void setDATA_CADASTRO(Date DATA_CADASTRO) {\n        this.DATA_CADASTRO = DATA_CADASTRO;\n    }\n\n    public String getDescricao() {\n        return descricao;\n    }\n\n    public void setDescricao(String descricao) {\n        this.descricao = descricao;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;CODIGO_VENDA&quot;, nullable = false, insertable = false, updatable = false)\n    public VendasProdutos getVendasProdutos() {\n        return vendasProdutos;\n    }\n\n    public void setVendasProdutos(VendasProdutos vendasProdutos) {\n        this.vendasProdutos = vendasProdutos;\n    }\n\n    @Transient\n    public String getDescricaoProduto() {\n        Produto produto = ProdutoDAO.getProduto(this.COD_PRODUTO);\n        descricaoProduto = produto.getDESCRICAO();\n        return descricaoProduto;\n    }    \n\n    @Transient\n    public String getNomeCliente() throws ParseException {\n        venProd = VendasProdutosDAO.getVendaProduto(this.getCODIGO_VENDA());\n        cliente = ClienteDAO.getClienteCod(venProd.getCLIENTE());\n        nomeCliente = cliente.getNOME();\n        nomeCliente.concat(&quot;- &quot;+this.getCODIGO_VENDA());\n        return nomeCliente;\n    }\n    \n    @Transient\n    public String getValorUnitConvert(){        \n        valorUnitConvert = NumberFormat.getCurrencyInstance(localBrasil).format(this.VALOR_UNIT);\n        return valorUnitConvert;\n    }\n    \n    @Transient\n    public String getValorTotalConvert()\n    {        \n        valorTotalConvert = NumberFormat.getCurrencyInstance(localBrasil).format(this.VALOR_TOTAL);\n        return valorTotalConvert;\n    }\n    \n}\n\n</code></pre>\n<p>However, when debugging what is happening in the following query:</p>\n<pre><code>  public static List&lt;VendasProdutos&gt; getVendas() {\n\n        Session sessao = null;\n        Transaction transacao = null;\n        Query consulta = null;\n        List&lt;VendasProdutos&gt; resultado = null;\n\n        try {\n            sessao = HibernateUtil.getSessionFactory().openSession();\n            transacao = sessao.beginTransaction();\n            consulta = sessao.createQuery(&quot;from VendasProdutos vp order by vp.CODIGO_VENDA DESC&quot;);             \n            resultado = consulta.list();\n            transacao.commit();\n            //select max (sol.CODIGO_SOLICITACAO) as SOLIC \n\n        } catch (HibernateException e) {\n            System.out.println(&quot;Não foi possível selecionar VendasProdutos. Erro: &quot; + e);         \n            throw new HibernateException(e);\n        } \n        return resultado;\n    }\n</code></pre>\n<p>When you get to the line:</p>\n<pre><code>resultado = consulta.list();\n</code></pre>\n<p>The debug returns the VendasProdutos class in the following set method, directly in the line this.DATA_VENDA = DATA_VENDA ::</p>\n<pre><code> public void setDATA_VENDA(Date DATA_VENDA) {\n       this.DATA_VENDA = DATA_VENDA;\n    }\n</code></pre>\n<p>Continuing with the debugging, the system enters the Method.java class, and directly follows the return line, and thus stays in the loop, between the Setter and the aforementioned Return. Can someone help me?</p>\n<pre><code> @CallerSensitive\n    public Object invoke(Object obj, Object... args)\n        throws IllegalAccessException, IllegalArgumentException,\n           InvocationTargetException\n    {\n        if (!override) {\n            if (!Reflection.quickCheckMemberAccess(clazz, modifiers)) {\n                Class&lt;?&gt; caller = Reflection.getCallerClass();\n                checkAccess(caller, clazz, obj, modifiers);\n            }\n        }\n        MethodAccessor ma = methodAccessor;             // read volatile\n        if (ma == null) {\n            ma = acquireMethodAccessor();\n        }\n        return ma.invoke(obj, args);\n    }\n</code></pre>\n<p>Note: In execution, the query works normally, only in debugging where I try to find an error after this execution that the problem occurs.</p>\n"},{"tags":["java","sockets","executorservice","ioexception"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1678539544,"post_id":75704757,"comment_id":133554229,"body_markdown":"When debugging, it is always good to log or just print to make sure you know where the client and server are when things go south. Plus include whatever stack trace you get, as it tends to include line numbers.","body":"When debugging, it is always good to log or just print to make sure you know where the client and server are when things go south. Plus include whatever stack trace you get, as it tends to include line numbers."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1678541079,"post_id":75704757,"comment_id":133554477,"body_markdown":"Add the following line to the `catch` block in method `run` of the _Server_: `ex.printStackTrace();` Then run your code. Then copy the entire stack trace (to the [system] clipboard). Then [edit] your question and paste the stack trace.","body":"Add the following line to the <code>catch</code> block in method <code>run</code> of the <i>Server</i>: <code>ex.printStackTrace();</code> Then run your code. Then copy the entire stack trace (to the [system] clipboard). Then <a href=\"https://stackoverflow.com/posts/75704757/edit\">edit</a> your question and paste the stack trace."},{"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"score":0,"creation_date":1678541173,"post_id":75704757,"comment_id":133554492,"body_markdown":"I forgot... i added full error message.","body":"I forgot... i added full error message."},{"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"score":0,"creation_date":1678541419,"post_id":75704757,"comment_id":133554526,"body_markdown":"I think maybe the problem is with `ObjectOutputStream` and how i coded i just don&#39;t know what is it.","body":"I think maybe the problem is with <code>ObjectOutputStream</code> and how i coded i just don&#39;t know what is it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678552095,"post_id":75704757,"comment_id":133556313,"body_markdown":"You are calling `pool.shutdown()` after submitting a task.  Any subsequent attempt to submit a task will generate an exception (probably a RejectedExecutionException).  If your server object (which I see implements Runnable) is itself submitted to an ExecutorService, you probably won’t see this exception unless you examine the corresponding Future.  You don’t really need a thread pool at all, since you’re waiting for the Future anyway, effectively making the call to studentDAO.getTest a synchronous call.","body":"You are calling <code>pool.shutdown()</code> after submitting a task.  Any subsequent attempt to submit a task will generate an exception (probably a RejectedExecutionException).  If your server object (which I see implements Runnable) is itself submitted to an ExecutorService, you probably won’t see this exception unless you examine the corresponding Future.  You don’t really need a thread pool at all, since you’re waiting for the Future anyway, effectively making the call to studentDAO.getTest a synchronous call."},{"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"score":0,"creation_date":1678553802,"post_id":75704757,"comment_id":133556657,"body_markdown":"If i understood you right i should just have something like this? `Object obj = studentDAO.getTest(1); objOut.writeObject(obj);`","body":"If i understood you right i should just have something like this? <code>Object obj = studentDAO.getTest(1); objOut.writeObject(obj);</code>"},{"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"score":0,"creation_date":1678565432,"post_id":75704757,"comment_id":133559803,"body_markdown":"@VGR Thank you for you&#39;r advice and additional information. It is good to know it.","body":"@VGR Thank you for you&#39;r advice and additional information. It is good to know it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678565645,"post_id":75704757,"comment_id":133559826,"body_markdown":"Yes, that is precisely what I’m suggesting.","body":"Yes, that is precisely what I’m suggesting."}],"answers":[{"tags":[],"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678565206,"creation_date":1678565206,"answer_id":75709209,"question_id":75704757,"body_markdown":"I found what the problem was...\r\n\r\nThis is my ClientHandler constructor.\r\n\r\n    public ClientHandler(Socket socket) {\r\n        try {\r\n            this.socket = socket;\r\n            //this.in = new DataInputStream(socket.getInputStream());\r\n            //this.out = new DataOutputStream(socket.getOutputStream());\r\n            this.objOut = new ObjectOutputStream(socket.getOutputStream());\r\n            this.objIn = new ObjectInputStream(socket.getInputStream());\r\n            this.pool = Executors.newCachedThreadPool();\r\n            this.studentDAO = new StudentAccess();\r\n            listOfUsers.add(this);\r\n        } catch (IOException ex) {\r\n            System.out.println(ex.getLocalizedMessage());\r\n        }\r\n    }\r\n\r\nI had Data and Object streams on the same socket.\r\nTo have more then one of different streams on a socket will create a conflict and hence in my case the error above.\r\n\r\nOnce i commented out the ones i didn&#39;t need it started working just fine.\r\n\r\nFor more information go [here][1] and [here][2].\r\n\r\nIt&#39;s a beginner mistake that cost me one full day of time. : - )\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33158332/does-object-and-data-input-output-streams-creates-conflict\r\n  [2]: https://stackoverflow.com/questions/18170275/creating-2-streams-with-one-socket","title":"Java IOException: An established connection was aborted by the software in your host machine","body":"<p>I found what the problem was...</p>\n<p>This is my ClientHandler constructor.</p>\n<pre><code>public ClientHandler(Socket socket) {\n    try {\n        this.socket = socket;\n        //this.in = new DataInputStream(socket.getInputStream());\n        //this.out = new DataOutputStream(socket.getOutputStream());\n        this.objOut = new ObjectOutputStream(socket.getOutputStream());\n        this.objIn = new ObjectInputStream(socket.getInputStream());\n        this.pool = Executors.newCachedThreadPool();\n        this.studentDAO = new StudentAccess();\n        listOfUsers.add(this);\n    } catch (IOException ex) {\n        System.out.println(ex.getLocalizedMessage());\n    }\n}\n</code></pre>\n<p>I had Data and Object streams on the same socket.\nTo have more then one of different streams on a socket will create a conflict and hence in my case the error above.</p>\n<p>Once i commented out the ones i didn't need it started working just fine.</p>\n<p>For more information go <a href=\"https://stackoverflow.com/questions/33158332/does-object-and-data-input-output-streams-creates-conflict\">here</a> and <a href=\"https://stackoverflow.com/questions/18170275/creating-2-streams-with-one-socket\">here</a>.</p>\n<p>It's a beginner mistake that cost me one full day of time. : - )</p>\n"}],"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678565206,"creation_date":1678535907,"question_id":75704757,"body_markdown":"Im trying to implement a basic rpc server in java.\r\n\r\nI want to be able to tell the server what operation i want to do and the server should retrieve data from database base on that operation and send it to the client.\r\n\r\nHere is the code for more context:\r\n\r\nServer:\r\n```\r\n    @Override\r\n    public void run() {\r\n        String operationType;\r\n        int id;\r\n        while (!socket.isClosed()) {\r\n            try {\r\n                operationType = in.readUTF();\r\n                if (operationType.equals(&quot;Take test!&quot;)) {\r\n                    Future future = pool.submit((Callable) () -&gt; {\r\n                        return studentDAO.getTest(1);\r\n                    });\r\n                    Object obj = future.get();\r\n                    objOut.writeObject(obj);\r\n                    pool.shutdown();\r\n                }\r\n                //notifyAllUsers(type);\r\n            } catch (IOException | InterruptedException | ExecutionException ex) {\r\n                System.out.println(ex.getLocalizedMessage());\r\n                close(socket, in, out, objIn, objOut);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n```\r\nClient:\r\n```\r\npublic void applyChanges(String operation) {\r\n        new Thread(\r\n                () -&gt; {\r\n                    try {\r\n                        if (operation.equals(&quot;Take test!&quot;)) {\r\n                            out.writeUTF(operation);\r\n                            //objOut.writeInt(1);\r\n                            Test test = (Test) objIn.readObject();\r\n                            System.out.println(test.getTestName());\r\n                        }\r\n                    } catch (IOException | ClassNotFoundException ex) {\r\n                        close(socket, in, out, objIn, objOut);\r\n                    }\r\n                }, &quot;applyThread&quot;\r\n        ).start();\r\n    }\r\n```\r\nError:\r\n```\r\nrun:\r\nClient accepted!\r\njava.net.SocketException: An established connection was aborted by the software in your host machine\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:417)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:437)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:823)\r\n\tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\r\ntrue\r\n\tat java.base/java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1901)\r\n\tat java.base/java.io.ObjectOutputStream$BlockDataOutputStream.setBlockDataMode(ObjectOutputStream.java:1810)\r\n\tat java.base/java.io.ObjectOutputStream.writeNonProxyDesc(ObjectOutputStream.java:1304)\r\n\tat java.base/java.io.ObjectOutputStream.writeClassDesc(ObjectOutputStream.java:1249)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1445)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1196)\r\n\tat java.base/java.io.ObjectOutputStream.writeFatalException(ObjectOutputStream.java:1617)\r\nSocket closed\r\n\tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:365)\r\n\tat server.ClientHandler.run(ClientHandler.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nBut i get this instead :  An established connection was aborted by the software in your host machine.\r\n\r\nI don&#39;t know what i&#39;m doing wrong.\r\n\r\nAny help is appreciated.","title":"Java IOException: An established connection was aborted by the software in your host machine","body":"<p>Im trying to implement a basic rpc server in java.</p>\n<p>I want to be able to tell the server what operation i want to do and the server should retrieve data from database base on that operation and send it to the client.</p>\n<p>Here is the code for more context:</p>\n<p>Server:</p>\n<pre><code>    @Override\n    public void run() {\n        String operationType;\n        int id;\n        while (!socket.isClosed()) {\n            try {\n                operationType = in.readUTF();\n                if (operationType.equals(&quot;Take test!&quot;)) {\n                    Future future = pool.submit((Callable) () -&gt; {\n                        return studentDAO.getTest(1);\n                    });\n                    Object obj = future.get();\n                    objOut.writeObject(obj);\n                    pool.shutdown();\n                }\n                //notifyAllUsers(type);\n            } catch (IOException | InterruptedException | ExecutionException ex) {\n                System.out.println(ex.getLocalizedMessage());\n                close(socket, in, out, objIn, objOut);\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>Client:</p>\n<pre><code>public void applyChanges(String operation) {\n        new Thread(\n                () -&gt; {\n                    try {\n                        if (operation.equals(&quot;Take test!&quot;)) {\n                            out.writeUTF(operation);\n                            //objOut.writeInt(1);\n                            Test test = (Test) objIn.readObject();\n                            System.out.println(test.getTestName());\n                        }\n                    } catch (IOException | ClassNotFoundException ex) {\n                        close(socket, in, out, objIn, objOut);\n                    }\n                }, &quot;applyThread&quot;\n        ).start();\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>run:\nClient accepted!\njava.net.SocketException: An established connection was aborted by the software in your host machine\n    at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:417)\n    at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:437)\n    at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:823)\n    at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\ntrue\n    at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1901)\n    at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.setBlockDataMode(ObjectOutputStream.java:1810)\n    at java.base/java.io.ObjectOutputStream.writeNonProxyDesc(ObjectOutputStream.java:1304)\n    at java.base/java.io.ObjectOutputStream.writeClassDesc(ObjectOutputStream.java:1249)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1445)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1196)\n    at java.base/java.io.ObjectOutputStream.writeFatalException(ObjectOutputStream.java:1617)\nSocket closed\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:365)\n    at server.ClientHandler.run(ClientHandler.java:63)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>But i get this instead :  An established connection was aborted by the software in your host machine.</p>\n<p>I don't know what i'm doing wrong.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":7015605,"reputation":187,"user_id":6131348,"display_name":"rpereira15"},"score":0,"creation_date":1678471228,"post_id":75699120,"comment_id":133545248,"body_markdown":"Maybe change the EntityManager&#39;s scope are not the best approach.\nI consider make a cache to your database results, with this implementation, JPA will returns a single object once already in cache.","body":"Maybe change the EntityManager&#39;s scope are not the best approach. I consider make a cache to your database results, with this implementation, JPA will returns a single object once already in cache."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1678482126,"post_id":75699120,"comment_id":133547734,"body_markdown":"The benefits are the same as the drawbacks. By using an extended scope, you gain performance of not having to lookup (or just clone, as EclipseLink has a second level/factory level cache) instances already read in from the database a second time. But you have those instances managed by the EntityManager for longer, and the EM might have some additional overhead in checking them all for changes when it joins another transaction. Change tracking and other optimizations can greatly reduce those costs though - but to really know if you&#39;d benefit by the change, you&#39;d have to test both options out.","body":"The benefits are the same as the drawbacks. By using an extended scope, you gain performance of not having to lookup (or just clone, as EclipseLink has a second level/factory level cache) instances already read in from the database a second time. But you have those instances managed by the EntityManager for longer, and the EM might have some additional overhead in checking them all for changes when it joins another transaction. Change tracking and other optimizations can greatly reduce those costs though - but to really know if you&#39;d benefit by the change, you&#39;d have to test both options out."}],"answers":[{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678565006,"creation_date":1678565006,"answer_id":75709195,"question_id":75699120,"body_markdown":"On the contrary! In general, transaction-scoped entity managers tend to be more memory efficient than extended entity managers.\r\n\r\nFirst, let&#39;s name the main concept in this discussion: the persistence context.\r\n\r\nAccording to the [specification](https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a11431): &quot;*A persistence context is a set of entity instances in which for any persistent entity identity there is a unique entity instance*&quot;.\r\n\r\nUnderstanding the way persistence contexts interacts with JTA transactions is an essential knowledge for a JPA programmer. In both proposed scenarios, we&#39;re talking about container-managed persistence contexts. So how do they work?\r\n\r\nTransaction-scoped persistence contexts\r\n---------------------------------------\r\n\r\nAs the name suggests, a *transaction-scoped persistence context* is bound to a transaction and its lifecycle. It&#39;s created within a transaction and will be closed when the transaction ends. And, most importantly in our context, it&#39;s the only persistence context created for the transaction. This means that even if more than one `EntityManager` instance is created during the transaction, they will share the same persistence context.\r\n\r\nThis means that different service beans that inject the `EntityManager` interface share the same set of entities (the same persistence context), despite having different `EntityManager` instances assigned to them. So calling `entityManager.find(class, id)` twice, thrice - or more, results in the same instance being returned. This is true even if the `find()` method call is made from a different `EntityManager` instance. As long as the application is running the same transaction, the same entity instance is returned - regardless from which `EntityManager` it was retrieved.\r\n\r\nFinally, being bound to a transaction, as stated earlier, implies that the persistence context is closed when the transaction closes. This means the persistence context is, first, flushed, and, then, cleared once the transaction ends. This behavior represents a huge gain in memory allocation compared to *extended persistence contexts*. This is because once the persistence context is cleared, entity instances retrieved during the transaction are garbage-collected.\r\n\r\nLet&#39;s see the shared persistence context in an example.\r\n\r\n\r\n```java\r\n@Entity\r\npublic class Person {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String name;\r\n\r\n    /* constructors, getters and setters omitted */\r\n}\r\n\r\n@Stateless\r\npublic class StatelessBeanA {\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    public void changePersonName(long id, String newName) {\r\n        Person person = em.find(Person.class, id);\r\n        person.setName(newName);\r\n    }\r\n\r\n    public Person getPerson(long id) {\r\n        return em.find(Person.class, id);\r\n    }\r\n\r\n    public EntityManager getEm() {\r\n        return em;\r\n    }\r\n}\r\n\r\n@Stateless\r\npublic class StatelessBeanB {\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    public void printsPersonName(long id) {\r\n        var person = em.find(Person.class, id);\r\n        System.out.println(person.getName());\r\n    }\r\n\r\n    public Person getPerson(long id) {\r\n        return em.find(Person.class, id);\r\n    }\r\n\r\n    public EntityManager getEm() {\r\n        return em;\r\n    }\r\n}\r\n\r\n@Stateless\r\npublic class Controller {\r\n\r\n    @PersistenceContext\r\n    EntityManager em;\r\n    @EJB\r\n    StatelessBeanA serviceA;\r\n    @EJB\r\n    StatelessBeanB serviceB;\r\n\r\n    public void execute() {\r\n        // prints &#39;false&#39;\r\n        System.out.println(Objects.equals(serviceA.getEm(), serviceB.getEm()));\r\n\r\n        Person person = new Person(&quot;oldName&quot;);\r\n        em.persist(person);\r\n        final long id = person.getId();\r\n\r\n        serviceA.changePersonName(id, &quot;newName&quot;);\r\n\r\n        // prints &#39;newName&#39;\r\n        serviceB.printsPersonName(id);\r\n\r\n        var p1 = serviceA.getPerson(id);\r\n        var p2 = serviceB.getPerson(id);\r\n\r\n        // prints &#39;true&#39;\r\n        System.out.println(Objects.equals(p1, p2));\r\n    }\r\n}\r\n```\r\n\r\nExtended persistence contexts\r\n-----------------------------\r\n\r\nTo quote the [specification](https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a11810) again:\r\n\r\n&gt; *&quot;A container-managed extended persistence context can only be initiated within the scope of a stateful session bean. It exists from the point at which the stateful session bean that declares a dependency on an entity manager of type PersistenceContextType.EXTENDED is created, and is said to be bound to the stateful session bean.&quot; ... &quot;**The persistence context is closed by the container when the @Remove method of the stateful session bean completes (or the stateful session bean instance is otherwise destroyed).**&quot;*\r\n\r\nA major disadvantage of indiscriminately using *extended persistence contexts* is the fact the persistence context will exist for the entire lifecycle of the stateful session bean. In other words, the entity instances stored in the persistence context will not be dropped until the bean is dropped.\r\n\r\nAnother disadvantage is the complex transaction flow to be observed during its use. Imagine a situation where a stateful session bean is called from a stateless session bean. Imagine also the stateless bean, before calling the stateful bean, used a *transaction-scoped entity manager*. This will create a *transaction-scoped persistence context* for the entity manager in the stateless bean. Imagine now the stateful bean uses an *extended entity manager*. When the stateless session bean calls the stateful session bean, an exception is thrown. This is because when the container tries to assign the *extended persistence context* to the current transaction, there is already a persistence context assigned to the transaction.\r\n\r\n\r\n---\r\n\r\nSo back to your question. If I understand correctly, the main reason you want to use *extended persistence contexts* is their ability to keep retrieved entity instances in memory. Well, despite being memory-inefficient (many unused entities are kept in memory), it could be argued that at least it is faster. However, even this advantage can be questioned, since the persistence providers tend to implement different layers of cache.\r\n\r\nAt last, I&#39;d like to leave the chapter 6 of the book *Pro JPA 2 in Java EE 8* as a great reference on the subject.","title":"JPA Entity Manager transaction scope vs extended scope","body":"<p>On the contrary! In general, transaction-scoped entity managers tend to be more memory efficient than extended entity managers.</p>\n<p>First, let's name the main concept in this discussion: the persistence context.</p>\n<p>According to the <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a11431\" rel=\"nofollow noreferrer\">specification</a>: &quot;<em>A persistence context is a set of entity instances in which for any persistent entity identity there is a unique entity instance</em>&quot;.</p>\n<p>Understanding the way persistence contexts interacts with JTA transactions is an essential knowledge for a JPA programmer. In both proposed scenarios, we're talking about container-managed persistence contexts. So how do they work?</p>\n<h2>Transaction-scoped persistence contexts</h2>\n<p>As the name suggests, a <em>transaction-scoped persistence context</em> is bound to a transaction and its lifecycle. It's created within a transaction and will be closed when the transaction ends. And, most importantly in our context, it's the only persistence context created for the transaction. This means that even if more than one <code>EntityManager</code> instance is created during the transaction, they will share the same persistence context.</p>\n<p>This means that different service beans that inject the <code>EntityManager</code> interface share the same set of entities (the same persistence context), despite having different <code>EntityManager</code> instances assigned to them. So calling <code>entityManager.find(class, id)</code> twice, thrice - or more, results in the same instance being returned. This is true even if the <code>find()</code> method call is made from a different <code>EntityManager</code> instance. As long as the application is running the same transaction, the same entity instance is returned - regardless from which <code>EntityManager</code> it was retrieved.</p>\n<p>Finally, being bound to a transaction, as stated earlier, implies that the persistence context is closed when the transaction closes. This means the persistence context is, first, flushed, and, then, cleared once the transaction ends. This behavior represents a huge gain in memory allocation compared to <em>extended persistence contexts</em>. This is because once the persistence context is cleared, entity instances retrieved during the transaction are garbage-collected.</p>\n<p>Let's see the shared persistence context in an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Person {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String name;\n\n    /* constructors, getters and setters omitted */\n}\n\n@Stateless\npublic class StatelessBeanA {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public void changePersonName(long id, String newName) {\n        Person person = em.find(Person.class, id);\n        person.setName(newName);\n    }\n\n    public Person getPerson(long id) {\n        return em.find(Person.class, id);\n    }\n\n    public EntityManager getEm() {\n        return em;\n    }\n}\n\n@Stateless\npublic class StatelessBeanB {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public void printsPersonName(long id) {\n        var person = em.find(Person.class, id);\n        System.out.println(person.getName());\n    }\n\n    public Person getPerson(long id) {\n        return em.find(Person.class, id);\n    }\n\n    public EntityManager getEm() {\n        return em;\n    }\n}\n\n@Stateless\npublic class Controller {\n\n    @PersistenceContext\n    EntityManager em;\n    @EJB\n    StatelessBeanA serviceA;\n    @EJB\n    StatelessBeanB serviceB;\n\n    public void execute() {\n        // prints 'false'\n        System.out.println(Objects.equals(serviceA.getEm(), serviceB.getEm()));\n\n        Person person = new Person(&quot;oldName&quot;);\n        em.persist(person);\n        final long id = person.getId();\n\n        serviceA.changePersonName(id, &quot;newName&quot;);\n\n        // prints 'newName'\n        serviceB.printsPersonName(id);\n\n        var p1 = serviceA.getPerson(id);\n        var p2 = serviceB.getPerson(id);\n\n        // prints 'true'\n        System.out.println(Objects.equals(p1, p2));\n    }\n}\n</code></pre>\n<h2>Extended persistence contexts</h2>\n<p>To quote the <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a11810\" rel=\"nofollow noreferrer\">specification</a> again:</p>\n<blockquote>\n<p><em>&quot;A container-managed extended persistence context can only be initiated within the scope of a stateful session bean. It exists from the point at which the stateful session bean that declares a dependency on an entity manager of type PersistenceContextType.EXTENDED is created, and is said to be bound to the stateful session bean.&quot; ... &quot;<strong>The persistence context is closed by the container when the @Remove method of the stateful session bean completes (or the stateful session bean instance is otherwise destroyed).</strong>&quot;</em></p>\n</blockquote>\n<p>A major disadvantage of indiscriminately using <em>extended persistence contexts</em> is the fact the persistence context will exist for the entire lifecycle of the stateful session bean. In other words, the entity instances stored in the persistence context will not be dropped until the bean is dropped.</p>\n<p>Another disadvantage is the complex transaction flow to be observed during its use. Imagine a situation where a stateful session bean is called from a stateless session bean. Imagine also the stateless bean, before calling the stateful bean, used a <em>transaction-scoped entity manager</em>. This will create a <em>transaction-scoped persistence context</em> for the entity manager in the stateless bean. Imagine now the stateful bean uses an <em>extended entity manager</em>. When the stateless session bean calls the stateful session bean, an exception is thrown. This is because when the container tries to assign the <em>extended persistence context</em> to the current transaction, there is already a persistence context assigned to the transaction.</p>\n<hr />\n<p>So back to your question. If I understand correctly, the main reason you want to use <em>extended persistence contexts</em> is their ability to keep retrieved entity instances in memory. Well, despite being memory-inefficient (many unused entities are kept in memory), it could be argued that at least it is faster. However, even this advantage can be questioned, since the persistence providers tend to implement different layers of cache.</p>\n<p>At last, I'd like to leave the chapter 6 of the book <em>Pro JPA 2 in Java EE 8</em> as a great reference on the subject.</p>\n"}],"owner":{"account_id":18308320,"reputation":41,"user_id":13331711,"display_name":"bill tsi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75709195,"answer_count":1,"score":1,"last_activity_date":1678565006,"creation_date":1678468418,"question_id":75699120,"body_markdown":"We are using EclipseLink implementation for JPA in our web application. We use an EntityManager with transcation scope (JTA transcaction type), inside a Stateless bean.\r\n\r\nFrom what I have found from several sources and after discussions with my colleges, that&#39;s the reccomended way to go with entitymanager&#39;s scope. But from my personal experiments while developing, I found several problems. For example, if you call entityManager.find(class, id), twice in a method, it will return two different objects and this is what expected to happen, because entity manager is transaction scope, and we have two seperate transactions. So this way uses more memory.\r\n\r\nMy questions is, why we shouldn&#39;t use an entity manager with extended scope inside a statefull bean. Aren&#39;t there any advantages? What problemns can it cause? \r\n\r\nWhat we use:\r\n\r\n\r\n```\r\n@Stateless\r\n@LocalBean\r\npublic class SessionBean{\r\n    @PersistanceContext(unitName = &quot;name&quot;, type = PersistenceContextType.TRANSACTION)\r\n    EntityManager entityManager;\r\n}\r\n```\r\n\r\nWhat I want to change to:\r\n\r\n\r\n```\r\n@Stateful\r\n@LocalBean\r\npublic class SessionBean{\r\n    @PersistanceContext(unitName = &quot;name&quot;, type = PersistenceContextType.EXTENDED)\r\n    EntityManager entityManager;\r\n}\r\n```\r\n","title":"JPA Entity Manager transaction scope vs extended scope","body":"<p>We are using EclipseLink implementation for JPA in our web application. We use an EntityManager with transcation scope (JTA transcaction type), inside a Stateless bean.</p>\n<p>From what I have found from several sources and after discussions with my colleges, that's the reccomended way to go with entitymanager's scope. But from my personal experiments while developing, I found several problems. For example, if you call entityManager.find(class, id), twice in a method, it will return two different objects and this is what expected to happen, because entity manager is transaction scope, and we have two seperate transactions. So this way uses more memory.</p>\n<p>My questions is, why we shouldn't use an entity manager with extended scope inside a statefull bean. Aren't there any advantages? What problemns can it cause?</p>\n<p>What we use:</p>\n<pre><code>@Stateless\n@LocalBean\npublic class SessionBean{\n    @PersistanceContext(unitName = &quot;name&quot;, type = PersistenceContextType.TRANSACTION)\n    EntityManager entityManager;\n}\n</code></pre>\n<p>What I want to change to:</p>\n<pre><code>@Stateful\n@LocalBean\npublic class SessionBean{\n    @PersistanceContext(unitName = &quot;name&quot;, type = PersistenceContextType.EXTENDED)\n    EntityManager entityManager;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678561516,"post_id":75708819,"comment_id":133559241,"body_markdown":"The AdminClient is exactly what you want. Please clarify why that isn&#39;t working for you","body":"The AdminClient is exactly what you want. Please clarify why that isn&#39;t working for you"},{"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"score":0,"creation_date":1678563080,"post_id":75708819,"comment_id":133559468,"body_markdown":"adminClient.describeTopics(Collections.singleton(topic)).allTopicNames().get().containsKey(topic); is that the only way to check it? if not I want to find out the simplest way possible of doing it.","body":"adminClient.describeTopics(Collections.singleton(topic)).all&zwnj;&#8203;TopicNames().get().c&zwnj;&#8203;ontainsKey(topic); is that the only way to check it? if not I want to find out the simplest way possible of doing it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678583434,"post_id":75708819,"comment_id":133561867,"body_markdown":"That&#39;s the only way, via Java AdminClient, yes. The alternative would be to run `kafka-topics` shell script (which calls the same method) and parse its output. I think you meant `all().get`, not `allTopicNames()`? Also, you could just check non empty since the map is more or less guaranteed to have that key you&#39;ve described, if the describe was successful","body":"That&#39;s the only way, via Java AdminClient, yes. The alternative would be to run <code>kafka-topics</code> shell script (which calls the same method) and parse its output. I think you meant <code>all().get</code>, not <code>allTopicNames()</code>? Also, you could just check non empty since the map is more or less guaranteed to have that key you&#39;ve described, if the describe was successful"},{"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"score":0,"creation_date":1678632045,"post_id":75708819,"comment_id":133567137,"body_markdown":"It looks like `all()` is deprecated since version 3.1, and what&#39;s the usage of default method `adminClient.listTopics().names().get()`?","body":"It looks like <code>all()</code> is deprecated since version 3.1, and what&#39;s the usage of default method <code>adminClient.listTopics().names().get()</code>?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678638228,"post_id":75708819,"comment_id":133568258,"body_markdown":"Okay, I was looking at 2.4 javadoc... What do you mean by default method?","body":"Okay, I was looking at 2.4 javadoc... What do you mean by default method?"},{"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"score":0,"creation_date":1678643332,"post_id":75708819,"comment_id":133569213,"body_markdown":"`default ListTopicsResult listTopics(), ListTopicsResult listTopics​(ListTopicsOptions options)` Ref: [Interface Admin](https://kafka.apache.org/30/javadoc/org/apache/kafka/clients/admin/Admin.html)","body":"<code>default ListTopicsResult listTopics(), ListTopicsResult listTopics​(ListTopicsOptions options)</code> Ref: <a href=\"https://kafka.apache.org/30/javadoc/org/apache/kafka/clients/admin/Admin.html\" rel=\"nofollow noreferrer\">Interface Admin</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678738356,"post_id":75708819,"comment_id":133588855,"body_markdown":"What exactly is your question? You don&#39;t need to list all topics when you can only describe one of them","body":"What exactly is your question? You don&#39;t need to list all topics when you can only describe one of them"},{"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"score":0,"creation_date":1678907264,"post_id":75708819,"comment_id":133626069,"body_markdown":"I&#39;m able to proceed with the `adminClient.describeTopics()` method. Thanks for the information.","body":"I&#39;m able to proceed with the <code>adminClient.describeTopics()</code> method. Thanks for the information."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678913096,"post_id":75708819,"comment_id":133627428,"body_markdown":"Glad to hear. Feel free to accept the below answer using the checkmark next to the post","body":"Glad to hear. Feel free to accept the below answer using the checkmark next to the post"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678562137,"creation_date":1678562137,"answer_id":75708926,"question_id":75708819,"body_markdown":"You should pass an AdminClient instance into both methods. The client already is defined with a bootstrap server property, so you wouldn&#39;t set a new one for the cluster check (`describeCluster` or `describeTopics` will both make a network request to the cluster, thus checking connectivity)\r\n\r\nIf you want to really check cluster health, you&#39;d expose JMX metrics on the servers, not from a client ","title":"How to check Kafka cluster connectivity and topic availability status using Spring Boot","body":"<p>You should pass an AdminClient instance into both methods. The client already is defined with a bootstrap server property, so you wouldn't set a new one for the cluster check (<code>describeCluster</code> or <code>describeTopics</code> will both make a network request to the cluster, thus checking connectivity)</p>\n<p>If you want to really check cluster health, you'd expose JMX metrics on the servers, not from a client</p>\n"}],"owner":{"account_id":27835226,"reputation":25,"user_id":21252826,"display_name":"Dave"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75708926,"answer_count":1,"score":0,"last_activity_date":1678564893,"creation_date":1678560761,"question_id":75708819,"body_markdown":"I want to implement 2 separate methods to return boolean value based on Kafka cluster connectivity and then Kafka topic availability status.\r\n\r\n\r\n\r\nHowever the [KafkaAdmin/Admin](https://docs.spring.io/spring-kafka/reference/html/#topicCheckTimeout) provides methods to return topic list and descriptions at runtime. But I am not able to finalize the best approach to proceed further for both connectivity and topic availability check using Spring Boot.\r\n\r\n```\r\n@Component\r\n@AllArgsConstructor\r\npublic class KafkaAdminstrator{\r\n\r\n    private final AdminClient adminClient;\r\n\r\n    public boolean isKafkaClusterExists(String bootstrapServer){\r\n        //Kafka cluster connectivity check \r\n    ...\r\n    }\r\n\r\n    public boolean isTopicExists(String topic){\r\n        //Kafka topic availability check\r\n        //adminClient.describeTopics(topic);\r\n    ...\r\n    }\r\n}\r\n```","title":"How to check Kafka cluster connectivity and topic availability status using Spring Boot","body":"<p>I want to implement 2 separate methods to return boolean value based on Kafka cluster connectivity and then Kafka topic availability status.</p>\n<p>However the <a href=\"https://docs.spring.io/spring-kafka/reference/html/#topicCheckTimeout\" rel=\"nofollow noreferrer\">KafkaAdmin/Admin</a> provides methods to return topic list and descriptions at runtime. But I am not able to finalize the best approach to proceed further for both connectivity and topic availability check using Spring Boot.</p>\n<pre><code>@Component\n@AllArgsConstructor\npublic class KafkaAdminstrator{\n\n    private final AdminClient adminClient;\n\n    public boolean isKafkaClusterExists(String bootstrapServer){\n        //Kafka cluster connectivity check \n    ...\n    }\n\n    public boolean isTopicExists(String topic){\n        //Kafka topic availability check\n        //adminClient.describeTopics(topic);\n    ...\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","controller","dto"],"comments":[{"owner":{"account_id":2443404,"reputation":105,"user_id":2131323,"accept_rate":100,"display_name":"user2131323"},"score":2,"creation_date":1678558096,"post_id":75707784,"comment_id":133558102,"body_markdown":"Please dont use images. Provide the code as part of the question\nhttps://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors","body":"Please dont use images. Provide the code as part of the question <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1678564514,"creation_date":1678564514,"answer_id":75709137,"question_id":75707784,"body_markdown":"In the request body, you should not use `kPartIds` instead use `kpartIds`. When Lombok generates the get/set method it will change the first character to uppercase. Now the second character is also uppercase. So while converting JSON to object it will find both as lower character objects.\r\n\r\n```\r\n{\r\n    &quot;title&quot;: &quot;Test&quot;,\r\n    &quot;kpackIds&quot;: [5, 10]\r\n}\r\n```\r\n\r\nAlso as @user2131323 mentioned. Use actual code snippets instead of images.","title":"Spring does not convert JSON array to list in my DTO","body":"<p>In the request body, you should not use <code>kPartIds</code> instead use <code>kpartIds</code>. When Lombok generates the get/set method it will change the first character to uppercase. Now the second character is also uppercase. So while converting JSON to object it will find both as lower character objects.</p>\n<pre><code>{\n    &quot;title&quot;: &quot;Test&quot;,\n    &quot;kpackIds&quot;: [5, 10]\n}\n</code></pre>\n<p>Also as @user2131323 mentioned. Use actual code snippets instead of images.</p>\n"}],"owner":{"account_id":27992945,"reputation":3,"user_id":21378638,"display_name":"Макс Тимощенко"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75709137,"answer_count":1,"score":-2,"last_activity_date":1678564514,"creation_date":1678558012,"question_id":75707784,"body_markdown":"Does Spring allow to convert list of elements from json to `List&lt;Long&gt;` in my dto? What I&#39;m doing wrong? Hemp mw please to solve this problem.\r\n\r\nhttps://i.stack.imgur.com/oWezk.png\r\nhttps://i.stack.imgur.com/PIG4x.png https://i.stack.imgur.com/3C4gu.png https://i.stack.imgur.com/evXIY.png\r\n\r\nI tried everything just can&#39;t find the problem.","title":"Spring does not convert JSON array to list in my DTO","body":"<p>Does Spring allow to convert list of elements from json to <code>List&lt;Long&gt;</code> in my dto? What I'm doing wrong? Hemp mw please to solve this problem.</p>\n<p><a href=\"https://i.stack.imgur.com/oWezk.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/oWezk.png</a>\n<a href=\"https://i.stack.imgur.com/PIG4x.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/PIG4x.png</a> <a href=\"https://i.stack.imgur.com/3C4gu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3C4gu.png</a> <a href=\"https://i.stack.imgur.com/evXIY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/evXIY.png</a></p>\n<p>I tried everything just can't find the problem.</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678563986,"creation_date":1678563986,"answer_id":75709098,"question_id":75709008,"body_markdown":"Easiest way is to pass a callback listener to the adapter\r\n\r\n````\r\n// in your adapter\r\nvar storyClickedListener: ((story: Story) -&gt; Unit)? = null\r\n\r\n// in your item click listener\r\nholder.cardview.setOnClickListener {\r\n    // if there&#39;s a listener, call it and pass the clicked Story\r\n    storyClickedListener?.invoke(dataSet[position])\r\n}\r\n````\r\n\r\nThen in your Activity or whatever, pass a listener function to the Adapter which does whatever you need to do:\r\n\r\n````\r\nstoriesAdapter.storyClickedListener = { story -&gt;\r\n    // react to the click\r\n}\r\n````\r\n\r\nThat way the adapter doesn&#39;t need to know anything about the Activity it&#39;s inside (and it shouldn&#39;t really) - it just has a listener it can inform when an event happens. The owner of the listener handles the details of what happens in response.\r\n\r\nThe classic Java way to do this would be with an interface - create an interface with a callback function, make the Activity implement it, pass the Activity to the Adapter as an instance of `YourCallbackInterface` so it can call that listener function. Same thing, but wih Kotlin you can just pass a function like this, nice and simple!\r\n\r\nAlso you don&#39;t *need* to pass a `Story` as a parameter, but usually you&#39;d want to pass some info about what&#39;s been clicked","title":"changing a layout in MainActivity from ArrayAdapter OnBindViewHolder","body":"<p>Easiest way is to pass a callback listener to the adapter</p>\n<pre><code>// in your adapter\nvar storyClickedListener: ((story: Story) -&gt; Unit)? = null\n\n// in your item click listener\nholder.cardview.setOnClickListener {\n    // if there's a listener, call it and pass the clicked Story\n    storyClickedListener?.invoke(dataSet[position])\n}\n</code></pre>\n<p>Then in your Activity or whatever, pass a listener function to the Adapter which does whatever you need to do:</p>\n<pre><code>storiesAdapter.storyClickedListener = { story -&gt;\n    // react to the click\n}\n</code></pre>\n<p>That way the adapter doesn't need to know anything about the Activity it's inside (and it shouldn't really) - it just has a listener it can inform when an event happens. The owner of the listener handles the details of what happens in response.</p>\n<p>The classic Java way to do this would be with an interface - create an interface with a callback function, make the Activity implement it, pass the Activity to the Adapter as an instance of <code>YourCallbackInterface</code> so it can call that listener function. Same thing, but wih Kotlin you can just pass a function like this, nice and simple!</p>\n<p>Also you don't <em>need</em> to pass a <code>Story</code> as a parameter, but usually you'd want to pass some info about what's been clicked</p>\n"}],"owner":{"account_id":13377038,"reputation":3,"user_id":9653632,"display_name":"Alireza Rashidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75709098,"answer_count":1,"score":0,"last_activity_date":1678563986,"creation_date":1678562939,"question_id":75709008,"body_markdown":"so i have my main activity which is as below and i have a custom adapter named StoryAdapter. the visibilty of the last linearlayout which is specified with storyImageContainer id (android:id=&quot;@+id/storyImageContainer&quot;) set to &quot;GONE&quot;. i want to make it &quot;VISIBLE&quot; when i click on any items clicklistener of storyAdapter but im not able to find the linearlayout from onBindViewHolder or StoryAdapter.\r\n\r\n1- the layout file \r\n\r\n```\r\n\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layoutDirection=&quot;rtl&quot;\r\n    android:textDirection=&quot;rtl&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/story&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;androidx.core.widget.NestedScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/storiesbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n                &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n\r\n            &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/ic_shadow_2&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;FrameLayout\r\n            android:layout_above=&quot;@id/view2&quot;\r\n            android:layout_below=&quot;@id/story&quot;\r\n            android:id=&quot;@+id/framelayoutmainpage&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/story&quot;&gt;\r\n\r\n\r\n        &lt;/FrameLayout&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/view2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;5dp&quot;\r\n            android:background=&quot;@drawable/ic_shadow_1&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:id=&quot;@+id/linearLayout2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:layoutDirection=&quot;rtl&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:weightSum=&quot;8&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/mainpage&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/homeImageView&quot;\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:src=&quot;@drawable/ic_outline_home_24&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/homeTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\r\n                    android:text=&quot;صفحه اصلی&quot;\r\n                    android:textColor=&quot;@color/gray_text&quot;\r\n                    android:textSize=&quot;15sp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/learnpage&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/learnImageView&quot;\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:src=&quot;@drawable/ic_outline_library_books_24&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/learnTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\r\n                    android:text=&quot;آموزش&quot;\r\n                    android:textColor=&quot;@color/gray_text&quot;\r\n                    android:textSize=&quot;15sp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/servicepage&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/serviceImageView&quot;\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:src=&quot;@drawable/ic_outline_dashboard_24&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/serviceTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\r\n                    android:text=&quot;خدمات&quot;\r\n                    android:textColor=&quot;@color/gray_text&quot;\r\n                    android:textSize=&quot;15sp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/aboutuspage&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/aboutImageView&quot;\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:src=&quot;@drawable/ic_outline_insert_chart_24&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/aboutTextView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\r\n                    android:text=&quot;درباره ما&quot;\r\n                    android:textColor=&quot;@color/gray_text&quot;\r\n                    android:textSize=&quot;15sp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:background=&quot;@drawable/acclogo&quot;\r\n        android:id=&quot;@+id/storyImageContainer&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/storyImage&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;/ImageView&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\nand the kotlin code of MainActivity \r\n\r\n```\r\n package com.myket.bahahesab\r\n\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.View\r\nimport android.view.animation.AnimationUtils\r\nimport android.widget.*\r\nimport androidx.core.content.ContextCompat\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.fragment.app.FragmentManager\r\nimport androidx.fragment.app.FragmentTransaction\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    lateinit var fragment : Fragment\r\n    lateinit var framelayout : FrameLayout\r\n    lateinit var fragmentManager: FragmentManager\r\n    lateinit var fragmentTransaction : FragmentTransaction\r\n    lateinit var storiesbar : RecyclerView\r\n\r\n\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        var linearLayout = findViewById&lt;LinearLayout&gt;(R.id.storyImageContainer)\r\n        storielist()\r\n\r\n\r\n\r\n\r\n\r\n        //action bar and status bar\r\n        window.statusBarColor = ContextCompat.getColor(this, R.color.main_statusbarcolor)\r\n        window.decorView.layoutDirection = View.LAYOUT_DIRECTION_RTL\r\n\r\n        fragment = HomePageFragment();\r\n        fragmentManager = supportFragmentManager\r\n        fragmentTransaction = fragmentManager.beginTransaction()\r\n        fragmentTransaction.add(R.id.framelayoutmainpage, fragment).commit()\r\n\r\n        var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\r\n        var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\r\n        homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_home_24))\r\n        homeTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\r\n\r\n        var mainpage = findViewById&lt;LinearLayout&gt;(R.id.mainpage)\r\n        var learnpage = findViewById&lt;LinearLayout&gt;(R.id.learnpage)\r\n        var servicepage = findViewById&lt;LinearLayout&gt;(R.id.servicepage)\r\n        var aboutuspage = findViewById&lt;LinearLayout&gt;(R.id.aboutuspage)\r\n\r\n\r\n        mainpage.setOnClickListener(View.OnClickListener {\r\n                if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is HomePageFragment){\r\n                    fragment = HomePageFragment();\r\n                    var fragmentTransaction2 = fragmentManager.beginTransaction()\r\n                    fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\r\n\r\n                    var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\r\n                    var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\r\n                    homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_home_24))\r\n                    homeTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\r\n\r\n                    var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\r\n                    var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\r\n                    learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_library_books_24))\r\n                    learnTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                    var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\r\n                    var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\r\n                    serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_dashboard_24))\r\n                    serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                    var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\r\n                    var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\r\n                    aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_insert_chart_24))\r\n                    aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n\r\n                }\r\n\r\n        })\r\n\r\n        learnpage.setOnClickListener(View.OnClickListener {\r\n\r\n\r\n            if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is LearnPageFragment){\r\n                fragment = LearnPageFragment()\r\n                var fragmentTransaction2 = fragmentManager.beginTransaction()\r\n                fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\r\n\r\n                var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\r\n                var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\r\n                homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_home_24))\r\n                homeTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\r\n                var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\r\n                learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_library_books_24))\r\n                learnTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\r\n\r\n                var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\r\n                var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\r\n                serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_dashboard_24))\r\n                serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\r\n                var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\r\n                aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_insert_chart_24))\r\n                aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n            }\r\n\r\n        })\r\n\r\n        servicepage.setOnClickListener(View.OnClickListener {\r\n\r\n\r\n            if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is ServicePageFragment){\r\n                fragment = ServicePageFragment()\r\n                var fragmentTransaction2 = fragmentManager.beginTransaction()\r\n                fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\r\n\r\n                var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\r\n                var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\r\n                homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_home_24))\r\n                homeTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\r\n                var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\r\n                learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_library_books_24))\r\n                learnTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\r\n                var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\r\n                serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_dashboard_24))\r\n                serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\r\n\r\n                var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\r\n                var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\r\n                aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_insert_chart_24))\r\n                aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n            }\r\n\r\n        })\r\n\r\n        aboutuspage.setOnClickListener(View.OnClickListener {\r\n\r\n\r\n            if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is AboutPageFragment){\r\n                fragment = AboutPageFragment()\r\n                var fragmentTransaction2 = fragmentManager.beginTransaction()\r\n                fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\r\n\r\n                var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\r\n                var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\r\n                homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_home_24))\r\n                homeTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\r\n                var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\r\n                learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_library_books_24))\r\n                learnTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\r\n                var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\r\n                serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_dashboard_24))\r\n                serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\r\n\r\n                var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\r\n                var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\r\n                aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_insert_chart_24))\r\n                aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\r\n            }\r\n\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    fun storielist(){\r\n        storiesbar = findViewById(R.id.storiesbar)\r\n        var storiesList = ArrayList&lt;Story&gt;()\r\n        storiesList.add(Story(false))\r\n        storiesList.add(Story(false))\r\n        storiesList.add(Story(false))\r\n        storiesList.add(Story(false))\r\n        storiesList.add(Story(false))\r\n\r\n\r\n\r\n\r\n\r\n        var storiesAdapter = StoryAdapter(storiesList, this)\r\n        storiesbar.adapter = storiesAdapter\r\n        storiesbar.layoutManager = LinearLayoutManager(this, RecyclerView.HORIZONTAL, false)\r\n\r\n\r\n\r\n    }\r\n\r\n    override fun onBackPressed() {\r\n        finishAffinity()\r\n        finish()\r\n    }\r\n}\r\n```\r\n\r\nadapter code ******************\r\n\r\n```\r\npackage com.myket.bahahesab\r\n\r\nimport android.app.ActivityOptions\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.content.res.ColorStateList\r\nimport android.graphics.Color\r\nimport android.hardware.camera2.params.ColorSpaceTransform\r\nimport android.os.Build\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.view.animation.Animation\r\nimport android.view.animation.AnimationUtils\r\nimport android.widget.EditText\r\nimport android.widget.LinearLayout\r\nimport android.widget.Toast\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.cardview.widget.CardView\r\nimport androidx.core.content.ContextCompat\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport kotlinx.coroutines.NonDisposableHandle.parent\r\nimport java.util.zip.Inflater\r\n\r\nclass StoryAdapter(var dataSet : List&lt;Story&gt;, var context : Context) : RecyclerView.Adapter&lt;StoryAdapter.ViewHolder&gt;() {\r\n\r\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view){\r\n        var cardview : CardView = view.findViewById&lt;CardView&gt;(R.id.outlinestory)\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        var layoutInflater = LayoutInflater.from(parent.context)\r\n        var view = layoutInflater.inflate(R.layout.story_item, parent, false)\r\n        var viewholder = StoryAdapter.ViewHolder(view)\r\n        return viewholder\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.M)\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n\r\n        if (dataSet[position].seen){\r\n            holder.cardview.setCardBackgroundColor(context.resources.getColor(R.color.seenStory))\r\n        }else {\r\n            holder.cardview.setCardBackgroundColor(context.resources.getColor(R.color.main_bahahesabColor))\r\n        }\r\n\r\n        holder.cardview.setOnClickListener(View.OnClickListener {\r\n\r\n        })\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return dataSet.count()\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\ni used findViewById and tried finding it through context but was enabled cause it said the variable lateinit is nit initialized","title":"changing a layout in MainActivity from ArrayAdapter OnBindViewHolder","body":"<p>so i have my main activity which is as below and i have a custom adapter named StoryAdapter. the visibilty of the last linearlayout which is specified with storyImageContainer id (android:id=&quot;@+id/storyImageContainer&quot;) set to &quot;GONE&quot;. i want to make it &quot;VISIBLE&quot; when i click on any items clicklistener of storyAdapter but im not able to find the linearlayout from onBindViewHolder or StoryAdapter.</p>\n<p>1- the layout file</p>\n<pre><code>\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layoutDirection=&quot;rtl&quot;\n    android:textDirection=&quot;rtl&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n\n\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/story&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/white&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;androidx.core.widget.NestedScrollView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;androidx.recyclerview.widget.RecyclerView\n                    android:id=&quot;@+id/storiesbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n                &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n\n            &lt;/androidx.core.widget.NestedScrollView&gt;\n\n            &lt;View\n                android:id=&quot;@+id/view1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;5dp&quot;\n                android:background=&quot;@drawable/ic_shadow_2&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n\n        &lt;FrameLayout\n            android:layout_above=&quot;@id/view2&quot;\n            android:layout_below=&quot;@id/story&quot;\n            android:id=&quot;@+id/framelayoutmainpage&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout2&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/story&quot;&gt;\n\n\n        &lt;/FrameLayout&gt;\n\n        &lt;View\n            android:id=&quot;@+id/view2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;5dp&quot;\n            android:background=&quot;@drawable/ic_shadow_1&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n\n        &lt;LinearLayout\n\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:id=&quot;@+id/linearLayout2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@color/white&quot;\n            android:layoutDirection=&quot;rtl&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:weightSum=&quot;8&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/mainpage&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_weight=&quot;2&quot;\n                android:gravity=&quot;center&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;ImageView\n                    android:id=&quot;@+id/homeImageView&quot;\n                    android:layout_width=&quot;30dp&quot;\n                    android:layout_height=&quot;30dp&quot;\n                    android:src=&quot;@drawable/ic_outline_home_24&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/homeTextView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\n                    android:text=&quot;صفحه اصلی&quot;\n                    android:textColor=&quot;@color/gray_text&quot;\n                    android:textSize=&quot;15sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/learnpage&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_weight=&quot;2&quot;\n                android:gravity=&quot;center&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;ImageView\n                    android:id=&quot;@+id/learnImageView&quot;\n                    android:layout_width=&quot;30dp&quot;\n                    android:layout_height=&quot;30dp&quot;\n                    android:src=&quot;@drawable/ic_outline_library_books_24&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/learnTextView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\n                    android:text=&quot;آموزش&quot;\n                    android:textColor=&quot;@color/gray_text&quot;\n                    android:textSize=&quot;15sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/servicepage&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_weight=&quot;2&quot;\n                android:gravity=&quot;center&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;ImageView\n                    android:id=&quot;@+id/serviceImageView&quot;\n                    android:layout_width=&quot;30dp&quot;\n                    android:layout_height=&quot;30dp&quot;\n                    android:src=&quot;@drawable/ic_outline_dashboard_24&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/serviceTextView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\n                    android:text=&quot;خدمات&quot;\n                    android:textColor=&quot;@color/gray_text&quot;\n                    android:textSize=&quot;15sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/aboutuspage&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_weight=&quot;2&quot;\n                android:gravity=&quot;center&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;ImageView\n                    android:id=&quot;@+id/aboutImageView&quot;\n                    android:layout_width=&quot;30dp&quot;\n                    android:layout_height=&quot;30dp&quot;\n                    android:src=&quot;@drawable/ic_outline_insert_chart_24&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/aboutTextView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/b_nazanin&quot;\n                    android:text=&quot;درباره ما&quot;\n                    android:textColor=&quot;@color/gray_text&quot;\n                    android:textSize=&quot;15sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;LinearLayout\n        android:background=&quot;@drawable/acclogo&quot;\n        android:id=&quot;@+id/storyImageContainer&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/storyImage&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;/ImageView&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n\n\n\n\n\n\n</code></pre>\n<p>and the kotlin code of MainActivity</p>\n<pre><code> package com.myket.bahahesab\n\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.view.animation.AnimationUtils\nimport android.widget.*\nimport androidx.core.content.ContextCompat\nimport androidx.fragment.app.Fragment\nimport androidx.fragment.app.FragmentManager\nimport androidx.fragment.app.FragmentTransaction\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\n\nclass MainActivity : AppCompatActivity() {\n\n    lateinit var fragment : Fragment\n    lateinit var framelayout : FrameLayout\n    lateinit var fragmentManager: FragmentManager\n    lateinit var fragmentTransaction : FragmentTransaction\n    lateinit var storiesbar : RecyclerView\n\n\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        var linearLayout = findViewById&lt;LinearLayout&gt;(R.id.storyImageContainer)\n        storielist()\n\n\n\n\n\n        //action bar and status bar\n        window.statusBarColor = ContextCompat.getColor(this, R.color.main_statusbarcolor)\n        window.decorView.layoutDirection = View.LAYOUT_DIRECTION_RTL\n\n        fragment = HomePageFragment();\n        fragmentManager = supportFragmentManager\n        fragmentTransaction = fragmentManager.beginTransaction()\n        fragmentTransaction.add(R.id.framelayoutmainpage, fragment).commit()\n\n        var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\n        var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\n        homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_home_24))\n        homeTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\n\n        var mainpage = findViewById&lt;LinearLayout&gt;(R.id.mainpage)\n        var learnpage = findViewById&lt;LinearLayout&gt;(R.id.learnpage)\n        var servicepage = findViewById&lt;LinearLayout&gt;(R.id.servicepage)\n        var aboutuspage = findViewById&lt;LinearLayout&gt;(R.id.aboutuspage)\n\n\n        mainpage.setOnClickListener(View.OnClickListener {\n                if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is HomePageFragment){\n                    fragment = HomePageFragment();\n                    var fragmentTransaction2 = fragmentManager.beginTransaction()\n                    fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\n\n                    var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\n                    var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\n                    homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_home_24))\n                    homeTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\n\n                    var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\n                    var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\n                    learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_library_books_24))\n                    learnTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                    var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\n                    var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\n                    serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_dashboard_24))\n                    serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                    var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\n                    var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\n                    aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_insert_chart_24))\n                    aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n\n                }\n\n        })\n\n        learnpage.setOnClickListener(View.OnClickListener {\n\n\n            if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is LearnPageFragment){\n                fragment = LearnPageFragment()\n                var fragmentTransaction2 = fragmentManager.beginTransaction()\n                fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\n\n                var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\n                var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\n                homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_home_24))\n                homeTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\n                var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\n                learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_library_books_24))\n                learnTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\n\n                var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\n                var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\n                serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_dashboard_24))\n                serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\n                var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\n                aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_insert_chart_24))\n                aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n            }\n\n        })\n\n        servicepage.setOnClickListener(View.OnClickListener {\n\n\n            if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is ServicePageFragment){\n                fragment = ServicePageFragment()\n                var fragmentTransaction2 = fragmentManager.beginTransaction()\n                fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\n\n                var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\n                var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\n                homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_home_24))\n                homeTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\n                var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\n                learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_library_books_24))\n                learnTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\n                var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\n                serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_dashboard_24))\n                serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\n\n                var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\n                var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\n                aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_insert_chart_24))\n                aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n            }\n\n        })\n\n        aboutuspage.setOnClickListener(View.OnClickListener {\n\n\n            if (fragmentManager.findFragmentById(R.id.framelayoutmainpage) !is AboutPageFragment){\n                fragment = AboutPageFragment()\n                var fragmentTransaction2 = fragmentManager.beginTransaction()\n                fragmentTransaction2.replace(R.id.framelayoutmainpage, fragment).commit()\n\n                var homeImageView = findViewById&lt;ImageView&gt;(R.id.homeImageView)\n                var homeTextView = findViewById&lt;TextView&gt;(R.id.homeTextView)\n                homeImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_home_24))\n                homeTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                var learnImageView = findViewById&lt;ImageView&gt;(R.id.learnImageView)\n                var learnTextView = findViewById&lt;TextView&gt;(R.id.learnTextView)\n                learnImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_library_books_24))\n                learnTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                var serviceImageView = findViewById&lt;ImageView&gt;(R.id.serviceImageView)\n                var serviceTextView = findViewById&lt;TextView&gt;(R.id.serviceTextView)\n                serviceImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_outline_dashboard_24))\n                serviceTextView.setTextColor(ContextCompat.getColor(this, R.color.gray_text))\n\n                var aboutImageView = findViewById&lt;ImageView&gt;(R.id.aboutImageView)\n                var aboutTextView = findViewById&lt;TextView&gt;(R.id.aboutTextView)\n                aboutImageView.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_baseline_insert_chart_24))\n                aboutTextView.setTextColor(ContextCompat.getColor(this, R.color.black))\n            }\n\n        })\n\n\n\n    }\n\n    fun storielist(){\n        storiesbar = findViewById(R.id.storiesbar)\n        var storiesList = ArrayList&lt;Story&gt;()\n        storiesList.add(Story(false))\n        storiesList.add(Story(false))\n        storiesList.add(Story(false))\n        storiesList.add(Story(false))\n        storiesList.add(Story(false))\n\n\n\n\n\n        var storiesAdapter = StoryAdapter(storiesList, this)\n        storiesbar.adapter = storiesAdapter\n        storiesbar.layoutManager = LinearLayoutManager(this, RecyclerView.HORIZONTAL, false)\n\n\n\n    }\n\n    override fun onBackPressed() {\n        finishAffinity()\n        finish()\n    }\n}\n</code></pre>\n<p>adapter code ******************</p>\n<pre><code>package com.myket.bahahesab\n\nimport android.app.ActivityOptions\nimport android.content.Context\nimport android.content.Intent\nimport android.content.res.ColorStateList\nimport android.graphics.Color\nimport android.hardware.camera2.params.ColorSpaceTransform\nimport android.os.Build\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.view.animation.Animation\nimport android.view.animation.AnimationUtils\nimport android.widget.EditText\nimport android.widget.LinearLayout\nimport android.widget.Toast\nimport androidx.annotation.RequiresApi\nimport androidx.cardview.widget.CardView\nimport androidx.core.content.ContextCompat\nimport androidx.recyclerview.widget.RecyclerView\nimport kotlinx.coroutines.NonDisposableHandle.parent\nimport java.util.zip.Inflater\n\nclass StoryAdapter(var dataSet : List&lt;Story&gt;, var context : Context) : RecyclerView.Adapter&lt;StoryAdapter.ViewHolder&gt;() {\n\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view){\n        var cardview : CardView = view.findViewById&lt;CardView&gt;(R.id.outlinestory)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        var layoutInflater = LayoutInflater.from(parent.context)\n        var view = layoutInflater.inflate(R.layout.story_item, parent, false)\n        var viewholder = StoryAdapter.ViewHolder(view)\n        return viewholder\n    }\n\n    @RequiresApi(Build.VERSION_CODES.M)\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n        if (dataSet[position].seen){\n            holder.cardview.setCardBackgroundColor(context.resources.getColor(R.color.seenStory))\n        }else {\n            holder.cardview.setCardBackgroundColor(context.resources.getColor(R.color.main_bahahesabColor))\n        }\n\n        holder.cardview.setOnClickListener(View.OnClickListener {\n\n        })\n\n    }\n\n    override fun getItemCount(): Int {\n        return dataSet.count()\n    }\n\n}\n</code></pre>\n<pre><code>\n\ni used findViewById and tried finding it through context but was enabled cause it said the variable lateinit is nit initialized\n</code></pre>\n"},{"tags":["java","windows","intellij-idea","input","newline"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1678552933,"post_id":75706355,"comment_id":133556462,"body_markdown":"Curious: have you checked the raw `InputStream` (just `System.in`)?  Does it contain a carriage return?","body":"Curious: have you checked the raw <code>InputStream</code> (just <code>System.in</code>)?  Does it contain a carriage return?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1678553032,"post_id":75706355,"comment_id":133556482,"body_markdown":"Also: run this code on the command line w/ no IDE.  IntelliJ may be doing things differently that the Windows OS.","body":"Also: run this code on the command line w/ no IDE.  IntelliJ may be doing things differently that the Windows OS."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1678553053,"post_id":75706355,"comment_id":133556486,"body_markdown":"I get 13 when running this in Eclipse. But you should try running from the command line.","body":"I get 13 when running this in Eclipse. But you should try running from the command line."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1678553095,"post_id":75706355,"comment_id":133556495,"body_markdown":"If your Scanner will read fixed data like `Scanner reader = new Scanner(&quot;\\r\\n&quot;);` it returns `13` (so \\r) and 10 (\\n). My guess is that your IDE is set to have only `\\n` as line separator (even if it runs on Windows).","body":"If your Scanner will read fixed data like <code>Scanner reader = new Scanner(&quot;\\r\\n&quot;);</code> it returns <code>13</code> (so \\r) and 10 (\\n). My guess is that your IDE is set to have only <code>\\n</code> as line separator (even if it runs on Windows)."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":1,"creation_date":1678713395,"post_id":75706355,"comment_id":133581433,"body_markdown":"Seems like a bug. I have created a bug report here: https://youtrack.jetbrains.com/issue/IDEA-315253/.","body":"Seems like a bug. I have created a bug report here: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-315253/\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-315253</a>."}],"owner":{"account_id":1713052,"reputation":5733,"user_id":1818935,"accept_rate":91,"display_name":"Evan Aad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678563478,"creation_date":1678552195,"question_id":75706355,"body_markdown":"When I run the following class from *IntelliJ* on a Windows 10:\r\n\r\n    import java.util.Scanner;\r\n    public class Main\r\n    {\r\n        public static void main(String ... args)\r\n        {\r\n            Scanner reader = new Scanner(System.in);\r\n            reader.useDelimiter(&quot;&quot;);\r\n            String s = reader.next();\r\n            System.out.println((int)s.charAt(0));\r\n        }\r\n    }\r\n\r\nand I press the `Enter` key as the input, the output is:\r\n\r\n    10\r\n\r\nThis baffles me, since the Windows line separator is the 2 character sequence `\\r\\n`. Why isn&#39;t the output\r\n\r\n    13\r\n\r\n?","title":"Why does the Scanner class return \\n as the first newline character on IntelliJ+Windows?","body":"<p>When I run the following class from <em>IntelliJ</em> on a Windows 10:</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String ... args)\n    {\n        Scanner reader = new Scanner(System.in);\n        reader.useDelimiter(&quot;&quot;);\n        String s = reader.next();\n        System.out.println((int)s.charAt(0));\n    }\n}\n</code></pre>\n<p>and I press the <code>Enter</code> key as the input, the output is:</p>\n<pre><code>10\n</code></pre>\n<p>This baffles me, since the Windows line separator is the 2 character sequence <code>\\r\\n</code>. Why isn't the output</p>\n<pre><code>13\n</code></pre>\n<p>?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1678567853,"post_id":75708976,"comment_id":133560121,"body_markdown":"When was the last time it worked?  Was it same machine?  Do you know any changes that were made?  Most likely you are not connecting to the service due to credential changes like going to https (from http) or now using credentials OAUTH2 instead of older credentials.  Both of these type issues are common.","body":"When was the last time it worked?  Was it same machine?  Do you know any changes that were made?  Most likely you are not connecting to the service due to credential changes like going to https (from http) or now using credentials OAUTH2 instead of older credentials.  Both of these type issues are common."},{"owner":{"account_id":18288154,"reputation":57,"user_id":13315559,"display_name":"mahmoud elmahgoub"},"score":0,"creation_date":1678569675,"post_id":75708976,"comment_id":133560356,"body_markdown":"it worked with me till now in the old projects which have build.gradle (project) level different from the newest projects","body":"it worked with me till now in the old projects which have build.gradle (project) level different from the newest projects"},{"owner":{"account_id":18288154,"reputation":57,"user_id":13315559,"display_name":"mahmoud elmahgoub"},"score":0,"creation_date":1678569896,"post_id":75708976,"comment_id":133560389,"body_markdown":"when I added searchview in xml layout \n\n   &lt;com.miguelcatalan.materialsearchview.MaterialSearchView&gt;\n          \nI have this error\n\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.","body":"when I added searchview in xml layout      &lt;com.miguelcatalan.materialsearchview.MaterialSearchView&gt;            I have this error  Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientC&zwnj;&#8203;onfiguration$Artifac&zwnj;&#8203;tResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1678569906,"post_id":75708976,"comment_id":133560391,"body_markdown":"Open config file with text editor and compare differences : https://developer.android.com/studio/build.  Looks like you did that.  See following : https://stackoverflow.com/questions/25994163/could-not-resolve-all-dependencies-for-configuration-classpath","body":"Open config file with text editor and compare differences : <a href=\"https://developer.android.com/studio/build\" rel=\"nofollow noreferrer\">developer.android.com/studio/build</a>.  Looks like you did that.  See following : <a href=\"https://stackoverflow.com/questions/25994163/could-not-resolve-all-dependencies-for-configuration-classpath\" title=\"could not resolve all dependencies for configuration classpath\">stackoverflow.com/questions/25994163/&hellip;</a>"},{"owner":{"account_id":18288154,"reputation":57,"user_id":13315559,"display_name":"mahmoud elmahgoub"},"score":0,"creation_date":1678570372,"post_id":75708976,"comment_id":133560449,"body_markdown":"I don&#39;t know what is the config file and text editor as I am beginner, how to open it?","body":"I don&#39;t know what is the config file and text editor as I am beginner, how to open it?"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1678570670,"post_id":75708976,"comment_id":133560485,"body_markdown":"Looks like config file is build.gradle.  You can use notepad or just display file on console.","body":"Looks like config file is build.gradle.  You can use notepad or just display file on console."}],"owner":{"account_id":18288154,"reputation":57,"user_id":13315559,"display_name":"mahmoud elmahgoub"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678562669,"creation_date":1678562669,"question_id":75708976,"body_markdown":"How to make the SearchView which give me suggestions when I write the first character ?\r\npreviously I used this library but now it doesn&#39;t work.\r\n\r\nthis is the library\r\nhttps://github.com/MiguelCatalan/MaterialSearchView\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zGmWp.gif","title":"how to show suggestions in searchView like google play?","body":"<p>How to make the SearchView which give me suggestions when I write the first character ?\npreviously I used this library but now it doesn't work.</p>\n<p>this is the library\n<a href=\"https://github.com/MiguelCatalan/MaterialSearchView\" rel=\"nofollow noreferrer\">https://github.com/MiguelCatalan/MaterialSearchView</a></p>\n<p><a href=\"https://i.stack.imgur.com/zGmWp.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGmWp.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","spring","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678562605,"creation_date":1678561728,"answer_id":75708897,"question_id":75708856,"body_markdown":"There are some backticks in the query string: \\`from\\` and \\`to\\`. They a allowed in MySQL but not in JPA. And &quot;from&quot; is SQL reserved word.\r\n\r\nPossibly solutions:\r\n\r\n1. rename the column &quot;from&quot; to something else\r\n2. avoid native SQL and use JPA entities and repositories instead","title":"Spring data jpa @Query does not execute a correct query","body":"<p>There are some backticks in the query string: `from` and `to`. They a allowed in MySQL but not in JPA. And &quot;from&quot; is SQL reserved word.</p>\n<p>Possibly solutions:</p>\n<ol>\n<li>rename the column &quot;from&quot; to something else</li>\n<li>avoid native SQL and use JPA entities and repositories instead</li>\n</ol>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678562605,"creation_date":1678561328,"question_id":75708856,"body_markdown":"I have a flightRepository that has a method that takes all the flights that are given the name of the airport of origin and destination and the date of departure and arrival and receives the relevant data from the database. When I run this query alone in mysql, it works correctly, but I don&#39;t know why when I put the same in @Query in spring data jpa, it gives the following error that the syntax of this query is wrong. What is the reason? This query works correctly in mysql.\r\nflight repository:\r\n\r\n    @Repository\r\n    public interface FlightRepository extends PagingAndSortingRepository&lt;Flight, Integer&gt; {\r\n        @Query(nativeQuery = true,\r\n                value = &quot;select * from &quot; +\r\n                        &quot;(select a.name as fromName,a2.name as toName,departure,arrival &quot; +\r\n                        &quot;from flight &quot; +\r\n                        &quot;inner join airport a on `from` = a.airport_id &quot; +\r\n                        &quot;inner join airport a2 on `to` = a2.airport_id) result &quot; +\r\n                        &quot;where result.fromName = :fromName &quot; +\r\n                        &quot;and result.toName = :toName  &quot; +\r\n                        &quot;and date(result.departure) = :departure &quot; +\r\n                        &quot;and date(result.arrival) = :arrival&quot;)\r\n        Page&lt;Flight&gt; querySearchResult(Pageable pageable, LocalDate departure, LocalDate arrival, String fromName, String toName);\r\n    }\r\n\r\nin controller:\r\n   \r\n\r\n    //form is the input of the user\r\n\r\n    model.addAttribute(&quot;result&quot;,\r\n                flightRepository.querySearchResult(PageRequest.of(\r\n                                (Integer) session.getAttribute(&quot;pageNumber&quot;), pageSize, Sort.by(&quot;departure&quot;)),\r\n                        form.getDepartureDate(), form.getArrivalDate(), form.getFrom().getName(), form.getTo().getName()));\r\n        return &quot;search&quot;;\r\n\r\nerror:\r\n\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat jdk.proxy8/jdk.proxy8.$Proxy168.querySearchResult(Unknown Source)\r\n    \tat com.isoft.airport.controllers.HomeController.searchFlight(HomeController.java:84)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n    \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)\r\n    \tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:185)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:180)\r\n    \tat org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:70)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \t... 109 more\r\n    Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;inner) from flight inner join airport a on `from` = a.airport_id inner join airp&#39; at line 1\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n    \t... 141 more\r\n\r\n","title":"Spring data jpa @Query does not execute a correct query","body":"<p>I have a flightRepository that has a method that takes all the flights that are given the name of the airport of origin and destination and the date of departure and arrival and receives the relevant data from the database. When I run this query alone in mysql, it works correctly, but I don't know why when I put the same in @Query in spring data jpa, it gives the following error that the syntax of this query is wrong. What is the reason? This query works correctly in mysql.\nflight repository:</p>\n<pre><code>@Repository\npublic interface FlightRepository extends PagingAndSortingRepository&lt;Flight, Integer&gt; {\n    @Query(nativeQuery = true,\n            value = &quot;select * from &quot; +\n                    &quot;(select a.name as fromName,a2.name as toName,departure,arrival &quot; +\n                    &quot;from flight &quot; +\n                    &quot;inner join airport a on `from` = a.airport_id &quot; +\n                    &quot;inner join airport a2 on `to` = a2.airport_id) result &quot; +\n                    &quot;where result.fromName = :fromName &quot; +\n                    &quot;and result.toName = :toName  &quot; +\n                    &quot;and date(result.departure) = :departure &quot; +\n                    &quot;and date(result.arrival) = :arrival&quot;)\n    Page&lt;Flight&gt; querySearchResult(Pageable pageable, LocalDate departure, LocalDate arrival, String fromName, String toName);\n}\n</code></pre>\n<p>in controller:</p>\n<pre><code>//form is the input of the user\n\nmodel.addAttribute(&quot;result&quot;,\n            flightRepository.querySearchResult(PageRequest.of(\n                            (Integer) session.getAttribute(&quot;pageNumber&quot;), pageSize, Sort.by(&quot;departure&quot;)),\n                    form.getDepartureDate(), form.getArrivalDate(), form.getFrom().getName(), form.getTo().getName()));\n    return &quot;search&quot;;\n</code></pre>\n<p>error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy8/jdk.proxy8.$Proxy168.querySearchResult(Unknown Source)\n    at com.isoft.airport.controllers.HomeController.searchFlight(HomeController.java:84)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\n    at org.hibernate.loader.Loader.list(Loader.java:2677)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\n    at org.hibernate.query.Query.getResultList(Query.java:165)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:185)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:180)\n    at org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:70)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 109 more\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'inner) from flight inner join airport a on `from` = a.airport_id inner join airp' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    ... 141 more\n</code></pre>\n"},{"tags":["java","consumer","functional-interface"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1678557951,"post_id":75706195,"comment_id":133558075,"body_markdown":"Although off topic in regard to your question, you should revisit the lessons about inheritance and how to build a class hierarchy.","body":"Although off topic in regard to your question, you should revisit the lessons about inheritance and how to build a class hierarchy."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678551046,"creation_date":1678551046,"answer_id":75706222,"question_id":75706195,"body_markdown":"This may be missing the point of the question, but you could use [`removeIf`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-) and pass a `Predicate` that&#39;s based on the `isDanger` property:\r\n\r\n```java\r\nanimals.removeIf(Animal::isDanger)\r\n```","title":"When I try to remove a value from my list using BiCionsumer, it does not work","body":"<p>This may be missing the point of the question, but you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>removeIf</code></a> and pass a <code>Predicate</code> that's based on the <code>isDanger</code> property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>animals.removeIf(Animal::isDanger)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678551406,"creation_date":1678551406,"answer_id":75706265,"question_id":75706195,"body_markdown":"There are two main issues with your code:\r\n\r\n- When you pass an `Integer` to `List#remove`, it&#39;s using the overload that removes an element by value (see [`List#remove(Object)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#remove(java.lang.Object))). You would need to pass an `int` instead to remove by **index**.\r\n- In order to delete elements while iterating, to avoid skipping elements, you should either loop backwards or use an `Iterator`.\r\n\r\n```java\r\nBiConsumer&lt;Boolean, Integer&gt; removeDangerous = (isDangerous, index) -&gt; {\r\n    if(isDangerous){\r\n        System.out.println(&quot;Dangerous animal: &quot; + listOfAnimals.get(index).getName());\r\n        listOfAnimals.remove((int)index);\r\n    }\r\n};\r\nfor (int i = listOfAnimals.size() - 1; i &gt;= 0; i--) {\r\n    removeDangerous.accept(listOfAnimals.get(i).isDanger(), i);\r\n}\r\n```","title":"When I try to remove a value from my list using BiCionsumer, it does not work","body":"<p>There are two main issues with your code:</p>\n<ul>\n<li>When you pass an <code>Integer</code> to <code>List#remove</code>, it's using the overload that removes an element by value (see <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>List#remove(Object)</code></a>). You would need to pass an <code>int</code> instead to remove by <strong>index</strong>.</li>\n<li>In order to delete elements while iterating, to avoid skipping elements, you should either loop backwards or use an <code>Iterator</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>BiConsumer&lt;Boolean, Integer&gt; removeDangerous = (isDangerous, index) -&gt; {\n    if(isDangerous){\n        System.out.println(&quot;Dangerous animal: &quot; + listOfAnimals.get(index).getName());\n        listOfAnimals.remove((int)index);\n    }\n};\nfor (int i = listOfAnimals.size() - 1; i &gt;= 0; i--) {\n    removeDangerous.accept(listOfAnimals.get(i).isDanger(), i);\n}\n</code></pre>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75706222,"answer_count":2,"score":2,"last_activity_date":1678562496,"creation_date":1678550767,"question_id":75706195,"body_markdown":"I have the following problem:\r\n\r\nGoal: Remove from list the animal with &quot;danger&quot; == true;\r\n\r\nRestraints: One of the functional interfaces (`Consumer`, `Predicate`, `Function` or `Supplier`) must be used (I chose `BiConsumer` because of the index);\r\n\r\nIssue: `BiConsumer` is not updating the passed list (No error is displayed);\r\n\r\nAttempts: I have also tried having a list inside `removeDangerousAnimal`, so that I could then do something like:\r\n```java\r\nstatic List&lt;Animal&gt; removeDangerousAnimal(List&lt;Animal&gt; listOfAnimals) {\r\n        List&lt;Animal&gt; newList = new Arraylist&lt;&gt;();\r\n \r\n        BiConsumer&lt;Boolean, Integer&gt; removeDangerous = (isDangerous, index) -&gt; {\r\n            if(isDangerous == true){\r\n                System.out.println(&quot;Dangerous animal: &quot; + listOfAnimals.get(index).getName());\r\n                listOfAnimals.remove(index);\r\n                newList = listOfAnimals;\r\n            }\r\n        };\r\n```\r\nBut I have learned that with lambdas local variables are immutable (Error: &quot;Variable used in lambda expression should be final or effectively final&quot;).\r\n\r\nQuestion: I do not understand why `BiConsumer` is not updating my list.\r\n\r\nMain:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\r\n\r\n        Dog dog = new Dog(&quot;Tom&quot;, &quot;He&#39;s a good boy&quot;, &quot;Chihuahua&quot;, 10, 0.30, false, &quot;Dry food&quot;, 0.20);\r\n        Cat cat = new Cat(&quot;Misty&quot;, &quot;She has a temper!&quot;, &quot;Tigress&quot;, 6, 0.40, true, &quot;Soggy food&quot;, 0.5);\r\n        Bird bird = new Bird(&quot;Twitty&quot;, &quot;He&#39;s very cute!&quot;, &quot;Parrot&quot;, 1.5, 0.15, false, &quot;Dry food&quot;, 0.10);\r\n\r\n        animals.add(dog);\r\n        animals.add(cat);\r\n        animals.add(bird);\r\n\r\n        animals = removeDangerousAnimal(animals);\r\n\r\n        for (Animal a: animals) {\r\n            System.out.println(&quot;Animal name: &quot; + a.getName());\r\n        }\r\n    }\r\n\r\n    static List&lt;Animal&gt; removeDangerousAnimal(List&lt;Animal&gt; listOfAnimals){\r\n\r\n        BiConsumer&lt;Boolean, Integer&gt; removeDangerous = (isDangerous, index) -&gt; {\r\n            if(isDangerous == true){\r\n                System.out.println(&quot;Dangerous animal: &quot; + listOfAnimals.get(index).getName());\r\n                listOfAnimals.remove(index);\r\n            }\r\n        };\r\n\r\n        for (int i = 0; i &lt; listOfAnimals.size(); i++) {\r\n            //System.out.println(&quot;Animal name: &quot; + a.getName() + &quot; &quot; + a.isDanger());\r\n            removeDangerous.accept(listOfAnimals.get(i).isDanger(), i);\r\n        }\r\n\r\n        return listOfAnimals;\r\n    }\r\n}\r\n```\r\n\r\nAnimal:\r\n```java\r\npublic class Animal {\r\n\r\n    private String name;\r\n    private String description;\r\n    private String race;\r\n    private double weight;\r\n    private double height;\r\n    private boolean danger;\r\n    private String food;\r\n    private double foodQuantity;\r\n\r\n    //---------------------------\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getRace() {\r\n        return race;\r\n    }\r\n\r\n    public void setRace(String race) {\r\n        this.race = race;\r\n    }\r\n\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(double weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(double height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public boolean isDanger() {\r\n        return danger;\r\n    }\r\n\r\n    public void setDanger(boolean danger) {\r\n        this.danger = danger;\r\n    }\r\n\r\n    public String getFood() {\r\n        return food;\r\n    }\r\n\r\n    public void setFood(String food) {\r\n        this.food = food;\r\n    }\r\n\r\n    public double getFoodQuantity() {\r\n        return foodQuantity;\r\n    }\r\n\r\n    public void setFoodQuantity(double foodQuantity) {\r\n        this.foodQuantity = foodQuantity;\r\n    }\r\n}\r\n```\r\n\r\nDog:\r\n```java\r\npublic class Dog extends Animal {\r\n    private String name;\r\n    private String description;\r\n    private String race;\r\n    private double weight;\r\n    private double height;\r\n    private boolean danger;\r\n    private String food;\r\n    private double foodQuantity;\r\n\r\n    //---------------------------\r\n\r\n    public Dog(String name, String description, String race, double weight, double height, boolean danger, String food, double foodQuantity) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.race = race;\r\n        this.weight = weight;\r\n        this.height = height;\r\n        this.danger = danger;\r\n        this.food = food;\r\n        this.foodQuantity = foodQuantity;\r\n    }\r\n\r\n    public Dog() {\r\n\r\n    }\r\n    //---------------------------\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getRace() {\r\n        return race;\r\n    }\r\n\r\n    public void setRace(String race) {\r\n        this.race = race;\r\n    }\r\n\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(double weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(double height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public boolean isDanger() {\r\n        return danger;\r\n    }\r\n\r\n    public void setDanger(boolean danger) {\r\n        this.danger = danger;\r\n    }\r\n\r\n    public String getFood() {\r\n        return food;\r\n    }\r\n\r\n    public void setFood(String food) {\r\n        this.food = food;\r\n    }\r\n\r\n    public double getFoodQuantity() {\r\n        return foodQuantity;\r\n    }\r\n\r\n    public void setFoodQuantity(double foodQuantity) {\r\n        this.foodQuantity = foodQuantity;\r\n    }\r\n}\r\n```\r\n\r\nCat:\r\n```java\r\npublic class Cat extends Animal {\r\n\r\n    private String name;\r\n    private String description;\r\n    private String race;\r\n    private double weight;\r\n    private double height;\r\n    private boolean danger;\r\n    private String food;\r\n    private double foodQuantity;\r\n\r\n    //---------------------------\r\n\r\n    public Cat(String name, String description, String race, double weight, double height, boolean danger, String food, double foodQuantity) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.race = race;\r\n        this.weight = weight;\r\n        this.height = height;\r\n        this.danger = danger;\r\n        this.food = food;\r\n        this.foodQuantity = foodQuantity;\r\n    }\r\n\r\n    public Cat() {\r\n\r\n    }\r\n\r\n    //---------------------------\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getRace() {\r\n        return race;\r\n    }\r\n\r\n    public void setRace(String race) {\r\n        this.race = race;\r\n    }\r\n\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(double weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(double height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public boolean isDanger() {\r\n        return danger;\r\n    }\r\n\r\n    public void setDanger(boolean danger) {\r\n        this.danger = danger;\r\n    }\r\n\r\n    public String getFood() {\r\n        return food;\r\n    }\r\n\r\n    public void setFood(String food) {\r\n        this.food = food;\r\n    }\r\n\r\n    public double getFoodQuantity() {\r\n        return foodQuantity;\r\n    }\r\n\r\n    public void setFoodQuantity(double foodQuantity) {\r\n        this.foodQuantity = foodQuantity;\r\n    }\r\n}\r\n```\r\n\r\nBird:\r\n```java\r\npublic class Bird extends Animal {\r\n\r\n    private String name;\r\n    private String description;\r\n    private String race;\r\n    private double weight;\r\n    private double height;\r\n    private boolean danger;\r\n    private String food;\r\n    private double foodQuantity;\r\n\r\n    //---------------------------\r\n\r\n    public Bird(String name, String description, String race, double weight, double height, boolean danger, String food, double foodQuantity) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.race = race;\r\n        this.weight = weight;\r\n        this.height = height;\r\n        this.danger = danger;\r\n        this.food = food;\r\n        this.foodQuantity = foodQuantity;\r\n    }\r\n\r\n    public Bird() {\r\n\r\n    }\r\n\r\n    //---------------------------\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getRace() {\r\n        return race;\r\n    }\r\n\r\n    public void setRace(String race) {\r\n        this.race = race;\r\n    }\r\n\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(double weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(double height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public boolean isDanger() {\r\n        return danger;\r\n    }\r\n\r\n    public void setDanger(boolean danger) {\r\n        this.danger = danger;\r\n    }\r\n\r\n    public String getFood() {\r\n        return food;\r\n    }\r\n\r\n    public void setFood(String food) {\r\n        this.food = food;\r\n    }\r\n\r\n    public double getFoodQuantity() {\r\n        return foodQuantity;\r\n    }\r\n\r\n    public void setFoodQuantity(double foodQuantity) {\r\n        this.foodQuantity = foodQuantity;\r\n    }\r\n}\r\n```\r\n","title":"When I try to remove a value from my list using BiCionsumer, it does not work","body":"<p>I have the following problem:</p>\n<p>Goal: Remove from list the animal with &quot;danger&quot; == true;</p>\n<p>Restraints: One of the functional interfaces (<code>Consumer</code>, <code>Predicate</code>, <code>Function</code> or <code>Supplier</code>) must be used (I chose <code>BiConsumer</code> because of the index);</p>\n<p>Issue: <code>BiConsumer</code> is not updating the passed list (No error is displayed);</p>\n<p>Attempts: I have also tried having a list inside <code>removeDangerousAnimal</code>, so that I could then do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Animal&gt; removeDangerousAnimal(List&lt;Animal&gt; listOfAnimals) {\n        List&lt;Animal&gt; newList = new Arraylist&lt;&gt;();\n \n        BiConsumer&lt;Boolean, Integer&gt; removeDangerous = (isDangerous, index) -&gt; {\n            if(isDangerous == true){\n                System.out.println(&quot;Dangerous animal: &quot; + listOfAnimals.get(index).getName());\n                listOfAnimals.remove(index);\n                newList = listOfAnimals;\n            }\n        };\n</code></pre>\n<p>But I have learned that with lambdas local variables are immutable (Error: &quot;Variable used in lambda expression should be final or effectively final&quot;).</p>\n<p>Question: I do not understand why <code>BiConsumer</code> is not updating my list.</p>\n<p>Main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\n\n        Dog dog = new Dog(&quot;Tom&quot;, &quot;He's a good boy&quot;, &quot;Chihuahua&quot;, 10, 0.30, false, &quot;Dry food&quot;, 0.20);\n        Cat cat = new Cat(&quot;Misty&quot;, &quot;She has a temper!&quot;, &quot;Tigress&quot;, 6, 0.40, true, &quot;Soggy food&quot;, 0.5);\n        Bird bird = new Bird(&quot;Twitty&quot;, &quot;He's very cute!&quot;, &quot;Parrot&quot;, 1.5, 0.15, false, &quot;Dry food&quot;, 0.10);\n\n        animals.add(dog);\n        animals.add(cat);\n        animals.add(bird);\n\n        animals = removeDangerousAnimal(animals);\n\n        for (Animal a: animals) {\n            System.out.println(&quot;Animal name: &quot; + a.getName());\n        }\n    }\n\n    static List&lt;Animal&gt; removeDangerousAnimal(List&lt;Animal&gt; listOfAnimals){\n\n        BiConsumer&lt;Boolean, Integer&gt; removeDangerous = (isDangerous, index) -&gt; {\n            if(isDangerous == true){\n                System.out.println(&quot;Dangerous animal: &quot; + listOfAnimals.get(index).getName());\n                listOfAnimals.remove(index);\n            }\n        };\n\n        for (int i = 0; i &lt; listOfAnimals.size(); i++) {\n            //System.out.println(&quot;Animal name: &quot; + a.getName() + &quot; &quot; + a.isDanger());\n            removeDangerous.accept(listOfAnimals.get(i).isDanger(), i);\n        }\n\n        return listOfAnimals;\n    }\n}\n</code></pre>\n<p>Animal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n\n    private String name;\n    private String description;\n    private String race;\n    private double weight;\n    private double height;\n    private boolean danger;\n    private String food;\n    private double foodQuantity;\n\n    //---------------------------\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getRace() {\n        return race;\n    }\n\n    public void setRace(String race) {\n        this.race = race;\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double weight) {\n        this.weight = weight;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n\n    public boolean isDanger() {\n        return danger;\n    }\n\n    public void setDanger(boolean danger) {\n        this.danger = danger;\n    }\n\n    public String getFood() {\n        return food;\n    }\n\n    public void setFood(String food) {\n        this.food = food;\n    }\n\n    public double getFoodQuantity() {\n        return foodQuantity;\n    }\n\n    public void setFoodQuantity(double foodQuantity) {\n        this.foodQuantity = foodQuantity;\n    }\n}\n</code></pre>\n<p>Dog:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog extends Animal {\n    private String name;\n    private String description;\n    private String race;\n    private double weight;\n    private double height;\n    private boolean danger;\n    private String food;\n    private double foodQuantity;\n\n    //---------------------------\n\n    public Dog(String name, String description, String race, double weight, double height, boolean danger, String food, double foodQuantity) {\n        this.name = name;\n        this.description = description;\n        this.race = race;\n        this.weight = weight;\n        this.height = height;\n        this.danger = danger;\n        this.food = food;\n        this.foodQuantity = foodQuantity;\n    }\n\n    public Dog() {\n\n    }\n    //---------------------------\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getRace() {\n        return race;\n    }\n\n    public void setRace(String race) {\n        this.race = race;\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double weight) {\n        this.weight = weight;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n\n    public boolean isDanger() {\n        return danger;\n    }\n\n    public void setDanger(boolean danger) {\n        this.danger = danger;\n    }\n\n    public String getFood() {\n        return food;\n    }\n\n    public void setFood(String food) {\n        this.food = food;\n    }\n\n    public double getFoodQuantity() {\n        return foodQuantity;\n    }\n\n    public void setFoodQuantity(double foodQuantity) {\n        this.foodQuantity = foodQuantity;\n    }\n}\n</code></pre>\n<p>Cat:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat extends Animal {\n\n    private String name;\n    private String description;\n    private String race;\n    private double weight;\n    private double height;\n    private boolean danger;\n    private String food;\n    private double foodQuantity;\n\n    //---------------------------\n\n    public Cat(String name, String description, String race, double weight, double height, boolean danger, String food, double foodQuantity) {\n        this.name = name;\n        this.description = description;\n        this.race = race;\n        this.weight = weight;\n        this.height = height;\n        this.danger = danger;\n        this.food = food;\n        this.foodQuantity = foodQuantity;\n    }\n\n    public Cat() {\n\n    }\n\n    //---------------------------\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getRace() {\n        return race;\n    }\n\n    public void setRace(String race) {\n        this.race = race;\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double weight) {\n        this.weight = weight;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n\n    public boolean isDanger() {\n        return danger;\n    }\n\n    public void setDanger(boolean danger) {\n        this.danger = danger;\n    }\n\n    public String getFood() {\n        return food;\n    }\n\n    public void setFood(String food) {\n        this.food = food;\n    }\n\n    public double getFoodQuantity() {\n        return foodQuantity;\n    }\n\n    public void setFoodQuantity(double foodQuantity) {\n        this.foodQuantity = foodQuantity;\n    }\n}\n</code></pre>\n<p>Bird:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bird extends Animal {\n\n    private String name;\n    private String description;\n    private String race;\n    private double weight;\n    private double height;\n    private boolean danger;\n    private String food;\n    private double foodQuantity;\n\n    //---------------------------\n\n    public Bird(String name, String description, String race, double weight, double height, boolean danger, String food, double foodQuantity) {\n        this.name = name;\n        this.description = description;\n        this.race = race;\n        this.weight = weight;\n        this.height = height;\n        this.danger = danger;\n        this.food = food;\n        this.foodQuantity = foodQuantity;\n    }\n\n    public Bird() {\n\n    }\n\n    //---------------------------\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getRace() {\n        return race;\n    }\n\n    public void setRace(String race) {\n        this.race = race;\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double weight) {\n        this.weight = weight;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n\n    public boolean isDanger() {\n        return danger;\n    }\n\n    public void setDanger(boolean danger) {\n        this.danger = danger;\n    }\n\n    public String getFood() {\n        return food;\n    }\n\n    public void setFood(String food) {\n        this.food = food;\n    }\n\n    public double getFoodQuantity() {\n        return foodQuantity;\n    }\n\n    public void setFoodQuantity(double foodQuantity) {\n        this.foodQuantity = foodQuantity;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","spring-security","mockito"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1678553923,"post_id":75706420,"comment_id":133556675,"body_markdown":"You should be using an integration test to check spring security. Check https://stackoverflow.com/questions/15203485/spring-test-security-how-to-mock-authentication","body":"You should be using an integration test to check spring security. Check <a href=\"https://stackoverflow.com/questions/15203485/spring-test-security-how-to-mock-authentication\" title=\"spring test security how to mock authentication\">stackoverflow.com/questions/15203485/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678554089,"post_id":75706420,"comment_id":133556692,"body_markdown":"@DhavalGajjar I try to write service as you can see. Could you tell me how to fix it?","body":"@DhavalGajjar I try to write service as you can see. Could you tell me how to fix it?"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1678558589,"post_id":75706420,"comment_id":133558181,"body_markdown":"Also in the register method, you are creating `Authentication` class object. Then you set that to `SecurityContextHolder`. Why you are mocking that you already set those so in the register test case as per the code you have given you need to validate whether it&#39;s set or not.","body":"Also in the register method, you are creating <code>Authentication</code> class object. Then you set that to <code>SecurityContextHolder</code>. Why you are mocking that you already set those so in the register test case as per the code you have given you need to validate whether it&#39;s set or not."}],"answers":[{"tags":[],"owner":{"account_id":2443404,"reputation":105,"user_id":2131323,"accept_rate":100,"display_name":"user2131323"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678557725,"creation_date":1678557725,"answer_id":75707761,"question_id":75706420,"body_markdown":"The exception you are getting is that you are not mocking a mock.\r\n`SecurityContextHolder.getContext().getAuthentication()` is not a mock, mockito is unable to mock its behavour. \r\n\r\n@DhavalGajjar pointed you to an answere that will help you create a test for spring security. Mockito will be hard to get working for spring security, which is why there is a `spring-security-test` module avaialble to assist in creating it, examples are in @DhavalGajjar&#39;s link","title":"How can I mock Spring Security in JUnit","body":"<p>The exception you are getting is that you are not mocking a mock.\n<code>SecurityContextHolder.getContext().getAuthentication()</code> is not a mock, mockito is unable to mock its behavour.</p>\n<p>@DhavalGajjar pointed you to an answere that will help you create a test for spring security. Mockito will be hard to get working for spring security, which is why there is a <code>spring-security-test</code> module avaialble to assist in creating it, examples are in @DhavalGajjar's link</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678559611,"creation_date":1678552868,"question_id":75706420,"body_markdown":"I have a problem to mock some parts regarding Spring Security in JUnit.\r\n\r\nI tried to write a service test regarding user registration but I couldn&#39;t handle with mock part.\r\n\r\nHere is the relevant part in register method shown below\r\n\r\n    @Service\r\n    @Transactional\r\n    @RequiredArgsConstructor\r\n    public class AuthServiceImpl implements AuthService {\r\n    \r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        private final JwtTokenProvider jwtTokenProvider;\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        private final PasswordEncoder passwordEncoder;\r\n    \r\n        public AuthResponse register(RegisterRequest registerRequest) {\r\n        ...\r\n    \r\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(registerRequest.getUsername(), registerRequest.getPassword());\r\n        Authentication auth = authenticationManager.authenticate(authToken);\r\n        SecurityContextHolder.getContext().setAuthentication(auth);\r\n        String jwtToken = jwtTokenProvider.generateJwtToken(auth);\r\n        ...\r\n    }\r\n\r\nHere is the test method relevant part\r\n\r\n        @Mock\r\n        private UserRepository userRepository;\r\n        \r\n        @Mock\r\n        private JwtTokenProvider jwtTokenProvider;\r\n        \r\n        @Mock\r\n        private AuthenticationManager authenticationManager;\r\n        \r\n        @InjectMocks\r\n        private AuthServiceImpl authService;\r\n        \r\n        @Mock\r\n        private PasswordEncoder passwordEncoder;\r\n        \r\n        @Mock\r\n        private SecurityContext securityContext;\r\n\r\n        @Mock\r\n        private Authentication authentication;\r\n    \r\n        @Test\r\n        public void shouldRegister() {\r\n    \r\n        // when\r\n        when(userRepository.save(any(User.class))).thenReturn(user);\r\n                \r\n        when(authenticationManager.authenticate(any(UsernamePasswordAuthenticationToken.class)))\r\n                        .thenReturn(new UsernamePasswordAuthenticationToken(registerRequest.getUsername(), registerRequest.getPassword()));\r\n                when(SecurityContextHolder.getContext()).thenReturn(securityContext);\r\n        when(securityContext.getAuthentication()).thenReturn(authentication);\r\n                \r\n    when(jwtTokenProvider.generateJwtToken(any(Authentication.class))).thenReturn(&quot;test_token&quot;);\r\n    }\r\n\r\nHere is the issue shown below.\r\n\r\n    org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n    when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n    For example:\r\n        when(mock.getArticles()).thenReturn(articles);\r\n\r\n\r\nHere is spring security test dependency defined in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"How can I mock Spring Security in JUnit","body":"<p>I have a problem to mock some parts regarding Spring Security in JUnit.</p>\n<p>I tried to write a service test regarding user registration but I couldn't handle with mock part.</p>\n<p>Here is the relevant part in register method shown below</p>\n<pre><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class AuthServiceImpl implements AuthService {\n\n    private final AuthenticationManager authenticationManager;\n\n    private final JwtTokenProvider jwtTokenProvider;\n\n    private final UserRepository userRepository;\n\n    private final PasswordEncoder passwordEncoder;\n\n    public AuthResponse register(RegisterRequest registerRequest) {\n    ...\n\n    UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(registerRequest.getUsername(), registerRequest.getPassword());\n    Authentication auth = authenticationManager.authenticate(authToken);\n    SecurityContextHolder.getContext().setAuthentication(auth);\n    String jwtToken = jwtTokenProvider.generateJwtToken(auth);\n    ...\n}\n</code></pre>\n<p>Here is the test method relevant part</p>\n<pre><code>    @Mock\n    private UserRepository userRepository;\n    \n    @Mock\n    private JwtTokenProvider jwtTokenProvider;\n    \n    @Mock\n    private AuthenticationManager authenticationManager;\n    \n    @InjectMocks\n    private AuthServiceImpl authService;\n    \n    @Mock\n    private PasswordEncoder passwordEncoder;\n    \n    @Mock\n    private SecurityContext securityContext;\n\n    @Mock\n    private Authentication authentication;\n\n    @Test\n    public void shouldRegister() {\n\n    // when\n    when(userRepository.save(any(User.class))).thenReturn(user);\n            \n    when(authenticationManager.authenticate(any(UsernamePasswordAuthenticationToken.class)))\n                    .thenReturn(new UsernamePasswordAuthenticationToken(registerRequest.getUsername(), registerRequest.getPassword()));\n            when(SecurityContextHolder.getContext()).thenReturn(securityContext);\n    when(securityContext.getAuthentication()).thenReturn(authentication);\n            \nwhen(jwtTokenProvider.generateJwtToken(any(Authentication.class))).thenReturn(&quot;test_token&quot;);\n}\n</code></pre>\n<p>Here is the issue shown below.</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n</code></pre>\n<p>Here is spring security test dependency defined in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n     &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","performance","android-arrayadapter","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678451738,"creation_date":1678451738,"answer_id":75696230,"question_id":75691130,"body_markdown":"You are right about creating new instance of `ArrayAdapter` every time you want to insert a new item. `ArrayAdapter` has a method `add(@Nullable T object)` which can be useful in your case. What it does under the hood - it just add new item to internal array and calls `notifyDataSetChanged()` to let adapter redraw its contents.\r\n\r\nSo I would rewrite your code as follows:\r\n\r\n    ArrayAdapter&lt;String&gt; adapter;\r\n    \r\n    public void btnAgregar_Click(View v) {\r\n            // Create Java objects that refer to XML interface\r\n            EditText txtArticulo = findViewById(R.id.txtArticulo);\r\n            Spinner spinLista = findViewById(R.id.spinLista);\r\n    \r\n            // Read text in txtArticulo\r\n            String articulo = txtArticulo.getText().toString();\r\n    \r\n            if (!articulo.isEmpty()) {\r\n                if (adapter != null) {\r\n                    adapter.add(articulo);\r\n                } else {\r\n                    adapter = new ArrayAdapter&lt;&gt;(\r\n                            this, android.R.layout.simple_spinner_item, new ArrayList&lt;String&gt;(){{add(articulo);}});\r\n                    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                    spinLista.setAdapter(adapter);\r\n                }\r\n                txtArticulo.setText(&quot;&quot;);\r\n            } else {\r\n                Toast.makeText(this, &quot;Error: escribe un art&#237;culo&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\nAs you can see there is no need to manually add item to `lista` ArrayList. Also it is good practice to let Adapter manage its contents - that is what we do by calling `add()` method instead of manual modification of `lista` array. So there will be no hard connections and your code will be more maintainable. ","title":"How to fill a Spinner from my code in Java (Android Studio)","body":"<p>You are right about creating new instance of <code>ArrayAdapter</code> every time you want to insert a new item. <code>ArrayAdapter</code> has a method <code>add(@Nullable T object)</code> which can be useful in your case. What it does under the hood - it just add new item to internal array and calls <code>notifyDataSetChanged()</code> to let adapter redraw its contents.</p>\n<p>So I would rewrite your code as follows:</p>\n<pre><code>ArrayAdapter&lt;String&gt; adapter;\n\npublic void btnAgregar_Click(View v) {\n        // Create Java objects that refer to XML interface\n        EditText txtArticulo = findViewById(R.id.txtArticulo);\n        Spinner spinLista = findViewById(R.id.spinLista);\n\n        // Read text in txtArticulo\n        String articulo = txtArticulo.getText().toString();\n\n        if (!articulo.isEmpty()) {\n            if (adapter != null) {\n                adapter.add(articulo);\n            } else {\n                adapter = new ArrayAdapter&lt;&gt;(\n                        this, android.R.layout.simple_spinner_item, new ArrayList&lt;String&gt;(){{add(articulo);}});\n                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n                spinLista.setAdapter(adapter);\n            }\n            txtArticulo.setText(&quot;&quot;);\n        } else {\n            Toast.makeText(this, &quot;Error: escribe un artículo&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n<p>As you can see there is no need to manually add item to <code>lista</code> ArrayList. Also it is good practice to let Adapter manage its contents - that is what we do by calling <code>add()</code> method instead of manual modification of <code>lista</code> array. So there will be no hard connections and your code will be more maintainable.</p>\n"}],"owner":{"account_id":27572847,"reputation":13,"user_id":21043695,"display_name":"Tony Valderrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75696230,"answer_count":1,"score":1,"last_activity_date":1678559508,"creation_date":1678406614,"question_id":75691130,"body_markdown":"I&#39;m making an example with Android Studio and I want to add items to a List that is displayed in a Spinner. Looking here, I found [this answer](https://stackoverflow.com/questions/11920754/android-fill-spinner-from-java-code-programmatically) that helped me a lot.\r\n\r\nBasically I create an ArrayAdapter and assign it to my Spinner with the modified list every time I press a button. I was wondering if there is a more efficient way of doing this.\r\n\r\nI have an EditText where I write a string and when I press the button I add it to an ArrayList and use it to fill the Spinner.\r\n\r\nThis is the code of my MainActivity (btnAgregar_Click is the method executed when you press the button):\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private final List&lt;String&gt; lista = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void btnAgregar_Click(View v) {\r\n        // Create Java objects that refer to XML interface\r\n        EditText txtArticulo = findViewById(R.id.txtArticulo);\r\n        Spinner spinLista = findViewById(R.id.spinLista);\r\n\r\n        // Read text in txtArticulo\r\n        String articulo = txtArticulo.getText().toString();\r\n\r\n        // If there is text, add it to the list\r\n        if (articulo.length() &gt; 0) {\r\n            lista.add(articulo);\r\n            txtArticulo.setText(&quot;&quot;);\r\n        } else {\r\n            // Otherwise, show an error\r\n            Toast.makeText(this,&quot;Error: escribe un art&#237;culo&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        // Add adapter to the Spinner\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(\r\n                this, android.R.layout.simple_spinner_item, lista);\r\n\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinLista.setAdapter(adapter);\r\n    }\r\n}\r\n```\r\n\r\nAlthough it works, I think it&#39;s an overkill to create an ArrayAdapter, initialize it and add it to the Spinner every single time I press the button. Is this the best way to do it? Can I just create the adapter once and just change something when I add an item to the ArrayList?","title":"How to fill a Spinner from my code in Java (Android Studio)","body":"<p>I'm making an example with Android Studio and I want to add items to a List that is displayed in a Spinner. Looking here, I found <a href=\"https://stackoverflow.com/questions/11920754/android-fill-spinner-from-java-code-programmatically\">this answer</a> that helped me a lot.</p>\n<p>Basically I create an ArrayAdapter and assign it to my Spinner with the modified list every time I press a button. I was wondering if there is a more efficient way of doing this.</p>\n<p>I have an EditText where I write a string and when I press the button I add it to an ArrayList and use it to fill the Spinner.</p>\n<p>This is the code of my MainActivity (btnAgregar_Click is the method executed when you press the button):</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private final List&lt;String&gt; lista = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void btnAgregar_Click(View v) {\n        // Create Java objects that refer to XML interface\n        EditText txtArticulo = findViewById(R.id.txtArticulo);\n        Spinner spinLista = findViewById(R.id.spinLista);\n\n        // Read text in txtArticulo\n        String articulo = txtArticulo.getText().toString();\n\n        // If there is text, add it to the list\n        if (articulo.length() &gt; 0) {\n            lista.add(articulo);\n            txtArticulo.setText(&quot;&quot;);\n        } else {\n            // Otherwise, show an error\n            Toast.makeText(this,&quot;Error: escribe un artículo&quot;,Toast.LENGTH_SHORT).show();\n        }\n\n        // Add adapter to the Spinner\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(\n                this, android.R.layout.simple_spinner_item, lista);\n\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinLista.setAdapter(adapter);\n    }\n}\n</code></pre>\n<p>Although it works, I think it's an overkill to create an ArrayAdapter, initialize it and add it to the Spinner every single time I press the button. Is this the best way to do it? Can I just create the adapter once and just change something when I add an item to the ArrayList?</p>\n"},{"tags":["java","maven","tycho","maven-wagon-plugin","wagon"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":1,"creation_date":1678562385,"post_id":75707878,"comment_id":133559367,"body_markdown":"Is it possible your problem (introduced by upgrading) is related to [this](https://github.com/mojohaus/wagon-maven-plugin/issues/54#issuecomment-1370539703)?","body":"Is it possible your problem (introduced by upgrading) is related to <a href=\"https://github.com/mojohaus/wagon-maven-plugin/issues/54#issuecomment-1370539703\" rel=\"nofollow noreferrer\">this</a>?"}],"owner":{"account_id":16479410,"reputation":56,"user_id":11906534,"display_name":"Marwen BEN MBARKA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678558920,"creation_date":1678558920,"question_id":75707878,"body_markdown":"I have a working tycho project using tycho v2.3.0 and I need to use upgrade it with latest version of tycho v3.0.3.\r\nOnce I compile the project using tycho v3.0.3 and maven compiler v3.9.0, I got the following error:\r\n[ERROR] Failed to execute goal org.codehaus.mojo:wagon-maven-plugin:2.0.2:download (...) on project tycho.update: Execution of goal org.codehaus.mojo:wagon-maven-plugin:2.0.2:download failed: **The wagon you are using has not implemented getFileList()**\r\n\r\n\r\nAny ideas?\r\n\r\nThe wagon-maven-plugin:v2.0.2 is the latest version available for this plugin.","title":"How to fix &quot;The wagon you are using has not implemented getFileList()&quot; error","body":"<p>I have a working tycho project using tycho v2.3.0 and I need to use upgrade it with latest version of tycho v3.0.3.\nOnce I compile the project using tycho v3.0.3 and maven compiler v3.9.0, I got the following error:\n[ERROR] Failed to execute goal org.codehaus.mojo:wagon-maven-plugin:2.0.2:download (...) on project tycho.update: Execution of goal org.codehaus.mojo:wagon-maven-plugin:2.0.2:download failed: <strong>The wagon you are using has not implemented getFileList()</strong></p>\n<p>Any ideas?</p>\n<p>The wagon-maven-plugin:v2.0.2 is the latest version available for this plugin.</p>\n"},{"tags":["java","android","json","android-studio","gsm"],"comments":[{"owner":{"account_id":20351208,"reputation":105,"user_id":14927852,"display_name":"Landon Harter"},"score":0,"creation_date":1678563149,"post_id":75707837,"comment_id":133559478,"body_markdown":"The JSONObject class contains a method called getString(String name). For example you could say json.getString(&quot;type&quot;). As long as the value you passed in, GSM is a string, you can retrieve this value.","body":"The JSONObject class contains a method called getString(String name). For example you could say json.getString(&quot;type&quot;). As long as the value you passed in, GSM is a string, you can retrieve this value."},{"owner":{"account_id":27993026,"reputation":1,"user_id":21378701,"display_name":"Miu Miu"},"score":0,"creation_date":1678587183,"post_id":75707837,"comment_id":133562190,"body_markdown":"Could you help with an example?\nHow do I translate the result of the code into the variable a, and then set it to the value of textview?","body":"Could you help with an example? How do I translate the result of the code into the variable a, and then set it to the value of textview?"},{"owner":{"account_id":20351208,"reputation":105,"user_id":14927852,"display_name":"Landon Harter"},"score":0,"creation_date":1678658913,"post_id":75707837,"comment_id":133571875,"body_markdown":"I am confused about the question. I understand you convert your object to JSON, but why would you need to retrieve it after from the JSON. Is it saved to a file and then you read the JSON from the file? You could try something like this `JSONObject json = new JSONObject(jsonContent); String type = json.getString(&quot;type&quot;);` In this case jsonContent would be the JSON string created by the gsmCellLocationJSON method.","body":"I am confused about the question. I understand you convert your object to JSON, but why would you need to retrieve it after from the JSON. Is it saved to a file and then you read the JSON from the file? You could try something like this <code>JSONObject json = new JSONObject(jsonContent); String type = json.getString(&quot;type&quot;);</code> In this case jsonContent would be the JSON string created by the gsmCellLocationJSON method."}],"owner":{"account_id":27993026,"reputation":1,"user_id":21378701,"display_name":"Miu Miu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678558834,"creation_date":1678558592,"question_id":75707837,"body_markdown":"I&#39;m studying android development and studying the program code listed below. Please tell me how to get a string value from this code fragment.\r\nThat is, String GSMINFO = &quot;type = gsm, lac = ..., cid = ..., psc = ...&quot;\r\nThank you all for your help, sorry for the bad English.\r\n\r\n```\r\npublic static String gsmCellLocationJSON(GsmCellLocation location) {\r\n\r\n        final Calendar calendar = Calendar.getInstance();\r\n        final JSONObject json = new JSONObject();\r\n\r\n        if (location != null) {\r\n            try {\r\n                json.put(&quot;provider&quot;, CELLLOCATION_PROVIDER);\r\n                json.put(&quot;type&quot;, GSM);\r\n                json.put(&quot;timestamp&quot;, calendar.getTimeInMillis());\r\n                json.put(&quot;cid&quot;, location.getCid());\r\n                json.put(&quot;lac&quot;, location.getLac());\r\n                json.put(&quot;psc&quot;, location.getPsc());\r\n            } catch (JSONException exc) {\r\n                return &quot;error&quot;;\r\n            }\r\n        }\r\n\r\n        return json.toString();\r\n    }\r\n```\r\n\r\nI don&#39;t understand the mechanism of the return","title":"How to get the result in string form from JSON?","body":"<p>I'm studying android development and studying the program code listed below. Please tell me how to get a string value from this code fragment.\nThat is, String GSMINFO = &quot;type = gsm, lac = ..., cid = ..., psc = ...&quot;\nThank you all for your help, sorry for the bad English.</p>\n<pre><code>public static String gsmCellLocationJSON(GsmCellLocation location) {\n\n        final Calendar calendar = Calendar.getInstance();\n        final JSONObject json = new JSONObject();\n\n        if (location != null) {\n            try {\n                json.put(&quot;provider&quot;, CELLLOCATION_PROVIDER);\n                json.put(&quot;type&quot;, GSM);\n                json.put(&quot;timestamp&quot;, calendar.getTimeInMillis());\n                json.put(&quot;cid&quot;, location.getCid());\n                json.put(&quot;lac&quot;, location.getLac());\n                json.put(&quot;psc&quot;, location.getPsc());\n            } catch (JSONException exc) {\n                return &quot;error&quot;;\n            }\n        }\n\n        return json.toString();\n    }\n</code></pre>\n<p>I don't understand the mechanism of the return</p>\n"},{"tags":["java","object-pooling","apache-commons-pool"],"answers":[{"tags":[],"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517240983,"creation_date":1517141989,"answer_id":48486277,"question_id":48485616,"body_markdown":"Ok, I followed the example on the site of Apache Pool and also investigated the documentation, but I really didn&#39;t find a way about how to push into pool my previously created object, so the only way I found work although really ugly was to:\r\n1. Get dummy empty object from the pool in one loop and put them to external ArrayList\r\n2. Loop over List and set objects and return those into the pool\r\n\r\nAfter I try to obtain the object from the pool with following implementation those keep its setting which is behaviour as expected, but I would like to rather use factory to crate PooledObject&lt;MyObject&gt; which I can push somehow to pool. I tried use() of pool object, or wrap() method of genericobjectfactory, but it doesn&#39;t work as I expected it to work. So following code works as expected, sorry it is ugly as I just tested the functionality:\r\n\r\n    public class ProxyMetadata  {\r\n    \r\n        public static Logger LOG = LogManager.getLogger(ProxyMetadata.class);\r\n        public static List&lt;Proxy&gt; PROXIES = new ArrayList&lt;&gt;();\r\n        public static int PROXIES_AVAILABLE;\r\n    \r\n        private static ProxyBufferFactory proxyBufferFactory = new ProxyBufferFactory();\r\n        private static GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();\r\n        private static GenericObjectPool&lt;Proxy&gt; pool;\r\n        //Pool&lt;Proxy&gt; pool = new BoundedBlockingPool&lt; Proxy &gt;();\r\n    \r\n    \r\n        void init() {\r\n            final List&lt;Proxy&gt; availableProxies = getAvailableProxies();\r\n            genericObjectPoolConfig.setMaxTotal(PROXIES_AVAILABLE);\r\n            genericObjectPoolConfig.setBlockWhenExhausted(true);\r\n            genericObjectPoolConfig.setTestOnBorrow(true);\r\n            //pool = new BoundedBlockingPool&lt; Proxy &gt;();\r\n            pool = new GenericObjectPool&lt;Proxy&gt;(proxyBufferFactory,genericObjectPoolConfig);\r\n            List&lt;Proxy&gt; initializator = new ArrayList&lt;&gt;();\r\n            LOG.debug(&quot;Pool management starting...&quot;);\r\n            LOG.debug(&quot;Pool start idle:&quot; + pool.getNumIdle());\r\n            LOG.debug(&quot;Pool start active:&quot; + pool.getNumActive());\r\n            for (int i= 0; i &lt; PROXIES_AVAILABLE; i++){\r\n                try {\r\n    \r\n                    //final Proxy proxy = new Proxy();\r\n                    final Proxy proxy = pool.borrowObject();\r\n                    proxy.setProxyHost(String.valueOf(i));\r\n                    //proxyBufferFactory.wrap(proxy);\r\n                    initializator.add(proxy);\r\n                    //pool.returnObject(proxy);\r\n                    LOG.debug(&quot;Pool idle - loop &quot; + String.valueOf(i)+ &quot;: &quot; + pool.getNumIdle());\r\n                    LOG.debug(&quot;Pool active - loop&quot;+ String.valueOf(i) + &quot;: &quot; + pool.getNumActive());\r\n    \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            LOG.debug(&quot;ALL PROXIES BORROWED&quot;);\r\n            LOG.debug(&quot;Pool after borrow idle:&quot; + pool.getNumIdle());\r\n            LOG.debug(&quot;Pool after borrow active:&quot; + pool.getNumActive());\r\n            LOG.debug(&quot;Going to return&quot;);\r\n            for (Proxy proxy : initializator){\r\n                pool.returnObject(proxy);\r\n                LOG.debug(&quot;Pool after return idle:&quot; + pool.getNumIdle());\r\n                LOG.debug(&quot;Pool after return active:&quot; + pool.getNumActive());\r\n            }\r\n    \r\n            LOG.debug(&quot;Clearing buffer: &quot; + initializator.size());\r\n            initializator.clear();\r\n            LOG.debug(&quot;Clearing buffer: &quot; + initializator.size());\r\n            LOG.debug(&quot;Pool status before reborrow.&quot;);\r\n            LOG.debug(&quot;Pool idle:&quot; + pool.getNumIdle());\r\n            LOG.debug(&quot;Pool active:&quot; + pool.getNumActive());\r\n            for (int i= 0; i &lt; PROXIES_AVAILABLE; i++){\r\n                try {\r\n    \r\n                    final Proxy proxy = pool.borrowObject();\r\n    \r\n                    LOG.debug(&quot;Pool idle:&quot; + pool.getNumIdle());\r\n                    LOG.debug(&quot;Pool active:&quot; + pool.getNumActive());\r\n                    LOG.debug(&quot;Borrowed final proxy:&quot; + proxy.toString());\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\nHere is log output where can be seen that again borrowed objects which were initially borrowed and configured are available:\r\n\r\n    Pool management starting...\r\n    Pool start idle:0\r\n    Pool start active:0\r\n    Pool idle - loop 0: 0\r\n    Pool active - loop0: 1\r\n    Pool idle - loop 1: 0\r\n    Pool active - loop1: 2\r\n    Pool idle - loop 2: 0\r\n    Pool active - loop2: 3\r\n    ALL PROXIES BORROWED\r\n    Pool after borrow idle:0\r\n    Pool after borrow active:3\r\n    Going to return\r\n    Pool after return idle:1\r\n    Pool after return active:2\r\n    Pool after return idle:2\r\n    Pool after return active:1\r\n    Pool after return idle:3\r\n    Pool after return active:0\r\n    Clearing buffer: 3\r\n    Clearing buffer: 0\r\n    Pool status before reborrow.\r\n    Pool idle:3\r\n    Pool active:0\r\n    Pool idle:2\r\n    Pool active:1\r\n    Borrowed final proxy:Proxy(proxyHost=2, proxyPort=null, proxyUser=null, proxyPassword=null, geoIPLocation=null, isAvailable=true)\r\n    Pool idle:1\r\n    Pool active:2\r\n    Borrowed final proxy:Proxy(proxyHost=1, proxyPort=null, proxyUser=null, proxyPassword=null, geoIPLocation=null, isAvailable=true)\r\n    Pool idle:0\r\n    Pool active:3\r\n    Borrowed final proxy:Proxy(proxyHost=0, proxyPort=null, proxyUser=null, proxyPassword=null, geoIPLocation=null, isAvailable=true)\r\n        \r\n        Process finished with exit code 0\r\n\r\nSo the behaviour is as expected, but I would simply extend the pool with put() method of the PooledObject&lt;MyObject&gt; as parameter, so you can initialize pool in more intuitive way...","title":"Apache Pool 2 - predefined object instances with fixed capacity","body":"<p>Ok, I followed the example on the site of Apache Pool and also investigated the documentation, but I really didn't find a way about how to push into pool my previously created object, so the only way I found work although really ugly was to:\n1. Get dummy empty object from the pool in one loop and put them to external ArrayList\n2. Loop over List and set objects and return those into the pool</p>\n\n<p>After I try to obtain the object from the pool with following implementation those keep its setting which is behaviour as expected, but I would like to rather use factory to crate PooledObject which I can push somehow to pool. I tried use() of pool object, or wrap() method of genericobjectfactory, but it doesn't work as I expected it to work. So following code works as expected, sorry it is ugly as I just tested the functionality:</p>\n\n<pre><code>public class ProxyMetadata  {\n\n    public static Logger LOG = LogManager.getLogger(ProxyMetadata.class);\n    public static List&lt;Proxy&gt; PROXIES = new ArrayList&lt;&gt;();\n    public static int PROXIES_AVAILABLE;\n\n    private static ProxyBufferFactory proxyBufferFactory = new ProxyBufferFactory();\n    private static GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();\n    private static GenericObjectPool&lt;Proxy&gt; pool;\n    //Pool&lt;Proxy&gt; pool = new BoundedBlockingPool&lt; Proxy &gt;();\n\n\n    void init() {\n        final List&lt;Proxy&gt; availableProxies = getAvailableProxies();\n        genericObjectPoolConfig.setMaxTotal(PROXIES_AVAILABLE);\n        genericObjectPoolConfig.setBlockWhenExhausted(true);\n        genericObjectPoolConfig.setTestOnBorrow(true);\n        //pool = new BoundedBlockingPool&lt; Proxy &gt;();\n        pool = new GenericObjectPool&lt;Proxy&gt;(proxyBufferFactory,genericObjectPoolConfig);\n        List&lt;Proxy&gt; initializator = new ArrayList&lt;&gt;();\n        LOG.debug(\"Pool management starting...\");\n        LOG.debug(\"Pool start idle:\" + pool.getNumIdle());\n        LOG.debug(\"Pool start active:\" + pool.getNumActive());\n        for (int i= 0; i &lt; PROXIES_AVAILABLE; i++){\n            try {\n\n                //final Proxy proxy = new Proxy();\n                final Proxy proxy = pool.borrowObject();\n                proxy.setProxyHost(String.valueOf(i));\n                //proxyBufferFactory.wrap(proxy);\n                initializator.add(proxy);\n                //pool.returnObject(proxy);\n                LOG.debug(\"Pool idle - loop \" + String.valueOf(i)+ \": \" + pool.getNumIdle());\n                LOG.debug(\"Pool active - loop\"+ String.valueOf(i) + \": \" + pool.getNumActive());\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        LOG.debug(\"ALL PROXIES BORROWED\");\n        LOG.debug(\"Pool after borrow idle:\" + pool.getNumIdle());\n        LOG.debug(\"Pool after borrow active:\" + pool.getNumActive());\n        LOG.debug(\"Going to return\");\n        for (Proxy proxy : initializator){\n            pool.returnObject(proxy);\n            LOG.debug(\"Pool after return idle:\" + pool.getNumIdle());\n            LOG.debug(\"Pool after return active:\" + pool.getNumActive());\n        }\n\n        LOG.debug(\"Clearing buffer: \" + initializator.size());\n        initializator.clear();\n        LOG.debug(\"Clearing buffer: \" + initializator.size());\n        LOG.debug(\"Pool status before reborrow.\");\n        LOG.debug(\"Pool idle:\" + pool.getNumIdle());\n        LOG.debug(\"Pool active:\" + pool.getNumActive());\n        for (int i= 0; i &lt; PROXIES_AVAILABLE; i++){\n            try {\n\n                final Proxy proxy = pool.borrowObject();\n\n                LOG.debug(\"Pool idle:\" + pool.getNumIdle());\n                LOG.debug(\"Pool active:\" + pool.getNumActive());\n                LOG.debug(\"Borrowed final proxy:\" + proxy.toString());\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n\n<p>Here is log output where can be seen that again borrowed objects which were initially borrowed and configured are available:</p>\n\n<pre><code>Pool management starting...\nPool start idle:0\nPool start active:0\nPool idle - loop 0: 0\nPool active - loop0: 1\nPool idle - loop 1: 0\nPool active - loop1: 2\nPool idle - loop 2: 0\nPool active - loop2: 3\nALL PROXIES BORROWED\nPool after borrow idle:0\nPool after borrow active:3\nGoing to return\nPool after return idle:1\nPool after return active:2\nPool after return idle:2\nPool after return active:1\nPool after return idle:3\nPool after return active:0\nClearing buffer: 3\nClearing buffer: 0\nPool status before reborrow.\nPool idle:3\nPool active:0\nPool idle:2\nPool active:1\nBorrowed final proxy:Proxy(proxyHost=2, proxyPort=null, proxyUser=null, proxyPassword=null, geoIPLocation=null, isAvailable=true)\nPool idle:1\nPool active:2\nBorrowed final proxy:Proxy(proxyHost=1, proxyPort=null, proxyUser=null, proxyPassword=null, geoIPLocation=null, isAvailable=true)\nPool idle:0\nPool active:3\nBorrowed final proxy:Proxy(proxyHost=0, proxyPort=null, proxyUser=null, proxyPassword=null, geoIPLocation=null, isAvailable=true)\n\n    Process finished with exit code 0\n</code></pre>\n\n<p>So the behaviour is as expected, but I would simply extend the pool with put() method of the PooledObject as parameter, so you can initialize pool in more intuitive way...</p>\n"},{"tags":[],"owner":{"account_id":1627501,"reputation":43,"user_id":1502707,"display_name":"Karthik_Rajendiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678556828,"creation_date":1678556828,"answer_id":75707673,"question_id":48485616,"body_markdown":" @Kensai\r\n Basically Apache commons Pool is also based on ObjectPoolPattern\r\n\r\nyou can try this . Note this uses ConcurrentQueue, you can keep min and max object count as same so that you operate on fixed instances always.\r\n\r\n**Option 1**\r\n[https://www.javacodegeeks.com/2013/08/simple-and-lightweight-pool-implementation.html][1]\r\n\r\n\r\n**Option 2**\r\n[https://www.geeksforgeeks.org/object-pool-design-pattern/][2]\r\n\r\n Note - Borrow and Return is Entire Method is synchronized,but you can override your clean up /Evict Policy in a convenient way\r\n\r\n  [1]: https://www.javacodegeeks.com/2013/08/simple-and-lightweight-pool-implementation.html\r\n  [2]: https://www.geeksforgeeks.org/object-pool-design-pattern/\r\n\r\n\r\n\r\n","title":"Apache Pool 2 - predefined object instances with fixed capacity","body":"<p>@Kensai\nBasically Apache commons Pool is also based on ObjectPoolPattern</p>\n<p>you can try this . Note this uses ConcurrentQueue, you can keep min and max object count as same so that you operate on fixed instances always.</p>\n<p><strong>Option 1</strong>\n<a href=\"https://www.javacodegeeks.com/2013/08/simple-and-lightweight-pool-implementation.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2013/08/simple-and-lightweight-pool-implementation.html</a></p>\n<p><strong>Option 2</strong>\n<a href=\"https://www.geeksforgeeks.org/object-pool-design-pattern/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/object-pool-design-pattern/</a></p>\n<p>Note - Borrow and Return is Entire Method is synchronized,but you can override your clean up /Evict Policy in a convenient way</p>\n"}],"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48486277,"answer_count":2,"score":0,"last_activity_date":1678557243,"creation_date":1517137330,"question_id":48485616,"body_markdown":"I would like to use Apache Pool 2 library, but looking for following functionality:\r\n\r\n 1. The objects are not dummy new empty instances, but pre-loaded objects from external data source. You can imagine each object is unique working configuration which can be passed to generic task and such task will work. I don&#39;t need to clean up object, just return them.\r\n 2. The number of objects in pool is fixed.\r\n\r\nIsn&#39;t it better to write my own pool or is there way to achieve this with apache?\r\n\r\nOr is there some better pattern to be used?\r\n","title":"Apache Pool 2 - predefined object instances with fixed capacity","body":"<p>I would like to use Apache Pool 2 library, but looking for following functionality:</p>\n<ol>\n<li>The objects are not dummy new empty instances, but pre-loaded objects from external data source. You can imagine each object is unique working configuration which can be passed to generic task and such task will work. I don't need to clean up object, just return them.</li>\n<li>The number of objects in pool is fixed.</li>\n</ol>\n<p>Isn't it better to write my own pool or is there way to achieve this with apache?</p>\n<p>Or is there some better pattern to be used?</p>\n"},{"tags":["java","jpa","jakarta-ee","selectonemenu"],"comments":[{"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"score":0,"creation_date":1678563088,"post_id":75707702,"comment_id":133559469,"body_markdown":"@BasilBourque wondering if you could help with this one. Cheers","body":"@BasilBourque wondering if you could help with this one. Cheers"}],"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678557185,"creation_date":1678557185,"question_id":75707702,"body_markdown":"I&#39;m trying to use a SelectOneMenu in Java (using Jakarta Faces) to allow users to select one of two options. The output will go into a column, each column representing a person. I want the user to choose if they want to display the person&#39;s favorite color or food, and once selected, the value displayed in the column will be updated for all persons. The drop-down select menu I want at the top of the column. I figure I need some sort of if/else statement, but I&#39;m unclear how to go about this. Here is the code I have now:\r\n\r\n```\r\n&lt;p:column headerText=&quot;Favourite Color or Food&quot;&gt;\r\n                  &lt;p:selectOneMenu&gt;\r\n                        &lt;f:selectItem itemLabel=&quot;Color&quot; itemValue=&quot;#{currentItem.color)}&quot;/&gt;\r\n                        &lt;f:selectItem itemLabel=&quot;Food&quot; itemValue=&quot;#{currentItem.food()}&quot;/&gt;\r\n                      if(selectItem.itemValue == &quot;#{currentItem.food()}&quot;) {\r\n                      &lt;h:outputText value=&quot;#{currentItem.food()}&quot; icon=&quot;pi pi-list&quot;/&gt;\r\n                      }\r\n                      else {\r\n                      &lt;h:outputText value=&quot;#{currentItem.color()}&quot; icon=&quot;pi pi-list&quot;/&gt;\r\n                      }\r\n                  &lt;/p:selectOneMenu&gt;\r\n                &lt;/p:column&gt;\r\n```\r\n\r\nAny and all insight is wildly appreciated.","title":"SelectOneMenu in Java to choose outputs from one of two Methods","body":"<p>I'm trying to use a SelectOneMenu in Java (using Jakarta Faces) to allow users to select one of two options. The output will go into a column, each column representing a person. I want the user to choose if they want to display the person's favorite color or food, and once selected, the value displayed in the column will be updated for all persons. The drop-down select menu I want at the top of the column. I figure I need some sort of if/else statement, but I'm unclear how to go about this. Here is the code I have now:</p>\n<pre><code>&lt;p:column headerText=&quot;Favourite Color or Food&quot;&gt;\n                  &lt;p:selectOneMenu&gt;\n                        &lt;f:selectItem itemLabel=&quot;Color&quot; itemValue=&quot;#{currentItem.color)}&quot;/&gt;\n                        &lt;f:selectItem itemLabel=&quot;Food&quot; itemValue=&quot;#{currentItem.food()}&quot;/&gt;\n                      if(selectItem.itemValue == &quot;#{currentItem.food()}&quot;) {\n                      &lt;h:outputText value=&quot;#{currentItem.food()}&quot; icon=&quot;pi pi-list&quot;/&gt;\n                      }\n                      else {\n                      &lt;h:outputText value=&quot;#{currentItem.color()}&quot; icon=&quot;pi pi-list&quot;/&gt;\n                      }\n                  &lt;/p:selectOneMenu&gt;\n                &lt;/p:column&gt;\n</code></pre>\n<p>Any and all insight is wildly appreciated.</p>\n"},{"tags":["java","ncurses","tui"],"comments":[{"owner":{"account_id":13566,"reputation":48835,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":0,"creation_date":1251127331,"post_id":1321308,"comment_id":1156624,"body_markdown":"I looked into this a couple of years ago and didn&#39;t find any more than you have. I suspect the problem is that the low-level terminal functionality is highly platform-specific -- and not just at the OS level but at the terminal emulator level (VT100, xterm, etc). I&#39;m not sure how I&#39;d even go about dealing with that, without wrapping a native API like curses (or termcap / terminfo, at least) that already abstracts it. I suppose you could talk raw control characters to `System.out`.","body":"I looked into this a couple of years ago and didn&#39;t find any more than you have. I suspect the problem is that the low-level terminal functionality is highly platform-specific -- and not just at the OS level but at the terminal emulator level (VT100, xterm, etc). I&#39;m not sure how I&#39;d even go about dealing with that, without wrapping a native API like curses (or termcap / terminfo, at least) that already abstracts it. I suppose you could talk raw control characters to <code>System.out</code>."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1251140542,"post_id":1321308,"comment_id":1157857,"body_markdown":"Talking raw control chars to stdout is exactly how curses does it, so it&#39;s a sensible idea, although a substantial piece of work.","body":"Talking raw control chars to stdout is exactly how curses does it, so it&#39;s a sensible idea, although a substantial piece of work."},{"owner":{"display_name":"user9903"},"score":2,"creation_date":1251227137,"post_id":1321308,"comment_id":1164494,"body_markdown":"What&#39;s wrong with JNI? I&#39;d go with CHARVA, it looks complete (ish).","body":"What&#39;s wrong with JNI? I&#39;d go with CHARVA, it looks complete (ish)."},{"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"score":0,"creation_date":1251476793,"post_id":1321308,"comment_id":1183803,"body_markdown":"I would recommend going with CHARVA. There is a lot going on in the  ncurses library. Not only does it support lots of different terminal types, it also handles lots of the cases where a particular version of an emulator is buggy. The only sane ways to get ncurses-equivalent terminal support are to wrap ncurses as CHARVA does, or to port ncurses to Java. The latter would be cool if someone would support it going forward.","body":"I would recommend going with CHARVA. There is a lot going on in the  ncurses library. Not only does it support lots of different terminal types, it also handles lots of the cases where a particular version of an emulator is buggy. The only sane ways to get ncurses-equivalent terminal support are to wrap ncurses as CHARVA does, or to port ncurses to Java. The latter would be cool if someone would support it going forward."},{"owner":{"account_id":2476389,"reputation":3763,"user_id":2194007,"accept_rate":87,"display_name":"rath"},"score":0,"creation_date":1398427291,"post_id":1321308,"comment_id":35654435,"body_markdown":"possible duplicate of [What&#39;s a good Java, curses-like, library for terminal applications?](http://stackoverflow.com/questions/439799/whats-a-good-java-curses-like-library-for-terminal-applications)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/439799/whats-a-good-java-curses-like-library-for-terminal-applications\">What&#39;s a good Java, curses-like, library for terminal applications?</a>"}],"answers":[{"tags":[],"owner":{"display_name":"textmode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251108570,"creation_date":1251108570,"answer_id":1321511,"question_id":1321308,"body_markdown":"I believe Jcurses is a native java implementation of the curses API, I recall it have a few quirks, but it should be able to do what you want:\r\n\r\nhttp://sourceforge.net/projects/javacurses/","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>I believe Jcurses is a native java implementation of the curses API, I recall it have a few quirks, but it should be able to do what you want:</p>\n\n<p><a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/javacurses/</a></p>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251128210,"creation_date":1251128210,"answer_id":1323097,"question_id":1321308,"body_markdown":"Try [java curses][1] (sorry it uses JNI). I also tried to implement a short version of this library just to learn JNI , see [http://plindenbaum.blogspot.com/2008/01/java-native-interface-jni-notebook.html][2]. One could also imagine a specialized JPanel displaying a matrix of characters:\r\n\r\n    public class TPanel extends JPanel\r\n    {\r\n    private Vector&lt;Vector&lt;YourCharAndStyle&gt;&gt; rows;\r\n    \r\n    protected void paintComponent(Graphics g)\r\n     {\r\n     //paint the characters\r\n     (...)\r\n     }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/\r\n  [2]: http://plindenbaum.blogspot.com/2008/01/java-native-interface-jni-notebook.html","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>Try <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"nofollow noreferrer\">java curses</a> (sorry it uses JNI). I also tried to implement a short version of this library just to learn JNI , see <a href=\"http://plindenbaum.blogspot.com/2008/01/java-native-interface-jni-notebook.html\" rel=\"nofollow noreferrer\">http://plindenbaum.blogspot.com/2008/01/java-native-interface-jni-notebook.html</a>. One could also imagine a specialized JPanel displaying a matrix of characters:</p>\n\n<pre><code>public class TPanel extends JPanel\n{\nprivate Vector&lt;Vector&lt;YourCharAndStyle&gt;&gt; rows;\n\nprotected void paintComponent(Graphics g)\n {\n //paint the characters\n (...)\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50137,"reputation":2246,"user_id":149435,"display_name":"D&#39;Nabre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251415683,"creation_date":1251415683,"answer_id":1344272,"question_id":1321308,"body_markdown":"The short answer is deal with a Java wrapper around curses.\r\n\r\nThe long answer: \r\n\r\nTerminals vary a lot, which is why terminfo/termcap libraries exist and why they are a mess to deal with (The maintainers of those projects are saints btw). They abstract away all the really basic terminal variations to something sane. Curses make those in nice efficient libraries to use. \r\n\r\nIf you want a pure Java solution, you&#39;ll need both those libraries or their equivalent in Java. I&#39;m sure someone will point you to that if it exists, but I as far as I know it doesn&#39;t exist.  ","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>The short answer is deal with a Java wrapper around curses.</p>\n\n<p>The long answer: </p>\n\n<p>Terminals vary a lot, which is why terminfo/termcap libraries exist and why they are a mess to deal with (The maintainers of those projects are saints btw). They abstract away all the really basic terminal variations to something sane. Curses make those in nice efficient libraries to use. </p>\n\n<p>If you want a pure Java solution, you'll need both those libraries or their equivalent in Java. I'm sure someone will point you to that if it exists, but I as far as I know it doesn't exist.  </p>\n"},{"tags":[],"owner":{"account_id":29934,"reputation":3390,"user_id":81252,"accept_rate":90,"display_name":"Alexey Sviridov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251427656,"creation_date":1251427656,"answer_id":1344784,"question_id":1321308,"body_markdown":"I&#39;m using JavaTUI (http://sourceforge.net/projects/javatui/files/) in my several console java projects. It&#39;s best what i can find but it so far from perfect. I&#39;m think there is not a good TUI implemetation in java world.","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>I'm using JavaTUI (<a href=\"http://sourceforge.net/projects/javatui/files/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/javatui/files/</a>) in my several console java projects. It's best what i can find but it so far from perfect. I'm think there is not a good TUI implemetation in java world.</p>\n"},{"tags":[],"owner":{"account_id":20445,"reputation":6733,"user_id":48869,"accept_rate":81,"display_name":"Eldelshell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251473255,"creation_date":1251473255,"answer_id":1347746,"question_id":1321308,"body_markdown":"I think it would be better to abstract your Java code from the TUI and use ncurses against several separated parts of your application or using arguments, in a web-services style. For example, code your TUI and when the user calls an action, use ncurses to call your code passing some parameters \r\n\r\n    java -Daction=doSomething MyApp\r\n\r\nThis way you can code your app using a GUI also in case you need to.","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>I think it would be better to abstract your Java code from the TUI and use ncurses against several separated parts of your application or using arguments, in a web-services style. For example, code your TUI and when the user calls an action, use ncurses to call your code passing some parameters </p>\n\n<pre><code>java -Daction=doSomething MyApp\n</code></pre>\n\n<p>This way you can code your app using a GUI also in case you need to.</p>\n"},{"tags":[],"owner":{"account_id":27506,"reputation":1668,"user_id":72676,"display_name":"stinkymatt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1251613182,"creation_date":1251613182,"answer_id":1353221,"question_id":1321308,"body_markdown":"You may want to go vote for this issue here: [https://bugs.java.com/bugdatabase/view_bug?bug_id=6351276][1]\r\n\r\nEssentially there is no good way to get ncurses-like functionality without JNI until this issue is addressed.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6351276","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>You may want to go vote for this issue here: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6351276\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6351276</a></p>\n<p>Essentially there is no good way to get ncurses-like functionality without JNI until this issue is addressed.</p>\n"},{"tags":[],"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar Wosiński"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1439709523,"creation_date":1355843020,"answer_id":13935732,"question_id":1321308,"body_markdown":"Since 2010 there is Lanterna :\r\n&gt; Lanterna is a Java library allowing you to write easy semi-graphical user interfaces in a text-only environment, very similar to the C library curses but with more functionality. Lanterna is supporting xterm compatible terminals and terminal emulators such as konsole, gnome-terminal, putty, xterm and many more. One of the main benefits of lanterna is that it&#39;s not dependent on any native library but runs 100% in pure Java.\r\n\r\nMore here: https://github.com/mabe02/lanterna","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>Since 2010 there is Lanterna :</p>\n\n<blockquote>\n  <p>Lanterna is a Java library allowing you to write easy semi-graphical user interfaces in a text-only environment, very similar to the C library curses but with more functionality. Lanterna is supporting xterm compatible terminals and terminal emulators such as konsole, gnome-terminal, putty, xterm and many more. One of the main benefits of lanterna is that it's not dependent on any native library but runs 100% in pure Java.</p>\n</blockquote>\n\n<p>More here: <a href=\"https://github.com/mabe02/lanterna\">https://github.com/mabe02/lanterna</a></p>\n"},{"tags":[],"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1678556700,"creation_date":1542559495,"answer_id":53363215,"question_id":1321308,"body_markdown":"You can try Jexer - Java Text User Interface:\r\n\r\nhttps://jexer.sourceforge.io/\r\n\r\nhttps://gitlab.com/AutumnMeowMeow/jexer","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>You can try Jexer - Java Text User Interface:</p>\n<p><a href=\"https://jexer.sourceforge.io/\" rel=\"nofollow noreferrer\">https://jexer.sourceforge.io/</a></p>\n<p><a href=\"https://gitlab.com/AutumnMeowMeow/jexer\" rel=\"nofollow noreferrer\">https://gitlab.com/AutumnMeowMeow/jexer</a></p>\n"}],"owner":{"account_id":54135,"reputation":410,"user_id":161937,"display_name":"Anthony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35900,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":13935732,"answer_count":8,"score":26,"last_activity_date":1678556700,"creation_date":1251105600,"question_id":1321308,"body_markdown":"I need to implement a console application (possibly in Java) with ncurses-like functionality (such as navigating a menu and redrawing the whole screen).\r\n\r\nThe only solutions that I can find to do this so far are CHARVA ([&quot;A Java Windowing Toolkit for Text Terminals&quot;][1]), tuipeer ([&quot;A Text User Interface for the Java AWT&quot;][2]) and a really old Dr. Dobb&#39;s article ([&quot;A Text UI for the Java AWT\r\n&quot;][3]).\r\n\r\nSo far, CHARVA is the best thing that I can find but I don&#39;t like the idea of it using JNI to wrap curses.\r\n\r\nIs there any standard way, say with AWT/Swing, to do do this? What other alternatives are there?\r\n\r\n  [1]: http://www.pitman.co.za/projects/charva/index.html\r\n  [2]: http://bmsi.com/tuipeer/\r\n  [3]: http://www.ddj.com/windows/184410274","title":"What&#39;s the best way to get text user-interfaces (ncurses-like) functionality in Java?","body":"<p>I need to implement a console application (possibly in Java) with ncurses-like functionality (such as navigating a menu and redrawing the whole screen).</p>\n\n<p>The only solutions that I can find to do this so far are CHARVA (<a href=\"http://www.pitman.co.za/projects/charva/index.html\" rel=\"noreferrer\">\"A Java Windowing Toolkit for Text Terminals\"</a>), tuipeer (<a href=\"http://bmsi.com/tuipeer/\" rel=\"noreferrer\">\"A Text User Interface for the Java AWT\"</a>) and a really old Dr. Dobb's article (<a href=\"http://www.ddj.com/windows/184410274\" rel=\"noreferrer\">\"A Text UI for the Java AWT\n\"</a>).</p>\n\n<p>So far, CHARVA is the best thing that I can find but I don't like the idea of it using JNI to wrap curses.</p>\n\n<p>Is there any standard way, say with AWT/Swing, to do do this? What other alternatives are there?</p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"score":1,"creation_date":1572713206,"post_id":58673161,"comment_id":103648142,"body_markdown":"Java !== JavaScript. please use the relevant tags only","body":"Java !== JavaScript. please use the relevant tags only"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678556691,"creation_date":1572713317,"answer_id":58673198,"question_id":58673161,"body_markdown":"`|` is the bitwise OR operator. You want `&amp;&amp;`, the logical AND operator. &quot;If `number2` is greater than `number1` **and** `number3` is greater than `number1`.&quot; Also, you don&#39;t want any `if` on the last `else`, since by then you&#39;ve ruled out two of the three possibilities and there&#39;s only one possibility left.\r\n\r\nSeparately, we&#39;ll want to handle the case where `number1` and `number2` are the same, and they&#39;re both lower than `number3`. That can be done by using `&gt;=` instead of `&gt;` in the first `if`.\r\n\r\nSo:\r\n\r\n    if (number2 &gt;= number1 &amp;&amp; number3 &gt; number1) {\r\n        // −−−−−^−−−−−−−−−−^^\r\n        minimum = number1;\r\n    } else if (number1 &gt; number2 &amp;&amp; number3 &gt; number2) {\r\n        // −−−−−−−−−−−−−−−−−−−−−−^^\r\n        minimum = number2;\r\n    } else /* No `if` here */ {\r\n        minimum = number3;\r\n    }\r\n\r\nJavaScript example (since the logic and syntax of the above is common to both Java and JavaScript):\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function test(number1, number2, number3) {\r\n        let minimum;\r\n        if (number2 &gt;= number1 &amp;&amp; number3 &gt; number1) {\r\n            // −−−−−−^−−−−−−−−−^^\r\n            minimum = number1;\r\n        } else if (number1 &gt; number2 &amp;&amp; number3 &gt; number2) {\r\n            // −−−−−−−−−−−−−−−−−−−−−−^^\r\n            minimum = number2;\r\n        } else /* No `if` here */ {\r\n            minimum = number3;\r\n        }\r\n        console.log(minimum);\r\n    }\r\n\r\n    test(1, 2, 3); // Should be 1\r\n    test(3, 2, 1); // Should be 1\r\n    test(2, 2, 1); // Should be 1\r\n    test(2, 2, 4); // Should be 2\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Finding the minimum of 3 variables using an if statement","body":"<p><code>|</code> is the bitwise OR operator. You want <code>&amp;&amp;</code>, the logical AND operator. &quot;If <code>number2</code> is greater than <code>number1</code> <strong>and</strong> <code>number3</code> is greater than <code>number1</code>.&quot; Also, you don't want any <code>if</code> on the last <code>else</code>, since by then you've ruled out two of the three possibilities and there's only one possibility left.</p>\n<p>Separately, we'll want to handle the case where <code>number1</code> and <code>number2</code> are the same, and they're both lower than <code>number3</code>. That can be done by using <code>&gt;=</code> instead of <code>&gt;</code> in the first <code>if</code>.</p>\n<p>So:</p>\n<pre><code>if (number2 &gt;= number1 &amp;&amp; number3 &gt; number1) {\n    // −−−−−^−−−−−−−−−−^^\n    minimum = number1;\n} else if (number1 &gt; number2 &amp;&amp; number3 &gt; number2) {\n    // −−−−−−−−−−−−−−−−−−−−−−^^\n    minimum = number2;\n} else /* No `if` here */ {\n    minimum = number3;\n}\n</code></pre>\n<p>JavaScript example (since the logic and syntax of the above is common to both Java and JavaScript):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function test(number1, number2, number3) {\n    let minimum;\n    if (number2 &gt;= number1 &amp;&amp; number3 &gt; number1) {\n        // −−−−−−^−−−−−−−−−^^\n        minimum = number1;\n    } else if (number1 &gt; number2 &amp;&amp; number3 &gt; number2) {\n        // −−−−−−−−−−−−−−−−−−−−−−^^\n        minimum = number2;\n    } else /* No `if` here */ {\n        minimum = number3;\n    }\n    console.log(minimum);\n}\n\ntest(1, 2, 3); // Should be 1\ntest(3, 2, 1); // Should be 1\ntest(2, 2, 1); // Should be 1\ntest(2, 2, 4); // Should be 2</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":15238542,"reputation":50,"user_id":10995519,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572713846,"creation_date":1572713846,"answer_id":58673259,"question_id":58673161,"body_markdown":"You can also ```import java.util.*``` witch comes with ```java.lang.Math```. This allows you to use methods that come from ```Math```, such as ```Math.min```.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class FindMin\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.print(&quot;Program to compare three numbers&quot;);\r\n        System.out.println(&quot;and output minimum value entered&quot;);\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter 1st number: &quot;);\r\n        int number1;\r\n        number1 = input.nextInt();\r\n\r\n        System.out.print(&quot;Enter 2nd number: &quot;);\r\n        int number2;\r\n        number2 = input.nextInt();\r\n\r\n        System.out.print(&quot;Enter 3rd number: &quot;);\r\n        int number3;\r\n        number3 = input.nextInt();\r\n\r\n         int minimum = Math.min(Math.min(number1, number2), number3);\r\n\r\n        System.out.print(&quot;The minimum of the numbers entered is &quot;);\r\n        System.out.println(minimum); \r\n        System.out.println(); \r\n    }\r\n}\r\n```","title":"Finding the minimum of 3 variables using an if statement","body":"<p>You can also <code>import java.util.*</code> witch comes with <code>java.lang.Math</code>. This allows you to use methods that come from <code>Math</code>, such as <code>Math.min</code>.</p>\n\n<pre><code>import java.util.Scanner;\npublic class FindMin\n{\n    public static void main(String[] args)\n    {\n        System.out.print(\"Program to compare three numbers\");\n        System.out.println(\"and output minimum value entered\");\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(\"Enter 1st number: \");\n        int number1;\n        number1 = input.nextInt();\n\n        System.out.print(\"Enter 2nd number: \");\n        int number2;\n        number2 = input.nextInt();\n\n        System.out.print(\"Enter 3rd number: \");\n        int number3;\n        number3 = input.nextInt();\n\n         int minimum = Math.min(Math.min(number1, number2), number3);\n\n        System.out.print(\"The minimum of the numbers entered is \");\n        System.out.println(minimum); \n        System.out.println(); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16971444,"reputation":1,"user_id":12275966,"display_name":"Rewidle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572714072,"creation_date":1572714072,"answer_id":58673295,"question_id":58673161,"body_markdown":"Or you can do this\r\n\r\n    int minimum = 0;\r\n        if(number1 &lt; number2){\r\n            minimum = number1;\r\n        }else{\r\n            minimum = number2;\r\n        }\r\n        if(number3&lt;minimum){\r\n            minimum = number3;\r\n        }","title":"Finding the minimum of 3 variables using an if statement","body":"<p>Or you can do this</p>\n\n<pre><code>int minimum = 0;\n    if(number1 &lt; number2){\n        minimum = number1;\n    }else{\n        minimum = number2;\n    }\n    if(number3&lt;minimum){\n        minimum = number3;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572716763,"creation_date":1572716763,"answer_id":58673661,"question_id":58673161,"body_markdown":"Try the below method and pass your three numbers as parameters.\r\n\r\n```java\r\n\tpublic static int getMinimumNumber(int no1, int no2, int no3) {\r\n\t\treturn no1 &lt; no2 ? (no1 &lt; no3 ? no1 : (no2 &lt; no3 ? no2 : no3)) : (no2 &lt; no3 ? no2 : no3);\r\n\t}\r\n```","title":"Finding the minimum of 3 variables using an if statement","body":"<p>Try the below method and pass your three numbers as parameters.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static int getMinimumNumber(int no1, int no2, int no3) {\n        return no1 &lt; no2 ? (no1 &lt; no3 ? no1 : (no2 &lt; no3 ? no2 : no3)) : (no2 &lt; no3 ? no2 : no3);\n    }\n</code></pre>\n"}],"owner":{"account_id":17020079,"reputation":5,"user_id":12312892,"display_name":"Magix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1678556691,"creation_date":1572713066,"question_id":58673161,"body_markdown":"I&#39;m learning how to use BlueJ and I am struggling in writing the code for it to output the minimum number that the user has inputted. Any help would be appreciated!\r\n\r\n    import java.util.Scanner;\r\n    public class FindMin\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.print(&quot;Program to compare three numbers&quot;);\r\n            System.out.println(&quot;and output minimum value entered&quot;);\r\n        \r\n            Scanner input = new Scanner(System.in);\r\n        \r\n            System.out.print(&quot;Enter 1st number: &quot;);\r\n            int number1;\r\n            number1 = input.nextInt();\r\n        \r\n            System.out.print(&quot;Enter 2nd number: &quot;);\r\n            int number2;\r\n            number2 = input.nextInt();\r\n        \r\n            System.out.print(&quot;Enter 3rd number: &quot;);\r\n            int number3;\r\n            number3 = input.nextInt();\r\n        \r\n            int minimum;\r\n            if (number2 &gt; number1 | number3 &gt; number1){\r\n                minimum = number1;\r\n            }\r\n            else if (number1 &gt; number2 | number3 &gt; number2){\r\n                minimum = number2;\r\n            }\r\n            else if (number1 &gt; number3 | number2 &gt; number3){\r\n                minimum = number3;\r\n            }\r\n            \r\n            System.out.print(&quot;The minimum of the numbers entered is &quot;);\r\n            System.out.println(minimum); \r\n            System.out.println(); \r\n        }\r\n    }","title":"Finding the minimum of 3 variables using an if statement","body":"<p>I'm learning how to use BlueJ and I am struggling in writing the code for it to output the minimum number that the user has inputted. Any help would be appreciated!</p>\n\n<pre><code>import java.util.Scanner;\npublic class FindMin\n{\n    public static void main(String[] args)\n    {\n        System.out.print(\"Program to compare three numbers\");\n        System.out.println(\"and output minimum value entered\");\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(\"Enter 1st number: \");\n        int number1;\n        number1 = input.nextInt();\n\n        System.out.print(\"Enter 2nd number: \");\n        int number2;\n        number2 = input.nextInt();\n\n        System.out.print(\"Enter 3rd number: \");\n        int number3;\n        number3 = input.nextInt();\n\n        int minimum;\n        if (number2 &gt; number1 | number3 &gt; number1){\n            minimum = number1;\n        }\n        else if (number1 &gt; number2 | number3 &gt; number2){\n            minimum = number2;\n        }\n        else if (number1 &gt; number3 | number2 &gt; number3){\n            minimum = number3;\n        }\n\n        System.out.print(\"The minimum of the numbers entered is \");\n        System.out.println(minimum); \n        System.out.println(); \n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678556524,"post_id":75707580,"comment_id":133557860,"body_markdown":"It&#39;s been a while since I&#39;ve created an AWT GUI, but I&#39;d suggest using a `Canvas` inside a `Frame`.  If you can use Java Swing, create a drawing `JPanel` in a `JFrame`.","body":"It&#39;s been a while since I&#39;ve created an AWT GUI, but I&#39;d suggest using a <code>Canvas</code> inside a <code>Frame</code>.  If you can use Java Swing, create a drawing <code>JPanel</code> in a <code>JFrame</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678557296,"post_id":75707580,"comment_id":133557967,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678563500,"post_id":75707580,"comment_id":133559537,"body_markdown":"Show us what you’ve tried.  We can’t suggest a solution if we don’t know what knowledge you already have.  For example, we don’t know if you’ve ever used the Graphics class.","body":"Show us what you’ve tried.  We can’t suggest a solution if we don’t know what knowledge you already have.  For example, we don’t know if you’ve ever used the Graphics class."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1678564219,"post_id":75707580,"comment_id":133559624,"body_markdown":"Start by reading the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for the basics.","body":"Start by reading the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for the basics."}],"owner":{"account_id":26987617,"reputation":1,"user_id":20551023,"display_name":"pepega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678556612,"creation_date":1678555844,"question_id":75707580,"body_markdown":"Need to draw a spiral in a frame lets say the size of 640x480. It starts from the center of the frame and goes counter clockwise with pixels of different colors.\r\n\r\n![enter image description here](https://i.stack.imgur.com/H1Zdr.gif) \r\n\r\nHow can I do that, without using a lot of different libraries, lets say I can use only java.awt.\\*;\r\n\r\nHave tried a lot of stuff but none of it worked and I dont know why, so I have no clue how to do that.","title":"How to draw a rectangular spiral with pixels in java frame","body":"<p>Need to draw a spiral in a frame lets say the size of 640x480. It starts from the center of the frame and goes counter clockwise with pixels of different colors.</p>\n<p><img src=\"https://i.stack.imgur.com/H1Zdr.gif\" alt=\"enter image description here\" /></p>\n<p>How can I do that, without using a lot of different libraries, lets say I can use only java.awt.*;</p>\n<p>Have tried a lot of stuff but none of it worked and I dont know why, so I have no clue how to do that.</p>\n"},{"tags":["java","spring-boot","prometheus","metrics","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":2876259,"reputation":470,"user_id":2468241,"accept_rate":75,"display_name":"XII"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1657125164,"creation_date":1648124801,"answer_id":71602539,"question_id":71587610,"body_markdown":"`@Timed` works only on `public` methods called by another class.\r\n\r\nSpring Boot annotations like `@Timed` / `@Transactional` need the so-called proxying which happens only between invocations of `public` methods.\r\n\r\nA good explanation is this one https://stackoverflow.com/a/3429757/2468241\r\n\r\n","title":"Micrometer @Timed annotation on simple public and private (service) methods","body":"<p><code>@Timed</code> works only on <code>public</code> methods called by another class.</p>\n<p>Spring Boot annotations like <code>@Timed</code> / <code>@Transactional</code> need the so-called proxying which happens only between invocations of <code>public</code> methods.</p>\n<p>A good explanation is this one <a href=\"https://stackoverflow.com/a/3429757/2468241\">https://stackoverflow.com/a/3429757/2468241</a></p>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678556389,"creation_date":1678556389,"answer_id":75707629,"question_id":71587610,"body_markdown":"I think a better example of how this works is demonstrated in [this][1] tutorial. This gives a great example of using the `@Timed` on controller calls and the results. Be aware that if your actuator endpoints are behind authentication you will need to add a bearer token to your prometheus config (see [here][2]).\r\n\r\n\r\n  [1]: https://mehmetozkaya.medium.com/monitor-spring-boot-custom-metrics-with-micrometer-and-prometheus-using-docker-62798123c714\r\n  [2]: https://stackoverflow.com/questions/67847139/how-to-add-bearer-token-for-prometheus-job","title":"Micrometer @Timed annotation on simple public and private (service) methods","body":"<p>I think a better example of how this works is demonstrated in <a href=\"https://mehmetozkaya.medium.com/monitor-spring-boot-custom-metrics-with-micrometer-and-prometheus-using-docker-62798123c714\" rel=\"nofollow noreferrer\">this</a> tutorial. This gives a great example of using the <code>@Timed</code> on controller calls and the results. Be aware that if your actuator endpoints are behind authentication you will need to add a bearer token to your prometheus config (see <a href=\"https://stackoverflow.com/questions/67847139/how-to-add-bearer-token-for-prometheus-job\">here</a>).</p>\n"}],"owner":{"account_id":4756794,"reputation":3150,"user_id":3845362,"accept_rate":62,"display_name":"Edito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21904,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":71602539,"answer_count":2,"score":14,"last_activity_date":1678556389,"creation_date":1648040028,"question_id":71587610,"body_markdown":"I&#39;m trying to apply Prometheus metrics using the micrometer [`@Timed`][1] annotations.\r\nI found out that they only work on controller endpoints and not &quot;simple&quot; public and private methods.\r\n\r\nGiven this example:\r\n```java\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    @Timed(&quot;test-endpoint&quot;) //does create prometheus metrics\r\n    public String test() {\r\n        privateMethod();\r\n        publicMethod();\r\n        return &quot;test&quot;;\r\n    }\r\n\r\n    @Timed(&quot;test-private&quot;) //does NOT create prometheus metrics\r\n    private void privateMethod() {System.out.println(&quot;private stuff&quot;);}\r\n\r\n    @Timed(&quot;test-public&quot;) //does NOT create prometheus metrics\r\n    public void publicMethod() {System.out.println(&quot;public stuff&quot;);}\r\n}\r\n```\r\ncreates the following metrics:\r\n```\r\n...\r\n# HELP test_endpoint_seconds  \r\n# TYPE test_endpoint_seconds summary\r\ntest_endpoint_seconds_count{class=&quot;com.example.micrometerannotationexample.TestController&quot;,exception=&quot;none&quot;,method=&quot;test&quot;,} 1.0\r\ntest_endpoint_seconds_sum{class=&quot;com.example.micrometerannotationexample.TestController&quot;,exception=&quot;none&quot;,method=&quot;test&quot;,} 0.0076286\r\n# HELP test_endpoint_seconds_max  \r\n# TYPE test_endpoint_seconds_max gauge\r\ntest_endpoint_seconds_max{class=&quot;com.example.micrometerannotationexample.TestController&quot;,exception=&quot;none&quot;,method=&quot;test&quot;,} 0.0076286\r\n...\r\n```\r\n\r\nNo metrics found for `@Timed(&quot;test-private&quot;)` and `@Timed(&quot;test-public&quot;)`, why is that?\r\n\r\n---\r\nNote: I&#39;ve read on [this github thread][2], that Spring Boot does not recognize `@Timed` annotations on arbitrary methods and that you need to manually configure a `TimedAspect` Bean in order for it to work. I&#39;ve tried that but still it yields no results.\r\n```java\r\n@Configuration\r\n@EnableAspectJAutoProxy\r\npublic class MetricsConfig {\r\n    @Bean\r\n    public TimedAspect timedAspect(MeterRegistry registry) {\r\n        return new TimedAspect(registry);\r\n    }\r\n}\r\n```\r\n_To try this locally see necessary gist [here][3]_\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.supported.timed-annotation\r\n  [2]: https://github.com/micrometer-metrics/micrometer/pull/395#issuecomment-366828578\r\n  [3]: https://gist.github.com/eduvv/30e520469dd88eef4c679e044bfc8a2b","title":"Micrometer @Timed annotation on simple public and private (service) methods","body":"<p>I'm trying to apply Prometheus metrics using the micrometer <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.supported.timed-annotation\" rel=\"noreferrer\"><code>@Timed</code></a> annotations.\nI found out that they only work on controller endpoints and not &quot;simple&quot; public and private methods.</p>\n<p>Given this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController {\n\n    @GetMapping(&quot;/test&quot;)\n    @Timed(&quot;test-endpoint&quot;) //does create prometheus metrics\n    public String test() {\n        privateMethod();\n        publicMethod();\n        return &quot;test&quot;;\n    }\n\n    @Timed(&quot;test-private&quot;) //does NOT create prometheus metrics\n    private void privateMethod() {System.out.println(&quot;private stuff&quot;);}\n\n    @Timed(&quot;test-public&quot;) //does NOT create prometheus metrics\n    public void publicMethod() {System.out.println(&quot;public stuff&quot;);}\n}\n</code></pre>\n<p>creates the following metrics:</p>\n<pre><code>...\n# HELP test_endpoint_seconds  \n# TYPE test_endpoint_seconds summary\ntest_endpoint_seconds_count{class=&quot;com.example.micrometerannotationexample.TestController&quot;,exception=&quot;none&quot;,method=&quot;test&quot;,} 1.0\ntest_endpoint_seconds_sum{class=&quot;com.example.micrometerannotationexample.TestController&quot;,exception=&quot;none&quot;,method=&quot;test&quot;,} 0.0076286\n# HELP test_endpoint_seconds_max  \n# TYPE test_endpoint_seconds_max gauge\ntest_endpoint_seconds_max{class=&quot;com.example.micrometerannotationexample.TestController&quot;,exception=&quot;none&quot;,method=&quot;test&quot;,} 0.0076286\n...\n</code></pre>\n<p>No metrics found for <code>@Timed(&quot;test-private&quot;)</code> and <code>@Timed(&quot;test-public&quot;)</code>, why is that?</p>\n<hr />\n<p>Note: I've read on <a href=\"https://github.com/micrometer-metrics/micrometer/pull/395#issuecomment-366828578\" rel=\"noreferrer\">this github thread</a>, that Spring Boot does not recognize <code>@Timed</code> annotations on arbitrary methods and that you need to manually configure a <code>TimedAspect</code> Bean in order for it to work. I've tried that but still it yields no results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAspectJAutoProxy\npublic class MetricsConfig {\n    @Bean\n    public TimedAspect timedAspect(MeterRegistry registry) {\n        return new TimedAspect(registry);\n    }\n}\n</code></pre>\n<p><em>To try this locally see necessary gist <a href=\"https://gist.github.com/eduvv/30e520469dd88eef4c679e044bfc8a2b\" rel=\"noreferrer\">here</a></em></p>\n"},{"tags":["java","spring-webflux","reactor-netty"],"owner":{"account_id":5552150,"reputation":137,"user_id":4404811,"display_name":"gira1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678556198,"creation_date":1678556198,"question_id":75707612,"body_markdown":"I try to perform two steps with the request body (`@RequestBody Flux&lt;ByteBuffer&gt; body`) of a WebFlux Controller method using `Mono.zipWith()`.\r\n\r\nUnit testing the code with `WebTestClient` works as expected.\r\n\r\n**BUT:** When the WebFlux application runs, I receive the error (&quot;**Rejecting additional inbound receiver**&quot;) below.\r\n\r\nThe code is similar to this:\r\n\r\n```java\r\n    @PostMapping(&quot;/jobs&quot;)\r\n    public Mono&lt;ResponseEntity&lt;Map&lt;String, Object&gt;&gt;&gt; create(@RequestBody Flux&lt;ByteBuffer&gt; body) {\r\n\r\n        Mono&lt;String&gt; mono1 = doSomethingWithTheContent(body);\r\n\r\n        Mono&lt;Boolean&gt; mono2 = stopOnPatternDetection(body);\r\n\r\n        Mono&lt;Tuple2&lt;String, Boolean&gt;&gt; zippedMono = mono1.zipWith(mono2);\r\n\r\n        return zippedMono\r\n            .map(Tuple2::getT1)\r\n            .map(this::ok)\r\n            .onErrorResume(PatternDetectedException.class, this::bad);\r\n    }\r\n\r\n    Mono&lt;ResponseEntity&lt;Map&lt;String, Object&gt;&gt;&gt; bad(PatternDetectedException patternDetectedException) {\r\n        return Mono.just(\r\n            ResponseEntity\r\n                .badRequest()\r\n                .body(Map.of(&quot;detection&quot;, true))\r\n        );\r\n    }\r\n\r\n    ResponseEntity&lt;Map&lt;String, Object&gt;&gt; ok(String key) {\r\n        return ResponseEntity\r\n            .ok()\r\n            .body(\r\n                Map.of(\r\n                    &quot;key&quot;, key,\r\n                    &quot;detection&quot;, false\r\n                )\r\n            );\r\n    }\r\n\r\n    Mono&lt;Boolean&gt; stopOnPatternDetection(Flux&lt;ByteBuffer&gt; content) {\r\n        return readContent(content)\r\n            .map(bytes -&gt; {\r\n                if (patternIsDetected(bytes)) {\r\n                    throw new PatternDetectedException(&quot;Pattern detected in &quot; + Arrays.toString(bytes));\r\n                }\r\n                return true;\r\n            });\r\n    }\r\n\r\n    Mono&lt;String&gt; doSomethingWithTheContent(Flux&lt;ByteBuffer&gt; content) {\r\n        return readContent(content)\r\n            .map(bytes -&gt; new String(bytes));\r\n    }\r\n\r\n    Mono&lt;byte[]&gt; readContent(Flux&lt;ByteBuffer&gt; content) {\r\n\r\n        return content\r\n            .reduce(\r\n                new ByteArrayOutputStream(),\r\n                (byteArrayOutputStream, buffer) -&gt; {\r\n                    byteArrayOutputStream.write(buffer.array(), 0, buffer.limit());\r\n                    return byteArrayOutputStream;\r\n                })\r\n            .map(ByteArrayOutputStream::toByteArray);\r\n    }\r\n\r\n    private boolean patternIsDetected(byte[] content) {\r\n\r\n        return new String(content).contains(&quot;PATTERN-X&quot;);\r\n    }\r\n```\r\n\r\n```\r\njava.lang.IllegalStateException: Rejecting additional inbound receiver. State=[terminated=false, cancelled=false, pending=0, error=false]\r\n\tat reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:189) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ Handler com.giraone.jobs.receiver.web.rest.JobReceiveResource#create(Flux) [DispatcherHandler]\r\n\t*__checkpoint ⇢ org.springframework.web.filter.reactive.ServerHttpObservationFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ HTTP POST &quot;/api/jobs&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:189) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\t\tat reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\t\tat reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\t\tat reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:216) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:125) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:293) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:474) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip$ZipInner.onSubscribe(MonoZip.java:466) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:216) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:134) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:125) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.5.3.jar:3.5.3]\r\n\t\tat reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1006) ~[reactor-netty-http-1.1.4.jar:1.1.4]\r\n\t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\t\tat reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:477) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\t\tat reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:633) ~[reactor-netty-http-1.1.4.jar:1.1.4]\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.4.jar:1.1.4]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:228) ~[reactor-netty-http-1.1.4.jar:1.1.4]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```","title":"IllegalStateException: &quot;Rejecting additional inbound receiver&quot; using zipWith in Spring WebFlux","body":"<p>I try to perform two steps with the request body (<code>@RequestBody Flux&lt;ByteBuffer&gt; body</code>) of a WebFlux Controller method using <code>Mono.zipWith()</code>.</p>\n<p>Unit testing the code with <code>WebTestClient</code> works as expected.</p>\n<p><strong>BUT:</strong> When the WebFlux application runs, I receive the error (&quot;<strong>Rejecting additional inbound receiver</strong>&quot;) below.</p>\n<p>The code is similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/jobs&quot;)\n    public Mono&lt;ResponseEntity&lt;Map&lt;String, Object&gt;&gt;&gt; create(@RequestBody Flux&lt;ByteBuffer&gt; body) {\n\n        Mono&lt;String&gt; mono1 = doSomethingWithTheContent(body);\n\n        Mono&lt;Boolean&gt; mono2 = stopOnPatternDetection(body);\n\n        Mono&lt;Tuple2&lt;String, Boolean&gt;&gt; zippedMono = mono1.zipWith(mono2);\n\n        return zippedMono\n            .map(Tuple2::getT1)\n            .map(this::ok)\n            .onErrorResume(PatternDetectedException.class, this::bad);\n    }\n\n    Mono&lt;ResponseEntity&lt;Map&lt;String, Object&gt;&gt;&gt; bad(PatternDetectedException patternDetectedException) {\n        return Mono.just(\n            ResponseEntity\n                .badRequest()\n                .body(Map.of(&quot;detection&quot;, true))\n        );\n    }\n\n    ResponseEntity&lt;Map&lt;String, Object&gt;&gt; ok(String key) {\n        return ResponseEntity\n            .ok()\n            .body(\n                Map.of(\n                    &quot;key&quot;, key,\n                    &quot;detection&quot;, false\n                )\n            );\n    }\n\n    Mono&lt;Boolean&gt; stopOnPatternDetection(Flux&lt;ByteBuffer&gt; content) {\n        return readContent(content)\n            .map(bytes -&gt; {\n                if (patternIsDetected(bytes)) {\n                    throw new PatternDetectedException(&quot;Pattern detected in &quot; + Arrays.toString(bytes));\n                }\n                return true;\n            });\n    }\n\n    Mono&lt;String&gt; doSomethingWithTheContent(Flux&lt;ByteBuffer&gt; content) {\n        return readContent(content)\n            .map(bytes -&gt; new String(bytes));\n    }\n\n    Mono&lt;byte[]&gt; readContent(Flux&lt;ByteBuffer&gt; content) {\n\n        return content\n            .reduce(\n                new ByteArrayOutputStream(),\n                (byteArrayOutputStream, buffer) -&gt; {\n                    byteArrayOutputStream.write(buffer.array(), 0, buffer.limit());\n                    return byteArrayOutputStream;\n                })\n            .map(ByteArrayOutputStream::toByteArray);\n    }\n\n    private boolean patternIsDetected(byte[] content) {\n\n        return new String(content).contains(&quot;PATTERN-X&quot;);\n    }\n</code></pre>\n<pre><code>java.lang.IllegalStateException: Rejecting additional inbound receiver. State=[terminated=false, cancelled=false, pending=0, error=false]\n    at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:189) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Handler com.giraone.jobs.receiver.web.rest.JobReceiveResource#create(Flux) [DispatcherHandler]\n    *__checkpoint ⇢ org.springframework.web.filter.reactive.ServerHttpObservationFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP POST &quot;/api/jobs&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:189) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n        at reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n        at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n        at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:216) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.request(FluxMap.java:295) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onSubscribe(FluxMap.java:194) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:125) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:158) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:293) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:474) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip$ZipInner.onSubscribe(MonoZip.java:466) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:216) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:134) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:125) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.5.3.jar:3.5.3]\n        at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1006) ~[reactor-netty-http-1.1.4.jar:1.1.4]\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n        at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:477) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n        at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:633) ~[reactor-netty-http-1.1.4.jar:1.1.4]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.4.jar:1.1.4]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:228) ~[reactor-netty-http-1.1.4.jar:1.1.4]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","gradle","google-cloud-platform","cloudbuild.yaml"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1675211288,"post_id":75304413,"comment_id":132879056,"body_markdown":"add entry point with gradle in cloudbuild.yaml\n\nentrypoint: gradle","body":"add entry point with gradle in cloudbuild.yaml  entrypoint: gradle"}],"answers":[{"tags":[],"owner":{"account_id":26542813,"reputation":21,"user_id":20173297,"display_name":"Soundarrajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678554493,"creation_date":1678554493,"answer_id":75706575,"question_id":75304413,"body_markdown":"```\r\nsteps:\r\n- name: gradle:7.6-jdk17\r\n  args: [&#39;build&#39;]\r\n```\r\n\r\nIn the above code you are using the gradle image directly instead of gcr.io/cloudbuilders/gradle which internally have the entrypoint as gradle\r\nSo there it will works\r\n\r\n```\r\nsteps:\r\n- name: gcr.io/cloudbuilders/gradle\r\n  args: [&#39;build&#39;]\r\n```\r\n\r\n\r\nBut In your case you have to mention the entrypoint as gradle like below \r\n\r\n```\r\nsteps:\r\n- name: gradle:7.6-jdk17\r\n  entrypoint: gradle\r\n  args: [&#39;build&#39;]\r\n```\r\n\r\nOr \r\n\r\n```\r\nsteps:\r\n- name: gradle:7.6-jdk17\r\n  args: [&#39;gradle&#39;,&#39;build&#39;]\r\n```","title":"How to GCP Cloud Build + Java 17 + Gradle 7.6","body":"<pre><code>steps:\n- name: gradle:7.6-jdk17\n  args: ['build']\n</code></pre>\n<p>In the above code you are using the gradle image directly instead of gcr.io/cloudbuilders/gradle which internally have the entrypoint as gradle\nSo there it will works</p>\n<pre><code>steps:\n- name: gcr.io/cloudbuilders/gradle\n  args: ['build']\n</code></pre>\n<p>But In your case you have to mention the entrypoint as gradle like below</p>\n<pre><code>steps:\n- name: gradle:7.6-jdk17\n  entrypoint: gradle\n  args: ['build']\n</code></pre>\n<p>Or</p>\n<pre><code>steps:\n- name: gradle:7.6-jdk17\n  args: ['gradle','build']\n</code></pre>\n"}],"owner":{"display_name":"user8787347"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678554493,"creation_date":1675210267,"question_id":75304413,"body_markdown":"Can&#39;t figure out how to use Cloud Build + Gradle + Java 17 to build a Java Jar file.  I can&#39;t find any example cloudbuild.yaml that uses Gradle 7.6, which is required for my Gradle build.  I&#39;m not trying to build an image, just a jar file.  The project is stored in GCP Cloud Source and includes the Gradle Wrapper.\r\n\r\nHere&#39;s the cloudbuild.yaml\r\n```\r\nsteps:\r\n- name: gradle:7.6-jdk17\r\n  args: [&#39;build&#39;]\r\n```\r\n\r\nHere&#39;s the cloudbuild error\r\n&gt; Status: Downloaded newer image for gradle:7.6-jdk17\r\n&gt; docker.io/library/gradle:7.6-jdk17\r\n&gt; ERROR\r\n&gt; ERROR: build step 0 &quot;gradle:7.6-jdk17&quot; failed: starting step container failed: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;build&quot;: executable file not found in $PATH: unknown\r\n\r\n\r\ntried searching for example cloudbuild.yaml files for Java 17 + Gradle 7.6 - no luck\r\n\r\ntried using Google&#39;s examples, but they all use java 8","title":"How to GCP Cloud Build + Java 17 + Gradle 7.6","body":"<p>Can't figure out how to use Cloud Build + Gradle + Java 17 to build a Java Jar file.  I can't find any example cloudbuild.yaml that uses Gradle 7.6, which is required for my Gradle build.  I'm not trying to build an image, just a jar file.  The project is stored in GCP Cloud Source and includes the Gradle Wrapper.</p>\n<p>Here's the cloudbuild.yaml</p>\n<pre><code>steps:\n- name: gradle:7.6-jdk17\n  args: ['build']\n</code></pre>\n<p>Here's the cloudbuild error</p>\n<blockquote>\n<p>Status: Downloaded newer image for gradle:7.6-jdk17\ndocker.io/library/gradle:7.6-jdk17\nERROR\nERROR: build step 0 &quot;gradle:7.6-jdk17&quot; failed: starting step container failed: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;build&quot;: executable file not found in $PATH: unknown</p>\n</blockquote>\n<p>tried searching for example cloudbuild.yaml files for Java 17 + Gradle 7.6 - no luck</p>\n<p>tried using Google's examples, but they all use java 8</p>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678553183,"creation_date":1678553183,"answer_id":75706456,"question_id":75704059,"body_markdown":"Problem solved, I have another properties file and there was a collision. So It works!","title":"Quarkus - Panache and multiple datasources","body":"<p>Problem solved, I have another properties file and there was a collision. So It works!</p>\n"}],"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75706456,"answer_count":1,"score":0,"last_activity_date":1678553183,"creation_date":1678528048,"question_id":75704059,"body_markdown":"Regarding this doc:\r\n\r\nhttps://quarkus.io/guides/hibernate-orm#multiple-persistence-units\r\n\r\n&gt; Panache entities can be attached to only one persistence unit.\r\n\r\nIf I have two different entities (PanacheEntityBase) associated to two different tables (and two different databases)\r\n\r\nThen I have two Persistence Units, as the docs says:\r\n\r\n```\r\nquarkus.datasource.users.db-kind=postgresql\r\nquarkus.datasource.users.jdbc.url=jdbc:postgresql://url1.postgresql.com\r\nquarkus.datasource.users.username=username\r\nquarkus.datasource.users.password=password\r\nquarkus.hibernate-orm.users.datasource=users\r\nquarkus.hibernate-orm.users.packages=com.model.users\r\nquarkus.datasource.orders.db-kind=postgresql\r\nquarkus.datasource.orders.jdbc.url=jdbc:postgresql://url2.postgresql.com\r\nquarkus.datasource.orders.username=username\r\nquarkus.datasource.orders.password=password\r\nquarkus.hibernate-orm.orders.datasource=orders\r\nquarkus.hibernate-orm.orders.packages=com.model.orders\r\n```\r\n\r\nAlso two Repositories, UserRepository and OrderRepository (of type PanacheRepository&lt;Entity&gt;) and then, two services:\r\n\r\n```\r\n    @Inject\r\n    @PersistenceUnit(&quot;users&quot;) \r\n    EntityManager entityManager;\r\n```\r\n```\r\n    @Inject\r\n    @PersistenceUnit(&quot;orders&quot;) \r\n    EntityManager entityManager;\r\n```\r\n\r\nFinally, when the app starts:\r\n\r\n```\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type javax.persistence.EntityManager and qualifiers [@PersistenceUnit(value = &quot;users&quot;)]\r\n        - java member: com.repository.UserRespository#entityManager\r\n        - declared on CLASS bean [types=[io.quarkus.hibernate.orm.panache.PanacheRepository&lt;com.model.users.UserEntity&gt;, com.repository.UserRepository, java.lang.Object, com.repository.UserRepository, io.quarkus.hibernate.orm.panache.PanacheRepositoryBase&lt;com.model.users.UserEntity, java.lang.Long&gt;], qualifiers=[@Default, @Any], target=com.repository.UserRespository]\r\n        The following beans match by type, but none have matching qualifiers:\r\n                - Bean [class=org.hibernate.Session, qualifiers=[@Named(value = &quot;orders&quot;), @io.quarkus.hibernate.orm.PersistenceUnit(value = &quot;orders&quot;), @Any]]\r\n        at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:428)\r\n        at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:508)\r\n        at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:257)\r\n        ... 13 more\r\n```\r\n\r\nSo can I have two different entities associated to two Persistence Units in Panache? If so, any idea to solve the error? \r\n\r\nVersion of quarkus: 2.6.0.Final\r\n\r\nThanks in advance","title":"Quarkus - Panache and multiple datasources","body":"<p>Regarding this doc:</p>\n<p><a href=\"https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm#multiple-persistence-units</a></p>\n<blockquote>\n<p>Panache entities can be attached to only one persistence unit.</p>\n</blockquote>\n<p>If I have two different entities (PanacheEntityBase) associated to two different tables (and two different databases)</p>\n<p>Then I have two Persistence Units, as the docs says:</p>\n<pre><code>quarkus.datasource.users.db-kind=postgresql\nquarkus.datasource.users.jdbc.url=jdbc:postgresql://url1.postgresql.com\nquarkus.datasource.users.username=username\nquarkus.datasource.users.password=password\nquarkus.hibernate-orm.users.datasource=users\nquarkus.hibernate-orm.users.packages=com.model.users\nquarkus.datasource.orders.db-kind=postgresql\nquarkus.datasource.orders.jdbc.url=jdbc:postgresql://url2.postgresql.com\nquarkus.datasource.orders.username=username\nquarkus.datasource.orders.password=password\nquarkus.hibernate-orm.orders.datasource=orders\nquarkus.hibernate-orm.orders.packages=com.model.orders\n</code></pre>\n<p>Also two Repositories, UserRepository and OrderRepository (of type PanacheRepository) and then, two services:</p>\n<pre><code>    @Inject\n    @PersistenceUnit(&quot;users&quot;) \n    EntityManager entityManager;\n</code></pre>\n<pre><code>    @Inject\n    @PersistenceUnit(&quot;orders&quot;) \n    EntityManager entityManager;\n</code></pre>\n<p>Finally, when the app starts:</p>\n<pre><code>Caused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type javax.persistence.EntityManager and qualifiers [@PersistenceUnit(value = &quot;users&quot;)]\n        - java member: com.repository.UserRespository#entityManager\n        - declared on CLASS bean [types=[io.quarkus.hibernate.orm.panache.PanacheRepository&lt;com.model.users.UserEntity&gt;, com.repository.UserRepository, java.lang.Object, com.repository.UserRepository, io.quarkus.hibernate.orm.panache.PanacheRepositoryBase&lt;com.model.users.UserEntity, java.lang.Long&gt;], qualifiers=[@Default, @Any], target=com.repository.UserRespository]\n        The following beans match by type, but none have matching qualifiers:\n                - Bean [class=org.hibernate.Session, qualifiers=[@Named(value = &quot;orders&quot;), @io.quarkus.hibernate.orm.PersistenceUnit(value = &quot;orders&quot;), @Any]]\n        at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:428)\n        at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:508)\n        at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:257)\n        ... 13 more\n</code></pre>\n<p>So can I have two different entities associated to two Persistence Units in Panache? If so, any idea to solve the error?</p>\n<p>Version of quarkus: 2.6.0.Final</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1678552267,"post_id":75706268,"comment_id":133556337,"body_markdown":"does the application run in localhost (i.e. not in Docker container) ?","body":"does the application run in localhost (i.e. not in Docker container) ?"},{"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"score":0,"creation_date":1678552412,"post_id":75706268,"comment_id":133556367,"body_markdown":"Yeah, when I start this application through IntelliJ, it works fine on localhost:8080. The error appears when I am building the jar file (need that for the Docker container). I could build the artifact but not run the jar file because of the mentioned error above","body":"Yeah, when I start this application through IntelliJ, it works fine on localhost:8080. The error appears when I am building the jar file (need that for the Docker container). I could build the artifact but not run the jar file because of the mentioned error above"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1678552483,"post_id":75706268,"comment_id":133556382,"body_markdown":"what about outside of intellij (which might provide a servlet context) but from the command line (like you are instructing Docker container to do)?","body":"what about outside of intellij (which might provide a servlet context) but from the command line (like you are instructing Docker container to do)?"},{"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"score":0,"creation_date":1678552598,"post_id":75706268,"comment_id":133556402,"body_markdown":"yep it did start when I ran the application from cmd with `mvn spring-boot:run` \n\n`2023-03-11 17:35:41.264  INFO 28012 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;`\n`2023-03-11 17:35:41.879  INFO 28012 --- [  restartedMain] c.h.mi.backend.BackendApplication        : Started BackendApplication in 4.651 seconds (JVM running for 4.944)`","body":"yep it did start when I ran the application from cmd with <code>mvn spring-boot:run</code>   <code>2023-03-11 17:35:41.264  INFO 28012 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;</code> <code>2023-03-11 17:35:41.879  INFO 28012 --- [  restartedMain] c.h.mi.backend.BackendApplication        : Started BackendApplication in 4.651 seconds (JVM running for 4.944)</code>"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1678552659,"post_id":75706268,"comment_id":133556410,"body_markdown":"but that&#39;s not the same command you are using in the docker container, is it?.  I am trying to see if the JAR file, when executed from command line in localhost behaves the same way as the docker container.  It could be a case of the JAR file (artifact) not having the necessary dependencies within it but expecting to find the servlet context outside of it (i.e. provided)","body":"but that&#39;s not the same command you are using in the docker container, is it?.  I am trying to see if the JAR file, when executed from command line in localhost behaves the same way as the docker container.  It could be a case of the JAR file (artifact) not having the necessary dependencies within it but expecting to find the servlet context outside of it (i.e. provided)"},{"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"score":0,"creation_date":1678552811,"post_id":75706268,"comment_id":133556436,"body_markdown":"The JAR file when executed from the command line is not working, yes. Same error when I try to dockerize it. I edited my post and added the DOCKERFILE also","body":"The JAR file when executed from the command line is not working, yes. Same error when I try to dockerize it. I edited my post and added the DOCKERFILE also"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1678552875,"post_id":75706268,"comment_id":133556448,"body_markdown":"then the issue is with your artifact (i.e. the jar file) and not a docker, related thing","body":"then the issue is with your artifact (i.e. the jar file) and not a docker, related thing"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1678679633,"post_id":75706268,"comment_id":133574215,"body_markdown":"Have you tried starting the application locally with the jar file?  Chances are, that jar isn&#39;t the correct one.  Try running it with `java -jar target/Backend.jar`","body":"Have you tried starting the application locally with the jar file?  Chances are, that jar isn&#39;t the correct one.  Try running it with <code>java -jar target&#47;Backend.jar</code>"}],"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678552829,"creation_date":1678551421,"question_id":75706268,"body_markdown":"I have a Spring Boot application which works fine on IntelliJ but when I try to build artifact and try to run the JAR-file, I get this error:\r\n\r\n```\r\nprojekt-backend-1   | 16:06:15.945 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\nprojekt-backend-1   | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;resourceHandlerMapping&#39; defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\nprojekt-backend-1   |   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\nprojekt-backend-1   |   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\nprojekt-backend-1   |   at com.hdmstuttgart.mi.backend.BackendApplication.main(BackendApplication.java:23)\r\nprojekt-backend-1   | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\nprojekt-backend-1   |   ... 18 common frames omitted\r\nprojekt-backend-1   | Caused by: java.lang.IllegalStateException: No ServletContext set\r\nprojekt-backend-1   |   at org.springframework.util.Assert.state(Assert.java:76)\r\nprojekt-backend-1   |   at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591)\r\nprojekt-backend-1   |   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\nprojekt-backend-1   |   at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\nprojekt-backend-1   |   at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\nprojekt-backend-1   |   ... 19 common frames omitted\r\nprojekt-backend-1 exited with code 1\r\n```\r\n\r\nI&#39;m trying to dockerize my Spring Boot application and I have no idea what else I can check or do.\r\n\r\nHere is my ApplicationConfig\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\n@ComponentScan(basePackages = &quot;com.hdmstuttgart.mi.backend&quot;)\r\npublic class ApplicationConfig {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Bean\r\n    public JavaMailSender javaMailSender() {\r\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n        mailSender.setPort(587);\r\n\r\n        mailSender.setUsername(&quot;${mailCredentials.username&quot;);\r\n        mailSender.setPassword(&quot;${mailCredentials.password&quot;);\r\n\r\n        Properties props = mailSender.getJavaMailProperties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n        return mailSender;\r\n    }\r\n\r\n    @Bean\r\n    public MJMLClient mjmlClient() {\r\n        String appId = &quot;${mjmlSecrets.appId}&quot;;\r\n        String mailUsername = &quot;${mailCredentials.username&quot;;\r\n        return MJMLClient.newDefaultClient()\r\n                .withApplicationID(appId)\r\n                .withApplicationKey(mailUsername);\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; userRepository.findByEmail(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        return new ModelMapper();\r\n    }\r\n}\r\n```\r\n\r\nWebConfig\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\n@WebAppConfiguration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;*&quot;)\r\n                .allowedHeaders(&quot;*&quot;)\r\n                .exposedHeaders(&quot;Authorization&quot;)\r\n                /*.allowCredentials(true)*/\r\n                .maxAge(3600L);\r\n    }\r\n}\r\n```\r\n\r\nAnd Main\r\n\r\n```\r\n@SpringBootApplication(exclude = {WebMvcAutoConfiguration.class })\r\npublic class BackendApplication {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(BackendApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BackendApplication.class, args);\r\n        log.debug(&quot;Backend application started&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n`application.yml`\r\n\r\n```\r\n.env:\r\n  prefix: &quot;&quot;\r\n\r\nmailCredentials:\r\n  username: ${MAIL_USERNAME}\r\n  password: ${MAIL_PASSWORD}\r\n\r\nmjmlSecrets:\r\n  appId: ${MJML_APP_ID}\r\n  appKey: ${MJML_APP_KEY}\r\n\r\nspring:\r\n\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/openbarber\r\n    username: postgres\r\n    password: admin\r\n\r\n  jpa:\r\n    show-sql: true  # Log each SQL query\r\n    hibernate:\r\n      ddl-auto: update  # DDL auto (schema change strategy)\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: ${MAIL_USERNAME}\r\n    password: ${MAIL_PASSWORD}\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          auth: true\r\n          starttls:\r\n            enable: true\r\n            required: true\r\n\r\n#  hateoas:\r\n#    use-hal-as-default-json-media-type: false\r\n\r\n```\r\n\r\nAny ideas?\r\nAm I missing any Annotions or something?\r\n\r\nMy Dockerfile for this app\r\n\r\n```\r\nFROM openjdk:latest\r\n\r\nWORKDIR /app\r\n\r\nCOPY . .\r\n\r\nRUN ./mvnw dependency:go-offline -B\r\n\r\nRUN ./mvnw package -DskipTests\r\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\r\n\r\nCOPY target/Backend.jar .\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;Backend.jar&quot;]\r\n```","title":"Error creating bean with name &#39;resourceHandlerMapping&#39; when running java -jar","body":"<p>I have a Spring Boot application which works fine on IntelliJ but when I try to build artifact and try to run the JAR-file, I get this error:</p>\n<pre><code>projekt-backend-1   | 16:06:15.945 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\nprojekt-backend-1   | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\nprojekt-backend-1   |   at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\nprojekt-backend-1   |   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nprojekt-backend-1   |   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nprojekt-backend-1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nprojekt-backend-1   |   at com.hdmstuttgart.mi.backend.BackendApplication.main(BackendApplication.java:23)\nprojekt-backend-1   | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\nprojekt-backend-1   |   at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\nprojekt-backend-1   |   ... 18 common frames omitted\nprojekt-backend-1   | Caused by: java.lang.IllegalStateException: No ServletContext set\nprojekt-backend-1   |   at org.springframework.util.Assert.state(Assert.java:76)\nprojekt-backend-1   |   at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591)\nprojekt-backend-1   |   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nprojekt-backend-1   |   at java.base/java.lang.reflect.Method.invoke(Method.java:577)\nprojekt-backend-1   |   at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\nprojekt-backend-1   |   ... 19 common frames omitted\nprojekt-backend-1 exited with code 1\n</code></pre>\n<p>I'm trying to dockerize my Spring Boot application and I have no idea what else I can check or do.</p>\n<p>Here is my ApplicationConfig</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@ComponentScan(basePackages = &quot;com.hdmstuttgart.mi.backend&quot;)\npublic class ApplicationConfig {\n\n    private final UserRepository userRepository;\n\n    @Bean\n    public JavaMailSender javaMailSender() {\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\n        mailSender.setPort(587);\n\n        mailSender.setUsername(&quot;${mailCredentials.username&quot;);\n        mailSender.setPassword(&quot;${mailCredentials.password&quot;);\n\n        Properties props = mailSender.getJavaMailProperties();\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n        return mailSender;\n    }\n\n    @Bean\n    public MJMLClient mjmlClient() {\n        String appId = &quot;${mjmlSecrets.appId}&quot;;\n        String mailUsername = &quot;${mailCredentials.username&quot;;\n        return MJMLClient.newDefaultClient()\n                .withApplicationID(appId)\n                .withApplicationKey(mailUsername);\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userRepository.findByEmail(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public ModelMapper modelMapper() {\n        return new ModelMapper();\n    }\n}\n</code></pre>\n<p>WebConfig</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@WebAppConfiguration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .exposedHeaders(&quot;Authorization&quot;)\n                /*.allowCredentials(true)*/\n                .maxAge(3600L);\n    }\n}\n</code></pre>\n<p>And Main</p>\n<pre><code>@SpringBootApplication(exclude = {WebMvcAutoConfiguration.class })\npublic class BackendApplication {\n\n    private static final Logger log = LoggerFactory.getLogger(BackendApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n        log.debug(&quot;Backend application started&quot;);\n    }\n\n}\n</code></pre>\n<p><code>application.yml</code></p>\n<pre><code>.env:\n  prefix: &quot;&quot;\n\nmailCredentials:\n  username: ${MAIL_USERNAME}\n  password: ${MAIL_PASSWORD}\n\nmjmlSecrets:\n  appId: ${MJML_APP_ID}\n  appKey: ${MJML_APP_KEY}\n\nspring:\n\n  datasource:\n    url: jdbc:postgresql://localhost:5432/openbarber\n    username: postgres\n    password: admin\n\n  jpa:\n    show-sql: true  # Log each SQL query\n    hibernate:\n      ddl-auto: update  # DDL auto (schema change strategy)\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: ${MAIL_USERNAME}\n    password: ${MAIL_PASSWORD}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n            required: true\n\n#  hateoas:\n#    use-hal-as-default-json-media-type: false\n\n</code></pre>\n<p>Any ideas?\nAm I missing any Annotions or something?</p>\n<p>My Dockerfile for this app</p>\n<pre><code>FROM openjdk:latest\n\nWORKDIR /app\n\nCOPY . .\n\nRUN ./mvnw dependency:go-offline -B\n\nRUN ./mvnw package -DskipTests\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\n\nCOPY target/Backend.jar .\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;Backend.jar&quot;]\n</code></pre>\n"},{"tags":["java","spring","cors"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678553539,"post_id":75705613,"comment_id":133556602,"body_markdown":"`CorsWebFilter` is part of the spring `reactive` packages and im guessing you are not building a `reactive` application. Please read the docs or one of the 1000s CORS questions that get asked every week on stack overflow https://stackoverflow.com/a/40431994/1840146 also in the future post your request and proper debuglogs when asking. There is so much information about CORS in spring out there that this question should not be needed. Downvoted lack of research","body":"<code>CorsWebFilter</code> is part of the spring <code>reactive</code> packages and im guessing you are not building a <code>reactive</code> application. Please read the docs or one of the 1000s CORS questions that get asked every week on stack overflow <a href=\"https://stackoverflow.com/a/40431994/1840146\">stackoverflow.com/a/40431994/1840146</a> also in the future post your request and proper debuglogs when asking. There is so much information about CORS in spring out there that this question should not be needed. Downvoted lack of research"}],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678552541,"creation_date":1678544923,"question_id":75705613,"body_markdown":"I have application using Spring on backend which have 5 microservices. Communication is dealing using REST and entering Cloud Gateway every time. Now I need to connect my React UI application with my backed. To resolve it, I need to configure CORS at my Cloud Gateway service. I have already tried to do something like this, but nothing helps (seems like it is not visible or configured wrongly).\r\n```\r\n@Configuration\r\npublic class CorsConfig extends CorsConfiguration {\r\n\r\n    @Bean\r\n    public CorsWebFilter corsFilter() {\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n        corsConfiguration.setAllowCredentials(true);\r\n        corsConfiguration.addAllowedOrigin(&quot;*&quot;);\r\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;HEAD&quot;));\r\n        corsConfiguration.addAllowedHeader(&quot;origin&quot;);\r\n        corsConfiguration.addAllowedHeader(&quot;content-type&quot;);\r\n        corsConfiguration.addAllowedHeader(&quot;accept&quot;);\r\n        corsConfiguration.addAllowedHeader(&quot;authorization&quot;);\r\n        corsConfiguration.addAllowedHeader(&quot;cookie&quot;);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n        return new CorsWebFilter(source);\r\n    }\r\n}\r\n```\r\nMaybe I should configure it in another way? Another place?\r\n","title":"Configure CORS for Spring Cloud Gateway (microservices)","body":"<p>I have application using Spring on backend which have 5 microservices. Communication is dealing using REST and entering Cloud Gateway every time. Now I need to connect my React UI application with my backed. To resolve it, I need to configure CORS at my Cloud Gateway service. I have already tried to do something like this, but nothing helps (seems like it is not visible or configured wrongly).</p>\n<pre><code>@Configuration\npublic class CorsConfig extends CorsConfiguration {\n\n    @Bean\n    public CorsWebFilter corsFilter() {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        corsConfiguration.setAllowCredentials(true);\n        corsConfiguration.addAllowedOrigin(&quot;*&quot;);\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;HEAD&quot;));\n        corsConfiguration.addAllowedHeader(&quot;origin&quot;);\n        corsConfiguration.addAllowedHeader(&quot;content-type&quot;);\n        corsConfiguration.addAllowedHeader(&quot;accept&quot;);\n        corsConfiguration.addAllowedHeader(&quot;authorization&quot;);\n        corsConfiguration.addAllowedHeader(&quot;cookie&quot;);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n        return new CorsWebFilter(source);\n    }\n}\n</code></pre>\n<p>Maybe I should configure it in another way? Another place?</p>\n"},{"tags":["java","android","c++","opencv","houghlinesp"],"answers":[{"tags":[],"owner":{"account_id":2269380,"reputation":1205,"user_id":1997217,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1597658981,"creation_date":1518867708,"answer_id":48840871,"question_id":48779517,"body_markdown":"You need to run the Canny edge detector to convert the gray image to a binary image before running it through the HoughLinesP transform.\r\n\r\nFrom the HoughLinesP documentation.\r\n\r\n&quot;Finds line segments in a **binary** image using the probabilistic Hough transform.&quot;","title":"HoughLinesP generates an empty image","body":"<p>You need to run the Canny edge detector to convert the gray image to a binary image before running it through the HoughLinesP transform.</p>\n<p>From the HoughLinesP documentation.</p>\n<p>&quot;Finds line segments in a <strong>binary</strong> image using the probabilistic Hough transform.&quot;</p>\n"}],"owner":{"account_id":10724151,"reputation":109,"user_id":7892270,"accept_rate":100,"display_name":"Murilo Pereira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48840871,"answer_count":1,"score":0,"last_activity_date":1678552396,"creation_date":1518581329,"question_id":48779517,"body_markdown":"I&#39;m developing an app which uses OMR (Optical mark recognize) to read bubblesheets, I&#39;m using the OpenCV API but I&#39;m having some troubles with HoughLinesP, when I use it that returns an empty image to me. I used the function of Android, Log.e, to see the **total**, **cols** and **rows** of the image before and after the HoughLinesP. \r\n\r\n**My code is a conversion of a C++ code to Java, both uses OpenCV.**\r\n\r\n**Before I get the following result:**\r\n\r\n&gt; [ORIGINAL IMAGE]: 83840||262||320\r\n\r\n**After I get the following result:**\r\n\r\n&gt; [LINES IMAGE]: 0||0||1\r\n\r\n**My code:**\r\n\r\n    private void scanImage(){\r\n        Mat img = Imgcodecs.imread(mediaStorageDir().getPath() + &quot;/&quot; + &quot;test2.jpg&quot;, Imgcodecs.CV_LOAD_IMAGE_GRAYSCALE);\r\n\r\n        Log.e(&quot;[CANAIS]&quot;, String.valueOf(img.channels()));\r\n\r\n        Size sz = new Size(3,3);\r\n        Imgproc.GaussianBlur(img, img, sz, 0);\r\n        Imgproc.adaptiveThreshold(img, img, 255, Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 75, 10);\r\n        Core.bitwise_not(img, img);\r\n\r\n        Mat img2 = new Mat();\r\n        Imgproc.cvtColor(img, img2, Imgproc.COLOR_GRAY2RGB);\r\n\r\n        Mat img3 = new Mat();\r\n        Imgproc.cvtColor(img, img3, Imgproc.COLOR_GRAY2RGB);\r\n\r\n        MatOfInt4 lines = new MatOfInt4();\r\n        \r\n        Log.e(&quot;[ORIGINAL IMAGE]&quot;, &quot;&quot; + img.total() + &quot;||&quot; + img.rows() + &quot;||&quot; + img.cols());\r\n        \r\n        Imgproc.HoughLinesP(img, lines, 1, Math.PI/180,80,400,10);\r\n        \r\n        Log.e(&quot;[LINES IMAGE]&quot;, &quot;&quot; + lines.total() + &quot;||&quot; + lines.rows() + &quot;||&quot; + lines.cols());\r\n        \r\n        for(int i = 0; i &lt; lines.total(); i++){\r\n            Mat l = new Mat();\r\n            l.put(i, 0, lines.get(i, 0));\r\n            Point pr = new Point();\r\n            Point ps = new Point();\r\n            pr.x = Double.valueOf(l.get(0, 0).toString());\r\n            pr.y = Double.valueOf(l.get(1, 0).toString());\r\n\r\n            ps.x = Double.valueOf(l.get(2, 0).toString());\r\n            ps.y = Double.valueOf(l.get(3,0).toString());\r\n\r\n            Scalar scalar = new Scalar(0,0,255);\r\n\r\n            Imgproc.line(img2, pr, ps, scalar, 3, Imgproc.LINE_AA, 0);\r\n        }\r\n\r\n        showImage(img2);\r\n        MatOfInt4 mt4 = new MatOfInt4(lines);\r\n        LinkedList&lt;Point&gt; corners = new LinkedList&lt;&gt;();\r\n        for(int i = 0; i &lt; lines.total(); i++){\r\n            for(int x = i + 1; x &lt;lines.total(); x++){\r\n                MatOfInt4 gen = new MatOfInt4();\r\n                MatOfInt4 gen1 = new MatOfInt4();\r\n                gen1.put(x, 0, mt4.get(x, 0));\r\n                gen.put(i, 0, mt4.get(i, 0));\r\n                Point pt = computeIntersect(gen, gen1);\r\n                if(pt.x &gt;= 0 &amp;&amp; pt.y &gt;= 0 &amp;&amp; pt.x &lt; img.cols() &amp;&amp; pt.y &lt; img.rows()){\r\n                    corners.addLast(pt);\r\n                }\r\n            }\r\n        }\r\n\r\n        Point center = new Point(0,0);\r\n        MatOfPoint mtp = new MatOfPoint(center);\r\n        for(int i = 0; i &lt; corners.size(); i++){\r\n            center.x += corners.get(i).x;\r\n            center.y += corners.get(i).y;\r\n        }\r\n\r\n        center.x *= 1./ corners.size();\r\n        center.y *= 1./ corners.size();\r\n\r\n        sortCorners(corners, center);\r\n\r\n        Rect r = Imgproc.boundingRect(mtp);\r\n        Log.e(&quot;[RECT]&quot;, r.toString());\r\n\r\n        Mat quad = Mat.zeros(r.height, r.width, CvType.CV_8UC3);\r\n        LinkedList&lt;Point&gt; quad_pts = new LinkedList&lt;&gt;();\r\n        quad_pts.addLast(new Point(0,0));\r\n        quad_pts.addLast(new Point(quad.cols(),0));\r\n        quad_pts.addLast(new Point(quad.cols(),quad.rows()));\r\n        quad_pts.addLast(new Point(0,quad.rows()));\r\n\r\n        Mat transmtx = Imgproc.getPerspectiveTransform(Converters.vector_Point2f_to_Mat(corners), Converters.vector_Point2f_to_Mat(quad_pts));\r\n        Imgproc.warpPerspective(img3, quad, transmtx, quad.size());\r\n\r\n        showImage(quad);\r\n\r\n        Mat cimg = new Mat();\r\n\r\n        Imgproc.cvtColor(quad, cimg, Imgproc.COLOR_BGR2GRAY);\r\n        Mat circles = new Mat();\r\n        Imgproc.HoughCircles(cimg, circles, Imgproc.CV_HOUGH_GRADIENT, 1, img.rows()/8, 100, 75, 0,0);\r\n        for(int i=0; i &lt; circles.total(); i++){\r\n            Point center1 = new Point(Math.round(Double.valueOf(circles.get(i, 0).toString())), Math.round(Double.valueOf(circles.get(i, 1).toString())));\r\n            Imgproc.circle(quad, center1, 3, new Scalar(0,255,0), -1,8,0);\r\n        }\r\n\r\n        double averR = 0;\r\n        LinkedList&lt;Double&gt; row = new LinkedList&lt;&gt;();\r\n        LinkedList&lt;Double&gt; col = new LinkedList&lt;&gt;();\r\n\r\n        for(int i=0; i &lt; circles.total(); i++){\r\n            boolean found = false;\r\n            String rr = String.valueOf(Math.round(Double.valueOf(circles.get(i, 2).toString())));\r\n            int rrr = Integer.valueOf(rr);\r\n            averR += rrr;\r\n\r\n            String x = String.valueOf(Math.round(Double.valueOf(circles.get(i, 0).toString())));\r\n            String y = String.valueOf(Math.round(Double.valueOf(circles.get(i, 1).toString())));\r\n\r\n            int xx = Integer.valueOf(x);\r\n            int yy = Integer.valueOf(y);\r\n\r\n            for(int j=0; j &lt; row.size(); j++){\r\n                double y2 = row.get(j);\r\n                if(yy - rrr &lt; y2 &amp;&amp; yy + rrr &gt; y2){\r\n                    found =  true;\r\n                    break;\r\n                }\r\n            }\r\n            if(!found){\r\n                row.addLast(Double.valueOf(yy));\r\n            }\r\n            found = false;\r\n            for(int j=0; j &lt; col.size(); j++){\r\n                double x2 = col.get(j);\r\n                if(xx - rrr &lt; x2 &amp;&amp; xx + rrr &gt; x2){\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n            if(!found){\r\n                col.addLast(Double.valueOf(xx));\r\n            }\r\n        }\r\n\r\n        averR /= circles.total();\r\n\r\n        Collections.sort(row, new Comparator&lt;Double&gt;() {\r\n            @Override\r\n            public int compare(Double o1, Double o2) {\r\n                return Collator.getInstance().compare(o1, o2);\r\n            }\r\n        });\r\n        Collections.sort(col, new Comparator&lt;Double&gt;() {\r\n            @Override\r\n            public int compare(Double o1, Double o2) {\r\n                return Collator.getInstance().compare(o1, o2);\r\n            }\r\n        });\r\n\r\n        for(int i=0;i&lt;row.size();i++){\r\n            double max = 0;\r\n            double y = row.get(i);\r\n            int ind = -1;\r\n            for(int j=0;j&lt;col.size();j++){\r\n                double x = col.get(i);\r\n                Point c = new Point(x,y);\r\n\r\n                //Use an actual circle if it exists\r\n                for(int k=0;k&lt;circles.total();k++){\r\n                    double x2 = Double.valueOf(circles.get(k, 0).toString());\r\n                    double y2 = Double.valueOf(circles.get(k, 1).toString());\r\n                    if(abs(y2-y)&lt;averR &amp;&amp; abs(x2-x)&lt;averR){\r\n                        x = x2;\r\n                        y = y2;\r\n                    }\r\n                }\r\n\r\n                // circle outline\r\n                Imgproc.circle( quad, c, Integer.valueOf(String.valueOf(averR)), new Scalar(0,0,255), 3, 8, 0 );\r\n                Rect rect = new Rect(Integer.valueOf(String.valueOf(x-averR)),Integer.valueOf(String.valueOf(y-averR)),Integer.valueOf(String.valueOf(2*averR)),Integer.valueOf(String.valueOf(2*averR)));\r\n                Mat submat = cimg.adjustROI(rect.width, rect.width, rect.height, rect.height);\r\n                double p =(double)countNonZero(submat)/(submat.size().width*submat.size().height);\r\n                if(p&gt;=0.3 &amp;&amp; p&gt;max){\r\n                    max = p;\r\n                    ind = j;\r\n                }\r\n            }\r\n            if(ind==-1)\r\n                Log.e(&quot;[N SEI]&quot;, &quot;&quot; + i+1);\r\n            else\r\n                Log.e(&quot;[NSEI]&quot;, &quot;&quot; + i+1 + &quot;A&quot; + ind);\r\n        }\r\n\r\n    }\r\n    private Point computeIntersect(MatOfInt4 a, MatOfInt4 b){\r\n        Point generc = new Point();\r\n        generc.x = -1;\r\n        generc.y = -1;\r\n\r\n        int x1 = Integer.valueOf(a.get(0,0).toString());\r\n        int y1 = Integer.valueOf(a.get(0,1).toString());\r\n        int x2 = Integer.valueOf(a.get(0,2).toString());\r\n        int y2 = Integer.valueOf(a.get(0,3).toString());\r\n\r\n        int x3 = Integer.valueOf(b.get(0,0).toString());\r\n        int y3 = Integer.valueOf(b.get(0,1).toString());\r\n        int x4 = Integer.valueOf(b.get(0,2).toString());\r\n        int y4 = Integer.valueOf(b.get(0,3).toString());\r\n\r\n        float d = 0;\r\n\r\n        if(d == ((float)(x1 - x2) * (y3-y4)) - ((y1-y2) * (x3-x4))){\r\n            Point pt = new Point();\r\n            pt.x = ((x1*y2 - y1*x2) * (x3-x4) - (x1-x2) * (x3*y4 - y3*x4)) / d;\r\n            pt.y = ((x1*y2 - y1*x2) * (y3-y4) - (y1-y2) * (x3*y4 - y3*x4)) / d;\r\n            return pt;\r\n        }\r\n        else\r\n            return generc;\r\n    }\r\n    private void sortCorners(LinkedList&lt;Point&gt; corners, Point center){\r\n        LinkedList&lt;Point&gt; top = new LinkedList&lt;&gt;();\r\n        LinkedList&lt;Point&gt; bot = new LinkedList&lt;&gt;();\r\n\r\n        Log.e(&quot;[CORNERS SIZE]&quot;, String.valueOf(corners.size()));\r\n\r\n        for(int i = 0; i &lt; corners.size(); i++){\r\n            if(corners.get(i).y &lt; center.y)\r\n                top.addLast(corners.get(i));\r\n            else\r\n                bot.addLast(corners.get(i));\r\n        }\r\n\r\n        Collections.sort(top, new Comparator&lt;Point&gt;() {\r\n            @Override\r\n            public int compare(Point o1, Point o2) {\r\n                return Collator.getInstance().compare(o1, o2);\r\n            }\r\n        });\r\n        Collections.sort(bot, new Comparator&lt;Point&gt;() {\r\n            @Override\r\n            public int compare(Point o1, Point o2) {\r\n                return Collator.getInstance().compare(o1, o2);\r\n            }\r\n        });\r\n\r\n        Log.e(&quot;[TOP SIZE]&quot;, String.valueOf(top.size()));\r\n\r\n        Point t1 = top.get(0);\r\n        Point tr = top.get(top.size() - 1);\r\n        Point b1 = bot.get(0);\r\n        Point br = bot.get(bot.size() - 1);\r\n        corners.clear();\r\n        corners.addLast(t1);\r\n        corners.addLast(tr);\r\n        corners.addLast(br);\r\n        corners.addLast(b1);\r\n    }\r\n\r\n**The C++ code:**\r\n\r\n    \t#include &lt;opencv2/highgui/highgui.hpp&gt;\r\n\t#include &lt;opencv2/imgproc/imgproc.hpp&gt;\r\n\t#include &lt;iostream&gt;\r\n\t#include &lt;vector&gt;\r\n\t#include &lt;algorithm&gt;\r\n\r\n\t//g++ main.cpp -o main -I /usr/local/include/opencv -lopencv_core -lopencv_imgproc -lopencv_highgui\r\n\r\n\tusing namespace cv;\r\n\tusing namespace std;\r\n\r\n\r\n\tcv::Point2f computeIntersect(cv::Vec4i a, cv::Vec4i b)\r\n\t{\r\n\t\tint x1 = a[0], y1 = a[1], x2 = a[2], y2 = a[3];\r\n\t\tint x3 = b[0], y3 = b[1], x4 = b[2], y4 = b[3];\r\n\r\n\t\tif (float d = ((float)(x1-x2) * (y3-y4)) - ((y1-y2) * (x3-x4)))\r\n\t\t{\r\n\t\t\tcv::Point2f pt;\r\n\t\t\tpt.x = ((x1*y2 - y1*x2) * (x3-x4) - (x1-x2) * (x3*y4 - y3*x4)) / d;\r\n\t\t\tpt.y = ((x1*y2 - y1*x2) * (y3-y4) - (y1-y2) * (x3*y4 - y3*x4)) / d;\r\n\t\t\treturn pt;\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn cv::Point2f(-1, -1);\r\n\t}\r\n\r\n\tbool comparator2(double a,double b){  \r\n\t  return a&lt;b;  \r\n\t }  \r\n\t bool comparator3(Vec3f a,Vec3f b){  \r\n\t  return a[0]&lt;b[0];  \r\n\t }  \r\n\r\n\tbool comparator(Point2f a,Point2f b){  \r\n\t  return a.x&lt;b.x;  \r\n\t  }  \r\n\t void sortCorners(std::vector&lt;cv::Point2f&gt;&amp; corners, cv::Point2f center)  \r\n\t {  \r\n\r\n\r\n\t   std::vector&lt;cv::Point2f&gt; top, bot;  \r\n\t   for (int i = 0; i &lt; corners.size(); i++)  \r\n\t   {  \r\n\t\t if (corners[i].y &lt; center.y)  \r\n\t\t   top.push_back(corners[i]);  \r\n\t\t else  \r\n\t\t   bot.push_back(corners[i]);  \r\n\t   }  \r\n\r\n\r\n\t  sort(top.begin(),top.end(),comparator);  \r\n\t  sort(bot.begin(),bot.end(),comparator); \r\n\r\n\t   cv::Point2f tl = top[0];  \r\n\t   cv::Point2f tr = top[top.size()-1];  \r\n\t   cv::Point2f bl = bot[0];  \r\n\t   cv::Point2f br = bot[bot.size()-1]; \r\n\t   corners.clear();  \r\n\t   corners.push_back(tl);  \r\n\t   corners.push_back(tr);  \r\n\t   corners.push_back(br);  \r\n\t   corners.push_back(bl);  \r\n\t }  \r\n\r\n\r\n\tint main(int argc, char* argv[]){\r\n\r\n\t  Mat img = imread(&quot;example.jpg&quot;,0);\r\n\r\n\t  cv::Size size(3,3);  \r\n\t  cv::GaussianBlur(img,img,size,0);  \r\n\t  adaptiveThreshold(img, img,255,CV_ADAPTIVE_THRESH_MEAN_C, CV_THRESH_BINARY,75,10);  \r\n\t  cv::bitwise_not(img, img);    \r\n\r\n\t  cv::Mat img2;  \r\n\t  cvtColor(img,img2, CV_GRAY2RGB);  \r\n\r\n\t  cv::Mat img3;  \r\n\t  cvtColor(img,img3, CV_GRAY2RGB); \r\n\r\n\t  vector&lt;Vec4i&gt; lines;  \r\n\t  HoughLinesP(img, lines, 1, CV_PI/180, 80, 400, 10);  \r\n\t  for( size_t i = 0; i &lt; lines.size(); i++ )  \r\n\t  {  \r\n\t   Vec4i l = lines[i];  \r\n\t   line( img2, Point(l[0], l[1]), Point(l[2], l[3]), Scalar(0,0,255), 3, CV_AA);   \r\n\t  }  \r\n\r\n\t  imshow(&quot;example&quot;,img2);\r\n\r\n\t  std::vector&lt;cv::Point2f&gt; corners;\r\n\t  for (int i = 0; i &lt; lines.size(); i++)\r\n\t  {\r\n\t\t  for (int j = i+1; j &lt; lines.size(); j++)\r\n\t\t  {\r\n\t\t\t  cv::Point2f pt = computeIntersect(lines[i], lines[j]);\r\n\t\t\t  if (pt.x &gt;= 0 &amp;&amp; pt.y &gt;= 0 &amp;&amp; pt.x &lt; img.cols &amp;&amp; pt.y &lt; img.rows)\r\n\t\t\t\t  corners.push_back(pt);\r\n\t\t  }\r\n\t  }\r\n\r\n\t   // Get mass center  \r\n\t  cv::Point2f center(0,0);  \r\n\t  for (int i = 0; i &lt; corners.size(); i++)  \r\n\t  center += corners[i];  \r\n\t  center *= (1. / corners.size()); \r\n\r\n\t  sortCorners(corners, center); \r\n\r\n\t  Rect r = boundingRect(corners); \r\n\t  cout&lt;&lt;r&lt;&lt;endl;\r\n\t  cv::Mat quad = cv::Mat::zeros(r.height, r.width, CV_8UC3);  \r\n\t  // Corners of the destination image  \r\n\t  std::vector&lt;cv::Point2f&gt; quad_pts;  \r\n\t  quad_pts.push_back(cv::Point2f(0, 0));  \r\n\t  quad_pts.push_back(cv::Point2f(quad.cols, 0));  \r\n\t  quad_pts.push_back(cv::Point2f(quad.cols, quad.rows));  \r\n\t  quad_pts.push_back(cv::Point2f(0, quad.rows));  \r\n\r\n\t  // Get transformation matrix  \r\n\t  cv::Mat transmtx = cv::getPerspectiveTransform(corners, quad_pts);  \r\n\t  // Apply perspective transformation  \r\n\t  cv::warpPerspective(img3, quad, transmtx, quad.size());  \r\n\r\n\t  imshow(&quot;example2&quot;,quad);\r\n\r\n\t  Mat cimg;\r\n\t  \r\n\t  cvtColor(quad,cimg, CV_BGR2GRAY);\r\n\t  vector&lt;Vec3f&gt; circles;  \r\n\t  HoughCircles(cimg, circles, CV_HOUGH_GRADIENT, 1, img.rows/8, 100, 75, 0, 0 );  \r\n\t  for( size_t i = 0; i &lt; circles.size(); i++ ){  \r\n\t\tPoint center(cvRound(circles[i][0]), cvRound(circles[i][1]));\r\n\t\t// circle center  \r\n\t\tcircle( quad, center, 3, Scalar(0,255,0), -1, 8, 0 );\r\n\t  }\r\n\r\n\t  imshow(&quot;example4&quot;,quad);\r\n\t  waitKey();\r\n\r\n\t  double averR = 0;\r\n\t  vector&lt;double&gt; row;\r\n\t  vector&lt;double&gt; col;\r\n\r\n\t  //Find rows and columns of circles for interpolation\r\n\t  for(int i=0;i&lt;circles.size();i++){  \r\n\t\tbool found = false;  \r\n\t\tint r = cvRound(circles[i][2]);\r\n\t\taverR += r;\r\n\t\tint x = cvRound(circles[i][0]);  \r\n\t\tint y = cvRound(circles[i][1]);\r\n\t\tfor(int j=0;j&lt;row.size();j++){\r\n\t\t  double y2 = row[j];\r\n\t\t  if(y - r &lt; y2 &amp;&amp; y + r &gt; y2){\r\n\t\t\tfound = true;\r\n\t\t\tbreak;\r\n\t\t  }\r\n\t\t}\r\n\t\tif(!found){\r\n\t\t  row.push_back(y);\r\n\t\t}\r\n\t\tfound = false;\r\n\t\tfor(int j=0;j&lt;col.size();j++){\r\n\t\t  double x2 = col[j];\r\n\t\t  if(x - r &lt; x2 &amp;&amp; x + r &gt; x2){\r\n\t\t\tfound = true;\r\n\t\t\tbreak;\r\n\t\t  }\r\n\t\t}\r\n\t\tif(!found){  \r\n\t\t  col.push_back(x);\r\n\t\t}\r\n\t  }\r\n\r\n\t  averR /= circles.size();\r\n\r\n\t  sort(row.begin(),row.end(),comparator2);\r\n\t  sort(col.begin(),col.end(),comparator2);\r\n\r\n\t  for(int i=0;i&lt;row.size();i++){\r\n\t\tdouble max = 0;  \r\n\t\tdouble y = row[i];\r\n\t\tint ind = -1;\r\n\t\tfor(int j=0;j&lt;col.size();j++){\r\n\t\t  double x = col[j];\r\n\t\t  Point c(x,y);  \r\n\r\n\t\t  //Use an actual circle if it exists\r\n\t\t  for(int k=0;k&lt;circles.size();k++){\r\n\t\t\tdouble x2 = circles[k][0];\r\n\t\t\tdouble y2 = circles[k][1];\r\n\t\t\tif(abs(y2-y)&lt;averR &amp;&amp; abs(x2-x)&lt;averR){\r\n\t\t\t  x = x2;\r\n\t\t\t  y = y2;\r\n\t\t\t}\r\n\t\t  }\r\n\r\n\t\t  // circle outline  \r\n\t\t  circle( quad, c, averR, Scalar(0,0,255), 3, 8, 0 );  \r\n\t\t  Rect rect(x-averR,y-averR,2*averR,2*averR);  \r\n\t\t  Mat submat = cimg(rect);  \r\n\t\t  double p =(double)countNonZero(submat)/(submat.size().width*submat.size().height);  \r\n\t\t  if(p&gt;=0.3 &amp;&amp; p&gt;max){  \r\n\t\t\tmax = p;  \r\n\t\t\tind = j;  \r\n\t\t  }  \r\n\t\t}\r\n\t\tif(ind==-1)printf(&quot;%d:-&quot;,i+1);  \r\n\t\telse printf(&quot;%d:%c&quot;,i+1,&#39;A&#39;+ind);  \r\n\t\tcout&lt;&lt;endl;  \r\n\t  }  \r\n\r\n\t  // circle outline*/  \r\n\t  imshow(&quot;example3&quot;,quad);\r\n\t  waitKey();\r\n\t  return 0;\r\n\t}\r\n\r\n**When I run the app, I get the following error at this line:**\r\n\r\n&gt; sortCorners(corners, center);\r\n\r\n**Error:**\r\n\r\n&gt; java.lang.IndexOutOfBoundsException\r\n\r\nIf anyone could tell me where is the error and how I could arrange it, I will be grateful.","title":"HoughLinesP generates an empty image","body":"<p>I'm developing an app which uses OMR (Optical mark recognize) to read bubblesheets, I'm using the OpenCV API but I'm having some troubles with HoughLinesP, when I use it that returns an empty image to me. I used the function of Android, Log.e, to see the <strong>total</strong>, <strong>cols</strong> and <strong>rows</strong> of the image before and after the HoughLinesP.</p>\n<p><strong>My code is a conversion of a C++ code to Java, both uses OpenCV.</strong></p>\n<p><strong>Before I get the following result:</strong></p>\n<blockquote>\n</blockquote>\n<p><strong>After I get the following result:</strong></p>\n<blockquote>\n</blockquote>\n<p><strong>My code:</strong></p>\n<pre><code>private void scanImage(){\n    Mat img = Imgcodecs.imread(mediaStorageDir().getPath() + &quot;/&quot; + &quot;test2.jpg&quot;, Imgcodecs.CV_LOAD_IMAGE_GRAYSCALE);\n\n    Log.e(&quot;[CANAIS]&quot;, String.valueOf(img.channels()));\n\n    Size sz = new Size(3,3);\n    Imgproc.GaussianBlur(img, img, sz, 0);\n    Imgproc.adaptiveThreshold(img, img, 255, Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 75, 10);\n    Core.bitwise_not(img, img);\n\n    Mat img2 = new Mat();\n    Imgproc.cvtColor(img, img2, Imgproc.COLOR_GRAY2RGB);\n\n    Mat img3 = new Mat();\n    Imgproc.cvtColor(img, img3, Imgproc.COLOR_GRAY2RGB);\n\n    MatOfInt4 lines = new MatOfInt4();\n    \n    Log.e(&quot;[ORIGINAL IMAGE]&quot;, &quot;&quot; + img.total() + &quot;||&quot; + img.rows() + &quot;||&quot; + img.cols());\n    \n    Imgproc.HoughLinesP(img, lines, 1, Math.PI/180,80,400,10);\n    \n    Log.e(&quot;[LINES IMAGE]&quot;, &quot;&quot; + lines.total() + &quot;||&quot; + lines.rows() + &quot;||&quot; + lines.cols());\n    \n    for(int i = 0; i &lt; lines.total(); i++){\n        Mat l = new Mat();\n        l.put(i, 0, lines.get(i, 0));\n        Point pr = new Point();\n        Point ps = new Point();\n        pr.x = Double.valueOf(l.get(0, 0).toString());\n        pr.y = Double.valueOf(l.get(1, 0).toString());\n\n        ps.x = Double.valueOf(l.get(2, 0).toString());\n        ps.y = Double.valueOf(l.get(3,0).toString());\n\n        Scalar scalar = new Scalar(0,0,255);\n\n        Imgproc.line(img2, pr, ps, scalar, 3, Imgproc.LINE_AA, 0);\n    }\n\n    showImage(img2);\n    MatOfInt4 mt4 = new MatOfInt4(lines);\n    LinkedList&lt;Point&gt; corners = new LinkedList&lt;&gt;();\n    for(int i = 0; i &lt; lines.total(); i++){\n        for(int x = i + 1; x &lt;lines.total(); x++){\n            MatOfInt4 gen = new MatOfInt4();\n            MatOfInt4 gen1 = new MatOfInt4();\n            gen1.put(x, 0, mt4.get(x, 0));\n            gen.put(i, 0, mt4.get(i, 0));\n            Point pt = computeIntersect(gen, gen1);\n            if(pt.x &gt;= 0 &amp;&amp; pt.y &gt;= 0 &amp;&amp; pt.x &lt; img.cols() &amp;&amp; pt.y &lt; img.rows()){\n                corners.addLast(pt);\n            }\n        }\n    }\n\n    Point center = new Point(0,0);\n    MatOfPoint mtp = new MatOfPoint(center);\n    for(int i = 0; i &lt; corners.size(); i++){\n        center.x += corners.get(i).x;\n        center.y += corners.get(i).y;\n    }\n\n    center.x *= 1./ corners.size();\n    center.y *= 1./ corners.size();\n\n    sortCorners(corners, center);\n\n    Rect r = Imgproc.boundingRect(mtp);\n    Log.e(&quot;[RECT]&quot;, r.toString());\n\n    Mat quad = Mat.zeros(r.height, r.width, CvType.CV_8UC3);\n    LinkedList&lt;Point&gt; quad_pts = new LinkedList&lt;&gt;();\n    quad_pts.addLast(new Point(0,0));\n    quad_pts.addLast(new Point(quad.cols(),0));\n    quad_pts.addLast(new Point(quad.cols(),quad.rows()));\n    quad_pts.addLast(new Point(0,quad.rows()));\n\n    Mat transmtx = Imgproc.getPerspectiveTransform(Converters.vector_Point2f_to_Mat(corners), Converters.vector_Point2f_to_Mat(quad_pts));\n    Imgproc.warpPerspective(img3, quad, transmtx, quad.size());\n\n    showImage(quad);\n\n    Mat cimg = new Mat();\n\n    Imgproc.cvtColor(quad, cimg, Imgproc.COLOR_BGR2GRAY);\n    Mat circles = new Mat();\n    Imgproc.HoughCircles(cimg, circles, Imgproc.CV_HOUGH_GRADIENT, 1, img.rows()/8, 100, 75, 0,0);\n    for(int i=0; i &lt; circles.total(); i++){\n        Point center1 = new Point(Math.round(Double.valueOf(circles.get(i, 0).toString())), Math.round(Double.valueOf(circles.get(i, 1).toString())));\n        Imgproc.circle(quad, center1, 3, new Scalar(0,255,0), -1,8,0);\n    }\n\n    double averR = 0;\n    LinkedList&lt;Double&gt; row = new LinkedList&lt;&gt;();\n    LinkedList&lt;Double&gt; col = new LinkedList&lt;&gt;();\n\n    for(int i=0; i &lt; circles.total(); i++){\n        boolean found = false;\n        String rr = String.valueOf(Math.round(Double.valueOf(circles.get(i, 2).toString())));\n        int rrr = Integer.valueOf(rr);\n        averR += rrr;\n\n        String x = String.valueOf(Math.round(Double.valueOf(circles.get(i, 0).toString())));\n        String y = String.valueOf(Math.round(Double.valueOf(circles.get(i, 1).toString())));\n\n        int xx = Integer.valueOf(x);\n        int yy = Integer.valueOf(y);\n\n        for(int j=0; j &lt; row.size(); j++){\n            double y2 = row.get(j);\n            if(yy - rrr &lt; y2 &amp;&amp; yy + rrr &gt; y2){\n                found =  true;\n                break;\n            }\n        }\n        if(!found){\n            row.addLast(Double.valueOf(yy));\n        }\n        found = false;\n        for(int j=0; j &lt; col.size(); j++){\n            double x2 = col.get(j);\n            if(xx - rrr &lt; x2 &amp;&amp; xx + rrr &gt; x2){\n                found = true;\n                break;\n            }\n        }\n        if(!found){\n            col.addLast(Double.valueOf(xx));\n        }\n    }\n\n    averR /= circles.total();\n\n    Collections.sort(row, new Comparator&lt;Double&gt;() {\n        @Override\n        public int compare(Double o1, Double o2) {\n            return Collator.getInstance().compare(o1, o2);\n        }\n    });\n    Collections.sort(col, new Comparator&lt;Double&gt;() {\n        @Override\n        public int compare(Double o1, Double o2) {\n            return Collator.getInstance().compare(o1, o2);\n        }\n    });\n\n    for(int i=0;i&lt;row.size();i++){\n        double max = 0;\n        double y = row.get(i);\n        int ind = -1;\n        for(int j=0;j&lt;col.size();j++){\n            double x = col.get(i);\n            Point c = new Point(x,y);\n\n            //Use an actual circle if it exists\n            for(int k=0;k&lt;circles.total();k++){\n                double x2 = Double.valueOf(circles.get(k, 0).toString());\n                double y2 = Double.valueOf(circles.get(k, 1).toString());\n                if(abs(y2-y)&lt;averR &amp;&amp; abs(x2-x)&lt;averR){\n                    x = x2;\n                    y = y2;\n                }\n            }\n\n            // circle outline\n            Imgproc.circle( quad, c, Integer.valueOf(String.valueOf(averR)), new Scalar(0,0,255), 3, 8, 0 );\n            Rect rect = new Rect(Integer.valueOf(String.valueOf(x-averR)),Integer.valueOf(String.valueOf(y-averR)),Integer.valueOf(String.valueOf(2*averR)),Integer.valueOf(String.valueOf(2*averR)));\n            Mat submat = cimg.adjustROI(rect.width, rect.width, rect.height, rect.height);\n            double p =(double)countNonZero(submat)/(submat.size().width*submat.size().height);\n            if(p&gt;=0.3 &amp;&amp; p&gt;max){\n                max = p;\n                ind = j;\n            }\n        }\n        if(ind==-1)\n            Log.e(&quot;[N SEI]&quot;, &quot;&quot; + i+1);\n        else\n            Log.e(&quot;[NSEI]&quot;, &quot;&quot; + i+1 + &quot;A&quot; + ind);\n    }\n\n}\nprivate Point computeIntersect(MatOfInt4 a, MatOfInt4 b){\n    Point generc = new Point();\n    generc.x = -1;\n    generc.y = -1;\n\n    int x1 = Integer.valueOf(a.get(0,0).toString());\n    int y1 = Integer.valueOf(a.get(0,1).toString());\n    int x2 = Integer.valueOf(a.get(0,2).toString());\n    int y2 = Integer.valueOf(a.get(0,3).toString());\n\n    int x3 = Integer.valueOf(b.get(0,0).toString());\n    int y3 = Integer.valueOf(b.get(0,1).toString());\n    int x4 = Integer.valueOf(b.get(0,2).toString());\n    int y4 = Integer.valueOf(b.get(0,3).toString());\n\n    float d = 0;\n\n    if(d == ((float)(x1 - x2) * (y3-y4)) - ((y1-y2) * (x3-x4))){\n        Point pt = new Point();\n        pt.x = ((x1*y2 - y1*x2) * (x3-x4) - (x1-x2) * (x3*y4 - y3*x4)) / d;\n        pt.y = ((x1*y2 - y1*x2) * (y3-y4) - (y1-y2) * (x3*y4 - y3*x4)) / d;\n        return pt;\n    }\n    else\n        return generc;\n}\nprivate void sortCorners(LinkedList&lt;Point&gt; corners, Point center){\n    LinkedList&lt;Point&gt; top = new LinkedList&lt;&gt;();\n    LinkedList&lt;Point&gt; bot = new LinkedList&lt;&gt;();\n\n    Log.e(&quot;[CORNERS SIZE]&quot;, String.valueOf(corners.size()));\n\n    for(int i = 0; i &lt; corners.size(); i++){\n        if(corners.get(i).y &lt; center.y)\n            top.addLast(corners.get(i));\n        else\n            bot.addLast(corners.get(i));\n    }\n\n    Collections.sort(top, new Comparator&lt;Point&gt;() {\n        @Override\n        public int compare(Point o1, Point o2) {\n            return Collator.getInstance().compare(o1, o2);\n        }\n    });\n    Collections.sort(bot, new Comparator&lt;Point&gt;() {\n        @Override\n        public int compare(Point o1, Point o2) {\n            return Collator.getInstance().compare(o1, o2);\n        }\n    });\n\n    Log.e(&quot;[TOP SIZE]&quot;, String.valueOf(top.size()));\n\n    Point t1 = top.get(0);\n    Point tr = top.get(top.size() - 1);\n    Point b1 = bot.get(0);\n    Point br = bot.get(bot.size() - 1);\n    corners.clear();\n    corners.addLast(t1);\n    corners.addLast(tr);\n    corners.addLast(br);\n    corners.addLast(b1);\n}\n</code></pre>\n<p><strong>The C++ code:</strong></p>\n<pre><code>    #include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\n//g++ main.cpp -o main -I /usr/local/include/opencv -lopencv_core -lopencv_imgproc -lopencv_highgui\n\nusing namespace cv;\nusing namespace std;\n\n\ncv::Point2f computeIntersect(cv::Vec4i a, cv::Vec4i b)\n{\n    int x1 = a[0], y1 = a[1], x2 = a[2], y2 = a[3];\n    int x3 = b[0], y3 = b[1], x4 = b[2], y4 = b[3];\n\n    if (float d = ((float)(x1-x2) * (y3-y4)) - ((y1-y2) * (x3-x4)))\n    {\n        cv::Point2f pt;\n        pt.x = ((x1*y2 - y1*x2) * (x3-x4) - (x1-x2) * (x3*y4 - y3*x4)) / d;\n        pt.y = ((x1*y2 - y1*x2) * (y3-y4) - (y1-y2) * (x3*y4 - y3*x4)) / d;\n        return pt;\n    }\n    else\n        return cv::Point2f(-1, -1);\n}\n\nbool comparator2(double a,double b){  \n  return a&lt;b;  \n }  \n bool comparator3(Vec3f a,Vec3f b){  \n  return a[0]&lt;b[0];  \n }  \n\nbool comparator(Point2f a,Point2f b){  \n  return a.x&lt;b.x;  \n  }  \n void sortCorners(std::vector&lt;cv::Point2f&gt;&amp; corners, cv::Point2f center)  \n {  \n\n\n   std::vector&lt;cv::Point2f&gt; top, bot;  \n   for (int i = 0; i &lt; corners.size(); i++)  \n   {  \n     if (corners[i].y &lt; center.y)  \n       top.push_back(corners[i]);  \n     else  \n       bot.push_back(corners[i]);  \n   }  \n\n\n  sort(top.begin(),top.end(),comparator);  \n  sort(bot.begin(),bot.end(),comparator); \n\n   cv::Point2f tl = top[0];  \n   cv::Point2f tr = top[top.size()-1];  \n   cv::Point2f bl = bot[0];  \n   cv::Point2f br = bot[bot.size()-1]; \n   corners.clear();  \n   corners.push_back(tl);  \n   corners.push_back(tr);  \n   corners.push_back(br);  \n   corners.push_back(bl);  \n }  \n\n\nint main(int argc, char* argv[]){\n\n  Mat img = imread(&quot;example.jpg&quot;,0);\n\n  cv::Size size(3,3);  \n  cv::GaussianBlur(img,img,size,0);  \n  adaptiveThreshold(img, img,255,CV_ADAPTIVE_THRESH_MEAN_C, CV_THRESH_BINARY,75,10);  \n  cv::bitwise_not(img, img);    \n\n  cv::Mat img2;  \n  cvtColor(img,img2, CV_GRAY2RGB);  \n\n  cv::Mat img3;  \n  cvtColor(img,img3, CV_GRAY2RGB); \n\n  vector&lt;Vec4i&gt; lines;  \n  HoughLinesP(img, lines, 1, CV_PI/180, 80, 400, 10);  \n  for( size_t i = 0; i &lt; lines.size(); i++ )  \n  {  \n   Vec4i l = lines[i];  \n   line( img2, Point(l[0], l[1]), Point(l[2], l[3]), Scalar(0,0,255), 3, CV_AA);   \n  }  \n\n  imshow(&quot;example&quot;,img2);\n\n  std::vector&lt;cv::Point2f&gt; corners;\n  for (int i = 0; i &lt; lines.size(); i++)\n  {\n      for (int j = i+1; j &lt; lines.size(); j++)\n      {\n          cv::Point2f pt = computeIntersect(lines[i], lines[j]);\n          if (pt.x &gt;= 0 &amp;&amp; pt.y &gt;= 0 &amp;&amp; pt.x &lt; img.cols &amp;&amp; pt.y &lt; img.rows)\n              corners.push_back(pt);\n      }\n  }\n\n   // Get mass center  \n  cv::Point2f center(0,0);  \n  for (int i = 0; i &lt; corners.size(); i++)  \n  center += corners[i];  \n  center *= (1. / corners.size()); \n\n  sortCorners(corners, center); \n\n  Rect r = boundingRect(corners); \n  cout&lt;&lt;r&lt;&lt;endl;\n  cv::Mat quad = cv::Mat::zeros(r.height, r.width, CV_8UC3);  \n  // Corners of the destination image  \n  std::vector&lt;cv::Point2f&gt; quad_pts;  \n  quad_pts.push_back(cv::Point2f(0, 0));  \n  quad_pts.push_back(cv::Point2f(quad.cols, 0));  \n  quad_pts.push_back(cv::Point2f(quad.cols, quad.rows));  \n  quad_pts.push_back(cv::Point2f(0, quad.rows));  \n\n  // Get transformation matrix  \n  cv::Mat transmtx = cv::getPerspectiveTransform(corners, quad_pts);  \n  // Apply perspective transformation  \n  cv::warpPerspective(img3, quad, transmtx, quad.size());  \n\n  imshow(&quot;example2&quot;,quad);\n\n  Mat cimg;\n  \n  cvtColor(quad,cimg, CV_BGR2GRAY);\n  vector&lt;Vec3f&gt; circles;  \n  HoughCircles(cimg, circles, CV_HOUGH_GRADIENT, 1, img.rows/8, 100, 75, 0, 0 );  \n  for( size_t i = 0; i &lt; circles.size(); i++ ){  \n    Point center(cvRound(circles[i][0]), cvRound(circles[i][1]));\n    // circle center  \n    circle( quad, center, 3, Scalar(0,255,0), -1, 8, 0 );\n  }\n\n  imshow(&quot;example4&quot;,quad);\n  waitKey();\n\n  double averR = 0;\n  vector&lt;double&gt; row;\n  vector&lt;double&gt; col;\n\n  //Find rows and columns of circles for interpolation\n  for(int i=0;i&lt;circles.size();i++){  \n    bool found = false;  \n    int r = cvRound(circles[i][2]);\n    averR += r;\n    int x = cvRound(circles[i][0]);  \n    int y = cvRound(circles[i][1]);\n    for(int j=0;j&lt;row.size();j++){\n      double y2 = row[j];\n      if(y - r &lt; y2 &amp;&amp; y + r &gt; y2){\n        found = true;\n        break;\n      }\n    }\n    if(!found){\n      row.push_back(y);\n    }\n    found = false;\n    for(int j=0;j&lt;col.size();j++){\n      double x2 = col[j];\n      if(x - r &lt; x2 &amp;&amp; x + r &gt; x2){\n        found = true;\n        break;\n      }\n    }\n    if(!found){  \n      col.push_back(x);\n    }\n  }\n\n  averR /= circles.size();\n\n  sort(row.begin(),row.end(),comparator2);\n  sort(col.begin(),col.end(),comparator2);\n\n  for(int i=0;i&lt;row.size();i++){\n    double max = 0;  \n    double y = row[i];\n    int ind = -1;\n    for(int j=0;j&lt;col.size();j++){\n      double x = col[j];\n      Point c(x,y);  \n\n      //Use an actual circle if it exists\n      for(int k=0;k&lt;circles.size();k++){\n        double x2 = circles[k][0];\n        double y2 = circles[k][1];\n        if(abs(y2-y)&lt;averR &amp;&amp; abs(x2-x)&lt;averR){\n          x = x2;\n          y = y2;\n        }\n      }\n\n      // circle outline  \n      circle( quad, c, averR, Scalar(0,0,255), 3, 8, 0 );  \n      Rect rect(x-averR,y-averR,2*averR,2*averR);  \n      Mat submat = cimg(rect);  \n      double p =(double)countNonZero(submat)/(submat.size().width*submat.size().height);  \n      if(p&gt;=0.3 &amp;&amp; p&gt;max){  \n        max = p;  \n        ind = j;  \n      }  \n    }\n    if(ind==-1)printf(&quot;%d:-&quot;,i+1);  \n    else printf(&quot;%d:%c&quot;,i+1,'A'+ind);  \n    cout&lt;&lt;endl;  \n  }  \n\n  // circle outline*/  \n  imshow(&quot;example3&quot;,quad);\n  waitKey();\n  return 0;\n}\n</code></pre>\n<p><strong>When I run the app, I get the following error at this line:</strong></p>\n<blockquote>\n<p>sortCorners(corners, center);</p>\n</blockquote>\n<p><strong>Error:</strong></p>\n<blockquote>\n<p>java.lang.IndexOutOfBoundsException</p>\n</blockquote>\n<p>If anyone could tell me where is the error and how I could arrange it, I will be grateful.</p>\n"},{"tags":["java","jdbc","ibm-midrange","jt400"],"comments":[{"owner":{"account_id":7712450,"reputation":2036,"user_id":5841337,"accept_rate":100,"display_name":"Frank"},"score":0,"creation_date":1464083544,"post_id":37409928,"comment_id":62326876,"body_markdown":"Perhaps the answer to this SO-question might help you: [http://stackoverflow.com/questions/33560726/how-to-convert-a-string-to-ccsid-37-in-java](http://stackoverflow.com/questions/33560726/how-to-convert-a-string-to-ccsid-37-in-java)","body":"Perhaps the answer to this SO-question might help you: <a href=\"http://stackoverflow.com/questions/33560726/how-to-convert-a-string-to-ccsid-37-in-java\">http://stackoverflow.com/questions/33560726/how-to-convert-a&zwnj;&#8203;-string-to-ccsid-37-&zwnj;&#8203;in-java</a>"},{"owner":{"account_id":2873853,"reputation":851,"user_id":2466529,"accept_rate":70,"display_name":"mariusz2108"},"score":0,"creation_date":1464085021,"post_id":37409928,"comment_id":62327922,"body_markdown":"It doesn&#39;t work System.getProperty(&quot;com.ibm.cics.jvmserver.local.ccsid&quot;) return null","body":"It doesn&#39;t work System.getProperty(&quot;com.ibm.cics.jvmserver.local.ccsid&quot;) return null"},{"owner":{"account_id":7712450,"reputation":2036,"user_id":5841337,"accept_rate":100,"display_name":"Frank"},"score":0,"creation_date":1464086182,"post_id":37409928,"comment_id":62328679,"body_markdown":"What happens if you use the charset in getBytes? `stringFromDb.geBytes(&quot;Cp037&quot;)`","body":"What happens if you use the charset in getBytes? <code>stringFromDb.geBytes(&quot;Cp037&quot;)</code>"},{"owner":{"account_id":2918701,"reputation":2976,"user_id":2501410,"accept_rate":94,"display_name":"Moh-Aw"},"score":0,"creation_date":1464086515,"post_id":37409928,"comment_id":62328894,"body_markdown":"or maybe `select cast(columnname as varchar(255) CCSID 037) from table`.","body":"or maybe <code>select cast(columnname as varchar(255) CCSID 037) from table</code>."}],"answers":[{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464094977,"creation_date":1464094977,"answer_id":37414469,"question_id":37409928,"body_markdown":"If things are set up properly, you shouldn&#39;t need to do any manual conversion.  The DB and JDBC driver handle it for you.\r\n\r\nYou say your DB is using CCSID 37, which is English as used in the US, Canada, Netherlands, Portugal, Brazil, New Zealand, Australia.\r\n\r\nTo handle Polish characters, you&#39;d probably need CCSID 870  (per [Language identifiers and associated default CCSIDs][1])\r\n\r\nHowever, CCSID is assigned per column.  So everything in that column in that table would need to be in one or the other CCSID.\r\n\r\nIf you need to store both English &amp; Polish in the same column in the same table, then the best option would be to change the column(s) to Unicode. \r\n\r\nAlternatively, you could flag the data as &quot;binary&quot; CCSID 65535, so that the system won&#39;t try to convert it.  You&#39;d need `translate binary=false`  and your application would be responsible for knowing which records were in English and which were in Polish.  So you&#39;d need some additional flag field in the record.\r\n\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_72/nls/rbagslngidsdefaultccsids.htm?lang=en","title":"DB2 on AS400 encoding issue with jt400","body":"<p>If things are set up properly, you shouldn't need to do any manual conversion.  The DB and JDBC driver handle it for you.</p>\n\n<p>You say your DB is using CCSID 37, which is English as used in the US, Canada, Netherlands, Portugal, Brazil, New Zealand, Australia.</p>\n\n<p>To handle Polish characters, you'd probably need CCSID 870  (per <a href=\"https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_72/nls/rbagslngidsdefaultccsids.htm?lang=en\" rel=\"nofollow\">Language identifiers and associated default CCSIDs</a>)</p>\n\n<p>However, CCSID is assigned per column.  So everything in that column in that table would need to be in one or the other CCSID.</p>\n\n<p>If you need to store both English &amp; Polish in the same column in the same table, then the best option would be to change the column(s) to Unicode. </p>\n\n<p>Alternatively, you could flag the data as \"binary\" CCSID 65535, so that the system won't try to convert it.  You'd need <code>translate binary=false</code>  and your application would be responsible for knowing which records were in English and which were in Polish.  So you'd need some additional flag field in the record.</p>\n"},{"tags":[],"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464095133,"creation_date":1464095133,"answer_id":37414535,"question_id":37409928,"body_markdown":"CCSID 37 is English and does not contain certain Polish characters. The Polish CCSID is 1153, or 870 (without Euro symbol). \r\n\r\nYou can see the symbols contained in CCSID 37 (Character set 697) here: ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CS00697.pdf\r\n\r\nYou can see the symbols contained in CCSID 1153 (Character set 1375) here: ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CS01375.pdf\r\n\r\nIf the database field contains CCSID 37 you will not be able to store the characters that are missing CCSID from 1153. Common characters will be converted. You could try changing your database to use UTF-16 or CCSID 1200. That contains all the characters in CCSID 37 and CCSID 1153.","title":"DB2 on AS400 encoding issue with jt400","body":"<p>CCSID 37 is English and does not contain certain Polish characters. The Polish CCSID is 1153, or 870 (without Euro symbol). </p>\n\n<p>You can see the symbols contained in CCSID 37 (Character set 697) here: <a href=\"ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CS00697.pdf\" rel=\"nofollow\">ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CS00697.pdf</a></p>\n\n<p>You can see the symbols contained in CCSID 1153 (Character set 1375) here: <a href=\"ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CS01375.pdf\" rel=\"nofollow\">ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CS01375.pdf</a></p>\n\n<p>If the database field contains CCSID 37 you will not be able to store the characters that are missing CCSID from 1153. Common characters will be converted. You could try changing your database to use UTF-16 or CCSID 1200. That contains all the characters in CCSID 37 and CCSID 1153.</p>\n"}],"owner":{"account_id":2873853,"reputation":851,"user_id":2466529,"accept_rate":70,"display_name":"mariusz2108"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678551686,"creation_date":1464083142,"question_id":37409928,"body_markdown":"I use jt400 to get data from database on as400 - db2.\r\n\r\nMy database use ccsid 37 encoding.\r\nI have problem with polish letters only.\r\nHow can I force jt400 to use proper encoding?\r\n\r\nI tried \r\n\r\n    jdbc:as400://MY_SYSTEM/LIBRARY;translate binary=true\r\n\r\n    AS400Text converer = new AS400Text(stringFromDb.length(), 37);\r\n    String stringAfterConversion = converter.toObject(stringFromDb.getBytes());\r\n\r\n\r\nbut it doesn&#39;t work","title":"DB2 on AS400 encoding issue with jt400","body":"<p>I use jt400 to get data from database on as400 - db2.</p>\n\n<p>My database use ccsid 37 encoding.\nI have problem with polish letters only.\nHow can I force jt400 to use proper encoding?</p>\n\n<p>I tried </p>\n\n<pre><code>jdbc:as400://MY_SYSTEM/LIBRARY;translate binary=true\n\nAS400Text converer = new AS400Text(stringFromDb.length(), 37);\nString stringAfterConversion = converter.toObject(stringFromDb.getBytes());\n</code></pre>\n\n<p>but it doesn't work</p>\n"},{"tags":["java","list","equals"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1678550857,"post_id":75706160,"comment_id":133556086,"body_markdown":"You could create a `StringDoublyLinkedList` which extends `MyDoublyLinkedList&lt;String&gt;`. Same for `Integer`.","body":"You could create a <code>StringDoublyLinkedList</code> which extends <code>MyDoublyLinkedList&lt;String&gt;</code>. Same for <code>Integer</code>."},{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1678551320,"post_id":75706160,"comment_id":133556181,"body_markdown":"@MCEmperor Agree. Otherwise, you will not be able to retrieve it because of `type erasure` in Java for generics. If not generic type, you could use `obj.getClass().getComponentType();`","body":"@MCEmperor Agree. Otherwise, you will not be able to retrieve it because of <code>type erasure</code> in Java for generics. If not generic type, you could use <code>obj.getClass().getComponentType();</code>"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1678551484,"post_id":75706160,"comment_id":133556208,"body_markdown":"Another way is to have the class of the element as a property of MyDoubleLinkedList. The downsize is that you&#39;ll have to pass it when constructing the MyDoubleLinkedList. This can be mitigated with static methods used as factories (like createForString() or createForInteger()).","body":"Another way is to have the class of the element as a property of MyDoubleLinkedList. The downsize is that you&#39;ll have to pass it when constructing the MyDoubleLinkedList. This can be mitigated with static methods used as factories (like createForString() or createForInteger())."},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1678551619,"post_id":75706160,"comment_id":133556232,"body_markdown":"I see. So in short this can&#39;t be done with generic types because of type erasure, so the only way to do it is to know the types in advance and create subclasses for it, or pass extra information into the class :( Thanks!","body":"I see. So in short this can&#39;t be done with generic types because of type erasure, so the only way to do it is to know the types in advance and create subclasses for it, or pass extra information into the class :( Thanks!"},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1678551771,"post_id":75706160,"comment_id":133556261,"body_markdown":"You can take a look at the way [`ArrayList::equals`](https://github.com/adoptium/jdk20/blob/82749901b1497f524e53e47c45708c8e4a63c8b9/src/java.base/share/classes/java/util/ArrayList.java#L516) is implemented, to get an idea on how to implement yours","body":"You can take a look at the way <a href=\"https://github.com/adoptium/jdk20/blob/82749901b1497f524e53e47c45708c8e4a63c8b9/src/java.base/share/classes/java/util/ArrayList.java#L516\" rel=\"nofollow noreferrer\"><code>ArrayList::equals</code></a> is implemented, to get an idea on how to implement yours"},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1678552275,"post_id":75706160,"comment_id":133556339,"body_markdown":"@smac89 as I have explained, my `equals` method works differently with that of the `ArrayList` in the example I have provided. If you compare two empty ArrayLists with different types, `ArrayList.equals()` will return `true`.","body":"@smac89 as I have explained, my <code>equals</code> method works differently with that of the <code>ArrayList</code> in the example I have provided. If you compare two empty ArrayLists with different types, <code>ArrayList.equals()</code> will return <code>true</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1678553440,"post_id":75706160,"comment_id":133556573,"body_markdown":"You could also pass the class to a constructor, e.g. `new MyDoublyLinkedList(String.class)` or something.","body":"You could also pass the class to a constructor, e.g. <code>new MyDoublyLinkedList(String.class)</code> or something."}],"answers":[{"tags":[],"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678551672,"creation_date":1678551672,"answer_id":75706304,"question_id":75706160,"body_markdown":"Based on the comments I saw:\r\n\r\nIn short this can&#39;t be done with generic types because of type erasure, so the only way to do it is to know the types in advance and create subclasses for it, or pass extra information into the class :(","title":"Is there a way to check if two lists have the same type of elements in Java?","body":"<p>Based on the comments I saw:</p>\n<p>In short this can't be done with generic types because of type erasure, so the only way to do it is to know the types in advance and create subclasses for it, or pass extra information into the class :(</p>\n"}],"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678551672,"creation_date":1678550527,"question_id":75706160,"body_markdown":"I have a `MyDoublyLinkedList&lt;E&gt;` which works essentially like the usual DLLs without dummies. I want to write an `equals(Object obj)` method for the class, and I realized that I can only check for the type of `obj` with `obj instanceof MyDoublyLinkedList`, but not `obj instanceof MyDoublyLinkedList&lt;E&gt;`.\r\n\r\nIf any of the two lists I&#39;m comparing has elements, I can simply check for the elements and I&#39;ll know their type. But Let&#39;s say both lists are empty, but have different element types (e.g. `MyDoublyLinkedList&lt;String&gt;` and `MyDoublyLinkedList&lt;Integer&gt;`. I know that array lists will consider two of such lists equal, but for my list I want them to be not equal, because one list is meant to contain strings while the other is meant to contain integers.\r\n\r\nIs there any way I can achieve this?","title":"Is there a way to check if two lists have the same type of elements in Java?","body":"<p>I have a <code>MyDoublyLinkedList&lt;E&gt;</code> which works essentially like the usual DLLs without dummies. I want to write an <code>equals(Object obj)</code> method for the class, and I realized that I can only check for the type of <code>obj</code> with <code>obj instanceof MyDoublyLinkedList</code>, but not <code>obj instanceof MyDoublyLinkedList&lt;E&gt;</code>.</p>\n<p>If any of the two lists I'm comparing has elements, I can simply check for the elements and I'll know their type. But Let's say both lists are empty, but have different element types (e.g. <code>MyDoublyLinkedList&lt;String&gt;</code> and <code>MyDoublyLinkedList&lt;Integer&gt;</code>. I know that array lists will consider two of such lists equal, but for my list I want them to be not equal, because one list is meant to contain strings while the other is meant to contain integers.</p>\n<p>Is there any way I can achieve this?</p>\n"},{"tags":["java","java-time","localdate","period","date-difference"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678349035,"creation_date":1678349035,"answer_id":75681860,"question_id":75681703,"body_markdown":"The &quot;problem&quot; is the way [`Period.between`][1] performs its calculation:\r\n\r\n&gt; The start date is included, but the end date is not. The period is\r\n&gt; calculated by removing complete months, then calculating the remaining\r\n&gt; number of days, adjusting to ensure that both have the same sign. The\r\n&gt; number of months is then split into years and months based on a 12\r\n&gt; month year. A month is considered if the end day-of-month is greater\r\n&gt; than or equal to the start day-of-month. For example, from 2010-01-15\r\n&gt; to 2011-03-18 is one year, two months and three days.\r\n\r\nThis results in 2023-01-28 until 2023-01-01 counting as 1 month and 1 day (P1M1D), but so will 2023-01-29, 30, and 31. This is because 2023-01-31 plus 1 month is 2023-02-31, which is invalid, so it uses 2023-02-28 (and same for 29 and 30, and of course 28). In other words, there is 1 full month, which ends on 2023-02-28, and then there are 9 more days until 2023-03-09 (exclusive).\r\n\r\nThis conforms to the behaviour documented for [`LocalDate.plusMonths`][2]:\r\n\r\n&gt; This method adds the specified amount to the months field in three\r\n&gt; steps:\r\n&gt; \r\n&gt; 1. Add the input months to the month-of-year field\r\n&gt; 2. Check if the resulting date would be invalid\r\n&gt; 3. Adjust the day-of-month to the last valid day if necessary\r\n&gt; \r\n&gt; For example, 2007-03-31 plus one month would result in the invalid\r\n&gt; date 2007-04-31. Instead of returning an invalid result, the last\r\n&gt; valid day of the month, 2007-04-30, is selected instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html#between(java.time.LocalDate,java.time.LocalDate)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#plusMonths(long)","title":"Period between LocalDates produces wrong results","body":"<p>The &quot;problem&quot; is the way <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html#between(java.time.LocalDate,java.time.LocalDate)\" rel=\"nofollow noreferrer\"><code>Period.between</code></a> performs its calculation:</p>\n<blockquote>\n<p>The start date is included, but the end date is not. The period is\ncalculated by removing complete months, then calculating the remaining\nnumber of days, adjusting to ensure that both have the same sign. The\nnumber of months is then split into years and months based on a 12\nmonth year. A month is considered if the end day-of-month is greater\nthan or equal to the start day-of-month. For example, from 2010-01-15\nto 2011-03-18 is one year, two months and three days.</p>\n</blockquote>\n<p>This results in 2023-01-28 until 2023-01-01 counting as 1 month and 1 day (P1M1D), but so will 2023-01-29, 30, and 31. This is because 2023-01-31 plus 1 month is 2023-02-31, which is invalid, so it uses 2023-02-28 (and same for 29 and 30, and of course 28). In other words, there is 1 full month, which ends on 2023-02-28, and then there are 9 more days until 2023-03-09 (exclusive).</p>\n<p>This conforms to the behaviour documented for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#plusMonths(long)\" rel=\"nofollow noreferrer\"><code>LocalDate.plusMonths</code></a>:</p>\n<blockquote>\n<p>This method adds the specified amount to the months field in three\nsteps:</p>\n<ol>\n<li>Add the input months to the month-of-year field</li>\n<li>Check if the resulting date would be invalid</li>\n<li>Adjust the day-of-month to the last valid day if necessary</li>\n</ol>\n<p>For example, 2007-03-31 plus one month would result in the invalid\ndate 2007-04-31. Instead of returning an invalid result, the last\nvalid day of the month, 2007-04-30, is selected instead.</p>\n</blockquote>\n"}],"owner":{"account_id":1545985,"reputation":17166,"user_id":1439522,"accept_rate":40,"display_name":"prom85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678550741,"creation_date":1678347995,"question_id":75681703,"body_markdown":"I see that `java.time.Period` with `java.time.LocalDates` works mostly as desired and I can use it to get the duration between two dates in years, months and days but I found an example that is not working (not as I expected it), like following:\r\n\r\n```\r\nval test1 = LocalDate.of(2023, 1, 31)\r\nval test2 = LocalDate.of(2023, 1, 28)\r\nval testToday = LocalDate.of(2023, 3, 9)\r\n\r\nval period1 = Period.between(test1, testToday)\r\nval period2 = Period.between(test2, testToday)\r\n\r\nL.d { &quot;test1 = $test1 | test2 = $test2 | today = $testToday&quot; }\r\nL.d { &quot;period1 = $period1 | period2 = $period2&quot; }\r\n```\r\n\r\nOutput is following:\r\n\r\n```\r\nperiod1 = P1M9D | period2 = P1M9D\r\ntest1 = 2023-01-31 | test2 = 2023-01-28 | today = 2023-03-09\r\n```\r\n\r\n**Problem**\r\n\r\nThe solution above tells me following:\r\n\r\n* Duration between 2023-01-31 and 2023-03-09 =&gt; 1 month and 9 days (P1M9D)\r\n* Duration between 2023-01-28 and 2023-03-09 =&gt; 1 month and 9 days (P1M9D)\r\n\r\n=&gt; but this is wrong, the second one should show 3 days more as duration... Is there an explanation for this?\r\n\r\n","title":"Period between LocalDates produces wrong results","body":"<p>I see that <code>java.time.Period</code> with <code>java.time.LocalDates</code> works mostly as desired and I can use it to get the duration between two dates in years, months and days but I found an example that is not working (not as I expected it), like following:</p>\n<pre><code>val test1 = LocalDate.of(2023, 1, 31)\nval test2 = LocalDate.of(2023, 1, 28)\nval testToday = LocalDate.of(2023, 3, 9)\n\nval period1 = Period.between(test1, testToday)\nval period2 = Period.between(test2, testToday)\n\nL.d { &quot;test1 = $test1 | test2 = $test2 | today = $testToday&quot; }\nL.d { &quot;period1 = $period1 | period2 = $period2&quot; }\n</code></pre>\n<p>Output is following:</p>\n<pre><code>period1 = P1M9D | period2 = P1M9D\ntest1 = 2023-01-31 | test2 = 2023-01-28 | today = 2023-03-09\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>The solution above tells me following:</p>\n<ul>\n<li>Duration between 2023-01-31 and 2023-03-09 =&gt; 1 month and 9 days (P1M9D)</li>\n<li>Duration between 2023-01-28 and 2023-03-09 =&gt; 1 month and 9 days (P1M9D)</li>\n</ul>\n<p>=&gt; but this is wrong, the second one should show 3 days more as duration... Is there an explanation for this?</p>\n"},{"tags":["java","spring-boot","pom.xml"],"owner":{"account_id":27989925,"reputation":1,"user_id":21376006,"display_name":"emad qandalaft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678550127,"creation_date":1678550127,"question_id":75706117,"body_markdown":"in one of my projects in in spring boot suite I see this error in POM.xml file \r\n&quot;Cannot invoke &quot;org.eclipse.m2e.core.internal.MavenPluginActivator.getMavenConfiguration()&quot; because the return value \r\nof &quot;org.eclipse.m2e.core.internal.MavenPluginActivator.getDefault()&quot; is null&quot;\r\n\r\n\r\n\r\nI Just want to know what is this error for and why its happens to one of my projects not all of them","title":"error in my spring boot POM.xml file Cannot invoke &quot;org.eclipse.m2e.core.internal.MavenPluginActivator.getMavenConfiguration()&quot;","body":"<p>in one of my projects in in spring boot suite I see this error in POM.xml file\n&quot;Cannot invoke &quot;org.eclipse.m2e.core.internal.MavenPluginActivator.getMavenConfiguration()&quot; because the return value\nof &quot;org.eclipse.m2e.core.internal.MavenPluginActivator.getDefault()&quot; is null&quot;</p>\n<p>I Just want to know what is this error for and why its happens to one of my projects not all of them</p>\n"},{"tags":["java","generics","type-conversion"],"comments":[{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":1,"creation_date":1678543069,"post_id":75705395,"comment_id":133554806,"body_markdown":"Does this answer your question? [Java generics parameter bounding to any of a range of types](https://stackoverflow.com/questions/6592832/java-generics-parameter-bounding-to-any-of-a-range-of-types)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6592832/java-generics-parameter-bounding-to-any-of-a-range-of-types\">Java generics parameter bounding to any of a range of types</a>"}],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678550056,"creation_date":1678544912,"answer_id":75705612,"question_id":75705395,"body_markdown":"There is no syntax to prevent someone from using other types. But you can prevent the creation of such object by making the constructor private and exposing two static methods like this :\r\n\r\n\r\n    public class N&lt;K&gt; {\r\n    \r\n      public static N&lt;String&gt; create(String value) {\r\n        return new N&lt;&gt;(value);\r\n      }\r\n    \r\n      public static N&lt;Integer&gt; create(Integer value) {\r\n        return new N&lt;&gt;(value);\r\n      }\r\n    \r\n    \r\n      private final K obj;\r\n    \r\n      private N(K obj)\r\n      {\r\n        this.obj=obj;\r\n      }\r\n    \r\n      public K getObject()\r\n      {\r\n        return this.obj;\r\n      }\r\n    }\r\n\r\nWith this, you are sure that all instances of N are only for String and Integer types but you can still use thing like `N&lt;Float&gt;` for type declaration  (for return type or function parameter for instance).\r\n\r\nAnother possibility is to use [Sealed Classes][1] but then you will need to create two extra classes one for String and one for Integer and you will still have the issue that `N&lt;Float&gt;` can still be used as a type :\r\n\r\n    public sealed class N&lt;K&gt; permits N.NString, N.NInteger {\r\n      \r\n      private final K obj;\r\n    \r\n      private N(K obj)\r\n      {\r\n        this.obj=obj;\r\n      }\r\n    \r\n      public K getObject()\r\n      {\r\n        return this.obj;\r\n      }\r\n    \r\n      public final static class NString extends N&lt;String&gt; {\r\n        public NString(String obj) {\r\n          super(obj);\r\n        }\r\n      }\r\n    \r\n      public final static class NInteger extends N&lt;Integer&gt; {\r\n        public NInteger(Integer obj) {\r\n          super(obj);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/language/sealed-classes-and-interfaces.html","title":"How do i restrict some Generic class to only to accept Integer and String type only , not even other types like Double?","body":"<p>There is no syntax to prevent someone from using other types. But you can prevent the creation of such object by making the constructor private and exposing two static methods like this :</p>\n<pre><code>public class N&lt;K&gt; {\n\n  public static N&lt;String&gt; create(String value) {\n    return new N&lt;&gt;(value);\n  }\n\n  public static N&lt;Integer&gt; create(Integer value) {\n    return new N&lt;&gt;(value);\n  }\n\n\n  private final K obj;\n\n  private N(K obj)\n  {\n    this.obj=obj;\n  }\n\n  public K getObject()\n  {\n    return this.obj;\n  }\n}\n</code></pre>\n<p>With this, you are sure that all instances of N are only for String and Integer types but you can still use thing like <code>N&lt;Float&gt;</code> for type declaration  (for return type or function parameter for instance).</p>\n<p>Another possibility is to use <a href=\"https://docs.oracle.com/en/java/javase/15/language/sealed-classes-and-interfaces.html\" rel=\"nofollow noreferrer\">Sealed Classes</a> but then you will need to create two extra classes one for String and one for Integer and you will still have the issue that <code>N&lt;Float&gt;</code> can still be used as a type :</p>\n<pre><code>public sealed class N&lt;K&gt; permits N.NString, N.NInteger {\n  \n  private final K obj;\n\n  private N(K obj)\n  {\n    this.obj=obj;\n  }\n\n  public K getObject()\n  {\n    return this.obj;\n  }\n\n  public final static class NString extends N&lt;String&gt; {\n    public NString(String obj) {\n      super(obj);\n    }\n  }\n\n  public final static class NInteger extends N&lt;Integer&gt; {\n    public NInteger(Integer obj) {\n      super(obj);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14217418,"reputation":1,"user_id":10433098,"display_name":"user10433098"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678550056,"creation_date":1678542588,"question_id":75705395,"body_markdown":"    class N&lt;K&gt; {\r\n\r\n        K obj;\r\n\r\n        N(K obj)\r\n        {\r\n            this.obj=obj;\r\n        }\r\n\r\n        public K getObject()\r\n        {\r\n            return this.obj;\r\n        }\r\n    }\r\n\r\n    class temp\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            N&lt;Double&gt; a=new N&lt;Double&gt;(100.10); //Double type should not be allowed in generics\r\n        \r\n            N&lt;String&gt; b=new N&lt;String&gt;(&quot;hi&quot;);\r\n\r\n            N&lt;Integer&gt; c=new N&lt;Integer&gt;(100);\r\n\r\n            System.out.println(a.getObject()); // &#39;print 100.10&#39;\r\n            System.out.println(b.getObject());   // &#39;print hi&#39;\r\n            System.out.println(c.getObject());   // &#39;print 100&#39;  \r\n       \r\n        }\r\n    }\r\n\r\n\r\n\r\nOur code accepts all Type of data but i want only it to accept Integer and String type and other type should not be used ? How can i achieve the desired result.","title":"How do i restrict some Generic class to only to accept Integer and String type only , not even other types like Double?","body":"<pre><code>class N&lt;K&gt; {\n\n    K obj;\n\n    N(K obj)\n    {\n        this.obj=obj;\n    }\n\n    public K getObject()\n    {\n        return this.obj;\n    }\n}\n\nclass temp\n{\n    public static void main(String[] args)\n    {\n        N&lt;Double&gt; a=new N&lt;Double&gt;(100.10); //Double type should not be allowed in generics\n    \n        N&lt;String&gt; b=new N&lt;String&gt;(&quot;hi&quot;);\n\n        N&lt;Integer&gt; c=new N&lt;Integer&gt;(100);\n\n        System.out.println(a.getObject()); // 'print 100.10'\n        System.out.println(b.getObject());   // 'print hi'\n        System.out.println(c.getObject());   // 'print 100'  \n   \n    }\n}\n</code></pre>\n<p>Our code accepts all Type of data but i want only it to accept Integer and String type and other type should not be used ? How can i achieve the desired result.</p>\n"},{"tags":["java","oop","generics","interface"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1678467639,"post_id":75698051,"comment_id":133544358,"body_markdown":"Why would anyone write code like this?","body":"Why would anyone write code like this?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1678467925,"post_id":75698051,"comment_id":133544440,"body_markdown":"Also, `aggregate` takes a `TResult` as argument, not a `TElement`, the code you&#39;re showing will throw errors when you try to compile it because `b` is not an `Integer`. So the question really is &quot;why do you need this kind of interface? It&#39;s an esoteric pattern that almost no one will ever need&quot;.","body":"Also, <code>aggregate</code> takes a <code>TResult</code> as argument, not a <code>TElement</code>, the code you&#39;re showing will throw errors when you try to compile it because <code>b</code> is not an <code>Integer</code>. So the question really is &quot;why do you need this kind of interface? It&#39;s an esoteric pattern that almost no one will ever need&quot;."}],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678549306,"creation_date":1678467512,"answer_id":75698989,"question_id":75698051,"body_markdown":"You don&#39;t need the additional generics in your `implements` statement, `X implements I&lt;X, T&gt;` already told the compiler what the generics for X were. So:\r\n\r\n```java\r\nclass Main {\r\n    interface Aggregateable&lt;TElement extends Aggregateable&lt;TElement, TResult&gt;, TResult&gt; {\r\n        TResult aggregate(TResult intermediateResult);\r\n    }\r\n    \r\n    class MyImplementation implements Aggregateable&lt;MyImplementation, Integer&gt; {\r\n        // Obviously, you need more code here, because this does\r\n        // nothing meaningful on its own, it needs whatever code\r\n        // relies on having this interface implemented, and data\r\n        // local to this class instance for it to aggregate.\r\n        public Integer aggregate(Integer intermediateResult) {\r\n            return intermediateResult;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n    \r\n    public Main() {\r\n        MyImplementation m1 = new MyImplementation();\r\n        // And obviously, this &quot;does&quot; nothing, but we don&#39;t care,\r\n        // what we care about is that it compiles and runs without\r\n        // errors and without throwing exceptions.\r\n        System.out.println(m1.aggregate(5));\r\n    }\r\n}\r\n```\r\n\r\nBut this is an esoteric pattern that—no matter what you&#39;re doing—is guaranteed the wrong pattern. It might works, but that doesn&#39;t make it good programming. It makes it &quot;you&#39;ll have show that the algorithm you want to implement can _only_ be implemented with this pattern&quot;. Which you can&#39;t.","title":"Interface Recursive Type Bound (self-bounding) example of implementation in Java","body":"<p>You don't need the additional generics in your <code>implements</code> statement, <code>X implements I&lt;X, T&gt;</code> already told the compiler what the generics for X were. So:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    interface Aggregateable&lt;TElement extends Aggregateable&lt;TElement, TResult&gt;, TResult&gt; {\n        TResult aggregate(TResult intermediateResult);\n    }\n    \n    class MyImplementation implements Aggregateable&lt;MyImplementation, Integer&gt; {\n        // Obviously, you need more code here, because this does\n        // nothing meaningful on its own, it needs whatever code\n        // relies on having this interface implemented, and data\n        // local to this class instance for it to aggregate.\n        public Integer aggregate(Integer intermediateResult) {\n            return intermediateResult;\n        }\n    }\n\n    public static void main(String[] args) {\n        new Main();\n    }\n    \n    public Main() {\n        MyImplementation m1 = new MyImplementation();\n        // And obviously, this &quot;does&quot; nothing, but we don't care,\n        // what we care about is that it compiles and runs without\n        // errors and without throwing exceptions.\n        System.out.println(m1.aggregate(5));\n    }\n}\n</code></pre>\n<p>But this is an esoteric pattern that—no matter what you're doing—is guaranteed the wrong pattern. It might works, but that doesn't make it good programming. It makes it &quot;you'll have show that the algorithm you want to implement can <em>only</em> be implemented with this pattern&quot;. Which you can't.</p>\n"}],"owner":{"account_id":27984623,"reputation":11,"user_id":21371750,"display_name":"szubi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75698989,"answer_count":1,"score":0,"last_activity_date":1678549306,"creation_date":1678462432,"question_id":75698051,"body_markdown":"I&#39;ve got an example of self-bound interface in Java:\r\n\r\n\r\n```\r\npublic interface IAggregable&lt;TElement extends IAggregable&lt;TElement, TResult&gt;, TResult&gt; {\r\n\r\n\tTResult aggregate(TResult intermediateResult);\r\n}\r\n```\r\n\r\nI have to somehow implement this interface for a new class. Can you Guys show me any example of how it can be done and how to call this `aggregate` method later? \r\n\r\nSorry for asking about something like that but this kind of &quot;recursive&quot; call in definition of this interface is confusing for me. \r\n\r\nI&#39;ve tried something like that: \r\n```\r\npublic class CAgg&lt;TResult&gt; implements IAggregable&lt;CAgg&lt;TResult&gt;,TResult&gt; {\r\n    @Override\r\n    public TResult aggregate(TResult intermediateResult) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nbut this implementation does not do anything. If we try with &lt;Integer&gt; and for example make a &quot;sum&quot; of integers it shows error:\r\n\r\n```\r\npublic class CAgg&lt;TResult&gt; implements IAggregable&lt;CAgg&lt;TResult&gt;,TResult&gt; {\r\n    @Override\r\n    public TResult aggregate(TResult intermediateResult) {\r\n        return null;\r\n    }\r\n}\r\n\r\n//and in main()\r\nCAgg&lt;Integer&gt; a = new CAgg&lt;&gt;();\r\nCAgg&lt;Integer&gt; b = new CAgg&lt;&gt;();\r\n\r\na.aggregate(b);\r\n```\r\n\r\nI will be glad for any help!","title":"Interface Recursive Type Bound (self-bounding) example of implementation in Java","body":"<p>I've got an example of self-bound interface in Java:</p>\n<pre><code>public interface IAggregable&lt;TElement extends IAggregable&lt;TElement, TResult&gt;, TResult&gt; {\n\n    TResult aggregate(TResult intermediateResult);\n}\n</code></pre>\n<p>I have to somehow implement this interface for a new class. Can you Guys show me any example of how it can be done and how to call this <code>aggregate</code> method later?</p>\n<p>Sorry for asking about something like that but this kind of &quot;recursive&quot; call in definition of this interface is confusing for me.</p>\n<p>I've tried something like that:</p>\n<pre><code>public class CAgg&lt;TResult&gt; implements IAggregable&lt;CAgg&lt;TResult&gt;,TResult&gt; {\n    @Override\n    public TResult aggregate(TResult intermediateResult) {\n        return null;\n    }\n}\n</code></pre>\n<p>but this implementation does not do anything. If we try with  and for example make a &quot;sum&quot; of integers it shows error:</p>\n<pre><code>public class CAgg&lt;TResult&gt; implements IAggregable&lt;CAgg&lt;TResult&gt;,TResult&gt; {\n    @Override\n    public TResult aggregate(TResult intermediateResult) {\n        return null;\n    }\n}\n\n//and in main()\nCAgg&lt;Integer&gt; a = new CAgg&lt;&gt;();\nCAgg&lt;Integer&gt; b = new CAgg&lt;&gt;();\n\na.aggregate(b);\n</code></pre>\n<p>I will be glad for any help!</p>\n"},{"tags":["java","linked-list","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678549115,"creation_date":1678549115,"answer_id":75706026,"question_id":75705863,"body_markdown":"The main problem is that your `l3` reference moves along the newly created linked list, but thereby you lose the reference to the **first** node of that linked list. With `return l3` you always return the **last** node of that linked list, which then is a list with just one node.\r\n\r\nThere are some other issues in your code also:\r\n\r\n* If `l1` and `l2` are not of equal length the loop will use the value of the last node in the shortest list multiple times, *and* the same `l3.val` is overwritten, leading to wrong results. In other words, as soon as `l1.val` is **used** in a sum, `l1 = l1.next` must be executed to avoid double counting.\r\n\r\n* A new node is always created *ahead* of the next iteration of the loop, which makes the logic overly complex. \r\n\r\nProposed code:\r\n\r\n```\r\n    public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        ListNode l3 = new ListNode(); // This is a dummy node\r\n        ListNode tail = l3; // l3 will not move, but tail will.\r\n        int car = 0;\r\n\r\n        while (l1 != null || l2 != null || car &gt; 0) { // Work to do?\r\n            // Avoid code repetition and deal with all cases together\r\n            int sum = (l1 == null ? 0 : l1.val) + (l2 == null ? 0 : l2.val) + car;\r\n            // Leave l3 at the root, and only move tail\r\n            tail = tail.next = new ListNode(sum % 10);\r\n            car = sum / 10;\r\n            if (l1 != null) l1 = l1.next;\r\n            if (l2 != null) l2 = l2.next;\r\n        }\r\n        return l3.next; // Skip first dummy node\r\n    }\r\n```\r\n\r\nHere the initial node that is created for `l3` is not actually used to store a meaningful value. For every meaningful value a new node is created on-the-spot and at the end the dummy node is skipped in the returned linked list.","title":"Add two Numbers(Using ListNode)","body":"<p>The main problem is that your <code>l3</code> reference moves along the newly created linked list, but thereby you lose the reference to the <strong>first</strong> node of that linked list. With <code>return l3</code> you always return the <strong>last</strong> node of that linked list, which then is a list with just one node.</p>\n<p>There are some other issues in your code also:</p>\n<ul>\n<li><p>If <code>l1</code> and <code>l2</code> are not of equal length the loop will use the value of the last node in the shortest list multiple times, <em>and</em> the same <code>l3.val</code> is overwritten, leading to wrong results. In other words, as soon as <code>l1.val</code> is <strong>used</strong> in a sum, <code>l1 = l1.next</code> must be executed to avoid double counting.</p>\n</li>\n<li><p>A new node is always created <em>ahead</em> of the next iteration of the loop, which makes the logic overly complex.</p>\n</li>\n</ul>\n<p>Proposed code:</p>\n<pre><code>    public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        ListNode l3 = new ListNode(); // This is a dummy node\n        ListNode tail = l3; // l3 will not move, but tail will.\n        int car = 0;\n\n        while (l1 != null || l2 != null || car &gt; 0) { // Work to do?\n            // Avoid code repetition and deal with all cases together\n            int sum = (l1 == null ? 0 : l1.val) + (l2 == null ? 0 : l2.val) + car;\n            // Leave l3 at the root, and only move tail\n            tail = tail.next = new ListNode(sum % 10);\n            car = sum / 10;\n            if (l1 != null) l1 = l1.next;\n            if (l2 != null) l2 = l2.next;\n        }\n        return l3.next; // Skip first dummy node\n    }\n</code></pre>\n<p>Here the initial node that is created for <code>l3</code> is not actually used to store a meaningful value. For every meaningful value a new node is created on-the-spot and at the end the dummy node is skipped in the returned linked list.</p>\n"}],"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75706026,"answer_count":1,"score":1,"last_activity_date":1678549115,"creation_date":1678547588,"question_id":75705863,"body_markdown":" Given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list\r\n\r\n```\r\npublic class ListNode {\r\n    int val;\r\n    ListNode next;\r\n\r\n    ListNode() {\r\n    }\r\n\r\n    ListNode(int val) {\r\n        this.val = val;\r\n    }\r\n\r\n    ListNode(int val, ListNode next) {\r\n        this.val = val;\r\n        this.next = next;\r\n    }\r\n\r\n    public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        ListNode l3 = new ListNode();\r\n        int car = 0;\r\n\r\n        while (l1 != null &amp;&amp; l2 != null) {\r\n            if (l1.next == null &amp;&amp; l2.next != null) {\r\n                l3.val = (l2.val +l1.val+ car) % 10;\r\n                car = (l2.val+l1.val + car) / 10;\r\n                l2 = l2.next;\r\n\r\n            } else if (l2.next == null &amp;&amp; l1.next != null) {\r\n                l3.val = (l1.val +l2.val+ car) % 10;\r\n                car = (l1.val +l2.val+ car) /10;\r\n                l1 = l1.next;\r\n\r\n            } else {\r\n                l3.val = (l1.val + l2.val + car) % 10;\r\n               car = (l1.val + l2.val + car) / 10;\r\n\r\n                l1 = l1.next;\r\n                l2 = l2.next;\r\n                if (l1 != null || l2 != null) {\r\n                    l3.next = new ListNode();\r\n                    l3 = l3.next;\r\n                }\r\n                if (l1 == null &amp;&amp; l2 == null &amp;&amp; car != 0) {\r\n                    l3.next = new ListNode(car);\r\n                    l3 = l3.next;\r\n                }\r\n            }\r\n        }\r\n        return l3;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        ListNode ll = new ListNode(1);\r\n        ll.next = new ListNode(1);\r\n        //ll.next.next = new ListNode(3);\r\n        ListNode l2 = new ListNode(1);\r\n        l2.next = new ListNode(1);\r\n        ListNode l3 = addTwoNumbers(ll, l2);\r\n        ListNode temp = l3;\r\n        while (temp != null) {\r\n            System.out.print(temp.val+&quot;.&quot; );\r\n            temp = temp.next;\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nHere I noticed only one node of `l3` where there must be two ListNodes with their `l3.val`= 2 here second ListNode itself not created for l3 ,but as I saw while debugging the loop runs two times..explain me how..?\r\n\r\n","title":"Add two Numbers(Using ListNode)","body":"<p>Given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list</p>\n<pre><code>public class ListNode {\n    int val;\n    ListNode next;\n\n    ListNode() {\n    }\n\n    ListNode(int val) {\n        this.val = val;\n    }\n\n    ListNode(int val, ListNode next) {\n        this.val = val;\n        this.next = next;\n    }\n\n    public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        ListNode l3 = new ListNode();\n        int car = 0;\n\n        while (l1 != null &amp;&amp; l2 != null) {\n            if (l1.next == null &amp;&amp; l2.next != null) {\n                l3.val = (l2.val +l1.val+ car) % 10;\n                car = (l2.val+l1.val + car) / 10;\n                l2 = l2.next;\n\n            } else if (l2.next == null &amp;&amp; l1.next != null) {\n                l3.val = (l1.val +l2.val+ car) % 10;\n                car = (l1.val +l2.val+ car) /10;\n                l1 = l1.next;\n\n            } else {\n                l3.val = (l1.val + l2.val + car) % 10;\n               car = (l1.val + l2.val + car) / 10;\n\n                l1 = l1.next;\n                l2 = l2.next;\n                if (l1 != null || l2 != null) {\n                    l3.next = new ListNode();\n                    l3 = l3.next;\n                }\n                if (l1 == null &amp;&amp; l2 == null &amp;&amp; car != 0) {\n                    l3.next = new ListNode(car);\n                    l3 = l3.next;\n                }\n            }\n        }\n        return l3;\n    }\n\n\n    public static void main(String[] args) {\n        ListNode ll = new ListNode(1);\n        ll.next = new ListNode(1);\n        //ll.next.next = new ListNode(3);\n        ListNode l2 = new ListNode(1);\n        l2.next = new ListNode(1);\n        ListNode l3 = addTwoNumbers(ll, l2);\n        ListNode temp = l3;\n        while (temp != null) {\n            System.out.print(temp.val+&quot;.&quot; );\n            temp = temp.next;\n\n        }\n    }\n}\n</code></pre>\n<p>Here I noticed only one node of <code>l3</code> where there must be two ListNodes with their <code>l3.val</code>= 2 here second ListNode itself not created for l3 ,but as I saw while debugging the loop runs two times..explain me how..?</p>\n"},{"tags":["java","math","graph","processing","line-intersection"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1678519408,"post_id":75703394,"comment_id":133551749,"body_markdown":"&quot;I think, I would draw the line only with pixels, not lines oder bezier-curves and maybe store the drawn pixels in an ArrayList&quot; - any reason not to store the parameters of the curve? I&#39;d expect it to be simpler to calculate &quot;how close is the given pixel to the last drawn curve&quot; than to check every individual pixel. (And that way you don&#39;t get into issues of precision, anti-aliasing etc.)","body":"&quot;I think, I would draw the line only with pixels, not lines oder bezier-curves and maybe store the drawn pixels in an ArrayList&quot; - any reason not to store the parameters of the curve? I&#39;d expect it to be simpler to calculate &quot;how close is the given pixel to the last drawn curve&quot; than to check every individual pixel. (And that way you don&#39;t get into issues of precision, anti-aliasing etc.)"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678522332,"post_id":75703394,"comment_id":133552054,"body_markdown":"If what you are doing is a &quot;game&quot; then that implies rules and user interaction. I&#39;d get it to be able to run through it&#39;s processes required by some limited terms under control of the users controls before  trying to find fast optinised ways of coding.","body":"If what you are doing is a &quot;game&quot; then that implies rules and user interaction. I&#39;d get it to be able to run through it&#39;s processes required by some limited terms under control of the users controls before  trying to find fast optinised ways of coding."}],"answers":[{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678524217,"creation_date":1678524217,"answer_id":75703746,"question_id":75703394,"body_markdown":"&gt; a) The line must not cross itself or any other existing line. This would mean, I have to check **during** the drawing if the currently drawn pixel is already stored in the ArrayList.\r\n\r\nThe simplest solution to that would be to store all pixels in a bitmap, so you can look at that to learn whether a pixel is already coloured. Either use the same memory that&#39;s also used for rendering the lines, or a separate `BufferedImage` just for this purpose. If you make that black and white you can get 8 pixels into a byte, which might help with cache efficiency.\r\n\r\nNote that if your line drawing algorithm does diagonal jumps, then you might still have two lines crossing each other without sharing any pixels. Like this:\r\n\r\n```\r\n    2      1111\r\n     211111\r\n 111112\r\n1     2\r\n```\r\n\r\nSo in that case you might want to look around during a diagonal connection, and reject it if both of the pixels of the opposite diagonal are already coloured.\r\n\r\n&gt; b) The player must place a dot or small circle somewhere on its last drawn line and only on this one. So may be I should use additionaly an ArrayList for every drawn line? And every Line consist of an ArrayList of pixels?\r\n\r\nThat&#39;s one option. Another option would be to have a second buffered image just for the pixels of the current line. In cases where the line comprises many pixels but only a small neighborhood is candidates for the circle placement, this would make finding the nearest a bit cheaper. The benefit would be cancelled by the overhead needed to manage that extra picture, though, so it would be most useful if you need multiple circles placed between line drawings.\r\n\r\n&gt; Are there any classic approaches to doing it somehow efficiently?\r\n\r\nGeneral technique might be to not be afraid of duplicate data. If representing the same information as a list of positions is better for some tasks, and as a black and white image better for others, then feel free to have both and make sure to keep them in sync, unless that in itself is more costly than the gains from the second data structure.\r\n\r\n&gt; Are there any mathematical approaches?\r\n\r\nThere is things you could use for finding nearest points. Quad trees come to mind. But that feels like overkill for your user case. If you decide to go for a parameterized description of your lines instead of pixels then expressing their intersections would definitely be amenable to mathematical considerations. A simple thing like an orientation predicate that can tell you whether three points are arranged in a clockwise or counterclockwise order can go a long way in checking for intersection of line segments.","title":"Tips for calculating, if a dot is on a curved line and if 2 curved lines intersects","body":"<blockquote>\n<p>a) The line must not cross itself or any other existing line. This would mean, I have to check <strong>during</strong> the drawing if the currently drawn pixel is already stored in the ArrayList.</p>\n</blockquote>\n<p>The simplest solution to that would be to store all pixels in a bitmap, so you can look at that to learn whether a pixel is already coloured. Either use the same memory that's also used for rendering the lines, or a separate <code>BufferedImage</code> just for this purpose. If you make that black and white you can get 8 pixels into a byte, which might help with cache efficiency.</p>\n<p>Note that if your line drawing algorithm does diagonal jumps, then you might still have two lines crossing each other without sharing any pixels. Like this:</p>\n<pre><code>    2      1111\n     211111\n 111112\n1     2\n</code></pre>\n<p>So in that case you might want to look around during a diagonal connection, and reject it if both of the pixels of the opposite diagonal are already coloured.</p>\n<blockquote>\n<p>b) The player must place a dot or small circle somewhere on its last drawn line and only on this one. So may be I should use additionaly an ArrayList for every drawn line? And every Line consist of an ArrayList of pixels?</p>\n</blockquote>\n<p>That's one option. Another option would be to have a second buffered image just for the pixels of the current line. In cases where the line comprises many pixels but only a small neighborhood is candidates for the circle placement, this would make finding the nearest a bit cheaper. The benefit would be cancelled by the overhead needed to manage that extra picture, though, so it would be most useful if you need multiple circles placed between line drawings.</p>\n<blockquote>\n<p>Are there any classic approaches to doing it somehow efficiently?</p>\n</blockquote>\n<p>General technique might be to not be afraid of duplicate data. If representing the same information as a list of positions is better for some tasks, and as a black and white image better for others, then feel free to have both and make sure to keep them in sync, unless that in itself is more costly than the gains from the second data structure.</p>\n<blockquote>\n<p>Are there any mathematical approaches?</p>\n</blockquote>\n<p>There is things you could use for finding nearest points. Quad trees come to mind. But that feels like overkill for your user case. If you decide to go for a parameterized description of your lines instead of pixels then expressing their intersections would definitely be amenable to mathematical considerations. A simple thing like an orientation predicate that can tell you whether three points are arranged in a clockwise or counterclockwise order can go a long way in checking for intersection of line segments.</p>\n"}],"owner":{"account_id":11328239,"reputation":1,"user_id":8306461,"display_name":"Ingo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678548761,"creation_date":1678518991,"question_id":75703394,"body_markdown":"I’d like to program a game in processing (Java) in which the player draws a possibly curved line and next makes a dot on this line. I think, I would draw the line only with pixels, not lines oder bezier-curves and maybe store the drawn pixels in an ArrayList&lt;Pixel&gt;. But there are 2 problems I&#39;m not sure how to solve **fast**:\r\n\r\na) The line must not cross itself or any other existing line. This would mean, I have to check **during** the drawing if the currently drawn pixel is already stored in the ArrayList&lt;Pixel&gt;. \r\n\r\nb) The player must place a dot or small circle somewhere on its last drawn line and only on this one. So may be I should use additionaly an ArrayList&lt;Lines&gt; for every drawn line? And every Line consist of an ArrayList of pixels? \r\n\r\nAre there any classic approaches to doing it somehow efficiently? Are there any mathematical approaches?\r\n\r\nThanks in advance, Ingo\r\n\r\nAny tips on a suitable data structure, mathematics or source code would be great.\r\n\r\nAddition: I tried working with only the pixels, but I get only holes where the lines intersect:\r\n```\r\nvoid setup() {\r\n  size(600, 400);\r\n  background(0);\r\n  stroke(255);\r\n  strokeWeight(3);\r\n}\r\n\r\nvoid draw() {}\r\n\r\nvoid mouseDragged() {\r\n  if (pmouseX!=0&amp;&amp;pmouseY!=0) {\r\n    loadPixels();\r\n    int i=(mouseY-1)*width+mouseX;\r\n    if (brightness(pixels[i])==0) {\r\n      line(pmouseX, pmouseY, mouseX, mouseY);\r\n    }\r\n  }\r\n}\r\n\r\n```","title":"Tips for calculating, if a dot is on a curved line and if 2 curved lines intersects","body":"<p>I’d like to program a game in processing (Java) in which the player draws a possibly curved line and next makes a dot on this line. I think, I would draw the line only with pixels, not lines oder bezier-curves and maybe store the drawn pixels in an ArrayList. But there are 2 problems I'm not sure how to solve <strong>fast</strong>:</p>\n<p>a) The line must not cross itself or any other existing line. This would mean, I have to check <strong>during</strong> the drawing if the currently drawn pixel is already stored in the ArrayList.</p>\n<p>b) The player must place a dot or small circle somewhere on its last drawn line and only on this one. So may be I should use additionaly an ArrayList for every drawn line? And every Line consist of an ArrayList of pixels?</p>\n<p>Are there any classic approaches to doing it somehow efficiently? Are there any mathematical approaches?</p>\n<p>Thanks in advance, Ingo</p>\n<p>Any tips on a suitable data structure, mathematics or source code would be great.</p>\n<p>Addition: I tried working with only the pixels, but I get only holes where the lines intersect:</p>\n<pre><code>void setup() {\n  size(600, 400);\n  background(0);\n  stroke(255);\n  strokeWeight(3);\n}\n\nvoid draw() {}\n\nvoid mouseDragged() {\n  if (pmouseX!=0&amp;&amp;pmouseY!=0) {\n    loadPixels();\n    int i=(mouseY-1)*width+mouseX;\n    if (brightness(pixels[i])==0) {\n      line(pmouseX, pmouseY, mouseX, mouseY);\n    }\n  }\n}\n\n</code></pre>\n"},{"tags":["java","gradle","cxf","java-11"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678548260,"creation_date":1678548260,"answer_id":75705929,"question_id":75704260,"body_markdown":"The issue is that while generating java from wsdl you are adding all libraries to classpath `classpath configurations.wsdl2java`. But while compiling those libraries are not in the classpath so you get those errors.\r\n\r\nYou need to adjust `dependencies` section as follow.\r\n```\r\ndependencies {\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n\timplementation &#39;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&#39;\r\n    wsdl2java &#39;com.sun.xml.bind:jaxb-ri:4.0.2&#39;\r\n    wsdl2java &#39;com.sun.xml.bind:jaxb-xjc:4.0.2&#39;\r\n    wsdl2java &#39;com.sun.xml.bind:jaxb-core:4.0.2&#39;\r\n    wsdl2java &#39;com.sun.xml.bind:jaxb-impl:4.0.2&#39;\r\n    wsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-core:4.0.0&#39;\r\n    wsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:4.0.0&#39;\r\n    wsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:4.0.0&#39;\r\n}\r\n```\r\n\r\nAs `jakarta.xml.bind-api` and `jakarta.xml.ws-api` libraries don&#39;t need while generating java classes. But those are required while compiling. So added those 2 as implementation dependencies which adds to Java compile and runtime classpaths.","title":"using Gradle, Apache cxf WSDLToJava generated source code will not compile - missing jakarta packages but dependecies have been referenced","body":"<p>The issue is that while generating java from wsdl you are adding all libraries to classpath <code>classpath configurations.wsdl2java</code>. But while compiling those libraries are not in the classpath so you get those errors.</p>\n<p>You need to adjust <code>dependencies</code> section as follow.</p>\n<pre><code>dependencies {\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    implementation 'jakarta.xml.ws:jakarta.xml.ws-api:4.0.0'\n    wsdl2java 'com.sun.xml.bind:jaxb-ri:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-xjc:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-core:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-impl:4.0.2'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-core:4.0.0'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:4.0.0'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:4.0.0'\n}\n</code></pre>\n<p>As <code>jakarta.xml.bind-api</code> and <code>jakarta.xml.ws-api</code> libraries don't need while generating java classes. But those are required while compiling. So added those 2 as implementation dependencies which adds to Java compile and runtime classpaths.</p>\n"}],"owner":{"account_id":1525586,"reputation":151,"user_id":1424124,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75705929,"answer_count":1,"score":3,"last_activity_date":1678548260,"creation_date":1678530410,"question_id":75704260,"body_markdown":"Jakarta packages are not found when the generated Java is compiled.\r\nJakarta dependencies are referenced in build.gradle for the module:\r\n```\r\nplugins {\r\n\tid &#39;java-library&#39;\r\n}\r\nconfigurations {\r\n\twsdl2java\r\n}\r\n\r\ndependencies {\r\n\twsdl2java &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-ri:4.0.2&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-xjc:4.0.2&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-core:4.0.2&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-impl:4.0.2&#39;\r\n\twsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-core:4.0.0&#39;\r\n\twsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:4.0.0&#39;\r\n\twsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:4.0.0&#39;\r\n}\r\n```\r\n\r\nGradle to generate the code includes\r\n```\r\nclasspath configurations.wsdl2java\r\n```\r\n\r\nResulting example code includes imports that do not resolve\r\n```\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlElement;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\n```\r\n\r\nWhen the task attempts to compile, error is:\r\n```\r\nerror: package jakarta.xml.bind.annotation does not exist\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\n```\r\n\r\n\r\nYet, all these are supposed to be included in\r\n```\r\njakarta.xml.bind:jakarta.xml.bind-api:4.0.0\r\n```\r\n\r\nFull build.gradle file is:\r\n```\r\nplugins {\r\n\tid &#39;java-library&#39;\r\n}\r\nconfigurations {\r\n\twsdl2java\r\n}\r\n\r\ndependencies {\r\n\twsdl2java &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-ri:4.0.2&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-xjc:4.0.2&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-core:4.0.2&#39;\r\n\twsdl2java &#39;com.sun.xml.bind:jaxb-impl:4.0.2&#39;\r\n\twsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-core:4.0.0&#39;\r\n\twsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:4.0.0&#39;\r\n\twsdl2java &#39;org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:4.0.0&#39;\r\n}\r\n\r\ndef allmyWsdl = task allmyWsdl {\r\n\tString[] wsdls = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;];\r\n\r\n\twsdls.each {name-&gt;\r\n\t\tdef thing = task &quot;myWsdl${name}&quot; (type: JavaExec) {\r\n\t\t\t// Defining these mean the task can run incrementally\r\n\t\t\tinputs.files(&quot;${projectDir}/src/main/resources&quot;)\r\n\t\t\toutputs.dir(&quot;${projectDir}/out/generated-sources/cxf-ws&quot;)\r\n\r\n\t\t\tString wsdl = &quot;${projectDir}/src/main/resources/wsdls/${name}.wsdl&quot;\r\n\t\t\tString genSrcDir = &quot;${projectDir}/out/generated-sources/cxf-ws&quot;\r\n\r\n\t\t\tinputs.file wsdl\r\n\t\t\toutputs.dir genSrcDir\r\n\r\n\t\t\tclasspath configurations.wsdl2java\r\n\t\t\tmain &quot;org.apache.cxf.tools.wsdlto.WSDLToJava&quot;\r\n\r\n\t\t\targs &#39;-client&#39;, &#39;-impl&#39;, &#39;-exsh&#39;, &#39;true&#39;, &#39;-noAddressBinding&#39;, &#39;-autoNameResolution&#39;, &quot;-wsdlLocation&quot;, &quot;classpath:wsdls/${name}.wsdl&quot;, &#39;-p&#39;, &quot;com.my.webservices.${name}&quot;, &#39;-encoding&#39;, &#39;UTF-8&#39;, &#39;-d&#39;, genSrcDir, wsdl\r\n\r\n\t\t\tfinal OutputStream baos = new ByteArrayOutputStream()\r\n\t\t\terrorOutput = new OutputStream() {\r\n\t\t\t\tvoid write(int b) {System.err.write(b); baos.write(b) }\r\n\t\t\t\tvoid flush() { System.err.flush(); baos.flush() }\r\n\t\t\t\tvoid close() { System.err.close(); baos.close() }\r\n\t\t\t}\r\n\r\n\t\t\tdoLast {\r\n\t\t\t\tdef str = baos.toString()\r\n\t\t\t\tif (str.contains(&#39;Usage : wsdl2java&#39;) || str.contains(&#39;WSDLToJava Error&#39;)) {\r\n\t\t\t\t\tthrow new TaskExecutionException(tasks[name],\r\n\t\t\t\t\t\t\tnew IOException(&#39;Apache CXF WSDLToJava has failed. Please see System.err output.&#39;))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nallmyWsdl.dependsOn(tasks.matching { task -&gt; task.name.startsWith( &#39;myWsdl&#39; ) } )\r\ncompileJava.dependsOn += allmyWsdl\r\nsourceSets.main.java.srcDirs += &#39;out/generated-sources/cxf-ws&#39;\r\n```\r\n\r\n","title":"using Gradle, Apache cxf WSDLToJava generated source code will not compile - missing jakarta packages but dependecies have been referenced","body":"<p>Jakarta packages are not found when the generated Java is compiled.\nJakarta dependencies are referenced in build.gradle for the module:</p>\n<pre><code>plugins {\n    id 'java-library'\n}\nconfigurations {\n    wsdl2java\n}\n\ndependencies {\n    wsdl2java 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    wsdl2java 'com.sun.xml.bind:jaxb-ri:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-xjc:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-core:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-impl:4.0.2'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-core:4.0.0'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:4.0.0'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:4.0.0'\n}\n</code></pre>\n<p>Gradle to generate the code includes</p>\n<pre><code>classpath configurations.wsdl2java\n</code></pre>\n<p>Resulting example code includes imports that do not resolve</p>\n<pre><code>import jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlType;\n</code></pre>\n<p>When the task attempts to compile, error is:</p>\n<pre><code>error: package jakarta.xml.bind.annotation does not exist\nimport jakarta.xml.bind.annotation.XmlAccessType;\n</code></pre>\n<p>Yet, all these are supposed to be included in</p>\n<pre><code>jakarta.xml.bind:jakarta.xml.bind-api:4.0.0\n</code></pre>\n<p>Full build.gradle file is:</p>\n<pre><code>plugins {\n    id 'java-library'\n}\nconfigurations {\n    wsdl2java\n}\n\ndependencies {\n    wsdl2java 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    wsdl2java 'com.sun.xml.bind:jaxb-ri:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-xjc:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-core:4.0.2'\n    wsdl2java 'com.sun.xml.bind:jaxb-impl:4.0.2'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-core:4.0.0'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:4.0.0'\n    wsdl2java 'org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:4.0.0'\n}\n\ndef allmyWsdl = task allmyWsdl {\n    String[] wsdls = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;];\n\n    wsdls.each {name-&gt;\n        def thing = task &quot;myWsdl${name}&quot; (type: JavaExec) {\n            // Defining these mean the task can run incrementally\n            inputs.files(&quot;${projectDir}/src/main/resources&quot;)\n            outputs.dir(&quot;${projectDir}/out/generated-sources/cxf-ws&quot;)\n\n            String wsdl = &quot;${projectDir}/src/main/resources/wsdls/${name}.wsdl&quot;\n            String genSrcDir = &quot;${projectDir}/out/generated-sources/cxf-ws&quot;\n\n            inputs.file wsdl\n            outputs.dir genSrcDir\n\n            classpath configurations.wsdl2java\n            main &quot;org.apache.cxf.tools.wsdlto.WSDLToJava&quot;\n\n            args '-client', '-impl', '-exsh', 'true', '-noAddressBinding', '-autoNameResolution', &quot;-wsdlLocation&quot;, &quot;classpath:wsdls/${name}.wsdl&quot;, '-p', &quot;com.my.webservices.${name}&quot;, '-encoding', 'UTF-8', '-d', genSrcDir, wsdl\n\n            final OutputStream baos = new ByteArrayOutputStream()\n            errorOutput = new OutputStream() {\n                void write(int b) {System.err.write(b); baos.write(b) }\n                void flush() { System.err.flush(); baos.flush() }\n                void close() { System.err.close(); baos.close() }\n            }\n\n            doLast {\n                def str = baos.toString()\n                if (str.contains('Usage : wsdl2java') || str.contains('WSDLToJava Error')) {\n                    throw new TaskExecutionException(tasks[name],\n                            new IOException('Apache CXF WSDLToJava has failed. Please see System.err output.'))\n                }\n            }\n        }\n    }\n}\n\nallmyWsdl.dependsOn(tasks.matching { task -&gt; task.name.startsWith( 'myWsdl' ) } )\ncompileJava.dependsOn += allmyWsdl\nsourceSets.main.java.srcDirs += 'out/generated-sources/cxf-ws'\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17598428,"reputation":36,"user_id":12768914,"display_name":"Anderson Botelho Cerqueira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579800865,"creation_date":1579800865,"answer_id":59884248,"question_id":59883349,"body_markdown":"Probably spring security is activated in your project, by default csrf protection is enabled when you use spring security, so you need to send csrf parameters in request header or deactivate the csrf.\r\n\r\n**Here you can see how to send the header parameters:** https://stackoverflow.com/questions/24719823/spring-mvc-put-request-returns-405-method-not-allowed\r\n\r\n**And here how to deactivate the csrf:** https://stackoverflow.com/questions/24655203/enable-http-request-post-in-spring-boot\r\n\r\n**Use the second option only for development!** You can make your application unsafe deactivating the crsf protection.\r\n","title":"How do you update a single table column in spring boot without updating the rest of the attributes?","body":"<p>Probably spring security is activated in your project, by default csrf protection is enabled when you use spring security, so you need to send csrf parameters in request header or deactivate the csrf.</p>\n\n<p><strong>Here you can see how to send the header parameters:</strong> <a href=\"https://stackoverflow.com/questions/24719823/spring-mvc-put-request-returns-405-method-not-allowed\">Spring MVC PUT Request returns 405 Method Not Allowed</a></p>\n\n<p><strong>And here how to deactivate the csrf:</strong> <a href=\"https://stackoverflow.com/questions/24655203/enable-http-request-post-in-spring-boot\">Enable HTTP Request POST in Spring Boot</a></p>\n\n<p><strong>Use the second option only for development!</strong> You can make your application unsafe deactivating the crsf protection.</p>\n"}],"owner":{"account_id":8430169,"reputation":123,"user_id":6326194,"display_name":"Fred Kibuchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678548057,"creation_date":1579797716,"question_id":59883349,"body_markdown":"I&#39;m developing a car sales system using spring boot. When a car dealer posts a car on sale, the car status is set to PENDING by default and the admin should approve the post. I want to update this car status without updating the other attributes of a car(milleage, price, model, etc). So i have tried using put but i get an error that POST is not allowed. Here is my code soo far. Any insights for something similar to mysql statement set columnName = newValue where id = id that my code is fetching using @PathVariable.\r\n\r\n**Product Repository (for updating a single column)**\r\n\r\n    @Modifying\r\n    @Query(value = &quot;update Product p set p.status = :status where  p.carId= :carId&quot;)\r\n    void setUpdateStatus (@Param(&quot;status&quot;) String status, @Param(&quot;carId&quot;) Long carId); \r\n\r\n**Product Service method to update status.**\r\n```\r\n   public void updateStatus( Long carId){\r\n   productRepository.setUpdateStatus(&quot;APPROVED&quot;,carId);\r\n   }\r\n```\r\n**Controller Method that is using @PathVariable to fetch the product id from view url.**\r\n\r\n\r\n    @PutMapping(&quot;/updateStatus/{carId}&quot;)\r\n    public void updateStatus(@PathVariable(&quot;carId&quot;) Long carId){\r\n        productService.updateStatus(carId);\r\n\r\n    }\r\n**This is my thymeleaf view part that is responsible for the url that i&#39;m fetching the id from.**\r\n\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{&#39;/updateStatus/&#39;+${pending.carId}}&quot; th:method=&quot;put&quot; &gt;\r\n                    &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;put&quot; /&gt;\r\n                    &lt;button type=&quot;submit&quot; id=&quot;Approve&quot; name=&quot;Approve&quot;&gt; &lt;/button&gt;\r\n     &lt;/form&gt;\r\nI expected the id to be used to update the status to APPROVED. but i&#39;m getting the error mehtod POST not allowed. As you can see from the above my method=&quot;put&quot; not POST. I don&#39;t know what is going wrong. ","title":"How do you update a single table column in spring boot without updating the rest of the attributes?","body":"<p>I'm developing a car sales system using spring boot. When a car dealer posts a car on sale, the car status is set to PENDING by default and the admin should approve the post. I want to update this car status without updating the other attributes of a car(milleage, price, model, etc). So i have tried using put but i get an error that POST is not allowed. Here is my code soo far. Any insights for something similar to mysql statement set columnName = newValue where id = id that my code is fetching using @PathVariable.</p>\n\n<p><strong>Product Repository (for updating a single column)</strong></p>\n\n<pre><code>@Modifying\n@Query(value = \"update Product p set p.status = :status where  p.carId= :carId\")\nvoid setUpdateStatus (@Param(\"status\") String status, @Param(\"carId\") Long carId); \n</code></pre>\n\n<p><strong>Product Service method to update status.</strong></p>\n\n<pre><code>   public void updateStatus( Long carId){\n   productRepository.setUpdateStatus(\"APPROVED\",carId);\n   }\n</code></pre>\n\n<p><strong>Controller Method that is using @PathVariable to fetch the product id from view url.</strong></p>\n\n<pre><code>@PutMapping(\"/updateStatus/{carId}\")\npublic void updateStatus(@PathVariable(\"carId\") Long carId){\n    productService.updateStatus(carId);\n\n}\n</code></pre>\n\n<p><strong>This is my thymeleaf view part that is responsible for the url that i'm fetching the id from.</strong></p>\n\n<pre><code>&lt;form action=\"#\" th:action=\"@{'/updateStatus/'+${pending.carId}}\" th:method=\"put\" &gt;\n                &lt;input type=\"hidden\" name=\"_method\" value=\"put\" /&gt;\n                &lt;button type=\"submit\" id=\"Approve\" name=\"Approve\"&gt; &lt;/button&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>I expected the id to be used to update the status to APPROVED. but i'm getting the error mehtod POST not allowed. As you can see from the above my method=\"put\" not POST. I don't know what is going wrong. </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"score":0,"creation_date":1518595113,"post_id":48782210,"comment_id":84565692,"body_markdown":"You pass an arraylist to the spinner&#39;s adapter. Change the content of the arraylist based on your logic and then call notifydatasetchanged on the adapter. What have you tried so far?","body":"You pass an arraylist to the spinner&#39;s adapter. Change the content of the arraylist based on your logic and then call notifydatasetchanged on the adapter. What have you tried so far?"},{"owner":{"account_id":7574015,"reputation":2216,"user_id":5746918,"accept_rate":100,"display_name":"Ishita Sinha"},"score":0,"creation_date":1518595251,"post_id":48782210,"comment_id":84565755,"body_markdown":"`spinner.setAdapter()`? Descriptions are no good for others to understand your issue. Please show some code?","body":"<code>spinner.setAdapter()</code>? Descriptions are no good for others to understand your issue. Please show some code?"},{"owner":{"account_id":12557515,"reputation":47,"user_id":9136627,"accept_rate":100,"display_name":"NegNeg64"},"score":0,"creation_date":1518595528,"post_id":48782210,"comment_id":84565869,"body_markdown":"I posted some of it, Thanks!","body":"I posted some of it, Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10640537,"reputation":2697,"user_id":7835745,"display_name":"Abdul Kawee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1518596227,"creation_date":1518595243,"answer_id":48782273,"question_id":48782210,"body_markdown":"Okay here it is \r\n\r\n    List&lt;String&gt; timeSlots = new ArrayList&lt;String&gt;();\r\n    ArrayAdapter&lt;String&gt; adp;\r\n    Spinner spinnerTime;\r\n\r\nmy arrayList of data\r\n\r\n      if (hour &gt;=9 &amp;&amp; hour &lt;11){\r\n            timeSlots.add(&quot;XYZ&quot;);\r\n        }\r\n\r\n        else if (hour &gt;= 11 &amp;&amp; hour &lt; 13){\r\n            Log.d(TAG ,&quot;Condition 1&quot;);\r\n               timeSlots.add(&quot;YZa&quot;);\r\n               timeSlots.add(&quot;XZa&quot;);\r\n        }\r\n        else if ( hour &gt;= 13 &amp;&amp; hour &lt;15){\r\n            Log.d(TAG ,&quot;Condition 2&quot;);\r\n            timeSlots.add(&quot;YZa&quot;);\r\n            timeSlots.add(&quot;XZa&quot;);\r\n            timeSlots.add(&quot;YZaZ&quot;);\r\n        }\r\n\r\n\r\n    adp = new ArrayAdapter&lt;String&gt;\r\n                (this,android.R.layout.simple_dropdown_item_1line, timeSlots);\r\n    spinnerTime.setAdapter(adp);\r\n\r\nSo you just have to set the data to `adapter`.\r\n\r\nHope this helps.\r\n","title":"Can&#39;t understand how to load Spinner with different items each time dynamically","body":"<p>Okay here it is </p>\n\n<pre><code>List&lt;String&gt; timeSlots = new ArrayList&lt;String&gt;();\nArrayAdapter&lt;String&gt; adp;\nSpinner spinnerTime;\n</code></pre>\n\n<p>my arrayList of data</p>\n\n<pre><code>  if (hour &gt;=9 &amp;&amp; hour &lt;11){\n        timeSlots.add(\"XYZ\");\n    }\n\n    else if (hour &gt;= 11 &amp;&amp; hour &lt; 13){\n        Log.d(TAG ,\"Condition 1\");\n           timeSlots.add(\"YZa\");\n           timeSlots.add(\"XZa\");\n    }\n    else if ( hour &gt;= 13 &amp;&amp; hour &lt;15){\n        Log.d(TAG ,\"Condition 2\");\n        timeSlots.add(\"YZa\");\n        timeSlots.add(\"XZa\");\n        timeSlots.add(\"YZaZ\");\n    }\n\n\nadp = new ArrayAdapter&lt;String&gt;\n            (this,android.R.layout.simple_dropdown_item_1line, timeSlots);\nspinnerTime.setAdapter(adp);\n</code></pre>\n\n<p>So you just have to set the data to <code>adapter</code>.</p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":12557515,"reputation":47,"user_id":9136627,"accept_rate":100,"display_name":"NegNeg64"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48782273,"answer_count":1,"score":0,"last_activity_date":1678548020,"creation_date":1518594968,"question_id":48782210,"body_markdown":"I&#39;m trying to load a spinner/ drop-down list with different items based on the category that was chosen through the navigation drawer, in addition to that it must be dynamically based on the amount and values of string that are related to each category.\r\n\r\nI already have the strings and those are constantly changing by people actions online.\r\n\r\nI have the strings, I know how to access those each time, But what I can&#39;t realize after searching through the web for hours, is simply that:  \r\nHow to load the same spinner with different strings and different amount of string each time, without any constant values?\r\n\r\nSorry if this question is &quot;dumb&quot;, I hope you could help, Thank you!\r\n\r\nthis is what I tried, from an example online but I got an error on &quot;this&quot; where I wrote &quot;Already got an error here&quot;.\r\nThis isn&#39;t what I wanted but it was a start, this didn&#39;t work though...\r\n\r\nUpdate: I will explain everything so you could understand better because I realize I wasn&#39;t clear...\r\nOkay I have a PHP website (based on WordPress if that matters to you), and people can upload post and choose tags, I save those tags in an xml file with the entire posts data through a service that&#39;s refreshes every time the app is created.\r\n\r\nThe thing is, people are creating new tags, so I have new strings and items to choose to deal with.\r\nI know and can access those tags easily, but I want to make a dropdown of those tags.\r\n\r\nEach category from menu deals with a different JSON and contains different tags, I want make an asynctask that check which post contains the selected tag, that I know how to do.\r\n\r\nBut I don&#39;t know how to fill the list with different tags, so when I will press on one option in the dropdown list, it will send the asynctast its value.\r\nHow can I do that?\r\n\r\n    public class MainActivity extends AppCompatActivity\r\n        implements NavigationView.OnNavigationItemSelectedListener,  View.OnClickListener {\r\n\r\n \r\n    Spinner spinner;\r\n    EditText searchFor;\r\n    Button SearchButton;\r\n    String[] itemsToChoose;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        \r\n        spinner = (Spinner) findViewById(R.id.spinner);\r\n\r\n        spinner = (Spinner)findViewById(R.id.spinner);\r\n        ArrayAdapter&lt;String&gt;adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this,\r\n                android.R.layout.simple_spinner_item,itemsToChoose);\r\n\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n        spinner.setOnItemSelectedListener(this); //Already got an error here\r\n\r\n        searchFor = (EditText) findViewById(R.id.input_search);\r\n        SearchButton = (Button) findViewById(R.id.search_button);\r\n        SearchButton.setOnClickListener(this);\r\n\r\n\r\n\r\n        Intent intent = new Intent(this,MyIntentService.class);\r\n        startService(intent);\r\n\r\n        Intent intentLogin = new Intent(MainActivity.this, LoginActivityU.class);\r\n        startActivityForResult(intentLogin, 0);\r\n        firstLogin = false;\r\n        sp=getSharedPreferences(&quot;JsonData&quot;, 0);\r\n        check = sp.getString(&quot;trompim&quot;, null);\r\n\r\n\r\n\r\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n    }\r\n\r\n\r\n\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View v, int position, long id) {\r\n\r\n      \r\n\r\n        }\r\n    }","title":"Can&#39;t understand how to load Spinner with different items each time dynamically","body":"<p>I'm trying to load a spinner/ drop-down list with different items based on the category that was chosen through the navigation drawer, in addition to that it must be dynamically based on the amount and values of string that are related to each category.</p>\n<p>I already have the strings and those are constantly changing by people actions online.</p>\n<p>I have the strings, I know how to access those each time, But what I can't realize after searching through the web for hours, is simply that:<br />\nHow to load the same spinner with different strings and different amount of string each time, without any constant values?</p>\n<p>Sorry if this question is &quot;dumb&quot;, I hope you could help, Thank you!</p>\n<p>this is what I tried, from an example online but I got an error on &quot;this&quot; where I wrote &quot;Already got an error here&quot;.\nThis isn't what I wanted but it was a start, this didn't work though...</p>\n<p>Update: I will explain everything so you could understand better because I realize I wasn't clear...\nOkay I have a PHP website (based on WordPress if that matters to you), and people can upload post and choose tags, I save those tags in an xml file with the entire posts data through a service that's refreshes every time the app is created.</p>\n<p>The thing is, people are creating new tags, so I have new strings and items to choose to deal with.\nI know and can access those tags easily, but I want to make a dropdown of those tags.</p>\n<p>Each category from menu deals with a different JSON and contains different tags, I want make an asynctask that check which post contains the selected tag, that I know how to do.</p>\n<p>But I don't know how to fill the list with different tags, so when I will press on one option in the dropdown list, it will send the asynctast its value.\nHow can I do that?</p>\n<pre><code>public class MainActivity extends AppCompatActivity\n    implements NavigationView.OnNavigationItemSelectedListener,  View.OnClickListener {\n\n\nSpinner spinner;\nEditText searchFor;\nButton SearchButton;\nString[] itemsToChoose;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n    \n    spinner = (Spinner) findViewById(R.id.spinner);\n\n    spinner = (Spinner)findViewById(R.id.spinner);\n    ArrayAdapter&lt;String&gt;adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this,\n            android.R.layout.simple_spinner_item,itemsToChoose);\n\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.setAdapter(adapter);\n    spinner.setOnItemSelectedListener(this); //Already got an error here\n\n    searchFor = (EditText) findViewById(R.id.input_search);\n    SearchButton = (Button) findViewById(R.id.search_button);\n    SearchButton.setOnClickListener(this);\n\n\n\n    Intent intent = new Intent(this,MyIntentService.class);\n    startService(intent);\n\n    Intent intentLogin = new Intent(MainActivity.this, LoginActivityU.class);\n    startActivityForResult(intentLogin, 0);\n    firstLogin = false;\n    sp=getSharedPreferences(&quot;JsonData&quot;, 0);\n    check = sp.getString(&quot;trompim&quot;, null);\n\n\n\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n    drawer.addDrawerListener(toggle);\n    toggle.syncState();\n\n    NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\n    navigationView.setNavigationItemSelectedListener(this);\n}\n\n\n\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View v, int position, long id) {\n\n  \n\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","docker","docker-compose","application.properties"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678479918,"post_id":75699496,"comment_id":133547197,"body_markdown":"Fix the original problem.  The error you report seems to be the error from your futile attempt to fix the original problem, not the error from the original problem itself.  Put things back the way they were before, then tell us what error you get from that.","body":"Fix the original problem.  The error you report seems to be the error from your futile attempt to fix the original problem, not the error from the original problem itself.  Put things back the way they were before, then tell us what error you get from that."},{"owner":{"account_id":27742466,"reputation":1,"user_id":21178654,"display_name":"AidarKhaibulov"},"score":0,"creation_date":1678530766,"post_id":75699496,"comment_id":133553005,"body_markdown":"What do you mean by fixing original problem?This is the same condition when i get an error, i just figured out that i need to fix hostname, i also figured out where to fix this.\ni tried spring.datasource.url=jdbc:postgresql://postgres:5432/agregator  instead of spring.datasource.url=jdbc:postgresql://localhost:5432/agregator but in vain.\n\nMy problem still is that i can&#39;t run docker container, it crashes because it can&#39;t connect to localhost:5432 database","body":"What do you mean by fixing original problem?This is the same condition when i get an error, i just figured out that i need to fix hostname, i also figured out where to fix this. i tried spring.datasource.url=jdbc:postgresql://postgres:5432/agrega&zwnj;&#8203;tor  instead of spring.datasource.url=jdbc:postgresql://localhost:5432/agreg&zwnj;&#8203;ator but in vain.  My problem still is that i can&#39;t run docker container, it crashes because it can&#39;t connect to localhost:5432 database"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678543433,"post_id":75699496,"comment_id":133554871,"body_markdown":"Are you saying that even when you have it configured to connect to &#39;postgres&#39;, it still complains that it can&#39;t connect to &#39;localhost&#39;?  In that case, it seems most likely that the configuration file you are changing is not the one being used.","body":"Are you saying that even when you have it configured to connect to &#39;postgres&#39;, it still complains that it can&#39;t connect to &#39;localhost&#39;?  In that case, it seems most likely that the configuration file you are changing is not the one being used."},{"owner":{"account_id":27742466,"reputation":1,"user_id":21178654,"display_name":"AidarKhaibulov"},"score":0,"creation_date":1678546211,"post_id":75699496,"comment_id":133555300,"body_markdown":"No, i can&#39;t build my project if i configure postgres instead of localhost. That&#39;s why i can&#39;t create image with new hostname path. My question is how to configure hostname correctly to be able to connect both locally and via running docker container","body":"No, i can&#39;t build my project if i configure postgres instead of localhost. That&#39;s why i can&#39;t create image with new hostname path. My question is how to configure hostname correctly to be able to connect both locally and via running docker container"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678546792,"post_id":75699496,"comment_id":133555397,"body_markdown":"And my question is, what error do you get?  &quot;can&#39;t build my project&quot; is not an error message.","body":"And my question is, what error do you get?  &quot;can&#39;t build my project&quot; is not an error message."},{"owner":{"account_id":27742466,"reputation":1,"user_id":21178654,"display_name":"AidarKhaibulov"},"score":0,"creation_date":1678547127,"post_id":75699496,"comment_id":133555453,"body_markdown":"It&#39;s quite a lot of messages:\nHHH000342: Could not obtain connection to query metadata\norg.postgresql.util.PSQLException: Ошибка при попытке подсоединения.\nCaused by: java.net.UnknownHostException: postgres\n\nif i understand it correctly this happens because of my db has (jdbc:postgresql://localhost:5432/agregator) url and i&#39;m trying to connect by (jdbc:postgresql://postgres:5432/agregator)","body":"It&#39;s quite a lot of messages: HHH000342: Could not obtain connection to query metadata org.postgresql.util.PSQLException: Ошибка при попытке подсоединения. Caused by: java.net.UnknownHostException: postgres  if i understand it correctly this happens because of my db has (jdbc:postgresql://localhost:5432/agregator) url and i&#39;m trying to connect by (jdbc:postgresql://postgres:5432/agregator)"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678472060,"creation_date":1678472060,"answer_id":75699679,"question_id":75699496,"body_markdown":"I don&#39;t think that you can use a hyphen in a volume name on Windows.\r\n\r\n    volumes:\r\n      - &quot;db-data:/var/lib/postgresql/data&quot;\r\n\r\nand\r\n\r\n    volumes:\r\n      db-data:\r\n\r\nThis should work:\r\n\r\n    volumes:\r\n      - &quot;pgData:/var/lib/postgresql/data&quot;\r\n\r\nand\r\n\r\n    volumes:\r\n      pgData:\r\n\r\n\r\nAlso, I doubt that you want to expose the DB to the outside world:\r\n\r\n    ports:\r\n      - &quot;5434:5432&quot;\r\n\r\nYour app also needs the variables for user+password:\r\n\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/agregator\r\n      - POSTGRES_USER=postgres\r\n      - POSTGRES_PASSWORD=sitis\r\n\r\n","title":"How to correctly configure postgresql hostname in docker-compose","body":"<p>I don't think that you can use a hyphen in a volume name on Windows.</p>\n<pre><code>volumes:\n  - &quot;db-data:/var/lib/postgresql/data&quot;\n</code></pre>\n<p>and</p>\n<pre><code>volumes:\n  db-data:\n</code></pre>\n<p>This should work:</p>\n<pre><code>volumes:\n  - &quot;pgData:/var/lib/postgresql/data&quot;\n</code></pre>\n<p>and</p>\n<pre><code>volumes:\n  pgData:\n</code></pre>\n<p>Also, I doubt that you want to expose the DB to the outside world:</p>\n<pre><code>ports:\n  - &quot;5434:5432&quot;\n</code></pre>\n<p>Your app also needs the variables for user+password:</p>\n<pre><code>  - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/agregator\n  - POSTGRES_USER=postgres\n  - POSTGRES_PASSWORD=sitis\n</code></pre>\n"}],"owner":{"account_id":27742466,"reputation":1,"user_id":21178654,"display_name":"AidarKhaibulov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678547998,"creation_date":1678470812,"question_id":75699496,"body_markdown":"I dockerized my java application. I can run this from intellij idea and it works great I can connect to localhost:8091. But when my friend tries to run my image he faces an error:\r\n\r\n`org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.`\r\n\r\n\r\nAs far as I understand the key to solve my problem is to configure correct database hostname in application.properties then recreate the image. But I cannot configure jdbc:postgresql://postgres:5432/agregator in my application.properties because of errors I face then I try to run my project. Building crashes because it cannot connect to my db by this url (jdbc:postgresql://localhost:5432/agregator).\r\nnow my application.properties looks like this:\r\n\r\n`spring.datasource.url=jdbc:postgresql://localhost:5432/agregator spring.datasource.username=postgres spring.datasource.password=pass spring.datasource.driver-class-name=org.postgresql.Driver spring.jpa.hibernate.ddl-auto=update spring.jpa.show-sql=true`\r\n\r\nMy question is, how can I configure my database hostname in order to be able to run my project in localhost and run it through the docker without getting any errors?\r\n\r\np.s. Could you please give me advice on how to solve this problem in windows without linux command line :)&lt;br&gt;\r\np.p.s I know it&#39;s not right to pass credentials like I did.","title":"How to correctly configure postgresql hostname in docker-compose","body":"<p>I dockerized my java application. I can run this from intellij idea and it works great I can connect to localhost:8091. But when my friend tries to run my image he faces an error:</p>\n<p><code>org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.</code></p>\n<p>As far as I understand the key to solve my problem is to configure correct database hostname in application.properties then recreate the image. But I cannot configure jdbc:postgresql://postgres:5432/agregator in my application.properties because of errors I face then I try to run my project. Building crashes because it cannot connect to my db by this url (jdbc:postgresql://localhost:5432/agregator).\nnow my application.properties looks like this:</p>\n<p><code>spring.datasource.url=jdbc:postgresql://localhost:5432/agregator spring.datasource.username=postgres spring.datasource.password=pass spring.datasource.driver-class-name=org.postgresql.Driver spring.jpa.hibernate.ddl-auto=update spring.jpa.show-sql=true</code></p>\n<p>My question is, how can I configure my database hostname in order to be able to run my project in localhost and run it through the docker without getting any errors?</p>\n<p>p.s. Could you please give me advice on how to solve this problem in windows without linux command line :)<br>\np.p.s I know it's not right to pass credentials like I did.</p>\n"},{"tags":["java","spring-boot","jenkins","jenkins-pipeline","okhttp"],"owner":{"account_id":18147973,"reputation":41,"user_id":15923335,"display_name":"devumesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678547439,"creation_date":1678511667,"question_id":75702932,"body_markdown":"I was facing the below shown error from OkHttp3 in Jenkins Pipeline. I tried the few ways that other post suggest but there is no luck. I was not facing this issue when working locally but only in Jenkins. \r\n\r\nI was actually doing integration testing. So the server will be the containers from `docker-compose.yml` file.\r\n\r\nCan someone please help me resolve this issue.\r\n\r\nError:\r\n```\r\n&lt;java.io.IOException: unexpected end of stream on http://localhost:6000/...&gt;\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n```\r\n\r\nClient Builder:\r\n```\r\nList&lt;Protocol&gt; protocols = new ArrayList&lt;Protocol&gt;();\r\nprotocols.add(Protocol.HTTP_1_1);\r\nclient = new OkHttpClient.Builder()\r\n        .protocols(protocols)\r\n        .readTimeout(120, TimeUnit.SECONDS)\r\n        .connectTimeout(120, TimeUnit.SECONDS)\r\n        .writeTimeout(120, TimeUnit.SECONDS)\r\n        .retryOnConnectionFailure(true)\r\n        .build();\r\n```\r\n\r\nRequest Builder:\r\n```\r\nString baseUrl = &quot;http://localhost:6000/sender&quot;;\r\nRequest request = new Request.Builder()\r\n         .url(baseUrl)\r\n         .headers(headers)\r\n         .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n         .header(&quot;Connection&quot;, &quot;close&quot;)\r\n         .header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\r\n         .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n         .post(RequestBody.create(MediaType.parse(&quot;application/json&quot;), payLoad))\r\n         .build();\r\nCall call = client.newCall(request);\r\nreturn call.execute();\r\n```\r\n\r\nOkHttp3 version: ```3.14.9```","title":"OkHttp3 java.io.IOException: unexpected end of stream on http://localhost:6000 in Jenkins pipeline","body":"<p>I was facing the below shown error from OkHttp3 in Jenkins Pipeline. I tried the few ways that other post suggest but there is no luck. I was not facing this issue when working locally but only in Jenkins.</p>\n<p>I was actually doing integration testing. So the server will be the containers from <code>docker-compose.yml</code> file.</p>\n<p>Can someone please help me resolve this issue.</p>\n<p>Error:</p>\n<pre><code>&lt;java.io.IOException: unexpected end of stream on http://localhost:6000/...&gt;\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n</code></pre>\n<p>Client Builder:</p>\n<pre><code>List&lt;Protocol&gt; protocols = new ArrayList&lt;Protocol&gt;();\nprotocols.add(Protocol.HTTP_1_1);\nclient = new OkHttpClient.Builder()\n        .protocols(protocols)\n        .readTimeout(120, TimeUnit.SECONDS)\n        .connectTimeout(120, TimeUnit.SECONDS)\n        .writeTimeout(120, TimeUnit.SECONDS)\n        .retryOnConnectionFailure(true)\n        .build();\n</code></pre>\n<p>Request Builder:</p>\n<pre><code>String baseUrl = &quot;http://localhost:6000/sender&quot;;\nRequest request = new Request.Builder()\n         .url(baseUrl)\n         .headers(headers)\n         .header(&quot;accept&quot;, &quot;application/json&quot;)\n         .header(&quot;Connection&quot;, &quot;close&quot;)\n         .header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\n         .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n         .post(RequestBody.create(MediaType.parse(&quot;application/json&quot;), payLoad))\n         .build();\nCall call = client.newCall(request);\nreturn call.execute();\n</code></pre>\n<p>OkHttp3 version: <code>3.14.9</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9409,"page":583,"page_size":100}
