{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":111374,"reputation":51666,"user_id":294248,"display_name":"fadden"},"score":1,"creation_date":1363724877,"post_id":15509466,"comment_id":21963636,"body_markdown":"If you&#39;re using protobufs or something that generates lots of methods, you probably need to enable Proguard to remove unused methods.","body":"If you&#39;re using protobufs or something that generates lots of methods, you probably need to enable Proguard to remove unused methods."}],"answers":[{"tags":[],"owner":{"account_id":1069432,"reputation":82107,"user_id":1069068,"accept_rate":80,"display_name":"Raghav Sood"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363724133,"creation_date":1363724133,"answer_id":15509525,"question_id":15509466,"body_markdown":"Try to use a static code analyzer; [Source Monitor][1], for example, is free SW and has the count you&#39;re searching for.\r\n\r\nOr if you prefer to do it without additional plugins, try doing this (Eclipse only):\r\n\r\n- Press Ctrl-H (Search), then select the &quot;Java Search&quot; tab (if it doesn&#39;t appear click on the &quot;Customize...&quot; button at the lower left corner)\r\n- Put * in the search box\r\n- Select &quot;Method&quot; in the &quot;Search For&quot; fieldset\r\n- Select &quot;Declarations&quot; in the &quot;Limit To&quot; fieldset\r\n- Select &quot;Sources&quot; in the &quot;Search In&quot; fieldset\r\n- Select &quot;Workspace&quot; in the &quot;Scope&quot; fieldset\r\n- Click on &quot;Search&quot;\r\n\r\nAfter the search is complete you should see a &quot;XXXX declarations in...&quot; message in the search view and that will be your result.\r\n\r\nHope it helps!\r\n\r\n  [1]: http://www.campwoodsw.com/sourcemonitor.html\r\n\r\n","title":"How to determine application&#39;s method count?","body":"<p>Try to use a static code analyzer; <a href=\"http://www.campwoodsw.com/sourcemonitor.html\" rel=\"nofollow\">Source Monitor</a>, for example, is free SW and has the count you're searching for.</p>\n\n<p>Or if you prefer to do it without additional plugins, try doing this (Eclipse only):</p>\n\n<ul>\n<li>Press Ctrl-H (Search), then select the \"Java Search\" tab (if it doesn't appear click on the \"Customize...\" button at the lower left corner)</li>\n<li>Put * in the search box</li>\n<li>Select \"Method\" in the \"Search For\" fieldset</li>\n<li>Select \"Declarations\" in the \"Limit To\" fieldset</li>\n<li>Select \"Sources\" in the \"Search In\" fieldset</li>\n<li>Select \"Workspace\" in the \"Scope\" fieldset</li>\n<li>Click on \"Search\"</li>\n</ul>\n\n<p>After the search is complete you should see a \"XXXX declarations in...\" message in the search view and that will be your result.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1664058,"reputation":1246,"user_id":1531833,"display_name":"Damian Je≈ºewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363724155,"creation_date":1363724155,"answer_id":15509532,"question_id":15509466,"body_markdown":"You could use JavaNCSS to get such statistics. It is available here: http://www.kclee.de/clemens/java/javancss/","title":"How to determine application&#39;s method count?","body":"<p>You could use JavaNCSS to get such statistics. It is available here: <a href=\"http://www.kclee.de/clemens/java/javancss/\" rel=\"nofollow\">http://www.kclee.de/clemens/java/javancss/</a></p>\n"},{"tags":[],"owner":{"account_id":37964,"reputation":3097,"user_id":108742,"accept_rate":67,"display_name":"Ivan Morgillo"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1400667854,"creation_date":1400667854,"answer_id":23780451,"question_id":15509466,"body_markdown":"I use\r\n\r\n    cat build/dex/debug/classes.dex | head -c 92 | tail -c 4 | hexdump -e &#39;1/4 &quot;%d\\n&quot;&#39;\r\n\r\nI get `55176`. 64k limit is coming :D","title":"How to determine application&#39;s method count?","body":"<p>I use</p>\n\n<pre><code>cat build/dex/debug/classes.dex | head -c 92 | tail -c 4 | hexdump -e '1/4 \"%d\\n\"'\n</code></pre>\n\n<p>I get <code>55176</code>. 64k limit is coming :D</p>\n"},{"tags":[],"owner":{"account_id":1376418,"reputation":12080,"user_id":1310343,"accept_rate":83,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1500558403,"creation_date":1441007827,"answer_id":32306432,"question_id":15509466,"body_markdown":"To get a method-count report on every build, do this:\r\n\r\nin `app/build.gradle`:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral() // or jcenter()\r\n        }\r\n\r\n        dependencies {\r\n            classpath &#39;com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.7.3&#39;\r\n        }\r\n    }\r\n\r\n    // make sure this line comes *after* you apply the Android plugin\r\n    apply plugin: &#39;com.getkeepsafe.dexcount&#39;\r\n\r\nIt will show the number of methods per package, for your own project and the libraries you use.\r\n\r\nFrom: https://github.com/KeepSafe/dexcount-gradle-plugin","title":"How to determine application&#39;s method count?","body":"<p>To get a method-count report on every build, do this:</p>\n\n<p>in <code>app/build.gradle</code>:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral() // or jcenter()\n    }\n\n    dependencies {\n        classpath 'com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.7.3'\n    }\n}\n\n// make sure this line comes *after* you apply the Android plugin\napply plugin: 'com.getkeepsafe.dexcount'\n</code></pre>\n\n<p>It will show the number of methods per package, for your own project and the libraries you use.</p>\n\n<p>From: <a href=\"https://github.com/KeepSafe/dexcount-gradle-plugin\" rel=\"noreferrer\">https://github.com/KeepSafe/dexcount-gradle-plugin</a></p>\n"},{"tags":[],"owner":{"account_id":3843297,"reputation":5027,"user_id":3185707,"accept_rate":50,"display_name":"dzikovskyy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481554637,"creation_date":1473932174,"answer_id":39507723,"question_id":15509466,"body_markdown":"There is a tool [APK method count][1] which counts the number of methods in your apk.  \r\n\r\nThere is also a service [methodscount.com][2] to check method count of libraries. This  service also has [Android Studio/IntelliJ plugin][3] that parses your Android library dependencies and shows the methods count as an handy hint. \r\n\r\n\r\n  [1]: http://inloop.github.io/apk-method-count/\r\n  [2]: http://www.methodscount.com/\r\n  [3]: http://www.methodscount.com/plugins","title":"How to determine application&#39;s method count?","body":"<p>There is a tool <a href=\"http://inloop.github.io/apk-method-count/\" rel=\"nofollow noreferrer\">APK method count</a> which counts the number of methods in your apk.  </p>\n\n<p>There is also a service <a href=\"http://www.methodscount.com/\" rel=\"nofollow noreferrer\">methodscount.com</a> to check method count of libraries. This  service also has <a href=\"http://www.methodscount.com/plugins\" rel=\"nofollow noreferrer\">Android Studio/IntelliJ plugin</a> that parses your Android library dependencies and shows the methods count as an handy hint. </p>\n"},{"tags":[],"owner":{"account_id":2380550,"reputation":4837,"user_id":2082668,"display_name":"DoronK"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493541448,"creation_date":1493541448,"answer_id":43704501,"question_id":15509466,"body_markdown":"You can use APK Analyzer in the Android studio\r\n\r\nhttps://developer.android.com/studio/build/apk-analyzer.html","title":"How to determine application&#39;s method count?","body":"<p>You can use APK Analyzer in the Android studio</p>\n\n<p><a href=\"https://developer.android.com/studio/build/apk-analyzer.html\" rel=\"noreferrer\">https://developer.android.com/studio/build/apk-analyzer.html</a></p>\n"},{"tags":[],"owner":{"account_id":950038,"reputation":6177,"user_id":976367,"accept_rate":79,"display_name":"Mark Pazon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494766015,"creation_date":1494766015,"answer_id":43964053,"question_id":15509466,"body_markdown":"Have you tried https://github.com/KeepSafe/dexcount-gradle-plugin? Shows you the number of methods per package graphically and/or text. ","title":"How to determine application&#39;s method count?","body":"<p>Have you tried <a href=\"https://github.com/KeepSafe/dexcount-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/KeepSafe/dexcount-gradle-plugin</a>? Shows you the number of methods per package graphically and/or text. </p>\n"},{"tags":[],"owner":{"account_id":886731,"reputation":2371,"user_id":926008,"display_name":"Stephen Donecker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498872887,"creation_date":1498872887,"answer_id":44856623,"question_id":15509466,"body_markdown":"To find and Android app method count with or without **multidex** support use:  \r\n\r\n    find | grep classes.dex | xargs -I {} hexdump -e &#39;&quot;%d {}\\n&quot;&#39; -s 0x58 -n 4 {}","title":"How to determine application&#39;s method count?","body":"<p>To find and Android app method count with or without <strong>multidex</strong> support use:  </p>\n\n<pre><code>find | grep classes.dex | xargs -I {} hexdump -e '\"%d {}\\n\"' -s 0x58 -n 4 {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18627218,"reputation":322,"user_id":13576060,"display_name":"fflores"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660814448,"creation_date":1660814448,"answer_id":73400475,"question_id":15509466,"body_markdown":"If you have already built application, then you can use dexdump (AOSP tool) for this:\r\n\r\n    # Get the number of classes.\r\n    dexdump -h ApkName.apk | grep &quot;^class_idx&quot; | wc -l\r\n    # Get the number of methods.\r\n    dexdump -h ApkName.apk | grep &quot;method_idx&quot; | wc -l","title":"How to determine application&#39;s method count?","body":"<p>If you have already built application, then you can use dexdump (AOSP tool) for this:</p>\n<pre><code># Get the number of classes.\ndexdump -h ApkName.apk | grep &quot;^class_idx&quot; | wc -l\n# Get the number of methods.\ndexdump -h ApkName.apk | grep &quot;method_idx&quot; | wc -l\n</code></pre>\n"}],"owner":{"account_id":188020,"reputation":19910,"user_id":426493,"accept_rate":72,"display_name":"ab11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10816,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":9,"score":19,"last_activity_date":1660814448,"creation_date":1363723935,"question_id":15509466,"body_markdown":"I&#39;m encountering issues with my application having too many methods.\r\n\r\nIn the last post in the below link, a poster posts the method count for his application (broken down by package). I unable to find how I can get this information for my application, any suggestions?\r\n\r\nhttps://code.google.com/p/android/issues/detail?id=20814","title":"How to determine application&#39;s method count?","body":"<p>I'm encountering issues with my application having too many methods.</p>\n\n<p>In the last post in the below link, a poster posts the method count for his application (broken down by package). I unable to find how I can get this information for my application, any suggestions?</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=20814\" rel=\"noreferrer\">https://code.google.com/p/android/issues/detail?id=20814</a></p>\n"},{"tags":["java","spring-boot","docker","openshift","cacerts"],"owner":{"account_id":13507104,"reputation":53,"user_id":11625453,"display_name":"Akash Dubey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660814110,"creation_date":1660814110,"question_id":73400397,"body_markdown":"My spring boot application is connecting with API connect which is using *https* API&#39;s. I am able to communicate with API connect on local as I have installed the cert file provided by them using keytool in security/cacert of JDK. but inside openshift environment I can&#39;t figure out how to do this. Please help I&#39;m new to this. Thank you.\r\n[Openshift(springapp)] --------(https://)*needs cacert*-------&gt; [API Connect]","title":"what is the way to use .cert for external services( using https) in openshift pod / docker container?","body":"<p>My spring boot application is connecting with API connect which is using <em>https</em> API's. I am able to communicate with API connect on local as I have installed the cert file provided by them using keytool in security/cacert of JDK. but inside openshift environment I can't figure out how to do this. Please help I'm new to this. Thank you.\n[Openshift(springapp)] --------(https://)<em>needs cacert</em>-------&gt; [API Connect]</p>\n"},{"tags":["java","android","sharedpreferences"],"comments":[{"owner":{"account_id":5925609,"reputation":836,"user_id":4661554,"display_name":"Chaudhary Amar"},"score":0,"creation_date":1660807102,"post_id":73398439,"comment_id":129620887,"body_markdown":"public String getMyID() {\n    return pref_global.getString(MYUSERID, &quot;&quot;);\n}","body":"public String getMyID() {     return pref_global.getString(MYUSERID, &quot;&quot;); }"}],"answers":[{"tags":[],"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660807858,"creation_date":1660807858,"answer_id":73399061,"question_id":73398439,"body_markdown":"I think default value parameter of `getString(MYUSERID, &quot;default value&quot;)` is non null type, you just need to set it to another non null string. Hope it help.","title":"Android Sharedpreference Check if the user already logged in or not","body":"<p>I think default value parameter of <code>getString(MYUSERID, &quot;default value&quot;)</code> is non null type, you just need to set it to another non null string. Hope it help.</p>\n"},{"tags":[],"owner":{"account_id":24095089,"reputation":56,"user_id":18067740,"display_name":"Devrim Catak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660813697,"creation_date":1660813697,"answer_id":73400311,"question_id":73398439,"body_markdown":"When pulling data from sharedPreferences, you can try entering &quot;&quot; instead of entering the default value as null. I am sharing the sample code below;\r\n\r\n   \r\n\r\n    public String getMyID() {\r\n       return pref_global.getString(MYUSERID, &quot;&quot;);\r\n    }\r\n\r\n\r\n    public void checkLoginState(){\r\n    if(prefManager.getMyID() == &quot;&quot;){\r\n        Intent intent = new Intent(MainActivity.this, LoginActivity.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n\r\n","title":"Android Sharedpreference Check if the user already logged in or not","body":"<p>When pulling data from sharedPreferences, you can try entering &quot;&quot; instead of entering the default value as null. I am sharing the sample code below;</p>\n<pre><code>public String getMyID() {\n   return pref_global.getString(MYUSERID, &quot;&quot;);\n}\n\n\npublic void checkLoginState(){\nif(prefManager.getMyID() == &quot;&quot;){\n    Intent intent = new Intent(MainActivity.this, LoginActivity.class);\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n    startActivity(intent);\n    finish();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25646873,"reputation":27,"user_id":19414831,"display_name":"Caelles Kharida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660813697,"creation_date":1660804636,"question_id":73398439,"body_markdown":"I want to check if the user is logged in or not by checking if Their ID is `null` or not.\r\nif the ID is `null` then start `loginActivity`, if not then carry on.\r\n\r\nI make a separate class for my sharedpreference and have imported it, declared it.\r\nhowever the program returned Nullpointer Error when I run it. My intention was exactly to check whether the string `id` is null or not.\r\n\r\nFYI : at the moment, there is no user logged in, so the App should run the LoginActivity becauase getMyID() should return null and therefore run the condition\r\n\r\nPlease tell me where did I make mistake and how should I do it instead\r\n\r\n**my setter and getter for ID in sharedpreference :**\r\n \r\n    public void setMyID(String myID) {\r\n        editor.putString(MYUSERID, myID);\r\n        editor.commit();\r\n    }\r\n\r\n    public String getMyID() {\r\n        return pref_global.getString(MYUSERID, null);\r\n    }\r\n\r\n**This is my mainactivity file**\r\n\r\n    public void onCreate(Bundle savedInstanceState){\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    setTitle(&quot;Selamat Datang&quot;);\r\n\r\n    myContext = this;\r\n    mAuth = FirebaseAuth.getInstance();\r\n    mFirebaseAnalytics = FirebaseAnalytics.getInstance(myContext);\r\n\r\n    checkLoginState();\r\n\r\n    }\r\n\r\n    public void checkLoginState(){\r\n        if(prefManager.getMyID() == null ){\r\n            Intent intent = new Intent(MainActivity.this, LoginActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }","title":"Android Sharedpreference Check if the user already logged in or not","body":"<p>I want to check if the user is logged in or not by checking if Their ID is <code>null</code> or not.\nif the ID is <code>null</code> then start <code>loginActivity</code>, if not then carry on.</p>\n<p>I make a separate class for my sharedpreference and have imported it, declared it.\nhowever the program returned Nullpointer Error when I run it. My intention was exactly to check whether the string <code>id</code> is null or not.</p>\n<p>FYI : at the moment, there is no user logged in, so the App should run the LoginActivity becauase getMyID() should return null and therefore run the condition</p>\n<p>Please tell me where did I make mistake and how should I do it instead</p>\n<p><strong>my setter and getter for ID in sharedpreference :</strong></p>\n<pre><code>public void setMyID(String myID) {\n    editor.putString(MYUSERID, myID);\n    editor.commit();\n}\n\npublic String getMyID() {\n    return pref_global.getString(MYUSERID, null);\n}\n</code></pre>\n<p><strong>This is my mainactivity file</strong></p>\n<pre><code>public void onCreate(Bundle savedInstanceState){\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\nsetTitle(&quot;Selamat Datang&quot;);\n\nmyContext = this;\nmAuth = FirebaseAuth.getInstance();\nmFirebaseAnalytics = FirebaseAnalytics.getInstance(myContext);\n\ncheckLoginState();\n\n}\n\npublic void checkLoginState(){\n    if(prefManager.getMyID() == null ){\n        Intent intent = new Intent(MainActivity.this, LoginActivity.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n"},{"tags":["java","binaryfiles","mjpeg"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1660740915,"post_id":73388578,"comment_id":129603695,"body_markdown":"```Reader``` is for text data. Your parts have binary data in them (images) so you should be using ```InputStream```  and ```OutputStream```","body":"<code>Reader</code> is for text data. Your parts have binary data in them (images) so you should be using <code>InputStream</code>  and <code>OutputStream</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1660741409,"post_id":73388578,"comment_id":129603882,"body_markdown":"Also, it looks like you might be reinventing the multipart wheel, which is something you shouldn&#39;t do and don&#39;t need to do","body":"Also, it looks like you might be reinventing the multipart wheel, which is something you shouldn&#39;t do and don&#39;t need to do"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1660745114,"post_id":73388578,"comment_id":129605356,"body_markdown":"You are reading `Content-length` of char not byte - switch back to `byte` handling to read the exact contents without charset conversions.","body":"You are reading <code>Content-length</code> of char not byte - switch back to <code>byte</code> handling to read the exact contents without charset conversions."}],"answers":[{"tags":[],"owner":{"account_id":4685292,"reputation":321,"user_id":3792852,"display_name":"user3792852"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660813678,"creation_date":1660813678,"answer_id":73400304,"question_id":73388578,"body_markdown":"The mistake was, as several comments suggested, using a Reader instead of an InputStream. I assumed `InputStreamReader` to return provide the returned bytes of an Inputstream via a Reader interface, but instead it returned characters in a specificm encoding as seemingly all Readers do.\r\n\r\nSo, the saving logic for the mjpeg stream was ok and the corrected reader looks like this:\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class MediaConverter {\r\n    \r\n    \tprivate static final String BOUNDARY = &quot;END&quot;;\r\n    \tprivate static final Charset CHARSET = StandardCharsets.UTF_8;\r\n    \t\r\n    \tprivate static final int READ_PRE_BOUNDARY = 1;\r\n    \tprivate static final int READ_CONTENT_TYPE = 2;\r\n    \tprivate static final int READ_CONTENT_LENGTH = 3;\r\n    \tprivate static final int READ_CONTENT = 4;\r\n    \r\n    \tpublic static void createMovieFromMJPEG(String file) throws FileNotFoundException, IOException {\r\n    \t\t\r\n    \t\tchar LINE_FEED = &#39;\\n&#39;;\r\n    \t\tchar[] PRE_BOUNDARY = new String(&quot;--&quot; + BOUNDARY + LINE_FEED).toCharArray();\r\n    \r\n    \t\ttry (InputStream in = new FileInputStream(file);\r\n    \t\t\t\tBufferedInputStream reader = new BufferedInputStream(in);) {\r\n    \t\t\t\r\n    \t\t\tint r;\r\n    \t\t\tStringBuffer content_buf = new StringBuffer(); \r\n    \t\t\tint mode = READ_PRE_BOUNDARY;\r\n    \t\t\tlong content_length = 0;\r\n    \t\t\tint[] cmdBuf = new int[PRE_BOUNDARY.length];\r\n    \t\t\tint boundaryPointer = 0;\r\n    \t\t\tint counter = 0;\r\n    \t\t\twhile ((r = reader.read()) != -1) {\r\n    \t\t\t\tSystem.out.print((char)r);\r\n    \t\t\t\tcounter++;\r\n    \t\t\t\tif (mode == READ_PRE_BOUNDARY) {\r\n    \t\t\t\t\tif (r == PRE_BOUNDARY[boundaryPointer]) {\r\n    \t\t\t\t\t\tboundaryPointer++;\r\n    \t\t\t\t\t\tif (boundaryPointer &gt;= PRE_BOUNDARY.length - 1) {\r\n    \t\t\t\t\t\t\t// Read a PRE_BOUNDARY\r\n    \t\t\t\t\t\t\tmode = READ_CONTENT_TYPE;\r\n    \t\t\t\t\t\t\tboundaryPointer = 0;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (mode == READ_CONTENT_TYPE) {\r\n    \t\t\t\t\tif (r != LINE_FEED) {\r\n    \t\t\t\t\t\tcontent_buf.append((char)r);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tif (content_buf.length() == 0) {\r\n    \t\t\t\t\t\t\t// leading line break, ignore...\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tmode = READ_CONTENT_LENGTH;\r\n    \t\t\t\t\t\t\tcontent_buf.setLength(0);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (mode == READ_CONTENT_LENGTH) {\r\n    \t\t\t\t\tif (r != LINE_FEED) {\r\n    \t\t\t\t\t\tcontent_buf.append((char)r);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tif (content_buf.length() == 0) {\r\n    \t\t\t\t\t\t\t// leading line break, ignore...\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tString number = content_buf.substring(content_buf.lastIndexOf(&quot;:&quot;) + 1).trim();\r\n    \t\t\t\t\t\t\tcontent_length = Long.valueOf(number);\r\n    \t\t\t\t\t\t\tcontent_buf.setLength(0);\r\n    \t\t\t\t\t\t\tmode = READ_CONTENT;\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (mode == READ_CONTENT) {\r\n    \t\t\t\t\tbyte[] fileBuf = new byte[(int)content_length];\r\n    \t\t\t\t\treader.read(fileBuf);\r\n    \t\t\t\t\tSystem.out.println(fileBuf);\r\n    \t\t\t\t\tmode = READ_PRE_BOUNDARY;\t\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tcreateMovieFromMJPEG(&quot;video.mjpeg&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Writing a binary file and rereading a part of it - Expected data size has changed","body":"<p>The mistake was, as several comments suggested, using a Reader instead of an InputStream. I assumed <code>InputStreamReader</code> to return provide the returned bytes of an Inputstream via a Reader interface, but instead it returned characters in a specificm encoding as seemingly all Readers do.</p>\n<p>So, the saving logic for the mjpeg stream was ok and the corrected reader looks like this:</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\npublic class MediaConverter {\n\n    private static final String BOUNDARY = &quot;END&quot;;\n    private static final Charset CHARSET = StandardCharsets.UTF_8;\n    \n    private static final int READ_PRE_BOUNDARY = 1;\n    private static final int READ_CONTENT_TYPE = 2;\n    private static final int READ_CONTENT_LENGTH = 3;\n    private static final int READ_CONTENT = 4;\n\n    public static void createMovieFromMJPEG(String file) throws FileNotFoundException, IOException {\n        \n        char LINE_FEED = '\\n';\n        char[] PRE_BOUNDARY = new String(&quot;--&quot; + BOUNDARY + LINE_FEED).toCharArray();\n\n        try (InputStream in = new FileInputStream(file);\n                BufferedInputStream reader = new BufferedInputStream(in);) {\n            \n            int r;\n            StringBuffer content_buf = new StringBuffer(); \n            int mode = READ_PRE_BOUNDARY;\n            long content_length = 0;\n            int[] cmdBuf = new int[PRE_BOUNDARY.length];\n            int boundaryPointer = 0;\n            int counter = 0;\n            while ((r = reader.read()) != -1) {\n                System.out.print((char)r);\n                counter++;\n                if (mode == READ_PRE_BOUNDARY) {\n                    if (r == PRE_BOUNDARY[boundaryPointer]) {\n                        boundaryPointer++;\n                        if (boundaryPointer &gt;= PRE_BOUNDARY.length - 1) {\n                            // Read a PRE_BOUNDARY\n                            mode = READ_CONTENT_TYPE;\n                            boundaryPointer = 0;\n                        }\n                    }\n                } else if (mode == READ_CONTENT_TYPE) {\n                    if (r != LINE_FEED) {\n                        content_buf.append((char)r);\n                    } else {\n                        if (content_buf.length() == 0) {\n                            // leading line break, ignore...\n                        } else {\n                            mode = READ_CONTENT_LENGTH;\n                            content_buf.setLength(0);\n                        }\n                    }\n                } else if (mode == READ_CONTENT_LENGTH) {\n                    if (r != LINE_FEED) {\n                        content_buf.append((char)r);\n                    } else {\n                        if (content_buf.length() == 0) {\n                            // leading line break, ignore...\n                        } else {\n                            String number = content_buf.substring(content_buf.lastIndexOf(&quot;:&quot;) + 1).trim();\n                            content_length = Long.valueOf(number);\n                            content_buf.setLength(0);\n                            mode = READ_CONTENT;\n                            \n                        }\n                    }\n                } else if (mode == READ_CONTENT) {\n                    byte[] fileBuf = new byte[(int)content_length];\n                    reader.read(fileBuf);\n                    System.out.println(fileBuf);\n                    mode = READ_PRE_BOUNDARY;   \n                }\n\n            }\n        }\n\n    }\n    \n    public static void main(String[] args) {\n        try {\n            createMovieFromMJPEG(&quot;video.mjpeg&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4685292,"reputation":321,"user_id":3792852,"display_name":"user3792852"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73400304,"answer_count":1,"score":1,"last_activity_date":1660813678,"creation_date":1660739720,"question_id":73388578,"body_markdown":"I&#39;m receiving a motion JPEG stream via a servlet&#39;s post method. I cut out the JPEG images from the stream as they come and then write them to a Motion JPEG file (mjpeg), using the following structure:\r\n\r\n    --END\r\n    \r\n    Content-Type: image/jpeg\r\n    \r\n    Content-Length: &lt;Length of following JPEG image in bytes&gt;\r\n    \r\n    \r\n    &lt;JPEG image data&gt;\r\n    \r\n    \r\n    --END\r\n\r\nAfter the last `--END` part, the next image starts.\r\n\r\nThe mjpeg file is created in the following way:\r\n\r\n    private static final String BOUNDARY = &quot;END&quot;;\r\n    private static final Charset CHARSET = StandardCharsets.UTF_8;\r\n    final byte[] PRE_BOUNDARY = (&quot;--&quot; + BOUNDARY).getBytes(CHARSET);\r\n    final byte[] CONTENT_TYPE = &quot;Content-Type: image/jpeg&quot;.getBytes(CHARSET);\r\n    final byte[] CONTENT_LENGTH = &quot;Content-Length: &quot;.getBytes(CHARSET);\r\n    final byte[] LINE_FEED = &quot;\\n&quot;.getBytes(CHARSET);\r\n    \r\n    try (OutputStream out = new BufferedOutputStream(new FileOutputStream(targetFile))) {\r\n    \tfor every image received {\r\n    \t\tonImage(image, out);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public void onImage(byte[] image, OutputStream out) {\r\n    \ttry {\r\n    \t\tout.write(PRE_BOUNDARY);\r\n    \t\tout.write(LINE_FEED);\r\n    \t\tout.write(CONTENT_TYPE);\r\n    \t\tout.write(LINE_FEED);\r\n    \t\tout.write(CONTENT_LENGTH);\r\n    \t\tout.write(String.valueOf(image.length).getBytes(CHARSET));\r\n    \t\tout.write(LINE_FEED);\r\n    \t\tout.write(LINE_FEED);\r\n    \t\tout.write(image);\r\n    \t\tout.write(LINE_FEED);\r\n    \t\tout.write(LINE_FEED);\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\t\r\n    \t}\r\n    }\r\n\r\n[Here][1] is an example file.\r\n\r\nNow, I&#39;d like to read the mjpeg files again and do some processing on the contained images. For this, I build the following reader:\r\n\r\n    package de.supportgis.stream;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class MediaConverter {\r\n    \r\n    \tprivate static final String BOUNDARY = &quot;END&quot;;\r\n    \tprivate static final Charset CHARSET = StandardCharsets.UTF_8;\r\n    \t\r\n    \tprivate static final int READ_PRE_BOUNDARY = 1;\r\n    \tprivate static final int READ_CONTENT_TYPE = 2;\r\n    \tprivate static final int READ_CONTENT_LENGTH = 3;\r\n    \tprivate static final int READ_CONTENT = 4;\r\n    \r\n    \tpublic static void createMovieFromMJPEG(String file) throws FileNotFoundException, IOException {\r\n    \t\t\r\n    \t\tchar LINE_FEED = &#39;\\n&#39;;\r\n    \t\tchar[] PRE_BOUNDARY = new String(&quot;--&quot; + BOUNDARY + LINE_FEED).toCharArray();\r\n    \r\n    \t\ttry (InputStream in = new FileInputStream(file);\r\n    \t\t\t\tReader reader = new InputStreamReader(in, CHARSET);\r\n    \t\t\t\tReader buffer = new BufferedReader(reader)) {\r\n    \t\t\t\r\n    \t\t\tint r;\r\n    \t\t\tStringBuffer content_buf = new StringBuffer(); \r\n    \t\t\tint mode = READ_PRE_BOUNDARY;\r\n    \t\t\tlong content_length = 0;\r\n    \t\t\tint[] cmdBuf = new int[PRE_BOUNDARY.length];\r\n    \t\t\tint boundaryPointer = 0;\r\n    \t\t\tint counter = 0;\r\n    \t\t\twhile ((r = reader.read()) != -1) {\r\n    \t\t\t\tSystem.out.print((char)r);\r\n    \t\t\t\tcounter++;\r\n    \t\t\t\tif (mode == READ_PRE_BOUNDARY) {\r\n    \t\t\t\t\tif (r == PRE_BOUNDARY[boundaryPointer]) {\r\n    \t\t\t\t\t\tboundaryPointer++;\r\n    \t\t\t\t\t\tif (boundaryPointer &gt;= PRE_BOUNDARY.length - 1) {\r\n    \t\t\t\t\t\t\t// Read a PRE_BOUNDARY\r\n    \t\t\t\t\t\t\tmode = READ_CONTENT_TYPE;\r\n    \t\t\t\t\t\t\tboundaryPointer = 0;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (mode == READ_CONTENT_TYPE) {\r\n    \t\t\t\t\tif (r != LINE_FEED) {\r\n    \t\t\t\t\t\tcontent_buf.append((char)r);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tif (content_buf.length() == 0) {\r\n    \t\t\t\t\t\t\t// leading line break, ignore...\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tmode = READ_CONTENT_LENGTH;\r\n    \t\t\t\t\t\t\tcontent_buf.setLength(0);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (mode == READ_CONTENT_LENGTH) {\r\n    \t\t\t\t\tif (r != LINE_FEED) {\r\n    \t\t\t\t\t\tcontent_buf.append((char)r);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tif (content_buf.length() == 0) {\r\n    \t\t\t\t\t\t\t// leading line break, ignore...\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tString number = content_buf.substring(content_buf.lastIndexOf(&quot;:&quot;) + 1).trim();\r\n    \t\t\t\t\t\t\tcontent_length = Long.valueOf(number);\r\n    \t\t\t\t\t\t\tcontent_buf.setLength(0);\r\n    \t\t\t\t\t\t\tmode = READ_CONTENT;\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (mode == READ_CONTENT) {\r\n    \t\t\t\t\tchar[] fileBuf = new char[(int)content_length];\r\n    \t\t\t\t\treader.read(fileBuf);\r\n    \t\t\t\t\tSystem.out.println(fileBuf);\r\n    \t\t\t\t\tmode = READ_PRE_BOUNDARY;\t\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tcreateMovieFromMJPEG(&quot;video.mjpeg&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nNote that this reader may not produce working JPEGs yet, as I&#39;m still trying to debug the following error:\r\n\r\nI read the value given at `Content-length`. I furthermore expect that when I read `&lt;content-length&gt;` of bytes after the `Content-Length` part into `fileBuf` (line 78), I end up with exactly the bytes of the image that I wrote in the prior step. However, `fileBuf` contains the whole image, as well as the metadata and half the bytes of the next image, which means it reads way too much.\r\nI know that when it comes to saving, reading and encoding binary data, there are many things that can go wrong. Which mistake do I have the pleasure of making here?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://www.dropbox.com/s/3vthjtmimsugi8v/video.mjpeg?dl=0","title":"Writing a binary file and rereading a part of it - Expected data size has changed","body":"<p>I'm receiving a motion JPEG stream via a servlet's post method. I cut out the JPEG images from the stream as they come and then write them to a Motion JPEG file (mjpeg), using the following structure:</p>\n<pre><code>--END\n\nContent-Type: image/jpeg\n\nContent-Length: &lt;Length of following JPEG image in bytes&gt;\n\n\n&lt;JPEG image data&gt;\n\n\n--END\n</code></pre>\n<p>After the last <code>--END</code> part, the next image starts.</p>\n<p>The mjpeg file is created in the following way:</p>\n<pre><code>private static final String BOUNDARY = &quot;END&quot;;\nprivate static final Charset CHARSET = StandardCharsets.UTF_8;\nfinal byte[] PRE_BOUNDARY = (&quot;--&quot; + BOUNDARY).getBytes(CHARSET);\nfinal byte[] CONTENT_TYPE = &quot;Content-Type: image/jpeg&quot;.getBytes(CHARSET);\nfinal byte[] CONTENT_LENGTH = &quot;Content-Length: &quot;.getBytes(CHARSET);\nfinal byte[] LINE_FEED = &quot;\\n&quot;.getBytes(CHARSET);\n\ntry (OutputStream out = new BufferedOutputStream(new FileOutputStream(targetFile))) {\n    for every image received {\n        onImage(image, out);\n    }\n}\n\n\npublic void onImage(byte[] image, OutputStream out) {\n    try {\n        out.write(PRE_BOUNDARY);\n        out.write(LINE_FEED);\n        out.write(CONTENT_TYPE);\n        out.write(LINE_FEED);\n        out.write(CONTENT_LENGTH);\n        out.write(String.valueOf(image.length).getBytes(CHARSET));\n        out.write(LINE_FEED);\n        out.write(LINE_FEED);\n        out.write(image);\n        out.write(LINE_FEED);\n        out.write(LINE_FEED);\n    } catch (IOException e) {\n        e.printStackTrace();    \n    }\n}\n</code></pre>\n<p><a href=\"https://www.dropbox.com/s/3vthjtmimsugi8v/video.mjpeg?dl=0\" rel=\"nofollow noreferrer\">Here</a> is an example file.</p>\n<p>Now, I'd like to read the mjpeg files again and do some processing on the contained images. For this, I build the following reader:</p>\n<pre><code>package de.supportgis.stream;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\npublic class MediaConverter {\n\n    private static final String BOUNDARY = &quot;END&quot;;\n    private static final Charset CHARSET = StandardCharsets.UTF_8;\n    \n    private static final int READ_PRE_BOUNDARY = 1;\n    private static final int READ_CONTENT_TYPE = 2;\n    private static final int READ_CONTENT_LENGTH = 3;\n    private static final int READ_CONTENT = 4;\n\n    public static void createMovieFromMJPEG(String file) throws FileNotFoundException, IOException {\n        \n        char LINE_FEED = '\\n';\n        char[] PRE_BOUNDARY = new String(&quot;--&quot; + BOUNDARY + LINE_FEED).toCharArray();\n\n        try (InputStream in = new FileInputStream(file);\n                Reader reader = new InputStreamReader(in, CHARSET);\n                Reader buffer = new BufferedReader(reader)) {\n            \n            int r;\n            StringBuffer content_buf = new StringBuffer(); \n            int mode = READ_PRE_BOUNDARY;\n            long content_length = 0;\n            int[] cmdBuf = new int[PRE_BOUNDARY.length];\n            int boundaryPointer = 0;\n            int counter = 0;\n            while ((r = reader.read()) != -1) {\n                System.out.print((char)r);\n                counter++;\n                if (mode == READ_PRE_BOUNDARY) {\n                    if (r == PRE_BOUNDARY[boundaryPointer]) {\n                        boundaryPointer++;\n                        if (boundaryPointer &gt;= PRE_BOUNDARY.length - 1) {\n                            // Read a PRE_BOUNDARY\n                            mode = READ_CONTENT_TYPE;\n                            boundaryPointer = 0;\n                        }\n                    }\n                } else if (mode == READ_CONTENT_TYPE) {\n                    if (r != LINE_FEED) {\n                        content_buf.append((char)r);\n                    } else {\n                        if (content_buf.length() == 0) {\n                            // leading line break, ignore...\n                        } else {\n                            mode = READ_CONTENT_LENGTH;\n                            content_buf.setLength(0);\n                        }\n                    }\n                } else if (mode == READ_CONTENT_LENGTH) {\n                    if (r != LINE_FEED) {\n                        content_buf.append((char)r);\n                    } else {\n                        if (content_buf.length() == 0) {\n                            // leading line break, ignore...\n                        } else {\n                            String number = content_buf.substring(content_buf.lastIndexOf(&quot;:&quot;) + 1).trim();\n                            content_length = Long.valueOf(number);\n                            content_buf.setLength(0);\n                            mode = READ_CONTENT;\n                            \n                        }\n                    }\n                } else if (mode == READ_CONTENT) {\n                    char[] fileBuf = new char[(int)content_length];\n                    reader.read(fileBuf);\n                    System.out.println(fileBuf);\n                    mode = READ_PRE_BOUNDARY;   \n                }\n\n            }\n        }\n\n    }\n    \n    public static void main(String[] args) {\n        try {\n            createMovieFromMJPEG(&quot;video.mjpeg&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>Note that this reader may not produce working JPEGs yet, as I'm still trying to debug the following error:</p>\n<p>I read the value given at <code>Content-length</code>. I furthermore expect that when I read <code>&lt;content-length&gt;</code> of bytes after the <code>Content-Length</code> part into <code>fileBuf</code> (line 78), I end up with exactly the bytes of the image that I wrote in the prior step. However, <code>fileBuf</code> contains the whole image, as well as the metadata and half the bytes of the next image, which means it reads way too much.\nI know that when it comes to saving, reading and encoding binary data, there are many things that can go wrong. Which mistake do I have the pleasure of making here?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":4946647,"reputation":1191,"user_id":3981822,"display_name":"Shvet"},"score":0,"creation_date":1448083730,"post_id":33840001,"comment_id":55445121,"body_markdown":"Please check above this error, There will be more description in error window and post it.","body":"Please check above this error, There will be more description in error window and post it."},{"owner":{"account_id":7192351,"reputation":271,"user_id":5492196,"accept_rate":43,"display_name":"Muhammad Abdullah"},"score":0,"creation_date":1448083893,"post_id":33840001,"comment_id":55445154,"body_markdown":"@Shvet They all are warnings and the search suggests that it can be ignored. Should I post them?","body":"@Shvet They all are warnings and the search suggests that it can be ignored. Should I post them?"},{"owner":{"account_id":2200215,"reputation":991,"user_id":1944782,"display_name":"Karan Maru"},"score":0,"creation_date":1448087111,"post_id":33840001,"comment_id":55445735,"body_markdown":"please change build tool version to 23.0.1 and sync it again.","body":"please change build tool version to 23.0.1 and sync it again."},{"owner":{"account_id":7192351,"reputation":271,"user_id":5492196,"accept_rate":43,"display_name":"Muhammad Abdullah"},"score":0,"creation_date":1448087891,"post_id":33840001,"comment_id":55445905,"body_markdown":"@JonSnow Did once....and for your comment....did once again but the result is same.","body":"@JonSnow Did once....and for your comment....did once again but the result is same."},{"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1448111695,"post_id":33840001,"comment_id":55451954,"body_markdown":"use ./gradlew assemble --info and post the stacktrace","body":"use ./gradlew assemble --info and post the stacktrace"},{"owner":{"account_id":5690675,"reputation":211,"user_id":4498835,"display_name":"Ashutosh Salodkar"},"score":1,"creation_date":1448859757,"post_id":33840001,"comment_id":55739280,"body_markdown":"Facing the same issue did you get any answer...","body":"Facing the same issue did you get any answer..."},{"owner":{"account_id":7192351,"reputation":271,"user_id":5492196,"accept_rate":43,"display_name":"Muhammad Abdullah"},"score":1,"creation_date":1448860230,"post_id":33840001,"comment_id":55739406,"body_markdown":"@AshutoshSalodkar nops....i left that project","body":"@AshutoshSalodkar nops....i left that project"},{"owner":{"account_id":5526133,"reputation":1503,"user_id":4387543,"accept_rate":73,"display_name":"Omkar"},"score":0,"creation_date":1456837341,"post_id":33840001,"comment_id":59121792,"body_markdown":"Is there any other error message before the mentioned error? Like I had error in manifest file.","body":"Is there any other error message before the mentioned error? Like I had error in manifest file."}],"answers":[{"tags":[],"owner":{"account_id":1632054,"reputation":2618,"user_id":1506395,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448090588,"creation_date":1448090588,"answer_id":33840816,"question_id":33840001,"body_markdown":"    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.1&quot; //Just change this from 23.0.2 to 23.0.1\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.onyx_enroll_wizard_sample_app&quot;\r\n        minSdkVersion 14\r\n        targetSdkVersion 23\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n    }\r\n\r\n    repositories {\r\n    mavenCentral()\r\n\r\n    maven {\r\n        url &#39;http://nexus.diamondfortress.com/nexus/content/repositories/releases&#39;\r\n    }\r\n\r\n    maven {\r\n        url &#39;http://nexus.diamondfortress.com/nexus/content/repositories/snapshots&#39;\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    compile &#39;com.android.support:support-v13:23.0.1&#39;\r\n    compile &#39;com.dft.android:onyx-enroll-wizard:4.1.3&#39;\r\n    }","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<pre><code>apply plugin: 'com.android.application'\nandroid {\ncompileSdkVersion 23\nbuildToolsVersion \"23.0.1\" //Just change this from 23.0.2 to 23.0.1\n\ndefaultConfig {\n    applicationId \"com.example.onyx_enroll_wizard_sample_app\"\n    minSdkVersion 14\n    targetSdkVersion 23\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n    }\n}\n\nlintOptions {\n    abortOnError false\n}\n}\n\nrepositories {\nmavenCentral()\n\nmaven {\n    url 'http://nexus.diamondfortress.com/nexus/content/repositories/releases'\n}\n\nmaven {\n    url 'http://nexus.diamondfortress.com/nexus/content/repositories/snapshots'\n}\n}\n\ndependencies {\ncompile 'com.android.support:support-v13:23.0.1'\ncompile 'com.dft.android:onyx-enroll-wizard:4.1.3'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7325939,"reputation":69,"user_id":5580345,"display_name":"Abraham Flores"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1448224820,"creation_date":1448224820,"answer_id":33859914,"question_id":33840001,"body_markdown":"Go to Build menu - Clear Project, and Rebuild Project, It worked for me..","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<p>Go to Build menu - Clear Project, and Rebuild Project, It worked for me..</p>\n"},{"tags":[],"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452113183,"creation_date":1452113183,"answer_id":34642431,"question_id":33840001,"body_markdown":"This is due to incorrectly configured AndroidManifest.  For example, the \r\n\r\n             package=&quot;com.mypackage.myname&quot;\r\nmay be incorrect, or it doesn&#39;t match the applicationId in **build.gradle**:\r\n\r\n            applicationId &quot;com.mypackage.myname&quot;\r\nMake sure you fix those.","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<p>This is due to incorrectly configured AndroidManifest.  For example, the </p>\n\n<pre><code>         package=\"com.mypackage.myname\"\n</code></pre>\n\n<p>may be incorrect, or it doesn't match the applicationId in <strong>build.gradle</strong>:</p>\n\n<pre><code>        applicationId \"com.mypackage.myname\"\n</code></pre>\n\n<p>Make sure you fix those.</p>\n"},{"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457700519,"creation_date":1457700519,"answer_id":35940703,"question_id":33840001,"body_markdown":"Sometimes it happens after updating. Next 2 steps may help:\r\n\r\nFrom &quot;Build&quot; menu.\r\n\r\n    Build -&gt; Clean Project\r\n\r\n    Build -&gt; Rebuild Project","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<p>Sometimes it happens after updating. Next 2 steps may help:</p>\n\n<p>From \"Build\" menu.</p>\n\n<pre><code>Build -&gt; Clean Project\n\nBuild -&gt; Rebuild Project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4032269,"reputation":189,"user_id":3317922,"display_name":"humna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458547602,"creation_date":1458547602,"answer_id":36125807,"question_id":33840001,"body_markdown":"Check that that sdk version 23 is installed or not. ","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<p>Check that that sdk version 23 is installed or not. </p>\n"},{"tags":[],"owner":{"account_id":7734118,"reputation":1,"user_id":5856230,"display_name":"Ê¥™Êò•Âçé"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460365842,"creation_date":1459936801,"answer_id":36447749,"question_id":33840001,"body_markdown":"I caused this error because the code below  \r\n\r\n\r\n&lt;!-- ATTENTION: This was auto-generated to add Google Play services to your project for\r\n     App Indexing.  See https://g.co/AppIndexing/AndroidStudio for more information. --&gt;\r\n\r\n    &lt;meta-data\r\n                android:name=&quot;com.google.android.gms.version&quot;\r\n                android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n\r\nin the `AndroidMainfest.xml` file and i remove this code will work fine.","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<p>I caused this error because the code below  </p>\n\n\n\n<pre><code>&lt;meta-data\n            android:name=\"com.google.android.gms.version\"\n            android:value=\"@integer/google_play_services_version\" /&gt;\n</code></pre>\n\n<p>in the <code>AndroidMainfest.xml</code> file and i remove this code will work fine.</p>\n"},{"tags":[],"owner":{"account_id":16304588,"reputation":572,"user_id":11889111,"display_name":"Matteo Toma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660813549,"creation_date":1660812492,"answer_id":73400036,"question_id":33840001,"body_markdown":"&gt; In my case, it was module-info.java&#39;s fault.  IntelliJ couldn&#39;t find\r\n&gt; the module-info.java&#39;s because the path wasn&#39;t correct. In\r\n&gt; build.gradle, it was\r\n\r\n        \r\n   \r\n\r\n     application {\r\n        mainModule = &#39;it.unicam.cs.pa2122.TomaMatteo116781&#39;\r\n        mainClass = &#39;package.YourMain&#39;\r\n        }\r\n    \r\n\r\n&gt; I changed it in:\r\n\r\n    \r\n  \r\n\r\n      application {\r\n        mainModule = &#39;it.unicam.cs&#39;\r\n        mainClass = &#39;package.YourMain&#39;\r\n        }\r\n    ","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<blockquote>\n<p>In my case, it was module-info.java's fault.  IntelliJ couldn't find\nthe module-info.java's because the path wasn't correct. In\nbuild.gradle, it was</p>\n</blockquote>\n<pre><code> application {\n    mainModule = 'it.unicam.cs.pa2122.TomaMatteo116781'\n    mainClass = 'package.YourMain'\n    }\n</code></pre>\n<blockquote>\n<p>I changed it in:</p>\n</blockquote>\n<pre><code>  application {\n    mainModule = 'it.unicam.cs'\n    mainClass = 'package.YourMain'\n    }\n</code></pre>\n"}],"owner":{"account_id":7192351,"reputation":271,"user_id":5492196,"accept_rate":43,"display_name":"Muhammad Abdullah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16857,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1660813549,"creation_date":1448083243,"question_id":33840001,"body_markdown":"&gt;Error:Execution failed for task &#39;:onyxenrollwizardsampleapp:processDebugResources&#39;.\r\n&gt; com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Android\\sdk\\build-tools\\23.0.2\\aapt.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\nHere is my Gradle file. Kindly help me out\r\n    \r\n   \r\n\r\n     apply plugin: &#39;com.android.application&#39;\r\n        android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.2&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.onyx_enroll_wizard_sample_app&quot;\r\n            minSdkVersion 14\r\n            targetSdkVersion 23\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n            }\r\n        }\r\n    \r\n        lintOptions {\r\n            abortOnError false\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    \r\n        maven {\r\n            url &#39;http://nexus.diamondfortress.com/nexus/content/repositories/releases&#39;\r\n        }\r\n    \r\n        maven {\r\n            url &#39;http://nexus.diamondfortress.com/nexus/content/repositories/snapshots&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;com.android.support:support-v13:23.0.1&#39;\r\n        compile &#39;com.dft.android:onyx-enroll-wizard:4.1.3&#39;\r\n    }\r\n\r\n","title":"Error:Execution failed for task , finished with non-zero exit value 1","body":"<blockquote>\n  <p>Error:Execution failed for task ':onyxenrollwizardsampleapp:processDebugResources'.\n  com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\\Android\\sdk\\build-tools\\23.0.2\\aapt.exe'' finished with non-zero exit value 1</p>\n</blockquote>\n\n<p>Here is my Gradle file. Kindly help me out</p>\n\n<pre><code> apply plugin: 'com.android.application'\n    android {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"com.example.onyx_enroll_wizard_sample_app\"\n        minSdkVersion 14\n        targetSdkVersion 23\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n}\n\nrepositories {\n    mavenCentral()\n\n    maven {\n        url 'http://nexus.diamondfortress.com/nexus/content/repositories/releases'\n    }\n\n    maven {\n        url 'http://nexus.diamondfortress.com/nexus/content/repositories/snapshots'\n    }\n}\n\ndependencies {\n    compile 'com.android.support:support-v13:23.0.1'\n    compile 'com.dft.android:onyx-enroll-wizard:4.1.3'\n}\n</code></pre>\n"},{"tags":["java","android-studio","jcifs"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1660629955,"post_id":73369370,"comment_id":129570466,"body_markdown":"I don&#39;t see anywhere that you actually attempt to write any bytes to file. See here for how this could be done: [byte\\[\\] to file in Java](https://stackoverflow.com/questions/4350084/byte-to-file-in-java) or see [this answer using newer NIO features](https://stackoverflow.com/a/29623982/1270000)","body":"I don&#39;t see anywhere that you actually attempt to write any bytes to file. See here for how this could be done: <a href=\"https://stackoverflow.com/questions/4350084/byte-to-file-in-java\">byte&#91;&#93; to file in Java</a> or see <a href=\"https://stackoverflow.com/a/29623982/1270000\">this answer using newer NIO features</a>"},{"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"score":0,"creation_date":1660633045,"post_id":73369370,"comment_id":129571268,"body_markdown":"There&#39;s no file getting saved, when I tried all the answers from the link you provided.","body":"There&#39;s no file getting saved, when I tried all the answers from the link you provided."},{"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"score":0,"creation_date":1660633618,"post_id":73369370,"comment_id":129571421,"body_markdown":"doInBackground: java.io.FileNotFoundException: 004920224616080824: open failed: EROFS (Read-only file system)\n\n004920224616080824 is the file name","body":"doInBackground: java.io.FileNotFoundException: 004920224616080824: open failed: EROFS (Read-only file system)  004920224616080824 is the file name"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1660634416,"post_id":73369370,"comment_id":129571657,"body_markdown":"It would help if you updated the question with the actions that save the `bytes` parameter of `doBackground`. At present this creates empty file. By the way the parameter is defined as `byte[][]` due to the `...`.","body":"It would help if you updated the question with the actions that save the <code>bytes</code> parameter of <code>doBackground</code>. At present this creates empty file. By the way the parameter is defined as <code>byte[][]</code> due to the <code>...</code>."},{"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"score":0,"creation_date":1660718466,"post_id":73369370,"comment_id":129595554,"body_markdown":"https://stackoverflow.com/questions/71394187/take-and-save-photo-to-network-folder-android, I updated my code like this, but I get  &#39;java.io.FileNotFoundException&#39;","body":"<a href=\"https://stackoverflow.com/questions/71394187/take-and-save-photo-to-network-folder-android\" title=\"take and save photo to network folder android\">stackoverflow.com/questions/71394187/&hellip;</a>, I updated my code like this, but I get  &#39;java.io.FileNotFoundException&#39;"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1660723284,"post_id":73369370,"comment_id":129597169,"body_markdown":"Unfortunately we can&#39;t guess which bits of the other question you&#39;ve copied. I&#39;ve voted to close (needs debugging details) because your program seems to work exactly as you&#39;ve described: it intentionally creates an empty file.","body":"Unfortunately we can&#39;t guess which bits of the other question you&#39;ve copied. I&#39;ve voted to close (needs debugging details) because your program seems to work exactly as you&#39;ve described: it intentionally creates an empty file."},{"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"score":0,"creation_date":1660811457,"post_id":73369370,"comment_id":129622421,"body_markdown":"I&#39;m only a beginner, I really don&#39;t know what I supposed to do, hoping someone can help me.","body":"I&#39;m only a beginner, I really don&#39;t know what I supposed to do, hoping someone can help me."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1660813764,"post_id":73369370,"comment_id":129623245,"body_markdown":"@Ryan Baltazar I&#39;ve added suggestions in an answer below which may help, though this question may get closed soon. BTW You&#39;ve used `bytes + &quot;.png&quot;` as the target file which means you have a weird filename `[[B...`.","body":"@Ryan Baltazar I&#39;ve added suggestions in an answer below which may help, though this question may get closed soon. BTW You&#39;ve used <code>bytes + &quot;.png&quot;</code> as the target file which means you have a weird filename <code>[[B...</code>."}],"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660813518,"creation_date":1660629552,"question_id":73369370,"body_markdown":"I&#39;m trying to create an app that will save image from a Byte[] Array as a .png file into my smb2 server, I was able to save a file but it only contains the Array as file name with 0kb size.\r\n\r\n\r\n**Getting image from camera**\r\n \r\n\r\n    @SuppressLint(&quot;MissingSuperCall&quot;)\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            if(requestCode == REQUEST_CODE) {\r\n                if (resultCode != RESULT_CANCELED) {\r\n                    image = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                    image.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\r\n                    bytesCapturedLogbook = byteArrayOutputStream.toByteArray();\r\n    \r\n                    MyCopy my = new MyCopy();\r\n                    my.execute(bytesCapturedLogbook);\r\n                }\r\n            }\r\n        }\r\n\r\n**Class for inserting file into my server**\r\n\r\n    private class MyCopy extends AsyncTask&lt;byte[], String, String&gt; {\r\n    \r\n            @Override\r\n            protected String doInBackground(byte[]... bytes) {\r\n                String z = &quot;&quot;;\r\n                try {\r\n    \r\n                    String url = &quot;smb://000.000.0.000/spm/Image/&quot; + bytes + &quot;.png&quot;;\r\n    \r\n                    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\r\n                            null, &quot;********&quot;, &quot;**********&quot;);\r\n                    SmbFile sfile = new SmbFile(url, auth);\r\n    \r\n                    if (!sfile.exists()) {\r\n                        sfile.createNewFile();\r\n                        z = &quot;Created the file for you!!!!&quot;;\r\n                    } else\r\n                        z = &quot;Already exists at the specified location!!!!&quot;;\r\n    \r\n                } catch (Exception ex) {\r\n                    // TODO: handle exception\r\n                    z = ex.getMessage().toString();\r\n                }\r\n                return z;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                // TODO Auto-generated method stub\r\n    \r\n    \r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(String r) {\r\n            }\r\n    \r\n    \r\n        }\r\n\r\n**Result inside file explorer**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/werYM.png","title":"Saving Byte Array as a PNG file into smb2 server","body":"<p>I'm trying to create an app that will save image from a Byte[] Array as a .png file into my smb2 server, I was able to save a file but it only contains the Array as file name with 0kb size.</p>\n<p><strong>Getting image from camera</strong></p>\n<pre><code>@SuppressLint(&quot;MissingSuperCall&quot;)\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if(requestCode == REQUEST_CODE) {\n            if (resultCode != RESULT_CANCELED) {\n                image = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                image.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\n                bytesCapturedLogbook = byteArrayOutputStream.toByteArray();\n\n                MyCopy my = new MyCopy();\n                my.execute(bytesCapturedLogbook);\n            }\n        }\n    }\n</code></pre>\n<p><strong>Class for inserting file into my server</strong></p>\n<pre><code>private class MyCopy extends AsyncTask&lt;byte[], String, String&gt; {\n\n        @Override\n        protected String doInBackground(byte[]... bytes) {\n            String z = &quot;&quot;;\n            try {\n\n                String url = &quot;smb://000.000.0.000/spm/Image/&quot; + bytes + &quot;.png&quot;;\n\n                NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\n                        null, &quot;********&quot;, &quot;**********&quot;);\n                SmbFile sfile = new SmbFile(url, auth);\n\n                if (!sfile.exists()) {\n                    sfile.createNewFile();\n                    z = &quot;Created the file for you!!!!&quot;;\n                } else\n                    z = &quot;Already exists at the specified location!!!!&quot;;\n\n            } catch (Exception ex) {\n                // TODO: handle exception\n                z = ex.getMessage().toString();\n            }\n            return z;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            // TODO Auto-generated method stub\n\n\n        }\n\n        @Override\n        protected void onPostExecute(String r) {\n        }\n\n\n    }\n</code></pre>\n<p><strong>Result inside file explorer</strong></p>\n<p><a href=\"https://i.stack.imgur.com/werYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/werYM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":320612,"reputation":825,"user_id":4436450,"display_name":"Martin Theiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660813322,"creation_date":1660813322,"answer_id":73400224,"question_id":73400120,"body_markdown":"If the car is new, then save the car first. Alternatively you could save factory1 first and then do `factory2.setCar(factory1.getCar())`","title":"Java Spring boot re-saves object in database instead of referencing it","body":"<p>If the car is new, then save the car first. Alternatively you could save factory1 first and then do <code>factory2.setCar(factory1.getCar())</code></p>\n"}],"owner":{"account_id":12662737,"reputation":13,"user_id":9203066,"display_name":"Antonis Paragioudakis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660813322,"creation_date":1660812899,"question_id":73400120,"body_markdown":"I have an object, let&#39;s name it ```Factory```. The factory Object is mapped with a ```@ManyToOne(cascade = CascadeType.ALL)``` relationship with an Object named ```Car```. So I could do something like:\r\n\r\n```\r\nfactory1.setCar(car1);\r\nfactory2.setCar(car1);\r\n```\r\nHowever, once I save those factories in the database, I would like them to reference the same car object. \r\n```\r\nfactoryRepository.save(factory1);\r\nfactoryRepository.save(factory2);\r\n```\r\nInstead, after saving I get 2 saved factories and 2 saved cars (different IDs but same values). Any idea on how to save the car1 Object once and make the 2 factories point to that object, using Java Spring-boot?\r\n\r\nAny help would be greatly appreciated.","title":"Java Spring boot re-saves object in database instead of referencing it","body":"<p>I have an object, let's name it <code>Factory</code>. The factory Object is mapped with a <code>@ManyToOne(cascade = CascadeType.ALL)</code> relationship with an Object named <code>Car</code>. So I could do something like:</p>\n<pre><code>factory1.setCar(car1);\nfactory2.setCar(car1);\n</code></pre>\n<p>However, once I save those factories in the database, I would like them to reference the same car object.</p>\n<pre><code>factoryRepository.save(factory1);\nfactoryRepository.save(factory2);\n</code></pre>\n<p>Instead, after saving I get 2 saved factories and 2 saved cars (different IDs but same values). Any idea on how to save the car1 Object once and make the 2 factories point to that object, using Java Spring-boot?</p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","android-studio","button","file-upload","webview"],"comments":[{"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"score":0,"creation_date":1660743783,"post_id":73388728,"comment_id":129604840,"body_markdown":"@blackapps I have a web application that was developed using React JS, there is an &quot;image upload&quot; button in it, now I wanted to create an android app for the same application so I used Android WebViews and gave my website link in the Webview load url. When the &quot;image upload&quot; button is clicked in my Android App, nothing is happening. Let me know if you want any further clarifications.","body":"@blackapps I have a web application that was developed using React JS, there is an &quot;image upload&quot; button in it, now I wanted to create an android app for the same application so I used Android WebViews and gave my website link in the Webview load url. When the &quot;image upload&quot; button is clicked in my Android App, nothing is happening. Let me know if you want any further clarifications."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660800660,"post_id":73388728,"comment_id":129619223,"body_markdown":"Android app&#39;s do not need the permission to read external storage if they will let the user pick an image. And i still do not see a button.","body":"Android app&#39;s do not need the permission to read external storage if they will let the user pick an image. And i still do not see a button."},{"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"score":0,"creation_date":1660808067,"post_id":73388728,"comment_id":129621244,"body_markdown":"@blackapps I&#39;m a beginner to this Android, I still can&#39;t understand this statement ` i still do not see a button.` please help me what I have to do.","body":"@blackapps I&#39;m a beginner to this Android, I still can&#39;t understand this statement ` i still do not see a button.` please help me what I have to do."},{"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"score":0,"creation_date":1660808215,"post_id":73388728,"comment_id":129621297,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/247360/discussion-between-sureshtechi-and-blackapps).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/247360/discussion-between-sureshtechi-and-blackapps\">continue this discussion in chat</a>."},{"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"score":0,"creation_date":1660809699,"post_id":73388728,"comment_id":129621814,"body_markdown":"@blackapps I have added the react code for the button above","body":"@blackapps I have added the react code for the button above"},{"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"score":0,"creation_date":1660811943,"post_id":73388728,"comment_id":129622596,"body_markdown":"@blackapps I have added a sample HTML code above as you mentioned","body":"@blackapps I have added a sample HTML code above as you mentioned"},{"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"score":0,"creation_date":1660812287,"post_id":73388728,"comment_id":129622726,"body_markdown":"@blackapps nothing happens when I click this button in Webviews, it should actually redirect me to the device storage to choose an image right but it didn&#39;t. Leave about the permissions sorry.","body":"@blackapps nothing happens when I click this button in Webviews, it should actually redirect me to the device storage to choose an image right but it didn&#39;t. Leave about the permissions sorry."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1660812743,"post_id":73388728,"comment_id":129622866,"body_markdown":"Indeed nothing happens. Has noting to do with react native. You better rewrite your post or make a new one where you first post this simple htm souce and then ask why the button does nothing. I heard that before and you can find discussions on stackoverflow where this is discussed. You have to fiddle around with settings for webviewcliwnt and such... i think.. &quot;Html form input does nothing in WebView&quot;. Google that. And use an `android` tag. Not one for `android-studio`","body":"Indeed nothing happens. Has noting to do with react native. You better rewrite your post or make a new one where you first post this simple htm souce and then ask why the button does nothing. I heard that before and you can find discussions on stackoverflow where this is discussed. You have to fiddle around with settings for webviewcliwnt and such... i think.. &quot;Html form input does nothing in WebView&quot;. Google that. And use an <code>android</code> tag. Not one for <code>android-studio</code>"},{"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"score":0,"creation_date":1660813079,"post_id":73388728,"comment_id":129622977,"body_markdown":"@blackapps Thank you so much for patiently listening to my comments, will post a new one as you mentioned.","body":"@blackapps Thank you so much for patiently listening to my comments, will post a new one as you mentioned."}],"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660812661,"creation_date":1660740352,"question_id":73388728,"body_markdown":"I have a website developed in React where the user clicks on a button to upload an image from his device. It&#39;s working fine on my website.\r\n\r\nI have converted this website into an Android App using Android Webview Java.\r\n\r\nNow how to make this React button work like a Java button in Android Studio so that when I grant &quot;READ_EXTERNAL_STORAGE&quot; permission, and when the user clicks on this button in Webview - he should be redirected to select an image from his device.  \r\n\r\n\r\n**SAMPLE HTML CODE** - \r\n\r\n```html\r\n&lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;form&gt;\r\n            &lt;input type=&quot;file&quot; accept=&quot;image/png, image/jpeg&quot; /&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[Above code website link](https://effortless-crostata-bc9ce0.netlify.app/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Image upload in Android WebViews","body":"<p>I have a website developed in React where the user clicks on a button to upload an image from his device. It's working fine on my website.</p>\n<p>I have converted this website into an Android App using Android Webview Java.</p>\n<p>Now how to make this React button work like a Java button in Android Studio so that when I grant &quot;READ_EXTERNAL_STORAGE&quot; permission, and when the user clicks on this button in Webview - he should be redirected to select an image from his device.</p>\n<p><strong>SAMPLE HTML CODE</strong> -</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;form&gt;\n            &lt;input type=&quot;file&quot; accept=&quot;image/png, image/jpeg&quot; /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://effortless-crostata-bc9ce0.netlify.app/\" rel=\"nofollow noreferrer\">Above code website link</a></p>\n"},{"tags":["java","mysql","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":4040123,"reputation":2452,"user_id":3323242,"accept_rate":60,"display_name":"krynio"},"score":0,"creation_date":1467969467,"post_id":38262430,"comment_id":63945758,"body_markdown":"First way is initialize database in `setUp` method in your test class. Another way is to create test configuration where you add `@PostConstruct` function which initialize data in database and add this class to `ContextConfiguration`.","body":"First way is initialize database in <code>setUp</code> method in your test class. Another way is to create test configuration where you add <code>@PostConstruct</code> function which initialize data in database and add this class to <code>ContextConfiguration</code>."},{"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"score":0,"creation_date":1467972139,"post_id":38262430,"comment_id":63947470,"body_markdown":"@krynio is there an example of an implementation of this? I&#39;m not very experienced with Spring, and I haven&#39;t come across this annotation in regards to JUnit.","body":"@krynio is there an example of an implementation of this? I&#39;m not very experienced with Spring, and I haven&#39;t come across this annotation in regards to JUnit."},{"owner":{"account_id":4040123,"reputation":2452,"user_id":3323242,"accept_rate":60,"display_name":"krynio"},"score":0,"creation_date":1467972886,"post_id":38262430,"comment_id":63947922,"body_markdown":"The simplest way is inject JdbcTemplate into your test class. Next you can execute sql query using `jdbcTemplate.execue(sql)`. To run this code before each test you should create `setUp` method with annotation `@Before`. Here is example how to inject JdbcTemplate and execute query: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-flyway/src/test/java/sample/flyway/SampleFlywayApplicationTests.java and here is example of using `@Before` http://junit.sourceforge.net/javadoc/org/junit/Before.html","body":"The simplest way is inject JdbcTemplate into your test class. Next you can execute sql query using <code>jdbcTemplate.execue(sql)</code>. To run this code before each test you should create <code>setUp</code> method with annotation <code>@Before</code>. Here is example how to inject JdbcTemplate and execute query: <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-flyway/src/test/java/sample/flyway/SampleFlywayApplicationTests.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/master/&hellip;</a> and here is example of using <code>@Before</code> <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Before.html\" rel=\"nofollow noreferrer\">junit.sourceforge.net/javadoc/org/junit/Before.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1660812043,"creation_date":1467978311,"answer_id":38265806,"question_id":38262430,"body_markdown":"There are various options if you do not want to execute that explicitly from `@Before` JUnit hook.\r\n\r\n1. Use [Spring Boot&#39;s JDBC initialization feature][1], where you would place `schema.sql` or `data.sql` into `src/test/resources` folder, so that it would be picked up only during testing.\r\n2. Use [Spring&#39;s @Sql annotation][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-initialization.using-basic-sql-scripts\r\n  [2]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql","title":"Initialising a database before Spring Boot test","body":"<p>There are various options if you do not want to execute that explicitly from <code>@Before</code> JUnit hook.</p>\n<ol>\n<li>Use <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-initialization.using-basic-sql-scripts\" rel=\"noreferrer\">Spring Boot's JDBC initialization feature</a>, where you would place <code>schema.sql</code> or <code>data.sql</code> into <code>src/test/resources</code> folder, so that it would be picked up only during testing.</li>\n<li>Use <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql\" rel=\"noreferrer\">Spring's @Sql annotation</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1468226013,"creation_date":1468225709,"answer_id":38302370,"question_id":38262430,"body_markdown":"The above answers all use the .sql schema loading technique where I&#39;d have to have a .sql schema for tests. I didn&#39;t want to do it that way as my schema would be expanding and I&#39;d rather not go through the hassle of adding entries to the schema as my tests expand.\r\n\r\nAs I&#39;m using Spring Boot, I came across this annotation which seems to solve the issue by first running `bootRun` and then running the tests.\r\n\r\nIn my test annotations I replaced the `@ContextConfigurations` with `@SpringApplicationConfiguration` and left all the classes to be the same. This seemed to solve the issue. So now the `test` task invokes bootRun to load the classes and **then** runs the tests.\r\n\r\nSee [@SpringApplicationConfiguration][1]\r\n\r\nHop this helps anyone facing the same issue.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications","title":"Initialising a database before Spring Boot test","body":"<p>The above answers all use the .sql schema loading technique where I'd have to have a .sql schema for tests. I didn't want to do it that way as my schema would be expanding and I'd rather not go through the hassle of adding entries to the schema as my tests expand.</p>\n\n<p>As I'm using Spring Boot, I came across this annotation which seems to solve the issue by first running <code>bootRun</code> and then running the tests.</p>\n\n<p>In my test annotations I replaced the <code>@ContextConfigurations</code> with <code>@SpringApplicationConfiguration</code> and left all the classes to be the same. This seemed to solve the issue. So now the <code>test</code> task invokes bootRun to load the classes and <strong>then</strong> runs the tests.</p>\n\n<p>See <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications\" rel=\"noreferrer\">@SpringApplicationConfiguration</a></p>\n\n<p>Hop this helps anyone facing the same issue.</p>\n"},{"tags":[],"owner":{"account_id":11893339,"reputation":3200,"user_id":8771341,"display_name":"MxWild"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1562080843,"creation_date":1562080843,"answer_id":56855597,"question_id":38262430,"body_markdown":"You can use @Sql annotaion for populate your DB, for example^\r\n\r\n    @Sql(scripts = &quot;classpath:db/populateDB.sql&quot;)","title":"Initialising a database before Spring Boot test","body":"<p>You can use @Sql annotaion for populate your DB, for example^</p>\n\n<pre><code>@Sql(scripts = \"classpath:db/populateDB.sql\")\n</code></pre>\n"}],"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85150,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":38302370,"answer_count":3,"score":28,"last_activity_date":1660812043,"creation_date":1467967417,"question_id":38262430,"body_markdown":"I&#39;m using JUnit to test my application and everything works fine as long as the database has been initialised before the testing (using `gradle bootRun` to run as a web-app). However, if the database is empty, the application does not seem to initialise any models or entities before testing. Is there a way I&#39;m supposed to do this? I made an assumption that the `ApplicationRunner` class will be ran before the test and initalise the entities. Is there a way to do this or am I using the wrong approach?\r\n\r\nThis is how my `application.properties` file is looking like:\r\n\r\n    server.port=8090\r\n    server.ssl.key-store=classpath:keystore.jks\r\n    server.ssl.key-store-password=123456\r\n    server.ssl.key-password 123456\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.hibernate.naming-strategy:org.hibernate.cfg.ImprovedNamingStrategy\r\n    application.logger.org.springframework=INFO\r\n\r\n\r\nMy database is stored in `/src/main/java/application/persistence/DbConfig.java` using a `DriverManagerDataSource` connection. And I have setup `ApplicationRunner` to run add a few rows to the db upon starting.\r\n\r\nedit:\r\n\r\nI should also add that these are the annotations I&#39;m using on the JUnit test file:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(classes={\r\n\t\tAdeyTrackApplication.class, \r\n\t\tSecurityConfig.class, \r\n\t\tWebConfig.class,\r\n\t\tAuthorizationController.class\r\n\t\t})\r\n","title":"Initialising a database before Spring Boot test","body":"<p>I'm using JUnit to test my application and everything works fine as long as the database has been initialised before the testing (using <code>gradle bootRun</code> to run as a web-app). However, if the database is empty, the application does not seem to initialise any models or entities before testing. Is there a way I'm supposed to do this? I made an assumption that the <code>ApplicationRunner</code> class will be ran before the test and initalise the entities. Is there a way to do this or am I using the wrong approach?</p>\n\n<p>This is how my <code>application.properties</code> file is looking like:</p>\n\n<pre><code>server.port=8090\nserver.ssl.key-store=classpath:keystore.jks\nserver.ssl.key-store-password=123456\nserver.ssl.key-password 123456\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.hibernate.naming-strategy:org.hibernate.cfg.ImprovedNamingStrategy\napplication.logger.org.springframework=INFO\n</code></pre>\n\n<p>My database is stored in <code>/src/main/java/application/persistence/DbConfig.java</code> using a <code>DriverManagerDataSource</code> connection. And I have setup <code>ApplicationRunner</code> to run add a few rows to the db upon starting.</p>\n\n<p>edit:</p>\n\n<p>I should also add that these are the annotations I'm using on the JUnit test file:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes={\n    AdeyTrackApplication.class, \n    SecurityConfig.class, \n    WebConfig.class,\n    AuthorizationController.class\n    })\n</code></pre>\n"},{"tags":["java","angular","spring","spring-boot","jhipster"],"comments":[{"owner":{"account_id":25818105,"reputation":71,"user_id":19557714,"display_name":"Cape_LeadWort"},"score":0,"creation_date":1660577414,"post_id":73362359,"comment_id":129559498,"body_markdown":"if this question is unclear or you have a comment. Say it to me. do not vote negatively. It&#39;s no use.","body":"if this question is unclear or you have a comment. Say it to me. do not vote negatively. It&#39;s no use."},{"owner":{"account_id":25818105,"reputation":71,"user_id":19557714,"display_name":"Cape_LeadWort"},"score":0,"creation_date":1660640415,"post_id":73362359,"comment_id":129573704,"body_markdown":"@Ga&#235;lMarziou  Thank you for answering.                                                              regarding your question :\nI&#39;m just an executor, it&#39;s the client who asks for it and he is convinced that it must be done. I have no say in this subject.","body":"@Ga&#235;lMarziou  Thank you for answering.                                                              regarding your question : I&#39;m just an executor, it&#39;s the client who asks for it and he is convinced that it must be done. I have no say in this subject."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1660642662,"post_id":73362359,"comment_id":129574481,"body_markdown":"You are not deciding but I suppose that are responsible to evaluate time and risk, your client can&#39;t do it. When you will announce 5x time and risk to fail, you will start having an interesting discussion.  I &#39;ll converted my comments into an answer to make it more readable.","body":"You are not deciding but I suppose that are responsible to evaluate time and risk, your client can&#39;t do it. When you will announce 5x time and risk to fail, you will start having an interesting discussion.  I &#39;ll converted my comments into an answer to make it more readable."},{"owner":{"account_id":25818105,"reputation":71,"user_id":19557714,"display_name":"Cape_LeadWort"},"score":0,"creation_date":1660643323,"post_id":73362359,"comment_id":129574736,"body_markdown":"@Ga&#235;lMarziou  Thanks for taking time to respond to me. it helps me a lot.","body":"@Ga&#235;lMarziou  Thanks for taking time to respond to me. it helps me a lot."}],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1660811668,"creation_date":1660642301,"answer_id":73371791,"question_id":73362359,"body_markdown":"**Before asking how to upgrade, the first question to ask is why?** \r\n\r\nWhat are the benefits you expect from upgrading JHipster versus upgrading your app manually to make it run under latest versions of Java and Spring Boot and other libs?\r\n\r\nUsually when you want to upgrade an application, it&#39;s to get support for patching security vulnerabilities or to be able to use more modern libs before starting a major functional evolution.\r\nYou can get all these benefits by updating manually your code at a fraction of cost especially when your app is several major versions behind JHipster.\r\n\r\nUnless your project is trivial, its value reside in your custom code not in code generated by JHipster. \r\n\r\nSo, it usually does not make sense to keep a dependency with the code generator, it just adds technical debt when you are unlikely to use it anymore.\r\n\r\nIn my projects, I usually cut off all dependencies with JHipster after few months, it makes it so much easier to upgrade libs and frameworks.\r\n\r\nAs an analogy, you would not keep scaffolding after your house is built.\r\n\r\nThat said, if you still want to do it, there are 2 alternatives:\r\n\r\n**Using jhipster upgrade**\r\n\r\nIn your case the effort is multiplied by 3 because your app is 3 major versions behind current JHipster. \r\nEach major version introduces its share of breaking changes including dropping some components. So in some rare cases you just couldn&#39;t upgrade depending on the options you chose for initial project generation. \r\n\r\nSo, first step is to **review the breaking changes** introduced by each major release, see https://www.jhipster.tech/releases/\r\n\r\n`jhipster upgrade` will likely fail if you want to go directly from 4 to 7 so you should probably go from 4 to 5, 5 to 6, 6 to 7. It will take long time and effort and there&#39;s a risk that you will fail.\r\n\r\n**Starting from fresh project and importing custom code**\r\n\r\nGenerating a new app in 7 and then importing your custom business code is probably a better idea. \r\n\r\nIf you have kept the JDL file used for initial generation then it&#39;s easy.\r\n\r\nIf you don&#39;t have this JDL file or app was built by answering questions, you can use `jhipster export-jdl`.\r\n\r\nSo now you have the JDL and you can create your app in an empty directory, and generate your app with latest version using `jhipster import-jdl`.\r\n\r\nThen you should start importing custom code into new app.\r\n\r\nWhichever way you choose, **you must be knowledgeable about the technology stack used by JHipster**. So to be clear: giving this task to a junior dev does not make any sense.\r\n ","title":"JHIPSTER Application UPGRADE","body":"<p><strong>Before asking how to upgrade, the first question to ask is why?</strong></p>\n<p>What are the benefits you expect from upgrading JHipster versus upgrading your app manually to make it run under latest versions of Java and Spring Boot and other libs?</p>\n<p>Usually when you want to upgrade an application, it's to get support for patching security vulnerabilities or to be able to use more modern libs before starting a major functional evolution.\nYou can get all these benefits by updating manually your code at a fraction of cost especially when your app is several major versions behind JHipster.</p>\n<p>Unless your project is trivial, its value reside in your custom code not in code generated by JHipster.</p>\n<p>So, it usually does not make sense to keep a dependency with the code generator, it just adds technical debt when you are unlikely to use it anymore.</p>\n<p>In my projects, I usually cut off all dependencies with JHipster after few months, it makes it so much easier to upgrade libs and frameworks.</p>\n<p>As an analogy, you would not keep scaffolding after your house is built.</p>\n<p>That said, if you still want to do it, there are 2 alternatives:</p>\n<p><strong>Using jhipster upgrade</strong></p>\n<p>In your case the effort is multiplied by 3 because your app is 3 major versions behind current JHipster.\nEach major version introduces its share of breaking changes including dropping some components. So in some rare cases you just couldn't upgrade depending on the options you chose for initial project generation.</p>\n<p>So, first step is to <strong>review the breaking changes</strong> introduced by each major release, see <a href=\"https://www.jhipster.tech/releases/\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/releases/</a></p>\n<p><code>jhipster upgrade</code> will likely fail if you want to go directly from 4 to 7 so you should probably go from 4 to 5, 5 to 6, 6 to 7. It will take long time and effort and there's a risk that you will fail.</p>\n<p><strong>Starting from fresh project and importing custom code</strong></p>\n<p>Generating a new app in 7 and then importing your custom business code is probably a better idea.</p>\n<p>If you have kept the JDL file used for initial generation then it's easy.</p>\n<p>If you don't have this JDL file or app was built by answering questions, you can use <code>jhipster export-jdl</code>.</p>\n<p>So now you have the JDL and you can create your app in an empty directory, and generate your app with latest version using <code>jhipster import-jdl</code>.</p>\n<p>Then you should start importing custom code into new app.</p>\n<p>Whichever way you choose, <strong>you must be knowledgeable about the technology stack used by JHipster</strong>. So to be clear: giving this task to a junior dev does not make any sense.</p>\n"}],"owner":{"account_id":25818105,"reputation":71,"user_id":19557714,"display_name":"Cape_LeadWort"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73371791,"answer_count":1,"score":0,"last_activity_date":1660811668,"creation_date":1660573462,"question_id":73362359,"body_markdown":"I want to upgrade an app which was built with jhipster 4.14.4 to 7.9.2 the latest version right now.\r\n\r\nDo you have any ideas how should I proceed ? (the steps to follow)(the best way to do it)\r\n\r\nI already read this : https://www.jhipster.tech/upgrading-an-application/ but i am still confused.\r\nI already tried with the automatic upgrade which ended with a lot of conflict to solve. I don&#39;t know if i should continue in that direction or change my strategy. Because some other developers told me to create another project with 7.9.2 and copy the old code step by step and then resolve problems.\r\n\r\nthanks.\r\n","title":"JHIPSTER Application UPGRADE","body":"<p>I want to upgrade an app which was built with jhipster 4.14.4 to 7.9.2 the latest version right now.</p>\n<p>Do you have any ideas how should I proceed ? (the steps to follow)(the best way to do it)</p>\n<p>I already read this : <a href=\"https://www.jhipster.tech/upgrading-an-application/\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/upgrading-an-application/</a> but i am still confused.\nI already tried with the automatic upgrade which ended with a lot of conflict to solve. I don't know if i should continue in that direction or change my strategy. Because some other developers told me to create another project with 7.9.2 and copy the old code step by step and then resolve problems.</p>\n<p>thanks.</p>\n"},{"tags":["java","multithreading","swing","graphics","mandelbrot"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1660835008,"post_id":73398678,"comment_id":129631905,"body_markdown":"Swing was created for platform independent java graphical applications. It is not the best framework for custom graphics. If you want to learn skills that are more reusable in what you are doing, I recommend OGL/JOGL (https://jogamp.org/jogl) as openGL can be used in many programming languages.","body":"Swing was created for platform independent java graphical applications. It is not the best framework for custom graphics. If you want to learn skills that are more reusable in what you are doing, I recommend OGL/JOGL (<a href=\"https://jogamp.org/jogl\" rel=\"nofollow noreferrer\">jogamp.org/jogl</a>) as openGL can be used in many programming languages."},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":1,"creation_date":1660875645,"post_id":73398678,"comment_id":129642475,"body_markdown":"unless you are on some supercomputer with **many** CPUs/cores then CPU side multithreading will not buy you much performance boost, instead go for GLSL like this [Can&#39;t find a way to color the Mandelbrot-set the way i&#39;m aiming for](https://stackoverflow.com/a/56197067/2521214) you can also speedup zooming like this [What are the fastest algorithms for rendering the mandelbrot set?](https://stackoverflow.com/a/66719738/2521214)","body":"unless you are on some supercomputer with <b>many</b> CPUs/cores then CPU side multithreading will not buy you much performance boost, instead go for GLSL like this <a href=\"https://stackoverflow.com/a/56197067/2521214\">Can&#39;t find a way to color the Mandelbrot-set the way i&#39;m aiming for</a> you can also speedup zooming like this <a href=\"https://stackoverflow.com/a/66719738/2521214\">What are the fastest algorithms for rendering the mandelbrot set?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660811444,"creation_date":1660811218,"answer_id":73399761,"question_id":73398678,"body_markdown":"1. You made a mistake by using static fields in ComputeThread. That way threads use the same arrays and they overwrite each other. So you get 1/4 of your image.\r\n\r\n2. Repaint runs concurrently with threads so if it finishes earlier, not the whole image is drawn. You have to inform JFrame about finished calculations so it can repaint when all is ready.\r\n\r\nBelow the code that works better:\r\n\r\nMandelbrot.java\r\n```\r\npackage mb;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Graphics;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.EventListener;\r\nimport java.util.Stack;\r\n\r\npublic class Mandelbrot extends JPanel implements CalcListener {\r\n    private static double size = 4.0; // complex plane is size units in width and length\r\n    private static int n    = 1000; // window is n x n in pixels\r\n    private static int max  = 255; // iterate through hex color values\r\n    private static double x0 = -size/2; // set window origin\r\n    private static double y0 = size/2; // set window origin\r\n    private static double xC = 0; // set complex plane origin\r\n    private static double yC = 0; // set complex plane origin\r\n    private static double scaleFactor = size/n; // translate complex plane to pixels\r\n    private static Stack&lt;double[]&gt; origins = new Stack&lt;double[]&gt;(); // track origins for zooming out\r\n    private static double zoom = 2.0; // modify to alter brightness scheme on zoom\r\n    private static Color[][] colors = new Color[n][n];\r\n    static Mandelbrot me;\r\n\r\n    public Mandelbrot() {\r\n        this.me=this;\r\n        addMouseListener(new MouseAdapter() {\r\n            public void mousePressed(MouseEvent e) {\r\n                double[] center = new double[]{xC, yC}; // rescale\r\n                origins.push(center);\r\n                zoom = (zoom * 2) - (0.5 * zoom);\r\n                xC = x0 + (scaleFactor * e.getX());\r\n                yC = y0 - (scaleFactor * e.getY());\r\n                size = size/2.0;\r\n                scaleFactor = size/n;\r\n                x0 = xC - (size/2);\r\n                y0 = yC + (size/2);\r\n                ComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors, me);\r\n                ComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors, me);\r\n                ComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors, me);\r\n                ComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors, me);\r\n                Thread thread1 = new Thread(quadrant1);\r\n                Thread thread2 = new Thread(quadrant2);\r\n                Thread thread3 = new Thread(quadrant3);\r\n                Thread thread4 = new Thread(quadrant4);\r\n                thread1.start();\r\n                thread2.start();\r\n                thread3.start();\r\n                thread4.start();\r\n                repaint(0, 0, getWidth(), getHeight());\r\n            }\r\n        });\r\n        addKeyListener(new KeyAdapter() {\r\n            public void keyPressed(KeyEvent e) {\r\n                if (e.getKeyCode() == KeyEvent.VK_LEFT) {\r\n                    double[] center = origins.pop(); // rescale\r\n                    zoom = (zoom + (zoom / 3)) / 2;\r\n                    xC = center[0];\r\n                    yC = center[1];\r\n                    size = size*2.0;\r\n                    scaleFactor = size/n;\r\n                    x0 = xC - (size/2);\r\n                    y0 = yC + (size/2);\r\n                    ComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors,me);\r\n                    ComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors,me);\r\n                    ComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors,me);\r\n                    ComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors,me);\r\n                    Thread thread1 = new Thread(quadrant1);\r\n                    Thread thread2 = new Thread(quadrant2);\r\n                    Thread thread3 = new Thread(quadrant3);\r\n                    Thread thread4 = new Thread(quadrant4);\r\n                    thread1.start();\r\n                    thread2.start();\r\n                    thread3.start();\r\n                    thread4.start();\r\n                    repaint(0, 0, getWidth(), getHeight());\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt; n; j++) {           \r\n                g.setColor(colors[j][i]);\r\n                g.drawLine(i, j, i, j);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static int mand(Complex z0, int max) {\r\n        Complex z = z0;\r\n        for (int t = 0; t &lt; max; t++) {\r\n            if (z.abs() &gt; zoom) {\r\n                return t;\r\n            }\r\n            z = Complex.ad(Complex.mult(z, z), z0);\r\n        }\r\n        return max;\r\n    }\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n\r\n        \r\n        for (int i = 0; i &lt; n; i++) { // initialize array for initial drawing\r\n            for (int j = 0; j &lt; n; j++) {\r\n                double a = x0 + (i * scaleFactor);\r\n                double b = y0 - (j * scaleFactor);\r\n                Complex z0 = new Complex(a, b);\r\n                int gray = max - mand(z0, max);\r\n                Color color = new Color(gray, gray, gray);\r\n                colors[j][i] = color;\r\n            }\r\n        }\r\n\r\n        \r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            var panel = new Mandelbrot();\r\n            panel.setBackground(Color.WHITE);\r\n            panel.setFocusable(true);\r\n            var frame = new JFrame(&quot;Mandelbrot&quot;);\r\n            frame.setSize(n, n);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(panel, BorderLayout.CENTER);\r\n            frame.setVisible(true);\r\n        });\r\n        \r\n    }\r\n    \r\n    public void calcDoneEvent()  \r\n    {\r\n      repaint();\r\n    }\r\n}\r\n```\r\n\r\nComputeThread.java\r\n```\r\npackage mb;\r\n\r\nimport java.awt.Color;\r\n\r\npublic class ComputeThread implements Runnable {\r\n    \r\n    private  int n;\r\n    private  double x0;\r\n    private  double y0;\r\n    private  int xLow;\r\n    private  int xHigh;\r\n    private  int yLow;\r\n    private  int yHigh;\r\n    private  int max;\r\n    private  double scaleFactor;\r\n    private  double zoom;\r\n    private  Color[][] colors = new Color[1000][1000];\r\n    private CalcListener listener;\r\n    \r\n    public ComputeThread(int n, double zoom, double x0, double y0, int xLow, int xHigh, int yLow, int yHigh, int max, double scaleFactor, Color[][] colors,CalcListener l) {\r\n        this.n = n;\r\n        this.zoom = zoom;\r\n        this.x0 = x0;\r\n        this.y0 = y0;\r\n        this.xLow = xLow;\r\n        this.xHigh = xHigh;\r\n        this.yLow = yLow;\r\n        this.yHigh = yHigh;\r\n        this.max = max;\r\n        this.scaleFactor = scaleFactor;\r\n        this.colors = colors;\r\n        this.listener = l;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        for (int i = xLow; i &lt; xHigh; i++) {\r\n            for (int j = yLow; j &lt; yHigh; j++) {\r\n                double a = x0 + (i * scaleFactor);\r\n                double b = y0 - (j * scaleFactor);\r\n                Complex z0 = new Complex(a, b);\r\n                int gray = max - mand(z0, max);\r\n                Color color = new Color(gray, gray, gray);\r\n                colors[j][i] = color;\r\n            }\r\n        }\r\n        listener.calcDoneEvent();\r\n    }\r\n\r\n    public  int mand(Complex z0, int max) {\r\n        Complex z = z0;\r\n        for (int t = 0; t &lt; max; t++) {\r\n            if (z.abs() &gt; zoom) {\r\n                return t;\r\n            }\r\n            z = Complex.ad(Complex.mult(z, z), z0);\r\n        }\r\n        return max;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nCalcListener.java\r\n```\r\npackage mb;\r\n\r\npublic interface CalcListener\r\n{\r\n  public void calcDoneEvent();\r\n}\r\n```\r\n\r\nAnd Complex.java is without modifications.\r\n\r\nAnother issue is coding style. I made a shortcut by putting static &quot;me&quot; variable in Mandelbrot which is bad practice. Correctly, you should rather inherit Mouse and Key Adapters to own classes that would be capable of passing listener to threads.","title":"Mutli Threaded Mandelbrot Set viewer with Java Swing","body":"<ol>\n<li><p>You made a mistake by using static fields in ComputeThread. That way threads use the same arrays and they overwrite each other. So you get 1/4 of your image.</p>\n</li>\n<li><p>Repaint runs concurrently with threads so if it finishes earlier, not the whole image is drawn. You have to inform JFrame about finished calculations so it can repaint when all is ready.</p>\n</li>\n</ol>\n<p>Below the code that works better:</p>\n<p>Mandelbrot.java</p>\n<pre><code>package mb;\n\nimport java.awt.Color;\nimport java.awt.BorderLayout;\nimport java.awt.Graphics;\nimport javax.swing.SwingUtilities;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.util.EventListener;\nimport java.util.Stack;\n\npublic class Mandelbrot extends JPanel implements CalcListener {\n    private static double size = 4.0; // complex plane is size units in width and length\n    private static int n    = 1000; // window is n x n in pixels\n    private static int max  = 255; // iterate through hex color values\n    private static double x0 = -size/2; // set window origin\n    private static double y0 = size/2; // set window origin\n    private static double xC = 0; // set complex plane origin\n    private static double yC = 0; // set complex plane origin\n    private static double scaleFactor = size/n; // translate complex plane to pixels\n    private static Stack&lt;double[]&gt; origins = new Stack&lt;double[]&gt;(); // track origins for zooming out\n    private static double zoom = 2.0; // modify to alter brightness scheme on zoom\n    private static Color[][] colors = new Color[n][n];\n    static Mandelbrot me;\n\n    public Mandelbrot() {\n        this.me=this;\n        addMouseListener(new MouseAdapter() {\n            public void mousePressed(MouseEvent e) {\n                double[] center = new double[]{xC, yC}; // rescale\n                origins.push(center);\n                zoom = (zoom * 2) - (0.5 * zoom);\n                xC = x0 + (scaleFactor * e.getX());\n                yC = y0 - (scaleFactor * e.getY());\n                size = size/2.0;\n                scaleFactor = size/n;\n                x0 = xC - (size/2);\n                y0 = yC + (size/2);\n                ComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors, me);\n                ComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors, me);\n                ComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors, me);\n                ComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors, me);\n                Thread thread1 = new Thread(quadrant1);\n                Thread thread2 = new Thread(quadrant2);\n                Thread thread3 = new Thread(quadrant3);\n                Thread thread4 = new Thread(quadrant4);\n                thread1.start();\n                thread2.start();\n                thread3.start();\n                thread4.start();\n                repaint(0, 0, getWidth(), getHeight());\n            }\n        });\n        addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e) {\n                if (e.getKeyCode() == KeyEvent.VK_LEFT) {\n                    double[] center = origins.pop(); // rescale\n                    zoom = (zoom + (zoom / 3)) / 2;\n                    xC = center[0];\n                    yC = center[1];\n                    size = size*2.0;\n                    scaleFactor = size/n;\n                    x0 = xC - (size/2);\n                    y0 = yC + (size/2);\n                    ComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors,me);\n                    ComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors,me);\n                    ComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors,me);\n                    ComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors,me);\n                    Thread thread1 = new Thread(quadrant1);\n                    Thread thread2 = new Thread(quadrant2);\n                    Thread thread3 = new Thread(quadrant3);\n                    Thread thread4 = new Thread(quadrant4);\n                    thread1.start();\n                    thread2.start();\n                    thread3.start();\n                    thread4.start();\n                    repaint(0, 0, getWidth(), getHeight());\n                }\n            }\n        });\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {           \n                g.setColor(colors[j][i]);\n                g.drawLine(i, j, i, j);\n            }\n        }\n    }\n\n    public static int mand(Complex z0, int max) {\n        Complex z = z0;\n        for (int t = 0; t &lt; max; t++) {\n            if (z.abs() &gt; zoom) {\n                return t;\n            }\n            z = Complex.ad(Complex.mult(z, z), z0);\n        }\n        return max;\n    }\n    \n    \n    public static void main(String[] args) {\n\n        \n        for (int i = 0; i &lt; n; i++) { // initialize array for initial drawing\n            for (int j = 0; j &lt; n; j++) {\n                double a = x0 + (i * scaleFactor);\n                double b = y0 - (j * scaleFactor);\n                Complex z0 = new Complex(a, b);\n                int gray = max - mand(z0, max);\n                Color color = new Color(gray, gray, gray);\n                colors[j][i] = color;\n            }\n        }\n\n        \n        SwingUtilities.invokeLater(() -&gt; {\n            var panel = new Mandelbrot();\n            panel.setBackground(Color.WHITE);\n            panel.setFocusable(true);\n            var frame = new JFrame(&quot;Mandelbrot&quot;);\n            frame.setSize(n, n);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(panel, BorderLayout.CENTER);\n            frame.setVisible(true);\n        });\n        \n    }\n    \n    public void calcDoneEvent()  \n    {\n      repaint();\n    }\n}\n</code></pre>\n<p>ComputeThread.java</p>\n<pre><code>package mb;\n\nimport java.awt.Color;\n\npublic class ComputeThread implements Runnable {\n    \n    private  int n;\n    private  double x0;\n    private  double y0;\n    private  int xLow;\n    private  int xHigh;\n    private  int yLow;\n    private  int yHigh;\n    private  int max;\n    private  double scaleFactor;\n    private  double zoom;\n    private  Color[][] colors = new Color[1000][1000];\n    private CalcListener listener;\n    \n    public ComputeThread(int n, double zoom, double x0, double y0, int xLow, int xHigh, int yLow, int yHigh, int max, double scaleFactor, Color[][] colors,CalcListener l) {\n        this.n = n;\n        this.zoom = zoom;\n        this.x0 = x0;\n        this.y0 = y0;\n        this.xLow = xLow;\n        this.xHigh = xHigh;\n        this.yLow = yLow;\n        this.yHigh = yHigh;\n        this.max = max;\n        this.scaleFactor = scaleFactor;\n        this.colors = colors;\n        this.listener = l;\n    }\n\n    @Override\n    public void run() {\n        for (int i = xLow; i &lt; xHigh; i++) {\n            for (int j = yLow; j &lt; yHigh; j++) {\n                double a = x0 + (i * scaleFactor);\n                double b = y0 - (j * scaleFactor);\n                Complex z0 = new Complex(a, b);\n                int gray = max - mand(z0, max);\n                Color color = new Color(gray, gray, gray);\n                colors[j][i] = color;\n            }\n        }\n        listener.calcDoneEvent();\n    }\n\n    public  int mand(Complex z0, int max) {\n        Complex z = z0;\n        for (int t = 0; t &lt; max; t++) {\n            if (z.abs() &gt; zoom) {\n                return t;\n            }\n            z = Complex.ad(Complex.mult(z, z), z0);\n        }\n        return max;\n    }\n    \n}\n</code></pre>\n<p>CalcListener.java</p>\n<pre><code>package mb;\n\npublic interface CalcListener\n{\n  public void calcDoneEvent();\n}\n</code></pre>\n<p>And Complex.java is without modifications.</p>\n<p>Another issue is coding style. I made a shortcut by putting static &quot;me&quot; variable in Mandelbrot which is bad practice. Correctly, you should rather inherit Mouse and Key Adapters to own classes that would be capable of passing listener to threads.</p>\n"}],"owner":{"account_id":8275179,"reputation":121,"user_id":6221650,"accept_rate":50,"display_name":"kanja klub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73399761,"answer_count":1,"score":0,"last_activity_date":1660811444,"creation_date":1660806086,"question_id":73398678,"body_markdown":"Attempting a multi-threaded Mandelbrot Set viewer in Java using Swing graphics. I&#39;ve seen a few Mandelbrot Set programs and other multi threaded Swing apps that use BufferedImage and/or SwingWorker, but I&#39;m wondering if this approach can work/be redeemed, and if it cannot, why not?\r\n\r\nOn click (zoom in) and on key press (zoom out) I&#39;m opening threads to calculate color values in quadrants (upper left, upper right, lower left, lower right), and updating these values in ```private static Color[][] colors = new Color[n][n];```. Then the repaint method is called on the component to draw from the ```colors``` array.\r\n\r\nAre these threads executing concurrently with the Event Dispatch Thread, and if so, why aren&#39;t these threads occurring ahead of the Event Dispatch Thread Swing component drawing with ```SwingUtilities.invokeLater``` in place?\r\n\r\nNo error messages, just unpredictable redrawing behavior on click and key press. Thank you.\r\n\r\nMandelbrot.java\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Graphics;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.Stack;\r\n\r\npublic class Mandelbrot extends JPanel {\r\n\tprivate static double size = 4.0; // complex plane is size units in width and length\r\n\tprivate static int n\t= 1000; // window is n x n in pixels\r\n\tprivate static int max\t= 255; // iterate through hex color values\r\n\tprivate static double x0 = -size/2; // set window origin\r\n\tprivate static double y0 = size/2; // set window origin\r\n\tprivate static double xC = 0; // set complex plane origin\r\n\tprivate static double yC = 0; // set complex plane origin\r\n\tprivate static double scaleFactor = size/n; // translate complex plane to pixels\r\n\tprivate static Stack&lt;double[]&gt; origins = new Stack&lt;double[]&gt;(); // track origins for zooming out\r\n\tprivate static double zoom = 2.0; // modify to alter brightness scheme on zoom\r\n\tprivate static Color[][] colors = new Color[n][n];\r\n\r\n\tpublic Mandlebrot() {\r\n\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\tdouble[] center = new double[]{xC, yC}; // rescale\r\n\t\t\t\torigins.push(center);\r\n\t\t\t\tzoom = (zoom * 2) - (0.5 * zoom);\r\n\t\t\t\txC = x0 + (scaleFactor * e.getX());\r\n\t\t\t\tyC = y0 - (scaleFactor * e.getY());\r\n\t\t\t\tsize = size/2.0;\r\n\t\t\t\tscaleFactor = size/n;\r\n\t\t\t\tx0 = xC - (size/2);\r\n\t\t\t\ty0 = yC + (size/2);\r\n\t\t\t\tComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors);\r\n\t\t\t\tComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors);\r\n\t\t\t\tComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors);\r\n\t\t\t\tComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors);\r\n\t\t\t\tThread thread1 = new Thread(quadrant1);\r\n\t\t\t\tThread thread2 = new Thread(quadrant2);\r\n\t\t\t\tThread thread3 = new Thread(quadrant3);\r\n\t\t\t\tThread thread4 = new Thread(quadrant4);\r\n\t\t\t\tthread1.start();\r\n\t\t\t\tthread2.start();\r\n\t\t\t\tthread3.start();\r\n\t\t\t\tthread4.start();\r\n\t\t\t\trepaint(0, 0, getWidth(), getHeight());\r\n\t\t\t}\r\n\t\t});\r\n\t\taddKeyListener(new KeyAdapter() {\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\tif (e.getKeyCode() == KeyEvent.VK_LEFT) {\r\n\t\t\t\t\tdouble[] center = origins.pop(); // rescale\r\n\t\t\t\t\tzoom = (zoom + (zoom / 3)) / 2;\r\n\t\t\t\t\txC = center[0];\r\n\t\t\t\t\tyC = center[1];\r\n\t\t\t\t\tsize = size*2.0;\r\n\t\t\t\t\tscaleFactor = size/n;\r\n\t\t\t\t\tx0 = xC - (size/2);\r\n\t\t\t\t\ty0 = yC + (size/2);\r\n\t\t\t\t    ComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors);\r\n\t\t\t\t    ComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors);\r\n\t\t\t\t    ComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors);\r\n\t\t\t\t    ComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors);\r\n\t\t\t\t    Thread thread1 = new Thread(quadrant1);\r\n\t\t\t\t    Thread thread2 = new Thread(quadrant2);\r\n\t\t\t\t    Thread thread3 = new Thread(quadrant3);\r\n\t\t\t\t    Thread thread4 = new Thread(quadrant4);\r\n\t\t\t\t    thread1.start();\r\n\t\t\t\t    thread2.start();\r\n\t\t\t\t    thread3.start();\r\n\t\t\t\t    thread4.start();\r\n\t\t\t\t\trepaint(0, 0, getWidth(), getHeight());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tfor (int j = 0; j &lt; n; j++) {\t\t\t\r\n\t\t\t\tg.setColor(colors[j][i]);\r\n\t\t\t\tg.drawLine(i, j, i, j);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int mand(Complex z0, int max) {\r\n\t\tComplex z = z0;\r\n\t\tfor (int t = 0; t &lt; max; t++) {\r\n\t\t\tif (z.abs() &gt; zoom) {\r\n\t\t\t\treturn t;\r\n\t\t\t}\r\n\t\t\tz = Complex.ad(Complex.mult(z, z), z0);\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; n; i++) { // initialize array for initial drawing\r\n\t\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\t\tdouble a = x0 + (i * scaleFactor);\r\n\t\t\t\tdouble b = y0 - (j * scaleFactor);\r\n\t\t\t\tComplex z0 = new Complex(a, b);\r\n\t\t\t\tint gray = max - mand(z0, max);\r\n\t\t\t\tColor color = new Color(gray, gray, gray);\r\n\t\t\t\tcolors[j][i] = color;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tvar panel = new Threading();\r\n\t\t\tpanel.setBackground(Color.WHITE);\r\n\t\t\tpanel.setFocusable(true);\r\n\t\t\tvar frame = new JFrame(&quot;Mandelbrot&quot;);\r\n\t\t\tframe.setSize(n, n);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.getContentPane().add(panel, BorderLayout.CENTER);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nComputeThread.java\r\n```\r\nimport java.awt.Color;\r\n\r\npublic class ComputeThread implements Runnable {\r\n\t\r\n\tprivate static int n;\r\n\tprivate static double x0;\r\n\tprivate static double y0;\r\n\tprivate static int xLow;\r\n\tprivate static int xHigh;\r\n\tprivate static int yLow;\r\n\tprivate static int yHigh;\r\n\tprivate static int max;\r\n\tprivate static double scaleFactor;\r\n\tprivate static double zoom;\r\n\tprivate static Color[][] colors = new Color[1000][1000];\r\n\t\r\n\tpublic ComputeThread(int n, double zoom, double x0, double y0, int xLow, int xHigh, int yLow, int yHigh, int max, double scaleFactor, Color[][] colors) {\r\n\t\tthis.n = n;\r\n\t\tthis.zoom = zoom;\r\n\t\tthis.x0 = x0;\r\n\t\tthis.y0 = y0;\r\n\t\tthis.xLow = xLow;\r\n\t\tthis.xHigh = xHigh;\r\n\t\tthis.yLow = yLow;\r\n\t\tthis.yHigh = yHigh;\r\n\t\tthis.max = max;\r\n\t\tthis.scaleFactor = scaleFactor;\r\n\t\tthis.colors = colors;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tfor (int i = xLow; i &lt; xHigh; i++) {\r\n\t\t\tfor (int j = yLow; j &lt; yHigh; j++) {\r\n\t\t\t\tdouble a = x0 + (i * scaleFactor);\r\n\t\t\t\tdouble b = y0 - (j * scaleFactor);\r\n\t\t\t\tComplex z0 = new Complex(a, b);\r\n\t\t\t\tint gray = max - mand(z0, max);\r\n\t\t\t\tColor color = new Color(gray, gray, gray);\r\n\t\t\t\tcolors[j][i] = color;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int mand(Complex z0, int max) {\r\n\t\tComplex z = z0;\r\n\t\tfor (int t = 0; t &lt; max; t++) {\r\n\t\t\tif (z.abs() &gt; zoom) {\r\n\t\t\t\treturn t;\r\n\t\t\t}\r\n\t\t\tz = Complex.ad(Complex.mult(z, z), z0);\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\t\r\n}\r\n```\r\nComplex.java\r\n```\r\nimport java.lang.Math;\r\n\r\npublic class Complex {\r\n\tdouble real;\r\n\tdouble imag;\r\n\tpublic Complex(double real, double imag) {\r\n\t\tthis.real = real;\r\n\t\tthis.imag = imag;\r\n\t}\r\n\tpublic static Complex ad(Complex num1, Complex num2) {\r\n\t\tComplex num = new Complex(0.0, 0.0);\r\n\t\tnum.real = num1.real + num2.real;\r\n\t\tnum.imag = num1.imag + num2.imag;\r\n\t\treturn(num);\r\n\t}\r\n\t\r\n    public static Complex mult(Complex num1, Complex num2) {\r\n    \tComplex num = new Complex(0.0, 0.0);\r\n        num.real = num1.real * num2.real - num1.imag * num2.imag;\r\n        num.imag = num1.real * num2.imag + num1.imag * num2.real;\r\n        return(num);\r\n    }\r\n\t\r\n    public double abs() {\r\n\t\treturn Math.hypot(real, imag);\r\n    }\r\n}\r\n```","title":"Mutli Threaded Mandelbrot Set viewer with Java Swing","body":"<p>Attempting a multi-threaded Mandelbrot Set viewer in Java using Swing graphics. I've seen a few Mandelbrot Set programs and other multi threaded Swing apps that use BufferedImage and/or SwingWorker, but I'm wondering if this approach can work/be redeemed, and if it cannot, why not?</p>\n<p>On click (zoom in) and on key press (zoom out) I'm opening threads to calculate color values in quadrants (upper left, upper right, lower left, lower right), and updating these values in <code>private static Color[][] colors = new Color[n][n];</code>. Then the repaint method is called on the component to draw from the <code>colors</code> array.</p>\n<p>Are these threads executing concurrently with the Event Dispatch Thread, and if so, why aren't these threads occurring ahead of the Event Dispatch Thread Swing component drawing with <code>SwingUtilities.invokeLater</code> in place?</p>\n<p>No error messages, just unpredictable redrawing behavior on click and key press. Thank you.</p>\n<p>Mandelbrot.java</p>\n<pre><code>import java.awt.Color;\nimport java.awt.BorderLayout;\nimport java.awt.Graphics;\nimport javax.swing.SwingUtilities;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.util.Stack;\n\npublic class Mandelbrot extends JPanel {\n    private static double size = 4.0; // complex plane is size units in width and length\n    private static int n    = 1000; // window is n x n in pixels\n    private static int max  = 255; // iterate through hex color values\n    private static double x0 = -size/2; // set window origin\n    private static double y0 = size/2; // set window origin\n    private static double xC = 0; // set complex plane origin\n    private static double yC = 0; // set complex plane origin\n    private static double scaleFactor = size/n; // translate complex plane to pixels\n    private static Stack&lt;double[]&gt; origins = new Stack&lt;double[]&gt;(); // track origins for zooming out\n    private static double zoom = 2.0; // modify to alter brightness scheme on zoom\n    private static Color[][] colors = new Color[n][n];\n\n    public Mandlebrot() {\n        addMouseListener(new MouseAdapter() {\n            public void mousePressed(MouseEvent e) {\n                double[] center = new double[]{xC, yC}; // rescale\n                origins.push(center);\n                zoom = (zoom * 2) - (0.5 * zoom);\n                xC = x0 + (scaleFactor * e.getX());\n                yC = y0 - (scaleFactor * e.getY());\n                size = size/2.0;\n                scaleFactor = size/n;\n                x0 = xC - (size/2);\n                y0 = yC + (size/2);\n                ComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors);\n                ComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors);\n                ComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors);\n                ComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors);\n                Thread thread1 = new Thread(quadrant1);\n                Thread thread2 = new Thread(quadrant2);\n                Thread thread3 = new Thread(quadrant3);\n                Thread thread4 = new Thread(quadrant4);\n                thread1.start();\n                thread2.start();\n                thread3.start();\n                thread4.start();\n                repaint(0, 0, getWidth(), getHeight());\n            }\n        });\n        addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e) {\n                if (e.getKeyCode() == KeyEvent.VK_LEFT) {\n                    double[] center = origins.pop(); // rescale\n                    zoom = (zoom + (zoom / 3)) / 2;\n                    xC = center[0];\n                    yC = center[1];\n                    size = size*2.0;\n                    scaleFactor = size/n;\n                    x0 = xC - (size/2);\n                    y0 = yC + (size/2);\n                    ComputeThread quadrant1 = new ComputeThread(n, zoom, x0, y0, 0, n/2, 0, n/2, max, scaleFactor, colors);\n                    ComputeThread quadrant2 = new ComputeThread(n, zoom, x0, y0, n/2, n, 0, n/2, max, scaleFactor, colors);\n                    ComputeThread quadrant3 = new ComputeThread(n, zoom, x0, y0, 0, n/2, n/2, n, max, scaleFactor, colors);\n                    ComputeThread quadrant4 = new ComputeThread(n, zoom, x0, y0, n/2, n, n/2, n, max, scaleFactor, colors);\n                    Thread thread1 = new Thread(quadrant1);\n                    Thread thread2 = new Thread(quadrant2);\n                    Thread thread3 = new Thread(quadrant3);\n                    Thread thread4 = new Thread(quadrant4);\n                    thread1.start();\n                    thread2.start();\n                    thread3.start();\n                    thread4.start();\n                    repaint(0, 0, getWidth(), getHeight());\n                }\n            }\n        });\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {           \n                g.setColor(colors[j][i]);\n                g.drawLine(i, j, i, j);\n            }\n        }\n    }\n\n    public static int mand(Complex z0, int max) {\n        Complex z = z0;\n        for (int t = 0; t &lt; max; t++) {\n            if (z.abs() &gt; zoom) {\n                return t;\n            }\n            z = Complex.ad(Complex.mult(z, z), z0);\n        }\n        return max;\n    }\n    \n    \n    public static void main(String[] args) {\n\n        \n        for (int i = 0; i &lt; n; i++) { // initialize array for initial drawing\n            for (int j = 0; j &lt; n; j++) {\n                double a = x0 + (i * scaleFactor);\n                double b = y0 - (j * scaleFactor);\n                Complex z0 = new Complex(a, b);\n                int gray = max - mand(z0, max);\n                Color color = new Color(gray, gray, gray);\n                colors[j][i] = color;\n            }\n        }\n\n        \n        SwingUtilities.invokeLater(() -&gt; {\n            var panel = new Threading();\n            panel.setBackground(Color.WHITE);\n            panel.setFocusable(true);\n            var frame = new JFrame(&quot;Mandelbrot&quot;);\n            frame.setSize(n, n);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(panel, BorderLayout.CENTER);\n            frame.setVisible(true);\n        });\n        \n    }\n\n}\n\n</code></pre>\n<p>ComputeThread.java</p>\n<pre><code>import java.awt.Color;\n\npublic class ComputeThread implements Runnable {\n    \n    private static int n;\n    private static double x0;\n    private static double y0;\n    private static int xLow;\n    private static int xHigh;\n    private static int yLow;\n    private static int yHigh;\n    private static int max;\n    private static double scaleFactor;\n    private static double zoom;\n    private static Color[][] colors = new Color[1000][1000];\n    \n    public ComputeThread(int n, double zoom, double x0, double y0, int xLow, int xHigh, int yLow, int yHigh, int max, double scaleFactor, Color[][] colors) {\n        this.n = n;\n        this.zoom = zoom;\n        this.x0 = x0;\n        this.y0 = y0;\n        this.xLow = xLow;\n        this.xHigh = xHigh;\n        this.yLow = yLow;\n        this.yHigh = yHigh;\n        this.max = max;\n        this.scaleFactor = scaleFactor;\n        this.colors = colors;\n    }\n\n    @Override\n    public void run() {\n        for (int i = xLow; i &lt; xHigh; i++) {\n            for (int j = yLow; j &lt; yHigh; j++) {\n                double a = x0 + (i * scaleFactor);\n                double b = y0 - (j * scaleFactor);\n                Complex z0 = new Complex(a, b);\n                int gray = max - mand(z0, max);\n                Color color = new Color(gray, gray, gray);\n                colors[j][i] = color;\n            }\n        }\n    }\n\n    public static int mand(Complex z0, int max) {\n        Complex z = z0;\n        for (int t = 0; t &lt; max; t++) {\n            if (z.abs() &gt; zoom) {\n                return t;\n            }\n            z = Complex.ad(Complex.mult(z, z), z0);\n        }\n        return max;\n    }\n    \n}\n</code></pre>\n<p>Complex.java</p>\n<pre><code>import java.lang.Math;\n\npublic class Complex {\n    double real;\n    double imag;\n    public Complex(double real, double imag) {\n        this.real = real;\n        this.imag = imag;\n    }\n    public static Complex ad(Complex num1, Complex num2) {\n        Complex num = new Complex(0.0, 0.0);\n        num.real = num1.real + num2.real;\n        num.imag = num1.imag + num2.imag;\n        return(num);\n    }\n    \n    public static Complex mult(Complex num1, Complex num2) {\n        Complex num = new Complex(0.0, 0.0);\n        num.real = num1.real * num2.real - num1.imag * num2.imag;\n        num.imag = num1.real * num2.imag + num1.imag * num2.real;\n        return(num);\n    }\n    \n    public double abs() {\n        return Math.hypot(real, imag);\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx","cmd","command"],"comments":[{"owner":{"account_id":19309788,"reputation":484,"user_id":14406232,"display_name":"TechGeek49"},"score":0,"creation_date":1602227966,"post_id":64273767,"comment_id":113659233,"body_markdown":"https://stackoverflow.com/questions/52144931/how-to-add-javafx-runtime-to-eclipse-in-java-11 Does this link answer your question?","body":"<a href=\"https://stackoverflow.com/questions/52144931/how-to-add-javafx-runtime-to-eclipse-in-java-11\" title=\"how to add javafx runtime to eclipse in java 11\">stackoverflow.com/questions/52144931/&hellip;</a> Does this link answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602217695,"creation_date":1602217695,"answer_id":64273928,"question_id":64273767,"body_markdown":"I have added -Djava.library.path=C:/go-out-of-my-way-eclipse to the runtime arguments. I don&#39;t remember where I had found this advice.","title":"Showing error &quot; JavaFX runtime components are missing, and are required to run this application&quot; while running jar file in command prompt","body":"<p>I have added -Djava.library.path=C:/go-out-of-my-way-eclipse to the runtime arguments. I don't remember where I had found this advice.</p>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602226161,"creation_date":1602226161,"answer_id":64275210,"question_id":64273767,"body_markdown":"What you want to achieve can be done via the jpackage tool introduced in JDK 14.\r\nHave a look here: https://github.com/dlemmermann/JPackageScriptFX","title":"Showing error &quot; JavaFX runtime components are missing, and are required to run this application&quot; while running jar file in command prompt","body":"<p>What you want to achieve can be done via the jpackage tool introduced in JDK 14.\nHave a look here: <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">https://github.com/dlemmermann/JPackageScriptFX</a></p>\n"},{"tags":[],"owner":{"account_id":19612099,"reputation":118,"user_id":14354422,"display_name":"smowgli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602227457,"creation_date":1602227457,"answer_id":64275456,"question_id":64273767,"body_markdown":"you can try this:\r\n\r\nright click on your project then select export after that select export as runnable jar file don&#39;t forget to select second choice you have to export it with used lib, this should be able to run your jar using cmd\r\nand try to load all modules, not just javafx.controls \r\n\r\n    --module-path &quot;put_here_the_path&quot; --add-modules=ALL-MODULE-PATH\r\n\r\nOr \r\n\r\nYou can do this step it can help\r\n\r\n    File &gt;&gt; Project Structure &gt;&gt; Modules &gt;&gt; Dependency &gt;&gt; + (on left-side of window)\r\n\r\nclick the &quot;+&quot; sign to designate the directory where you have unpacked JavaFX&#39;s &quot;lib&quot; folder.\r\n\r\n\r\nthen:\r\n\r\n    Run &gt;&gt; Edit Configurations\r\n\r\nto fix this error try to load all modules\r\n\r\n    --module-path &quot;put_here_the_path&quot; --add-modules=javafx.controls,javafx.fxml\r\n\r\n\r\n","title":"Showing error &quot; JavaFX runtime components are missing, and are required to run this application&quot; while running jar file in command prompt","body":"<p>you can try this:</p>\n<p>right click on your project then select export after that select export as runnable jar file don't forget to select second choice you have to export it with used lib, this should be able to run your jar using cmd\nand try to load all modules, not just javafx.controls</p>\n<pre><code>--module-path &quot;put_here_the_path&quot; --add-modules=ALL-MODULE-PATH\n</code></pre>\n<p>Or</p>\n<p>You can do this step it can help</p>\n<pre><code>File &gt;&gt; Project Structure &gt;&gt; Modules &gt;&gt; Dependency &gt;&gt; + (on left-side of window)\n</code></pre>\n<p>click the &quot;+&quot; sign to designate the directory where you have unpacked JavaFX's &quot;lib&quot; folder.</p>\n<p>then:</p>\n<pre><code>Run &gt;&gt; Edit Configurations\n</code></pre>\n<p>to fix this error try to load all modules</p>\n<pre><code>--module-path &quot;put_here_the_path&quot; --add-modules=javafx.controls,javafx.fxml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19309788,"reputation":484,"user_id":14406232,"display_name":"TechGeek49"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602247875,"creation_date":1602228457,"answer_id":64275686,"question_id":64273767,"body_markdown":"Since you are using IntelliJ-IDEA, then you follow these instructions.\r\n\r\n1. Go to **Run** ‚Üí **Edit Configurations**\r\n\r\n2. Go to **VM Options** and add these arguments:\r\n\r\n    &gt; `--module-path &quot;C:\\Fx\\javafx-sdk-11.0.2\\lib&quot;`\r\n    &gt; `--add-modules javafx.controls,javafx.fxml,javafx.base,javafx.web`\r\n    &gt; `--add-exports javafx.graphics/com.sun.javafx.sg.prism=ALL-UNNAMED`\r\n\r\nJust know that, for mine, I created the folder and stored the JAR files in that directory. For that part, you modify it and the rest is history. You just need to change the directory of the path to where you store your JavaFX JAR Files.","title":"Showing error &quot; JavaFX runtime components are missing, and are required to run this application&quot; while running jar file in command prompt","body":"<p>Since you are using IntelliJ-IDEA, then you follow these instructions.</p>\n<ol>\n<li><p>Go to <strong>Run</strong> ‚Üí <strong>Edit Configurations</strong></p>\n</li>\n<li><p>Go to <strong>VM Options</strong> and add these arguments:</p>\n<blockquote>\n<p><code>--module-path &quot;C:\\Fx\\javafx-sdk-11.0.2\\lib&quot;</code>\n<code>--add-modules javafx.controls,javafx.fxml,javafx.base,javafx.web</code>\n<code>--add-exports javafx.graphics/com.sun.javafx.sg.prism=ALL-UNNAMED</code></p>\n</blockquote>\n</li>\n</ol>\n<p>Just know that, for mine, I created the folder and stored the JAR files in that directory. For that part, you modify it and the rest is history. You just need to change the directory of the path to where you store your JavaFX JAR Files.</p>\n"}],"owner":{"account_id":19466044,"reputation":49,"user_id":14239296,"display_name":"Nikhil_being_honest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18649,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1660811351,"creation_date":1602216078,"question_id":64273767,"body_markdown":"I created a project in IntelliJ and built a jar file from it (the main class is specified). But when I tried to run the jar file using cmd I am getting this error:  JavaFX runtime components are missing, and are required to run this application(in command prompt). How can I fix this issue? (I am new to this. Please try to explain as easy as possible.)\r\n\r\ncmd command: java -jar filename.jar\r\n\r\nIn the end, what I want is to run my JavaFX application just by clicking a single icon. How can I do that??? Are there any other ways to run my application like any other application run, just by clicking one icon? I don&#39;t want to open IntelliJ every time to run my application.\r\nI used:\r\nOS: Windows 10 | IntelliJ IDEA 2020.2.3 | jdk 14.0.2 | jre 1.8.0_251 | javaFX 15\r\n\r\n(By the way, I installed JavaFX 15 in another drive. Not in the same hard drive which contains OS)\r\n\r\n\r\n","title":"Showing error &quot; JavaFX runtime components are missing, and are required to run this application&quot; while running jar file in command prompt","body":"<p>I created a project in IntelliJ and built a jar file from it (the main class is specified). But when I tried to run the jar file using cmd I am getting this error:  JavaFX runtime components are missing, and are required to run this application(in command prompt). How can I fix this issue? (I am new to this. Please try to explain as easy as possible.)</p>\n<p>cmd command: java -jar filename.jar</p>\n<p>In the end, what I want is to run my JavaFX application just by clicking a single icon. How can I do that??? Are there any other ways to run my application like any other application run, just by clicking one icon? I don't want to open IntelliJ every time to run my application.\nI used:\nOS: Windows 10 | IntelliJ IDEA 2020.2.3 | jdk 14.0.2 | jre 1.8.0_251 | javaFX 15</p>\n<p>(By the way, I installed JavaFX 15 in another drive. Not in the same hard drive which contains OS)</p>\n"},{"tags":["java","spring","spring-data-jpa","mybatis"],"answers":[{"tags":[],"owner":{"account_id":25687518,"reputation":11,"user_id":19449370,"display_name":"QionHa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660811133,"creation_date":1660811133,"answer_id":73399742,"question_id":73303452,"body_markdown":"```java\r\n@Query(\r\n          &quot;&quot;&quot;\r\n                  select  A.id \r\n                  from Article A \r\n                  left join ArticleTagRelation AT on A.id=AT.articleId \r\n                  left join Tag T on T.id=AT.tagId \r\n                  left join ArticleFavorite AF on AF.articleId=A.id \r\n                  left join User AU on AU.id=A.userId \r\n                  left join User AFU on AFU.id=AF.userId \r\n                  where\r\n                  (?1 is null or T.name=?1) \r\n                  and \r\n                  (?2 is null or AU.username=?2) \r\n                  and\r\n                  (?3 is null or AFU.username=?3) \r\n                  and (\r\n                    (?4 is not null and ?5=&#39;NEXT&#39;\r\n                     and A.createdAt &lt;?4)\r\n                    or\r\n                    (?4 is not null and ?5=&#39;PREV&#39;\r\n                     and A.createdAt &gt;?4)\r\n                    or\r\n                     (?4 is null)\r\n                  )\r\n                  group by A.id \r\n                  order by\r\n                  case when ?5=&#39;NEXT&#39; then A.createdAt end desc,\r\n                  case when ?5=&#39;PREV&#39; then A.createdAt end asc\r\n          &quot;&quot;&quot;\r\n\r\n  )\r\n  List&lt;String&gt; findArticlesWithCursor(String tag,\r\n                                          String author,\r\n                                          String favoritedBy,\r\n                                          Timestamp cursor,\r\n                                          String DirectionName,\r\n                                          Pageable pageable);\r\n\r\n```","title":"Converting mybatis to springdata jpa implementation","body":"<pre class=\"lang-java prettyprint-override\"><code>@Query(\n          &quot;&quot;&quot;\n                  select  A.id \n                  from Article A \n                  left join ArticleTagRelation AT on A.id=AT.articleId \n                  left join Tag T on T.id=AT.tagId \n                  left join ArticleFavorite AF on AF.articleId=A.id \n                  left join User AU on AU.id=A.userId \n                  left join User AFU on AFU.id=AF.userId \n                  where\n                  (?1 is null or T.name=?1) \n                  and \n                  (?2 is null or AU.username=?2) \n                  and\n                  (?3 is null or AFU.username=?3) \n                  and (\n                    (?4 is not null and ?5='NEXT'\n                     and A.createdAt &lt;?4)\n                    or\n                    (?4 is not null and ?5='PREV'\n                     and A.createdAt &gt;?4)\n                    or\n                     (?4 is null)\n                  )\n                  group by A.id \n                  order by\n                  case when ?5='NEXT' then A.createdAt end desc,\n                  case when ?5='PREV' then A.createdAt end asc\n          &quot;&quot;&quot;\n\n  )\n  List&lt;String&gt; findArticlesWithCursor(String tag,\n                                          String author,\n                                          String favoritedBy,\n                                          Timestamp cursor,\n                                          String DirectionName,\n                                          Pageable pageable);\n\n</code></pre>\n"}],"owner":{"account_id":25687518,"reputation":11,"user_id":19449370,"display_name":"QionHa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660811133,"creation_date":1660121894,"question_id":73303452,"body_markdown":"1,Mapper.xml\r\n```&lt;sql id=&quot;selectArticleIds&quot;&gt;\r\n        select\r\n        DISTINCT(A.id) articleId, A.created_at\r\n        from\r\n        articles A\r\n        left join article_tags AT on A.id = AT.article_id\r\n        left join tags T on T.id = AT.tag_id\r\n        left join article_favorites AF on AF.article_id = A.id\r\n        left join users AU on AU.id = A.user_id\r\n        left join users AFU on AFU.id = AF.user_id\r\n    &lt;/sql&gt;\r\n\r\n\r\n\r\n&lt;select id=&quot;findArticlesWithCursor&quot; resultType=&quot;java.lang.String&quot;&gt;\r\n    &lt;include refid=&quot;selectArticleIds&quot; /&gt;\r\n    &lt;where&gt;\r\n        &lt;if test=&quot;tag != null&quot;&gt;\r\n            T.name = #{tag}\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;author != null&quot;&gt;\r\n            AND AU.username = #{author}\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;favoritedBy != null&quot;&gt;\r\n            AND AFU.username = #{favoritedBy}\r\n        &lt;/if&gt;\r\n        &lt;if test=&#39;page.cursor != null and page.direction.name() == &quot;NEXT&quot;&#39;&gt;\r\n            AND A.created_at &amp;lt; #{page.cursor}\r\n        &lt;/if&gt;\r\n        &lt;if test=&#39;page.cursor != null and page.direction.name() == &quot;PREV&quot;&#39;&gt;\r\n            AND A.created_at &gt; #{page.cursor}\r\n        &lt;/if&gt;\r\n    &lt;/where&gt;\r\n    &lt;if test=&#39;page.direction.name() == &quot;NEXT&quot;&#39;&gt;\r\n        order by A.created_at desc\r\n    &lt;/if&gt;\r\n    &lt;if test=&#39;page.direction.name() == &quot;PREV&quot;&#39;&gt;\r\n        order by A.created_at asc\r\n    &lt;/if&gt;\r\n    limit #{page.queryLimit}\r\n&lt;/select&gt;\r\n```\r\n2.Methods\r\n```\r\nList&lt;String&gt; findArticlesWithCursor(\r\n      @Param(&quot;tag&quot;) String tag,\r\n      @Param(&quot;author&quot;) String author,\r\n      @Param(&quot;favoritedBy&quot;) String favoritedBy,\r\n      @Param(&quot;page&quot;) CursorPageParameter page);\r\n```\r\n3.CursorPageParamete\r\n```\r\n\r\n@Data\r\n@NoArgsConstructor\r\npublic class CursorPageParameter&lt;T&gt; {\r\n  private static final int MAX_LIMIT = 1000;\r\n  private int limit = 20;\r\n  private T cursor;\r\n  private Direction direction;\r\n\r\n  public CursorPageParameter(T cursor, int limit, Direction direction) {\r\n    setLimit(limit);\r\n    setCursor(cursor);\r\n    setDirection(direction);\r\n  }\r\n\r\n  public boolean isNext() {\r\n    return direction == Direction.NEXT;\r\n  }\r\n\r\n  public int getQueryLimit() {\r\n    return limit + 1;\r\n  }\r\n\r\n  private void setCursor(T cursor) {\r\n    this.cursor = cursor;\r\n  }\r\n\r\n  private void setLimit(int limit) {\r\n    if (limit &gt; MAX_LIMIT) {\r\n      this.limit = MAX_LIMIT;\r\n    } else if (limit &gt; 0) {\r\n      this.limit = limit;\r\n    }\r\n  }\r\n}\r\n```\r\n4.Direction\r\n```\r\npublic enum Direction {\r\n    PREV,\r\n    NEXT\r\n  }\r\n```\r\n5.CursorPager\r\n```\r\n@Getter\r\npublic class CursorPager&lt;T extends Node&gt; {\r\n  private List&lt;T&gt; data;\r\n  private boolean next;\r\n  private boolean previous;\r\n\r\n  public CursorPager(List&lt;T&gt; data, Direction direction, boolean hasExtra) {\r\n    this.data = data;\r\n\r\n    if (direction == Direction.NEXT) {\r\n      this.previous = false;\r\n      this.next = hasExtra;\r\n    } else {\r\n      this.next = false;\r\n      this.previous = hasExtra;\r\n    }\r\n  }\r\n\r\n  public boolean hasNext() {\r\n    return next;\r\n  }\r\n\r\n  public boolean hasPrevious() {\r\n    return previous;\r\n  }\r\n\r\n  public PageCursor getStartCursor() {\r\n    return data.isEmpty() ? null : data.get(0).getCursor();\r\n  }\r\n\r\n  public PageCursor getEndCursor() {\r\n    return data.isEmpty() ? null : data.get(data.size() - 1).getCursor();\r\n  }\r\n\r\n  public enum Direction {\r\n    PREV,\r\n    NEXT\r\n  }\r\n}\r\n```\r\n6.Node\r\n```\r\npublic interface Node {\r\n  PageCursor getCursor();\r\n}\r\n```","title":"Converting mybatis to springdata jpa implementation","body":"<p>1,Mapper.xml</p>\n<pre><code>        select\n        DISTINCT(A.id) articleId, A.created_at\n        from\n        articles A\n        left join article_tags AT on A.id = AT.article_id\n        left join tags T on T.id = AT.tag_id\n        left join article_favorites AF on AF.article_id = A.id\n        left join users AU on AU.id = A.user_id\n        left join users AFU on AFU.id = AF.user_id\n    &lt;/sql&gt;\n\n\n\n&lt;select id=&quot;findArticlesWithCursor&quot; resultType=&quot;java.lang.String&quot;&gt;\n    &lt;include refid=&quot;selectArticleIds&quot; /&gt;\n    &lt;where&gt;\n        &lt;if test=&quot;tag != null&quot;&gt;\n            T.name = #{tag}\n        &lt;/if&gt;\n        &lt;if test=&quot;author != null&quot;&gt;\n            AND AU.username = #{author}\n        &lt;/if&gt;\n        &lt;if test=&quot;favoritedBy != null&quot;&gt;\n            AND AFU.username = #{favoritedBy}\n        &lt;/if&gt;\n        &lt;if test='page.cursor != null and page.direction.name() == &quot;NEXT&quot;'&gt;\n            AND A.created_at &amp;lt; #{page.cursor}\n        &lt;/if&gt;\n        &lt;if test='page.cursor != null and page.direction.name() == &quot;PREV&quot;'&gt;\n            AND A.created_at &gt; #{page.cursor}\n        &lt;/if&gt;\n    &lt;/where&gt;\n    &lt;if test='page.direction.name() == &quot;NEXT&quot;'&gt;\n        order by A.created_at desc\n    &lt;/if&gt;\n    &lt;if test='page.direction.name() == &quot;PREV&quot;'&gt;\n        order by A.created_at asc\n    &lt;/if&gt;\n    limit #{page.queryLimit}\n&lt;/select&gt;\n</code></pre>\n<p>2.Methods</p>\n<pre><code>List&lt;String&gt; findArticlesWithCursor(\n      @Param(&quot;tag&quot;) String tag,\n      @Param(&quot;author&quot;) String author,\n      @Param(&quot;favoritedBy&quot;) String favoritedBy,\n      @Param(&quot;page&quot;) CursorPageParameter page);\n</code></pre>\n<p>3.CursorPageParamete</p>\n<pre><code>\n@Data\n@NoArgsConstructor\npublic class CursorPageParameter&lt;T&gt; {\n  private static final int MAX_LIMIT = 1000;\n  private int limit = 20;\n  private T cursor;\n  private Direction direction;\n\n  public CursorPageParameter(T cursor, int limit, Direction direction) {\n    setLimit(limit);\n    setCursor(cursor);\n    setDirection(direction);\n  }\n\n  public boolean isNext() {\n    return direction == Direction.NEXT;\n  }\n\n  public int getQueryLimit() {\n    return limit + 1;\n  }\n\n  private void setCursor(T cursor) {\n    this.cursor = cursor;\n  }\n\n  private void setLimit(int limit) {\n    if (limit &gt; MAX_LIMIT) {\n      this.limit = MAX_LIMIT;\n    } else if (limit &gt; 0) {\n      this.limit = limit;\n    }\n  }\n}\n</code></pre>\n<p>4.Direction</p>\n<pre><code>public enum Direction {\n    PREV,\n    NEXT\n  }\n</code></pre>\n<p>5.CursorPager</p>\n<pre><code>@Getter\npublic class CursorPager&lt;T extends Node&gt; {\n  private List&lt;T&gt; data;\n  private boolean next;\n  private boolean previous;\n\n  public CursorPager(List&lt;T&gt; data, Direction direction, boolean hasExtra) {\n    this.data = data;\n\n    if (direction == Direction.NEXT) {\n      this.previous = false;\n      this.next = hasExtra;\n    } else {\n      this.next = false;\n      this.previous = hasExtra;\n    }\n  }\n\n  public boolean hasNext() {\n    return next;\n  }\n\n  public boolean hasPrevious() {\n    return previous;\n  }\n\n  public PageCursor getStartCursor() {\n    return data.isEmpty() ? null : data.get(0).getCursor();\n  }\n\n  public PageCursor getEndCursor() {\n    return data.isEmpty() ? null : data.get(data.size() - 1).getCursor();\n  }\n\n  public enum Direction {\n    PREV,\n    NEXT\n  }\n}\n</code></pre>\n<p>6.Node</p>\n<pre><code>public interface Node {\n  PageCursor getCursor();\n}\n</code></pre>\n"},{"tags":["java","authentication","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1324926763,"creation_date":1324926763,"answer_id":8638463,"question_id":8638440,"body_markdown":"You are probably getting null pointer here\r\n\r\n    while (!line.isEmpty());\r\n\r\nchange it to \r\n\r\n    while(line!=null &amp;&amp; !line.isEmpty())\r\n\r\nIf you paid attention to the exception&#39;s stack trace you should see the exact line where the exception is being raised","title":"Getting Null Pointer Exception when using isEmpty() method","body":"<p>You are probably getting null pointer here</p>\n\n<pre><code>while (!line.isEmpty());\n</code></pre>\n\n<p>change it to </p>\n\n<pre><code>while(line!=null &amp;&amp; !line.isEmpty())\n</code></pre>\n\n<p>If you paid attention to the exception's stack trace you should see the exact line where the exception is being raised</p>\n"},{"tags":[],"owner":{"account_id":29838,"reputation":19362,"user_id":80906,"display_name":"Francis Upton IV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324926824,"creation_date":1324926824,"answer_id":8638469,"question_id":8638440,"body_markdown":"BufferedReader.readLine() will return a null if the end of the stream is reached. So you want \r\n\r\n    while (line != null &amp;&amp; !line.isEmpty())","title":"Getting Null Pointer Exception when using isEmpty() method","body":"<p>BufferedReader.readLine() will return a null if the end of the stream is reached. So you want </p>\n\n<pre><code>while (line != null &amp;&amp; !line.isEmpty())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324927453,"creation_date":1324927453,"answer_id":8638538,"question_id":8638440,"body_markdown":"Change the body of your `try` block to:\r\n\r\n    String line = br.readLine();\r\n    while (line != null) {                \r\n        dataList.add(Line);\r\n        line = br.readLine();\r\n    }\r\n    br.close ();\r\n\r\nIf you want to ignore blank lines, change it to this:\r\n\r\n\r\n    String line = br.readLine();\r\n    while (line != null) {                \r\n        if (!line.isEmpty()) {\r\n            dataList.add(Line);\r\n        }\r\n        line = br.readLine();\r\n    }\r\n    br.close ();\r\n\r\nThe other answers offered so far will stop the reading at the first blank line. (If you don&#39;t have blank lines, then you don&#39;t ever need to call `isEmpty()`.)","title":"Getting Null Pointer Exception when using isEmpty() method","body":"<p>Change the body of your <code>try</code> block to:</p>\n\n<pre><code>String line = br.readLine();\nwhile (line != null) {                \n    dataList.add(Line);\n    line = br.readLine();\n}\nbr.close ();\n</code></pre>\n\n<p>If you want to ignore blank lines, change it to this:</p>\n\n<pre><code>String line = br.readLine();\nwhile (line != null) {                \n    if (!line.isEmpty()) {\n        dataList.add(Line);\n    }\n    line = br.readLine();\n}\nbr.close ();\n</code></pre>\n\n<p>The other answers offered so far will stop the reading at the first blank line. (If you don't have blank lines, then you don't ever need to call <code>isEmpty()</code>.)</p>\n"},{"tags":[],"owner":{"account_id":173196,"reputation":2231,"user_id":401727,"accept_rate":100,"display_name":"bchetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324928241,"creation_date":1324928241,"answer_id":8638613,"question_id":8638440,"body_markdown":"I don&#39;t understand why you are adding null values to the dataList in readFile method. Anyways, I&#39;ve refactored your code:\r\n\r\n**Method 1**:\r\n\r\n    public ArrayList&lt;String&gt; readFile(){\r\n        ArrayList&lt;String&gt; dataList = new ArrayList&lt;String&gt;();\r\n        \r\n        try {\r\n            //File &amp; File Reader/Stream Initialization Logic\r\n\r\n            while(line = br.readLine() != null &amp;&amp; !line.isEmpty()) {               \r\n                dataList.add(line);\r\n            }\r\n        } catch (IOException IOE) {\r\n            //IO Exception Handling\r\n        } catch (Exception e) {\r\n            //General Exception Handling\r\n        } finally {\r\n            //close the reader/streams here\r\n        }\r\n    \r\n        return dataList;\r\n    }\r\n\r\n**Method 2**:\r\n\r\n    public void addNewUser (String username, String password){\r\n        ArrayList&lt;String&gt; dataAL = readFile();\r\n        dataAL.add(username + &quot;\\t&quot; + password);\r\n    }","title":"Getting Null Pointer Exception when using isEmpty() method","body":"<p>I don't understand why you are adding null values to the dataList in readFile method. Anyways, I've refactored your code:</p>\n\n<p><strong>Method 1</strong>:</p>\n\n<pre><code>public ArrayList&lt;String&gt; readFile(){\n    ArrayList&lt;String&gt; dataList = new ArrayList&lt;String&gt;();\n\n    try {\n        //File &amp; File Reader/Stream Initialization Logic\n\n        while(line = br.readLine() != null &amp;&amp; !line.isEmpty()) {               \n            dataList.add(line);\n        }\n    } catch (IOException IOE) {\n        //IO Exception Handling\n    } catch (Exception e) {\n        //General Exception Handling\n    } finally {\n        //close the reader/streams here\n    }\n\n    return dataList;\n}\n</code></pre>\n\n<p><strong>Method 2</strong>:</p>\n\n<pre><code>public void addNewUser (String username, String password){\n    ArrayList&lt;String&gt; dataAL = readFile();\n    dataAL.add(username + \"\\t\" + password);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660811041,"creation_date":1660811041,"answer_id":73399719,"question_id":8638440,"body_markdown":"`package -&gt; org.springframework.util\r\n\r\n!CollectionUtils.isEmpty(line)\r\n\r\nInternal Implementation:\r\npublic static boolean isEmpty(@Nullable Collection&lt;?&gt; collection) {\r\n\t\treturn (collection == null || collection.isEmpty());\r\n\t}`","title":"Getting Null Pointer Exception when using isEmpty() method","body":"<p>`package -&gt; org.springframework.util</p>\n<p>!CollectionUtils.isEmpty(line)</p>\n<p>Internal Implementation:\npublic static boolean isEmpty(@Nullable Collection&lt;?&gt; collection) {\nreturn (collection == null || collection.isEmpty());\n}`</p>\n"}],"owner":{"account_id":1055349,"reputation":1669,"user_id":1058210,"accept_rate":65,"display_name":"user1058210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33516,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":8638463,"answer_count":5,"score":13,"last_activity_date":1660811041,"creation_date":1324926560,"question_id":8638440,"body_markdown":"I&#39;m trying to implement a login feature for my program but it&#39;s returning a null pointer exception.  I understand that this happens when you refer to a place in memory that has nothing in it, but as far as I can see I have instantiated all my objects properly - please correct me if I am wrong!\r\n\r\nI am trying to implement an add user feature:  I have a list of usernames and passwords and I have an existing method which reads that file in and stores it in an array.  I want to write a new login to the list so I wrote a new method which converts this array to an ArrayList and will eventually write a new login to it and then write the Login file out again.  The problem is I am getting the Null Pointer Exception.\r\n\r\nMethod 1:\r\n\r\n    public String[] readFile(){\r\n        ArrayList&lt;String&gt; dataList = new ArrayList&lt;String&gt;();\r\n\t\tString Line;\r\n\t\ttry {\r\n\t\t\tString line = br.readLine();\r\n\t\t\tdo {\t\t\t\t\r\n\t\t\t\tdataList.add(Line);\r\n\t\t\t\tline = br.readLine();\r\n\t\t\t}\r\n\t\t\twhile (!line.isEmpty());\r\n\t\t\tbr.close ();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString[] dataArr = new String[dataList.size()];\r\n\t\tdataArr = dataList.toArray(dataArr);\r\n\r\n\t\treturn dataArr;\t// Returns an array containing the separate lines of the file\r\n\t}\r\n\r\nMethod 2:\r\n\r\n    public void addNewUser (String username, String password){\r\n\t\tString[] dataArr = readFile();\t// Read in the list of profiles and store it in an array\r\n\t\tArrayList&lt;String&gt; dataAL = new ArrayList&lt;String&gt;(Arrays.asList(dataArr));\t// store array of profiles as ArrayList\r\n\t\tdataAL.add(username + &quot;\\t&quot; + password);\r\n\t\t\r\n\t}\r\n","title":"Getting Null Pointer Exception when using isEmpty() method","body":"<p>I'm trying to implement a login feature for my program but it's returning a null pointer exception.  I understand that this happens when you refer to a place in memory that has nothing in it, but as far as I can see I have instantiated all my objects properly - please correct me if I am wrong!</p>\n\n<p>I am trying to implement an add user feature:  I have a list of usernames and passwords and I have an existing method which reads that file in and stores it in an array.  I want to write a new login to the list so I wrote a new method which converts this array to an ArrayList and will eventually write a new login to it and then write the Login file out again.  The problem is I am getting the Null Pointer Exception.</p>\n\n<p>Method 1:</p>\n\n<pre><code>public String[] readFile(){\n    ArrayList&lt;String&gt; dataList = new ArrayList&lt;String&gt;();\n    String Line;\n    try {\n        String line = br.readLine();\n        do {                \n            dataList.add(Line);\n            line = br.readLine();\n        }\n        while (!line.isEmpty());\n        br.close ();\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n    String[] dataArr = new String[dataList.size()];\n    dataArr = dataList.toArray(dataArr);\n\n    return dataArr; // Returns an array containing the separate lines of the file\n}\n</code></pre>\n\n<p>Method 2:</p>\n\n<pre><code>public void addNewUser (String username, String password){\n    String[] dataArr = readFile();  // Read in the list of profiles and store it in an array\n    ArrayList&lt;String&gt; dataAL = new ArrayList&lt;String&gt;(Arrays.asList(dataArr));   // store array of profiles as ArrayList\n    dataAL.add(username + \"\\t\" + password);\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660811206,"post_id":73399638,"comment_id":129622335,"body_markdown":"The &quot;2&quot; must probably be done with a different font with sub- resp. superscript. [Font.setTypeOffset](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Font.html#setTypeOffset-short-)","body":"The &quot;2&quot; must probably be done with a different font with sub- resp. superscript. <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Font.html#setTypeOffset-short-\" rel=\"nofollow noreferrer\">Font.setTypeOffset</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660813433,"post_id":73399638,"comment_id":129623116,"body_markdown":"Answer your own question with the solution you found, so the question may be marked solved.","body":"Answer your own question with the solution you found, so the question may be marked solved."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1660814931,"post_id":73399638,"comment_id":129623656,"body_markdown":"Use XSSFRichTextString. You can use cell.setCellValue to set that cell&#39;s value to be the XSSFRichTextString value. XSSFRichTextString can be built up using &#39;append&#39; calls where each append can have its own XSSFFont - https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFRichTextString.html#append-java.lang.String-org.apache.poi.xssf.usermodel.XSSFFont-. Or you can use XSSFRichTextString.applyFont. See Joop Eggen&#39;s comment about how to create Fonts with subscript. With fonts, reuse the font instances because Excel has limit on the number of fonts instances it supports.","body":"Use XSSFRichTextString. You can use cell.setCellValue to set that cell&#39;s value to be the XSSFRichTextString value. XSSFRichTextString can be built up using &#39;append&#39; calls where each append can have its own XSSFFont - <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFRichTextString.html#append-java.lang.String-org.apache.poi.xssf.usermodel.XSSFFont-\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/&hellip;</a>. Or you can use XSSFRichTextString.applyFont. See Joop Eggen&#39;s comment about how to create Fonts with subscript. With fonts, reuse the font instances because Excel has limit on the number of fonts instances it supports."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1660819446,"post_id":73399638,"comment_id":129625312,"body_markdown":"What about simply `cell.setCellValue(&quot;SO\\u2082&quot;)`? Unicode provides superscripts and subscripts by code points - https://www.unicode.org/charts/PDF/U2070.pdf. So no rich text needed.","body":"What about simply <code>cell.setCellValue(&quot;SO\\u2082&quot;)</code>? Unicode provides superscripts and subscripts by code points - <a href=\"https://www.unicode.org/charts/PDF/U2070.pdf\" rel=\"nofollow noreferrer\">unicode.org/charts/PDF/U2070.pdf</a>. So no rich text needed."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660836775,"post_id":73399638,"comment_id":129632644,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26075036,"reputation":11,"user_id":19774091,"display_name":"damon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1660810666,"creation_date":1660810666,"question_id":73399638,"body_markdown":"i&#39;m trying to export some data to  Excel using apache poi 3.9 , but the title of the data should use a standard chemical formula  like SO&lt;sub&gt;2&lt;/sub&gt; but not SO2 ,i have been serachcing answer for a long time, but still dont resolve this problem . can somebody help me ? i will be appreciated !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w4Dz1.png\r\n  [2]: https://i.stack.imgur.com/KKvT6.png","title":"how to render chemical formula using apache poi","body":"<p>i'm trying to export some data to  Excel using apache poi 3.9 , but the title of the data should use a standard chemical formula  like SO<sub>2</sub> but not SO2 ,i have been serachcing answer for a long time, but still dont resolve this problem . can somebody help me ? i will be appreciated !</p>\n"},{"tags":["java","hibernate","maven","orm","spigot"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660722556,"creation_date":1660722556,"answer_id":73384683,"question_id":73352908,"body_markdown":"I don&#39;t know how class loading works in this &quot;environment&quot;, but the hibernate-core.jar should contain a class called `org.hibernate.internal.CoreMessageLogger_$logger`, which is the logger implementation that apparently can&#39;t be found. Maybe the class loader is broken?","title":"Spigot/Bungeecord Hibernate - Invalid logger interface org.hibernate.internal.CoreMessageLogger","body":"<p>I don't know how class loading works in this &quot;environment&quot;, but the hibernate-core.jar should contain a class called <code>org.hibernate.internal.CoreMessageLogger_$logger</code>, which is the logger implementation that apparently can't be found. Maybe the class loader is broken?</p>\n"},{"tags":[],"owner":{"account_id":23009845,"reputation":1,"user_id":17132518,"display_name":"Lukas Jakobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660810635,"creation_date":1660810635,"answer_id":73399634,"question_id":73352908,"body_markdown":"Your maven shade plugin contains the following:\r\n    \r\n    &lt;configuration&gt;\r\n        &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThis causes all the logging dependencies to be dropped while shading. Removing this line will fix the issue.","title":"Spigot/Bungeecord Hibernate - Invalid logger interface org.hibernate.internal.CoreMessageLogger","body":"<p>Your maven shade plugin contains the following:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This causes all the logging dependencies to be dropped while shading. Removing this line will fix the issue.</p>\n"}],"owner":{"account_id":22270476,"reputation":1,"user_id":19762812,"display_name":"Jkk1337"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660810635,"creation_date":1660491233,"question_id":73352908,"body_markdown":"I tried using Hibernate ORM to handle my BungeeCord database mappings. I&#39;ve used it before and had no problems doing so.\r\n\r\nNow I revisited Minecraft programming and could not get Hibernate running.\r\n\r\nMy `pom.xml` is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;io.jakobi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sessionutil&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;oss.sonatype.org&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;maven.enginehub.org&lt;/id&gt;\r\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;repo.spongepowered.org&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spongepowered.org/maven/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.md-5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bungeecord-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.md-5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bungeecord-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;type&gt;javadoc&lt;/type&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;clean install&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd my main is:\r\n```\r\npackage io.jakobi.sessionutil;\r\n\r\nimport io.jakobi.sessionutil.database.entity.Action;\r\nimport io.jakobi.sessionutil.database.entity.Session;\r\nimport io.jakobi.sessionutil.database.repository.ActionRepository;\r\nimport io.jakobi.sessionutil.database.repository.SessionRepository;\r\nimport io.jakobi.sessionutil.listener.PlayerChatListener;\r\nimport io.jakobi.sessionutil.listener.PlayerJoinListener;\r\nimport io.jakobi.sessionutil.listener.PlayerQuitListener;\r\nimport net.md_5.bungee.api.ProxyServer;\r\nimport net.md_5.bungee.api.plugin.Plugin;\r\nimport org.hibernate.Hibernate;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.internal.CoreMessageLogger;\r\n\r\nimport java.io.File;\r\n\r\npublic class SessionUtil extends Plugin {\r\n\r\n    private static final String HIBERNATE_CONFIG_FILE_NAME = &quot;hibernate.cfg.xml&quot;;\r\n\r\n    private SessionFactory sessionFactory;\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        sessionFactory = new Configuration()\r\n            .configure(new File(this.getDataFolder().getAbsolutePath() + &quot;/&quot; + HIBERNATE_CONFIG_FILE_NAME))\r\n            .addAnnotatedClass(Session.class)\r\n            .addAnnotatedClass(Action.class)\r\n            .buildSessionFactory();\r\n\r\n        ActionRepository actionRepository = new ActionRepository(sessionFactory);\r\n        SessionRepository sessionRepository = new SessionRepository(sessionFactory);\r\n\r\n        registerListener(this, actionRepository, sessionRepository);\r\n    }\r\n\r\n    @Override\r\n    public void onDisable() {\r\n        if (this.sessionFactory != null) {\r\n            this.sessionFactory.close();\r\n        }\r\n    }\r\n\r\n    private void registerListener(SessionUtil instance, ActionRepository actionRepository, SessionRepository sessionRepository) {\r\n        this.getProxy().getPluginManager().registerListener(instance, new PlayerJoinListener(sessionRepository));\r\n        this.getProxy().getPluginManager().registerListener(instance, new PlayerQuitListener(sessionRepository));\r\n        this.getProxy().getPluginManager().registerListener(instance, new PlayerChatListener(sessionRepository, actionRepository));\r\n    }\r\n}\r\n```\r\n\r\nThe issue that I am facing is that on startup, the following exception is thrown:\r\n```\r\nWARNING] Exception encountered when loading plugin: SessionUtil\r\njava.lang.ExceptionInInitializerError\r\n    at io.jakobi.sessionutil.SessionUtil.onEnable(SessionUtil.java:27)\r\n    at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(PluginManager.java:265)\r\n    at net.md_5.bungee.BungeeCord.start(BungeeCord.java:285)\r\n    at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\r\n    at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\r\nCaused by: java.lang.IllegalArgumentException: Invalid logger interface org.hibernate.internal.CoreMessageLogger (implementation not found in PluginClassloader(desc=PluginDescription(name=SessionUtil, main=io.jakobi.sessionutil.SessionUtil, version=1.0-SNAPSHOT, author=Lukas Jakobi &lt;lukas@jakobi.io&gt;, depends=[], softDepends=[], file=plugins/sessionutil-1.0-SNAPSHOT.jar, description=A utility plugin to manage user sessions, libraries=[])))\r\n    at org.jboss.logging.Logger$1.run(Logger.java:2556)\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2529)\r\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\r\n    at org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:29)\r\n    at org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:25)\r\n    at org.hibernate.cfg.Configuration.&lt;clinit&gt;(Configuration.java:106)\r\n    ... 5 more\r\n```\r\n\r\nA quick google search didn&#39;t really help. I found a comment saying I have to initialize the logger with `Hibernate.initalize(object)`. I could not get that to work either.\r\n\r\nThanks in advance for any help! :)","title":"Spigot/Bungeecord Hibernate - Invalid logger interface org.hibernate.internal.CoreMessageLogger","body":"<p>I tried using Hibernate ORM to handle my BungeeCord database mappings. I've used it before and had no problems doing so.</p>\n<p>Now I revisited Minecraft programming and could not get Hibernate running.</p>\n<p>My <code>pom.xml</code> is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;io.jakobi&lt;/groupId&gt;\n    &lt;artifactId&gt;sessionutil&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;oss.sonatype.org&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven.enginehub.org&lt;/id&gt;\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repo.spongepowered.org&lt;/id&gt;\n            &lt;url&gt;https://repo.spongepowered.org/maven/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.md-5&lt;/groupId&gt;\n            &lt;artifactId&gt;bungeecord-api&lt;/artifactId&gt;\n            &lt;version&gt;1.19-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.md-5&lt;/groupId&gt;\n            &lt;artifactId&gt;bungeecord-api&lt;/artifactId&gt;\n            &lt;version&gt;1.19-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;javadoc&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.2.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;clean install&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And my main is:</p>\n<pre><code>package io.jakobi.sessionutil;\n\nimport io.jakobi.sessionutil.database.entity.Action;\nimport io.jakobi.sessionutil.database.entity.Session;\nimport io.jakobi.sessionutil.database.repository.ActionRepository;\nimport io.jakobi.sessionutil.database.repository.SessionRepository;\nimport io.jakobi.sessionutil.listener.PlayerChatListener;\nimport io.jakobi.sessionutil.listener.PlayerJoinListener;\nimport io.jakobi.sessionutil.listener.PlayerQuitListener;\nimport net.md_5.bungee.api.ProxyServer;\nimport net.md_5.bungee.api.plugin.Plugin;\nimport org.hibernate.Hibernate;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.internal.CoreMessageLogger;\n\nimport java.io.File;\n\npublic class SessionUtil extends Plugin {\n\n    private static final String HIBERNATE_CONFIG_FILE_NAME = &quot;hibernate.cfg.xml&quot;;\n\n    private SessionFactory sessionFactory;\n\n    @Override\n    public void onEnable() {\n        sessionFactory = new Configuration()\n            .configure(new File(this.getDataFolder().getAbsolutePath() + &quot;/&quot; + HIBERNATE_CONFIG_FILE_NAME))\n            .addAnnotatedClass(Session.class)\n            .addAnnotatedClass(Action.class)\n            .buildSessionFactory();\n\n        ActionRepository actionRepository = new ActionRepository(sessionFactory);\n        SessionRepository sessionRepository = new SessionRepository(sessionFactory);\n\n        registerListener(this, actionRepository, sessionRepository);\n    }\n\n    @Override\n    public void onDisable() {\n        if (this.sessionFactory != null) {\n            this.sessionFactory.close();\n        }\n    }\n\n    private void registerListener(SessionUtil instance, ActionRepository actionRepository, SessionRepository sessionRepository) {\n        this.getProxy().getPluginManager().registerListener(instance, new PlayerJoinListener(sessionRepository));\n        this.getProxy().getPluginManager().registerListener(instance, new PlayerQuitListener(sessionRepository));\n        this.getProxy().getPluginManager().registerListener(instance, new PlayerChatListener(sessionRepository, actionRepository));\n    }\n}\n</code></pre>\n<p>The issue that I am facing is that on startup, the following exception is thrown:</p>\n<pre><code>WARNING] Exception encountered when loading plugin: SessionUtil\njava.lang.ExceptionInInitializerError\n    at io.jakobi.sessionutil.SessionUtil.onEnable(SessionUtil.java:27)\n    at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(PluginManager.java:265)\n    at net.md_5.bungee.BungeeCord.start(BungeeCord.java:285)\n    at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\n    at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\nCaused by: java.lang.IllegalArgumentException: Invalid logger interface org.hibernate.internal.CoreMessageLogger (implementation not found in PluginClassloader(desc=PluginDescription(name=SessionUtil, main=io.jakobi.sessionutil.SessionUtil, version=1.0-SNAPSHOT, author=Lukas Jakobi &lt;lukas@jakobi.io&gt;, depends=[], softDepends=[], file=plugins/sessionutil-1.0-SNAPSHOT.jar, description=A utility plugin to manage user sessions, libraries=[])))\n    at org.jboss.logging.Logger$1.run(Logger.java:2556)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2529)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\n    at org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:29)\n    at org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:25)\n    at org.hibernate.cfg.Configuration.&lt;clinit&gt;(Configuration.java:106)\n    ... 5 more\n</code></pre>\n<p>A quick google search didn't really help. I found a comment saying I have to initialize the logger with <code>Hibernate.initalize(object)</code>. I could not get that to work either.</p>\n<p>Thanks in advance for any help! :)</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1660808933,"post_id":73399227,"comment_id":129621565,"body_markdown":"What do you mean by you dont know about the file_  You are doing a PUT, so you should have the file.","body":"What do you mean by you dont know about the file_  You are doing a PUT, so you should have the file."},{"owner":{"account_id":25505095,"reputation":11,"user_id":19297691,"display_name":"Faisal Iqbal"},"score":0,"creation_date":1660809128,"post_id":73399227,"comment_id":129621634,"body_markdown":"In our design the file is given to the presigned url through different service.","body":"In our design the file is given to the presigned url through different service."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1660835866,"post_id":73399227,"comment_id":129632281,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660810461,"creation_date":1660809072,"answer_id":73399322,"question_id":73399227,"body_markdown":"For **SDK Version 2**, there is an open feature request: https://github.com/aws/aws-sdk-java-v2/issues/2155\r\n\r\n\r\nFor **SDK Version 1**, you could use `Md5Utils.md5AsBase64(file)` to determine the MD5 of the file.   See Closed Bug: https://github.com/aws/aws-sdk-java/issues/2634\r\n\r\nMD5Utils also exists in Version 2\r\n\r\nhttps://github.com/aws/aws-sdk-java-v2/blob/master/utils/src/main/java/software/amazon/awssdk/utils/Md5Utils.java \r\n\r\n\r\n----------\r\n\r\n\r\nNote\r\n\r\n&gt; If you configure a default retention period on a bucket, requests to\r\n&gt; upload objects in such a bucket must include the Content-MD5 header.\r\n&gt; For more information, see Put Object in the Amazon Simple Storage\r\n&gt; Service API Reference.\r\n\r\nIt seems that the `Content-MD5` header restriction is applied only if you have a (**Retention Period set**).  \r\n\r\nSo if you do have a Retention Period, then yes you must provide `Content-MD5` Header.\r\n\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-overview.html\r\n\r\n\r\n----------\r\n\r\n\r\nNote\r\n\r\n    To successfully complete the PutObject request, you must have the s3:PutObject in your IAM permissions.\r\n\r\n    To successfully change the objects acl of your PutObject request, you must have the s3:PutObjectAcl in your IAM permissions.\r\n\r\n    To successfully set the tag-set with your PutObject request, you must have the s3:PutObjectTagging in your IAM permissions.\r\n\r\n**The Content-MD5 header is required for any request to upload an object with a retention period configured using Amazon S3 Object Lock. For more information about Amazon S3 Object Lock, see Amazon S3 Object Lock Overview in the Amazon S3 User Guide.**\r\n\r\n\r\n\r\n\r\n\r\n\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\r\n\r\n","title":"How to generate PUT presigned URL for an object when bucket has object lock enabled using AWS SDK 2 for java","body":"<p>For <strong>SDK Version 2</strong>, there is an open feature request: <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/2155\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/issues/2155</a></p>\n<p>For <strong>SDK Version 1</strong>, you could use <code>Md5Utils.md5AsBase64(file)</code> to determine the MD5 of the file.   See Closed Bug: <a href=\"https://github.com/aws/aws-sdk-java/issues/2634\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/issues/2634</a></p>\n<p>MD5Utils also exists in Version 2</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2/blob/master/utils/src/main/java/software/amazon/awssdk/utils/Md5Utils.java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/blob/master/utils/src/main/java/software/amazon/awssdk/utils/Md5Utils.java</a></p>\n<hr />\n<p>Note</p>\n<blockquote>\n<p>If you configure a default retention period on a bucket, requests to\nupload objects in such a bucket must include the Content-MD5 header.\nFor more information, see Put Object in the Amazon Simple Storage\nService API Reference.</p>\n</blockquote>\n<p>It seems that the <code>Content-MD5</code> header restriction is applied only if you have a (<strong>Retention Period set</strong>).</p>\n<p>So if you do have a Retention Period, then yes you must provide <code>Content-MD5</code> Header.</p>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-overview.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-overview.html</a></p>\n<hr />\n<p>Note</p>\n<pre><code>To successfully complete the PutObject request, you must have the s3:PutObject in your IAM permissions.\n\nTo successfully change the objects acl of your PutObject request, you must have the s3:PutObjectAcl in your IAM permissions.\n\nTo successfully set the tag-set with your PutObject request, you must have the s3:PutObjectTagging in your IAM permissions.\n</code></pre>\n<p><strong>The Content-MD5 header is required for any request to upload an object with a retention period configured using Amazon S3 Object Lock. For more information about Amazon S3 Object Lock, see Amazon S3 Object Lock Overview in the Amazon S3 User Guide.</strong></p>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html</a></p>\n"}],"owner":{"account_id":25505095,"reputation":11,"user_id":19297691,"display_name":"Faisal Iqbal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660810461,"creation_date":1660808625,"question_id":73399227,"body_markdown":"I have to generate presigned url to upload object on the bucket using AWS SDK 2. Up-until I am doing this with bucket with object lock disabled it is working fine but when I am doing it with bucket with object lock enabled it is throwing error that I should send MD5 encryption. My question here is at the time of creation when I don&#39;t know about the file then how am I supposed to generate its md5 encryption and create the presigned url with it. Anybody please help me in understanding this and how this can be implemented.\r\n\r\nI used the simple code that is given on official website to generate the presigned url nothing new.","title":"How to generate PUT presigned URL for an object when bucket has object lock enabled using AWS SDK 2 for java","body":"<p>I have to generate presigned url to upload object on the bucket using AWS SDK 2. Up-until I am doing this with bucket with object lock disabled it is working fine but when I am doing it with bucket with object lock enabled it is throwing error that I should send MD5 encryption. My question here is at the time of creation when I don't know about the file then how am I supposed to generate its md5 encryption and create the presigned url with it. Anybody please help me in understanding this and how this can be implemented.</p>\n<p>I used the simple code that is given on official website to generate the presigned url nothing new.</p>\n"},{"tags":["java","ssl","sonarqube","azure-devops","lets-encrypt"],"comments":[{"owner":{"account_id":6650981,"reputation":3550,"user_id":5133088,"accept_rate":89,"display_name":"Jeroen Heier"},"score":1,"creation_date":1553889612,"post_id":55303439,"comment_id":97568554,"body_markdown":"You need to register all keys to the keystore. Have a look [here](https://dzone.com/articles/ssl-in-java)","body":"You need to register all keys to the keystore. Have a look <a href=\"https://dzone.com/articles/ssl-in-java\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":2025154,"reputation":123,"user_id":1810377,"accept_rate":100,"display_name":"ddevogel"},"score":1,"creation_date":1554664014,"post_id":55303439,"comment_id":97825072,"body_markdown":"Thanks Jeroen. I was doing that but it wasn&#39;t fixing the problem. I&#39;m happy to report though that I did find the solution and, in case anyone does the same dumb thing like me, here&#39;s the summary. The real problem was that the server.crt I was using for my apache based site only had the wildcard cert in it. It needed to have the chain to the Let&#39;s Encrypt issuer in it as well. Once added, my problem was solved.","body":"Thanks Jeroen. I was doing that but it wasn&#39;t fixing the problem. I&#39;m happy to report though that I did find the solution and, in case anyone does the same dumb thing like me, here&#39;s the summary. The real problem was that the server.crt I was using for my apache based site only had the wildcard cert in it. It needed to have the chain to the Let&#39;s Encrypt issuer in it as well. Once added, my problem was solved."}],"answers":[{"tags":[],"owner":{"account_id":19771104,"reputation":1,"user_id":14478054,"display_name":"Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603109116,"creation_date":1603109116,"answer_id":64426992,"question_id":55303439,"body_markdown":"I&#39;ve figured out that the root of this issue was that I needed to import SonarQuBe certificate as a trust ceritificate in the JRE certificate store.\r\n\r\nYou can try the following steps: \r\n\r\n 1. Download keystore explorer from [here][1]\r\n 2. Open $JAVA_HOME/jre/lib/security/cacerts\r\n 3. enter PW: changeit (Can be changeme on Mac)\r\n 4. Import your .crt file.\r\n 5. Save and replace cacerts file. \r\n\r\n\r\n  [1]: https://keystore-explorer.org","title":"Azure DevOps &quot;Prepare analysis on SonarQube&quot; task fails against our Azure hosted SonarQube server with a Let&#39;s Encrypt wildcard cert","body":"<p>I've figured out that the root of this issue was that I needed to import SonarQuBe certificate as a trust ceritificate in the JRE certificate store.</p>\n<p>You can try the following steps:</p>\n<ol>\n<li>Download keystore explorer from <a href=\"https://keystore-explorer.org\" rel=\"nofollow noreferrer\">here</a></li>\n<li>Open $JAVA_HOME/jre/lib/security/cacerts</li>\n<li>enter PW: changeit (Can be changeme on Mac)</li>\n<li>Import your .crt file.</li>\n<li>Save and replace cacerts file.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22040879,"reputation":1,"user_id":16306678,"display_name":"gimhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660810064,"creation_date":1660809929,"answer_id":73399491,"question_id":55303439,"body_markdown":"This error is caused when your SonarQube instance URLs SSL configuration has incomplete Chain issues. (You can get more details or analyse the SSL configuration [here][1])\r\n\r\nIn my case, I was using an Nginx reverse proxy configured with SSL and **ssl_certificate** on the **server block** was referenced to the .pem certificate file instead of the chained certificate.\r\n\r\nThis is how you can create the chained certificate from the files you download from the CA:\r\n\r\n1. Renaming cert and intermediate cert files\r\na) random_name.crt =&gt; yourdomain.com.crt\r\nb) gd_bundle-g2-g1.crt =&gt; intermediate.crt\r\n\r\n2. create the chained certificate\r\ncat yourdomain.com.crt intermediate.crt &gt;&gt; yourdomain.com.chained.crt\r\n\r\n3. Use that in your web-servers server block (Ex: Nginx)\r\n\r\n\r\n    server {\r\n\r\n            listen 443 ssl;\r\n            listen [::]:443 SSL;\r\n\r\n            server_name         yourdomain.com;\r\n            ssl_certificate     /PATH_TO_FILE/yourdomain.com.chained.crt;\r\n            ssl_certificate_key /PATH_TO_FILE/yourdomain-private.key;\r\n    \r\n            location / {\r\n                    ..........;\r\n            }\r\n    }\r\n\r\n  [1]: https://www.ssllabs.com/ssltest\r\n","title":"Azure DevOps &quot;Prepare analysis on SonarQube&quot; task fails against our Azure hosted SonarQube server with a Let&#39;s Encrypt wildcard cert","body":"<p>This error is caused when your SonarQube instance URLs SSL configuration has incomplete Chain issues. (You can get more details or analyse the SSL configuration <a href=\"https://www.ssllabs.com/ssltest\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>In my case, I was using an Nginx reverse proxy configured with SSL and <strong>ssl_certificate</strong> on the <strong>server block</strong> was referenced to the .pem certificate file instead of the chained certificate.</p>\n<p>This is how you can create the chained certificate from the files you download from the CA:</p>\n<ol>\n<li><p>Renaming cert and intermediate cert files\na) random_name.crt =&gt; yourdomain.com.crt\nb) gd_bundle-g2-g1.crt =&gt; intermediate.crt</p>\n</li>\n<li><p>create the chained certificate\ncat yourdomain.com.crt intermediate.crt &gt;&gt; yourdomain.com.chained.crt</p>\n</li>\n<li><p>Use that in your web-servers server block (Ex: Nginx)</p>\n<p>server {</p>\n<pre><code>     listen 443 ssl;\n     listen [::]:443 SSL;\n\n     server_name         yourdomain.com;\n     ssl_certificate     /PATH_TO_FILE/yourdomain.com.chained.crt;\n     ssl_certificate_key /PATH_TO_FILE/yourdomain-private.key;\n\n     location / {\n             ..........;\n     }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2025154,"reputation":123,"user_id":1810377,"accept_rate":100,"display_name":"ddevogel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660810064,"creation_date":1553270090,"question_id":55303439,"body_markdown":"When running the SonarQube task on the Windows Hosted Agent I get this error right away.\n\n## [error][SQ] API GET &#39;/api/server/version&#39; failed, error was: {&quot;code&quot;:&quot;UNABLE_TO_VERIFY_LEAF_SIGNATURE&quot;}\n\nThe error is apparently related to what&#39;s discussed in this [Let&#39;s Encrypt signing explanation][1]. \n\nUsing the info on that page as a guide and in an attempt to fix the problem I&#39;ve created a predecessor task in the DevOps job to add to the Java keystore on the DevOps Agent box all the certs in the chain up from our wildcard to the issuer (including cross-signers). I&#39;m able to do that but I still get the error from the follow-on Sonar task.\n\nWhen I invoke curl against the /api/server/version endpoint from the Agent I get the error &quot;curl: (60) SSL certificate problem: unable to get local issuer certificate&quot;. \n\nIt&#39;s my understanding that the Sonar task would rely on the Java keystore but that curl doesn&#39;t. That makes it seem like for both apps to work, I need to add these trusted certs in 2 places but I haven&#39;t found even one them. Can anyone guide me to instructions for resolving this issue?\n\nDave\n\n  [1]: https://letsencrypt.org/certificates/\n\nUPDATE: Realizing that the &quot;problem&quot; cert might be helpful. You can get it here [link](https://sonarqube.kalderos.com)","title":"Azure DevOps &quot;Prepare analysis on SonarQube&quot; task fails against our Azure hosted SonarQube server with a Let&#39;s Encrypt wildcard cert","body":"<p>When running the SonarQube task on the Windows Hosted Agent I get this error right away.</p>\n<h2>[error][SQ] API GET '/api/server/version' failed, error was: {&quot;code&quot;:&quot;UNABLE_TO_VERIFY_LEAF_SIGNATURE&quot;}</h2>\n<p>The error is apparently related to what's discussed in this <a href=\"https://letsencrypt.org/certificates/\" rel=\"nofollow noreferrer\">Let's Encrypt signing explanation</a>.</p>\n<p>Using the info on that page as a guide and in an attempt to fix the problem I've created a predecessor task in the DevOps job to add to the Java keystore on the DevOps Agent box all the certs in the chain up from our wildcard to the issuer (including cross-signers). I'm able to do that but I still get the error from the follow-on Sonar task.</p>\n<p>When I invoke curl against the /api/server/version endpoint from the Agent I get the error &quot;curl: (60) SSL certificate problem: unable to get local issuer certificate&quot;.</p>\n<p>It's my understanding that the Sonar task would rely on the Java keystore but that curl doesn't. That makes it seem like for both apps to work, I need to add these trusted certs in 2 places but I haven't found even one them. Can anyone guide me to instructions for resolving this issue?</p>\n<p>Dave</p>\n<p>UPDATE: Realizing that the &quot;problem&quot; cert might be helpful. You can get it here <a href=\"https://sonarqube.kalderos.com\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":["java","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1266441160,"creation_date":1266441160,"answer_id":2284449,"question_id":2284396,"body_markdown":"Cleanliness. It&#39;s easier to comprehend code if it&#39;s broken into logical pieces, not all mushed into the same file.\r\n\r\nThat said, I do not consider the judicious use of inner classes to be inappropriate. Sometimes these inner classes only exist for one purpose, so I would then have no problem with their being in the only file in which they are used. However, this does not happen that much in my experience.","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Cleanliness. It's easier to comprehend code if it's broken into logical pieces, not all mushed into the same file.</p>\n\n<p>That said, I do not consider the judicious use of inner classes to be inappropriate. Sometimes these inner classes only exist for one purpose, so I would then have no problem with their being in the only file in which they are used. However, this does not happen that much in my experience.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1266441366,"creation_date":1266441175,"answer_id":2284452,"question_id":2284396,"body_markdown":"Anonymous classes are good to use when doing event based programming especially in swing.","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Anonymous classes are good to use when doing event based programming especially in swing.</p>\n"},{"tags":[],"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266441725,"creation_date":1266441725,"answer_id":2284503,"question_id":2284396,"body_markdown":"Inner classes are appropriate when trying to emulate multiple inheritance. It is similar to what happens under the hood with C++: when you have multiple inheritance in C++, the object layout in memory is actually a concatenation of several object instances; the compiler then works out how the &quot;this&quot; pointer shall be adjusted when a method is invoked. In Java, there is no multiple inheritance, but an inner class can be used to provide a &quot;view&quot; of a given instance under another type.\r\n\r\nMost of the time, it is possible to stick to single inheritance, but occasionally multiple inheritance would be the right tool to use, and this is the time to use an inner class.\r\n\r\nThis means that inner classes are somehow more complex than usual classes, in the same way that multiple inheritance is more complex than single inheritance: many programmers have some trouble wrapping their mind around that concept. Hence the &quot;best practice&quot;: avoid inner classes because it confuses your coworkers. In my view, this is not a good argument, and at my workplace we are quite happy to use inner classes when we deem it appropriate.\r\n\r\n(A minor drawback of inner classes is that they add one extra level of indentation in the source code. This is a bit irksome at times, when one wants to keep the code within 79 columns.)\r\n","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Inner classes are appropriate when trying to emulate multiple inheritance. It is similar to what happens under the hood with C++: when you have multiple inheritance in C++, the object layout in memory is actually a concatenation of several object instances; the compiler then works out how the \"this\" pointer shall be adjusted when a method is invoked. In Java, there is no multiple inheritance, but an inner class can be used to provide a \"view\" of a given instance under another type.</p>\n\n<p>Most of the time, it is possible to stick to single inheritance, but occasionally multiple inheritance would be the right tool to use, and this is the time to use an inner class.</p>\n\n<p>This means that inner classes are somehow more complex than usual classes, in the same way that multiple inheritance is more complex than single inheritance: many programmers have some trouble wrapping their mind around that concept. Hence the \"best practice\": avoid inner classes because it confuses your coworkers. In my view, this is not a good argument, and at my workplace we are quite happy to use inner classes when we deem it appropriate.</p>\n\n<p>(A minor drawback of inner classes is that they add one extra level of indentation in the source code. This is a bit irksome at times, when one wants to keep the code within 79 columns.)</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1266441881,"creation_date":1266441881,"answer_id":2284514,"question_id":2284396,"body_markdown":"In my view, 90% of inner classes in Java code are either entities that are associated with a single class and were thus &quot;shoved in&quot; as inner classes, or anonymous inner classes that exist because Java does not support Lambdas. \r\n\r\nI personally don&#39;t like seeing complex inner classes. They add complexity to the source file, they make it bigger, they&#39;re ugly to deal with in terms of debugging and profiling, etc. I like separating my project into many packages, in which case I can make most entities top-level classes that are restricted to the package.\r\n\r\nThat leaves me with necessary inner classes - such as action listeners, fake &quot;functional&quot; programming, etc. These are often anonymous and while I&#39;m not a fan (would have preferred a Lambda in many cases), I live with them but don&#39;t like them.\r\n\r\nI haven&#39;t done any C# in years, but I&#39;m wondering if the prevalence of inner classes or whatever the C# equivalent is dropped when they introduced Lambdas. ","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>In my view, 90% of inner classes in Java code are either entities that are associated with a single class and were thus \"shoved in\" as inner classes, or anonymous inner classes that exist because Java does not support Lambdas. </p>\n\n<p>I personally don't like seeing complex inner classes. They add complexity to the source file, they make it bigger, they're ugly to deal with in terms of debugging and profiling, etc. I like separating my project into many packages, in which case I can make most entities top-level classes that are restricted to the package.</p>\n\n<p>That leaves me with necessary inner classes - such as action listeners, fake \"functional\" programming, etc. These are often anonymous and while I'm not a fan (would have preferred a Lambda in many cases), I live with them but don't like them.</p>\n\n<p>I haven't done any C# in years, but I'm wondering if the prevalence of inner classes or whatever the C# equivalent is dropped when they introduced Lambdas. </p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266442962,"creation_date":1266441888,"answer_id":2284515,"question_id":2284396,"body_markdown":"Anonymous inner classes are often used when we need to implement interface with one method, like Runnable, ActionListener and some other.\r\n\r\nOne more great appliance of anonymous inner classes is when you don&#39;t want to make a subclass of some class but you need to override one (or two) of its methods. \r\n\r\nNamed inner classes can be used when you want achieve tight coherence between two classes. They aren&#39;t so useful as anonymous inner classes and I can&#39;t be sure that it&#39;s a good practice to use them ever.\r\n\r\nJava also has nested (or inner static) classes. They can be used when you want to provide some special access and standard public or default access levels aren&#39;t enough.","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Anonymous inner classes are often used when we need to implement interface with one method, like Runnable, ActionListener and some other.</p>\n\n<p>One more great appliance of anonymous inner classes is when you don't want to make a subclass of some class but you need to override one (or two) of its methods. </p>\n\n<p>Named inner classes can be used when you want achieve tight coherence between two classes. They aren't so useful as anonymous inner classes and I can't be sure that it's a good practice to use them ever.</p>\n\n<p>Java also has nested (or inner static) classes. They can be used when you want to provide some special access and standard public or default access levels aren't enough.</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266443778,"creation_date":1266443778,"answer_id":2284697,"question_id":2284396,"body_markdown":"yes it is good to use them, when you are trying to keep a class cohesive, and the classes should never be instantiated from outside their context of the outer class, make the constructors private and you have really nice cohesive encapsulation. Anyone that says you should __NEVER__ use them doesn&#39;t know what they are talking about. For event handlers and other things that anonymous inner classes excel at they are way better than the alternative of cluttering up your package namespace with lots of event handlers that only apply to a specific class.","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>yes it is good to use them, when you are trying to keep a class cohesive, and the classes should never be instantiated from outside their context of the outer class, make the constructors private and you have really nice cohesive encapsulation. Anyone that says you should <strong>NEVER</strong> use them doesn't know what they are talking about. For event handlers and other things that anonymous inner classes excel at they are way better than the alternative of cluttering up your package namespace with lots of event handlers that only apply to a specific class.</p>\n"},{"tags":[],"owner":{"account_id":45536,"reputation":4862,"user_id":134265,"display_name":"gicappa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266445626,"creation_date":1266445626,"answer_id":2284886,"question_id":2284396,"body_markdown":"Inner classes are often used to &quot;pass a behavior&quot; as a parameter of a method. This capability is supported in an elegant way by other languages with closures.\r\nUsing inner classes produces some not elegant code (IMHO) because of a language limitation but it&#39;s useful and widely used to handle events and [blocks][1] in general with inner classes.\r\n\r\nSo I would say that inner classes are very useful.\r\n\r\n  [1]: http://c2.com/cgi/wiki?BlocksInJava","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Inner classes are often used to \"pass a behavior\" as a parameter of a method. This capability is supported in an elegant way by other languages with closures.\nUsing inner classes produces some not elegant code (IMHO) because of a language limitation but it's useful and widely used to handle events and <a href=\"http://c2.com/cgi/wiki?BlocksInJava\" rel=\"nofollow noreferrer\">blocks</a> in general with inner classes.</p>\n\n<p>So I would say that inner classes are very useful.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1266463851,"creation_date":1266463851,"answer_id":2286113,"question_id":2284396,"body_markdown":"Anonymous inner classes has benefits in being able to see the fields and variables around the &quot;new&quot; statement.  This can make for some very clean design and is a quite nice (but a bit wordy) approach to &quot;how can we make a simple version of lambda statements&quot;.\r\n\r\nNamed inner classes has the benefit of having a name, hopefully telling, which can be documented in the usual way, but which is tied together to the surrounding class.  A very nice example is the Builder pattern, where the inner class is responsible for providing state for the initialization process instead of having numerous constructors.  Such builders cannot be reused between classes, so it makes perfect sense to have the Builder tied closely to the parent class. ","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Anonymous inner classes has benefits in being able to see the fields and variables around the \"new\" statement.  This can make for some very clean design and is a quite nice (but a bit wordy) approach to \"how can we make a simple version of lambda statements\".</p>\n\n<p>Named inner classes has the benefit of having a name, hopefully telling, which can be documented in the usual way, but which is tied together to the surrounding class.  A very nice example is the Builder pattern, where the inner class is responsible for providing state for the initialization process instead of having numerous constructors.  Such builders cannot be reused between classes, so it makes perfect sense to have the Builder tied closely to the parent class. </p>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1266491103,"creation_date":1266491103,"answer_id":2288047,"question_id":2284396,"body_markdown":"Yes, forbidding inner classes is a useful practice, in that finding out a place forbids them is a good way to warn me off working there, hence preserving my future sanity. :)\r\n\r\nAs gicappa points out, anonymous inner classes are the closest Java has to closures, and are extremely appropriate for use in situations where passing behaviour into a method is suitable, if nothing else.","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Yes, forbidding inner classes is a useful practice, in that finding out a place forbids them is a good way to warn me off working there, hence preserving my future sanity. :)</p>\n\n<p>As gicappa points out, anonymous inner classes are the closest Java has to closures, and are extremely appropriate for use in situations where passing behaviour into a method is suitable, if nothing else.</p>\n"},{"tags":[],"owner":{"account_id":177464,"reputation":3638,"user_id":408815,"display_name":"jcalvert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288640897,"creation_date":1288640897,"answer_id":4072519,"question_id":2284396,"body_markdown":"Certain frameworks, like Wicket, really require anonymous inner classes. \r\n\r\nSaying never is silly. Never say never! An example of good use might be a situation where you have some legacy code that was written by someone where many classes operate directly on a Collection field, and for whatever reason, you cannot change those other classes, but need to conditionally mirror operations to another Collection. The easiest thing to do is to add this behavior via an anonymous inner class.\r\n\r\n    bagOfStuff = new HashSet(){\r\n      @Override\r\n      public boolean add(Object o) {\r\n        boolean returnValue = super.add(o);\r\n        if(returnValue &amp;&amp; o instanceof Job)\r\n        {\r\n          Job job = ((Job)o);\r\n          if(job.fooBar())\r\n             otherBagOfStuff.add(job);\r\n        }\r\n        return returnValue;\r\n      }\r\n    }\r\n\r\n That said, they can definitely be used like a poor man&#39;s closures. \r\n","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Certain frameworks, like Wicket, really require anonymous inner classes. </p>\n\n<p>Saying never is silly. Never say never! An example of good use might be a situation where you have some legacy code that was written by someone where many classes operate directly on a Collection field, and for whatever reason, you cannot change those other classes, but need to conditionally mirror operations to another Collection. The easiest thing to do is to add this behavior via an anonymous inner class.</p>\n\n<pre><code>bagOfStuff = new HashSet(){\n  @Override\n  public boolean add(Object o) {\n    boolean returnValue = super.add(o);\n    if(returnValue &amp;&amp; o instanceof Job)\n    {\n      Job job = ((Job)o);\n      if(job.fooBar())\n         otherBagOfStuff.add(job);\n    }\n    return returnValue;\n  }\n}\n</code></pre>\n\n<p>That said, they can definitely be used like a poor man's closures. </p>\n"},{"tags":[],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313491929,"creation_date":1313491929,"answer_id":7077030,"question_id":2284396,"body_markdown":"\r\n\r\nAs some others said, many times, when you use an anonymous inner class, it is also used on some other places too...\r\n\r\nThus you may easily duplicate inner class code to many places...\r\nThis seems not a problem when you are using very simple inner classes to filter/sort collections, using predicates, comparator or anything like that...\r\n\r\n\r\nBut you must know that when you use 3 times an anonymous innerclass that does exactly the same thing (for exemple removing the &quot;&quot; of a Collection&lt;String&gt;), you are actually creating 3 new classes on the java PermGen.\r\n\r\n\r\nSo if everyone use inner classes everywhere, this may lead to an application having a bigger permgen. According to the application this may be a problem... If you are working on the industry, you may program embedded applications that have a limited memory, that should be optimized...\r\n\r\n\r\n\r\nNote this is also why the double curly brace syntax (anonymous innerclass with non-static initialization block) is sometimes considered as an antipattern:\r\n\r\n    new ArrayList&lt;String&gt;() {{\r\n         add(&quot;java&quot;);\r\n         add(&quot;jsp&quot;);\r\n         add(&quot;servlets&quot;);\r\n      }}\r\n\r\n\r\n\r\nYou should ask to people who forbids you to use them... \r\nIMHO it all depends on the context...\r\n","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>As some others said, many times, when you use an anonymous inner class, it is also used on some other places too...</p>\n\n<p>Thus you may easily duplicate inner class code to many places...\nThis seems not a problem when you are using very simple inner classes to filter/sort collections, using predicates, comparator or anything like that...</p>\n\n<p>But you must know that when you use 3 times an anonymous innerclass that does exactly the same thing (for exemple removing the \"\" of a Collection), you are actually creating 3 new classes on the java PermGen.</p>\n\n<p>So if everyone use inner classes everywhere, this may lead to an application having a bigger permgen. According to the application this may be a problem... If you are working on the industry, you may program embedded applications that have a limited memory, that should be optimized...</p>\n\n<p>Note this is also why the double curly brace syntax (anonymous innerclass with non-static initialization block) is sometimes considered as an antipattern:</p>\n\n<pre><code>new ArrayList&lt;String&gt;() {{\n     add(\"java\");\n     add(\"jsp\");\n     add(\"servlets\");\n  }}\n</code></pre>\n\n<p>You should ask to people who forbids you to use them... \nIMHO it all depends on the context...</p>\n"},{"tags":[],"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322692817,"creation_date":1322692817,"answer_id":8334032,"question_id":2284396,"body_markdown":"I suggest being cautious when using it if it needs a method parameter. I just found a memory leak related to that. It involves HttpServlet using GrizzlyContinuation.  \r\nIn short here is the buggy code:\r\n\r\n    public void doGet(HttpServletRequest request, final HttpServletResponse response){\r\n      createSubscription(..., new SubscriptionListener(){\r\n        public void subscriptionCreated(final CallController controller) {\r\n          response.setStatus(200);\r\n          ...\r\n          controller.resume();\r\n        }\r\n\r\n        public void subscriptionFailed(){\r\n           ...\r\n         }\r\n\r\n        public void subscriptionTimeout(){\r\n          ...\r\n      }});\r\n    }\r\n\r\nSo since the listener is kept by the subscription the HttpServletResponse is also kept in case the listener needs it (not obvious). Then the HttpServletResponse instance will be release only if the subscription is deleted. If you use an inner class that gets the response in it constructor it can be set to null once the call was resume releasing memory.\r\n\r\nUse them but be careful!\r\n\r\nMartin\r\n","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>I suggest being cautious when using it if it needs a method parameter. I just found a memory leak related to that. It involves HttpServlet using GrizzlyContinuation.<br>\nIn short here is the buggy code:</p>\n\n<pre><code>public void doGet(HttpServletRequest request, final HttpServletResponse response){\n  createSubscription(..., new SubscriptionListener(){\n    public void subscriptionCreated(final CallController controller) {\n      response.setStatus(200);\n      ...\n      controller.resume();\n    }\n\n    public void subscriptionFailed(){\n       ...\n     }\n\n    public void subscriptionTimeout(){\n      ...\n  }});\n}\n</code></pre>\n\n<p>So since the listener is kept by the subscription the HttpServletResponse is also kept in case the listener needs it (not obvious). Then the HttpServletResponse instance will be release only if the subscription is deleted. If you use an inner class that gets the response in it constructor it can be set to null once the call was resume releasing memory.</p>\n\n<p>Use them but be careful!</p>\n\n<p>Martin</p>\n"},{"tags":[],"owner":{"account_id":41924,"reputation":2366,"user_id":122003,"accept_rate":58,"display_name":"Everyone"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1326907898,"creation_date":1326907898,"answer_id":8914587,"question_id":2284396,"body_markdown":"One item that is _not_ mentioned here is that a (non-static) inner class carries a reference to it&#39;s enclosing class. More importantly, the inner class has access to private members of it&#39;s enclosing class. It could, potentially, break encapsulation.\r\n\r\nDon&#39;t use an inner-class if you have an option.\r\n\r\n","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>One item that is <em>not</em> mentioned here is that a (non-static) inner class carries a reference to it's enclosing class. More importantly, the inner class has access to private members of it's enclosing class. It could, potentially, break encapsulation.</p>\n\n<p>Don't use an inner-class if you have an option.</p>\n"},{"tags":[],"owner":{"account_id":1326248,"reputation":2637,"user_id":1270989,"accept_rate":48,"display_name":"Rupesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521192518,"creation_date":1521192518,"answer_id":49317178,"question_id":2284396,"body_markdown":"Code without inner classes is more **maintainable** and **readable**. When you access private data members of the outer class from inner class, JDK compiler creates `package-access` member functions in the outer class for the inner class to access the `private members`. This leaves a **security hole**. **In\r\ngeneral we should avoid using inner classes.** \r\n\r\nUse inner class only when an inner class is only relevant in the\r\ncontext of the outer class and/or inner class can be made private so that only outer class can access it. Inner classes are used primarily to **implement helper classes like Iterators, Comparators etc** which are used in the\r\ncontext of an outer class.","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>Code without inner classes is more <strong>maintainable</strong> and <strong>readable</strong>. When you access private data members of the outer class from inner class, JDK compiler creates <code>package-access</code> member functions in the outer class for the inner class to access the <code>private members</code>. This leaves a <strong>security hole</strong>. <strong>In\ngeneral we should avoid using inner classes.</strong> </p>\n\n<p>Use inner class only when an inner class is only relevant in the\ncontext of the outer class and/or inner class can be made private so that only outer class can access it. Inner classes are used primarily to <strong>implement helper classes like Iterators, Comparators etc</strong> which are used in the\ncontext of an outer class.</p>\n"},{"tags":[],"owner":{"account_id":1115415,"reputation":221,"user_id":1104864,"display_name":"josle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550288463,"creation_date":1550288463,"answer_id":54719693,"question_id":2284396,"body_markdown":"I tend to avoid non-static inner classes for the reasons given by other posters. However I have a particularly favourite pattern where a non-static inner class works very effectively: Lazy loading stateful classes.\r\n\r\nA typical lazy loading stateful class is constructed with an entity ID and then on demand can lazily load additional entity information. Typically to lazily load the additional information we will require dependencies. But dependencies + state == anti pattern!\r\n\r\nNon-static inner classes provide a way to avoid this anti-pattern. Hopefully the following simple example illustrates this better than words can:\r\n\r\n    /*\r\n     * Stateless outer class holding dependencies\r\n     */\r\n    public class DataAssembler {\r\n      private final LoadingService loadingService;\r\n    \r\n      @Inject\r\n      DataAssembler(LoadingService loadingService) {\r\n        this.loadingService = loadingService;\r\n      }\r\n\r\n      public LazyData assemble(long id) {\r\n        return new LazyData(id);\r\n      }\r\n\r\n      /*\r\n       * Stateful non-static inner class that has access to the outer\r\n       * class&#39; dependencies in order to lazily load data.\r\n       */\r\n      public class LazyData {\r\n        private final long id;\r\n\r\n        private LazyData(long id) {\r\n          this.id = id;\r\n        }\r\n\r\n        public long id() {\r\n          return id;\r\n        }\r\n\r\n        public String expensiveData() {\r\n          return loadingService.buildExpensiveDate(id);\r\n        }\r\n      }\r\n    }\r\n\r\n  \r\nWorth noting that there are many other patterns beyond the above example where inner classes are useful; inner classes are like any other Java feature - there are appropriate times where they can be used and inappropriate times!","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>I tend to avoid non-static inner classes for the reasons given by other posters. However I have a particularly favourite pattern where a non-static inner class works very effectively: Lazy loading stateful classes.</p>\n\n<p>A typical lazy loading stateful class is constructed with an entity ID and then on demand can lazily load additional entity information. Typically to lazily load the additional information we will require dependencies. But dependencies + state == anti pattern!</p>\n\n<p>Non-static inner classes provide a way to avoid this anti-pattern. Hopefully the following simple example illustrates this better than words can:</p>\n\n<pre><code>/*\n * Stateless outer class holding dependencies\n */\npublic class DataAssembler {\n  private final LoadingService loadingService;\n\n  @Inject\n  DataAssembler(LoadingService loadingService) {\n    this.loadingService = loadingService;\n  }\n\n  public LazyData assemble(long id) {\n    return new LazyData(id);\n  }\n\n  /*\n   * Stateful non-static inner class that has access to the outer\n   * class' dependencies in order to lazily load data.\n   */\n  public class LazyData {\n    private final long id;\n\n    private LazyData(long id) {\n      this.id = id;\n    }\n\n    public long id() {\n      return id;\n    }\n\n    public String expensiveData() {\n      return loadingService.buildExpensiveDate(id);\n    }\n  }\n}\n</code></pre>\n\n<p>Worth noting that there are many other patterns beyond the above example where inner classes are useful; inner classes are like any other Java feature - there are appropriate times where they can be used and inappropriate times!</p>\n"},{"tags":[],"owner":{"account_id":9065352,"reputation":115,"user_id":7072691,"accept_rate":100,"display_name":"Yoonsung Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660809679,"creation_date":1660809679,"answer_id":73399435,"question_id":2284396,"body_markdown":"# When use or avoid inner class in Java?\r\n\r\nThe inner class has the following characters.\r\n\r\n1. Anyway the `.class` file is separated as `OuterClassName$InnerClassName.class`\r\n\r\n2. The class name and the class file name of the inner class always contain the outer class name.\r\n\r\n\r\nThe above characters disclose this fact. The outer class name is the mandatory information for the inner class.\r\nWe can derive this result from the fact. The inner class is good to be defined when the outer class is mandatory information of the inner class.\r\n\r\nThe characters of the inner class make developers sometimes annoying to debug. Because it forces the developer to know the outer class name with the inner class.\r\n\r\n# Suggestion\r\nIt can be a design principle to avoid defining the inner class except when the outer class name is the mandatory information of the inner class for the above two reasons.","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<h1>When use or avoid inner class in Java?</h1>\n<p>The inner class has the following characters.</p>\n<ol>\n<li><p>Anyway the <code>.class</code> file is separated as <code>OuterClassName$InnerClassName.class</code></p>\n</li>\n<li><p>The class name and the class file name of the inner class always contain the outer class name.</p>\n</li>\n</ol>\n<p>The above characters disclose this fact. The outer class name is the mandatory information for the inner class.\nWe can derive this result from the fact. The inner class is good to be defined when the outer class is mandatory information of the inner class.</p>\n<p>The characters of the inner class make developers sometimes annoying to debug. Because it forces the developer to know the outer class name with the inner class.</p>\n<h1>Suggestion</h1>\n<p>It can be a design principle to avoid defining the inner class except when the outer class name is the mandatory information of the inner class for the above two reasons.</p>\n"}],"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20878,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":2284514,"answer_count":16,"score":25,"last_activity_date":1660809679,"creation_date":1266440675,"question_id":2284396,"body_markdown":"In some of my projects and in some books was said to **not** use inner class (anonymous or not, static or not) - except in some restricted conditions, like `EventListener`s or `Runnable`s - is a best practice. They even were &#39;forbiden&#39; in my first industry project.\r\n\r\nIs this really a best practice? Why?\r\n\r\n(I have to say that I&#39;m using them a lot...)\r\n\r\n-- EDIT ---  \r\nI can&#39;t pick a right answer in all these responses: there&#39;s part of rightness on mostly all of them: I&#39;ll still use inner classes, but I&#39;ll try to use them less often ! \r\n\r\n","title":"Java (anonymous or not) inner classes: is it good to use them?","body":"<p>In some of my projects and in some books was said to <strong>not</strong> use inner class (anonymous or not, static or not) - except in some restricted conditions, like <code>EventListener</code>s or <code>Runnable</code>s - is a best practice. They even were 'forbiden' in my first industry project.</p>\n\n<p>Is this really a best practice? Why?</p>\n\n<p>(I have to say that I'm using them a lot...)</p>\n\n<p>-- EDIT ---<br>\nI can't pick a right answer in all these responses: there's part of rightness on mostly all of them: I'll still use inner classes, but I'll try to use them less often ! </p>\n"},{"tags":["java","xslt","dom","sax","pipeline"],"comments":[{"owner":{"account_id":2230,"reputation":1990,"user_id":3069,"display_name":"Damien B"},"score":3,"creation_date":1277999141,"post_id":1312406,"comment_id":3248747,"body_markdown":"&quot;for(Transformer autobot : autobots){&quot; Priceless :-)","body":"&quot;for(Transformer autobot : autobots){&quot; Priceless :-)"}],"answers":[{"tags":[],"owner":{"account_id":38725,"reputation":100233,"user_id":111335,"accept_rate":75,"display_name":"Pavel Minaev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250875363,"creation_date":1250875363,"answer_id":1313217,"question_id":1312406,"body_markdown":"Your best bet is to stick to DOM as you&#39;re doing, because an XSLT processor would have to build a tree anyway - streaming is only an option for very limited category of transforms, and few if any processors can figure it out automatically and switch to a streaming-only implementation; otherwise they just read the input and build the tree.","title":"Efficient XSLT pipeline in Java (or redirecting Results to Sources)","body":"<p>Your best bet is to stick to DOM as you're doing, because an XSLT processor would have to build a tree anyway - streaming is only an option for very limited category of transforms, and few if any processors can figure it out automatically and switch to a streaming-only implementation; otherwise they just read the input and build the tree.</p>\n"},{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1364840658,"creation_date":1251067118,"answer_id":1319774,"question_id":1312406,"body_markdown":"I found this: [#3. Chaining Transformations][1] that shows two ways to use the **TransformerFactory** to chain transformations, having the results of one transform feed the next transform and then finally output to system out.  This avoids the need for an intermediate serialization to String, file, etc. between transforms.\r\n\r\n&gt; When multiple, successive\r\n&gt; transformations are required to the\r\n&gt; same XML document, be sure to avoid\r\n&gt; unnecessary parsing operations. I\r\n&gt; frequently run into code that\r\n&gt; transforms a String to another String,\r\n&gt; then transforms that String to yet\r\n&gt; another String. Not only is this slow,\r\n&gt; but it can consume a significant\r\n&gt; amount of memory as well, especially\r\n&gt; if the intermediate Strings aren&#39;t\r\n&gt; allowed to be garbage collected.\r\n&gt; \r\n&gt; Most transformations are based on a\r\n&gt; series of SAX events. A SAX parser\r\n&gt; will typically parse an InputStream or\r\n&gt; another InputSource into SAX events,\r\n&gt; which can then be fed to a\r\n&gt; Transformer. Rather than having the\r\n&gt; Transformer output to a File, String,\r\n&gt; or another such Result, a SAXResult\r\n&gt; can be used instead. A SAXResult\r\n&gt; accepts a ContentHandler, which can\r\n&gt; pass these SAX events directly to\r\n&gt; another Transformer, etc.\r\n&gt;\r\n&gt; Here is one approach, and the one I\r\n&gt; usually prefer as it provides more\r\n&gt; flexibility for various input and\r\n&gt; output sources. It also makes it\r\n&gt; fairly easy to create a transformation\r\n&gt; chain dynamically and with a variable\r\n&gt; number of transformations.\r\n&gt; \r\n&gt;     SAXTransformerFactory stf = (SAXTransformerFactory)TransformerFactory.newInstance();\r\n&gt;     \r\n&gt;     // These templates objects could be reused and obtained from elsewhere.\r\n&gt;     Templates templates1 = stf.newTemplates(new StreamSource(\r\n&gt;       getClass().getResourceAsStream(&quot;MyStylesheet1.xslt&quot;)));\r\n&gt;     Templates templates2 = stf.newTemplates(new StreamSource(\r\n&gt;       getClass().getResourceAsStream(&quot;MyStylesheet1.xslt&quot;)));\r\n&gt;     \r\n&gt;     TransformerHandler th1 = stf.newTransformerHandler(templates1);\r\n&gt;     TransformerHandler th2 = stf.newTransformerHandler(templates2);\r\n&gt;     \r\n&gt;     th1.setResult(new SAXResult(th2));\r\n&gt;     th2.setResult(new StreamResult(System.out));\r\n&gt;     \r\n&gt;     Transformer t = stf.newTransformer();\r\n&gt;     t.transform(new StreamSource(System.in), new SAXResult(th1));\r\n&gt;     \r\n&gt;     // th1 feeds th2, which in turn feeds System.out.\r\n\r\n\r\n\r\n  \r\n\r\n[1]: http://blogger.ziesemer.com/2009/01/xml-and-xslt-tips-and-tricks-for-java.html\r\n\r\n","title":"Efficient XSLT pipeline in Java (or redirecting Results to Sources)","body":"<p>I found this: <a href=\"http://blogger.ziesemer.com/2009/01/xml-and-xslt-tips-and-tricks-for-java.html\" rel=\"noreferrer\">#3. Chaining Transformations</a> that shows two ways to use the <strong>TransformerFactory</strong> to chain transformations, having the results of one transform feed the next transform and then finally output to system out.  This avoids the need for an intermediate serialization to String, file, etc. between transforms.</p>\n\n<blockquote>\n  <p>When multiple, successive\n  transformations are required to the\n  same XML document, be sure to avoid\n  unnecessary parsing operations. I\n  frequently run into code that\n  transforms a String to another String,\n  then transforms that String to yet\n  another String. Not only is this slow,\n  but it can consume a significant\n  amount of memory as well, especially\n  if the intermediate Strings aren't\n  allowed to be garbage collected.</p>\n  \n  <p>Most transformations are based on a\n  series of SAX events. A SAX parser\n  will typically parse an InputStream or\n  another InputSource into SAX events,\n  which can then be fed to a\n  Transformer. Rather than having the\n  Transformer output to a File, String,\n  or another such Result, a SAXResult\n  can be used instead. A SAXResult\n  accepts a ContentHandler, which can\n  pass these SAX events directly to\n  another Transformer, etc.</p>\n  \n  <p>Here is one approach, and the one I\n  usually prefer as it provides more\n  flexibility for various input and\n  output sources. It also makes it\n  fairly easy to create a transformation\n  chain dynamically and with a variable\n  number of transformations.</p>\n\n<pre><code>SAXTransformerFactory stf = (SAXTransformerFactory)TransformerFactory.newInstance();\n\n// These templates objects could be reused and obtained from elsewhere.\nTemplates templates1 = stf.newTemplates(new StreamSource(\n  getClass().getResourceAsStream(\"MyStylesheet1.xslt\")));\nTemplates templates2 = stf.newTemplates(new StreamSource(\n  getClass().getResourceAsStream(\"MyStylesheet1.xslt\")));\n\nTransformerHandler th1 = stf.newTransformerHandler(templates1);\nTransformerHandler th2 = stf.newTransformerHandler(templates2);\n\nth1.setResult(new SAXResult(th2));\nth2.setResult(new StreamResult(System.out));\n\nTransformer t = stf.newTransformer();\nt.transform(new StreamSource(System.in), new SAXResult(th1));\n\n// th1 feeds th2, which in turn feeds System.out.\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362154246,"creation_date":1362154246,"answer_id":15161994,"question_id":1312406,"body_markdown":"Related question https://stackoverflow.com/questions/3517352/efficient-xslt-pipeline-with-params-in-java clarified on correct parameters passing to such transformer chain.\r\n\r\nAnd it also gave a hint on slightly shorter solution without third transformer:\r\n\r\n    SAXTransformerFactory stf = (SAXTransformerFactory)TransformerFactory.newInstance();\r\n\r\n    Templates templates1 = stf.newTemplates(new StreamSource(\r\n            getClass().getResourceAsStream(&quot;MyStylesheet1.xslt&quot;)));\r\n    Templates templates2 = stf.newTemplates(new StreamSource(\r\n            getClass().getResourceAsStream(&quot;MyStylesheet2.xslt&quot;)));\r\n\r\n    TransformerHandler th1 = stf.newTransformerHandler(templates1);\r\n    TransformerHandler th2 = stf.newTransformerHandler(templates2);\r\n\r\n    th2.setResult(new StreamResult(System.out));\r\n\r\n    // Note that indent, etc should be applied to the last transformer in chain:\r\n    th2.getTransformer().setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\n    th1.getTransformer().transform(new StreamSource(System.in), new SAXResult(th2));\r\n","title":"Efficient XSLT pipeline in Java (or redirecting Results to Sources)","body":"<p>Related question <a href=\"https://stackoverflow.com/questions/3517352/efficient-xslt-pipeline-with-params-in-java\">Efficient XSLT pipeline, with params, in Java</a> clarified on correct parameters passing to such transformer chain.</p>\n\n<p>And it also gave a hint on slightly shorter solution without third transformer:</p>\n\n<pre><code>SAXTransformerFactory stf = (SAXTransformerFactory)TransformerFactory.newInstance();\n\nTemplates templates1 = stf.newTemplates(new StreamSource(\n        getClass().getResourceAsStream(\"MyStylesheet1.xslt\")));\nTemplates templates2 = stf.newTemplates(new StreamSource(\n        getClass().getResourceAsStream(\"MyStylesheet2.xslt\")));\n\nTransformerHandler th1 = stf.newTransformerHandler(templates1);\nTransformerHandler th2 = stf.newTransformerHandler(templates2);\n\nth2.setResult(new StreamResult(System.out));\n\n// Note that indent, etc should be applied to the last transformer in chain:\nth2.getTransformer().setOutputProperty(OutputKeys.INDENT, \"yes\");\n\nth1.getTransformer().transform(new StreamSource(System.in), new SAXResult(th2));\n</code></pre>\n"}],"owner":{"account_id":43129,"reputation":1731,"user_id":125901,"accept_rate":71,"display_name":"Chris Scott"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8058,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":1319774,"answer_count":3,"score":20,"last_activity_date":1660809271,"creation_date":1250866063,"question_id":1312406,"body_markdown":"I have a series of XSL 2.0 stylesheets that feed into each other, i.e. the output of stylesheet A feeds B feeds C.\r\n\r\nWhat is the most efficient way of doing this?  The question rephrased is: how can one efficiently route the output of one transformation into another.\r\n\r\nHere&#39;s my first attempt:\r\n\r\n    @Override\r\n\tpublic void transform(Source data, Result out) throws TransformerException{\r\n\t\tfor(Transformer autobot : autobots){\r\n\t\t\tif(autobots.indexOf(autobot) != (autobots.size()-1)){\r\n\t\t\t\tlog.debug(&quot;Transforming prelim stylesheet...&quot;);\r\n\t\t\t\tdata = transform(autobot,data);\r\n\t\t\t}else{\r\n\t\t\t\tlog.debug(&quot;Transforming final stylesheet...&quot;);\r\n\t\t\t\tautobot.transform(data, out);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate Source transform(Transformer autobot, Source data) throws TransformerException{\r\n\t\tDOMResult result = new DOMResult();\r\n\t\tautobot.transform(data, result);\r\n\t\tNode node = result.getNode();\r\n\t\treturn new DOMSource(node);\r\n\t}\r\n\r\nAs you can see, I&#39;m using a DOM to sit in between transformations, and although it is convenient, it&#39;s non-optimal performance wise.\r\n\r\nIs there any easy way to route to say, route a SAXResult to a SAXSource?  A StAX solution would be another option.\r\n\r\nI&#39;m aware of projects like [XProc](http://xproc.org), which is very cool if you haven&#39;t taken a look at yet, but I didn&#39;t want to invest in a whole framework.","title":"Efficient XSLT pipeline in Java (or redirecting Results to Sources)","body":"<p>I have a series of XSL 2.0 stylesheets that feed into each other, i.e. the output of stylesheet A feeds B feeds C.</p>\n\n<p>What is the most efficient way of doing this?  The question rephrased is: how can one efficiently route the output of one transformation into another.</p>\n\n<p>Here's my first attempt:</p>\n\n<pre><code>@Override\npublic void transform(Source data, Result out) throws TransformerException{\n    for(Transformer autobot : autobots){\n        if(autobots.indexOf(autobot) != (autobots.size()-1)){\n            log.debug(\"Transforming prelim stylesheet...\");\n            data = transform(autobot,data);\n        }else{\n            log.debug(\"Transforming final stylesheet...\");\n            autobot.transform(data, out);\n        }\n    }\n}\n\nprivate Source transform(Transformer autobot, Source data) throws TransformerException{\n    DOMResult result = new DOMResult();\n    autobot.transform(data, result);\n    Node node = result.getNode();\n    return new DOMSource(node);\n}\n</code></pre>\n\n<p>As you can see, I'm using a DOM to sit in between transformations, and although it is convenient, it's non-optimal performance wise.</p>\n\n<p>Is there any easy way to route to say, route a SAXResult to a SAXSource?  A StAX solution would be another option.</p>\n\n<p>I'm aware of projects like <a href=\"http://xproc.org\" rel=\"noreferrer\">XProc</a>, which is very cool if you haven't taken a look at yet, but I didn't want to invest in a whole framework.</p>\n"},{"tags":["java","spring-security","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1471350284,"post_id":38967732,"comment_id":65302848,"body_markdown":"Did you try to do what the error mentions? The `WebSecurityConfigurerAdapter` specifies an order of 100 (by using the `@Order(100)` anotation). So did you try to specify another order for one of your configs already by using the `@Order` annotation yourself?","body":"Did you try to do what the error mentions? The <code>WebSecurityConfigurerAdapter</code> specifies an order of 100 (by using the <code>@Order(100)</code> anotation). So did you try to specify another order for one of your configs already by using the <code>@Order</code> annotation yourself?"}],"answers":[{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500102605,"creation_date":1500102605,"answer_id":45115521,"question_id":38967732,"body_markdown":"I had the same issue, apply @Order(99) on your websecurity it will fix. \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @EnableAutoConfiguration(exclude = {\r\n            org.activiti.spring.boot.RestApiAutoConfiguration.class,\r\n            org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class,\r\n            org.activiti.spring.boot.SecurityAutoConfiguration.class})\r\n    @ComponentScan(basePackages = {&quot;com.onlineBankingApplication&quot;})\r\n    @Order(99)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {","title":"Two SecurityConfig class in a spring boot project","body":"<p>I had the same issue, apply @Order(99) on your websecurity it will fix. </p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableAutoConfiguration(exclude = {\n        org.activiti.spring.boot.RestApiAutoConfiguration.class,\n        org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class,\n        org.activiti.spring.boot.SecurityAutoConfiguration.class})\n@ComponentScan(basePackages = {\"com.onlineBankingApplication\"})\n@Order(99)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14680284,"reputation":81,"user_id":10602018,"display_name":"Rishabh Pradhan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1552080285,"creation_date":1552080285,"answer_id":55071208,"question_id":38967732,"body_markdown":"Only WebSecurityConfigurerAdapter should be used at a time. If you want to use multiple ones in the same configuration, you have to add the @order annotation on at least one of them to specify the order in which they should be considered. To use the custom one, have it with the highest order.\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    public class MySecurityConfig extends WebSecurityConfigurerAdapter {       \r\n    }","title":"Two SecurityConfig class in a spring boot project","body":"<p>Only WebSecurityConfigurerAdapter should be used at a time. If you want to use multiple ones in the same configuration, you have to add the @order annotation on at least one of them to specify the order in which they should be considered. To use the custom one, have it with the highest order.</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class MySecurityConfig extends WebSecurityConfigurerAdapter {       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8964263,"reputation":415,"user_id":6685619,"display_name":"burak isik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660809095,"creation_date":1660808772,"answer_id":73399255,"question_id":38967732,"body_markdown":"Spring boot is already using WebSecurityConfigurerAdapter under root. It doesn&#39;t allow to give same order to the second WebSecurityConfigurerAdapter. Giving different order to the second WebSecurityConfigurerAdapter (e.g. `order(1000)` ) fixed my issue.\r\n\r\nExample code:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Order(1000)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n       ...\r\n    }","title":"Two SecurityConfig class in a spring boot project","body":"<p>Spring boot is already using WebSecurityConfigurerAdapter under root. It doesn't allow to give same order to the second WebSecurityConfigurerAdapter. Giving different order to the second WebSecurityConfigurerAdapter (e.g. <code>order(1000)</code> ) fixed my issue.</p>\n<p>Example code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@Order(1000)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9814,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1660809095,"creation_date":1471327929,"question_id":38967732,"body_markdown":"I have a SecurityConfig class already in a external library I am using. \r\n\r\nI want to have another SecurityConfig class in order to register more filters in my project using addFilterBefore and addFilterAfter.\r\n\r\nI just add below in my project and I get below error,\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    public class MySecurityConfig extends WebSecurityConfigurerAdapter {       \r\n    }\r\n\r\n\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name\r\n&gt; &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;:\r\n&gt; Injection of autowired dependencies failed; nested exception is\r\n&gt; java.lang.IllegalStateException: @Order on WebSecurityConfigurers must\r\n&gt; be unique. Order of 100 was already used, so it cannot be used on\r\n&gt; com.pearson.springtools.config.SecurityConfig$$EnhancerBySpringCGLIB$$f0407fdb@7326eb0d\r\n&gt; too.","title":"Two SecurityConfig class in a spring boot project","body":"<p>I have a SecurityConfig class already in a external library I am using. </p>\n\n<p>I want to have another SecurityConfig class in order to register more filters in my project using addFilterBefore and addFilterAfter.</p>\n\n<p>I just add below in my project and I get below error,</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class MySecurityConfig extends WebSecurityConfigurerAdapter {       \n}\n</code></pre>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error\n  creating bean with name\n  'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration':\n  Injection of autowired dependencies failed; nested exception is\n  java.lang.IllegalStateException: @Order on WebSecurityConfigurers must\n  be unique. Order of 100 was already used, so it cannot be used on\n  com.pearson.springtools.config.SecurityConfig$$EnhancerBySpringCGLIB$$f0407fdb@7326eb0d\n  too.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","runnable"],"answers":[{"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660808912,"creation_date":1660808912,"answer_id":73399291,"question_id":73399024,"body_markdown":"for dependency injection to work Your bean has to be created by spring, You create it manually\r\n\r\n    TaskDefinitionBean taskDefinitionBean = new TaskDefinitionBean();\r\n\r\nso `beanFactory` is `null`\r\n\r\nYou can Autowire `beanFactory` in Service and pass it to `TaskDefinitionBean`","title":"Null Pointer Exception when Calling repository in a class implementing Runnable","body":"<p>for dependency injection to work Your bean has to be created by spring, You create it manually</p>\n<pre><code>TaskDefinitionBean taskDefinitionBean = new TaskDefinitionBean();\n</code></pre>\n<p>so <code>beanFactory</code> is <code>null</code></p>\n<p>You can Autowire <code>beanFactory</code> in Service and pass it to <code>TaskDefinitionBean</code></p>\n"}],"owner":{"account_id":19636948,"reputation":41,"user_id":14374050,"display_name":"shubham sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73399291,"answer_count":1,"score":0,"last_activity_date":1660808912,"creation_date":1660807726,"question_id":73399024,"body_markdown":"I have a project in which there is a use case where a user books a meeting lets suppose for 10am to 11 am with another user. Now on the backend i want to check at 11 am if the meeting went well or not.\r\n\r\nFor this i am using Scheduled Future and Runnable.\r\nWhenever i book a meeting i create a scheduled future with the relevant meeting end time cron expression..which works fine\r\nbut the problem is that i am not able to access repository or any of the services inside my run function which is necessary.\r\ni am getting a Null Pointer Exception\r\n\r\n\r\nHere is one of the meetingService Code which triggers using endpoint\r\n```\r\npublic String createMeetingSchedulerJobs(){\r\n\t\tBookingDetails booking = repBooking.findAll().get(0);\r\n\r\n\t\t//create completion check job\r\n\t\tString[] dateParts = booking.getDateOfMeeting().split(&quot;/&quot;);\r\n\t\tTaskDefinition taskDefinition = new TaskDefinition();\r\n\t\ttaskDefinition.setData(booking.getMeetingId());\r\n\t\ttaskDefinition.setActionType(TaskDefinitonType.MEETING_COMPLETION);\r\n\t\ttaskDefinition.setCronExpression(miscUtils.generateCronExpression(parseInt(dateParts[0]),parseInt(dateParts[1]),booking.getEndTimeHour(),booking.getEndTimeMinute(),0));\r\n\t\ttaskDefinitionBean.setTaskDefinition(taskDefinition);\r\n\t\ttaskDefinitionBean.setMiscUtils(miscUtils);\r\n\t\treturn taskSchedulerService.scheduleATask(taskDefinition);\r\n\t}\r\n```\r\nthe relevant schedulerService code\r\n```\r\n public String scheduleATask(TaskDefinition taskDefinition){\r\n        String jobId = UUID.randomUUID().toString();\r\n        taskDefinition.setId(jobId);\r\n        TaskDefinitionBean taskDefinitionBean = new TaskDefinitionBean();\r\n        taskDefinitionBean.setTaskDefinition(taskDefinition);\r\n        Runnable tasklet = taskDefinitionBean;\r\n        ScheduledFuture&lt;?&gt; scheduledTask = taskScheduler.schedule(tasklet, new CronTrigger(taskDefinition.getCronExpression(), TimeZone.getTimeZone(TimeZone.getDefault().getID())));\r\n   \r\n        jobsMap.put(jobId, scheduledTask);\r\n        return jobsMap.toString();\r\n    }\r\n```\r\nExample Service\r\n```\r\n@Service\r\npublic class MiscellaneousUtils {\r\n    public String returnHello(){\r\n        return &quot;Hello there ~&quot;;\r\n    }\r\n}\r\n```\r\nTaskDefinitionBean.class\r\n```\r\n@Configurable\r\n@Service\r\npublic class TaskDefinitionBean implements Runnable{\r\n    private TaskDefinition taskDefinition;\r\n\r\n    private MiscellaneousUtils miscUtils;\r\n\r\n    private BeanFactory beanFactory;\r\n\r\n    @Override\r\n    public void run() {\r\n        miscUtils = beanFactory.getBean(MiscellaneousUtils.class);\r\n    }\r\n\r\n    public TaskDefinition getTaskDefinition(){\r\n        return taskDefinition;\r\n    }\r\n    public void setTaskDefinition(TaskDefinition taskDefinition){\r\n        this.taskDefinition=taskDefinition;\r\n    }\r\n    public void setMiscUtils(MiscellaneousUtils miscUtils){this.miscUtils=miscUtils;}\r\n}\r\n```\r\n\r\nI have tried different types of dependency injection in TaskDefinitionBean.class but not successful.\r\nI know there are many relevant and insightful questions which were similar but still couldn&#39;t use the approach.\r\n\r\nThe Error which i am getting is :\r\n```\r\njava.lang.NullPointerException: null\r\n\tat fG.Service.TaskDefinitionBean.run(TaskDefinitionBean.java:38) ~[classes/:na]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93) [spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514) [na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:299) [na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) [na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) [na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:844) [na:na]\r\n```","title":"Null Pointer Exception when Calling repository in a class implementing Runnable","body":"<p>I have a project in which there is a use case where a user books a meeting lets suppose for 10am to 11 am with another user. Now on the backend i want to check at 11 am if the meeting went well or not.</p>\n<p>For this i am using Scheduled Future and Runnable.\nWhenever i book a meeting i create a scheduled future with the relevant meeting end time cron expression..which works fine\nbut the problem is that i am not able to access repository or any of the services inside my run function which is necessary.\ni am getting a Null Pointer Exception</p>\n<p>Here is one of the meetingService Code which triggers using endpoint</p>\n<pre><code>public String createMeetingSchedulerJobs(){\n        BookingDetails booking = repBooking.findAll().get(0);\n\n        //create completion check job\n        String[] dateParts = booking.getDateOfMeeting().split(&quot;/&quot;);\n        TaskDefinition taskDefinition = new TaskDefinition();\n        taskDefinition.setData(booking.getMeetingId());\n        taskDefinition.setActionType(TaskDefinitonType.MEETING_COMPLETION);\n        taskDefinition.setCronExpression(miscUtils.generateCronExpression(parseInt(dateParts[0]),parseInt(dateParts[1]),booking.getEndTimeHour(),booking.getEndTimeMinute(),0));\n        taskDefinitionBean.setTaskDefinition(taskDefinition);\n        taskDefinitionBean.setMiscUtils(miscUtils);\n        return taskSchedulerService.scheduleATask(taskDefinition);\n    }\n</code></pre>\n<p>the relevant schedulerService code</p>\n<pre><code> public String scheduleATask(TaskDefinition taskDefinition){\n        String jobId = UUID.randomUUID().toString();\n        taskDefinition.setId(jobId);\n        TaskDefinitionBean taskDefinitionBean = new TaskDefinitionBean();\n        taskDefinitionBean.setTaskDefinition(taskDefinition);\n        Runnable tasklet = taskDefinitionBean;\n        ScheduledFuture&lt;?&gt; scheduledTask = taskScheduler.schedule(tasklet, new CronTrigger(taskDefinition.getCronExpression(), TimeZone.getTimeZone(TimeZone.getDefault().getID())));\n   \n        jobsMap.put(jobId, scheduledTask);\n        return jobsMap.toString();\n    }\n</code></pre>\n<p>Example Service</p>\n<pre><code>@Service\npublic class MiscellaneousUtils {\n    public String returnHello(){\n        return &quot;Hello there ~&quot;;\n    }\n}\n</code></pre>\n<p>TaskDefinitionBean.class</p>\n<pre><code>@Configurable\n@Service\npublic class TaskDefinitionBean implements Runnable{\n    private TaskDefinition taskDefinition;\n\n    private MiscellaneousUtils miscUtils;\n\n    private BeanFactory beanFactory;\n\n    @Override\n    public void run() {\n        miscUtils = beanFactory.getBean(MiscellaneousUtils.class);\n    }\n\n    public TaskDefinition getTaskDefinition(){\n        return taskDefinition;\n    }\n    public void setTaskDefinition(TaskDefinition taskDefinition){\n        this.taskDefinition=taskDefinition;\n    }\n    public void setMiscUtils(MiscellaneousUtils miscUtils){this.miscUtils=miscUtils;}\n}\n</code></pre>\n<p>I have tried different types of dependency injection in TaskDefinitionBean.class but not successful.\nI know there are many relevant and insightful questions which were similar but still couldn't use the approach.</p>\n<p>The Error which i am getting is :</p>\n<pre><code>java.lang.NullPointerException: null\n    at fG.Service.TaskDefinitionBean.run(TaskDefinitionBean.java:38) ~[classes/:na]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93) [spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514) [na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:299) [na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) [na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) [na:na]\n    at java.base/java.lang.Thread.run(Thread.java:844) [na:na]\n</code></pre>\n"},{"tags":["java","html","htmlcleaner"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1660810932,"post_id":73399283,"comment_id":129622224,"body_markdown":"Not sure what this has to do with `java`. Did you mean `javascript`? Those 2 things are unrelated.","body":"Not sure what this has to do with <code>java</code>. Did you mean <code>javascript</code>? Those 2 things are unrelated."},{"owner":{"account_id":25508383,"reputation":91,"user_id":19300482,"display_name":"somya"},"score":0,"creation_date":1660812196,"post_id":73399283,"comment_id":129622690,"body_markdown":"The resultant HTML is generated via java backend, not javascript.","body":"The resultant HTML is generated via java backend, not javascript."}],"owner":{"account_id":25508383,"reputation":91,"user_id":19300482,"display_name":"somya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660808884,"creation_date":1660808884,"question_id":73399283,"body_markdown":"I need to get the inner HTML as output for an input complete HTML. However, the getInnerHtml function returns an incomplete HTML that cannot be rendered. A few tags are not closed properly, resulting in this issue.\r\n\r\n**Usage:**\r\n\r\n    String possibleUrlData=&quot;&lt;input html value&gt;&quot;;\r\n    TagNode cleanResultNode = cleanString(possibleUrlData);\r\n    String result = cleaner.getInnerHtml(cleanResultNode);\r\n\r\n**Example input tag:**\r\n\r\n     &lt;script defer=&quot;&quot; src=&quot;/_next/static/chunks/6848-2e85e2aba8bb65b9.js&quot;&gt;&lt;/script&gt;\r\n\r\n**Output:**\r\n\r\n    &lt;script defer=&quot;&quot; src=&quot;/_next/static/chunks/6848-2e85e2aba8bb65b9.js&quot; /&gt;\r\n\r\n\r\nWhen I close the output tag properly, the HTML becomes renderable.\r\n\r\nPlease suggest how to deal with this. I do not have much experience with HTMLs, so any advice regarding closing/removing the tags will be helpful.","title":"Close unclosed tags in HTML","body":"<p>I need to get the inner HTML as output for an input complete HTML. However, the getInnerHtml function returns an incomplete HTML that cannot be rendered. A few tags are not closed properly, resulting in this issue.</p>\n<p><strong>Usage:</strong></p>\n<pre><code>String possibleUrlData=&quot;&lt;input html value&gt;&quot;;\nTagNode cleanResultNode = cleanString(possibleUrlData);\nString result = cleaner.getInnerHtml(cleanResultNode);\n</code></pre>\n<p><strong>Example input tag:</strong></p>\n<pre><code> &lt;script defer=&quot;&quot; src=&quot;/_next/static/chunks/6848-2e85e2aba8bb65b9.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>&lt;script defer=&quot;&quot; src=&quot;/_next/static/chunks/6848-2e85e2aba8bb65b9.js&quot; /&gt;\n</code></pre>\n<p>When I close the output tag properly, the HTML becomes renderable.</p>\n<p>Please suggest how to deal with this. I do not have much experience with HTMLs, so any advice regarding closing/removing the tags will be helpful.</p>\n"},{"tags":["java","azure","azure-functions","azure-application-insights"],"comments":[{"owner":{"account_id":1398831,"reputation":17713,"user_id":1384539,"accept_rate":62,"display_name":"Thiago Custodio"},"score":1,"creation_date":1658776862,"post_id":73113892,"comment_id":129131347,"body_markdown":"Sure, there&#39;s no tight coupling between Azure Functions and App Insights. You can use pretty much whatever you would use for an ASPNET web app. e.g. serilog, elmah, etc","body":"Sure, there&#39;s no tight coupling between Azure Functions and App Insights. You can use pretty much whatever you would use for an ASPNET web app. e.g. serilog, elmah, etc"},{"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"score":0,"creation_date":1659451681,"post_id":73113892,"comment_id":129295223,"body_markdown":"@ThiagoCustodio My function is actually a Java Function, so not sure if you are able to give details on how I could write my logs to a separate file. My current Idea is to just store the logs in a list and then write them all to premade blob after the program is done executing. Problem is if the program crashes no logs.","body":"@ThiagoCustodio My function is actually a Java Function, so not sure if you are able to give details on how I could write my logs to a separate file. My current Idea is to just store the logs in a list and then write them all to premade blob after the program is done executing. Problem is if the program crashes no logs."}],"answers":[{"tags":[],"owner":{"account_id":21648916,"reputation":2333,"user_id":15969833,"display_name":"SaiSakethGuduru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658838380,"creation_date":1658838380,"answer_id":73123372,"question_id":73113892,"body_markdown":"*yes, I do agree with the point mentioned by @Thiago Custodio. you can use serilog in the Azure functions to view your logs.*\r\n\r\n*Here is the code provided by @Ivan Yang in this [So][1] for using Serilg in Azure functions.*\r\n\r\n```\r\n  [assembly: WebJobsStartup(typeof(Startup))]\r\n    namespace MyApp\r\n {\r\n        public class Startup : IWebJobsStartup\r\n        {\r\n            public void Configure(IWebJobsBuilder builder)\r\n            {\r\n                //other code\r\n\r\n                builder.Services.AddLogging();\r\n            }\r\n        }\r\n\r\n\r\n\r\n    public class Functions\r\n    {\r\n        //other code\r\n        private ILogger _log;\r\n\r\n        public Functions(ILoggerFactory loggerFactory)\r\n        {\r\n            _log = loggerFactory.CreateLogger&lt;Functions&gt;();\r\n        }\r\n\r\n        [FunctionName(&quot;Token&quot;)]\r\n        public async Task&lt;IActionResult&gt; Function1(\r\n            [HttpTrigger()]...)\r\n        {\r\n               _log.LogInformation(&quot;Function1 invoked&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55931059","title":"Logging Azure Function","body":"<p><em>yes, I do agree with the point mentioned by @Thiago Custodio. you can use serilog in the Azure functions to view your logs.</em></p>\n<p><em>Here is the code provided by @Ivan Yang in this <a href=\"https://stackoverflow.com/a/55931059\">So</a> for using Serilg in Azure functions.</em></p>\n<pre><code>  [assembly: WebJobsStartup(typeof(Startup))]\n    namespace MyApp\n {\n        public class Startup : IWebJobsStartup\n        {\n            public void Configure(IWebJobsBuilder builder)\n            {\n                //other code\n\n                builder.Services.AddLogging();\n            }\n        }\n\n\n\n    public class Functions\n    {\n        //other code\n        private ILogger _log;\n\n        public Functions(ILoggerFactory loggerFactory)\n        {\n            _log = loggerFactory.CreateLogger&lt;Functions&gt;();\n        }\n\n        [FunctionName(&quot;Token&quot;)]\n        public async Task&lt;IActionResult&gt; Function1(\n            [HttpTrigger()]...)\n        {\n               _log.LogInformation(&quot;Function1 invoked&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660808503,"creation_date":1660808503,"answer_id":73399199,"question_id":73113892,"body_markdown":"**Diagnostic Settings** will be of help here. You can enable diagnostics to publish the logs to a storage account.\r\n\r\nTo set the settings. Search for `Diagnostic settings` in the search-pane of your function app.\r\n[![enter image description here][1]][1]\r\nAnd then enable by providing the storage account details:\r\n[![enter image description here][2]][2]\r\n\r\nFor full information refer: https://learn.microsoft.com/en-us/azure/azure-functions/functions-monitor-log-analytics?tabs=java\r\n\r\nThe benefit of this is: that you can continue to log using the default logging framework that the azure-functions provide. There isn&#39;t any code change that is required.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ofxbp.png\r\n  [2]: https://i.stack.imgur.com/A05B1.png","title":"Logging Azure Function","body":"<p><strong>Diagnostic Settings</strong> will be of help here. You can enable diagnostics to publish the logs to a storage account.</p>\n<p>To set the settings. Search for <code>Diagnostic settings</code> in the search-pane of your function app.\n<a href=\"https://i.stack.imgur.com/ofxbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofxbp.png\" alt=\"enter image description here\" /></a>\nAnd then enable by providing the storage account details:\n<a href=\"https://i.stack.imgur.com/A05B1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A05B1.png\" alt=\"enter image description here\" /></a></p>\n<p>For full information refer: <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-monitor-log-analytics?tabs=java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/functions-monitor-log-analytics?tabs=java</a></p>\n<p>The benefit of this is: that you can continue to log using the default logging framework that the azure-functions provide. There isn't any code change that is required.</p>\n"}],"owner":{"account_id":25800605,"reputation":33,"user_id":19543108,"display_name":"Kanyu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73399199,"answer_count":2,"score":1,"last_activity_date":1660808503,"creation_date":1658774298,"question_id":73113892,"body_markdown":"Is there a way to view logging of my Azure Function App without the use of Application Insights?\r\n\r\nCan I write the logging of my Function app to a separate file that I can view? (edit) If so, how?\r\n\r\nEdit: I should have mentioned that I am using Java.\r\n","title":"Logging Azure Function","body":"<p>Is there a way to view logging of my Azure Function App without the use of Application Insights?</p>\n<p>Can I write the logging of my Function app to a separate file that I can view? (edit) If so, how?</p>\n<p>Edit: I should have mentioned that I am using Java.</p>\n"},{"tags":["java","apache-spark","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":4166553,"reputation":39856,"user_id":3415409,"accept_rate":93,"display_name":"eliasah"},"score":1,"creation_date":1466001104,"post_id":37837165,"comment_id":63137704,"body_markdown":"Being normal is relative to the task you are trying to achieve and the amount of data you are dealing with. Also possible bottlenecks network IO. So actually your question isn&#39;t answerable with the given informations.","body":"Being normal is relative to the task you are trying to achieve and the amount of data you are dealing with. Also possible bottlenecks network IO. So actually your question isn&#39;t answerable with the given informations."}],"answers":[{"tags":[],"owner":{"account_id":7170770,"reputation":304,"user_id":5478299,"display_name":"aleck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496101886,"creation_date":1496101886,"answer_id":44251546,"question_id":37837165,"body_markdown":"I&#39;d say %% of CPU and/or memory usage would be a starting point. It your cores are underutilised that can mean your process is not parallel enough. Memory-size lots depend on your data, but generally it&#39;s to use more of RAM than go back to IO.","title":"How to decide if Spark application performance is close to maximum (for given cores and memory)?","body":"<p>I'd say %% of CPU and/or memory usage would be a starting point. It your cores are underutilised that can mean your process is not parallel enough. Memory-size lots depend on your data, but generally it's to use more of RAM than go back to IO.</p>\n"}],"owner":{"account_id":6098135,"reputation":31,"user_id":6040024,"display_name":"Nikita Dobryukha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660807949,"creation_date":1465997994,"question_id":37837165,"body_markdown":"We use Cassandra 3.5 with Spark 1.6.1 in 2-node cluster (8 cores and 16G memory per node).\r\n\r\nThere is the following Cassandra table\r\n\r\n    CREATE TABLE schema.trade (\r\n    symbol text,\r\n    date int,\r\n    trade_time timestamp,\r\n    reporting_venue text,\r\n    trade_id bigint,\r\n    ref_trade_id bigint,\r\n    action_type text,\r\n    price double,\r\n    quantity int,\r\n    condition_code text,\r\n    PRIMARY KEY ((symbol, date), trade_time, trade_id)\r\n    ) WITH compaction = {&#39;class&#39; : &#39;DateTieredCompactionStrategy&#39;, &#39;base_time_seconds&#39; : &#39;3600&#39;, &#39;max_sstable_age_days&#39; : &#39;93&#39;};\r\n\r\nAnd I want to calculate percentage of volume: sum of all volume from trades in the relevant security during the time period groupped by exchange and time bar (1 or 5 minutes).\r\nI&#39;ve created an example:\r\n\r\n    void getPercentageOfVolume(String symbol, Integer date, Timestamp timeFrom, Timestamp timeTill, Integer barWidth) {\r\n\t\tchar MILLISECOND_TO_MINUTE_MULTIPLIER = 60_000;\r\n\t\tLOG.info(&quot;start&quot;);\r\n\t\tJavaPairRDD&lt;Tuple2, Integer&gt; counts = javaFunctions(sparkContext).cassandraTable(&quot;schema&quot;, &quot;trade&quot;)\r\n\t\t\t\t.filter(row -&gt;\r\n\t\t\t\t\t\t\trow.getString(&quot;symbol&quot;).equals(symbol) &amp;&amp; row.getInt(&quot;date&quot;).equals(date) &amp;&amp;\r\n\t\t\t\t\t\t\trow.getDateTime(&quot;trade_time&quot;).getMillis() &gt;= timeFrom.getTime() &amp;&amp;\r\n\t\t\t\t\t\t\trow.getDateTime(&quot;trade_time&quot;).getMillis() &lt; timeTill.getTime())\r\n\t\t\t\t.mapToPair(row -&gt;\r\n\t\t\t\t\tnew Tuple2&lt;&gt;(\r\n\t\t\t\t\t\tnew Tuple2(\r\n\t\t\t\t\t\t\t\tnew Timestamp(\r\n\t\t\t\t\t\t\t\t\t\t(row.getDateTime(&quot;trade_time&quot;).getMillis() / (barWidth * MILLISECOND_TO_MINUTE_MULTIPLIER)) * barWidth * MILLISECOND_TO_MINUTE_MULTIPLIER\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\trow.getString(&quot;reporting_venue&quot;)),\r\n\t\t\t\t\t\trow.getInt(&quot;quantity&quot;)\r\n\t\t\t\t\t)\r\n\t\t\t\t).reduceByKey((a, b) -&gt; a + b);\r\n\t\tLOG.info(counts.collect().toString());\r\n\t\tLOG.info(&quot;finish&quot;);\r\n\t}\r\n\r\n\r\n\r\n&gt; [2016-06-15 09:25:27.014] [INFO ] [main] [EquityTCAAnalytics] start&lt;br&gt;\r\n[2016-06-15 09:25:28.000] [INFO ] [main] [NettyUtil] Found Netty&#39;s native epoll transport in the classpath, using it&lt;br&gt;\r\n[2016-06-15 09:25:28.518] [INFO ] [main] [Cluster] New Cassandra host /node1:9042 added&lt;br&gt;\r\n[2016-06-15 09:25:28.519] [INFO ] [main] [LocalNodeFirstLoadBalancingPolicy] Added host node1 (datacenter1)&lt;br&gt;\r\n[2016-06-15 09:25:28.519] [INFO ] [main] [Cluster] New Cassandra host /node2:9042 added&lt;br&gt;\r\n[2016-06-15 09:25:28.520] [INFO ] [main] [CassandraConnector] Connected to Cassandra cluster: Cassandra&lt;br&gt;\r\n[2016-06-15 09:25:29.115] [INFO ] [main] [SparkContext] Starting job: collect at EquityTCAAnalytics.java:88&lt;br&gt;\r\n[2016-06-15 09:25:29.385] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Registering RDD 2 (mapToPair at EquityTCAAnalytics.java:78)&lt;br&gt;\r\n[2016-06-15 09:25:29.388] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Got job 0 (collect at EquityTCAAnalytics.java:88) with 5 output partitions&lt;br&gt;\r\n[2016-06-15 09:25:29.388] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Final stage: ResultStage 1 (collect at EquityTCAAnalytics.java:88)&lt;br&gt;\r\n[2016-06-15 09:25:29.389] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Parents of final stage: List(ShuffleMapStage 0)&lt;br&gt;\r\n[2016-06-15 09:25:29.391] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Missing parents: List(ShuffleMapStage 0)&lt;br&gt;\r\n[2016-06-15 09:25:29.400] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting ShuffleMapStage 0 (MapPartitionsRDD[2] at mapToPair at EquityTCAAnalytics.java:78), which has no missing parents&lt;br&gt;\r\n[2016-06-15 09:25:29.594] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_0 stored as values in memory (estimated size 10.8 KB, free 10.8 KB)&lt;br&gt;\r\n[2016-06-15 09:25:29.642] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_0_piece0 stored as bytes in memory (estimated size 5.4 KB, free 16.3 KB)&lt;br&gt;\r\n[2016-06-15 09:25:29.647] [INFO ] [dispatcher-event-loop-7] [BlockManagerInfo] Added broadcast_0_piece0 in memory on node2:44871 (size: 5.4 KB, free: 2.4 GB)&lt;br&gt;\r\n[2016-06-15 09:25:29.650] [INFO ] [dag-scheduler-event-loop] [SparkContext] Created broadcast 0 from broadcast at DAGScheduler.scala:1006&lt;br&gt;\r\n[2016-06-15 09:25:29.658] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting 5 missing tasks from ShuffleMapStage 0 (MapPartitionsRDD[2] at mapToPair at EquityTCAAnalytics.java:78)&lt;br&gt;\r\n[2016-06-15 09:25:29.661] [INFO ] [dag-scheduler-event-loop] [TaskSchedulerImpl] Adding task set 0.0 with 5 tasks&lt;br&gt;\r\n[2016-06-15 09:25:30.006] [INFO ] [dispatcher-event-loop-7] [SparkDeploySchedulerBackend] Registered executor NettyRpcEndpointRef(null) (node1:41122) with ID 0&lt;br&gt;\r\n[2016-06-15 09:25:30.040] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 0.0 in stage 0.0 (TID 0, node1, partition 0,NODE_LOCAL, 11725 bytes)&lt;br&gt;\r\n[2016-06-15 09:25:30.051] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 1.0 in stage 0.0 (TID 1, node1, partition 1,NODE_LOCAL, 11317 bytes)&lt;br&gt;\r\n[2016-06-15 09:25:30.054] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 2.0 in stage 0.0 (TID 2, node1, partition 2,NODE_LOCAL, 11929 bytes)&lt;br&gt;\r\n[2016-06-15 09:25:30.057] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 3.0 in stage 0.0 (TID 3, node1, partition 3,NODE_LOCAL, 11249 bytes)&lt;br&gt;\r\n[2016-06-15 09:25:30.059] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 4.0 in stage 0.0 (TID 4, node1, partition 4,NODE_LOCAL, 11560 bytes)&lt;br&gt;\r\n[2016-06-15 09:25:30.077] [INFO ] [dispatcher-event-loop-7] [SparkDeploySchedulerBackend] Registered executor NettyRpcEndpointRef(null) (CassandraCH4.ehubprod.local:33668) with ID 1&lt;br&gt;\r\n[2016-06-15 09:25:30.111] [INFO ] [dispatcher-event-loop-4] [BlockManagerMasterEndpoint] Registering block manager node1:36512 with 511.1 MB RAM, BlockManagerId(0, node1, 36512)&lt;br&gt;\r\n[2016-06-15 09:25:30.168] [INFO ] [dispatcher-event-loop-3] [BlockManagerMasterEndpoint] Registering block manager CassandraCH4.ehubprod.local:33610 with 511.1 MB RAM, BlockManagerId(1, CassandraCH4.ehubprod.local, 33610)&lt;br&gt;\r\n[2016-06-15 09:25:30.818] [INFO ] [dispatcher-event-loop-2] [BlockManagerInfo] Added broadcast_0_piece0 in memory on node1:36512 (size: 5.4 KB, free: 511.1 MB)&lt;br&gt;\r\n[2016-06-15 09:25:36.764] [INFO ] [pool-21-thread-1] [CassandraConnector] Disconnected from Cassandra cluster: Cassandra&lt;br&gt;\r\n[2016-06-15 09:25:48.914] [INFO ] [task-result-getter-0] [TaskSetManager] Finished task 4.0 in stage 0.0 (TID 4) in 18854 ms on node1 (1/5)&lt;br&gt;\r\n[2016-06-15 09:25:55.541] [INFO ] [task-result-getter-1] [TaskSetManager] Finished task 2.0 in stage 0.0 (TID 2) in 25489 ms on node1 (2/5)&lt;br&gt;\r\n[2016-06-15 09:25:57.837] [INFO ] [task-result-getter-2] [TaskSetManager] Finished task 1.0 in stage 0.0 (TID 1) in 27795 ms on node1 (3/5)&lt;br&gt;\r\n[2016-06-15 09:25:57.931] [INFO ] [task-result-getter-3] [TaskSetManager] Finished task 0.0 in stage 0.0 (TID 0) in 27919 ms on node1 (4/5)&lt;br&gt;\r\n[2016-06-15 09:26:01.357] [INFO ] [task-result-getter-0] [TaskSetManager] Finished task 3.0 in stage 0.0 (TID 3) in 31302 ms on node1 (5/5)&lt;br&gt;\r\n[2016-06-15 09:26:01.358] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] ShuffleMapStage 0 (mapToPair at EquityTCAAnalytics.java:78) finished in 31.602 s&lt;br&gt;\r\n[2016-06-15 09:26:01.360] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] looking for newly runnable stages&lt;br&gt;\r\n[2016-06-15 09:26:01.360] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] running: Set()&lt;br&gt;\r\n[2016-06-15 09:26:01.360] [INFO ] [task-result-getter-0] [TaskSchedulerImpl] Removed TaskSet 0.0, whose tasks have all completed, from pool&lt;br&gt;\r\n[2016-06-15 09:26:01.362] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] waiting: Set(ResultStage 1)&lt;br&gt;\r\n[2016-06-15 09:26:01.362] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] failed: Set()&lt;br&gt;\r\n[2016-06-15 09:26:01.365] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting ResultStage 1 (ShuffledRDD[3] at reduceByKey at EquityTCAAnalytics.java:87), which has no missing parents&lt;br&gt;\r\n[2016-06-15 09:26:01.373] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_1 stored as values in memory (estimated size 3.6 KB, free 19.9 KB)&lt;br&gt;\r\n[2016-06-15 09:26:01.382] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_1_piece0 stored as bytes in memory (estimated size 2.1 KB, free 21.9 KB)&lt;br&gt;\r\n[2016-06-15 09:26:01.383] [INFO ] [dispatcher-event-loop-1] [BlockManagerInfo] Added broadcast_1_piece0 in memory on node2:44871 (size: 2.1 KB, free: 2.4 GB)&lt;br&gt;\r\n[2016-06-15 09:26:01.384] [INFO ] [dag-scheduler-event-loop] [SparkContext] Created broadcast 1 from broadcast at DAGScheduler.scala:1006&lt;br&gt;\r\n[2016-06-15 09:26:01.385] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting 5 missing tasks from ResultStage 1 (ShuffledRDD[3] at reduceByKey at EquityTCAAnalytics.java:87)&lt;br&gt;\r\n[2016-06-15 09:26:01.386] [INFO ] [dag-scheduler-event-loop] [TaskSchedulerImpl] Adding task set 1.0 with 5 tasks&lt;br&gt;\r\n[2016-06-15 09:26:01.390] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 0.0 in stage 1.0 (TID 5, node1, partition 0,NODE_LOCAL, 2786 bytes)&lt;br&gt;\r\n[2016-06-15 09:26:01.390] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 1.0 in stage 1.0 (TID 6, node1, partition 1,NODE_LOCAL, 2786 bytes)&lt;br&gt;\r\n[2016-06-15 09:26:01.397] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 2.0 in stage 1.0 (TID 7, node1, partition 2,NODE_LOCAL, 2786 bytes)&lt;br&gt;\r\n[2016-06-15 09:26:01.398] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 3.0 in stage 1.0 (TID 8, node1, partition 3,NODE_LOCAL, 2786 bytes)&lt;br&gt;\r\n[2016-06-15 09:26:01.406] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 4.0 in stage 1.0 (TID 9, node1, partition 4,NODE_LOCAL, 2786 bytes)&lt;br&gt;\r\n[2016-06-15 09:26:01.429] [INFO ] [dispatcher-event-loop-4] [BlockManagerInfo] Added broadcast_1_piece0 in memory on node1:36512 (size: 2.1 KB, free: 511.1 MB)&lt;br&gt;\r\n[2016-06-15 09:26:01.452] [INFO ] [dispatcher-event-loop-6] [MapOutputTrackerMasterEndpoint] Asked to send map output locations for shuffle 0 to node1:41122&lt;br&gt;\r\n[2016-06-15 09:26:01.456] [INFO ] [dispatcher-event-loop-6] [MapOutputTrackerMaster] Size of output statuses for shuffle 0 is 161 bytes&lt;br&gt;\r\n[2016-06-15 09:26:01.526] [INFO ] [task-result-getter-1] [TaskSetManager] Finished task 4.0 in stage 1.0 (TID 9) in 128 ms on node1 (1/5)&lt;br&gt;\r\n[2016-06-15 09:26:01.575] [INFO ] [task-result-getter-3] [TaskSetManager] Finished task 2.0 in stage 1.0 (TID 7) in 184 ms on node1 (2/5)&lt;br&gt;\r\n[2016-06-15 09:26:01.580] [INFO ] [task-result-getter-2] [TaskSetManager] Finished task 0.0 in stage 1.0 (TID 5) in 193 ms on node1 (3/5)&lt;br&gt;\r\n[2016-06-15 09:26:01.589] [INFO ] [task-result-getter-3] [TaskSetManager] Finished task 1.0 in stage 1.0 (TID 6) in 199 ms on node1 (4/5)&lt;br&gt;\r\n[2016-06-15 09:26:01.599] [INFO ] [task-result-getter-2] [TaskSetManager] Finished task 3.0 in stage 1.0 (TID 8) in 200 ms on node1 (5/5)&lt;br&gt;\r\n[2016-06-15 09:26:01.599] [INFO ] [task-result-getter-2] [TaskSchedulerImpl] Removed TaskSet 1.0, whose tasks have all completed, from pool&lt;br&gt;\r\n[2016-06-15 09:26:01.599] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] ResultStage 1 (collect at EquityTCAAnalytics.java:88) finished in 0.202 s&lt;br&gt;\r\n[2016-06-15 09:26:01.612] [INFO ] [main] [DAGScheduler] Job 0 finished: collect at EquityTCAAnalytics.java:88, **took 32.496470 s**&lt;br&gt;\r\n[2016-06-15 09:26:01.634] [INFO ] [main] [EquityTCAAnalytics] [((2016-06-10 13:45:00.0,DA),6944), ((2016-06-10 14:25:00.0,B),5241), ..., ((2016-06-10 10:55:00.0,QD),109080), ((2016-06-10 14:55:00.0,A),1300)]&lt;br&gt;\r\n[2016-06-15 09:26:01.641] [INFO ] [main] [EquityTCAAnalytics] finish\r\n\r\nIs 32.5 s normal?","title":"How to decide if Spark application performance is close to maximum (for given cores and memory)?","body":"<p>We use Cassandra 3.5 with Spark 1.6.1 in 2-node cluster (8 cores and 16G memory per node).</p>\n\n<p>There is the following Cassandra table</p>\n\n<pre><code>CREATE TABLE schema.trade (\nsymbol text,\ndate int,\ntrade_time timestamp,\nreporting_venue text,\ntrade_id bigint,\nref_trade_id bigint,\naction_type text,\nprice double,\nquantity int,\ncondition_code text,\nPRIMARY KEY ((symbol, date), trade_time, trade_id)\n) WITH compaction = {'class' : 'DateTieredCompactionStrategy', 'base_time_seconds' : '3600', 'max_sstable_age_days' : '93'};\n</code></pre>\n\n<p>And I want to calculate percentage of volume: sum of all volume from trades in the relevant security during the time period groupped by exchange and time bar (1 or 5 minutes).\nI've created an example:</p>\n\n<pre><code>void getPercentageOfVolume(String symbol, Integer date, Timestamp timeFrom, Timestamp timeTill, Integer barWidth) {\n    char MILLISECOND_TO_MINUTE_MULTIPLIER = 60_000;\n    LOG.info(\"start\");\n    JavaPairRDD&lt;Tuple2, Integer&gt; counts = javaFunctions(sparkContext).cassandraTable(\"schema\", \"trade\")\n            .filter(row -&gt;\n                        row.getString(\"symbol\").equals(symbol) &amp;&amp; row.getInt(\"date\").equals(date) &amp;&amp;\n                        row.getDateTime(\"trade_time\").getMillis() &gt;= timeFrom.getTime() &amp;&amp;\n                        row.getDateTime(\"trade_time\").getMillis() &lt; timeTill.getTime())\n            .mapToPair(row -&gt;\n                new Tuple2&lt;&gt;(\n                    new Tuple2(\n                            new Timestamp(\n                                    (row.getDateTime(\"trade_time\").getMillis() / (barWidth * MILLISECOND_TO_MINUTE_MULTIPLIER)) * barWidth * MILLISECOND_TO_MINUTE_MULTIPLIER\n                            ),\n                            row.getString(\"reporting_venue\")),\n                    row.getInt(\"quantity\")\n                )\n            ).reduceByKey((a, b) -&gt; a + b);\n    LOG.info(counts.collect().toString());\n    LOG.info(\"finish\");\n}\n</code></pre>\n\n<blockquote>\n  <p>[2016-06-15 09:25:27.014] [INFO ] [main] [EquityTCAAnalytics] start<br>\n  [2016-06-15 09:25:28.000] [INFO ] [main] [NettyUtil] Found Netty's native epoll transport in the classpath, using it<br>\n  [2016-06-15 09:25:28.518] [INFO ] [main] [Cluster] New Cassandra host /node1:9042 added<br>\n  [2016-06-15 09:25:28.519] [INFO ] [main] [LocalNodeFirstLoadBalancingPolicy] Added host node1 (datacenter1)<br>\n  [2016-06-15 09:25:28.519] [INFO ] [main] [Cluster] New Cassandra host /node2:9042 added<br>\n  [2016-06-15 09:25:28.520] [INFO ] [main] [CassandraConnector] Connected to Cassandra cluster: Cassandra<br>\n  [2016-06-15 09:25:29.115] [INFO ] [main] [SparkContext] Starting job: collect at EquityTCAAnalytics.java:88<br>\n  [2016-06-15 09:25:29.385] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Registering RDD 2 (mapToPair at EquityTCAAnalytics.java:78)<br>\n  [2016-06-15 09:25:29.388] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Got job 0 (collect at EquityTCAAnalytics.java:88) with 5 output partitions<br>\n  [2016-06-15 09:25:29.388] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Final stage: ResultStage 1 (collect at EquityTCAAnalytics.java:88)<br>\n  [2016-06-15 09:25:29.389] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Parents of final stage: List(ShuffleMapStage 0)<br>\n  [2016-06-15 09:25:29.391] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Missing parents: List(ShuffleMapStage 0)<br>\n  [2016-06-15 09:25:29.400] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting ShuffleMapStage 0 (MapPartitionsRDD[2] at mapToPair at EquityTCAAnalytics.java:78), which has no missing parents<br>\n  [2016-06-15 09:25:29.594] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_0 stored as values in memory (estimated size 10.8 KB, free 10.8 KB)<br>\n  [2016-06-15 09:25:29.642] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_0_piece0 stored as bytes in memory (estimated size 5.4 KB, free 16.3 KB)<br>\n  [2016-06-15 09:25:29.647] [INFO ] [dispatcher-event-loop-7] [BlockManagerInfo] Added broadcast_0_piece0 in memory on node2:44871 (size: 5.4 KB, free: 2.4 GB)<br>\n  [2016-06-15 09:25:29.650] [INFO ] [dag-scheduler-event-loop] [SparkContext] Created broadcast 0 from broadcast at DAGScheduler.scala:1006<br>\n  [2016-06-15 09:25:29.658] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting 5 missing tasks from ShuffleMapStage 0 (MapPartitionsRDD[2] at mapToPair at EquityTCAAnalytics.java:78)<br>\n  [2016-06-15 09:25:29.661] [INFO ] [dag-scheduler-event-loop] [TaskSchedulerImpl] Adding task set 0.0 with 5 tasks<br>\n  [2016-06-15 09:25:30.006] [INFO ] [dispatcher-event-loop-7] [SparkDeploySchedulerBackend] Registered executor NettyRpcEndpointRef(null) (node1:41122) with ID 0<br>\n  [2016-06-15 09:25:30.040] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 0.0 in stage 0.0 (TID 0, node1, partition 0,NODE_LOCAL, 11725 bytes)<br>\n  [2016-06-15 09:25:30.051] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 1.0 in stage 0.0 (TID 1, node1, partition 1,NODE_LOCAL, 11317 bytes)<br>\n  [2016-06-15 09:25:30.054] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 2.0 in stage 0.0 (TID 2, node1, partition 2,NODE_LOCAL, 11929 bytes)<br>\n  [2016-06-15 09:25:30.057] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 3.0 in stage 0.0 (TID 3, node1, partition 3,NODE_LOCAL, 11249 bytes)<br>\n  [2016-06-15 09:25:30.059] [INFO ] [dispatcher-event-loop-7] [TaskSetManager] Starting task 4.0 in stage 0.0 (TID 4, node1, partition 4,NODE_LOCAL, 11560 bytes)<br>\n  [2016-06-15 09:25:30.077] [INFO ] [dispatcher-event-loop-7] [SparkDeploySchedulerBackend] Registered executor NettyRpcEndpointRef(null) (CassandraCH4.ehubprod.local:33668) with ID 1<br>\n  [2016-06-15 09:25:30.111] [INFO ] [dispatcher-event-loop-4] [BlockManagerMasterEndpoint] Registering block manager node1:36512 with 511.1 MB RAM, BlockManagerId(0, node1, 36512)<br>\n  [2016-06-15 09:25:30.168] [INFO ] [dispatcher-event-loop-3] [BlockManagerMasterEndpoint] Registering block manager CassandraCH4.ehubprod.local:33610 with 511.1 MB RAM, BlockManagerId(1, CassandraCH4.ehubprod.local, 33610)<br>\n  [2016-06-15 09:25:30.818] [INFO ] [dispatcher-event-loop-2] [BlockManagerInfo] Added broadcast_0_piece0 in memory on node1:36512 (size: 5.4 KB, free: 511.1 MB)<br>\n  [2016-06-15 09:25:36.764] [INFO ] [pool-21-thread-1] [CassandraConnector] Disconnected from Cassandra cluster: Cassandra<br>\n  [2016-06-15 09:25:48.914] [INFO ] [task-result-getter-0] [TaskSetManager] Finished task 4.0 in stage 0.0 (TID 4) in 18854 ms on node1 (1/5)<br>\n  [2016-06-15 09:25:55.541] [INFO ] [task-result-getter-1] [TaskSetManager] Finished task 2.0 in stage 0.0 (TID 2) in 25489 ms on node1 (2/5)<br>\n  [2016-06-15 09:25:57.837] [INFO ] [task-result-getter-2] [TaskSetManager] Finished task 1.0 in stage 0.0 (TID 1) in 27795 ms on node1 (3/5)<br>\n  [2016-06-15 09:25:57.931] [INFO ] [task-result-getter-3] [TaskSetManager] Finished task 0.0 in stage 0.0 (TID 0) in 27919 ms on node1 (4/5)<br>\n  [2016-06-15 09:26:01.357] [INFO ] [task-result-getter-0] [TaskSetManager] Finished task 3.0 in stage 0.0 (TID 3) in 31302 ms on node1 (5/5)<br>\n  [2016-06-15 09:26:01.358] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] ShuffleMapStage 0 (mapToPair at EquityTCAAnalytics.java:78) finished in 31.602 s<br>\n  [2016-06-15 09:26:01.360] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] looking for newly runnable stages<br>\n  [2016-06-15 09:26:01.360] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] running: Set()<br>\n  [2016-06-15 09:26:01.360] [INFO ] [task-result-getter-0] [TaskSchedulerImpl] Removed TaskSet 0.0, whose tasks have all completed, from pool<br>\n  [2016-06-15 09:26:01.362] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] waiting: Set(ResultStage 1)<br>\n  [2016-06-15 09:26:01.362] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] failed: Set()<br>\n  [2016-06-15 09:26:01.365] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting ResultStage 1 (ShuffledRDD[3] at reduceByKey at EquityTCAAnalytics.java:87), which has no missing parents<br>\n  [2016-06-15 09:26:01.373] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_1 stored as values in memory (estimated size 3.6 KB, free 19.9 KB)<br>\n  [2016-06-15 09:26:01.382] [INFO ] [dag-scheduler-event-loop] [MemoryStore] Block broadcast_1_piece0 stored as bytes in memory (estimated size 2.1 KB, free 21.9 KB)<br>\n  [2016-06-15 09:26:01.383] [INFO ] [dispatcher-event-loop-1] [BlockManagerInfo] Added broadcast_1_piece0 in memory on node2:44871 (size: 2.1 KB, free: 2.4 GB)<br>\n  [2016-06-15 09:26:01.384] [INFO ] [dag-scheduler-event-loop] [SparkContext] Created broadcast 1 from broadcast at DAGScheduler.scala:1006<br>\n  [2016-06-15 09:26:01.385] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] Submitting 5 missing tasks from ResultStage 1 (ShuffledRDD[3] at reduceByKey at EquityTCAAnalytics.java:87)<br>\n  [2016-06-15 09:26:01.386] [INFO ] [dag-scheduler-event-loop] [TaskSchedulerImpl] Adding task set 1.0 with 5 tasks<br>\n  [2016-06-15 09:26:01.390] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 0.0 in stage 1.0 (TID 5, node1, partition 0,NODE_LOCAL, 2786 bytes)<br>\n  [2016-06-15 09:26:01.390] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 1.0 in stage 1.0 (TID 6, node1, partition 1,NODE_LOCAL, 2786 bytes)<br>\n  [2016-06-15 09:26:01.397] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 2.0 in stage 1.0 (TID 7, node1, partition 2,NODE_LOCAL, 2786 bytes)<br>\n  [2016-06-15 09:26:01.398] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 3.0 in stage 1.0 (TID 8, node1, partition 3,NODE_LOCAL, 2786 bytes)<br>\n  [2016-06-15 09:26:01.406] [INFO ] [dispatcher-event-loop-4] [TaskSetManager] Starting task 4.0 in stage 1.0 (TID 9, node1, partition 4,NODE_LOCAL, 2786 bytes)<br>\n  [2016-06-15 09:26:01.429] [INFO ] [dispatcher-event-loop-4] [BlockManagerInfo] Added broadcast_1_piece0 in memory on node1:36512 (size: 2.1 KB, free: 511.1 MB)<br>\n  [2016-06-15 09:26:01.452] [INFO ] [dispatcher-event-loop-6] [MapOutputTrackerMasterEndpoint] Asked to send map output locations for shuffle 0 to node1:41122<br>\n  [2016-06-15 09:26:01.456] [INFO ] [dispatcher-event-loop-6] [MapOutputTrackerMaster] Size of output statuses for shuffle 0 is 161 bytes<br>\n  [2016-06-15 09:26:01.526] [INFO ] [task-result-getter-1] [TaskSetManager] Finished task 4.0 in stage 1.0 (TID 9) in 128 ms on node1 (1/5)<br>\n  [2016-06-15 09:26:01.575] [INFO ] [task-result-getter-3] [TaskSetManager] Finished task 2.0 in stage 1.0 (TID 7) in 184 ms on node1 (2/5)<br>\n  [2016-06-15 09:26:01.580] [INFO ] [task-result-getter-2] [TaskSetManager] Finished task 0.0 in stage 1.0 (TID 5) in 193 ms on node1 (3/5)<br>\n  [2016-06-15 09:26:01.589] [INFO ] [task-result-getter-3] [TaskSetManager] Finished task 1.0 in stage 1.0 (TID 6) in 199 ms on node1 (4/5)<br>\n  [2016-06-15 09:26:01.599] [INFO ] [task-result-getter-2] [TaskSetManager] Finished task 3.0 in stage 1.0 (TID 8) in 200 ms on node1 (5/5)<br>\n  [2016-06-15 09:26:01.599] [INFO ] [task-result-getter-2] [TaskSchedulerImpl] Removed TaskSet 1.0, whose tasks have all completed, from pool<br>\n  [2016-06-15 09:26:01.599] [INFO ] [dag-scheduler-event-loop] [DAGScheduler] ResultStage 1 (collect at EquityTCAAnalytics.java:88) finished in 0.202 s<br>\n  [2016-06-15 09:26:01.612] [INFO ] [main] [DAGScheduler] Job 0 finished: collect at EquityTCAAnalytics.java:88, <strong>took 32.496470 s</strong><br>\n  [2016-06-15 09:26:01.634] [INFO ] [main] [EquityTCAAnalytics] [((2016-06-10 13:45:00.0,DA),6944), ((2016-06-10 14:25:00.0,B),5241), ..., ((2016-06-10 10:55:00.0,QD),109080), ((2016-06-10 14:55:00.0,A),1300)]<br>\n  [2016-06-15 09:26:01.641] [INFO ] [main] [EquityTCAAnalytics] finish</p>\n</blockquote>\n\n<p>Is 32.5 s normal?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":2987674,"reputation":103,"user_id":2536032,"display_name":"zolt"},"score":0,"creation_date":1660293080,"post_id":73331080,"comment_id":129503254,"body_markdown":"Can you provide your JPA Entities? Especially `hardware`. As I see, you havn&#39;t column `category` in table `hardware`. It maybe becose you have some required relations like `OneToOne` in sibling tables.","body":"Can you provide your JPA Entities? Especially <code>hardware</code>. As I see, you havn&#39;t column <code>category</code> in table <code>hardware</code>. It maybe becose you have some required relations like <code>OneToOne</code> in sibling tables."},{"owner":{"account_id":18851065,"reputation":1,"user_id":13750196,"display_name":"JoostR02"},"score":0,"creation_date":1660293908,"post_id":73331080,"comment_id":129503524,"body_markdown":"@zolt added the entities. The column category is also in the table hardware and also has a relation with category in the DB.","body":"@zolt added the entities. The column category is also in the table hardware and also has a relation with category in the DB."}],"answers":[{"tags":[],"owner":{"account_id":18851065,"reputation":1,"user_id":13750196,"display_name":"JoostR02"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660807273,"creation_date":1660807273,"answer_id":73398917,"question_id":73331080,"body_markdown":"I fixed it by creating an image of an Ubuntu system where everything did work as expected and then use that image on the server. I still don&#39;t know what the exact issue was but it&#39;s fixed.","title":"Spring-Boot When running .JAR of project it fails to initialize JPA","body":"<p>I fixed it by creating an image of an Ubuntu system where everything did work as expected and then use that image on the server. I still don't know what the exact issue was but it's fixed.</p>\n"}],"owner":{"account_id":18851065,"reputation":1,"user_id":13750196,"display_name":"JoostR02"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73398917,"answer_count":1,"score":0,"last_activity_date":1660807273,"creation_date":1660291820,"question_id":73331080,"body_markdown":"What I want to achieve is that when I push something to my staging branch on github a script on the Ubuntu server automatically pulls the branch, compiles the project and runs the .JAR file.\r\n\r\nBut I&#39;m facing a problem where if I package my project on Ubuntu it fails to initialize JPA EntityManagerFactory. It gives the following exception: &quot;Failed to initialize JPA EntityManagerFactory: Unable to find column with logical name category in table hardware&quot;\r\n\r\nWhenever I run the project on Ubuntu with the &quot;mvn spring-boot:run&quot; command it runs fine without any problem. Also when I compile the project on Windows the .JAR file runs fine too. I made sure I use the same versions of the JDK and Maven on Ubuntu and my Windows PC. The dependency versions are also the same. When I run the .JAR file I made on my Windows PC on Ubuntu it runs fine too. I have no clue what the issue could be.\r\n\r\n**HardwareEntity.java**\r\n```java\r\n@Entity\r\n@Table(name = &quot;hardware&quot;)\r\npublic class HardwareEntity {\r\n    @Id\r\n    private String sku;\r\n    @Column(length = 55)\r\n    private String size;\r\n    @Column(length = 55)\r\n    private String type;\r\n    @Column(length = 55)\r\n    private String control;\r\n    private String color;\r\n    private String status;\r\n    private Integer delivery_time;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category&quot;)\r\n    private CategoryEntity category;\r\n\r\n    // Getters &amp; Setters\r\n} \r\n```\r\n\r\n**CategoryEntity.java**\r\n```java\r\n@Entity\r\n@Table(name = &quot;category&quot;)\r\npublic class CategoryEntity {\r\n    @Id\r\n    @Column(length = 55)\r\n    private String code;\r\n    private String description;\r\n    @OneToMany(mappedBy = &quot;category&quot;)\r\n    private List&lt;SoftwareEntity&gt; families;\r\n    @OneToMany(mappedBy = &quot;category&quot;)\r\n    private List&lt;HardwareEntity&gt; hardwares;\r\n    \r\n    // Getters &amp; Setters\r\n}\r\n```","title":"Spring-Boot When running .JAR of project it fails to initialize JPA","body":"<p>What I want to achieve is that when I push something to my staging branch on github a script on the Ubuntu server automatically pulls the branch, compiles the project and runs the .JAR file.</p>\n<p>But I'm facing a problem where if I package my project on Ubuntu it fails to initialize JPA EntityManagerFactory. It gives the following exception: &quot;Failed to initialize JPA EntityManagerFactory: Unable to find column with logical name category in table hardware&quot;</p>\n<p>Whenever I run the project on Ubuntu with the &quot;mvn spring-boot:run&quot; command it runs fine without any problem. Also when I compile the project on Windows the .JAR file runs fine too. I made sure I use the same versions of the JDK and Maven on Ubuntu and my Windows PC. The dependency versions are also the same. When I run the .JAR file I made on my Windows PC on Ubuntu it runs fine too. I have no clue what the issue could be.</p>\n<p><strong>HardwareEntity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;hardware&quot;)\npublic class HardwareEntity {\n    @Id\n    private String sku;\n    @Column(length = 55)\n    private String size;\n    @Column(length = 55)\n    private String type;\n    @Column(length = 55)\n    private String control;\n    private String color;\n    private String status;\n    private Integer delivery_time;\n    @ManyToOne\n    @JoinColumn(name = &quot;category&quot;)\n    private CategoryEntity category;\n\n    // Getters &amp; Setters\n} \n</code></pre>\n<p><strong>CategoryEntity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;category&quot;)\npublic class CategoryEntity {\n    @Id\n    @Column(length = 55)\n    private String code;\n    private String description;\n    @OneToMany(mappedBy = &quot;category&quot;)\n    private List&lt;SoftwareEntity&gt; families;\n    @OneToMany(mappedBy = &quot;category&quot;)\n    private List&lt;HardwareEntity&gt; hardwares;\n    \n    // Getters &amp; Setters\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1660760736,"post_id":73392880,"comment_id":129611343,"body_markdown":"What does the request body you&#39;re sending up look like? Can you show the error you&#39;re getting?","body":"What does the request body you&#39;re sending up look like? Can you show the error you&#39;re getting?"},{"owner":{"account_id":16215712,"reputation":1,"user_id":11708603,"display_name":"Joe"},"score":0,"creation_date":1660761022,"post_id":73392880,"comment_id":129611441,"body_markdown":"there are no errors in the logs at all","body":"there are no errors in the logs at all"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1660761516,"post_id":73392880,"comment_id":129611605,"body_markdown":"How do you know it&#39;s not serializing? I would use a debugger and  set a breakpoint at the start of the endpoint to get some more information, because you should definitely be getting an error somewhere if something went wrong","body":"How do you know it&#39;s not serializing? I would use a debugger and  set a breakpoint at the start of the endpoint to get some more information, because you should definitely be getting an error somewhere if something went wrong"},{"owner":{"account_id":16215712,"reputation":1,"user_id":11708603,"display_name":"Joe"},"score":0,"creation_date":1660761547,"post_id":73392880,"comment_id":129611628,"body_markdown":"I did and its showing nothing, all nulls in the object if I use form data it works fine","body":"I did and its showing nothing, all nulls in the object if I use form data it works fine"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1660762390,"post_id":73392880,"comment_id":129611934,"body_markdown":"Well I setup a new project excluding mongo and it should work out of the box as you have it. So I&#39;m curious as to  how exactly the request looks when you&#39;re sending it up? Are you using postman? If you are make sure the dropdown on the raw tab is JSON not TEXT as default","body":"Well I setup a new project excluding mongo and it should work out of the box as you have it. So I&#39;m curious as to  how exactly the request looks when you&#39;re sending it up? Are you using postman? If you are make sure the dropdown on the raw tab is JSON not TEXT as default"},{"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"score":0,"creation_date":1660762398,"post_id":73392880,"comment_id":129611940,"body_markdown":"I think you are missing content type while making the request. Can you share the curl request?","body":"I think you are missing content type while making the request. Can you share the curl request?"},{"owner":{"account_id":16215712,"reputation":1,"user_id":11708603,"display_name":"Joe"},"score":0,"creation_date":1660762544,"post_id":73392880,"comment_id":129611985,"body_markdown":"I am using postman with a request body of raw, type JSON and in the headers the only thing I add is content-type but it dosent seem to make any difference","body":"I am using postman with a request body of raw, type JSON and in the headers the only thing I add is content-type but it dosent seem to make any difference"},{"owner":{"account_id":16215712,"reputation":1,"user_id":11708603,"display_name":"Joe"},"score":0,"creation_date":1660762637,"post_id":73392880,"comment_id":129612014,"body_markdown":"curl --location --request POST &#39;http://localhost:8080/boat-service/boat/update&#39; \\\n--header &#39;Content-Type: application/json&#39; \\\n--data-raw &#39;{\n    &quot;id&quot;: &quot;62ca4f7c5a3e0f1411445065&quot;,\n    &quot;online&quot;: &quot;false&quot;,\n    &quot;boatName&quot;: &quot;kjdklasd&quot;,\n    &quot;lastOnline&quot;: &quot;null&quot;,\n    &quot;password&quot;: &quot;null&quot;,\n    &quot;displayAddress&quot;: &quot;10.20.36.38&quot;,\n    &quot;displayStatus&quot;: &quot;ONLINE&quot;\n}&#39;","body":"curl --location --request POST &#39;<a href=\"http://localhost:8080/boat-service/boat/update\" rel=\"nofollow noreferrer\">localhost:8080/boat-service/boat/update</a>&#39; \\ --header &#39;Content-Type: application/json&#39; \\ --data-raw &#39;{     &quot;id&quot;: &quot;62ca4f7c5a3e0f1411445065&quot;,     &quot;online&quot;: &quot;false&quot;,     &quot;boatName&quot;: &quot;kjdklasd&quot;,     &quot;lastOnline&quot;: &quot;null&quot;,     &quot;password&quot;: &quot;null&quot;,     &quot;displayAddress&quot;: &quot;10.20.36.38&quot;,     &quot;displayStatus&quot;: &quot;ONLINE&quot; }&#39;"},{"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"score":0,"creation_date":1660764111,"post_id":73392880,"comment_id":129612533,"body_markdown":"try changing the online field in your request json to boolean type : &quot;online&quot;:&quot;false&quot; -&gt; &quot;online&quot; : false","body":"try changing the online field in your request json to boolean type : &quot;online&quot;:&quot;false&quot; -&gt; &quot;online&quot; : false"},{"owner":{"account_id":16215712,"reputation":1,"user_id":11708603,"display_name":"Joe"},"score":0,"creation_date":1660764645,"post_id":73392880,"comment_id":129612731,"body_markdown":"yeah I had that, tried it again changing it back didnt work. I thought maybe it was the boolean causing the issue","body":"yeah I had that, tried it again changing it back didnt work. I thought maybe it was the boolean causing the issue"},{"owner":{"account_id":14370282,"reputation":303,"user_id":10380228,"display_name":"Alexander Argyriou"},"score":0,"creation_date":1660807870,"post_id":73392880,"comment_id":129621174,"body_markdown":"avoid business on constructors. Did you try a custom mapper?","body":"avoid business on constructors. Did you try a custom mapper?"}],"answers":[{"tags":[],"owner":{"account_id":14258515,"reputation":27,"user_id":10300063,"display_name":"Santhosh Kumar S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660765944,"creation_date":1660762163,"answer_id":73393573,"question_id":73392880,"body_markdown":"It is always recommended to specify the Type/Kind of data that your endpoint consume/produce.\r\n\r\n    @PostMapping(value = &quot;/boat/update&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\r\n[Object reserializes - debug Point][1]\r\n\r\n[PostMan Setting][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2hHBl.png\r\n  [2]: https://i.stack.imgur.com/3biXk.png","title":"Spring wont deserialize Object when content is Application/JSON","body":"<p>It is always recommended to specify the Type/Kind of data that your endpoint consume/produce.</p>\n<pre><code>@PostMapping(value = &quot;/boat/update&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2hHBl.png\" rel=\"nofollow noreferrer\">Object reserializes - debug Point</a></p>\n<p><a href=\"https://i.stack.imgur.com/3biXk.png\" rel=\"nofollow noreferrer\">PostMan Setting</a></p>\n"}],"owner":{"account_id":16215712,"reputation":1,"user_id":11708603,"display_name":"Joe"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660807219,"creation_date":1660758508,"question_id":73392880,"body_markdown":"I am try to create an endpoint in spring where I sent raw JSON and it will not deserialize to object but if I use form Data it works fine. I am just wondering what I did wrong?\r\n\r\nthis is the object\r\n```\r\n    @Document(&quot;Boats&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Boat{\r\n    @Id\r\n    private String id;\r\n    private Boolean online;\r\n    private String boatName;\r\n    private String lastOnline;\r\n\r\n    private String password;\r\n    @JsonIgnore\r\n    @Transient\r\n    private java.net.InetAddress inetAddress;\r\n    private String displayAddress;\r\n    private String displayStatus;\r\n\r\n    public Boat(String boatName, InetAddress inetAddress,Boolean online) {\r\n        this.online = online;\r\n        this.boatName = boatName;\r\n        this.inetAddress = inetAddress;\r\n        this.displayAddress = inetAddress.getHostAddress();\r\n        if(online){\r\n            String pattern = &quot;E, dd MMM yyyy HH:mm:ss z&quot;;\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern);\r\n            simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;CST&quot;));\r\n            this.lastOnline = simpleDateFormat.format(new Date());\r\n        }\r\n        updateDisplayStatus();\r\n    }\r\n    public void updateDisplayStatus(){\r\n        if(getOnline()){\r\n            setDisplayStatus(BoatStatus.ONLINE.getDisplayText());\r\n        }else{\r\n            setDisplayStatus(BoatStatus.OFFLINE.getDisplayText());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nand this is the endpoint\r\n\r\n```\r\n    @PostMapping(path= &quot;/boat/update&quot;)\r\n    public ResponseEntity updateBoat(@RequestBody Boat boat){\r\n        boatFacade.updateBoat(boat);\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```\r\n\r\nthis is the body of the request\r\n```\r\n{\r\n&quot;id&quot;:&quot;62ca4f7c5a3e0f1411445065&quot;,\r\n&quot;online&quot;:&quot;false&quot;,\r\n&quot;boatName&quot;:&quot;dfsjkdfsd&quot;,\r\n&quot;lastOnline&quot;:&quot;null&quot;,\r\n&quot;password&quot;:&quot;null&quot;,\r\n&quot;displayAddress&quot;:&quot;10.50.50.50&quot;,\r\n&quot;displayStatus&quot;:&quot;ONLINE&quot;\r\n}\r\n```\r\nthese are the POM dependencies I am using not sure if I am missing\r\na dependency\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n","title":"Spring wont deserialize Object when content is Application/JSON","body":"<p>I am try to create an endpoint in spring where I sent raw JSON and it will not deserialize to object but if I use form Data it works fine. I am just wondering what I did wrong?</p>\n<p>this is the object</p>\n<pre><code>    @Document(&quot;Boats&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class Boat{\n    @Id\n    private String id;\n    private Boolean online;\n    private String boatName;\n    private String lastOnline;\n\n    private String password;\n    @JsonIgnore\n    @Transient\n    private java.net.InetAddress inetAddress;\n    private String displayAddress;\n    private String displayStatus;\n\n    public Boat(String boatName, InetAddress inetAddress,Boolean online) {\n        this.online = online;\n        this.boatName = boatName;\n        this.inetAddress = inetAddress;\n        this.displayAddress = inetAddress.getHostAddress();\n        if(online){\n            String pattern = &quot;E, dd MMM yyyy HH:mm:ss z&quot;;\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern);\n            simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;CST&quot;));\n            this.lastOnline = simpleDateFormat.format(new Date());\n        }\n        updateDisplayStatus();\n    }\n    public void updateDisplayStatus(){\n        if(getOnline()){\n            setDisplayStatus(BoatStatus.ONLINE.getDisplayText());\n        }else{\n            setDisplayStatus(BoatStatus.OFFLINE.getDisplayText());\n        }\n    }\n}\n\n</code></pre>\n<p>and this is the endpoint</p>\n<pre><code>    @PostMapping(path= &quot;/boat/update&quot;)\n    public ResponseEntity updateBoat(@RequestBody Boat boat){\n        boatFacade.updateBoat(boat);\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n<p>this is the body of the request</p>\n<pre><code>{\n&quot;id&quot;:&quot;62ca4f7c5a3e0f1411445065&quot;,\n&quot;online&quot;:&quot;false&quot;,\n&quot;boatName&quot;:&quot;dfsjkdfsd&quot;,\n&quot;lastOnline&quot;:&quot;null&quot;,\n&quot;password&quot;:&quot;null&quot;,\n&quot;displayAddress&quot;:&quot;10.50.50.50&quot;,\n&quot;displayStatus&quot;:&quot;ONLINE&quot;\n}\n</code></pre>\n<p>these are the POM dependencies I am using not sure if I am missing\na dependency</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":22544365,"reputation":45,"user_id":16734543,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660807177,"creation_date":1660807177,"answer_id":73398896,"question_id":73398326,"body_markdown":"I fixed it. \r\nBasicSessionCredentials is used instead of  BasicAWSCredentials. \r\n\r\n            AWSCredentialsProvider awsCredentialsProvider  = new AWSStaticCredentialsProvider(new BasicSessionCredentials(awsCredentials.getAccessKeyId(),awsCredentials.getSecretAccessKey(),awsCredentials.getSessionToken()))      ;\r\n","title":"Why did I get exception when I access CloudTrail Events ? Thanks","body":"<p>I fixed it.\nBasicSessionCredentials is used instead of  BasicAWSCredentials.</p>\n<pre><code>        AWSCredentialsProvider awsCredentialsProvider  = new AWSStaticCredentialsProvider(new BasicSessionCredentials(awsCredentials.getAccessKeyId(),awsCredentials.getSecretAccessKey(),awsCredentials.getSessionToken()))      ;\n</code></pre>\n"}],"owner":{"account_id":22544365,"reputation":45,"user_id":16734543,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73398896,"answer_count":1,"score":0,"last_activity_date":1660807177,"creation_date":1660803895,"question_id":73398326,"body_markdown":"Exception: com.amazonaws.services.cloudtrail.model.AWSCloudTrailException: The security token included in the request is invalid. (Service: AWSCloudTrail; Status Code: 400; Error Code: UnrecognizedClientException;\r\n\r\nthe sample code : \r\nawsCredentials (accessKey, SecretAsscessKey) is the temporary credential I got through AssumeRole (RoleA).  RoleA has the priviliage to access LookupEvents in CloudTrail. \r\n\r\n \r\n            AWSCloudTrailClientBuilder  awsCloudTrailClientBuilder = AWSCloudTrailClientBuilder.standard();\r\n            AWSCredentialsProvider awsCredentialsProvider  = new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsCredentials.getAccessKeyId(),awsCredentials.getSecretAccessKey()))      ;\r\n            AWSCloudTrail awsCloudTrailClient = awsCloudTrailClientBuilder.withClientConfiguration(new ClientConfiguration()\r\n                            .withSocketTimeout(5000)\r\n                            .withConnectionMaxIdleMillis(30000L))\r\n                    .withCredentials(awsCredentialsProvider)\r\n                    .withRegion(Regions.US_EAST_1)\r\n                    .build();\r\n\r\n            LookupEventsRequest request = new LookupEventsRequest()\r\n                    .withRequestCredentialsProvider(awsCredentialsProvider);\r\n\r\n            LookupEventsResult lookupEventsResult = awsCloudTrailClient.lookupEvents(request);\r\n\r\nThe exception comes from the lookupEvents call.  I ensure the credential doesn&#39;t expire  when I call LookupEvents(request). \r\n\r\nAre there any wrong with the above code ?  Thanks for your support.  \r\n\r\n\r\n","title":"Why did I get exception when I access CloudTrail Events ? Thanks","body":"<p>Exception: com.amazonaws.services.cloudtrail.model.AWSCloudTrailException: The security token included in the request is invalid. (Service: AWSCloudTrail; Status Code: 400; Error Code: UnrecognizedClientException;</p>\n<p>the sample code :\nawsCredentials (accessKey, SecretAsscessKey) is the temporary credential I got through AssumeRole (RoleA).  RoleA has the priviliage to access LookupEvents in CloudTrail.</p>\n<pre><code>        AWSCloudTrailClientBuilder  awsCloudTrailClientBuilder = AWSCloudTrailClientBuilder.standard();\n        AWSCredentialsProvider awsCredentialsProvider  = new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsCredentials.getAccessKeyId(),awsCredentials.getSecretAccessKey()))      ;\n        AWSCloudTrail awsCloudTrailClient = awsCloudTrailClientBuilder.withClientConfiguration(new ClientConfiguration()\n                        .withSocketTimeout(5000)\n                        .withConnectionMaxIdleMillis(30000L))\n                .withCredentials(awsCredentialsProvider)\n                .withRegion(Regions.US_EAST_1)\n                .build();\n\n        LookupEventsRequest request = new LookupEventsRequest()\n                .withRequestCredentialsProvider(awsCredentialsProvider);\n\n        LookupEventsResult lookupEventsResult = awsCloudTrailClient.lookupEvents(request);\n</code></pre>\n<p>The exception comes from the lookupEvents call.  I ensure the credential doesn't expire  when I call LookupEvents(request).</p>\n<p>Are there any wrong with the above code ?  Thanks for your support.</p>\n"},{"tags":["java","graph"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660784230,"post_id":73393833,"comment_id":129616886,"body_markdown":"`I can&#39;t come up with a way to link all vertices correctly though.` - So the actual question is how to ***create connections*** in the ***Graph***, right? Can provide a code snippet illustrating how you&#39;re getting the *Points* which correspond to the vertices of the *Polygon*, and *Points* denoting the *slicing Lines*?","body":"<code>I can&#39;t come up with a way to link all vertices correctly though.</code> - So the actual question is how to <b><i>create connections</i></b> in the <b><i>Graph</i></b>, right? Can provide a code snippet illustrating how you&#39;re getting the <i>Points</i> which correspond to the vertices of the <i>Polygon</i>, and <i>Points</i> denoting the <i>slicing Lines</i>?"},{"owner":{"account_id":26091282,"reputation":1,"user_id":19788136,"display_name":"Wavestep"},"score":0,"creation_date":1660806716,"post_id":73393833,"comment_id":129620766,"body_markdown":"So the question is from a leetcode type site I&#39;m using to practice problems. All the data is read from the System.in inputstream. See the edit of the mainpost of how its formatted.","body":"So the question is from a leetcode type site I&#39;m using to practice problems. All the data is read from the System.in inputstream. See the edit of the mainpost of how its formatted."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660815148,"post_id":73393833,"comment_id":129623737,"body_markdown":"Input without description isn&#39;t very clear, which of these coordinates form slicing lines, and which represent the vertices of the Polygon? Can you post the link? Since you&#39;re asking how to link vertices in the Graph, a bit more context would be helpful.","body":"Input without description isn&#39;t very clear, which of these coordinates form slicing lines, and which represent the vertices of the Polygon? Can you post the link? Since you&#39;re asking how to link vertices in the Graph, a bit more context would be helpful."}],"owner":{"account_id":26091282,"reputation":1,"user_id":19788136,"display_name":"Wavestep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660807105,"creation_date":1660763642,"question_id":73393833,"body_markdown":"I have a polygon that have been divided up with multiple lines, creating new smaller polygons that make up the whole. How would I go about finding the slice with the largest area?\r\n\r\nImagine something like this: [sliced polygon][1] green points are vertices, lines intersect creating more vertices, looking for the largest yellow marked area.\r\n\r\nI figured this could be solved by generating a directed graph in order to define each unique shape. I can&#39;t come up with a way to link all vertices correctly though.\r\n\r\nAll vertices and edge lengths are either given or calculated with these methods.\r\n\r\n``` \r\npublic static double calcDistanceBetweenPoints(Point a, Point b){\r\n        return Math.sqrt((b.y - a.y) * (b.y - a.y) + (b.x - a.x) * (b.x - a.x));\r\n}\r\n ```\r\n\r\n    public static Point findIntersection(Point A, Point B, Point C, Point D){\r\n        // Line AB represented as a1x + b1y = c1\r\n        double a1 = B.y - A.y;\r\n        double b1 = A.x - B.x;\r\n        double c1 = a1*(A.x) + b1*(A.y);\r\n      \r\n        // Line CD represented as a2x + b2y = c2\r\n        double a2 = D.y - C.y;\r\n        double b2 = C.x - D.x;\r\n        double c2 = a2*(C.x)+ b2*(C.y);\r\n      \r\n        double determinant = a1*b2 - a2*b1;\r\n      \r\n        if (determinant == 0)\r\n        {\r\n            // The lines are parallel\r\n            return new Point(Double.MAX_VALUE, Double.MAX_VALUE);\r\n        }\r\n        else\r\n        {\r\n            double x = (b2*c1 - b1*c2)/determinant;\r\n            double y = (a1*c2 - a2*c1)/determinant;\r\n            return new Point(x, y);\r\n        }\r\n    }\r\n\r\nData collected from the System.in input stream looks something like this:\r\n```\r\nn m\r\nx1 y1\r\nx.. y...\r\nxn yn\r\nx11 y11 x21 y21\r\nx.. y.. x.. y..\r\nx1m y1m x2m y2m\r\n```\r\n\r\nSo I get all the starting and ending points for each line from the input. \r\n\r\nThanks for the help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jelfp.png","title":"Imagine slicing a polygon like a pizza haphazardly, how would you find the largest slice?","body":"<p>I have a polygon that have been divided up with multiple lines, creating new smaller polygons that make up the whole. How would I go about finding the slice with the largest area?</p>\n<p>Imagine something like this: <a href=\"https://i.stack.imgur.com/jelfp.png\" rel=\"nofollow noreferrer\">sliced polygon</a> green points are vertices, lines intersect creating more vertices, looking for the largest yellow marked area.</p>\n<p>I figured this could be solved by generating a directed graph in order to define each unique shape. I can't come up with a way to link all vertices correctly though.</p>\n<p>All vertices and edge lengths are either given or calculated with these methods.</p>\n<pre><code>public static double calcDistanceBetweenPoints(Point a, Point b){\n        return Math.sqrt((b.y - a.y) * (b.y - a.y) + (b.x - a.x) * (b.x - a.x));\n}\n</code></pre>\n<pre><code>public static Point findIntersection(Point A, Point B, Point C, Point D){\n    // Line AB represented as a1x + b1y = c1\n    double a1 = B.y - A.y;\n    double b1 = A.x - B.x;\n    double c1 = a1*(A.x) + b1*(A.y);\n  \n    // Line CD represented as a2x + b2y = c2\n    double a2 = D.y - C.y;\n    double b2 = C.x - D.x;\n    double c2 = a2*(C.x)+ b2*(C.y);\n  \n    double determinant = a1*b2 - a2*b1;\n  \n    if (determinant == 0)\n    {\n        // The lines are parallel\n        return new Point(Double.MAX_VALUE, Double.MAX_VALUE);\n    }\n    else\n    {\n        double x = (b2*c1 - b1*c2)/determinant;\n        double y = (a1*c2 - a2*c1)/determinant;\n        return new Point(x, y);\n    }\n}\n</code></pre>\n<p>Data collected from the System.in input stream looks something like this:</p>\n<pre><code>n m\nx1 y1\nx.. y...\nxn yn\nx11 y11 x21 y21\nx.. y.. x.. y..\nx1m y1m x2m y2m\n</code></pre>\n<p>So I get all the starting and ending points for each line from the input.</p>\n<p>Thanks for the help</p>\n"},{"tags":["java","android","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":5553343,"reputation":174,"user_id":4405670,"display_name":"Piyush Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660807035,"creation_date":1660807035,"answer_id":73398866,"question_id":73398215,"body_markdown":"Change your query arguments like this\r\n\r\n    Cursor cursor = this.getContentResolver()\r\n                .query(uriSms,\r\n                    new String[]{&quot;_id&quot;, &quot;address&quot;, &quot;date&quot;, &quot;body&quot;,\r\n                        &quot;type&quot;}, &quot; read = 0 AND type = &quot; + type, null,\r\n                    &quot;date&quot; + &quot; COLLATE LOCALIZED ASC&quot;);\r\n\r\nYou are passing selection where clause for read = 0 in projections instead of where clause.\r\n\r\nThis is how you can pass multiple where/selection clause.","title":"Unable to fetch unread messages from SMS inbox","body":"<p>Change your query arguments like this</p>\n<pre><code>Cursor cursor = this.getContentResolver()\n            .query(uriSms,\n                new String[]{&quot;_id&quot;, &quot;address&quot;, &quot;date&quot;, &quot;body&quot;,\n                    &quot;type&quot;}, &quot; read = 0 AND type = &quot; + type, null,\n                &quot;date&quot; + &quot; COLLATE LOCALIZED ASC&quot;);\n</code></pre>\n<p>You are passing selection where clause for read = 0 in projections instead of where clause.</p>\n<p>This is how you can pass multiple where/selection clause.</p>\n"}],"owner":{"display_name":"user19705717"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73398866,"answer_count":1,"score":0,"last_activity_date":1660807035,"creation_date":1660803083,"question_id":73398215,"body_markdown":"I have successfully retrieved all messages from inbox but I want only unread messages . I have also apply in the query as `read=0` which gives unread SMS but it can&#39;t retrive unread messages it retrieves all messages.\r\n\r\n```\r\n    public ArrayList&lt;Message&gt; fetchInboxSms(int type)  {\r\n        ArrayList&lt;Message&gt; smsInbox = new ArrayList&lt;Message&gt;();\r\n          Uri uriSms = Uri.parse(&quot;content://sms&quot;);\r\n        SimpleDateFormat formatter1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        Calendar calendar2 = Calendar.getInstance();\r\n        calendar2.setTimeInMillis(System.currentTimeMillis()-ONE_DAYS_MILIS);\r\n        Date finaldate2 = calendar2.getTime();\r\n        String date3 = formatter1.format(finaldate2);\r\n\r\n        @SuppressLint(&quot;Recycle&quot;) Cursor cursor = this.getContentResolver()\r\n                .query(uriSms,\r\n                        new String[] { &quot;_id&quot;, &quot;address&quot;, &quot;date&quot;, &quot;body&quot;,\r\n                                &quot;type&quot;, &quot; read = 0 &quot; }, &quot;type=&quot; + type, null,\r\n                        &quot;date&quot; + &quot; COLLATE LOCALIZED ASC&quot;);\r\n\r\n        if (cursor != null) {\r\n            cursor.moveToLast();\r\n            if (cursor.getCount() &gt; 0) {\r\n\r\n                do {\r\n                    Message message = new Message();\r\n                  message.messageNumber = cursor.getString(cursor\r\n                            .getColumnIndex(&quot;address&quot;));\r\n                     //message.messageContent = cursor.getString(cursor.getColumnIndex(&quot;date&quot;));\r\n                    String date =  cursor.getString(cursor.getColumnIndex(&quot;date&quot;));\r\n                    String content = cursor.getString(cursor.getColumnIndex(&quot;body&quot;));             \r\n                     \r\n                    message.messageContent = content;\r\n                     \r\n                      smsInbox.add(message);\r\n                } while (cursor.moveToPrevious());\r\n            }\r\n        }\r\n\r\n        return smsInbox;\r\n\r\n    }\r\n```","title":"Unable to fetch unread messages from SMS inbox","body":"<p>I have successfully retrieved all messages from inbox but I want only unread messages . I have also apply in the query as <code>read=0</code> which gives unread SMS but it can't retrive unread messages it retrieves all messages.</p>\n<pre><code>    public ArrayList&lt;Message&gt; fetchInboxSms(int type)  {\n        ArrayList&lt;Message&gt; smsInbox = new ArrayList&lt;Message&gt;();\n          Uri uriSms = Uri.parse(&quot;content://sms&quot;);\n        SimpleDateFormat formatter1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        Calendar calendar2 = Calendar.getInstance();\n        calendar2.setTimeInMillis(System.currentTimeMillis()-ONE_DAYS_MILIS);\n        Date finaldate2 = calendar2.getTime();\n        String date3 = formatter1.format(finaldate2);\n\n        @SuppressLint(&quot;Recycle&quot;) Cursor cursor = this.getContentResolver()\n                .query(uriSms,\n                        new String[] { &quot;_id&quot;, &quot;address&quot;, &quot;date&quot;, &quot;body&quot;,\n                                &quot;type&quot;, &quot; read = 0 &quot; }, &quot;type=&quot; + type, null,\n                        &quot;date&quot; + &quot; COLLATE LOCALIZED ASC&quot;);\n\n        if (cursor != null) {\n            cursor.moveToLast();\n            if (cursor.getCount() &gt; 0) {\n\n                do {\n                    Message message = new Message();\n                  message.messageNumber = cursor.getString(cursor\n                            .getColumnIndex(&quot;address&quot;));\n                     //message.messageContent = cursor.getString(cursor.getColumnIndex(&quot;date&quot;));\n                    String date =  cursor.getString(cursor.getColumnIndex(&quot;date&quot;));\n                    String content = cursor.getString(cursor.getColumnIndex(&quot;body&quot;));             \n                     \n                    message.messageContent = content;\n                     \n                      smsInbox.add(message);\n                } while (cursor.moveToPrevious());\n            }\n        }\n\n        return smsInbox;\n\n    }\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"down_vote_count":0,"up_vote_count":489,"is_accepted":true,"score":489,"last_activity_date":1497500118,"creation_date":1329371576,"answer_id":9306228,"question_id":9306202,"body_markdown":"You want to use `negative lookbehind` like this: \r\n\r\n    \\w*(?&lt;!foo)bar\r\n\r\nWhere `(?&lt;!x)` means &quot;only if it doesn&#39;t have &quot;x&quot; before this point&quot;.\r\n\r\nSee [Regular Expressions - Lookaround](http://www.regular-expressions.info/lookaround.html) for more information.\r\n\r\n__Edit__: added the `\\w*` to capture the characters before (e.g. &quot;beach&quot;).","title":"Regex for matching something if it is not preceded by something else","body":"<p>You want to use <code>negative lookbehind</code> like this: </p>\n\n<pre><code>\\w*(?&lt;!foo)bar\n</code></pre>\n\n<p>Where <code>(?&lt;!x)</code> means \"only if it doesn't have \"x\" before this point\".</p>\n\n<p>See <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">Regular Expressions - Lookaround</a> for more information.</p>\n\n<p><strong>Edit</strong>: added the <code>\\w*</code> to capture the characters before (e.g. \"beach\").</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620250942,"creation_date":1620249713,"answer_id":67408886,"question_id":9306202,"body_markdown":"Another option is to first match optional word characters followed by `bar`, and when that has matched check what is directly to the left is not `foobar`.\r\n\r\nThe lookbehind assertion will run after matching `bar` first.\r\n\r\n    \\w*bar(?&lt;!foobar)\r\n\r\n- `\\w*` Match 0+ word characters\r\n- `bar` Match literally\r\n- `(?&lt;!foobar)` Negative lookbehind, assert from the current position `foobar` is not directly to the left.\r\n\r\n[Regex demo](https://regex101.com/r/6Fhmlc/1)","title":"Regex for matching something if it is not preceded by something else","body":"<p>Another option is to first match optional word characters followed by <code>bar</code>, and when that has matched check what is directly to the left is not <code>foobar</code>.</p>\n<p>The lookbehind assertion will run after matching <code>bar</code> first.</p>\n<pre><code>\\w*bar(?&lt;!foobar)\n</code></pre>\n<ul>\n<li><code>\\w*</code> Match 0+ word characters</li>\n<li><code>bar</code> Match literally</li>\n<li><code>(?&lt;!foobar)</code> Negative lookbehind, assert from the current position <code>foobar</code> is not directly to the left.</li>\n</ul>\n<p><a href=\"https://regex101.com/r/6Fhmlc/1\" rel=\"noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":457657,"reputation":2041,"user_id":857113,"display_name":"Frank Forte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648573845,"creation_date":1648573845,"answer_id":71666187,"question_id":9306202,"body_markdown":"In some cases, it could be easier to optionally include the preceding part, then skip those matches in a second step. For instance, to find numbers that don&#39;t start with a &quot;+&quot;:\r\n\r\n    if (preg_match_all(&#39;/(\\+?[0-9][0-9\\s\\-].*[0-9])/s&#39;,$text,$matches)) {\r\n\t\tforeach($matches[1] as $match) {\r\n    \t\tif(substr($match,0,1) == &#39;+&#39;){\r\n    \t\t\tcontinue;\r\n    \t\t}\r\n    \t\t// continue processing\r\n\t\t}\r\n\t}\r\n\r\nThe negative look behind did not work since it would still match 2+ digits, but it would not include the first digit in the match. For instance +1234 would be returned as 234.","title":"Regex for matching something if it is not preceded by something else","body":"<p>In some cases, it could be easier to optionally include the preceding part, then skip those matches in a second step. For instance, to find numbers that don't start with a &quot;+&quot;:</p>\n<pre><code>if (preg_match_all('/(\\+?[0-9][0-9\\s\\-].*[0-9])/s',$text,$matches)) {\n    foreach($matches[1] as $match) {\n        if(substr($match,0,1) == '+'){\n            continue;\n        }\n        // continue processing\n    }\n}\n</code></pre>\n<p>The negative look behind did not work since it would still match 2+ digits, but it would not include the first digit in the match. For instance +1234 would be returned as 234.</p>\n"}],"owner":{"account_id":371458,"reputation":3473,"user_id":720003,"accept_rate":95,"display_name":"b3bop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172591,"favorite_count":0,"down_vote_count":1,"up_vote_count":300,"accepted_answer_id":9306228,"answer_count":3,"score":299,"last_activity_date":1660806818,"creation_date":1329371423,"question_id":9306202,"body_markdown":"With regex in Java, I want to write a regex that will match if and only if the pattern is not preceded by certain characters. For example:\r\n\r\n    String s = &quot;foobar barbar beachbar crowbar bar &quot;;\r\n\r\nI want to match if `bar` is not preceded by `foo`. So the output would be:\r\n\r\n    barbar\r\n    beachbar\r\n    crowbar\r\n    bar","title":"Regex for matching something if it is not preceded by something else","body":"<p>With regex in Java, I want to write a regex that will match if and only if the pattern is not preceded by certain characters. For example:</p>\n<pre><code>String s = &quot;foobar barbar beachbar crowbar bar &quot;;\n</code></pre>\n<p>I want to match if <code>bar</code> is not preceded by <code>foo</code>. So the output would be:</p>\n<pre><code>barbar\nbeachbar\ncrowbar\nbar\n</code></pre>\n"},{"tags":["java","android","kotlin","design-patterns","open-source"],"comments":[{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":1,"creation_date":1650614365,"post_id":71964330,"comment_id":127164981,"body_markdown":"Why do you think that every piece of code/API should follow some named design pattern? There are a few specific problems where someone invented a non-obvious way of solving them, and named that solution style a &quot;design pattern&quot;. They are useful **if you have that specific problem**, but not at all a universal thing.","body":"Why do you think that every piece of code/API should follow some named design pattern? There are a few specific problems where someone invented a non-obvious way of solving them, and named that solution style a &quot;design pattern&quot;. They are useful <b>if you have that specific problem</b>, but not at all a universal thing."},{"owner":{"account_id":22413367,"reputation":295,"user_id":16621793,"display_name":"Kris2k"},"score":0,"creation_date":1650618175,"post_id":71964330,"comment_id":127166331,"body_markdown":"I do know that every piece of code/API need not necessarily follow some named design pattern. I saw such usage of &quot;Class.with(context).doSomething()&quot; in few other Android libraries too. The naming conventions of the methods of such libraries seem to be similar. But, I couldn&#39;t understand how the methods were designed. Couldn&#39;t find an answer on the Internet. Hence, I posted on StackOverFlow.","body":"I do know that every piece of code/API need not necessarily follow some named design pattern. I saw such usage of &quot;Class.with(context).doSomething()&quot; in few other Android libraries too. The naming conventions of the methods of such libraries seem to be similar. But, I couldn&#39;t understand how the methods were designed. Couldn&#39;t find an answer on the Internet. Hence, I posted on StackOverFlow."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":2,"creation_date":1650622928,"post_id":71964330,"comment_id":127168012,"body_markdown":"Maybe you&#39;re just looking for https://en.wikipedia.org/wiki/Fluent_interface ?","body":"Maybe you&#39;re just looking for <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Fluent_interface</a> ?"},{"owner":{"account_id":22413367,"reputation":295,"user_id":16621793,"display_name":"Kris2k"},"score":0,"creation_date":1650623637,"post_id":71964330,"comment_id":127168264,"body_markdown":"This is the First Time I am hearing about Fluent Interface. But, it seems to match the implementation of Glide methods. Seems like they have used a combo of Fluent Interface and Builders. Thanks a lot for sharing this.","body":"This is the First Time I am hearing about Fluent Interface. But, it seems to match the implementation of Glide methods. Seems like they have used a combo of Fluent Interface and Builders. Thanks a lot for sharing this."}],"owner":{"account_id":22413367,"reputation":295,"user_id":16621793,"display_name":"Kris2k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660806307,"creation_date":1650609115,"question_id":71964330,"body_markdown":"The Android Glide library can be used in the following way :\r\n```kotlin\r\n Glide.with(context).load(url).placeholder(R.drawable.loading_spinner).into(myImageView);\r\n```\r\nI have the following doubts :\r\n1. Which Design Pattern is being used here ? Is it Builder Pattern alone or Chain of Responsibility Pattern or is it any new Design Pattern ?\r\n2. In which scenarios should such a Pattern be used ?\r\n3. Can you share any reference link for learning about this Pattern or maybe a Kotlin/Java Example for the same ?\r\n\r\nI have tried exploring [Glide&#39;s Source Code on GitHub](https://github.com/bumptech/glide), but I couldn&#39;t deduce the Design Pattern used and couldn&#39;t understand the Implementation.","title":"Which Design Pattern is used in Android Glide Library?","body":"<p>The Android Glide library can be used in the following way :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> Glide.with(context).load(url).placeholder(R.drawable.loading_spinner).into(myImageView);\n</code></pre>\n<p>I have the following doubts :</p>\n<ol>\n<li>Which Design Pattern is being used here ? Is it Builder Pattern alone or Chain of Responsibility Pattern or is it any new Design Pattern ?</li>\n<li>In which scenarios should such a Pattern be used ?</li>\n<li>Can you share any reference link for learning about this Pattern or maybe a Kotlin/Java Example for the same ?</li>\n</ol>\n<p>I have tried exploring <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide's Source Code on GitHub</a>, but I couldn't deduce the Design Pattern used and couldn't understand the Implementation.</p>\n"},{"tags":["java","ssl","tomcat"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1660806704,"post_id":73398494,"comment_id":129620761,"body_markdown":"Looks like the Tomcat native library needs to be updated.","body":"Looks like the Tomcat native library needs to be updated."},{"owner":{"account_id":21445576,"reputation":123,"user_id":15799201,"display_name":"StevePark"},"score":0,"creation_date":1660809063,"post_id":73398494,"comment_id":129621604,"body_markdown":"@Olivier I will try that and leave a comment for you Thx for suggestion","body":"@Olivier I will try that and leave a comment for you Thx for suggestion"},{"owner":{"account_id":21445576,"reputation":123,"user_id":15799201,"display_name":"StevePark"},"score":0,"creation_date":1660899071,"post_id":73398494,"comment_id":129647302,"body_markdown":"@Olivier I deleted the library and installed with new version but same error pops up....","body":"@Olivier I deleted the library and installed with new version but same error pops up...."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1661106134,"post_id":73398494,"comment_id":129687464,"body_markdown":"Do you *want* to use the native library, or the plain-Java TLS connector? Plain-Java is less hassle. Your configuration looks very out-of-date as you are not using `&lt;SSLHostConfig&gt;` in there.","body":"Do you <i>want</i> to use the native library, or the plain-Java TLS connector? Plain-Java is less hassle. Your configuration looks very out-of-date as you are not using <code>&lt;SSLHostConfig&gt;</code> in there."},{"owner":{"account_id":21445576,"reputation":123,"user_id":15799201,"display_name":"StevePark"},"score":0,"creation_date":1661323946,"post_id":73398494,"comment_id":129741334,"body_markdown":"@ChristopherSchultz there are several options in server.xml which are \n\n&lt;Connector xxxxxxx\n   &lt;UpgradeProtocol/&gt;\n   &lt;SSLHostConfig/&gt;\n&lt;/Connector&gt;\n\nshould I use this??","body":"@ChristopherSchultz there are several options in server.xml which are   &lt;Connector xxxxxxx    &lt;UpgradeProtocol/&gt;    &lt;SSLHostConfig/&gt; &lt;/Connector&gt;  should I use this??"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1661521030,"post_id":73398494,"comment_id":129798493,"body_markdown":"@StevePark I&#39;m not sure I understand your question. The originally-posted question has only `&lt;Connector/&gt;` and no sub-elements. Newer configurations for TLS should have a `&lt;Connector&gt;` with one or more `&lt;SSLHostConfig&gt;` sub-elements. It&#39;s more expressive that way, clearer what you are trying to do, and allow virtual-host-based certificate-selection (which is not possible using the `&lt;Connector/&gt;`-only configuration).","body":"@StevePark I&#39;m not sure I understand your question. The originally-posted question has only <code>&lt;Connector&#47;&gt;</code> and no sub-elements. Newer configurations for TLS should have a <code>&lt;Connector&gt;</code> with one or more <code>&lt;SSLHostConfig&gt;</code> sub-elements. It&#39;s more expressive that way, clearer what you are trying to do, and allow virtual-host-based certificate-selection (which is not possible using the <code>&lt;Connector&#47;&gt;</code>-only configuration)."},{"owner":{"account_id":349366,"reputation":353,"user_id":684616,"display_name":"PeterToTheThird"},"score":0,"creation_date":1679252745,"post_id":73398494,"comment_id":133684039,"body_markdown":"You need to make sure that the version of the Tomcat Native dll matches the version of OpenSSL installed. To check, open a command line and type `openssl version`. Then, check that you are using APR 1.2.x with OpenSSL 1.1.x or APR 2.x if you are using OpenSSL 3.x (as of March 2023). If you try to use APR with the wrong OpenSSL version, you get the &quot;unsatisfied link error&quot;.","body":"You need to make sure that the version of the Tomcat Native dll matches the version of OpenSSL installed. To check, open a command line and type <code>openssl version</code>. Then, check that you are using APR 1.2.x with OpenSSL 1.1.x or APR 2.x if you are using OpenSSL 3.x (as of March 2023). If you try to use APR with the wrong OpenSSL version, you get the &quot;unsatisfied link error&quot;."}],"owner":{"account_id":21445576,"reputation":123,"user_id":15799201,"display_name":"StevePark"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660805857,"creation_date":1660804960,"question_id":73398494,"body_markdown":"I&#39;m trying to make http protocol into https protocol\r\n\r\nTo do this, I noticed that I need to apply SSL in tomcat.\r\n\r\n[install an SSL/TLS in Tomcat][1]\r\n\r\n\r\n  [1]: https://www.thesslstore.com/knowledgebase/ssl-install/tomcat-ssl-installation/\r\n\r\n\r\nI didn&#39;t follow this site but proceeded similarly.\r\n\r\nFirst of all, I created .keystore then .crt\r\n\r\nThen, I entered \r\n\r\n`&lt;Connector SSLEnabled=&quot;true&quot; clientAuth=&quot;false&quot; keyAlias=&quot;tomcat_ssl&quot; keystoreFile=&quot;E:/OpenSSL/bin/tomcat.keystore&quot; keystorePass=&quot;xxxxxxxxx&quot; maxThreads=&quot;150&quot; port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; secure=&quot;true&quot; sslProtocol=&quot;TLS&quot;/&gt;`\r\n\r\nin server.xml\r\n\r\nAfter I restarted tomcat, when I tried to enter in http://localhost:8080, it shows the website.\r\n\r\nHowever, when I tried to enter in https://localhost:8443, it made error like this.\r\n\r\n&gt; August 18, 2022 2:22:38 PM org.apache.tomcat.util.net.NioEndpoint$SocketProcessor doRun\r\nFatal: \r\njava.lang.UnsatisfiedLinkError: org.apache.tomcat.jni.SSL.renegotiatePending(J)I\r\n\tat org.apache.tomcat.jni.SSL.renegotiatePending(Native Method)\r\n\tat org.apache.tomcat.util.net.openssl.OpenSSLEngine.getHandshakeStatus(OpenSSLEngine.java:1068)\r\n\tat org.apache.tomcat.util.net.openssl.OpenSSLEngine.wrap(OpenSSLEngine.java:475)\r\n\tat javax.net.ssl.SSLEngine.wrap(Unknown Source)\r\n\tat org.apache.tomcat.util.net.SecureNioChannel.handshakeWrap(SecureNioChannel.java:474)\r\n\tat org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:218)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1648)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nI&#39;m using tomcat 8.5.73 and jdk as 1.8.0_281\r\n\r\nIs there any solution for this error?","title":"Applying SSL in Tomcat UnsatisfiedLinkError Issue","body":"<p>I'm trying to make http protocol into https protocol</p>\n<p>To do this, I noticed that I need to apply SSL in tomcat.</p>\n<p><a href=\"https://www.thesslstore.com/knowledgebase/ssl-install/tomcat-ssl-installation/\" rel=\"nofollow noreferrer\">install an SSL/TLS in Tomcat</a></p>\n<p>I didn't follow this site but proceeded similarly.</p>\n<p>First of all, I created .keystore then .crt</p>\n<p>Then, I entered</p>\n<p><code>&lt;Connector SSLEnabled=&quot;true&quot; clientAuth=&quot;false&quot; keyAlias=&quot;tomcat_ssl&quot; keystoreFile=&quot;E:/OpenSSL/bin/tomcat.keystore&quot; keystorePass=&quot;xxxxxxxxx&quot; maxThreads=&quot;150&quot; port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; secure=&quot;true&quot; sslProtocol=&quot;TLS&quot;/&gt;</code></p>\n<p>in server.xml</p>\n<p>After I restarted tomcat, when I tried to enter in http://localhost:8080, it shows the website.</p>\n<p>However, when I tried to enter in https://localhost:8443, it made error like this.</p>\n<blockquote>\n<p>August 18, 2022 2:22:38 PM org.apache.tomcat.util.net.NioEndpoint$SocketProcessor doRun\nFatal:\njava.lang.UnsatisfiedLinkError: org.apache.tomcat.jni.SSL.renegotiatePending(J)I\nat org.apache.tomcat.jni.SSL.renegotiatePending(Native Method)\nat org.apache.tomcat.util.net.openssl.OpenSSLEngine.getHandshakeStatus(OpenSSLEngine.java:1068)\nat org.apache.tomcat.util.net.openssl.OpenSSLEngine.wrap(OpenSSLEngine.java:475)\nat javax.net.ssl.SSLEngine.wrap(Unknown Source)\nat org.apache.tomcat.util.net.SecureNioChannel.handshakeWrap(SecureNioChannel.java:474)\nat org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:218)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1648)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Unknown Source)</p>\n</blockquote>\n<p>I'm using tomcat 8.5.73 and jdk as 1.8.0_281</p>\n<p>Is there any solution for this error?</p>\n"},{"tags":["java","android","interface","mvp"],"answers":[{"tags":[],"owner":{"account_id":6364600,"reputation":671,"user_id":4938936,"display_name":"No Body"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537180946,"creation_date":1537180946,"answer_id":52365909,"question_id":52365802,"body_markdown":"Your solution is correct but it&#39;s better to use MVVP.\r\nYou must check alot of conditions which may cause crash your app such as component lifecycle.\r\nBut in MVVP, there is no need to check this conditions.","title":"Android MVP - Calls the server","body":"<p>Your solution is correct but it's better to use MVVP.\nYou must check alot of conditions which may cause crash your app such as component lifecycle.\nBut in MVVP, there is no need to check this conditions.</p>\n"},{"tags":[],"owner":{"account_id":8371596,"reputation":1213,"user_id":6286539,"display_name":"Sujin Shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537180965,"creation_date":1537180965,"answer_id":52365916,"question_id":52365802,"body_markdown":"From your activity or fragment, call\r\n`presenter.loginServerCallback()` after validations.\r\n\r\nInside the `loginServerCallback()` in `LoginPresenter`, handle success and error and update the view as `view.loginSuccess()` and `view.loginFailure(&quot;msg&quot;)`","title":"Android MVP - Calls the server","body":"<p>From your activity or fragment, call\n<code>presenter.loginServerCallback()</code> after validations.</p>\n\n<p>Inside the <code>loginServerCallback()</code> in <code>LoginPresenter</code>, handle success and error and update the view as <code>view.loginSuccess()</code> and <code>view.loginFailure(\"msg\")</code></p>\n"},{"tags":[],"owner":{"account_id":6635231,"reputation":380,"user_id":5122558,"accept_rate":29,"display_name":"ramkrishna kushwaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537181219,"creation_date":1537181219,"answer_id":52365997,"question_id":52365802,"body_markdown":"add one more callback\r\n\r\n     public interface LoginMVP {\r\n        interface View {\r\n            void showLoadingIndicator(boolean active);\r\n            void loginSuccess();\r\n            void loginFailured(String message);\r\n        }\r\n        interface Presenter {\r\n            void validateFields(String email, String password);\r\n            void loginServerCallback();\r\n        }\r\n\r\n        interface OnLoginCallBack{\r\n            void onSuccess();\r\n            void onError();\r\n        }\r\n        interface Model {\r\n            void loginServer(String email, String password);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\nAnd call login method in presenter like this \r\n\r\n    public void doLogin(String userName, String password) {\r\n        view.showLoadingIndicator(true);\r\n        modal.loginServer(userName, password, new LoginMVP.OnLoginCallBack() {\r\n            @Override\r\n            public void onSuccess() {\r\n                view.showLoadingIndicator(false);\r\n                view.loginSuccess();\r\n            }\r\n\r\n            @Override\r\n            public void onError() {\r\n                view.showLoadingIndicator(false);\r\n                view.loginFailured(&quot;SomeError&quot;);\r\n            }\r\n        });\r\n    }","title":"Android MVP - Calls the server","body":"<p>add one more callback</p>\n\n<pre><code> public interface LoginMVP {\n    interface View {\n        void showLoadingIndicator(boolean active);\n        void loginSuccess();\n        void loginFailured(String message);\n    }\n    interface Presenter {\n        void validateFields(String email, String password);\n        void loginServerCallback();\n    }\n\n    interface OnLoginCallBack{\n        void onSuccess();\n        void onError();\n    }\n    interface Model {\n        void loginServer(String email, String password);\n    }\n}\n</code></pre>\n\n<p>And call login method in presenter like this </p>\n\n<pre><code>public void doLogin(String userName, String password) {\n    view.showLoadingIndicator(true);\n    modal.loginServer(userName, password, new LoginMVP.OnLoginCallBack() {\n        @Override\n        public void onSuccess() {\n            view.showLoadingIndicator(false);\n            view.loginSuccess();\n        }\n\n        @Override\n        public void onError() {\n            view.showLoadingIndicator(false);\n            view.loginFailured(\"SomeError\");\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537184038,"creation_date":1537183530,"answer_id":52366653,"question_id":52365802,"body_markdown":"Use this picture:\r\n\r\n![Use this picture][1]\r\n\r\n\r\n1.you can use an activity and a fragment as view.\r\n\r\n    public class AuthenticationActivity extends BaseActivity implements AuthenticationPatternFragment.NavigateToDashboardCallback,\r\n        AuthenticationPasswordFragment.NavigateToDashboardCallback {}\r\n\r\n    public class AuthenticationPasswordFragment extends Fragment implements AuthenticationContract.View {}\r\n\r\n--better for you that has a small activity ,and implement component just navigation drawer ,toolbar ,.. in activity and others in fragment.\r\n\r\n2.use a class as presenter for connect to repository.\r\n\r\n3.use a class as repository for get,set,getAll,update data in local database and remote server.\r\n\r\n    public class AuthenticationRepository implements IAuthenticationRepository {\r\n\r\n    private IAuthenticationRepository mAuthenticationRealmRepository;\r\n    private IAuthenticationRepository mAuthenticationRestRepository;\r\n\r\n    public AuthenticationRepository(IAuthenticationRepository restRepository, IAuthenticationRepository realmRepository) {\r\n\r\n        mAuthenticationRestRepository = restRepository;\r\n        mAuthenticationRealmRepository = realmRepository;\r\n    }\r\n\r\n    private AuthenticationRepository() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void get(CallRepository&lt;Authentication&gt; callRepository) {\r\n\r\n        mAuthenticationRealmRepository.get(callRepository);\r\n    }\r\n\r\n    @Override\r\n    public void update(Authentication authentication, CallRepository&lt;Authentication&gt; callRepository) {\r\n\r\n        mAuthenticationRealmRepository.update(authentication, callRepository);\r\n    }\r\n\r\n    @Override\r\n    public void get(Integer identifier, CallRepository&lt;Authentication&gt; callRepository) {\r\n\r\n        mAuthenticationRealmRepository.get(identifier, callRepository);\r\n    }\r\n\r\n    @Override\r\n    public void getAll(CallRepository&lt;List&lt;Authentication&gt;&gt; callRepository) {\r\n\r\n        mAuthenticationRealmRepository.getAll(callRepository);\r\n    }\r\n}\r\n\r\n4.create package as models that you can imports all models on it.\r\n\r\n5.you can create ClassNameContract as interface for define two other interface as view and presenter like this:\r\n\r\n    public interface AuthenticationContract {\r\n\r\n    interface View extends BaseView&lt;Presenter&gt;{\r\n\r\n    }\r\n\r\n    interface Presenter extends BasePresenter{\r\n\r\n    }\r\n----------[You can use this example for better review in MVP][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8MQtF.png\r\n  [2]: https://github.com/googlesamples/android-architecture/tree/todo-mvp","title":"Android MVP - Calls the server","body":"<p>Use this picture:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8MQtF.png\" alt=\"Use this picture\"></p>\n\n<p>1.you can use an activity and a fragment as view.</p>\n\n<pre><code>public class AuthenticationActivity extends BaseActivity implements AuthenticationPatternFragment.NavigateToDashboardCallback,\n    AuthenticationPasswordFragment.NavigateToDashboardCallback {}\n\npublic class AuthenticationPasswordFragment extends Fragment implements AuthenticationContract.View {}\n</code></pre>\n\n<p>--better for you that has a small activity ,and implement component just navigation drawer ,toolbar ,.. in activity and others in fragment.</p>\n\n<p>2.use a class as presenter for connect to repository.</p>\n\n<p>3.use a class as repository for get,set,getAll,update data in local database and remote server.</p>\n\n<pre><code>public class AuthenticationRepository implements IAuthenticationRepository {\n\nprivate IAuthenticationRepository mAuthenticationRealmRepository;\nprivate IAuthenticationRepository mAuthenticationRestRepository;\n\npublic AuthenticationRepository(IAuthenticationRepository restRepository, IAuthenticationRepository realmRepository) {\n\n    mAuthenticationRestRepository = restRepository;\n    mAuthenticationRealmRepository = realmRepository;\n}\n\nprivate AuthenticationRepository() {\n\n}\n\n@Override\npublic void get(CallRepository&lt;Authentication&gt; callRepository) {\n\n    mAuthenticationRealmRepository.get(callRepository);\n}\n\n@Override\npublic void update(Authentication authentication, CallRepository&lt;Authentication&gt; callRepository) {\n\n    mAuthenticationRealmRepository.update(authentication, callRepository);\n}\n\n@Override\npublic void get(Integer identifier, CallRepository&lt;Authentication&gt; callRepository) {\n\n    mAuthenticationRealmRepository.get(identifier, callRepository);\n}\n\n@Override\npublic void getAll(CallRepository&lt;List&lt;Authentication&gt;&gt; callRepository) {\n\n    mAuthenticationRealmRepository.getAll(callRepository);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>4.create package as models that you can imports all models on it.</p>\n\n<p>5.you can create ClassNameContract as interface for define two other interface as view and presenter like this:</p>\n\n<pre><code>public interface AuthenticationContract {\n\ninterface View extends BaseView&lt;Presenter&gt;{\n\n}\n\ninterface Presenter extends BasePresenter{\n\n}\n</code></pre>\n\n<p>----------<a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp\" rel=\"nofollow noreferrer\">You can use this example for better review in MVP</a></p>\n"}],"owner":{"account_id":5021714,"reputation":53,"user_id":4035035,"display_name":"Thales Bertolini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52365997,"answer_count":4,"score":2,"last_activity_date":1660805617,"creation_date":1537180553,"question_id":52365802,"body_markdown":"I started to learn MVP but I have a few questions related the communication between the Model and the Presenter, for example a login feature\r\n\r\n - Activity will get all the fields, send to the presenter, the presenter will validate and if it&#39;s everything as expected the presenter will call the model to send to the server, but this call could take a few seconds, so I need to wait for the callback from the server to call the presenter again and the presenter calls the activity.\r\n\r\nMy question is: How is the best way to do that? At the moment I added a `loginServerCallback()` in my presenter and I pass the reference to the Model, so when the model finishes, I call the `loginServerCallback()` in the presenter and the presenter analyse the response and call the method in the View. Am I doing that right?\r\n\r\n    public interface LoginMVP {\r\n    interface View {\r\n        void loginSuccess();\r\n        void loginFailured(String message);\r\n    }\r\n    interface Presenter {\r\n        void validateFields(String email, String password);\r\n        void loginServerCallback();\r\n    }\r\n    interface Model {\r\n        void loginServer(String email, String password);\r\n    }}\r\n\r\nThanks,\r\nThales","title":"Android MVP - Calls the server","body":"<p>I started to learn MVP but I have a few questions related the communication between the Model and the Presenter, for example a login feature</p>\n\n<ul>\n<li>Activity will get all the fields, send to the presenter, the presenter will validate and if it's everything as expected the presenter will call the model to send to the server, but this call could take a few seconds, so I need to wait for the callback from the server to call the presenter again and the presenter calls the activity.</li>\n</ul>\n\n<p>My question is: How is the best way to do that? At the moment I added a <code>loginServerCallback()</code> in my presenter and I pass the reference to the Model, so when the model finishes, I call the <code>loginServerCallback()</code> in the presenter and the presenter analyse the response and call the method in the View. Am I doing that right?</p>\n\n<pre><code>public interface LoginMVP {\ninterface View {\n    void loginSuccess();\n    void loginFailured(String message);\n}\ninterface Presenter {\n    void validateFields(String email, String password);\n    void loginServerCallback();\n}\ninterface Model {\n    void loginServer(String email, String password);\n}}\n</code></pre>\n\n<p>Thanks,\nThales</p>\n"},{"tags":["java","android","geolocation","android-manifest"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1655750915,"post_id":72691611,"comment_id":128401112,"body_markdown":"That is a Lint warning, one that may have some bugs. Does the app run correctly?","body":"That is a Lint warning, one that may have some bugs. Does the app run correctly?"},{"owner":{"account_id":24686681,"reputation":15,"user_id":18579774,"display_name":"ken"},"score":0,"creation_date":1655753284,"post_id":72691611,"comment_id":128401892,"body_markdown":"No it crashes when selecting the location.","body":"No it crashes when selecting the location."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1655753430,"post_id":72691611,"comment_id":128401942,"body_markdown":"Use Logcat to examine the stack trace associated with the crash.","body":"Use Logcat to examine the stack trace associated with the crash."}],"answers":[{"tags":[],"owner":{"account_id":16078344,"reputation":126,"user_id":11604994,"display_name":"AziKar24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660805466,"creation_date":1660394116,"answer_id":73344318,"question_id":72691611,"body_markdown":"Mr Ken. I&#39;m currently not able to setup a project with a minimal requirements to get this error. But I believe you need to check for the `ACCESS_COARSE_LOCATION` permission like you did with `ACCESS_FINE_LOCATION`","title":"Missing permissions required by GoogleMap.setMyLocationEnabled: android.permission.ACCESS_COARSE_LOCATION or android.permission.ACCESS_FINE_LOCATION","body":"<p>Mr Ken. I'm currently not able to setup a project with a minimal requirements to get this error. But I believe you need to check for the <code>ACCESS_COARSE_LOCATION</code> permission like you did with <code>ACCESS_FINE_LOCATION</code></p>\n"}],"owner":{"account_id":24686681,"reputation":15,"user_id":18579774,"display_name":"ken"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660805466,"creation_date":1655750505,"question_id":72691611,"body_markdown":"Trying to use geofence location but app crashes when selecting the geofence area.\r\nACCESS_COARSE_LOCATION and ACCESS_FINE_LOCATION permission already declared in the manifest file but when launching the application, it does not request to allow the permission.\r\n\r\nCode\r\n\r\n      private void enableUserLocation(){\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n                mMap.setMyLocationEnabled(true);\r\n    \r\n            }\r\n            else {\r\n                if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)){\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, FINE_LOCATION_ACCESS_REQUEST_CODE);\r\n                }\r\n                else {\r\n                    if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, FINE_LOCATION_ACCESS_REQUEST_CODE);\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n\r\nAndroidManifestXml code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.quarantinemonitoringapp&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n\r\n\r\nScreenshot\r\n\r\n[![error on code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uzF4F.png","title":"Missing permissions required by GoogleMap.setMyLocationEnabled: android.permission.ACCESS_COARSE_LOCATION or android.permission.ACCESS_FINE_LOCATION","body":"<p>Trying to use geofence location but app crashes when selecting the geofence area.\nACCESS_COARSE_LOCATION and ACCESS_FINE_LOCATION permission already declared in the manifest file but when launching the application, it does not request to allow the permission.</p>\n<p>Code</p>\n<pre><code>  private void enableUserLocation(){\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n            mMap.setMyLocationEnabled(true);\n\n        }\n        else {\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)){\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, FINE_LOCATION_ACCESS_REQUEST_CODE);\n            }\n            else {\n                if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, FINE_LOCATION_ACCESS_REQUEST_CODE);\n                }\n            }\n        }\n\n    }\n</code></pre>\n<p>AndroidManifestXml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.quarantinemonitoringapp&quot; &gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n</code></pre>\n<p>Screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/uzF4F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uzF4F.png\" alt=\"error on code\" /></a></p>\n"},{"tags":["java","spring-boot","rabbitmq","message-queue"],"answers":[{"tags":[],"owner":{"account_id":15352882,"reputation":36,"user_id":11076053,"display_name":"Ravi Shankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660805420,"creation_date":1660805420,"answer_id":73398571,"question_id":73375361,"body_markdown":"Messaging Queues are Asynchronous in Nature that means the Response will be Asynchronous too.\r\n\r\nWhat I am trying to say is as the flow between the two microservices is Asynchronous there needs to be some Identifier present at both ends using which you can relate which Order (Order Id) is being related to Which Customer(Customer Id) and What Items(Items Id) it Have.\r\n\r\nCustomer(Customer Id) will have a list of Orders (Order Id) \r\n\r\nThe Simplest thing would be to Use a OrderIdentifier while sending and after it is successful update it in DB with the Status and while fetching the Customer Orders data from UI/API you can get the Status Back.","title":"How to get a response using RabbitMQ","body":"<p>Messaging Queues are Asynchronous in Nature that means the Response will be Asynchronous too.</p>\n<p>What I am trying to say is as the flow between the two microservices is Asynchronous there needs to be some Identifier present at both ends using which you can relate which Order (Order Id) is being related to Which Customer(Customer Id) and What Items(Items Id) it Have.</p>\n<p>Customer(Customer Id) will have a list of Orders (Order Id)</p>\n<p>The Simplest thing would be to Use a OrderIdentifier while sending and after it is successful update it in DB with the Status and while fetching the Customer Orders data from UI/API you can get the Status Back.</p>\n"}],"owner":{"account_id":13680771,"reputation":21,"user_id":9871178,"display_name":"john tame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660805420,"creation_date":1660658747,"question_id":73375361,"body_markdown":"Two microservices (CustomerService, OrderService) are communicating with each other using rabbitMQ. However, I want to get a response from the OrderService on whether the request has been successful or got any errors. \r\n\r\nIs it possible to change **`void consumerpublic()`** to ResponseEntity to get the statusCode or make the OrderService call the CustomerService back?\r\n\r\n\r\n***Controller class***\r\n\r\n       @PostMapping(&quot;/addItems&quot;)\r\n       public ResponseEntity &lt;String&gt; addItems(@Valid @RequestBody Item item ){\r\n         Message result = producer.sendMessage(item);\r\n        \r\n         return ResponseEntity.ok(&quot;message sent to RabbitMQ ...&quot; + item);\r\n       }\r\n\r\n\r\n***RabbitMQProducer.java***\r\n      \r\n      private RabbitTemplate rabbitTemplate;\r\n\r\n      public void sendMessage(Item item){\r\n        rabbitTemplate.convertSendAndReceive(exchange,routingKey, item);\r\n        log.info(String.format(&quot;Message sent -&gt; %s&quot;, item.toString()));\r\n      }\r\n\r\n***RabbitMQConsumer.java***\r\n\r\n     @RabbitListener(queues = &quot;${rabbitmq.queue.name}&quot;)\r\n    public void consumerpublic(Item item){\r\n        System.out.println(Item)\r\n    }","title":"How to get a response using RabbitMQ","body":"<p>Two microservices (CustomerService, OrderService) are communicating with each other using rabbitMQ. However, I want to get a response from the OrderService on whether the request has been successful or got any errors.</p>\n<p>Is it possible to change <strong><code>void consumerpublic()</code></strong> to ResponseEntity to get the statusCode or make the OrderService call the CustomerService back?</p>\n<p><em><strong>Controller class</strong></em></p>\n<pre><code>   @PostMapping(&quot;/addItems&quot;)\n   public ResponseEntity &lt;String&gt; addItems(@Valid @RequestBody Item item ){\n     Message result = producer.sendMessage(item);\n    \n     return ResponseEntity.ok(&quot;message sent to RabbitMQ ...&quot; + item);\n   }\n</code></pre>\n<p><em><strong>RabbitMQProducer.java</strong></em></p>\n<pre><code>  private RabbitTemplate rabbitTemplate;\n\n  public void sendMessage(Item item){\n    rabbitTemplate.convertSendAndReceive(exchange,routingKey, item);\n    log.info(String.format(&quot;Message sent -&gt; %s&quot;, item.toString()));\n  }\n</code></pre>\n<p><em><strong>RabbitMQConsumer.java</strong></em></p>\n<pre><code> @RabbitListener(queues = &quot;${rabbitmq.queue.name}&quot;)\npublic void consumerpublic(Item item){\n    System.out.println(Item)\n}\n</code></pre>\n"},{"tags":["java","spring","validation","spring-mvc","hibernate-validator"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1522090019,"post_id":49497795,"comment_id":86000984,"body_markdown":"are you performing a HTTP GET or POST?","body":"are you performing a HTTP GET or POST?"},{"owner":{"account_id":12111387,"reputation":183,"user_id":8847981,"accept_rate":100,"display_name":"Anton Barinov"},"score":0,"creation_date":1522090265,"post_id":49497795,"comment_id":86001126,"body_markdown":"it&#39;s POST method","body":"it&#39;s POST method"}],"answers":[{"tags":[],"owner":{"account_id":12914655,"reputation":1112,"user_id":9339330,"display_name":"Min Hyoung Hong"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522090375,"creation_date":1522090375,"answer_id":49498643,"question_id":49497795,"body_markdown":"Add setter to your ```Customer``` class. &lt;br/&gt;\r\nWithout setter your class does not be populated.","title":"Spring MVC with hibernate validation doesn&#39;t work","body":"<p>Add setter to your <code>Customer</code> class. <br/>\nWithout setter your class does not be populated.</p>\n"},{"tags":[],"owner":{"account_id":4295560,"reputation":2627,"user_id":3510725,"display_name":"Minar Mahmud"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1538709306,"creation_date":1538709306,"answer_id":52657881,"question_id":49497795,"body_markdown":"Add `hibernate-validator` in your classpath if it does not exist already. If you are using any build tool like `gradle` or `maven` just add `hibernate-validator` to dependencies. \r\n\r\n*For example:*\r\n\r\n**Gradle:**\r\n\r\n    compile group: &#39;org.hibernate.validator&#39;, name: &#39;hibernate-validator&#39;, version: &#39;6.0.13.Final&#39;\r\n\r\n**Maven:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.13.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Spring MVC with hibernate validation doesn&#39;t work","body":"<p>Add <code>hibernate-validator</code> in your classpath if it does not exist already. If you are using any build tool like <code>gradle</code> or <code>maven</code> just add <code>hibernate-validator</code> to dependencies. </p>\n\n<p><em>For example:</em></p>\n\n<p><strong>Gradle:</strong></p>\n\n<pre><code>compile group: 'org.hibernate.validator', name: 'hibernate-validator', version: '6.0.13.Final'\n</code></pre>\n\n<p><strong>Maven:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2156728,"reputation":1185,"user_id":1911760,"accept_rate":60,"display_name":"lbartolic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584091337,"creation_date":1584091337,"answer_id":60667815,"question_id":49497795,"body_markdown":"**Note: solution based on the IntelliJ IDEA IDE**\r\n\r\nIf not using build tools such as Gradle or Maven, this could be related to the IDE&#39;s behavior during the compilation and build of the solution when manually adding libraries (project dependencies).\r\n\r\nRegardless of having the library files manually included in the project and indexed by the IDE by adding those **manually** through Project Structure &gt; Libraries, those **aren&#39;t going to be included automatically** in the compilation output of your build process.\r\n\r\nIn order to make sure libraries you included are assembled together with the Spring MVC solution do the following:\r\n\r\n- go to File &gt; Project Structure &gt; Artifacts (from the left pane)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- expand the WEB-INF/lib directory under Output Layout tab\r\n\r\n[![enter image description here][2]][2]\r\n\r\n- highlight lib directory and add corresponding Hibernate artifacts by clicking the + button and selecting Library Files\r\n\r\n[![enter image description here][3]][3]\r\n\r\n- after selecting the library from project libraries, select OK, Apply and you are ready to go\r\n\r\n[![enter image description here][4]][4]\r\n\r\nNow, when you rebuild the solution and Run the server, your assembled output (build) will contain all additionally added artifacts (libs) such as Hibernate validation.\r\n\r\nWhen using IntelliJ IDEA&#39;s builder to compile Java-based project, *it uses its own project model, configuration and built-in mechanism to assemble the output application*, so such steps like I mentioned are required.\r\n\r\nThis is mandatory here In contrast to compiling and building such Java projects using Gradle or Maven where those use their own underlying build process and run specific tasks to generate the output based on the build.gradle or pom.xml configuration holding all of the config values and dependencies.\r\n\r\n  [1]: https://i.stack.imgur.com/ZgrUH.png\r\n  [2]: https://i.stack.imgur.com/8tO7k.png\r\n  [3]: https://i.stack.imgur.com/DPoc8.png\r\n  [4]: https://i.stack.imgur.com/h3Er7.png","title":"Spring MVC with hibernate validation doesn&#39;t work","body":"<p><strong>Note: solution based on the IntelliJ IDEA IDE</strong></p>\n\n<p>If not using build tools such as Gradle or Maven, this could be related to the IDE's behavior during the compilation and build of the solution when manually adding libraries (project dependencies).</p>\n\n<p>Regardless of having the library files manually included in the project and indexed by the IDE by adding those <strong>manually</strong> through Project Structure > Libraries, those <strong>aren't going to be included automatically</strong> in the compilation output of your build process.</p>\n\n<p>In order to make sure libraries you included are assembled together with the Spring MVC solution do the following:</p>\n\n<ul>\n<li>go to File > Project Structure > Artifacts (from the left pane)</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/ZgrUH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZgrUH.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>expand the WEB-INF/lib directory under Output Layout tab</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/8tO7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tO7k.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>highlight lib directory and add corresponding Hibernate artifacts by clicking the + button and selecting Library Files</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/DPoc8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DPoc8.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>after selecting the library from project libraries, select OK, Apply and you are ready to go</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/h3Er7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3Er7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now, when you rebuild the solution and Run the server, your assembled output (build) will contain all additionally added artifacts (libs) such as Hibernate validation.</p>\n\n<p>When using IntelliJ IDEA's builder to compile Java-based project, <em>it uses its own project model, configuration and built-in mechanism to assemble the output application</em>, so such steps like I mentioned are required.</p>\n\n<p>This is mandatory here In contrast to compiling and building such Java projects using Gradle or Maven where those use their own underlying build process and run specific tasks to generate the output based on the build.gradle or pom.xml configuration holding all of the config values and dependencies.</p>\n"}],"owner":{"account_id":12111387,"reputation":183,"user_id":8847981,"accept_rate":100,"display_name":"Anton Barinov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52657881,"answer_count":3,"score":4,"last_activity_date":1660805314,"creation_date":1522087304,"question_id":49497795,"body_markdown":"I have some problems with hibernate validations with Spring. I did everything as explained in an online tutorial, but it&#39;s not working and I just go to the next page without validation error. \r\n\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n\r\n    public class Customer {\r\n\r\n    private String firstName;\r\n\r\n    @NotNull()\r\n    @Size(min=1, message = &quot;this field must not to be empty&quot;)\r\n    private String lastName;\r\n\r\nController: \r\n\r\n    @RequestMapping(&quot;/processForm&quot;)\r\n    public String processForm(@ModelAttribute(&quot;customer&quot;) @Valid Customer \r\n                              customer, BindingResult bindingResult) {\r\n        if(bindingResult.hasErrors()) {\r\n            return &quot;customer-form&quot;;\r\n        }\r\n        return &quot;customer-confirmation&quot;;\r\n    }\r\n\r\ncustomer-form.jsp\r\n\r\n    &lt;form:form action=&quot;processForm.form&quot; modelAttribute=&quot;customer&quot;&gt;\r\n        First name: &lt;form:input path=&quot;firstName&quot;/&gt;\r\n        &lt;br&gt;\r\n        Last name (*): &lt;form:input path=&quot;lastName&quot;/&gt;\r\n        &lt;form:errors path=&quot;lastName&quot; cssClass=&quot;error&quot;/&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n    &lt;/form:form&gt;\r\n\r\nSo, there are no errors in BindingResult when I have an empty field for lastName. What am i doing wrong?","title":"Spring MVC with hibernate validation doesn&#39;t work","body":"<p>I have some problems with hibernate validations with Spring. I did everything as explained in an online tutorial, but it's not working and I just go to the next page without validation error. </p>\n\n<pre><code>import javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\npublic class Customer {\n\nprivate String firstName;\n\n@NotNull()\n@Size(min=1, message = \"this field must not to be empty\")\nprivate String lastName;\n</code></pre>\n\n<p>Controller: </p>\n\n<pre><code>@RequestMapping(\"/processForm\")\npublic String processForm(@ModelAttribute(\"customer\") @Valid Customer \n                          customer, BindingResult bindingResult) {\n    if(bindingResult.hasErrors()) {\n        return \"customer-form\";\n    }\n    return \"customer-confirmation\";\n}\n</code></pre>\n\n<p>customer-form.jsp</p>\n\n<pre><code>&lt;form:form action=\"processForm.form\" modelAttribute=\"customer\"&gt;\n    First name: &lt;form:input path=\"firstName\"/&gt;\n    &lt;br&gt;\n    Last name (*): &lt;form:input path=\"lastName\"/&gt;\n    &lt;form:errors path=\"lastName\" cssClass=\"error\"/&gt;\n    &lt;input type=\"submit\" value=\"Submit\"/&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>So, there are no errors in BindingResult when I have an empty field for lastName. What am i doing wrong?</p>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":138625,"reputation":15648,"user_id":343679,"accept_rate":89,"display_name":"Sharjeel"},"score":0,"creation_date":1449744762,"post_id":34199819,"comment_id":56144833,"body_markdown":"Does it give error when you Sync Gradle?","body":"Does it give error when you Sync Gradle?"},{"owner":{"account_id":7286429,"reputation":162,"user_id":5554356,"accept_rate":100,"display_name":"GTucker"},"score":0,"creation_date":1449744806,"post_id":34199819,"comment_id":56144860,"body_markdown":"@Sharj Yes, I will try again to make sure.","body":"@Sharj Yes, I will try again to make sure."},{"owner":{"account_id":3780647,"reputation":8953,"user_id":3140227,"accept_rate":76,"display_name":"Vipul Asri"},"score":0,"creation_date":1449745387,"post_id":34199819,"comment_id":56145241,"body_markdown":"check https://github.com/mcxiaoke/android-volley for latest version : `compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;` use this.","body":"check <a href=\"https://github.com/mcxiaoke/android-volley\" rel=\"nofollow noreferrer\">github.com/mcxiaoke/android-volley</a> for latest version : <code>compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;</code> use this."},{"owner":{"account_id":7286429,"reputation":162,"user_id":5554356,"accept_rate":100,"display_name":"GTucker"},"score":0,"creation_date":1449745624,"post_id":34199819,"comment_id":56145387,"body_markdown":"Still recieve a &#39;cannot resolve&#39; error message when running a rebuild","body":"Still recieve a &#39;cannot resolve&#39; error message when running a rebuild"},{"owner":{"account_id":3780647,"reputation":8953,"user_id":3140227,"accept_rate":76,"display_name":"Vipul Asri"},"score":0,"creation_date":1449745707,"post_id":34199819,"comment_id":56145438,"body_markdown":"First clean your project and close Android Studio and then try again.","body":"First clean your project and close Android Studio and then try again."},{"owner":{"account_id":7286429,"reputation":162,"user_id":5554356,"accept_rate":100,"display_name":"GTucker"},"score":0,"creation_date":1449745832,"post_id":34199819,"comment_id":56145518,"body_markdown":"Done that now, still says cannot resolve?","body":"Done that now, still says cannot resolve?"},{"owner":{"account_id":138625,"reputation":15648,"user_id":343679,"accept_rate":89,"display_name":"Sharjeel"},"score":0,"creation_date":1449746219,"post_id":34199819,"comment_id":56145748,"body_markdown":"post your complete build file","body":"post your complete build file"}],"answers":[{"tags":[],"owner":{"account_id":138625,"reputation":15648,"user_id":343679,"accept_rate":89,"display_name":"Sharjeel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1462951572,"creation_date":1449744782,"answer_id":34200038,"question_id":34199819,"body_markdown":"Try this \r\n\r\n    compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;\r\n\r\n**Updated**:\r\n\r\nThis project has been deprecated. Use the official version from jCenter\r\n\r\n    compile &#39;com.android.volley:volley:1.0.0&#39;\r\n\r\n","title":"Android Volley Dependency","body":"<p>Try this </p>\n\n<pre><code>compile 'com.mcxiaoke.volley:library:1.0.19'\n</code></pre>\n\n<p><strong>Updated</strong>:</p>\n\n<p>This project has been deprecated. Use the official version from jCenter</p>\n\n<pre><code>compile 'com.android.volley:volley:1.0.0'\n</code></pre>\n"}],"owner":{"account_id":7286429,"reputation":162,"user_id":5554356,"accept_rate":100,"display_name":"GTucker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6073,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34200038,"answer_count":1,"score":1,"last_activity_date":1660805285,"creation_date":1449744234,"question_id":34199819,"body_markdown":"The dependency for Volley appears to run in to a compile error and I am not sure why? Here is my dependency code and the error message produced.\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n        compile &#39;com.mcxiaoke.volley:library-aar:1.0.0&#39;\r\n    }\r\n\r\nError:A problem occurred configuring project &#39;:app&#39;.\r\n&gt;\r\n\r\n     Could not resolve all dependencies for configuration &#39;:app:_debugCompile&#39;.\r\n       &gt; Could not resolve com.mcxiaoke.volley:library-aar:1.0.0.\r\n         Required by:\r\n             AndroidHive:app:unspecified\r\n          &gt; Could not resolve com.mcxiaoke.volley:library-aar:1.0.0.\r\n             &gt; Could not get resource &#39;https://jcenter.bintray.com/com/mcxiaoke/volley/library-aar/1.0.0/library-aar-1.0.0.pom&#39;.\r\n                &gt; Could not GET &#39;https://jcenter.bintray.com/com/mcxiaoke/volley/library-aar/1.0.0/library-aar-1.0.0.pom&#39;.\r\n                   &gt; peer not authenticated\r\n\r\nAfter trying the newer version of Volley I now recieve this compile error:\r\n\r\n    Error:(25, 13) Failed to resolve: com.mcxiaoke.volley:library:1.0.7\r\n\r\n\r\nComplete build file:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.2&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.george.androidhive&quot;\r\n            minSdkVersion 8\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n        compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;\r\n    }\r\n\r\n","title":"Android Volley Dependency","body":"<p>The dependency for Volley appears to run in to a compile error and I am not sure why? Here is my dependency code and the error message produced.</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.mcxiaoke.volley:library-aar:1.0.0'\n}\n</code></pre>\n\n<p>Error:A problem occurred configuring project ':app'.\n></p>\n\n<pre><code> Could not resolve all dependencies for configuration ':app:_debugCompile'.\n   &gt; Could not resolve com.mcxiaoke.volley:library-aar:1.0.0.\n     Required by:\n         AndroidHive:app:unspecified\n      &gt; Could not resolve com.mcxiaoke.volley:library-aar:1.0.0.\n         &gt; Could not get resource 'https://jcenter.bintray.com/com/mcxiaoke/volley/library-aar/1.0.0/library-aar-1.0.0.pom'.\n            &gt; Could not GET 'https://jcenter.bintray.com/com/mcxiaoke/volley/library-aar/1.0.0/library-aar-1.0.0.pom'.\n               &gt; peer not authenticated\n</code></pre>\n\n<p>After trying the newer version of Volley I now recieve this compile error:</p>\n\n<pre><code>Error:(25, 13) Failed to resolve: com.mcxiaoke.volley:library:1.0.7\n</code></pre>\n\n<p>Complete build file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"com.example.george.androidhive\"\n        minSdkVersion 8\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n}\n</code></pre>\n"},{"tags":["java","aws-sdk"],"comments":[{"owner":{"account_id":76927,"reputation":1445,"user_id":1444686,"accept_rate":41,"display_name":"Laxmi Lal Menaria"},"score":0,"creation_date":1660886837,"post_id":73398447,"comment_id":129643977,"body_markdown":"https://stackoverflow.com/questions/11908385/how-to-get-the-progress-status-of-the-file-uploaded-to-amazon-s3-using-java","body":"<a href=\"https://stackoverflow.com/questions/11908385/how-to-get-the-progress-status-of-the-file-uploaded-to-amazon-s3-using-java\" title=\"how to get the progress status of the file uploaded to amazon s3 using java\">stackoverflow.com/questions/11908385/&hellip;</a>"},{"owner":{"account_id":76927,"reputation":1445,"user_id":1444686,"accept_rate":41,"display_name":"Laxmi Lal Menaria"},"score":0,"creation_date":1660886872,"post_id":73398447,"comment_id":129643985,"body_markdown":"https://stackoverflow.com/questions/69835516/reduce-verbosity-frequency-of-amazon-s3-aws-upload-progresslistener","body":"<a href=\"https://stackoverflow.com/questions/69835516/reduce-verbosity-frequency-of-amazon-s3-aws-upload-progresslistener\" title=\"reduce verbosity frequency of amazon s3 aws upload progresslistener\">stackoverflow.com/questions/69835516/&hellip;</a>"}],"owner":{"account_id":5877098,"reputation":427,"user_id":4627631,"accept_rate":35,"display_name":"santosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660804690,"creation_date":1660804690,"question_id":73398447,"body_markdown":"I am using aws sdk v4 authentication for peformaing s3 operations like upload ,download etc. Now my problem i.e. I want to show progress bar for running operations and the internet giving me solutions using TransferManager but I am using s3 client so please suggest me how can I use progress bar ?\r\n\r\n**Here is my sample code for upload file.**\r\n   \r\n\r\n           public static String putS3Object(S3Client s3Client,\r\n                                         String bucketName,\r\n                                         String objectKey,\r\n                                         String objectPath) {\r\n    \r\n            try {\r\n                Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\r\n                metadata.put(&quot;myVal&quot;, &quot;test&quot;);\r\n    \r\n                PutObjectRequest putOb = PutObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(objectKey).metadata(metadata)\r\n                        .build();\r\n    \r\n                PutObjectResponse response = s3Client.putObject(putOb,\r\n                        RequestBody.fromBytes(getObjectFile(objectPath)));\r\n    \r\n                return response.eTag();\r\n    \r\n            } catch (S3Exception e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        private static byte[] getObjectFile(String filePath) {\r\n    \r\n            FileInputStream fileInputStream = null;\r\n            byte[] bytesArray = null;\r\n    \r\n            try {\r\n                File file = new File(filePath);\r\n                bytesArray = new byte[(int) file.length()];\r\n                fileInputStream = new FileInputStream(file);\r\n                fileInputStream.read(bytesArray);\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (fileInputStream != null) {\r\n                    try {\r\n                        fileInputStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return bytesArray;\r\n        }","title":"How to show progress bar while uploading/downloading/copy files to amazon s3?","body":"<p>I am using aws sdk v4 authentication for peformaing s3 operations like upload ,download etc. Now my problem i.e. I want to show progress bar for running operations and the internet giving me solutions using TransferManager but I am using s3 client so please suggest me how can I use progress bar ?</p>\n<p><strong>Here is my sample code for upload file.</strong></p>\n<pre><code>       public static String putS3Object(S3Client s3Client,\n                                     String bucketName,\n                                     String objectKey,\n                                     String objectPath) {\n\n        try {\n            Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\n            metadata.put(&quot;myVal&quot;, &quot;test&quot;);\n\n            PutObjectRequest putOb = PutObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(objectKey).metadata(metadata)\n                    .build();\n\n            PutObjectResponse response = s3Client.putObject(putOb,\n                    RequestBody.fromBytes(getObjectFile(objectPath)));\n\n            return response.eTag();\n\n        } catch (S3Exception e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n        return &quot;&quot;;\n    }\n\n    private static byte[] getObjectFile(String filePath) {\n\n        FileInputStream fileInputStream = null;\n        byte[] bytesArray = null;\n\n        try {\n            File file = new File(filePath);\n            bytesArray = new byte[(int) file.length()];\n            fileInputStream = new FileInputStream(file);\n            fileInputStream.read(bytesArray);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (fileInputStream != null) {\n                try {\n                    fileInputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return bytesArray;\n    }\n</code></pre>\n"},{"tags":["java","android","sqlite","sql-update","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660766133,"creation_date":1660765955,"answer_id":73394219,"question_id":73394152,"body_markdown":"You can use `IFNULL` to do this if you want to go column by column:\n\n    UPDATE table SET col1=IFNULL(col1, ‚Äòsomevalue‚Äô), col2=IFNULL(col2, ‚Äòothervalue‚Äô)\n\nThis will set col1 to ‚Äòsomevalue‚Äô if it‚Äôs null, otherwise it will keep its current value, and same for col2 regardless of each other‚Äôs null state. \n\nYou may need to add CASE/WHEN statements for the requirement of updating empty string inside, so it might be easier to just use that:\n\n    UPDATE table SET col1=CASE WHEN col1 IS NULL OR col1=‚Äò‚Äô THEN ‚Äòsomevalue‚Äô ELSE col1 END","title":"Android SQLite update columns only if NULL or empty","body":"<p>You can use <code>IFNULL</code> to do this if you want to go column by column:</p>\n<pre><code>UPDATE table SET col1=IFNULL(col1, ‚Äòsomevalue‚Äô), col2=IFNULL(col2, ‚Äòothervalue‚Äô)\n</code></pre>\n<p>This will set col1 to ‚Äòsomevalue‚Äô if it‚Äôs null, otherwise it will keep its current value, and same for col2 regardless of each other‚Äôs null state.</p>\n<p>You may need to add CASE/WHEN statements for the requirement of updating empty string inside, so it might be easier to just use that:</p>\n<pre><code>UPDATE table SET col1=CASE WHEN col1 IS NULL OR col1=‚Äò‚Äô THEN ‚Äòsomevalue‚Äô ELSE col1 END\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660770765,"creation_date":1660770765,"answer_id":73394943,"question_id":73394152,"body_markdown":"You can update all the columns with a single `UPDATE` statement and [`execSQL()`][1]:\r\n\r\n    String query = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + \r\n                   COL_10 + &quot; = CASE WHEN &quot; + COL_10 + &quot; IS NULL OR &quot; + COL_10 + &quot; = &#39;&#39; THEN &#39;&quot; + swout + &quot;&#39; ELSE &quot; + COL_10 + &quot; END,&quot; + \r\n                   COL_11 + &quot; = CASE WHEN &quot; + COL_11 + &quot; IS NULL OR &quot; + COL_11 + &quot; = &#39;&#39; THEN &#39;&quot; + swout + &quot;&#39; ELSE &quot; + COL_11 + &quot; END,&quot; + \r\n                   COL_12 + &quot; = CASE WHEN &quot; + COL_12 + &quot; IS NULL OR &quot; + COL_12 + &quot; = &#39;&#39; THEN &#39;&quot; + swout + &quot;&#39; ELSE &quot; + COL_12 + &quot; END &quot;  + \r\n                   &quot;WHERE &quot; + COL_7 + &quot; = &#39;&quot; + kateg + &quot;&#39;&quot;;\r\n    db.execSQL(query);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#execSQL(java.lang.String)","title":"Android SQLite update columns only if NULL or empty","body":"<p>You can update all the columns with a single <code>UPDATE</code> statement and <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#execSQL(java.lang.String)\" rel=\"nofollow noreferrer\"><code>execSQL()</code></a>:</p>\n<pre><code>String query = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + \n               COL_10 + &quot; = CASE WHEN &quot; + COL_10 + &quot; IS NULL OR &quot; + COL_10 + &quot; = '' THEN '&quot; + swout + &quot;' ELSE &quot; + COL_10 + &quot; END,&quot; + \n               COL_11 + &quot; = CASE WHEN &quot; + COL_11 + &quot; IS NULL OR &quot; + COL_11 + &quot; = '' THEN '&quot; + swout + &quot;' ELSE &quot; + COL_11 + &quot; END,&quot; + \n               COL_12 + &quot; = CASE WHEN &quot; + COL_12 + &quot; IS NULL OR &quot; + COL_12 + &quot; = '' THEN '&quot; + swout + &quot;' ELSE &quot; + COL_12 + &quot; END &quot;  + \n               &quot;WHERE &quot; + COL_7 + &quot; = '&quot; + kateg + &quot;'&quot;;\ndb.execSQL(query);\n</code></pre>\n"}],"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73394943,"answer_count":2,"score":1,"last_activity_date":1660804645,"creation_date":1660765548,"question_id":73394152,"body_markdown":"In android I am trying to update a table in SQLite database, but I want to achieve, that it will update only empty columns or columns with NULL value.\r\n\r\n    public void fillCal(String swin, String swout, String ripout, String kateg) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n    \r\n        contentValues.put(COL_10, swin);\r\n        contentValues.put(COL_11, swout);\r\n        contentValues.put(COL_12, ripout);\r\n    \r\n        db.update(TABLE_NAME, contentValues,COL_7 + &quot; = &#39;&quot; + kateg + &quot;&#39;&quot;, null);db.close();\r\n    }\r\n\r\nSo if COL_10 is empty or has a NULL value, then I need to update it with a new value. Otherwise if there is already a value in COL_10, do nothing with that column. The same for COL11 and COL12.\r\n\r\nI thought to add another conditions in this line, like:\r\n\r\n    db.update(TABLE_NAME, contentValues,COL_7 + &quot; = &#39;&quot; + kateg + &quot;&#39; AND COL10!=&#39;&#39; AND COL11!=&#39;&#39; AND COL12!=&#39;&#39;&quot;, null);db.close();\r\n\r\nor even I wanted first to get the values from other query:\r\n\r\n     String Query2 = &quot;SELECT * FROM &quot;+ TABLE_NAME &quot;;\r\n    \r\n            Cursor cursor2 = db.rawQuery(Query2, null);\r\n            while (cursor2.moveToNext()) {\r\n            output_col10 = cursor2.getString(cursor2.getColumnIndexOrThrow(COL_10));\r\n\r\nand then check if `output_col10` is null or length&gt;0, but this is an overkill I think.\r\n\r\nIs there a possibility to do it simplier in my db.update function?\r\n\r\nAccording to last answer I updated it :\r\n\r\n    public void fillCal(String swin, String swout, String ripout, String kateg) {\r\n    \r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            String Query = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + COL_10 + &quot; = CASE WHEN &quot; + COL_10 + &quot; IS NULL OR &quot; + COL_10 + &quot; = &#39;&#39; THEN &#39;&quot; + swin + &quot;&#39; ELSE &quot; + COL_10 + &quot; END&quot; + &quot; where &quot; + COL_7 + &quot; = &#39;&quot; + kateg + &quot;&#39;&quot;;\r\n            Cursor cursor = db.rawQuery(Query, null);\r\n            cursor.close();\r\n       \r\n            String Query1 = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + COL_11 + &quot; = CASE WHEN &quot; + COL_11 + &quot; IS NULL OR &quot; + COL_11 + &quot; = &#39;&#39; THEN &#39;&quot; + swout + &quot;&#39; ELSE &quot; + COL_11 + &quot; END&quot; + &quot; where &quot; + COL_7 + &quot; = &#39;&quot; + kateg + &quot;&#39;&quot;;\r\n            Cursor cursor1 = db.rawQuery(Query1, null);\r\n            cursor1.close();\r\n    \r\n            String Query2 = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + COL_12 + &quot; = CASE WHEN &quot; + COL_12 + &quot; IS NULL OR &quot; + COL_12 + &quot; = &#39;&#39; THEN &#39;&quot; + ripout + &quot;&#39; ELSE &quot; + COL_12 + &quot; END&quot; + &quot; where &quot; + COL_7 + &quot; = &#39;&quot; + kateg + &quot;&#39;&quot;;\r\n            Cursor cursor2 = db.rawQuery(Query2, null);\r\n    \r\n            cursor2.close();\r\n            db.close();\r\n        }\r\n\r\nbut for some reason the columns are still empty and not updated with any value.","title":"Android SQLite update columns only if NULL or empty","body":"<p>In android I am trying to update a table in SQLite database, but I want to achieve, that it will update only empty columns or columns with NULL value.</p>\n<pre><code>public void fillCal(String swin, String swout, String ripout, String kateg) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n\n    contentValues.put(COL_10, swin);\n    contentValues.put(COL_11, swout);\n    contentValues.put(COL_12, ripout);\n\n    db.update(TABLE_NAME, contentValues,COL_7 + &quot; = '&quot; + kateg + &quot;'&quot;, null);db.close();\n}\n</code></pre>\n<p>So if COL_10 is empty or has a NULL value, then I need to update it with a new value. Otherwise if there is already a value in COL_10, do nothing with that column. The same for COL11 and COL12.</p>\n<p>I thought to add another conditions in this line, like:</p>\n<pre><code>db.update(TABLE_NAME, contentValues,COL_7 + &quot; = '&quot; + kateg + &quot;' AND COL10!='' AND COL11!='' AND COL12!=''&quot;, null);db.close();\n</code></pre>\n<p>or even I wanted first to get the values from other query:</p>\n<pre><code> String Query2 = &quot;SELECT * FROM &quot;+ TABLE_NAME &quot;;\n\n        Cursor cursor2 = db.rawQuery(Query2, null);\n        while (cursor2.moveToNext()) {\n        output_col10 = cursor2.getString(cursor2.getColumnIndexOrThrow(COL_10));\n</code></pre>\n<p>and then check if <code>output_col10</code> is null or length&gt;0, but this is an overkill I think.</p>\n<p>Is there a possibility to do it simplier in my db.update function?</p>\n<p>According to last answer I updated it :</p>\n<pre><code>public void fillCal(String swin, String swout, String ripout, String kateg) {\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        String Query = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + COL_10 + &quot; = CASE WHEN &quot; + COL_10 + &quot; IS NULL OR &quot; + COL_10 + &quot; = '' THEN '&quot; + swin + &quot;' ELSE &quot; + COL_10 + &quot; END&quot; + &quot; where &quot; + COL_7 + &quot; = '&quot; + kateg + &quot;'&quot;;\n        Cursor cursor = db.rawQuery(Query, null);\n        cursor.close();\n   \n        String Query1 = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + COL_11 + &quot; = CASE WHEN &quot; + COL_11 + &quot; IS NULL OR &quot; + COL_11 + &quot; = '' THEN '&quot; + swout + &quot;' ELSE &quot; + COL_11 + &quot; END&quot; + &quot; where &quot; + COL_7 + &quot; = '&quot; + kateg + &quot;'&quot;;\n        Cursor cursor1 = db.rawQuery(Query1, null);\n        cursor1.close();\n\n        String Query2 = &quot;UPDATE &quot; + TABLE_NAME + &quot; SET &quot; + COL_12 + &quot; = CASE WHEN &quot; + COL_12 + &quot; IS NULL OR &quot; + COL_12 + &quot; = '' THEN '&quot; + ripout + &quot;' ELSE &quot; + COL_12 + &quot; END&quot; + &quot; where &quot; + COL_7 + &quot; = '&quot; + kateg + &quot;'&quot;;\n        Cursor cursor2 = db.rawQuery(Query2, null);\n\n        cursor2.close();\n        db.close();\n    }\n</code></pre>\n<p>but for some reason the columns are still empty and not updated with any value.</p>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1660712962,"post_id":73383123,"comment_id":129594320,"body_markdown":"What you have tried to achieve this?","body":"What you have tried to achieve this?"},{"owner":{"account_id":24767071,"reputation":7,"user_id":18650867,"display_name":"Praveen s"},"score":0,"creation_date":1660713764,"post_id":73383123,"comment_id":129594473,"body_markdown":"@PradeepSimha I have store the XML in string and tried to retrieve but can&#39;t able to get the value.help me on this","body":"@PradeepSimha I have store the XML in string and tried to retrieve but can&#39;t able to get the value.help me on this"}],"answers":[{"tags":[],"owner":{"account_id":15352882,"reputation":36,"user_id":11076053,"display_name":"Ravi Shankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660804167,"creation_date":1660804118,"answer_id":73398356,"question_id":73383123,"body_markdown":"Ideally you should use a library like SAX parser to Deserialize an input stream like XML.\r\n\r\nBut if you want to do this using no libraries maybe the method below can help:\r\n\r\n    private String getCsrfValue(String xml){\r\n    \tString value = &quot;&quot;;\r\n    \r\n    \tif(xml!= null &amp;&amp; xml.length() &gt; 0) {\r\n    \t\tint csfrIndex = xml.indexOf(&quot;csrf&quot;);\r\n    \t\tif (csfrIndex != -1) {\r\n    \t\t\tString subXml = xml.substring(csfrIndex);\r\n    \r\n    \t\t\tint valueIndex = subXml.indexOf(&quot;value&quot;);\r\n    \r\n    \t\t\tif (valueIndex != -1) {\r\n    \t\t\t\tint firstCommaIndex = -1;\r\n    \t\t\t\tint secondCommaIndex = -1;\r\n    \t\t\t\tboolean firstInvCommaFound = false;\r\n    \r\n    \t\t\t\tfor (int i = valueIndex; i &lt; subXml.length(); i++) {\r\n    \t\t\t\t\tif (subXml.charAt(i) == &#39;\\&quot;&#39;) {\r\n    \t\t\t\t\t\tif (!firstInvCommaFound) {\r\n    \t\t\t\t\t\t\tfirstCommaIndex = i;\r\n    \t\t\t\t\t\t\tfirstInvCommaFound = true;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tsecondCommaIndex = i;\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif (firstCommaIndex != -1 &amp;&amp; secondCommaIndex != -1 &amp;&amp; secondCommaIndex &lt; xml.length()) {\r\n    \t\t\t\t\tvalue = subXml.substring(firstCommaIndex + 1, secondCommaIndex);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn value;\r\n    }","title":"Want to get specific values in string xml java","body":"<p>Ideally you should use a library like SAX parser to Deserialize an input stream like XML.</p>\n<p>But if you want to do this using no libraries maybe the method below can help:</p>\n<pre><code>private String getCsrfValue(String xml){\n    String value = &quot;&quot;;\n\n    if(xml!= null &amp;&amp; xml.length() &gt; 0) {\n        int csfrIndex = xml.indexOf(&quot;csrf&quot;);\n        if (csfrIndex != -1) {\n            String subXml = xml.substring(csfrIndex);\n\n            int valueIndex = subXml.indexOf(&quot;value&quot;);\n\n            if (valueIndex != -1) {\n                int firstCommaIndex = -1;\n                int secondCommaIndex = -1;\n                boolean firstInvCommaFound = false;\n\n                for (int i = valueIndex; i &lt; subXml.length(); i++) {\n                    if (subXml.charAt(i) == '\\&quot;') {\n                        if (!firstInvCommaFound) {\n                            firstCommaIndex = i;\n                            firstInvCommaFound = true;\n                        } else {\n                            secondCommaIndex = i;\n                            break;\n                        }\n                    }\n                }\n\n                if (firstCommaIndex != -1 &amp;&amp; secondCommaIndex != -1 &amp;&amp; secondCommaIndex &lt; xml.length()) {\n                    value = subXml.substring(firstCommaIndex + 1, secondCommaIndex);\n                }\n            }\n        }\n    }\n    return value;\n}\n</code></pre>\n"}],"owner":{"account_id":24767071,"reputation":7,"user_id":18650867,"display_name":"Praveen s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660804167,"creation_date":1660712888,"question_id":73383123,"body_markdown":"```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;ns2:services xmlns:ns2=&quot;http://www.3ds.com/enovia/e6wv2&quot;&gt;&lt;ns2:serviceData&gt;&lt;ns2:statusCode&gt;200&lt;/ns2:statusCode&gt;&lt;ns2:success&gt;true&lt;/ns2:success&gt;&lt;ns2:csrf name=&quot;ENO_CSRF_TOKEN&quot; value=&quot;JYOF-K5LS-INZM-15O3-4O00-VTBJ-R28O-YY2P&quot;/&gt;&lt;/ns2:serviceData&gt;&lt;/ns2:services&gt;```\r\n\r\nmy string xml . in this want to get value output","title":"Want to get specific values in string xml java","body":"<p><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;ns2:services xmlns:ns2=&quot;http://www.3ds.com/enovia/e6wv2&quot;&gt;&lt;ns2:serviceData&gt;&lt;ns2:statusCode&gt;200&lt;/ns2:statusCode&gt;&lt;ns2:success&gt;true&lt;/ns2:success&gt;&lt;ns2:csrf name=&quot;ENO_CSRF_TOKEN&quot; value=&quot;JYOF-K5LS-INZM-15O3-4O00-VTBJ-R28O-YY2P&quot;/&gt;&lt;/ns2:serviceData&gt;&lt;/ns2:services&gt;</code></p>\n<p>my string xml . in this want to get value output</p>\n"},{"tags":["java","curl","solr","solrj"],"answers":[{"tags":[],"owner":{"account_id":9297839,"reputation":1938,"user_id":6904265,"display_name":"user6904265"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1483464390,"creation_date":1483433786,"answer_id":41439713,"question_id":41439606,"body_markdown":"**HttpURLConnection Version**\r\n    \r\n    try{    \r\n        String url = &quot;http://localhost:8983/solr/jcg/update/json?commit=true&quot;;\r\n        URL obj = new URL(url);\r\n\t    HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\r\n\t    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t    conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n\t    conn.setDoOutput(true);\r\n\t    conn.setRequestMethod(&quot;POST&quot;);\r\n\t    String data =&quot;[{\\&quot;id\\&quot;:\\&quot;978-0641723445\\&quot;,\\&quot;apple_t\\&quot;:{\\&quot;set\\&quot;:\\&quot;abc\\&quot;}}]&quot;;\r\n\t    OutputStreamWriter out = new OutputStreamWriter(conn.getOutputStream());\r\n\t    out.write(data);\r\n\t    out.close();\r\n\t    System.out.println(&quot;input: &quot;+conn.getInputStream());\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\r\n**Using [solrj](https://mvnrepository.com/artifact/org.apache.solr/solr-solrj)**. I used version 5.3.0.\r\n\r\n**Add New Document**\r\n\r\n    String urlString = &quot;http://localhost:8983/solr/jcg&quot;;\r\n    SolrClient client = new HttpSolrClient(urlString);\r\n    SolrInputDocument doc1 = new SolrInputDocument();\r\n    doc1.addField( &quot;id&quot;, &quot;new-document-id&quot; );\r\n    Collection&lt;SolrInputDocument&gt; docs = new ArrayList&lt;SolrInputDocument&gt;();\r\n    docs.add( doc1 );\r\n    client.add( docs );\r\n    client.commit();\r\n    client.close();\r\n\r\n**Update Existing Document** \r\n\r\n    String urlString = &quot;http://localhost:8983/solr/jcg&quot;;\r\n    SolrClient client = new HttpSolrClient(urlString);\r\n    SolrInputDocument doc1 = new SolrInputDocument();\r\n    Map&lt;String, String&gt; operations = new HashMap&lt;String, String&gt;();\r\n    operations.put(&quot;set&quot;, &quot;abc&quot;);\r\n    doc1.addField(&quot;id&quot;, &quot;978-0641723445&quot;);\r\n    doc1.addField(&quot;apple_t&quot;, operations);\r\n    Collection&lt;SolrInputDocument&gt; docs = new ArrayList&lt;SolrInputDocument&gt;();\r\n    docs.add( doc1 );\r\n    client.add( docs );\r\n    client.commit();\r\n    client.close();","title":"How to Add/Update in Solr","body":"<p><strong>HttpURLConnection Version</strong></p>\n\n<pre><code>try{    \n    String url = \"http://localhost:8983/solr/jcg/update/json?commit=true\";\n    URL obj = new URL(url);\n    HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\n    conn.setRequestProperty(\"Content-Type\", \"application/json\");\n    conn.setRequestProperty(\"Accept\", \"*/*\");\n    conn.setDoOutput(true);\n    conn.setRequestMethod(\"POST\");\n    String data =\"[{\\\"id\\\":\\\"978-0641723445\\\",\\\"apple_t\\\":{\\\"set\\\":\\\"abc\\\"}}]\";\n    OutputStreamWriter out = new OutputStreamWriter(conn.getOutputStream());\n    out.write(data);\n    out.close();\n    System.out.println(\"input: \"+conn.getInputStream());\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p><strong>Using <a href=\"https://mvnrepository.com/artifact/org.apache.solr/solr-solrj\" rel=\"nofollow noreferrer\">solrj</a></strong>. I used version 5.3.0.</p>\n\n<p><strong>Add New Document</strong></p>\n\n<pre><code>String urlString = \"http://localhost:8983/solr/jcg\";\nSolrClient client = new HttpSolrClient(urlString);\nSolrInputDocument doc1 = new SolrInputDocument();\ndoc1.addField( \"id\", \"new-document-id\" );\nCollection&lt;SolrInputDocument&gt; docs = new ArrayList&lt;SolrInputDocument&gt;();\ndocs.add( doc1 );\nclient.add( docs );\nclient.commit();\nclient.close();\n</code></pre>\n\n<p><strong>Update Existing Document</strong> </p>\n\n<pre><code>String urlString = \"http://localhost:8983/solr/jcg\";\nSolrClient client = new HttpSolrClient(urlString);\nSolrInputDocument doc1 = new SolrInputDocument();\nMap&lt;String, String&gt; operations = new HashMap&lt;String, String&gt;();\noperations.put(\"set\", \"abc\");\ndoc1.addField(\"id\", \"978-0641723445\");\ndoc1.addField(\"apple_t\", operations);\nCollection&lt;SolrInputDocument&gt; docs = new ArrayList&lt;SolrInputDocument&gt;();\ndocs.add( doc1 );\nclient.add( docs );\nclient.commit();\nclient.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21921233,"reputation":1,"user_id":16204457,"display_name":"Himanshu Verma mnit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660804059,"creation_date":1660804059,"answer_id":73398352,"question_id":41439606,"body_markdown":"  tried to add solrInputDocument to solr sore using solrj but got &quot;/update&quot; added to URI..can&#39;t understand how to handle it. ","title":"How to Add/Update in Solr","body":"<p>tried to add solrInputDocument to solr sore using solrj but got &quot;/update&quot; added to URI..can't understand how to handle it.</p>\n"}],"owner":{"account_id":4762347,"reputation":151,"user_id":3906957,"accept_rate":62,"display_name":"GermanShepherd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41439713,"answer_count":2,"score":0,"last_activity_date":1660804059,"creation_date":1483433360,"question_id":41439606,"body_markdown":"I am trying to access solr using a java program and add/update records using it (which essentially creates a HttpUrlConnection and \r\nPosts json data using curl). \r\n\r\nWhile I should be able to receive response in my java program, I am getting a *File not found error*. Being a total newbie to this, the error doesnt seem to make sense to me. \r\n\r\nHere is part of my code\r\n      \r\n     String url = &quot;http://localhost:8983/solr/jcg/update?stream.body&quot;;\r\n     URL obj = new URL(url);\r\n     HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\r\n     conn.setRequestProperty(&quot;Content-Type:&quot;, &quot;application/json&quot;);\r\n     conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n     conn.setDoOutput(true);\r\n     conn.setRequestMethod(&quot;POST&quot;);\r\n     String data =&quot;{\\&quot;id\\&quot;:\\&quot;978-0641723445\\&quot;,\\&quot;apple_t\\&quot;:\\&quot;set\\&quot;:\\&quot;abc\\&quot;}&quot;;\r\n     OutputStreamWriter out = new OutputStreamWriter(conn.getOutputStream());\r\n     out.write(data);\r\n     out.close();\r\n     System.out.println(url+data);\r\n     new InputStreamReader(conn.getInputStream());\r\n     System.out.println(&quot;input&quot;+conn.getInputStream());\r\n     System.out.println(conn.getContent());\r\n     } catch (Exception e) {\r\n    e.printStackTrace();\r\n    }\r\n\r\nAny other approaches/inputs are welcome. Could somebody help to decipher the error?","title":"How to Add/Update in Solr","body":"<p>I am trying to access solr using a java program and add/update records using it (which essentially creates a HttpUrlConnection and\nPosts json data using curl).</p>\n<p>While I should be able to receive response in my java program, I am getting a <em>File not found error</em>. Being a total newbie to this, the error doesnt seem to make sense to me.</p>\n<p>Here is part of my code</p>\n<pre><code> String url = &quot;http://localhost:8983/solr/jcg/update?stream.body&quot;;\n URL obj = new URL(url);\n HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\n conn.setRequestProperty(&quot;Content-Type:&quot;, &quot;application/json&quot;);\n conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n conn.setDoOutput(true);\n conn.setRequestMethod(&quot;POST&quot;);\n String data =&quot;{\\&quot;id\\&quot;:\\&quot;978-0641723445\\&quot;,\\&quot;apple_t\\&quot;:\\&quot;set\\&quot;:\\&quot;abc\\&quot;}&quot;;\n OutputStreamWriter out = new OutputStreamWriter(conn.getOutputStream());\n out.write(data);\n out.close();\n System.out.println(url+data);\n new InputStreamReader(conn.getInputStream());\n System.out.println(&quot;input&quot;+conn.getInputStream());\n System.out.println(conn.getContent());\n } catch (Exception e) {\ne.printStackTrace();\n}\n</code></pre>\n<p>Any other approaches/inputs are welcome. Could somebody help to decipher the error?</p>\n"},{"tags":["java","scala","apache-spark","cassandra","spark-cassandra-connector"],"answers":[{"tags":[],"owner":{"account_id":255165,"reputation":3162,"user_id":535024,"accept_rate":88,"display_name":"codejitsu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1467027479,"creation_date":1467027479,"answer_id":38052984,"question_id":38046920,"body_markdown":"AFAIK the most popular way to work with Cassandra from a Spark app is using `Spark Cassandra Connector`: https://github.com/datastax/spark-cassandra-connector","title":"Spark and Cassandra: Recommended way to interface","body":"<p>AFAIK the most popular way to work with Cassandra from a Spark app is using <code>Spark Cassandra Connector</code>: <a href=\"https://github.com/datastax/spark-cassandra-connector\" rel=\"nofollow\">https://github.com/datastax/spark-cassandra-connector</a></p>\n"}],"owner":{"account_id":189878,"reputation":5507,"user_id":429476,"accept_rate":42,"display_name":"Alex Punnen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38052984,"answer_count":1,"score":1,"last_activity_date":1660803943,"creation_date":1467007827,"question_id":38046920,"body_markdown":"I have been using the [DataStax Cassandra Java driver][1] from Spark driver to insert data to Cassandra tables. It seems that [Spark SQL][2] can also be used for the same. Though for a NoSQL DB like Cassandra, it seems to be wrong to misuse the [JOIN operation][3] that is supported in Spark SQL, for NoSQL data modeling done in Cassandra. \r\n\r\nFrom what I have understood, I would rather stick with Cassandra Java driver. However want to know if I have missed something in this.\r\n\r\nWhich is more efficient to use or better recommended to use with Cassandra.\r\n\r\nRelated question - https://stackoverflow.com/questions/37142172/is-sparksql-rdbms-or-nosql\r\n\r\n\r\n  [1]: https://github.com/datastax/java-driver\r\n  [2]: http://spark.apache.org/sql/\r\n  [3]: http://www.datastax.com/2015/03/how-to-do-joins-in-apache-cassandra-and-datastax-enterprise","title":"Spark and Cassandra: Recommended way to interface","body":"<p>I have been using the <a href=\"https://github.com/datastax/java-driver\" rel=\"nofollow noreferrer\">DataStax Cassandra Java driver</a> from Spark driver to insert data to Cassandra tables. It seems that <a href=\"http://spark.apache.org/sql/\" rel=\"nofollow noreferrer\">Spark SQL</a> can also be used for the same. Though for a NoSQL DB like Cassandra, it seems to be wrong to misuse the <a href=\"http://www.datastax.com/2015/03/how-to-do-joins-in-apache-cassandra-and-datastax-enterprise\" rel=\"nofollow noreferrer\">JOIN operation</a> that is supported in Spark SQL, for NoSQL data modeling done in Cassandra. </p>\n\n<p>From what I have understood, I would rather stick with Cassandra Java driver. However want to know if I have missed something in this.</p>\n\n<p>Which is more efficient to use or better recommended to use with Cassandra.</p>\n\n<p>Related question - <a href=\"https://stackoverflow.com/questions/37142172/is-sparksql-rdbms-or-nosql\">Is SparkSQL RDBMS or NOSQL?</a></p>\n"},{"tags":["java","zip","zipinputstream"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660804436,"post_id":73398281,"comment_id":129620079,"body_markdown":"With the same _buffered_ I/O, (1.) should be faster as disk I/O by OS and CPU/memory usage are better mixed. Also resource usage is minimal, not needing to store the entire file. But why not try it? Especially (2.) with a memory mapped file sound interesting. The hotspot compiler might skew the resulting statistics. By the way: using a zip file system `&quot;jar:file: ...&quot;` you can simply use `Files.copy`.","body":"With the same <i>buffered</i> I/O, (1.) should be faster as disk I/O by OS and CPU/memory usage are better mixed. Also resource usage is minimal, not needing to store the entire file. But why not try it? Especially (2.) with a memory mapped file sound interesting. The hotspot compiler might skew the resulting statistics. By the way: using a zip file system <code>&quot;jar:file: ...&quot;</code> you can simply use <code>Files.copy</code>."},{"owner":{"account_id":13010918,"reputation":452,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1660810195,"post_id":73398281,"comment_id":129621999,"body_markdown":"If you don&#39;t need have the CSV in your machine, I think the best solution its the first one, at performance level, openCsv read the lines you got by the input stream, and you never store an amount of CSV Files on your machine, and you avoid the process of download, store, read and delete. The problem maybe if the CSV its too big and the connection close by any reason, you lose the progress of that reading...","body":"If you don&#39;t need have the CSV in your machine, I think the best solution its the first one, at performance level, openCsv read the lines you got by the input stream, and you never store an amount of CSV Files on your machine, and you avoid the process of download, store, read and delete. The problem maybe if the CSV its too big and the connection close by any reason, you lose the progress of that reading..."}],"owner":{"account_id":7324409,"reputation":637,"user_id":5579279,"display_name":"Kiran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660803646,"creation_date":1660803646,"question_id":73398281,"body_markdown":"I am currently reading a CSV file from a zip file. I have 2 options to read it.\r\n\r\n1. Read the CSV while it is being unzipped line by line by streaming it (ZipInputStream and openCSV)\r\n2. Unzip the entire CSV file first, and then go back and read the entire thing.\r\n\r\nWhich one would be faster? I am going to perform some tests but I was wondering if anyone already knew logistically which is more efficient. Thanks!","title":"Is it faster to read a Zip file while unzipping it (in a stream) or wait for it complete unzipping and then read it?","body":"<p>I am currently reading a CSV file from a zip file. I have 2 options to read it.</p>\n<ol>\n<li>Read the CSV while it is being unzipped line by line by streaming it (ZipInputStream and openCSV)</li>\n<li>Unzip the entire CSV file first, and then go back and read the entire thing.</li>\n</ol>\n<p>Which one would be faster? I am going to perform some tests but I was wondering if anyone already knew logistically which is more efficient. Thanks!</p>\n"},{"tags":["java","hibernate-onetomany"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1660761077,"post_id":73392640,"comment_id":129611464,"body_markdown":"Even `customerRepository.flush()` at the end should be enough, because after save the objects are in managed state.","body":"Even <code>customerRepository.flush()</code> at the end should be enough, because after save the objects are in managed state."}],"answers":[{"tags":[],"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660760537,"creation_date":1660760537,"answer_id":73393267,"question_id":73392640,"body_markdown":" try to save your customers\r\n\r\n        customerRepository.save(customerJanMazurek);\r\n        customerRepository.save(customerAnnaMazurek);","title":"Why foreign key is null? @OneToMany","body":"<p>try to save your customers</p>\n<pre><code>    customerRepository.save(customerJanMazurek);\n    customerRepository.save(customerAnnaMazurek);\n</code></pre>\n"}],"owner":{"account_id":24492156,"reputation":1,"user_id":18409079,"display_name":"Przemys≈Çaw "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660803298,"creation_date":1660757258,"question_id":73392640,"body_markdown":"I created two entities: Customer and Car. I used relation @OneToMany because i wanted assign few         cars to one customer in database with foreign key user_id.\r\nI saved everything to database and I don;t know why in table with cars where there is column with\r\nuser_id it shows me only nulls. \r\n\r\nCustomerCarsService:\r\n```java\r\n@Service\r\npublic class CustomerCarsService {\r\n\r\n    public CustomerCarsService(CarRepository carRepository, CustomerRepository customerRepository) {\r\n        Customer customerAnnaMazurek = new Customer();\r\n        customerAnnaMazurek.setNameAndSurname(&quot;Anna Mazurek&quot;);\r\n        customerAnnaMazurek.setAge(50);\r\n        customerRepository.save(customerAnnaMazurek);\r\n\r\n        Customer customerJanMazurek = new Customer();\r\n        customerJanMazurek.setNameAndSurname(&quot;Jan Mazurek&quot;);\r\n        customerJanMazurek.setAge(70);\r\n        customerRepository.save(customerJanMazurek);\r\n\r\n\r\n        Car lamboCar = new Car();\r\n        lamboCar.setMarka(&quot;Lambo&quot;);\r\n        lamboCar.setModel(&quot;Hurracan&quot;);\r\n        lamboCar.setMaxSpeed(350);\r\n        carRepository.save(lamboCar);\r\n\r\n        Car ferrariCar = new Car();\r\n        ferrariCar.setMarka(&quot;Ferrari&quot;);\r\n        ferrariCar.setModel(&quot;Portofino&quot;);\r\n        ferrariCar.setMaxSpeed(350);\r\n        carRepository.save(ferrariCar);\r\n\r\n        Car huandayCar = new Car();\r\n        huandayCar.setMarka(&quot;Huanday&quot;);\r\n        huandayCar.setModel(&quot;Pipo&quot;);\r\n        huandayCar.setMaxSpeed(300);\r\n        carRepository.save(huandayCar);\r\n\r\n        List&lt;Car&gt; annaMazurekCars = new ArrayList&lt;&gt;();\r\n        annaMazurekCars.add(lamboCar);\r\n        annaMazurekCars.add(ferrariCar);\r\n        customerAnnaMazurek.setCarList(annaMazurekCars);\r\n\r\n        List&lt;Car&gt; janMazurekCars = new ArrayList&lt;&gt;();\r\n        janMazurekCars.add(lamboCar);\r\n        janMazurekCars.add(ferrariCar);\r\n        janMazurekCars.add(huandayCar);\r\n        customerJanMazurek.setCarList(janMazurekCars);\r\n\r\n\r\n      }\r\n   }\r\n```\r\n\r\nCustomer Entity: \r\n```java    \r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String nameAndSurname;\r\n    private Integer age;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private List&lt;Car&gt; cars;\r\n\r\n\r\n    public Customer() {\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNameAndSurname() {\r\n        return nameAndSurname;\r\n    }\r\n\r\n    public void setNameAndSurname(String nameAndSurname) {\r\n        this.nameAndSurname = nameAndSurname;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public List&lt;Car&gt; getCarList() {\r\n        return cars;\r\n    }\r\n\r\n    public void setCarList(List&lt;Car&gt; carList) {\r\n        this.cars = carList;\r\n    }\r\n}\r\n```\r\n\r\nCar Entity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;cars&quot;)\r\npublic class Car {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n    private String marka;\r\n    private String model;\r\n    private double maxSpeed;\r\n\r\n    public Car() {\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getMarka() {\r\n        return marka;\r\n    }\r\n\r\n    public void setMarka(String marka) {\r\n        this.marka = marka;\r\n    }\r\n\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    public void setModel(String model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public double getMaxSpeed() {\r\n        return maxSpeed;\r\n    }\r\n\r\n    public void setMaxSpeed(double maxSpeed) {\r\n        this.maxSpeed = maxSpeed;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Why foreign key is null? @OneToMany","body":"<p>I created two entities: Customer and Car. I used relation @OneToMany because i wanted assign few         cars to one customer in database with foreign key user_id.\nI saved everything to database and I don;t know why in table with cars where there is column with\nuser_id it shows me only nulls.</p>\n<p>CustomerCarsService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomerCarsService {\n\n    public CustomerCarsService(CarRepository carRepository, CustomerRepository customerRepository) {\n        Customer customerAnnaMazurek = new Customer();\n        customerAnnaMazurek.setNameAndSurname(&quot;Anna Mazurek&quot;);\n        customerAnnaMazurek.setAge(50);\n        customerRepository.save(customerAnnaMazurek);\n\n        Customer customerJanMazurek = new Customer();\n        customerJanMazurek.setNameAndSurname(&quot;Jan Mazurek&quot;);\n        customerJanMazurek.setAge(70);\n        customerRepository.save(customerJanMazurek);\n\n\n        Car lamboCar = new Car();\n        lamboCar.setMarka(&quot;Lambo&quot;);\n        lamboCar.setModel(&quot;Hurracan&quot;);\n        lamboCar.setMaxSpeed(350);\n        carRepository.save(lamboCar);\n\n        Car ferrariCar = new Car();\n        ferrariCar.setMarka(&quot;Ferrari&quot;);\n        ferrariCar.setModel(&quot;Portofino&quot;);\n        ferrariCar.setMaxSpeed(350);\n        carRepository.save(ferrariCar);\n\n        Car huandayCar = new Car();\n        huandayCar.setMarka(&quot;Huanday&quot;);\n        huandayCar.setModel(&quot;Pipo&quot;);\n        huandayCar.setMaxSpeed(300);\n        carRepository.save(huandayCar);\n\n        List&lt;Car&gt; annaMazurekCars = new ArrayList&lt;&gt;();\n        annaMazurekCars.add(lamboCar);\n        annaMazurekCars.add(ferrariCar);\n        customerAnnaMazurek.setCarList(annaMazurekCars);\n\n        List&lt;Car&gt; janMazurekCars = new ArrayList&lt;&gt;();\n        janMazurekCars.add(lamboCar);\n        janMazurekCars.add(ferrariCar);\n        janMazurekCars.add(huandayCar);\n        customerJanMazurek.setCarList(janMazurekCars);\n\n\n      }\n   }\n</code></pre>\n<p>Customer Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name = &quot;customers&quot;)\n    public class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String nameAndSurname;\n    private Integer age;\n\n    @OneToMany\n    @JoinColumn(name = &quot;user_id&quot;)\n    private List&lt;Car&gt; cars;\n\n\n    public Customer() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getNameAndSurname() {\n        return nameAndSurname;\n    }\n\n    public void setNameAndSurname(String nameAndSurname) {\n        this.nameAndSurname = nameAndSurname;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public List&lt;Car&gt; getCarList() {\n        return cars;\n    }\n\n    public void setCarList(List&lt;Car&gt; carList) {\n        this.cars = carList;\n    }\n}\n</code></pre>\n<p>Car Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;cars&quot;)\npublic class Car {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n    private String marka;\n    private String model;\n    private double maxSpeed;\n\n    public Car() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getMarka() {\n        return marka;\n    }\n\n    public void setMarka(String marka) {\n        this.marka = marka;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public double getMaxSpeed() {\n        return maxSpeed;\n    }\n\n    public void setMaxSpeed(double maxSpeed) {\n        this.maxSpeed = maxSpeed;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-spark","cassandra","noclassdeffounderror","spark-cassandra-connector"],"answers":[{"tags":[],"owner":{"account_id":3009869,"reputation":653,"user_id":2553616,"accept_rate":62,"display_name":"Average Joe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1490736306,"creation_date":1469521755,"answer_id":38584737,"question_id":38584336,"body_markdown":"Try to add dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-sql_2.10&lt;/artifactId&gt;\r\n        &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAlso make sure that your version `spark-cassandra-connector` is compatible with version of Spark you&#39;re using. I had the same error message even with all proper dependencies when was trying to use older `spark-cassandra-connector` with newer Spark version.  Refer to this table: https://github.com/datastax/spark-cassandra-connector#version-compatibility\r\n","title":"NoClassDefFoundError: org/apache/spark/sql/DataFrame in spark-cassandra-connector","body":"<p>Try to add dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-sql_2.10&lt;/artifactId&gt;\n    &lt;version&gt;${spark.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Also make sure that your version <code>spark-cassandra-connector</code> is compatible with version of Spark you're using. I had the same error message even with all proper dependencies when was trying to use older <code>spark-cassandra-connector</code> with newer Spark version.  Refer to this table: <a href=\"https://github.com/datastax/spark-cassandra-connector#version-compatibility\" rel=\"nofollow noreferrer\">https://github.com/datastax/spark-cassandra-connector#version-compatibility</a></p>\n"}],"owner":{"account_id":4547505,"reputation":181,"user_id":3693594,"accept_rate":20,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38584737,"answer_count":1,"score":1,"last_activity_date":1660803260,"creation_date":1469520425,"question_id":38584336,"body_markdown":"I&#39;m trying to upgrade `spark-cassandra-connector` from `1.4` to `1.5`. \r\n\r\nEverything seems fine but when I run test cases then It stuck between the process and log some error message saying:\r\n\r\n&gt; Exception in thread &quot;dag-scheduler-event-loop&quot;\r\n&gt; java.lang.NoClassDefFoundError: org/apache/spark/sql/DataFrame\r\n\r\nMy pom file looks like:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.datastax.spark/spark-cassandra-connector_2.10 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-cassandra-connector_2.10&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;16.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Scala Library --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Spark Cassandra Connector--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-cassandra-connector_2.10&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-cassandra-connector-java_2.10&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Spark--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                &lt;groupId&gt;net.java.dev.jets3t&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jets3t&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThank you in advance!!\r\n\r\nCan anyone please help me with this ?\r\nIf you need more info please let me know!!\r\n","title":"NoClassDefFoundError: org/apache/spark/sql/DataFrame in spark-cassandra-connector","body":"<p>I'm trying to upgrade <code>spark-cassandra-connector</code> from <code>1.4</code> to <code>1.5</code>. </p>\n\n<p>Everything seems fine but when I run test cases then It stuck between the process and log some error message saying:</p>\n\n<blockquote>\n  <p>Exception in thread \"dag-scheduler-event-loop\"\n  java.lang.NoClassDefFoundError: org/apache/spark/sql/DataFrame</p>\n</blockquote>\n\n<p>My pom file looks like:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.datastax.spark/spark-cassandra-connector_2.10 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-cassandra-connector_2.10&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;16.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Scala Library --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n        &lt;version&gt;2.10.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--Spark Cassandra Connector--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-cassandra-connector_2.10&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-cassandra-connector-java_2.10&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\n      &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--Spark--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;exclusions&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;net.java.dev.jets3t&lt;/groupId&gt;\n            &lt;artifactId&gt;jets3t&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Thank you in advance!!</p>\n\n<p>Can anyone please help me with this ?\nIf you need more info please let me know!!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":7852072,"reputation":2063,"user_id":5935255,"display_name":"SoroushA"},"score":1,"creation_date":1523469612,"post_id":49781437,"comment_id":86578666,"body_markdown":"This is exactly why you have json arrays. can you restructure your object so that it becomes `httpmembers : [{ //member1}, {//member2}, etc]` ?","body":"This is exactly why you have json arrays. can you restructure your object so that it becomes <code>httpmembers : [{ &#47;&#47;member1}, {&#47;&#47;member2}, etc]</code> ?"},{"owner":{"account_id":10264423,"reputation":47,"user_id":7574793,"display_name":"Jas Kaur"},"score":0,"creation_date":1523469892,"post_id":49781437,"comment_id":86578816,"body_markdown":"Since i am getting this json object from another application , i have no control over, i can&#39;t restructure it.","body":"Since i am getting this json object from another application , i have no control over, i can&#39;t restructure it."},{"owner":{"account_id":12296955,"reputation":1424,"user_id":8972283,"display_name":"Francis Bartkowiak"},"score":0,"creation_date":1523473246,"post_id":49781437,"comment_id":86580521,"body_markdown":"If you can&#39;t change the format of that, then you&#39;re going to have a really hard time parsing it. Apart from it not utilizing JSON arrays, it&#39;s not even valid JSON.","body":"If you can&#39;t change the format of that, then you&#39;re going to have a really hard time parsing it. Apart from it not utilizing JSON arrays, it&#39;s not even valid JSON."},{"owner":{"account_id":8516312,"reputation":136,"user_id":6384625,"display_name":"raluca"},"score":0,"creation_date":1523473487,"post_id":49781437,"comment_id":86580651,"body_markdown":"If you don&#39;t have any control on the structure the only thing you can do is parse property by property. What are you using to parse this JSON object?","body":"If you don&#39;t have any control on the structure the only thing you can do is parse property by property. What are you using to parse this JSON object?"},{"owner":{"account_id":10264423,"reputation":47,"user_id":7574793,"display_name":"Jas Kaur"},"score":0,"creation_date":1523474212,"post_id":49781437,"comment_id":86580981,"body_markdown":"i am using Gson Parser","body":"i am using Gson Parser"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1660803810,"post_id":49781437,"comment_id":129619917,"body_markdown":"This is not json","body":"This is not json"}],"owner":{"account_id":10264423,"reputation":47,"user_id":7574793,"display_name":"Jas Kaur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660802806,"creation_date":1523468641,"question_id":49781437,"body_markdown":"I have a json of the following format :\r\n   \r\n\r\n     {\r\n    \thttpGroup1: {\r\n        httpmember1: {\r\n    \t\t\tkey1: {\r\n    \t\t\t\tprop1: propvalue1\r\n    \t\t\t\tprop2: propvalue2\r\n    \t\t\t\tprop3: propvalue3\r\n    \t\t\t}\r\n    \t\t\tkey2: keyvalue2\r\n    \t\t\tkey3: {\r\n    \t\t\t\tprop4: propvalue4\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\thttpmember2: {\r\n    \t\t\tkey1: {\r\n    \t\t\t\tprop1: propvalue1\r\n    \t\t\t\tprop2: propvalue2\r\n    \t\t\t\tprop3: propvalue3\r\n    \t\t\t}\r\n    \t\t\tkey2: keyvalue2\r\n    \t\t\tkey3: {\r\n    \t\t\t\tprop4: propvalue4\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nwhere group is a json object consisting of dynamic keys and it can have any number of members as values (which is again a dynamic json object).  How do i parse such json and pass it to the view so that it can be displayed on an html page? \r\nI will receive the array of these json objects from the server.\r\n","title":"Parsing a dynamic Json object in Java","body":"<p>I have a json of the following format :</p>\n\n<pre><code> {\n    httpGroup1: {\n    httpmember1: {\n            key1: {\n                prop1: propvalue1\n                prop2: propvalue2\n                prop3: propvalue3\n            }\n            key2: keyvalue2\n            key3: {\n                prop4: propvalue4\n            }\n        }\n        httpmember2: {\n            key1: {\n                prop1: propvalue1\n                prop2: propvalue2\n                prop3: propvalue3\n            }\n            key2: keyvalue2\n            key3: {\n                prop4: propvalue4\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>where group is a json object consisting of dynamic keys and it can have any number of members as values (which is again a dynamic json object).  How do i parse such json and pass it to the view so that it can be displayed on an html page? \nI will receive the array of these json objects from the server.</p>\n"},{"tags":["java","selenium","selenium-webdriver","drag-and-drop"],"comments":[{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":1,"creation_date":1660804835,"post_id":73398137,"comment_id":129620189,"body_markdown":"Welcome to SO! What is the website that you are trying this on? Please share the website link if it is ok to do so","body":"Welcome to SO! What is the website that you are trying this on? Please share the website link if it is ok to do so"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1660809029,"post_id":73398137,"comment_id":129621599,"body_markdown":"Check out this [https://stackoverflow.com/a/72335980/11863448]","body":"Check out this [<a href=\"https://stackoverflow.com/a/72335980/11863448]\">stackoverflow.com/a/72335980/11863448]</a>"}],"owner":{"account_id":25833697,"reputation":1,"user_id":19570414,"display_name":"Suman Farhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660802643,"creation_date":1660802643,"question_id":73398137,"body_markdown":"I have added robot class to drag from left to right in the frame but it is not working I also use action builder drag and drop it is not working somehow I use robot class so it clicks on the header but does not do drag and drop\r\nHere is my code :\r\n\r\n            WebDriverWait waitDrag = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n        waitDrag.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div[2]/div[2]/div/div[1]/div[2]/div/div[1]/div/div/div/div[1]/div&quot;)));\r\n        WebElement fromWebElement =driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div[2]/div[2]/div/div[1]/div[2]/div/div[1]/div/div/div/div[1]/div&quot;));\r\n        WebElement toWebElement = driver.findElement(By.xpath(&quot;//div[@class=\\&quot;react-flow__pane\\&quot;]&quot;));\r\n\r\n        Point coordinates1 = fromWebElement.getLocation();\r\n        Point coordinates2 = toWebElement.getLocation();\r\n\r\n        Robot robot = new Robot();\r\n\r\n        robot.mouseMove(coordinates1.getX(), coordinates1.getY());\r\n        robot.mousePress(InputEvent.BUTTON1_MASK);\r\n        robot.mouseMove(coordinates2.getX(), coordinates2.getY());\r\n        robot.mouseRelease(InputEvent.BUTTON1_MASK);\r\n        Thread.sleep(2000);","title":"Selniuem webdriver java(Drag and Drop issue)","body":"<p>I have added robot class to drag from left to right in the frame but it is not working I also use action builder drag and drop it is not working somehow I use robot class so it clicks on the header but does not do drag and drop\nHere is my code :</p>\n<pre><code>        WebDriverWait waitDrag = new WebDriverWait(driver, Duration.ofSeconds(30));\n    waitDrag.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div[2]/div[2]/div/div[1]/div[2]/div/div[1]/div/div/div/div[1]/div&quot;)));\n    WebElement fromWebElement =driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div[2]/div[2]/div/div[1]/div[2]/div/div[1]/div/div/div/div[1]/div&quot;));\n    WebElement toWebElement = driver.findElement(By.xpath(&quot;//div[@class=\\&quot;react-flow__pane\\&quot;]&quot;));\n\n    Point coordinates1 = fromWebElement.getLocation();\n    Point coordinates2 = toWebElement.getLocation();\n\n    Robot robot = new Robot();\n\n    robot.mouseMove(coordinates1.getX(), coordinates1.getY());\n    robot.mousePress(InputEvent.BUTTON1_MASK);\n    robot.mouseMove(coordinates2.getX(), coordinates2.getY());\n    robot.mouseRelease(InputEvent.BUTTON1_MASK);\n    Thread.sleep(2000);\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"score":0,"creation_date":1660758936,"post_id":73392694,"comment_id":129610748,"body_markdown":"What issue are you seeing? Does the code throw an error or does it simply not produce the desired result?","body":"What issue are you seeing? Does the code throw an error or does it simply not produce the desired result?"}],"answers":[{"tags":[],"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660759666,"creation_date":1660759666,"answer_id":73393109,"question_id":73392694,"body_markdown":"There are several things that could be improved in your code. \r\n- Nowhere in the code do you ask for the first number. \r\n- You do not need two scanners for System.in.\r\n- More descriptive variable names would help. \r\n\r\nThe code below fixes the first two issues: \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Calculator1{\r\n    public static void main(String[]args){\r\n        Scanner scan = new Scanner(System.in);\r\n        int sum = 0;\r\n        int input = 0;\r\n        String a = scan.nextLine();\r\n        System.out.print(&quot;Enter number: &quot;);\r\n        sum = scan.nextInt();\r\nwhile(input &gt;= 0){\r\n    System.out.print(&quot;Choose an operator (+ or - or * or = ): &quot;);\r\n    a = scan.next();\r\n    switch(a) {\r\n\r\n          case &quot;+&quot;:\r\n           System.out.print(&quot;Enter number: &quot;);\r\n           input = scan.nextInt();\r\n           sum += input;\r\n           //System.out.println(sum+input);\r\n        continue;\r\n            \r\n     case &quot;-&quot;:\r\n            System.out.print(&quot;Enter number: &quot;);\r\n            input = scan.nextInt();\r\n            sum -= input;\r\n            //System.out.println(sum-input);       \r\n        continue;\r\n\r\n     case &quot;*&quot;:\r\n        System.out.print(&quot;Enter number: &quot;);\r\n        input = scan.nextInt();\r\n        sum *= input;\r\n        //System.out.println(input*sum);\r\n        continue;\r\n                \r\n         case &quot;=&quot;:\r\n            System.out.println(sum);\r\n            break;            \r\n    }\r\n    //System.out.println(sum);\r\n    System.out.println(&quot;Enter -1 to stop or 0 to keep going: &quot;);\r\n    input = scan.nextInt();\r\n    }\r\n}}\r\n```","title":"How do I write a loop that ask for a number and operator but end with &quot;=&quot;, and also, I need to use a String to store the entered formula","body":"<p>There are several things that could be improved in your code.</p>\n<ul>\n<li>Nowhere in the code do you ask for the first number.</li>\n<li>You do not need two scanners for System.in.</li>\n<li>More descriptive variable names would help.</li>\n</ul>\n<p>The code below fixes the first two issues:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Calculator1{\n    public static void main(String[]args){\n        Scanner scan = new Scanner(System.in);\n        int sum = 0;\n        int input = 0;\n        String a = scan.nextLine();\n        System.out.print(&quot;Enter number: &quot;);\n        sum = scan.nextInt();\nwhile(input &gt;= 0){\n    System.out.print(&quot;Choose an operator (+ or - or * or = ): &quot;);\n    a = scan.next();\n    switch(a) {\n\n          case &quot;+&quot;:\n           System.out.print(&quot;Enter number: &quot;);\n           input = scan.nextInt();\n           sum += input;\n           //System.out.println(sum+input);\n        continue;\n            \n     case &quot;-&quot;:\n            System.out.print(&quot;Enter number: &quot;);\n            input = scan.nextInt();\n            sum -= input;\n            //System.out.println(sum-input);       \n        continue;\n\n     case &quot;*&quot;:\n        System.out.print(&quot;Enter number: &quot;);\n        input = scan.nextInt();\n        sum *= input;\n        //System.out.println(input*sum);\n        continue;\n                \n         case &quot;=&quot;:\n            System.out.println(sum);\n            break;            \n    }\n    //System.out.println(sum);\n    System.out.println(&quot;Enter -1 to stop or 0 to keep going: &quot;);\n    input = scan.nextInt();\n    }\n}}\n</code></pre>\n"}],"owner":{"account_id":26090436,"reputation":1,"user_id":19787411,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660802488,"creation_date":1660757551,"question_id":73392694,"body_markdown":"This is the output that i need:\r\n\r\n    Enter number: 6\r\n    \r\n    Choose an operator (+ or ‚Äì or * or =) : *\r\n    \r\n    Enter number: 10\r\n    \r\n    Choose an operator (+ or ‚Äì or * or =) : +\r\n    \r\n    Enter number: 5\r\n    \r\n    Choose an operator (+ or ‚Äì or * or =) : =\r\n    \r\n    Answer:\r\n    \r\n    6 * 10 + 5 = 65\r\n\r\nThis is my programÔºö\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Calculator1 {\r\n        public static void main(String[]args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            Scanner abc = new Scanner(System.in);\r\n            int sum = 0;\r\n            int input = 0;\r\n            String a = abc.nextLine();\r\n            while(input &gt;= 0){\r\n                switch(a) {    \r\n                    case &quot;+&quot;:\r\n                        System.out.print(&quot;Enter number: &quot;);\r\n                        input = scan.nextInt();\r\n                        System.out.println(sum+input);\r\n    \t\t            continue;\r\n                \r\n    \t            case &quot;-&quot;:\r\n                        System.out.print(&quot;Enter number: &quot;);\r\n                        input = scan.nextInt();\r\n                        System.out.println(sum-input);       \r\n    \t\t            continue;\r\n    \r\n    \t            case &quot;*&quot;:\r\n                        System.out.print(&quot;Enter number: &quot;);\r\n                        input = scan.nextInt();\r\n    \t                System.out.println(input*sum);\r\n    \t\t            continue;\r\n                    \r\n                    case &quot;=&quot;:\r\n                        System.out.print(&quot;Enter number: &quot;);\r\n                        input = scan.nextInt();\r\n                        System.out.print(sum);\r\n                        break;            \r\n                }\r\n                System.out.println(sum);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I write a loop that ask for a number and operator but end with &quot;=&quot;, and also, I need to use a String to store the entered formula","body":"<p>This is the output that i need:</p>\n<pre><code>Enter number: 6\n\nChoose an operator (+ or ‚Äì or * or =) : *\n\nEnter number: 10\n\nChoose an operator (+ or ‚Äì or * or =) : +\n\nEnter number: 5\n\nChoose an operator (+ or ‚Äì or * or =) : =\n\nAnswer:\n\n6 * 10 + 5 = 65\n</code></pre>\n<p>This is my programÔºö</p>\n<pre><code>import java.util.Scanner;\n\npublic class Calculator1 {\n    public static void main(String[]args) {\n        Scanner scan = new Scanner(System.in);\n        Scanner abc = new Scanner(System.in);\n        int sum = 0;\n        int input = 0;\n        String a = abc.nextLine();\n        while(input &gt;= 0){\n            switch(a) {    \n                case &quot;+&quot;:\n                    System.out.print(&quot;Enter number: &quot;);\n                    input = scan.nextInt();\n                    System.out.println(sum+input);\n                    continue;\n            \n                case &quot;-&quot;:\n                    System.out.print(&quot;Enter number: &quot;);\n                    input = scan.nextInt();\n                    System.out.println(sum-input);       \n                    continue;\n\n                case &quot;*&quot;:\n                    System.out.print(&quot;Enter number: &quot;);\n                    input = scan.nextInt();\n                    System.out.println(input*sum);\n                    continue;\n                \n                case &quot;=&quot;:\n                    System.out.print(&quot;Enter number: &quot;);\n                    input = scan.nextInt();\n                    System.out.print(sum);\n                    break;            \n            }\n            System.out.println(sum);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","noclassdeffounderror"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1660753847,"post_id":73391944,"comment_id":129609019,"body_markdown":"Show how you&#39;re compiling and executing the code, as well as the full stacktrace of the error","body":"Show how you&#39;re compiling and executing the code, as well as the full stacktrace of the error"}],"answers":[{"tags":[],"owner":{"account_id":26050471,"reputation":24,"user_id":19753785,"display_name":"Eng Fares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660755359,"creation_date":1660755359,"answer_id":73392315,"question_id":73391944,"body_markdown":"It is easy. Look at the error when calling the `java.uti` library. I suspect it&#39;s due to the `ide` you&#39;re using. Try another `ide`, such as `Eclipse, NetBeans, etc`.  or check the library is it there?!","title":"This is my code and i tried to find what the error but i couldn&#39;t find","body":"<p>It is easy. Look at the error when calling the <code>java.uti</code> library. I suspect it's due to the <code>ide</code> you're using. Try another <code>ide</code>, such as <code>Eclipse, NetBeans, etc</code>.  or check the library is it there?!</p>\n"},{"tags":[],"owner":{"account_id":16122114,"reputation":30,"user_id":11637851,"display_name":"Willian Valer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660756792,"creation_date":1660756792,"answer_id":73392563,"question_id":73391944,"body_markdown":"Maybe, you are running the &#39;project&#39; instead of just the class BasicSorting_1. Then this error may apear because you have the &quot;main method&quot; in both classes (BasicSorting and BasicSorting_1), then Java can&#39;t determine wich class he will use as &#39;main&#39;. \r\n\r\nTry running just the single java file;\r\n\r\nIf that&#39;s not working, try checking out the package(if you really have it):\r\n\r\n    package Sorting;\r\n","title":"This is my code and i tried to find what the error but i couldn&#39;t find","body":"<p>Maybe, you are running the 'project' instead of just the class BasicSorting_1. Then this error may apear because you have the &quot;main method&quot; in both classes (BasicSorting and BasicSorting_1), then Java can't determine wich class he will use as 'main'.</p>\n<p>Try running just the single java file;</p>\n<p>If that's not working, try checking out the package(if you really have it):</p>\n<pre><code>package Sorting;\n</code></pre>\n"}],"owner":{"account_id":24010475,"reputation":13,"user_id":17994124,"display_name":"Gulshan Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73392563,"answer_count":2,"score":-1,"last_activity_date":1660802205,"creation_date":1660753704,"question_id":73391944,"body_markdown":"1-Error: Could not find or load main class BasicSorting_1\r\n2-Caused by: java.lang.NoClassDefFoundError:\r\n3- Sorting/BasicSorting_1 (wrong name: BasicSorting_1)//\r\n    [enter image description here][1]\r\n    \r\n    package Sorting;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class BasicSorting_1 {\r\n        public static void bubbleSort(int num[]) {\r\n            int n = num.length;\r\n            for (int turn = 0; turn &lt; n - 1; turn++) {\r\n                for (int j = 0; j &lt; n - 1; j++) {\r\n                    if (num[j] &gt; num[j + 1]) {\r\n                        // swap\r\n                        int temp = num[j];\r\n                        num[j] = num[j + 1];\r\n                        num[j + 1] = temp;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void display(int num[]) {\r\n            int n = num.length;\r\n            for (int i = 0; i &lt; n; i++) {\r\n                System.out.print(num[i] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int num[] = { 2, 3, 1, 7, 5 };\r\n            bubbleSort(num);\r\n            display(num);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EyTlz.png","title":"This is my code and i tried to find what the error but i couldn&#39;t find","body":"<p>1-Error: Could not find or load main class BasicSorting_1\n2-Caused by: java.lang.NoClassDefFoundError:\n3- Sorting/BasicSorting_1 (wrong name: BasicSorting_1)//\n<a href=\"https://i.stack.imgur.com/EyTlz.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>package Sorting;\n\nimport java.util.*;\n\npublic class BasicSorting_1 {\n    public static void bubbleSort(int num[]) {\n        int n = num.length;\n        for (int turn = 0; turn &lt; n - 1; turn++) {\n            for (int j = 0; j &lt; n - 1; j++) {\n                if (num[j] &gt; num[j + 1]) {\n                    // swap\n                    int temp = num[j];\n                    num[j] = num[j + 1];\n                    num[j + 1] = temp;\n                }\n            }\n        }\n    }\n\n    public static void display(int num[]) {\n        int n = num.length;\n        for (int i = 0; i &lt; n; i++) {\n            System.out.print(num[i] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n\n    public static void main(String[] args) {\n        int num[] = { 2, 3, 1, 7, 5 };\n        bubbleSort(num);\n        display(num);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","push-notification","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1578306893,"creation_date":1578306893,"answer_id":59610536,"question_id":59610432,"body_markdown":"No, you don&#39;t really have to check that. If a channel with the same ID exists then Android doesn&#39;t create another.\r\n\r\nAs per docs\r\n\r\n&gt; Creating an existing notification channel with its original values performs no operation, so it&#39;s safe to call this code when starting an app.\r\n\r\nMore info at https://developer.android.com/training/notify-user/channels#CreateChannel ","title":"Is check that notification channel is already created needed?","body":"<p>No, you don't really have to check that. If a channel with the same ID exists then Android doesn't create another.</p>\n\n<p>As per docs</p>\n\n<blockquote>\n  <p>Creating an existing notification channel with its original values performs no operation, so it's safe to call this code when starting an app.</p>\n</blockquote>\n\n<p>More info at <a href=\"https://developer.android.com/training/notify-user/channels#CreateChannel\" rel=\"noreferrer\">https://developer.android.com/training/notify-user/channels#CreateChannel</a> </p>\n"},{"tags":[],"owner":{"account_id":10290061,"reputation":3228,"user_id":7592063,"display_name":"Rajnish suryavanshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578307067,"creation_date":1578307067,"answer_id":59610580,"question_id":59610432,"body_markdown":"As suggested in the documentation. \r\n\r\n&gt; If creating a NotificationChannel with the same original values there won&#39;t be any operation. So, it&#39;s safe to call the code.\r\n\r\nPlease checkout documentation for more details - https://developer.android.com/training/notify-user/channels#CreateChannel[][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/notify-user/channels#CreateChannel","title":"Is check that notification channel is already created needed?","body":"<p>As suggested in the documentation. </p>\n\n<blockquote>\n  <p>If creating a NotificationChannel with the same original values there won't be any operation. So, it's safe to call the code.</p>\n</blockquote>\n\n<p>Please checkout documentation for more details - <a href=\"https://developer.android.com/training/notify-user/channels#CreateChannel\" rel=\"nofollow noreferrer\">https://developer.android.com/training/notify-user/channels#CreateChannel</a><a href=\"https://developer.android.com/training/notify-user/channels#CreateChannel\" rel=\"nofollow noreferrer\"></a></p>\n"},{"tags":[],"owner":{"account_id":23224850,"reputation":69,"user_id":17316514,"display_name":"ShaRy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660802066,"creation_date":1660802066,"answer_id":73398045,"question_id":59610432,"body_markdown":"```\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val notificationManager = getSystemService(NotificationManager::class.java) as NotificationManager\r\n            if(notificationManager.getNotificationChannel(&quot;CHANNEL_ID&quot;) == null) {\r\n                val serviceChannel = NotificationChannel(&quot;CHANNEL_ID&quot;, &quot;CHANNEL_NAME&quot;, NotificationManager.IMPORTANCE_DEFAULT)\r\n                notificationManager.createNotificationChannel(serviceChannel)\r\n            }\r\n        }\r\n```\r\n\r\nAs other mentioned above there&#39;s no need to check for existence unless you are doing something particular.","title":"Is check that notification channel is already created needed?","body":"<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val notificationManager = getSystemService(NotificationManager::class.java) as NotificationManager\n            if(notificationManager.getNotificationChannel(&quot;CHANNEL_ID&quot;) == null) {\n                val serviceChannel = NotificationChannel(&quot;CHANNEL_ID&quot;, &quot;CHANNEL_NAME&quot;, NotificationManager.IMPORTANCE_DEFAULT)\n                notificationManager.createNotificationChannel(serviceChannel)\n            }\n        }\n</code></pre>\n<p>As other mentioned above there's no need to check for existence unless you are doing something particular.</p>\n"}],"owner":{"account_id":6933421,"reputation":1848,"user_id":5322236,"accept_rate":65,"display_name":"Kyryl Zotov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4246,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":59610536,"answer_count":3,"score":9,"last_activity_date":1660802066,"creation_date":1578306494,"question_id":59610432,"body_markdown":"Do we need to check before creating notification channel that it isn&#39;t already created?\r\n\r\n     private fun createChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            // todo: add here check if channel is already created\r\n            val defaultChannel = NotificationChannel(MEDIA_UPLOAD_NOTIFICATION_CHANNEL_ID, MEDIA_UPLOAD_NOTIFICATION_CHANNEL_NAME, NotificationManager.IMPORTANCE_HIGH)\r\n            defaultChannel.description = MEDIA_UPLOAD_NOTIFICATION_CHANNEL_DESC\r\n            defaultChannel.enableVibration(true)\r\n            notificationManager.createNotificationChannel(defaultChannel)\r\n        }\r\n    }\r\n\r\n","title":"Is check that notification channel is already created needed?","body":"<p>Do we need to check before creating notification channel that it isn't already created?</p>\n\n<pre><code> private fun createChannel() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        // todo: add here check if channel is already created\n        val defaultChannel = NotificationChannel(MEDIA_UPLOAD_NOTIFICATION_CHANNEL_ID, MEDIA_UPLOAD_NOTIFICATION_CHANNEL_NAME, NotificationManager.IMPORTANCE_HIGH)\n        defaultChannel.description = MEDIA_UPLOAD_NOTIFICATION_CHANNEL_DESC\n        defaultChannel.enableVibration(true)\n        notificationManager.createNotificationChannel(defaultChannel)\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3695522,"reputation":561,"user_id":3076981,"accept_rate":73,"display_name":"Arpit"},"score":1,"creation_date":1660802374,"post_id":73398038,"comment_id":129619572,"body_markdown":"Have you tried using ```Optional```","body":"Have you tried using <code>Optional</code>"},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1660802620,"post_id":73398038,"comment_id":129619636,"body_markdown":"Hello @Arpit, I have tried `return blockingRequestWrapper.subscribeOn(Schedulers.boundedElastic())\n            .map(blockingResponse -&gt; Optional.of(blockingResponse.getBody().getEntities().get(0)).orElse(null)).onErrorStop();` but it results in Index 0 out of bounds for length 0","body":"Hello @Arpit, I have tried <code>return blockingRequestWrapper.subscribeOn(Schedulers.boundedElastic&zwnj;&#8203;())             .map(blockingResponse -&gt; Optional.of(blockingResponse.getBody().getEntities().get(0))&zwnj;&#8203;.orElse(null)).onErr&zwnj;&#8203;orStop();</code> but it results in Index 0 out of bounds for length 0"},{"owner":{"account_id":3695522,"reputation":561,"user_id":3076981,"accept_rate":73,"display_name":"Arpit"},"score":0,"creation_date":1660803139,"post_id":73398038,"comment_id":129619759,"body_markdown":"```List someList = blockingResponse.getBody().getEntities();\nOptional.of(CollectionUtils.isNotEmpty(someList)) ? someList.get(0) : null);```","body":"<code>List someList = blockingResponse.getBody().getEntities(); Optional.of(CollectionUtils.isNotEmpty(someList)) ? someList.get(0) : null);</code>"},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1660803793,"post_id":73398038,"comment_id":129619911,"body_markdown":"@Arpit unfortunately,  I am getting the same message","body":"@Arpit unfortunately,  I am getting the same message"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1660806048,"post_id":73398038,"comment_id":129620578,"body_markdown":"What about `blockingResponse.getBody().getEntities().stream().findFirst().orElse(null);` ? `findFirst()` returns an `Optional`, if it is empty (in case of empty list), `orElse` provides a default value","body":"What about <code>blockingResponse.getBody().getEntities().stream().findFirst(&zwnj;&#8203;).orElse(null);</code> ? <code>findFirst()</code> returns an <code>Optional</code>, if it is empty (in case of empty list), <code>orElse</code> provides a default value"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1660942790,"post_id":73398038,"comment_id":129661310,"body_markdown":"Use `mapNotNull` operator instead of `map`","body":"Use <code>mapNotNull</code> operator instead of <code>map</code>"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660802005,"creation_date":1660802005,"question_id":73398038,"body_markdown":"I do have a spring boot project developed using web-flux which interacts with Dataverse APIs to fetch the details which works fine if dataverse do have the matching records based on the Odata query but returns an exception when it does not have any records in response. Below is the methods for the same. \r\n\r\n     @Override\r\n        public Mono&lt;ClientEntity&gt; findPositionWorkerAssignmentByJobPositionId(UUID jobPositionId) {\r\n\r\n            ODataEntitySetRequest&lt;ClientEntitySet&gt; request = microsoftOData4Client.getRetrieveRequestFactory()\r\n                    .getEntitySetRequest(microsoftOData4Client.newURIBuilder(microsoftOData4Client.getServiceRoot())\r\n                                                 .appendEntitySetSegment(positionWorkerAssignmentMapEDMEntitySet.getName())\r\n                                                 .expand(&quot;cdm_WorkerId&quot;, &quot;cdm_JobPositionId&quot;)\r\n                                                 .filter(String.format(\r\n                                                         &quot;_cdm_jobpositionid_value eq %s and cdm_WorkerId/cdm_workerid ne&quot; +\r\n                                                         &quot; null&quot; +\r\n                                                         &quot; and cdm_JobPositionId/cdm_jobpositionid ne null&quot;,\r\n                                                         jobPositionId))\r\n                                                 .top(1).build());\r\n\r\n            request.setPrefer(&quot;odata.include-annotations=OData.Community.Display.V1.FormattedValue&quot;);\r\n            Mono&lt;ODataRetrieveResponse&lt;ClientEntitySet&gt;&gt; blockingRequestWrapper = Mono.fromCallable(request::execute);\r\n    \r\n            return blockingRequestWrapper.subscribeOn(Schedulers.boundedElastic())\r\n                    .map(blockingResponse -&gt; {\r\n                        if (blockingResponse.getBody() != null &amp;&amp; !blockingResponse.getBody().getEntities().isEmpty()) {\r\n                            return blockingResponse.getBody().getEntities().get(0);\r\n                        } else {          \r\n                            return null;\r\n                        }\r\n                    }).onErrorStop();\r\n        }\r\n\r\nIf I do not use if condition to check and directly access `blockingResponse.getBody().getEntities().get(0)` it results in Index 0 out of bounds for length 0 as it&#39;s an empty list and if I do return null in else condition I am getting The mapper returned a null value. How can I fix the issue? \r\n\r\n    if (blockingResponse.getBody() != null &amp;&amp; !blockingResponse.getBody().getEntities().isEmpty()) {\r\n           return blockingResponse.getBody().getEntities().get(0);\r\n    } else {          \r\n           return null;\r\n    }\r\n\r\n \r\n  ","title":"How to handle dynamic optional list with with map","body":"<p>I do have a spring boot project developed using web-flux which interacts with Dataverse APIs to fetch the details which works fine if dataverse do have the matching records based on the Odata query but returns an exception when it does not have any records in response. Below is the methods for the same.</p>\n<pre><code> @Override\n    public Mono&lt;ClientEntity&gt; findPositionWorkerAssignmentByJobPositionId(UUID jobPositionId) {\n\n        ODataEntitySetRequest&lt;ClientEntitySet&gt; request = microsoftOData4Client.getRetrieveRequestFactory()\n                .getEntitySetRequest(microsoftOData4Client.newURIBuilder(microsoftOData4Client.getServiceRoot())\n                                             .appendEntitySetSegment(positionWorkerAssignmentMapEDMEntitySet.getName())\n                                             .expand(&quot;cdm_WorkerId&quot;, &quot;cdm_JobPositionId&quot;)\n                                             .filter(String.format(\n                                                     &quot;_cdm_jobpositionid_value eq %s and cdm_WorkerId/cdm_workerid ne&quot; +\n                                                     &quot; null&quot; +\n                                                     &quot; and cdm_JobPositionId/cdm_jobpositionid ne null&quot;,\n                                                     jobPositionId))\n                                             .top(1).build());\n\n        request.setPrefer(&quot;odata.include-annotations=OData.Community.Display.V1.FormattedValue&quot;);\n        Mono&lt;ODataRetrieveResponse&lt;ClientEntitySet&gt;&gt; blockingRequestWrapper = Mono.fromCallable(request::execute);\n\n        return blockingRequestWrapper.subscribeOn(Schedulers.boundedElastic())\n                .map(blockingResponse -&gt; {\n                    if (blockingResponse.getBody() != null &amp;&amp; !blockingResponse.getBody().getEntities().isEmpty()) {\n                        return blockingResponse.getBody().getEntities().get(0);\n                    } else {          \n                        return null;\n                    }\n                }).onErrorStop();\n    }\n</code></pre>\n<p>If I do not use if condition to check and directly access <code>blockingResponse.getBody().getEntities().get(0)</code> it results in Index 0 out of bounds for length 0 as it's an empty list and if I do return null in else condition I am getting The mapper returned a null value. How can I fix the issue?</p>\n<pre><code>if (blockingResponse.getBody() != null &amp;&amp; !blockingResponse.getBody().getEntities().isEmpty()) {\n       return blockingResponse.getBody().getEntities().get(0);\n} else {          \n       return null;\n}\n</code></pre>\n"},{"tags":["java","android","android-volley"],"answers":[{"tags":[],"owner":{"account_id":16644152,"reputation":117,"user_id":12649627,"display_name":"Shashank Daima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660801695,"creation_date":1660801695,"answer_id":73397995,"question_id":73397271,"body_markdown":"Yo, you made a small mistake. \r\n```java\r\nprivate RequestQueue requestQueue = new RequestQueue(this);\r\n```\r\n`this` in above code represents `context` of component from which you are making `requestQueue` object. `context` object is present in activity/fragment etc. You need to pass it to constructor.\r\n \r\nIf you got the answer you want please accept my answer by giving green check. If I haven&#39;t got your question then give me more details in comment section of this answer. Love from India.‚ù§Ô∏è","title":"How do I instantiate Volley in this class?","body":"<p>Yo, you made a small mistake.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private RequestQueue requestQueue = new RequestQueue(this);\n</code></pre>\n<p><code>this</code> in above code represents <code>context</code> of component from which you are making <code>requestQueue</code> object. <code>context</code> object is present in activity/fragment etc. You need to pass it to constructor.</p>\n<p>If you got the answer you want please accept my answer by giving green check. If I haven't got your question then give me more details in comment section of this answer. Love from India.‚ù§Ô∏è</p>\n"}],"owner":{"account_id":20342523,"reputation":9,"user_id":14921372,"display_name":"Chuck Bass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660801695,"creation_date":1660794823,"question_id":73397271,"body_markdown":"I am trying to learn about MVVM so i am building an app based on this principle, I understand that i need to separate functionalities under different packages, such as model, view, viewmodel. What i am trying to do here is populate my HighSchoolDataModel, from my class HighSchoolDataModleProvider. Issue, i am having is i do not know how to instantiate volley, in this class. I know ordinarily  you would so something such as `RequestQueue queue = Volley.newRequestQueue(this);` But when trying to do this here i get a message that reads cannot resolve constructor , can someone help me out with this? \r\n\r\n\r\n\r\n    public class HighSchoolModelDataProvider {\r\n        private ArrayList&lt;HighSchoolModel&gt; highSchoolModelArrayList = new ArrayList&lt;&gt;();\r\n        private HighSchoolModel highSchoolModel;\r\n        private JSONObject highSchoolJsonData;\r\n        private RequestQueue requestQueue = new RequestQueue(this);\r\n    \r\n        // Initialize a new JsonArrayRequest instance\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(\r\n                Request.Method.GET,\r\n                &quot;&quot;,\r\n                null,\r\n                new Response.Listener&lt;JSONArray&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONArray response) {\r\n                        for (int i = 0; i &lt; response.length(); i++) {\r\n                            try {\r\n                                highSchoolJsonData = response.getJSONObject(i);\r\n                                highSchoolModel = new HighSchoolModel(highSchoolJsonData.getString(&quot;school_name&quot;), highSchoolJsonData.getString(&quot;overview_paragraph&quot;), highSchoolJsonData.getString(&quot;location&quot;));\r\n                                highSchoolModelArrayList.add(highSchoolModel);\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n    \r\n    \r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Log.i(&quot;error&quot;, error.toString());\r\n                    }\r\n                }\r\n        );\r\n    \r\n        // Add JsonArrayRequest to the RequestQueue\r\n            requestQueue.add(jsonArrayRequest);\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How do I instantiate Volley in this class?","body":"<p>I am trying to learn about MVVM so i am building an app based on this principle, I understand that i need to separate functionalities under different packages, such as model, view, viewmodel. What i am trying to do here is populate my HighSchoolDataModel, from my class HighSchoolDataModleProvider. Issue, i am having is i do not know how to instantiate volley, in this class. I know ordinarily  you would so something such as <code>RequestQueue queue = Volley.newRequestQueue(this);</code> But when trying to do this here i get a message that reads cannot resolve constructor , can someone help me out with this?</p>\n<pre><code>public class HighSchoolModelDataProvider {\n    private ArrayList&lt;HighSchoolModel&gt; highSchoolModelArrayList = new ArrayList&lt;&gt;();\n    private HighSchoolModel highSchoolModel;\n    private JSONObject highSchoolJsonData;\n    private RequestQueue requestQueue = new RequestQueue(this);\n\n    // Initialize a new JsonArrayRequest instance\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(\n            Request.Method.GET,\n            &quot;&quot;,\n            null,\n            new Response.Listener&lt;JSONArray&gt;() {\n                @Override\n                public void onResponse(JSONArray response) {\n                    for (int i = 0; i &lt; response.length(); i++) {\n                        try {\n                            highSchoolJsonData = response.getJSONObject(i);\n                            highSchoolModel = new HighSchoolModel(highSchoolJsonData.getString(&quot;school_name&quot;), highSchoolJsonData.getString(&quot;overview_paragraph&quot;), highSchoolJsonData.getString(&quot;location&quot;));\n                            highSchoolModelArrayList.add(highSchoolModel);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n\n\n                    }\n                }\n            },\n            new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Log.i(&quot;error&quot;, error.toString());\n                }\n            }\n    );\n\n    // Add JsonArrayRequest to the RequestQueue\n        requestQueue.add(jsonArrayRequest);\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j","spring-cloud-circuitbreaker"],"answers":[{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660800908,"creation_date":1660800908,"answer_id":73397900,"question_id":68407909,"body_markdown":"There should only be one instance of circuit breaker for this client call. Creating a new instance with every API call will break the purpose as we are not maintaining the information about the previous requests.\r\n\r\nI confirmed it with the community too: https://github.com/eugenp/tutorials/issues/12593","title":"Using circuit breaker in spring boot","body":"<p>There should only be one instance of circuit breaker for this client call. Creating a new instance with every API call will break the purpose as we are not maintaining the information about the previous requests.</p>\n<p>I confirmed it with the community too: <a href=\"https://github.com/eugenp/tutorials/issues/12593\" rel=\"nofollow noreferrer\">https://github.com/eugenp/tutorials/issues/12593</a></p>\n"}],"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2025,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1660800908,"creation_date":1626433201,"question_id":68407909,"body_markdown":"I have recently studied the circuit breaker pattern and I am doing a POC to implement it in my spring boot application. I found that spring provides an implementation of resilience4j out of the box.\r\n\r\nI am studying an article who&#39;s github repo I am mentioniong below\r\n\r\nhttps://github.com/eugenp/tutorials/blob/master/spring-cloud/spring-cloud-circuit-breaker/src/main/java/com/baeldung/circuitbreaker/AlbumService.java\r\n\r\nCode is as shown below. My doubt is in the higlighted statement\r\n\r\n **CircuitBreaker circuitBreaker = circuitBreakerFactory.create(&quot;circuitbreaker&quot;);**\r\n\r\ndoesn&#39;t this mean that everytime **getAlbumList()** is callled a new instance of circuit breaker will be created and hence the old values of events registered by circuit breaker will be lost. Should there not be only one instance across application.\r\n\r\nI am very confused here am I forgetting some basic priniciple of spring framework, please help me. I want to understand how this works.\r\n\r\n    @Service\r\n    public class AlbumService {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(AlbumService.class);\r\n    \r\n        @Autowired\r\n        private CircuitBreakerFactory circuitBreakerFactory;\r\n    \r\n        private RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        public String getAlbumList() {\r\n            **CircuitBreaker circuitBreaker = circuitBreakerFactory.create(&quot;circuitbreaker&quot;);**\r\n            String url = &quot;https://jsonplaceholder.typicode.com/albums&quot;;\r\n    \r\n            return circuitBreaker.run(() -&gt; restTemplate.getForObject(url, String.class), throwable -&gt; getDefaultAlbumList());\r\n        }\r\n    \r\n        private String getDefaultAlbumList() {\r\n            try {\r\n                return new String(Files.readAllBytes(Paths.get(getClass().getClassLoader().getResource(&quot;fallback-album-list.json&quot;).toURI())));\r\n            } catch (Exception e) {\r\n                LOGGER.error(&quot;error occurred while reading the file&quot;, e);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    }","title":"Using circuit breaker in spring boot","body":"<p>I have recently studied the circuit breaker pattern and I am doing a POC to implement it in my spring boot application. I found that spring provides an implementation of resilience4j out of the box.</p>\n<p>I am studying an article who's github repo I am mentioniong below</p>\n<p><a href=\"https://github.com/eugenp/tutorials/blob/master/spring-cloud/spring-cloud-circuit-breaker/src/main/java/com/baeldung/circuitbreaker/AlbumService.java\" rel=\"nofollow noreferrer\">https://github.com/eugenp/tutorials/blob/master/spring-cloud/spring-cloud-circuit-breaker/src/main/java/com/baeldung/circuitbreaker/AlbumService.java</a></p>\n<p>Code is as shown below. My doubt is in the higlighted statement</p>\n<p><strong>CircuitBreaker circuitBreaker = circuitBreakerFactory.create(&quot;circuitbreaker&quot;);</strong></p>\n<p>doesn't this mean that everytime <strong>getAlbumList()</strong> is callled a new instance of circuit breaker will be created and hence the old values of events registered by circuit breaker will be lost. Should there not be only one instance across application.</p>\n<p>I am very confused here am I forgetting some basic priniciple of spring framework, please help me. I want to understand how this works.</p>\n<pre><code>@Service\npublic class AlbumService {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AlbumService.class);\n\n    @Autowired\n    private CircuitBreakerFactory circuitBreakerFactory;\n\n    private RestTemplate restTemplate = new RestTemplate();\n\n    public String getAlbumList() {\n        **CircuitBreaker circuitBreaker = circuitBreakerFactory.create(&quot;circuitbreaker&quot;);**\n        String url = &quot;https://jsonplaceholder.typicode.com/albums&quot;;\n\n        return circuitBreaker.run(() -&gt; restTemplate.getForObject(url, String.class), throwable -&gt; getDefaultAlbumList());\n    }\n\n    private String getDefaultAlbumList() {\n        try {\n            return new String(Files.readAllBytes(Paths.get(getClass().getClassLoader().getResource(&quot;fallback-album-list.json&quot;).toURI())));\n        } catch (Exception e) {\n            LOGGER.error(&quot;error occurred while reading the file&quot;, e);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","sql"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1660800820,"creation_date":1660780646,"answer_id":73396061,"question_id":73396019,"body_markdown":"Your method is not performing a select, it&#39;s performing an insert. So I would rename it. Java convention has methods start with a lowercase letter. \r\n\r\nYou should be using a [`PreparedStatement`](https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html) and *binding* the variables for your query&lt;sup&gt;**1**&lt;/sup&gt;. And you aren&#39;t closing anything which is likely to leak cursors; I would use a `try-with-Resources`&lt;sup&gt;**2**&lt;/sup&gt;. Something like this:\r\n\r\n\tvoid insertCountry(String country, String color, int x, int y) {\r\n\t\tString sql = &quot;INSERT INTO Country (CountryName, Color, XPosition, YPosition) &quot;\r\n\t\t\t\t+ &quot;VALUES (?, ?, ?, ?)&quot;;\r\n\t\ttry (Connection conn = letConnect();\r\n\t\t\t\tPreparedStatement ps = conn.prepareStatement(sql)) {\r\n\t\t\tps.setString(1, country);\r\n\t\t\tps.setString(2, color);\r\n\t\t\tps.setInt(3, x);\r\n\t\t\tps.setInt(4, y);\r\n\t\t\tps.executeUpdate();\r\n\t\t\tSystem.out.println(&quot;Inserted&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n&lt;sub&gt;&lt;sup&gt;**1**&lt;/sup&gt;This is also how you avoid SQL Injection attacks. See also, [xkcd 327: Exploits of a Mom](https://xkcd.com/327/).\r\n&lt;br /&gt;\r\n&lt;sup&gt;**2**&lt;/sup&gt;A connection pool (for example [HikariCP](https://github.com/brettwooldridge/HikariCP) or [others](https://stackoverflow.com/q/16153638/2970947)) would likely improve performance if your application will run for an extended period by amortizing the database connection time.\r\n&lt;/sub&gt;","title":"How to Insert A Variable Into MySQL Database With Java","body":"<p>Your method is not performing a select, it's performing an insert. So I would rename it. Java convention has methods start with a lowercase letter.</p>\n<p>You should be using a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code></a> and <em>binding</em> the variables for your query<sup><strong>1</strong></sup>. And you aren't closing anything which is likely to leak cursors; I would use a <code>try-with-Resources</code><sup><strong>2</strong></sup>. Something like this:</p>\n<pre><code>void insertCountry(String country, String color, int x, int y) {\n    String sql = &quot;INSERT INTO Country (CountryName, Color, XPosition, YPosition) &quot;\n            + &quot;VALUES (?, ?, ?, ?)&quot;;\n    try (Connection conn = letConnect();\n            PreparedStatement ps = conn.prepareStatement(sql)) {\n        ps.setString(1, country);\n        ps.setString(2, color);\n        ps.setInt(3, x);\n        ps.setInt(4, y);\n        ps.executeUpdate();\n        System.out.println(&quot;Inserted&quot;);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><sub><sup><strong>1</strong></sup>This is also how you avoid SQL Injection attacks. See also, <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">xkcd 327: Exploits of a Mom</a>.\n<br />\n<sup><strong>2</strong></sup>A connection pool (for example <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">HikariCP</a> or <a href=\"https://stackoverflow.com/q/16153638/2970947\">others</a>) would likely improve performance if your application will run for an extended period by amortizing the database connection time.\n</sub></p>\n"},{"tags":[],"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1660786486,"creation_date":1660786486,"answer_id":73396537,"question_id":73396019,"body_markdown":"After thinking about it for a little while, I edited my code and came up with somewhat a good solution to this problem, the code is below:\r\n\r\n    void insertCountry(String country, String color, int X, int Y) {\r\n    \t\tConnection conn = letConnect();\r\n    \t\ttry {\r\n    \t\t\tString sql = &quot;INSERT INTO Country (CountryName, Color, XPosition, YPosition) VALUES (&#39;&quot;+country+&quot;&#39;,&#39;&quot;+color+&quot;&#39;,&#39;&quot;+X+&quot;&#39;,&#39;&quot;+Y+&quot;&#39;);&quot;;\r\n    \t\t\tSystem.out.println(sql);\r\n    \t\t\tStatement stmt = conn.createStatement();\r\n    \t\t\tstmt.executeUpdate(sql);\r\n    \t\t\tSystem.out.println(&quot;Inserted&quot;);\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}","title":"How to Insert A Variable Into MySQL Database With Java","body":"<p>After thinking about it for a little while, I edited my code and came up with somewhat a good solution to this problem, the code is below:</p>\n<pre><code>void insertCountry(String country, String color, int X, int Y) {\n        Connection conn = letConnect();\n        try {\n            String sql = &quot;INSERT INTO Country (CountryName, Color, XPosition, YPosition) VALUES ('&quot;+country+&quot;','&quot;+color+&quot;','&quot;+X+&quot;','&quot;+Y+&quot;');&quot;;\n            System.out.println(sql);\n            Statement stmt = conn.createStatement();\n            stmt.executeUpdate(sql);\n            System.out.println(&quot;Inserted&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1660800820,"creation_date":1660780189,"question_id":73396019,"body_markdown":"I have been trying to insert some variables into a MySQL database, but it doesn&#39;t seem to be working.  When I type the value directly into the query it works, but this is obviously not very helpful.  I have typed my code below along with the erorr message, I just don&#39;t know how I can change my code to make it work.  Any help you can provide would be most helpful!  Please note the function is called selectCountry instead of something like insertCountry, please ignore this.\r\n\r\n\r\n    import java.sql.*;\r\n    \r\n    public class Database_Interactor {\r\n    \tpublic static Connection letConnect()  {\r\n    \t\tConnection conn =null;\r\n    \t\tString url,username,password = null;\r\n    \t\turl=&quot;jdbc:mysql://localhost:3306/DatabaseName&quot;;\r\n    \t\tusername = &quot;username&quot;;\r\n    \t\tpassword = &quot;password&quot;;\r\n    \t\t\r\n    \t\ttry {Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    \t\t\tconn = DriverManager.getConnection(url,username,password);\r\n    \t\t} catch (SQLException | ClassNotFoundException e) {\r\n    \t\t\te.printStackTrace();}\r\n    \t\treturn conn;}\r\n    \t\r\n    \t\r\n    \tvoid SelectCountry(String country, String color, int X, int Y) {\r\n    \t\tConnection conn = letConnect();\r\n    \t\ttry {\r\n    \t\t\tStatement stmt = conn.createStatement();\r\n    \t\t\tstmt.executeUpdate(&quot;INSERT INTO Country (CountryName, Color, XPosition, YPosition)\\r\\n&quot;\r\n    \t\t\t\t\t+ &quot;VALUES (country,color,X,Y);&quot;);\r\n    \t\t\tSystem.out.println(&quot;Inserted&quot;);\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    java.sql.SQLSyntaxErrorException: Unknown column &#39;country&#39; in &#39;field list&#39;\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\r\n    \tat Database_Interactor.SelectCountry(Database_Interactor.java:22)\r\n    \tat MainClass.main(MainClass.java:8)","title":"How to Insert A Variable Into MySQL Database With Java","body":"<p>I have been trying to insert some variables into a MySQL database, but it doesn't seem to be working.  When I type the value directly into the query it works, but this is obviously not very helpful.  I have typed my code below along with the erorr message, I just don't know how I can change my code to make it work.  Any help you can provide would be most helpful!  Please note the function is called selectCountry instead of something like insertCountry, please ignore this.</p>\n<pre><code>import java.sql.*;\n\npublic class Database_Interactor {\n    public static Connection letConnect()  {\n        Connection conn =null;\n        String url,username,password = null;\n        url=&quot;jdbc:mysql://localhost:3306/DatabaseName&quot;;\n        username = &quot;username&quot;;\n        password = &quot;password&quot;;\n        \n        try {Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(url,username,password);\n        } catch (SQLException | ClassNotFoundException e) {\n            e.printStackTrace();}\n        return conn;}\n    \n    \n    void SelectCountry(String country, String color, int X, int Y) {\n        Connection conn = letConnect();\n        try {\n            Statement stmt = conn.createStatement();\n            stmt.executeUpdate(&quot;INSERT INTO Country (CountryName, Color, XPosition, YPosition)\\r\\n&quot;\n                    + &quot;VALUES (country,color,X,Y);&quot;);\n            System.out.println(&quot;Inserted&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\njava.sql.SQLSyntaxErrorException: Unknown column 'country' in 'field list'\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\n    at Database_Interactor.SelectCountry(Database_Interactor.java:22)\n    at MainClass.main(MainClass.java:8)\n</code></pre>\n"},{"tags":["java","post","jersey"],"owner":{"account_id":26094284,"reputation":21,"user_id":19790628,"display_name":"satz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660800032,"creation_date":1660800032,"question_id":73397799,"body_markdown":"I am trying to add an API in my jersey server that will be able to handle POST requests. \r\nThe API allows for null request body or a json input. However i am unable to set this up properly, since if i create a method like \r\n\r\n```\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\ninterface Resource {\r\n\r\n@POST\r\n@Path(&quot;path&quot;)\r\nResponse create(InputObject object)\r\n\r\n}\r\n```\r\n\r\nAnd hit this with curl without Content-Type and requestBody, it fails with an error like \r\n\r\n```\r\njavax.ws.rs.NotSupportedException: Cannot consume content type\r\n\tat org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:380) ~[resteasy-jaxrs-3.0.10.Final.jar:?]\r\n\tat org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:114) ~[resteasy-jaxrs-3.0.10.Final.jar:?]\r\n```\r\n\r\nIt works if i am setting the content-type and passing a json. Any idea on how to make this work?\r\n\r\nFrom my side i am going to see if i can use filters and interceptors to add an empty json and content-type header if they are missing. But it seems like too much work for a simple nullable input use-case. Hence wanted to check if the community has any answers for me.\r\n\r\nThanks","title":"Support for nullable request body in Jersey for a HTTP POST request","body":"<p>I am trying to add an API in my jersey server that will be able to handle POST requests.\nThe API allows for null request body or a json input. However i am unable to set this up properly, since if i create a method like</p>\n<pre><code>@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\ninterface Resource {\n\n@POST\n@Path(&quot;path&quot;)\nResponse create(InputObject object)\n\n}\n</code></pre>\n<p>And hit this with curl without Content-Type and requestBody, it fails with an error like</p>\n<pre><code>javax.ws.rs.NotSupportedException: Cannot consume content type\n    at org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:380) ~[resteasy-jaxrs-3.0.10.Final.jar:?]\n    at org.jboss.resteasy.core.registry.SegmentNode.match(SegmentNode.java:114) ~[resteasy-jaxrs-3.0.10.Final.jar:?]\n</code></pre>\n<p>It works if i am setting the content-type and passing a json. Any idea on how to make this work?</p>\n<p>From my side i am going to see if i can use filters and interceptors to add an empty json and content-type header if they are missing. But it seems like too much work for a simple nullable input use-case. Hence wanted to check if the community has any answers for me.</p>\n<p>Thanks</p>\n"},{"tags":["java","hashmap","wrapper","servlet-filters"],"comments":[{"owner":{"account_id":964056,"reputation":313,"user_id":987829,"display_name":"Vijay"},"score":0,"creation_date":1660730427,"post_id":73386337,"comment_id":129599681,"body_markdown":"have you tried concurrenthashmap?","body":"have you tried concurrenthashmap?"},{"owner":{"account_id":15325054,"reputation":33,"user_id":11056427,"display_name":"GOURAV KUMAR"},"score":0,"creation_date":1660730878,"post_id":73386337,"comment_id":129599858,"body_markdown":"yes, i did but same result.","body":"yes, i did but same result."}],"owner":{"account_id":15325054,"reputation":33,"user_id":11056427,"display_name":"GOURAV KUMAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660799968,"creation_date":1660729773,"question_id":73386337,"body_markdown":"I am working with a use case where I am storing a complete response (body + headers) corresponding to some id in a **Synchronized** HashMap of type ```Map&lt;String,MyCustomResponse&gt;```  inside the servlet-filter layer.\r\n\r\nBelow is the code for reference: \r\n```java\r\npublic void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        logger.debug(&quot;inside middleware: incoming request&quot;);\r\n\r\n\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\r\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n\r\n        //calling next\r\n        filterChain.doFilter(requestWrapper, responseWrapper);\r\n\r\n        byte[] reqArr = requestWrapper.getContentAsByteArray();\r\n        byte[] resArr = responseWrapper.getContentAsByteArray();\r\n\r\n        String requestBody = this.getStringValue(reqArr, request.getCharacterEncoding());\r\n        String responseBody = this.getStringValue(resArr, response.getCharacterEncoding());\r\n\r\n\r\n        responseWrapper.copyBodyToResponse();\r\n\r\n\r\n        MyCustomResponse resp = new MyCustomResponse();\r\n\r\n        resp.setBody(responseBody);\r\n        resp.setStatus(responseWrapper.getStatus());\r\n        resp.setHeaders(getResponseHeaderMap(responseWrapper));\r\n\r\n\r\n\r\n        String id = request.getHeader(&quot;customId&quot;);\r\n\r\n        logger.debug(&quot;ID: {}&quot;, id);\r\n\r\n        if (id != null) {\r\n            k.getResp().put(id, resp); // k is some class object where my customMap (Synchronized HashMap) of type Map&lt;String,MyCustomResponse&gt; is present.\r\n            logger.debug(&quot;response in custom map: {} &quot;, k.getResp().get(id));\r\n        }\r\n        \r\n\r\n        logger.debug(&quot;inside middleware: outgoing response&quot;);\r\n    }\r\n```\r\nIn some other class there is a method called fetchReponse(), inside that I am sending concurrent HTTP requests and also getting responses from the same custom HashMap. **But the problem is sometimes I get the response back and sometimes I get null**. \r\n\r\nI know that call to the method ```responseWrapper.copyBodyToResponse()``` results in writing responseBody to the original response &amp; flushBuffer( headers &amp; status code get written + response get committed). and after this method call only it behaves differently.\r\n\r\nIdeally, servlet-filter should be executed completly for a particular request hence I should be getting my customresponse always from customMap.\r\n","title":"Servlet-Filter not executing properly when using responseWrapper","body":"<p>I am working with a use case where I am storing a complete response (body + headers) corresponding to some id in a <strong>Synchronized</strong> HashMap of type <code>Map&lt;String,MyCustomResponse&gt;</code>  inside the servlet-filter layer.</p>\n<p>Below is the code for reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        logger.debug(&quot;inside middleware: incoming request&quot;);\n\n\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n\n        //calling next\n        filterChain.doFilter(requestWrapper, responseWrapper);\n\n        byte[] reqArr = requestWrapper.getContentAsByteArray();\n        byte[] resArr = responseWrapper.getContentAsByteArray();\n\n        String requestBody = this.getStringValue(reqArr, request.getCharacterEncoding());\n        String responseBody = this.getStringValue(resArr, response.getCharacterEncoding());\n\n\n        responseWrapper.copyBodyToResponse();\n\n\n        MyCustomResponse resp = new MyCustomResponse();\n\n        resp.setBody(responseBody);\n        resp.setStatus(responseWrapper.getStatus());\n        resp.setHeaders(getResponseHeaderMap(responseWrapper));\n\n\n\n        String id = request.getHeader(&quot;customId&quot;);\n\n        logger.debug(&quot;ID: {}&quot;, id);\n\n        if (id != null) {\n            k.getResp().put(id, resp); // k is some class object where my customMap (Synchronized HashMap) of type Map&lt;String,MyCustomResponse&gt; is present.\n            logger.debug(&quot;response in custom map: {} &quot;, k.getResp().get(id));\n        }\n        \n\n        logger.debug(&quot;inside middleware: outgoing response&quot;);\n    }\n</code></pre>\n<p>In some other class there is a method called fetchReponse(), inside that I am sending concurrent HTTP requests and also getting responses from the same custom HashMap. <strong>But the problem is sometimes I get the response back and sometimes I get null</strong>.</p>\n<p>I know that call to the method <code>responseWrapper.copyBodyToResponse()</code> results in writing responseBody to the original response &amp; flushBuffer( headers &amp; status code get written + response get committed). and after this method call only it behaves differently.</p>\n<p>Ideally, servlet-filter should be executed completly for a particular request hence I should be getting my customresponse always from customMap.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":21824236,"reputation":29135,"user_id":16120011,"display_name":"Timeless"},"score":0,"creation_date":1660719744,"post_id":73383944,"comment_id":129595974,"body_markdown":"Does this post help ? https://stackoverflow.com/questions/319438/basic-excel-currency-format-with-apache-poi","body":"Does this post help ? <a href=\"https://stackoverflow.com/questions/319438/basic-excel-currency-format-with-apache-poi\" title=\"basic excel currency format with apache poi\">stackoverflow.com/questions/319438/&hellip;</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1660720395,"post_id":73383944,"comment_id":129596210,"body_markdown":"You need to store the value as a number and format the cell as currency.","body":"You need to store the value as a number and format the cell as currency."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660799616,"creation_date":1660734856,"answer_id":73387486,"question_id":73383944,"body_markdown":"If Excel stores text as values for cells then the applied number format does not matter at all. So if number format shall be considered, then the cell value needs to be numeric.\r\n\r\nIf you have all values in string format only, then you at least need to know which of them are number types genuinely. In a table, most times all values in one column share the same type. So one could detect the type by column number.\r\n\r\nThe task of converting the strings into numbers, could be done using `java.time.format.DateTimeFormatter` for dates respective `java.text.DecimalFormat` for numbers.\r\n\r\nComplete example to test:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.text.NumberFormat;\r\n    import java.text.DecimalFormat;\r\n    import java.text.DecimalFormatSymbols;\r\n    import java.util.Locale;\r\n    \r\n    public class CreateExcel {\r\n        \r\n     static String[][] sheetData = new String[][] {\r\n      new String[]{&quot;Name&quot;, &quot;Date&quot;, &quot;Amount&quot;},\r\n      new String[]{&quot;John&quot;, &quot;2022-08-17&quot;, &quot;$234.56&quot;},\r\n      new String[]{&quot;Jane&quot;, &quot;2022-09-15&quot;, &quot;$1,234.5&quot;},\r\n      new String[]{&quot;Mary&quot;, &quot;2022-07-01&quot;, &quot;$1,234,567&quot;},   \r\n      new String[]{&quot;Claire&quot;, &quot;2022-06-15&quot;, &quot;-$1,234,567.89&quot;},   \r\n      new String[]{&quot;Heidi&quot;, &quot;2022-05-01&quot;, &quot;-$4,567.8&quot;},   \r\n      new String[]{&quot;Ahmed&quot;, &quot;2022-04-15&quot;, &quot;-$567&quot;}  \r\n     };\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n         \r\n      DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n      //DecimalFormat decimalFormat = (DecimalFormat)NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n      DecimalFormat decimalFormat = new DecimalFormat(&quot;\\u00A4#,##0.00&quot;, new DecimalFormatSymbols(new Locale(&quot;en&quot;, &quot;US&quot;)));\r\n    \r\n      Workbook workbook = new XSSFWorkbook(); String filePath=&quot;./ExcelExample.xlsx&quot;;\r\n      //Workbook workbook = new HSSFWorkbook(); String filePath=&quot;./ExcelExample.xls&quot;;\r\n      \r\n      CreationHelper creationHelper = workbook.getCreationHelper();\r\n      CellStyle dateCellStyle = workbook.createCellStyle();\r\n      dateCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;yyyy-MM-dd&quot;));\r\n      CellStyle currencyCellStyle = workbook.createCellStyle();\r\n      currencyCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;$#,##0.00&quot;));\r\n      \r\n      Sheet sheet = workbook.createSheet();\r\n      for (int r = 0; r &lt; sheetData.length; r++) {\r\n       String[] rowData = sheetData[r];\r\n       Row row = sheet.createRow(r);\r\n       for (int c = 0; c &lt; rowData.length; c++) {\r\n        String cellValue = rowData[c];\r\n    \tCell cell = row.createCell(c);\r\n        if (r == 0) {\r\n    \t cell.setCellValue(cellValue);        \r\n        } else if (c == 0) {\r\n    \t cell.setCellValue(cellValue);\r\n        } else if (c == 1) {\r\n         LocalDate localDate = LocalDate.parse(cellValue, dateTimeFormatter);   \r\n     \t cell.setCellValue(localDate);\r\n         cell.setCellStyle(dateCellStyle);   \r\n        } else if (c == 2) {\r\n         Number number = decimalFormat.parse(cellValue);\r\n     \t cell.setCellValue(number.doubleValue());\r\n         cell.setCellStyle(currencyCellStyle);   \r\n        }    \r\n       }\t  \r\n      }\r\n    \r\n      sheet.autoSizeColumn(0);\r\n      sheet.autoSizeColumn(1);\r\n      sheet.autoSizeColumn(2);\r\n    \r\n      try (FileOutputStream out = new FileOutputStream(filePath)) {\r\n       workbook.write(out);\r\n       workbook.close();\r\n      }\r\n     }\r\n    }","title":"How to store string as a currency in excel from java?","body":"<p>If Excel stores text as values for cells then the applied number format does not matter at all. So if number format shall be considered, then the cell value needs to be numeric.</p>\n<p>If you have all values in string format only, then you at least need to know which of them are number types genuinely. In a table, most times all values in one column share the same type. So one could detect the type by column number.</p>\n<p>The task of converting the strings into numbers, could be done using <code>java.time.format.DateTimeFormatter</code> for dates respective <code>java.text.DecimalFormat</code> for numbers.</p>\n<p>Complete example to test:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.text.NumberFormat;\nimport java.text.DecimalFormat;\nimport java.text.DecimalFormatSymbols;\nimport java.util.Locale;\n\npublic class CreateExcel {\n    \n static String[][] sheetData = new String[][] {\n  new String[]{&quot;Name&quot;, &quot;Date&quot;, &quot;Amount&quot;},\n  new String[]{&quot;John&quot;, &quot;2022-08-17&quot;, &quot;$234.56&quot;},\n  new String[]{&quot;Jane&quot;, &quot;2022-09-15&quot;, &quot;$1,234.5&quot;},\n  new String[]{&quot;Mary&quot;, &quot;2022-07-01&quot;, &quot;$1,234,567&quot;},   \n  new String[]{&quot;Claire&quot;, &quot;2022-06-15&quot;, &quot;-$1,234,567.89&quot;},   \n  new String[]{&quot;Heidi&quot;, &quot;2022-05-01&quot;, &quot;-$4,567.8&quot;},   \n  new String[]{&quot;Ahmed&quot;, &quot;2022-04-15&quot;, &quot;-$567&quot;}  \n };\n \n public static void main(String[] args) throws Exception {\n     \n  DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n  //DecimalFormat decimalFormat = (DecimalFormat)NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;));\n  DecimalFormat decimalFormat = new DecimalFormat(&quot;\\u00A4#,##0.00&quot;, new DecimalFormatSymbols(new Locale(&quot;en&quot;, &quot;US&quot;)));\n\n  Workbook workbook = new XSSFWorkbook(); String filePath=&quot;./ExcelExample.xlsx&quot;;\n  //Workbook workbook = new HSSFWorkbook(); String filePath=&quot;./ExcelExample.xls&quot;;\n  \n  CreationHelper creationHelper = workbook.getCreationHelper();\n  CellStyle dateCellStyle = workbook.createCellStyle();\n  dateCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;yyyy-MM-dd&quot;));\n  CellStyle currencyCellStyle = workbook.createCellStyle();\n  currencyCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;$#,##0.00&quot;));\n  \n  Sheet sheet = workbook.createSheet();\n  for (int r = 0; r &lt; sheetData.length; r++) {\n   String[] rowData = sheetData[r];\n   Row row = sheet.createRow(r);\n   for (int c = 0; c &lt; rowData.length; c++) {\n    String cellValue = rowData[c];\n    Cell cell = row.createCell(c);\n    if (r == 0) {\n     cell.setCellValue(cellValue);        \n    } else if (c == 0) {\n     cell.setCellValue(cellValue);\n    } else if (c == 1) {\n     LocalDate localDate = LocalDate.parse(cellValue, dateTimeFormatter);   \n     cell.setCellValue(localDate);\n     cell.setCellStyle(dateCellStyle);   \n    } else if (c == 2) {\n     Number number = decimalFormat.parse(cellValue);\n     cell.setCellValue(number.doubleValue());\n     cell.setCellStyle(currencyCellStyle);   \n    }    \n   }      \n  }\n\n  sheet.autoSizeColumn(0);\n  sheet.autoSizeColumn(1);\n  sheet.autoSizeColumn(2);\n\n  try (FileOutputStream out = new FileOutputStream(filePath)) {\n   workbook.write(out);\n   workbook.close();\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":26083166,"reputation":1,"user_id":19780962,"display_name":"kartik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660799616,"creation_date":1660718660,"question_id":73383944,"body_markdown":"I want to convert &quot;$122.35&quot;(string) as &quot;$122.35&quot;(currency type) while exporting to excel from java.\r\nfollowing is the code snippet:\r\n\r\n        HSSFDataFormat df = (HSSFDataFormat) wb.createDataFormat();\r\n                                    CellStyle cs = wb.createCellStyle();\r\n                                    HSSFCellStyle ct = (HSSFCellStyle) wb.createCellStyle();\r\n                                    ct.setDataFormat((short) 7);\r\n                                    ct.setAlignment(HorizontalAlignment.RIGHT);\r\n                                    cell.setCellStyle(ct);\r\n                                    cell.setCellValue(viewCell.getValue());\r\n     // in viewCell.getvalue the currency value is stored \r\n                                    System.out.println(&quot;value: &quot;);\r\n                                    continue;\r\n\r\n","title":"How to store string as a currency in excel from java?","body":"<p>I want to convert &quot;$122.35&quot;(string) as &quot;$122.35&quot;(currency type) while exporting to excel from java.\nfollowing is the code snippet:</p>\n<pre><code>    HSSFDataFormat df = (HSSFDataFormat) wb.createDataFormat();\n                                CellStyle cs = wb.createCellStyle();\n                                HSSFCellStyle ct = (HSSFCellStyle) wb.createCellStyle();\n                                ct.setDataFormat((short) 7);\n                                ct.setAlignment(HorizontalAlignment.RIGHT);\n                                cell.setCellStyle(ct);\n                                cell.setCellValue(viewCell.getValue());\n // in viewCell.getvalue the currency value is stored \n                                System.out.println(&quot;value: &quot;);\n                                continue;\n</code></pre>\n"},{"tags":["java","spring","security"],"answers":[{"tags":[],"owner":{"account_id":25967898,"reputation":132,"user_id":19683595,"display_name":"pan-leszeczek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660713718,"creation_date":1660713718,"answer_id":73383231,"question_id":73383015,"body_markdown":"Status 401 means that your credentials were not valid. Your code here:\r\n    \r\n    .antMatchers(&quot;/trip&quot;, &quot;/hotels&quot;)\r\n    .hasAnyAuthority(&quot;ADMIN&quot;)\r\n    \r\nsays that you need to authenticate yourself with user who has &quot;ADMIN&quot; role. Then your endpoint will process the request and send you response. Otherwise you&#39;ll always get 401. Set in postman basic  auth and put your username and password (user with ADMIN role) then it will work","title":"Java / 401 / Unauthorized / GET Method","body":"<p>Status 401 means that your credentials were not valid. Your code here:</p>\n<pre><code>.antMatchers(&quot;/trip&quot;, &quot;/hotels&quot;)\n.hasAnyAuthority(&quot;ADMIN&quot;)\n</code></pre>\n<p>says that you need to authenticate yourself with user who has &quot;ADMIN&quot; role. Then your endpoint will process the request and send you response. Otherwise you'll always get 401. Set in postman basic  auth and put your username and password (user with ADMIN role) then it will work</p>\n"},{"tags":[],"owner":{"account_id":16978228,"reputation":1,"user_id":12280933,"display_name":"Bastian_Wind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660798296,"creation_date":1660798296,"answer_id":73397595,"question_id":73383015,"body_markdown":"@pan-leszeczek\r\n\r\n1. i do not think is from that place, below you will find another part from my code.\r\n\r\n           System.out.println(&quot;Inserting roles in database&quot;);\r\n      Role userRole = new Role();\r\n      userRole.setName(RoleTypes.USER);\r\n      userRole.setDescription(&quot;This role is designed for users&quot;);\r\n\r\n      Role userRole1 = new Role();\r\n      userRole1.setName(RoleTypes.USER);\r\n      userRole1.setDescription(&quot;Duplicate role&quot;);\r\n\r\n      Role adminRole = new Role();\r\n      adminRole.setName(RoleTypes.ADMIN);\r\n      adminRole.setDescription(&quot;This role can add hotels and trips&quot;);\r\n\r\n      User adminUser = new User();\r\n      adminUser.setUsername(&quot;admin&quot;);\r\n      adminUser.setPassword(&quot;admin&quot;);\r\n\r\n      Role adminRoleInDatbase = roleService.findByName(RoleTypes.ADMIN);\r\n      adminUser.setRole(adminRoleInDatbase);\r\n\r\n2. when is use &quot;post&quot; method, in postman, and basic auth with user + pass admin admin, i can insert new hotels in data base, but when i try to use GET method \r\nA) no auth - i receive 401 error\r\nb) basic auth with admin + admin message from postman: could not get response","title":"Java / 401 / Unauthorized / GET Method","body":"<p>@pan-leszeczek</p>\n<ol>\n<li><p>i do not think is from that place, below you will find another part from my code.</p>\n<pre><code>    System.out.println(&quot;Inserting roles in database&quot;);\n</code></pre>\n<p>Role userRole = new Role();\nuserRole.setName(RoleTypes.USER);\nuserRole.setDescription(&quot;This role is designed for users&quot;);</p>\n<p>Role userRole1 = new Role();\nuserRole1.setName(RoleTypes.USER);\nuserRole1.setDescription(&quot;Duplicate role&quot;);</p>\n<p>Role adminRole = new Role();\nadminRole.setName(RoleTypes.ADMIN);\nadminRole.setDescription(&quot;This role can add hotels and trips&quot;);</p>\n<p>User adminUser = new User();\nadminUser.setUsername(&quot;admin&quot;);\nadminUser.setPassword(&quot;admin&quot;);</p>\n<p>Role adminRoleInDatbase = roleService.findByName(RoleTypes.ADMIN);\nadminUser.setRole(adminRoleInDatbase);</p>\n</li>\n<li><p>when is use &quot;post&quot; method, in postman, and basic auth with user + pass admin admin, i can insert new hotels in data base, but when i try to use GET method\nA) no auth - i receive 401 error\nb) basic auth with admin + admin message from postman: could not get response</p>\n</li>\n</ol>\n"}],"owner":{"account_id":16978228,"reputation":1,"user_id":12280933,"display_name":"Bastian_Wind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660798296,"creation_date":1660711971,"question_id":73383015,"body_markdown":"I am trying to test an endpoint with Postman and I receive an error.\r\nI am trying to test a search function that should search for all hotels saved in a database\r\n\r\n1. route: `http://localhost:8080/hotels`\r\n2. error received in postman (as an output):\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-08-17T04:43:07.249+00:00&quot;,\r\n    &quot;status&quot;: 401,\r\n    &quot;error&quot;: &quot;Unauthorized&quot;,\r\n    &quot;path&quot;: &quot;/hotels&quot;\r\n}\r\n```\r\n3. I have to mention that in postman I am using GET HTTP method + authorization: &quot;no auth&quot;\r\n4. if I change authorization in &quot;basic auth&quot; I receive the following message: `could not get a response`\r\n5. Security configuration in my app:\r\n```\r\n    protected void configure(HttpSecurity security) throws Exception {\r\n        security\r\n                .csrf().disable() \r\n                .cors().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/trip&quot;, &quot;/hotels&quot;)\r\n                .hasAnyAuthority(&quot;ADMIN&quot;)\r\n                .and()\r\n                .httpBasic()\r\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n```\r\nIn order to help me I can post other parts from the code, or I can upload the project on Github and put a link here.","title":"Java / 401 / Unauthorized / GET Method","body":"<p>I am trying to test an endpoint with Postman and I receive an error.\nI am trying to test a search function that should search for all hotels saved in a database</p>\n<ol>\n<li>route: <code>http://localhost:8080/hotels</code></li>\n<li>error received in postman (as an output):</li>\n</ol>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-08-17T04:43:07.249+00:00&quot;,\n    &quot;status&quot;: 401,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n    &quot;path&quot;: &quot;/hotels&quot;\n}\n</code></pre>\n<ol start=\"3\">\n<li>I have to mention that in postman I am using GET HTTP method + authorization: &quot;no auth&quot;</li>\n<li>if I change authorization in &quot;basic auth&quot; I receive the following message: <code>could not get a response</code></li>\n<li>Security configuration in my app:</li>\n</ol>\n<pre><code>    protected void configure(HttpSecurity security) throws Exception {\n        security\n                .csrf().disable() \n                .cors().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/trip&quot;, &quot;/hotels&quot;)\n                .hasAnyAuthority(&quot;ADMIN&quot;)\n                .and()\n                .httpBasic()\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n</code></pre>\n<p>In order to help me I can post other parts from the code, or I can upload the project on Github and put a link here.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660797967,"post_id":73397481,"comment_id":129618773,"body_markdown":"The duplink is for the method in `Arrays`, but the root cause is the same.   The [binary search algorithm](https://en.wikipedia.org/wiki/Binary_search_algorithm) only works on sorted arrays / collections.","body":"The duplink is for the method in <code>Arrays</code>, but the root cause is the same.   The <a href=\"https://en.wikipedia.org/wiki/Binary_search_algorithm\" rel=\"nofollow noreferrer\">binary search algorithm</a> only works on sorted arrays / collections."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660797764,"creation_date":1660797764,"answer_id":73397551,"question_id":73397481,"body_markdown":"The list must be sorted into ascending order according to the natural ordering of its elements (as by the sort(List) method) prior to making this call. \r\n\r\nJavadocs are a wonderful thing\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T)","title":"Why is it returning -1 when when I search for 1 with binarySearch method in Collections class in java","body":"<p>The list must be sorted into ascending order according to the natural ordering of its elements (as by the sort(List) method) prior to making this call.</p>\n<p>Javadocs are a wonderful thing</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T)</a></p>\n"},{"tags":[],"owner":{"account_id":9760430,"reputation":11,"user_id":7235705,"display_name":"vaibhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660797771,"creation_date":1660797771,"answer_id":73397552,"question_id":73397481,"body_markdown":"As per binarySearch method , input List **must be sorted according to natural order** otherwise result will be undefined which is happening in your case.\r\n\r\n**Refer:**\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T)\r\n\r\n    Adding Collections.sort(obj) before below line will give the desired output.\r\n\r\n    int bs = Collections.binarySearch(obj,1);\r\n\r\n\r\n**Updated code:**\r\n\r\n     List obj = new ArrayList();\r\n                obj.add(2);\r\n                obj.add(4);\r\n                obj.add(6);\r\n                obj.add(1);\r\n    //Input list must be sorted as below\r\n                **Collections.sort(obj);**\r\n    \r\n                int bs = Collections.binarySearch(obj,1);\r\n                System.out.println(bs);\r\n\r\n\r\n\r\n","title":"Why is it returning -1 when when I search for 1 with binarySearch method in Collections class in java","body":"<p>As per binarySearch method , input List <strong>must be sorted according to natural order</strong> otherwise result will be undefined which is happening in your case.</p>\n<p><strong>Refer:</strong>\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T)</a></p>\n<pre><code>Adding Collections.sort(obj) before below line will give the desired output.\n\nint bs = Collections.binarySearch(obj,1);\n</code></pre>\n<p><strong>Updated code:</strong></p>\n<pre><code> List obj = new ArrayList();\n            obj.add(2);\n            obj.add(4);\n            obj.add(6);\n            obj.add(1);\n//Input list must be sorted as below\n            **Collections.sort(obj);**\n\n            int bs = Collections.binarySearch(obj,1);\n            System.out.println(bs);\n</code></pre>\n"}],"owner":{"account_id":24551416,"reputation":49,"user_id":18460529,"display_name":"LAKSHMI J NAIR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1660797887,"answer_count":2,"score":1,"last_activity_date":1660797771,"creation_date":1660797082,"question_id":73397481,"body_markdown":"See this code:\r\n\r\n    package learningjava;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class Java{\r\n\r\n\t    public static void main(String args[]) {\r\n\r\n\t\t    List obj = new ArrayList();\r\n\t    \tobj.add(2);\r\n\t\t    obj.add(4);\r\n\t\t    obj.add(6);\r\n\t\t    obj.add(1);\r\n\r\n\t\t    int bs = Collections.binarySearch(obj,6);\r\n\t\t    System.out.println(bs);\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nHere I am using binarySearch method in Collections class. I am using it to find the position of 6 in this list. Here it is returning 2 which is correct.\r\n\r\nBut if I try to find the postion of 1 in this list it is returning -1.\r\n\r\n     package LearningJava;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class Java{\r\n\r\n\t    public static void main(String args[]) {\r\n\r\n\t\t    List obj = new ArrayList();\r\n\t    \tobj.add(2);\r\n\t\t    obj.add(4);\r\n\t\t    obj.add(6);\r\n\t\t    obj.add(1);\r\n\r\n\t\t    int bs = Collections.binarySearch(obj,1);\r\n\t\t    System.out.println(bs);\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nThe output is -1.\r\n\r\nWhy is it returning -1 instead of 3. The problem is only with 1.\r\nIf I try to find the position of  other numbers, it is working correctly. \r\n","title":"Why is it returning -1 when when I search for 1 with binarySearch method in Collections class in java","body":"<p>See this code:</p>\n<pre><code>package learningjava;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Java{\n\n    public static void main(String args[]) {\n\n        List obj = new ArrayList();\n        obj.add(2);\n        obj.add(4);\n        obj.add(6);\n        obj.add(1);\n\n        int bs = Collections.binarySearch(obj,6);\n        System.out.println(bs);\n    \n    }\n}\n</code></pre>\n<p>Here I am using binarySearch method in Collections class. I am using it to find the position of 6 in this list. Here it is returning 2 which is correct.</p>\n<p>But if I try to find the postion of 1 in this list it is returning -1.</p>\n<pre><code> package LearningJava;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Java{\n\n    public static void main(String args[]) {\n\n        List obj = new ArrayList();\n        obj.add(2);\n        obj.add(4);\n        obj.add(6);\n        obj.add(1);\n\n        int bs = Collections.binarySearch(obj,1);\n        System.out.println(bs);\n    \n    }\n}\n</code></pre>\n<p>The output is -1.</p>\n<p>Why is it returning -1 instead of 3. The problem is only with 1.\nIf I try to find the position of  other numbers, it is working correctly.</p>\n"},{"tags":["java","dependency-injection","instance","autowired","final"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1660758762,"post_id":73392717,"comment_id":129610700,"body_markdown":"What framework are you using for dependency injection?","body":"What framework are you using for dependency injection?"},{"owner":{"account_id":8101174,"reputation":1,"user_id":6104150,"display_name":"Akshit Sethi"},"score":0,"creation_date":1660759051,"post_id":73392717,"comment_id":129610793,"body_markdown":"@bhspencer Spring Boot","body":"@bhspencer Spring Boot"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1660759446,"post_id":73392717,"comment_id":129610948,"body_markdown":"Most injected objects in Spring Boot are single instances. Java keywords won&#39;t imply injection, but, anyway, you should post your code and explain where you see that behavior.","body":"Most injected objects in Spring Boot are single instances. Java keywords won&#39;t imply injection, but, anyway, you should post your code and explain where you see that behavior."},{"owner":{"account_id":8101174,"reputation":1,"user_id":6104150,"display_name":"Akshit Sethi"},"score":0,"creation_date":1660760874,"post_id":73392717,"comment_id":129611385,"body_markdown":"@PeterMmm I have added code. See if it makes sense now","body":"@PeterMmm I have added code. See if it makes sense now"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1660760966,"post_id":73392717,"comment_id":129611420,"body_markdown":"All final means is that the value/reference held cannot change. Beans by default are singleton scoped meaning that if you request it again and again, you get the same instance.","body":"All final means is that the value/reference held cannot change. Beans by default are singleton scoped meaning that if you request it again and again, you get the same instance."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1660761056,"post_id":73392717,"comment_id":129611455,"body_markdown":"You might be able to get away with it if you set the [scope](https://www.baeldung.com/spring-bean-scopes) to request, but typically spring boot services are singletons that get reused across requests, sessions, etc. and they should be stateless. Holding state in instance variables will cause bugs.","body":"You might be able to get away with it if you set the <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">scope</a> to request, but typically spring boot services are singletons that get reused across requests, sessions, etc. and they should be stateless. Holding state in instance variables will cause bugs."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1661272534,"post_id":73392717,"comment_id":129730843,"body_markdown":"Nit pick.    Your DI is not spring-boot.  It is spring-beans. Spring boot &quot;brings in&quot; : org.springframework:spring-beans. For example (at the time of writing this) ..        Spring Boot 2.7.2 brings in : org.springframework:spring-beans:5.3.22","body":"Nit pick.    Your DI is not spring-boot.  It is spring-beans. Spring boot &quot;brings in&quot; : org.springframework:spring-beans. For example (at the time of writing this) ..        Spring Boot 2.7.2 brings in : org.springframework:spring-beans:5.3.22"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1661272742,"post_id":73392717,"comment_id":129730917,"body_markdown":"You may want to look at the discussion about spring bean &quot;scopes&quot; : https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html or newer : https://docs.spring.io/spring-framework/docs/6.0.x/reference/html/core.html#beans-factory-scopes","body":"You may want to look at the discussion about spring bean &quot;scopes&quot; : <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html&zwnj;&#8203;/&hellip;</a> or newer : <a href=\"https://docs.spring.io/spring-framework/docs/6.0.x/reference/html/core.html#beans-factory-scopes\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/6.0.x/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660763918,"creation_date":1660763918,"answer_id":73393871,"question_id":73392717,"body_markdown":"Very bad idea to to have state in your `Service`. A simple solution is to pass the `originalDetails` as parameter and keep the state of the object in the scope of 1 method call instead of object wide:\r\n\r\n    public class Service {\r\n    \r\n        public List&lt;Restriction&gt; checkRestriction(A a, B b){\r\n            TeamResponseDto originalDetails = DBCall();\r\n            Restriction r1 = method1(originalDetails);\r\n            Restriction r2 = method2(originalDetails);\r\n            List&lt;Restriction&gt; list = new ArrayList();\r\n            list.add(r1);list.add(r2);\r\n            return list;\r\n        }\r\n\r\n        private Restriction method1(TeamResponseDto originalDetails){\r\n            if(something){\r\n                return new Restriction();\r\n            }\r\n            return new Restriction(originalDetails);\r\n        }\r\n\r\n        private Restriction method2(TeamResponseDto originalDetails){\r\n            return new Restriction(originalDetails);\r\n        }\r\n    }\r\n\r\n","title":"JAVA - Is it possible to have Instance variable in a non-static class which is injected at multiple places?","body":"<p>Very bad idea to to have state in your <code>Service</code>. A simple solution is to pass the <code>originalDetails</code> as parameter and keep the state of the object in the scope of 1 method call instead of object wide:</p>\n<pre><code>public class Service {\n\n    public List&lt;Restriction&gt; checkRestriction(A a, B b){\n        TeamResponseDto originalDetails = DBCall();\n        Restriction r1 = method1(originalDetails);\n        Restriction r2 = method2(originalDetails);\n        List&lt;Restriction&gt; list = new ArrayList();\n        list.add(r1);list.add(r2);\n        return list;\n    }\n\n    private Restriction method1(TeamResponseDto originalDetails){\n        if(something){\n            return new Restriction();\n        }\n        return new Restriction(originalDetails);\n    }\n\n    private Restriction method2(TeamResponseDto originalDetails){\n        return new Restriction(originalDetails);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8101174,"reputation":1,"user_id":6104150,"display_name":"Akshit Sethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660797574,"creation_date":1660797574,"answer_id":73397536,"question_id":73392717,"body_markdown":"As an alternate, for now, I have created an empty list in the parent method and passed it as a parameter in the child methods. \r\nInside the methods, check if the list is empty, fetch the data and populate the list, else, use the value.\r\n","title":"JAVA - Is it possible to have Instance variable in a non-static class which is injected at multiple places?","body":"<p>As an alternate, for now, I have created an empty list in the parent method and passed it as a parameter in the child methods.\nInside the methods, check if the list is empty, fetch the data and populate the list, else, use the value.</p>\n"}],"owner":{"account_id":8101174,"reputation":1,"user_id":6104150,"display_name":"Akshit Sethi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660797574,"creation_date":1660757659,"question_id":73392717,"body_markdown":"I have a **non-final** instance variable in my service. \r\n(I have used an instance variable because it is populated in different cases in a single method flow and I don&#39;t want to populate it again and again by making it a local variable because it uses a DB call to fetch the value).\r\n\r\nNow, this service is injected using `private final` keywords in my constructor.\r\nI observed that this variable stores its value in subsequent API calls. \r\n\r\nIs this because the service is injected using the `final` keyword?\r\nAnd \r\n 1. What is the solution? Will using the `private` keyword only resolve the issue? \r\n 2. why use `final` at all while injecting a dependency?\r\n 3. If using only private keyword will not resolve this issue, How else should I reuse this variable(immutable) across methods used in a single flow? Since it passes by value, initialising it to null in the parent method and then checking it at every instance didn&#39;t work. One solution is to create a singleton list but is there a better solution?\r\n\r\n\r\nCode\r\nConstructor:\r\n```\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Constructor {\r\n\r\n\tprivate final Service service;\r\n\r\n\tpublic List&lt;Restriction&gt; checkRestrictions(A a, B b) {\r\n\t\treturn service.checkRestriction(a, b);\r\n\t}\r\n```\r\nService:\r\n```\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class Service {\r\n\r\n\tprivate TeamResponseDto originalDetails = null;\r\n\r\n    public List&lt;restriction&gt; checkRestriction(A a, B b){\r\n        Restriction r1 = method1();\r\n        Restriction r2 = method2();\r\n        List&lt;Restriction&gt; list = new ArrayList();\r\n        list.add(r1);list.add(r2);\r\n        return list;\r\n    }\r\n    private Restriction method1(){\r\n        if(something){\r\n        return new Restriction();\r\n        }\r\n        originalDetails = dbCall();\r\n        return new Restriction(originalDetails);\r\n    }\r\n    private Restriction method2(){\r\n        originalDetails = originalDetails == null ? DBCall() : originalDetails;\r\n        return new Restriction(originalDetails);\r\n    }\r\n}\r\n\r\n```\r\nTo avoid DB Call in method2, I wrote the above structure. \r\nFirst time, it works fine.\r\nSecond time i.e. fresh thread via a new API call, originalDetails still reflect what it fetched from DB, the first time. ","title":"JAVA - Is it possible to have Instance variable in a non-static class which is injected at multiple places?","body":"<p>I have a <strong>non-final</strong> instance variable in my service.\n(I have used an instance variable because it is populated in different cases in a single method flow and I don't want to populate it again and again by making it a local variable because it uses a DB call to fetch the value).</p>\n<p>Now, this service is injected using <code>private final</code> keywords in my constructor.\nI observed that this variable stores its value in subsequent API calls.</p>\n<p>Is this because the service is injected using the <code>final</code> keyword?\nAnd</p>\n<ol>\n<li>What is the solution? Will using the <code>private</code> keyword only resolve the issue?</li>\n<li>why use <code>final</code> at all while injecting a dependency?</li>\n<li>If using only private keyword will not resolve this issue, How else should I reuse this variable(immutable) across methods used in a single flow? Since it passes by value, initialising it to null in the parent method and then checking it at every instance didn't work. One solution is to create a singleton list but is there a better solution?</li>\n</ol>\n<p>Code\nConstructor:</p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class Constructor {\n\n    private final Service service;\n\n    public List&lt;Restriction&gt; checkRestrictions(A a, B b) {\n        return service.checkRestriction(a, b);\n    }\n</code></pre>\n<p>Service:</p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class Service {\n\n    private TeamResponseDto originalDetails = null;\n\n    public List&lt;restriction&gt; checkRestriction(A a, B b){\n        Restriction r1 = method1();\n        Restriction r2 = method2();\n        List&lt;Restriction&gt; list = new ArrayList();\n        list.add(r1);list.add(r2);\n        return list;\n    }\n    private Restriction method1(){\n        if(something){\n        return new Restriction();\n        }\n        originalDetails = dbCall();\n        return new Restriction(originalDetails);\n    }\n    private Restriction method2(){\n        originalDetails = originalDetails == null ? DBCall() : originalDetails;\n        return new Restriction(originalDetails);\n    }\n}\n\n</code></pre>\n<p>To avoid DB Call in method2, I wrote the above structure.\nFirst time, it works fine.\nSecond time i.e. fresh thread via a new API call, originalDetails still reflect what it fetched from DB, the first time.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":3251622,"reputation":11214,"user_id":2741705,"display_name":"Pham Trung"},"score":0,"creation_date":1409822715,"post_id":25661519,"comment_id":40100909,"body_markdown":"hmm, I believe what they means is K is 5 or 7 or 20?","body":"hmm, I believe what they means is K is 5 or 7 or 20?"},{"owner":{"account_id":3106420,"reputation":4661,"user_id":2629095,"accept_rate":75,"display_name":"nevets"},"score":0,"creation_date":1409838286,"post_id":25661519,"comment_id":40110323,"body_markdown":"can you post the original source of the problem? the statement really confused me.","body":"can you post the original source of the problem? the statement really confused me."}],"answers":[{"tags":[],"owner":{"account_id":4943252,"reputation":1352,"user_id":3979405,"display_name":"Assaf"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1409835452,"creation_date":1409831716,"answer_id":25664832,"question_id":25661519,"body_markdown":"If I understood the question correctly I believe this is the solution:\r\n\r\n    public static int solution(int A, int B, int K) {\r\n        int count = 0;\r\n        if(K == 0) {\r\n            return (-1);\r\n        }\r\n        if(K &gt; B) {\r\n            return 0;\r\n        }\r\n        for(int i = A; i &lt;= B; ++i) {\r\n            if((i % K) == 0) {\r\n                ++count;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\nreturning -1 is due to an illegal operation (division by zero)","title":"Find the number of multiples for a number in range","body":"<p>If I understood the question correctly I believe this is the solution:</p>\n\n<pre><code>public static int solution(int A, int B, int K) {\n    int count = 0;\n    if(K == 0) {\n        return (-1);\n    }\n    if(K &gt; B) {\n        return 0;\n    }\n    for(int i = A; i &lt;= B; ++i) {\n        if((i % K) == 0) {\n            ++count;\n        }\n    }\n    return count;\n}\n</code></pre>\n\n<p>returning -1 is due to an illegal operation (division by zero)</p>\n"},{"tags":[],"owner":{"account_id":4841773,"reputation":33,"user_id":3906612,"display_name":"user3906612"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409834149,"creation_date":1409834149,"answer_id":25665714,"question_id":25661519,"body_markdown":"I&#39;m not sure what are you trying to do in your code, but simpler way would be to use modulo operator (%).\r\n\r\n    public int solution(int A, int B, int K) \r\n    {\r\n        int noOfDivisors = 0;\r\n        if(B &lt; A || K == 0 || K &gt; B )\r\n            return 0;\r\n        for(int i = A; i &lt;= B; i++) \r\n        {\r\n            if((i % K) == 0) \r\n            {\r\n                noOfDivisors++;\r\n            }\r\n        }\r\n        return noOfDivisors;\r\n    }","title":"Find the number of multiples for a number in range","body":"<p>I'm not sure what are you trying to do in your code, but simpler way would be to use modulo operator (%).</p>\n\n<pre><code>public int solution(int A, int B, int K) \n{\n    int noOfDivisors = 0;\n    if(B &lt; A || K == 0 || K &gt; B )\n        return 0;\n    for(int i = A; i &lt;= B; i++) \n    {\n        if((i % K) == 0) \n        {\n            noOfDivisors++;\n        }\n    }\n    return noOfDivisors;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3251622,"reputation":11214,"user_id":2741705,"display_name":"Pham Trung"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1520113660,"creation_date":1409839814,"answer_id":25667680,"question_id":25661519,"body_markdown":"This is the O(1) solution, which passed the [test](https://codility.com/demo/results/demoUZWU5P-BGR/) \r\n\r\n    int solution(int A, int B, int K) {\r\n        int b = B/K;\r\n        int a = (A &gt; 0 ? (A - 1)/K: 0);\r\n        if(A == 0){\r\n            b++;\r\n        }\r\n        return b - a;\r\n    }\r\n\r\nExplanation: Number of integer in the range `[1 .. X]` that divisible by `K` is `X/K`. So, within the range `[A .. B]`, the result is `B/K - (A - 1)/K` \r\n\r\nIn case A is 0, as 0 is divisible by any positive number, we need to count it in.\r\n","title":"Find the number of multiples for a number in range","body":"<p>This is the O(1) solution, which passed the <a href=\"https://codility.com/demo/results/demoUZWU5P-BGR/\" rel=\"noreferrer\">test</a> </p>\n\n<pre><code>int solution(int A, int B, int K) {\n    int b = B/K;\n    int a = (A &gt; 0 ? (A - 1)/K: 0);\n    if(A == 0){\n        b++;\n    }\n    return b - a;\n}\n</code></pre>\n\n<p>Explanation: Number of integer in the range <code>[1 .. X]</code> that divisible by <code>K</code> is <code>X/K</code>. So, within the range <code>[A .. B]</code>, the result is <code>B/K - (A - 1)/K</code> </p>\n\n<p>In case A is 0, as 0 is divisible by any positive number, we need to count it in.</p>\n"},{"tags":[],"owner":{"account_id":2902366,"reputation":124,"user_id":2488705,"accept_rate":20,"display_name":"HelpVampire666"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1422435187,"creation_date":1410788172,"answer_id":25849387,"question_id":25661519,"body_markdown":"    return A==B  ? (A%K==0 ? 1:0) : 1+((B-A)/K)*K /K; \r\n\r\nWell it is a completely illegible oneliner but i posted it just because i can ;-)\r\n\r\ncomplete java code here:\r\n\r\n    package countDiv;\r\n    \r\n    public class Solution {\r\n    \r\n    \t/**\r\n    \t * First observe that\r\n    \t * &lt;li&gt; the amount of numbers n in [A..B] that are divisible by K  is the same as the amount of numbers n between [0..B-A]\r\n    \t *      they are not the same numbes of course, but the question is a range question.\r\n    \t *      Now because we have as a starting point the zero, it saves a lot of code.\r\n    \t * &lt;li&gt; For that matter, also A=-1000 and B=-100 would work\r\n    \t * \r\n    \t * &lt;li&gt; Next, consider the corner cases.\r\n    \t *      The case where A==B is a special one: \r\n    \t *      there is just one number inside and it either is divisible by K or not, so return a 1 or a 0. \r\n    \t * &lt;li&gt; if K==1 then the result is all the numbers between and including the borders.          \r\n    \t * &lt;p/&gt;\r\n    \t * So the algorithm simplifies to\r\n    \t * &lt;pre&gt;\r\n    \t * int D = B-A; //11-5=6\r\n    \t * if(D==0) return B%K==0 ? 1:0;\r\n    \t * int last = (D/K)*K; //6\r\n    \t * int parts = last/K; //3\r\n    \t * return 1+parts;//+1 because the left part (the 0) is always divisible by any K&gt;=1.\r\n    \t * &lt;/pre&gt;\r\n    \t * \r\n    \t * @param A : A&gt;=1\r\n    \t * @param B : 1&lt;=A&lt;=B&lt;=2000000000\r\n    \t * @param K : K&gt;=1\t\r\n    \t */\r\n    \tprivate static int countDiv(int A, int B, int K) {\t\t\r\n    \t\treturn A==B  ? A%K==0 ? 1:0 : 1+((B-A)/K)*K /K; \r\n    \t}\t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t{\r\n    \t\t\tint a=10;  int b=10; int k=5; int result=1;\r\n    \t\t\tSystem.out.println( a + &quot;...&quot; + b + &quot;/&quot; + k + &quot; = &quot; +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? &quot; WRONG&quot; :&quot; (OK)&quot; ));\r\n    \t\t}\r\n    \t\t\r\n    \t\t{\r\n    \t\t\tint a=10;  int b=10; int k=7; int result=0;\r\n    \t\t\tSystem.out.println( a + &quot;...&quot; + b + &quot;/&quot; + k + &quot; = &quot; +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? &quot; WRONG&quot; :&quot; (OK)&quot; ));\r\n    \t\t}\r\n    \t\t\r\n    \t\t{\r\n    \t\t\tint a=6;  int b=11; int k=2; int result=3;\r\n    \t\t\tSystem.out.println( a + &quot;...&quot; + b + &quot;/&quot; + k + &quot; = &quot; +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? &quot; WRONG&quot; :&quot; (OK)&quot; ));\r\n    \t\t}\r\n    \t\t\r\n    \t\t{\r\n    \t\t\tint a=6;  int b=2000000000; int k=1; int result=b-a+1;\r\n    \t\t\tSystem.out.println( a + &quot;...&quot; + b + &quot;/&quot; + k + &quot; = &quot; +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? &quot; WRONG&quot; :&quot; (OK)&quot; ));\r\n    \t\t}\r\n    \t}\r\n    }//~countDiv","title":"Find the number of multiples for a number in range","body":"<pre><code>return A==B  ? (A%K==0 ? 1:0) : 1+((B-A)/K)*K /K; \n</code></pre>\n\n<p>Well it is a completely illegible oneliner but i posted it just because i can ;-)</p>\n\n<p>complete java code here:</p>\n\n<pre><code>package countDiv;\n\npublic class Solution {\n\n    /**\n     * First observe that\n     * &lt;li&gt; the amount of numbers n in [A..B] that are divisible by K  is the same as the amount of numbers n between [0..B-A]\n     *      they are not the same numbes of course, but the question is a range question.\n     *      Now because we have as a starting point the zero, it saves a lot of code.\n     * &lt;li&gt; For that matter, also A=-1000 and B=-100 would work\n     * \n     * &lt;li&gt; Next, consider the corner cases.\n     *      The case where A==B is a special one: \n     *      there is just one number inside and it either is divisible by K or not, so return a 1 or a 0. \n     * &lt;li&gt; if K==1 then the result is all the numbers between and including the borders.          \n     * &lt;p/&gt;\n     * So the algorithm simplifies to\n     * &lt;pre&gt;\n     * int D = B-A; //11-5=6\n     * if(D==0) return B%K==0 ? 1:0;\n     * int last = (D/K)*K; //6\n     * int parts = last/K; //3\n     * return 1+parts;//+1 because the left part (the 0) is always divisible by any K&gt;=1.\n     * &lt;/pre&gt;\n     * \n     * @param A : A&gt;=1\n     * @param B : 1&lt;=A&lt;=B&lt;=2000000000\n     * @param K : K&gt;=1  \n     */\n    private static int countDiv(int A, int B, int K) {      \n        return A==B  ? A%K==0 ? 1:0 : 1+((B-A)/K)*K /K; \n    }   \n\n    public static void main(String[] args) {\n        {\n            int a=10;  int b=10; int k=5; int result=1;\n            System.out.println( a + \"...\" + b + \"/\" + k + \" = \" +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? \" WRONG\" :\" (OK)\" ));\n        }\n\n        {\n            int a=10;  int b=10; int k=7; int result=0;\n            System.out.println( a + \"...\" + b + \"/\" + k + \" = \" +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? \" WRONG\" :\" (OK)\" ));\n        }\n\n        {\n            int a=6;  int b=11; int k=2; int result=3;\n            System.out.println( a + \"...\" + b + \"/\" + k + \" = \" +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? \" WRONG\" :\" (OK)\" ));\n        }\n\n        {\n            int a=6;  int b=2000000000; int k=1; int result=b-a+1;\n            System.out.println( a + \"...\" + b + \"/\" + k + \" = \" +  countDiv(a,b,k)  + (result!=countDiv(a,b,k) ? \" WRONG\" :\" (OK)\" ));\n        }\n    }\n}//~countDiv\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1509513,"reputation":37,"user_id":1411983,"display_name":"Abdullah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422434247,"creation_date":1422433019,"answer_id":28187517,"question_id":25661519,"body_markdown":"    int solution(int A, int B, int K) {\r\n        int tmp=(A%K==0?1:0);\r\n        int x1=A/K-tmp ;\r\n        int x2=B/K;\r\n        return x2-x1;\r\n    }","title":"Find the number of multiples for a number in range","body":"<pre><code>int solution(int A, int B, int K) {\n    int tmp=(A%K==0?1:0);\n    int x1=A/K-tmp ;\n    int x2=B/K;\n    return x2-x1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6486739,"reputation":9,"user_id":5022078,"display_name":"Ganapathy Subramanian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1434592974,"creation_date":1434591521,"answer_id":30905141,"question_id":25661519,"body_markdown":"Another O(1) solution which got 100% in the test.\r\n\r\n\tint solution(int A, int B, int K) {\r\n\t\tif (A%K)   \r\n\t\t\tA = A+ (K-A%K);\r\n\t\r\n\t\tif (A&gt;B)\r\n\t\t\treturn 0;\r\n\t\t\t\r\n\t\treturn (B-A)/K+1;\r\n\t}","title":"Find the number of multiples for a number in range","body":"<p>Another O(1) solution which got 100% in the test.</p>\n\n<pre><code>int solution(int A, int B, int K) {\n    if (A%K)   \n        A = A+ (K-A%K);\n\n    if (A&gt;B)\n        return 0;\n\n    return (B-A)/K+1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421111,"reputation":1410,"user_id":799162,"display_name":"moxi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1437924807,"creation_date":1437924807,"answer_id":31638760,"question_id":25661519,"body_markdown":"Java solution with O(1) and 100% in codility, adding some test cases with solutions for those who want to try and not see others solutions:\r\n\r\n\r\n\r\n      // Test cases\r\n      //  [1,1,1] = 1\r\n      // [0,99,2] = 50\r\n      // [0, 100, 3] = 34  \r\n      // [11,345,17] = 20\r\n      // [10,10,5] = 1\r\n      // [3, 6, 2] = 2\r\n      // [6,11,2] = 3  \r\n      // [16,29,7] = 2\r\n      // [1,2,1] = 2    \r\n    public int solution(int A, int B, int K) {\r\n       int offsetForLeftRange = 0;\r\n       if ( A % K == 0) { ++offsetForLeftRange; }\r\n              \r\n       return  (B/K) - (A /K) + offsetForLeftRange;\r\n    }","title":"Find the number of multiples for a number in range","body":"<p>Java solution with O(1) and 100% in codility, adding some test cases with solutions for those who want to try and not see others solutions:</p>\n\n<pre><code>  // Test cases\n  //  [1,1,1] = 1\n  // [0,99,2] = 50\n  // [0, 100, 3] = 34  \n  // [11,345,17] = 20\n  // [10,10,5] = 1\n  // [3, 6, 2] = 2\n  // [6,11,2] = 3  \n  // [16,29,7] = 2\n  // [1,2,1] = 2    \npublic int solution(int A, int B, int K) {\n   int offsetForLeftRange = 0;\n   if ( A % K == 0) { ++offsetForLeftRange; }\n\n   return  (B/K) - (A /K) + offsetForLeftRange;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155243,"reputation":1467,"user_id":2667792,"accept_rate":78,"display_name":"max3d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438608023,"creation_date":1438608023,"answer_id":31788439,"question_id":25661519,"body_markdown":"100/100 - another variation of the solution, based on Pham Trung&#39;s idea\r\n\r\n    class Solution {\r\n        public int solution(int A, int B, int K) {\r\n             int numOfDivs = A &gt; 0 ? (B / K - ((A - 1) / K)) : ((B / K) + 1);\r\n             return numOfDivs;\r\n        }\r\n    }","title":"Find the number of multiples for a number in range","body":"<p>100/100 - another variation of the solution, based on Pham Trung's idea</p>\n\n<pre><code>class Solution {\n    public int solution(int A, int B, int K) {\n         int numOfDivs = A &gt; 0 ? (B / K - ((A - 1) / K)) : ((B / K) + 1);\n         return numOfDivs;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6822268,"reputation":1235,"user_id":5249058,"accept_rate":67,"display_name":"Jzou"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1445130858,"creation_date":1445129711,"answer_id":33193216,"question_id":25661519,"body_markdown":"    class Solution {\r\n        public int solution(int A, int B, int K) {\r\n            int a = A/K, b = B/K;\r\n            if (A/K == 0)\r\n                b++;\r\n            return b - a;\r\n        }\r\n    }\r\n\r\nThis passes the [test][1].\r\n\r\nIt&#39;s similar to &quot;*how many numbers from 2 to 5*&quot;. We all know it&#39;s `(5 - 2 + 1)`. The reason we add `1` at the end is that the first number `2` counts.\r\n\r\nAfter `A/K, B/K`, this problem becomes the same one above. Here we need to decide if `A` counts in this problem. Only if `A%K == 0`, it counts then we need to add `1` to the result `b - a` (the same with `b+1`).\r\n\r\n\r\n  [1]: https://codility.com/demo/results/trainingB4GZB6-ZVU/","title":"Find the number of multiples for a number in range","body":"<pre><code>class Solution {\n    public int solution(int A, int B, int K) {\n        int a = A/K, b = B/K;\n        if (A/K == 0)\n            b++;\n        return b - a;\n    }\n}\n</code></pre>\n\n<p>This passes the <a href=\"https://codility.com/demo/results/trainingB4GZB6-ZVU/\" rel=\"nofollow\">test</a>.</p>\n\n<p>It's similar to \"<em>how many numbers from 2 to 5</em>\". We all know it's <code>(5 - 2 + 1)</code>. The reason we add <code>1</code> at the end is that the first number <code>2</code> counts.</p>\n\n<p>After <code>A/K, B/K</code>, this problem becomes the same one above. Here we need to decide if <code>A</code> counts in this problem. Only if <code>A%K == 0</code>, it counts then we need to add <code>1</code> to the result <code>b - a</code> (the same with <code>b+1</code>).</p>\n"},{"tags":[],"owner":{"account_id":7280158,"reputation":23,"user_id":5550207,"display_name":"Caesar Avgvstvs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447238195,"creation_date":1447238195,"answer_id":33648759,"question_id":25661519,"body_markdown":"This is my 100/100 solution:\r\n\r\nhttps://codility.com/demo/results/trainingRQDSFJ-CMR/\r\n\r\n    class Solution {\r\n        public int solution(int A, int B, int K) {\r\n            return (B==0) ? 1 : B/K + ( (A==0) ? 1 : (-1)*(A-1)/K);\r\n        }\r\n    }\r\n\r\nKey aspects of this solution:\r\n\r\n 1. If A=1, then the number of divisors are found in B/K.\r\n 2. If A=0, then the number of divisors are found in B/K plus 1.\r\n 3. If B=0, then there is just one i%K=0, i.e. zero itself.","title":"Find the number of multiples for a number in range","body":"<p>This is my 100/100 solution:</p>\n\n<p><a href=\"https://codility.com/demo/results/trainingRQDSFJ-CMR/\" rel=\"nofollow\">https://codility.com/demo/results/trainingRQDSFJ-CMR/</a></p>\n\n<pre><code>class Solution {\n    public int solution(int A, int B, int K) {\n        return (B==0) ? 1 : B/K + ( (A==0) ? 1 : (-1)*(A-1)/K);\n    }\n}\n</code></pre>\n\n<p>Key aspects of this solution:</p>\n\n<ol>\n<li>If A=1, then the number of divisors are found in B/K.</li>\n<li>If A=0, then the number of divisors are found in B/K plus 1.</li>\n<li>If B=0, then there is just one i%K=0, i.e. zero itself.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2101140,"reputation":179,"user_id":1868728,"display_name":"cheshy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1549083221,"creation_date":1452203489,"answer_id":34665822,"question_id":25661519,"body_markdown":"The way to solve this problem is by Prefix Sums as this is part of that section in Codility.\r\n\r\nhttps://codility.com/programmers/lessons/3/\r\n\r\nhttps://codility.com/media/train/3-PrefixSums.pdf\r\n\r\nUsing this technique one can subtract the count of integers between 0 and A that are divisible by K (A/K+1) from the the count of integers between 0 and B that are divisible by K (B/K+1).\r\n\r\nRemember that A is inclusive so if it is divisible then include that as part of the result.\r\n\r\nBelow is my solution:\r\n\r\n    class Solution {\r\n    public int solution(int A, int B, int K) {\r\n            int b = (B/K) + 1;  // From 0 to B the integers divisible by K\r\n            int a = (A/K) + 1;  // From 0 to A the integers divisible by K\r\n    \r\n            if (A%K == 0) { // &quot;A&quot; is inclusive; if divisible by K then\r\n                --a;        //   remove 1 from &quot;a&quot;\r\n            }\r\n            return b-a;     // return integers in range\r\n        }\r\n    }\r\n\r\n","title":"Find the number of multiples for a number in range","body":"<p>The way to solve this problem is by Prefix Sums as this is part of that section in Codility.</p>\n\n<p><a href=\"https://codility.com/programmers/lessons/3/\" rel=\"nofollow noreferrer\">https://codility.com/programmers/lessons/3/</a></p>\n\n<p><a href=\"https://codility.com/media/train/3-PrefixSums.pdf\" rel=\"nofollow noreferrer\">https://codility.com/media/train/3-PrefixSums.pdf</a></p>\n\n<p>Using this technique one can subtract the count of integers between 0 and A that are divisible by K (A/K+1) from the the count of integers between 0 and B that are divisible by K (B/K+1).</p>\n\n<p>Remember that A is inclusive so if it is divisible then include that as part of the result.</p>\n\n<p>Below is my solution:</p>\n\n<pre><code>class Solution {\npublic int solution(int A, int B, int K) {\n        int b = (B/K) + 1;  // From 0 to B the integers divisible by K\n        int a = (A/K) + 1;  // From 0 to A the integers divisible by K\n\n        if (A%K == 0) { // \"A\" is inclusive; if divisible by K then\n            --a;        //   remove 1 from \"a\"\n        }\n        return b-a;     // return integers in range\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6839185,"reputation":31,"user_id":5260124,"display_name":"Allen Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496252550,"creation_date":1496252550,"answer_id":44291423,"question_id":25661519,"body_markdown":"Here&#39;s my solution, two lines of Java code.\r\n\r\n    public int solution(int A, int B, int K) {\r\n        int a = (A == 0) ? -1 : (A - 1) / K;\r\n        return B / K - a;\r\n    }\r\n\r\nThe thought is simple.  \r\na refers to how many numbers are divisible in [1..A-1]  \r\nB / K refers to how many numbers are divisible in [1..B]  \r\n0 is divisible by any integer so if A is 0, you should add one to the answer.","title":"Find the number of multiples for a number in range","body":"<p>Here's my solution, two lines of Java code.</p>\n\n<pre><code>public int solution(int A, int B, int K) {\n    int a = (A == 0) ? -1 : (A - 1) / K;\n    return B / K - a;\n}\n</code></pre>\n\n<p>The thought is simple.<br>\na refers to how many numbers are divisible in [1..A-1]<br>\nB / K refers to how many numbers are divisible in [1..B]<br>\n0 is divisible by any integer so if A is 0, you should add one to the answer.</p>\n"},{"tags":[],"owner":{"account_id":2801224,"reputation":77,"user_id":2409435,"accept_rate":0,"display_name":"Grayowl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510754149,"creation_date":1510754149,"answer_id":47309291,"question_id":25661519,"body_markdown":"    int solution(int A, int B, int K)\r\n    {\r\n    \t// write your code in C++14 (g++ 6.2.0)\r\n    \tint counter = 0;\r\n    \r\n    \tif (A == B)\r\n    \t\tA % K == 0 ? counter++ : 0;\r\n    \telse\r\n    \t{\r\n    \t\tcounter = (B - A) / K;\r\n    \r\n    \t\tif (A % K == 0) counter++;\r\n    \t\telse if (B % K == 0) counter++;\r\n    \t\telse if ((counter*K + K) &gt; A &amp;&amp; (counter*K + K) &lt; B) counter++;\r\n    \t}\r\n    \r\n    \treturn counter;\r\n    }","title":"Find the number of multiples for a number in range","body":"<pre><code>int solution(int A, int B, int K)\n{\n    // write your code in C++14 (g++ 6.2.0)\n    int counter = 0;\n\n    if (A == B)\n        A % K == 0 ? counter++ : 0;\n    else\n    {\n        counter = (B - A) / K;\n\n        if (A % K == 0) counter++;\n        else if (B % K == 0) counter++;\n        else if ((counter*K + K) &gt; A &amp;&amp; (counter*K + K) &lt; B) counter++;\n    }\n\n    return counter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12702442,"reputation":11,"user_id":9228767,"display_name":"Mario_1412"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516352752,"creation_date":1516352752,"answer_id":48337479,"question_id":25661519,"body_markdown":"This is my 100/100 solution:\r\n\r\n    public int solution1(int A, int B, int K) {\r\n        return A == 0 ? B / K - A / K + 1 : (B) / K - (A - 1) / K;\r\n    }\r\n0 is divisible by any integer so if A is 0, you should add one to the answer.","title":"Find the number of multiples for a number in range","body":"<p>This is my 100/100 solution:</p>\n\n<pre><code>public int solution1(int A, int B, int K) {\n    return A == 0 ? B / K - A / K + 1 : (B) / K - (A - 1) / K;\n}\n</code></pre>\n\n<p>0 is divisible by any integer so if A is 0, you should add one to the answer.</p>\n"},{"tags":[],"owner":{"account_id":5938539,"reputation":266,"user_id":9160237,"display_name":"adrianekafikri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517454905,"creation_date":1517454905,"answer_id":48554766,"question_id":25661519,"body_markdown":"Here is my solution and got 100%    \r\n\r\n    public int solution(int A, int B, int K) {\r\n\t\tint count = B/K - A/K;\r\n\t\tif(A%K == 0) {\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n    }\r\n\r\n1. B/K will give you the total numbers divisible by K [1..B]\r\n2. A/K will give you the total numbers divisible by K [1..A] \r\n3. then subtract, this will give you the total numbers divisible by K [A..B]\r\n4. check A%K == 0, if true, then + 1 to the count","title":"Find the number of multiples for a number in range","body":"<p>Here is my solution and got 100%    </p>\n\n<pre><code>public int solution(int A, int B, int K) {\n    int count = B/K - A/K;\n    if(A%K == 0) {\n        count++;\n    }\n    return count;\n}\n</code></pre>\n\n<ol>\n<li>B/K will give you the total numbers divisible by K [1..B]</li>\n<li>A/K will give you the total numbers divisible by K [1..A] </li>\n<li>then subtract, this will give you the total numbers divisible by K [A..B]</li>\n<li>check A%K == 0, if true, then + 1 to the count</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":539735,"reputation":9276,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520437940,"creation_date":1520437940,"answer_id":49156085,"question_id":25661519,"body_markdown":"This is the O(1) solution, ( There is no check required for the divisility of `a`)\r\n\r\n    public static int countDiv(int a, int b, int k) {\r\n    \t\tdouble l1 = (double)a / k;\r\n    \t\tdouble l = -1 * Math.floor(-1 * l1);\t\t\r\n    \t\tdouble h1 = (double) b / k; \r\n    \t\tdouble h =  Math.floor(h1);\r\n    \t\tDouble diff = h-l+1;\r\n    \t\treturn diff.intValue();\r\n    \t}","title":"Find the number of multiples for a number in range","body":"<p>This is the O(1) solution, ( There is no check required for the divisility of <code>a</code>)</p>\n\n<pre><code>public static int countDiv(int a, int b, int k) {\n        double l1 = (double)a / k;\n        double l = -1 * Math.floor(-1 * l1);        \n        double h1 = (double) b / k; \n        double h =  Math.floor(h1);\n        Double diff = h-l+1;\n        return diff.intValue();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70018,"reputation":882,"user_id":203459,"display_name":"Maciek Kreft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529406636,"creation_date":1529406636,"answer_id":50926990,"question_id":25661519,"body_markdown":"There is a lot of great answers, but I think this one has some elegance in it, also gives [100% on codility][1].\r\n\r\n----------\r\n\r\n\r\n    public int solution(int a, int b, int k) {\r\n        return Math.floorDiv(b, k) - Math.floorDiv(a-1, k);\r\n    }\r\n\r\n\r\n----------\r\n\r\nExplanation: Number of integers in the range `[1 .. B]` that divisible by `K` is `B/K`. Range `[A .. B]` can be transformed to `[1 .. B]` - `[1 .. A)` (notice that round bracket after A means that A does not belong to that range). That gives as a result `B/K - (A-1)/K`. Math.floorDiv is used to divide numbers and skip remaining decimal parts.\r\n\r\n  [1]: https://app.codility.com/demo/results/trainingF9NBK7-WZE/","title":"Find the number of multiples for a number in range","body":"<p>There is a lot of great answers, but I think this one has some elegance in it, also gives <a href=\"https://app.codility.com/demo/results/trainingF9NBK7-WZE/\" rel=\"nofollow noreferrer\">100% on codility</a>.</p>\n\n<hr>\n\n<pre><code>public int solution(int a, int b, int k) {\n    return Math.floorDiv(b, k) - Math.floorDiv(a-1, k);\n}\n</code></pre>\n\n<hr>\n\n<p>Explanation: Number of integers in the range <code>[1 .. B]</code> that divisible by <code>K</code> is <code>B/K</code>. Range <code>[A .. B]</code> can be transformed to <code>[1 .. B]</code> - <code>[1 .. A)</code> (notice that round bracket after A means that A does not belong to that range). That gives as a result <code>B/K - (A-1)/K</code>. Math.floorDiv is used to divide numbers and skip remaining decimal parts.</p>\n"},{"tags":[],"owner":{"account_id":14510653,"reputation":1,"user_id":10481160,"display_name":"dascal mihai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539124801,"creation_date":1539124801,"answer_id":52730268,"question_id":25661519,"body_markdown":"I will show my code in go :)\r\n\r\n    func CountDiv(a int, b int, k int) int {\r\n\t   count := int(math.Floor(float64(b/k)) - math.Floor(float64(a/k)));\r\n\t   if (math.Mod(float64(a), float64(k)) == 0) {\r\n\t\t  count++\r\n\t   }\r\n\r\n\t   return count\r\n    }\r\n\r\nThe total score is 100%\r\n","title":"Find the number of multiples for a number in range","body":"<p>I will show my code in go :)</p>\n\n<pre><code>func CountDiv(a int, b int, k int) int {\n   count := int(math.Floor(float64(b/k)) - math.Floor(float64(a/k)));\n   if (math.Mod(float64(a), float64(k)) == 0) {\n      count++\n   }\n\n   return count\n}\n</code></pre>\n\n<p>The total score is 100%</p>\n"},{"tags":[],"owner":{"account_id":9192715,"reputation":1003,"user_id":6832617,"display_name":"Francisco Sandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548453625,"creation_date":1548453625,"answer_id":54373361,"question_id":25661519,"body_markdown":"If someone is still interested in this exercise, I share my Python solution (100% in Codility)\r\n\r\n    def solution(A, B, K):\r\n        \r\n        if not (B-A)%K:\r\n            res = int((B-A)/K)\r\n        else:\r\n            res = int(B/K) - int(A/K)\r\n        \r\n        return res + (not A%K)","title":"Find the number of multiples for a number in range","body":"<p>If someone is still interested in this exercise, I share my Python solution (100% in Codility)</p>\n\n<pre><code>def solution(A, B, K):\n\n    if not (B-A)%K:\n        res = int((B-A)/K)\n    else:\n        res = int(B/K) - int(A/K)\n\n    return res + (not A%K)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1884290,"reputation":300,"user_id":1703824,"accept_rate":54,"display_name":"Ramiz Raja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553294458,"creation_date":1553294458,"answer_id":55308694,"question_id":25661519,"body_markdown":"I think the answers above don&#39;t provide enough logical explanation to why each solution works (the math behind the solution) so I am posting my [solution][1] here. \r\n\r\nThe idea is to use the [arithmetic sequence][2] here. If we have first divisible number (&gt;= A) and last divisible number (&lt;= B) we have an arithmetic sequence with distance K. Now all we have to do is find the total number of terms in the range [newA, newB] which are total divisible numbers in range [newA, newB]\r\n\r\n```\r\nfirst term (a1) = newA\r\nlast/n-th term (an) = newB\r\ndistance (d) = K\r\nSn = a1 + (a1+K) + (a1 + 2k) + (a1 + 3k) + ... + (a1 + (n-1)K)\r\n\r\n`n` in the above equation is what we are interested in finding. We know that\r\n\r\nn-th term = an = a1 + (n-1)K \r\nas an = newB, a1 = newA so\r\nnewB = newA + (n-1)K\r\nnewB = newA + nK - K\r\nnK = newB - newA + K\r\nn = (newB - newA + K) / K\r\n```\r\n\r\nNow that we have above formula so just apply it in code.\r\n  \r\n\r\n    fun countDiv(A: Int, B: Int, K: Int): Int {\r\n        //NOTE: each divisible number has to be in range [A, B] and we can not exceed this range\r\n        //find the first divisible (by k) number after A (greater than A but less than B to stay in range)\r\n        var newA = A\r\n        while (newA % K != 0 &amp;&amp; newA &lt; B)\r\n            newA++\r\n\r\n        //find the first divisible (by k) number before B (less than B but greater than A to stay in range)\r\n        var newB = B\r\n        while (newB % K != 0 &amp;&amp; newB &gt; newA)\r\n            newB--\r\n\r\n        //now that we have final new range ([newA, newB]), verify that both newA and newB are not equal\r\n        //because in that case there can be only number (newA or newB as both are equal) and we can just check\r\n        //if that number is divisible or not\r\n        if (newA == newB) {\r\n            return (newA % K == 0).toInt()\r\n        }\r\n\r\n        //Now that both newA and newB are divisible by K (a complete arithmetic sequence)\r\n        //we can calculate total divisions by using arithmetic sequence with following params\r\n        //a1 = newA, an = newB, d = K\r\n        // we know that n-th term (an) can also be calculated using following formula\r\n        //an = a1 + (n - 1)d\r\n        //n (total terms in sequence with distance d=K) is what we are interested in finding, put all values\r\n        //newB = newA + (n - 1)K\r\n        //re-arrange -&gt; n =  (newB - newA + K) / K\r\n        //Note: convert calculation to Long to avoid integer overflow otherwise result will be incorrect\r\n        val result = ((newB - newA + K.toLong()) / K.toDouble()).toInt()\r\n        return result\r\n    }\r\n\r\nI hope this helps someone. FYI, [codility solution with 100% score][1] \r\n\r\n  [1]: https://app.codility.com/demo/results/training7ETKHU-H5C/\r\n  [2]: https://www.mathsisfun.com/algebra/sequences-sums-arithmetic.html","title":"Find the number of multiples for a number in range","body":"<p>I think the answers above don't provide enough logical explanation to why each solution works (the math behind the solution) so I am posting my <a href=\"https://app.codility.com/demo/results/training7ETKHU-H5C/\" rel=\"nofollow noreferrer\">solution</a> here. </p>\n\n<p>The idea is to use the <a href=\"https://www.mathsisfun.com/algebra/sequences-sums-arithmetic.html\" rel=\"nofollow noreferrer\">arithmetic sequence</a> here. If we have first divisible number (>= A) and last divisible number (&lt;= B) we have an arithmetic sequence with distance K. Now all we have to do is find the total number of terms in the range [newA, newB] which are total divisible numbers in range [newA, newB]</p>\n\n<pre><code>first term (a1) = newA\nlast/n-th term (an) = newB\ndistance (d) = K\nSn = a1 + (a1+K) + (a1 + 2k) + (a1 + 3k) + ... + (a1 + (n-1)K)\n\n`n` in the above equation is what we are interested in finding. We know that\n\nn-th term = an = a1 + (n-1)K \nas an = newB, a1 = newA so\nnewB = newA + (n-1)K\nnewB = newA + nK - K\nnK = newB - newA + K\nn = (newB - newA + K) / K\n</code></pre>\n\n<p>Now that we have above formula so just apply it in code.</p>\n\n<pre><code>fun countDiv(A: Int, B: Int, K: Int): Int {\n    //NOTE: each divisible number has to be in range [A, B] and we can not exceed this range\n    //find the first divisible (by k) number after A (greater than A but less than B to stay in range)\n    var newA = A\n    while (newA % K != 0 &amp;&amp; newA &lt; B)\n        newA++\n\n    //find the first divisible (by k) number before B (less than B but greater than A to stay in range)\n    var newB = B\n    while (newB % K != 0 &amp;&amp; newB &gt; newA)\n        newB--\n\n    //now that we have final new range ([newA, newB]), verify that both newA and newB are not equal\n    //because in that case there can be only number (newA or newB as both are equal) and we can just check\n    //if that number is divisible or not\n    if (newA == newB) {\n        return (newA % K == 0).toInt()\n    }\n\n    //Now that both newA and newB are divisible by K (a complete arithmetic sequence)\n    //we can calculate total divisions by using arithmetic sequence with following params\n    //a1 = newA, an = newB, d = K\n    // we know that n-th term (an) can also be calculated using following formula\n    //an = a1 + (n - 1)d\n    //n (total terms in sequence with distance d=K) is what we are interested in finding, put all values\n    //newB = newA + (n - 1)K\n    //re-arrange -&gt; n =  (newB - newA + K) / K\n    //Note: convert calculation to Long to avoid integer overflow otherwise result will be incorrect\n    val result = ((newB - newA + K.toLong()) / K.toDouble()).toInt()\n    return result\n}\n</code></pre>\n\n<p>I hope this helps someone. FYI, <a href=\"https://app.codility.com/demo/results/training7ETKHU-H5C/\" rel=\"nofollow noreferrer\">codility solution with 100% score</a> </p>\n"},{"tags":[],"owner":{"account_id":13471291,"reputation":11,"user_id":9719707,"display_name":"‰øûÊô®Èùô"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1553477714,"creation_date":1553477714,"answer_id":55330283,"question_id":25661519,"body_markdown":"Assumptions:\r\nA and B are integers within the range [0..2,000,000,000];\r\nK is an integer within the range [1..2,000,000,000];\r\nA ‚â§ B.\r\n```\r\nint from = A+(K-A%K)%K;\r\nif (from &gt; B) {\r\n    return 0;\r\n}\r\nreturn (B-from)/K + 1;\r\n```","title":"Find the number of multiples for a number in range","body":"<p>Assumptions:\nA and B are integers within the range [0..2,000,000,000];\nK is an integer within the range [1..2,000,000,000];\nA ‚â§ B.</p>\n\n<pre><code>int from = A+(K-A%K)%K;\nif (from &gt; B) {\n    return 0;\n}\nreturn (B-from)/K + 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14894401,"reputation":186,"user_id":10755186,"display_name":"Amrit Malla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561546758,"creation_date":1561544047,"answer_id":56770348,"question_id":25661519,"body_markdown":"Here is my simple solution, with 100%\r\nhttps://app.codility.com/demo/results/trainingQ5XMG7-8UY/\r\n\r\n    \r\n\tpublic int solution(int A, int B, int K) {\r\n\r\n\t\twhile (A % K != 0) {\r\n\t\t\t++A;\r\n\t\t}\r\n\t\twhile (B % K != 0) {\r\n\t\t\t--B;\r\n\t\t}\r\n\t\treturn (B - A) / K + 1;\r\n\t}","title":"Find the number of multiples for a number in range","body":"<p>Here is my simple solution, with 100%\n<a href=\"https://app.codility.com/demo/results/trainingQ5XMG7-8UY/\" rel=\"nofollow noreferrer\">https://app.codility.com/demo/results/trainingQ5XMG7-8UY/</a></p>\n\n<pre><code>public int solution(int A, int B, int K) {\n\n    while (A % K != 0) {\n        ++A;\n    }\n    while (B % K != 0) {\n        --B;\n    }\n    return (B - A) / K + 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10842491,"reputation":785,"user_id":7973254,"display_name":"Cyber Square Professional"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569309345,"creation_date":1569309345,"answer_id":58074953,"question_id":25661519,"body_markdown":"Python 3 one line solution with score 100%\r\n\r\n    from math import ceil, floor\r\n    \r\n    \r\n    def solution(A, B, K):\r\n        return floor(B / K) - ceil(A / K) + 1","title":"Find the number of multiples for a number in range","body":"<p>Python 3 one line solution with score 100%</p>\n\n<pre><code>from math import ceil, floor\n\n\ndef solution(A, B, K):\n    return floor(B / K) - ceil(A / K) + 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16964517,"reputation":1,"user_id":12270808,"display_name":"suriya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571946877,"creation_date":1571946877,"answer_id":58548320,"question_id":25661519,"body_markdown":"        int divB = B / K;\r\n        int divA = A / K;\r\n        if(A % K != 0) {\r\n            divA++;\r\n        }\r\n        return (divB - divA) + 1;\r\n\r\npassed 100% in codelity","title":"Find the number of multiples for a number in range","body":"<pre><code>    int divB = B / K;\n    int divA = A / K;\n    if(A % K != 0) {\n        divA++;\n    }\n    return (divB - divA) + 1;\n</code></pre>\n\n<p>passed 100% in codelity</p>\n"},{"tags":[],"owner":{"account_id":7014408,"reputation":33,"user_id":5376248,"display_name":"Buwaneka Kandekumbura"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595020325,"creation_date":1581545839,"answer_id":60197710,"question_id":25661519,"body_markdown":"This works with O(1) [Test link](https://app.codility.com/demo/results/trainingDEV7BM-TEC/)\r\n\r\n\r\n        using System;\r\n        class Solution \r\n        {\r\n          public int solution(int A, int B, int K) \r\n          {\r\n           int value = (B/K)-(A/K);\r\n           if(A%K == 0)\r\n           {\r\n            value=value+1;\r\n           }\r\n           return value;\r\n          }\r\n        }\r\n\r\n","title":"Find the number of multiples for a number in range","body":"<p>This works with O(1) <a href=\"https://app.codility.com/demo/results/trainingDEV7BM-TEC/\" rel=\"nofollow noreferrer\">Test link</a></p>\n<pre><code>    using System;\n    class Solution \n    {\n      public int solution(int A, int B, int K) \n      {\n       int value = (B/K)-(A/K);\n       if(A%K == 0)\n       {\n        value=value+1;\n       }\n       return value;\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12305665,"reputation":756,"user_id":8978791,"display_name":"Eli Zatlawy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628063806,"creation_date":1628063806,"answer_id":68647481,"question_id":25661519,"body_markdown":"Simple solution in Python: \r\n\r\n    def solution(A, B, K):\r\n        count = 0\r\n        if A % K == 0:\r\n            count += 1\r\n        count += int((B / K) - int(A / K))\r\n        return count \r\n\r\n\r\nexplanation: \r\n\r\n    B/K is the total numbers divisible by K [1..B]\r\n\r\n    A/K is the total numbers divisible by K [1..A]\r\n\r\n    The subtracts gives the total numbers divisible by K [A..B]\r\n\r\n    if A%K == 0, then we need to add it as well.","title":"Find the number of multiples for a number in range","body":"<p>Simple solution in Python:</p>\n<pre><code>def solution(A, B, K):\n    count = 0\n    if A % K == 0:\n        count += 1\n    count += int((B / K) - int(A / K))\n    return count \n</code></pre>\n<p>explanation:</p>\n<pre><code>B/K is the total numbers divisible by K [1..B]\n\nA/K is the total numbers divisible by K [1..A]\n\nThe subtracts gives the total numbers divisible by K [A..B]\n\nif A%K == 0, then we need to add it as well.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19312266,"reputation":66,"user_id":14117706,"display_name":"oldnewdb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660797214,"creation_date":1660797214,"answer_id":73397495,"question_id":25661519,"body_markdown":"My 100% score solution with one line code in python:\r\n\r\n    def solution(A, B, K):\r\n        # write your code in Python 3.6\r\n        return int(B/K) - int(A/K) + (A%K==0)\r\n        pass","title":"Find the number of multiples for a number in range","body":"<p>My 100% score solution with one line code in python:</p>\n<pre><code>def solution(A, B, K):\n    # write your code in Python 3.6\n    return int(B/K) - int(A/K) + (A%K==0)\n    pass\n</code></pre>\n"}],"owner":{"account_id":3888051,"reputation":582,"user_id":3218940,"accept_rate":17,"display_name":"drevlav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18835,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":27,"score":16,"last_activity_date":1660797214,"creation_date":1409821923,"question_id":25661519,"body_markdown":"I have a question regarding the [CountDiv][1] problem in Codility.\r\n\r\nThe problem given is: *Write a function:*\r\n\r\n    class Solution { public int solution(int A, int B, int K); }\r\n\r\n*that, given three integers A, B and K, returns the number of integers within the range [A..B] that are divisible by K, i.e.:*\r\n\r\n    { i : A ‚â§ i ‚â§ B, i mod K = 0 }\r\n\r\n\r\n\r\n\r\nMy code:\r\n\r\n    class Solution {\r\n        public int solution(int A, int B, int K) {        \r\n             int start=0;\r\n             if (B&lt;A || K==0 || K&gt;B )\r\n                return 0;\r\n             else if (K&lt;A)\r\n                start = K * ( A/K +1);\r\n             else if (K&lt;=B)\r\n                start = K;\r\n        \r\n             return (B-start+1)/K+ 1;\r\n        }\r\n    } \r\n\r\nI don&#39;t get why I&#39;m wrong, specially with this test case:\r\n\r\n    extreme_ifempty \r\n    A = 10, B = 10, K in {5,7,20}\r\n    WRONG ANSWER \r\n    got 1 expected 0\r\n\r\nif `K =5` then with `i=10` `A&lt;=i&lt;=B` and `i%k =0` so why should I have 0? [Problem statement][2].\r\n\r\n  [1]: https://codility.com/demo/results/trainingRYHD5U-MRA/#task-0\r\n  [2]: https://codility.com/demo/results/demoV7MXUD-ACC/#task-0","title":"Find the number of multiples for a number in range","body":"<p>I have a question regarding the <a href=\"https://codility.com/demo/results/trainingRYHD5U-MRA/#task-0\" rel=\"noreferrer\">CountDiv</a> problem in Codility.</p>\n\n<p>The problem given is: <em>Write a function:</em></p>\n\n<pre><code>class Solution { public int solution(int A, int B, int K); }\n</code></pre>\n\n<p><em>that, given three integers A, B and K, returns the number of integers within the range [A..B] that are divisible by K, i.e.:</em></p>\n\n<pre><code>{ i : A ‚â§ i ‚â§ B, i mod K = 0 }\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>class Solution {\n    public int solution(int A, int B, int K) {        \n         int start=0;\n         if (B&lt;A || K==0 || K&gt;B )\n            return 0;\n         else if (K&lt;A)\n            start = K * ( A/K +1);\n         else if (K&lt;=B)\n            start = K;\n\n         return (B-start+1)/K+ 1;\n    }\n} \n</code></pre>\n\n<p>I don't get why I'm wrong, specially with this test case:</p>\n\n<pre><code>extreme_ifempty \nA = 10, B = 10, K in {5,7,20}\nWRONG ANSWER \ngot 1 expected 0\n</code></pre>\n\n<p>if <code>K =5</code> then with <code>i=10</code> <code>A&lt;=i&lt;=B</code> and <code>i%k =0</code> so why should I have 0? <a href=\"https://codility.com/demo/results/demoV7MXUD-ACC/#task-0\" rel=\"noreferrer\">Problem statement</a>.</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1660642624,"post_id":73371742,"comment_id":129574467,"body_markdown":"`finishAffinity();` closes the whole task stack afaik so it is not surprising that it closes the app.","body":"<code>finishAffinity();</code> closes the whole task stack afaik so it is not surprising that it closes the app."},{"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"score":0,"creation_date":1660642791,"post_id":73371742,"comment_id":129574531,"body_markdown":"yes i know that but if i remove this, it navigates it straight back to splash screen from fragment skipping the home screen","body":"yes i know that but if i remove this, it navigates it straight back to splash screen from fragment skipping the home screen"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1660648642,"post_id":73371742,"comment_id":129576504,"body_markdown":"That sounds like a completely different issue and that&#39;s the one you should be fixing instead, and this is not the solution","body":"That sounds like a completely different issue and that&#39;s the one you should be fixing instead, and this is not the solution"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660643677,"creation_date":1660642528,"answer_id":73371843,"question_id":73371742,"body_markdown":"just don&#39;t call `finishAffinity()` always, it is breaking your navigation flow... you should just call `super` in there for proper behavior\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n    }\r\n\r\nand `finishAffinity()` is just closing all activities. the real question is why you have intentional `finishAffinity()` call in `onBackPressed` and why you wondering it is working (not switching fragments, just closing `HomeActivity` and others if on activitys stack in background)\r\n\r\nif you really need `finishAffinity()` call you probably should make it only when first `Fragment` is visible\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (isFirstFragmentVisible()) {\r\n            finishAffinity();\r\n            return; // prevent super call, handled\r\n        }\r\n        super.onBackPressed();\r\n    }\r\n\r\n`isFirstFragmentVisible()` implement by own as homework, probably easiest way would be to check in this method which `Fragment` is currently loaded into `R.id.rl_mainLayout` (useful might be `findFragmentById()` or `findFragmentByTag()`)","title":"Fragment makes App exits on back press instead of loading parent activity","body":"<p>just don't call <code>finishAffinity()</code> always, it is breaking your navigation flow... you should just call <code>super</code> in there for proper behavior</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    super.onBackPressed();\n}\n</code></pre>\n<p>and <code>finishAffinity()</code> is just closing all activities. the real question is why you have intentional <code>finishAffinity()</code> call in <code>onBackPressed</code> and why you wondering it is working (not switching fragments, just closing <code>HomeActivity</code> and others if on activitys stack in background)</p>\n<p>if you really need <code>finishAffinity()</code> call you probably should make it only when first <code>Fragment</code> is visible</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    if (isFirstFragmentVisible()) {\n        finishAffinity();\n        return; // prevent super call, handled\n    }\n    super.onBackPressed();\n}\n</code></pre>\n<p><code>isFirstFragmentVisible()</code> implement by own as homework, probably easiest way would be to check in this method which <code>Fragment</code> is currently loaded into <code>R.id.rl_mainLayout</code> (useful might be <code>findFragmentById()</code> or <code>findFragmentByTag()</code>)</p>\n"},{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660795578,"creation_date":1660644065,"answer_id":73372158,"question_id":73371742,"body_markdown":"According to what I assume you are trying to do is.\r\nyou have 4 fragments in home activity. suppose user click on fragment 2, and then if he click back then fragment 1 should be displayed rather than splash or app exit. For this use the code below.\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (currentFragment instanceOf Fragment1) {\r\n           super.onBackPressed();\r\n        }\r\n        else\r\n       {  getSupportFragmentManager().beginTransaction().replace(R.id.rl_mainLayout, \r\n          fragment1).commit();\r\n       }\r\n        \r\n    }\r\n\r\nset currentFragment value equal to fragment1 by default and then change its value on onNavigationItemSelected accordingly. ","title":"Fragment makes App exits on back press instead of loading parent activity","body":"<p>According to what I assume you are trying to do is.\nyou have 4 fragments in home activity. suppose user click on fragment 2, and then if he click back then fragment 1 should be displayed rather than splash or app exit. For this use the code below.</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    if (currentFragment instanceOf Fragment1) {\n       super.onBackPressed();\n    }\n    else\n   {  getSupportFragmentManager().beginTransaction().replace(R.id.rl_mainLayout, \n      fragment1).commit();\n   }\n    \n}\n</code></pre>\n<p>set currentFragment value equal to fragment1 by default and then change its value on onNavigationItemSelected accordingly.</p>\n"}],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660795578,"creation_date":1660642069,"question_id":73371742,"body_markdown":"I&#39;m dealing with a scenario where I have an activity named `HomeActivity` which contains `BottomAppBar` and inside that activity I&#39;m loading fragments when user clicks on icons placed in bottom app bar. Now the issue that I&#39;m facing is that when I load fragment from home activity it opens but on back press it exits the app instead of reloading home activity layout. Instead of that I want to load home activity whenever back is pressed inside any loaded fragment code snippet attached below:\r\n\r\n    bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n    \r\n                    switch (item.getItemId()) {\r\n    \r\n                        case R.id.homePage:\r\n                             fragment = new Fragment1();\r\n                            break;\r\n    \r\n                        case R.id.wallet:\r\n                            fragment = new Fragment2();\r\n                            break;\r\n    \r\n                        case R.id.myorders:\r\n                            fragment = new Fragment3();\r\n                            break;\r\n    \r\n                        case R.id.search:\r\n                             fragment = new Fragment4();\r\n                            break;\r\n                    }\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.rl_mainLayout, fragment).commit();\r\n                    return true;\r\n                }\r\n            });\r\n\r\nMoreover, i have an override method of `onBackPressed()` which contains call to method `finishAffinity()`\r\n \r\n\r\n    @Override\r\n        public void onBackPressed() {\r\n            finishAffinity();\r\n        }\r\n\r\n","title":"Fragment makes App exits on back press instead of loading parent activity","body":"<p>I'm dealing with a scenario where I have an activity named <code>HomeActivity</code> which contains <code>BottomAppBar</code> and inside that activity I'm loading fragments when user clicks on icons placed in bottom app bar. Now the issue that I'm facing is that when I load fragment from home activity it opens but on back press it exits the app instead of reloading home activity layout. Instead of that I want to load home activity whenever back is pressed inside any loaded fragment code snippet attached below:</p>\n<pre><code>bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n                switch (item.getItemId()) {\n\n                    case R.id.homePage:\n                         fragment = new Fragment1();\n                        break;\n\n                    case R.id.wallet:\n                        fragment = new Fragment2();\n                        break;\n\n                    case R.id.myorders:\n                        fragment = new Fragment3();\n                        break;\n\n                    case R.id.search:\n                         fragment = new Fragment4();\n                        break;\n                }\n                getSupportFragmentManager().beginTransaction().replace(R.id.rl_mainLayout, fragment).commit();\n                return true;\n            }\n        });\n</code></pre>\n<p>Moreover, i have an override method of <code>onBackPressed()</code> which contains call to method <code>finishAffinity()</code></p>\n<pre><code>@Override\n    public void onBackPressed() {\n        finishAffinity();\n    }\n</code></pre>\n"},{"tags":["java","algorithm","random","weighted"],"comments":[{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":1,"creation_date":1660586572,"post_id":73364290,"comment_id":129562492,"body_markdown":"post your method on stack, don&#39;t use links","body":"post your method on stack, don&#39;t use links"}],"answers":[{"tags":[],"owner":{"account_id":8088402,"reputation":1,"user_id":6095190,"display_name":"Jonathan Wooldridge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660793529,"creation_date":1660791298,"answer_id":73396938,"question_id":73364290,"body_markdown":"I made an abstract data type that works with dynamic data, which I call the Hat class, named after pulling names from a hat. It performs in O(log N) time complexity.\r\n\r\nIt&#39;s a variant of a red-black tree that takes advantage of the fact we&#39;re drawing randomly, and so doesn&#39;t need to do the usual tree balancing.\r\n\r\n[Hat ADT implementation in Java][1]\r\n\r\n[Basic Uses][2]\r\n\r\n[Advanced Dice][3]\r\n\r\n[Bernoulli Process][4]\r\n\r\n[Cards][5]\r\n\r\n[Picture of the tree structure][6]\r\n\r\n\r\n----------\r\nAlso, If you&#39;re interested in loot drop tables, I&#39;ve made a detailed article on a great way to design loot drops. It calculates the drop rate based on your desired number of tries for each item in the table. [Loot Drops by Design][7]\r\n\r\n\r\n  [1]: https://github.com/AngleWyrm/Hat\r\n  [2]: https://github.com/AngleWyrm/Hat/blob/master/src/examples/BasicUses.java\r\n  [3]: https://github.com/AngleWyrm/Hat/blob/master/src/examples/AdvancedDice.java\r\n  [4]: https://github.com/AngleWyrm/Hat/blob/master/src/examples/BernoulliProcess.java\r\n  [5]: https://github.com/AngleWyrm/Hat/blob/master/src/examples/Cards.java\r\n  [6]: https://i.stack.imgur.com/WJATt.png\r\n  [7]: https://fourth-baryonyx-e1c.notion.site/Loot-Drops-by-Design-8d7595a8332047eba78f3ec354c2851e","title":"Generating from a collection based on weight but also having weight bonus and removal","body":"<p>I made an abstract data type that works with dynamic data, which I call the Hat class, named after pulling names from a hat. It performs in O(log N) time complexity.</p>\n<p>It's a variant of a red-black tree that takes advantage of the fact we're drawing randomly, and so doesn't need to do the usual tree balancing.</p>\n<p><a href=\"https://github.com/AngleWyrm/Hat\" rel=\"nofollow noreferrer\">Hat ADT implementation in Java</a></p>\n<p><a href=\"https://github.com/AngleWyrm/Hat/blob/master/src/examples/BasicUses.java\" rel=\"nofollow noreferrer\">Basic Uses</a></p>\n<p><a href=\"https://github.com/AngleWyrm/Hat/blob/master/src/examples/AdvancedDice.java\" rel=\"nofollow noreferrer\">Advanced Dice</a></p>\n<p><a href=\"https://github.com/AngleWyrm/Hat/blob/master/src/examples/BernoulliProcess.java\" rel=\"nofollow noreferrer\">Bernoulli Process</a></p>\n<p><a href=\"https://github.com/AngleWyrm/Hat/blob/master/src/examples/Cards.java\" rel=\"nofollow noreferrer\">Cards</a></p>\n<p><a href=\"https://i.stack.imgur.com/WJATt.png\" rel=\"nofollow noreferrer\">Picture of the tree structure</a></p>\n<hr />\n<p>Also, If you're interested in loot drop tables, I've made a detailed article on a great way to design loot drops. It calculates the drop rate based on your desired number of tries for each item in the table. <a href=\"https://fourth-baryonyx-e1c.notion.site/Loot-Drops-by-Design-8d7595a8332047eba78f3ec354c2851e\" rel=\"nofollow noreferrer\">Loot Drops by Design</a></p>\n"}],"owner":{"account_id":17867931,"reputation":1,"user_id":12979908,"display_name":"Xeonmeister"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660793529,"creation_date":1660583578,"question_id":73364290,"body_markdown":"I&#39;m working on a Minecraft spigot hobbyp roject and decided to add openable chests and boss drops. Generating elements by weight is something I did before so it wasn&#39;t a hard task for me and I already finished it, but looking to improve.\r\n\r\nWhile I was doing this I looked into some articles about generating elements by weight and found some nice and much faster methods but the problem with all of them is they only work (or only work that fast) when you have a *fixed list* of elements and *fixed weights*.\r\n\r\nBecause I&#39;m doing boss drops and chest loot tables I want to generate multiple items, and while doing so remove them temporarily from the element list because I **don&#39;t want to get the same item multiple times** from one generation. What I also implemented is a luck system which gives a multiplier for certain items, which creates the problem of **items not having a fixed weight**.\r\n\r\nFor example let&#39;s say a boss mob has the following loot table:\r\n- helmet: 40\r\n- chestplate: 40\r\n- leggings: 40\r\n- boots: 40\r\n- common sword: 30\r\n- **rare sword: 10**\r\n\r\nThis is only the default loot table but with the luck system **certain items gain weight**. Let&#39;s say the player has a luck modifier of 5 and the rare sword&#39;s weight increases by 4 for every luck level so the table now looks like this:\r\n\r\n- helmet: 40\r\n- chestplate: 40\r\n- leggings: 40\r\n- boots: 40\r\n- common sword: 30\r\n- **rare sword: 30**\r\n\r\nThe luck level is actually a double and it can be anything from 0 to 20 usually but in some cases it can be even larger, which means I can&#39;t just pre-generate x number of loot tables, I have to compute their actual weight when the method is called. And on top of that I don&#39;t want to generate anything twice. Let&#39;s say I want to generate 3 items from this table; right now I generate the item and temporarily remove it so it can&#39;t be generated again, and at the end of the method I put them back in the main list.\r\n\r\n**Here is what I have now:** https://github.com/Xeonmeister/ItemGenerator\r\n\r\nI&#39;m looking to improve the speed of my &#39;WeightedGenerator&#39;. I&#39;ve seen methods which generate items from a list using binary search or the alias method which generates by weight in O(1) but they only work if the weight never changes and/or the list of items doesn&#39;t change.\r\n**Is there some method that can generate items with dynamic weights and without repeating items and runs faster than O(n)** ?","title":"Generating from a collection based on weight but also having weight bonus and removal","body":"<p>I'm working on a Minecraft spigot hobbyp roject and decided to add openable chests and boss drops. Generating elements by weight is something I did before so it wasn't a hard task for me and I already finished it, but looking to improve.</p>\n<p>While I was doing this I looked into some articles about generating elements by weight and found some nice and much faster methods but the problem with all of them is they only work (or only work that fast) when you have a <em>fixed list</em> of elements and <em>fixed weights</em>.</p>\n<p>Because I'm doing boss drops and chest loot tables I want to generate multiple items, and while doing so remove them temporarily from the element list because I <strong>don't want to get the same item multiple times</strong> from one generation. What I also implemented is a luck system which gives a multiplier for certain items, which creates the problem of <strong>items not having a fixed weight</strong>.</p>\n<p>For example let's say a boss mob has the following loot table:</p>\n<ul>\n<li>helmet: 40</li>\n<li>chestplate: 40</li>\n<li>leggings: 40</li>\n<li>boots: 40</li>\n<li>common sword: 30</li>\n<li><strong>rare sword: 10</strong></li>\n</ul>\n<p>This is only the default loot table but with the luck system <strong>certain items gain weight</strong>. Let's say the player has a luck modifier of 5 and the rare sword's weight increases by 4 for every luck level so the table now looks like this:</p>\n<ul>\n<li>helmet: 40</li>\n<li>chestplate: 40</li>\n<li>leggings: 40</li>\n<li>boots: 40</li>\n<li>common sword: 30</li>\n<li><strong>rare sword: 30</strong></li>\n</ul>\n<p>The luck level is actually a double and it can be anything from 0 to 20 usually but in some cases it can be even larger, which means I can't just pre-generate x number of loot tables, I have to compute their actual weight when the method is called. And on top of that I don't want to generate anything twice. Let's say I want to generate 3 items from this table; right now I generate the item and temporarily remove it so it can't be generated again, and at the end of the method I put them back in the main list.</p>\n<p><strong>Here is what I have now:</strong> <a href=\"https://github.com/Xeonmeister/ItemGenerator\" rel=\"nofollow noreferrer\">https://github.com/Xeonmeister/ItemGenerator</a></p>\n<p>I'm looking to improve the speed of my 'WeightedGenerator'. I've seen methods which generate items from a list using binary search or the alias method which generates by weight in O(1) but they only work if the weight never changes and/or the list of items doesn't change.\n<strong>Is there some method that can generate items with dynamic weights and without repeating items and runs faster than O(n)</strong> ?</p>\n"},{"tags":["java","azure-functions","azure-application-insights"],"answers":[{"tags":[],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660759770,"creation_date":1660759770,"answer_id":73393122,"question_id":72623987,"body_markdown":"If you look at https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#instrumentation-libraries , it lists a bunch of autocollected dependencies\r\n\r\nYou just have to use one of the autocollected HTTP libraries (e.g OkHttp), and the outgoing http calls should be automatically tracked.","title":"Track outgoing REST call in Java Function App inside Application Insights","body":"<p>If you look at <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#instrumentation-libraries\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#instrumentation-libraries</a> , it lists a bunch of autocollected dependencies</p>\n<p>You just have to use one of the autocollected HTTP libraries (e.g OkHttp), and the outgoing http calls should be automatically tracked.</p>\n"},{"tags":[],"owner":{"account_id":1190195,"reputation":302,"user_id":1163179,"accept_rate":62,"display_name":"Sajith Dilshan Jamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660793472,"creation_date":1660793472,"answer_id":73397149,"question_id":72623987,"body_markdown":"After some back and forth with Microsoft about this, it turns out Azure functions has a specific set of configuration parameters that needs to be put in. I am posting the windows one as thats what I used, but the linux one is in the link as well. \r\n\r\n(Windows):\r\nXDT_MicrosoftApplicationInsights_Java -&gt; 1\r\n\r\nApplicationInsightsAgent_EXTENSION_VERSION -&gt; ~2\r\n\r\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/app/monitor-functions#how-to-enable-distributed-tracing-for-java-function-apps","title":"Track outgoing REST call in Java Function App inside Application Insights","body":"<p>After some back and forth with Microsoft about this, it turns out Azure functions has a specific set of configuration parameters that needs to be put in. I am posting the windows one as thats what I used, but the linux one is in the link as well.</p>\n<p>(Windows):\nXDT_MicrosoftApplicationInsights_Java -&gt; 1</p>\n<p>ApplicationInsightsAgent_EXTENSION_VERSION -&gt; ~2</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/monitor-functions#how-to-enable-distributed-tracing-for-java-function-apps\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/monitor-functions#how-to-enable-distributed-tracing-for-java-function-apps</a></p>\n"}],"owner":{"account_id":1190195,"reputation":302,"user_id":1163179,"accept_rate":62,"display_name":"Sajith Dilshan Jamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73397149,"answer_count":2,"score":1,"last_activity_date":1660793472,"creation_date":1655245226,"question_id":72623987,"body_markdown":"From what I understand Azure Application Insights is able to automatically track and log incoming HTTP requests to an application.\r\n\r\nHowever, my usecase is I need to track an **outgoing** HTTP request (that I make programmatically).\r\n\r\nI have a Java Function App (with an HTTP trigger) running in Azure with App Insights attached to it. It logs logs the incoming HTTP request to the function app. Once triggered, my app makes a REST call to a 3rd party REST API. I would like to log this call either as a request or as a dependency under the function app in App Insights\r\n\r\nPointers on how to do this are appreciated. \r\n\r\nThe documentation seems vague. I looked at a similar [question][1]  that is answered for C# as well as [this][2], but my question is JAVA and Function App specific and I want the request to be logged and **correlated correctly** to the above Function APP\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66579741/how-to-track-dependencies-of-java-function-apps\r\n  [2]: https://stackoverflow.com/questions/48987932/tracking-outgoing-requests-in-azure-functions","title":"Track outgoing REST call in Java Function App inside Application Insights","body":"<p>From what I understand Azure Application Insights is able to automatically track and log incoming HTTP requests to an application.</p>\n<p>However, my usecase is I need to track an <strong>outgoing</strong> HTTP request (that I make programmatically).</p>\n<p>I have a Java Function App (with an HTTP trigger) running in Azure with App Insights attached to it. It logs logs the incoming HTTP request to the function app. Once triggered, my app makes a REST call to a 3rd party REST API. I would like to log this call either as a request or as a dependency under the function app in App Insights</p>\n<p>Pointers on how to do this are appreciated.</p>\n<p>The documentation seems vague. I looked at a similar <a href=\"https://stackoverflow.com/questions/66579741/how-to-track-dependencies-of-java-function-apps\">question</a>  that is answered for C# as well as <a href=\"https://stackoverflow.com/questions/48987932/tracking-outgoing-requests-in-azure-functions\">this</a>, but my question is JAVA and Function App specific and I want the request to be logged and <strong>correlated correctly</strong> to the above Function APP</p>\n"},{"tags":["java","android","kotlin","layout"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660792947,"creation_date":1660792947,"answer_id":73397100,"question_id":73390740,"body_markdown":"The LayoutParams need to be the LayoutParams type of the parent ViewGroup. It is the parent ViewGroup that actually uses these params, after all. In this case, the parent of your ConstraintLayout is apparently a FrameLayout, so you need to use `FrameLayout.LayoutParams`. ","title":"How to set the width and height of a layout in Android?","body":"<p>The LayoutParams need to be the LayoutParams type of the parent ViewGroup. It is the parent ViewGroup that actually uses these params, after all. In this case, the parent of your ConstraintLayout is apparently a FrameLayout, so you need to use <code>FrameLayout.LayoutParams</code>.</p>\n"}],"owner":{"display_name":"user19729496"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73397100,"answer_count":1,"score":-1,"last_activity_date":1660792947,"creation_date":1660748403,"question_id":73390740,"body_markdown":"I have this ConstraintLayout: \r\n\r\n`lateinit var myConstraintLayout: ConstraintLayout` \r\n\r\nI try to set its width and height to match its parent via code, like this:\r\n\r\n           val params = ConstraintLayout.LayoutParams(\r\n                ViewGroup.LayoutParams.MATCH_PARENT,\r\n                ViewGroup.LayoutParams.MATCH_PARENT\r\n            )\r\n            myConstraintLayout.setLayoutParams(params)\r\n\r\nBut I get error `androidx.constraintlayout.widget.ConstraintLayout$LayoutParams cannot be cast to android.widget.FrameLayout$LayoutParams` Why? How do I fix this?\r\n\r\n","title":"How to set the width and height of a layout in Android?","body":"<p>I have this ConstraintLayout:</p>\n<p><code>lateinit var myConstraintLayout: ConstraintLayout</code></p>\n<p>I try to set its width and height to match its parent via code, like this:</p>\n<pre><code>       val params = ConstraintLayout.LayoutParams(\n            ViewGroup.LayoutParams.MATCH_PARENT,\n            ViewGroup.LayoutParams.MATCH_PARENT\n        )\n        myConstraintLayout.setLayoutParams(params)\n</code></pre>\n<p>But I get error <code>androidx.constraintlayout.widget.ConstraintLayout$LayoutParams cannot be cast to android.widget.FrameLayout$LayoutParams</code> Why? How do I fix this?</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1660751501,"post_id":73389049,"comment_id":129608130,"body_markdown":"What&#39;s the commplete error stack trace?","body":"What&#39;s the commplete error stack trace?"},{"owner":{"account_id":2341477,"reputation":35,"user_id":2052668,"display_name":"user2052668"},"score":0,"creation_date":1660790560,"post_id":73389049,"comment_id":129617778,"body_markdown":"The error only shows what you see on the question, it seems it never gets to the catch block.","body":"The error only shows what you see on the question, it seems it never gets to the catch block."},{"owner":{"account_id":2341477,"reputation":35,"user_id":2052668,"display_name":"user2052668"},"score":0,"creation_date":1660790988,"post_id":73389049,"comment_id":129617823,"body_markdown":"It&#39;s failing building the project.","body":"It&#39;s failing building the project."},{"owner":{"account_id":15567203,"reputation":1060,"user_id":11230588,"display_name":"Francis G"},"score":2,"creation_date":1660791602,"post_id":73389049,"comment_id":129617911,"body_markdown":"Are you sure you are using `JDK18` and not `JDK8`?","body":"Are you sure you are using <code>JDK18</code> and not <code>JDK8</code>?"},{"owner":{"account_id":2341477,"reputation":35,"user_id":2052668,"display_name":"user2052668"},"score":0,"creation_date":1660792345,"post_id":73389049,"comment_id":129617997,"body_markdown":"Well, it was a silly mistake after all. My IDE and env vars were all configured to use JAVA18, but my pom.xml file still had 8 as compiler target. I will include an answer.","body":"Well, it was a silly mistake after all. My IDE and env vars were all configured to use JAVA18, but my pom.xml file still had 8 as compiler target. I will include an answer."}],"answers":[{"tags":[],"owner":{"account_id":2341477,"reputation":35,"user_id":2052668,"display_name":"user2052668"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660792611,"creation_date":1660792611,"answer_id":73397063,"question_id":73389049,"body_markdown":"Well after all it seems that I forgot to change the `maven.compiler.source` and target in my pom.xml file.\r\n\r\nSo in my pom.xml file I changed this:\r\n\r\n```\r\n     &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n```\r\n\r\nTo be like this:\r\n```\r\n     &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n```\r\n\r\nAnd that got my app running. Silly mistake indeed.\r\n","title":"JOOQ throws cannot access java.util.concurrent.Flow for version 3.17.2","body":"<p>Well after all it seems that I forgot to change the <code>maven.compiler.source</code> and target in my pom.xml file.</p>\n<p>So in my pom.xml file I changed this:</p>\n<pre><code>     &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>To be like this:</p>\n<pre><code>     &lt;properties&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>And that got my app running. Silly mistake indeed.</p>\n"}],"owner":{"account_id":2341477,"reputation":35,"user_id":2052668,"display_name":"user2052668"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660792611,"creation_date":1660741710,"question_id":73389049,"body_markdown":"I&#39;m trying to run a simple example with JOOQ, but It hasn&#39;t been possible. I&#39;m using IntelliJ as IDE and making sure that I&#39;m using the correct JDK.\r\n\r\nThe solution [here](https://stackoverflow.com/questions/71561604/jooq-throws-class-file-for-java-util-concurrent-flow-not-found-for-where-conditi) does not apply since I&#39;m using the JDK 18 and the JOOQ version of 3.17.2.\r\n\r\nThis is the code snippet:\r\n\r\n```java\r\n    public static void connectToDb() {\r\n        String userName = &quot;root&quot;;\r\n        String password = &quot;&quot;;\r\n        String url = &quot;jdbc:mysql://localhost:3306/javaspark-db&quot;;\r\n\r\n        try (Connection conn = DriverManager.getConnection(url, userName, password)) {\r\n            DSLContext dslContext = DSL.using(conn, SQLDialect.MYSQL);\r\n            Author AUTHOR = Author.AUTHOR;\r\n            // Getting error just here at select()\r\n            Result&lt;Record&gt; result = dslContext.select().from(AUTHOR).fetch();\r\n\r\n            for (Record r : result) {\r\n                Integer id = r.getValue(AUTHOR.ID);\r\n                String firstName = r.getValue(AUTHOR.FIRST_NAME);\r\n                String lastName = r.getValue(AUTHOR.LAST_NAME);\r\n\r\n                System.out.println(&quot;ID: &quot; + id + &quot; first name: &quot; + firstName + &quot; last name: &quot; + lastName);\r\n            }\r\n\r\n        }\r\n\r\n        // For the sake of this tutorial, let&#39;s keep exception handling simple\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe error:\r\n```\r\n/Users/xxxx/xxxx/todo-spark-app/src/main/java/app/Application.java:26:56\r\njava: cannot access java.util.concurrent.Flow\r\n  class file for java.util.concurrent.Flow not found\r\n```\r\n\r\nThe maven dependencies:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jooq&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jooq-meta&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jooq-codegen&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"JOOQ throws cannot access java.util.concurrent.Flow for version 3.17.2","body":"<p>I'm trying to run a simple example with JOOQ, but It hasn't been possible. I'm using IntelliJ as IDE and making sure that I'm using the correct JDK.</p>\n<p>The solution <a href=\"https://stackoverflow.com/questions/71561604/jooq-throws-class-file-for-java-util-concurrent-flow-not-found-for-where-conditi\">here</a> does not apply since I'm using the JDK 18 and the JOOQ version of 3.17.2.</p>\n<p>This is the code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void connectToDb() {\n        String userName = &quot;root&quot;;\n        String password = &quot;&quot;;\n        String url = &quot;jdbc:mysql://localhost:3306/javaspark-db&quot;;\n\n        try (Connection conn = DriverManager.getConnection(url, userName, password)) {\n            DSLContext dslContext = DSL.using(conn, SQLDialect.MYSQL);\n            Author AUTHOR = Author.AUTHOR;\n            // Getting error just here at select()\n            Result&lt;Record&gt; result = dslContext.select().from(AUTHOR).fetch();\n\n            for (Record r : result) {\n                Integer id = r.getValue(AUTHOR.ID);\n                String firstName = r.getValue(AUTHOR.FIRST_NAME);\n                String lastName = r.getValue(AUTHOR.LAST_NAME);\n\n                System.out.println(&quot;ID: &quot; + id + &quot; first name: &quot; + firstName + &quot; last name: &quot; + lastName);\n            }\n\n        }\n\n        // For the sake of this tutorial, let's keep exception handling simple\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>/Users/xxxx/xxxx/todo-spark-app/src/main/java/app/Application.java:26:56\njava: cannot access java.util.concurrent.Flow\n  class file for java.util.concurrent.Flow not found\n</code></pre>\n<p>The maven dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n            &lt;artifactId&gt;jooq&lt;/artifactId&gt;\n            &lt;version&gt;3.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n            &lt;artifactId&gt;jooq-meta&lt;/artifactId&gt;\n            &lt;version&gt;3.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n            &lt;artifactId&gt;jooq-codegen&lt;/artifactId&gt;\n            &lt;version&gt;3.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","eclipse","selenium","maven","automation"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1660795470,"post_id":73397042,"comment_id":129618417,"body_markdown":"Is there a reason you&#39;re trying to use a Maven version over a decade old, and from before the mandatory usage of https of more than 2 years (https://support.sonatype.com/hc/en-us/articles/360041287334)?","body":"Is there a reason you&#39;re trying to use a Maven version over a decade old, and from before the mandatory usage of https of more than 2 years (<a href=\"https://support.sonatype.com/hc/en-us/articles/360041287334\" rel=\"nofollow noreferrer\">support.sonatype.com/hc/en-us/articles/360041287334</a>)?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1660805984,"post_id":73397042,"comment_id":129620558,"body_markdown":"Eclipse is out of date, the used maven-compiler-plugin is extremely old and as already mentioned http usage instead of https!","body":"Eclipse is out of date, the used maven-compiler-plugin is extremely old and as already mentioned http usage instead of https!"}],"owner":{"account_id":9193771,"reputation":19,"user_id":6833263,"display_name":"Vasavi Balakrishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660792390,"creation_date":1660792390,"question_id":73397042,"body_markdown":"IM using eclipse java 2021-03-R and java jdk1.8.0  as i tried to configure the java project to maven Im getting error and im unable to clear. Pls help. Im trying to learn selenium automation.Please help.\r\n\r\noreException: Could not calculate build plan: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-compiler-plugin:jar:2.3.2: ArtifactResolutionException: Failure to transfer org.apache.maven.plugins:maven-compiler-plugin:pom:2.3.2 from http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.apache.maven.plugins:maven-compiler-plugin:pom:2.3.2 from/to central (http://repo.maven.apache.org/maven2): Failed to transfer http://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.pom. Error code 501, HTTPS Required","title":"maven configuration plugin issue","body":"<p>IM using eclipse java 2021-03-R and java jdk1.8.0  as i tried to configure the java project to maven Im getting error and im unable to clear. Pls help. Im trying to learn selenium automation.Please help.</p>\n<p>oreException: Could not calculate build plan: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-compiler-plugin:jar:2.3.2: ArtifactResolutionException: Failure to transfer org.apache.maven.plugins:maven-compiler-plugin:pom:2.3.2 from <a href=\"http://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2</a> was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.apache.maven.plugins:maven-compiler-plugin:pom:2.3.2 from/to central (<a href=\"http://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2</a>): Failed to transfer <a href=\"http://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.pom\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.pom</a>. Error code 501, HTTPS Required</p>\n"},{"tags":["java","linux","docker","kubernetes","jprofiler"],"comments":[{"owner":{"account_id":3302072,"reputation":3582,"user_id":2777988,"display_name":"Rakesh Gupta"},"score":0,"creation_date":1621265605,"post_id":67572107,"comment_id":119437348,"body_markdown":"Add more details please.","body":"Add more details please."}],"answers":[{"tags":[],"owner":{"account_id":4598065,"reputation":115,"user_id":3729567,"accept_rate":60,"display_name":"Anmol Dubey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621278521,"creation_date":1621278521,"answer_id":67575711,"question_id":67572107,"body_markdown":"Apparently, the container image used was not having the required libraries.  I used a different image with libraries and made it work.","title":"Error loading shared library libstdc++.so.6: No such file or directory (needed by)","body":"<p>Apparently, the container image used was not having the required libraries.  I used a different image with libraries and made it work.</p>\n"},{"tags":[],"owner":{"account_id":20659465,"reputation":21,"user_id":15167748,"display_name":"llllb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625575757,"creation_date":1625575757,"answer_id":68270880,"question_id":67572107,"body_markdown":"I know export *.so to LD_LIBRARY_PATH,then the program can find it.\r\n\r\n``` export LD_LIBRARY_PATH=path1:path2 ```\r\n\r\nbut I want know that do not use the LD_LIBRARY_PATH, how to find *.so\r\n\r\nI try write like ```-agentpath:a.so:b.so=opt1=x,opt2=y```,but it is not work","title":"Error loading shared library libstdc++.so.6: No such file or directory (needed by)","body":"<p>I know export *.so to LD_LIBRARY_PATH,then the program can find it.</p>\n<p><code>export LD_LIBRARY_PATH=path1:path2</code></p>\n<p>but I want know that do not use the LD_LIBRARY_PATH, how to find *.so</p>\n<p>I try write like <code>-agentpath:a.so:b.so=opt1=x,opt2=y</code>,but it is not work</p>\n"},{"tags":[],"owner":{"account_id":1422690,"reputation":1153,"user_id":1346990,"display_name":"Ridox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660791006,"creation_date":1660791006,"answer_id":73396909,"question_id":67572107,"body_markdown":"you need add the missing shared library.\r\n\r\nRUN this cmd can fix it: `apk add libstdc++6 libstdc++`","title":"Error loading shared library libstdc++.so.6: No such file or directory (needed by)","body":"<p>you need add the missing shared library.</p>\n<p>RUN this cmd can fix it: <code>apk add libstdc++6 libstdc++</code></p>\n"}],"owner":{"account_id":4598065,"reputation":115,"user_id":3729567,"accept_rate":60,"display_name":"Anmol Dubey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2934,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67575711,"answer_count":3,"score":0,"last_activity_date":1660791006,"creation_date":1621263320,"question_id":67572107,"body_markdown":"I am seeing the following error while trying to attach jprofiler to my zulu jvm inside a container.\r\n\r\nError :\r\n\r\n```\r\nError loading shared library libstdc++.so.6: No such file or directory (needed by\r\n```\r\n\r\nJVM argument passed:\r\n\r\n```\r\n-agentpath:/data/jprofiler11.0.2/bin/linux-x86/libjprofilerti.so=port=8849,nowait\r\n```","title":"Error loading shared library libstdc++.so.6: No such file or directory (needed by)","body":"<p>I am seeing the following error while trying to attach jprofiler to my zulu jvm inside a container.</p>\n<p>Error :</p>\n<pre><code>Error loading shared library libstdc++.so.6: No such file or directory (needed by\n</code></pre>\n<p>JVM argument passed:</p>\n<pre><code>-agentpath:/data/jprofiler11.0.2/bin/linux-x86/libjprofilerti.so=port=8849,nowait\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":427076,"reputation":2255,"user_id":808655,"accept_rate":90,"display_name":"skyman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660790405,"creation_date":1660790405,"answer_id":73396869,"question_id":73215081,"body_markdown":"For reference, in case others stumble across this question.  I decided to use a different Conditional to solve this issue.  The code block follows.  Note 1) the &quot;conditional&quot; data was read from application.properties and 2) multiple resource files can be loaded.  Hope this helps someone!\r\n\r\n    @Configuration\r\n    @ConditionalOnProperty(\r\n    \t\tprefix = &quot;myappname&quot;, \r\n    \t\tname = &quot;initialize&quot;, \r\n    \t\thavingValue = &quot;true&quot;, \r\n    \t\tmatchIfMissing = false)\r\n    public class PreLoader {\r\n\t@Bean\r\n\tJackson2RepositoryPopulatorFactoryBean getRespositoryPopulatorNameType() {\r\n\t\tJackson2RepositoryPopulatorFactoryBean factory = new Jackson2RepositoryPopulatorFactoryBean();\r\n\r\n\t\tfinal Logger log = LoggerFactory.getLogger(Jackson2RepositoryPopulatorFactoryBean.class);\r\n\r\n\t\tResource[] resources = null;\r\n\r\n\t\ttry {\r\n\t\t\tresources = new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:*-data.json&quot;);\r\n\r\n\t\t\tlog.debug(&quot;Found {} resources for preloading:&quot;, resources.length);\r\n\t\t\tfor (Resource resource : resources) {\r\n\t\t\t\tlog.debug(resource.toString());\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tfactory.setResources(resources);\r\n\t\treturn factory;\r\n    \t}\r\n    }\r\n\r\n","title":"Autopopulate Database with Spring Boot","body":"<p>For reference, in case others stumble across this question.  I decided to use a different Conditional to solve this issue.  The code block follows.  Note 1) the &quot;conditional&quot; data was read from application.properties and 2) multiple resource files can be loaded.  Hope this helps someone!</p>\n<pre><code>@Configuration\n@ConditionalOnProperty(\n        prefix = &quot;myappname&quot;, \n        name = &quot;initialize&quot;, \n        havingValue = &quot;true&quot;, \n        matchIfMissing = false)\npublic class PreLoader {\n@Bean\nJackson2RepositoryPopulatorFactoryBean getRespositoryPopulatorNameType() {\n    Jackson2RepositoryPopulatorFactoryBean factory = new Jackson2RepositoryPopulatorFactoryBean();\n\n    final Logger log = LoggerFactory.getLogger(Jackson2RepositoryPopulatorFactoryBean.class);\n\n    Resource[] resources = null;\n\n    try {\n        resources = new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:*-data.json&quot;);\n\n        log.debug(&quot;Found {} resources for preloading:&quot;, resources.length);\n        for (Resource resource : resources) {\n            log.debug(resource.toString());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    factory.setResources(resources);\n    return factory;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":427076,"reputation":2255,"user_id":808655,"accept_rate":90,"display_name":"skyman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73396869,"answer_count":1,"score":0,"last_activity_date":1660790405,"creation_date":1659486246,"question_id":73215081,"body_markdown":"I have a Spring Boot application that uses a large number pre-populated tables.  The content of these tables can change between instances.  I currently load the tables from JSON files using the following code:\r\n\r\n    @Configuration\r\n    public class PreLoader {\r\n    \t\r\n        @Bean\r\n        @Conditional(PreloadCondition.class)\r\n    \tJackson2RepositoryPopulatorFactoryBean getRespositoryPopulatorNameType() {\r\n    \t\tJackson2RepositoryPopulatorFactoryBean factory = new Jackson2RepositoryPopulatorFactoryBean();\r\n    \t\t\r\n    \t\tfinal Logger log = LoggerFactory.getLogger(Jackson2RepositoryPopulatorFactoryBean.class);\r\n    \t\t\r\n    \t\tResource[] resources = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tresources = new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:*-data.json&quot;);\r\n    \t\t\t\r\n    \t\t\tlog.debug(&quot;Found {} resources for preloading:&quot;, resources.length);\r\n    \t\t\tfor (Resource resource : resources) {\r\n    \t\t\t\tlog.debug(resource.toString());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tfactory.setResources(resources);\r\n    \t\treturn factory;\r\n    \t}\r\n    }\r\n\r\nHow can I modify this code to run only on initialization of the database?  I have tried using @Conditional as follows:\r\n\r\n    @Configurable\r\n    public class PreloadCondition implements Condition {\r\n    \t\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager entityManager;\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n    \t    return tableExistsService.exists(&quot;identity_use&quot;);\r\n    \t}\r\n    \t\r\n    \tstatic boolean tableExistsSQL(Connection connection, String tableName) throws SQLException {\r\n    \t    PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT count(*) &quot;\r\n    \t      + &quot;FROM information_schema.tables &quot;\r\n    \t      + &quot;WHERE table_name = ?&quot;\r\n    \t      + &quot;LIMIT 1;&quot;);\r\n    \t    preparedStatement.setString(1, tableName);\r\n    \r\n    \t    ResultSet resultSet = preparedStatement.executeQuery();\r\n    \t    resultSet.next();\r\n    \t    return resultSet.getInt(1) != 0;\r\n    \t}\r\n    }\r\n\r\n\r\nHowever, the entityManager is null - possibly because the class is not &quot;Spring managed&quot;?  @Configurable does not seem to help?","title":"Autopopulate Database with Spring Boot","body":"<p>I have a Spring Boot application that uses a large number pre-populated tables.  The content of these tables can change between instances.  I currently load the tables from JSON files using the following code:</p>\n<pre><code>@Configuration\npublic class PreLoader {\n    \n    @Bean\n    @Conditional(PreloadCondition.class)\n    Jackson2RepositoryPopulatorFactoryBean getRespositoryPopulatorNameType() {\n        Jackson2RepositoryPopulatorFactoryBean factory = new Jackson2RepositoryPopulatorFactoryBean();\n        \n        final Logger log = LoggerFactory.getLogger(Jackson2RepositoryPopulatorFactoryBean.class);\n        \n        Resource[] resources = null;\n        \n        try {\n            resources = new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:*-data.json&quot;);\n            \n            log.debug(&quot;Found {} resources for preloading:&quot;, resources.length);\n            for (Resource resource : resources) {\n                log.debug(resource.toString());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        factory.setResources(resources);\n        return factory;\n    }\n}\n</code></pre>\n<p>How can I modify this code to run only on initialization of the database?  I have tried using @Conditional as follows:</p>\n<pre><code>@Configurable\npublic class PreloadCondition implements Condition {\n    \n    @PersistenceContext\n    private EntityManager entityManager;\n    \n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return tableExistsService.exists(&quot;identity_use&quot;);\n    }\n    \n    static boolean tableExistsSQL(Connection connection, String tableName) throws SQLException {\n        PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT count(*) &quot;\n          + &quot;FROM information_schema.tables &quot;\n          + &quot;WHERE table_name = ?&quot;\n          + &quot;LIMIT 1;&quot;);\n        preparedStatement.setString(1, tableName);\n\n        ResultSet resultSet = preparedStatement.executeQuery();\n        resultSet.next();\n        return resultSet.getInt(1) != 0;\n    }\n}\n</code></pre>\n<p>However, the entityManager is null - possibly because the class is not &quot;Spring managed&quot;?  @Configurable does not seem to help?</p>\n"},{"tags":["java","linux","time"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660601812,"post_id":73366912,"comment_id":129566466,"body_markdown":"If you know what you‚Äôre doing, you can always use `LocalDateTime.now(yourDesiredTimeZoneId)`. For example `LocalDateTime.now(ZoneId.of(&quot;Europe/Copenhagen&quot;))`.","body":"If you know what you‚Äôre doing, you can always use <code>LocalDateTime.now(yourDesiredTimeZoneId)</code>. For example <code>LocalDateTime.now(ZoneId.of(&quot;Europe&#47;Copenhagen&quot;))</code>."},{"owner":{"account_id":2991010,"reputation":616,"user_id":3000680,"accept_rate":82,"display_name":"Sumsar1812"},"score":0,"creation_date":1660601914,"post_id":73366912,"comment_id":129566479,"body_markdown":"Yea I know I could also do that, but thx though! The problem still persist for the programs/plugins that isnt my own that use LocalDateTime.now()","body":"Yea I know I could also do that, but thx though! The problem still persist for the programs/plugins that isnt my own that use LocalDateTime.now()"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660601950,"post_id":73366912,"comment_id":129566483,"body_markdown":"Maybe the JVM default time zone has been set to UTC. That happens. To check, try `System.out.println(ZoneId.systemDefault());`.","body":"Maybe the JVM default time zone has been set to UTC. That happens. To check, try <code>System.out.println(ZoneId.systemDefault());</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1660602095,"post_id":73366912,"comment_id":129566510,"body_markdown":"The problem is that a plugin ‚Äî the same one or a different one ‚Äî may set the JVM default time zone. If that‚Äôs the issue, I can‚Äôt tell you the solution. Other than, as I said already, not rely on it. Which is always a good and sound idea.","body":"The problem is that a plugin ‚Äî the same one or a different one ‚Äî may set the JVM default time zone. If that‚Äôs the issue, I can‚Äôt tell you the solution. Other than, as I said already, not rely on it. Which is always a good and sound idea."},{"owner":{"account_id":2991010,"reputation":616,"user_id":3000680,"accept_rate":82,"display_name":"Sumsar1812"},"score":0,"creation_date":1660602344,"post_id":73366912,"comment_id":129566552,"body_markdown":"@OleV.V. it also happens if I just build a standalone jar only containing a print of LocalDateTime.now() (like this https://gyazo.com/4d76e2614be8b17f8a08e77c610569ee) so I don&#39;t suspect its another plugin or am i wrong?","body":"@OleV.V. it also happens if I just build a standalone jar only containing a print of LocalDateTime.now() (like this <a href=\"https://gyazo.com/4d76e2614be8b17f8a08e77c610569ee\" rel=\"nofollow noreferrer\">gyazo.com/4d76e2614be8b17f8a08e77c610569ee</a>) so I don&#39;t suspect its another plugin or am i wrong?"},{"owner":{"account_id":2991010,"reputation":616,"user_id":3000680,"accept_rate":82,"display_name":"Sumsar1812"},"score":0,"creation_date":1660602367,"post_id":73366912,"comment_id":129566555,"body_markdown":"The ZoneId.systemDefault() do return Etc/UTC","body":"The ZoneId.systemDefault() do return Etc/UTC"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660602493,"post_id":73366912,"comment_id":129566577,"body_markdown":"Bingo! You may start `java` with `-Duser.timezone=Europe/Copenhagen`. It works until some plugin sets it otherwise ‚Ä¶ :-( Does this answer your question? [How to set a JVM TimeZone Properly](https://stackoverflow.com/questions/2493749/how-to-set-a-jvm-timezone-properly)","body":"Bingo! You may start <code>java</code> with <code>-Duser.timezone=Europe&#47;Copenhagen</code>. It works until some plugin sets it otherwise ‚Ä¶ :-( Does this answer your question? <a href=\"https://stackoverflow.com/questions/2493749/how-to-set-a-jvm-timezone-properly\">How to set a JVM TimeZone Properly</a>"},{"owner":{"account_id":2991010,"reputation":616,"user_id":3000680,"accept_rate":82,"display_name":"Sumsar1812"},"score":0,"creation_date":1660602890,"post_id":73366912,"comment_id":129566640,"body_markdown":"@OleV.V. But if this runs by itself, and not as a plugin then nothing should be able to set it right?. I tried to run the jar with your argument but it didnt change the time, it still returns the universal time","body":"@OleV.V. But if this runs by itself, and not as a plugin then nothing should be able to set it right?. I tried to run the jar with your argument but it didnt change the time, it still returns the universal time"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660602963,"post_id":73366912,"comment_id":129566658,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/247297/discussion-between-ole-v-v-and-sumsar1812).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/247297/discussion-between-ole-v-v-and-sumsar1812\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":2991010,"reputation":616,"user_id":3000680,"accept_rate":82,"display_name":"Sumsar1812"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660604339,"creation_date":1660604252,"answer_id":73367171,"question_id":73366912,"body_markdown":"With the help from @OleV.V I got it working with the jvm argument -Duser.timezone=Europe/Paris\r\n\r\nFor example:\r\n\r\n    java -Duser.timezone=Europe/Paris -jar TestProject.jar","title":"LocalDateTime.now() doesnt give the system local time","body":"<p>With the help from @OleV.V I got it working with the jvm argument -Duser.timezone=Europe/Paris</p>\n<p>For example:</p>\n<pre><code>java -Duser.timezone=Europe/Paris -jar TestProject.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660604744,"creation_date":1660604555,"answer_id":73367202,"question_id":73366912,"body_markdown":"# Wrong class\r\n\r\nI cannot imagine a situation where calling `LocalDateTime.now()` is the right thing to do. \r\n\r\nThe `LocalDateTime` class cannot represent a moment, a specific point on the timeline, as it lacks the context of a time zone or offset from UTC. \r\n\r\nWhen you call the `LocalDateTime.now` method, the JVM‚Äôs current default time zone is implicitly applied. But keep in mind that the current default can be changed at runtime, at any moment, by any code in any app within that JVM.\r\n\r\nSimply put, you are using the wrong class.\r\n\r\n# `ZonedDateTime`\r\n\r\nTo capture the current moment as seen in a particular time zone, use `ZonedDateTime` class.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Paris&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\n\r\n\r\n\r\n","title":"LocalDateTime.now() doesnt give the system local time","body":"<h1>Wrong class</h1>\n<p>I cannot imagine a situation where calling <code>LocalDateTime.now()</code> is the right thing to do.</p>\n<p>The <code>LocalDateTime</code> class cannot represent a moment, a specific point on the timeline, as it lacks the context of a time zone or offset from UTC.</p>\n<p>When you call the <code>LocalDateTime.now</code> method, the JVM‚Äôs current default time zone is implicitly applied. But keep in mind that the current default can be changed at runtime, at any moment, by any code in any app within that JVM.</p>\n<p>Simply put, you are using the wrong class.</p>\n<h1><code>ZonedDateTime</code></h1>\n<p>To capture the current moment as seen in a particular time zone, use <code>ZonedDateTime</code> class.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Paris&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n"}],"owner":{"account_id":2991010,"reputation":616,"user_id":3000680,"accept_rate":82,"display_name":"Sumsar1812"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660789748,"creation_date":1660601565,"question_id":73366912,"body_markdown":"I have a problem with `LocalDateTime.now()` returning the wrong time(off by 2 hours, the same as the timezone)\r\n\r\nWhen I check the linux server the `date` command returns the right time, running `hwclock -r` shows the right time too.\r\n\r\nThis is from the command `timedatectl`\r\nhttps://gyazo.com/9c70f5719a03492e0d7fdff3128f2f1d\r\n\r\nThe local time is what is shown in `date` and `hwclock -r` but `LocalDateTime.now()` returns the universal time/RTC time \r\n\r\nEven MySQL shows the local time (doing `SELECT NOW()`)\r\n\r\nAny ideas to why/what I have to change to make `LocalDateTime.now()` return the correct time - I know I could use a `ZonedTimeZone` but this is not only for my own projects but it also applies to other java programs/plugins running on the machine that I don&#39;t have control over","title":"LocalDateTime.now() doesnt give the system local time","body":"<p>I have a problem with <code>LocalDateTime.now()</code> returning the wrong time(off by 2 hours, the same as the timezone)</p>\n<p>When I check the linux server the <code>date</code> command returns the right time, running <code>hwclock -r</code> shows the right time too.</p>\n<p>This is from the command <code>timedatectl</code>\n<a href=\"https://gyazo.com/9c70f5719a03492e0d7fdff3128f2f1d\" rel=\"nofollow noreferrer\">https://gyazo.com/9c70f5719a03492e0d7fdff3128f2f1d</a></p>\n<p>The local time is what is shown in <code>date</code> and <code>hwclock -r</code> but <code>LocalDateTime.now()</code> returns the universal time/RTC time</p>\n<p>Even MySQL shows the local time (doing <code>SELECT NOW()</code>)</p>\n<p>Any ideas to why/what I have to change to make <code>LocalDateTime.now()</code> return the correct time - I know I could use a <code>ZonedTimeZone</code> but this is not only for my own projects but it also applies to other java programs/plugins running on the machine that I don't have control over</p>\n"},{"tags":["java","streaming","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660788480,"creation_date":1660788480,"answer_id":73396679,"question_id":73387068,"body_markdown":"Have you checked the official docs?\r\nhttps://micrometer.io/docs/registry/prometheus","title":"Is there any way to expose Prometheus api in core java without using spring boot","body":"<p>Have you checked the official docs?\n<a href=\"https://micrometer.io/docs/registry/prometheus\" rel=\"nofollow noreferrer\">https://micrometer.io/docs/registry/prometheus</a></p>\n"}],"owner":{"account_id":10009991,"reputation":29,"user_id":7633784,"display_name":"Gautami khante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1660788480,"creation_date":1660732906,"question_id":73387068,"body_markdown":"I have a java application which uses streaming. I have to implement micrometer in that application.\r\nThe application is not based on spring boot but instead it is core java.\r\nI have this link for reference but it is all I could find which is not that elaborate.\r\nhttps://tanzu.vmware.com/developer/learningpaths/application-observability/exposing-metrics-java-prometheus/ \r\nPlease refer &quot;Vanilla Java reference&quot;","title":"Is there any way to expose Prometheus api in core java without using spring boot","body":"<p>I have a java application which uses streaming. I have to implement micrometer in that application.\nThe application is not based on spring boot but instead it is core java.\nI have this link for reference but it is all I could find which is not that elaborate.\n<a href=\"https://tanzu.vmware.com/developer/learningpaths/application-observability/exposing-metrics-java-prometheus/\" rel=\"nofollow noreferrer\">https://tanzu.vmware.com/developer/learningpaths/application-observability/exposing-metrics-java-prometheus/</a>\nPlease refer &quot;Vanilla Java reference&quot;</p>\n"},{"tags":["java","db2","spring-batch"],"comments":[{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":0,"creation_date":1495744675,"post_id":44189400,"comment_id":75392705,"body_markdown":"DB2 != MySQL, don&#39;t spam tags","body":"DB2 != MySQL, don&#39;t spam tags"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1495745845,"post_id":44189400,"comment_id":75393303,"body_markdown":"You seem to be using an old version (4.15.82) of the JDBC driver. Try upgrading to latest version.","body":"You seem to be using an old version (4.15.82) of the JDBC driver. Try upgrading to latest version."},{"owner":{"account_id":10777566,"reputation":737,"user_id":7929017,"accept_rate":55,"display_name":"rocky"},"score":0,"creation_date":1495782700,"post_id":44189400,"comment_id":75404641,"body_markdown":"thanks  @Andreas , I am using spring boot 1.5.3.RELEASE and its picking 1.5.3.RELEASE version of JDBC driver, so thats not a issue I guess.","body":"thanks  @Andreas , I am using spring boot 1.5.3.RELEASE and its picking 1.5.3.RELEASE version of JDBC driver, so thats not a issue I guess."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1496041878,"post_id":44189400,"comment_id":75482785,"body_markdown":"What do you mean by `1.5.3.RELEASE version of JDBC driver` ? Spring Boot doesn&#39;t include IBM DB2 drivers. Are you not including that as separate dependency?","body":"What do you mean by <code>1.5.3.RELEASE version of JDBC driver</code> ? Spring Boot doesn&#39;t include IBM DB2 drivers. Are you not including that as separate dependency?"},{"owner":{"account_id":10777566,"reputation":737,"user_id":7929017,"accept_rate":55,"display_name":"rocky"},"score":0,"creation_date":1496045015,"post_id":44189400,"comment_id":75484446,"body_markdown":"@SabirKhan what i mean is , as I&#39;m using spring boot it is managing version for JDBC","body":"@SabirKhan what i mean is , as I&#39;m using spring boot it is managing version for JDBC"},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1496046821,"post_id":44189400,"comment_id":75485443,"body_markdown":"JDBC &amp; Actual driver are two very different things. Asking again - Are you not including db2 drivers as separate dependency? if yes, what version is your DB2 server?","body":"JDBC &amp; Actual driver are two very different things. Asking again - Are you not including db2 drivers as separate dependency? if yes, what version is your DB2 server?"},{"owner":{"account_id":10777566,"reputation":737,"user_id":7929017,"accept_rate":55,"display_name":"rocky"},"score":0,"creation_date":1496048081,"post_id":44189400,"comment_id":75486135,"body_markdown":"@SabirKhan yes I am using separate db2 driver i.e of version 10.1","body":"@SabirKhan yes I am using separate db2 driver i.e of version 10.1"}],"answers":[{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496052376,"creation_date":1496051623,"answer_id":44239528,"question_id":44189400,"body_markdown":"These are just few suggestions and not necessarily result in solution, \r\n\r\n1.Execute query on prompt to see if there is data for query - `Select CORP_ACCT_ID from SAMS.AFLT_ACCT FETCH FIRST 100 ROWS ONLY` \r\n\r\n2.See if there are no special characters or missing spaces in your query\r\n\r\n3.Are meta data tables present and entries made to those six tables?\r\n\r\n4.Try running job by removing clause - `FETCH FIRST 100 ROWS ONLY` on some small table to see if issue is caused by that clause\r\n\r\n5.As per [this chart](http://www-01.ibm.com/support/docview.wss?uid=swg21363866), your driver version ( 4.15.82 ) seems correct for version 10.1 FP2 but you can try upgrading your driver ( though as last option)\r\n\r\nI run your job as is and it completes as shown in below logs. I had changed table &amp; schema to ones that I have. I have DB2 database and six Spring batch meta data tables ready.\r\n\r\nAlso, I have verified that point # 1 is invalid as I don&#39;t get any errors even if target read table is empty. \r\n\r\nFor your error, nothing specific other than driver version or sql syntax could be said. \r\n\r\n    2017-05-29 15:04:02.772  INFO 10368 --- [           main] configuration.ConfigurationClass         : Starting ConfigurationClass on dev-C1BF-mdsabi with PID 10368 (D:\\workspace\\cursoritemreader\\target\\classes started by mdsabir.khan in D:\\workspace\\cursoritemreader)\r\n    2017-05-29 15:04:02.775  INFO 10368 --- [           main] configuration.ConfigurationClass         : No active profile set, falling back to default profiles: default\r\n    2017-05-29 15:04:02.816  INFO 10368 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@429bd883: startup date [Mon May 29 15:04:02 IST 2017]; root of context hierarchy\r\n    2017-05-29 15:04:03.256  WARN 10368 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring&#39;s BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method&#39;s declaring @Configuration class. Add the &#39;static&#39; modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\r\n    2017-05-29 15:04:03.266  WARN 10368 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring&#39;s BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method&#39;s declaring @Configuration class. Add the &#39;static&#39; modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\r\n    2017-05-29 15:04:19.683  INFO 10368 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/batch/core/schema-db2.sql]\r\n    2017-05-29 15:04:22.477  INFO 10368 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/batch/core/schema-db2.sql] in 2794 ms.\r\n    2017-05-29 15:04:22.637  INFO 10368 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n    2017-05-29 15:04:22.648  INFO 10368 --- [           main] o.s.b.a.b.JobLauncherCommandLineRunner   : Running default command line with: []\r\n    2017-05-29 15:04:23.203  INFO 10368 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: DB2\r\n    2017-05-29 15:04:23.358  INFO 10368 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n    2017-05-29 15:04:28.097  INFO 10368 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] launched with the following parameters: [{run.id=1}]\r\n    2017-05-29 15:04:38.321  INFO 10368 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [step1]\r\n    2017-05-29 15:04:48.361  INFO 10368 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] completed with the following parameters: [{run.id=1}] and the following status: [COMPLETED]\r\n    2017-05-29 15:04:48.366  INFO 10368 --- [           main] configuration.ConfigurationClass         : Started ConfigurationClass in 45.823 seconds (JVM running for 46.645)\r\n    2017-05-29 15:04:48.368  INFO 10368 --- [       Thread-3] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@429bd883: startup date [Mon May 29 15:04:02 IST 2017]; root of context hierarchy\r\n    2017-05-29 15:04:48.372  INFO 10368 --- [       Thread-3] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\r\n\r\n","title":"Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null","body":"<p>These are just few suggestions and not necessarily result in solution, </p>\n\n<p>1.Execute query on prompt to see if there is data for query - <code>Select CORP_ACCT_ID from SAMS.AFLT_ACCT FETCH FIRST 100 ROWS ONLY</code> </p>\n\n<p>2.See if there are no special characters or missing spaces in your query</p>\n\n<p>3.Are meta data tables present and entries made to those six tables?</p>\n\n<p>4.Try running job by removing clause - <code>FETCH FIRST 100 ROWS ONLY</code> on some small table to see if issue is caused by that clause</p>\n\n<p>5.As per <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21363866\" rel=\"nofollow noreferrer\">this chart</a>, your driver version ( 4.15.82 ) seems correct for version 10.1 FP2 but you can try upgrading your driver ( though as last option)</p>\n\n<p>I run your job as is and it completes as shown in below logs. I had changed table &amp; schema to ones that I have. I have DB2 database and six Spring batch meta data tables ready.</p>\n\n<p>Also, I have verified that point # 1 is invalid as I don't get any errors even if target read table is empty. </p>\n\n<p>For your error, nothing specific other than driver version or sql syntax could be said. </p>\n\n<pre><code>2017-05-29 15:04:02.772  INFO 10368 --- [           main] configuration.ConfigurationClass         : Starting ConfigurationClass on dev-C1BF-mdsabi with PID 10368 (D:\\workspace\\cursoritemreader\\target\\classes started by mdsabir.khan in D:\\workspace\\cursoritemreader)\n2017-05-29 15:04:02.775  INFO 10368 --- [           main] configuration.ConfigurationClass         : No active profile set, falling back to default profiles: default\n2017-05-29 15:04:02.816  INFO 10368 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@429bd883: startup date [Mon May 29 15:04:02 IST 2017]; root of context hierarchy\n2017-05-29 15:04:03.256  WARN 10368 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\n2017-05-29 15:04:03.266  WARN 10368 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\n2017-05-29 15:04:19.683  INFO 10368 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/batch/core/schema-db2.sql]\n2017-05-29 15:04:22.477  INFO 10368 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/batch/core/schema-db2.sql] in 2794 ms.\n2017-05-29 15:04:22.637  INFO 10368 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2017-05-29 15:04:22.648  INFO 10368 --- [           main] o.s.b.a.b.JobLauncherCommandLineRunner   : Running default command line with: []\n2017-05-29 15:04:23.203  INFO 10368 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: DB2\n2017-05-29 15:04:23.358  INFO 10368 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2017-05-29 15:04:28.097  INFO 10368 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] launched with the following parameters: [{run.id=1}]\n2017-05-29 15:04:38.321  INFO 10368 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [step1]\n2017-05-29 15:04:48.361  INFO 10368 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] completed with the following parameters: [{run.id=1}] and the following status: [COMPLETED]\n2017-05-29 15:04:48.366  INFO 10368 --- [           main] configuration.ConfigurationClass         : Started ConfigurationClass in 45.823 seconds (JVM running for 46.645)\n2017-05-29 15:04:48.368  INFO 10368 --- [       Thread-3] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@429bd883: startup date [Mon May 29 15:04:02 IST 2017]; root of context hierarchy\n2017-05-29 15:04:48.372  INFO 10368 --- [       Thread-3] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8225641,"reputation":31,"user_id":6188038,"display_name":"riteshk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650992293,"creation_date":1650981755,"answer_id":72015337,"question_id":44189400,"body_markdown":"I was getting similar error with spring boot and db2 while using JPA. In my case I solved it as below:\r\n\r\n1. Had issue with the query I was using - identified by enabling hibernate logs and executing the query manually using sql client\r\n\r\n2. I was using @Query annotation in my repository class without using @Modifying for update queries. This was the main reason for getting &quot;Method executeQuery cannot be used for update...&quot; error.","title":"Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null","body":"<p>I was getting similar error with spring boot and db2 while using JPA. In my case I solved it as below:</p>\n<ol>\n<li><p>Had issue with the query I was using - identified by enabling hibernate logs and executing the query manually using sql client</p>\n</li>\n<li><p>I was using @Query annotation in my repository class without using @Modifying for update queries. This was the main reason for getting &quot;Method executeQuery cannot be used for update...&quot; error.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9021944,"reputation":1,"user_id":6722728,"display_name":"silentstone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660788144,"creation_date":1660788144,"answer_id":73396650,"question_id":44189400,"body_markdown":"Suggest you to execute the SQL in Commander. I confronted the mistake and found a special character by CMD tool.  ","title":"Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null","body":"<p>Suggest you to execute the SQL in Commander. I confronted the mistake and found a special character by CMD tool.</p>\n"}],"owner":{"account_id":10777566,"reputation":737,"user_id":7929017,"accept_rate":55,"display_name":"rocky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1660788144,"creation_date":1495744524,"question_id":44189400,"body_markdown":"I am using Spring batch framework to read from db2 and getting error. Please note that same is working fine with Mysql. \r\nWhen using db2 its making entry in meta tables. \r\n\r\n**BatchConfig.java**\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfiguration {\r\n    \t\r\n    \t@Autowired\r\n    \tpublic JobBuilderFactory jobBuilderFactory;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic StepBuilderFactory stepBuilderFactory;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic DataSource dataSource;\r\n    \t\r\n    \t@Bean\r\n    \tpublic JdbcCursorItemReader&lt;User&gt; reader()\r\n    \t{\r\n    \t\tJdbcCursorItemReader&lt;User&gt; reader=new JdbcCursorItemReader&lt;&gt;();\r\n    \t\treader.setDataSource(dataSource);\r\n    \t\treader.setSql(&quot;Select&#160;CORP_ACCT_ID&#160;from&#160;SAMS.AFLT_ACCT FETCH FIRST 100 ROWS ONLY&quot;);\r\n    \t\treader.setRowMapper(new UserRowerMapper());\r\n    \t\treturn reader;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UserItemProcessor processor()\r\n    \t{\r\n    \t\treturn new UserItemProcessor();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Step step1()\r\n    \t{\r\n    \t\treturn stepBuilderFactory.get(&quot;step1&quot;).&lt;User,User&gt;chunk(10)\r\n    \t\t\t\t.reader(reader())\r\n    \t\t\t\t.processor(processor())\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Job job1()\r\n    \t{\r\n    \t\treturn jobBuilderFactory.get(&quot;jobakaj&quot;)\r\n    \t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t.flow(step1())\r\n    \t\t\t\t.end()\r\n    \t\t\t\t.build();\r\n    \t\t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**Error trace**\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v1.5.3.RELEASE)\r\n    \r\n    2017-05-26 01:50:43.321  INFO 1980 --- [           main] c.s.cat.SpringBatchDbReadApplication     : Starting SpringBatchDbReadApplication on KVMOF0487DVLBDC with PID 1980 (C:\\Users\\pankaj.k.singh\\Documents\\workspace-test-3\\SpringBatch-DBRead\\target\\classes started by pankaj.k.singh in C:\\Users\\pankaj.k.singh\\Documents\\workspace-test-3\\SpringBatch-DBRead)\r\n    2017-05-26 01:50:43.325  INFO 1980 --- [           main] c.s.cat.SpringBatchDbReadApplication     : No active profile set, falling back to default profiles: default\r\n    2017-05-26 01:50:43.383  INFO 1980 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@15d9bc04: startup date [Fri May 26 01:50:43 IST 2017]; root of context hierarchy\r\n    2017-05-26 01:50:44.022  WARN 1980 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring&#39;s BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method&#39;s declaring @Configuration class. Add the &#39;static&#39; modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\r\n    2017-05-26 01:50:44.040  WARN 1980 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring&#39;s BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method&#39;s declaring @Configuration class. Add the &#39;static&#39; modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\r\n    2017-05-26 01:50:45.212  INFO 1980 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/batch/core/schema-db2.sql]\r\n    2017-05-26 01:50:45.260  INFO 1980 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/batch/core/schema-db2.sql] in 48 ms.\r\n    2017-05-26 01:50:45.472  INFO 1980 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n    2017-05-26 01:50:45.489  INFO 1980 --- [           main] o.s.b.a.b.JobLauncherCommandLineRunner   : Running default command line with: [--spring.output.ansi.enabled=always]\r\n    2017-05-26 01:50:45.504  INFO 1980 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: DB2ZOS\r\n    2017-05-26 01:50:45.645  INFO 1980 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n    2017-05-26 01:50:45.833  INFO 1980 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] launched with the following parameters: [{run.id=1, -spring.output.ansi.enabled=always}]\r\n    2017-05-26 01:50:45.950  INFO 1980 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [step1]\r\n    2017-05-26 01:50:45.971  INFO 1980 --- [           main] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]\r\n    2017-05-26 01:50:46.106  INFO 1980 --- [           main] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]\r\n    2017-05-26 01:50:46.117 ERROR 1980 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step step1 in job jobakaj\r\n    \r\n    org.springframework.batch.item.ItemStreamException: Failed to initialize the reader\r\n    \tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:147) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.item.support.CompositeItemStream.open(CompositeItemStream.java:96) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep.open(TaskletStep.java:310) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:197) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat com.sun.proxy.$Proxy44.run(Unknown Source) [na:na]\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.execute(JobLauncherCommandLineRunner.java:214) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.executeLocalJobs(JobLauncherCommandLineRunner.java:231) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.launchJobFromProperties(JobLauncherCommandLineRunner.java:123) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.run(JobLauncherCommandLineRunner.java:117) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:776) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:760) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:747) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\r\n    \tat com.schwab.cat.SpringBatchDbReadApplication.main(SpringBatchDbReadApplication.java:10) [classes/:na]\r\n    Caused by: org.springframework.jdbc.UncategorizedSQLException: Executing query; uncategorized SQLException for SQL [Select&#160;CORP_ACCT_ID&#160;from&#160;SAMS.AFLT_ACCT FETCH FIRST 100 ROWS ONLY]; SQL state [null]; error code [-4476]; [jcc][10103][10941][4.15.82] Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null; nested exception is com.ibm.db2.jcc.am.SqlException: [jcc][10103][10941][4.15.82] Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n    \tat org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:131) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:406) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:144) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \t... 35 common frames omitted\r\n    Caused by: com.ibm.db2.jcc.am.SqlException: [jcc][10103][10941][4.15.82] Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null\r\n    \tat com.ibm.db2.jcc.am.fd.a(fd.java:680) ~[db2jcc4.jar:na]\r\n    \tat com.ibm.db2.jcc.am.fd.a(fd.java:60) ~[db2jcc4.jar:na]\r\n    \tat com.ibm.db2.jcc.am.fd.a(fd.java:120) ~[db2jcc4.jar:na]\r\n    \tat com.ibm.db2.jcc.am.po.a(po.java:4378) ~[db2jcc4.jar:na]\r\n    \tat com.ibm.db2.jcc.am.qo.b(qo.java:4136) ~[db2jcc4.jar:na]\r\n    \tat com.ibm.db2.jcc.am.qo.hc(qo.java:760) ~[db2jcc4.jar:na]\r\n    \tat com.ibm.db2.jcc.am.qo.executeQuery(qo.java:725) ~[db2jcc4.jar:na]\r\n    \tat sun.reflect.GeneratedMethodAccessor13.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\r\n    \tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.14.jar:na]\r\n    \tat com.sun.proxy.$Proxy56.executeQuery(Unknown Source) ~[na:na]\r\n    \tat org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:126) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n    \t... 37 common frames omitted\r\n    \r\n    2017-05-26 01:50:46.179  INFO 1980 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] completed with the following parameters: [{run.id=1, -spring.output.ansi.enabled=always}] and the following status: [FAILED]\r\n    2017-05-26 01:50:46.180  INFO 1980 --- [           main] c.s.cat.SpringBatchDbReadApplication     : Started SpringBatchDbReadApplication in 3.241 seconds (JVM running for 3.901)\r\n    2017-05-26 01:50:46.184  INFO 1980 --- [       Thread-3] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@15d9bc04: startup date [Fri May 26 01:50:43 IST 2017]; root of context hierarchy\r\n    2017-05-26 01:50:46.188  INFO 1980 --- [       Thread-3] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\r\n\r\n\r\nPlease help!!","title":"Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null","body":"<p>I am using Spring batch framework to read from db2 and getting error. Please note that same is working fine with Mysql. \nWhen using db2 its making entry in meta tables. </p>\n\n<p><strong>BatchConfig.java</strong></p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    public DataSource dataSource;\n\n    @Bean\n    public JdbcCursorItemReader&lt;User&gt; reader()\n    {\n        JdbcCursorItemReader&lt;User&gt; reader=new JdbcCursorItemReader&lt;&gt;();\n        reader.setDataSource(dataSource);\n        reader.setSql(\"Select¬†CORP_ACCT_ID¬†from¬†SAMS.AFLT_ACCT FETCH FIRST 100 ROWS ONLY\");\n        reader.setRowMapper(new UserRowerMapper());\n        return reader;\n    }\n\n    @Bean\n    public UserItemProcessor processor()\n    {\n        return new UserItemProcessor();\n    }\n\n    @Bean\n    public Step step1()\n    {\n        return stepBuilderFactory.get(\"step1\").&lt;User,User&gt;chunk(10)\n                .reader(reader())\n                .processor(processor())\n                .build();\n    }\n\n    @Bean\n    public Job job1()\n    {\n        return jobBuilderFactory.get(\"jobakaj\")\n                .incrementer(new RunIdIncrementer())\n                .flow(step1())\n                .end()\n                .build();\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Error trace</strong></p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.5.3.RELEASE)\n\n2017-05-26 01:50:43.321  INFO 1980 --- [           main] c.s.cat.SpringBatchDbReadApplication     : Starting SpringBatchDbReadApplication on KVMOF0487DVLBDC with PID 1980 (C:\\Users\\pankaj.k.singh\\Documents\\workspace-test-3\\SpringBatch-DBRead\\target\\classes started by pankaj.k.singh in C:\\Users\\pankaj.k.singh\\Documents\\workspace-test-3\\SpringBatch-DBRead)\n2017-05-26 01:50:43.325  INFO 1980 --- [           main] c.s.cat.SpringBatchDbReadApplication     : No active profile set, falling back to default profiles: default\n2017-05-26 01:50:43.383  INFO 1980 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@15d9bc04: startup date [Fri May 26 01:50:43 IST 2017]; root of context hierarchy\n2017-05-26 01:50:44.022  WARN 1980 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\n2017-05-26 01:50:44.040  WARN 1980 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.\n2017-05-26 01:50:45.212  INFO 1980 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/batch/core/schema-db2.sql]\n2017-05-26 01:50:45.260  INFO 1980 --- [           main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/batch/core/schema-db2.sql] in 48 ms.\n2017-05-26 01:50:45.472  INFO 1980 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2017-05-26 01:50:45.489  INFO 1980 --- [           main] o.s.b.a.b.JobLauncherCommandLineRunner   : Running default command line with: [--spring.output.ansi.enabled=always]\n2017-05-26 01:50:45.504  INFO 1980 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: DB2ZOS\n2017-05-26 01:50:45.645  INFO 1980 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2017-05-26 01:50:45.833  INFO 1980 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] launched with the following parameters: [{run.id=1, -spring.output.ansi.enabled=always}]\n2017-05-26 01:50:45.950  INFO 1980 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [step1]\n2017-05-26 01:50:45.971  INFO 1980 --- [           main] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]\n2017-05-26 01:50:46.106  INFO 1980 --- [           main] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]\n2017-05-26 01:50:46.117 ERROR 1980 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step step1 in job jobakaj\n\norg.springframework.batch.item.ItemStreamException: Failed to initialize the reader\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:147) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.item.support.CompositeItemStream.open(CompositeItemStream.java:96) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.tasklet.TaskletStep.open(TaskletStep.java:310) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:197) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at com.sun.proxy.$Proxy44.run(Unknown Source) [na:na]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.execute(JobLauncherCommandLineRunner.java:214) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.executeLocalJobs(JobLauncherCommandLineRunner.java:231) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.launchJobFromProperties(JobLauncherCommandLineRunner.java:123) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.run(JobLauncherCommandLineRunner.java:117) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:776) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:760) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:747) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]\n    at com.schwab.cat.SpringBatchDbReadApplication.main(SpringBatchDbReadApplication.java:10) [classes/:na]\nCaused by: org.springframework.jdbc.UncategorizedSQLException: Executing query; uncategorized SQLException for SQL [Select¬†CORP_ACCT_ID¬†from¬†SAMS.AFLT_ACCT FETCH FIRST 100 ROWS ONLY]; SQL state [null]; error code [-4476]; [jcc][10103][10941][4.15.82] Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null; nested exception is com.ibm.db2.jcc.am.SqlException: [jcc][10103][10941][4.15.82] Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:131) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:406) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:144) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    ... 35 common frames omitted\nCaused by: com.ibm.db2.jcc.am.SqlException: [jcc][10103][10941][4.15.82] Method executeQuery cannot be used for update. ERRORCODE=-4476, SQLSTATE=null\n    at com.ibm.db2.jcc.am.fd.a(fd.java:680) ~[db2jcc4.jar:na]\n    at com.ibm.db2.jcc.am.fd.a(fd.java:60) ~[db2jcc4.jar:na]\n    at com.ibm.db2.jcc.am.fd.a(fd.java:120) ~[db2jcc4.jar:na]\n    at com.ibm.db2.jcc.am.po.a(po.java:4378) ~[db2jcc4.jar:na]\n    at com.ibm.db2.jcc.am.qo.b(qo.java:4136) ~[db2jcc4.jar:na]\n    at com.ibm.db2.jcc.am.qo.hc(qo.java:760) ~[db2jcc4.jar:na]\n    at com.ibm.db2.jcc.am.qo.executeQuery(qo.java:725) ~[db2jcc4.jar:na]\n    at sun.reflect.GeneratedMethodAccessor13.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.14.jar:na]\n    at com.sun.proxy.$Proxy56.executeQuery(Unknown Source) ~[na:na]\n    at org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:126) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    ... 37 common frames omitted\n\n2017-05-26 01:50:46.179  INFO 1980 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=jobakaj]] completed with the following parameters: [{run.id=1, -spring.output.ansi.enabled=always}] and the following status: [FAILED]\n2017-05-26 01:50:46.180  INFO 1980 --- [           main] c.s.cat.SpringBatchDbReadApplication     : Started SpringBatchDbReadApplication in 3.241 seconds (JVM running for 3.901)\n2017-05-26 01:50:46.184  INFO 1980 --- [       Thread-3] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@15d9bc04: startup date [Fri May 26 01:50:43 IST 2017]; root of context hierarchy\n2017-05-26 01:50:46.188  INFO 1980 --- [       Thread-3] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n</code></pre>\n\n<p>Please help!!</p>\n"},{"tags":["java","garbage-collection","limit","overhead"],"comments":[{"owner":{"account_id":3295353,"reputation":4907,"user_id":2772755,"display_name":"Admit"},"score":0,"creation_date":1509227758,"post_id":46994778,"comment_id":80936143,"body_markdown":"Probably you third run occupies too much memory. I would suggest to split your large method into smaller ones. Calling GC manually and Thread.spleep is a wrong approach.","body":"Probably you third run occupies too much memory. I would suggest to split your large method into smaller ones. Calling GC manually and Thread.spleep is a wrong approach."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1613283108,"post_id":46994778,"comment_id":117024868,"body_markdown":"Doing ``list=new ArrayList&lt;&gt;(); list=null;`` just doubles the number of lists that have to be garbage collected. You&#39;re creating a new ArrayList and then immediately setting it to null.","body":"Doing <code>list=new ArrayList&lt;&gt;(); list=null;</code> just doubles the number of lists that have to be garbage collected. You&#39;re creating a new ArrayList and then immediately setting it to null."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1613283177,"post_id":46994778,"comment_id":117024880,"body_markdown":"If you have a lot of appends for a String, use a StringBuilder.","body":"If you have a lot of appends for a String, use a StringBuilder."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1613283375,"post_id":46994778,"comment_id":117024917,"body_markdown":"I&#39;ve only made one problem where calling garbage collection manually was useful, but that was due to speed rather than such a lack of space. Without manually calling the gc, there would be odd pauses in the gui. System.gc() in the event loop solved the problem.","body":"I&#39;ve only made one problem where calling garbage collection manually was useful, but that was due to speed rather than such a lack of space. Without manually calling the gc, there would be odd pauses in the gui. System.gc() in the event loop solved the problem."}],"answers":[{"tags":[],"owner":{"account_id":9950285,"reputation":1410,"user_id":7363235,"display_name":"D M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509230218,"creation_date":1509230218,"answer_id":46995168,"question_id":46994778,"body_markdown":"There&#39;s actually no reason to set `cns` to null at the end of each loop.  You&#39;re setting it to a `new Console()` at the beginning of the loop anyway - if anything could be freed by setting it to null, it&#39;s also going to be freed by setting it to a new object.  \r\n\r\nYou can try a `System.gc();` call to suggest the system do a garbage collection, but I don&#39;t know if that would help you or make it worse.  The system IS already attempting garbage collection - if it wasn&#39;t, you wouldn&#39;t get this error.\r\n\r\nYou don&#39;t show us exactly how you&#39;re building your Strings, but keep in mind that `+=` isn&#39;t the only culprit.  If you have something like `String s = &quot;Hello &quot; +  &quot;to the&quot; + &quot; world&quot;;`, that&#39;s just as bad as putting that on three lines and using `+=`.  If it&#39;s an issue, `StringBuilder` may be your friend.\r\n\r\nYou can read the answers at https://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded for some other suggestions on how to avoid this error.  It seems that for some people it&#39;s triggered when you&#39;re almost, but not quite, out of memory.  So increasing the amount of memory available to Java may (or may not) help.","title":"Avoid &quot;GC overhead limit exceeded&quot; error","body":"<p>There's actually no reason to set <code>cns</code> to null at the end of each loop.  You're setting it to a <code>new Console()</code> at the beginning of the loop anyway - if anything could be freed by setting it to null, it's also going to be freed by setting it to a new object.  </p>\n\n<p>You can try a <code>System.gc();</code> call to suggest the system do a garbage collection, but I don't know if that would help you or make it worse.  The system IS already attempting garbage collection - if it wasn't, you wouldn't get this error.</p>\n\n<p>You don't show us exactly how you're building your Strings, but keep in mind that <code>+=</code> isn't the only culprit.  If you have something like <code>String s = \"Hello \" +  \"to the\" + \" world\";</code>, that's just as bad as putting that on three lines and using <code>+=</code>.  If it's an issue, <code>StringBuilder</code> may be your friend.</p>\n\n<p>You can read the answers at <a href=\"https://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded\">Error java.lang.OutOfMemoryError: GC overhead limit exceeded</a> for some other suggestions on how to avoid this error.  It seems that for some people it's triggered when you're almost, but not quite, out of memory.  So increasing the amount of memory available to Java may (or may not) help.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660788043,"creation_date":1613284198,"answer_id":66192993,"question_id":46994778,"body_markdown":"Basically, an &quot;GC overhead limit exceeded&quot; is a symptom of having too much **reachable** data.  The heap is filling up with things that cannot be garbage collected ... &#39;cos they are not garbage!  The JVM is running the GC again and again in an attempt to make space.  Eventually, it decides that too much time is being spent garbage collecting, and it gives up.  This is *usually* the correct thing to do.\r\n\r\n----------------------\r\n\r\nThe following ideas from your question (and the other answer) **are NOT solutions**.\r\n\r\n1.  Forcing the GC to run by calling `System.gc()` won&#39;t help.  The GC is already running *too often*.\r\n\r\n2.  Assigning `null` to `cns` won&#39;t help.  It immediately gets something else assigned to it.  Besides, there is no evidence that the `Console` object is occupying much memory.\r\n\r\n    (Note that the constructor for the `java.io.Console` class is not `public`, so your example is not meaningful as written.  Perhaps you are actually calling `System.getConsole()`?  Or perhaps this is a different `Console` class?)\r\n\r\n3.  Clearing private attributes of an object before setting it to `null` is unlikely to make any difference.  If an object is not reachable, then the values of its attributes are irrelevant.  The GC won&#39;t even look at them.\r\n\r\n4.  Calling `Thread.sleep()` will make no difference.  The GC runs when it thinks it needs to.  \r\n\r\n------------------------\r\n\r\nThe real problem is ... something that we can&#39;t determine from the evidence that you have provided.   Why is there so much reachable data?\r\n\r\nIn general terms, the two most likely explanations are as follows:\r\n\r\n1.  Your application (or some library you are) is accumulating more and more objects in some data structure that is surviving beyond a single iteration of the `for` loop.  In short, you have a memory leak.\r\n\r\n    To solve this, you need to find the storage leak; see https://stackoverflow.com/questions/40119.  (The leak *could* be related to database connections, statements or resultsets not being closed, but I doubt it.  The GC should find and close these resources if they have become unreachable.)\r\n\r\n2.  Your application simply needs more memory.  For example, if a single call to `processData` needs more memory than is available, you will get an OOME no matter what you try to get the GC to do.  It *cannot* delete reachable objects, and it obviously cannot find enough garbage to fast enough.\r\n\r\n    To solve this, first see if there are ways modify the program so that it *needs* less (reachable) memory,  Here are a couple of ideas:\r\n\r\n    - If you are building a huge string to represent the output before writing it to an `OutputStream`, `Writer` or similar.  You would save memory if you wrote directly to the output sink.\r\n  \r\n    - In some cases, consider using `StringBuilder` rather than `String` concatenation when assembling large strings.  Particularly when the concatenations are looped.   \r\n\r\n      However, note that 1) in Java 8 and earlier `javac` already emits `StringBuilder` sequences for you for concatenation expressions, and 2) in Java 9+, `javac` emits `invokedynamic` code that is *better* than using `StringBuilder`; see\r\n\r\n      - [JDK 9/JEP 280: String Concatenations Will Never Be the Same](https://dzone.com/articles/jdk-9jep-280-string-concatenations-will-never-be-t)\r\n\r\n   If that doesn&#39;t help, increase the JVM&#39;s heap size or split the problem into smaller problems.  Some problems just need lots of memory to solve.\r\n\r\n  ","title":"Avoid &quot;GC overhead limit exceeded&quot; error","body":"<p>Basically, an &quot;GC overhead limit exceeded&quot; is a symptom of having too much <strong>reachable</strong> data.  The heap is filling up with things that cannot be garbage collected ... 'cos they are not garbage!  The JVM is running the GC again and again in an attempt to make space.  Eventually, it decides that too much time is being spent garbage collecting, and it gives up.  This is <em>usually</em> the correct thing to do.</p>\n<hr />\n<p>The following ideas from your question (and the other answer) <strong>are NOT solutions</strong>.</p>\n<ol>\n<li><p>Forcing the GC to run by calling <code>System.gc()</code> won't help.  The GC is already running <em>too often</em>.</p>\n</li>\n<li><p>Assigning <code>null</code> to <code>cns</code> won't help.  It immediately gets something else assigned to it.  Besides, there is no evidence that the <code>Console</code> object is occupying much memory.</p>\n<p>(Note that the constructor for the <code>java.io.Console</code> class is not <code>public</code>, so your example is not meaningful as written.  Perhaps you are actually calling <code>System.getConsole()</code>?  Or perhaps this is a different <code>Console</code> class?)</p>\n</li>\n<li><p>Clearing private attributes of an object before setting it to <code>null</code> is unlikely to make any difference.  If an object is not reachable, then the values of its attributes are irrelevant.  The GC won't even look at them.</p>\n</li>\n<li><p>Calling <code>Thread.sleep()</code> will make no difference.  The GC runs when it thinks it needs to.</p>\n</li>\n</ol>\n<hr />\n<p>The real problem is ... something that we can't determine from the evidence that you have provided.   Why is there so much reachable data?</p>\n<p>In general terms, the two most likely explanations are as follows:</p>\n<ol>\n<li><p>Your application (or some library you are) is accumulating more and more objects in some data structure that is surviving beyond a single iteration of the <code>for</code> loop.  In short, you have a memory leak.</p>\n<p>To solve this, you need to find the storage leak; see <a href=\"https://stackoverflow.com/questions/40119\">How to find a Java Memory Leak</a>.  (The leak <em>could</em> be related to database connections, statements or resultsets not being closed, but I doubt it.  The GC should find and close these resources if they have become unreachable.)</p>\n</li>\n<li><p>Your application simply needs more memory.  For example, if a single call to <code>processData</code> needs more memory than is available, you will get an OOME no matter what you try to get the GC to do.  It <em>cannot</em> delete reachable objects, and it obviously cannot find enough garbage to fast enough.</p>\n<p>To solve this, first see if there are ways modify the program so that it <em>needs</em> less (reachable) memory,  Here are a couple of ideas:</p>\n<ul>\n<li><p>If you are building a huge string to represent the output before writing it to an <code>OutputStream</code>, <code>Writer</code> or similar.  You would save memory if you wrote directly to the output sink.</p>\n</li>\n<li><p>In some cases, consider using <code>StringBuilder</code> rather than <code>String</code> concatenation when assembling large strings.  Particularly when the concatenations are looped.</p>\n<p>However, note that 1) in Java 8 and earlier <code>javac</code> already emits <code>StringBuilder</code> sequences for you for concatenation expressions, and 2) in Java 9+, <code>javac</code> emits <code>invokedynamic</code> code that is <em>better</em> than using <code>StringBuilder</code>; see</p>\n<ul>\n<li><a href=\"https://dzone.com/articles/jdk-9jep-280-string-concatenations-will-never-be-t\" rel=\"nofollow noreferrer\">JDK 9/JEP 280: String Concatenations Will Never Be the Same</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>If that doesn't help, increase the JVM's heap size or split the problem into smaller problems.  Some problems just need lots of memory to solve.</p>\n"}],"owner":{"account_id":10478237,"reputation":1,"user_id":7724080,"display_name":"hragber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660782139,"answer_count":2,"score":0,"last_activity_date":1660788043,"creation_date":1509227007,"question_id":46994778,"body_markdown":"After a lot of effort I can&#39;t seem to overcome the problem of getting a \r\n\r\n&gt; GC overhead limit exceeded\r\n\r\n error in my Java program.\r\n\r\nIt occurs inside a large method that contains large string manipulation, many lists of objects and accesses to DB.\r\nI have tried the following:\r\n\r\n1. after the use of each ArrayList, I have added: **list=new ArrayList&lt;&gt;(); list=null;**\r\n2.  for the strings, instead of having e.g. 50 appends (str+=&quot;....&quot;) I try to have one append with the total text\r\n3. after each DB access I close the statements and the resultSets.\r\n\r\nThis method is called from main like this:\r\n\r\n    for(int i=0; i&lt;L; i++) {\r\n        cns = new Console(i);\r\n        \r\n        cns.processData();//this is the method\r\n        \r\n        cns=null;\r\n    }\r\n\r\nWhen this loop gets executed 1 or 2 times, everything is ok. For L&gt;=3 it&#39;s almost certain that I will get the garbage collector error.\r\n\r\nShouldn&#39;t the fact that I have a **cns=null** after each execution of the method, force the GC and free everything from the previous execution?\r\n\r\nShould I also delete all private attributes of the object before setting it to null? Maybe putting a **Thread.sleep()** could force the GC after each loop?\r\n","title":"Avoid &quot;GC overhead limit exceeded&quot; error","body":"<p>After a lot of effort I can't seem to overcome the problem of getting a </p>\n\n<blockquote>\n  <p>GC overhead limit exceeded</p>\n</blockquote>\n\n<p>error in my Java program.</p>\n\n<p>It occurs inside a large method that contains large string manipulation, many lists of objects and accesses to DB.\nI have tried the following:</p>\n\n<ol>\n<li>after the use of each ArrayList, I have added: <strong>list=new ArrayList&lt;>(); list=null;</strong></li>\n<li>for the strings, instead of having e.g. 50 appends (str+=\"....\") I try to have one append with the total text</li>\n<li>after each DB access I close the statements and the resultSets.</li>\n</ol>\n\n<p>This method is called from main like this:</p>\n\n<pre><code>for(int i=0; i&lt;L; i++) {\n    cns = new Console(i);\n\n    cns.processData();//this is the method\n\n    cns=null;\n}\n</code></pre>\n\n<p>When this loop gets executed 1 or 2 times, everything is ok. For L>=3 it's almost certain that I will get the garbage collector error.</p>\n\n<p>Shouldn't the fact that I have a <strong>cns=null</strong> after each execution of the method, force the GC and free everything from the previous execution?</p>\n\n<p>Should I also delete all private attributes of the object before setting it to null? Maybe putting a <strong>Thread.sleep()</strong> could force the GC after each loop?</p>\n"},{"tags":["java","eclipse","google-cloud-dataflow","apache-beam","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":13689404,"reputation":443,"user_id":9877624,"display_name":"Andrew Pilloud"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1586542163,"creation_date":1586542163,"answer_id":61146149,"question_id":61137292,"body_markdown":"You are attempting to connect to the Pubsub emulator from the Beam Direct Runner, using the Dataflow fork of the Beam 2.5 SDK. The Dataflow 2.5 SDK and Eclipse plugin were deprecated as of June 6, 2019. However this should work.\r\n\r\nYou need to prefix your PubsubRootUrl with &#39;http://&#39; in Beam, as you&#39;ve discovered. The second problem you are seeing indicates that nothing is listening on `localhost:8085`. This is likely because there are actually 2 localhosts: IPv4 and IPv6. The Pubsub Emulator only listens on IPv4 and Windows tries IPv6 first. Try replacing `localhost` with `127.0.0.1` to force IPv4. You should end up with this:\r\n\r\n    options.setPubsubRootUrl(&quot;http://127.0.0.1:8085&quot;)","title":"Local Pubsub Emulator won&#39;t work with Dataflow","body":"<p>You are attempting to connect to the Pubsub emulator from the Beam Direct Runner, using the Dataflow fork of the Beam 2.5 SDK. The Dataflow 2.5 SDK and Eclipse plugin were deprecated as of June 6, 2019. However this should work.</p>\n\n<p>You need to prefix your PubsubRootUrl with 'http://' in Beam, as you've discovered. The second problem you are seeing indicates that nothing is listening on <code>localhost:8085</code>. This is likely because there are actually 2 localhosts: IPv4 and IPv6. The Pubsub Emulator only listens on IPv4 and Windows tries IPv6 first. Try replacing <code>localhost</code> with <code>127.0.0.1</code> to force IPv4. You should end up with this:</p>\n\n<pre><code>options.setPubsubRootUrl(\"http://127.0.0.1:8085\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3549768,"reputation":1538,"user_id":2964911,"display_name":"Iraj Hedayati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660786436,"creation_date":1660786436,"answer_id":73396533,"question_id":61137292,"body_markdown":"Besides setting the root URL, you also need to provide a credential factory. When working with the emulator, you don&#39;t need any credentials. You can do it either using the code (by setting the option manually) or just pass command line. The latter keeps your code clean.\r\n\r\nCode:\r\n\r\n    options.setPubsubRootUrl(&quot;http://127.0.0.1:8085&quot;);\r\n    options.setCredentialFactoryClass(NoCredentialsFactory.class);\r\n\r\n\r\nCommand line options:\r\n\r\n    --pubsubRootUrl=http://127.0.0.1:8085\r\n    --credentialFactoryClass=ca.dataedu.dataflow.otlpdemo.NoCredentialsFactory\r\n\r\nThe `NoCredentialsFactory` code is something like:\r\n\r\n    import com.google.auth.Credentials;\r\n    import org.apache.beam.sdk.extensions.gcp.auth.CredentialFactory;\r\n    import org.apache.beam.sdk.options.PipelineOptions;\r\n    import org.checkerframework.checker.nullness.qual.Nullable;\r\n\r\n    public class NoCredentialsFactory implements CredentialFactory{\r\n\r\n        private static final NoCredentialsFactory INSTANCE = new NoCredentialsFactory();\r\n\r\n        public static NoCredentialsFactory fromOptions(PipelineOptions options) {\r\n            return INSTANCE;\r\n        }\r\n\r\n        @Override\r\n        public @Nullable Credentials getCredential() {\r\n            return null;\r\n        }\r\n    }","title":"Local Pubsub Emulator won&#39;t work with Dataflow","body":"<p>Besides setting the root URL, you also need to provide a credential factory. When working with the emulator, you don't need any credentials. You can do it either using the code (by setting the option manually) or just pass command line. The latter keeps your code clean.</p>\n<p>Code:</p>\n<pre><code>options.setPubsubRootUrl(&quot;http://127.0.0.1:8085&quot;);\noptions.setCredentialFactoryClass(NoCredentialsFactory.class);\n</code></pre>\n<p>Command line options:</p>\n<pre><code>--pubsubRootUrl=http://127.0.0.1:8085\n--credentialFactoryClass=ca.dataedu.dataflow.otlpdemo.NoCredentialsFactory\n</code></pre>\n<p>The <code>NoCredentialsFactory</code> code is something like:</p>\n<pre><code>import com.google.auth.Credentials;\nimport org.apache.beam.sdk.extensions.gcp.auth.CredentialFactory;\nimport org.apache.beam.sdk.options.PipelineOptions;\nimport org.checkerframework.checker.nullness.qual.Nullable;\n\npublic class NoCredentialsFactory implements CredentialFactory{\n\n    private static final NoCredentialsFactory INSTANCE = new NoCredentialsFactory();\n\n    public static NoCredentialsFactory fromOptions(PipelineOptions options) {\n        return INSTANCE;\n    }\n\n    @Override\n    public @Nullable Credentials getCredential() {\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4306523,"reputation":7801,"user_id":3518757,"accept_rate":73,"display_name":"oikonomiyaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61146149,"answer_count":2,"score":1,"last_activity_date":1660786436,"creation_date":1586510304,"question_id":61137292,"body_markdown":"I am developing Dataflow in Java, the input comes from a Pubsub. Later, I saw a guide [here][1] on how to use local Pubsub emulator so I would not need to deploy to GCP in order to test.\r\n\r\nHere is my simple code:\r\n\r\n    private interface Options extends PipelineOptions, PubsubOptions, StreamingOptions {\r\n    \t\t\r\n    \t@Description(&quot;Pub/Sub topic to read messages from&quot;)\r\n    \tString getTopic();\r\n    \tvoid setTopic(String topic);\r\n    \t\r\n    \t@Description(&quot;Pub/Sub subscription to read messages from&quot;)\r\n    \tString getSubscription();\r\n    \tvoid setSubscription(String subscription);\r\n    \t\t\t\r\n    \t@Description(&quot;Local file output&quot;)\r\n    \tString getOutput();\r\n    \tvoid setOutput(String output);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    \t\r\n    \tOptions options = PipelineOptionsFactory\r\n    \t\t\t.fromArgs(args)\r\n    \t\t\t.withValidation()\r\n    \t\t\t.as(Options.class);\r\n    \toptions.setStreaming(true);\r\n    \toptions.setPubsubRootUrl(&quot;localhost:8085&quot;);\r\n    \r\n    \tPipeline pipeline = Pipeline.create(options);\r\n    \tpipeline\r\n    \t\t.apply(&quot;IngestFromPubsub&quot;, PubsubIO.readStrings().fromTopic(options.getTopic()))\r\n    \t\t// other .apply&#39;s\r\n    \t\r\n    \tpipeline.run();\r\n    \t\t\r\n    }\r\n\r\nI was able to follow the guide, including the part where I need to use the example Python code to create topic, subscription, publisher and even publish messages. When I use the Python code to interact with the Pubsub emulator, I notice the message `Detected HTTP/2 connection` in the command-line where I run the emulator:\r\n\r\n    Executing: cmd /c C:\\...\\google-cloud-sdk\\platform\\pubsub-emulator\\bin\\cloud-pubsub-emulator.bat --host=localhost --port=8085\r\n    [pubsub] This is the Google Pub/Sub fake.\r\n    [pubsub] Implementation may be incomplete or differ from the real system.\r\n    [pubsub] Apr 10, 2020 3:33:26 PM com.google.cloud.pubsub.testing.v1.Main main\r\n    [pubsub] INFO: IAM integration is disabled. IAM policy methods and ACL checks are not supported\r\n    [pubsub] Apr 10, 2020 3:33:26 PM io.gapi.emulators.netty.NettyUtil applyJava7LongHostnameWorkaround\r\n    [pubsub] INFO: Unable to apply Java 7 long hostname workaround.\r\n    [pubsub] Apr 10, 2020 3:33:27 PM com.google.cloud.pubsub.testing.v1.Main main\r\n    [pubsub] INFO: Server started, listening on 8085\r\n    [pubsub] Apr 10, 2020 3:34:38 PM io.gapi.emulators.grpc.GrpcServer$3 operationComplete\r\n    [pubsub] INFO: Adding handler(s) to newly registered Channel.\r\n    [pubsub] Apr 10, 2020 3:34:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\n    [pubsub] INFO: Detected HTTP/2 connection.\r\n    [pubsub] Apr 10, 2020 3:34:52 PM io.gapi.emulators.grpc.GrpcServer$3 operationComplete\r\n    [pubsub] INFO: Adding handler(s) to newly registered Channel.\r\n    [pubsub] Apr 10, 2020 3:34:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\n    [pubsub] INFO: Detected HTTP/2 connection.\r\n\r\nI compiled/run the code in Eclipse using Dataflow Pipeline Run Configuration, but I get a problem.\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n    Exception in thread &quot;main&quot; org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.RuntimeException: Failed to create subscription: \r\n    ...\r\n    Caused by: java.lang.RuntimeException: Failed to create subscription: \r\n    \tat org.apache.beam.sdk.io.gcp.pubsub.PubsubUnboundedSource.createRandomSubscription(PubsubUnboundedSource.java:1427)\r\n    ...\r\n    Caused by: java.lang.IllegalArgumentException: java.net.MalformedURLException: unknown protocol: localhost\r\n    ...\r\n    Caused by: java.net.MalformedURLException: unknown protocol: localhost\r\n\r\nWhen I try to add `http` in the line `options.setPubsubRootUrl(&quot;localhost:8085&quot;)`, I get an infinitely repeated exception:\r\n\r\n    com.google.api.client.http.HttpRequest execute\r\n    WARNING: exception thrown while executing request\r\n    java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n    \tat java.net.PlainSocketImpl.connect(Unknown Source)\r\n    \tat java.net.SocksSocketImpl.connect(Unknown Source)\r\n\r\nIt seems to reach the Pubsub emulator but can&#39;t connect as the command-line where I run the emulator generates this infinitely also:\r\n\r\n    [pubsub] Apr 10, 2020 3:49:30 PM io.gapi.emulators.grpc.GrpcServer$3 operationComplete\r\n    [pubsub] INFO: Adding handler(s) to newly registered Channel.\r\n    [pubsub] Apr 10, 2020 3:49:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\n    [pubsub] INFO: Detected non-HTTP/2 connection.\r\n\r\nHow can I make my Dataflow work with Pubsub emulator?\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/emulator\r\n  [2]: https://i.stack.imgur.com/RZq3Z.png\r\n  [3]: https://i.stack.imgur.com/fTQ4u.png\r\n  [4]: https://i.stack.imgur.com/DBbCX.png\r\n","title":"Local Pubsub Emulator won&#39;t work with Dataflow","body":"<p>I am developing Dataflow in Java, the input comes from a Pubsub. Later, I saw a guide <a href=\"https://cloud.google.com/pubsub/docs/emulator\" rel=\"nofollow noreferrer\">here</a> on how to use local Pubsub emulator so I would not need to deploy to GCP in order to test.</p>\n\n<p>Here is my simple code:</p>\n\n<pre><code>private interface Options extends PipelineOptions, PubsubOptions, StreamingOptions {\n\n    @Description(\"Pub/Sub topic to read messages from\")\n    String getTopic();\n    void setTopic(String topic);\n\n    @Description(\"Pub/Sub subscription to read messages from\")\n    String getSubscription();\n    void setSubscription(String subscription);\n\n    @Description(\"Local file output\")\n    String getOutput();\n    void setOutput(String output);\n}\n\npublic static void main(String[] args) {\n\n    Options options = PipelineOptionsFactory\n            .fromArgs(args)\n            .withValidation()\n            .as(Options.class);\n    options.setStreaming(true);\n    options.setPubsubRootUrl(\"localhost:8085\");\n\n    Pipeline pipeline = Pipeline.create(options);\n    pipeline\n        .apply(\"IngestFromPubsub\", PubsubIO.readStrings().fromTopic(options.getTopic()))\n        // other .apply's\n\n    pipeline.run();\n\n}\n</code></pre>\n\n<p>I was able to follow the guide, including the part where I need to use the example Python code to create topic, subscription, publisher and even publish messages. When I use the Python code to interact with the Pubsub emulator, I notice the message <code>Detected HTTP/2 connection</code> in the command-line where I run the emulator:</p>\n\n<pre><code>Executing: cmd /c C:\\...\\google-cloud-sdk\\platform\\pubsub-emulator\\bin\\cloud-pubsub-emulator.bat --host=localhost --port=8085\n[pubsub] This is the Google Pub/Sub fake.\n[pubsub] Implementation may be incomplete or differ from the real system.\n[pubsub] Apr 10, 2020 3:33:26 PM com.google.cloud.pubsub.testing.v1.Main main\n[pubsub] INFO: IAM integration is disabled. IAM policy methods and ACL checks are not supported\n[pubsub] Apr 10, 2020 3:33:26 PM io.gapi.emulators.netty.NettyUtil applyJava7LongHostnameWorkaround\n[pubsub] INFO: Unable to apply Java 7 long hostname workaround.\n[pubsub] Apr 10, 2020 3:33:27 PM com.google.cloud.pubsub.testing.v1.Main main\n[pubsub] INFO: Server started, listening on 8085\n[pubsub] Apr 10, 2020 3:34:38 PM io.gapi.emulators.grpc.GrpcServer$3 operationComplete\n[pubsub] INFO: Adding handler(s) to newly registered Channel.\n[pubsub] Apr 10, 2020 3:34:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\n[pubsub] INFO: Detected HTTP/2 connection.\n[pubsub] Apr 10, 2020 3:34:52 PM io.gapi.emulators.grpc.GrpcServer$3 operationComplete\n[pubsub] INFO: Adding handler(s) to newly registered Channel.\n[pubsub] Apr 10, 2020 3:34:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\n[pubsub] INFO: Detected HTTP/2 connection.\n</code></pre>\n\n<p>I compiled/run the code in Eclipse using Dataflow Pipeline Run Configuration, but I get a problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RZq3Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZq3Z.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/fTQ4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTQ4u.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/DBbCX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DBbCX.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Exception in thread \"main\" org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.RuntimeException: Failed to create subscription: \n...\nCaused by: java.lang.RuntimeException: Failed to create subscription: \n    at org.apache.beam.sdk.io.gcp.pubsub.PubsubUnboundedSource.createRandomSubscription(PubsubUnboundedSource.java:1427)\n...\nCaused by: java.lang.IllegalArgumentException: java.net.MalformedURLException: unknown protocol: localhost\n...\nCaused by: java.net.MalformedURLException: unknown protocol: localhost\n</code></pre>\n\n<p>When I try to add <code>http</code> in the line <code>options.setPubsubRootUrl(\"localhost:8085\")</code>, I get an infinitely repeated exception:</p>\n\n<pre><code>com.google.api.client.http.HttpRequest execute\nWARNING: exception thrown while executing request\njava.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n    at java.net.PlainSocketImpl.connect(Unknown Source)\n    at java.net.SocksSocketImpl.connect(Unknown Source)\n</code></pre>\n\n<p>It seems to reach the Pubsub emulator but can't connect as the command-line where I run the emulator generates this infinitely also:</p>\n\n<pre><code>[pubsub] Apr 10, 2020 3:49:30 PM io.gapi.emulators.grpc.GrpcServer$3 operationComplete\n[pubsub] INFO: Adding handler(s) to newly registered Channel.\n[pubsub] Apr 10, 2020 3:49:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\n[pubsub] INFO: Detected non-HTTP/2 connection.\n</code></pre>\n\n<p>How can I make my Dataflow work with Pubsub emulator?</p>\n"},{"tags":["java","boolean","minecraft"],"answers":[{"tags":[],"owner":{"account_id":15539699,"reputation":21,"user_id":19708417,"display_name":"T I M O N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660783530,"creation_date":1660676889,"answer_id":73379143,"question_id":73374243,"body_markdown":"I originally only developed in JavaScript, but now I wanted to try some Java too. Using my JS experience, I got the idea of simply using a function with the setting as input, shortening my code. This is what it looks like: \r\n\r\n    public String checkBooleanValueForColor(String setting) {\r\n         Boolean SettingValue = plugin.getConfig().getBoolean(setting);\r\n         if(SettingValue) {\r\n             return &quot;&#167;atrue&quot;;\r\n         } else {\r\n            return &quot;&#167;cfalse&quot;;\r\n         }\r\n     }\r\n\r\nIt&#39;s very simple yet effective.","title":"Defining a color depending on a (boolean) value","body":"<p>I originally only developed in JavaScript, but now I wanted to try some Java too. Using my JS experience, I got the idea of simply using a function with the setting as input, shortening my code. This is what it looks like:</p>\n<pre><code>public String checkBooleanValueForColor(String setting) {\n     Boolean SettingValue = plugin.getConfig().getBoolean(setting);\n     if(SettingValue) {\n         return &quot;¬ßatrue&quot;;\n     } else {\n        return &quot;¬ßcfalse&quot;;\n     }\n }\n</code></pre>\n<p>It's very simple yet effective.</p>\n"}],"owner":{"account_id":15539699,"reputation":21,"user_id":19708417,"display_name":"T I M O N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73379143,"answer_count":1,"score":1,"last_activity_date":1660783530,"creation_date":1660654019,"question_id":73374243,"body_markdown":"I have this code to display when a user issues &quot;/settings&quot;. It shows the settings the user can control and their current status (true/false), which I want to color accordingly. It works, but I want to ask for ideas to improve it&#39;s performance.\r\n\r\n    String BlockBreakingColor = &quot;&#167;7&quot;;\r\n   \r\n    Boolean BlockBreakValue = plugin.getConfig().getBoolean(&quot;settings.block-break&quot;);\r\n\r\n    if(BlockBreakValue) {\r\n        BlockBreakingColor = &quot;&#167;a&quot;;\r\n    } else {\r\n        BlockBreakingColor = &quot;&#167;c&quot;;\r\n    }\r\n\r\n    p.sendMessage(&quot;&#167;8&#187; &#167;7block-breaking &#167;8- &quot; + BlockBreakingColor + BlockBreakValue.toString());\r\n\r\nMy question would be if there is a better, more dynamic way of assigning the color because I  would have to set this code up for every single setting and this way my code would end up having a lot of lines and be harder to read/understand.\r\n\r\n","title":"Defining a color depending on a (boolean) value","body":"<p>I have this code to display when a user issues &quot;/settings&quot;. It shows the settings the user can control and their current status (true/false), which I want to color accordingly. It works, but I want to ask for ideas to improve it's performance.</p>\n<pre><code>String BlockBreakingColor = &quot;¬ß7&quot;;\n\nBoolean BlockBreakValue = plugin.getConfig().getBoolean(&quot;settings.block-break&quot;);\n\nif(BlockBreakValue) {\n    BlockBreakingColor = &quot;¬ßa&quot;;\n} else {\n    BlockBreakingColor = &quot;¬ßc&quot;;\n}\n\np.sendMessage(&quot;¬ß8¬ª ¬ß7block-breaking ¬ß8- &quot; + BlockBreakingColor + BlockBreakValue.toString());\n</code></pre>\n<p>My question would be if there is a better, more dynamic way of assigning the color because I  would have to set this code up for every single setting and this way my code would end up having a lot of lines and be harder to read/understand.</p>\n"},{"tags":["java","arrays","algorithm","sorting","hashmap"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":1,"creation_date":1660737260,"post_id":73387653,"comment_id":129602257,"body_markdown":"Provide a sample input and output.","body":"Provide a sample input and output."},{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":0,"creation_date":1660738502,"post_id":73387653,"comment_id":129602738,"body_markdown":"So, you only want to know how many elements are between a and b? Meaning the result of the query is a single integer?","body":"So, you only want to know how many elements are between a and b? Meaning the result of the query is a single integer?"}],"answers":[{"tags":[],"owner":{"account_id":20784895,"reputation":13,"user_id":15264365,"display_name":"Pavel K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660739435,"creation_date":1660739071,"answer_id":73388446,"question_id":73387653,"body_markdown":"Yes, in order to cache/precompute the return values of query(), you need to create a composite key, that holds both values. The easiest way to do that is to use a string that holds both numbers divided by a separator. Separator is important otherwise composite key(21, 5) = &quot;215&quot; and key(2, 15) = &quot;215&quot;. With separator that would be &quot;21;5&quot; and &quot;2;15&quot; respectivly.\r\n``` java\r\nprivate String key(int a, int b) {\r\n    return String.format(&quot;%d;%d&quot;, a, b);\r\n}\r\n``` \r\n Then for each composite key possible you put the value into HashMap. In the query(a, b) method you just get the value from the Map.  \r\n``` java\r\npublic query(int a, int b) {\r\n    return map.get(key(a, b));\r\n}\r\n```\r\nThe downside of this approach is that creation of this object is pretty expensive. ","title":"Obtain the Total number of element in the Sorted Array that are within the given Range in O(1) time","body":"<p>Yes, in order to cache/precompute the return values of query(), you need to create a composite key, that holds both values. The easiest way to do that is to use a string that holds both numbers divided by a separator. Separator is important otherwise composite key(21, 5) = &quot;215&quot; and key(2, 15) = &quot;215&quot;. With separator that would be &quot;21;5&quot; and &quot;2;15&quot; respectivly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String key(int a, int b) {\n    return String.format(&quot;%d;%d&quot;, a, b);\n}\n</code></pre>\n<p>Then for each composite key possible you put the value into HashMap. In the query(a, b) method you just get the value from the Map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public query(int a, int b) {\n    return map.get(key(a, b));\n}\n</code></pre>\n<p>The downside of this approach is that creation of this object is pretty expensive.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1660742133,"creation_date":1660739267,"answer_id":73388477,"question_id":73387653,"body_markdown":"To obtain the number of elements in the given range (from `a` to `b` inclusive) in **O(1)** time after the array has been sorted, you don&#39;t need to use `HashMap`. Instead, you can reuse the `countingArray` by making it an instance variable.\r\n\r\nThis approach also requires a slight modification of the sorting in order to retain the values in the `countingArray` intact. It&#39;s done by introducing one additional variable.\r\n\r\n***Note** that it&#39;s a good practice to *avoid mutating* the input, that why in the code I&#39;ve used `Arrays.copyOf()` (you can remove it, if you consider it irrelevant for this exercise).*\r\n\r\nI&#39;ve extracted the logic responsible for sorting from the constructor into a separate method. And introduced a method which is meant to calculate the *cumulative count* for every number in the array (i.e. a number of element having values from `0` up to the current number inclusive).\r\n\r\nSo, after invoking method `init()` on the instance of `Range` we would be able to find the number of elements in the range from `a` to `b` by looking at the values stored in the `countingArray` at corresponding indices. And that would have a cost **O(1)**.\r\n\r\n    public class Range {\r\n        private int[] arr;\r\n        private int[] counterArray;\r\n        private int k;\r\n        \r\n        private Range(int[] arr, int k) { // constructor is not exposed\r\n            this.arr = Arrays.copyOf(arr, arr.length);\r\n            this.counterArray = new int[k + 1];\r\n            this.k = k;\r\n        }\r\n        \r\n        public static Range getInstance(int[] arr, int k) {\r\n            Range range = new Range(arr, k);\r\n            range.init();\r\n            return range;\r\n        }\r\n        \r\n        private void init() {\r\n            sort();\r\n            sumUpCount();\r\n        }\r\n        \r\n        private void sort() {\r\n    \r\n            for (int i : arr) {\r\n                counterArray[i]++;\r\n            }\r\n    \r\n            int index = 0;\r\n            int copy;\r\n            for (int i = 0; i &lt; counterArray.length; i++) {\r\n                copy = counterArray[i];\r\n                while (0 &lt; counterArray[i]) {\r\n                    arr[index++] = i;\r\n                    counterArray[i]--;\r\n                }\r\n                counterArray[i] = copy;\r\n            }\r\n        }\r\n        \r\n        private void sumUpCount() {\r\n            for (int i = 1; i &lt; counterArray.length; i++) {\r\n                counterArray[i] += counterArray[i - 1];\r\n            }\r\n        }\r\n        \r\n        public int query(int a, int b) {\r\n            \r\n            return a == 0 ? counterArray[b] :  counterArray[b] - counterArray[a - 1];\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        int[] a = {13,12,13,1,2,0,0,1,3,4};\r\n        Range range = Range.getInstance(a, 13);\r\n        System.out.print(range.query(1,4));\r\n    }\r\n\r\n*Output:*\r\n```\r\n5\r\n```","title":"Obtain the Total number of element in the Sorted Array that are within the given Range in O(1) time","body":"<p>To obtain the number of elements in the given range (from <code>a</code> to <code>b</code> inclusive) in <strong>O(1)</strong> time after the array has been sorted, you don't need to use <code>HashMap</code>. Instead, you can reuse the <code>countingArray</code> by making it an instance variable.</p>\n<p>This approach also requires a slight modification of the sorting in order to retain the values in the <code>countingArray</code> intact. It's done by introducing one additional variable.</p>\n<p><em><strong>Note</strong> that it's a good practice to <em>avoid mutating</em> the input, that why in the code I've used <code>Arrays.copyOf()</code> (you can remove it, if you consider it irrelevant for this exercise).</em></p>\n<p>I've extracted the logic responsible for sorting from the constructor into a separate method. And introduced a method which is meant to calculate the <em>cumulative count</em> for every number in the array (i.e. a number of element having values from <code>0</code> up to the current number inclusive).</p>\n<p>So, after invoking method <code>init()</code> on the instance of <code>Range</code> we would be able to find the number of elements in the range from <code>a</code> to <code>b</code> by looking at the values stored in the <code>countingArray</code> at corresponding indices. And that would have a cost <strong>O(1)</strong>.</p>\n<pre><code>public class Range {\n    private int[] arr;\n    private int[] counterArray;\n    private int k;\n    \n    private Range(int[] arr, int k) { // constructor is not exposed\n        this.arr = Arrays.copyOf(arr, arr.length);\n        this.counterArray = new int[k + 1];\n        this.k = k;\n    }\n    \n    public static Range getInstance(int[] arr, int k) {\n        Range range = new Range(arr, k);\n        range.init();\n        return range;\n    }\n    \n    private void init() {\n        sort();\n        sumUpCount();\n    }\n    \n    private void sort() {\n\n        for (int i : arr) {\n            counterArray[i]++;\n        }\n\n        int index = 0;\n        int copy;\n        for (int i = 0; i &lt; counterArray.length; i++) {\n            copy = counterArray[i];\n            while (0 &lt; counterArray[i]) {\n                arr[index++] = i;\n                counterArray[i]--;\n            }\n            counterArray[i] = copy;\n        }\n    }\n    \n    private void sumUpCount() {\n        for (int i = 1; i &lt; counterArray.length; i++) {\n            counterArray[i] += counterArray[i - 1];\n        }\n    }\n    \n    public int query(int a, int b) {\n        \n        return a == 0 ? counterArray[b] :  counterArray[b] - counterArray[a - 1];\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[] a = {13,12,13,1,2,0,0,1,3,4};\n    Range range = Range.getInstance(a, 13);\n    System.out.print(range.query(1,4));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>5\n</code></pre>\n"}],"owner":{"account_id":22160048,"reputation":33,"user_id":16407186,"display_name":"Caveira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":73388477,"answer_count":2,"score":1,"last_activity_date":1660783378,"creation_date":1660735581,"question_id":73387653,"body_markdown":"I&#39;m trying to write a class named Range, that takes an *array* of integers (unsorted) of length `n`, containing only numbers in the range are from `0` to `k`. \r\n\r\nAt first, I declare a constructor which will preprocess the array via Counting Sort algorithm. \r\n\r\nThen I want to write `query()` method that takes two integer arguments: `a` and `b`, which form a range of numbers from `a` to `b` and returns the *total frequency* of all the elements in the *array* having the values within the given range.\r\n\r\n*My code:*\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\n\r\npublic class Range {\r\n\r\n    private int[] a;\r\n    private int k;\r\n\r\n    public Range(int[] a, int k) {\r\n        int index = 0;\r\n        int[] counterArray = new int[k + 1];\r\n\r\n        for (int i : a)\r\n            counterArray[i]++;  // initialize counterArray\r\n\r\n        for (int i = 0; i &lt; counterArray.length; i++)\r\n            while (0 &lt; counterArray[i]) {\r\n                a[index++] = i;\r\n                counterArray[i]--;\r\n            }   // end while()\r\n\r\n        this.a = a;\r\n        this.k = k;\r\n    }   // end constructor()\r\n\r\n    public int query(int a, int b) {\r\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(a);\r\n\r\n    }   // end query()\r\n\r\n    @Override\r\n    public String toString() {\r\n        return Arrays.toString(a);\r\n    }   // end toString()\r\n}\r\n```\r\n\r\nI chose `HashMap` data structure because I need `query()` method to be executed in constant time **O(1)**.\r\n\r\nSo my question is: Is it possible to implement the method `query()` via `HashMap`?\r\n\r\nIf not, what are the alternatives? (Note: the time complexity should be **O(1)** for `query()`, not bothering about the space complexity).\r\n\r\n*Code in the `main()` :*\r\n```\r\nint[] a = {13,12,13,1,2,0,0,1,3,4};\r\nRange range = new Range(a, 13);\r\nSystem.out.print(range); // prints [0,0,1,1,2,3,4,12,13,13] because array has been sorted\r\n\r\nSystem.out.print(range.query(1, 4)); // calculating number of elements in the range [1, 4]\r\n```\r\n*Expected Output:*\r\n```\r\n5   // elements 1,1,2,3,4 are within the range [1, 4]\r\n```\r\n\r\n*Explanation:* provided arguments of the `query()` are: `a=1` and `b=4`, hence, values to be tested are `1,2,3,4`. The output should be `5` because there are `5` elements: `1,1,2,3,4`.","title":"Obtain the Total number of element in the Sorted Array that are within the given Range in O(1) time","body":"<p>I'm trying to write a class named Range, that takes an <em>array</em> of integers (unsorted) of length <code>n</code>, containing only numbers in the range are from <code>0</code> to <code>k</code>.</p>\n<p>At first, I declare a constructor which will preprocess the array via Counting Sort algorithm.</p>\n<p>Then I want to write <code>query()</code> method that takes two integer arguments: <code>a</code> and <code>b</code>, which form a range of numbers from <code>a</code> to <code>b</code> and returns the <em>total frequency</em> of all the elements in the <em>array</em> having the values within the given range.</p>\n<p><em>My code:</em></p>\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\n\npublic class Range {\n\n    private int[] a;\n    private int k;\n\n    public Range(int[] a, int k) {\n        int index = 0;\n        int[] counterArray = new int[k + 1];\n\n        for (int i : a)\n            counterArray[i]++;  // initialize counterArray\n\n        for (int i = 0; i &lt; counterArray.length; i++)\n            while (0 &lt; counterArray[i]) {\n                a[index++] = i;\n                counterArray[i]--;\n            }   // end while()\n\n        this.a = a;\n        this.k = k;\n    }   // end constructor()\n\n    public int query(int a, int b) {\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(a);\n\n    }   // end query()\n\n    @Override\n    public String toString() {\n        return Arrays.toString(a);\n    }   // end toString()\n}\n</code></pre>\n<p>I chose <code>HashMap</code> data structure because I need <code>query()</code> method to be executed in constant time <strong>O(1)</strong>.</p>\n<p>So my question is: Is it possible to implement the method <code>query()</code> via <code>HashMap</code>?</p>\n<p>If not, what are the alternatives? (Note: the time complexity should be <strong>O(1)</strong> for <code>query()</code>, not bothering about the space complexity).</p>\n<p><em>Code in the <code>main()</code> :</em></p>\n<pre><code>int[] a = {13,12,13,1,2,0,0,1,3,4};\nRange range = new Range(a, 13);\nSystem.out.print(range); // prints [0,0,1,1,2,3,4,12,13,13] because array has been sorted\n\nSystem.out.print(range.query(1, 4)); // calculating number of elements in the range [1, 4]\n</code></pre>\n<p><em>Expected Output:</em></p>\n<pre><code>5   // elements 1,1,2,3,4 are within the range [1, 4]\n</code></pre>\n<p><em>Explanation:</em> provided arguments of the <code>query()</code> are: <code>a=1</code> and <code>b=4</code>, hence, values to be tested are <code>1,2,3,4</code>. The output should be <code>5</code> because there are <code>5</code> elements: <code>1,1,2,3,4</code>.</p>\n"},{"tags":["java","mysql","hibernate","jpa","mapping"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1660645719,"post_id":73371905,"comment_id":129575522,"body_markdown":"There is no explicit annotation for Aggregation and Composition. Take a look here: https://stackoverflow.com/questions/38311717/aggregation-relationship-via-jpa-annotations","body":"There is no explicit annotation for Aggregation and Composition. Take a look here: <a href=\"https://stackoverflow.com/questions/38311717/aggregation-relationship-via-jpa-annotations\" title=\"aggregation relationship via jpa annotations\">stackoverflow.com/questions/38311717/&hellip;</a>"}],"owner":{"account_id":25967733,"reputation":13,"user_id":19683453,"display_name":"MED-FANDOULI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660781786,"creation_date":1660642791,"question_id":73371905,"body_markdown":"![Screen shot of the relationship table I want to create][1]\r\n\r\n\r\nAre there some annotations in springboot can help me to do this work? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2BiAt.jpg","title":"how can i do the mapping of Aggregation and Composotion with JPA and mysql data base?","body":"<p><img src=\"https://i.stack.imgur.com/2BiAt.jpg\" alt=\"Screen shot of the relationship table I want to create\" /></p>\n<p>Are there some annotations in springboot can help me to do this work?</p>\n"},{"tags":["java","android","android-layout","android-dialogfragment","bottomsheetdialogfragment"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1660667534,"post_id":73375700,"comment_id":129584322,"body_markdown":"try this   mAdapter.notifyItemInserted(listOfItem.size() - 1);","body":"try this   mAdapter.notifyItemInserted(listOfItem.size() - 1);"},{"owner":{"account_id":19970013,"reputation":11,"user_id":14635716,"display_name":"naveed hanif"},"score":0,"creation_date":1660668940,"post_id":73375700,"comment_id":129584814,"body_markdown":"Thanks for your reply. Would you know where should I add this line of code after I update the adapter? Thanks","body":"Thanks for your reply. Would you know where should I add this line of code after I update the adapter? Thanks"},{"owner":{"account_id":19970013,"reputation":11,"user_id":14635716,"display_name":"naveed hanif"},"score":0,"creation_date":1660691878,"post_id":73375700,"comment_id":129591254,"body_markdown":"it did not work","body":"it did not work"}],"owner":{"account_id":19970013,"reputation":11,"user_id":14635716,"display_name":"naveed hanif"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660780261,"creation_date":1660660219,"question_id":73375700,"body_markdown":"this is my first question here so please ignore my mistake. my question is about bottom sheet fragment dialog. \r\n\r\nI am trying to show bottom sheet dialog on button click when bottom sheet dialog appear its show list of different companies name. I have added the name myself. but I want the user to add another name if they want on the button click. everything is working fine. \r\n\r\nI am getting the name of the company from edit text from dialog box. but when I dismiss the bottom sheet dialog fragment I lost the added name from the user through alert dialog box. \r\n\r\nI don&#39;t understand what is happening and how can I sort the issue. please follow my code and let me know what is the best approach I can follow. thanks very much\r\n\r\n\r\n    public class Item\r\n     {\r\n     public String companyName;\r\n\r\n     public Item(String companyName) {\r\n    this.companyName = companyName;\r\n     }\r\n\r\n    public String getCompanyName() {\r\n    return companyName;\r\n    }\r\n\r\n    public void setCompanyName(String companyName) {\r\n    this.companyName = companyName;}}\r\n\r\n\r\nthis is my adapter class \r\n   \r\n     public class CustomAdapter_1 extends RecyclerView.Adapter  &lt;CustomAdapter_1.myViewHolder&gt;\r\n\r\n\r\n    {\r\n       List&lt;Item&gt; customAdapters;\r\n       Context context;\r\n\r\n    public CustomAdapter_1(Context context, List&lt;Item&gt; customAdapters) {\r\n    this.customAdapters = customAdapters;\r\n    this.context = context;\r\n\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    View v = LayoutInflater.from ( parent.getContext () ).inflate (   R.layout.custom_adapter_1, parent, false );\r\n    myViewHolder myViewHolder = new myViewHolder ( v );\r\n    return myViewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull myViewHolder holder, int position) {\r\n    holder.radioButton.setText ( customAdapters.get ( position ).getCompanyName () );\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n    return customAdapters.size ();\r\n     }\r\n\r\n\r\n     public class myViewHolder extends RecyclerView.ViewHolder {\r\n     RadioButton radioButton;\r\n     TextView textView;\r\n\r\n     public myViewHolder(@NonNull View itemView) {\r\n        super ( itemView );\r\n        radioButton = (RadioButton) itemView.findViewById ( R.id.rdbtn1 );\r\n\r\n\r\n       }\r\n       }\r\n\r\n       public void AddItem(Item item, int position) {\r\n       customAdapters.add ( position, item );\r\n\r\n       }}\r\n\r\n\r\nand below is my fragment class\r\n\r\n    public class CustomFragment_1 extends BottomSheetDialogFragment {\r\n\r\n    private RecyclerView recyclerView;\r\n    private CustomAdapter_1 mAdapter;\r\n    ArrayList&lt;Item&gt; listOfItem = new ArrayList&lt;&gt; ();\r\n\r\n\r\n    String cName;\r\n    Button btn;\r\n    FlatDialog flatDialog;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n\r\n    {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate ( R.layout.fragment_custom_1, container, false );\r\n\r\n\r\n        recyclerView = (RecyclerView) view.findViewById ( R.id.customRV );\r\n        btn = (Button) view.findViewById ( R.id.button1 );\r\n\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager ( getContext ()     );\r\n        recyclerView.setLayoutManager ( linearLayoutManager );\r\n\r\n\r\n        mAdapter = new CustomAdapter_1 ( getContext (), listOfItem );\r\n        recyclerView.setAdapter ( mAdapter );\r\n\r\n        listOfItem.add ( new Item ( &quot;company 1&quot; ) );\r\n        listOfItem.add ( new Item ( &quot;company 2&quot; ) );\r\n        listOfItem.add ( new Item ( &quot;company 3&quot; ) );\r\n\r\n\r\n        btn.setOnClickListener ( new View.OnClickListener () {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                getList ();\r\n\r\n\r\n            }\r\n        } );\r\n        return view;\r\n    }\r\n    public void getList()\r\n    {\r\n        flatDialog = new FlatDialog ( getContext () );\r\n        flatDialog.setTitle ( &quot;Company Name&quot; )\r\n                .setSubtitle ( &quot;Please add the name of the company&quot; )\r\n                .setFirstTextFieldHint ( &quot;Company Name&quot; )\r\n                .setFirstButtonText ( &quot;ADD&quot; )\r\n                .setSecondButtonText ( &quot;CANCEL&quot; )\r\n                .withFirstButtonListner ( new View.OnClickListener () {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        \r\n                        listOfItem.add ( new Item ( flatDialog.getFirstTextField ()) ) ;\r\n                        mAdapter.notifyDataSetChanged ();\r\n                        flatDialog.dismiss ();\r\n\r\n                    }\r\n                } )\r\n                .withSecondButtonListner ( new View.OnClickListener () {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        flatDialog.dismiss ();\r\n                    }\r\n                } )\r\n                .show ();\r\n\r\n    }\r\n    }\r\n\r\n\r\n    ","title":"BottomsheetDialogfragment romve the recyclerView item after dismiss","body":"<p>this is my first question here so please ignore my mistake. my question is about bottom sheet fragment dialog.</p>\n<p>I am trying to show bottom sheet dialog on button click when bottom sheet dialog appear its show list of different companies name. I have added the name myself. but I want the user to add another name if they want on the button click. everything is working fine.</p>\n<p>I am getting the name of the company from edit text from dialog box. but when I dismiss the bottom sheet dialog fragment I lost the added name from the user through alert dialog box.</p>\n<p>I don't understand what is happening and how can I sort the issue. please follow my code and let me know what is the best approach I can follow. thanks very much</p>\n<pre><code>public class Item\n {\n public String companyName;\n\n public Item(String companyName) {\nthis.companyName = companyName;\n }\n\npublic String getCompanyName() {\nreturn companyName;\n}\n\npublic void setCompanyName(String companyName) {\nthis.companyName = companyName;}}\n</code></pre>\n<p>this is my adapter class</p>\n<pre><code> public class CustomAdapter_1 extends RecyclerView.Adapter  &lt;CustomAdapter_1.myViewHolder&gt;\n\n\n{\n   List&lt;Item&gt; customAdapters;\n   Context context;\n\npublic CustomAdapter_1(Context context, List&lt;Item&gt; customAdapters) {\nthis.customAdapters = customAdapters;\nthis.context = context;\n\n}\n\n\n@NonNull\n@Override\npublic myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\nView v = LayoutInflater.from ( parent.getContext () ).inflate (   R.layout.custom_adapter_1, parent, false );\nmyViewHolder myViewHolder = new myViewHolder ( v );\nreturn myViewHolder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull myViewHolder holder, int position) {\nholder.radioButton.setText ( customAdapters.get ( position ).getCompanyName () );\n\n}\n\n@Override\npublic int getItemCount() {\nreturn customAdapters.size ();\n }\n\n\n public class myViewHolder extends RecyclerView.ViewHolder {\n RadioButton radioButton;\n TextView textView;\n\n public myViewHolder(@NonNull View itemView) {\n    super ( itemView );\n    radioButton = (RadioButton) itemView.findViewById ( R.id.rdbtn1 );\n\n\n   }\n   }\n\n   public void AddItem(Item item, int position) {\n   customAdapters.add ( position, item );\n\n   }}\n</code></pre>\n<p>and below is my fragment class</p>\n<pre><code>public class CustomFragment_1 extends BottomSheetDialogFragment {\n\nprivate RecyclerView recyclerView;\nprivate CustomAdapter_1 mAdapter;\nArrayList&lt;Item&gt; listOfItem = new ArrayList&lt;&gt; ();\n\n\nString cName;\nButton btn;\nFlatDialog flatDialog;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n\n{\n    // Inflate the layout for this fragment\n    View view = inflater.inflate ( R.layout.fragment_custom_1, container, false );\n\n\n    recyclerView = (RecyclerView) view.findViewById ( R.id.customRV );\n    btn = (Button) view.findViewById ( R.id.button1 );\n\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager ( getContext ()     );\n    recyclerView.setLayoutManager ( linearLayoutManager );\n\n\n    mAdapter = new CustomAdapter_1 ( getContext (), listOfItem );\n    recyclerView.setAdapter ( mAdapter );\n\n    listOfItem.add ( new Item ( &quot;company 1&quot; ) );\n    listOfItem.add ( new Item ( &quot;company 2&quot; ) );\n    listOfItem.add ( new Item ( &quot;company 3&quot; ) );\n\n\n    btn.setOnClickListener ( new View.OnClickListener () {\n        @Override\n        public void onClick(View view)\n        {\n            getList ();\n\n\n        }\n    } );\n    return view;\n}\npublic void getList()\n{\n    flatDialog = new FlatDialog ( getContext () );\n    flatDialog.setTitle ( &quot;Company Name&quot; )\n            .setSubtitle ( &quot;Please add the name of the company&quot; )\n            .setFirstTextFieldHint ( &quot;Company Name&quot; )\n            .setFirstButtonText ( &quot;ADD&quot; )\n            .setSecondButtonText ( &quot;CANCEL&quot; )\n            .withFirstButtonListner ( new View.OnClickListener () {\n                @Override\n                public void onClick(View view) {\n                    \n                    listOfItem.add ( new Item ( flatDialog.getFirstTextField ()) ) ;\n                    mAdapter.notifyDataSetChanged ();\n                    flatDialog.dismiss ();\n\n                }\n            } )\n            .withSecondButtonListner ( new View.OnClickListener () {\n                @Override\n                public void onClick(View view) {\n                    flatDialog.dismiss ();\n                }\n            } )\n            .show ();\n\n}\n}\n</code></pre>\n"},{"tags":["java","spring","junit","mockito","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573150331,"creation_date":1573150331,"answer_id":58754746,"question_id":58754357,"body_markdown":"Friends don&#39;t let friends mock Fluent APIs.\r\n\r\nThe lambda is embedded inline so _cannot_ be individually tested. If you need that then you must extract it to a method call which _can_ be tested.\r\n\r\n````java\r\n  .flatMap( this::handleResponse )\r\n  .block();\r\n...\r\nString handleResponse( Response empResponse ) {\r\n  LOGGER.info(empResponse.getStatusCode());\r\n  return empResponse.toEntity(String.class);\r\n}\r\n````\r\n\r\nMore generally, you might want to look at something like [Wiremock][1] which sets up a local webserver that you can seed with set test responses.\r\n\r\n\r\n  [1]: http://%20http://wiremock.org/docs/getting-started/","title":"Junit test cases for REST API calls with lambda functions","body":"<p>Friends don't let friends mock Fluent APIs.</p>\n\n<p>The lambda is embedded inline so <em>cannot</em> be individually tested. If you need that then you must extract it to a method call which <em>can</em> be tested.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  .flatMap( this::handleResponse )\n  .block();\n...\nString handleResponse( Response empResponse ) {\n  LOGGER.info(empResponse.getStatusCode());\n  return empResponse.toEntity(String.class);\n}\n</code></pre>\n\n<p>More generally, you might want to look at something like <a href=\"http://%20http://wiremock.org/docs/getting-started/\" rel=\"nofollow noreferrer\">Wiremock</a> which sets up a local webserver that you can seed with set test responses.</p>\n"}],"owner":{"account_id":6321171,"reputation":669,"user_id":4909177,"accept_rate":27,"display_name":"das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660780111,"creation_date":1573148667,"question_id":58754357,"body_markdown":"Consider a REST API call method which internally uses lambda functions, how do we write the Junit test cases. I tried myself, but failed to mock the uri builder which is expressed as a lambda function in the POST API call. Also how to mock the block inside flatMap. The code snippet for which I try writing unit test is given below.\r\n\r\n```\r\npublic ResponseEntity&lt;String&gt; findEmployee(String empName, String empId) {\r\n\t\t\r\n\t\tresponse = employeeService.post.uri(builder -&gt; builder.path(pathMapper.get(&quot;GET_PATH&quot;)).queryParam(EMP_ID, empId).build())\r\n\t\t\t.accept(APPLICATION.JSON)\r\n\t\t\t.syncBody(empName)\r\n\t\t\t.exchange()\r\n\t\t\t.flatMap( empResponse -&gt; {\r\n\t\t\t\tLOGGER.info(empResponse.getStatusCode());\r\n\t\t\t\treturn empResponse.toEntity(String.class);\r\n\t\t\t}).block();\r\n\t\t\t\r\n\t\t\treturn response;\r\n\t}\r\n```\r\nWhere, employeeService is a Webclient object. \r\n","title":"Junit test cases for REST API calls with lambda functions","body":"<p>Consider a REST API call method which internally uses lambda functions, how do we write the Junit test cases. I tried myself, but failed to mock the uri builder which is expressed as a lambda function in the POST API call. Also how to mock the block inside flatMap. The code snippet for which I try writing unit test is given below.</p>\n<pre><code>public ResponseEntity&lt;String&gt; findEmployee(String empName, String empId) {\n        \n        response = employeeService.post.uri(builder -&gt; builder.path(pathMapper.get(&quot;GET_PATH&quot;)).queryParam(EMP_ID, empId).build())\n            .accept(APPLICATION.JSON)\n            .syncBody(empName)\n            .exchange()\n            .flatMap( empResponse -&gt; {\n                LOGGER.info(empResponse.getStatusCode());\n                return empResponse.toEntity(String.class);\n            }).block();\n            \n            return response;\n    }\n</code></pre>\n<p>Where, employeeService is a Webclient object.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660779614,"creation_date":1660779614,"answer_id":73395969,"question_id":73381196,"body_markdown":"I don&#39;t see any such issue in your code. But once you extract and print the _`ResponseCode`_ you need to disconnect the connection as:\r\n\r\n\tconn.disconnect();\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nHowever, even I was unable to get the _`ResponseCode`_ from the url  http://www.frysfood.com/i/community/  but got _`ResponseCode`_ as _**200**_ from https://www.google.com/\r\n\r\nCode Block:\r\n\r\n\timport java.net.HttpURLConnection;\r\n\timport java.net.URL;\r\n\r\n\tpublic class getResponseCodeFromURL {\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\t\tString Urlsample =&quot;https://www.google.com/&quot;;\r\n\t\t\tHttpURLConnection conn =(HttpURLConnection) new URL(Urlsample).openConnection();\r\n\t\t\tconn.setRequestMethod(&quot;HEAD&quot;);\r\n\t\t\tconn.connect();\r\n\t\t\tSystem.out.println(conn.getResponseCode());\r\n\t\t\tconn.disconnect();\r\n\t\t}\r\n\r\n\t}\r\n\t\r\nConsole Output:\r\n\r\n\t200","title":"Selenium Java - HttpURLConnection - No ResponseCode from url","body":"<p>I don't see any such issue in your code. But once you extract and print the <em><code>ResponseCode</code></em> you need to disconnect the connection as:</p>\n<pre><code>conn.disconnect();\n</code></pre>\n<hr />\n<p>However, even I was unable to get the <em><code>ResponseCode</code></em> from the url  <a href=\"http://www.frysfood.com/i/community/\" rel=\"nofollow noreferrer\">http://www.frysfood.com/i/community/</a>  but got <em><code>ResponseCode</code></em> as <em><strong>200</strong></em> from <a href=\"https://www.google.com/\" rel=\"nofollow noreferrer\">https://www.google.com/</a></p>\n<p>Code Block:</p>\n<pre><code>import java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class getResponseCodeFromURL {\n\n    public static void main(String[] args) throws Exception {\n\n        String Urlsample =&quot;https://www.google.com/&quot;;\n        HttpURLConnection conn =(HttpURLConnection) new URL(Urlsample).openConnection();\n        conn.setRequestMethod(&quot;HEAD&quot;);\n        conn.connect();\n        System.out.println(conn.getResponseCode());\n        conn.disconnect();\n    }\n\n}\n</code></pre>\n<p>Console Output:</p>\n<pre><code>200\n</code></pre>\n"}],"owner":{"account_id":25071991,"reputation":11,"user_id":18925755,"display_name":"shopper S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660779614,"creation_date":1660690844,"question_id":73381196,"body_markdown":"sample code:\r\n\r\n    String Urlsample =&quot;http://www.frysfood.com/i/community/&quot;;\r\n    HttpURLConnection conn =(HttpURLConnection) new URL(Urlsample).openConnection();\r\n    conn.setRequestMethod(&quot;HEAD&quot;);\r\n    conn.connect();\r\n    System.out.println(conn.getResponseCode());\r\n\r\nI&#39;m trying to validate based on the response code. This  url gives me no response. Why? \r\nAnd, How do i handle this issue and move on to next iteration.","title":"Selenium Java - HttpURLConnection - No ResponseCode from url","body":"<p>sample code:</p>\n<pre><code>String Urlsample =&quot;http://www.frysfood.com/i/community/&quot;;\nHttpURLConnection conn =(HttpURLConnection) new URL(Urlsample).openConnection();\nconn.setRequestMethod(&quot;HEAD&quot;);\nconn.connect();\nSystem.out.println(conn.getResponseCode());\n</code></pre>\n<p>I'm trying to validate based on the response code. This  url gives me no response. Why?\nAnd, How do i handle this issue and move on to next iteration.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660255358,"creation_date":1660255011,"answer_id":73327270,"question_id":73327181,"body_markdown":"To build a Spring based app using the **AWS SDK for Java v2**, use the Enhanced Client. The Amazon DynamoDB enhanced client is a high-level library that is part of the AWS SDK for Java version (v2). \r\n\r\nIt offers a straightforward way to map client-side classes to DynamoDB tables. You define the relationships between tables and their corresponding model classes in your code. Then you can intuitively perform various create, read, update, or delete (CRUD) operations on tables or items in DynamoDB. \r\n\r\nFor more information about the Enhanced Client, see this topic in the AWS Java DEV Guide: \r\n\r\n[Using the DynamoDB Enhanced Client in the AWS SDK for Java 2.x][1]\r\n\r\nIf you look at the **AWS Code Catelog**, you will find this use case that shows how to use the DynamoDB Java API to create a Spring BOOT DEMO app that performs CRUD operations on a DynamoDB table. \r\n\r\nhttps://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_cross_DynamoDBDataTracker_section.html\r\n\r\nThis example shows how to successfully use the IntelliJ IDE to build your AWS Java project. (For devs reading this thread, this use case is also provided in different programming languages such as .NET or Python).  \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html","title":"Error about duplicate ExecutionAttributes when calling a query using the DynamoDB AWS SDK for Java","body":"<p>To build a Spring based app using the <strong>AWS SDK for Java v2</strong>, use the Enhanced Client. The Amazon DynamoDB enhanced client is a high-level library that is part of the AWS SDK for Java version (v2).</p>\n<p>It offers a straightforward way to map client-side classes to DynamoDB tables. You define the relationships between tables and their corresponding model classes in your code. Then you can intuitively perform various create, read, update, or delete (CRUD) operations on tables or items in DynamoDB.</p>\n<p>For more information about the Enhanced Client, see this topic in the AWS Java DEV Guide:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html\" rel=\"nofollow noreferrer\">Using the DynamoDB Enhanced Client in the AWS SDK for Java 2.x</a></p>\n<p>If you look at the <strong>AWS Code Catelog</strong>, you will find this use case that shows how to use the DynamoDB Java API to create a Spring BOOT DEMO app that performs CRUD operations on a DynamoDB table.</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_cross_DynamoDBDataTracker_section.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_cross_DynamoDBDataTracker_section.html</a></p>\n<p>This example shows how to successfully use the IntelliJ IDE to build your AWS Java project. (For devs reading this thread, this use case is also provided in different programming languages such as .NET or Python).</p>\n"}],"owner":{"account_id":26041833,"reputation":21,"user_id":19746496,"display_name":"Humid-IDE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660779378,"creation_date":1660254328,"question_id":73327181,"body_markdown":"I&#39;m creating a Springboot microservice that is attempting to query a table stored in DynamoDB, I can get the table and its contents just fine using the AWS CLI, however when I try to do it through my micro service using IntelliJ, I receive this error that has almost no trace on the internet.\r\n\r\n    [Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause\r\n    \r\n    java.lang.IllegalArgumentException: No duplicate ExecutionAttribute names allowed but both ExecutionAttributes 528c2979 and 6970b040 have the same name: DualstackEndpointsEnabled. ExecutionAttributes should be referenced from a shared static constant to protect against erroneous or unexpected collisions.\r\n\r\nI have tried so many things with no avail, first moving from IntelliJ to launching the app through the command line using Maven manually to VSCode, I uninstalled the IntelliJ DynamoDB plugin thinking it might be interfering with this, killed AWS processes running on port 443 which is what AWS usually runs on, keep in mind the issue occurred before I even had the AWS CLI on my machine so I don&#39;t think having that installed would interfere with my workflow, and it would be a very odd decision if it did.\r\n\r\nthe code is very basic, just making a call using a channel name stored in the database, here is a snippet of the base method being called if it helps identify the issue\r\n\r\n    \tpublic PageIterable&lt;DynamoOrder&gt; getOrdersByChannel(String channelName) {\r\n\r\n\t\tDynamoDbTable&lt;DynamoOrder&gt; orderTable = getTable();\r\n\r\n\t\tAttributeValue channelNameAttribute = AttributeValue.builder().s(channelName).build();\r\n\t\tExpression expression = Expression.builder().expression(&quot;marketplaceChannelName = :v_marketplaceChannelName&quot;)\r\n\t\t\t\t.putExpressionValue(&quot;:v_marketplaceChannelName&quot;, channelNameAttribute).build();\r\n\r\n\t\treturn orderTable.scan(ScanEnhancedRequest.builder().filterExpression(expression).build());\r\n\r\n\t}\r\n\r\nany help would be much appreciated, thanks!\r\n\r\nEDIT: thought I&#39;d provide more information, here&#39;s the exact Exception thrown in the AWS SDK, I don&#39;t have the expertise nor the required knowledge to trace this back properly but maybe someone would, https://github.com/aws/aws-sdk-java-v2/blob/master/core/sdk-core/src/main/java/software/amazon/awssdk/core/interceptor/ExecutionAttribute.java\r\n\r\n","title":"Error about duplicate ExecutionAttributes when calling a query using the DynamoDB AWS SDK for Java","body":"<p>I'm creating a Springboot microservice that is attempting to query a table stored in DynamoDB, I can get the table and its contents just fine using the AWS CLI, however when I try to do it through my micro service using IntelliJ, I receive this error that has almost no trace on the internet.</p>\n<pre><code>[Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError] with root cause\n\njava.lang.IllegalArgumentException: No duplicate ExecutionAttribute names allowed but both ExecutionAttributes 528c2979 and 6970b040 have the same name: DualstackEndpointsEnabled. ExecutionAttributes should be referenced from a shared static constant to protect against erroneous or unexpected collisions.\n</code></pre>\n<p>I have tried so many things with no avail, first moving from IntelliJ to launching the app through the command line using Maven manually to VSCode, I uninstalled the IntelliJ DynamoDB plugin thinking it might be interfering with this, killed AWS processes running on port 443 which is what AWS usually runs on, keep in mind the issue occurred before I even had the AWS CLI on my machine so I don't think having that installed would interfere with my workflow, and it would be a very odd decision if it did.</p>\n<p>the code is very basic, just making a call using a channel name stored in the database, here is a snippet of the base method being called if it helps identify the issue</p>\n<pre><code>    public PageIterable&lt;DynamoOrder&gt; getOrdersByChannel(String channelName) {\n\n    DynamoDbTable&lt;DynamoOrder&gt; orderTable = getTable();\n\n    AttributeValue channelNameAttribute = AttributeValue.builder().s(channelName).build();\n    Expression expression = Expression.builder().expression(&quot;marketplaceChannelName = :v_marketplaceChannelName&quot;)\n            .putExpressionValue(&quot;:v_marketplaceChannelName&quot;, channelNameAttribute).build();\n\n    return orderTable.scan(ScanEnhancedRequest.builder().filterExpression(expression).build());\n\n}\n</code></pre>\n<p>any help would be much appreciated, thanks!</p>\n<p>EDIT: thought I'd provide more information, here's the exact Exception thrown in the AWS SDK, I don't have the expertise nor the required knowledge to trace this back properly but maybe someone would, <a href=\"https://github.com/aws/aws-sdk-java-v2/blob/master/core/sdk-core/src/main/java/software/amazon/awssdk/core/interceptor/ExecutionAttribute.java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/blob/master/core/sdk-core/src/main/java/software/amazon/awssdk/core/interceptor/ExecutionAttribute.java</a></p>\n"},{"tags":["java","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1660759476,"post_id":73392936,"comment_id":129610958,"body_markdown":"It sounds like either `if (task.isSuccessful()) {` or `if (document.exists()) {` is not passing then. I recommend setting a breakpoint on that first one, running in the debugger and checking if you get a result/value.","body":"It sounds like either <code>if (task.isSuccessful()) {</code> or <code>if (document.exists()) {</code> is not passing then. I recommend setting a breakpoint on that first one, running in the debugger and checking if you get a result/value."},{"owner":{"account_id":26069891,"reputation":47,"user_id":19769763,"display_name":"Leonardo Maito"},"score":0,"creation_date":1660760818,"post_id":73392936,"comment_id":129611367,"body_markdown":"@FrankvanPuffelen I did add a picture of the results that the debugger gave me, and dbValue does seem to be null. However, I could be missing some vital info in there since I do not have much experience with it. Any ideas?","body":"@FrankvanPuffelen I did add a picture of the results that the debugger gave me, and dbValue does seem to be null. However, I could be missing some vital info in there since I do not have much experience with it. Any ideas?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":3,"creation_date":1660768309,"post_id":73392936,"comment_id":129613883,"body_markdown":"Your code loads `.document(&quot;idtest&quot;)`, but the screenshot has a document named `idteste` with an extra `e` at the end.","body":"Your code loads <code>.document(&quot;idtest&quot;)</code>, but the screenshot has a document named <code>idteste</code> with an extra <code>e</code> at the end."},{"owner":{"account_id":26069891,"reputation":47,"user_id":19769763,"display_name":"Leonardo Maito"},"score":0,"creation_date":1660779037,"post_id":73392936,"comment_id":129616158,"body_markdown":"Oh, that was absolutely my lack of attention fault, it worked after changing it to &quot;idteste&quot;. Sorry about this one, I guess I just needed a fresh pair of eyes. Thank you so much!","body":"Oh, that was absolutely my lack of attention fault, it worked after changing it to &quot;idteste&quot;. Sorry about this one, I guess I just needed a fresh pair of eyes. Thank you so much!"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1660779198,"post_id":73392936,"comment_id":129616176,"body_markdown":"Good to hear you got it working @Leonardo. And no worries about posting, we all have occasional blind spots and those are a lot easier for folks who don&#39;t know your project, docs and code at all. :)\n\nI voted to close the question as a typo btw, since it&#39;s unlikely that folks who find themselves in the same situation in the future will find this post and benefit from your experience.","body":"Good to hear you got it working @Leonardo. And no worries about posting, we all have occasional blind spots and those are a lot easier for folks who don&#39;t know your project, docs and code at all. :)  I voted to close the question as a typo btw, since it&#39;s unlikely that folks who find themselves in the same situation in the future will find this post and benefit from your experience."}],"answers":[{"tags":[],"owner":{"account_id":26069891,"reputation":47,"user_id":19769763,"display_name":"Leonardo Maito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660779114,"creation_date":1660779114,"answer_id":73395930,"question_id":73392936,"body_markdown":"The problem as Frank van Puffelen described was that  my code was loading &quot;idtest&quot; instead of idteste, as it is in my firestore database. Apart from that, it seems that the callback function made all of this possible.","title":"Callback in Firestore still returning null values from database","body":"<p>The problem as Frank van Puffelen described was that  my code was loading &quot;idtest&quot; instead of idteste, as it is in my firestore database. Apart from that, it seems that the callback function made all of this possible.</p>\n"}],"owner":{"account_id":26069891,"reputation":47,"user_id":19769763,"display_name":"Leonardo Maito"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660779114,"creation_date":1660758761,"question_id":73392936,"body_markdown":"After my last question regarding reading data from a Firestore collection, I had to create a callback function in order to use the asynchronized data that Firestore sends. However, even with the callback function created, security rules in Firestore console overruled and a guarantee that there is a connection between my app and the database, I still get a null value.\r\n\r\nHere is my callback interface\r\n\r\n```\r\npublic interface Callback {\r\n\r\n    void myResponseCallback(String result);\r\n\r\n}\r\n```\r\n\r\nAnd here is my updated code to work with this callback:\r\n\r\n\r\n```\r\nFirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\nDocumentReference docRef =\r\n        db.collection(&quot;usuarios&quot;)\r\n                .document(&quot;idtest&quot;);\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_menu);\r\n\r\n    tvMenu = findViewById(R.id.tvMainMenu);\r\n    btOpenOs = findViewById(R.id.btNewOs);\r\n\r\n}\r\n\r\n\r\npublic void readDataFromFirestore(Callback callback){\r\n    //The app doesn&#39;t even enter this part of the code, as if they stop right at the first IF\r\n    docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                DocumentSnapshot document = task.getResult();\r\n                if (document.exists()) {\r\n                    dbValue = document.getString(&quot;palavra&quot;);\r\n                    //tvMenu.setText(dbValue); DOESN&#39;T WORK\r\n                    Toast.makeText(MenuActivity.this, &quot;String Value: &quot; + document.getString(&quot;palavra&quot;), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n            callback.myResponseCallback(dbValue);\r\n        }\r\n    });\r\n}\r\n\r\npublic void setDataFromFirestore() {\r\n    readDataFromFirestore(new Callback() {\r\n        @Override\r\n        public void myResponseCallback(String result) {\r\n            tvMenu.setText(result);\r\n             //Returns null\r\n            Toast.makeText(MenuActivity.this, &quot;Result: &quot; + result, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n}\r\n\r\n\r\npublic void openOsActivity(View view) {\r\n   /* Intent osIntent = new Intent(this, OsActivity.class);\r\n    startActivity(osIntent);*/\r\n\r\n    setDataFromFirestore();\r\n}\r\n\r\n```\r\nThe Toast from setDataFromFirestore() returns a &quot;Result: null&quot;. Here&#39;s a picture of my FireStore collection of which I&#39;m trying to read the field &quot;palavra&quot;:\r\n\r\n![FireStore Collection][1]\r\n\r\n\r\nWhat exactly am I doing wrong here? It&#39;s my first time with Firestore and even after reading the documentation and other SO posts, I&#39;m stuck. Any help would be greatly appreciated.\r\n\r\n**EDIT**\r\n\r\nRunning the debugger, it seems that the result is also null. Here is a image from it:\r\n\r\n![Debugger Info][2]\r\n\r\nHowever I could use some help understanding some of the information in there.\r\n\r\n  [1]: https://i.stack.imgur.com/NRFBz.png\r\n  [2]: https://i.stack.imgur.com/iPGAN.png","title":"Callback in Firestore still returning null values from database","body":"<p>After my last question regarding reading data from a Firestore collection, I had to create a callback function in order to use the asynchronized data that Firestore sends. However, even with the callback function created, security rules in Firestore console overruled and a guarantee that there is a connection between my app and the database, I still get a null value.</p>\n<p>Here is my callback interface</p>\n<pre><code>public interface Callback {\n\n    void myResponseCallback(String result);\n\n}\n</code></pre>\n<p>And here is my updated code to work with this callback:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\n\nDocumentReference docRef =\n        db.collection(&quot;usuarios&quot;)\n                .document(&quot;idtest&quot;);\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_menu);\n\n    tvMenu = findViewById(R.id.tvMainMenu);\n    btOpenOs = findViewById(R.id.btNewOs);\n\n}\n\n\npublic void readDataFromFirestore(Callback callback){\n    //The app doesn't even enter this part of the code, as if they stop right at the first IF\n    docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                DocumentSnapshot document = task.getResult();\n                if (document.exists()) {\n                    dbValue = document.getString(&quot;palavra&quot;);\n                    //tvMenu.setText(dbValue); DOESN'T WORK\n                    Toast.makeText(MenuActivity.this, &quot;String Value: &quot; + document.getString(&quot;palavra&quot;), Toast.LENGTH_SHORT).show();\n                }\n            }\n            callback.myResponseCallback(dbValue);\n        }\n    });\n}\n\npublic void setDataFromFirestore() {\n    readDataFromFirestore(new Callback() {\n        @Override\n        public void myResponseCallback(String result) {\n            tvMenu.setText(result);\n             //Returns null\n            Toast.makeText(MenuActivity.this, &quot;Result: &quot; + result, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n\n\npublic void openOsActivity(View view) {\n   /* Intent osIntent = new Intent(this, OsActivity.class);\n    startActivity(osIntent);*/\n\n    setDataFromFirestore();\n}\n\n</code></pre>\n<p>The Toast from setDataFromFirestore() returns a &quot;Result: null&quot;. Here's a picture of my FireStore collection of which I'm trying to read the field &quot;palavra&quot;:</p>\n<p><img src=\"https://i.stack.imgur.com/NRFBz.png\" alt=\"FireStore Collection\" /></p>\n<p>What exactly am I doing wrong here? It's my first time with Firestore and even after reading the documentation and other SO posts, I'm stuck. Any help would be greatly appreciated.</p>\n<p><strong>EDIT</strong></p>\n<p>Running the debugger, it seems that the result is also null. Here is a image from it:</p>\n<p><img src=\"https://i.stack.imgur.com/iPGAN.png\" alt=\"Debugger Info\" /></p>\n<p>However I could use some help understanding some of the information in there.</p>\n"},{"tags":["java","xml","xerces"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1660828270,"post_id":73395926,"comment_id":129628921,"body_markdown":"Once that pastebin link expires, your question will be useless to future readers.  For that reason, please include your entire LSResourceResolver implementation code directly in your question.  Also, remove the try/catch from each of your tests.  Letting any exceptions propagate will let your test fail as intended, and has the additional benefit of letting you see the full stack trace and explanation for the failure in the test report.  (You do want to know why something failed, right?)","body":"Once that pastebin link expires, your question will be useless to future readers.  For that reason, please include your entire LSResourceResolver implementation code directly in your question.  Also, remove the try/catch from each of your tests.  Letting any exceptions propagate will let your test fail as intended, and has the additional benefit of letting you see the full stack trace and explanation for the failure in the test report.  (You do want to know why something failed, right?)"},{"owner":{"account_id":1260672,"reputation":489,"user_id":1219045,"accept_rate":36,"display_name":"donald"},"score":0,"creation_date":1660829926,"post_id":73395926,"comment_id":129629608,"body_markdown":"there is no expiration date on these pages. you can take a look. massive amounts of code obfuscate the question, this is why I put it in another location.","body":"there is no expiration date on these pages. you can take a look. massive amounts of code obfuscate the question, this is why I put it in another location."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1660830531,"post_id":73395926,"comment_id":129629881,"body_markdown":"That class is not massive.  Stack Overflow questions need to be self-contained and meaningful regardless of the content of other sites.","body":"That class is not massive.  Stack Overflow questions need to be self-contained and meaningful regardless of the content of other sites."}],"owner":{"account_id":1260672,"reputation":489,"user_id":1219045,"accept_rate":36,"display_name":"donald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660779055,"creation_date":1660779055,"question_id":73395926,"body_markdown":"I have 4 files, 2 xsd and 2 xml (all of them are [here][1]), located in `mocks` folder (these are 4 separate files, here they are all together just for show, but the content is accurate).\r\nI also have a custom `LSResourceResolver` ([here][2]).\r\n\r\nNow: when I run the following test\r\n```java\r\n @Test\r\n    public void TestStreamingFromFile2() throws SAXException, IOException {\r\n        String XmlSchemaFile = &quot;../mocks/xsd/Person.xsd&quot;;\r\n        String xmlFile = &quot;../mocks/person.xml&quot;;\r\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n        Schema schema = null;\r\n        schemaFactory.setResourceResolver(new CustomResolver2());\r\n        try {\r\n            schema = schemaFactory.newSchema(new File(XmlSchemaFile));\r\n        } catch (Exception e) {\r\n            Assert.fail();\r\n        }\r\n        Validator validator = schema.newValidator();\r\n        validator.validate(new StreamSource(new File(xmlFile)));\r\n    }\r\n```\r\nit passes without an issue (single xml with single xsd).\r\nHowever, the following test (a nested file, employee-&gt;person)\r\n```java\r\n    @Test\r\n    public void TestStreamingFromFileComposite2() throws SAXException, IOException {\r\n        String employeeXmlSchemaFile = &quot;../mocks/xsd/Employee.xsd&quot;;\r\n        String employeeXmlFile = &quot;../mocks/employee.xml&quot;;\r\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n        Schema schema = null;\r\n        schemaFactory.setResourceResolver(new CustomResolver2());\r\n        try {\r\n            schema = schemaFactory.newSchema(new File(employeeXmlSchemaFile));\r\n        } catch (Exception e) {\r\n            Assert.fail(e.getMessage());\r\n        }\r\n        Validator validator = schema.newValidator();\r\n        validator.validate(new StreamSource(new File(employeeXmlFile)));\r\n    }\r\n```\r\nfails with `A schema cannot contain two global components with the same name; this schema contains two occurrences of &#39;http://www.w3.org/2002/ws/databinding/examples/6/09/,Employee&#39;.`. \r\n\r\nHowever, when I run this test (same 4 files, mind you) with no custom resolver, it passes:\r\n```java\r\n @Test\r\n    public void TestWithNoCustomResolver() throws IOException, SAXException {\r\n        String employeeXmlSchemaFile = &quot;../mocks/xsd/Employee.xsd&quot;;\r\n        String employeeXmlFile = &quot;../mocks/employee.xml&quot;;\r\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n        Schema schema = null;\r\n        try {\r\n            schema = schemaFactory.newSchema(new File(employeeXmlSchemaFile));\r\n        } catch (Exception e) {\r\n            Assert.fail(e.getMessage());\r\n        }\r\n        Validator validator = schema.newValidator();\r\n        validator.validate(new StreamSource(new File(employeeXmlFile)));\r\n    }\r\n```\r\n\r\n I looked everywhere for sample code, didn&#39;t find anything that works.\r\nanyone can shed some light here?\r\nThanks!\r\n\r\n\r\n  [1]: https://pastebin.com/Xs0MsEdb\r\n  [2]: https://pastebin.com/27NXtHs5","title":"Java XML -LSResourceResolver throw an error","body":"<p>I have 4 files, 2 xsd and 2 xml (all of them are <a href=\"https://pastebin.com/Xs0MsEdb\" rel=\"nofollow noreferrer\">here</a>), located in <code>mocks</code> folder (these are 4 separate files, here they are all together just for show, but the content is accurate).\nI also have a custom <code>LSResourceResolver</code> (<a href=\"https://pastebin.com/27NXtHs5\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Now: when I run the following test</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Test\n    public void TestStreamingFromFile2() throws SAXException, IOException {\n        String XmlSchemaFile = &quot;../mocks/xsd/Person.xsd&quot;;\n        String xmlFile = &quot;../mocks/person.xml&quot;;\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n        Schema schema = null;\n        schemaFactory.setResourceResolver(new CustomResolver2());\n        try {\n            schema = schemaFactory.newSchema(new File(XmlSchemaFile));\n        } catch (Exception e) {\n            Assert.fail();\n        }\n        Validator validator = schema.newValidator();\n        validator.validate(new StreamSource(new File(xmlFile)));\n    }\n</code></pre>\n<p>it passes without an issue (single xml with single xsd).\nHowever, the following test (a nested file, employee-&gt;person)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void TestStreamingFromFileComposite2() throws SAXException, IOException {\n        String employeeXmlSchemaFile = &quot;../mocks/xsd/Employee.xsd&quot;;\n        String employeeXmlFile = &quot;../mocks/employee.xml&quot;;\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n        Schema schema = null;\n        schemaFactory.setResourceResolver(new CustomResolver2());\n        try {\n            schema = schemaFactory.newSchema(new File(employeeXmlSchemaFile));\n        } catch (Exception e) {\n            Assert.fail(e.getMessage());\n        }\n        Validator validator = schema.newValidator();\n        validator.validate(new StreamSource(new File(employeeXmlFile)));\n    }\n</code></pre>\n<p>fails with <code>A schema cannot contain two global components with the same name; this schema contains two occurrences of 'http://www.w3.org/2002/ws/databinding/examples/6/09/,Employee'.</code>.</p>\n<p>However, when I run this test (same 4 files, mind you) with no custom resolver, it passes:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Test\n    public void TestWithNoCustomResolver() throws IOException, SAXException {\n        String employeeXmlSchemaFile = &quot;../mocks/xsd/Employee.xsd&quot;;\n        String employeeXmlFile = &quot;../mocks/employee.xml&quot;;\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n        Schema schema = null;\n        try {\n            schema = schemaFactory.newSchema(new File(employeeXmlSchemaFile));\n        } catch (Exception e) {\n            Assert.fail(e.getMessage());\n        }\n        Validator validator = schema.newValidator();\n        validator.validate(new StreamSource(new File(employeeXmlFile)));\n    }\n</code></pre>\n<p>I looked everywhere for sample code, didn't find anything that works.\nanyone can shed some light here?\nThanks!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1660784146,"post_id":73395901,"comment_id":129616874,"body_markdown":"You add an image to both documents with `model.addAttribute(&quot;image&quot;, ...);`. If you don&#39;t want that then use an `if` check based on the collection `if(containsImage){model.addAttribute(&quot;image&quot;, ...);}`","body":"You add an image to both documents with <code>model.addAttribute(&quot;image&quot;, ...);</code>. If you don&#39;t want that then use an <code>if</code> check based on the collection <code>if(containsImage){model.addAttribute(&quot;image&quot;, ...);}</code>"},{"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1660827202,"post_id":73395901,"comment_id":129628437,"body_markdown":"Sorry, Im trying to fix it with your example but no success. Can you provide me a minimal example","body":"Sorry, Im trying to fix it with your example but no success. Can you provide me a minimal example"}],"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660778768,"creation_date":1660778768,"question_id":73395901,"body_markdown":"I have this in my collections for example:\r\n\r\n`Document1`\r\n\r\n    title: &quot;doc1&quot;,\r\n    description: doc1 desc&quot;,\r\n    image: binary...;\r\n\r\n`Document2`\r\n    \r\n    title: &quot;doc2&quot;,\r\n    description: doc2 desc&quot;;\r\nSo as you can see I dont have image at all for `Document2`.\r\n\r\nThis is my HTML code to render image from database:\r\n\r\n    &lt;tr th:each=&quot;randomSummerCamps:${randomSummerCamps}&quot;&gt;\r\n    &lt;div class=&quot;title&quot;&gt;\r\n        &lt;h1&gt;We think this trip best suit you.&lt;/h1&gt;\r\n        &lt;h1 th:text=&quot;${randomSummerCamps.title}&quot;&gt;&lt;/h1&gt;\r\n        &lt;h1 th:text=&quot;${randomSummerCamps.state}&quot;&gt;&lt;/h1&gt;\r\n        &lt;img alt=&quot;sample&quot; th:src=&quot;*{&#39;data:image/png;base64,&#39;+image}&quot; src=&quot;&quot;/&gt;\r\n        &lt;div class=&quot;description&quot;&gt;\r\n            &lt;td th:text=&quot;${randomSummerCamps.description}&quot;&gt;&lt;/td&gt;\r\n        &lt;/div&gt;\r\n        &lt;button type=&quot;button&quot; onclick=&quot;document.location.href = &#39;/adventureHolidays/getRandomSummerCamps&#39;&quot;&gt;Randomize\r\n            again!\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/tr&gt;\r\n\r\nThis is my controller, you can see `model.addAttribute` where I actually render image \r\n\r\n    countSummerCamps.incrementAndGet();\r\n        if (getCountSummerCamps() &lt;= adventureHolidaysService.countAdventureHolidays(&quot;summerCamps&quot;)) {\r\n            AdventureHolidays photo = adventureHolidaysService.getPhoto();\r\n            model.addAttribute(&quot;randomSummerCamps&quot;, adventureHolidaysService.findRandomAdventureHolidays(&quot;summerCamps&quot;));\r\n            System.out.println(&quot;in if&quot;);\r\n            model.addAttribute(&quot;image&quot;,\r\n                    Base64.getEncoder().encodeToString(photo.getImage().getData()));\r\n            return &quot;randomSummerCamps&quot;;\r\n        } else {\r\n            countSummerCamps.set(0);\r\n            return &quot;noMoreDoc&quot;;\r\n        }\r\n    }\r\n\r\nAnd problem is: \r\n\r\nImage appear for both documents instead of just for first.\r\nYou can see in html that I have `title` and `state` fields and that is rendered good on page, but my picture is showed for both documents. Any idea? Sorry for bad english, and thanks anyone \r\n\r\n\r\n\r\n","title":"Image is rendered for all documents instead for one","body":"<p>I have this in my collections for example:</p>\n<p><code>Document1</code></p>\n<pre><code>title: &quot;doc1&quot;,\ndescription: doc1 desc&quot;,\nimage: binary...;\n</code></pre>\n<p><code>Document2</code></p>\n<pre><code>title: &quot;doc2&quot;,\ndescription: doc2 desc&quot;;\n</code></pre>\n<p>So as you can see I dont have image at all for <code>Document2</code>.</p>\n<p>This is my HTML code to render image from database:</p>\n<pre><code>&lt;tr th:each=&quot;randomSummerCamps:${randomSummerCamps}&quot;&gt;\n&lt;div class=&quot;title&quot;&gt;\n    &lt;h1&gt;We think this trip best suit you.&lt;/h1&gt;\n    &lt;h1 th:text=&quot;${randomSummerCamps.title}&quot;&gt;&lt;/h1&gt;\n    &lt;h1 th:text=&quot;${randomSummerCamps.state}&quot;&gt;&lt;/h1&gt;\n    &lt;img alt=&quot;sample&quot; th:src=&quot;*{'data:image/png;base64,'+image}&quot; src=&quot;&quot;/&gt;\n    &lt;div class=&quot;description&quot;&gt;\n        &lt;td th:text=&quot;${randomSummerCamps.description}&quot;&gt;&lt;/td&gt;\n    &lt;/div&gt;\n    &lt;button type=&quot;button&quot; onclick=&quot;document.location.href = '/adventureHolidays/getRandomSummerCamps'&quot;&gt;Randomize\n        again!\n    &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my controller, you can see <code>model.addAttribute</code> where I actually render image</p>\n<pre><code>countSummerCamps.incrementAndGet();\n    if (getCountSummerCamps() &lt;= adventureHolidaysService.countAdventureHolidays(&quot;summerCamps&quot;)) {\n        AdventureHolidays photo = adventureHolidaysService.getPhoto();\n        model.addAttribute(&quot;randomSummerCamps&quot;, adventureHolidaysService.findRandomAdventureHolidays(&quot;summerCamps&quot;));\n        System.out.println(&quot;in if&quot;);\n        model.addAttribute(&quot;image&quot;,\n                Base64.getEncoder().encodeToString(photo.getImage().getData()));\n        return &quot;randomSummerCamps&quot;;\n    } else {\n        countSummerCamps.set(0);\n        return &quot;noMoreDoc&quot;;\n    }\n}\n</code></pre>\n<p>And problem is:</p>\n<p>Image appear for both documents instead of just for first.\nYou can see in html that I have <code>title</code> and <code>state</code> fields and that is rendered good on page, but my picture is showed for both documents. Any idea? Sorry for bad english, and thanks anyone</p>\n"},{"tags":["java","maven","maven-enforcer-plugin"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1660748006,"post_id":73389731,"comment_id":129606569,"body_markdown":"Doesn&#39;t look like you can combine rules with boolean logic...so i guess either the [beanshell rule](https://maven.apache.org/enforcer/enforcer-rules/evaluateBeanshell.html) or a [custom rule](https://maven.apache.org/enforcer/enforcer-api/writing-a-custom-rule.html) remain as the options? Or maybe someone already made a custom rule like this?","body":"Doesn&#39;t look like you can combine rules with boolean logic...so i guess either the <a href=\"https://maven.apache.org/enforcer/enforcer-rules/evaluateBeanshell.html\" rel=\"nofollow noreferrer\">beanshell rule</a> or a <a href=\"https://maven.apache.org/enforcer/enforcer-api/writing-a-custom-rule.html\" rel=\"nofollow noreferrer\">custom rule</a> remain as the options? Or maybe someone already made a custom rule like this?"}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660776860,"creation_date":1660775901,"answer_id":73395616,"question_id":73389731,"body_markdown":"There are a few standard rules like: [`requireFiles...`][1] all rules extends class: [AbstractRequireFiles][2].\r\n\r\nAll files given as list must satisfy rule.\r\n\r\nYou can add next parameter to `AbstractRequireFiles`, eg `satisfyAny`.\r\nImplementation should not be difficult.\r\n\r\nIssue for track [MENFORCER-430][3] and for fix for volunteers :-)\r\n\r\n  [1]: https://maven.apache.org/enforcer/enforcer-rules/index.html\r\n  [2]: https://github.com/apache/maven-enforcer/blob/master/enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/AbstractRequireFiles.java\r\n  [3]: https://issues.apache.org/jira/browse/MENFORCER-430","title":"Is there a way to enforce one of many files in Apache Maven Enforcer rule &quot;Require Files Exist&quot;?","body":"<p>There are a few standard rules like: <a href=\"https://maven.apache.org/enforcer/enforcer-rules/index.html\" rel=\"nofollow noreferrer\"><code>requireFiles...</code></a> all rules extends class: <a href=\"https://github.com/apache/maven-enforcer/blob/master/enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/AbstractRequireFiles.java\" rel=\"nofollow noreferrer\">AbstractRequireFiles</a>.</p>\n<p>All files given as list must satisfy rule.</p>\n<p>You can add next parameter to <code>AbstractRequireFiles</code>, eg <code>satisfyAny</code>.\nImplementation should not be difficult.</p>\n<p>Issue for track <a href=\"https://issues.apache.org/jira/browse/MENFORCER-430\" rel=\"nofollow noreferrer\">MENFORCER-430</a> and for fix for volunteers :-)</p>\n"}],"owner":{"account_id":14036429,"reputation":315,"user_id":10138996,"display_name":"pascalre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660776860,"creation_date":1660744421,"question_id":73389731,"body_markdown":"I am using the rule [requireFilesExists][1] of the Maven Enforcer Plugin. I need to enforce a README-file. This can be for example a file called README.adoc or README.md. The documentation only says that a list of files can be provided which are all enforced. But I see no way to enforce a list where only one file would be sufficient.\r\n\r\n\r\n  [1]: https://maven.apache.org/enforcer/enforcer-rules/requireFilesExist.html","title":"Is there a way to enforce one of many files in Apache Maven Enforcer rule &quot;Require Files Exist&quot;?","body":"<p>I am using the rule <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireFilesExist.html\" rel=\"nofollow noreferrer\">requireFilesExists</a> of the Maven Enforcer Plugin. I need to enforce a README-file. This can be for example a file called README.adoc or README.md. The documentation only says that a list of files can be provided which are all enforced. But I see no way to enforce a list where only one file would be sufficient.</p>\n"},{"tags":["java","spring","spring-boot","spring-test","spring-websocket"],"comments":[{"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"score":0,"creation_date":1556217994,"post_id":55855667,"comment_id":98372984,"body_markdown":"Please show us a little code of yours. Have you created your websocket with configuration extending with AbstractWebSocketMessageBrokerConfigurer? Which client are you using? There is a built in client called WebSocketStompClient if you are using stomp","body":"Please show us a little code of yours. Have you created your websocket with configuration extending with AbstractWebSocketMessageBrokerConfigurer? Which client are you using? There is a built in client called WebSocketStompClient if you are using stomp"},{"owner":{"account_id":8077786,"reputation":560,"user_id":6088168,"display_name":"Hugo Sartori"},"score":0,"creation_date":1556221395,"post_id":55855667,"comment_id":98374563,"body_markdown":"Yes, actually the system works just great. I was using singleton scope and some static references. Now I&#39;m refactoring the code to use websocket scope, but I&#39;m stuck on this kind of test.","body":"Yes, actually the system works just great. I was using singleton scope and some static references. Now I&#39;m refactoring the code to use websocket scope, but I&#39;m stuck on this kind of test."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1556266178,"post_id":55855667,"comment_id":98386997,"body_markdown":"Ofcourse it will fail, as the test doesn&#39;t run in the web socket scope. It is only available from inside an active web socket connection which your test case isn&#39;t. So you need to find a different way of testing. You might want to use a mock instead of the actual scoped object, instead of `@Autowired` use `@MockBean`.","body":"Ofcourse it will fail, as the test doesn&#39;t run in the web socket scope. It is only available from inside an active web socket connection which your test case isn&#39;t. So you need to find a different way of testing. You might want to use a mock instead of the actual scoped object, instead of <code>@Autowired</code> use <code>@MockBean</code>."},{"owner":{"account_id":8077786,"reputation":560,"user_id":6088168,"display_name":"Hugo Sartori"},"score":0,"creation_date":1556293594,"post_id":55855667,"comment_id":98401937,"body_markdown":"But the websocket scoped service needs to be tested anyway. So, how could it be done? Is there any way to get the session context in the testing thread?","body":"But the websocket scoped service needs to be tested anyway. So, how could it be done? Is there any way to get the session context in the testing thread?"}],"answers":[{"tags":[],"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556265135,"creation_date":1556228658,"answer_id":55858063,"question_id":55855667,"body_markdown":"Try to spy the trackerService service with the following code inside test class:\r\n\r\n    @SpyBean\r\n    private TrackerService trackerService;\r\n    \r\n    @Test\r\n    public void startTracking() {\r\n        TrackerClient client = new \r\n    \r\n        TrackerClient(&quot;ws://localhost:9050/operational/websocket&quot;, &quot;admin&quot;, &quot;admin&quot;);\r\n        client.connectAndWait();\r\n        client.send(&quot;/operational/tracker/plate/ABC1234/track.start&quot;);\r\n        TimeUnit.SECONDS.sleep(1);\r\n    \r\n        boolean result = Mockito.verify(trackerService).isBeingTracked(&quot;ABC1234&quot;);\r\n        Assert.assertTrue(result);\r\n    }\r\n\r\nUpdated answer:\r\n\r\n    @MockBean\r\n    private TrackerService trackerService;\r\n    \r\n    @Test\r\n    public void startTracking() {\r\n\r\n        Mockito.doAnswer((Answer&lt;Object&gt;) invocationOnMock -&gt; {\r\n            Object[] args = invocationOnMock.getArguments();\r\n            assertEquals(&quot;ABC1234&quot;, invocationOnMock.getArgument(0));\r\n            return null;\r\n\r\n        }).when(sessionTracker).sessionDestroyed(Mockito.any());\r\n\r\n        TrackerClient client = new \r\n    \r\n        TrackerClient(&quot;ws://localhost:9050/operational/websocket&quot;, &quot;admin&quot;, &quot;admin&quot;);\r\n        client.connectAndWait();\r\n        client.send(&quot;/operational/tracker/plate/ABC1234/track.start&quot;);\r\n        TimeUnit.SECONDS.sleep(1);\r\n    }","title":"How to test a component with websocket scope?","body":"<p>Try to spy the trackerService service with the following code inside test class:</p>\n\n<pre><code>@SpyBean\nprivate TrackerService trackerService;\n\n@Test\npublic void startTracking() {\n    TrackerClient client = new \n\n    TrackerClient(\"ws://localhost:9050/operational/websocket\", \"admin\", \"admin\");\n    client.connectAndWait();\n    client.send(\"/operational/tracker/plate/ABC1234/track.start\");\n    TimeUnit.SECONDS.sleep(1);\n\n    boolean result = Mockito.verify(trackerService).isBeingTracked(\"ABC1234\");\n    Assert.assertTrue(result);\n}\n</code></pre>\n\n<p>Updated answer:</p>\n\n<pre><code>@MockBean\nprivate TrackerService trackerService;\n\n@Test\npublic void startTracking() {\n\n    Mockito.doAnswer((Answer&lt;Object&gt;) invocationOnMock -&gt; {\n        Object[] args = invocationOnMock.getArguments();\n        assertEquals(\"ABC1234\", invocationOnMock.getArgument(0));\n        return null;\n\n    }).when(sessionTracker).sessionDestroyed(Mockito.any());\n\n    TrackerClient client = new \n\n    TrackerClient(\"ws://localhost:9050/operational/websocket\", \"admin\", \"admin\");\n    client.connectAndWait();\n    client.send(\"/operational/tracker/plate/ABC1234/track.start\");\n    TimeUnit.SECONDS.sleep(1);\n}\n</code></pre>\n"}],"owner":{"account_id":8077786,"reputation":560,"user_id":6088168,"display_name":"Hugo Sartori"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660776775,"creation_date":1556217422,"question_id":55855667,"body_markdown":"I&#39;m trying to build a simple test of a simple component marked with websocket scope. The problem is that I get this error:\r\n\r\n&gt;Scope &#39;websocket&#39; is not active for the current thread;\r\n\r\nWhich makes sense, because I&#39;m using a simulated WebSocket client to perform a login, and on the client side context of the Spring app the websocket session created by the client has no impact.\r\n\r\nWhat is the proper way to test websocket scoped components?\r\n\r\nComponent class:\r\n\r\n    @Service\r\n    @Scope(scopeName = &quot;websocket&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    public class TrackerService {\r\n        \r\n        private final ConcurrentMap&lt;String, Collection&lt;Geolocation&gt;&gt; vehicleBeingTracked = new ConcurrentHashMap&lt;&gt;();\r\n\r\n        public void startTracking(String plateSequence) {\r\n            vehiclesBeingTracked.put(plateSequence, new ArrayList&lt;&gt;());\r\n        }\r\n\r\n        public void stopTracking(String plateSequence) {\r\n            vehiclesBeingTracked.remove(plateSequence);\r\n        }\r\n\r\n        public void spotVehicle(String plateSequence, Geolocation geo) {\r\n            vehiclesBeingTracked.get(plateSequence).add(geo);\r\n        }\r\n\r\n        public boolean isBeingTracked(String plateSequence) {\r\n            return vehiclesBeingTracked.containsKey(plateSequence);\r\n        }\r\n\r\n    }\r\n\r\nController class:\r\n\r\n    @Controller\r\n    @MessageMapping(&quot;/operational/tracker&quot;)\r\n    public class TrackerController {\r\n\r\n        @Autowired\r\n        private TrackerService trackerService;\r\n\r\n        @MessageMapping(&quot;/plate/{plateSequence}/track.start&quot;)\r\n        public void startTracking(@DestinationVariable(&quot;plateSequence&quot;) String plateSequence) {\r\n            trackerService.startTracking(plateSequence);\r\n        }\r\n\r\n    }\r\n\r\nTest class:\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration\r\n    @SpringBootTest(classes = UnifyApplication.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class TrackerTest {\r\n\r\n        @Autowired\r\n        private TrackerService trackerService;\r\n\r\n        @Test\r\n        public void startTracking() {\r\n            TrackerClient client = new TrackerClient(&quot;ws://localhost:9050/operational/websocket&quot;, &quot;admin&quot;, &quot;admin&quot;);\r\n            client.connectAndWait();\r\n            client.send(&quot;/operational/tracker/plate/ABC1234/track.start&quot;);\r\n            TimeUnit.SECONDS.sleep(1);\r\n\r\n            boolean result = trackerService.isBeingTracked(&quot;ABC1234&quot;); // Here is the error\r\n            Assert.assertTrue(result);\r\n        }\r\n    }","title":"How to test a component with websocket scope?","body":"<p>I'm trying to build a simple test of a simple component marked with websocket scope. The problem is that I get this error:</p>\n<blockquote>\n<p>Scope 'websocket' is not active for the current thread;</p>\n</blockquote>\n<p>Which makes sense, because I'm using a simulated WebSocket client to perform a login, and on the client side context of the Spring app the websocket session created by the client has no impact.</p>\n<p>What is the proper way to test websocket scoped components?</p>\n<p>Component class:</p>\n<pre><code>@Service\n@Scope(scopeName = &quot;websocket&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class TrackerService {\n    \n    private final ConcurrentMap&lt;String, Collection&lt;Geolocation&gt;&gt; vehicleBeingTracked = new ConcurrentHashMap&lt;&gt;();\n\n    public void startTracking(String plateSequence) {\n        vehiclesBeingTracked.put(plateSequence, new ArrayList&lt;&gt;());\n    }\n\n    public void stopTracking(String plateSequence) {\n        vehiclesBeingTracked.remove(plateSequence);\n    }\n\n    public void spotVehicle(String plateSequence, Geolocation geo) {\n        vehiclesBeingTracked.get(plateSequence).add(geo);\n    }\n\n    public boolean isBeingTracked(String plateSequence) {\n        return vehiclesBeingTracked.containsKey(plateSequence);\n    }\n\n}\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@Controller\n@MessageMapping(&quot;/operational/tracker&quot;)\npublic class TrackerController {\n\n    @Autowired\n    private TrackerService trackerService;\n\n    @MessageMapping(&quot;/plate/{plateSequence}/track.start&quot;)\n    public void startTracking(@DestinationVariable(&quot;plateSequence&quot;) String plateSequence) {\n        trackerService.startTracking(plateSequence);\n    }\n\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration\n@SpringBootTest(classes = UnifyApplication.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n@ActiveProfiles(&quot;test&quot;)\npublic class TrackerTest {\n\n    @Autowired\n    private TrackerService trackerService;\n\n    @Test\n    public void startTracking() {\n        TrackerClient client = new TrackerClient(&quot;ws://localhost:9050/operational/websocket&quot;, &quot;admin&quot;, &quot;admin&quot;);\n        client.connectAndWait();\n        client.send(&quot;/operational/tracker/plate/ABC1234/track.start&quot;);\n        TimeUnit.SECONDS.sleep(1);\n\n        boolean result = trackerService.isBeingTracked(&quot;ABC1234&quot;); // Here is the error\n        Assert.assertTrue(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","quartz-scheduler"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1656353493,"post_id":72746253,"comment_id":128546563,"body_markdown":"Is *My team is very much particular* some sort of local saying? At least I don&#39;t understand its&#39; meaning.","body":"Is <i>My team is very much particular</i> some sort of local saying? At least I don&#39;t understand its&#39; meaning."}],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660776617,"creation_date":1656292635,"answer_id":72766192,"question_id":72746253,"body_markdown":"If my understanding is correct, apart from your Microservice for your orchestration, you would be building two more Kafka Consumers, one for trigger email and another one is for displaying remainders in UI.\r\n\r\nThis sounds a good design and you guys want to introduce Kafka ecosystem in your project, you can do much more with Kafka underlying features, and you won&#39;t be having any operational overheads down the line. But you can reconsider your design option, because your business logic can be easily implemented using a traditional Spring Boot web application too.","title":"Notification service ( Spring boot + Kafka)","body":"<p>If my understanding is correct, apart from your Microservice for your orchestration, you would be building two more Kafka Consumers, one for trigger email and another one is for displaying remainders in UI.</p>\n<p>This sounds a good design and you guys want to introduce Kafka ecosystem in your project, you can do much more with Kafka underlying features, and you won't be having any operational overheads down the line. But you can reconsider your design option, because your business logic can be easily implemented using a traditional Spring Boot web application too.</p>\n"}],"owner":{"account_id":19106712,"reputation":21,"user_id":13953695,"display_name":"Ramakrishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660776617,"creation_date":1656084283,"question_id":72746253,"body_markdown":"We have got a notification requirement.\r\n\r\nUser logins to website. He will have multiple options regarding notification.\r\n\r\n1. Add a remainder (we have to send out a mail at scheduled time and If user is already logged in then we have to display the notification in website, If no then we have to show all the unread notifications when he logs in)\r\n\r\n2. update future remainder\r\n\r\n3. Delete a future remainder.\r\n\r\nMy team is very much particular to spring boot and Kafka.\r\n\r\nMy approach: \r\n1. Implement a micro service which will do following operations \r\n   - Adds a remainder (/add)\r\n   - updates a remainder(/update)\r\n   - Deletes a remainder (/delete)\r\n   - sends multiple  remainders (we will publish remainders in 2 Kafkas. One is used to trigger mail, other is used for displaying remainders in UI) (/send)\r\n\r\n2. implement a quartz job which runs every 1 minute , reads the remainders of next one min from db and calls , call /send end point of other service\r\n\r\n\r\nis my approach is good enough or is there any better approach I can follow?\r\n\r\nNo of end customers : around 100 000\r\nThanks in advance","title":"Notification service ( Spring boot + Kafka)","body":"<p>We have got a notification requirement.</p>\n<p>User logins to website. He will have multiple options regarding notification.</p>\n<ol>\n<li><p>Add a remainder (we have to send out a mail at scheduled time and If user is already logged in then we have to display the notification in website, If no then we have to show all the unread notifications when he logs in)</p>\n</li>\n<li><p>update future remainder</p>\n</li>\n<li><p>Delete a future remainder.</p>\n</li>\n</ol>\n<p>My team is very much particular to spring boot and Kafka.</p>\n<p>My approach:</p>\n<ol>\n<li><p>Implement a micro service which will do following operations</p>\n<ul>\n<li>Adds a remainder (/add)</li>\n<li>updates a remainder(/update)</li>\n<li>Deletes a remainder (/delete)</li>\n<li>sends multiple  remainders (we will publish remainders in 2 Kafkas. One is used to trigger mail, other is used for displaying remainders in UI) (/send)</li>\n</ul>\n</li>\n<li><p>implement a quartz job which runs every 1 minute , reads the remainders of next one min from db and calls , call /send end point of other service</p>\n</li>\n</ol>\n<p>is my approach is good enough or is there any better approach I can follow?</p>\n<p>No of end customers : around 100 000\nThanks in advance</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1660619865,"post_id":73368357,"comment_id":129568946,"body_markdown":"Off, topic, I don&#39;t know why you have `combinedSize % 2 &gt; 250`, but that will never be `true`.","body":"Off, topic, I don&#39;t know why you have <code>combinedSize % 2 &gt; 250</code>, but that will never be <code>true</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660620354,"post_id":73368357,"comment_id":129569021,"body_markdown":"In fact, that whole `if/else` is a bit strange.  Both branches have `document.close();` - the only difference is resetting a variable which is about to go out of scope anyway.","body":"In fact, that whole <code>if&#47;else</code> is a bit strange.  Both branches have <code>document.close();</code> - the only difference is resetting a variable which is about to go out of scope anyway."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660620441,"post_id":73368357,"comment_id":129569033,"body_markdown":"And `i == number_of_pages` is never true, since you only iterate the loop when `i &lt; number_of_pages` , and you never increase `i` in the loop itself.","body":"And <code>i == number_of_pages</code> is never true, since you only iterate the loop when <code>i &lt; number_of_pages</code> , and you never increase <code>i</code> in the loop itself."},{"owner":{"account_id":26072756,"reputation":1,"user_id":19772126,"display_name":"Don"},"score":0,"creation_date":1660625948,"post_id":73368357,"comment_id":129569764,"body_markdown":"if (combinedSize  &lt; 250 ||  i == number_of_pages) {\n                document.close();\n                combinedSize = 0;\n            }\n\nSorry guys I was trying out something before pasting the wrong code, I have updated the code. Can you guys plz have a look? @DawoodibnKareem","body":"if (combinedSize  &lt; 250 ||  i == number_of_pages) {                 document.close();                 combinedSize = 0;             }  Sorry guys I was trying out something before pasting the wrong code, I have updated the code. Can you guys plz have a look? @DawoodibnKareem"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660684378,"post_id":73368357,"comment_id":129589708,"body_markdown":"`i` will still never be equal to `number_of_pages`.","body":"<code>i</code> will still never be equal to <code>number_of_pages</code>."},{"owner":{"account_id":26072756,"reputation":1,"user_id":19772126,"display_name":"Don"},"score":0,"creation_date":1660687572,"post_id":73368357,"comment_id":129590523,"body_markdown":"I have removed that i == number of pages as said @Dawood ibn Kareem, I found the issue, forget to close the document.close() for the first one. But comes with another issue now the last page of the pdf is missing after splitting (PDF has 62 pages and I can find 61).","body":"I have removed that i == number of pages as said @Dawood ibn Kareem, I found the issue, forget to close the document.close() for the first one. But comes with another issue now the last page of the pdf is missing after splitting (PDF has 62 pages and I can find 61)."}],"answers":[{"tags":[],"owner":{"account_id":26072756,"reputation":1,"user_id":19772126,"display_name":"Don"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660776302,"creation_date":1660776302,"answer_id":73395655,"question_id":73368357,"body_markdown":"This code works fine - with splitting large PDF into multiple smaller size pdf [Using file size limitation]\r\n\r\nPdfReader Split_PDF_By_Size = new PdfReader(&quot;Test_page.pdf&quot;);\r\n            Document document = new Document();\r\n\r\n            PdfCopy copy = new PdfCopy(document, new FileOutputStream(&quot;File1.pdf&quot;));\r\n            document.open();\r\n\r\n            int number_of_pages = Split_PDF_By_Size.getNumberOfPages();\r\n            int pageNumber = 1; /* To generate file name dynamically */\r\n            // int Find_PDF_Size; /* To get PDF size in bytes */\r\n            /* To convert this to Kilobytes and estimate new PDF size */\r\n            float combinedSize = 0;\r\n\r\n            for (int i = 1; i &lt;= number_of_pages; i++ ) {\r\n                float Find_PDF_Size;\r\n\r\n                if (combinedSize == 0 &amp;&amp; i != 1) {\r\n                    document = new Document();\r\n                    pageNumber++;\r\n                    String FileName = &quot;File&quot; + pageNumber + &quot;.pdf&quot;;\r\n                    copy = new PdfCopy(document, new FileOutputStream(FileName));\r\n                    document.open();\r\n                }\r\n\r\n                copy.addPage(copy.getImportedPage(Split_PDF_By_Size, i));\r\n\r\n                Find_PDF_Size = copy.getCurrentDocumentSize();\r\n\r\n                combinedSize = (float)Find_PDF_Size / 1024;\r\n\r\n                if (combinedSize &gt; 300) {\r\n                    document.close();\r\n                    combinedSize = 0;\r\n                }\r\n            }\r\n\r\n            document.close();\r\n            System.out.println(&quot;Number of Documents Created:&quot; + pageNumber);\r\n        }\r\n        catch (Exception i)\r\n        {\r\n            System.out.println(i);\r\n        }","title":"Splitting Pdf to multiple smaller Pdf - limit with the file-size","body":"<p>This code works fine - with splitting large PDF into multiple smaller size pdf [Using file size limitation]</p>\n<p>PdfReader Split_PDF_By_Size = new PdfReader(&quot;Test_page.pdf&quot;);\nDocument document = new Document();</p>\n<pre><code>        PdfCopy copy = new PdfCopy(document, new FileOutputStream(&quot;File1.pdf&quot;));\n        document.open();\n\n        int number_of_pages = Split_PDF_By_Size.getNumberOfPages();\n        int pageNumber = 1; /* To generate file name dynamically */\n        // int Find_PDF_Size; /* To get PDF size in bytes */\n        /* To convert this to Kilobytes and estimate new PDF size */\n        float combinedSize = 0;\n\n        for (int i = 1; i &lt;= number_of_pages; i++ ) {\n            float Find_PDF_Size;\n\n            if (combinedSize == 0 &amp;&amp; i != 1) {\n                document = new Document();\n                pageNumber++;\n                String FileName = &quot;File&quot; + pageNumber + &quot;.pdf&quot;;\n                copy = new PdfCopy(document, new FileOutputStream(FileName));\n                document.open();\n            }\n\n            copy.addPage(copy.getImportedPage(Split_PDF_By_Size, i));\n\n            Find_PDF_Size = copy.getCurrentDocumentSize();\n\n            combinedSize = (float)Find_PDF_Size / 1024;\n\n            if (combinedSize &gt; 300) {\n                document.close();\n                combinedSize = 0;\n            }\n        }\n\n        document.close();\n        System.out.println(&quot;Number of Documents Created:&quot; + pageNumber);\n    }\n    catch (Exception i)\n    {\n        System.out.println(i);\n    }\n</code></pre>\n"}],"owner":{"account_id":26072756,"reputation":1,"user_id":19772126,"display_name":"Don"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660776302,"creation_date":1660619218,"question_id":73368357,"body_markdown":"The below code does the splitting into smaller pdf files. However, the last pdf file it create gets corrupted. If anyone is able to help with this, where I am doing wrong?\r\n\r\nPdfReader Split_PDF_By_Size = new PdfReader(&quot;/tutorial.pdf&quot;);\r\n            Document document = new Document();\r\n\r\n            PdfCopy copy = new PdfCopy(document, new FileOutputStream(&quot;/File1.pdf&quot;));\r\n            document.open();\r\n\r\n            int number_of_pages = Split_PDF_By_Size.getNumberOfPages();\r\n            int pageNumber = 1; /* To generate file name dynamically */\r\n            // int Find_PDF_Size; /* To get PDF size in bytes */\r\n            float combinedSize = 0; /* To convert this to Kilobytes and estimate new PDF size */\r\n\r\n            for (int i = 1; i &lt; number_of_pages; i++ ) {\r\n                float Find_PDF_Size;\r\n\r\n                if (combinedSize == 0 &amp;&amp; i != 1) {\r\n                    document = new Document();\r\n                    pageNumber++;\r\n                    String FileName = &quot;File&quot; + pageNumber + &quot;.pdf&quot;;\r\n                    copy = new PdfCopy(document, new FileOutputStream(FileName));\r\n                    document.open();\r\n                }\r\n\r\n                copy.addPage(copy.getImportedPage(Split_PDF_By_Size, i));\r\n\r\n                Find_PDF_Size = copy.getCurrentDocumentSize();\r\n\r\n                combinedSize = (float)Find_PDF_Size / 1024;\r\n\r\n                if (combinedSize &lt; 250 ||  i == number_of_pages) {\r\n                    document.close();\r\n                    combinedSize = 0;\r\n                } \r\n            }\r\n\r\n            System.out.println(&quot;PDF Split By Size Completed. Number of Documents Created:&quot; + pageNumber);\r\n        }\r\n        catch (Exception i)\r\n        {\r\n            System.out.println(i);\r\n        }","title":"Splitting Pdf to multiple smaller Pdf - limit with the file-size","body":"<p>The below code does the splitting into smaller pdf files. However, the last pdf file it create gets corrupted. If anyone is able to help with this, where I am doing wrong?</p>\n<p>PdfReader Split_PDF_By_Size = new PdfReader(&quot;/tutorial.pdf&quot;);\nDocument document = new Document();</p>\n<pre><code>        PdfCopy copy = new PdfCopy(document, new FileOutputStream(&quot;/File1.pdf&quot;));\n        document.open();\n\n        int number_of_pages = Split_PDF_By_Size.getNumberOfPages();\n        int pageNumber = 1; /* To generate file name dynamically */\n        // int Find_PDF_Size; /* To get PDF size in bytes */\n        float combinedSize = 0; /* To convert this to Kilobytes and estimate new PDF size */\n\n        for (int i = 1; i &lt; number_of_pages; i++ ) {\n            float Find_PDF_Size;\n\n            if (combinedSize == 0 &amp;&amp; i != 1) {\n                document = new Document();\n                pageNumber++;\n                String FileName = &quot;File&quot; + pageNumber + &quot;.pdf&quot;;\n                copy = new PdfCopy(document, new FileOutputStream(FileName));\n                document.open();\n            }\n\n            copy.addPage(copy.getImportedPage(Split_PDF_By_Size, i));\n\n            Find_PDF_Size = copy.getCurrentDocumentSize();\n\n            combinedSize = (float)Find_PDF_Size / 1024;\n\n            if (combinedSize &lt; 250 ||  i == number_of_pages) {\n                document.close();\n                combinedSize = 0;\n            } \n        }\n\n        System.out.println(&quot;PDF Split By Size Completed. Number of Documents Created:&quot; + pageNumber);\n    }\n    catch (Exception i)\n    {\n        System.out.println(i);\n    }\n</code></pre>\n"},{"tags":["java","maven","selenium","selenium-webdriver","noclassdeffounderror"],"comments":[{"owner":{"display_name":"user12431753"},"score":0,"creation_date":1578727140,"post_id":59692206,"comment_id":105540652,"body_markdown":"You have posted NOTHING about the tag CMD. _Command Prompt (executable name cmd.exe) is the Microsoft supplied command line interpreter on OS/2, Windows CE, and all Microsoft Windows operating systems. Use this tag for questions regarding programming scripts or on commands available to run from the Command Prompt. Add tags for which version of Windows, and tags describing the task or issue._","body":"You have posted NOTHING about the tag CMD. <i>Command Prompt (executable name cmd.exe) is the Microsoft supplied command line interpreter on OS/2, Windows CE, and all Microsoft Windows operating systems. Use this tag for questions regarding programming scripts or on commands available to run from the Command Prompt. Add tags for which version of Windows, and tags describing the task or issue.</i>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578752222,"creation_date":1578752222,"answer_id":59695230,"question_id":59692206,"body_markdown":"NoClassDefFoundError\r\n--------------------\r\n`NoClassDefFoundError` in Java occurs when **Java Virtual Machine** is not able to find a particular class at runtime which was available at compile time. For example, if we have resolved a method call from a class or accessing any static member of a Class and that Class is not available during run-time then **JVM** will throw `NoClassDefFoundError`.\r\n\r\nThis error message...\r\n\r\n\tjava.lang.NoClassDefFoundError: org/openqa/selenium/WrapsElement\r\n\r\n...implies that _Selenium_ is trying to resolve the particular class at runtime from `org/openqa/selenium/WrapsElement` which is no more available.\r\n\r\n\r\n----------\r\n\r\n\r\nWhat went wrong :\r\n-----------------\r\nAs per [Installing Selenium libraries - Java](https://selenium.dev/documentation/en/selenium_installation/installing_selenium_libraries/#java) installation of Selenium libraries for Java is done using [tag:maven] adding the following _selenium-java_ dependency in your project `pom.xml`:\r\n\r\n\t&lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t  &lt;version&gt;3.X&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nYou seem to have used:\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.141.59&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nwhich should be sufficient to execute your tests.\r\n\r\nSo, the other dependency for `&lt;artifactId&gt;selenium-common&lt;/artifactId&gt;` seems unnecessary which is of **(Jan 01, 2011)** and is as follows:\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-common --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-common&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.0b1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSolution :\r\n----------\r\nPerform the following steps:\r\n\r\n- Remome the unwanted additional dependency of `&lt;artifactId&gt;selenium-common&lt;/artifactId&gt;`\r\n- Do:\r\n - `maven clean`\r\n - `maven install`\r\n - `maven test`","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/WrapsElement error executing Selenium based mvn test","body":"<h2>NoClassDefFoundError</h2>\n\n<p><code>NoClassDefFoundError</code> in Java occurs when <strong>Java Virtual Machine</strong> is not able to find a particular class at runtime which was available at compile time. For example, if we have resolved a method call from a class or accessing any static member of a Class and that Class is not available during run-time then <strong>JVM</strong> will throw <code>NoClassDefFoundError</code>.</p>\n\n<p>This error message...</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/openqa/selenium/WrapsElement\n</code></pre>\n\n<p>...implies that <em>Selenium</em> is trying to resolve the particular class at runtime from <code>org/openqa/selenium/WrapsElement</code> which is no more available.</p>\n\n<hr>\n\n<h2>What went wrong :</h2>\n\n<p>As per <a href=\"https://selenium.dev/documentation/en/selenium_installation/installing_selenium_libraries/#java\" rel=\"nofollow noreferrer\">Installing Selenium libraries - Java</a> installation of Selenium libraries for Java is done using <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" rel=\"tag\">maven</a> adding the following <em>selenium-java</em> dependency in your project <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n  &lt;version&gt;3.X&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You seem to have used:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>which should be sufficient to execute your tests.</p>\n\n<p>So, the other dependency for <code>&lt;artifactId&gt;selenium-common&lt;/artifactId&gt;</code> seems unnecessary which is of <strong>(Jan 01, 2011)</strong> and is as follows:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-common --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-common&lt;/artifactId&gt;\n    &lt;version&gt;2.0b1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<h2>Solution :</h2>\n\n<p>Perform the following steps:</p>\n\n<ul>\n<li>Remome the unwanted additional dependency of <code>&lt;artifactId&gt;selenium-common&lt;/artifactId&gt;</code></li>\n<li>Do:\n\n<ul>\n<li><code>maven clean</code></li>\n<li><code>maven install</code></li>\n<li><code>maven test</code></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22491598,"reputation":51,"user_id":16689247,"display_name":"Vishalkg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629752666,"creation_date":1629752666,"answer_id":68898996,"question_id":59692206,"body_markdown":"    Add below dependency to pom.xml file. It worked for me.\r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/WrapsElement error executing Selenium based mvn test","body":"<pre><code>Add below dependency to pom.xml file. It worked for me.\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16981891,"reputation":41,"user_id":12283585,"display_name":"Youssef Zahran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11914,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660776236,"creation_date":1578724132,"question_id":59692206,"body_markdown":"So I am trying to run tests using `mvn test -P` and it is giving me ` java.lang.NoClassDefFoundError: org/openqa/selenium/WrapsElement` when I run it from the cmd although it is working fine from within eclipse itself.\r\n\r\nI have my pages classes `src/main/java` and my tests in `src/test/java`, I just can&#39;t get why it would work perfectly fine from eclipse but not from the command prompt. I assume it has something to do with the pom.xml but I am not sure\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;selenium&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;taf&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;taf&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t\t&lt;suiteXmlFile&gt;${testNGSuite}&lt;/suiteXmlFile&gt;\r\n\t\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;additionalClasspathElements&gt;\r\n\t\t\t\t\t\t\t&lt;additionalClasspathElement&gt;${project.basedir}/target/classes&lt;/additionalClasspathElement&gt;\r\n\t\t\t\t\t\t&lt;/additionalClasspathElements&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;phantomjsdriver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0b1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;regression&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t&lt;name&gt;environment&lt;/name&gt;\r\n\t\t\t\t\t&lt;value&gt;regression&lt;/value&gt;\r\n\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;testNGSuite&gt;RegressionSuite.xml&lt;/testNGSuite&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;full&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t&lt;name&gt;environment&lt;/name&gt;\r\n\t\t\t\t\t&lt;value&gt;full&lt;/value&gt;\r\n\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;testNGSuite&gt;testng.xml&lt;/testNGSuite&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nAnd that is a part of my projects tree:\r\n[project tree][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T3XeX.jpg","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/WrapsElement error executing Selenium based mvn test","body":"<p>So I am trying to run tests using <code>mvn test -P</code> and it is giving me <code>java.lang.NoClassDefFoundError: org/openqa/selenium/WrapsElement</code> when I run it from the cmd although it is working fine from within eclipse itself.</p>\n\n<p>I have my pages classes <code>src/main/java</code> and my tests in <code>src/test/java</code>, I just can't get why it would work perfectly fine from eclipse but not from the command prompt. I assume it has something to do with the pom.xml but I am not sure</p>\n\n<p>Here is my pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;selenium&lt;/groupId&gt;\n&lt;artifactId&gt;taf&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;taf&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;${testNGSuite}&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;additionalClasspathElements&gt;\n                        &lt;additionalClasspathElement&gt;${project.basedir}/target/classes&lt;/additionalClasspathElement&gt;\n                    &lt;/additionalClasspathElements&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n        &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n        &lt;artifactId&gt;phantomjsdriver&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-common&lt;/artifactId&gt;\n        &lt;version&gt;2.0b1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;regression&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;property&gt;\n                &lt;name&gt;environment&lt;/name&gt;\n                &lt;value&gt;regression&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;testNGSuite&gt;RegressionSuite.xml&lt;/testNGSuite&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;full&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;property&gt;\n                &lt;name&gt;environment&lt;/name&gt;\n                &lt;value&gt;full&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;testNGSuite&gt;testng.xml&lt;/testNGSuite&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p></p>\n\n<p>And that is a part of my projects tree:\n<a href=\"https://i.stack.imgur.com/T3XeX.jpg\" rel=\"nofollow noreferrer\">project tree</a></p>\n"},{"tags":["java","spring-boot","dependency-injection","yaml"],"answers":[{"tags":[],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660776002,"creation_date":1660755888,"answer_id":73392406,"question_id":73387863,"body_markdown":"You can have a configuration like below and build the object using values from your yaml file.\r\n\r\n    @Configuration\r\n    public class YourConfiguration {\r\n        @Bean(name = &quot;errors&quot;)\r\n        @ConfigurationProperties(prefix = &quot;errorcodes&quot;)\r\n        public Map&lt;String,Object&gt; errors() { return new HashMap&lt;&gt;() };\r\n        ...\r\n    }\r\n\r\nYou can autowire the configuration class where you need it and get &#39;errors&#39; from the autowired instance.\r\n\r\n    public class SomeOtherClass {\r\n        ...\r\n        @Autowired\r\n        YourConfiguration yourConfiguration;\r\n        ...\r\n        ...\r\n        public &lt;T&gt; someMethod() {\r\n           Map&lt;String,Object&gt; errorsFromYaml = yourConfiguration.errors();\r\n           ...\r\n        }\r\n        ...\r\n    }","title":"Reading a data from error.yml and while storing in a map, it returns null","body":"<p>You can have a configuration like below and build the object using values from your yaml file.</p>\n<pre><code>@Configuration\npublic class YourConfiguration {\n    @Bean(name = &quot;errors&quot;)\n    @ConfigurationProperties(prefix = &quot;errorcodes&quot;)\n    public Map&lt;String,Object&gt; errors() { return new HashMap&lt;&gt;() };\n    ...\n}\n</code></pre>\n<p>You can autowire the configuration class where you need it and get 'errors' from the autowired instance.</p>\n<pre><code>public class SomeOtherClass {\n    ...\n    @Autowired\n    YourConfiguration yourConfiguration;\n    ...\n    ...\n    public &lt;T&gt; someMethod() {\n       Map&lt;String,Object&gt; errorsFromYaml = yourConfiguration.errors();\n       ...\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":13045424,"reputation":71,"user_id":9427417,"display_name":"swanthri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660776002,"creation_date":1660736482,"question_id":73387863,"body_markdown":"I have to read the data from the error.yml file and store it in a below-structured map. While using the below configuration to store the values, I am getting null. Could someone please help me with this? Thanks!\r\n\r\nConfiguration class:\r\n\r\n&gt; @Configuration @PropertySource(value = &quot;classpath:error.yml &quot;, factory\r\n&gt; = YamlPropertySourceFactory.class) @EnableConfigurationProperties @ConfigurationProperties(prefix = &quot;errorcodes&quot;) @Getter @Slf4j\r\n&gt; @ConstructorBinding public class ErrorService {\r\n&gt; \r\n&gt;   private  Map&lt;String, ApiError&gt; errors = new HashMap&lt;&gt;();\r\n&gt; \r\n&gt; .... }\r\n\r\nerror.yml:\r\nerrorcodes:\r\n  errors:\r\n    ERROR_1:\r\n      code: 1\r\n      message: Internal Server Error\r\n","title":"Reading a data from error.yml and while storing in a map, it returns null","body":"<p>I have to read the data from the error.yml file and store it in a below-structured map. While using the below configuration to store the values, I am getting null. Could someone please help me with this? Thanks!</p>\n<p>Configuration class:</p>\n<blockquote>\n<p>@Configuration @PropertySource(value = &quot;classpath:error.yml &quot;, factory\n= YamlPropertySourceFactory.class) @EnableConfigurationProperties @ConfigurationProperties(prefix = &quot;errorcodes&quot;) @Getter @Slf4j\n@ConstructorBinding public class ErrorService {</p>\n<p>private  Map&lt;String, ApiError&gt; errors = new HashMap&lt;&gt;();</p>\n<p>.... }</p>\n</blockquote>\n<p>error.yml:\nerrorcodes:\nerrors:\nERROR_1:\ncode: 1\nmessage: Internal Server Error</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1660774921,"post_id":73395436,"comment_id":129615504,"body_markdown":"read the docs for @WebMvcTest `Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).` especially the last part... what it does NOT load. https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html","body":"read the docs for @WebMvcTest <code>Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter&#47;GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).</code> especially the last part... what it does NOT load. <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660775051,"post_id":73395436,"comment_id":129615524,"body_markdown":"also, you are aware that spring has full JWT support, so why you have written a custom handling on jwt when all that support is included in spring security, i have no idea. Writing custom security solutions is bad practice","body":"also, you are aware that spring has full JWT support, so why you have written a custom handling on jwt when all that support is included in spring security, i have no idea. Writing custom security solutions is bad practice"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1660775246,"post_id":73395436,"comment_id":129615559,"body_markdown":"Does this answer your question? [Error creating bean with name &#39;securityConfig&#39; defined in file](https://stackoverflow.com/questions/73050028/error-creating-bean-with-name-securityconfig-defined-in-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73050028/error-creating-bean-with-name-securityconfig-defined-in-file\">Error creating bean with name &#39;securityConfig&#39; defined in file</a>"},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1660776794,"post_id":73395436,"comment_id":129615832,"body_markdown":"@Toerktumlare I followed a tutorial. I am unsure what to do now, I had many tests that were all working fine before I implemented this obviously using this annotation. Is there a way to refactor the config class so that it doesn&#39;t throw this error? for example I have added the findUserByEmail method to the service class and call that instead which has resolved that but the JwtTokenFilter class is still throwing the error.   Or should I just try to use SpringBootTest\nAutoConfigureMockMvc? thanks.","body":"@Toerktumlare I followed a tutorial. I am unsure what to do now, I had many tests that were all working fine before I implemented this obviously using this annotation. Is there a way to refactor the config class so that it doesn&#39;t throw this error? for example I have added the findUserByEmail method to the service class and call that instead which has resolved that but the JwtTokenFilter class is still throwing the error.   Or should I just try to use SpringBootTest AutoConfigureMockMvc? thanks."},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1660777691,"post_id":73395436,"comment_id":129615967,"body_markdown":"@Toerktumlare I am unsure how my tests would work if I didn&#39;t use MvcTest because without it I would need to send bearer token on each request of each test as Spring security would be enabled on for example SpringBootTest / AutoConfigureMockMvc","body":"@Toerktumlare I am unsure how my tests would work if I didn&#39;t use MvcTest because without it I would need to send bearer token on each request of each test as Spring security would be enabled on for example SpringBootTest / AutoConfigureMockMvc"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1660800928,"post_id":73395436,"comment_id":129619279,"body_markdown":"You need an `@MockBean` for the `UserRepository` as well. The `@WebMvcTest` will only construct the web related parts of the application including security. Anything else (the services, repositories etc.) you need to mock. You mocked the `UserService` but you also need a mock of the `UserRepository`.","body":"You need an <code>@MockBean</code> for the <code>UserRepository</code> as well. The <code>@WebMvcTest</code> will only construct the web related parts of the application including security. Anything else (the services, repositories etc.) you need to mock. You mocked the <code>UserService</code> but you also need a mock of the <code>UserRepository</code>."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660825707,"post_id":73395436,"comment_id":129627775,"body_markdown":"i dont know how your tests are supposed to work either, im only telling you what your problem is and why it is not working. Tbh i would suggest you dont just google for tutorial and instead read the spring boot documentation chapter on testing, and read the spring security documentation on testing, and when you have read that you&#39;ll understand what you can do, and then you write your tests/update your tests.","body":"i dont know how your tests are supposed to work either, im only telling you what your problem is and why it is not working. Tbh i would suggest you dont just google for tutorial and instead read the spring boot documentation chapter on testing, and read the spring security documentation on testing, and when you have read that you&#39;ll understand what you can do, and then you write your tests/update your tests."}],"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1275,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1660774841,"creation_date":1660774283,"question_id":73395436,"body_markdown":"When I run the SpringBoot REST API it works fine, authentication is implemented properly and everything is successful, however, when I try to run any of my unit tests I am getting the following error:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.out.e.config.ApplicationSecurityConfig required a bean of type &#39;com.out.e.dao.auth.UserRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.out.e.dao.auth.UserRepository&#39; in your configuration.\r\n\r\nI have no idea what to do as it seems nonsensical to me that it would function correctly when running properly but not when being tested?\r\n\r\n\r\nSecurity Config:\r\n\r\n    import com.out.e.dao.auth.UserRepository;\r\n    import com.out.e.filter.JwtTokenFilter;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        private final JwtTokenFilter jwtTokenFilter;\r\n    \r\n        public ApplicationSecurityConfig(final UserRepository userRepository, final JwtTokenFilter jwtTokenFilter) {\r\n            this.userRepository = userRepository;\r\n            this.jwtTokenFilter = jwtTokenFilter;\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(username -&gt; userRepository.findByEmail(username)\r\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found with email: &quot; + username))\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(final HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.csrf().disable();\r\n            httpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            httpSecurity.exceptionHandling().authenticationEntryPoint(\r\n                    (request, response, authException) -&gt; {\r\n                        response.sendError(HttpServletResponse.SC_UNAUTHORIZED,\r\n                                authException.getMessage());\r\n                    }\r\n            );\r\n            httpSecurity.authorizeRequests()\r\n                    .antMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n    \r\n            httpSecurity.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n            httpSecurity.cors();\r\n        }\r\n    }\r\n\r\nToken filter:\r\n\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.util.ObjectUtils;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n\r\n    @Component\r\n    public class JwtTokenFilter extends OncePerRequestFilter {\r\n    \r\n    \r\n        private final JwtTokenUtil jwtTokenUtil;\r\n    \r\n        public JwtTokenFilter(final JwtTokenUtil jwtTokenUtil) {\r\n            this.jwtTokenUtil = jwtTokenUtil;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response, final FilterChain filterChain) throws ServletException, IOException {\r\n            if (!hasAuthorisationHeader(request)) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n            String accessToken = getAccessToken(request);\r\n    \r\n            if (!jwtTokenUtil.verifyAccessToken(accessToken)) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n    \r\n            setAuthenticationContext(accessToken, request);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    \r\n        private void setAuthenticationContext(String accessToken, HttpServletRequest request) {\r\n            UserDetails userDetails = getUserDetails(accessToken);\r\n    \r\n            UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, null);\r\n    \r\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n    \r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        }\r\n    \r\n        private UserDetails getUserDetails(String accessToken) {\r\n            User userDetails = new User();\r\n            //Subject was split into userId and email by a comma so split the comma.\r\n            String[] subjects = jwtTokenUtil.getSubject(accessToken).split(&quot;,&quot;);\r\n    \r\n            userDetails.setUserID(Long.valueOf(subjects[0]));\r\n            userDetails.setEmail(subjects[1]);\r\n    \r\n            return userDetails;\r\n        }\r\n    \r\n        private boolean hasAuthorisationHeader(HttpServletRequest httpServletRequest) {\r\n            String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n            if (ObjectUtils.isEmpty(authorizationHeader) || !authorizationHeader.startsWith(&quot;Bearer&quot;)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private String getAccessToken(HttpServletRequest httpServletRequest) {\r\n            String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n            String accessToken = authorizationHeader.split(&quot; &quot;)[1].trim();\r\n            System.out.println(&quot;Access token: &quot; + accessToken);\r\n            return accessToken;\r\n        }\r\n    }\r\n\r\nJWT token util:\r\n\r\n    import com.out.e.model.auth.User;\r\n    import io.jsonwebtoken.*;\r\n    import io.jsonwebtoken.security.SignatureException;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.util.Date;\r\n\r\n    @Component\r\n    public class JwtTokenUtil {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(JwtTokenUtil.class);\r\n        //24Hours\r\n        private static final long EXPIRATION_DURATION = 24 * 60 * 60 * 1000;\r\n    \r\n        @Value(&quot;${application.jwt.secretKey}&quot;)\r\n        private String secretKey;\r\n    \r\n        public String generateAccessToken(User user) {\r\n            return Jwts.builder()\r\n                    .setSubject(user.getUserID() + &quot;,&quot; + user.getEmail())\r\n                    .setIssuer(&quot;e&quot;)\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_DURATION))\r\n                    .signWith(SignatureAlgorithm.HS512, secretKey)\r\n                    .compact();\r\n        }\r\n    \r\n        public boolean verifyAccessToken(String accessToken) {\r\n            try {\r\n                Jwts.parser().setSigningKey(secretKey).parseClaimsJws(accessToken);\r\n                return true;\r\n            } catch (ExpiredJwtException e) {\r\n                LOGGER.error(&quot;JWT Access token is expired.&quot;, e);\r\n            } catch (IllegalArgumentException e) {\r\n                LOGGER.error(&quot;JWT Access token is null or empty.&quot;, e);\r\n            } catch (UnsupportedJwtException e) {\r\n                LOGGER.error(&quot;JWT Access token is not supported.&quot;, e);\r\n            } catch (SignatureException e) {\r\n                LOGGER.error(&quot;Failure occurred while during signature process.&quot;, e);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public String getSubject(String accessToken) {\r\n            return parseClaims(accessToken).getSubject();\r\n        }\r\n    \r\n        private Claims parseClaims(String accessToken) {\r\n            return Jwts.parserBuilder()\r\n                    .setSigningKey(secretKey)\r\n                    .build()\r\n                    .parseClaimsJws(accessToken)\r\n                    .getBody();\r\n        }\r\n    }\r\n\r\nRepositroy:\r\n\r\n    import com.out.e.model.auth.User;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n        /**\r\n         * Finds a user by email.\r\n         * @param email email.\r\n         * @return the user.\r\n         */\r\n        Optional&lt;User&gt; findByEmail(final String email);\r\n    }\r\n\r\nAn example test class just in case:\r\n\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.MvcResult;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.mockito.Mockito.doReturn;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    @AutoConfigureMockMvc\r\n    @WebMvcTest(controllers = AuthController.class)\r\n    public class AuthControllerTests {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @MockBean\r\n        private AuthService authService;\r\n    \r\n        @MockBean\r\n        private UserService userService;\r\n    \r\n        @Test\r\n        public void givenAUserDoesNotExistSignUpSuccessfully() throws Exception {\r\n            SignUpRequest signUpRequest = new SignUpRequest(&quot;tim@outlook.com&quot;, &quot;Password-1&quot;, &quot;Tim&quot;, &quot;Nook&quot;, &quot;London&quot;, 3000);\r\n            MsgResponse msgResponse = new MsgResponse(&quot;A new user has been successfully registered.&quot;);\r\n            doReturn(msgResponse).when(authService).signUpUser(signUpRequest);\r\n    \r\n            String json = objectMapper.writeValueAsString(signUpRequest);\r\n    \r\n            MvcResult mvcResult = mockMvc.perform(post(&quot;/api/v1/auth/login&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .content(json))\r\n                    .andExpect(status().isOk())\r\n                    .andReturn();\r\n    \r\n            String response = mvcResult.getResponse().getContentAsString();\r\n            assertEquals(&quot;A new user has been successfully registered.&quot;, response);\r\n        }\r\n    \r\n    }\r\n\r\nAny help would be greatly appreciated, thanks!\r\n\r\nEdit: Add error full:\r\n\r\n    \r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;applicationSecurityConfig&#39; defined in file [H:\\classes\\java\\main\\com\\out\\e\\config\\ApplicationSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.out.e.dao.auth.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n","title":"Application failed to start - Security Config required a bean of type &#39;userRepository&#39; that could not be found. Only fails like this on tests?","body":"<p>When I run the SpringBoot REST API it works fine, authentication is implemented properly and everything is successful, however, when I try to run any of my unit tests I am getting the following error:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.out.e.config.ApplicationSecurityConfig required a bean of type 'com.out.e.dao.auth.UserRepository' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.out.e.dao.auth.UserRepository' in your configuration.</p>\n<p>I have no idea what to do as it seems nonsensical to me that it would function correctly when running properly but not when being tested?</p>\n<p>Security Config:</p>\n<pre><code>import com.out.e.dao.auth.UserRepository;\nimport com.out.e.filter.JwtTokenFilter;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final UserRepository userRepository;\n\n    private final JwtTokenFilter jwtTokenFilter;\n\n    public ApplicationSecurityConfig(final UserRepository userRepository, final JwtTokenFilter jwtTokenFilter) {\n        this.userRepository = userRepository;\n        this.jwtTokenFilter = jwtTokenFilter;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(username -&gt; userRepository.findByEmail(username)\n        .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found with email: &quot; + username))\n        );\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(final HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable();\n        httpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        httpSecurity.exceptionHandling().authenticationEntryPoint(\n                (request, response, authException) -&gt; {\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED,\n                            authException.getMessage());\n                }\n        );\n        httpSecurity.authorizeRequests()\n                .antMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        httpSecurity.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\n        httpSecurity.cors();\n    }\n}\n</code></pre>\n<p>Token filter:</p>\n<pre><code>import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.ObjectUtils;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class JwtTokenFilter extends OncePerRequestFilter {\n\n\n    private final JwtTokenUtil jwtTokenUtil;\n\n    public JwtTokenFilter(final JwtTokenUtil jwtTokenUtil) {\n        this.jwtTokenUtil = jwtTokenUtil;\n    }\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response, final FilterChain filterChain) throws ServletException, IOException {\n        if (!hasAuthorisationHeader(request)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        String accessToken = getAccessToken(request);\n\n        if (!jwtTokenUtil.verifyAccessToken(accessToken)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        setAuthenticationContext(accessToken, request);\n        filterChain.doFilter(request, response);\n    }\n\n    private void setAuthenticationContext(String accessToken, HttpServletRequest request) {\n        UserDetails userDetails = getUserDetails(accessToken);\n\n        UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, null);\n\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n    }\n\n    private UserDetails getUserDetails(String accessToken) {\n        User userDetails = new User();\n        //Subject was split into userId and email by a comma so split the comma.\n        String[] subjects = jwtTokenUtil.getSubject(accessToken).split(&quot;,&quot;);\n\n        userDetails.setUserID(Long.valueOf(subjects[0]));\n        userDetails.setEmail(subjects[1]);\n\n        return userDetails;\n    }\n\n    private boolean hasAuthorisationHeader(HttpServletRequest httpServletRequest) {\n        String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\n        if (ObjectUtils.isEmpty(authorizationHeader) || !authorizationHeader.startsWith(&quot;Bearer&quot;)) {\n            return false;\n        }\n        return true;\n    }\n\n    private String getAccessToken(HttpServletRequest httpServletRequest) {\n        String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\n        String accessToken = authorizationHeader.split(&quot; &quot;)[1].trim();\n        System.out.println(&quot;Access token: &quot; + accessToken);\n        return accessToken;\n    }\n}\n</code></pre>\n<p>JWT token util:</p>\n<pre><code>import com.out.e.model.auth.User;\nimport io.jsonwebtoken.*;\nimport io.jsonwebtoken.security.SignatureException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Date;\n\n@Component\npublic class JwtTokenUtil {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(JwtTokenUtil.class);\n    //24Hours\n    private static final long EXPIRATION_DURATION = 24 * 60 * 60 * 1000;\n\n    @Value(&quot;${application.jwt.secretKey}&quot;)\n    private String secretKey;\n\n    public String generateAccessToken(User user) {\n        return Jwts.builder()\n                .setSubject(user.getUserID() + &quot;,&quot; + user.getEmail())\n                .setIssuer(&quot;e&quot;)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_DURATION))\n                .signWith(SignatureAlgorithm.HS512, secretKey)\n                .compact();\n    }\n\n    public boolean verifyAccessToken(String accessToken) {\n        try {\n            Jwts.parser().setSigningKey(secretKey).parseClaimsJws(accessToken);\n            return true;\n        } catch (ExpiredJwtException e) {\n            LOGGER.error(&quot;JWT Access token is expired.&quot;, e);\n        } catch (IllegalArgumentException e) {\n            LOGGER.error(&quot;JWT Access token is null or empty.&quot;, e);\n        } catch (UnsupportedJwtException e) {\n            LOGGER.error(&quot;JWT Access token is not supported.&quot;, e);\n        } catch (SignatureException e) {\n            LOGGER.error(&quot;Failure occurred while during signature process.&quot;, e);\n        }\n        return false;\n    }\n\n    public String getSubject(String accessToken) {\n        return parseClaims(accessToken).getSubject();\n    }\n\n    private Claims parseClaims(String accessToken) {\n        return Jwts.parserBuilder()\n                .setSigningKey(secretKey)\n                .build()\n                .parseClaimsJws(accessToken)\n                .getBody();\n    }\n}\n</code></pre>\n<p>Repositroy:</p>\n<pre><code>import com.out.e.model.auth.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\nimport java.util.List;\nimport java.util.Optional;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    /**\n     * Finds a user by email.\n     * @param email email.\n     * @return the user.\n     */\n    Optional&lt;User&gt; findByEmail(final String email);\n}\n</code></pre>\n<p>An example test class just in case:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.doReturn;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@AutoConfigureMockMvc\n@WebMvcTest(controllers = AuthController.class)\npublic class AuthControllerTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    private AuthService authService;\n\n    @MockBean\n    private UserService userService;\n\n    @Test\n    public void givenAUserDoesNotExistSignUpSuccessfully() throws Exception {\n        SignUpRequest signUpRequest = new SignUpRequest(&quot;tim@outlook.com&quot;, &quot;Password-1&quot;, &quot;Tim&quot;, &quot;Nook&quot;, &quot;London&quot;, 3000);\n        MsgResponse msgResponse = new MsgResponse(&quot;A new user has been successfully registered.&quot;);\n        doReturn(msgResponse).when(authService).signUpUser(signUpRequest);\n\n        String json = objectMapper.writeValueAsString(signUpRequest);\n\n        MvcResult mvcResult = mockMvc.perform(post(&quot;/api/v1/auth/login&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON)\n                .content(json))\n                .andExpect(status().isOk())\n                .andReturn();\n\n        String response = mvcResult.getResponse().getContentAsString();\n        assertEquals(&quot;A new user has been successfully registered.&quot;, response);\n    }\n\n}\n</code></pre>\n<p>Any help would be greatly appreciated, thanks!</p>\n<p>Edit: Add error full:</p>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationSecurityConfig' defined in file [H:\\classes\\java\\main\\com\\out\\e\\config\\ApplicationSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.out.e.dao.auth.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1660750351,"post_id":73390873,"comment_id":129607712,"body_markdown":"I tried adding ```bar.getCategoryAxis().setOrientation(AxisOrientation.MAX_MIN);``` but the value axis went to the top.","body":"I tried adding <code>bar.getCategoryAxis().setOrientation(AxisOrientation.MAX_MIN&zwnj;&#8203;);</code> but the value axis went to the top."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660750794,"creation_date":1660750794,"answer_id":73391289,"question_id":73390873,"body_markdown":"The default orientation of a y-axis in a chart is bottom-up. On bottom, where x-axis crosses, is min and on top is max. That is what you have.\r\n\r\nThis can be changed using [XDDFChartAxis.setOrientation](https://poi.apache.org/apidocs/5.0/org/apache/poi/xddf/usermodel/chart/XDDFChartAxis.html#setOrientation-org.apache.poi.xddf.usermodel.chart.AxisOrientation-) -&gt; [AxisOrientation.MAX_MIN](https://poi.apache.org/apidocs/5.0/org/apache/poi/xddf/usermodel/chart/AxisOrientation.html#MAX_MIN). In your case:\r\n\r\n    ...\r\n    XDDFCategoryAxis bottomAxis = ...\r\n    ...\r\n    bottomAxis.setOrientation(AxisOrientation.MAX_MIN);\r\n    ...\r\n\r\nBut you set `leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);`. So, because of min (zero) is at top now, `AxisCrosses.AUTO_ZERO` is at top now also. So you need also setting:\r\n\r\n    ...\r\n    XDDFValueAxis leftAxis = ...\r\n    ...\r\n    leftAxis.setCrosses(AxisCrosses.MAX);\r\n    ...\r\n\r\n","title":"How to change the orientation in the chart","body":"<p>The default orientation of a y-axis in a chart is bottom-up. On bottom, where x-axis crosses, is min and on top is max. That is what you have.</p>\n<p>This can be changed using <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/xddf/usermodel/chart/XDDFChartAxis.html#setOrientation-org.apache.poi.xddf.usermodel.chart.AxisOrientation-\" rel=\"nofollow noreferrer\">XDDFChartAxis.setOrientation</a> -&gt; <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/xddf/usermodel/chart/AxisOrientation.html#MAX_MIN\" rel=\"nofollow noreferrer\">AxisOrientation.MAX_MIN</a>. In your case:</p>\n<pre><code>...\nXDDFCategoryAxis bottomAxis = ...\n...\nbottomAxis.setOrientation(AxisOrientation.MAX_MIN);\n...\n</code></pre>\n<p>But you set <code>leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);</code>. So, because of min (zero) is at top now, <code>AxisCrosses.AUTO_ZERO</code> is at top now also. So you need also setting:</p>\n<pre><code>...\nXDDFValueAxis leftAxis = ...\n...\nleftAxis.setCrosses(AxisCrosses.MAX);\n...\n</code></pre>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73391289,"answer_count":1,"score":-1,"last_activity_date":1660772426,"creation_date":1660748938,"question_id":73390873,"body_markdown":"Is there a way to change the orientation of a chart? I need to put the chart and the table in the same orientation. As you can see, the top element of the chart is the `client 8` and the top element of the table is `client 1`. I need both the be exactly in the same order. How can I do that? What change should I do?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/fbmxH.png\r\nThis is the partial of the code which is generating the chart above.\r\n\r\n```\r\n    public ByteArrayInputStream generateFileDetailsWithChart(ClientDataObjectRequest clientDataObjectRequest) {\r\n\r\n        ByteArrayOutputStream file = new ByteArrayOutputStream();\r\n\r\n        try{\r\n            try(XSSFWorkbook workbook = new XSSFWorkbook()){\r\n                XSSFSheet sheet = workbook.createSheet(clientDataObjectRequest.getMetricName());\r\n                Font headerFont = workbook.createFont();\r\n                headerFont.setBold(true);\r\n                headerFont.setUnderline(Font.U_SINGLE);\r\n                CellStyle headerCellStyle = workbook.createCellStyle();\r\n                headerCellStyle.setFillBackgroundColor(IndexedColors.GREY_40_PERCENT.getIndex());\r\n                headerCellStyle.setFont(headerFont);\r\n\r\n                XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n                XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 2, 1, 15, 15 + clientDataObjectRequest.getCompanyChartData().size());\r\n\r\n                Row headerRow = sheet.createRow(anchor.getRow2() + 1);\r\n                headerRow.createCell(0).setCellValue(Constants.CLIENT_NAME);\r\n                headerRow.createCell(1).setCellValue(&quot;Value (&quot;+clientDataObjectRequest.getDataFormatCodeValue()+&quot;)&quot;);\r\n\r\n                for (int i = 0; i &lt; headerRow.getLastCellNum(); i++) {\r\n                    headerRow.getCell(i).setCellStyle(headerCellStyle);\r\n                }\r\n\r\n                CellStyle rowCellStyle = workbook.createCellStyle();\r\n\r\n                if (clientDataObjectRequest.getDataFormatCodeValue().equalsIgnoreCase(Constants.DATA_FORMAT_PERCENTAGE)) {\r\n                    rowCellStyle.setDataFormat(workbook.createDataFormat().getFormat(&quot;0.00%&quot;));\r\n                    for (int i = 0; i &lt; clientDataObjectRequest.getCompanyChartData().size(); i++) {\r\n                        Row row = sheet.createRow(anchor.getRow2() + 2 + i);\r\n                        row.createCell(0).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getClientName());\r\n                        row.createCell(1).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getValue()/100);\r\n                        //rowCellStyle.setDataFormat(HSSFDataFormat.getBuiltinFormat(&quot;#,##0.00%&quot;));\r\n                        row.getCell(1).setCellStyle(rowCellStyle);\r\n                    }\r\n                }\r\n\r\n                if (clientDataObjectRequest.getDataFormatCodeValue().equalsIgnoreCase(Constants.DATA_FORMAT_CURRENCY)) {\r\n                    rowCellStyle.setDataFormat(workbook.createDataFormat().getFormat(&quot;$0.00&quot;));\r\n                    for (int i = 0; i &lt; clientDataObjectRequest.getCompanyChartData().size(); i++) {\r\n                        Row row = sheet.createRow(anchor.getRow2() + 2 + i);\r\n                        row.createCell(0).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getClientName());\r\n                        row.createCell(1).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getValue());\r\n                        row.getCell(1).setCellStyle(rowCellStyle);\r\n                    }\r\n                }\r\n\r\n                XSSFChart chart = drawing.createChart(anchor);\r\n                chart.setTitleText(clientDataObjectRequest.getMetricName());\r\n                chart.getCTChart().getTitle().getTx().getRich().getPArray(0).getRArray(0).getRPr().setSz(2000);\r\n                chart.setTitleOverlay(false);\r\n\r\n                //XDDFChartLegend legend = chart.getOrAddLegend();\r\n                //legend.setPosition(LegendPosition.TOP_RIGHT);\r\n\r\n                XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n                XDDFTitle title = getOrSetAxisTitle(bottomAxis);\r\n                title.setOverlay(false);\r\n                title.setText(Constants.CLIENT_NAME);\r\n                title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\r\n\r\n\r\n                XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n                title = getOrSetAxisTitle(leftAxis);\r\n                title.setOverlay(false);\r\n                title.setText(&quot;Value (&quot;+clientDataObjectRequest.getDataFormatCodeValue()+&quot;)&quot;);\r\n                title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\r\n\r\n                if(clientDataObjectRequest.getDataFormatCodeValue().equalsIgnoreCase(Constants.DATA_FORMAT_PERCENTAGE)) {\r\n                    leftAxis.setMaximum(1.0);\r\n                }\r\n                leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n                leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n\r\n                sheet.shiftColumns(0,1,2);\r\n                sheet.autoSizeColumn(2);\r\n                sheet.autoSizeColumn(3);\r\n\r\n                XDDFDataSource&lt;String&gt; clientNames = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n                        new CellRangeAddress(anchor.getRow2() + 2,anchor.getRow2() + 1 + clientDataObjectRequest.getCompanyChartData().size(),2,2));\r\n\r\n                XDDFNumericalDataSource&lt;Double&gt; values = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n                        new CellRangeAddress(anchor.getRow2() + 2,anchor.getRow2() + 1 + clientDataObjectRequest.getCompanyChartData().size(),3,3));\r\n\r\n                XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n                XDDFChartData.Series series = data.addSeries(clientNames, values);\r\n                series.setTitle(clientDataObjectRequest.getMetricName(), null);\r\n\r\n                setDataLabels(series,7,true); // pos 7 = INT_OUT_END, showVal = true\r\n\r\n                chart.plot(data);\r\n\r\n                XDDFBarChartData bar = (XDDFBarChartData) data;\r\n                bar.setBarDirection(BarDirection.BAR);\r\n\r\n                solidFillSeries(data, 0, PresetColor.BLUE);\r\n\r\n                Row bottomRow = sheet.createRow(anchor.getRow2() + clientDataObjectRequest.getCompanyChartData().size() + 3);\r\n                bottomRow.createCell(0).setCellValue(Constants.COPYRIGHT_FOOTER);\r\n\r\n                workbook.write(file);\r\n            }\r\n        } catch (Exception e){\r\n\r\n        }\r\n\r\n        return new ByteArrayInputStream(file.toByteArray());\r\n    }\r\n```\r\n\r\nAnd this is the body which my controller is receiving.\r\n\r\n```\r\n{\r\n    &quot;metricName&quot;:&quot;Turnover Rate&quot;,\r\n    &quot;dataFormatCodeValue&quot;: &quot;currency&quot;,\r\n    &quot;clientDataRequest&quot;:[\r\n       {\r\n          &quot;clientName&quot;:&quot;client 1&quot;,\r\n          &quot;value&quot;:&quot;1&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 2&quot;,\r\n          &quot;value&quot;:&quot;2&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 3&quot;,\r\n          &quot;value&quot;:&quot;3&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 4&quot;,\r\n          &quot;value&quot;:&quot;4&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 5555555&quot;,\r\n          &quot;value&quot;:&quot;5&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 6&quot;,\r\n          &quot;value&quot;:&quot;6&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 7&quot;,\r\n          &quot;value&quot;:&quot;7&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 8&quot;,\r\n          &quot;value&quot;:&quot;8.5&quot;\r\n       }\r\n    ]\r\n}\r\n```","title":"How to change the orientation in the chart","body":"<p>Is there a way to change the orientation of a chart? I need to put the chart and the table in the same orientation. As you can see, the top element of the chart is the <code>client 8</code> and the top element of the table is <code>client 1</code>. I need both the be exactly in the same order. How can I do that? What change should I do?</p>\n<p><a href=\"https://i.stack.imgur.com/fbmxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fbmxH.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the partial of the code which is generating the chart above.</p>\n<pre><code>    public ByteArrayInputStream generateFileDetailsWithChart(ClientDataObjectRequest clientDataObjectRequest) {\n\n        ByteArrayOutputStream file = new ByteArrayOutputStream();\n\n        try{\n            try(XSSFWorkbook workbook = new XSSFWorkbook()){\n                XSSFSheet sheet = workbook.createSheet(clientDataObjectRequest.getMetricName());\n                Font headerFont = workbook.createFont();\n                headerFont.setBold(true);\n                headerFont.setUnderline(Font.U_SINGLE);\n                CellStyle headerCellStyle = workbook.createCellStyle();\n                headerCellStyle.setFillBackgroundColor(IndexedColors.GREY_40_PERCENT.getIndex());\n                headerCellStyle.setFont(headerFont);\n\n                XSSFDrawing drawing = sheet.createDrawingPatriarch();\n                XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 2, 1, 15, 15 + clientDataObjectRequest.getCompanyChartData().size());\n\n                Row headerRow = sheet.createRow(anchor.getRow2() + 1);\n                headerRow.createCell(0).setCellValue(Constants.CLIENT_NAME);\n                headerRow.createCell(1).setCellValue(&quot;Value (&quot;+clientDataObjectRequest.getDataFormatCodeValue()+&quot;)&quot;);\n\n                for (int i = 0; i &lt; headerRow.getLastCellNum(); i++) {\n                    headerRow.getCell(i).setCellStyle(headerCellStyle);\n                }\n\n                CellStyle rowCellStyle = workbook.createCellStyle();\n\n                if (clientDataObjectRequest.getDataFormatCodeValue().equalsIgnoreCase(Constants.DATA_FORMAT_PERCENTAGE)) {\n                    rowCellStyle.setDataFormat(workbook.createDataFormat().getFormat(&quot;0.00%&quot;));\n                    for (int i = 0; i &lt; clientDataObjectRequest.getCompanyChartData().size(); i++) {\n                        Row row = sheet.createRow(anchor.getRow2() + 2 + i);\n                        row.createCell(0).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getClientName());\n                        row.createCell(1).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getValue()/100);\n                        //rowCellStyle.setDataFormat(HSSFDataFormat.getBuiltinFormat(&quot;#,##0.00%&quot;));\n                        row.getCell(1).setCellStyle(rowCellStyle);\n                    }\n                }\n\n                if (clientDataObjectRequest.getDataFormatCodeValue().equalsIgnoreCase(Constants.DATA_FORMAT_CURRENCY)) {\n                    rowCellStyle.setDataFormat(workbook.createDataFormat().getFormat(&quot;$0.00&quot;));\n                    for (int i = 0; i &lt; clientDataObjectRequest.getCompanyChartData().size(); i++) {\n                        Row row = sheet.createRow(anchor.getRow2() + 2 + i);\n                        row.createCell(0).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getClientName());\n                        row.createCell(1).setCellValue(clientDataObjectRequest.getCompanyChartData().get(i).getValue());\n                        row.getCell(1).setCellStyle(rowCellStyle);\n                    }\n                }\n\n                XSSFChart chart = drawing.createChart(anchor);\n                chart.setTitleText(clientDataObjectRequest.getMetricName());\n                chart.getCTChart().getTitle().getTx().getRich().getPArray(0).getRArray(0).getRPr().setSz(2000);\n                chart.setTitleOverlay(false);\n\n                //XDDFChartLegend legend = chart.getOrAddLegend();\n                //legend.setPosition(LegendPosition.TOP_RIGHT);\n\n                XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n                XDDFTitle title = getOrSetAxisTitle(bottomAxis);\n                title.setOverlay(false);\n                title.setText(Constants.CLIENT_NAME);\n                title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\n\n\n                XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n                title = getOrSetAxisTitle(leftAxis);\n                title.setOverlay(false);\n                title.setText(&quot;Value (&quot;+clientDataObjectRequest.getDataFormatCodeValue()+&quot;)&quot;);\n                title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\n\n                if(clientDataObjectRequest.getDataFormatCodeValue().equalsIgnoreCase(Constants.DATA_FORMAT_PERCENTAGE)) {\n                    leftAxis.setMaximum(1.0);\n                }\n                leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n                leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n                sheet.shiftColumns(0,1,2);\n                sheet.autoSizeColumn(2);\n                sheet.autoSizeColumn(3);\n\n                XDDFDataSource&lt;String&gt; clientNames = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n                        new CellRangeAddress(anchor.getRow2() + 2,anchor.getRow2() + 1 + clientDataObjectRequest.getCompanyChartData().size(),2,2));\n\n                XDDFNumericalDataSource&lt;Double&gt; values = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n                        new CellRangeAddress(anchor.getRow2() + 2,anchor.getRow2() + 1 + clientDataObjectRequest.getCompanyChartData().size(),3,3));\n\n                XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n                XDDFChartData.Series series = data.addSeries(clientNames, values);\n                series.setTitle(clientDataObjectRequest.getMetricName(), null);\n\n                setDataLabels(series,7,true); // pos 7 = INT_OUT_END, showVal = true\n\n                chart.plot(data);\n\n                XDDFBarChartData bar = (XDDFBarChartData) data;\n                bar.setBarDirection(BarDirection.BAR);\n\n                solidFillSeries(data, 0, PresetColor.BLUE);\n\n                Row bottomRow = sheet.createRow(anchor.getRow2() + clientDataObjectRequest.getCompanyChartData().size() + 3);\n                bottomRow.createCell(0).setCellValue(Constants.COPYRIGHT_FOOTER);\n\n                workbook.write(file);\n            }\n        } catch (Exception e){\n\n        }\n\n        return new ByteArrayInputStream(file.toByteArray());\n    }\n</code></pre>\n<p>And this is the body which my controller is receiving.</p>\n<pre><code>{\n    &quot;metricName&quot;:&quot;Turnover Rate&quot;,\n    &quot;dataFormatCodeValue&quot;: &quot;currency&quot;,\n    &quot;clientDataRequest&quot;:[\n       {\n          &quot;clientName&quot;:&quot;client 1&quot;,\n          &quot;value&quot;:&quot;1&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 2&quot;,\n          &quot;value&quot;:&quot;2&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 3&quot;,\n          &quot;value&quot;:&quot;3&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 4&quot;,\n          &quot;value&quot;:&quot;4&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 5555555&quot;,\n          &quot;value&quot;:&quot;5&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 6&quot;,\n          &quot;value&quot;:&quot;6&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 7&quot;,\n          &quot;value&quot;:&quot;7&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 8&quot;,\n          &quot;value&quot;:&quot;8.5&quot;\n       }\n    ]\n}\n</code></pre>\n"},{"tags":["java","hibernate","maven","spring-boot","ehcache-3"],"answers":[{"tags":[],"owner":{"account_id":4731873,"reputation":1070,"user_id":3827273,"display_name":"Haran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554440490,"creation_date":1554440490,"answer_id":55528515,"question_id":55528443,"body_markdown":"Shouldn&#39;t be `ehcache` instead of `jcache`?\r\n```\r\nspring.cache.ehcache.config= {ehcache config location}\r\n```","title":"ehcache3 - why cache doesn&#39;t expire?","body":"<p>Shouldn't be <code>ehcache</code> instead of <code>jcache</code>?</p>\n\n<pre><code>spring.cache.ehcache.config= {ehcache config location}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660772333,"creation_date":1660772333,"answer_id":73395190,"question_id":55528443,"body_markdown":"In case this helps anyone else, in my case what I was missing was the `spring-boot-starter-cache` dependency. Without that dependency, caching was working but no expiration was happening as without the customizations from `spring-boot`, spring was probably caching using a `ConcurrentHashMap` instead of `ehcache`, as mentioned in this [caching guide](https://spring.io/guides/gs/caching/). All the gradle dependencies I needed to add are below:\r\n\r\n```groovy\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-cache&#39;\r\n    implementation group: &#39;org.ehcache&#39;, name: &#39;ehcache&#39;\r\n    implementation group: &#39;javax.cache&#39;, name: &#39;cache-api&#39;\r\n\r\n    implementation group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39; // To read XML config\r\n    implementation group: &#39;com.sun.xml.bind&#39;, name: &#39;jaxb-impl&#39;, version: &#39;2.3.6&#39; // To read XML config\r\n```\r\n\r\nA sample application that successfully caches and expires entries using ehcache can be found on [github](https://github.com/devatherock/spring-boot-demo/tree/ehcache)","title":"ehcache3 - why cache doesn&#39;t expire?","body":"<p>In case this helps anyone else, in my case what I was missing was the <code>spring-boot-starter-cache</code> dependency. Without that dependency, caching was working but no expiration was happening as without the customizations from <code>spring-boot</code>, spring was probably caching using a <code>ConcurrentHashMap</code> instead of <code>ehcache</code>, as mentioned in this <a href=\"https://spring.io/guides/gs/caching/\" rel=\"nofollow noreferrer\">caching guide</a>. All the gradle dependencies I needed to add are below:</p>\n<pre><code>    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-cache'\n    implementation group: 'org.ehcache', name: 'ehcache'\n    implementation group: 'javax.cache', name: 'cache-api'\n\n    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1' // To read XML config\n    implementation group: 'com.sun.xml.bind', name: 'jaxb-impl', version: '2.3.6' // To read XML config\n</code></pre>\n<p>A sample application that successfully caches and expires entries using ehcache can be found on <a href=\"https://github.com/devatherock/spring-boot-demo/tree/ehcache\" rel=\"nofollow noreferrer\">github</a></p>\n"}],"owner":{"account_id":7153337,"reputation":97,"user_id":5466636,"display_name":"thehespe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660772333,"creation_date":1554439887,"question_id":55528443,"body_markdown":"I want to cache a few of my dao queries. And it works, but cache doesn&#39;t expire. What I&#39;m doing wrong?\r\n\r\nMy ehcache.xml:\r\n```\r\n&lt;config xmlns=&#39;http://www.ehcache.org/v3&#39;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\r\n\t\t\t\t\t\t\thttp://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\r\n \r\n    &lt;cache alias=&quot;test&quot;&gt;\r\n    &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\r\n    &lt;value-type&gt;xxx.model.SignalValueType&lt;/value-type&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;seconds&quot;&gt;5&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n  \r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;100&lt;/heap&gt;\r\n            &lt;offheap unit=&quot;MB&quot;&gt;10&lt;/offheap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache&gt; \r\n&lt;/config&gt;\r\n```\r\n\r\nIn application.properties I have entry:\r\n```\r\nspring.cache.jcache.config=classpath:ehcache.xml\r\n```\r\n\r\nIn pom:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd my query:\r\n```\r\n@Cacheable(value = &quot;test&quot;, key = &quot;#code&quot;)\r\n@Override\r\npublic SignalValueType getSignalValueType(String code) {\t\t \r\n  SignalValueType signalType = (SignalValueType) sf.getCurrentSession()\r\n.createQuery(&quot;FROM SignalValueType svt WHERE svt.code = :code&quot;).setParameter(&quot;code&quot;, code)\r\n.uniqueResult();\r\n\r\n return signalType;\r\n}\r\n```\r\n\r\nI expect 5 seconds expiring, but after this time (and longer) query is still cached. What I&#39;m doing wrong?","title":"ehcache3 - why cache doesn&#39;t expire?","body":"<p>I want to cache a few of my dao queries. And it works, but cache doesn't expire. What I'm doing wrong?</p>\n\n<p>My ehcache.xml:</p>\n\n<pre><code>&lt;config xmlns='http://www.ehcache.org/v3'\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:jsr107=\"http://www.ehcache.org/v3/jsr107\"\n        xsi:schemaLocation=\"http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\n                            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd\"&gt;\n\n    &lt;cache alias=\"test\"&gt;\n    &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\n    &lt;value-type&gt;xxx.model.SignalValueType&lt;/value-type&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=\"seconds\"&gt;5&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=\"entries\"&gt;100&lt;/heap&gt;\n            &lt;offheap unit=\"MB\"&gt;10&lt;/offheap&gt;\n        &lt;/resources&gt;\n    &lt;/cache&gt; \n&lt;/config&gt;\n</code></pre>\n\n<p>In application.properties I have entry:</p>\n\n<pre><code>spring.cache.jcache.config=classpath:ehcache.xml\n</code></pre>\n\n<p>In pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And my query:</p>\n\n<pre><code>@Cacheable(value = \"test\", key = \"#code\")\n@Override\npublic SignalValueType getSignalValueType(String code) {         \n  SignalValueType signalType = (SignalValueType) sf.getCurrentSession()\n.createQuery(\"FROM SignalValueType svt WHERE svt.code = :code\").setParameter(\"code\", code)\n.uniqueResult();\n\n return signalType;\n}\n</code></pre>\n\n<p>I expect 5 seconds expiring, but after this time (and longer) query is still cached. What I'm doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":2,"creation_date":1660768744,"post_id":73394617,"comment_id":129613990,"body_markdown":"If you make a constructor private it doesn&#39;t mean you can&#39;t create an instance of that class: you can do it in the class itself. What do you need exactly?","body":"If you make a constructor private it doesn&#39;t mean you can&#39;t create an instance of that class: you can do it in the class itself. What do you need exactly?"},{"owner":{"account_id":11520020,"reputation":37,"user_id":8442130,"display_name":"harbk"},"score":0,"creation_date":1660769031,"post_id":73394617,"comment_id":129614070,"body_markdown":"You&#39;re right. I forgot it. I want to make sure that the new word cannot be used.","body":"You&#39;re right. I forgot it. I want to make sure that the new word cannot be used."},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1660769134,"post_id":73394617,"comment_id":129614099,"body_markdown":"What do you mean with ```the new word cannot be used```?","body":"What do you mean with <code>the new word cannot be used</code>?"},{"owner":{"account_id":11520020,"reputation":37,"user_id":8442130,"display_name":"harbk"},"score":0,"creation_date":1660769317,"post_id":73394617,"comment_id":129614137,"body_markdown":"I want it to be impossible to create objects. Sorry my english is a bit bad.","body":"I want it to be impossible to create objects. Sorry my english is a bit bad."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660769520,"post_id":73394617,"comment_id":129614183,"body_markdown":"@harbk you mean like making it abstract or making sure only its static methods can be called?","body":"@harbk you mean like making it abstract or making sure only its static methods can be called?"},{"owner":{"account_id":11520020,"reputation":37,"user_id":8442130,"display_name":"harbk"},"score":0,"creation_date":1660769922,"post_id":73394617,"comment_id":129614300,"body_markdown":"new Person(); I just want to prevent it from happening.","body":"new Person(); I just want to prevent it from happening."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1660770069,"post_id":73394617,"comment_id":129614327,"body_markdown":"@harbk then making the constructor `private` is perfectly fine.","body":"@harbk then making the constructor <code>private</code> is perfectly fine."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660771307,"creation_date":1660771307,"answer_id":73395020,"question_id":73394617,"body_markdown":"Making it `private` is the only way to prevent anyone from writing `new Person()`.\r\n\r\nYou can do other things to interfere with object construction, such as throwing exceptions in the constructor, but that all takes effect at runtime.","title":"Is there any other way to prevent an object of a class from being generated in Java?","body":"<p>Making it <code>private</code> is the only way to prevent anyone from writing <code>new Person()</code>.</p>\n<p>You can do other things to interfere with object construction, such as throwing exceptions in the constructor, but that all takes effect at runtime.</p>\n"}],"owner":{"account_id":11520020,"reputation":37,"user_id":8442130,"display_name":"harbk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660771307,"creation_date":1660768538,"question_id":73394617,"body_markdown":"sorry for asking a very ignorant question. Despite my research, I couldn&#39;t find any results. As it is known, when we make the constructor methods private, we cannot create the object of that class.\r\n\r\n    public class Person{\r\n     private Person(){}\r\n    }\r\n\r\nIs there any other method other than this?","title":"Is there any other way to prevent an object of a class from being generated in Java?","body":"<p>sorry for asking a very ignorant question. Despite my research, I couldn't find any results. As it is known, when we make the constructor methods private, we cannot create the object of that class.</p>\n<pre><code>public class Person{\n private Person(){}\n}\n</code></pre>\n<p>Is there any other method other than this?</p>\n"},{"tags":["java","http","rest","youtube","youtube-api"],"comments":[{"owner":{"account_id":1014043,"reputation":16883,"user_id":1026023,"accept_rate":29,"display_name":"Jeff Ward"},"score":0,"creation_date":1611640919,"post_id":18382388,"comment_id":116509522,"body_markdown":"Just agreeing -- **if you forget the `/upload` prefix** on the URL,  `https://youtube.googleapis.com/upload/youtube/v3/thumbnails/set` it will unhelpfully respond with the 400 `mediaBodyRequired` error, even if the body and `content-type` and binary data are all provided correctly. Maddening.","body":"Just agreeing -- <b>if you forget the <code>&#47;upload</code> prefix</b> on the URL,  <code>https:&#47;&#47;youtube.googleapis.com&#47;upload&#47;youtube&#47;v3&#47;thumbnails&#47;&zwnj;&#8203;set</code> it will unhelpfully respond with the 400 <code>mediaBodyRequired</code> error, even if the body and <code>content-type</code> and binary data are all provided correctly. Maddening."}],"answers":[{"tags":[],"owner":{"account_id":2237670,"reputation":12787,"user_id":1973552,"display_name":"Ibrahim Ulukaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378501865,"creation_date":1377180523,"answer_id":18382849,"question_id":18382388,"body_markdown":"URL will be fixed.\r\n\r\nYou also need to have specific permission in your channel to set custom thumbnails.\r\n\r\nThere is [PHP][1] and [Python][2] examples in our sample code that works.\r\n\r\nHere&#39;s the Java one, I just wrote and tested, it works.\r\n\r\n    /*\r\n     * Copyright (c) 2013 Google Inc.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except\r\n     * in compliance with the License. You may obtain a copy of the License at\r\n     *\r\n     * http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software distributed under the License\r\n     * is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\r\n     * or implied. See the License for the specific language governing permissions and limitations under\r\n     * the License.\r\n     */\r\n    \r\n    package com.google.api.services.samples.youtube.cmdline.youtube_cmdline_uploadthumbnail_sample;\r\n    \r\n    import com.google.api.client.auth.oauth2.Credential;\r\n    import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\n    import com.google.api.client.extensions.java6.auth.oauth2.FileCredentialStore;\r\n    import com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\n    import com.google.api.client.googleapis.json.GoogleJsonResponseException;\r\n    import com.google.api.client.googleapis.media.MediaHttpUploader;\r\n    import com.google.api.client.googleapis.media.MediaHttpUploaderProgressListener;\r\n    import com.google.api.client.http.HttpTransport;\r\n    import com.google.api.client.http.InputStreamContent;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.jackson2.JacksonFactory;\r\n    import com.google.api.services.youtube.YouTube;\r\n    import com.google.api.services.youtube.YouTube.Thumbnails.Set;\r\n    import com.google.api.services.youtube.model.ThumbnailSetResponse;\r\n    import com.google.common.collect.Lists;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * This sample uploads and sets a custom thumbnail for a video by:\r\n     *\r\n     *  1. Uploading a image utilizing &quot;MediaHttpUploader&quot; 2. Setting the uploaded image as a custom\r\n     * thumbnail to the video via &quot;youtube.thumbnails.set&quot; method\r\n     *\r\n     * @author Ibrahim Ulukaya\r\n     */\r\n    public class UploadThumbnail {\r\n    \r\n      /**\r\n       * Global instance of the HTTP transport.\r\n       */\r\n      private static final HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n    \r\n      /**\r\n       * Global instance of the JSON factory.\r\n       */\r\n      private static final JsonFactory JSON_FACTORY = new JacksonFactory();\r\n    \r\n      /**\r\n       * Global instance of Youtube object to make all API requests.\r\n       */\r\n      private static YouTube youtube;\r\n    \r\n      /* Global instance of the format used for the image being uploaded (MIME type). */\r\n      private static String IMAGE_FILE_FORMAT = &quot;image/png&quot;;\r\n    \r\n    \r\n    \r\n      /**\r\n       * Authorizes the installed application to access user&#39;s protected data.\r\n       *\r\n       * @param scopes list of scopes needed to run youtube upload.\r\n       */\r\n      private static Credential authorize(List&lt;String&gt; scopes) throws IOException {\r\n    \r\n        // Load client secrets.\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\r\n            new InputStreamReader(UploadThumbnail.class.getResourceAsStream(&quot;/client_secrets.json&quot;)));\r\n    \r\n        // Checks that the defaults have been replaced (Default = &quot;Enter X here&quot;).\r\n        if (clientSecrets.getDetails().getClientId().startsWith(&quot;Enter&quot;)\r\n            || clientSecrets.getDetails().getClientSecret().startsWith(&quot;Enter &quot;)) {\r\n          System.out.println(\r\n              &quot;Enter Client ID and Secret from https://code.google.com/apis/console/?api=youtube&quot;\r\n              + &quot;into youtube-cmdline-uploadthumbnail-sample/src/main/resources/client_secrets.json&quot;);\r\n          System.exit(1);\r\n        }\r\n    \r\n        // Set up file credential store.\r\n        FileCredentialStore credentialStore = new FileCredentialStore(\r\n            new File(System.getProperty(&quot;user.home&quot;), &quot;.credentials/youtube-api-uploadthumbnail.json&quot;),\r\n            JSON_FACTORY);\r\n    \r\n        // Set up authorization code flow.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, scopes).setCredentialStore(credentialStore)\r\n            .build();\r\n    \r\n        // Build the local server and bind it to port 8080\r\n        LocalServerReceiver localReceiver = new LocalServerReceiver.Builder().setPort(8080).build();\r\n    \r\n        // Authorize.\r\n        return new AuthorizationCodeInstalledApp(flow, localReceiver).authorize(&quot;user&quot;);\r\n      }\r\n    \r\n      /**\r\n       * This is a very simple code sample that looks up a user&#39;s channel, then features the most\r\n       * recently uploaded video in the bottom left hand corner of every single video in the channel.\r\n       *\r\n       * @param args command line args (not used).\r\n       */\r\n      public static void main(String[] args) {\r\n    \r\n        // An OAuth 2 access scope that allows for full read/write access.\r\n        List&lt;String&gt; scopes = Lists.newArrayList(&quot;https://www.googleapis.com/auth/youtube&quot;);\r\n    \r\n        try {\r\n          // Authorization.\r\n          Credential credential = authorize(scopes);\r\n    \r\n          // YouTube object used to make all API requests.\r\n          youtube = new YouTube.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential).setApplicationName(\r\n              &quot;youtube-cmdline-addfeaturedvideo-sample&quot;).build();\r\n    \r\n          // Get the user selected video Id.\r\n          String videoId = getVideoIdFromUser();\r\n          System.out.println(&quot;You chose &quot; + videoId + &quot; to upload a thumbnail.&quot;);\r\n    \r\n          // Get the user selected local image file to upload.\r\n          File imageFile = getImageFromUser();\r\n          System.out.println(&quot;You chose &quot; + imageFile + &quot; to upload.&quot;);\r\n    \r\n          InputStreamContent mediaContent = new InputStreamContent(\r\n              IMAGE_FILE_FORMAT, new BufferedInputStream(new FileInputStream(imageFile)));\r\n          mediaContent.setLength(imageFile.length());\r\n    \r\n          // Create a request to set the selected mediaContent as the thumbnail of the selected video.\r\n          Set thumbnailSet = youtube.thumbnails().set(videoId, mediaContent);\r\n    \r\n          // Set the upload type and add event listener.\r\n          MediaHttpUploader uploader = thumbnailSet.getMediaHttpUploader();\r\n    \r\n          /*\r\n           * Sets whether direct media upload is enabled or disabled. True = whole media content is\r\n           * uploaded in a single request. False (default) = resumable media upload protocol to upload\r\n           * in data chunks.\r\n           */\r\n          uploader.setDirectUploadEnabled(false);\r\n    \r\n          MediaHttpUploaderProgressListener progressListener = new MediaHttpUploaderProgressListener() {\r\n            @Override\r\n            public void progressChanged(MediaHttpUploader uploader) throws IOException {\r\n              switch (uploader.getUploadState()) {\r\n                case INITIATION_STARTED:\r\n                  System.out.println(&quot;Initiation Started&quot;);\r\n                  break;\r\n                case INITIATION_COMPLETE:\r\n                  System.out.println(&quot;Initiation Completed&quot;);\r\n                  break;\r\n                case MEDIA_IN_PROGRESS:\r\n                  System.out.println(&quot;Upload in progress&quot;);\r\n                  System.out.println(&quot;Upload percentage: &quot; + uploader.getProgress());\r\n                  break;\r\n                case MEDIA_COMPLETE:\r\n                  System.out.println(&quot;Upload Completed!&quot;);\r\n                  break;\r\n                case NOT_STARTED:\r\n                  System.out.println(&quot;Upload Not Started!&quot;);\r\n                  break;\r\n              }\r\n            }\r\n          };\r\n          uploader.setProgressListener(progressListener);\r\n    \r\n          // Execute upload and set thumbnail.\r\n          ThumbnailSetResponse setResponse = thumbnailSet.execute();\r\n    \r\n          // Print out returned results.\r\n          System.out.println(&quot;\\n================== Uploaded Thumbnail ==================\\n&quot;);\r\n          System.out.println(&quot;  - Url: &quot; + setResponse.getItems().get(0).getDefault().getUrl());\r\n    \r\n        } catch (GoogleJsonResponseException e) {\r\n          System.err.println(&quot;GoogleJsonResponseException code: &quot; + e.getDetails().getCode() + &quot; : &quot;\r\n              + e.getDetails().getMessage());\r\n          e.printStackTrace();\r\n    \r\n        } catch (IOException e) {\r\n          System.err.println(&quot;IOException: &quot; + e.getMessage());\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      /*\r\n       * Prompts for a video ID from standard input and returns it.\r\n       */\r\n      private static String getVideoIdFromUser() throws IOException {\r\n    \r\n        String title = &quot;&quot;;\r\n    \r\n        System.out.print(&quot;Please enter a video Id to update: &quot;);\r\n        BufferedReader bReader = new BufferedReader(new InputStreamReader(System.in));\r\n        title = bReader.readLine();\r\n    \r\n        if (title.length() &lt; 1) {\r\n          // If nothing is entered, exits\r\n          System.out.print(&quot;Video Id can&#39;t be empty!&quot;);\r\n          System.exit(1);\r\n        }\r\n    \r\n        return title;\r\n      }\r\n    \r\n      /*\r\n       * Prompts for the path of the image file to upload from standard input and returns it.\r\n       */\r\n      private static File getImageFromUser() throws IOException {\r\n    \r\n        String path = &quot;&quot;;\r\n    \r\n        System.out.print(&quot;Please enter the path of the image file to upload: &quot;);\r\n        BufferedReader bReader = new BufferedReader(new InputStreamReader(System.in));\r\n        path = bReader.readLine();\r\n    \r\n        if (path.length() &lt; 1) {\r\n          // If nothing is entered, exits\r\n          System.out.print(&quot;Path can not be empty!&quot;);\r\n          System.exit(1);\r\n        }\r\n    \r\n        return new File(path);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://code.google.com/p/youtube-api-samples/source/browse/samples/php/upload_thumbnail.php\r\n  [2]: https://code.google.com/p/youtube-api-samples/source/browse/samples/python/upload_thumbnail.py","title":"Thumbnail upload YouTube API v3 failing","body":"<p>URL will be fixed.</p>\n\n<p>You also need to have specific permission in your channel to set custom thumbnails.</p>\n\n<p>There is <a href=\"https://code.google.com/p/youtube-api-samples/source/browse/samples/php/upload_thumbnail.php\" rel=\"nofollow\">PHP</a> and <a href=\"https://code.google.com/p/youtube-api-samples/source/browse/samples/python/upload_thumbnail.py\" rel=\"nofollow\">Python</a> examples in our sample code that works.</p>\n\n<p>Here's the Java one, I just wrote and tested, it works.</p>\n\n<pre><code>/*\n * Copyright (c) 2013 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License. You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under the License\n * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n * or implied. See the License for the specific language governing permissions and limitations under\n * the License.\n */\n\npackage com.google.api.services.samples.youtube.cmdline.youtube_cmdline_uploadthumbnail_sample;\n\nimport com.google.api.client.auth.oauth2.Credential;\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.java6.auth.oauth2.FileCredentialStore;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.json.GoogleJsonResponseException;\nimport com.google.api.client.googleapis.media.MediaHttpUploader;\nimport com.google.api.client.googleapis.media.MediaHttpUploaderProgressListener;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.InputStreamContent;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.youtube.YouTube;\nimport com.google.api.services.youtube.YouTube.Thumbnails.Set;\nimport com.google.api.services.youtube.model.ThumbnailSetResponse;\nimport com.google.common.collect.Lists;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.List;\n\n/**\n * This sample uploads and sets a custom thumbnail for a video by:\n *\n *  1. Uploading a image utilizing \"MediaHttpUploader\" 2. Setting the uploaded image as a custom\n * thumbnail to the video via \"youtube.thumbnails.set\" method\n *\n * @author Ibrahim Ulukaya\n */\npublic class UploadThumbnail {\n\n  /**\n   * Global instance of the HTTP transport.\n   */\n  private static final HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n\n  /**\n   * Global instance of the JSON factory.\n   */\n  private static final JsonFactory JSON_FACTORY = new JacksonFactory();\n\n  /**\n   * Global instance of Youtube object to make all API requests.\n   */\n  private static YouTube youtube;\n\n  /* Global instance of the format used for the image being uploaded (MIME type). */\n  private static String IMAGE_FILE_FORMAT = \"image/png\";\n\n\n\n  /**\n   * Authorizes the installed application to access user's protected data.\n   *\n   * @param scopes list of scopes needed to run youtube upload.\n   */\n  private static Credential authorize(List&lt;String&gt; scopes) throws IOException {\n\n    // Load client secrets.\n    GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\n        new InputStreamReader(UploadThumbnail.class.getResourceAsStream(\"/client_secrets.json\")));\n\n    // Checks that the defaults have been replaced (Default = \"Enter X here\").\n    if (clientSecrets.getDetails().getClientId().startsWith(\"Enter\")\n        || clientSecrets.getDetails().getClientSecret().startsWith(\"Enter \")) {\n      System.out.println(\n          \"Enter Client ID and Secret from https://code.google.com/apis/console/?api=youtube\"\n          + \"into youtube-cmdline-uploadthumbnail-sample/src/main/resources/client_secrets.json\");\n      System.exit(1);\n    }\n\n    // Set up file credential store.\n    FileCredentialStore credentialStore = new FileCredentialStore(\n        new File(System.getProperty(\"user.home\"), \".credentials/youtube-api-uploadthumbnail.json\"),\n        JSON_FACTORY);\n\n    // Set up authorization code flow.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, scopes).setCredentialStore(credentialStore)\n        .build();\n\n    // Build the local server and bind it to port 8080\n    LocalServerReceiver localReceiver = new LocalServerReceiver.Builder().setPort(8080).build();\n\n    // Authorize.\n    return new AuthorizationCodeInstalledApp(flow, localReceiver).authorize(\"user\");\n  }\n\n  /**\n   * This is a very simple code sample that looks up a user's channel, then features the most\n   * recently uploaded video in the bottom left hand corner of every single video in the channel.\n   *\n   * @param args command line args (not used).\n   */\n  public static void main(String[] args) {\n\n    // An OAuth 2 access scope that allows for full read/write access.\n    List&lt;String&gt; scopes = Lists.newArrayList(\"https://www.googleapis.com/auth/youtube\");\n\n    try {\n      // Authorization.\n      Credential credential = authorize(scopes);\n\n      // YouTube object used to make all API requests.\n      youtube = new YouTube.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential).setApplicationName(\n          \"youtube-cmdline-addfeaturedvideo-sample\").build();\n\n      // Get the user selected video Id.\n      String videoId = getVideoIdFromUser();\n      System.out.println(\"You chose \" + videoId + \" to upload a thumbnail.\");\n\n      // Get the user selected local image file to upload.\n      File imageFile = getImageFromUser();\n      System.out.println(\"You chose \" + imageFile + \" to upload.\");\n\n      InputStreamContent mediaContent = new InputStreamContent(\n          IMAGE_FILE_FORMAT, new BufferedInputStream(new FileInputStream(imageFile)));\n      mediaContent.setLength(imageFile.length());\n\n      // Create a request to set the selected mediaContent as the thumbnail of the selected video.\n      Set thumbnailSet = youtube.thumbnails().set(videoId, mediaContent);\n\n      // Set the upload type and add event listener.\n      MediaHttpUploader uploader = thumbnailSet.getMediaHttpUploader();\n\n      /*\n       * Sets whether direct media upload is enabled or disabled. True = whole media content is\n       * uploaded in a single request. False (default) = resumable media upload protocol to upload\n       * in data chunks.\n       */\n      uploader.setDirectUploadEnabled(false);\n\n      MediaHttpUploaderProgressListener progressListener = new MediaHttpUploaderProgressListener() {\n        @Override\n        public void progressChanged(MediaHttpUploader uploader) throws IOException {\n          switch (uploader.getUploadState()) {\n            case INITIATION_STARTED:\n              System.out.println(\"Initiation Started\");\n              break;\n            case INITIATION_COMPLETE:\n              System.out.println(\"Initiation Completed\");\n              break;\n            case MEDIA_IN_PROGRESS:\n              System.out.println(\"Upload in progress\");\n              System.out.println(\"Upload percentage: \" + uploader.getProgress());\n              break;\n            case MEDIA_COMPLETE:\n              System.out.println(\"Upload Completed!\");\n              break;\n            case NOT_STARTED:\n              System.out.println(\"Upload Not Started!\");\n              break;\n          }\n        }\n      };\n      uploader.setProgressListener(progressListener);\n\n      // Execute upload and set thumbnail.\n      ThumbnailSetResponse setResponse = thumbnailSet.execute();\n\n      // Print out returned results.\n      System.out.println(\"\\n================== Uploaded Thumbnail ==================\\n\");\n      System.out.println(\"  - Url: \" + setResponse.getItems().get(0).getDefault().getUrl());\n\n    } catch (GoogleJsonResponseException e) {\n      System.err.println(\"GoogleJsonResponseException code: \" + e.getDetails().getCode() + \" : \"\n          + e.getDetails().getMessage());\n      e.printStackTrace();\n\n    } catch (IOException e) {\n      System.err.println(\"IOException: \" + e.getMessage());\n      e.printStackTrace();\n    }\n  }\n\n  /*\n   * Prompts for a video ID from standard input and returns it.\n   */\n  private static String getVideoIdFromUser() throws IOException {\n\n    String title = \"\";\n\n    System.out.print(\"Please enter a video Id to update: \");\n    BufferedReader bReader = new BufferedReader(new InputStreamReader(System.in));\n    title = bReader.readLine();\n\n    if (title.length() &lt; 1) {\n      // If nothing is entered, exits\n      System.out.print(\"Video Id can't be empty!\");\n      System.exit(1);\n    }\n\n    return title;\n  }\n\n  /*\n   * Prompts for the path of the image file to upload from standard input and returns it.\n   */\n  private static File getImageFromUser() throws IOException {\n\n    String path = \"\";\n\n    System.out.print(\"Please enter the path of the image file to upload: \");\n    BufferedReader bReader = new BufferedReader(new InputStreamReader(System.in));\n    path = bReader.readLine();\n\n    if (path.length() &lt; 1) {\n      // If nothing is entered, exits\n      System.out.print(\"Path can not be empty!\");\n      System.exit(1);\n    }\n\n    return new File(path);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2237670,"reputation":12787,"user_id":1973552,"display_name":"Ibrahim Ulukaya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1378501934,"creation_date":1378501934,"answer_id":18666666,"question_id":18382388,"body_markdown":"We dug the issue, here are the steps you have to follow if you don&#39;t want to use the library.\r\n\r\n1) POST https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=VIDEO_ID&amp;uploadType=resumable\r\nwith an empty body\r\n\r\n2) get back the URL in the Location: header of the response, and POST to that URL with Content-Type: image/png and the thumbnail in the body","title":"Thumbnail upload YouTube API v3 failing","body":"<p>We dug the issue, here are the steps you have to follow if you don't want to use the library.</p>\n\n<p>1) POST <a href=\"https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=VIDEO_ID&amp;uploadType=resumable\" rel=\"nofollow\">https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=VIDEO_ID&amp;uploadType=resumable</a>\nwith an empty body</p>\n\n<p>2) get back the URL in the Location: header of the response, and POST to that URL with Content-Type: image/png and the thumbnail in the body</p>\n"},{"tags":[],"owner":{"account_id":4560732,"reputation":466,"user_id":3703148,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429139128,"creation_date":1429139128,"answer_id":29662485,"question_id":18382388,"body_markdown":"The answer given is not even close to correct!  If you post to this URL without an image in the body:\r\n\r\nhttps://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=VIDEO_ID&amp;uploadType=resumable\r\n\r\nYou will receive this error:\r\n\r\n&quot;400: mediaBodyRequired&quot;\r\n\r\nThis error is described in the YouTube docs at the bottom of this page:\r\n\r\nhttps://developers.google.com/youtube/v3/docs/thumbnails/set\r\n\r\nas:\r\n\r\n&quot;The request does not include the image content.&quot;\r\n\r\nAlthough their documentation leaves a lot of things out (think categoryId), they are dead on here since I just tried the first solution posted by Ibrahim and received the error.  Although he stated not to provide the image data in the body, the documentation and my own research show exactly the opposite.\r\n\r\nThe solution is to post to this URL w/ the image body included.  When doing so, I received this response:\r\n\r\n{ &quot;kind&quot;: &quot;youtube#thumbnailSetResponse&quot;, &quot;etag&quot;: &quot;\\&quot;kYnGHzMaBhcGeLrcKRx6PAIUosY/lcDPfygjJkG-yyzdBp0dKhY2xMY\\&quot;&quot;, &quot;items&quot;: [ { &quot;default&quot;: { &quot;url&quot;: &quot;//i.ytimg.com/vi/fyBx3v1gmbM/default.jpg&quot;, &quot;width&quot;: 120, &quot;height&quot;: 90 }, &quot;medium&quot;: { &quot;url&quot;: &quot;//i.ytimg.com/vi/fyBx3v1gmbM/mqdefault.jpg&quot;, &quot;width&quot;: 320, &quot;height&quot;: 180 }, &quot;high&quot;: { &quot;url&quot;: &quot;//i.ytimg.com/vi/fyBx3v1gmbM/hqdefault.jpg&quot;, &quot;width&quot;: 480, &quot;height&quot;: 360 }, &quot;standard&quot;: { &quot;url&quot;: &quot;//i.ytimg.com/vi/fyBx3v1gmbM/sddefault.jpg&quot;, &quot;width&quot;: 640, &quot;height&quot;: 480 }, &quot;maxres&quot;: { &quot;url&quot;: &quot;//i.ytimg.com/vi/fyBx3v1gmbM/maxresdefault.jpg&quot;, &quot;width&quot;: 1280, &quot;height&quot;: 720 } } ] } \r\n\r\nUnfortunately it&#39;s not actually changing the thumbnail, but I think that is an issue w/ their API server and the queuing of their thumbnail processing.  It does return a successful response though.  No idea why the thumbnail doesn&#39;t change though.","title":"Thumbnail upload YouTube API v3 failing","body":"<p>The answer given is not even close to correct!  If you post to this URL without an image in the body:</p>\n\n<p><a href=\"https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=VIDEO_ID&amp;uploadType=resumable\" rel=\"nofollow\">https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=VIDEO_ID&amp;uploadType=resumable</a></p>\n\n<p>You will receive this error:</p>\n\n<p>\"400: mediaBodyRequired\"</p>\n\n<p>This error is described in the YouTube docs at the bottom of this page:</p>\n\n<p><a href=\"https://developers.google.com/youtube/v3/docs/thumbnails/set\" rel=\"nofollow\">https://developers.google.com/youtube/v3/docs/thumbnails/set</a></p>\n\n<p>as:</p>\n\n<p>\"The request does not include the image content.\"</p>\n\n<p>Although their documentation leaves a lot of things out (think categoryId), they are dead on here since I just tried the first solution posted by Ibrahim and received the error.  Although he stated not to provide the image data in the body, the documentation and my own research show exactly the opposite.</p>\n\n<p>The solution is to post to this URL w/ the image body included.  When doing so, I received this response:</p>\n\n<p>{ \"kind\": \"youtube#thumbnailSetResponse\", \"etag\": \"\\\"kYnGHzMaBhcGeLrcKRx6PAIUosY/lcDPfygjJkG-yyzdBp0dKhY2xMY\\\"\", \"items\": [ { \"default\": { \"url\": \"//i.ytimg.com/vi/fyBx3v1gmbM/default.jpg\", \"width\": 120, \"height\": 90 }, \"medium\": { \"url\": \"//i.ytimg.com/vi/fyBx3v1gmbM/mqdefault.jpg\", \"width\": 320, \"height\": 180 }, \"high\": { \"url\": \"//i.ytimg.com/vi/fyBx3v1gmbM/hqdefault.jpg\", \"width\": 480, \"height\": 360 }, \"standard\": { \"url\": \"//i.ytimg.com/vi/fyBx3v1gmbM/sddefault.jpg\", \"width\": 640, \"height\": 480 }, \"maxres\": { \"url\": \"//i.ytimg.com/vi/fyBx3v1gmbM/maxresdefault.jpg\", \"width\": 1280, \"height\": 720 } } ] } </p>\n\n<p>Unfortunately it's not actually changing the thumbnail, but I think that is an issue w/ their API server and the queuing of their thumbnail processing.  It does return a successful response though.  No idea why the thumbnail doesn't change though.</p>\n"},{"tags":[],"owner":{"account_id":26092056,"reputation":11,"user_id":19788790,"display_name":"requestsn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660770379,"creation_date":1660770338,"answer_id":73394871,"question_id":18382388,"body_markdown":"```\r\nimport requests\r\nsession = requests.session()\r\nsession.headers = {&quot;Authorization&quot;: f&quot;Bearer ya29..&quot;,\r\n                   &quot;Content-Type&quot;: &quot;image/png&quot;}\r\n\r\nvid_id = &quot;dQw4w9WgXcQ&quot;  # video ident\r\nedit_url = &quot;https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId={}&amp;uploadType=media&quot;\r\n\r\nsession.post(edit_url.format(vid_id), data=open(&quot;preview.png&quot;, &quot;rb&quot;))\r\n\r\n```\r\n\r\npython code, worked for me ","title":"Thumbnail upload YouTube API v3 failing","body":"<pre><code>import requests\nsession = requests.session()\nsession.headers = {&quot;Authorization&quot;: f&quot;Bearer ya29..&quot;,\n                   &quot;Content-Type&quot;: &quot;image/png&quot;}\n\nvid_id = &quot;dQw4w9WgXcQ&quot;  # video ident\nedit_url = &quot;https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId={}&amp;uploadType=media&quot;\n\nsession.post(edit_url.format(vid_id), data=open(&quot;preview.png&quot;, &quot;rb&quot;))\n\n</code></pre>\n<p>python code, worked for me</p>\n"}],"owner":{"account_id":1314996,"reputation":874,"user_id":1262091,"accept_rate":100,"display_name":"Dennis Fischer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5278,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18666666,"answer_count":4,"score":2,"last_activity_date":1660770379,"creation_date":1377179437,"question_id":18382388,"body_markdown":"The YouTube API v3 is horribly documented. I&#39;ve already reported numerous bugs multiple times but no one reacts.\nI still have to use this API to upload thumbnails.\nThe guide states:\n&gt; POST https://www.googleapis.com/youtube/v3/thumbnails/set\n&gt;\n&gt; Auth scopes: \n&gt; \n&gt; - https://www.googleapis.com/auth/youtubepartner\n&gt; - https://www.googleapis.com/auth/youtube.upload\n&gt; - https://www.googleapis.com/auth/youtube\n&gt; \n&gt; Parameters: \n&gt;\n&gt; - videoId:    string  The videoId parameter specifies a YouTube video ID for which the custom video thumbnail is being provided.\n\nFirst of all - **the url is wrong**. It has to be `https://www.googleapis.com/upload/youtube/v3/thumbnails/set`.\nNow following code, it uses `Unirest`:\n\n    final HttpResponse&lt;String&gt; response = Unirest.post(&quot;https://www.googleapis.com/upload/youtube/v3/thumbnails/set&quot;)\n                        .header(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;)\n                        .header(&quot;Authorization&quot;, accountService.getAuthentication(account).getHeader())\n                        .field(&quot;videoId&quot;, videoid)\n                        .field(&quot;thumbnail&quot;, thumbnail)\n                        .asString();\n\nThe received response: \n\n    {\n     &quot;error&quot;: {\n      &quot;errors&quot;: [\n       {\n        &quot;domain&quot;: &quot;global&quot;,\n        &quot;reason&quot;: &quot;required&quot;,\n        &quot;message&quot;: &quot;Required parameter: videoId&quot;,\n        &quot;locationType&quot;: &quot;parameter&quot;,\n        &quot;location&quot;: &quot;videoId&quot;\n       }\n      ],\n      &quot;code&quot;: 400,\n      &quot;message&quot;: &quot;Required parameter: videoId&quot;\n     }\n    }\n\nHow can this be? The videoId is set!\nAnyone already played with this part of the API?\n\nI can change the request to\n\n    Unirest.post(&quot;https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=&quot; + videoid)\n                        .header(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;)\n                        .header(&quot;Authorization&quot;, accountService.getAuthentication(account).getHeader())\n                        .field(&quot;mediaUpload&quot;, thumbnail)\n                        .asString();\n\nThis will throw me this error:\n\n    {\n     &quot;error&quot;: {\n      &quot;errors&quot;: [\n       {\n        &quot;domain&quot;: &quot;global&quot;,\n        &quot;reason&quot;: &quot;backendError&quot;,\n        &quot;message&quot;: &quot;Backend Error&quot;\n       }\n      ],\n      &quot;code&quot;: 503,\n      &quot;message&quot;: &quot;Backend Error&quot;\n     }\n    }\n\nEdit:\nSame request with URL posted by Ibrahim Ulukaya (the original url from the reference guide):\n\n    {\n     &quot;error&quot;: {\n      &quot;errors&quot;: [\n       {\n        &quot;domain&quot;: &quot;global&quot;,\n        &quot;reason&quot;: &quot;wrongUrlForUpload&quot;,\n        &quot;message&quot;: &quot;Uploads must be sent to the upload URL. Re-send this request to https://www.googleapis.com/upload/youtube/v3/thumbnails/set&quot;\n       }\n      ],\n      &quot;code&quot;: 400,\n      &quot;message&quot;: &quot;Uploads must be sent to the upload URL. Re-send this request to https://www.googleapis.com/upload/youtube/v3/thumbnails/set&quot;\n     }\n    }\n\n","title":"Thumbnail upload YouTube API v3 failing","body":"<p>The YouTube API v3 is horribly documented. I've already reported numerous bugs multiple times but no one reacts.\nI still have to use this API to upload thumbnails.\nThe guide states:</p>\n<blockquote>\n<p>POST <a href=\"https://www.googleapis.com/youtube/v3/thumbnails/set\" rel=\"nofollow noreferrer\">https://www.googleapis.com/youtube/v3/thumbnails/set</a></p>\n<p>Auth scopes:</p>\n<ul>\n<li><a href=\"https://www.googleapis.com/auth/youtubepartner\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/youtubepartner</a></li>\n<li><a href=\"https://www.googleapis.com/auth/youtube.upload\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/youtube.upload</a></li>\n<li><a href=\"https://www.googleapis.com/auth/youtube\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/youtube</a></li>\n</ul>\n<p>Parameters:</p>\n<ul>\n<li>videoId:    string  The videoId parameter specifies a YouTube video ID for which the custom video thumbnail is being provided.</li>\n</ul>\n</blockquote>\n<p>First of all - <strong>the url is wrong</strong>. It has to be <code>https://www.googleapis.com/upload/youtube/v3/thumbnails/set</code>.\nNow following code, it uses <code>Unirest</code>:</p>\n<pre><code>final HttpResponse&lt;String&gt; response = Unirest.post(&quot;https://www.googleapis.com/upload/youtube/v3/thumbnails/set&quot;)\n                    .header(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;)\n                    .header(&quot;Authorization&quot;, accountService.getAuthentication(account).getHeader())\n                    .field(&quot;videoId&quot;, videoid)\n                    .field(&quot;thumbnail&quot;, thumbnail)\n                    .asString();\n</code></pre>\n<p>The received response:</p>\n<pre><code>{\n &quot;error&quot;: {\n  &quot;errors&quot;: [\n   {\n    &quot;domain&quot;: &quot;global&quot;,\n    &quot;reason&quot;: &quot;required&quot;,\n    &quot;message&quot;: &quot;Required parameter: videoId&quot;,\n    &quot;locationType&quot;: &quot;parameter&quot;,\n    &quot;location&quot;: &quot;videoId&quot;\n   }\n  ],\n  &quot;code&quot;: 400,\n  &quot;message&quot;: &quot;Required parameter: videoId&quot;\n }\n}\n</code></pre>\n<p>How can this be? The videoId is set!\nAnyone already played with this part of the API?</p>\n<p>I can change the request to</p>\n<pre><code>Unirest.post(&quot;https://www.googleapis.com/upload/youtube/v3/thumbnails/set?videoId=&quot; + videoid)\n                    .header(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;)\n                    .header(&quot;Authorization&quot;, accountService.getAuthentication(account).getHeader())\n                    .field(&quot;mediaUpload&quot;, thumbnail)\n                    .asString();\n</code></pre>\n<p>This will throw me this error:</p>\n<pre><code>{\n &quot;error&quot;: {\n  &quot;errors&quot;: [\n   {\n    &quot;domain&quot;: &quot;global&quot;,\n    &quot;reason&quot;: &quot;backendError&quot;,\n    &quot;message&quot;: &quot;Backend Error&quot;\n   }\n  ],\n  &quot;code&quot;: 503,\n  &quot;message&quot;: &quot;Backend Error&quot;\n }\n}\n</code></pre>\n<p>Edit:\nSame request with URL posted by Ibrahim Ulukaya (the original url from the reference guide):</p>\n<pre><code>{\n &quot;error&quot;: {\n  &quot;errors&quot;: [\n   {\n    &quot;domain&quot;: &quot;global&quot;,\n    &quot;reason&quot;: &quot;wrongUrlForUpload&quot;,\n    &quot;message&quot;: &quot;Uploads must be sent to the upload URL. Re-send this request to https://www.googleapis.com/upload/youtube/v3/thumbnails/set&quot;\n   }\n  ],\n  &quot;code&quot;: 400,\n  &quot;message&quot;: &quot;Uploads must be sent to the upload URL. Re-send this request to https://www.googleapis.com/upload/youtube/v3/thumbnails/set&quot;\n }\n}\n</code></pre>\n"},{"tags":["java","class","oop","service","static"],"comments":[{"owner":{"account_id":8657191,"reputation":452,"user_id":6481061,"display_name":"Moataz Abdelnasser"},"score":3,"creation_date":1656372374,"post_id":72779198,"comment_id":128551321,"body_markdown":"I think you&#39;re asked to provide something like `ItemService.getItemService()` to return a singleton instance of your class. A *singleton* is a design pattern where you make sure there&#39;s only one instance of your object. You can do that by defining a `private static final ItemService service = new ItemService()`, making sure `ItemService`&#39;s constructor is private, and returning the static instance from the method above. Otherwise, you can create the singleton instance lazily.","body":"I think you&#39;re asked to provide something like <code>ItemService.getItemService()</code> to return a singleton instance of your class. A <i>singleton</i> is a design pattern where you make sure there&#39;s only one instance of your object. You can do that by defining a <code>private static final ItemService service = new ItemService()</code>, making sure <code>ItemService</code>&#39;s constructor is private, and returning the static instance from the method above. Otherwise, you can create the singleton instance lazily."},{"owner":{"account_id":8657191,"reputation":452,"user_id":6481061,"display_name":"Moataz Abdelnasser"},"score":0,"creation_date":1656372913,"post_id":72779198,"comment_id":128551407,"body_markdown":"Additionally, a static field is one that&#39;s defined in the containing class&#39;s scope. That is, there&#39;s basically only one version of that instance per class. It&#39;s the most common way to implement the singleton pattern: have an instance of your object as a static field.","body":"Additionally, a static field is one that&#39;s defined in the containing class&#39;s scope. That is, there&#39;s basically only one version of that instance per class. It&#39;s the most common way to implement the singleton pattern: have an instance of your object as a static field."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656373914,"post_id":72779198,"comment_id":128551563,"body_markdown":"@MoatazAbdelnasser A static field is a field that is defined as `static`. Not all fields defined at class scope are static.","body":"@MoatazAbdelnasser A static field is a field that is defined as <code>static</code>. Not all fields defined at class scope are static."},{"owner":{"account_id":8657191,"reputation":452,"user_id":6481061,"display_name":"Moataz Abdelnasser"},"score":0,"creation_date":1656374664,"post_id":72779198,"comment_id":128551679,"body_markdown":"@user207421 It seems I&#39;ve used the wrong wording. Scope rather means  visibility/validity and not uniqueness. What I meant was that static fields are per-class variables rather than per-instance variables. Thanks for the correction!","body":"@user207421 It seems I&#39;ve used the wrong wording. Scope rather means  visibility/validity and not uniqueness. What I meant was that static fields are per-class variables rather than per-instance variables. Thanks for the correction!"},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1656376160,"post_id":72779198,"comment_id":128551884,"body_markdown":"@Moataz Abdelnasser\nAre you certain I can do something like `rivate static final ItemService service = new ItemService()`? I am not sure I can since my constructor is private. I understand the part where you say I am expected to do something like `ItemService.getItemService()` that being said.","body":"@Moataz Abdelnasser Are you certain I can do something like <code>rivate static final ItemService service = new ItemService()</code>? I am not sure I can since my constructor is private. I understand the part where you say I am expected to do something like <code>ItemService.getItemService()</code> that being said."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656376354,"post_id":72779198,"comment_id":128551916,"body_markdown":"@EbillsonGRANDJEAN In the time it took you to formulate that question, which may never be answered, you could have tried it and answered it for yourself. Asking trivial questions here is not an efficient procedure.","body":"@EbillsonGRANDJEAN In the time it took you to formulate that question, which may never be answered, you could have tried it and answered it for yourself. Asking trivial questions here is not an efficient procedure."},{"owner":{"account_id":8657191,"reputation":452,"user_id":6481061,"display_name":"Moataz Abdelnasser"},"score":0,"creation_date":1656376476,"post_id":72779198,"comment_id":128551929,"body_markdown":"@EbillsonGRANDJEAN You&#39;ll define the `service` field *inside* the class and return it from `getItemService`. A private constructor can certainly be called inside the defining class.","body":"@EbillsonGRANDJEAN You&#39;ll define the <code>service</code> field <i>inside</i> the class and return it from <code>getItemService</code>. A private constructor can certainly be called inside the defining class."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1656376690,"post_id":72779198,"comment_id":128551954,"body_markdown":"@user207421 I had already tried it when I asked the question. I was just looking for clarity and I wanted to reach a specific point which is when I declare a list as `List&lt;Item&gt; list = new ArrayList()&lt;&gt;;`  why should I add the `static` keyword in front of it and should that variable be delcared as private or public? Again I am trying to have great understanding there. My code is already working but I want to know how and why.","body":"@user207421 I had already tried it when I asked the question. I was just looking for clarity and I wanted to reach a specific point which is when I declare a list as <code>List&lt;Item&gt; list = new ArrayList()&lt;&gt;;</code>  why should I add the <code>static</code> keyword in front of it and should that variable be delcared as private or public? Again I am trying to have great understanding there. My code is already working but I want to know how and why."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1656377065,"post_id":72779198,"comment_id":128552005,"body_markdown":"@Moataz Abdelnasser Ok, I got it. Thank you.","body":"@Moataz Abdelnasser Ok, I got it. Thank you."},{"owner":{"account_id":8657191,"reputation":452,"user_id":6481061,"display_name":"Moataz Abdelnasser"},"score":2,"creation_date":1656377107,"post_id":72779198,"comment_id":128552011,"body_markdown":"I believe what @user207421 meant was that you should try to find answers for your questions before posting them here. This is pretty basic stuff, for which google will certainly do. Just google &#39;What is a static variable in Java&#39;.","body":"I believe what @user207421 meant was that you should try to find answers for your questions before posting them here. This is pretty basic stuff, for which google will certainly do. Just google &#39;What is a static variable in Java&#39;."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1656377411,"post_id":72779198,"comment_id":128552054,"body_markdown":"@Moataz Abdelnasser I got it. I had already googled it. I just tend to value interactions more than reading. Anyway thanks to @@user207421 as well","body":"@Moataz Abdelnasser I got it. I had already googled it. I just tend to value interactions more than reading. Anyway thanks to @@user207421 as well"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656378876,"post_id":72779198,"comment_id":128552220,"body_markdown":"If you had already tried it you would have known that it was possible. So why exactly did you ask whether it was possible? Or else you didn&#39;t try it, and you should have. All this is the sort of time-wasting that I am trying to train you out of. It simply does not make sense to ask a question you can answer 100% correctly for yourself. You might never get an answer; you might get a wrong answer; or you might get several different answers with no way to choose between them ... except trying it for yourself.","body":"If you had already tried it you would have known that it was possible. So why exactly did you ask whether it was possible? Or else you didn&#39;t try it, and you should have. All this is the sort of time-wasting that I am trying to train you out of. It simply does not make sense to ask a question you can answer 100% correctly for yourself. You might never get an answer; you might get a wrong answer; or you might get several different answers with no way to choose between them ... except trying it for yourself."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1656385160,"post_id":72779198,"comment_id":128553084,"body_markdown":"@user207421 For the sake of time management you are right","body":"@user207421 For the sake of time management you are right"},{"owner":{"account_id":2395641,"reputation":349,"user_id":2094491,"display_name":"alexcorghencea"},"score":1,"creation_date":1660733856,"post_id":72779198,"comment_id":129600985,"body_markdown":"I believe you question is about OOP. We should think of classes as objects first. What object is a Item? What is an Item Service? What a service does? Abstracted all from real world. Lets take a exact item: a laptop. Ok, makes sense. What is a LaptopService than, what methods does it have? Does it repair only laptops or phones also? Can it be divided in several services? Can we have a ElectronicDevicesService that is abstract and has a repair method, and a LaptopService that implements it?\n- Will be better for service methods to have objects as paramethers of laptop if it is a LaptopService.","body":"I believe you question is about OOP. We should think of classes as objects first. What object is a Item? What is an Item Service? What a service does? Abstracted all from real world. Lets take a exact item: a laptop. Ok, makes sense. What is a LaptopService than, what methods does it have? Does it repair only laptops or phones also? Can it be divided in several services? Can we have a ElectronicDevicesService that is abstract and has a repair method, and a LaptopService that implements it? - Will be better for service methods to have objects as paramethers of laptop if it is a LaptopService."}],"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1660769691,"creation_date":1656371914,"question_id":72779198,"body_markdown":"Let&#39;s say I&#39;m working on a class called `ItemService` and I am asked to create those methods inside `ItemService`:\r\n\r\n    public void addItem(String param1, String param2)\r\n    public Item getItem(String param1)\r\n    public Collection&lt;Item&gt; getAllItems()\r\n\r\nIt starts getting confusing, when I am asked to provide a static reference and when I am said that this will make my service singleton objects, those two things are a little fuzzy for me. I would appreciate if someone could enlighten me. I am trying to understand core OOP concepts of Java.","title":"What does it mean to provide a static reference in the context of a Java Program?","body":"<p>Let's say I'm working on a class called <code>ItemService</code> and I am asked to create those methods inside <code>ItemService</code>:</p>\n<pre><code>public void addItem(String param1, String param2)\npublic Item getItem(String param1)\npublic Collection&lt;Item&gt; getAllItems()\n</code></pre>\n<p>It starts getting confusing, when I am asked to provide a static reference and when I am said that this will make my service singleton objects, those two things are a little fuzzy for me. I would appreciate if someone could enlighten me. I am trying to understand core OOP concepts of Java.</p>\n"},{"tags":["java","maven","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660769548,"creation_date":1660769548,"answer_id":73394762,"question_id":73394344,"body_markdown":"You&#39;ll have to write custom code for this. Fortunately this is relatively easy with the JUnit Platform API (JUnit 5).\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#rerunning-failed-scenarios\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.junit.platform.engine.discovery.DiscoverySelectors;\r\nimport org.junit.platform.engine.discovery.UniqueIdSelector;\r\nimport org.junit.platform.launcher.Launcher;\r\nimport org.junit.platform.launcher.LauncherDiscoveryRequest;\r\nimport org.junit.platform.launcher.TestIdentifier;\r\nimport org.junit.platform.launcher.core.LauncherFactory;\r\nimport org.junit.platform.launcher.listeners.SummaryGeneratingListener;\r\nimport org.junit.platform.launcher.listeners.TestExecutionSummary.Failure;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static org.junit.platform.engine.discovery.DiscoverySelectors.selectDirectory;\r\nimport static org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder.request;\r\n\r\npublic class RunCucumber {\r\n\r\n   public static void main(String[] args) {\r\n\r\n      LauncherDiscoveryRequest request = request()\r\n              .selectors(\r\n                      selectDirectory(&quot;path/to/features&quot;)\r\n              )\r\n              .build();\r\n\r\n      Launcher launcher = LauncherFactory.create();\r\n      SummaryGeneratingListener listener = new SummaryGeneratingListener();\r\n      launcher.registerTestExecutionListeners(listener);\r\n      launcher.execute(request);\r\n\r\n      TestExecutionSummary summary = listener.getSummary();\r\n      // Do something with summary\r\n\r\n      List&lt;UniqueIdSelector&gt; failures = summary.getFailures().stream()\r\n              .map(Failure::getTestIdentifier)\r\n              .filter(TestIdentifier::isTest)\r\n              // Filter more to select scenarios to rerun\r\n              .map(TestIdentifier::getUniqueId)\r\n              .map(DiscoverySelectors::selectUniqueId)\r\n              .collect(Collectors.toList());\r\n\r\n      LauncherDiscoveryRequest rerunRequest = request()\r\n              .selectors(failures)\r\n              .build();\r\n\r\n      launcher.execute(rerunRequest);\r\n\r\n      TestExecutionSummary rerunSummary = listener.getSummary();\r\n      // Do something with rerunSummary\r\n\r\n   }\r\n\r\n}\r\n```","title":"How to Rerun a Particular Cucumber Scenario when it Fails with Cucumber","body":"<p>You'll have to write custom code for this. Fortunately this is relatively easy with the JUnit Platform API (JUnit 5).</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#rerunning-failed-scenarios\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#rerunning-failed-scenarios</a></p>\n<pre><code>package com.example;\n\nimport org.junit.platform.engine.discovery.DiscoverySelectors;\nimport org.junit.platform.engine.discovery.UniqueIdSelector;\nimport org.junit.platform.launcher.Launcher;\nimport org.junit.platform.launcher.LauncherDiscoveryRequest;\nimport org.junit.platform.launcher.TestIdentifier;\nimport org.junit.platform.launcher.core.LauncherFactory;\nimport org.junit.platform.launcher.listeners.SummaryGeneratingListener;\nimport org.junit.platform.launcher.listeners.TestExecutionSummary.Failure;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport static org.junit.platform.engine.discovery.DiscoverySelectors.selectDirectory;\nimport static org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder.request;\n\npublic class RunCucumber {\n\n   public static void main(String[] args) {\n\n      LauncherDiscoveryRequest request = request()\n              .selectors(\n                      selectDirectory(&quot;path/to/features&quot;)\n              )\n              .build();\n\n      Launcher launcher = LauncherFactory.create();\n      SummaryGeneratingListener listener = new SummaryGeneratingListener();\n      launcher.registerTestExecutionListeners(listener);\n      launcher.execute(request);\n\n      TestExecutionSummary summary = listener.getSummary();\n      // Do something with summary\n\n      List&lt;UniqueIdSelector&gt; failures = summary.getFailures().stream()\n              .map(Failure::getTestIdentifier)\n              .filter(TestIdentifier::isTest)\n              // Filter more to select scenarios to rerun\n              .map(TestIdentifier::getUniqueId)\n              .map(DiscoverySelectors::selectUniqueId)\n              .collect(Collectors.toList());\n\n      LauncherDiscoveryRequest rerunRequest = request()\n              .selectors(failures)\n              .build();\n\n      launcher.execute(rerunRequest);\n\n      TestExecutionSummary rerunSummary = listener.getSummary();\n      // Do something with rerunSummary\n\n   }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user17953271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660769548,"creation_date":1660766739,"question_id":73394344,"body_markdown":"I know how to use two runner classes to rerun failed scenarios, but I want this feature only for one test. \r\n\r\nLet&#39;s say that I have 100 scenarios and I only want to rerun scenario 40 when it fails, but if any other scenaria fails, I don&#39;t want it to rerun. Is there a way to implement this for one test in particular?\r\n\r\nTo see how to rerun all failed scenarios, check out this question:\r\nhttps://stackoverflow.com/questions/11719898/how-to-rerun-the-failed-scenarios-using-cucumber","title":"How to Rerun a Particular Cucumber Scenario when it Fails with Cucumber","body":"<p>I know how to use two runner classes to rerun failed scenarios, but I want this feature only for one test.</p>\n<p>Let's say that I have 100 scenarios and I only want to rerun scenario 40 when it fails, but if any other scenaria fails, I don't want it to rerun. Is there a way to implement this for one test in particular?</p>\n<p>To see how to rerun all failed scenarios, check out this question:\n<a href=\"https://stackoverflow.com/questions/11719898/how-to-rerun-the-failed-scenarios-using-cucumber\">How to rerun the failed scenarios using Cucumber?</a></p>\n"},{"tags":["java","methods","parameters","uml","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660756338,"creation_date":1660755699,"answer_id":73392372,"question_id":73392258,"body_markdown":"Simple demo of what your implementation can accomplish.\r\n\r\nThe `MyInteger` objects passed as parameters (`m` and `n`) can be modified by the implementation of `getTwoIntegers` using the `setInteger` method of the class.\r\n\r\n\tpublic class Main\r\n\t{\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tMyInteger a = new MyInteger(333);\r\n\t\t\tMyInteger b = new MyInteger(444);\r\n\t\t\tSystem.out.println(&quot;before: &quot; + a.getInteger() + &quot;,&quot; + b.getInteger());\r\n\t\t\t\r\n\t\t\tgetTwoIntegers(a,b);\r\n\t\t\tSystem.out.println(&quot;after: &quot; + a.getInteger() + &quot;,&quot; + b.getInteger());\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class MyInteger {\r\n\t\t\tprivate int val;\r\n\t\t\tpublic MyInteger() { val = 0; }\r\n\t\t\tpublic MyInteger(int v) { val = v; }\r\n\t\t\tpublic void setInteger(int n) { this.val = n; }\r\n\t\t\tpublic int getInteger() { return val; }\r\n\t\t}\r\n\t\t\r\n\t\tstatic void getTwoIntegers(MyInteger m, MyInteger n) {\r\n\t\t\t// in your case modify implementation to produce random numbers\r\n\t\t\tm.setInteger(222);\r\n\t\t\tn.setInteger(555);\r\n\t\t}\r\n\t}\r\n\r\nPrints:\r\n\r\n    before: 333,444\r\n    after: 222,555\r\n\r\n","title":"Java method that produces an object","body":"<p>Simple demo of what your implementation can accomplish.</p>\n<p>The <code>MyInteger</code> objects passed as parameters (<code>m</code> and <code>n</code>) can be modified by the implementation of <code>getTwoIntegers</code> using the <code>setInteger</code> method of the class.</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n\n        MyInteger a = new MyInteger(333);\n        MyInteger b = new MyInteger(444);\n        System.out.println(&quot;before: &quot; + a.getInteger() + &quot;,&quot; + b.getInteger());\n        \n        getTwoIntegers(a,b);\n        System.out.println(&quot;after: &quot; + a.getInteger() + &quot;,&quot; + b.getInteger());\n        \n    }\n    \n    public static class MyInteger {\n        private int val;\n        public MyInteger() { val = 0; }\n        public MyInteger(int v) { val = v; }\n        public void setInteger(int n) { this.val = n; }\n        public int getInteger() { return val; }\n    }\n    \n    static void getTwoIntegers(MyInteger m, MyInteger n) {\n        // in your case modify implementation to produce random numbers\n        m.setInteger(222);\n        n.setInteger(555);\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>before: 333,444\nafter: 222,555\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1660769542,"creation_date":1660762310,"answer_id":73393595,"question_id":73392258,"body_markdown":"[Gardener][1]&#39;s answer nailed it.  For the records, I&#39;d like to share some more thoughts.  \r\n\r\nThis class diagram is misleading.  The parameters of an UML operation have a *direction* that should be indicated in front of the parameter name.  It can be `in`, `out`, `inout`.  If the direction is omitted in the diagram, UML assumes that it&#39;s an `in` argument.  Which assumes that the parameter is not muted by the operation.    \r\n\r\nIf it would have been correctly specified as `getTwoIntegers(out m: MyInteger, out n: MyInteger)` (yes, UML syntax order is slightly different from Java),  you would have understood that the values of m and n are provided for the output of the values of the operation, and not as input.  And indeed, as Gardener explained, in Java you can provide a class object  that can then be mutated to store the results; because class objects are passed by reference (i.e. it&#39;s the same object that is used and not a copy). This is by the way why a class `MyInteger` is used in this lab instead of a built-in type `int`.    \r\n\r\nOther unrelated UML remarks:  there is no `static` type modifier keyword in UML.  Either is it marked as `{static}` or is it underlined.  Last but not least,  there should be no multiplicity on a dashed dependency arrow. Multiplicities are for associations, i.e. structural relationships.   \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73392372/3723423","title":"Java method that produces an object","body":"<p><a href=\"https://stackoverflow.com/a/73392372/3723423\">Gardener</a>'s answer nailed it.  For the records, I'd like to share some more thoughts.</p>\n<p>This class diagram is misleading.  The parameters of an UML operation have a <em>direction</em> that should be indicated in front of the parameter name.  It can be <code>in</code>, <code>out</code>, <code>inout</code>.  If the direction is omitted in the diagram, UML assumes that it's an <code>in</code> argument.  Which assumes that the parameter is not muted by the operation.</p>\n<p>If it would have been correctly specified as <code>getTwoIntegers(out m: MyInteger, out n: MyInteger)</code> (yes, UML syntax order is slightly different from Java),  you would have understood that the values of m and n are provided for the output of the values of the operation, and not as input.  And indeed, as Gardener explained, in Java you can provide a class object  that can then be mutated to store the results; because class objects are passed by reference (i.e. it's the same object that is used and not a copy). This is by the way why a class <code>MyInteger</code> is used in this lab instead of a built-in type <code>int</code>.</p>\n<p>Other unrelated UML remarks:  there is no <code>static</code> type modifier keyword in UML.  Either is it marked as <code>{static}</code> or is it underlined.  Last but not least,  there should be no multiplicity on a dashed dependency arrow. Multiplicities are for associations, i.e. structural relationships.</p>\n"}],"owner":{"account_id":22253864,"reputation":41,"user_id":16486325,"display_name":"nguyenquocan01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1660769542,"creation_date":1660755143,"question_id":73392258,"body_markdown":"I have to follow the below UML diagram to design a programme. \r\n\r\nThe programme is supposed to generate 2 random integers, and ask user for input the answer to the sum of said integers.\r\n\r\nHowever, I am not sure how to make use of the method `static void getTwoIntegers(MyInteger m, MyInteger n)` , or what to put inside it. \r\n\r\nI have tried initialising 2 `MyInteger` objects with `MyInteger int_1 = new MyInteger(m);` and `(n)` in this method, but get a &quot;cannot be resolved&quot; error everytime I call its getter method `int_1.getInteger();`\r\n\r\nAnd since the method `getTwoIntegers` is void, I cannot just return 2 random integers.  I&#39;m truly stuck on how to utilise this method\r\n\r\nAny ideas? Thanks so much\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4aEJW.png","title":"Java method that produces an object","body":"<p>I have to follow the below UML diagram to design a programme.</p>\n<p>The programme is supposed to generate 2 random integers, and ask user for input the answer to the sum of said integers.</p>\n<p>However, I am not sure how to make use of the method <code>static void getTwoIntegers(MyInteger m, MyInteger n)</code> , or what to put inside it.</p>\n<p>I have tried initialising 2 <code>MyInteger</code> objects with <code>MyInteger int_1 = new MyInteger(m);</code> and <code>(n)</code> in this method, but get a &quot;cannot be resolved&quot; error everytime I call its getter method <code>int_1.getInteger();</code></p>\n<p>And since the method <code>getTwoIntegers</code> is void, I cannot just return 2 random integers.  I'm truly stuck on how to utilise this method</p>\n<p>Any ideas? Thanks so much</p>\n<p><a href=\"https://i.stack.imgur.com/4aEJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4aEJW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hashmap","java-stream","anonymous-class"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1658174130,"post_id":73027825,"comment_id":128981623,"body_markdown":"Is `AuditSubType` an enum?","body":"Is <code>AuditSubType</code> an enum?"},{"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"score":0,"creation_date":1658174783,"post_id":73027825,"comment_id":128981804,"body_markdown":"Yes @Eritrean Its an Enum","body":"Yes @Eritrean Its an Enum"},{"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"score":0,"creation_date":1658174863,"post_id":73027825,"comment_id":128981825,"body_markdown":"@user16320675 - Could you please give me a code example as to how I can use it without DBI, since I am using Stream.of","body":"@user16320675 - Could you please give me a code example as to how I can use it without DBI, since I am using Stream.of"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658176562,"creation_date":1658175118,"answer_id":73028080,"question_id":73027825,"body_markdown":"Assuming your enum looks something like this:\r\n\r\n    public enum AuditSubType {\r\n         FOO(&quot;123&quot;),\r\n         BAR(&quot;456&quot;),\r\n         BAZ(&quot;789&quot;);\r\n\r\n         public String code;\r\n\r\n         AuditSubType(String code){\r\n             this.code = code;\r\n         }\r\n         String getCode(){\r\n             return code;\r\n         }\r\n    }\r\n\r\nThen just use `Stream.collect(Collectors.toMap())`\r\n\r\n    Map&lt;String,String&gt; subTypes = \r\n           Stream.of(AuditSubType.values())\r\n                 .collect(Collectors.toMap(AuditSubType::getCode,AuditSubType::name));\r\n\r\nor use `EnumSet.allOf`\r\n\r\n    Map&lt;String,String&gt; subTypes = \r\n           EnumSet.allOf(AuditSubType.class)\r\n                  .stream()\r\n                  .collect(Collectors.toMap(AuditSubType::getCode,AuditSubType::name));","title":"Reimplement the Double Brace Initialization of the HashMap","body":"<p>Assuming your enum looks something like this:</p>\n<pre><code>public enum AuditSubType {\n     FOO(&quot;123&quot;),\n     BAR(&quot;456&quot;),\n     BAZ(&quot;789&quot;);\n\n     public String code;\n\n     AuditSubType(String code){\n         this.code = code;\n     }\n     String getCode(){\n         return code;\n     }\n}\n</code></pre>\n<p>Then just use <code>Stream.collect(Collectors.toMap())</code></p>\n<pre><code>Map&lt;String,String&gt; subTypes = \n       Stream.of(AuditSubType.values())\n             .collect(Collectors.toMap(AuditSubType::getCode,AuditSubType::name));\n</code></pre>\n<p>or use <code>EnumSet.allOf</code></p>\n<pre><code>Map&lt;String,String&gt; subTypes = \n       EnumSet.allOf(AuditSubType.class)\n              .stream()\n              .collect(Collectors.toMap(AuditSubType::getCode,AuditSubType::name));\n</code></pre>\n"}],"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1658176436,"answer_count":1,"score":0,"last_activity_date":1660769501,"creation_date":1658173704,"question_id":73027825,"body_markdown":"I have an enum `AuditType`.\r\n\r\nAnd there&#39;s a map `Map&lt;String, String&gt;` (class field) which needs to be initialized by iterating over the `AuditType` constants and populated based on the *if-else* condition.\r\n\r\nIt has been implemented using a complicated double bracket initialization (*I haven&#39;t actually wrote this code*).\r\n\r\nNow I&#39;m trying to fix the Sonar&#39;s coverage because it complains that I need to use another way to initialize this map.\r\n\r\n*Code:*\r\n```\r\nMap&lt;String, String&gt; SUBTYPES = new HashMap&lt;String, String&gt;() {\r\n    {\r\n        Stream.of(AuditSubType.values()).forEach(auditType -&gt; put(auditType.getCode(), auditType.name()));\r\n    }\r\n};\r\n```\r\n\r\nThere is another complicated Double Brace Initialization:\r\n\r\n```\r\nMap&lt;String, String&gt; TYPES = new HashMap&lt;String, String&gt;() {\r\n    {\r\n        Stream.of(AuditType.values()).forEach(eventType -&gt; {\r\n            if (AuditType.ACCOUNT_RECORD.equals(auditType)) {\r\n                put(AuditCodes.Type.ACCOUNT_ACTIVITY.getCode(), auditType.name());\r\n            } else {\r\n                String ssCode = AuditCodes.Type.valueOf(auditType.name()).getCode();\r\n                put(ssCode, auditType.name());\r\n            }\r\n        });\r\n    }\r\n};\r\n```\r\n\r\nSonar complaints saying *&quot;Use another way to initialize this instance&quot;*.\r\n\r\nIs there a way to write it without the double bracket initialization?","title":"Reimplement the Double Brace Initialization of the HashMap","body":"<p>I have an enum <code>AuditType</code>.</p>\n<p>And there's a map <code>Map&lt;String, String&gt;</code> (class field) which needs to be initialized by iterating over the <code>AuditType</code> constants and populated based on the <em>if-else</em> condition.</p>\n<p>It has been implemented using a complicated double bracket initialization (<em>I haven't actually wrote this code</em>).</p>\n<p>Now I'm trying to fix the Sonar's coverage because it complains that I need to use another way to initialize this map.</p>\n<p><em>Code:</em></p>\n<pre><code>Map&lt;String, String&gt; SUBTYPES = new HashMap&lt;String, String&gt;() {\n    {\n        Stream.of(AuditSubType.values()).forEach(auditType -&gt; put(auditType.getCode(), auditType.name()));\n    }\n};\n</code></pre>\n<p>There is another complicated Double Brace Initialization:</p>\n<pre><code>Map&lt;String, String&gt; TYPES = new HashMap&lt;String, String&gt;() {\n    {\n        Stream.of(AuditType.values()).forEach(eventType -&gt; {\n            if (AuditType.ACCOUNT_RECORD.equals(auditType)) {\n                put(AuditCodes.Type.ACCOUNT_ACTIVITY.getCode(), auditType.name());\n            } else {\n                String ssCode = AuditCodes.Type.valueOf(auditType.name()).getCode();\n                put(ssCode, auditType.name());\n            }\n        });\n    }\n};\n</code></pre>\n<p>Sonar complaints saying <em>&quot;Use another way to initialize this instance&quot;</em>.</p>\n<p>Is there a way to write it without the double bracket initialization?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8890,"page":1102,"page_size":100}
