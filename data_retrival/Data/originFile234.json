{"items":[{"tags":["java","json","parsing","collections"],"comments":[{"owner":{"account_id":3483804,"reputation":10869,"user_id":2915208,"accept_rate":25,"display_name":"Vikas Gupta"},"score":3,"creation_date":1414748629,"post_id":443499,"comment_id":41943429,"body_markdown":"I have written code for this without using any library.\n\nhttp://stackoverflow.com/questions/21720759/jsonobject-to-map/24012023#24012023","body":"I have written code for this without using any library.  <a href=\"http://stackoverflow.com/questions/21720759/jsonobject-to-map/24012023#24012023\" title=\"jsonobject to map\">stackoverflow.com/questions/21720759/jsonobject-to-map/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475767329,"creation_date":1234606013,"answer_id":548871,"question_id":443499,"body_markdown":"The JsonTools library is very complete. It can be found at [Github][1].\r\n\r\n\r\n  [1]: https://github.com/branscha/lib-jsontools","title":"Convert JSON to Map","body":"<p>The JsonTools library is very complete. It can be found at <a href=\"https://github.com/branscha/lib-jsontools\" rel=\"nofollow noreferrer\">Github</a>.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":2,"up_vote_count":439,"is_accepted":true,"score":437,"last_activity_date":1592761607,"creation_date":1235509916,"answer_id":583634,"question_id":443499,"body_markdown":"I hope you were joking about writing your own parser. :-)\r\n\r\nFor such a simple mapping, most tools from http://json.org (section java) would work.\r\nFor one of them (Jackson https://github.com/FasterXML/jackson-databind/#5-minute-tutorial-streaming-parser-generator), you&#39;d do:\r\n\r\n    Map&lt;String,Object&gt; result =\r\n            new ObjectMapper().readValue(JSON_SOURCE, HashMap.class);\r\n\r\n(where JSON_SOURCE is a File, input stream, reader, or json content String)\r\n","title":"Convert JSON to Map","body":"<p>I hope you were joking about writing your own parser. :-)</p>\n<p>For such a simple mapping, most tools from <a href=\"http://json.org\" rel=\"noreferrer\">http://json.org</a> (section java) would work.\nFor one of them (Jackson <a href=\"https://github.com/FasterXML/jackson-databind/#5-minute-tutorial-streaming-parser-generator\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/#5-minute-tutorial-streaming-parser-generator</a>), you'd do:</p>\n<pre><code>Map&lt;String,Object&gt; result =\n        new ObjectMapper().readValue(JSON_SOURCE, HashMap.class);\n</code></pre>\n<p>(where JSON_SOURCE is a File, input stream, reader, or json content String)</p>\n"},{"tags":[],"owner":{"display_name":"sadhasivam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1244822639,"creation_date":1244822639,"answer_id":987524,"question_id":443499,"body_markdown":"JSON to Map always gonna be a string/object data type. i haved GSON lib from google.\r\n\r\nworks very well and JDK 1.5 is  the min requirement.","title":"Convert JSON to Map","body":"<p>JSON to Map always gonna be a string/object data type. i haved GSON lib from google.</p>\n\n<p>works very well and JDK 1.5 is  the min requirement.</p>\n"},{"tags":[],"owner":{"account_id":668282,"reputation":199,"user_id":503829,"display_name":"j.d."},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1421254705,"creation_date":1289426559,"answer_id":4149555,"question_id":443499,"body_markdown":"Use JSON lib E.g. http://www.json.org/java/\r\n\r\n    // Assume you have a Map&lt;String, String&gt; in JSONObject jdata\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Iterator&lt;String&gt; nameItr = jdata.keys();\r\n    Map&lt;String, String&gt; outMap = new HashMap&lt;String, String&gt;();\r\n    while(nameItr.hasNext()) {\r\n        String name = nameItr.next();\r\n        outMap.put(name, jdata.getString(name));\r\n\r\n    }","title":"Convert JSON to Map","body":"<p>Use JSON lib E.g. <a href=\"http://www.json.org/java/\" rel=\"noreferrer\">http://www.json.org/java/</a></p>\n\n<pre><code>// Assume you have a Map&lt;String, String&gt; in JSONObject jdata\n@SuppressWarnings(\"unchecked\")\nIterator&lt;String&gt; nameItr = jdata.keys();\nMap&lt;String, String&gt; outMap = new HashMap&lt;String, String&gt;();\nwhile(nameItr.hasNext()) {\n    String name = nameItr.next();\n    outMap.put(name, jdata.getString(name));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1040909,"reputation":507,"user_id":1046954,"display_name":"David L"},"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1547473615,"creation_date":1321338348,"answer_id":8132308,"question_id":443499,"body_markdown":"Using the GSON library: \r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.common.reflect.TypeToken;\r\n    import java.lang.reclect.Type;\r\n\r\nUse the following code:\r\n\r\n    Type mapType = new TypeToken&lt;Map&lt;String, Map&gt;&gt;(){}.getType();  \r\n    Map&lt;String, String[]&gt; son = new Gson().fromJson(easyString, mapType);\r\n","title":"Convert JSON to Map","body":"<p>Using the GSON library: </p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.common.reflect.TypeToken;\nimport java.lang.reclect.Type;\n</code></pre>\n\n<p>Use the following code:</p>\n\n<pre><code>Type mapType = new TypeToken&lt;Map&lt;String, Map&gt;&gt;(){}.getType();  \nMap&lt;String, String[]&gt; son = new Gson().fromJson(easyString, mapType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"down_vote_count":3,"up_vote_count":40,"is_accepted":false,"score":37,"last_activity_date":1322734531,"creation_date":1322734531,"answer_id":8339656,"question_id":443499,"body_markdown":"I like [google gson][1] library.&lt;br&gt;\r\nWhen you don&#39;t know structure of json. You can use\r\n\r\n    JsonElement root = new JsonParser().parse(jsonString);\r\n\r\nand then you can work with json. e.g. how to get &quot;value1&quot; from your gson:\r\n\r\n    String value1 = root.getAsJsonObject().get(&quot;data&quot;).getAsJsonObject().get(&quot;field1&quot;).getAsString();\r\n\r\n  [1]: http://code.google.com/p/google-gson/","title":"Convert JSON to Map","body":"<p>I like <a href=\"http://code.google.com/p/google-gson/\" rel=\"noreferrer\">google gson</a> library.<br>\nWhen you don't know structure of json. You can use</p>\n\n<pre><code>JsonElement root = new JsonParser().parse(jsonString);\n</code></pre>\n\n<p>and then you can work with json. e.g. how to get \"value1\" from your gson:</p>\n\n<pre><code>String value1 = root.getAsJsonObject().get(\"data\").getAsJsonObject().get(\"field1\").getAsString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":205537,"reputation":131,"user_id":454345,"display_name":"Fabio Araujo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516705237,"creation_date":1325676134,"answer_id":8726007,"question_id":443499,"body_markdown":"This way its works like a Map...\r\n\r\n    JSONObject fieldsJson = new JSONObject(json);\r\n    String value = fieldsJson.getString(key);\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Convert JSON to Map","body":"<p>This way its works like a Map...</p>\n\n<pre><code>JSONObject fieldsJson = new JSONObject(json);\nString value = fieldsJson.getString(key);\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n    &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4157022,"reputation":41,"user_id":3408029,"display_name":"newMaziar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1407939009,"creation_date":1407939009,"answer_id":25288414,"question_id":443499,"body_markdown":"    java.lang.reflect.Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n\tGson gson = new Gson();\r\n\tMap&lt;String, Object&gt; categoryicons = gson.fromJson(json, mapType );","title":"Convert JSON to Map","body":"<pre><code>java.lang.reflect.Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\nGson gson = new Gson();\nMap&lt;String, Object&gt; categoryicons = gson.fromJson(json, mapType );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1439883995,"creation_date":1439883995,"answer_id":32066515,"question_id":443499,"body_markdown":"My post could be helpful for others, so imagine you have a map with a specific object in values, something like that:\r\n\r\n    {  \r\n       &quot;shopping_list&quot;:{  \r\n          &quot;996386&quot;:{  \r\n             &quot;id&quot;:996386,\r\n             &quot;label&quot;:&quot;My 1st shopping list&quot;,\r\n             &quot;current&quot;:true,\r\n             &quot;nb_reference&quot;:6\r\n          },\r\n          &quot;888540&quot;:{  \r\n             &quot;id&quot;:888540,\r\n             &quot;label&quot;:&quot;My 2nd shopping list&quot;,\r\n             &quot;current&quot;:false,\r\n             &quot;nb_reference&quot;:2\r\n          }\r\n       }\r\n    }\r\n\r\nTo parse this JSON file with GSON library, it&#39;s easy :\r\nif your project is mavenized\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen use this snippet :\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n    \r\n    //Read the JSON file\r\n    JsonElement root = new JsonParser().parse(new FileReader(&quot;/path/to/the/json/file/in/your/file/system.json&quot;));\r\n    \r\n    //Get the content of the first map\r\n    JsonObject object = root.getAsJsonObject().get(&quot;shopping_list&quot;).getAsJsonObject();\r\n    \r\n    //Iterate over this map\r\n    Gson gson = new Gson();\r\n    for (Entry&lt;String, JsonElement&gt; entry : object.entrySet()) {\r\n    \tShoppingList shoppingList = gson.fromJson(entry.getValue(), ShoppingList.class);\r\n    \tSystem.out.println(shoppingList.getLabel());\r\n    }\r\n\r\nThe corresponding POJO should be something like that :\r\n\r\n    public class ShoppingList {\r\n    \r\n    \tint id;\r\n    \r\n    \tString label;\r\n    \r\n    \tboolean current;\r\n    \r\n    \tint nb_reference;\r\n    \r\n        //Setters &amp; Getters !!!!!\r\n    }\r\n\r\nHope it helps !","title":"Convert JSON to Map","body":"<p>My post could be helpful for others, so imagine you have a map with a specific object in values, something like that:</p>\n\n<pre><code>{  \n   \"shopping_list\":{  \n      \"996386\":{  \n         \"id\":996386,\n         \"label\":\"My 1st shopping list\",\n         \"current\":true,\n         \"nb_reference\":6\n      },\n      \"888540\":{  \n         \"id\":888540,\n         \"label\":\"My 2nd shopping list\",\n         \"current\":false,\n         \"nb_reference\":2\n      }\n   }\n}\n</code></pre>\n\n<p>To parse this JSON file with GSON library, it's easy :\nif your project is mavenized</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then use this snippet :</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\n//Read the JSON file\nJsonElement root = new JsonParser().parse(new FileReader(\"/path/to/the/json/file/in/your/file/system.json\"));\n\n//Get the content of the first map\nJsonObject object = root.getAsJsonObject().get(\"shopping_list\").getAsJsonObject();\n\n//Iterate over this map\nGson gson = new Gson();\nfor (Entry&lt;String, JsonElement&gt; entry : object.entrySet()) {\n    ShoppingList shoppingList = gson.fromJson(entry.getValue(), ShoppingList.class);\n    System.out.println(shoppingList.getLabel());\n}\n</code></pre>\n\n<p>The corresponding POJO should be something like that :</p>\n\n<pre><code>public class ShoppingList {\n\n    int id;\n\n    String label;\n\n    boolean current;\n\n    int nb_reference;\n\n    //Setters &amp; Getters !!!!!\n}\n</code></pre>\n\n<p>Hope it helps !</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643576937,"creation_date":1452438116,"answer_id":34706883,"question_id":443499,"body_markdown":"[Underscore-java][1] library can convert json string to hash map. I am the maintainer of the project.\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.U;\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static void main(String[] args) {\r\n            String json = &quot;{&quot;\r\n                + &quot;    \\&quot;data\\&quot; :&quot;\r\n                + &quot;    {&quot;\r\n                + &quot;        \\&quot;field1\\&quot; : \\&quot;value1\\&quot;,&quot;\r\n                + &quot;        \\&quot;field2\\&quot; : \\&quot;value2\\&quot;&quot;\r\n                + &quot;    }&quot;\r\n                + &quot;}&quot;;\r\n\r\n           Map&lt;String, Object&gt; data = (Map) U.get((Map&lt;String, Object&gt;) U.fromJson(json), &quot;data&quot;);\r\n           System.out.println(data);\r\n\r\n           // {field1=value1, field2=value2}\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"Convert JSON to Map","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library can convert json string to hash map. I am the maintainer of the project.</p>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.U;\nimport java.util.*;\n\npublic class Main {\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static void main(String[] args) {\n        String json = &quot;{&quot;\n            + &quot;    \\&quot;data\\&quot; :&quot;\n            + &quot;    {&quot;\n            + &quot;        \\&quot;field1\\&quot; : \\&quot;value1\\&quot;,&quot;\n            + &quot;        \\&quot;field2\\&quot; : \\&quot;value2\\&quot;&quot;\n            + &quot;    }&quot;\n            + &quot;}&quot;;\n\n       Map&lt;String, Object&gt; data = (Map) U.get((Map&lt;String, Object&gt;) U.fromJson(json), &quot;data&quot;);\n       System.out.println(data);\n\n       // {field1=value1, field2=value2}\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64278,"reputation":2734,"user_id":189849,"accept_rate":73,"display_name":"pcjuzer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458298736,"creation_date":1458298736,"answer_id":36082630,"question_id":443499,"body_markdown":"One more alternative is [json-simple][1] which can be found in [Maven Central][2]:\r\n\r\n    (JSONObject)JSONValue.parse(someString); //JSONObject is actually a Map.\r\n\r\nThe artifact is 24kbytes, doesn&#39;t have other runtime dependencies.\r\n\r\n  [1]: https://github.com/fangyidong/json-simple/\r\n  [2]: http://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple/1.1.1","title":"Convert JSON to Map","body":"<p>One more alternative is <a href=\"https://github.com/fangyidong/json-simple/\" rel=\"nofollow\">json-simple</a> which can be found in <a href=\"http://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple/1.1.1\" rel=\"nofollow\">Maven Central</a>:</p>\n\n<pre><code>(JSONObject)JSONValue.parse(someString); //JSONObject is actually a Map.\n</code></pre>\n\n<p>The artifact is 24kbytes, doesn't have other runtime dependencies.</p>\n"},{"tags":[],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473659475,"creation_date":1473659475,"answer_id":39444061,"question_id":443499,"body_markdown":"With google&#39;s Gson 2.7 (probably earlier versions too, but I tested 2.7) it&#39;s as simple as:\r\n\r\n    Map map = gson.fromJson(json, Map.class);\r\n\r\nWhich returns a Map of type `class com.google.gson.internal.LinkedTreeMap` and works recursively on nested objects.","title":"Convert JSON to Map","body":"<p>With google's Gson 2.7 (probably earlier versions too, but I tested 2.7) it's as simple as:</p>\n\n<pre><code>Map map = gson.fromJson(json, Map.class);\n</code></pre>\n\n<p>Which returns a Map of type <code>class com.google.gson.internal.LinkedTreeMap</code> and works recursively on nested objects.</p>\n"},{"tags":[],"owner":{"account_id":11099223,"reputation":140,"user_id":8148397,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522907132,"creation_date":1504184262,"answer_id":45982024,"question_id":443499,"body_markdown":"I do it this way. It&#39;s Simple.\r\n\r\n    import java.util.Map;\r\n    import org.json.JSONObject;\r\n    import com.google.gson.Gson;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            JSONObject jsonObj = new JSONObject(&quot;{ \\&quot;f1\\&quot;:\\&quot;v1\\&quot;}&quot;);\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            Map&lt;String, String&gt; map = new Gson().fromJson(jsonObj.toString(),Map.class);\r\n            System.out.println(map);\r\n        }\r\n    }\r\n\r\n","title":"Convert JSON to Map","body":"<p>I do it this way. It's Simple.</p>\n\n<pre><code>import java.util.Map;\nimport org.json.JSONObject;\nimport com.google.gson.Gson;\n\npublic class Main {\n    public static void main(String[] args) {\n        JSONObject jsonObj = new JSONObject(\"{ \\\"f1\\\":\\\"v1\\\"}\");\n        @SuppressWarnings(\"unchecked\")\n        Map&lt;String, String&gt; map = new Gson().fromJson(jsonObj.toString(),Map.class);\n        System.out.println(map);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8253190,"reputation":161,"user_id":6207124,"display_name":"renzherl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509001216,"creation_date":1509001216,"answer_id":46947745,"question_id":443499,"body_markdown":"\r\n\r\n    import net.sf.json.JSONObject\r\n    \r\n    JSONObject.fromObject(yourJsonString).toMap","title":"Convert JSON to Map","body":"<pre><code>import net.sf.json.JSONObject\n\nJSONObject.fromObject(yourJsonString).toMap\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645512,"reputation":173,"user_id":1517117,"display_name":"somtomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585142823,"creation_date":1585142823,"answer_id":60849830,"question_id":443499,"body_markdown":"If you need pure Java without any dependencies, you can use build in Nashorn API from Java 8. **It is deprecated in Java 11.**\r\n\r\nThis is working for me:\r\n\r\n    ...\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptException;\r\n    ...\r\n    \r\n    public class JsonUtils {\r\n\r\n        public static Map parseJSON(String json) throws ScriptException {\r\n            ScriptEngineManager sem = new ScriptEngineManager();\r\n            ScriptEngine engine = sem.getEngineByName(&quot;javascript&quot;);\r\n    \r\n            String script = &quot;Java.asJSONCompatible(&quot; + json + &quot;)&quot;;\r\n    \r\n            Object result = engine.eval(script);\r\n\r\n            return (Map) result;\r\n        }\r\n    }\r\n\r\n**Sample usage**\r\n\r\nJSON:\r\n\r\n    {\r\n        &quot;data&quot;:[\r\n            {&quot;id&quot;:1,&quot;username&quot;:&quot;bruce&quot;},\r\n            {&quot;id&quot;:2,&quot;username&quot;:&quot;clark&quot;},\r\n            {&quot;id&quot;:3,&quot;username&quot;:&quot;diana&quot;}\r\n        ]\r\n    }\r\n\r\nCode:\r\n\r\n    ...\r\n    import jdk.nashorn.internal.runtime.JSONListAdapter;\r\n    ...\r\n\r\n    public static List&lt;String&gt; getUsernamesFromJson(Map json) {\r\n        List&lt;String&gt; result = new LinkedList&lt;&gt;();\r\n\r\n        JSONListAdapter data = (JSONListAdapter) json.get(&quot;data&quot;);\r\n\r\n        for(Object obj : data) {\r\n            Map map = (Map) obj;\r\n            result.add((String) map.get(&quot;username&quot;));\r\n        }\r\n\r\n        return result;\r\n    }","title":"Convert JSON to Map","body":"<p>If you need pure Java without any dependencies, you can use build in Nashorn API from Java 8. <strong>It is deprecated in Java 11.</strong></p>\n\n<p>This is working for me:</p>\n\n<pre><code>...\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n...\n\npublic class JsonUtils {\n\n    public static Map parseJSON(String json) throws ScriptException {\n        ScriptEngineManager sem = new ScriptEngineManager();\n        ScriptEngine engine = sem.getEngineByName(\"javascript\");\n\n        String script = \"Java.asJSONCompatible(\" + json + \")\";\n\n        Object result = engine.eval(script);\n\n        return (Map) result;\n    }\n}\n</code></pre>\n\n<p><strong>Sample usage</strong></p>\n\n<p>JSON:</p>\n\n<pre><code>{\n    \"data\":[\n        {\"id\":1,\"username\":\"bruce\"},\n        {\"id\":2,\"username\":\"clark\"},\n        {\"id\":3,\"username\":\"diana\"}\n    ]\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>...\nimport jdk.nashorn.internal.runtime.JSONListAdapter;\n...\n\npublic static List&lt;String&gt; getUsernamesFromJson(Map json) {\n    List&lt;String&gt; result = new LinkedList&lt;&gt;();\n\n    JSONListAdapter data = (JSONListAdapter) json.get(\"data\");\n\n    for(Object obj : data) {\n        Map map = (Map) obj;\n        result.add((String) map.get(\"username\"));\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7589982,"reputation":187,"user_id":5757934,"display_name":"Omri Levi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585594239,"creation_date":1585594239,"answer_id":60937460,"question_id":443499,"body_markdown":"If you&#39;re using org.json, JSONObject has a method `toMap()`.\r\nYou can easily do:\r\n\r\n    Map&lt;String, Object&gt; myMap = myJsonObject.toMap();\r\n\r\n","title":"Convert JSON to Map","body":"<p>If you're using org.json, JSONObject has a method <code>toMap()</code>.\nYou can easily do:</p>\n\n<pre><code>Map&lt;String, Object&gt; myMap = myJsonObject.toMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13526288,"reputation":41,"user_id":9758022,"display_name":"Braj Thakur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594481794,"creation_date":1594481794,"answer_id":62851192,"question_id":443499,"body_markdown":"Try this code:\r\n\r\n      public static Map&lt;String, Object&gt; convertJsonIntoMap(String jsonFile) {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            try {\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                mapper.configure(DeserializationFeature.UNWRAP_ROOT_VALUE, true);\r\n                mapper.readValue(jsonFile, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n                });\r\n                map = mapper.readValue(jsonFile, new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\r\n                });\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return map;\r\n        }","title":"Convert JSON to Map","body":"<p>Try this code:</p>\n<pre><code>  public static Map&lt;String, Object&gt; convertJsonIntoMap(String jsonFile) {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.configure(DeserializationFeature.UNWRAP_ROOT_VALUE, true);\n            mapper.readValue(jsonFile, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n            });\n            map = mapper.readValue(jsonFile, new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\n            });\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return map;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21991830,"reputation":15,"user_id":16265066,"display_name":"Kumar Gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624074998,"creation_date":1624074998,"answer_id":68043471,"question_id":443499,"body_markdown":"JSON to Map always gonna be a string/object data type. i have GSON lib from google.\r\nGson library working with string not for complex objects you need to do something else\r\n\r\n\r\n","title":"Convert JSON to Map","body":"<p>JSON to Map always gonna be a string/object data type. i have GSON lib from google.\nGson library working with string not for complex objects you need to do something else</p>\n"},{"tags":[],"owner":{"account_id":4225267,"reputation":3413,"user_id":3458933,"accept_rate":75,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660669210,"creation_date":1660669210,"answer_id":73377646,"question_id":443499,"body_markdown":"Try this piece of code, it worked for me,\r\n\r\n    Map&lt;String, Object&gt; retMap = new Gson().fromJson(\r\n                    myJsonString, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\r\n            );","title":"Convert JSON to Map","body":"<p>Try this piece of code, it worked for me,</p>\n<pre><code>Map&lt;String, Object&gt; retMap = new Gson().fromJson(\n                myJsonString, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\n        );\n</code></pre>\n"}],"owner":{"account_id":12285,"reputation":8681,"user_id":24097,"accept_rate":85,"display_name":"David Santamaria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709082,"favorite_count":0,"down_vote_count":0,"up_vote_count":245,"accepted_answer_id":583634,"answer_count":19,"score":245,"last_activity_date":1692681376,"creation_date":1231948838,"question_id":443499,"body_markdown":"What is the best way to convert a JSON code as this:\r\n\r\n    { \r\n        &quot;data&quot; : \r\n        { \r\n            &quot;field1&quot; : &quot;value1&quot;, \r\n            &quot;field2&quot; : &quot;value2&quot;\r\n        }\r\n    }\r\n\r\nin a Java Map in which one the keys are (field1, field2) and the values for those fields are (value1, value2).\r\n\r\nAny ideas? Should I use Json-lib for that? Or better if I write my own parser?\r\n\r\n\r\n","title":"Convert JSON to Map","body":"<p>What is the best way to convert a JSON code as this:</p>\n\n<pre><code>{ \n    \"data\" : \n    { \n        \"field1\" : \"value1\", \n        \"field2\" : \"value2\"\n    }\n}\n</code></pre>\n\n<p>in a Java Map in which one the keys are (field1, field2) and the values for those fields are (value1, value2).</p>\n\n<p>Any ideas? Should I use Json-lib for that? Or better if I write my own parser?</p>\n"},{"tags":["java","spring","spring-boot","visual-studio-code","spring-initializr"],"comments":[{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1692584004,"post_id":76942010,"comment_id":135638558,"body_markdown":"are there any Spring / maven / gradle configuration files you aren&#39;t showing us here?","body":"are there any Spring / maven / gradle configuration files you aren&#39;t showing us here?"},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":0,"creation_date":1692584417,"post_id":76942010,"comment_id":135638580,"body_markdown":"@starball i included the build.gradle. Anything else I needed to include?","body":"@starball i included the build.gradle. Anything else I needed to include?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1692584484,"post_id":76942010,"comment_id":135638589,"body_markdown":"How did you run this prograam? Are you using an IDE or command line? What were the exact steps or command you used?","body":"How did you run this prograam? Are you using an IDE or command line? What were the exact steps or command you used?"},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":1,"creation_date":1692584931,"post_id":76942010,"comment_id":135638627,"body_markdown":"@Code-Apprentice As mentioned in the post, I used VS Code. While I&#39;m inside the TestApplication.java, I clicked the Run Java button (top right play button) and the error comes up.","body":"@Code-Apprentice As mentioned in the post, I used VS Code. While I&#39;m inside the TestApplication.java, I clicked the Run Java button (top right play button) and the error comes up."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1692585225,"post_id":76942010,"comment_id":135638644,"body_markdown":"I&#39;m not familiar with Spring Boot. The problem here might be due to the `@SpringBootApplication` annotation.","body":"I&#39;m not familiar with Spring Boot. The problem here might be due to the <code>@SpringBootApplication</code> annotation."},{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692585377,"post_id":76942010,"comment_id":135638664,"body_markdown":"can you read through https://github.com/microsoft/vscode-java-debug/issues/1207 and see if anything there solves your issue? 1) if workspace state is crashed, `Java: Clean Java Language Server Workspace` in command palette 2) You should not have both Extension Pack for Java and Java language Support extensions installed at the same time 3) check if your maven / gradle build works via commandline. If it doesn&#39;t work via commandline, then your project configuration has issues.","body":"can you read through <a href=\"https://github.com/microsoft/vscode-java-debug/issues/1207\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-java-debug/issues/1207</a> and see if anything there solves your issue? 1) if workspace state is crashed, <code>Java: Clean Java Language Server Workspace</code> in command palette 2) You should not have both Extension Pack for Java and Java language Support extensions installed at the same time 3) check if your maven / gradle build works via commandline. If it doesn&#39;t work via commandline, then your project configuration has issues."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692587664,"post_id":76942010,"comment_id":135638819,"body_markdown":"What does `./gradlew bootRun` give you?","body":"What does <code>.&#47;gradlew bootRun</code> give you?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1692602027,"post_id":76942010,"comment_id":135640297,"body_markdown":"Most probably you are trying to run some random run configuration with the top right play bottom. Try to use Run from the context menu (right mouse click).","body":"Most probably you are trying to run some random run configuration with the top right play bottom. Try to use Run from the context menu (right mouse click)."},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":0,"creation_date":1692603396,"post_id":76942010,"comment_id":135640517,"body_markdown":"@Slaw i added to the post","body":"@Slaw i added to the post"},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":0,"creation_date":1692603400,"post_id":76942010,"comment_id":135640518,"body_markdown":"@Mar-Z it&#39;s the same thing with same result","body":"@Mar-Z it&#39;s the same thing with same result"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1692603650,"post_id":76942010,"comment_id":135640570,"body_markdown":"You have a class named `String` in your package. Remove it.","body":"You have a class named <code>String</code> in your package. Remove it."},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":0,"creation_date":1692604169,"post_id":76942010,"comment_id":135640671,"body_markdown":"@LuiggiMendoza I got the project from Spring Initializr and have done very minimal code change. I could not find any class named String in the project.","body":"@LuiggiMendoza I got the project from Spring Initializr and have done very minimal code change. I could not find any class named String in the project."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1692604311,"post_id":76942010,"comment_id":135640702,"body_markdown":"I replicated the same error in a new project some minutes before commenting by adding a `String` class on purpose (I faced this issue several years ago while studying Java).\nAs a suggestion, try creating a new clean project without your code, then start moving pieces of your code into this new project until it fails.","body":"I replicated the same error in a new project some minutes before commenting by adding a <code>String</code> class on purpose (I faced this issue several years ago while studying Java). As a suggestion, try creating a new clean project without your code, then start moving pieces of your code into this new project until it fails."},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":0,"creation_date":1692605267,"post_id":76942010,"comment_id":135640882,"body_markdown":"@LuiggiMendoza I have created a new (5th) clean project, added nothing to it and run it. Still the same issue.","body":"@LuiggiMendoza I have created a new (5th) clean project, added nothing to it and run it. Still the same issue."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1692605788,"post_id":76942010,"comment_id":135640975,"body_markdown":"Then there&#39;s an issue with your IDE configuration. Try using IntelliJ or Eclipse to run your project.","body":"Then there&#39;s an issue with your IDE configuration. Try using IntelliJ or Eclipse to run your project."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692621224,"post_id":76942010,"comment_id":135644138,"body_markdown":"@LuiggiMendoza I agree the OP has a configuration problem with the IDE. But the problem is that they don&#39;t seem to be delegating to Gradle, and are instead relying on the IDE&#39;s own build/execution system to run the project. If you delegate to Gradle, the project is pretty much IDE-independent. However, since executing the `bootRun` Gradle task also seems to fail, there&#39;s more wrong than just the IDE configurations.","body":"@LuiggiMendoza I agree the OP has a configuration problem with the IDE. But the problem is that they don&#39;t seem to be delegating to Gradle, and are instead relying on the IDE&#39;s own build/execution system to run the project. If you delegate to Gradle, the project is pretty much IDE-independent. However, since executing the <code>bootRun</code> Gradle task also seems to fail, there&#39;s more wrong than just the IDE configurations."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692629424,"post_id":76942010,"comment_id":135646052,"body_markdown":"@dsw What does `java -version` and/or `./gradlew --version` give you? [This issue](https://github.com/gradle/gradle/issues/25869) looks to have the same error as you get with `bootRun`, and the cause appears to be too low a version of Java. Make sure you&#39;re using Java 17+ (or maybe just 11+?), and see if that solves the problem.","body":"@dsw What does <code>java -version</code> and/or <code>.&#47;gradlew --version</code> give you? <a href=\"https://github.com/gradle/gradle/issues/25869\" rel=\"nofollow noreferrer\">This issue</a> looks to have the same error as you get with <code>bootRun</code>, and the cause appears to be too low a version of Java. Make sure you&#39;re using Java 17+ (or maybe just 11+?), and see if that solves the problem."},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":0,"creation_date":1692681464,"post_id":76942010,"comment_id":135653198,"body_markdown":"@Slaw i have added those in the post at the bottom","body":"@Slaw i have added those in the post at the bottom"},{"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"score":1,"creation_date":1692685528,"post_id":76942010,"comment_id":135653701,"body_markdown":"It seems that my JAVA_HOME is set to JDK 11 so I installed JDK 19 and set the path appropriately. Executing `gradlew bootrun` in the terminal works now. However the problem with the VS Code still persist, but I only turned to VS Code because I was using IntelliJ and it wasn&#39;t working. Now after setting the appropriate path to JAVA_HOME, it is working as I hoped it would in IntelliJ so I will be continuing in that IDE instead of VS Code.","body":"It seems that my JAVA_HOME is set to JDK 11 so I installed JDK 19 and set the path appropriately. Executing <code>gradlew bootrun</code> in the terminal works now. However the problem with the VS Code still persist, but I only turned to VS Code because I was using IntelliJ and it wasn&#39;t working. Now after setting the appropriate path to JAVA_HOME, it is working as I hoped it would in IntelliJ so I will be continuing in that IDE instead of VS Code."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692712612,"post_id":76942010,"comment_id":135659712,"body_markdown":"I prefer IntelliJ IDEA for Java development, though it can be a memory hog. If you want to try and stay with VS Code, make sure to have appropriate extensions for Java/Gradle(/Spring?) development installed. You should then be able to create a launch configuration that executes `./gradlew bootRun`. Note you should have IntelliJ doing something similar with a run configuration (that executes the `bootRun` task).","body":"I prefer IntelliJ IDEA for Java development, though it can be a memory hog. If you want to try and stay with VS Code, make sure to have appropriate extensions for Java/Gradle(/Spring?) development installed. You should then be able to create a launch configuration that executes <code>.&#47;gradlew bootRun</code>. Note you should have IntelliJ doing something similar with a run configuration (that executes the <code>bootRun</code> task)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692712660,"post_id":76942010,"comment_id":135659725,"body_markdown":"I also find it strange that `java --version` was giving you `17.0.5`, but `./gradlew --version` showed Gradle was using Java `11.0.13`.","body":"I also find it strange that <code>java --version</code> was giving you <code>17.0.5</code>, but <code>.&#47;gradlew --version</code> showed Gradle was using Java <code>11.0.13</code>."}],"owner":{"account_id":15717496,"reputation":3,"user_id":11341329,"display_name":"dsw"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692681354,"creation_date":1692583716,"question_id":76942010,"body_markdown":"I am currently learning Spring Boot and installed the extensions in VS Code. I used Spring Initializr and created Gradle Spring Boot project with Spring Web dependency. I tried to run it but it says:\r\n\r\n```\r\nError: Main method not found in the file, please define the main method as: public static void main(String[] args)\r\n```\r\n\r\nThis is my TestApplication.java:\r\n\r\n```\r\npackage com.testing.test;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class TestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nbuild.gradle\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n}\r\n\r\ngroup = &#39;com.testing&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\nI can see that `public static void main(String[] args)` does exist. Is something wrong with it or anything that is preventing me from running it?\r\n\r\nI have no idea what to try to fix this. I wanted it to run.\r\n\r\n&gt; gradlew bootrun\r\n\r\n```\r\nStarting a Gradle Daemon, 2 incompatible Daemons could not be reused, use --status for details\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;testing&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.2.1&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n          - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n          - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n          - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n\r\nBUILD FAILED in 9s\r\n```\r\n\r\njava --version\r\n```\r\njava 17.0.5 2022-10-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.5+9-LTS-191)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.5+9-LTS-191, mixed mode, sharing)\r\n```\r\n\r\ngradlew --version\r\n```\r\n------------------------------------------------------------\r\nGradle 8.2.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-07-10 12:12:35 UTC\r\nRevision:     a38ec64d3c4612da9083cc506a1ccb212afeecaa\r\n\r\nKotlin:       1.8.20\r\nGroovy:       3.0.17\r\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\nJVM:          11.0.13 (Oracle Corporation 11.0.13+8)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n","title":"Main method not found despite having the main() function","body":"<p>I am currently learning Spring Boot and installed the extensions in VS Code. I used Spring Initializr and created Gradle Spring Boot project with Spring Web dependency. I tried to run it but it says:</p>\n<pre><code>Error: Main method not found in the file, please define the main method as: public static void main(String[] args)\n</code></pre>\n<p>This is my TestApplication.java:</p>\n<pre><code>package com.testing.test;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.2'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'com.testing'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>I can see that <code>public static void main(String[] args)</code> does exist. Is something wrong with it or anything that is preventing me from running it?</p>\n<p>I have no idea what to try to fix this. I wanted it to run.</p>\n<blockquote>\n<p>gradlew bootrun</p>\n</blockquote>\n<pre><code>Starting a Gradle Daemon, 2 incompatible Daemons could not be reused, use --status for details\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'testing'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.2.1' but:\n          - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n          - Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n          - Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n          - Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n          - Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n          - Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nBUILD FAILED in 9s\n</code></pre>\n<p>java --version</p>\n<pre><code>java 17.0.5 2022-10-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.5+9-LTS-191)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.5+9-LTS-191, mixed mode, sharing)\n</code></pre>\n<p>gradlew --version</p>\n<pre><code>------------------------------------------------------------\nGradle 8.2.1\n------------------------------------------------------------\n\nBuild time:   2023-07-10 12:12:35 UTC\nRevision:     a38ec64d3c4612da9083cc506a1ccb212afeecaa\n\nKotlin:       1.8.20\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          11.0.13 (Oracle Corporation 11.0.13+8)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n"},{"tags":["java","sockets","websocket","tcp"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1692680479,"post_id":76950213,"comment_id":135653115,"body_markdown":"*Both are inside the same router, under the same public IP.* - what does this mean?","body":"<i>Both are inside the same router, under the same public IP.</i> - what does this mean?"},{"owner":{"account_id":23987397,"reputation":7,"user_id":17974031,"display_name":"MohanaSundaram J"},"score":0,"creation_date":1692680902,"post_id":76950213,"comment_id":135653153,"body_markdown":"@ScaryWombat My development machine 1 needs to establish a connection with development machine 2 using a public IP. Both machines are connected to the same Wi-Fi network, so they share the same public IP address","body":"@ScaryWombat My development machine 1 needs to establish a connection with development machine 2 using a public IP. Both machines are connected to the same Wi-Fi network, so they share the same public IP address"},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":1,"creation_date":1692680948,"post_id":76950213,"comment_id":135653157,"body_markdown":"@MohanaSundaramJ That only works if the router supports hairpin NAT, which it may or may not. But fix your binding problem first.","body":"@MohanaSundaramJ That only works if the router supports hairpin NAT, which it may or may not. But fix your binding problem first."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692683602,"post_id":76950213,"comment_id":135653436,"body_markdown":"&quot;When I try to create a TCP connection between these devices using my router&#39;s public IP, I&#39;m unable to establish the connection. The connection attempt fails.&quot;: this is a completely incorrect description of the problem. It happens when binding the server, not connecting the client.","body":"&quot;When I try to create a TCP connection between these devices using my router&#39;s public IP, I&#39;m unable to establish the connection. The connection attempt fails.&quot;: this is a completely incorrect description of the problem. It happens when binding the server, not connecting the client."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692690673,"post_id":76950213,"comment_id":135654658,"body_markdown":"You need to bind to your LAN address and get your router to port forward to it","body":"You need to bind to your LAN address and get your router to port forward to it"}],"answers":[{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692680828,"creation_date":1692680828,"answer_id":76950237,"question_id":76950213,"body_markdown":"&gt; When I try to create a TCP connection between these devices using my router&#39;s public IP, I&#39;m unable to establish the connection. The connection attempt fails.\r\n\r\nYou can&#39;t bind to an IP address not assigned to that machine. You need to bind to either the wildcard address or to the machine&#39;s LAN address.\r\n\r\nNote that you still may not be able to reach the machine on the router&#39;s public IP address from inside the LAN. That requires the router to support hairpin NAT, which not all routers do.","title":"Can&#39;t Bind TCP Port","body":"<blockquote>\n<p>When I try to create a TCP connection between these devices using my router's public IP, I'm unable to establish the connection. The connection attempt fails.</p>\n</blockquote>\n<p>You can't bind to an IP address not assigned to that machine. You need to bind to either the wildcard address or to the machine's LAN address.</p>\n<p>Note that you still may not be able to reach the machine on the router's public IP address from inside the LAN. That requires the router to support hairpin NAT, which not all routers do.</p>\n"}],"owner":{"account_id":23987397,"reputation":7,"user_id":17974031,"display_name":"MohanaSundaram J"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76950237,"answer_count":1,"score":-1,"last_activity_date":1692680828,"creation_date":1692680287,"question_id":76950213,"body_markdown":"I need to establish a TCP connection between my development machine and another type of server machine. Both are inside the same router, under the same public IP.\r\n\r\nWhen I try to create a TCP connection between these devices using my router&#39;s public IP, I&#39;m unable to establish the connection. The connection attempt fails.\r\n\r\nI have configured everything in my router, and I&#39;ve tested port forwarding with a simple Python TCP script using the public IP. It works properly! Additionally, when I use a private IP, the TCP connection is established without any issues.\r\n\r\nDevelopment Machine : MacBook\r\n\r\nCode :\r\n\r\n```\r\nnew InetSocketAddress(serverIpAddress, serverTcpPort)\r\n```\r\n\r\nException :\r\n\r\n```\r\nBind failed for TCP channel on endpoint [/&lt;My Public Ip&gt;:8132]\r\njava.net.BindException: Can&#39;t assign requested address\r\n\tat java.base/sun.nio.ch.Net.bind0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.bind(Net.java:459)\r\n\tat java.base/sun.nio.ch.Net.bind(Net.java:448)\r\n\tat java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\r\n\tat java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)\r\n\tat akka.io.TcpListener.liftedTree1$1(TcpListener.scala:59)\r\n\tat akka.io.TcpListener.&lt;init&gt;(TcpListener.scala:56)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat akka.util.Reflect$.instantiate(Reflect.scala:68)\r\n\tat akka.actor.ArgsReflectConstructor.produce(IndirectActorProducer.scala:101)\r\n\tat akka.actor.Props.newActor(Props.scala:212)\r\n\tat akka.actor.ActorCell.newActor(ActorCell.scala:650)\r\n\tat akka.actor.ActorCell.create(ActorCell.scala:676)\r\n\tat akka.actor.ActorCell.invokeAll$1(ActorCell.scala:549)\r\n\tat akka.actor.ActorCell.systemInvoke(ActorCell.scala:571)\r\n\tat akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:293)\r\n\tat akka.dispatch.Mailbox.run(Mailbox.scala:228)\r\n\tat akka.dispatch.Mailbox.exec(Mailbox.scala:241)\r\n\tat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\r\n\tat akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\r\n\tat akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\r\n\tat akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\r\n```\r\n\r\nHow can I resolve this issue? I&#39;m wondering why it works with my private IP but not with the public IP.\r\n\r\nAlso, I accidentally mistyped a private IP address, but the connection still fails.\r\n\r\nDoes the TCP socket server check if the client is available when trying to bind a port?","title":"Can&#39;t Bind TCP Port","body":"<p>I need to establish a TCP connection between my development machine and another type of server machine. Both are inside the same router, under the same public IP.</p>\n<p>When I try to create a TCP connection between these devices using my router's public IP, I'm unable to establish the connection. The connection attempt fails.</p>\n<p>I have configured everything in my router, and I've tested port forwarding with a simple Python TCP script using the public IP. It works properly! Additionally, when I use a private IP, the TCP connection is established without any issues.</p>\n<p>Development Machine : MacBook</p>\n<p>Code :</p>\n<pre><code>new InetSocketAddress(serverIpAddress, serverTcpPort)\n</code></pre>\n<p>Exception :</p>\n<pre><code>Bind failed for TCP channel on endpoint [/&lt;My Public Ip&gt;:8132]\njava.net.BindException: Can't assign requested address\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:459)\n    at java.base/sun.nio.ch.Net.bind(Net.java:448)\n    at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\n    at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)\n    at akka.io.TcpListener.liftedTree1$1(TcpListener.scala:59)\n    at akka.io.TcpListener.&lt;init&gt;(TcpListener.scala:56)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at akka.util.Reflect$.instantiate(Reflect.scala:68)\n    at akka.actor.ArgsReflectConstructor.produce(IndirectActorProducer.scala:101)\n    at akka.actor.Props.newActor(Props.scala:212)\n    at akka.actor.ActorCell.newActor(ActorCell.scala:650)\n    at akka.actor.ActorCell.create(ActorCell.scala:676)\n    at akka.actor.ActorCell.invokeAll$1(ActorCell.scala:549)\n    at akka.actor.ActorCell.systemInvoke(ActorCell.scala:571)\n    at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:293)\n    at akka.dispatch.Mailbox.run(Mailbox.scala:228)\n    at akka.dispatch.Mailbox.exec(Mailbox.scala:241)\n    at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\n    at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\n    at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\n    at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\n</code></pre>\n<p>How can I resolve this issue? I'm wondering why it works with my private IP but not with the public IP.</p>\n<p>Also, I accidentally mistyped a private IP address, but the connection still fails.</p>\n<p>Does the TCP socket server check if the client is available when trying to bind a port?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1692679259,"post_id":76950129,"comment_id":135653015,"body_markdown":"In `for(i=0; i&lt;n; i++){` the first iteration maybe true, then the second iteration false.  I think your logic is incorrect.  Why not convert the Strings to `Integer` and then compare?","body":"In <code>for(i=0; i&lt;n; i++){</code> the first iteration maybe true, then the second iteration false.  I think your logic is incorrect.  Why not convert the Strings to <code>Integer</code> and then compare?"}],"answers":[{"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692680773,"creation_date":1692680773,"answer_id":76950235,"question_id":76950129,"body_markdown":"In the for loop, you&#39;re overwriting the value of `res` with each iteration of the loop. As a result, the final value of res depends on the comparison made in the last iteration of the loop. As a result, the final value of `res` depends on the comparison made in the last iteration of the loop.\r\n\r\nInstead of setting `res` to `true` or `false` based on a single comparison, you should be checking whether the condition `c1[i] &gt; c2[i]` is satisfied. If it is, then `res` should be set to `true`, otherwise it should remain unchanged. In addition to that, you need to stop the loop as soon as the comparison condition is met, because you&#39;re only interested in the leftmost differing characters.\r\n\r\n    for (i = 0; i &lt; n; i++) {\r\n        if (c1[i] &gt; c2[i]) {\r\n            res = true;\r\n            break; \r\n        } else if (c1[i] &lt; c2[i]) {\r\n            res = false;\r\n            break; \r\n        }\r\n    }\r\n    \r\n    if (res == false &amp;&amp; c2.length &gt; n) {\r\n        if (c2[n] &gt; 0) {\r\n            res = false;\r\n        } else {\r\n            res = true;\r\n        }\r\n    }\r\n\r\n","title":"In the following code, why isn&#39;t the if-else statement giving res equal to true? (for c2[i]==0)","body":"<p>In the for loop, you're overwriting the value of <code>res</code> with each iteration of the loop. As a result, the final value of res depends on the comparison made in the last iteration of the loop. As a result, the final value of <code>res</code> depends on the comparison made in the last iteration of the loop.</p>\n<p>Instead of setting <code>res</code> to <code>true</code> or <code>false</code> based on a single comparison, you should be checking whether the condition <code>c1[i] &gt; c2[i]</code> is satisfied. If it is, then <code>res</code> should be set to <code>true</code>, otherwise it should remain unchanged. In addition to that, you need to stop the loop as soon as the comparison condition is met, because you're only interested in the leftmost differing characters.</p>\n<pre><code>for (i = 0; i &lt; n; i++) {\n    if (c1[i] &gt; c2[i]) {\n        res = true;\n        break; \n    } else if (c1[i] &lt; c2[i]) {\n        res = false;\n        break; \n    }\n}\n\nif (res == false &amp;&amp; c2.length &gt; n) {\n    if (c2[n] &gt; 0) {\n        res = false;\n    } else {\n        res = true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29272038,"reputation":1,"user_id":22426583,"display_name":"Arya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76950235,"answer_count":1,"score":0,"last_activity_date":1692680773,"creation_date":1692678743,"question_id":76950129,"body_markdown":"In this code snippet, I was expecting res of c2[i]=0 to be true, but its actual output is coming out to be false.\r\nCode:\r\n```\r\nif( res==false &amp;&amp; c2.length&gt;n ){\r\n            System.out.println(&quot;c2[i] &quot;+c2[i]);\r\n            if(c2[i]&gt;0){\r\n                res = false;\r\n            }\r\n            else{\r\n                res = true;\r\n            }\r\n        }\r\nSystem.out.println(&quot;res &quot;+res);\r\n```\r\n\r\nOutput:\r\n```\r\nc2[i] 0\r\nres false\r\nc2[i] 4\r\nres false\r\n_\r\n```\r\n___________________________________________________________________________________________________\r\n\r\n**Complete function:**\r\nI&#39;m trying to write a comparison-based algorithm. The takes two strings as input (characters are integers). The algorithm should output true if s1&gt;s2. \r\ne.g. s1 = 3 and s2 = 30 =&gt; res = true\r\ne.g. s1 = 30 and s2 = 34 =&gt; red = false\r\nThis is the approach I tried:\r\n\r\n```\r\nBoolean isGreaterThan(String s1, String s2){\r\n        char[] c1 = s1.toCharArray();\r\n        char[] c2 = s2.toCharArray();\r\n        boolean res = true;\r\n        int i=0;\r\n        int n = Math.min(c1.length, c2.length);\r\n        for(i=0; i&lt;n; i++){\r\n            if(c1[i]&lt;=c2[i]){\r\n                res = false;\r\n            }\r\n            else{\r\n                res = true;\r\n            }\r\n        }\r\n        if( res==false &amp;&amp; c2.length&gt;n ){\r\n            System.out.println(&quot;c2[i] &quot;+c2[i]);\r\n            if(c2[i]&gt;0){\r\n                res = false;\r\n            }\r\n            else{\r\n                res = true;\r\n            }\r\n        }\r\n        System.out.println(&quot;res &quot;+res);\r\n        return res;\r\n}\r\n```\r\n","title":"In the following code, why isn&#39;t the if-else statement giving res equal to true? (for c2[i]==0)","body":"<p>In this code snippet, I was expecting res of c2[i]=0 to be true, but its actual output is coming out to be false.\nCode:</p>\n<pre><code>if( res==false &amp;&amp; c2.length&gt;n ){\n            System.out.println(&quot;c2[i] &quot;+c2[i]);\n            if(c2[i]&gt;0){\n                res = false;\n            }\n            else{\n                res = true;\n            }\n        }\nSystem.out.println(&quot;res &quot;+res);\n</code></pre>\n<p>Output:</p>\n<pre><code>c2[i] 0\nres false\nc2[i] 4\nres false\n_\n</code></pre>\n<hr />\n<p><strong>Complete function:</strong>\nI'm trying to write a comparison-based algorithm. The takes two strings as input (characters are integers). The algorithm should output true if s1&gt;s2.\ne.g. s1 = 3 and s2 = 30 =&gt; res = true\ne.g. s1 = 30 and s2 = 34 =&gt; red = false\nThis is the approach I tried:</p>\n<pre><code>Boolean isGreaterThan(String s1, String s2){\n        char[] c1 = s1.toCharArray();\n        char[] c2 = s2.toCharArray();\n        boolean res = true;\n        int i=0;\n        int n = Math.min(c1.length, c2.length);\n        for(i=0; i&lt;n; i++){\n            if(c1[i]&lt;=c2[i]){\n                res = false;\n            }\n            else{\n                res = true;\n            }\n        }\n        if( res==false &amp;&amp; c2.length&gt;n ){\n            System.out.println(&quot;c2[i] &quot;+c2[i]);\n            if(c2[i]&gt;0){\n                res = false;\n            }\n            else{\n                res = true;\n            }\n        }\n        System.out.println(&quot;res &quot;+res);\n        return res;\n}\n</code></pre>\n"},{"tags":["java","android","nullpointerexception","crashlytics","firebase-crash-reporting"],"comments":[{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1691564049,"post_id":76865053,"comment_id":135506915,"body_markdown":"Is this crash reproducible in the app ? Did you find the case the app crashes ?","body":"Is this crash reproducible in the app ? Did you find the case the app crashes ?"},{"owner":{"account_id":14072435,"reputation":438,"user_id":10165620,"display_name":"axita.savani"},"score":0,"creation_date":1691574853,"post_id":76865053,"comment_id":135508985,"body_markdown":"@ItzDavi Hi, this crash is reported on a different screen every time that&#39;s why can&#39;t get that from where it is coming. Yet, Not reproducible.","body":"@ItzDavi Hi, this crash is reported on a different screen every time that&#39;s why can&#39;t get that from where it is coming. Yet, Not reproducible."},{"owner":{"account_id":14072435,"reputation":438,"user_id":10165620,"display_name":"axita.savani"},"score":0,"creation_date":1692680040,"post_id":76865053,"comment_id":135653080,"body_markdown":"Hi, Any update on this question? we are facing too many crashes regrading to this.","body":"Hi, Any update on this question? we are facing too many crashes regrading to this."},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1692689151,"post_id":76865053,"comment_id":135654340,"body_markdown":"Nope sorry. They also closed the question from accepting answers.","body":"Nope sorry. They also closed the question from accepting answers."}],"owner":{"account_id":14072435,"reputation":438,"user_id":10165620,"display_name":"axita.savani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691565369,"answer_count":0,"score":0,"last_activity_date":1692680095,"creation_date":1691561890,"question_id":76865053,"body_markdown":"**Application platform**\r\n- Android\r\n\r\n**Application Programming language**\r\n- Java\r\n\r\n**Library for Crashlytics**\r\n- Firebase Crashlytics : 18.2.10\r\n\r\n**Crash**\r\n- Suddenly from 14th June,2023 getting &quot;java.lang.NullPointerException - &quot;ATHROW npe&quot; on -1&quot; this crash in large amount of devices &amp; OS\r\n\r\nHere, I will share Crashlytics SS &amp; some Details about the crashes.\r\n\r\n       `Fatal Exception: java.lang.NullPointerException: &quot;ATHROW npe&quot; on -1\r\n               at &#236;.l.ixxi.run()\r\n               at android.os.Handler.handleCallback(Handler.java:914)\r\n               at android.os.Handler.dispatchMessage(Handler.java:100)\r\n               at android.os.Looper.loop(Looper.java:225)\r\n               at android.os.HandlerThread.run(HandlerThread.java:67)`\r\n\r\n\r\n**Crash SS** : \r\n[![Firebase Crashlytics portal](https://i.stack.imgur.com/9r956.png)](https://i.stack.imgur.com/9r956.png)\r\n\r\n\r\n**Result**\r\n- Want to know why suddenly arrived too many crashes.\r\n- What are the steps for generat same issue?\r\n- What is the solution for reduce crashes?","title":"How to resolve Handler &quot;ATHROW npe on -1&quot; crash suddenly increase in application android?","body":"<p><strong>Application platform</strong></p>\n<ul>\n<li>Android</li>\n</ul>\n<p><strong>Application Programming language</strong></p>\n<ul>\n<li>Java</li>\n</ul>\n<p><strong>Library for Crashlytics</strong></p>\n<ul>\n<li>Firebase Crashlytics : 18.2.10</li>\n</ul>\n<p><strong>Crash</strong></p>\n<ul>\n<li>Suddenly from 14th June,2023 getting &quot;java.lang.NullPointerException - &quot;ATHROW npe&quot; on -1&quot; this crash in large amount of devices &amp; OS</li>\n</ul>\n<p>Here, I will share Crashlytics SS &amp; some Details about the crashes.</p>\n<pre><code>   `Fatal Exception: java.lang.NullPointerException: &quot;ATHROW npe&quot; on -1\n           at ì.l.ixxi.run()\n           at android.os.Handler.handleCallback(Handler.java:914)\n           at android.os.Handler.dispatchMessage(Handler.java:100)\n           at android.os.Looper.loop(Looper.java:225)\n           at android.os.HandlerThread.run(HandlerThread.java:67)`\n</code></pre>\n<p><strong>Crash SS</strong> :\n<a href=\"https://i.stack.imgur.com/9r956.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9r956.png\" alt=\"Firebase Crashlytics portal\" /></a></p>\n<p><strong>Result</strong></p>\n<ul>\n<li>Want to know why suddenly arrived too many crashes.</li>\n<li>What are the steps for generat same issue?</li>\n<li>What is the solution for reduce crashes?</li>\n</ul>\n"},{"tags":["java","jsp","servlets","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":1182677,"reputation":2825,"user_id":1157272,"display_name":"joran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692679281,"creation_date":1692679281,"answer_id":76950156,"question_id":76949943,"body_markdown":"You may already have guessed that ClassNotFoundException meens that a class can not be found (by the classloader). In this case is the class `com.linkdom.intercom.listener.ContextListener` not available to the classloader. \r\n\r\nYou may check that you have the library, that includes this file, on the classpath, ie in your war-file that is deployed in Tomcat or in the `/lib` folder in Tomcat (there can be other options where the library may be added to the classpath depending on your setup).","title":"Getting class Not Found Issue","body":"<p>You may already have guessed that ClassNotFoundException meens that a class can not be found (by the classloader). In this case is the class <code>com.linkdom.intercom.listener.ContextListener</code> not available to the classloader.</p>\n<p>You may check that you have the library, that includes this file, on the classpath, ie in your war-file that is deployed in Tomcat or in the <code>/lib</code> folder in Tomcat (there can be other options where the library may be added to the classpath depending on your setup).</p>\n"}],"owner":{"account_id":29046450,"reputation":1,"user_id":22250183,"display_name":"Maltesh B K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1692704192,"answer_count":1,"score":-1,"last_activity_date":1692679281,"creation_date":1692675572,"question_id":76949943,"body_markdown":"```\r\nAug 22, 2023 9:01:02 AM org.apache.catalina.core.StandardContext listenerStart\r\nSEVERE: Error configuring application listener of class [com.linkdom.intercom.listener.ContextListener]\r\njava.lang.ClassNotFoundException: com.linkdom.intercom.listener.ContextListener\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4404)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4935)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1360)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1350)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nAug 22, 2023 9:01:02 AM org.apache.catalina.core.StandardContext listenerStart\r\nSEVERE: Skipped installing application listeners due to previous error(s)\r\nAug 22, 2023 9:01:02 AM org.apache.catalina.core.StandardContext startInte\r\n```\r\nHow to solve this?","title":"Getting class Not Found Issue","body":"<pre><code>Aug 22, 2023 9:01:02 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class [com.linkdom.intercom.listener.ContextListener]\njava.lang.ClassNotFoundException: com.linkdom.intercom.listener.ContextListener\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4404)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4935)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1360)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1350)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nAug 22, 2023 9:01:02 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Skipped installing application listeners due to previous error(s)\nAug 22, 2023 9:01:02 AM org.apache.catalina.core.StandardContext startInte\n</code></pre>\n<p>How to solve this?</p>\n"},{"tags":["java","oop","if-statement","instanceof"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1692672757,"post_id":76949792,"comment_id":135652497,"body_markdown":"This was added in Java 14:  https://openjdk.org/jeps/305","body":"This was added in Java 14:  <a href=\"https://openjdk.org/jeps/305\" rel=\"nofollow noreferrer\">openjdk.org/jeps/305</a>"},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":3,"creation_date":1692672837,"post_id":76949792,"comment_id":135652502,"body_markdown":"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html the compiler effectively translates your first snippet into your second (the first is sugar for the second).","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/language/&hellip;</a> the compiler effectively translates your first snippet into your second (the first is sugar for the second)."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1692686139,"post_id":76949792,"comment_id":135653795,"body_markdown":"Does this answer your question? [Why is an identifier required for instanceof pattern matching?](https://stackoverflow.com/questions/72446857/why-is-an-identifier-required-for-instanceof-pattern-matching) Also https://stackoverflow.com/questions/61939967/pattern-matching-instanceof","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72446857/why-is-an-identifier-required-for-instanceof-pattern-matching\">Why is an identifier required for instanceof pattern matching?</a> Also <a href=\"https://stackoverflow.com/questions/61939967/pattern-matching-instanceof\" title=\"pattern matching instanceof\">stackoverflow.com/questions/61939967/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11879793,"reputation":7,"user_id":8693798,"display_name":"Z H.KHAN"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1692678906,"creation_date":1692673196,"answer_id":76949821,"question_id":76949792,"body_markdown":"Got the answer.\r\nhttps://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html#GUID-843060B5-240C-4F47-A7B0-95C42E5B08A7.\r\n\r\nThis is a new feature added in JDK 16.\r\n","title":"Using instanceof in if statement","body":"<p>Got the answer.\n<a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html#GUID-843060B5-240C-4F47-A7B0-95C42E5B08A7\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html#GUID-843060B5-240C-4F47-A7B0-95C42E5B08A7</a>.</p>\n<p>This is a new feature added in JDK 16.</p>\n"},{"tags":[],"owner":{"account_id":26934341,"reputation":21,"user_id":20506202,"display_name":"ltjnbcwx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692676508,"creation_date":1692676488,"answer_id":76950000,"question_id":76949792,"body_markdown":"The first one is just a syntactic sugar. Actually it do the `Mammal currentMammal = (Mammal) ao;` for you.","title":"Using instanceof in if statement","body":"<p>The first one is just a syntactic sugar. Actually it do the <code>Mammal currentMammal = (Mammal) ao;</code> for you.</p>\n"}],"owner":{"account_id":11879793,"reputation":7,"user_id":8693798,"display_name":"Z H.KHAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692678906,"creation_date":1692672540,"question_id":76949792,"body_markdown":"    if(objectName instanceof Mammal currentMammal){\r\n        currentMammal.shedHair();\r\n\r\n\r\nif the (objectName instanceof Mammal) is true then currentMammal is casted to Mammal.\r\nI see this works, but dont know how.\r\nI have never seen this stuff going on in &quot;if&quot; statements\r\n\r\nI believe this makes sense.\r\n\r\n    if (ao instanceof Mammal) {\r\n        Mammal currentMammal = (Mammal) ao;\r\n        currentMammal.shedHair();\r\n    }\r\n\r\nbut this first snippet is over my head","title":"Using instanceof in if statement","body":"<pre><code>if(objectName instanceof Mammal currentMammal){\n    currentMammal.shedHair();\n</code></pre>\n<p>if the (objectName instanceof Mammal) is true then currentMammal is casted to Mammal.\nI see this works, but dont know how.\nI have never seen this stuff going on in &quot;if&quot; statements</p>\n<p>I believe this makes sense.</p>\n<pre><code>if (ao instanceof Mammal) {\n    Mammal currentMammal = (Mammal) ao;\n    currentMammal.shedHair();\n}\n</code></pre>\n<p>but this first snippet is over my head</p>\n"},{"tags":["java","tomcat","websocket"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1428658931,"post_id":29558008,"comment_id":47266469,"body_markdown":"You should use `compact(),` not `clear().`","body":"You should use <code>compact(),</code> not <code>clear().</code>"},{"owner":{"account_id":3969321,"reputation":11,"user_id":3274295,"display_name":"Ganesh"},"score":0,"creation_date":1428660548,"post_id":29558008,"comment_id":47267529,"body_markdown":"Thanks, but that did not help much. Clear should be less expensive than compact as it only sets the position to zero.","body":"Thanks, but that did not help much. Clear should be less expensive than compact as it only sets the position to zero."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1428721672,"post_id":29558008,"comment_id":47296307,"body_markdown":"It was posted as a comment, not an answer. I know what `clear()` does. My point is that it is the wrong method to call. In the cases where it is correct to call `clear()` it is also correct to call `compact(),` and no more expensive; and in the cases where it isn&#39;t correct to call `clear()` you don&#39;t have any choice but to call `compact().`","body":"It was posted as a comment, not an answer. I know what <code>clear()</code> does. My point is that it is the wrong method to call. In the cases where it is correct to call <code>clear()</code> it is also correct to call <code>compact(),</code> and no more expensive; and in the cases where it isn&#39;t correct to call <code>clear()</code> you don&#39;t have any choice but to call <code>compact().</code>"}],"answers":[{"tags":[],"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692677748,"creation_date":1563619185,"answer_id":57123944,"question_id":29558008,"body_markdown":"There is a max payload size for sending binary data in tomcat, i.e. `org.apache.tomcat.websocket.binaryBufferSize` referred from [tomcat doc][1]. The default value of it is `8192`. So the `capacity` must be less than or equal to this value.\r\n\r\nSo your code must be modified to something like this\r\n\r\n`int capacity = session.getMaxBinaryMessageBufferSize();`\r\n\r\nNow, increase the size of `org.apache.tomcat.websocket.binaryBufferSize` to some reasonably higher value, this may increase data transfer speed and thus the download speed.\r\n\r\nYou can change this value using context initialization parameter in `web.xml`.\r\n\r\nEg:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;org.apache.tomcat.websocket.binaryBufferSize&lt;/param-name&gt;\r\n        &lt;param-value&gt;16384&lt;/param-value&gt;\r\n    &lt;/context-param&gt; \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/web-socket-howto.html\r\n","title":"File download using Websocket is slow compared to Servlet","body":"<p>There is a max payload size for sending binary data in tomcat, i.e. <code>org.apache.tomcat.websocket.binaryBufferSize</code> referred from <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/web-socket-howto.html\" rel=\"nofollow noreferrer\">tomcat doc</a>. The default value of it is <code>8192</code>. So the <code>capacity</code> must be less than or equal to this value.</p>\n<p>So your code must be modified to something like this</p>\n<p><code>int capacity = session.getMaxBinaryMessageBufferSize();</code></p>\n<p>Now, increase the size of <code>org.apache.tomcat.websocket.binaryBufferSize</code> to some reasonably higher value, this may increase data transfer speed and thus the download speed.</p>\n<p>You can change this value using context initialization parameter in <code>web.xml</code>.</p>\n<p>Eg:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;org.apache.tomcat.websocket.binaryBufferSize&lt;/param-name&gt;\n    &lt;param-value&gt;16384&lt;/param-value&gt;\n&lt;/context-param&gt; \n</code></pre>\n"}],"owner":{"account_id":3969321,"reputation":11,"user_id":3274295,"display_name":"Ganesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692677748,"creation_date":1428658491,"question_id":29558008,"body_markdown":"I wrote a simple file download program using tomcat 7.0.47 WebSocket API.\r\nBelow is the method which sends the file as binary message to the client. \r\n\r\n        @OnMessage\r\n        public void onMessage(Session session, String path) {\r\n            ReadableByteChannel channel = null;\r\n            int capacity = 1024 * 100;\r\n            ByteBuffer buffer = ByteBuffer.allocate(capacity);\r\n            try {\r\n                channel = Channels.newChannel(new FileInputStream(path));\r\n                while(channel.read(buffer) != -1){\r\n                    buffer.flip();\r\n                    session.getBasicRemote().sendBinary(buffer);\r\n                    buffer.clear();\r\n                }\r\n            } catch (IOException e) {\r\n                logger.error(&quot;Error while reading the file to download&quot;, e);\r\n            } finally {\r\n                if (channel != null) {\r\n                    try {\r\n                        channel.close();\r\n                    } catch (IOException e) {\r\n                        logger.error(&quot;Error while closing the stream&quot;, e);\r\n                    }\r\n                }\r\n            }    \r\n            session.getAsyncRemote().sendText(&quot;done&quot;);\r\n        }\r\n\r\nI have timed the total download time for 5GB files using SCP, Servlet based implementation and Websocket implementation. File download using WebSocket is much slower. For 5GB file, SCP and servlet take ~50 seconds on my test machine, WebSocket takes ~180 seconds.\r\n \r\nCan any one help me understand what is wrong with my implementation?\r\n\r\nAre WebSockets not good for such usecase? Any tomcat configuration parameters to tweak to achieve better performance?","title":"File download using Websocket is slow compared to Servlet","body":"<p>I wrote a simple file download program using tomcat 7.0.47 WebSocket API.\nBelow is the method which sends the file as binary message to the client. </p>\n\n<pre><code>    @OnMessage\n    public void onMessage(Session session, String path) {\n        ReadableByteChannel channel = null;\n        int capacity = 1024 * 100;\n        ByteBuffer buffer = ByteBuffer.allocate(capacity);\n        try {\n            channel = Channels.newChannel(new FileInputStream(path));\n            while(channel.read(buffer) != -1){\n                buffer.flip();\n                session.getBasicRemote().sendBinary(buffer);\n                buffer.clear();\n            }\n        } catch (IOException e) {\n            logger.error(\"Error while reading the file to download\", e);\n        } finally {\n            if (channel != null) {\n                try {\n                    channel.close();\n                } catch (IOException e) {\n                    logger.error(\"Error while closing the stream\", e);\n                }\n            }\n        }    \n        session.getAsyncRemote().sendText(\"done\");\n    }\n</code></pre>\n\n<p>I have timed the total download time for 5GB files using SCP, Servlet based implementation and Websocket implementation. File download using WebSocket is much slower. For 5GB file, SCP and servlet take ~50 seconds on my test machine, WebSocket takes ~180 seconds.</p>\n\n<p>Can any one help me understand what is wrong with my implementation?</p>\n\n<p>Are WebSockets not good for such usecase? Any tomcat configuration parameters to tweak to achieve better performance?</p>\n"},{"tags":["java","selenium","junit"],"comments":[{"owner":{"account_id":3832760,"reputation":35,"user_id":3177910,"display_name":"SanBala"},"score":0,"creation_date":1441182821,"post_id":32329525,"comment_id":52570087,"body_markdown":"Used driver.manage().deleteAllCookies() to delete the cookies.","body":"Used driver.manage().deleteAllCookies() to delete the cookies."}],"answers":[{"tags":[],"owner":{"account_id":6888055,"reputation":16,"user_id":5292538,"display_name":"bhanu prakash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1441197522,"creation_date":1441197151,"answer_id":32353276,"question_id":32329525,"body_markdown":"`driver.manage().deleteCookieNamed(&quot;Cookie name&quot;);`\r\n\r\nPlease try the above code and try again ","title":"How to clear previous API request using selenium?","body":"<p><code>driver.manage().deleteCookieNamed(\"Cookie name\");</code></p>\n\n<p>Please try the above code and try again </p>\n"},{"tags":[],"owner":{"account_id":5276876,"reputation":3,"user_id":4213386,"display_name":"hyungseok ji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692677596,"creation_date":1692677596,"answer_id":76950054,"question_id":32329525,"body_markdown":"Please try the below code and try again\r\n\r\nCode:: python\r\n\r\n    del driver.requests\r\n    print (len(driver.requests)) # 0","title":"How to clear previous API request using selenium?","body":"<p>Please try the below code and try again</p>\n<p>Code:: python</p>\n<pre><code>del driver.requests\nprint (len(driver.requests)) # 0\n</code></pre>\n"}],"owner":{"account_id":3832760,"reputation":35,"user_id":3177910,"display_name":"SanBala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32353276,"answer_count":2,"score":0,"last_activity_date":1692677596,"creation_date":1441103984,"question_id":32329525,"body_markdown":"Have one button when clicking in lower version it sends request `/api/accept`. After upgrading it sends the same request. But in latest version the API request varies `/api/acceptconfirm`. \r\n\r\nCould you please help me to clear the previous API requests from browser using selenium","title":"How to clear previous API request using selenium?","body":"<p>Have one button when clicking in lower version it sends request <code>/api/accept</code>. After upgrading it sends the same request. But in latest version the API request varies <code>/api/acceptconfirm</code>. </p>\n\n<p>Could you please help me to clear the previous API requests from browser using selenium</p>\n"},{"tags":["java","spring-mvc","jmeter"],"comments":[{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1504058905,"post_id":45950805,"comment_id":78860249,"body_markdown":"&#39;chunk&#39; is a way to transmit (usually binary) data via http, where lenght is not known at start. In other words: form of &#39;blocks&#39; or &#39;sectors&#39; in http, which is mostly text protocol","body":"&#39;chunk&#39; is a way to transmit (usually binary) data via http, where lenght is not known at start. In other words: form of &#39;blocks&#39; or &#39;sectors&#39; in http, which is mostly text protocol"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504069455,"creation_date":1504069455,"answer_id":45952274,"question_id":45950805,"body_markdown":"Your server is closing the connection prior to JMeter can fully read the response due to [truncated chunk in chunked stream][1]. Most probably server closes the connection before JMeter fully reads the response. \r\n\r\nThere could be different reasons for it. \r\n\r\n - An issue with your application code when open connections can be forcefully closed for some reason\r\n - Your application simply lacks resources. Make sure it has enough headroom in terms of CPU, Memory, Swap, Disk, etc. Make sure you monitor these metrics on application under test side during your test and correlate them with the increasing load. See [How to Monitor Your Server Health &amp; Performance During a JMeter Load Test][2]\r\n - Application (or web server) configuration. It might be the case that when you add more virtual users response time increases (this is not what business wants, but in majority of cases it is so). Check response time trend with i.e. [Response Times Over Time][3] listener, it might be the case that requests last longer than your application server allows them to be run so they are closed (like [TimeOut directive for Apache HTTP server][4])  \r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/TruncatedChunkException.html\r\n  [2]: https://www.blazemeter.com/blog/how-monitor-your-server-health-performance-during-jmeter-load-test\r\n  [3]: https://jmeter-plugins.org/wiki/ResponseTimesOverTime/\r\n  [4]: https://httpd.apache.org/docs/2.4/mod/core.html#timeout","title":"org.apache.http.TruncatedChunkException","body":"<p>Your server is closing the connection prior to JMeter can fully read the response due to <a href=\"https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/TruncatedChunkException.html\" rel=\"nofollow noreferrer\">truncated chunk in chunked stream</a>. Most probably server closes the connection before JMeter fully reads the response. </p>\n\n<p>There could be different reasons for it. </p>\n\n<ul>\n<li>An issue with your application code when open connections can be forcefully closed for some reason</li>\n<li>Your application simply lacks resources. Make sure it has enough headroom in terms of CPU, Memory, Swap, Disk, etc. Make sure you monitor these metrics on application under test side during your test and correlate them with the increasing load. See <a href=\"https://www.blazemeter.com/blog/how-monitor-your-server-health-performance-during-jmeter-load-test\" rel=\"nofollow noreferrer\">How to Monitor Your Server Health &amp; Performance During a JMeter Load Test</a></li>\n<li>Application (or web server) configuration. It might be the case that when you add more virtual users response time increases (this is not what business wants, but in majority of cases it is so). Check response time trend with i.e. <a href=\"https://jmeter-plugins.org/wiki/ResponseTimesOverTime/\" rel=\"nofollow noreferrer\">Response Times Over Time</a> listener, it might be the case that requests last longer than your application server allows them to be run so they are closed (like <a href=\"https://httpd.apache.org/docs/2.4/mod/core.html#timeout\" rel=\"nofollow noreferrer\">TimeOut directive for Apache HTTP server</a>)  </li>\n</ul>\n"}],"owner":{"account_id":10019247,"reputation":11,"user_id":7409503,"display_name":"Ranjit Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12775,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692677310,"creation_date":1504058664,"question_id":45950805,"body_markdown":"I am getting this issue when trying performance testing with jmeter.\r\nthe application built on spring and ui with bootstrap with angularjs. this application working fine with 500 concurrent user with 0 error, for 750 users I am getting this error. This page don&#39;t have any database related things.\r\n\r\n\torg.apache.http.TruncatedChunkException: Truncated chunk ( expected size: 8192; actual size: 7692)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:198)\r\n\tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:135)\r\n\tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:148)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.readResponse(HTTPSamplerBase.java:1814)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPAbstractImpl.readResponse(HTTPAbstractImpl.java:440)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:433)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:74)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.followRedirects(HTTPSamplerBase.java:1542)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.resultProcessing(HTTPSamplerBase.java:1636)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPAbstractImpl.resultProcessing(HTTPAbstractImpl.java:519)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:493)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:74)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1189)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1178)\r\n\tat org.apache.jmeter.threads.JMeterThread.executeSamplePackage(JMeterThread.java:491)\r\n\tat org.apache.jmeter.threads.JMeterThread.processSampler(JMeterThread.java:425)\r\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n","title":"org.apache.http.TruncatedChunkException","body":"<p>I am getting this issue when trying performance testing with jmeter.\nthe application built on spring and ui with bootstrap with angularjs. this application working fine with 500 concurrent user with 0 error, for 750 users I am getting this error. This page don't have any database related things.</p>\n\n<pre><code>org.apache.http.TruncatedChunkException: Truncated chunk ( expected size: 8192; actual size: 7692)\nat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:198)\nat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:135)\nat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:148)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.readResponse(HTTPSamplerBase.java:1814)\nat org.apache.jmeter.protocol.http.sampler.HTTPAbstractImpl.readResponse(HTTPAbstractImpl.java:440)\nat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:433)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:74)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.followRedirects(HTTPSamplerBase.java:1542)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.resultProcessing(HTTPSamplerBase.java:1636)\nat org.apache.jmeter.protocol.http.sampler.HTTPAbstractImpl.resultProcessing(HTTPAbstractImpl.java:519)\nat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:493)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:74)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1189)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1178)\nat org.apache.jmeter.threads.JMeterThread.executeSamplePackage(JMeterThread.java:491)\nat org.apache.jmeter.threads.JMeterThread.processSampler(JMeterThread.java:425)\nat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","android","kotlin","android-softkeyboard","accessibilityservice"],"comments":[{"owner":{"account_id":29267559,"reputation":1,"user_id":22423085,"display_name":"rewindz"},"score":0,"creation_date":1692867232,"post_id":76949982,"comment_id":135683143,"body_markdown":"I&#39;ve fixed the issue! It&#39;s because I was focusing on the wrong node.","body":"I&#39;ve fixed the issue! It&#39;s because I was focusing on the wrong node."}],"owner":{"account_id":29267559,"reputation":1,"user_id":22423085,"display_name":"rewindz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692676238,"creation_date":1692676174,"question_id":76949982,"body_markdown":"I am developing an app for remote control within the organization. The working concept is similar to Team Viewer and Anydesk, using Media Projection and Accessibility Service.\r\n\r\nWhat I have successfully accomplished so far are:\r\n1. I can access devices through a remote server (which I developed myself) via a web interface and send X, Y coordinate values to the controllable device.\r\n2. The client device can receive X, Y coordinates and perform touch commands on the screen through AccessibilityNodeInfo&#39;s performAction Click.\r\nThe current issue I am facing is that I am unable to simulate touches on the soft keyboard using X, Y coordinates, unlike how it works for other parts of the screen.\r\n\r\nWhat I aim to achieve is the ability to touch any point on the screen using the X, Y coordinates received from the web server.\r\n\r\nI have been researching additional topics like IME and Input Connection for several days, but I&#39;m not certain if they will help solve the issue. Could you please provide me with some guidance or suggestions?","title":"Accessibility service cannot simulate touch on soft keyboard","body":"<p>I am developing an app for remote control within the organization. The working concept is similar to Team Viewer and Anydesk, using Media Projection and Accessibility Service.</p>\n<p>What I have successfully accomplished so far are:</p>\n<ol>\n<li>I can access devices through a remote server (which I developed myself) via a web interface and send X, Y coordinate values to the controllable device.</li>\n<li>The client device can receive X, Y coordinates and perform touch commands on the screen through AccessibilityNodeInfo's performAction Click.\nThe current issue I am facing is that I am unable to simulate touches on the soft keyboard using X, Y coordinates, unlike how it works for other parts of the screen.</li>\n</ol>\n<p>What I aim to achieve is the ability to touch any point on the screen using the X, Y coordinates received from the web server.</p>\n<p>I have been researching additional topics like IME and Input Connection for several days, but I'm not certain if they will help solve the issue. Could you please provide me with some guidance or suggestions?</p>\n"},{"tags":["java","spring","spring-boot","logback"],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692674931,"creation_date":1692674931,"answer_id":76949915,"question_id":76949835,"body_markdown":"**(1)** Follow reference configuration at https://github.com/spring-cloud-samples/sleuth-documentation-apps/blob/main/service1/src/main/resources/logback-spring.xml\r\n\r\nhttps://docs.spring.io/spring-cloud-sleuth/docs/2.2.x-SNAPSHOT/reference/html/#json-logback-with-logstash\r\n\r\n**(2)** \r\n```java\r\nlogging.pattern.level=%5p[${spring.zipkin.service.name:${spring.application.name:-}},%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]\r\n```\r\n\r\nhttps://docs.spring.io/spring-cloud-sleuth/docs/2.2.x-SNAPSHOT/reference/html/#features","title":"Can&#39;t see Sleuth spanId or traceId in custom logback","body":"<p><strong>(1)</strong> Follow reference configuration at <a href=\"https://github.com/spring-cloud-samples/sleuth-documentation-apps/blob/main/service1/src/main/resources/logback-spring.xml\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud-samples/sleuth-documentation-apps/blob/main/service1/src/main/resources/logback-spring.xml</a></p>\n<p><a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/2.2.x-SNAPSHOT/reference/html/#json-logback-with-logstash\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-sleuth/docs/2.2.x-SNAPSHOT/reference/html/#json-logback-with-logstash</a></p>\n<p><strong>(2)</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>logging.pattern.level=%5p[${spring.zipkin.service.name:${spring.application.name:-}},%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/2.2.x-SNAPSHOT/reference/html/#features\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-sleuth/docs/2.2.x-SNAPSHOT/reference/html/#features</a></p>\n"},{"tags":[],"owner":{"account_id":12855210,"reputation":16,"user_id":9298754,"display_name":"Vinh.Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692675448,"creation_date":1692675448,"answer_id":76949933,"question_id":76949835,"body_markdown":"There are some possible reasons why you can&#39;t see Sleuth spanId or traceId in your custom logback configuration. \r\n- One reason is that you need to include the Sleuth pattern in your log pattern, which is %X{traceId:-} %X{spanId:-} %X{parentId:-}. \r\n- Another reason is that you need to include the base.xml file from Spring Boot, which contains the default configuration for Sleuth logging. \r\n- A third reason is that you need to set the logging.level.org.springframework.cloud.sleuth property to DEBUG or higher\r\n\r\nI hope this helps you solve your problem. If you want to learn more about Sleuth and Logback, you can check out these resources:\r\n•  [Get Current Trace ID in Spring Cloud Sleuth][1]: A tutorial on how to get the current trace ID and span ID using the Tracer object.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-sleuth-get-trace-id","title":"Can&#39;t see Sleuth spanId or traceId in custom logback","body":"<p>There are some possible reasons why you can't see Sleuth spanId or traceId in your custom logback configuration.</p>\n<ul>\n<li>One reason is that you need to include the Sleuth pattern in your log pattern, which is %X{traceId:-} %X{spanId:-} %X{parentId:-}.</li>\n<li>Another reason is that you need to include the base.xml file from Spring Boot, which contains the default configuration for Sleuth logging.</li>\n<li>A third reason is that you need to set the logging.level.org.springframework.cloud.sleuth property to DEBUG or higher</li>\n</ul>\n<p>I hope this helps you solve your problem. If you want to learn more about Sleuth and Logback, you can check out these resources:\n•  <a href=\"https://www.baeldung.com/spring-cloud-sleuth-get-trace-id\" rel=\"nofollow noreferrer\">Get Current Trace ID in Spring Cloud Sleuth</a>: A tutorial on how to get the current trace ID and span ID using the Tracer object.</p>\n"}],"owner":{"account_id":25689339,"reputation":3,"user_id":19450988,"display_name":"Max Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76949933,"answer_count":2,"score":0,"last_activity_date":1692675448,"creation_date":1692673515,"question_id":76949835,"body_markdown":"logback configuration is down below\r\n\r\n```\r\n\t&lt;appender name=&quot;ELK-CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n\t\t\t&lt;providers&gt;\r\n\t\t\t\t&lt;pattern&gt;\r\n\t\t\t\t\t&lt;pattern&gt;\r\n\t\t\t\t\t{\r\n                        &quot;timestamp&quot;: &quot;@timestamp&quot;,\r\n                        &quot;severity&quot;: &quot;%level&quot;,\r\n                        &quot;service&quot;: &quot;${springAppName:-}&quot;,\r\n                        &quot;trace&quot;: &quot;%X{traceId:-}&quot;,\r\n                        &quot;span&quot;: &quot;%X{spanId:-}&quot;,\r\n                        &quot;pid&quot;: &quot;${PID:-}&quot;,\r\n                        &quot;thread&quot;: &quot;%thread&quot;,\r\n                        &quot;class&quot;: &quot;%logger{40}&quot;,\r\n                        &quot;rest&quot;: &quot;%message&quot;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t&lt;/pattern&gt;\r\n\t\t\t\t&lt;/pattern&gt;\r\n\t\t\t&lt;/providers&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n```\r\n\r\nBut span or trace is always null ,\r\n\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;:&quot;@timestamp&quot;,\r\n    &quot;severity&quot;:&quot;INFO&quot;,\r\n    &quot;service&quot;:&quot;springAppName_IS_UNDEFINED&quot;,\r\n    &quot;trace&quot;:&quot;&quot;,\r\n    &quot;span&quot;:&quot;&quot;,\r\n    &quot;pid&quot;:&quot;21524&quot;,\r\n    &quot;thread&quot;:&quot;reactor-http-nio-3&quot;,\r\n    &quot;class&quot;:&quot;elk-logger&quot;,\r\n    &quot;rest&quot;:&quot;test log content&quot;\r\n}\r\n```\r\n\r\nNot sure is there is any configuraiton that i&#39;m missing, Thanks for any advice \r\n\r\n\r\nI tried %X{X-B3-TraceId:-} ,But still doesn&#39;t work\r\n```\r\n&quot;trace&quot;: &quot;%X{X-B3-TraceId:-}&quot;,\r\n&quot;span&quot;: &quot;%X{X-B3-SpanId:-}&quot;,\r\n```\r\n","title":"Can&#39;t see Sleuth spanId or traceId in custom logback","body":"<p>logback configuration is down below</p>\n<pre><code>    &lt;appender name=&quot;ELK-CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                    {\n                        &quot;timestamp&quot;: &quot;@timestamp&quot;,\n                        &quot;severity&quot;: &quot;%level&quot;,\n                        &quot;service&quot;: &quot;${springAppName:-}&quot;,\n                        &quot;trace&quot;: &quot;%X{traceId:-}&quot;,\n                        &quot;span&quot;: &quot;%X{spanId:-}&quot;,\n                        &quot;pid&quot;: &quot;${PID:-}&quot;,\n                        &quot;thread&quot;: &quot;%thread&quot;,\n                        &quot;class&quot;: &quot;%logger{40}&quot;,\n                        &quot;rest&quot;: &quot;%message&quot;\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>But span or trace is always null ,</p>\n<pre><code>{\n    &quot;timestamp&quot;:&quot;@timestamp&quot;,\n    &quot;severity&quot;:&quot;INFO&quot;,\n    &quot;service&quot;:&quot;springAppName_IS_UNDEFINED&quot;,\n    &quot;trace&quot;:&quot;&quot;,\n    &quot;span&quot;:&quot;&quot;,\n    &quot;pid&quot;:&quot;21524&quot;,\n    &quot;thread&quot;:&quot;reactor-http-nio-3&quot;,\n    &quot;class&quot;:&quot;elk-logger&quot;,\n    &quot;rest&quot;:&quot;test log content&quot;\n}\n</code></pre>\n<p>Not sure is there is any configuraiton that i'm missing, Thanks for any advice</p>\n<p>I tried %X{X-B3-TraceId:-} ,But still doesn't work</p>\n<pre><code>&quot;trace&quot;: &quot;%X{X-B3-TraceId:-}&quot;,\n&quot;span&quot;: &quot;%X{X-B3-SpanId:-}&quot;,\n</code></pre>\n"},{"tags":["javascript","java","jquery","pdf"],"answers":[{"tags":[],"owner":{"account_id":85794,"reputation":90753,"user_id":238978,"accept_rate":50,"display_name":"Emil Vikstr&#246;m"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645677943,"creation_date":1262612669,"answer_id":1999620,"question_id":1999607,"body_markdown":"Do you have to do it with Ajax? Couldn&#39;t it be a possibility to load it in an iframe?","title":"Download and open PDF file using Ajax","body":"<p>Do you have to do it with Ajax? Couldn't it be a possibility to load it in an iframe?</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":9,"up_vote_count":56,"is_accepted":true,"score":47,"last_activity_date":1262614521,"creation_date":1262612712,"answer_id":1999621,"question_id":1999607,"body_markdown":"You don&#39;t necessarily need Ajax for this. Just an `&lt;a&gt;` link is enough if you set the `content-disposition` to `attachment` in the server side code. This way the parent page will just stay open, if that was your major concern (why would you unnecessarily have chosen Ajax for this otherwise?). Besides, there is no way to handle this nicely acynchronously. PDF is not character data. It&#39;s binary data. You can&#39;t do stuff like `$(element).load()`. You want to use **completely new** request for this. For that `&lt;a href=&quot;pdfservlet/filename.pdf&quot;&gt;pdf&lt;/a&gt;` is perfectly suitable.\r\n\r\nTo assist you more with the server side code, you&#39;ll need to tell more about the language used and post an excerpt of the code attempts.","title":"Download and open PDF file using Ajax","body":"<p>You don't necessarily need Ajax for this. Just an <code>&lt;a&gt;</code> link is enough if you set the <code>content-disposition</code> to <code>attachment</code> in the server side code. This way the parent page will just stay open, if that was your major concern (why would you unnecessarily have chosen Ajax for this otherwise?). Besides, there is no way to handle this nicely acynchronously. PDF is not character data. It's binary data. You can't do stuff like <code>$(element).load()</code>. You want to use <strong>completely new</strong> request for this. For that <code>&lt;a href=\"pdfservlet/filename.pdf\"&gt;pdf&lt;/a&gt;</code> is perfectly suitable.</p>\n\n<p>To assist you more with the server side code, you'll need to tell more about the language used and post an excerpt of the code attempts.</p>\n"},{"tags":[],"owner":{"account_id":910733,"reputation":21,"user_id":944668,"display_name":"qalhat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323854161,"creation_date":1316005076,"answer_id":7416689,"question_id":1999607,"body_markdown":"create a hidden iframe, then in your ajax code above:\r\n\r\n**url:** `document.getElementById(&#39;myiframeid&#39;).src = your_server_side_url`,\r\n\r\nand remove the `window.open(response);`\r\n","title":"Download and open PDF file using Ajax","body":"<p>create a hidden iframe, then in your ajax code above:</p>\n\n<p><strong>url:</strong> <code>document.getElementById('myiframeid').src = your_server_side_url</code>,</p>\n\n<p>and remove the <code>window.open(response);</code></p>\n"},{"tags":[],"owner":{"account_id":22563,"reputation":14457,"user_id":55787,"accept_rate":78,"display_name":"chiccodoro"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1665023087,"creation_date":1330092067,"answer_id":9431993,"question_id":1999607,"body_markdown":"I don&#39;t really think that any of the past answers spotted out the problem of the original poster. They all presume a GET request while the poster was trying to POST data and get a download in response.\r\n\r\nIn the course of searching for any better answer we found this [jQuery Plugin for Requesting Ajax-like File Downloads][1] (if link is broken sometime in the future, see the [internet archive](https://web.archive.org/web/20210507135455/https://www.filamentgroup.com/lab/jquery-plugin-for-requesting-ajax-like-file-downloads.html)).\r\n\r\nIn its &quot;heart&quot; it creates a &quot;temporary&quot; HTML form containing the given data as input fields. This form is appended to the document and posted to the desired URL. Right after that the form is removed again:\r\n\r\n    jQuery(&#39;&lt;form action=&quot;&#39;+ url +&#39;&quot; method=&quot;&#39;+ (method||&#39;post&#39;) +&#39;&quot;&gt;&#39;+inputs+&#39;&lt;/form&gt;&#39;)\r\n        .appendTo(&#39;body&#39;).submit().remove()\r\n\r\n**Update** Mayur&#39;s answer looks pretty promising and very simple in comparison to the jQuery plug-in I referred to.\r\n\r\n  [1]: https://www.filamentgroup.com/lab/jquery-plugin-for-requesting-ajax-like-file-downloads.html","title":"Download and open PDF file using Ajax","body":"<p>I don't really think that any of the past answers spotted out the problem of the original poster. They all presume a GET request while the poster was trying to POST data and get a download in response.</p>\n<p>In the course of searching for any better answer we found this <a href=\"https://www.filamentgroup.com/lab/jquery-plugin-for-requesting-ajax-like-file-downloads.html\" rel=\"nofollow noreferrer\">jQuery Plugin for Requesting Ajax-like File Downloads</a> (if link is broken sometime in the future, see the <a href=\"https://web.archive.org/web/20210507135455/https://www.filamentgroup.com/lab/jquery-plugin-for-requesting-ajax-like-file-downloads.html\" rel=\"nofollow noreferrer\">internet archive</a>).</p>\n<p>In its &quot;heart&quot; it creates a &quot;temporary&quot; HTML form containing the given data as input fields. This form is appended to the document and posted to the desired URL. Right after that the form is removed again:</p>\n<pre><code>jQuery('&lt;form action=&quot;'+ url +'&quot; method=&quot;'+ (method||'post') +'&quot;&gt;'+inputs+'&lt;/form&gt;')\n    .appendTo('body').submit().remove()\n</code></pre>\n<p><strong>Update</strong> Mayur's answer looks pretty promising and very simple in comparison to the jQuery plug-in I referred to.</p>\n"},{"tags":[],"owner":{"account_id":275153,"reputation":9129,"user_id":567854,"display_name":"Ijas Ameenudeen"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1549369233,"creation_date":1342519051,"answer_id":11520119,"question_id":1999607,"body_markdown":"You could use this plugin which creates a form, and submits it, then removes it from the page.\r\n\r\n    jQuery.download = function(url, data, method) {\r\n        //url and data options required\r\n        if (url &amp;&amp; data) {\r\n            //data can be string of parameters or array/object\r\n            data = typeof data == &#39;string&#39; ? data : jQuery.param(data);\r\n            //split params into form inputs\r\n            var inputs = &#39;&#39;;\r\n            jQuery.each(data.split(&#39;&amp;&#39;), function() {\r\n                var pair = this.split(&#39;=&#39;);\r\n                inputs += &#39;&lt;input type=&quot;hidden&quot; name=&quot;&#39; + pair[0] +\r\n                    &#39;&quot; value=&quot;&#39; + pair[1] + &#39;&quot; /&gt;&#39;;\r\n            });\r\n            //send request\r\n            jQuery(&#39;&lt;form action=&quot;&#39; + url +\r\n                    &#39;&quot; method=&quot;&#39; + (method || &#39;post&#39;) + &#39;&quot;&gt;&#39; + inputs + &#39;&lt;/form&gt;&#39;)\r\n                .appendTo(&#39;body&#39;).submit().remove();\r\n        };\r\n    };\r\n\r\n\r\n    $.download(\r\n        &#39;/export.php&#39;,\r\n        &#39;filename=mySpreadsheet&amp;format=xls&amp;content=&#39; + spreadsheetData\r\n    );\r\n\r\nThis worked for me. Found this plugin [here][1]\r\n\r\n\r\n  [1]: http://filamentgroup.com/lab/jquery_plugin_for_requesting_ajax_like_file_downloads/","title":"Download and open PDF file using Ajax","body":"<p>You could use this plugin which creates a form, and submits it, then removes it from the page.</p>\n\n<pre><code>jQuery.download = function(url, data, method) {\n    //url and data options required\n    if (url &amp;&amp; data) {\n        //data can be string of parameters or array/object\n        data = typeof data == 'string' ? data : jQuery.param(data);\n        //split params into form inputs\n        var inputs = '';\n        jQuery.each(data.split('&amp;'), function() {\n            var pair = this.split('=');\n            inputs += '&lt;input type=\"hidden\" name=\"' + pair[0] +\n                '\" value=\"' + pair[1] + '\" /&gt;';\n        });\n        //send request\n        jQuery('&lt;form action=\"' + url +\n                '\" method=\"' + (method || 'post') + '\"&gt;' + inputs + '&lt;/form&gt;')\n            .appendTo('body').submit().remove();\n    };\n};\n\n\n$.download(\n    '/export.php',\n    'filename=mySpreadsheet&amp;format=xls&amp;content=' + spreadsheetData\n);\n</code></pre>\n\n<p>This worked for me. Found this plugin <a href=\"http://filamentgroup.com/lab/jquery_plugin_for_requesting_ajax_like_file_downloads/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3391195,"reputation":2037,"user_id":2845977,"display_name":"Mayur Padshala"},"down_vote_count":2,"up_vote_count":140,"is_accepted":false,"score":138,"last_activity_date":1537559266,"creation_date":1418984551,"answer_id":27563953,"question_id":1999607,"body_markdown":"Here is how I got this working\n\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\n\n&lt;!-- language: lang-js --&gt;\n\n    $.ajax({\n      url: &#39;&lt;URL_TO_FILE&gt;&#39;,\n      success: function(data) {\n        var blob=new Blob([data]);\n        var link=document.createElement(&#39;a&#39;);\n        link.href=window.URL.createObjectURL(blob);\n        link.download=&quot;&lt;FILENAME_TO_SAVE_WITH_EXTENSION&gt;&quot;;\n        link.click();\n      }\n    });\n\n&lt;!-- language: lang-html --&gt;\n\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n\n\n&lt;!-- end snippet --&gt;\n\n\n## Updated answer using [download.js][1]\n\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\n\n&lt;!-- language: lang-js --&gt;\n\n    $.ajax({\n      url: &#39;&lt;URL_TO_FILE&gt;&#39;,\n      success: download.bind(true, &quot;&lt;FILENAME_TO_SAVE_WITH_EXTENSION&gt;&quot;, &quot;&lt;FILE_MIME_TYPE&gt;&quot;)\n    });\n\n&lt;!-- end snippet --&gt;\n\n\n  [1]: http://danml.com/download.html","title":"Download and open PDF file using Ajax","body":"<p>Here is how I got this working</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$.ajax({\n  url: '&lt;URL_TO_FILE&gt;',\n  success: function(data) {\n    var blob=new Blob([data]);\n    var link=document.createElement('a');\n    link.href=window.URL.createObjectURL(blob);\n    link.download=\"&lt;FILENAME_TO_SAVE_WITH_EXTENSION&gt;\";\n    link.click();\n  }\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Updated answer using <a href=\"http://danml.com/download.html\" rel=\"noreferrer\">download.js</a></h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$.ajax({\n  url: '&lt;URL_TO_FILE&gt;',\n  success: download.bind(true, \"&lt;FILENAME_TO_SAVE_WITH_EXTENSION&gt;\", \"&lt;FILE_MIME_TYPE&gt;\")\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1421515926,"creation_date":1421515926,"answer_id":28002215,"question_id":1999607,"body_markdown":"This is how i solve this issue.  \r\nThe answer of Jonathan Amend on [this post][1] helped me a lot.  \r\nThe example below is simplified.  \r\n  \r\nFor more details, the above source code is able to **download a file using a JQuery Ajax request (GET, POST, PUT etc)**. It, also, helps to upload parameters as **JSON and to change the content type to application/json (my default)**.\r\n  \r\nThe ***html*** source:  \r\n    \r\n\r\n    &lt;form method=&quot;POST&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;startDate&quot;/&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;endDate&quot;/&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;startDate&quot;/&gt;\r\n        &lt;select name=&quot;reportTimeDetail&quot;&gt;\r\n            &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;\r\n        &lt;/select&gt;\r\n        &lt;button type=&quot;submit&quot;&gt; Submit&lt;/button&gt;\r\n    &lt;/form&gt;  \r\nA simple form with two input text, one select and a button element.\r\n  \r\nThe ***javascript page*** source:\r\n  \r\n        \r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;JQuery 1.11.0 link&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        // File Download on form submition.\r\n        $(document).on(&quot;ready&quot;, function(){\r\n            $(&quot;form button&quot;).on(&quot;click&quot;, function (event) {\r\n                event.stopPropagation(); // Do not propagate the event.\r\n\r\n                // Create an object that will manage to download the file.\r\n                new AjaxDownloadFile({\r\n                    url: &quot;url that returns a file&quot;,\r\n                    data: JSON.stringify($(&quot;form&quot;).serializeObject())\r\n                });\r\n\r\n                return false; // Do not submit the form.\r\n            });\r\n        });\r\n    &lt;/script&gt;  \r\nA simple event on button click. It creates an AjaxDownloadFile object. The AjaxDownloadFile class source is below.  \r\n  \r\nThe ***AjaxDownloadFile class*** source:  \r\n  \r\n    var AjaxDownloadFile = function (configurationSettings) {\r\n        // Standard settings.\r\n        this.settings = {\r\n            // JQuery AJAX default attributes.\r\n            url: &quot;&quot;,\r\n            type: &quot;POST&quot;,\r\n            headers: {\r\n                &quot;Content-Type&quot;: &quot;application/json; charset=UTF-8&quot;\r\n            },\r\n            data: {},\r\n            // Custom events.\r\n            onSuccessStart: function (response, status, xhr, self) {\r\n            },\r\n            onSuccessFinish: function (response, status, xhr, self, filename) {\r\n            },\r\n            onErrorOccured: function (response, status, xhr, self) {\r\n            }\r\n        };\r\n        this.download = function () {\r\n            var self = this;\r\n            $.ajax({\r\n                type: this.settings.type,\r\n                url: this.settings.url,\r\n                headers: this.settings.headers,\r\n                data: this.settings.data,\r\n                success: function (response, status, xhr) {\r\n                    // Start custom event.\r\n                    self.settings.onSuccessStart(response, status, xhr, self);\r\n\r\n                    // Check if a filename is existing on the response headers.\r\n                    var filename = &quot;&quot;;\r\n                    var disposition = xhr.getResponseHeader(&quot;Content-Disposition&quot;);\r\n                    if (disposition &amp;&amp; disposition.indexOf(&quot;attachment&quot;) !== -1) {\r\n                        var filenameRegex = /filename[^;=\\n]*=(([&quot;&quot;]).*?\\2|[^;\\n]*)/;\r\n                        var matches = filenameRegex.exec(disposition);\r\n                        if (matches != null &amp;&amp; matches[1])\r\n                            filename = matches[1].replace(/[&quot;&quot;]/g, &quot;&quot;);\r\n                    }\r\n\r\n                    var type = xhr.getResponseHeader(&quot;Content-Type&quot;);\r\n                    var blob = new Blob([response], {type: type});\r\n\r\n                    if (typeof window.navigator.msSaveBlob !== &quot;undefined&quot;) {\r\n                        // IE workaround for &quot;HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.\r\n                        window.navigator.msSaveBlob(blob, filename);\r\n                    } else {\r\n                        var URL = window.URL || window.webkitURL;\r\n                        var downloadUrl = URL.createObjectURL(blob);\r\n\r\n                        if (filename) {\r\n                            // Use HTML5 a[download] attribute to specify filename.\r\n                            var a = document.createElement(&quot;a&quot;);\r\n                            // Safari doesn&quot;t support this yet.\r\n                            if (typeof a.download === &quot;undefined&quot;) {\r\n                                window.location = downloadUrl;\r\n                            } else {\r\n                                a.href = downloadUrl;\r\n                                a.download = filename;\r\n                                document.body.appendChild(a);\r\n                                a.click();\r\n                            }\r\n                        } else {\r\n                            window.location = downloadUrl;\r\n                        }\r\n\r\n                        setTimeout(function () {\r\n                            URL.revokeObjectURL(downloadUrl);\r\n                        }, 100); // Cleanup\r\n                    }\r\n\r\n                    // Final custom event.\r\n                    self.settings.onSuccessFinish(response, status, xhr, self, filename);\r\n                },\r\n                error: function (response, status, xhr) {\r\n                    // Custom event to handle the error.\r\n                    self.settings.onErrorOccured(response, status, xhr, self);\r\n                }\r\n            });\r\n        };\r\n        // Constructor.\r\n        {\r\n            // Merge settings.\r\n            $.extend(this.settings, configurationSettings);\r\n            // Make the request.\r\n            this.download();\r\n        }\r\n    };\r\n  \r\nI created this class to added to my JS library. It is reusable. Hope that helps.\r\n\r\n\r\n\r\n[1]: https://stackoverflow.com/questions/16086162/handle-file-download-from-ajax-post","title":"Download and open PDF file using Ajax","body":"<p>This is how i solve this issue.<br>\nThe answer of Jonathan Amend on <a href=\"https://stackoverflow.com/questions/16086162/handle-file-download-from-ajax-post\">this post</a> helped me a lot.<br>\nThe example below is simplified.  </p>\n\n<p>For more details, the above source code is able to <strong>download a file using a JQuery Ajax request (GET, POST, PUT etc)</strong>. It, also, helps to upload parameters as <strong>JSON and to change the content type to application/json (my default)</strong>.</p>\n\n<p>The <strong><em>html</em></strong> source:  </p>\n\n<pre><code>&lt;form method=\"POST\"&gt;\n    &lt;input type=\"text\" name=\"startDate\"/&gt;\n    &lt;input type=\"text\" name=\"endDate\"/&gt;\n    &lt;input type=\"text\" name=\"startDate\"/&gt;\n    &lt;select name=\"reportTimeDetail\"&gt;\n        &lt;option value=\"1\"&gt;1&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;button type=\"submit\"&gt; Submit&lt;/button&gt;\n&lt;/form&gt;  \n</code></pre>\n\n<p>A simple form with two input text, one select and a button element.</p>\n\n<p>The <strong><em>javascript page</em></strong> source:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"JQuery 1.11.0 link\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    // File Download on form submition.\n    $(document).on(\"ready\", function(){\n        $(\"form button\").on(\"click\", function (event) {\n            event.stopPropagation(); // Do not propagate the event.\n\n            // Create an object that will manage to download the file.\n            new AjaxDownloadFile({\n                url: \"url that returns a file\",\n                data: JSON.stringify($(\"form\").serializeObject())\n            });\n\n            return false; // Do not submit the form.\n        });\n    });\n&lt;/script&gt;  \n</code></pre>\n\n<p>A simple event on button click. It creates an AjaxDownloadFile object. The AjaxDownloadFile class source is below.  </p>\n\n<p>The <strong><em>AjaxDownloadFile class</em></strong> source:  </p>\n\n<pre><code>var AjaxDownloadFile = function (configurationSettings) {\n    // Standard settings.\n    this.settings = {\n        // JQuery AJAX default attributes.\n        url: \"\",\n        type: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        },\n        data: {},\n        // Custom events.\n        onSuccessStart: function (response, status, xhr, self) {\n        },\n        onSuccessFinish: function (response, status, xhr, self, filename) {\n        },\n        onErrorOccured: function (response, status, xhr, self) {\n        }\n    };\n    this.download = function () {\n        var self = this;\n        $.ajax({\n            type: this.settings.type,\n            url: this.settings.url,\n            headers: this.settings.headers,\n            data: this.settings.data,\n            success: function (response, status, xhr) {\n                // Start custom event.\n                self.settings.onSuccessStart(response, status, xhr, self);\n\n                // Check if a filename is existing on the response headers.\n                var filename = \"\";\n                var disposition = xhr.getResponseHeader(\"Content-Disposition\");\n                if (disposition &amp;&amp; disposition.indexOf(\"attachment\") !== -1) {\n                    var filenameRegex = /filename[^;=\\n]*=(([\"\"]).*?\\2|[^;\\n]*)/;\n                    var matches = filenameRegex.exec(disposition);\n                    if (matches != null &amp;&amp; matches[1])\n                        filename = matches[1].replace(/[\"\"]/g, \"\");\n                }\n\n                var type = xhr.getResponseHeader(\"Content-Type\");\n                var blob = new Blob([response], {type: type});\n\n                if (typeof window.navigator.msSaveBlob !== \"undefined\") {\n                    // IE workaround for \"HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.\n                    window.navigator.msSaveBlob(blob, filename);\n                } else {\n                    var URL = window.URL || window.webkitURL;\n                    var downloadUrl = URL.createObjectURL(blob);\n\n                    if (filename) {\n                        // Use HTML5 a[download] attribute to specify filename.\n                        var a = document.createElement(\"a\");\n                        // Safari doesn\"t support this yet.\n                        if (typeof a.download === \"undefined\") {\n                            window.location = downloadUrl;\n                        } else {\n                            a.href = downloadUrl;\n                            a.download = filename;\n                            document.body.appendChild(a);\n                            a.click();\n                        }\n                    } else {\n                        window.location = downloadUrl;\n                    }\n\n                    setTimeout(function () {\n                        URL.revokeObjectURL(downloadUrl);\n                    }, 100); // Cleanup\n                }\n\n                // Final custom event.\n                self.settings.onSuccessFinish(response, status, xhr, self, filename);\n            },\n            error: function (response, status, xhr) {\n                // Custom event to handle the error.\n                self.settings.onErrorOccured(response, status, xhr, self);\n            }\n        });\n    };\n    // Constructor.\n    {\n        // Merge settings.\n        $.extend(this.settings, configurationSettings);\n        // Make the request.\n        this.download();\n    }\n};\n</code></pre>\n\n<p>I created this class to added to my JS library. It is reusable. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":910996,"reputation":7405,"user_id":944867,"accept_rate":71,"display_name":"ParPar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1468769064,"creation_date":1468769064,"answer_id":38422816,"question_id":1999607,"body_markdown":"What worked for me is the following code, as the server function is retrieving  `File(memoryStream.GetBuffer(), &quot;application/pdf&quot;, &quot;fileName.pdf&quot;);:`\r\n\r\n    $http.get( fullUrl, { responseType: &#39;arraybuffer&#39; })\r\n                .success(function (response) {\r\n                    var blob = new Blob([response], { type: &#39;application/pdf&#39; });\r\n    \r\n                    if (window.navigator &amp;&amp; window.navigator.msSaveOrOpenBlob) {\r\n                        window.navigator.msSaveOrOpenBlob(blob); // for IE\r\n                    }\r\n                    else {\r\n                        var fileURL = URL.createObjectURL(blob);\r\n                        var newWin = window.open(fileURL);\r\n                        newWin.focus();\r\n                        newWin.reload();\r\n                    }\r\n    });","title":"Download and open PDF file using Ajax","body":"<p>What worked for me is the following code, as the server function is retrieving  <code>File(memoryStream.GetBuffer(), \"application/pdf\", \"fileName.pdf\");:</code></p>\n\n<pre><code>$http.get( fullUrl, { responseType: 'arraybuffer' })\n            .success(function (response) {\n                var blob = new Blob([response], { type: 'application/pdf' });\n\n                if (window.navigator &amp;&amp; window.navigator.msSaveOrOpenBlob) {\n                    window.navigator.msSaveOrOpenBlob(blob); // for IE\n                }\n                else {\n                    var fileURL = URL.createObjectURL(blob);\n                    var newWin = window.open(fileURL);\n                    newWin.focus();\n                    newWin.reload();\n                }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5519456,"reputation":45,"user_id":4382944,"display_name":"POGSNET"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491537041,"creation_date":1491533774,"answer_id":43268889,"question_id":1999607,"body_markdown":"&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var xhr;\r\n    var beforeSend = function(){\r\n        $(&#39;#pleasewaitDL&#39;).modal(&#39;show&#39;);\r\n    }\r\n    $(function () {\r\n        $(&#39;#print_brochure_link&#39;).click(function(){\r\n            beforeSend();\r\n            xhr = new XMLHttpRequest();\r\n            xhr.open(&quot;GET&quot;,$(&#39;#preparedPrintModalForm&#39;).attr(&#39;action&#39;), true); \r\n            xhr.responseType = &quot;blob&quot;;\r\n            xhr.onload = function (e) {\r\n                if (this.status === 200) {\r\n                    var file = window.URL.createObjectURL(this.response);\r\n                    var a = document.createElement(&quot;a&quot;);\r\n                    a.href = file;\r\n                    a.download = this.response.name || &quot;Property Brochure&quot;;\r\n                    console.log(file);\r\n                    document.body.appendChild(a);\r\n                    a.click();\r\n                    \r\n                    window.onfocus = function () {                     \r\n                      document.body.removeChild(a)\r\n                    }\r\n                    $(&#39;#pleasewaitDL&#39;).modal(&#39;hide&#39;);\r\n                };\r\n            };\r\n            xhr.send($(&#39;#preparedPrintModalForm&#39;).serialize());\r\n        });\r\n        $(&#39;#pleasewaitDLCancel&#39;).click(function() {\r\n            xhr.abort();\r\n        });\r\n    });\r\n\r\n&lt;!-- end snippet --&gt;","title":"Download and open PDF file using Ajax","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var xhr;\r\nvar beforeSend = function(){\r\n    $('#pleasewaitDL').modal('show');\r\n}\r\n$(function () {\r\n    $('#print_brochure_link').click(function(){\r\n        beforeSend();\r\n        xhr = new XMLHttpRequest();\r\n        xhr.open(\"GET\",$('#preparedPrintModalForm').attr('action'), true); \r\n        xhr.responseType = \"blob\";\r\n        xhr.onload = function (e) {\r\n            if (this.status === 200) {\r\n                var file = window.URL.createObjectURL(this.response);\r\n                var a = document.createElement(\"a\");\r\n                a.href = file;\r\n                a.download = this.response.name || \"Property Brochure\";\r\n                console.log(file);\r\n                document.body.appendChild(a);\r\n                a.click();\r\n                \r\n                window.onfocus = function () {                     \r\n                  document.body.removeChild(a)\r\n                }\r\n                $('#pleasewaitDL').modal('hide');\r\n            };\r\n        };\r\n        xhr.send($('#preparedPrintModalForm').serialize());\r\n    });\r\n    $('#pleasewaitDLCancel').click(function() {\r\n        xhr.abort();\r\n    });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":9858812,"reputation":1289,"user_id":7302498,"accept_rate":43,"display_name":"Astrophage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508479457,"creation_date":1508479457,"answer_id":46843185,"question_id":1999607,"body_markdown":"If you have to work with file-stream (so no physically saved PDF) like we do and you want to download the PDF without page-reload, the following function works for us:\r\n\r\nHTML\r\n\r\n    &lt;div id=&quot;download-helper-hidden-container&quot; style=&quot;display:none&quot;&gt;\r\n         &lt;form id=&quot;download-helper-form&quot; target=&quot;pdf-download-output&quot; method=&quot;post&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;downloadHelperTransferData&quot; id=&quot;downloadHelperTransferData&quot; /&gt;\r\n         &lt;/form&gt;\r\n         &lt;iframe id=&quot;pdf-helper-output&quot; name=&quot;pdf-download-output&quot;&gt;&lt;/iframe&gt;\r\n    &lt;/div&gt;\r\n\r\nJavascript\r\n\r\n    var form = document.getElementById(&#39;download-helper-form&#39;);\r\n    $(&quot;#downloadHelperTransferData&quot;).val(transferData);\r\n    form.action = &quot;ServerSideFunctionWhichWritesPdfBytesToResponse&quot;;\r\n    form.submit();\r\n\r\nDue to the *target=&quot;pdf-download-output&quot;*, the response is written into the iframe and therefore no page reload is executed, but the pdf-response-stream is output in the browser as a download.","title":"Download and open PDF file using Ajax","body":"<p>If you have to work with file-stream (so no physically saved PDF) like we do and you want to download the PDF without page-reload, the following function works for us:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div id=\"download-helper-hidden-container\" style=\"display:none\"&gt;\n     &lt;form id=\"download-helper-form\" target=\"pdf-download-output\" method=\"post\"&gt;\n            &lt;input type=\"hidden\" name=\"downloadHelperTransferData\" id=\"downloadHelperTransferData\" /&gt;\n     &lt;/form&gt;\n     &lt;iframe id=\"pdf-helper-output\" name=\"pdf-download-output\"&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>var form = document.getElementById('download-helper-form');\n$(\"#downloadHelperTransferData\").val(transferData);\nform.action = \"ServerSideFunctionWhichWritesPdfBytesToResponse\";\nform.submit();\n</code></pre>\n\n<p>Due to the <em>target=\"pdf-download-output\"</em>, the response is written into the iframe and therefore no page reload is executed, but the pdf-response-stream is output in the browser as a download.</p>\n"},{"tags":[],"owner":{"display_name":"user5959404"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523284002,"creation_date":1523247615,"answer_id":49725482,"question_id":1999607,"body_markdown":"This snippet is for angular js users which will face the same problem, Note that the response file is downloaded using a programmed click event.\r\nIn this case , the headers were sent by server containing filename and content/type.\r\n\r\n\r\n\r\n    $http({\r\n        method: &#39;POST&#39;, \r\n        url: &#39;DownloadAttachment_URL&#39;,\r\n        data: { &#39;fileRef&#39;: &#39;filename.pdf&#39; }, //I&#39;m sending filename as a param\r\n        headers: { &#39;Authorization&#39;: $localStorage.jwt === undefined ? jwt : $localStorage.jwt },\r\n        responseType: &#39;arraybuffer&#39;,\r\n    }).success(function (data, status, headers, config) {\r\n        headers = headers();\r\n        var filename = headers[&#39;x-filename&#39;];\r\n        var contentType = headers[&#39;content-type&#39;];\r\n        var linkElement = document.createElement(&#39;a&#39;);\r\n        try {\r\n            var blob = new Blob([data], { type: contentType });\r\n            var url = window.URL.createObjectURL(blob);\r\n    \r\n            linkElement.setAttribute(&#39;href&#39;, url);\r\n            linkElement.setAttribute(&quot;download&quot;, filename);\r\n    \r\n            var clickEvent = new MouseEvent(&quot;click&quot;, {\r\n                &quot;view&quot;: window,\r\n                &quot;bubbles&quot;: true,\r\n                &quot;cancelable&quot;: false\r\n            });\r\n            linkElement.dispatchEvent(clickEvent);\r\n        } catch (ex) {\r\n            console.log(ex);\r\n        }\r\n    }).error(function (data, status, headers, config) {\r\n    }).finally(function () {\r\n        \r\n    });","title":"Download and open PDF file using Ajax","body":"<p>This snippet is for angular js users which will face the same problem, Note that the response file is downloaded using a programmed click event.\nIn this case , the headers were sent by server containing filename and content/type.</p>\n\n<pre><code>$http({\n    method: 'POST', \n    url: 'DownloadAttachment_URL',\n    data: { 'fileRef': 'filename.pdf' }, //I'm sending filename as a param\n    headers: { 'Authorization': $localStorage.jwt === undefined ? jwt : $localStorage.jwt },\n    responseType: 'arraybuffer',\n}).success(function (data, status, headers, config) {\n    headers = headers();\n    var filename = headers['x-filename'];\n    var contentType = headers['content-type'];\n    var linkElement = document.createElement('a');\n    try {\n        var blob = new Blob([data], { type: contentType });\n        var url = window.URL.createObjectURL(blob);\n\n        linkElement.setAttribute('href', url);\n        linkElement.setAttribute(\"download\", filename);\n\n        var clickEvent = new MouseEvent(\"click\", {\n            \"view\": window,\n            \"bubbles\": true,\n            \"cancelable\": false\n        });\n        linkElement.dispatchEvent(clickEvent);\n    } catch (ex) {\n        console.log(ex);\n    }\n}).error(function (data, status, headers, config) {\n}).finally(function () {\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7951448,"reputation":321,"user_id":6002158,"display_name":"Vpant"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525169309,"creation_date":1525169309,"answer_id":50114668,"question_id":1999607,"body_markdown":"Concerning the answer given by [Mayur Padshala](https://stackoverflow.com/users/2845977/mayur-padshala) this is the correct logic to download a pdf file via ajax but as others report in the comments this solution is indeed downloads a blank pdf.\r\n\r\nThe reason for this is explained in the accepted answer of this [question](https://stackoverflow.com/questions/34586671/download-pdf-file-using-jquery-ajax/34587987): jQuery has some issues loading binary data using AJAX requests, as it does not yet implement some HTML5 XHR v2 capabilities, see this enhancement [request](https://bugs.jquery.com/ticket/11461) and this [discussion](https://github.com/jquery/jquery/pull/1525).\r\n\r\nSo using `HTMLHTTPRequest` the code should look like this:\r\n\r\n    var req = new XMLHttpRequest();\r\n    req.open(&quot;POST&quot;, &quot;URL&quot;, true);\r\n    req.responseType = &quot;blob&quot;;\r\n    req.onload = function (event) {\r\n        var blob = req.response;\r\n        var link=document.createElement(&#39;a&#39;);\r\n        link.href=window.URL.createObjectURL(blob);\r\n        link.download=&quot;name_for_the_file_to_save_with_extention&quot;;\r\n        link.click();\r\n    }","title":"Download and open PDF file using Ajax","body":"<p>Concerning the answer given by <a href=\"https://stackoverflow.com/users/2845977/mayur-padshala\">Mayur Padshala</a> this is the correct logic to download a pdf file via ajax but as others report in the comments this solution is indeed downloads a blank pdf.</p>\n\n<p>The reason for this is explained in the accepted answer of this <a href=\"https://stackoverflow.com/questions/34586671/download-pdf-file-using-jquery-ajax/34587987\">question</a>: jQuery has some issues loading binary data using AJAX requests, as it does not yet implement some HTML5 XHR v2 capabilities, see this enhancement <a href=\"https://bugs.jquery.com/ticket/11461\" rel=\"noreferrer\">request</a> and this <a href=\"https://github.com/jquery/jquery/pull/1525\" rel=\"noreferrer\">discussion</a>.</p>\n\n<p>So using <code>HTMLHTTPRequest</code> the code should look like this:</p>\n\n<pre><code>var req = new XMLHttpRequest();\nreq.open(\"POST\", \"URL\", true);\nreq.responseType = \"blob\";\nreq.onload = function (event) {\n    var blob = req.response;\n    var link=document.createElement('a');\n    link.href=window.URL.createObjectURL(blob);\n    link.download=\"name_for_the_file_to_save_with_extention\";\n    link.click();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11871784,"reputation":316,"user_id":8687778,"display_name":"MemZ"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543404894,"creation_date":1543404894,"answer_id":53518527,"question_id":1999607,"body_markdown":"The following code worked for me\r\n\r\n    //Parameter to be passed\r\n    var data = &#39;reportid=R3823&amp;isSQL=1&amp;filter=[]&#39;;\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(&quot;POST&quot;, &quot;Reporting.jsp&quot;); //url.It can pdf file path\r\n    xhr.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    xhr.responseType = &quot;blob&quot;;\r\n    xhr.onload = function () {\r\n        if (this.status === 200) {\r\n            var blob = new Blob([xhr.response]);\r\n            const url = window.URL.createObjectURL(blob);\r\n            var a = document.createElement(&#39;a&#39;);\r\n            a.href = url;\r\n            a.download = &#39;myFile.pdf&#39;;\r\n            a.click();\r\n            setTimeout(function () {\r\n                // For Firefox it is necessary to delay revoking the ObjectURL\r\n                window.URL.revokeObjectURL(data)\r\n                    , 100\r\n            })\r\n        }\r\n    };\r\n    xhr.send(data);","title":"Download and open PDF file using Ajax","body":"<p>The following code worked for me</p>\n\n<pre><code>//Parameter to be passed\nvar data = 'reportid=R3823&amp;isSQL=1&amp;filter=[]';\nvar xhr = new XMLHttpRequest();\nxhr.open(\"POST\", \"Reporting.jsp\"); //url.It can pdf file path\nxhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nxhr.responseType = \"blob\";\nxhr.onload = function () {\n    if (this.status === 200) {\n        var blob = new Blob([xhr.response]);\n        const url = window.URL.createObjectURL(blob);\n        var a = document.createElement('a');\n        a.href = url;\n        a.download = 'myFile.pdf';\n        a.click();\n        setTimeout(function () {\n            // For Firefox it is necessary to delay revoking the ObjectURL\n            window.URL.revokeObjectURL(data)\n                , 100\n        })\n    }\n};\nxhr.send(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3306661,"reputation":2090,"user_id":2781265,"accept_rate":80,"display_name":"Ninja"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547098827,"creation_date":1547098827,"answer_id":54122522,"question_id":1999607,"body_markdown":"To fix the blank PDF issue in post request to get stream data like PDF, we need to add response type as &#39;arraybuffer&#39; or &#39;blob&#39; in request\r\n\r\n```\r\n$.ajax({\r\n  url: &#39;&lt;URL&gt;&#39;,\r\n  type: &quot;POST&quot;,\r\n  dataType: &#39;arraybuffer&#39;,\r\n  success: function(data) {\r\n    let blob = new Blob([data], {type: &#39;arraybuffer&#39;});\r\n    let link = document.createElement(&#39;a&#39;);\r\n    let objectURL = window.URL.createObjectURL(blob);\r\n    link.href = objectURL;\r\n    link.target = &#39;_self&#39;;\r\n    link.download = &quot;fileName.pdf&quot;;\r\n    (document.body || document.documentElement).appendChild(link);\r\n    link.click();\r\n    setTimeout(()=&gt;{\r\n        window.URL.revokeObjectURL(objectURL);\r\n        link.remove();\r\n    }, 100);\r\n  }\r\n});\r\n```","title":"Download and open PDF file using Ajax","body":"<p>To fix the blank PDF issue in post request to get stream data like PDF, we need to add response type as 'arraybuffer' or 'blob' in request</p>\n\n<pre><code>$.ajax({\n  url: '&lt;URL&gt;',\n  type: \"POST\",\n  dataType: 'arraybuffer',\n  success: function(data) {\n    let blob = new Blob([data], {type: 'arraybuffer'});\n    let link = document.createElement('a');\n    let objectURL = window.URL.createObjectURL(blob);\n    link.href = objectURL;\n    link.target = '_self';\n    link.download = \"fileName.pdf\";\n    (document.body || document.documentElement).appendChild(link);\n    link.click();\n    setTimeout(()=&gt;{\n        window.URL.revokeObjectURL(objectURL);\n        link.remove();\n    }, 100);\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1988059,"reputation":685,"user_id":1782777,"accept_rate":100,"display_name":"Jurijs Kastanovs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692675291,"creation_date":1549362046,"answer_id":54532179,"question_id":1999607,"body_markdown":"Hope this will save you a few hours and spare you from a headache.\r\nIt took me a while to figure this out, but doing regular $.ajax() request ruined my PDF file, while requesting it through address bar worked perfectly.\r\nSolution was this:\r\n\r\nInclude download.js: https://www.npmjs.com/package/downloadjs\r\n\r\nThen use XMLHttpRequest instead of $.ajax() request.\r\n\r\n        var ajax = new XMLHttpRequest(); \r\n        \r\n        ajax.open(&quot;GET&quot;, &#39;/Admin/GetPdf&#39; + id, true); \r\n        ajax.onreadystatechange = function(data) { \r\n            if (this.readyState == 4)\r\n            {\r\n                if (this.status == 200)\r\n                {\r\n                    download(this.response, &quot;report.pdf&quot;, &quot;application/pdf&quot;);\r\n\r\n                }\r\n                else if (this.responseText != &quot;&quot;)\r\n                {\r\n                    alert(this.responseText);\r\n                }\r\n            }\r\n            else if (this.readyState == 2)\r\n            {\r\n                if (this.status == 200)\r\n                {\r\n                    this.responseType = &quot;blob&quot;;\r\n                }\r\n                else\r\n                {\r\n                    this.responseType = &quot;text&quot;;\r\n                }\r\n            }\r\n        };\r\n\r\n        ajax.send(null);","title":"Download and open PDF file using Ajax","body":"<p>Hope this will save you a few hours and spare you from a headache.\nIt took me a while to figure this out, but doing regular $.ajax() request ruined my PDF file, while requesting it through address bar worked perfectly.\nSolution was this:</p>\n<p>Include download.js: <a href=\"https://www.npmjs.com/package/downloadjs\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/downloadjs</a></p>\n<p>Then use XMLHttpRequest instead of $.ajax() request.</p>\n<pre><code>    var ajax = new XMLHttpRequest(); \n    \n    ajax.open(&quot;GET&quot;, '/Admin/GetPdf' + id, true); \n    ajax.onreadystatechange = function(data) { \n        if (this.readyState == 4)\n        {\n            if (this.status == 200)\n            {\n                download(this.response, &quot;report.pdf&quot;, &quot;application/pdf&quot;);\n\n            }\n            else if (this.responseText != &quot;&quot;)\n            {\n                alert(this.responseText);\n            }\n        }\n        else if (this.readyState == 2)\n        {\n            if (this.status == 200)\n            {\n                this.responseType = &quot;blob&quot;;\n            }\n            else\n            {\n                this.responseType = &quot;text&quot;;\n            }\n        }\n    };\n\n    ajax.send(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23732326,"reputation":21,"user_id":17751390,"display_name":"Etaoin Shrdlu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640295469,"creation_date":1640295469,"answer_id":70467628,"question_id":1999607,"body_markdown":"I have found a solution that solved this problem for me (blank pdf when using jquery ajax). I&#39;ve found this magical solution here: [https://www.py4u.net/discuss/904599][1] (Answer 2) and it involves adding **xhrFields** to your ajax call:\r\n\r\n```\r\nxhrFields: {\r\n   responseType: &#39;blob&#39;\r\n}\r\n```\r\n\r\n\r\nMy working example:\r\n```\r\n$.ajax({\r\n\t  url: &quot;myUrl&quot;,\r\n\t  type: &#39;GET&#39;,\r\n\t  headers: {&quot;token&quot;: mySecurityToken},\r\n\t  xhrFields: {\r\n                responseType: &#39;blob&#39;\r\n      },\r\n\t  data: {id: myId}\r\n\t}).done(function( data, statusText, xhr ) {\r\n        var filename = &quot;&quot;;\r\n\t\tvar disposition = xhr.getResponseHeader(&quot;Content-Disposition&quot;);\r\n\t\tif (disposition &amp;&amp; (disposition.indexOf(&quot;attachment&quot;) !== -1) || disposition.indexOf(&quot;filename&quot;) !== -1) {\r\n\t\t\tvar filenameRegex = /filename[^;=\\n]*=(([&quot;&quot;]).*?\\2|[^;\\n]*)/;\r\n\t\t\tvar matches = filenameRegex.exec(disposition);\r\n\t\t\tif (matches != null &amp;&amp; matches[1])\r\n\t\t\t\tfilename = matches[1].replace(/[&quot;&quot;]/g, &quot;&quot;);\r\n\t\t}\r\n\r\n\t\tvar type = xhr.getResponseHeader(&quot;Content-Type&quot;);\r\n\t\tvar blob = new Blob([data], {type: type});\r\n\r\n\t\tif (typeof window.navigator.msSaveBlob !== &quot;undefined&quot;) {\r\n\t\t\t// IE workaround for &quot;HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.\r\n\t\t\twindow.navigator.msSaveBlob(blob, filename);\r\n\t\t} else {\r\n\t\t\tvar URL = window.URL || window.webkitURL;\r\n\t\t\tvar downloadUrl = URL.createObjectURL(blob);\r\n\r\n\t\t\tif (filename) {\r\n\t\t\t\t// Use HTML5 a[download] attribute to specify filename.\r\n\t\t\t\tvar a = document.createElement(&quot;a&quot;);\r\n\t\t\t\t// Safari doesn&quot;t support this yet.\r\n\t\t\t\tif (typeof a.download === &quot;undefined&quot;) {\r\n\t\t\t\t\twindow.location = downloadUrl;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ta.href = downloadUrl;\r\n\t\t\t\t\ta.download = filename;\r\n\t\t\t\t\tdocument.body.appendChild(a);\r\n\t\t\t\t\ta.click();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\twindow.location = downloadUrl;\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tURL.revokeObjectURL(downloadUrl);\r\n\t\t\t}, 100); // Cleanup\r\n\t\t}\r\n\r\n\t})\r\n```\r\n\r\nI hope this will solve this nasty issue for many of you. \r\n\r\n\r\n  [1]: https://www.py4u.net/discuss/904599","title":"Download and open PDF file using Ajax","body":"<p>I have found a solution that solved this problem for me (blank pdf when using jquery ajax). I've found this magical solution here: <a href=\"https://www.py4u.net/discuss/904599\" rel=\"nofollow noreferrer\">https://www.py4u.net/discuss/904599</a> (Answer 2) and it involves adding <strong>xhrFields</strong> to your ajax call:</p>\n<pre><code>xhrFields: {\n   responseType: 'blob'\n}\n</code></pre>\n<p>My working example:</p>\n<pre><code>$.ajax({\n      url: &quot;myUrl&quot;,\n      type: 'GET',\n      headers: {&quot;token&quot;: mySecurityToken},\n      xhrFields: {\n                responseType: 'blob'\n      },\n      data: {id: myId}\n    }).done(function( data, statusText, xhr ) {\n        var filename = &quot;&quot;;\n        var disposition = xhr.getResponseHeader(&quot;Content-Disposition&quot;);\n        if (disposition &amp;&amp; (disposition.indexOf(&quot;attachment&quot;) !== -1) || disposition.indexOf(&quot;filename&quot;) !== -1) {\n            var filenameRegex = /filename[^;=\\n]*=(([&quot;&quot;]).*?\\2|[^;\\n]*)/;\n            var matches = filenameRegex.exec(disposition);\n            if (matches != null &amp;&amp; matches[1])\n                filename = matches[1].replace(/[&quot;&quot;]/g, &quot;&quot;);\n        }\n\n        var type = xhr.getResponseHeader(&quot;Content-Type&quot;);\n        var blob = new Blob([data], {type: type});\n\n        if (typeof window.navigator.msSaveBlob !== &quot;undefined&quot;) {\n            // IE workaround for &quot;HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.\n            window.navigator.msSaveBlob(blob, filename);\n        } else {\n            var URL = window.URL || window.webkitURL;\n            var downloadUrl = URL.createObjectURL(blob);\n\n            if (filename) {\n                // Use HTML5 a[download] attribute to specify filename.\n                var a = document.createElement(&quot;a&quot;);\n                // Safari doesn&quot;t support this yet.\n                if (typeof a.download === &quot;undefined&quot;) {\n                    window.location = downloadUrl;\n                } else {\n                    a.href = downloadUrl;\n                    a.download = filename;\n                    document.body.appendChild(a);\n                    a.click();\n                }\n            } else {\n                window.location = downloadUrl;\n            }\n\n            setTimeout(function () {\n                URL.revokeObjectURL(downloadUrl);\n            }, 100); // Cleanup\n        }\n\n    })\n</code></pre>\n<p>I hope this will solve this nasty issue for many of you.</p>\n"},{"tags":[],"owner":{"account_id":24361101,"reputation":1,"user_id":18295445,"display_name":"Chien Vu Cover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645677898,"creation_date":1645676075,"answer_id":71247037,"question_id":1999607,"body_markdown":"100% OK for all file types\r\n\r\n    // download the file\r\n    var link = document.createElement(&#39;a&#39;),\r\n        filename = fname;\r\n    link.href = URL.createObjectURL(data);\r\n    link.download = filename;\r\n    link.click();","title":"Download and open PDF file using Ajax","body":"<p>100% OK for all file types</p>\n<pre><code>// download the file\nvar link = document.createElement('a'),\n    filename = fname;\nlink.href = URL.createObjectURL(data);\nlink.download = filename;\nlink.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8584926,"reputation":148,"user_id":9489957,"display_name":"ramzieus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654344092,"creation_date":1654344092,"answer_id":72499569,"question_id":1999607,"body_markdown":"The best usage is to do an anchor or a form with the provided link, but it you need to do a validation or in other cases using jquery the best usage is to add a form and submit it using jquery (don&#39;t forget to set your request disposition as attachement on server side).\r\n\r\n    &lt;form id=&quot;pdf-form&quot; action=&quot;/link_to/download_your.pdf&quot; accept-charset=&quot;UTF-8&quot; method=&quot;get&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;data&quot; id=&quot;data&quot; value=&quot;your data&quot;&gt;&lt;/form&gt;\r\nand \r\n\r\n    &lt;a href=&quot;javascript:void(0);&quot; id=&quot;pdf&quot;&gt;Download my Pdf&lt;/a&gt;\r\n\r\nthen in jquery \r\n\r\n    $(&#39;#pdf&#39;).click(function () {\r\n    // your data if it json do it like this JSON.stringify(your_data_as_json)\r\n    $(&#39;#data&#39;).val(data);\r\n    $(&#39;#pdf-form&#39;).submit();\r\n    })","title":"Download and open PDF file using Ajax","body":"<p>The best usage is to do an anchor or a form with the provided link, but it you need to do a validation or in other cases using jquery the best usage is to add a form and submit it using jquery (don't forget to set your request disposition as attachement on server side).</p>\n<pre><code>&lt;form id=&quot;pdf-form&quot; action=&quot;/link_to/download_your.pdf&quot; accept-charset=&quot;UTF-8&quot; method=&quot;get&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;data&quot; id=&quot;data&quot; value=&quot;your data&quot;&gt;&lt;/form&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;a href=&quot;javascript:void(0);&quot; id=&quot;pdf&quot;&gt;Download my Pdf&lt;/a&gt;\n</code></pre>\n<p>then in jquery</p>\n<pre><code>$('#pdf').click(function () {\n// your data if it json do it like this JSON.stringify(your_data_as_json)\n$('#data').val(data);\n$('#pdf-form').submit();\n})\n</code></pre>\n"}],"owner":{"account_id":61754,"reputation":3594,"user_id":183871,"accept_rate":94,"display_name":"Nayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401179,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":1999621,"answer_count":18,"score":115,"last_activity_date":1692675291,"creation_date":1262612539,"question_id":1999607,"body_markdown":"I have an action class that generates a PDF. The `contentType` is set appropriately.\r\n\r\n    public class MyAction extends ActionSupport \r\n    {\r\n       public String execute() {\r\n        ...\r\n        ...\r\n        File report = signedPdfExporter.generateReport(xyzData, props);\r\n\r\n        inputStream = new FileInputStream(report);\r\n        contentDisposition = &quot;attachment=\\&quot;&quot; + report.getName() + &quot;\\&quot;&quot;;\r\n        contentType = &quot;application/pdf&quot;;\r\n        return SUCCESS;\r\n       }\r\n    }\r\n\r\nI call this `action`  through an Ajax call. I don&#39;t know the way to deliver this stream to browser. I tried a few things but nothing worked.\r\n\r\n    $.ajax({\r\n        type: &quot;POST&quot;,\r\n        url: url,\r\n        data: wireIdList,\r\n        cache: false,\r\n        success: function(response)\r\n        {\r\n            alert(&#39;got response&#39;);\r\n            window.open(response);\r\n        },\r\n        error: function (XMLHttpRequest, textStatus, errorThrown) \r\n        {\r\n            alert(&#39;Error occurred while opening fax template&#39; \r\n                  + getAjaxErrorString(textStatus, errorThrown));\r\n        }\r\n    });\r\n\r\nThe above gives the error:\r\n\r\n&gt; Your browser sent a request that this server could not understand.","title":"Download and open PDF file using Ajax","body":"<p>I have an action class that generates a PDF. The <code>contentType</code> is set appropriately.</p>\n\n<pre><code>public class MyAction extends ActionSupport \n{\n   public String execute() {\n    ...\n    ...\n    File report = signedPdfExporter.generateReport(xyzData, props);\n\n    inputStream = new FileInputStream(report);\n    contentDisposition = \"attachment=\\\"\" + report.getName() + \"\\\"\";\n    contentType = \"application/pdf\";\n    return SUCCESS;\n   }\n}\n</code></pre>\n\n<p>I call this <code>action</code>  through an Ajax call. I don't know the way to deliver this stream to browser. I tried a few things but nothing worked.</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: url,\n    data: wireIdList,\n    cache: false,\n    success: function(response)\n    {\n        alert('got response');\n        window.open(response);\n    },\n    error: function (XMLHttpRequest, textStatus, errorThrown) \n    {\n        alert('Error occurred while opening fax template' \n              + getAjaxErrorString(textStatus, errorThrown));\n    }\n});\n</code></pre>\n\n<p>The above gives the error:</p>\n\n<blockquote>\n  <p>Your browser sent a request that this server could not understand.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","rest","microservices"],"owner":{"account_id":17286508,"reputation":13,"user_id":12518998,"display_name":"Rob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692674672,"creation_date":1692674672,"question_id":76949901,"body_markdown":"I want to to create one custom end point having utility methods to be used by different microservices by passing there specification. Example \r\n\r\nLocalhost:8080/context-path/readFile/{fileType} \r\nWhich will be having kind of utility methods used by multiple Ms based upon different fileType and I will put all this within a utility Jar\r\n\r\nSo system1 can implement this end point and pass their file type and used this sepcification and same fot system2 ..can someone guide me ? \r\n\r\nI know @endpoint ,@controllerendpoint works in similar way but i dont want this to be part of actuator end point and my utility end point will be part of a utility jar. ","title":"Create utility endpoint to be implemented by different microservices","body":"<p>I want to to create one custom end point having utility methods to be used by different microservices by passing there specification. Example</p>\n<p>Localhost:8080/context-path/readFile/{fileType}\nWhich will be having kind of utility methods used by multiple Ms based upon different fileType and I will put all this within a utility Jar</p>\n<p>So system1 can implement this end point and pass their file type and used this sepcification and same fot system2 ..can someone guide me ?</p>\n<p>I know @endpoint ,@controllerendpoint works in similar way but i dont want this to be part of actuator end point and my utility end point will be part of a utility jar.</p>\n"},{"tags":["java","python","websocket","protocol-buffers"],"comments":[{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1377207915,"post_id":18391290,"comment_id":27010509,"body_markdown":"Why is the status code a float? And do you need to define `rpc_pb2.OK` somewhere?","body":"Why is the status code a float? And do you need to define <code>rpc_pb2.OK</code> somewhere?"},{"owner":{"account_id":1064053,"reputation":93,"user_id":1065032,"accept_rate":25,"display_name":"JeffSpicoli"},"score":0,"creation_date":1377208223,"post_id":18391290,"comment_id":27010625,"body_markdown":"You have a good eye. I feared the post was already long so I left out the rpc_pb2.OK Here it is enum StatusCd {\n  // Server-side errors\n  OK = 1;\n  ...\n} Also you are correct the status code should not be a float...an error for sure.","body":"You have a good eye. I feared the post was already long so I left out the rpc_pb2.OK Here it is enum StatusCd {   // Server-side errors   OK = 1;   ... } Also you are correct the status code should not be a float...an error for sure."},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1377208640,"post_id":18391290,"comment_id":27010756,"body_markdown":"Are you sure the client and the server are using compatible .proto files? Maybe the field types are different or something.","body":"Are you sure the client and the server are using compatible .proto files? Maybe the field types are different or something."},{"owner":{"account_id":1064053,"reputation":93,"user_id":1065032,"accept_rate":25,"display_name":"JeffSpicoli"},"score":0,"creation_date":1377209785,"post_id":18391290,"comment_id":27011118,"body_markdown":"Double checked .proto files and recompiled Python just now to be sure. Same response. The non-nested is working without issue. I&#39;m guessing the SerializeToString on the inner and then again on the entire message probably is not correct.","body":"Double checked .proto files and recompiled Python just now to be sure. Same response. The non-nested is working without issue. I&#39;m guessing the SerializeToString on the inner and then again on the entire message probably is not correct."}],"answers":[{"tags":[],"owner":{"account_id":1064053,"reputation":93,"user_id":1065032,"accept_rate":25,"display_name":"JeffSpicoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380133374,"creation_date":1380133374,"answer_id":19012383,"question_id":18391290,"body_markdown":"Solution\r\n\r\nAlso posted this question on protobuf group\r\n\r\nCredit to Christopher Head and Ilia Mirkin for providing input on the google group\r\n\r\nhttps://groups.google.com/forum/#!topic/protobuf/Cp7zWiWok9I\r\n  \r\n    response.response_proto = base64.b64encode(heartbeatResult.SerializeToString())\r\n    self.sendMessage(response.SerializeToString())\r\n\r\nFYI, Ilia also suggested base64 encoding the entire message but this seems to be working at the moment. ","title":"How to encode nested Python Protobuf","body":"<p>Solution</p>\n\n<p>Also posted this question on protobuf group</p>\n\n<p>Credit to Christopher Head and Ilia Mirkin for providing input on the google group</p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/protobuf/Cp7zWiWok9I\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/protobuf/Cp7zWiWok9I</a></p>\n\n<pre><code>response.response_proto = base64.b64encode(heartbeatResult.SerializeToString())\nself.sendMessage(response.SerializeToString())\n</code></pre>\n\n<p>FYI, Ilia also suggested base64 encoding the entire message but this seems to be working at the moment. </p>\n"}],"owner":{"account_id":1064053,"reputation":93,"user_id":1065032,"accept_rate":25,"display_name":"JeffSpicoli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692674536,"creation_date":1377207575,"question_id":18391290,"body_markdown":"Been stumped on this for a while and pulling what is left of my hair out.\r\n\r\nSending non-nested Protobufs from Python to Java and Java to Python without \r\nan issue with WebSockets. My problem is sending a nested version over a WebSocket. I believe my issue is on\r\nthe Python encoding side.\r\n\r\nYour guidance is appreciated.\r\n\r\n.proto file\r\n\r\n\r\n    message Response {\r\n      // Reflect back to caller\r\n      required string service_name = 1;\r\n    \r\n      // Reflect back to caller\r\n      required string method_name = 2;\r\n    \r\n      // Who is responding\r\n      required string client_id = 3;\r\n    \r\n      // Status Code\r\n      required StatusCd status_cd = 4;\r\n    \r\n      // RPC response proto\r\n      optional bytes response_proto = 5;\r\n    \r\n      // Was callback invoked\r\n      optional bool callback = 6 [default = false];\r\n    \r\n      // Error, if any\r\n      optional string error = 7;\r\n      //optional string response_desc = 6;\r\n    }\r\n\r\n    message HeartbeatResult {\r\n    \trequired string service = 1;\r\n    \trequired string timestamp = 2;\r\n    \trequired float status_cd = 3;\r\n    \trequired string status_summary = 4;\r\n    }\r\n\r\nA Heartbeat result is supposed to get sent in the reponse_proto field\r\nof the Response Protobuf. I am able to do this in Java to Java but Python \r\nto Java is not working.\r\n\r\nI&#39;ve included two variations of the python code. Neither of which works.\r\n\r\n&lt;!-- language: py --&gt;\r\n       def GetHeartbeat(self):\r\n    \tprint &quot;GetHeartbeat called&quot;\r\n    \timport time\r\n    \tts = time.time()\r\n    \timport datetime\r\n    \tst = datetime.datetime.fromtimestamp(ts).strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)\r\n    \theartbeatResult = rpc_pb2.HeartbeatResult()\r\n    \theartbeatResult.service = &quot;ALERT_SERVICE&quot;\r\n    \theartbeatResult.timestamp = st\r\n    \theartbeatResult.status_cd = rpc_pb2.OK\r\n    \theartbeatResult.status_summary = &quot;OK&quot;\r\n    \r\n    \tresponse = rpc_pb2.Response()\r\n    \tresponse.service_name = &quot;&quot;\r\n    \tresponse.method_name = &quot;SendHeartbeatResult&quot;\r\n    \tresponse.client_id = &quot;ALERT_SERVICE&quot;\r\n    \tresponse.status_cd = rpc_pb2.OK\t\r\n    \tresponse.response_proto = str(heartbeatResult).encode(&#39;utf-8&#39;)\r\n    \r\n    \tself.sendMessage(response.SerializeToString())\r\n    \tprint &quot;GetHeartbeat finished&quot;\r\n    \r\n       def GetHeartbeat2(self):\r\n    \tprint &quot;GetHeartbeat called&quot;\r\n    \timport time\r\n    \tts = time.time()\r\n    \timport datetime\r\n    \tst = datetime.datetime.fromtimestamp(ts).strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)\r\n    \theartbeatResult = rpc_pb2.HeartbeatResult()\r\n    \theartbeatResult.service = &quot;ALERT_SERVICE&quot;\r\n    \theartbeatResult.timestamp = st\r\n    \theartbeatResult.status_cd = rpc_pb2.OK\r\n    \theartbeatResult.status_summary = &quot;OK&quot;\r\n    \r\n    \tresponse = rpc_pb2.Response()\r\n    \tresponse.service_name = &quot;&quot;\r\n    \tresponse.method_name = &quot;SendHeartbeatResult&quot;\r\n    \tresponse.client_id = &quot;ALERT_SERVICE&quot;\r\n    \tresponse.status_cd = rpc_pb2.OK\t\r\n    \tresponse.response_proto = heartbeatResult.SerializeToString()\r\n    \tself.sendMessage(response.SerializeToString())\r\n    \tprint &quot;GetHeartbeat finished&quot;\r\n\r\nErrors on the Java server side are:\r\n\r\n    (GetHeartbeat) Protocol message end-group tag did not match expected tag\r\n    and\r\n    (GetHeartbeat2)\r\n    Message: [org.java_websocket.exceptions.InvalidDataException: java.nio.charset.MalformedInputException: Input length = 1\r\n    \tat org.java_websocket.util.Charsetfunctions.stringUtf8(Charsetfunctions.java:80)\r\n    \tat org.java_websocket.WebSocketImpl.deliverMessage(WebSocketImpl.java:561)\r\n    \tat org.java_websocket.WebSocketImpl.decodeFrames(WebSocketImpl.java:328)\r\n    \tat org.java_websocket.WebSocketImpl.decode(WebSocketImpl.java:149)\r\n    \tat org.java_websocket.server.WebSocketServer$WebSocketWorker.run(WebSocketServer.java:593)\r\n    Caused by: java.nio.charset.MalformedInputException: Input length = 1\r\n    \tat java.nio.charset.CoderResult.throwException(CoderResult.java:277)\r\n    \tat java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:798)\r\n    \tat org.java_websocket.util.Charsetfunctions.stringUtf8(Charsetfunctions.java:77)\r\n\r\n\r\n\r\n","title":"How to encode nested Python Protobuf","body":"<p>Been stumped on this for a while and pulling what is left of my hair out.</p>\n<p>Sending non-nested Protobufs from Python to Java and Java to Python without\nan issue with WebSockets. My problem is sending a nested version over a WebSocket. I believe my issue is on\nthe Python encoding side.</p>\n<p>Your guidance is appreciated.</p>\n<p>.proto file</p>\n<pre><code>message Response {\n  // Reflect back to caller\n  required string service_name = 1;\n\n  // Reflect back to caller\n  required string method_name = 2;\n\n  // Who is responding\n  required string client_id = 3;\n\n  // Status Code\n  required StatusCd status_cd = 4;\n\n  // RPC response proto\n  optional bytes response_proto = 5;\n\n  // Was callback invoked\n  optional bool callback = 6 [default = false];\n\n  // Error, if any\n  optional string error = 7;\n  //optional string response_desc = 6;\n}\n\nmessage HeartbeatResult {\n    required string service = 1;\n    required string timestamp = 2;\n    required float status_cd = 3;\n    required string status_summary = 4;\n}\n</code></pre>\n<p>A Heartbeat result is supposed to get sent in the reponse_proto field\nof the Response Protobuf. I am able to do this in Java to Java but Python\nto Java is not working.</p>\n<p>I've included two variations of the python code. Neither of which works.</p>\n<pre class=\"lang-py prettyprint-override\"><code>   def GetHeartbeat(self):\n    print &quot;GetHeartbeat called&quot;\n    import time\n    ts = time.time()\n    import datetime\n    st = datetime.datetime.fromtimestamp(ts).strftime('%Y-%m-%d %H:%M:%S')\n    heartbeatResult = rpc_pb2.HeartbeatResult()\n    heartbeatResult.service = &quot;ALERT_SERVICE&quot;\n    heartbeatResult.timestamp = st\n    heartbeatResult.status_cd = rpc_pb2.OK\n    heartbeatResult.status_summary = &quot;OK&quot;\n\n    response = rpc_pb2.Response()\n    response.service_name = &quot;&quot;\n    response.method_name = &quot;SendHeartbeatResult&quot;\n    response.client_id = &quot;ALERT_SERVICE&quot;\n    response.status_cd = rpc_pb2.OK \n    response.response_proto = str(heartbeatResult).encode('utf-8')\n\n    self.sendMessage(response.SerializeToString())\n    print &quot;GetHeartbeat finished&quot;\n\n   def GetHeartbeat2(self):\n    print &quot;GetHeartbeat called&quot;\n    import time\n    ts = time.time()\n    import datetime\n    st = datetime.datetime.fromtimestamp(ts).strftime('%Y-%m-%d %H:%M:%S')\n    heartbeatResult = rpc_pb2.HeartbeatResult()\n    heartbeatResult.service = &quot;ALERT_SERVICE&quot;\n    heartbeatResult.timestamp = st\n    heartbeatResult.status_cd = rpc_pb2.OK\n    heartbeatResult.status_summary = &quot;OK&quot;\n\n    response = rpc_pb2.Response()\n    response.service_name = &quot;&quot;\n    response.method_name = &quot;SendHeartbeatResult&quot;\n    response.client_id = &quot;ALERT_SERVICE&quot;\n    response.status_cd = rpc_pb2.OK \n    response.response_proto = heartbeatResult.SerializeToString()\n    self.sendMessage(response.SerializeToString())\n    print &quot;GetHeartbeat finished&quot;\n</code></pre>\n<p>Errors on the Java server side are:</p>\n<pre><code>(GetHeartbeat) Protocol message end-group tag did not match expected tag\nand\n(GetHeartbeat2)\nMessage: [org.java_websocket.exceptions.InvalidDataException: java.nio.charset.MalformedInputException: Input length = 1\n    at org.java_websocket.util.Charsetfunctions.stringUtf8(Charsetfunctions.java:80)\n    at org.java_websocket.WebSocketImpl.deliverMessage(WebSocketImpl.java:561)\n    at org.java_websocket.WebSocketImpl.decodeFrames(WebSocketImpl.java:328)\n    at org.java_websocket.WebSocketImpl.decode(WebSocketImpl.java:149)\n    at org.java_websocket.server.WebSocketServer$WebSocketWorker.run(WebSocketServer.java:593)\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\n    at java.nio.charset.CoderResult.throwException(CoderResult.java:277)\n    at java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:798)\n    at org.java_websocket.util.Charsetfunctions.stringUtf8(Charsetfunctions.java:77)\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":458004,"reputation":4014,"user_id":857649,"display_name":"Stuart Cook"},"score":0,"creation_date":1315540158,"post_id":7356787,"comment_id":8876616,"body_markdown":"It would help if you could tell us why you don&#39;t want to return a `jstring`. Why do you feel you need to modify the string in-place?","body":"It would help if you could tell us why you don&#39;t want to return a <code>jstring</code>. Why do you feel you need to modify the string in-place?"},{"owner":{"account_id":65740,"reputation":984,"user_id":193272,"accept_rate":83,"display_name":"user193272"},"score":0,"creation_date":1315572070,"post_id":7356787,"comment_id":8883140,"body_markdown":"It was because I was already returning a bool from that routine. Now, I am no expert in JNI so most likely there is a better way of doing this. From one of the responses below, I understand that writing another funtion may be another option. Thanks.","body":"It was because I was already returning a bool from that routine. Now, I am no expert in JNI so most likely there is a better way of doing this. From one of the responses below, I understand that writing another funtion may be another option. Thanks."},{"owner":{"account_id":458004,"reputation":4014,"user_id":857649,"display_name":"Stuart Cook"},"score":0,"creation_date":1315573333,"post_id":7356787,"comment_id":8883547,"body_markdown":"Well, in that case I&#39;ve changed my answer to list several ways to get more information out of a method that already has a return value.","body":"Well, in that case I&#39;ve changed my answer to list several ways to get more information out of a method that already has a return value."}],"answers":[{"tags":[],"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1315538488,"creation_date":1315538488,"answer_id":7356811,"question_id":7356787,"body_markdown":"Java strings are immutable by design, you cannot change them, not even with JNI.","title":"how to modify the value of a jstring passed to a C++ routine using Java and JNI?","body":"<p>Java strings are immutable by design, you cannot change them, not even with JNI.</p>\n"},{"tags":[],"owner":{"account_id":458004,"reputation":4014,"user_id":857649,"display_name":"Stuart Cook"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429160702,"creation_date":1315538874,"answer_id":7356839,"question_id":7356787,"body_markdown":"So, it seems that what you really want to do is return more than one value from a native method. There is no direct way to do this, but there are a few indirect ways:\r\n\r\n* Instead of returning a `boolean`, create a class that contains both a `boolean` and a `String`, and have your native code create and return an instance of that class.\r\n* Pass a one-element `String[]` as an argument, and have the native code set its string result as the first element of that array.\r\n* Create a class with a `#setStringValue(String)` method, and pass that into your native method, which will then call that method to supply the string result. Once the native call completes, the Java code that created the helper class can extract the string value.\r\n\r\n---\r\n\r\nOf these possibilities, the one-element array is probably the easiest to handle from JNI code because it doesn&#39;t involve looking up additional classes or methods. However, if I wanted to return extra information from a non-native method I would probably return an instance of a new class containing both results.","title":"how to modify the value of a jstring passed to a C++ routine using Java and JNI?","body":"<p>So, it seems that what you really want to do is return more than one value from a native method. There is no direct way to do this, but there are a few indirect ways:</p>\n\n<ul>\n<li>Instead of returning a <code>boolean</code>, create a class that contains both a <code>boolean</code> and a <code>String</code>, and have your native code create and return an instance of that class.</li>\n<li>Pass a one-element <code>String[]</code> as an argument, and have the native code set its string result as the first element of that array.</li>\n<li>Create a class with a <code>#setStringValue(String)</code> method, and pass that into your native method, which will then call that method to supply the string result. Once the native call completes, the Java code that created the helper class can extract the string value.</li>\n</ul>\n\n<hr>\n\n<p>Of these possibilities, the one-element array is probably the easiest to handle from JNI code because it doesn't involve looking up additional classes or methods. However, if I wanted to return extra information from a non-native method I would probably return an instance of a new class containing both results.</p>\n"},{"tags":[],"owner":{"account_id":122581,"reputation":5168,"user_id":316487,"display_name":"bleater"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692673692,"creation_date":1692673692,"answer_id":76949851,"question_id":7356787,"body_markdown":"You can&#39;t directly modify a `String` parameter, as Java `String`s are immutable. What you can do however is place the string in an array, pass the array to the native code, and then in the native code (using some JNI interop methods) create a new Java `String` and replace the reference in the array with a reference to the new string:\r\n\r\nCaller.java:\r\n\r\n    package com.mycompany.myapp;\r\n\r\n    // Prototype for native method.\r\n    class MyJNI {\r\n        public static native void changeStringsNative(String[] stringArr);\r\n    }\r\n\r\n    void CallNative()\r\n    {\r\n        String[] myStringArr = new String[1] {&quot;Original&quot;};\r\n        System.out.println(&quot;Original (Java): &quot; + myStringArr[0]);\r\n        MyJNI.changeStringsNative(myStringArr);\r\n        System.out.println(&quot;Changed (Java): &quot; + myStringArr[0]);\r\n    }\r\n\r\nCallee.c\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    // Helper macro so we only need to declare class name once.\r\n    #define JNIFUNCTION(sig) Java_com_mycompany_myapp_MyJNI##sig\r\n    \r\n    JNIEXPORT void JNICALL JNIFUNCTION(changeStringsNative(JNIEnv *env, jobject obj,\r\n        jobjectArray myStringArr))\r\n    {\r\n        int stringCount = env-&gt;GetArrayLength(myStringArr);\r\n        for (int i = 0; i &lt; stringCount; i++) {\r\n            jstring myString = (jstring)(env-&gt;GetObjectArrayElement(myStringArr, i));\r\n            const char *myStringOriginalC = env-&gt;GetStringUTFChars(myString, NULL);\r\n            printtf(&quot;Original (native): %s\\n&quot;, myStringOriginalC);\r\n            env-&gt;ReleaseStringUTFChars(myString, myStringOriginalC);\r\n            \r\n            // Now do something in native to transform the string. For example, a printf involving the original.\r\n            char *myStringChangedC = NULL;\r\n            if (asprintf(&amp;myStringChangedC, &quot;Different from the %s!\\n&quot;, myStringOriginalC) == -1) {\r\n                // asprintf malloc error.\r\n                return;\r\n            }\r\n            printtf(&quot;Changed (native): %s\\n&quot;, myChangedStringC);\r\n\r\n            // Create a new jstring and put into the array.\r\n            env-&gt;SetObjectArrayElement(myStringArr, i, env-&gt;NewStringUTF(myChangedStringC));\r\n\r\n            free(myStringChangedC); // must free after asprintf&#39;s malloc.\r\n        }\r\n        return true;\r\n    }\r\n\r\nOutput to stdout:\r\n\r\n    Original (Java): Original\r\n    Original (native): Original\r\n    Changed (native): Different from the Original!\r\n    Changed (Java): Different from the Original!","title":"how to modify the value of a jstring passed to a C++ routine using Java and JNI?","body":"<p>You can't directly modify a <code>String</code> parameter, as Java <code>String</code>s are immutable. What you can do however is place the string in an array, pass the array to the native code, and then in the native code (using some JNI interop methods) create a new Java <code>String</code> and replace the reference in the array with a reference to the new string:</p>\n<p>Caller.java:</p>\n<pre><code>package com.mycompany.myapp;\n\n// Prototype for native method.\nclass MyJNI {\n    public static native void changeStringsNative(String[] stringArr);\n}\n\nvoid CallNative()\n{\n    String[] myStringArr = new String[1] {&quot;Original&quot;};\n    System.out.println(&quot;Original (Java): &quot; + myStringArr[0]);\n    MyJNI.changeStringsNative(myStringArr);\n    System.out.println(&quot;Changed (Java): &quot; + myStringArr[0]);\n}\n</code></pre>\n<p>Callee.c</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;stdio.h&gt;\n\n// Helper macro so we only need to declare class name once.\n#define JNIFUNCTION(sig) Java_com_mycompany_myapp_MyJNI##sig\n\nJNIEXPORT void JNICALL JNIFUNCTION(changeStringsNative(JNIEnv *env, jobject obj,\n    jobjectArray myStringArr))\n{\n    int stringCount = env-&gt;GetArrayLength(myStringArr);\n    for (int i = 0; i &lt; stringCount; i++) {\n        jstring myString = (jstring)(env-&gt;GetObjectArrayElement(myStringArr, i));\n        const char *myStringOriginalC = env-&gt;GetStringUTFChars(myString, NULL);\n        printtf(&quot;Original (native): %s\\n&quot;, myStringOriginalC);\n        env-&gt;ReleaseStringUTFChars(myString, myStringOriginalC);\n        \n        // Now do something in native to transform the string. For example, a printf involving the original.\n        char *myStringChangedC = NULL;\n        if (asprintf(&amp;myStringChangedC, &quot;Different from the %s!\\n&quot;, myStringOriginalC) == -1) {\n            // asprintf malloc error.\n            return;\n        }\n        printtf(&quot;Changed (native): %s\\n&quot;, myChangedStringC);\n\n        // Create a new jstring and put into the array.\n        env-&gt;SetObjectArrayElement(myStringArr, i, env-&gt;NewStringUTF(myChangedStringC));\n\n        free(myStringChangedC); // must free after asprintf's malloc.\n    }\n    return true;\n}\n</code></pre>\n<p>Output to stdout:</p>\n<pre><code>Original (Java): Original\nOriginal (native): Original\nChanged (native): Different from the Original!\nChanged (Java): Different from the Original!\n</code></pre>\n"}],"owner":{"account_id":65740,"reputation":984,"user_id":193272,"accept_rate":83,"display_name":"user193272"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3240,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7356811,"answer_count":3,"score":3,"last_activity_date":1692673692,"creation_date":1315538201,"question_id":7356787,"body_markdown":"Can I pass a string from Java to my C++ routine using JNI function calls and modify its value in the C++ routine?\r\n\r\nSo far, I have seen examples of returning jstring, which I do not want to do. The other option that I know about is to get the ID of the string variable within C++ and set its value.\r\n\r\nAt present, I am playing with a function like the following:\r\n\r\n    JNIEXPORT void JNICALL Java_myexample_ChangeString\r\n    (JNIEnv *, jobject obj, jstring strJava) \r\n\r\nAnd I want to change strJava&#39;s value. So, essentially what I am asking is if it Java can pass variables by reference and not just by value.\r\n\r\nThanks.","title":"how to modify the value of a jstring passed to a C++ routine using Java and JNI?","body":"<p>Can I pass a string from Java to my C++ routine using JNI function calls and modify its value in the C++ routine?</p>\n\n<p>So far, I have seen examples of returning jstring, which I do not want to do. The other option that I know about is to get the ID of the string variable within C++ and set its value.</p>\n\n<p>At present, I am playing with a function like the following:</p>\n\n<pre><code>JNIEXPORT void JNICALL Java_myexample_ChangeString\n(JNIEnv *, jobject obj, jstring strJava) \n</code></pre>\n\n<p>And I want to change strJava's value. So, essentially what I am asking is if it Java can pass variables by reference and not just by value.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1587680303,"post_id":61393663,"comment_id":108614546,"body_markdown":"there are GCs that do that concurrently, btw.","body":"there are GCs that do that concurrently, btw."},{"owner":{"account_id":4373309,"reputation":11,"user_id":3566973,"display_name":"Maverick"},"score":0,"creation_date":1587702584,"post_id":61393663,"comment_id":108619699,"body_markdown":"Even I thought so but when i referred to Oracle documentation they have mentioned:                  Remark phase: This phase is STW collection and helps the completion of the marking cycle. G drains SATB buffers, traces unvisited live objects, and performs reference processing.","body":"Even I thought so but when i referred to Oracle documentation they have mentioned:                  Remark phase: This phase is STW collection and helps the completion of the marking cycle. G drains SATB buffers, traces unvisited live objects, and performs reference processing."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1587712229,"post_id":61393663,"comment_id":108622539,"body_markdown":"I was saying _other_ GC algorithms, look at Shenandoah GC v2.0 and ZGC","body":"I was saying <i>other</i> GC algorithms, look at Shenandoah GC v2.0 and ZGC"},{"owner":{"account_id":4373309,"reputation":11,"user_id":3566973,"display_name":"Maverick"},"score":0,"creation_date":1587723558,"post_id":61393663,"comment_id":108627671,"body_markdown":"Ok I will check them. But I am more interested if I can somehow tune the same GC to improve its performance","body":"Ok I will check them. But I am more interested if I can somehow tune the same GC to improve its performance"},{"owner":{"account_id":4373309,"reputation":11,"user_id":3566973,"display_name":"Maverick"},"score":0,"creation_date":1587754997,"post_id":61393663,"comment_id":108644507,"body_markdown":"Can I enable ZGC in Java8. I tried to search online but did not get any concrete statement","body":"Can I enable ZGC in Java8. I tried to search online but did not get any concrete statement"}],"answers":[{"tags":[],"owner":{"account_id":53185,"reputation":692,"user_id":158997,"display_name":"miro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692673605,"creation_date":1692673605,"answer_id":76949842,"question_id":61393663,"body_markdown":"It is caused by class unload. please try add -XX:-ClassUnloading","title":"Java8: Class unloading in G1GC Remark phase taking too long","body":"<p>It is caused by class unload. please try add -XX:-ClassUnloading</p>\n"}],"owner":{"account_id":4373309,"reputation":11,"user_id":3566973,"display_name":"Maverick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692673605,"creation_date":1587663790,"question_id":61393663,"body_markdown":"We have a Java 8 web service which is using 18GB and other default JVM config. GC pauses are short and normal. But in GC Remark Phase, class unloading is taking a lot of time (see below). This is causing client session to be disconnected. How can we configure GC to reduce class unloading time, or split the time in multiple phases\r\n\r\n    2020-04-21T15:14:15.672+0000: 8165.746: [GC concurrent-root-region-scan-start]\r\n    2020-04-21T15:14:15.703+0000: 8165.778: [GC concurrent-root-region-scan-end, 0.0326298 secs]\r\n    2020-04-21T15:14:15.703+0000: 8165.778: [GC concurrent-mark-start]\r\n    2020-04-21T15:14:16.032+0000: 8166.102: [GC concurrent-mark-end, 0.3238259 secs]\r\n    \r\n    2020-04-21T15:14:16.032+0000: 8166.106: [GC remark 2020-04-21T15:14:16.032+0000: 8166.106: [Finalize Marking, 0.0011369 secs] 2020-04-21T15:14:16.032+0000: 8166.107: [GC ref-proc, 0.0071566 secs] 2020-04-21T15:14:16.047+0000: 8166.114: [**Unloading, 59.0294601 secs**], 59.0400411 secs]\r\n     [Times: user=1.45 sys=0.38, real=59.04 secs] \r\n    \r\n    2020-04-21T15:15:15.076+0000: 8225.150: [GC cleanup 2860M-&gt;1308M(18G), 0.2443660 secs]\r\n     [Times: user=0.19 sys=0.05, real=0.25 secs] ","title":"Java8: Class unloading in G1GC Remark phase taking too long","body":"<p>We have a Java 8 web service which is using 18GB and other default JVM config. GC pauses are short and normal. But in GC Remark Phase, class unloading is taking a lot of time (see below). This is causing client session to be disconnected. How can we configure GC to reduce class unloading time, or split the time in multiple phases</p>\n\n<pre><code>2020-04-21T15:14:15.672+0000: 8165.746: [GC concurrent-root-region-scan-start]\n2020-04-21T15:14:15.703+0000: 8165.778: [GC concurrent-root-region-scan-end, 0.0326298 secs]\n2020-04-21T15:14:15.703+0000: 8165.778: [GC concurrent-mark-start]\n2020-04-21T15:14:16.032+0000: 8166.102: [GC concurrent-mark-end, 0.3238259 secs]\n\n2020-04-21T15:14:16.032+0000: 8166.106: [GC remark 2020-04-21T15:14:16.032+0000: 8166.106: [Finalize Marking, 0.0011369 secs] 2020-04-21T15:14:16.032+0000: 8166.107: [GC ref-proc, 0.0071566 secs] 2020-04-21T15:14:16.047+0000: 8166.114: [**Unloading, 59.0294601 secs**], 59.0400411 secs]\n [Times: user=1.45 sys=0.38, real=59.04 secs] \n\n2020-04-21T15:15:15.076+0000: 8225.150: [GC cleanup 2860M-&gt;1308M(18G), 0.2443660 secs]\n [Times: user=0.19 sys=0.05, real=0.25 secs] \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692673603,"creation_date":1692673603,"answer_id":76949841,"question_id":76949701,"body_markdown":"Guess that your environment variable is not configured property and so it is actually parsing `${SERVER_HOST}` rather than `127.0.0.1`.  You can use the command `printenv` (in case of linux and macOS) to verify what are the actual value of the environment variables to see if they are really configured or not.","title":"How to set server.address from os env vars to java spring boot properties?","body":"<p>Guess that your environment variable is not configured property and so it is actually parsing <code>${SERVER_HOST}</code> rather than <code>127.0.0.1</code>.  You can use the command <code>printenv</code> (in case of linux and macOS) to verify what are the actual value of the environment variables to see if they are really configured or not.</p>\n"}],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692673603,"creation_date":1692670308,"question_id":76949701,"body_markdown":"Have a simple Spring Boot project and specific properties file with this content:\r\n\r\n```\r\nserver:\r\n  address: ${SERVER_HOST}\r\n  port: ${SERVER_PORT}\r\n```\r\n\r\nThe env vars are set from OS from the service, but `server.address` in Spring Boot is `java.net.InetAddress`:\r\n\r\n```\r\nFailed to bind properties under &#39;server.address&#39; to java.net.InetAddress:\r\n\r\n    Property: server.address\r\n    Value: &quot;${SERVER_HOST}&quot;\r\n    Origin: class path resource [config/application.yaml] - 20:12\r\n    Reason: failed to convert java.lang.String to java.net.InetAddress (caused by java.net.UnknownHostException: ${SERVER_HOST})\r\n\r\n```\r\n\r\nMy environment is:\r\n\r\n```bash\r\nSERVER_HOST=127.0.0.1\r\nSERVER_PORT=8080\r\n```\r\n\r\nHow to transform the String value to `InetAddress` in property file? or where is the correct way to set this value?","title":"How to set server.address from os env vars to java spring boot properties?","body":"<p>Have a simple Spring Boot project and specific properties file with this content:</p>\n<pre><code>server:\n  address: ${SERVER_HOST}\n  port: ${SERVER_PORT}\n</code></pre>\n<p>The env vars are set from OS from the service, but <code>server.address</code> in Spring Boot is <code>java.net.InetAddress</code>:</p>\n<pre><code>Failed to bind properties under 'server.address' to java.net.InetAddress:\n\n    Property: server.address\n    Value: &quot;${SERVER_HOST}&quot;\n    Origin: class path resource [config/application.yaml] - 20:12\n    Reason: failed to convert java.lang.String to java.net.InetAddress (caused by java.net.UnknownHostException: ${SERVER_HOST})\n\n</code></pre>\n<p>My environment is:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>SERVER_HOST=127.0.0.1\nSERVER_PORT=8080\n</code></pre>\n<p>How to transform the String value to <code>InetAddress</code> in property file? or where is the correct way to set this value?</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692673139,"post_id":76949785,"comment_id":135652526,"body_markdown":"I&#39;m curious about where this comes from.  It is unusual to use zip to REDUCE the size of files, and then base64 encode, which makes them GROW by 33%.","body":"I&#39;m curious about where this comes from.  It is unusual to use zip to REDUCE the size of files, and then base64 encode, which makes them GROW by 33%."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692674179,"post_id":76949785,"comment_id":135652595,"body_markdown":"This code would also save non-empty files. Check your zips, they&#39;re probably filled with empty files. There are various nits to pick with this code, but &#39;can only write 0kb files&#39; is not one of them. Voting to close - insufficient detail.","body":"This code would also save non-empty files. Check your zips, they&#39;re probably filled with empty files. There are various nits to pick with this code, but &#39;can only write 0kb files&#39; is not one of them. Voting to close - insufficient detail."},{"owner":{"account_id":11175490,"reputation":31,"user_id":9562845,"display_name":"Vignesh Ramamoorthy"},"score":0,"creation_date":1692676528,"post_id":76949785,"comment_id":135652769,"body_markdown":"I have used the same base64 in javascript to download the zip file and it&#39;s working. I can view the files with data&#39;s @rzwitserloot","body":"I have used the same base64 in javascript to download the zip file and it&#39;s working. I can view the files with data&#39;s @rzwitserloot"},{"owner":{"account_id":11175490,"reputation":31,"user_id":9562845,"display_name":"Vignesh Ramamoorthy"},"score":0,"creation_date":1692676641,"post_id":76949785,"comment_id":135652777,"body_markdown":"I have a zipped base 64 CSV files which I get from server side as response. Now I want to exact and store the csv files","body":"I have a zipped base 64 CSV files which I get from server side as response. Now I want to exact and store the csv files"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692693721,"post_id":76949785,"comment_id":135655299,"body_markdown":"Your code works for me","body":"Your code works for me"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692705668,"post_id":76949785,"comment_id":135657843,"body_markdown":"@VigneshRamamoorthy You are saying: &quot;The code works fine&quot;. A casual glance at the code from g00se and me also tells us: Well, sure, this doesn&#39;t have the problem your title mentions. Hence: We do not understand what your question is.","body":"@VigneshRamamoorthy You are saying: &quot;The code works fine&quot;. A casual glance at the code from g00se and me also tells us: Well, sure, this doesn&#39;t have the problem your title mentions. Hence: We do not understand what your question is."}],"owner":{"account_id":11175490,"reputation":31,"user_id":9562845,"display_name":"Vignesh Ramamoorthy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692672391,"creation_date":1692672391,"question_id":76949785,"body_markdown":"I having a zip flders as base64encode. I need to unzip the Base64zip files and store it into new folder path. \r\n\r\n```// ... (same code as before)\r\n\r\npublic class UnzipBase64ZipFolder {\r\n\r\n    public static void main(String[] args) {\r\n        String base64EncodedZip = &quot;BASE64_ENCODED_STRING_HERE&quot;; // Replace with your actual Base64 encoded string\r\n        String outputDirectory = &quot;output_folder&quot;; // Replace with the desired output directory\r\n\r\n        byte[] zipData = Base64.getDecoder().decode(base64EncodedZip);\r\n\r\n        File directory = new File(outputDirectory);\r\n        if (!directory.exists()) {\r\n            directory.mkdir();\r\n        }\r\n\r\n        try (ZipInputStream zipInputStream = new ZipInputStream(new ByteArrayInputStream(zipData))) {\r\n            ZipEntry entry;\r\n            while ((entry = zipInputStream.getNextEntry()) != null) {\r\n                System.out.println(&quot;Processing entry: &quot; + entry.getName());\r\n\r\n                String entryPath = outputDirectory + File.separator + entry.getName();\r\n                File entryFile = new File(entryPath);\r\n\r\n                if (entry.isDirectory()) {\r\n                    entryFile.mkdirs();\r\n                } else {\r\n                    try (BufferedOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(entryFile))) {\r\n                        byte[] buffer = new byte[1024];\r\n                        int len;\r\n                        while ((len = zipInputStream.read(buffer)) &gt; 0) {\r\n                            outputStream.write(buffer, 0, len);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                zipInputStream.closeEntry();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(&quot;Base64 encoded zip folder successfully unzipped.&quot;);\r\n    }\r\n}\r\n```\r\nFrom the above code, I can unzip and store only the empty files (0kb). But I want to unzip and store the files with exact data&#39;s.\r\n\r\nCan any one help me to solve this task? Thanks.","title":"How to unzip the base64 encoded zip files using java","body":"<p>I having a zip flders as base64encode. I need to unzip the Base64zip files and store it into new folder path.</p>\n<pre><code>\npublic class UnzipBase64ZipFolder {\n\n    public static void main(String[] args) {\n        String base64EncodedZip = &quot;BASE64_ENCODED_STRING_HERE&quot;; // Replace with your actual Base64 encoded string\n        String outputDirectory = &quot;output_folder&quot;; // Replace with the desired output directory\n\n        byte[] zipData = Base64.getDecoder().decode(base64EncodedZip);\n\n        File directory = new File(outputDirectory);\n        if (!directory.exists()) {\n            directory.mkdir();\n        }\n\n        try (ZipInputStream zipInputStream = new ZipInputStream(new ByteArrayInputStream(zipData))) {\n            ZipEntry entry;\n            while ((entry = zipInputStream.getNextEntry()) != null) {\n                System.out.println(&quot;Processing entry: &quot; + entry.getName());\n\n                String entryPath = outputDirectory + File.separator + entry.getName();\n                File entryFile = new File(entryPath);\n\n                if (entry.isDirectory()) {\n                    entryFile.mkdirs();\n                } else {\n                    try (BufferedOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(entryFile))) {\n                        byte[] buffer = new byte[1024];\n                        int len;\n                        while ((len = zipInputStream.read(buffer)) &gt; 0) {\n                            outputStream.write(buffer, 0, len);\n                        }\n                    }\n                }\n\n                zipInputStream.closeEntry();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(&quot;Base64 encoded zip folder successfully unzipped.&quot;);\n    }\n}\n</code></pre>\n<p>From the above code, I can unzip and store only the empty files (0kb). But I want to unzip and store the files with exact data's.</p>\n<p>Can any one help me to solve this task? Thanks.</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":28418058,"reputation":11,"user_id":21740514,"display_name":"minji King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683858342,"creation_date":1683773901,"answer_id":76223862,"question_id":76217926,"body_markdown":"My problem was Android Studio JDK version and my Java version was different•••\r\n\r\nafter upgrading Android Studio, its JDK version sets to JDK 17. but, my Java version is still 14.0.1. So, I set both in the same version.\r\n\r\nThat&#39;s why i stuck in build error,,! so,, stupid,,,\r\n\r\nanyway i hope someone to solve this kind of problem easily!\r\n\r\n\r\n    check in terminal : java -version\r\n\r\n    check the JDK version in Android Studio : settings &gt; Build &gt; Gradle &gt; &#39;Gradle JDK&#39;","title":"After updating Android Studio Flamingo 2022.2.1 Patch 1, i got error Execution failed for task &#39;:app:kaptDebugKotlin&#39;","body":"<p>My problem was Android Studio JDK version and my Java version was different•••</p>\n<p>after upgrading Android Studio, its JDK version sets to JDK 17. but, my Java version is still 14.0.1. So, I set both in the same version.</p>\n<p>That's why i stuck in build error,,! so,, stupid,,,</p>\n<p>anyway i hope someone to solve this kind of problem easily!</p>\n<pre><code>check in terminal : java -version\n\ncheck the JDK version in Android Studio : settings &gt; Build &gt; Gradle &gt; 'Gradle JDK'\n</code></pre>\n"}],"owner":{"account_id":28418058,"reputation":11,"user_id":21740514,"display_name":"minji King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76223862,"answer_count":1,"score":0,"last_activity_date":1692670837,"creation_date":1683718618,"question_id":76217926,"body_markdown":"I got error of &quot;Execution failed for task &#39;:app:kaptDebugKotlin&#39;&quot;\r\n\r\n`Execution failed for task &#39;:app:kaptDebugKotlin&#39;.\r\n&gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\r\n   &gt; java.lang.reflect.InvocationTargetException (no error message)`\r\n\r\n\r\nMy mac is intel so M1 is not the problem.\r\nI tried so many suggestions on stack overflow. but i still can&#39;t find the answer,,,,\r\n\r\nMy gradle JDK is 17.0.6\r\n\r\n\r\n== remove code that i have uploaded a part of gradle files == ","title":"After updating Android Studio Flamingo 2022.2.1 Patch 1, i got error Execution failed for task &#39;:app:kaptDebugKotlin&#39;","body":"<p>I got error of &quot;Execution failed for task ':app:kaptDebugKotlin'&quot;</p>\n<p>`Execution failed for task ':app:kaptDebugKotlin'.</p>\n<blockquote>\n<p>A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\njava.lang.reflect.InvocationTargetException (no error message)`</p>\n</blockquote>\n<p>My mac is intel so M1 is not the problem.\nI tried so many suggestions on stack overflow. but i still can't find the answer,,,,</p>\n<p>My gradle JDK is 17.0.6</p>\n<p>== remove code that i have uploaded a part of gradle files ==</p>\n"},{"tags":["java","hibernate","glassfish-4"],"comments":[{"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"score":0,"creation_date":1376060735,"post_id":18149339,"comment_id":26583474,"body_markdown":"http://stackoverflow.com/questions/10266359/java-lang-nullpointerexception-hibernate-used-with-ehcache","body":"<a href=\"http://stackoverflow.com/questions/10266359/java-lang-nullpointerexception-hibernate-used-with-ehcache\" title=\"java lang nullpointerexception hibernate used with ehcache\">stackoverflow.com/questions/10266359/&hellip;</a>"},{"owner":{"account_id":39078,"reputation":2247,"user_id":112637,"accept_rate":70,"display_name":"Ar3s"},"score":0,"creation_date":1400057942,"post_id":18149339,"comment_id":36322219,"body_markdown":"This question has no valid answer whatsoever and the author kept details to himself.","body":"This question has no valid answer whatsoever and the author kept details to himself."}],"answers":[{"tags":[],"owner":{"account_id":3155796,"reputation":49,"user_id":2668237,"display_name":"user2668237"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1376336573,"creation_date":1376336573,"answer_id":18195393,"question_id":18149339,"body_markdown":"Problem solved:\r\n\r\nI mispelled the ehcache property, in the Glassfish server.\r\n\r\nLesson Learned. :)","title":"Hibernate: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]","body":"<p>Problem solved:</p>\n\n<p>I mispelled the ehcache property, in the Glassfish server.</p>\n\n<p>Lesson Learned. :)</p>\n"}],"owner":{"account_id":3155796,"reputation":49,"user_id":2668237,"display_name":"user2668237"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12432,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1692669720,"creation_date":1376059190,"question_id":18149339,"body_markdown":"I am attempting to deploy an application on a glassfish 4 server on my local machine. When I copy the .war file into the autodeploy directory, the glassfish log returns exceptions and the application does not appear in the list of applications, on the server&#39;s admin console. I&#39;ve consulted with a local colleague on this and based on comparisons to working instances, we believe the traces from the Glassfish server, shown below, may have something to do with the cause:\r\n\r\n\r\n\r\nServer Trace:\r\n\r\n    Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:186)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:150)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:264)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1760)\r\n\tat org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:96)\r\n\tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:913)\r\n\t... 60 more\r\n    Caused by: org.hibernate.cache.CacheException: net.sf.ehcache.CacheException: Error configuring from null. Initial cause was null\r\n    \tat org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:110)\r\n    \tat org.hibernate.internal.CacheImpl.&lt;init&gt;(CacheImpl.java:70)\r\n    \tat org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:40)\r\n    \tat org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:35)\r\n    \tat org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.initiateService(SessionFactoryServiceRegistryImpl.java:91)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:176)\r\n    \t... 66 more\r\n    Caused by: net.sf.ehcache.CacheException: Error configuring from null. Initial cause was null\r\n    \tat net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:105)\r\n    \tat org.hibernate.cache.ehcache.internal.util.HibernateUtil.loadAndCorrectConfiguration(HibernateUtil.java:63)\r\n    \tat org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:93)\r\n    \t... 71 more\r\n    Caused by: java.lang.NullPointerException\r\n    \tat net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:102)\r\n    \t... 73 more\r\n\r\n\r\nIf a full stack trace is needed or any further info or edits are needed, let me know. Otherwise, I will await response.","title":"Hibernate: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]","body":"<p>I am attempting to deploy an application on a glassfish 4 server on my local machine. When I copy the .war file into the autodeploy directory, the glassfish log returns exceptions and the application does not appear in the list of applications, on the server's admin console. I've consulted with a local colleague on this and based on comparisons to working instances, we believe the traces from the Glassfish server, shown below, may have something to do with the cause:</p>\n\n<p>Server Trace:</p>\n\n<pre><code>Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:186)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:150)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:264)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1760)\nat org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:96)\nat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:913)\n... 60 more\nCaused by: org.hibernate.cache.CacheException: net.sf.ehcache.CacheException: Error configuring from null. Initial cause was null\n    at org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:110)\n    at org.hibernate.internal.CacheImpl.&lt;init&gt;(CacheImpl.java:70)\n    at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:40)\n    at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:35)\n    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.initiateService(SessionFactoryServiceRegistryImpl.java:91)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:176)\n    ... 66 more\nCaused by: net.sf.ehcache.CacheException: Error configuring from null. Initial cause was null\n    at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:105)\n    at org.hibernate.cache.ehcache.internal.util.HibernateUtil.loadAndCorrectConfiguration(HibernateUtil.java:63)\n    at org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:93)\n    ... 71 more\nCaused by: java.lang.NullPointerException\n    at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:102)\n    ... 73 more\n</code></pre>\n\n<p>If a full stack trace is needed or any further info or edits are needed, let me know. Otherwise, I will await response.</p>\n"},{"tags":["java","json","kubernetes","log4j"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1692121220,"post_id":76907799,"comment_id":135580444,"body_markdown":"I would push to generate JSON logs from the app in the 1st place but if that&#39;s not an option you can always use a custom parser/transformer when sending logs from Kubernetes pods to Elastic. What are you using to send logs to Elastic? FluentBit?","body":"I would push to generate JSON logs from the app in the 1st place but if that&#39;s not an option you can always use a custom parser/transformer when sending logs from Kubernetes pods to Elastic. What are you using to send logs to Elastic? FluentBit?"},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1692169677,"post_id":76907799,"comment_id":135585718,"body_markdown":"How do you deploy Zeebe? Can&#39;t you create your own container image based on the official Zeebee one such that you can download &amp; unpack the Log4j distribution from `downloads.apache.org` in the `Dockerfile`? Maybe stating the obvious, but... Have you tried creating a Zeebee ticket with this request?","body":"How do you deploy Zeebe? Can&#39;t you create your own container image based on the official Zeebee one such that you can download &amp; unpack the Log4j distribution from <code>downloads.apache.org</code> in the <code>Dockerfile</code>? Maybe stating the obvious, but... Have you tried creating a Zeebee ticket with this request?"},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1692174084,"post_id":76907799,"comment_id":135586521,"body_markdown":"@Ga&#235;lJ - we use fluentd to push the logs to ES. Need to search what custom parsers exists that can transform textual logs to json.","body":"@Ga&#235;lJ - we use fluentd to push the logs to ES. Need to search what custom parsers exists that can transform textual logs to json."},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1692174088,"post_id":76907799,"comment_id":135586522,"body_markdown":"@VolkanYazıcı - modifying the docker file and maintaining it for every release is a long route. Like I said we don&#39;t want to go that route unless there are no options left. Yes we created a ticket in zeebe but they have deprioritised this item. It won&#39;t be taken up soon.","body":"@VolkanYazıcı - modifying the docker file and maintaining it for every release is a long route. Like I said we don&#39;t want to go that route unless there are no options left. Yes we created a ticket in zeebe but they have deprioritised this item. It won&#39;t be taken up soon."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692222507,"creation_date":1692222507,"answer_id":76917282,"question_id":76907799,"body_markdown":"The general solution is simple: you need to add `log4j-layout-template-json` to the classpath of the application and create a Docker image with the additional libraries.\r\n\r\nThe devil is in the details: every distribution has a different method to add libraries to the classpath.\r\n\r\nCamunda Zeebe seems to be using [Appassembler](https://www.mojohaus.org/appassembler/appassembler-maven-plugin/) to create its binary distribution, which uses [this script](https://github.com/mojohaus/appassembler/blob/master/appassembler-maven-plugin/src/main/resources/org/codehaus/mojo/appassembler/daemon/script/unixBinTemplate) to boot up the application. So you have two choices:\r\n * either you add libraries directly to `/usr/local/zeebe/lib` and your Log4j Core configuration file to `/usr/local/zeebe/config`,\r\n * or you add libraries in another location and set the `CLASSPATH_PREFIX` environment variable accordingly.\r\n\r\nFor example you can add additional Log4j Core modules and a custom configuration file to the `/usr/local/log4j2` directory, with a Docker file like this:\r\n```lang-sh\r\nFROM camunda/zeebe:latest\r\n\r\n# Download additional Logj4 2.x artifacts\r\nRUN apt -y update &amp;&amp; apt -y install curl\r\nRUN curl -SL https://dist.apache.org/repos/dist/release/logging/log4j/2.20.0/apache-log4j-2.20.0-bin.tar.gz | \\\r\n  tar -xz --strip-components=1 --one-top-level=/usr/local/log4j2 \\\r\n    apache-log4j-2.20.0-bin/log4j-appserver-2.20.0.jar \\\r\n    apache-log4j-2.20.0-bin/log4j-jul-2.20.0.jar \\\r\n    apache-log4j-2.20.0-bin/log4j-layout-template-json-2.20.0.jar\r\n# Add a custom configuration file\r\nCOPY log4j2.xml /usr/local/log4j2/\r\n\r\n# Check artifacts\r\nARG LOG4J_APPSERVER_SUM=53d8e78277324145cde435b515b1c7f1ba02b93e7a1974411ce7c5511a8c6b69\r\nARG LOG4J_JUL_SUM=c9b33dffb40bd00d4889ea4700f79d87a2e4d9f92911a3a008ae18c0bb3fb167\r\nARG LOG4J_LAYOUT_TEMPLATE_JSON_SUM=62d2c2b8e80a74ca65d80cf2f9aa0eab3a1350349c7b03b428c5b53004cc751b\r\nRUN sha256sum -c &lt;&lt;EOF\r\n${LOG4J_APPSERVER_SUM} /usr/local/log4j2/log4j-appserver-2.20.0.jar\r\n${LOG4J_JUL_SUM} /usr/local/log4j2/log4j-jul-2.20.0.jar\r\n${LOG4J_LAYOUT_TEMPLATE_JSON_SUM} /usr/local/log4j2/log4j-layout-template-json-2.20.0.jar\r\nEOF\r\n\r\n# Add additional classpath entries\r\nENV CLASSPATH_PREFIX=/usr/local/log4j2/*:/usr/local/log4j2\r\n# Use Log4j also for java.util.logging\r\nENV JAVA_OPTS=-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\r\n\r\n# Start the application\r\nENTRYPOINT [&quot;tini&quot;, &quot;--&quot;, &quot;/usr/local/bin/startup.sh&quot;]\r\n```","title":"How to configure JSON Logging in an Third Party App using Log4j?","body":"<p>The general solution is simple: you need to add <code>log4j-layout-template-json</code> to the classpath of the application and create a Docker image with the additional libraries.</p>\n<p>The devil is in the details: every distribution has a different method to add libraries to the classpath.</p>\n<p>Camunda Zeebe seems to be using <a href=\"https://www.mojohaus.org/appassembler/appassembler-maven-plugin/\" rel=\"nofollow noreferrer\">Appassembler</a> to create its binary distribution, which uses <a href=\"https://github.com/mojohaus/appassembler/blob/master/appassembler-maven-plugin/src/main/resources/org/codehaus/mojo/appassembler/daemon/script/unixBinTemplate\" rel=\"nofollow noreferrer\">this script</a> to boot up the application. So you have two choices:</p>\n<ul>\n<li>either you add libraries directly to <code>/usr/local/zeebe/lib</code> and your Log4j Core configuration file to <code>/usr/local/zeebe/config</code>,</li>\n<li>or you add libraries in another location and set the <code>CLASSPATH_PREFIX</code> environment variable accordingly.</li>\n</ul>\n<p>For example you can add additional Log4j Core modules and a custom configuration file to the <code>/usr/local/log4j2</code> directory, with a Docker file like this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM camunda/zeebe:latest\n\n# Download additional Logj4 2.x artifacts\nRUN apt -y update &amp;&amp; apt -y install curl\nRUN curl -SL https://dist.apache.org/repos/dist/release/logging/log4j/2.20.0/apache-log4j-2.20.0-bin.tar.gz | \\\n  tar -xz --strip-components=1 --one-top-level=/usr/local/log4j2 \\\n    apache-log4j-2.20.0-bin/log4j-appserver-2.20.0.jar \\\n    apache-log4j-2.20.0-bin/log4j-jul-2.20.0.jar \\\n    apache-log4j-2.20.0-bin/log4j-layout-template-json-2.20.0.jar\n# Add a custom configuration file\nCOPY log4j2.xml /usr/local/log4j2/\n\n# Check artifacts\nARG LOG4J_APPSERVER_SUM=53d8e78277324145cde435b515b1c7f1ba02b93e7a1974411ce7c5511a8c6b69\nARG LOG4J_JUL_SUM=c9b33dffb40bd00d4889ea4700f79d87a2e4d9f92911a3a008ae18c0bb3fb167\nARG LOG4J_LAYOUT_TEMPLATE_JSON_SUM=62d2c2b8e80a74ca65d80cf2f9aa0eab3a1350349c7b03b428c5b53004cc751b\nRUN sha256sum -c &lt;&lt;EOF\n${LOG4J_APPSERVER_SUM} /usr/local/log4j2/log4j-appserver-2.20.0.jar\n${LOG4J_JUL_SUM} /usr/local/log4j2/log4j-jul-2.20.0.jar\n${LOG4J_LAYOUT_TEMPLATE_JSON_SUM} /usr/local/log4j2/log4j-layout-template-json-2.20.0.jar\nEOF\n\n# Add additional classpath entries\nENV CLASSPATH_PREFIX=/usr/local/log4j2/*:/usr/local/log4j2\n# Use Log4j also for java.util.logging\nENV JAVA_OPTS=-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\n\n# Start the application\nENTRYPOINT [&quot;tini&quot;, &quot;--&quot;, &quot;/usr/local/bin/startup.sh&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692668309,"creation_date":1692668309,"answer_id":76949601,"question_id":76907799,"body_markdown":"I would create my own image for now, then create and issue and a pull request to get the missing dependency into Zeebe, so it will be there in the future.\r\nhttps://github.com/camunda/zeebe/blob/main/CONTRIBUTING.md\r\n","title":"How to configure JSON Logging in an Third Party App using Log4j?","body":"<p>I would create my own image for now, then create and issue and a pull request to get the missing dependency into Zeebe, so it will be there in the future.\n<a href=\"https://github.com/camunda/zeebe/blob/main/CONTRIBUTING.md\" rel=\"nofollow noreferrer\">https://github.com/camunda/zeebe/blob/main/CONTRIBUTING.md</a></p>\n"}],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692668309,"creation_date":1692118762,"question_id":76907799,"body_markdown":"We are using [zeebe][1] distributed workflow engine that uses log4j as its logging framework. Its a spring boot application deployed through helm on kubernetes. Unfortunately it does not include `log4j-layout-template-json` jar that enables json logging. Any approach that requires third party app code modifications doesn&#39;t look right since the project is under active development. We would need to constantly upgrade the third party app and hence forking it would make deployments tougher.\r\n\r\nWhat are some possible ways to configure it for json logging so that the logs can be shipped to EFK stack?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/camunda/zeebe","title":"How to configure JSON Logging in an Third Party App using Log4j?","body":"<p>We are using <a href=\"https://github.com/camunda/zeebe\" rel=\"nofollow noreferrer\">zeebe</a> distributed workflow engine that uses log4j as its logging framework. Its a spring boot application deployed through helm on kubernetes. Unfortunately it does not include <code>log4j-layout-template-json</code> jar that enables json logging. Any approach that requires third party app code modifications doesn't look right since the project is under active development. We would need to constantly upgrade the third party app and hence forking it would make deployments tougher.</p>\n<p>What are some possible ways to configure it for json logging so that the logs can be shipped to EFK stack?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"score":0,"creation_date":1557318405,"post_id":56040542,"comment_id":98723423,"body_markdown":"Did you try ApplicationListener and context.close() ?","body":"Did you try ApplicationListener and context.close() ?"},{"owner":{"account_id":3388857,"reputation":1889,"user_id":2844215,"display_name":"IMParasharG"},"score":2,"creation_date":1557318411,"post_id":56040542,"comment_id":98723426,"body_markdown":"Might be this link help you (https://dzone.com/articles/graceful-shutdown-spring-boot-applications)","body":"Might be this link help you (<a href=\"https://dzone.com/articles/graceful-shutdown-spring-boot-applications\" rel=\"nofollow noreferrer\">dzone.com/articles/graceful-shutdown-spring-boot-applicatio&zwnj;&#8203;ns</a>)"},{"owner":{"account_id":15510200,"reputation":340,"user_id":11189140,"display_name":"Anirudh Simha"},"score":0,"creation_date":1557318538,"post_id":56040542,"comment_id":98723498,"body_markdown":"afaik just register a destroyMethod for all resources like jdbc etc and spring boot will do the rest for you when you simpl kill the application using kill command","body":"afaik just register a destroyMethod for all resources like jdbc etc and spring boot will do the rest for you when you simpl kill the application using kill command"},{"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"score":0,"creation_date":1557318672,"post_id":56040542,"comment_id":98723580,"body_markdown":"@AnirudhSimha spring doesnt call destroy methods on process kill , they called only after invoking close method of the context","body":"@AnirudhSimha spring doesnt call destroy methods on process kill , they called only after invoking close method of the context"},{"owner":{"account_id":3388857,"reputation":1889,"user_id":2844215,"display_name":"IMParasharG"},"score":1,"creation_date":1557319085,"post_id":56040542,"comment_id":98723822,"body_markdown":"I have done the same thing with the help of HA Proxy and Ansible. My steps are 1)  enabled the holding page so no more request received 2)  check the service logs no more rotation from last 5 min. 3) then shutdown","body":"I have done the same thing with the help of HA Proxy and Ansible. My steps are 1)  enabled the holding page so no more request received 2)  check the service logs no more rotation from last 5 min. 3) then shutdown"},{"owner":{"account_id":11031592,"reputation":1803,"user_id":8102812,"display_name":"Matthew I."},"score":0,"creation_date":1557493749,"post_id":56040542,"comment_id":98794675,"body_markdown":"@AlmasAbdrazak No, I guess it is the wrong way.","body":"@AlmasAbdrazak No, I guess it is the wrong way."},{"owner":{"account_id":11031592,"reputation":1803,"user_id":8102812,"display_name":"Matthew I."},"score":0,"creation_date":1557493814,"post_id":56040542,"comment_id":98794719,"body_markdown":"@GovindParashar thanks, the link was helpful, but it is for SpringBoot 2.0+, but anyway thank you!","body":"@GovindParashar thanks, the link was helpful, but it is for SpringBoot 2.0+, but anyway thank you!"},{"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"score":0,"creation_date":1557510690,"post_id":56040542,"comment_id":98803372,"body_markdown":"@GovindParashar but you end up with ApplicationListener ;)","body":"@GovindParashar but you end up with ApplicationListener ;)"}],"answers":[{"tags":[],"owner":{"account_id":11031592,"reputation":1803,"user_id":8102812,"display_name":"Matthew I."},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1557493709,"creation_date":1557493709,"answer_id":56078391,"question_id":56040542,"body_markdown":"I have ended up with:\r\n\r\n```\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.context.embedded.tomcat.TomcatConnectorCustomizer;\r\nimport org.springframework.context.ApplicationListener;\r\nimport org.springframework.context.event.ContextClosedEvent;\r\n\r\npublic class GracefulShutdown implements TomcatConnectorCustomizer, ApplicationListener&lt;ContextClosedEvent&gt; {\r\n\r\n  private static final Logger log = LoggerFactory.getLogger(GracefulShutdown.class);\r\n  private volatile Connector connector;\r\n\r\n  @Override\r\n  public void customize(Connector connector) {\r\n    this.connector = connector;\r\n  }\r\n\r\n  @Override\r\n  public void onApplicationEvent(ContextClosedEvent contextClosedEvent) {\r\n    log.info(&quot;Protocol handler is shutting down&quot;);\r\n\r\n    this.connector.pause();\r\n    Executor executor = this.connector.getProtocolHandler().getExecutor();\r\n    if (executor instanceof ThreadPoolExecutor) {\r\n      try {\r\n        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) executor;\r\n        threadPoolExecutor.shutdown();\r\n\r\n        if (!threadPoolExecutor.awaitTermination(30, TimeUnit.SECONDS))\r\n          log.warn(&quot;Tomcat thread pool did not shut down gracefully within 30 seconds. Proceeding with forceful shutdown&quot;);\r\n        else\r\n          log.info(&quot;Protocol handler shut down&quot;);\r\n\r\n      } catch (InterruptedException e) {\r\n        Thread.currentThread().interrupt();\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nsome more additional beans:\r\n\r\n```\r\nimport org.springframework.boot.context.embedded.EmbeddedServletContainerFactory;\r\nimport org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory;\r\n...\r\n  @Bean\r\n  public GracefulShutdown gracefulShutdown() {\r\n    return new GracefulShutdown();\r\n  }\r\n  \r\n  @Bean\r\n  public EmbeddedServletContainerFactory servletContainer(final GracefulShutdown gracefulShutdown) {\r\n    TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\r\n    factory.addConnectorCustomizers(gracefulShutdown);\r\n    return factory;\r\n  }\r\n...\r\n```\r\n\r\n","title":"Spring Boot graceful shutdown","body":"<p>I have ended up with:</p>\n\n<pre><code>import java.util.concurrent.Executor;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\nimport org.apache.catalina.connector.Connector;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.context.embedded.tomcat.TomcatConnectorCustomizer;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.context.event.ContextClosedEvent;\n\npublic class GracefulShutdown implements TomcatConnectorCustomizer, ApplicationListener&lt;ContextClosedEvent&gt; {\n\n  private static final Logger log = LoggerFactory.getLogger(GracefulShutdown.class);\n  private volatile Connector connector;\n\n  @Override\n  public void customize(Connector connector) {\n    this.connector = connector;\n  }\n\n  @Override\n  public void onApplicationEvent(ContextClosedEvent contextClosedEvent) {\n    log.info(\"Protocol handler is shutting down\");\n\n    this.connector.pause();\n    Executor executor = this.connector.getProtocolHandler().getExecutor();\n    if (executor instanceof ThreadPoolExecutor) {\n      try {\n        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) executor;\n        threadPoolExecutor.shutdown();\n\n        if (!threadPoolExecutor.awaitTermination(30, TimeUnit.SECONDS))\n          log.warn(\"Tomcat thread pool did not shut down gracefully within 30 seconds. Proceeding with forceful shutdown\");\n        else\n          log.info(\"Protocol handler shut down\");\n\n      } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>some more additional beans:</p>\n\n<pre><code>import org.springframework.boot.context.embedded.EmbeddedServletContainerFactory;\nimport org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory;\n...\n  @Bean\n  public GracefulShutdown gracefulShutdown() {\n    return new GracefulShutdown();\n  }\n\n  @Bean\n  public EmbeddedServletContainerFactory servletContainer(final GracefulShutdown gracefulShutdown) {\n    TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\n    factory.addConnectorCustomizers(gracefulShutdown);\n    return factory;\n  }\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987064,"reputation":11,"user_id":4704321,"display_name":"Navaneet Badami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634798693,"creation_date":1591682860,"answer_id":62276076,"question_id":56040542,"body_markdown":"Its Simple, Spring boot itself provide feature.\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-application-exit\r\n\r\n    void shoutdown(){\r\n    \t   System.out.println(&quot;====+= Shoutdown +++===&quot;);\r\n    \t   System.exit(SpringApplication.exit(apc, this.exitCodeGenerator()));\r\n    \t  \r\n       }\r\n\r\nYou can see in output, all current threads being closed.\r\nOutput:\r\n\r\n====+= Shoutdown +++===\r\n\r\n\r\n    2020-06-09 11:21:45,543\r\n    DEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\r\n    Application Event Raised: ExitCodeEvent  2020-06-09 11:21:45,543\r\n    DEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\r\n    Application Event Raised: ExitCodeEvent  2020-06-09 11:21:45,546\r\n    DEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\r\n    Application Event Raised: ContextClosedEvent  2020-06-09 11:21:45,546\r\n    DEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\r\n    Application Event Raised: ContextClosedEvent  2020-06-09 11:21:45,547\r\n    INFO [main][o.a.kafka.clients.producer.KafkaProducer] [Producer\r\n    clientId=producer-1] Closing the Kafka producer with timeoutMillis =\r\n    30000 ms.  2020-06-09 11:21:45,548\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][o.a.k.clients.producer.internals.Sender] [Producer\r\n    clientId=producer-1] Beginning shutdown of Kafka producer I/O thread,\r\n    sending remaining records.  2020-06-09 11:21:45,551\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name connections-closed:  2020-06-09 11:21:45,554\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name connections-created:  2020-06-09 11:21:45,554\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name successful-authentication:  2020-06-09 11:21:45,558\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name failed-authentication:  2020-06-09 11:21:45,558\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name bytes-sent-received:  2020-06-09 11:21:45,559\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name bytes-sent:  2020-06-09 11:21:45,559\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name bytes-received:  2020-06-09 11:21:45,560\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name select-time:  2020-06-09 11:21:45,561\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name io-time:  2020-06-09 11:21:45,570\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name node--1.bytes-sent  2020-06-09 11:21:45,570\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name node--1.bytes-received  2020-06-09 11:21:45,570\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name node--1.latency  2020-06-09 11:21:45,571\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name node-0.bytes-sent  2020-06-09 11:21:45,571\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name node-0.bytes-received  2020-06-09 11:21:45,573\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\r\n    with name node-0.latency  2020-06-09 11:21:45,573\r\n    DEBUG[kafka-producer-network-thread |\r\n    producer-1][o.a.k.clients.producer.internals.Sender] [Producer\r\n    clientId=producer-1] Shutdown of Kafka producer I/O thread has\r\n    completed.  2020-06-09 11:21:45,607\r\n    DEBUG[main][o.a.kafka.clients.producer.KafkaProducer] [Producer\r\n    clientId=producer-1] Kafka producer has been closed  2020-06-09\r\n    11:21:45,611 DEBUG[main][o.hibernate.internal.SessionFactoryImpl]\r\n    HHH000031: Closing  2020-06-09 11:21:45,611\r\n    DEBUG[main][o.h.type.spi.TypeConfiguration$Scope] Un-scoping\r\n    TypeConfiguration\r\n    [org.hibernate.type.spi.TypeConfiguration$Scope@5dfd31f4] from\r\n    SessionFactory [org.hibernate.internal.SessionFactoryImpl@62a54948] \r\n    2020-06-09 11:21:45,612\r\n    DEBUG[main][o.h.s.i.AbstractServiceRegistryImpl] Implicitly\r\n    destroying ServiceRegistry on de-registration of all child\r\n    ServiceRegistries  2020-06-09 11:21:45,613\r\n    DEBUG[main][o.h.b.r.i.BootstrapServiceRegistryImpl] Implicitly\r\n    destroying Boot-strap registry on de-registration of all child\r\n    ServiceRegistries  2020-06-09 11:21:45,613 INFO\r\n    [main][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown\r\n    initiated...  2020-06-09 11:21:45,754 INFO\r\n    [main][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown\r\n    completed.","title":"Spring Boot graceful shutdown","body":"<p>Its Simple, Spring boot itself provide feature.\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-application-exit\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-application-exit</a></p>\n<pre><code>void shoutdown(){\n       System.out.println(&quot;====+= Shoutdown +++===&quot;);\n       System.exit(SpringApplication.exit(apc, this.exitCodeGenerator()));\n      \n   }\n</code></pre>\n<p>You can see in output, all current threads being closed.\nOutput:</p>\n<p>====+= Shoutdown +++===</p>\n<pre><code>2020-06-09 11:21:45,543\nDEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\nApplication Event Raised: ExitCodeEvent  2020-06-09 11:21:45,543\nDEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\nApplication Event Raised: ExitCodeEvent  2020-06-09 11:21:45,546\nDEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\nApplication Event Raised: ContextClosedEvent  2020-06-09 11:21:45,546\nDEBUG[main][c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor]\nApplication Event Raised: ContextClosedEvent  2020-06-09 11:21:45,547\nINFO [main][o.a.kafka.clients.producer.KafkaProducer] [Producer\nclientId=producer-1] Closing the Kafka producer with timeoutMillis =\n30000 ms.  2020-06-09 11:21:45,548\nDEBUG[kafka-producer-network-thread |\nproducer-1][o.a.k.clients.producer.internals.Sender] [Producer\nclientId=producer-1] Beginning shutdown of Kafka producer I/O thread,\nsending remaining records.  2020-06-09 11:21:45,551\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name connections-closed:  2020-06-09 11:21:45,554\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name connections-created:  2020-06-09 11:21:45,554\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name successful-authentication:  2020-06-09 11:21:45,558\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name failed-authentication:  2020-06-09 11:21:45,558\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name bytes-sent-received:  2020-06-09 11:21:45,559\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name bytes-sent:  2020-06-09 11:21:45,559\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name bytes-received:  2020-06-09 11:21:45,560\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name select-time:  2020-06-09 11:21:45,561\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name io-time:  2020-06-09 11:21:45,570\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name node--1.bytes-sent  2020-06-09 11:21:45,570\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name node--1.bytes-received  2020-06-09 11:21:45,570\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name node--1.latency  2020-06-09 11:21:45,571\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name node-0.bytes-sent  2020-06-09 11:21:45,571\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name node-0.bytes-received  2020-06-09 11:21:45,573\nDEBUG[kafka-producer-network-thread |\nproducer-1][org.apache.kafka.common.metrics.Metrics] Removed sensor\nwith name node-0.latency  2020-06-09 11:21:45,573\nDEBUG[kafka-producer-network-thread |\nproducer-1][o.a.k.clients.producer.internals.Sender] [Producer\nclientId=producer-1] Shutdown of Kafka producer I/O thread has\ncompleted.  2020-06-09 11:21:45,607\nDEBUG[main][o.a.kafka.clients.producer.KafkaProducer] [Producer\nclientId=producer-1] Kafka producer has been closed  2020-06-09\n11:21:45,611 DEBUG[main][o.hibernate.internal.SessionFactoryImpl]\nHHH000031: Closing  2020-06-09 11:21:45,611\nDEBUG[main][o.h.type.spi.TypeConfiguration$Scope] Un-scoping\nTypeConfiguration\n[org.hibernate.type.spi.TypeConfiguration$Scope@5dfd31f4] from\nSessionFactory [org.hibernate.internal.SessionFactoryImpl@62a54948] \n2020-06-09 11:21:45,612\nDEBUG[main][o.h.s.i.AbstractServiceRegistryImpl] Implicitly\ndestroying ServiceRegistry on de-registration of all child\nServiceRegistries  2020-06-09 11:21:45,613\nDEBUG[main][o.h.b.r.i.BootstrapServiceRegistryImpl] Implicitly\ndestroying Boot-strap registry on de-registration of all child\nServiceRegistries  2020-06-09 11:21:45,613 INFO\n[main][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown\ninitiated...  2020-06-09 11:21:45,754 INFO\n[main][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown\ncompleted.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4528750,"reputation":4632,"user_id":3679857,"accept_rate":80,"display_name":"narendra-choudhary"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1610741519,"creation_date":1605765305,"answer_id":64906125,"question_id":56040542,"body_markdown":"Graceful shutdown support was added in Spring Boot 2.3 (release in May, 2020). This allows active requests to complete before closing the context, and shutting down container.\r\n\r\nWhen graceful shutdown is enabled, application will perform following steps sequentially upon shutdown:\r\n* stop accepting new requests\r\n* will wait for some *configurable* time to process already accepted requests\r\n* stop container\r\n* stop embedded server\r\n\r\nFrom [release notes](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#graceful-shutdown):\r\n\r\n&gt; Graceful shutdown is supported with all four embedded web servers (Jetty, Reactor Netty, Tomcat, and Undertow) and with both reactive and Servlet-based web applications. When enabled using `server.shutdown=graceful`, upon shutdown, the web server will no longer permit new requests and will wait for a grace period for active requests to complete. The grace period can be configured using `spring.lifecycle.timeout-per-shutdown-phase`.\r\n\r\n---\r\n\r\n* To enable graceful shutdown, add `server.shutdown=graceful` to properties (by default it is set to `immediate`).\r\n* Grace period can be configured using `spring.lifecycle.timeout-per-shutdown-phase` property (example: `spring.lifecycle.timeout-per-shutdown-phase=1m`.\r\n\r\n---\r\n\r\nFor Spring Boot &lt; 2.3, you&#39;ll take to tinker with server&#39;s connector to stop accepting new requests as explained in [this Spring GitHub issue](https://github.com/spring-projects/spring-boot/issues/4657). ","title":"Spring Boot graceful shutdown","body":"<p>Graceful shutdown support was added in Spring Boot 2.3 (release in May, 2020). This allows active requests to complete before closing the context, and shutting down container.</p>\n<p>When graceful shutdown is enabled, application will perform following steps sequentially upon shutdown:</p>\n<ul>\n<li>stop accepting new requests</li>\n<li>will wait for some <em>configurable</em> time to process already accepted requests</li>\n<li>stop container</li>\n<li>stop embedded server</li>\n</ul>\n<p>From <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#graceful-shutdown\" rel=\"noreferrer\">release notes</a>:</p>\n<blockquote>\n<p>Graceful shutdown is supported with all four embedded web servers (Jetty, Reactor Netty, Tomcat, and Undertow) and with both reactive and Servlet-based web applications. When enabled using <code>server.shutdown=graceful</code>, upon shutdown, the web server will no longer permit new requests and will wait for a grace period for active requests to complete. The grace period can be configured using <code>spring.lifecycle.timeout-per-shutdown-phase</code>.</p>\n</blockquote>\n<hr />\n<ul>\n<li>To enable graceful shutdown, add <code>server.shutdown=graceful</code> to properties (by default it is set to <code>immediate</code>).</li>\n<li>Grace period can be configured using <code>spring.lifecycle.timeout-per-shutdown-phase</code> property (example: <code>spring.lifecycle.timeout-per-shutdown-phase=1m</code>.</li>\n</ul>\n<hr />\n<p>For Spring Boot &lt; 2.3, you'll take to tinker with server's connector to stop accepting new requests as explained in <a href=\"https://github.com/spring-projects/spring-boot/issues/4657\" rel=\"noreferrer\">this Spring GitHub issue</a>.</p>\n"}],"owner":{"account_id":11031592,"reputation":1803,"user_id":8102812,"display_name":"Matthew I."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20537,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":56078391,"answer_count":3,"score":18,"last_activity_date":1692668241,"creation_date":1557317590,"question_id":56040542,"body_markdown":"I am developing a Spring Boot application backed by embedded Tomcat and I need to develop a graceful shutdown with the following steps:\r\n\r\n1. stop processing new HTTP requests (stop web container) \r\n2. process all already accepted requests\r\n3. shutdown Spring ApplicationContext\r\n\r\n*do the steps above sequentially (one by one)\r\n\r\nHow can I achieve this?\r\n\r\nP.S. Spring Boot 1.5.20.RELEASE, Java 8","title":"Spring Boot graceful shutdown","body":"<p>I am developing a Spring Boot application backed by embedded Tomcat and I need to develop a graceful shutdown with the following steps:</p>\n\n<ol>\n<li>stop processing new HTTP requests (stop web container) </li>\n<li>process all already accepted requests</li>\n<li>shutdown Spring ApplicationContext</li>\n</ol>\n\n<p>*do the steps above sequentially (one by one)</p>\n\n<p>How can I achieve this?</p>\n\n<p>P.S. Spring Boot 1.5.20.RELEASE, Java 8</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17477690,"reputation":350,"user_id":12672179,"display_name":"The Grand J"},"score":1,"creation_date":1692595725,"post_id":76942566,"comment_id":135639413,"body_markdown":"So what do those non-english comments say? I&#39;m not sure if it&#39;s relevant to the question but if we know what the comments claim each bit should do then we might identify the issue easier.","body":"So what do those non-english comments say? I&#39;m not sure if it&#39;s relevant to the question but if we know what the comments claim each bit should do then we might identify the issue easier."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1692600698,"post_id":76942566,"comment_id":135640084,"body_markdown":"Can you add the code of `UserEntity`?","body":"Can you add the code of <code>UserEntity</code>?"},{"owner":{"account_id":29264709,"reputation":1,"user_id":22420746,"display_name":"mgcc"},"score":0,"creation_date":1692666553,"post_id":76942566,"comment_id":135651908,"body_markdown":"This is the project URL: ssh://git@git.jetbrains.space/xuzili/main/java-jpa.git","body":"This is the project URL: ssh://git@git.jetbrains.space/xuzili/main/java-jpa.git"}],"owner":{"account_id":29264709,"reputation":1,"user_id":22420746,"display_name":"mgcc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692666464,"creation_date":1692595479,"question_id":76942566,"body_markdown":"In this code I am doing transactional testing using @Transactional annotations. It defines two transactional methods A() and B(), and two data insertion test methods trueA() and errorB(). The trueA() method will not throw an error, while the errorB() method will fail to insert due to the name field of UserEntity being too long.\r\n\r\nIn this test, method A() calls trueA() to insert a record and then throws a RuntimeException, which is caught by try...catch. Method B() also calls trueA(), and calls errorB(), with try...catch to catch any exceptions.\r\n\r\nWhat puzzles me is that in method B(), after the errorB() method throws an exception, shouldn&#39;t the catch block in B() catch that exception? But in reality it caused the rollback of the trueA() method.\r\n\r\n```\r\n@Transactional\r\npublic void A() {\r\n    try {\r\n        // 执行一些数据库操作\r\n        trueA();\r\n\r\n        // 抛出异常\r\n        throw new RuntimeException(&quot;Exception occurred&quot;);\r\n    } catch (RuntimeException e) {\r\n        // 捕获异常并进行处理\r\n        System.out.println(&quot;Exception caught: &quot; + e.getMessage());\r\n    }\r\n    \r\n}\r\n    \r\n@Transactional\r\npublic void B(){\r\n    try {\r\n        /**\r\n         * 没有异常\r\n         */\r\n        trueA();\r\n        /**\r\n         * 执行异常\r\n         */\r\n        errorB();\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Exception caught: &quot; + e.getMessage());\r\n    }\r\n}\r\n    \r\n    \r\npublic void trueA(){\r\n    UserEntity userEntity = new UserEntity();\r\n    userEntity.setName(&quot;ceshi&quot;);\r\n    em.merge(userEntity);\r\n}\r\n    \r\n    \r\npublic void errorB(){\r\n    UserEntity userEntity1 = new UserEntity();\r\n    userEntity1.setName(&quot;ceshi111111111111111111111111111111111111111111111111111111&quot;);\r\n    // 字段超长报错\r\n    em.merge(userEntity1);\r\n}\r\n```\r\n\r\nBut using the following approach, method B() will not rollback:\r\n\r\n```\r\n@Transactional\r\npublic void B(){\r\n    try {\r\n        trueInsert();\r\n        errorInsert();\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Exception caught: &quot; + e.getMessage());\r\n    }\r\n}\r\n\r\npublic void trueInsert(){\r\n    jdbcTemplate.execute(&quot;INSERT INTO `test`.`user` ( `name`, `password`) VALUES ( &#39;xuzili222&#39;, &#39;11&#39;);&quot;);\r\n}\r\n\r\npublic void errorInsert(){\r\n    jdbcTemplate.execute(&quot;INSERT INTO `test`.`user` ( `name`, `password`) VALUES ( &#39;xuzili2211111111111111111111111111111111111111111111111111112&#39;, &#39;11&#39;);&quot;);\r\n}\r\n\r\n```\r\nPS: If the length of the user.name field is too long, the insert will fail.","title":"Issues with @Transactional not working in Spring Boot","body":"<p>In this code I am doing transactional testing using @Transactional annotations. It defines two transactional methods A() and B(), and two data insertion test methods trueA() and errorB(). The trueA() method will not throw an error, while the errorB() method will fail to insert due to the name field of UserEntity being too long.</p>\n<p>In this test, method A() calls trueA() to insert a record and then throws a RuntimeException, which is caught by try...catch. Method B() also calls trueA(), and calls errorB(), with try...catch to catch any exceptions.</p>\n<p>What puzzles me is that in method B(), after the errorB() method throws an exception, shouldn't the catch block in B() catch that exception? But in reality it caused the rollback of the trueA() method.</p>\n<pre><code>@Transactional\npublic void A() {\n    try {\n        // 执行一些数据库操作\n        trueA();\n\n        // 抛出异常\n        throw new RuntimeException(&quot;Exception occurred&quot;);\n    } catch (RuntimeException e) {\n        // 捕获异常并进行处理\n        System.out.println(&quot;Exception caught: &quot; + e.getMessage());\n    }\n    \n}\n    \n@Transactional\npublic void B(){\n    try {\n        /**\n         * 没有异常\n         */\n        trueA();\n        /**\n         * 执行异常\n         */\n        errorB();\n    } catch (Exception e) {\n        System.out.println(&quot;Exception caught: &quot; + e.getMessage());\n    }\n}\n    \n    \npublic void trueA(){\n    UserEntity userEntity = new UserEntity();\n    userEntity.setName(&quot;ceshi&quot;);\n    em.merge(userEntity);\n}\n    \n    \npublic void errorB(){\n    UserEntity userEntity1 = new UserEntity();\n    userEntity1.setName(&quot;ceshi111111111111111111111111111111111111111111111111111111&quot;);\n    // 字段超长报错\n    em.merge(userEntity1);\n}\n</code></pre>\n<p>But using the following approach, method B() will not rollback:</p>\n<pre><code>@Transactional\npublic void B(){\n    try {\n        trueInsert();\n        errorInsert();\n    } catch (Exception e) {\n        System.out.println(&quot;Exception caught: &quot; + e.getMessage());\n    }\n}\n\npublic void trueInsert(){\n    jdbcTemplate.execute(&quot;INSERT INTO `test`.`user` ( `name`, `password`) VALUES ( 'xuzili222', '11');&quot;);\n}\n\npublic void errorInsert(){\n    jdbcTemplate.execute(&quot;INSERT INTO `test`.`user` ( `name`, `password`) VALUES ( 'xuzili2211111111111111111111111111111111111111111111111111112', '11');&quot;);\n}\n\n</code></pre>\n<p>PS: If the length of the user.name field is too long, the insert will fail.</p>\n"},{"tags":["java","soap","cxf","jax-ws","ws-security"],"answers":[{"tags":[],"owner":{"account_id":3123241,"reputation":427,"user_id":2642628,"accept_rate":21,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466518017,"creation_date":1466518017,"answer_id":37946702,"question_id":37944988,"body_markdown":"Managed to get this half working by using the following\r\n\r\n\t\tHelloWorldImplService service = new HelloWorldImplService();\r\n\t\tHelloWorld port = service.getHelloWorldImplPort();\r\n\r\n\t\tMap&lt;String, Object&gt; ctx = ((BindingProvider) port).getRequestContext();\r\n\t\tctx.put(&quot;ws-security.callback-handler&quot;, &quot;com.example.payment.engine.soap.service.ClientPasswordCallback&quot;);\r\n\t\tctx.put(&quot;ws-security.encryption.properties&quot;, &quot;config/crypto.properties&quot;);\r\n\t\tctx.put(&quot;ws-security.signature.properties&quot;, &quot;config/crypto.properties&quot;);\r\n\t\tctx.put(&quot;ws-security.encryption.username&quot;, &quot;server&quot;);\r\n\r\n\t\tSystem.out.println(port.sayHello());","title":"Apache CXF Policy Exception (WS Security)- Security configuration could not be detected","body":"<p>Managed to get this half working by using the following</p>\n\n<pre><code>    HelloWorldImplService service = new HelloWorldImplService();\n    HelloWorld port = service.getHelloWorldImplPort();\n\n    Map&lt;String, Object&gt; ctx = ((BindingProvider) port).getRequestContext();\n    ctx.put(\"ws-security.callback-handler\", \"com.example.payment.engine.soap.service.ClientPasswordCallback\");\n    ctx.put(\"ws-security.encryption.properties\", \"config/crypto.properties\");\n    ctx.put(\"ws-security.signature.properties\", \"config/crypto.properties\");\n    ctx.put(\"ws-security.encryption.username\", \"server\");\n\n    System.out.println(port.sayHello());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4673460,"reputation":2327,"user_id":3784642,"accept_rate":0,"display_name":"Bernard Hauzeur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487948656,"creation_date":1487947535,"answer_id":42441487,"question_id":37944988,"body_markdown":"I spent a few days solving this and additional issues with Apache CXF 3.1.4. Fact is, the Error messages in CXF seldom provide the true clue about what to fix. The one at stake is quite typical: it tells about a name not found but does not provide the actual value that is looked up, and second, that was not the issue in my context. \r\n\r\nI was starting from an XML/Spring-based CXF bus/policy configuration working in test and prod for over a year, and like:\r\n\r\n    SpringBusFactory bf = new SpringBusFactory();\r\n    URL busFile = MyClient.class.getResource(&quot;/wssec_policy.xml&quot;);\r\n    Bus bus = bf.createBus(busFile);\r\n    BusFactory.setDefaultBus(bus);\r\n\r\nwhere the wssec_policy.xml contained the jaxws:client definition as follows:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xsi:schemaLocation=&quot;...etc...&quot;&gt;\r\n\t&lt;bean id=&quot;logOutbound&quot; class=&quot;MyLoggingOutInterceptor&quot;/&gt;\r\n\t&lt;bean id=&quot;logInbound&quot; class=&quot;MyLoggingInInterceptor&quot;/&gt;\r\n    &lt;cxf:bus&gt;\r\n    \t&lt;cxf:outInterceptors&gt;&lt;ref bean=&quot;logOutbound&quot;/&gt;&lt;/cxf:outInterceptors&gt;\r\n        &lt;cxf:inInterceptors&gt;&lt;ref bean=&quot;dumpMessageInterceptor&quot;/&gt;&lt;ref bean=&quot;logInbound&quot;/&gt;&lt;/cxf:inInterceptors&gt;\r\n        &lt;cxf:features&gt;&lt;cxf:logging/&gt;&lt;/cxf:features&gt;\r\n    &lt;/cxf:bus&gt;\r\n    &lt;jaxws:client name=&quot;{http://some.domain/webservices}servicioSoap&quot; createdFromAPI=&quot;true&quot;&gt;\r\n            &lt;jaxws:properties&gt;\r\n                &lt;entry key=&quot;security.encryption.properties&quot; value=&quot;etc/Client_Encrypt.properties&quot;/&gt;\r\n                &lt;entry key=&quot;security.signature.properties&quot; value=&quot;etc/Client_Sign.properties&quot;/&gt;\r\n            &lt;/jaxws:properties&gt;\r\n        &lt;/jaxws:client&gt;\r\n    &lt;/beans&gt;\r\n\r\nand where encryption and signature.properties contain [WSS4J properties][1].\r\n\r\nMy challenge was just to get this working with CXF 3.1.4, BouncyCastle 1.52, Spring 4.2.4, on JRE 8; which did not, banging first on the error you cite.\r\n\r\nI assembled the code in a POJO client and started drilling down in CXF source code to find the true cause, and discovered that the default bus setup as above (which did work previously) no longer supplied the jaxws:client meta-data to WSS4J layers. No data, hence the error. Apache CXF supplies three ways of configuring your WS-* stack (Explicit Interceptors, policy-based with XML, and policy-based via Java API). \r\nTo solve your issue, I switched to policy-based config via the java API as follows:\r\n\r\n    serviceGDS = new WSDL2Java_generated_Service();\r\n    portGDS = serviceGDS.getServiceGdsSoap();\r\n    Map&lt;String, Object&gt; ctx = ((javax.xml.ws.BindingProvider)portGDS).getRequestContext();\r\n    Properties encProps = new Properties();\r\n    encProps.load(new FileInputStream(&quot;etc/Client_Encrypt.properties&quot;));\r\n    ctx.put(&quot;security.encryption.properties&quot;, encProps);\r\n    Properties signProps = new Properties();\r\n    signProps.load(new FileInputStream(&quot;etc/Client_Sign.properties&quot;));\r\n    ctx.put(&quot;security.signature.properties&quot;, signProps);\r\n    // setting the props below once helped solving the error at stake\r\n    ctx.put(&quot;security.signature.username&quot;,&quot;test_keypair&quot;);\r\n    ctx.put(&quot;security.encryption.username&quot;,&quot;gds_test_cert&quot;);\r\n\r\nThe last two properties were once needed to progress in debugging, solving *wrong key length* errors due to missing key alias!!! But at the very end, I noted that it worked back without them! (they actually duplicate keystore alias in the Client_Encrypt and Client_Sign properties).\r\n\r\nI then solved *no certificate found for encryption* errors by suppressing &quot;org.apache.ws.security.crypto.merlin.keystore.provider=BC&quot; from Client_Encrypt and Client_Sign properties (yet worked in the past version).\r\n\r\nI solved *missing certificate* errors by switching from **pkcs12** keystore type to **jks**. I discovered that keystore.load() does not fetch all the contained certificates... with the same p12 keystore I get varying outcome according to the context in which it is called... buggy indeed.\r\n\r\nI solved *AsymmetricBinding is not supported* by observing that the re-deployment in a live server (JBoss EAP7 in my case) never worked, but when the deployed app starts along with the server (hence after server reboot), it works. I strongly suspect class loader issues.\r\n\r\nLet me add that I once switched back to JRE 7 (where legacy runs OK) and the errors were significantly different (I suspect policy config files in the JRE).\r\n\r\nAnother major difficulty is that all errors, be it client side exceptions on handling the request or even the response, as well as server side faults, are all wrapped by CXF as soap faults with terse error messages making it very difficult to understand what&#39;s really happening. The only way left that allowed me to progress was assembling needed client code in a POJO and debugging it with help of CXF and WSS4J source code libraries( Eclipse/Maven fetches the source code for you while you use the debugger and drill down... efficient!)\r\n\r\n  [1]: https://ws.apache.org/wss4j/config.html","title":"Apache CXF Policy Exception (WS Security)- Security configuration could not be detected","body":"<p>I spent a few days solving this and additional issues with Apache CXF 3.1.4. Fact is, the Error messages in CXF seldom provide the true clue about what to fix. The one at stake is quite typical: it tells about a name not found but does not provide the actual value that is looked up, and second, that was not the issue in my context. </p>\n\n<p>I was starting from an XML/Spring-based CXF bus/policy configuration working in test and prod for over a year, and like:</p>\n\n<pre><code>SpringBusFactory bf = new SpringBusFactory();\nURL busFile = MyClient.class.getResource(\"/wssec_policy.xml\");\nBus bus = bf.createBus(busFile);\nBusFactory.setDefaultBus(bus);\n</code></pre>\n\n<p>where the wssec_policy.xml contained the jaxws:client definition as follows:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:cxf=\"http://cxf.apache.org/core\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jaxws=\"http://cxf.apache.org/jaxws\" xsi:schemaLocation=\"...etc...\"&gt;\n&lt;bean id=\"logOutbound\" class=\"MyLoggingOutInterceptor\"/&gt;\n&lt;bean id=\"logInbound\" class=\"MyLoggingInInterceptor\"/&gt;\n&lt;cxf:bus&gt;\n    &lt;cxf:outInterceptors&gt;&lt;ref bean=\"logOutbound\"/&gt;&lt;/cxf:outInterceptors&gt;\n    &lt;cxf:inInterceptors&gt;&lt;ref bean=\"dumpMessageInterceptor\"/&gt;&lt;ref bean=\"logInbound\"/&gt;&lt;/cxf:inInterceptors&gt;\n    &lt;cxf:features&gt;&lt;cxf:logging/&gt;&lt;/cxf:features&gt;\n&lt;/cxf:bus&gt;\n&lt;jaxws:client name=\"{http://some.domain/webservices}servicioSoap\" createdFromAPI=\"true\"&gt;\n        &lt;jaxws:properties&gt;\n            &lt;entry key=\"security.encryption.properties\" value=\"etc/Client_Encrypt.properties\"/&gt;\n            &lt;entry key=\"security.signature.properties\" value=\"etc/Client_Sign.properties\"/&gt;\n        &lt;/jaxws:properties&gt;\n    &lt;/jaxws:client&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>and where encryption and signature.properties contain <a href=\"https://ws.apache.org/wss4j/config.html\" rel=\"nofollow noreferrer\">WSS4J properties</a>.</p>\n\n<p>My challenge was just to get this working with CXF 3.1.4, BouncyCastle 1.52, Spring 4.2.4, on JRE 8; which did not, banging first on the error you cite.</p>\n\n<p>I assembled the code in a POJO client and started drilling down in CXF source code to find the true cause, and discovered that the default bus setup as above (which did work previously) no longer supplied the jaxws:client meta-data to WSS4J layers. No data, hence the error. Apache CXF supplies three ways of configuring your WS-* stack (Explicit Interceptors, policy-based with XML, and policy-based via Java API). \nTo solve your issue, I switched to policy-based config via the java API as follows:</p>\n\n<pre><code>serviceGDS = new WSDL2Java_generated_Service();\nportGDS = serviceGDS.getServiceGdsSoap();\nMap&lt;String, Object&gt; ctx = ((javax.xml.ws.BindingProvider)portGDS).getRequestContext();\nProperties encProps = new Properties();\nencProps.load(new FileInputStream(\"etc/Client_Encrypt.properties\"));\nctx.put(\"security.encryption.properties\", encProps);\nProperties signProps = new Properties();\nsignProps.load(new FileInputStream(\"etc/Client_Sign.properties\"));\nctx.put(\"security.signature.properties\", signProps);\n// setting the props below once helped solving the error at stake\nctx.put(\"security.signature.username\",\"test_keypair\");\nctx.put(\"security.encryption.username\",\"gds_test_cert\");\n</code></pre>\n\n<p>The last two properties were once needed to progress in debugging, solving <em>wrong key length</em> errors due to missing key alias!!! But at the very end, I noted that it worked back without them! (they actually duplicate keystore alias in the Client_Encrypt and Client_Sign properties).</p>\n\n<p>I then solved <em>no certificate found for encryption</em> errors by suppressing \"org.apache.ws.security.crypto.merlin.keystore.provider=BC\" from Client_Encrypt and Client_Sign properties (yet worked in the past version).</p>\n\n<p>I solved <em>missing certificate</em> errors by switching from <strong>pkcs12</strong> keystore type to <strong>jks</strong>. I discovered that keystore.load() does not fetch all the contained certificates... with the same p12 keystore I get varying outcome according to the context in which it is called... buggy indeed.</p>\n\n<p>I solved <em>AsymmetricBinding is not supported</em> by observing that the re-deployment in a live server (JBoss EAP7 in my case) never worked, but when the deployed app starts along with the server (hence after server reboot), it works. I strongly suspect class loader issues.</p>\n\n<p>Let me add that I once switched back to JRE 7 (where legacy runs OK) and the errors were significantly different (I suspect policy config files in the JRE).</p>\n\n<p>Another major difficulty is that all errors, be it client side exceptions on handling the request or even the response, as well as server side faults, are all wrapped by CXF as soap faults with terse error messages making it very difficult to understand what's really happening. The only way left that allowed me to progress was assembling needed client code in a POJO and debugging it with help of CXF and WSS4J source code libraries( Eclipse/Maven fetches the source code for you while you use the debugger and drill down... efficient!)</p>\n"},{"tags":[],"owner":{"account_id":6883845,"reputation":1,"user_id":5289672,"display_name":"Edwin Alejandro Hurtado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692665124,"creation_date":1692665124,"answer_id":76949461,"question_id":37944988,"body_markdown":"In my case, it was not taking the properties that are placed in the intercertor, it was necessary to add them to the client directly in this way:\r\n\r\n    Map&lt;String, Object&gt; outProps = new HashMap&lt;&gt;();        \r\n\toutProps.put(&quot;action&quot;, &quot;Timestamp Signature&quot;);\r\n    outProps.put(&quot;ws-security.signature.username&quot;, &quot;userName&quot;);\r\n    outProps.put(&quot;ws-security.callback-handler&quot;, co.com.test.TtPasswordCallback.class);\r\n    outProps.put(&quot;ws-security.signature.properties&quot;, &quot;client-sign.properties&quot;);    \r\n\r\n    DispatcherServiceService service = new DispatcherServiceService();\r\n\tDispatcherService port = service.getDispatcherServicePort();\r\n\tClient client = ClientProxy.getClient(port);\r\n\tclient.getRequestContext().put(Message.ENDPOINT_ADDRESS, &quot;http://service...&quot;);\r\n\tclient.getRequestContext().putAll(outProps);\r\n\t\t\r\n\t","title":"Apache CXF Policy Exception (WS Security)- Security configuration could not be detected","body":"<p>In my case, it was not taking the properties that are placed in the intercertor, it was necessary to add them to the client directly in this way:</p>\n<pre><code>Map&lt;String, Object&gt; outProps = new HashMap&lt;&gt;();        \noutProps.put(&quot;action&quot;, &quot;Timestamp Signature&quot;);\noutProps.put(&quot;ws-security.signature.username&quot;, &quot;userName&quot;);\noutProps.put(&quot;ws-security.callback-handler&quot;, co.com.test.TtPasswordCallback.class);\noutProps.put(&quot;ws-security.signature.properties&quot;, &quot;client-sign.properties&quot;);    \n\nDispatcherServiceService service = new DispatcherServiceService();\nDispatcherService port = service.getDispatcherServicePort();\nClient client = ClientProxy.getClient(port);\nclient.getRequestContext().put(Message.ENDPOINT_ADDRESS, &quot;http://service...&quot;);\nclient.getRequestContext().putAll(outProps);\n    \n</code></pre>\n"}],"owner":{"account_id":3123241,"reputation":427,"user_id":2642628,"accept_rate":21,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5822,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692665124,"creation_date":1466513520,"question_id":37944988,"body_markdown":"Could really do with some help with this one as I&#39;ve been banging my head against a brick wall for several days now.\r\n\r\nI&#39;ve implemented a very simple JAX-WS service using Apache CXF, I&#39;m trying to add WS-SecurityPolicies to encrypt and sign the message body however client side I&#39;m getting the following exception:\r\n\r\n    org.apache.cxf.ws.policy.PolicyException: Security configuration could not be detected. Potential cause: Make sure jaxws:client element with name attribute value matching endpoint port is defined as well as a security.signature.properties element within it.\r\n    \tat org.apache.cxf.ws.security.wss4j.policyhandlers.AbstractCommonBindingHandler.unassertPolicy(AbstractCommonBindingHandler.java:92)\r\n    \tat org.apache.cxf.ws.security.wss4j.policyhandlers.AbstractBindingBuilder.getSignatureBuilder(AbstractBindingBuilder.java:1797)\r\n    \tat org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.doSignature(AsymmetricBindingHandler.java:693)\r\n    \tat org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.doSignBeforeEncrypt(AsymmetricBindingHandler.java:171)\r\n    \tat org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.handleBinding(AsymmetricBindingHandler.java:110)\r\n    \tat org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessageInternal(PolicyBasedWSS4JOutInterceptor.java:190)\r\n    \tat org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessage(PolicyBasedWSS4JOutInterceptor.java:109)\r\n    \tat org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessage(PolicyBasedWSS4JOutInterceptor.java:96)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:324)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:277)\r\n    \tat org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139)\r\n\r\nThis is my applicationContext.xml client side:\r\n\r\n    &lt;bean id=&quot;passwordCallback&quot;\r\n    \t\tclass=&quot;com.example.payment.engine.soap.service.ClientPasswordCallback&quot;&gt;&lt;/bean&gt;\r\n\r\n\t&lt;jaxws:client\r\n\t\tname=&quot;{http://service.soap.engine.payment.example.com/}HelloWorldImplService&quot;\r\n\t\tcreatedFromAPI=&quot;true&quot; id=&quot;helloClient&quot;\r\n\t\tserviceClass=&quot;com.example.payment.engine.soap.service.HelloWorld&quot;\r\n\t\taddress=&quot;http://localhost:8080/payment-engine/api/soap/hello&quot;&gt;\r\n\t\t&lt;jaxws:properties&gt;\r\n\t\t\t&lt;entry key=&quot;ws-security.callback-handler&quot; value-ref=&quot;passwordCallback&quot; /&gt;\r\n\t\t\t&lt;entry key=&quot;ws-security.encryption.properties&quot; value=&quot;crypto.properties&quot; /&gt;\r\n\t\t\t&lt;entry key=&quot;ws-security.signature.properties&quot; value=&quot;crypto.properties&quot; /&gt;\r\n\t\t\t&lt;entry key=&quot;ws-security.encryption.username&quot; value=&quot;server&quot; /&gt;\r\n\t\t&lt;/jaxws:properties&gt;\r\n\t&lt;/jaxws:client&gt;\r\n\r\nThis is the client crypto.properties\r\n\r\n    org.apache.ws.security.crypto.merlin.keystore.file=client-keystore.jks\r\n    org.apache.ws.security.crypto.merlin.keystore.password=client-pass\r\n    org.apache.ws.security.crypto.merlin.keystore.private.password=key-pass\r\n    org.apache.ws.security.crypto.merlin.keystore.alias=client\r\n\r\nAnd finally this is the WSDL:\r\n\r\n    &lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n    \txmlns:tns=&quot;http://service.soap.engine.payment.example.com/&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\r\n    \txmlns:ns1=&quot;http://schemas.xmlsoap.org/soap/http&quot; xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; xmlns:sp=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy&quot;\r\n    \txmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; name=&quot;HelloWorldImplService&quot;\r\n    \ttargetNamespace=&quot;http://service.soap.engine.payment.example.com/&quot;&gt;\r\n    \t&lt;wsdl:types&gt;\r\n    \t\t&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://service.soap.engine.payment.example.com/&quot;\r\n    \t\t\telementFormDefault=&quot;unqualified&quot; targetNamespace=&quot;http://service.soap.engine.payment.example.com/&quot; version=&quot;1.0&quot;&gt;\r\n    \t\t\t&lt;xs:element name=&quot;sayHello&quot; type=&quot;tns:sayHello&quot; /&gt;\r\n    \t\t\t&lt;xs:element name=&quot;sayHelloResponse&quot; type=&quot;tns:sayHelloResponse&quot; /&gt;\r\n    \t\t\t&lt;xs:complexType name=&quot;sayHello&quot;&gt;\r\n    \t\t\t\t&lt;xs:sequence /&gt;\r\n    \t\t\t&lt;/xs:complexType&gt;\r\n    \t\t\t&lt;xs:complexType name=&quot;sayHelloResponse&quot;&gt;\r\n    \t\t\t\t&lt;xs:sequence&gt;\r\n    \t\t\t\t\t&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;xs:string&quot; /&gt;\r\n    \t\t\t\t&lt;/xs:sequence&gt;\r\n    \t\t\t&lt;/xs:complexType&gt;\r\n    \t\t&lt;/xs:schema&gt;\r\n    \t&lt;/wsdl:types&gt;\r\n    \t&lt;wsdl:message name=&quot;sayHelloResponse&quot;&gt;\r\n    \t\t&lt;wsdl:part element=&quot;tns:sayHelloResponse&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    \t&lt;/wsdl:message&gt;\r\n    \t&lt;wsdl:message name=&quot;sayHello&quot;&gt;\r\n    \t\t&lt;wsdl:part element=&quot;tns:sayHello&quot; name=&quot;parameters&quot;&gt;&lt;/wsdl:part&gt;\r\n    \t&lt;/wsdl:message&gt;\r\n    \t&lt;wsdl:portType name=&quot;HelloWorld&quot;&gt;\r\n    \t\t&lt;wsdl:operation name=&quot;sayHello&quot;&gt;\r\n    \t\t\t&lt;wsdl:input message=&quot;tns:sayHello&quot; name=&quot;sayHello&quot;&gt;&lt;/wsdl:input&gt;\r\n    \t\t\t&lt;wsdl:output message=&quot;tns:sayHelloResponse&quot; name=&quot;sayHelloResponse&quot;&gt;&lt;/wsdl:output&gt;\r\n    \t\t&lt;/wsdl:operation&gt;\r\n    \t&lt;/wsdl:portType&gt;\r\n    \t&lt;wsdl:binding name=&quot;HelloWorldImplServiceSoapBinding&quot; type=&quot;tns:HelloWorld&quot;&gt;\r\n    \t&lt;wsp:PolicyReference URI=&quot;#HelloWorldBindingPolicy&quot;/&gt;\r\n    \t\t&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot; /&gt;\r\n    \t\t&lt;wsdl:operation name=&quot;sayHello&quot;&gt;\r\n    \t\t\t&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot; /&gt;\r\n    \t\t\t&lt;wsdl:input name=&quot;sayHello&quot;&gt;\r\n    \t\t\t\t&lt;wsp:PolicyReference URI=&quot;#HelloWorldInputBindingPolicy&quot; /&gt;\r\n    \t\t\t\t&lt;soap:body use=&quot;literal&quot; /&gt;\r\n    \t\t\t&lt;/wsdl:input&gt;\r\n    \t\t\t&lt;wsdl:output name=&quot;sayHelloResponse&quot;&gt;\r\n    \t\t\t\t&lt;wsp:PolicyReference URI=&quot;#HelloWorldOutputBindingPolicy&quot; /&gt;\r\n    \t\t\t\t&lt;soap:body use=&quot;literal&quot; /&gt;\r\n    \t\t\t&lt;/wsdl:output&gt;\r\n    \t\t&lt;/wsdl:operation&gt;\r\n    \t&lt;/wsdl:binding&gt;\r\n    \t&lt;wsdl:service name=&quot;HelloWorldImplService&quot;&gt;\r\n    \t\t&lt;wsdl:port binding=&quot;tns:HelloWorldImplServiceSoapBinding&quot; name=&quot;HelloWorldImplPort&quot;&gt;\r\n    \t\t\t&lt;soap:address location=&quot;http://localhost:8080/payment-engine/api/soap/hello&quot; /&gt;\r\n    \t\t&lt;/wsdl:port&gt;\r\n    \t&lt;/wsdl:service&gt;\r\n    \t&lt;wsp:Policy wsu:Id=&quot;HelloWorldBindingPolicy&quot;&gt;\r\n    \t\t&lt;wsp:ExactlyOne&gt;\r\n    \t\t\t&lt;wsp:All&gt;\r\n    \t\t\t\t&lt;sp:AsymmetricBinding&gt;\r\n    \t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t&lt;sp:InitiatorToken&gt;\r\n    \t\t\t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sp:X509Token sp:IncludeToken=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;sp:WssX509V3Token11 /&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/sp:X509Token&gt;\r\n    \t\t\t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t\t\t&lt;/sp:InitiatorToken&gt;\r\n    \t\t\t\t\t\t&lt;sp:RecipientToken&gt;\r\n    \t\t\t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sp:X509Token sp:IncludeToken=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Never&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;sp:WssX509V3Token11 /&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;sp:RequireIssuerSerialReference /&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/sp:X509Token&gt;\r\n    \t\t\t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t\t\t&lt;/sp:RecipientToken&gt;\r\n    \t\t\t\t\t\t&lt;sp:Layout&gt;\r\n    \t\t\t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sp:Strict /&gt;\r\n    \t\t\t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t\t\t&lt;/sp:Layout&gt;\r\n    \t\t\t\t\t\t&lt;sp:IncludeTimestamp /&gt;\r\n    \t\t\t\t\t\t&lt;sp:OnlySignEntireHeadersAndBody /&gt;\r\n    \t\t\t\t\t\t&lt;sp:AlgorithmSuite&gt;\r\n    \t\t\t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sp:Basic128 /&gt;\r\n    \t\t\t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t\t\t&lt;/sp:AlgorithmSuite&gt;\r\n    \t\t\t\t\t\t&lt;sp:EncryptSignature /&gt;\r\n    \t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t&lt;/sp:AsymmetricBinding&gt;\r\n    \t\t\t\t&lt;sp:Wss11&gt;\r\n    \t\t\t\t\t&lt;wsp:Policy&gt;\r\n    \t\t\t\t\t\t&lt;sp:MustSupportRefIssuerSerial /&gt;\r\n    \t\t\t\t\t&lt;/wsp:Policy&gt;\r\n    \t\t\t\t&lt;/sp:Wss11&gt;\r\n    \t\t\t&lt;/wsp:All&gt;\r\n    \t\t&lt;/wsp:ExactlyOne&gt;\r\n    \t&lt;/wsp:Policy&gt;\r\n    \t&lt;wsp:Policy wsu:Id=&quot;HelloWorldInputBindingPolicy&quot;&gt;\r\n    \t\t&lt;wsp:ExactlyOne&gt;\r\n    \t\t\t&lt;wsp:All&gt;\r\n    \t\t\t\t&lt;sp:EncryptedParts&gt;\r\n    \t\t\t\t\t&lt;sp:Body /&gt;\r\n    \t\t\t\t&lt;/sp:EncryptedParts&gt;\r\n    \t\t\t\t&lt;sp:SignedParts&gt;\r\n    \t\t\t\t\t&lt;sp:Body /&gt;\r\n    \t\t\t\t&lt;/sp:SignedParts&gt;\r\n    \t\t\t&lt;/wsp:All&gt;\r\n    \t\t&lt;/wsp:ExactlyOne&gt;\r\n    \t&lt;/wsp:Policy&gt;\r\n    \t&lt;wsp:Policy wsu:Id=&quot;HelloWorldOutputBindingPolicy&quot;&gt;\r\n    \t\t&lt;wsp:ExactlyOne&gt;\r\n    \t\t\t&lt;wsp:All&gt;\r\n    \t\t\t\t&lt;sp:EncryptedParts&gt;\r\n    \t\t\t\t\t&lt;sp:Body /&gt;\r\n    \t\t\t\t&lt;/sp:EncryptedParts&gt;\r\n    \t\t\t\t&lt;sp:SignedParts&gt;\r\n    \t\t\t\t\t&lt;sp:Body /&gt;\r\n    \t\t\t\t&lt;/sp:SignedParts&gt;\r\n    \t\t\t&lt;/wsp:All&gt;\r\n    \t\t&lt;/wsp:ExactlyOne&gt;\r\n    \t&lt;/wsp:Policy&gt;\r\n    &lt;/wsdl:definitions&gt;\r\n\r\nAny help would be really appreciated!","title":"Apache CXF Policy Exception (WS Security)- Security configuration could not be detected","body":"<p>Could really do with some help with this one as I've been banging my head against a brick wall for several days now.</p>\n\n<p>I've implemented a very simple JAX-WS service using Apache CXF, I'm trying to add WS-SecurityPolicies to encrypt and sign the message body however client side I'm getting the following exception:</p>\n\n<pre><code>org.apache.cxf.ws.policy.PolicyException: Security configuration could not be detected. Potential cause: Make sure jaxws:client element with name attribute value matching endpoint port is defined as well as a security.signature.properties element within it.\n    at org.apache.cxf.ws.security.wss4j.policyhandlers.AbstractCommonBindingHandler.unassertPolicy(AbstractCommonBindingHandler.java:92)\n    at org.apache.cxf.ws.security.wss4j.policyhandlers.AbstractBindingBuilder.getSignatureBuilder(AbstractBindingBuilder.java:1797)\n    at org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.doSignature(AsymmetricBindingHandler.java:693)\n    at org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.doSignBeforeEncrypt(AsymmetricBindingHandler.java:171)\n    at org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.handleBinding(AsymmetricBindingHandler.java:110)\n    at org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessageInternal(PolicyBasedWSS4JOutInterceptor.java:190)\n    at org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessage(PolicyBasedWSS4JOutInterceptor.java:109)\n    at org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessage(PolicyBasedWSS4JOutInterceptor.java:96)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:324)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:277)\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139)\n</code></pre>\n\n<p>This is my applicationContext.xml client side:</p>\n\n<pre><code>&lt;bean id=\"passwordCallback\"\n        class=\"com.example.payment.engine.soap.service.ClientPasswordCallback\"&gt;&lt;/bean&gt;\n\n&lt;jaxws:client\n    name=\"{http://service.soap.engine.payment.example.com/}HelloWorldImplService\"\n    createdFromAPI=\"true\" id=\"helloClient\"\n    serviceClass=\"com.example.payment.engine.soap.service.HelloWorld\"\n    address=\"http://localhost:8080/payment-engine/api/soap/hello\"&gt;\n    &lt;jaxws:properties&gt;\n        &lt;entry key=\"ws-security.callback-handler\" value-ref=\"passwordCallback\" /&gt;\n        &lt;entry key=\"ws-security.encryption.properties\" value=\"crypto.properties\" /&gt;\n        &lt;entry key=\"ws-security.signature.properties\" value=\"crypto.properties\" /&gt;\n        &lt;entry key=\"ws-security.encryption.username\" value=\"server\" /&gt;\n    &lt;/jaxws:properties&gt;\n&lt;/jaxws:client&gt;\n</code></pre>\n\n<p>This is the client crypto.properties</p>\n\n<pre><code>org.apache.ws.security.crypto.merlin.keystore.file=client-keystore.jks\norg.apache.ws.security.crypto.merlin.keystore.password=client-pass\norg.apache.ws.security.crypto.merlin.keystore.private.password=key-pass\norg.apache.ws.security.crypto.merlin.keystore.alias=client\n</code></pre>\n\n<p>And finally this is the WSDL:</p>\n\n<pre><code>&lt;wsdl:definitions xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"\n    xmlns:tns=\"http://service.soap.engine.payment.example.com/\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"\n    xmlns:ns1=\"http://schemas.xmlsoap.org/soap/http\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"\n    xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" name=\"HelloWorldImplService\"\n    targetNamespace=\"http://service.soap.engine.payment.example.com/\"&gt;\n    &lt;wsdl:types&gt;\n        &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://service.soap.engine.payment.example.com/\"\n            elementFormDefault=\"unqualified\" targetNamespace=\"http://service.soap.engine.payment.example.com/\" version=\"1.0\"&gt;\n            &lt;xs:element name=\"sayHello\" type=\"tns:sayHello\" /&gt;\n            &lt;xs:element name=\"sayHelloResponse\" type=\"tns:sayHelloResponse\" /&gt;\n            &lt;xs:complexType name=\"sayHello\"&gt;\n                &lt;xs:sequence /&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"sayHelloResponse\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"0\" name=\"return\" type=\"xs:string\" /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/wsdl:types&gt;\n    &lt;wsdl:message name=\"sayHelloResponse\"&gt;\n        &lt;wsdl:part element=\"tns:sayHelloResponse\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"sayHello\"&gt;\n        &lt;wsdl:part element=\"tns:sayHello\" name=\"parameters\"&gt;&lt;/wsdl:part&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:portType name=\"HelloWorld\"&gt;\n        &lt;wsdl:operation name=\"sayHello\"&gt;\n            &lt;wsdl:input message=\"tns:sayHello\" name=\"sayHello\"&gt;&lt;/wsdl:input&gt;\n            &lt;wsdl:output message=\"tns:sayHelloResponse\" name=\"sayHelloResponse\"&gt;&lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:portType&gt;\n    &lt;wsdl:binding name=\"HelloWorldImplServiceSoapBinding\" type=\"tns:HelloWorld\"&gt;\n    &lt;wsp:PolicyReference URI=\"#HelloWorldBindingPolicy\"/&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\" /&gt;\n        &lt;wsdl:operation name=\"sayHello\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\" /&gt;\n            &lt;wsdl:input name=\"sayHello\"&gt;\n                &lt;wsp:PolicyReference URI=\"#HelloWorldInputBindingPolicy\" /&gt;\n                &lt;soap:body use=\"literal\" /&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"sayHelloResponse\"&gt;\n                &lt;wsp:PolicyReference URI=\"#HelloWorldOutputBindingPolicy\" /&gt;\n                &lt;soap:body use=\"literal\" /&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:service name=\"HelloWorldImplService\"&gt;\n        &lt;wsdl:port binding=\"tns:HelloWorldImplServiceSoapBinding\" name=\"HelloWorldImplPort\"&gt;\n            &lt;soap:address location=\"http://localhost:8080/payment-engine/api/soap/hello\" /&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n    &lt;wsp:Policy wsu:Id=\"HelloWorldBindingPolicy\"&gt;\n        &lt;wsp:ExactlyOne&gt;\n            &lt;wsp:All&gt;\n                &lt;sp:AsymmetricBinding&gt;\n                    &lt;wsp:Policy&gt;\n                        &lt;sp:InitiatorToken&gt;\n                            &lt;wsp:Policy&gt;\n                                &lt;sp:X509Token sp:IncludeToken=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient\"&gt;\n                                    &lt;wsp:Policy&gt;\n                                        &lt;sp:WssX509V3Token11 /&gt;\n                                    &lt;/wsp:Policy&gt;\n                                &lt;/sp:X509Token&gt;\n                            &lt;/wsp:Policy&gt;\n                        &lt;/sp:InitiatorToken&gt;\n                        &lt;sp:RecipientToken&gt;\n                            &lt;wsp:Policy&gt;\n                                &lt;sp:X509Token sp:IncludeToken=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Never\"&gt;\n                                    &lt;wsp:Policy&gt;\n                                        &lt;sp:WssX509V3Token11 /&gt;\n                                        &lt;sp:RequireIssuerSerialReference /&gt;\n                                    &lt;/wsp:Policy&gt;\n                                &lt;/sp:X509Token&gt;\n                            &lt;/wsp:Policy&gt;\n                        &lt;/sp:RecipientToken&gt;\n                        &lt;sp:Layout&gt;\n                            &lt;wsp:Policy&gt;\n                                &lt;sp:Strict /&gt;\n                            &lt;/wsp:Policy&gt;\n                        &lt;/sp:Layout&gt;\n                        &lt;sp:IncludeTimestamp /&gt;\n                        &lt;sp:OnlySignEntireHeadersAndBody /&gt;\n                        &lt;sp:AlgorithmSuite&gt;\n                            &lt;wsp:Policy&gt;\n                                &lt;sp:Basic128 /&gt;\n                            &lt;/wsp:Policy&gt;\n                        &lt;/sp:AlgorithmSuite&gt;\n                        &lt;sp:EncryptSignature /&gt;\n                    &lt;/wsp:Policy&gt;\n                &lt;/sp:AsymmetricBinding&gt;\n                &lt;sp:Wss11&gt;\n                    &lt;wsp:Policy&gt;\n                        &lt;sp:MustSupportRefIssuerSerial /&gt;\n                    &lt;/wsp:Policy&gt;\n                &lt;/sp:Wss11&gt;\n            &lt;/wsp:All&gt;\n        &lt;/wsp:ExactlyOne&gt;\n    &lt;/wsp:Policy&gt;\n    &lt;wsp:Policy wsu:Id=\"HelloWorldInputBindingPolicy\"&gt;\n        &lt;wsp:ExactlyOne&gt;\n            &lt;wsp:All&gt;\n                &lt;sp:EncryptedParts&gt;\n                    &lt;sp:Body /&gt;\n                &lt;/sp:EncryptedParts&gt;\n                &lt;sp:SignedParts&gt;\n                    &lt;sp:Body /&gt;\n                &lt;/sp:SignedParts&gt;\n            &lt;/wsp:All&gt;\n        &lt;/wsp:ExactlyOne&gt;\n    &lt;/wsp:Policy&gt;\n    &lt;wsp:Policy wsu:Id=\"HelloWorldOutputBindingPolicy\"&gt;\n        &lt;wsp:ExactlyOne&gt;\n            &lt;wsp:All&gt;\n                &lt;sp:EncryptedParts&gt;\n                    &lt;sp:Body /&gt;\n                &lt;/sp:EncryptedParts&gt;\n                &lt;sp:SignedParts&gt;\n                    &lt;sp:Body /&gt;\n                &lt;/sp:SignedParts&gt;\n            &lt;/wsp:All&gt;\n        &lt;/wsp:ExactlyOne&gt;\n    &lt;/wsp:Policy&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n\n<p>Any help would be really appreciated!</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1575992033,"post_id":59270651,"comment_id":104748452,"body_markdown":"with or without?","body":"with or without?"},{"owner":{"account_id":17277428,"reputation":13,"user_id":12511783,"display_name":"Johnathan Davidow"},"score":0,"creation_date":1575992075,"post_id":59270651,"comment_id":104748475,"body_markdown":"@jhamon Oops! I meant without.","body":"@jhamon Oops! I meant without."},{"owner":{"account_id":11229363,"reputation":134,"user_id":8237967,"display_name":"Jordie"},"score":0,"creation_date":1575992076,"post_id":59270651,"comment_id":104748477,"body_markdown":"Can you name a usecase in which this is required? You can probably use a static import to avoid typing `Math.`","body":"Can you name a usecase in which this is required? You can probably use a static import to avoid typing <code>Math.</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":9,"creation_date":1575992079,"post_id":59270651,"comment_id":104748482,"body_markdown":"Why _don&#39;t_ you want to use `Math`?","body":"Why <i>don&#39;t</i> you want to use <code>Math</code>?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1575992113,"post_id":59270651,"comment_id":104748508,"body_markdown":"Either you use the Java math library, you use some other library, or you implement it yourself.","body":"Either you use the Java math library, you use some other library, or you implement it yourself."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1575992149,"post_id":59270651,"comment_id":104748525,"body_markdown":"There is a &quot;way&quot; but you&#39;ll end-up copying the `Math` implementation.\nFun note: &quot;Maxx - Get a way&quot; song was playing in the background hahaha","body":"There is a &quot;way&quot; but you&#39;ll end-up copying the <code>Math</code> implementation. Fun note: &quot;Maxx - Get a way&quot; song was playing in the background hahaha"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1575992190,"post_id":59270651,"comment_id":104748552,"body_markdown":"Well, you can always copy the source code of Math.log and copy it into a TotallyNotMath.log class/method. The question is of course what would be the point of doing that.","body":"Well, you can always copy the source code of Math.log and copy it into a TotallyNotMath.log class/method. The question is of course what would be the point of doing that."},{"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"score":2,"creation_date":1575992223,"post_id":59270651,"comment_id":104748567,"body_markdown":"Why would you do this? Lesson one in software development: don&#39;t re-invent the wheel.","body":"Why would you do this? Lesson one in software development: don&#39;t re-invent the wheel."},{"owner":{"account_id":11094780,"reputation":1479,"user_id":8145339,"display_name":"Mangue  Sutcliff"},"score":0,"creation_date":1575992357,"post_id":59270651,"comment_id":104748644,"body_markdown":"Maybe you can try it ? https://coderanch.com/t/651041/java/Logarithm-java-Math-log","body":"Maybe you can try it ? <a href=\"https://coderanch.com/t/651041/java/Logarithm-java-Math-log\" rel=\"nofollow noreferrer\">coderanch.com/t/651041/java/Logarithm-java-Math-log</a>"},{"owner":{"account_id":17277428,"reputation":13,"user_id":12511783,"display_name":"Johnathan Davidow"},"score":0,"creation_date":1575992380,"post_id":59270651,"comment_id":104748659,"body_markdown":"@NickJ I just think it would be interesting to know how to this to get a better understanding of how it&#39;s done.","body":"@NickJ I just think it would be interesting to know how to this to get a better understanding of how it&#39;s done."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":1,"creation_date":1575992412,"post_id":59270651,"comment_id":104748680,"body_markdown":"@JohnathanDavidow reading/debugging the `Math` sources is a good way to learn, if that&#39;s the intent.","body":"@JohnathanDavidow reading/debugging the <code>Math</code> sources is a good way to learn, if that&#39;s the intent."},{"owner":{"account_id":239923,"reputation":11783,"user_id":509840,"accept_rate":71,"display_name":"rajah9"},"score":0,"creation_date":1575992438,"post_id":59270651,"comment_id":104748694,"body_markdown":"And if you want to implement logarithms yourself, be very careful. See https://floating-point-gui.de/ for a small tour of the hazard. And before your chime in with &quot;I&#39;ll be careful,&quot; Please remember this classic dialogue: &quot;Luke Skywalker: I&#39;ll be careful. Dr. Evazan: You&#39;ll be dead!&quot;","body":"And if you want to implement logarithms yourself, be very careful. See <a href=\"https://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a> for a small tour of the hazard. And before your chime in with &quot;I&#39;ll be careful,&quot; Please remember this classic dialogue: &quot;Luke Skywalker: I&#39;ll be careful. Dr. Evazan: You&#39;ll be dead!&quot;"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1575992477,"post_id":59270651,"comment_id":104748716,"body_markdown":"@JohnathanDavidow: you can&#39;t learn &quot;how it&#39;s done&quot; by re-implementing it in Java, because `Math` is not implemented in Java (well, there is Java source code, but most of the actual code is hidden deep in your JVM implementation, as most of the methods in Math are implemented using so-called intrinsics).","body":"@JohnathanDavidow: you can&#39;t learn &quot;how it&#39;s done&quot; by re-implementing it in Java, because <code>Math</code> is not implemented in Java (well, there is Java source code, but most of the actual code is hidden deep in your JVM implementation, as most of the methods in Math are implemented using so-called intrinsics)."},{"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"score":0,"creation_date":1575992569,"post_id":59270651,"comment_id":104748784,"body_markdown":"@JohnathanDavidow the place to start would be to understand how to calculate things like logarithms, sines, cosines etc from series expansion, so you can just use basic arithmetic, and that is more Maths related than software.","body":"@JohnathanDavidow the place to start would be to understand how to calculate things like logarithms, sines, cosines etc from series expansion, so you can just use basic arithmetic, and that is more Maths related than software."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1575992636,"post_id":59270651,"comment_id":104748818,"body_markdown":"This might give you an idea of how to do it: https://math.stackexchange.com/questions/977586/is-there-an-approximation-to-the-natural-log-function-at-large-values","body":"This might give you an idea of how to do it: <a href=\"https://math.stackexchange.com/questions/977586/is-there-an-approximation-to-the-natural-log-function-at-large-values\" title=\"is there an approximation to the natural log function at large values\">math.stackexchange.com/questions/977586/&hellip;</a>"},{"owner":{"account_id":17277428,"reputation":13,"user_id":12511783,"display_name":"Johnathan Davidow"},"score":0,"creation_date":1575992744,"post_id":59270651,"comment_id":104748895,"body_markdown":"@LppEdd That is my intent. I think the way I worded the question may have been confusing. Thank you.","body":"@LppEdd That is my intent. I think the way I worded the question may have been confusing. Thank you."},{"owner":{"account_id":17277428,"reputation":13,"user_id":12511783,"display_name":"Johnathan Davidow"},"score":0,"creation_date":1575992909,"post_id":59270651,"comment_id":104749008,"body_markdown":"@NickJ *Don&#39;t reinvent the wheel unless you plan on learning more about wheels.","body":"@NickJ *Don&#39;t reinvent the wheel unless you plan on learning more about wheels."},{"owner":{"account_id":17277428,"reputation":13,"user_id":12511783,"display_name":"Johnathan Davidow"},"score":0,"creation_date":1575992970,"post_id":59270651,"comment_id":104749040,"body_markdown":"@Sweeper This is very helpful. Thank you","body":"@Sweeper This is very helpful. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":7426337,"reputation":549,"user_id":5648688,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692663967,"creation_date":1575992701,"answer_id":59270889,"question_id":59270651,"body_markdown":"Try this, using simple maths to calculate\r\n\r\n    public static int toLog2N(int num){\r\n        return num &gt; 1 ? 1 + toLog2N(num/2) : 0;\r\n    }\r\n\r\nIt&#39;s just an example: you should use the `Math` class as it provides different methods like `log(double a), log10(double a), log1p(double a)`. It will make your code more readable and easier to understand.\r\n\r\n\r\n","title":"Mathematical Operations Without Using Java Math Class","body":"<p>Try this, using simple maths to calculate</p>\n<pre><code>public static int toLog2N(int num){\n    return num &gt; 1 ? 1 + toLog2N(num/2) : 0;\n}\n</code></pre>\n<p>It's just an example: you should use the <code>Math</code> class as it provides different methods like <code>log(double a), log10(double a), log1p(double a)</code>. It will make your code more readable and easier to understand.</p>\n"},{"tags":[],"owner":{"account_id":7388280,"reputation":438,"user_id":5622596,"display_name":"jspek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576001026,"creation_date":1576001026,"answer_id":59273032,"question_id":59270651,"body_markdown":"We could try to use a power series as per: https://math.stackexchange.com/a/61283\r\n\r\nFor example: \r\n\r\n    @Test\r\n\tpublic void printMathCalculation() {\r\n\t\tdouble libValue = Math.log(100); \r\n\t\tdouble myValue = getLn(100);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Actual: \\t&quot; + libValue);\r\n\t\tSystem.out.println(&quot;Approximate: \\t&quot; + myValue);\r\n\t}\r\n\r\n\t//Take double to an integer power\r\n\tprivate double pow(double num, int power) {\r\n\t\tdouble result = 1;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; power; i++) {\r\n\t\t\tresult *= num;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//Get natural log\r\n\tprivate double getLn(double num) {\r\n\t\tint accuracy = 1000;\r\n\t\tdouble sum = 0;\r\n\t\tfor(int n = 0; n &lt; accuracy; n++) {\r\n\t\t\tdouble num1 = (1.0/(2*n+1));\r\n\t\t\tdouble num2 = (num-1)/(num+1);\r\n\t\t\t\r\n\t\t\tsum += num1*pow(num2,2*n+1);\r\n\t\t}\r\n\t\t\r\n\t\treturn 2 * sum;\r\n\t}\r\n\r\nThe results I get are:\r\n\r\n    Actual: \t    4.605170185988092 \r\n    Approximate: \t4.605170185988078","title":"Mathematical Operations Without Using Java Math Class","body":"<p>We could try to use a power series as per: <a href=\"https://math.stackexchange.com/a/61283\">https://math.stackexchange.com/a/61283</a></p>\n\n<p>For example: </p>\n\n<pre><code>@Test\npublic void printMathCalculation() {\n    double libValue = Math.log(100); \n    double myValue = getLn(100);\n\n    System.out.println(\"Actual: \\t\" + libValue);\n    System.out.println(\"Approximate: \\t\" + myValue);\n}\n\n//Take double to an integer power\nprivate double pow(double num, int power) {\n    double result = 1;\n\n    for(int i = 0; i &lt; power; i++) {\n        result *= num;\n    }\n    return result;\n}\n\n//Get natural log\nprivate double getLn(double num) {\n    int accuracy = 1000;\n    double sum = 0;\n    for(int n = 0; n &lt; accuracy; n++) {\n        double num1 = (1.0/(2*n+1));\n        double num2 = (num-1)/(num+1);\n\n        sum += num1*pow(num2,2*n+1);\n    }\n\n    return 2 * sum;\n}\n</code></pre>\n\n<p>The results I get are:</p>\n\n<pre><code>Actual:         4.605170185988092 \nApproximate:    4.605170185988078\n</code></pre>\n"}],"owner":{"account_id":17277428,"reputation":13,"user_id":12511783,"display_name":"Johnathan Davidow"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":59273032,"answer_count":2,"score":0,"last_activity_date":1692663967,"creation_date":1575991945,"question_id":59270651,"body_markdown":"I&#39;ve been making my own class library in Java and I&#39;ve run into a small annoyance. The library is centered around *math*. I started with the intention of not using the *Java Math Class*. Unfortunately, my lack of skill paired with my inability to find a resource online that tackles this problem has resulted in me falling back onto the Java Math Class. **Is there a way I can do logarithms without using Math.log?**","title":"Mathematical Operations Without Using Java Math Class","body":"<p>I've been making my own class library in Java and I've run into a small annoyance. The library is centered around <em>math</em>. I started with the intention of not using the <em>Java Math Class</em>. Unfortunately, my lack of skill paired with my inability to find a resource online that tackles this problem has resulted in me falling back onto the Java Math Class. <strong>Is there a way I can do logarithms without using Math.log?</strong></p>\n"},{"tags":["java","oop","tic-tac-toe"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692637281,"post_id":76947220,"comment_id":135647807,"body_markdown":"Var names begin with lowercase letter, not uppercase. Ditto for method names.","body":"Var names begin with lowercase letter, not uppercase. Ditto for method names."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692637453,"post_id":76947220,"comment_id":135647828,"body_markdown":"As a beginner, generally best to avoid `static` until you are very clear on its purpose.","body":"As a beginner, generally best to avoid <code>static</code> until you are very clear on its purpose."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692637552,"post_id":76947220,"comment_id":135647843,"body_markdown":"https://en.wikipedia.org/wiki/Debugging","body":"<a href=\"https://en.wikipedia.org/wiki/Debugging\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Debugging</a>"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1692640209,"post_id":76947220,"comment_id":135648303,"body_markdown":"I don&#39;t see where you initialize the board squares to the space character &#39; &#39; - you need that for your &quot;move&quot; logic to succeed.  (see `if (board.board[row][col] == &#39; &#39;) {`","body":"I don&#39;t see where you initialize the board squares to the space character &#39; &#39; - you need that for your &quot;move&quot; logic to succeed.  (see <code>if (board.board[row][col] == &#39; &#39;) {</code>"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1692643720,"post_id":76947220,"comment_id":135648932,"body_markdown":"It seems you never give feedback to answers, let be you have marked an answer as accepted. Not very motivating.","body":"It seems you never give feedback to answers, let be you have marked an answer as accepted. Not very motivating."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692663071,"creation_date":1692663071,"answer_id":76949373,"question_id":76947220,"body_markdown":"&gt; _&quot;... Im making a tictactoe game, everything works fine so far but its not taking my coordinates ...&quot;_\r\n\r\nThe reason is because the _board_ array needs to be initialized with space characters.  \r\nYou check for it, within the _main_ loop.\r\n\r\n```java\r\nif (board.board[row][col] == &#39; &#39;)\r\n```\r\n\r\nI used the _[Arrays#fill](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(char[],char))_ method here, to avoid having to write another loop.  \r\nAnd I added it to the default constructor.&amp;nbsp; You could technically use the _[initialization block](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)_, as well.\r\n\r\n```java\r\nBoard() {\r\n    for (char[] row : board) Arrays.fill(row, &#39; &#39;);\r\n}\r\n```\r\n\r\n&gt; _&quot;... If you have any other suggestions on how to make my code better i would be very grateful :)&quot;_\r\n\r\nSince the _board_ is just a _3_ x _3_, I wouldn&#39;t use any loops.\r\n\r\n```java\r\n@Override\r\npublic String toString() {\r\n    return\r\n          &quot; %s | %s | %s %n&quot;.formatted(board[0][0], board[0][1], board[0][2])\r\n        + &quot;%s%n&quot;.formatted(&quot;-&quot;.repeat(11))\r\n        + &quot; %s | %s | %s %n&quot;.formatted(board[1][0], board[1][1], board[1][2])\r\n        + &quot;%s%n&quot;.formatted(&quot;-&quot;.repeat(11))\r\n        + &quot; %s | %s | %s&quot;.formatted(board[2][0], board[2][1], board[2][2]);\r\n}\r\n```","title":"TicTacToe game not taking users input","body":"<blockquote>\n<p><em>&quot;... Im making a tictactoe game, everything works fine so far but its not taking my coordinates ...&quot;</em></p>\n</blockquote>\n<p>The reason is because the <em>board</em> array needs to be initialized with space characters.<br />\nYou check for it, within the <em>main</em> loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (board.board[row][col] == ' ')\n</code></pre>\n<p>I used the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(char%5B%5D,char)\" rel=\"nofollow noreferrer\">Arrays#fill</a></em> method here, to avoid having to write another loop.<br />\nAnd I added it to the default constructor.  You could technically use the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">initialization block</a></em>, as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Board() {\n    for (char[] row : board) Arrays.fill(row, ' ');\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... If you have any other suggestions on how to make my code better i would be very grateful :)&quot;</em></p>\n</blockquote>\n<p>Since the <em>board</em> is just a <em>3</em> x <em>3</em>, I wouldn't use any loops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n    return\n          &quot; %s | %s | %s %n&quot;.formatted(board[0][0], board[0][1], board[0][2])\n        + &quot;%s%n&quot;.formatted(&quot;-&quot;.repeat(11))\n        + &quot; %s | %s | %s %n&quot;.formatted(board[1][0], board[1][1], board[1][2])\n        + &quot;%s%n&quot;.formatted(&quot;-&quot;.repeat(11))\n        + &quot; %s | %s | %s&quot;.formatted(board[2][0], board[2][1], board[2][2]);\n}\n</code></pre>\n"}],"owner":{"account_id":26474632,"reputation":15,"user_id":20114716,"display_name":"daniell e"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1692663071,"creation_date":1692635964,"question_id":76947220,"body_markdown":"Im making a tictactoe game, everything works fine so far but its not taking my coordinates, I need the icon that is given to me to be put where im writing it to go on the board. Here&#39;s my code:\r\n\r\nMain class:\r\n\r\n    package com.mycompany.tictactoe;\r\n    import java.util.Scanner;\r\n    public class Tictactoe {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            Player player1 = new Player();\r\n            Player player2 = new Player();\r\n    \r\n            player1.icon = &#39;X&#39;;\r\n            player1.PlayerInfo();\r\n    \r\n            player2.icon = &#39;O&#39;;\r\n            player2.PlayerInfo();\r\n    \r\n            Board board = new Board();\r\n    \r\n            boolean GameOver = false;\r\n    \r\n            while (!GameOver) {\r\n                board.PrintBoard(board.board);\r\n                Player currentPlayer = (board.Row + board.Col) % 2 == 0 ? player1 : player2;\r\n                System.out.print(&quot;Player &quot; + currentPlayer.name + &quot; enter row value as &quot; + currentPlayer.icon + &quot;: &quot;);\r\n                int row = scanner.nextInt();\r\n                System.out.print(&quot;Player &quot; + currentPlayer.name + &quot; enter col value as &quot; + currentPlayer.icon + &quot;: &quot;);\r\n                int col = scanner.nextInt();\r\n    \r\n                if (row &gt;= 0 &amp;&amp; row &lt; 3 &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; 3) {\r\n                    if (board.board[row][col] == &#39; &#39;) {\r\n                        board.board[row][col] = currentPlayer.icon;\r\n                        GameOver = Board.HaveWon(board.board, currentPlayer);\r\n                        if (GameOver) {\r\n                            System.out.println(&quot;Player &quot; + currentPlayer.name + &quot; has won&quot;);\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;Invalid move.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input, row and column values must be between 0 and 2.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nPlayer class:\r\n\r\n    package com.mycompany.tictactoe;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Player {\r\n        Scanner scanner = new Scanner(System.in);\r\n        char icon;\r\n        String name;\r\n    \r\n        public void PlayerInfo() {\r\n            System.out.print(&quot;Enter player&#39;s name: &quot;);\r\n            name = scanner.nextLine();\r\n        }\r\n    }\r\n\r\nBoard class:\r\n\r\n    package com.mycompany.tictactoe;\r\n    \r\n    public class Board {\r\n        int Row = 0;\r\n        int Col = 0;\r\n        char[][] board = new char[3][3];\r\n    \r\n        public void PrintBoard(char[][] board) {\r\n            for (int row = 0; row &lt; board.length; row++) {\r\n                for (int col = 0; col &lt; board[row].length; col++) {\r\n                    System.out.print(board[row][col] + &quot; | &quot;);\r\n                }\r\n                System.out.println();\r\n                if (row &lt; board.length - 1) {\r\n                    System.out.println(&quot;---------&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static boolean HaveWon(char[][] board, Player player) {\r\n            //Check the rows\r\n            for (int Row = 0; Row &lt;  board.length; Row++){\r\n                if(board[Row][0] == player.icon &amp;&amp; board[Row][1] == player.icon &amp;&amp; board[Row][2] == player.icon){\r\n                    return true;\r\n                }\r\n            }\r\n            \r\n            //Check for Colums\r\n            for (int Col = 0; Col &lt;  board[0].length; Col++){\r\n                if(board[0][Col] == player.icon &amp;&amp; board[1][Col] == player.icon &amp;&amp; board[2][Col] == player.icon){\r\n                    return true;\r\n                }\r\n            }\r\n            \r\n            //Check diagonaly\r\n                if(board[0][0] == player.icon &amp;&amp; board[1][1] == player.icon &amp;&amp; board[2][2] == player.icon){\r\n                    return true;\r\n                }\r\n                \r\n                if(board[0][2] == player.icon &amp;&amp; board[1][1] == player.icon &amp;&amp; board[2][0] == player.icon){\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        \r\n        }\r\n\r\n\r\nIf you have any other suggestions on how to make my code better i would be very grateful :)\r\n\r\n","title":"TicTacToe game not taking users input","body":"<p>Im making a tictactoe game, everything works fine so far but its not taking my coordinates, I need the icon that is given to me to be put where im writing it to go on the board. Here's my code:</p>\n<p>Main class:</p>\n<pre><code>package com.mycompany.tictactoe;\nimport java.util.Scanner;\npublic class Tictactoe {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Player player1 = new Player();\n        Player player2 = new Player();\n\n        player1.icon = 'X';\n        player1.PlayerInfo();\n\n        player2.icon = 'O';\n        player2.PlayerInfo();\n\n        Board board = new Board();\n\n        boolean GameOver = false;\n\n        while (!GameOver) {\n            board.PrintBoard(board.board);\n            Player currentPlayer = (board.Row + board.Col) % 2 == 0 ? player1 : player2;\n            System.out.print(&quot;Player &quot; + currentPlayer.name + &quot; enter row value as &quot; + currentPlayer.icon + &quot;: &quot;);\n            int row = scanner.nextInt();\n            System.out.print(&quot;Player &quot; + currentPlayer.name + &quot; enter col value as &quot; + currentPlayer.icon + &quot;: &quot;);\n            int col = scanner.nextInt();\n\n            if (row &gt;= 0 &amp;&amp; row &lt; 3 &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; 3) {\n                if (board.board[row][col] == ' ') {\n                    board.board[row][col] = currentPlayer.icon;\n                    GameOver = Board.HaveWon(board.board, currentPlayer);\n                    if (GameOver) {\n                        System.out.println(&quot;Player &quot; + currentPlayer.name + &quot; has won&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid move.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Invalid input, row and column values must be between 0 and 2.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Player class:</p>\n<pre><code>package com.mycompany.tictactoe;\n\nimport java.util.Scanner;\n\npublic class Player {\n    Scanner scanner = new Scanner(System.in);\n    char icon;\n    String name;\n\n    public void PlayerInfo() {\n        System.out.print(&quot;Enter player's name: &quot;);\n        name = scanner.nextLine();\n    }\n}\n</code></pre>\n<p>Board class:</p>\n<pre><code>package com.mycompany.tictactoe;\n\npublic class Board {\n    int Row = 0;\n    int Col = 0;\n    char[][] board = new char[3][3];\n\n    public void PrintBoard(char[][] board) {\n        for (int row = 0; row &lt; board.length; row++) {\n            for (int col = 0; col &lt; board[row].length; col++) {\n                System.out.print(board[row][col] + &quot; | &quot;);\n            }\n            System.out.println();\n            if (row &lt; board.length - 1) {\n                System.out.println(&quot;---------&quot;);\n            }\n        }\n    }\n\n    public static boolean HaveWon(char[][] board, Player player) {\n        //Check the rows\n        for (int Row = 0; Row &lt;  board.length; Row++){\n            if(board[Row][0] == player.icon &amp;&amp; board[Row][1] == player.icon &amp;&amp; board[Row][2] == player.icon){\n                return true;\n            }\n        }\n        \n        //Check for Colums\n        for (int Col = 0; Col &lt;  board[0].length; Col++){\n            if(board[0][Col] == player.icon &amp;&amp; board[1][Col] == player.icon &amp;&amp; board[2][Col] == player.icon){\n                return true;\n            }\n        }\n        \n        //Check diagonaly\n            if(board[0][0] == player.icon &amp;&amp; board[1][1] == player.icon &amp;&amp; board[2][2] == player.icon){\n                return true;\n            }\n            \n            if(board[0][2] == player.icon &amp;&amp; board[1][1] == player.icon &amp;&amp; board[2][0] == player.icon){\n                return true;\n            }\n            return false;\n        }\n    \n    }\n</code></pre>\n<p>If you have any other suggestions on how to make my code better i would be very grateful :)</p>\n"},{"tags":["java","swing","user-interface","intellij-idea","jpanel"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1692646382,"post_id":76948208,"comment_id":135649387,"body_markdown":"Check the sample gui designer projects, it looks like you do not map ui components to the fields. If you can&#39;t figure it out, share your project on GitHub, see [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Check the sample gui designer projects, it looks like you do not map ui components to the fields. If you can&#39;t figure it out, share your project on GitHub, see <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692656702,"post_id":76948208,"comment_id":135651017,"body_markdown":"I don&#39;t see a `registroPanel = new JPanel()` statement anywhere in your code, so  the &quot;registro&quot; variable is null&quot;. *I have tried putting the private void createUIComponents() in the Registro class and it fails,* - and you never invoke that method or have any code in that method to create the panel and add the components to the panel.","body":"I don&#39;t see a <code>registroPanel = new JPanel()</code> statement anywhere in your code, so  the &quot;registro&quot; variable is null&quot;. <i>I have tried putting the private void createUIComponents() in the Registro class and it fails,</i> - and you never invoke that method or have any code in that method to create the panel and add the components to the panel."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692716039,"post_id":76948208,"comment_id":135660571,"body_markdown":"Please do not post images of text, but the text directly.","body":"Please do not post images of text, but the text directly."}],"owner":{"account_id":29270228,"reputation":1,"user_id":22425206,"display_name":"DeMoRaDoR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692662576,"creation_date":1692646049,"question_id":76948208,"body_markdown":"I&#39;m new and starting with intellij, I got two questions.\r\n\r\n1- I&#39;m making a simple app with intellij using GUI, but I have a problem, when I try to run the program, this show me the next error : \r\n[enter image description here](https://i.stack.imgur.com/5hmpT.png).\r\nI don&#39;t know why.\r\n\r\n2- I start with netbeans but change to intellij. Is it necessary to create the program code once you have the GUI classes in the main separately, as in NetBeans, or is it not necessary? I&#39;m attaching a screenshot to illustrate what I mean.\r\n\r\n![enter image description here](https://i.stack.imgur.com/Cn3uE.png)\r\n\r\nI have tried putting the private void createUIComponents() in the Registro class and it fails, changing some names of the JPanel.\r\n\r\nThis is the code:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Registro extends JDialog {\r\n        private JTextField tfNombre;\r\n        private JTextField tfEmail;\r\n        private JPasswordField pfPassword;\r\n        private JPasswordField pfConfirmaPassword;\r\n        private JButton bntRegistro;\r\n        private JButton btnCancelar;\r\n        private JPanel registroPanel;\r\n        \r\n    public Registro(JFrame parent) {\r\n            super(parent);\r\n            setTitle(&quot;Crea una nueva cuenta&quot;);\r\n            setContentPane(registroPanel);\r\n            setMinimumSize(new Dimension(450, 474));\r\n            setModal(true);\r\n            setLocationRelativeTo(parent);\r\n            setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Registro myForma = new Registro(null);\r\n        }\r\n        private void createUIComponents() {\r\n            // TODO: place custom component creation code here\r\n        }\r\n    }","title":"A problem with the GUI in intellij error null field parent","body":"<p>I'm new and starting with intellij, I got two questions.</p>\n<p>1- I'm making a simple app with intellij using GUI, but I have a problem, when I try to run the program, this show me the next error :\n<a href=\"https://i.stack.imgur.com/5hmpT.png\" rel=\"nofollow noreferrer\">enter image description here</a>.\nI don't know why.</p>\n<p>2- I start with netbeans but change to intellij. Is it necessary to create the program code once you have the GUI classes in the main separately, as in NetBeans, or is it not necessary? I'm attaching a screenshot to illustrate what I mean.</p>\n<p><img src=\"https://i.stack.imgur.com/Cn3uE.png\" alt=\"enter image description here\" /></p>\n<p>I have tried putting the private void createUIComponents() in the Registro class and it fails, changing some names of the JPanel.</p>\n<p>This is the code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Registro extends JDialog {\n    private JTextField tfNombre;\n    private JTextField tfEmail;\n    private JPasswordField pfPassword;\n    private JPasswordField pfConfirmaPassword;\n    private JButton bntRegistro;\n    private JButton btnCancelar;\n    private JPanel registroPanel;\n    \npublic Registro(JFrame parent) {\n        super(parent);\n        setTitle(&quot;Crea una nueva cuenta&quot;);\n        setContentPane(registroPanel);\n        setMinimumSize(new Dimension(450, 474));\n        setModal(true);\n        setLocationRelativeTo(parent);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        Registro myForma = new Registro(null);\n    }\n    private void createUIComponents() {\n        // TODO: place custom component creation code here\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","bash","spring-boot","azure"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692654230,"post_id":76948871,"comment_id":135650720,"body_markdown":"I&#39;d start by trying out surrounding the value with *single* quotes","body":"I&#39;d start by trying out surrounding the value with <i>single</i> quotes"},{"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"score":0,"creation_date":1692655113,"post_id":76948871,"comment_id":135650822,"body_markdown":"With this message : `unexpected EOF while looking for matching `&#39;&#39;`, it seems a single qutoe is causing problem.","body":"With this message : <code>unexpected EOF while looking for matching </code>&#39;&#39;`, it seems a single qutoe is causing problem."},{"owner":{"account_id":4663062,"reputation":85121,"user_id":3776858,"display_name":"Cyrus"},"score":0,"creation_date":1692655359,"post_id":76948871,"comment_id":135650859,"body_markdown":"Remove all four single quotes?","body":"Remove all four single quotes?"},{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":0,"creation_date":1692655516,"post_id":76948871,"comment_id":135650875,"body_markdown":"@Philippe I have updated the question, in the password there is a single quote as well, I thought the message is for double quotes.","body":"@Philippe I have updated the question, in the password there is a single quote as well, I thought the message is for double quotes."},{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":0,"creation_date":1692655611,"post_id":76948871,"comment_id":135650886,"body_markdown":"@g00se I tried with `java -jar -Dspring.datasource.password=&#39;$(db-password)&#39; my-app.jar ` but got same error. Looks like it is the **single quote** causing issue, like @Philippe mentioned.","body":"@g00se I tried with <code>java -jar -Dspring.datasource.password=&#39;$(db-password)&#39; my-app.jar </code> but got same error. Looks like it is the <b>single quote</b> causing issue, like @Philippe mentioned."},{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":0,"creation_date":1692655674,"post_id":76948871,"comment_id":135650898,"body_markdown":"@Cyrus not sure what you mean by remove all four single quotes","body":"@Cyrus not sure what you mean by remove all four single quotes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692655751,"post_id":76948871,"comment_id":135650910,"body_markdown":"*whose value is say 123&quot;xk&#39;cv* Oh hang on - so you&#39;ve got more than one type of quote in there?","body":"<i>whose value is say 123&quot;xk&#39;cv</i> Oh hang on - so you&#39;ve got more than one type of quote in there?"},{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":0,"creation_date":1692655827,"post_id":76948871,"comment_id":135650916,"body_markdown":"@g00se unfortunately yes, its a mix of symbols, letters and digits, I wouldn&#39;t be able to remember it even If I tried :Dx","body":"@g00se unfortunately yes, its a mix of symbols, letters and digits, I wouldn&#39;t be able to remember it even If I tried :Dx"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692656017,"post_id":76948871,"comment_id":135650939,"body_markdown":"At the moment, you seem to be returning the password from a function or a script..?","body":"At the moment, you seem to be returning the password from a function or a script..?"},{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":0,"creation_date":1692656133,"post_id":76948871,"comment_id":135650954,"body_markdown":"@g00se Yes, from an azure key vault. like so `$(db-password)`. on the other hand I tried the same command in a shell script editor, I am getting syntax error, I am not able to eliminate both single and double quotes even after using a combination of quotes :D","body":"@g00se Yes, from an azure key vault. like so <code>$(db-password)</code>. on the other hand I tried the same command in a shell script editor, I am getting syntax error, I am not able to eliminate both single and double quotes even after using a combination of quotes :D"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692656718,"post_id":76948871,"comment_id":135651018,"body_markdown":"Not sure what&#39;s happening. Just tested with `java -Dbadpass=$(cat badpass) PassView` which just echoes that property to stdout. A nasty &#39;password&#39; with single and double quotes in it. It was fine","body":"Not sure what&#39;s happening. Just tested with <code>java -Dbadpass=$(cat badpass) PassView</code> which just echoes that property to stdout. A nasty &#39;password&#39; with single and double quotes in it. It was fine"}],"answers":[{"tags":[],"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692658719,"creation_date":1692658719,"answer_id":76949151,"question_id":76948871,"body_markdown":"I put this as an answer for formatting purposes, try this :\r\n\r\n```\r\nsteps:\r\n  - task: Bash@3\r\n    displayName: &#39;Deploy jar&#39;\r\n    inputs:\r\n      targetType: &#39;inline&#39;\r\n      script: |\r\n        cd build/libs\r\n        java -jar -Dspring.datasource.password=&quot;$(cat &lt;&lt; &#39;END_OF_STRING&#39;\r\n        $(db-password)\r\n        END_OF_STRING\r\n        )&quot; my-app.jar\r\n```","title":"How to escape double and single quotes in java -jar bash command for Spring Boot Application containing Property with double quotes and single quotes","body":"<p>I put this as an answer for formatting purposes, try this :</p>\n<pre><code>steps:\n  - task: Bash@3\n    displayName: 'Deploy jar'\n    inputs:\n      targetType: 'inline'\n      script: |\n        cd build/libs\n        java -jar -Dspring.datasource.password=&quot;$(cat &lt;&lt; 'END_OF_STRING'\n        $(db-password)\n        END_OF_STRING\n        )&quot; my-app.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32384,"reputation":120260,"user_id":89817,"display_name":"Gordon Davisson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692662345,"creation_date":1692662345,"answer_id":76949331,"question_id":76948871,"body_markdown":"According to Microsoft&#39;s docs on [using secret variables](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/set-secret-variables?view=azure-devops&amp;tabs=yaml%2Cbash), &quot;You&#39;ll need to map secret variable as environment variables to reference them in YAML pipelines.&quot;\r\n\r\nI&#39;m not entirely clear on Azure&#39;s YAML structure, but AIUI that&#39;ll mean adding something like this at *some* level under `steps`:\r\n\r\n    env:\r\n      password: $(db-password)\r\n\r\nAnd using it like this in the bash script:\r\n\r\n    script: |\r\n      cd build/libs\r\n      java -jar -Dspring.datasource.password=&quot;$password&quot; my-app.jar\r\n\r\nThis way the password isn&#39;t actually substituted into the script&#39;s text; instead, bash will see `&quot;$password&quot;` and expand it to the environment variable&#39;s value. Since it&#39;s in double-quotes, bash doesn&#39;t do any parsing *at all* on the variable&#39;s value, so any quotes, spaces, wildcards, etc will not cause parsing problems.\r\n\r\nBTW, many sources recommend using all-caps variable names for environment variables, but lower- and mixed-case names are actually safer because of all of the all-caps names that have special meanings. If you don&#39;t want any of those special meanings, use lowercase to avoid accidental conflicts with any of those special-meaning variables.","title":"How to escape double and single quotes in java -jar bash command for Spring Boot Application containing Property with double quotes and single quotes","body":"<p>According to Microsoft's docs on <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/process/set-secret-variables?view=azure-devops&amp;tabs=yaml%2Cbash\" rel=\"nofollow noreferrer\">using secret variables</a>, &quot;You'll need to map secret variable as environment variables to reference them in YAML pipelines.&quot;</p>\n<p>I'm not entirely clear on Azure's YAML structure, but AIUI that'll mean adding something like this at <em>some</em> level under <code>steps</code>:</p>\n<pre><code>env:\n  password: $(db-password)\n</code></pre>\n<p>And using it like this in the bash script:</p>\n<pre><code>script: |\n  cd build/libs\n  java -jar -Dspring.datasource.password=&quot;$password&quot; my-app.jar\n</code></pre>\n<p>This way the password isn't actually substituted into the script's text; instead, bash will see <code>&quot;$password&quot;</code> and expand it to the environment variable's value. Since it's in double-quotes, bash doesn't do any parsing <em>at all</em> on the variable's value, so any quotes, spaces, wildcards, etc will not cause parsing problems.</p>\n<p>BTW, many sources recommend using all-caps variable names for environment variables, but lower- and mixed-case names are actually safer because of all of the all-caps names that have special meanings. If you don't want any of those special meanings, use lowercase to avoid accidental conflicts with any of those special-meaning variables.</p>\n"}],"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692662345,"creation_date":1692654110,"question_id":76948871,"body_markdown":"I have come across a very **strange situation** while deploying a `Java jar` using `Azure DevOps Pipelines`\r\n\r\nI am using `task: Bash@3` to execute a `shell` command `&#39;java -jar my-app.jar&#39;` \r\n\r\nI have 1 `secret` called `db-password` from `Azure KeyVault` as a `variable` whose value is say `123&quot;xk&#39;cv`\r\n\r\n\r\nI need to set this as a `Spring Boot Application property` in order to access the `datasource` in my **application**. \r\n\r\n\r\n\r\nThe `yml` script to run java -jar command is as follows: \r\n\r\n```\r\nsteps:\r\n  - task: Bash@3\r\n    displayName: &#39;Deploy jar&#39;\r\n    inputs:\r\n      targetType: &#39;inline&#39;\r\n      script: |\r\n        cd build/libs\r\n        java -jar -Dspring.datasource.password=$(db-password) my-app.jar \r\n```\r\n\r\n\r\nDue to the presence of one **double quote** `&quot;` or **single quote** `&#39;` in the `secret` value, the `Azure Devops pipeline` is **failing** with the following error: \r\n\r\n```\r\n/myagent/_work/_temp/xxxx.sh: line 2: unexpected EOF while looking for matching `&#39;&#39;\r\n/myagent/_work/_temp/xxxx.sh: line 3: syntax error: unexpected end of file\r\n\r\n```\r\n\r\n**I need a way to:** \r\n\r\nEscape the double quote or single quote from the `secret` value and execute the above pipeline. \r\n\r\nChanging the secret value is not an option as it is a production database and multiple teams are accessing it. \r\n\r\n\r\nThe Question might not be related to Azure Pipeline, it may be a simple bash or Spring boot hack. \r\n\r\n\r\n\r\n\r\nAny help is appreciated, thanks in advance. \r\n","title":"How to escape double and single quotes in java -jar bash command for Spring Boot Application containing Property with double quotes and single quotes","body":"<p>I have come across a very <strong>strange situation</strong> while deploying a <code>Java jar</code> using <code>Azure DevOps Pipelines</code></p>\n<p>I am using <code>task: Bash@3</code> to execute a <code>shell</code> command <code>'java -jar my-app.jar'</code></p>\n<p>I have 1 <code>secret</code> called <code>db-password</code> from <code>Azure KeyVault</code> as a <code>variable</code> whose value is say <code>123&quot;xk'cv</code></p>\n<p>I need to set this as a <code>Spring Boot Application property</code> in order to access the <code>datasource</code> in my <strong>application</strong>.</p>\n<p>The <code>yml</code> script to run java -jar command is as follows:</p>\n<pre><code>steps:\n  - task: Bash@3\n    displayName: 'Deploy jar'\n    inputs:\n      targetType: 'inline'\n      script: |\n        cd build/libs\n        java -jar -Dspring.datasource.password=$(db-password) my-app.jar \n</code></pre>\n<p>Due to the presence of one <strong>double quote</strong> <code>&quot;</code> or <strong>single quote</strong> <code>'</code> in the <code>secret</code> value, the <code>Azure Devops pipeline</code> is <strong>failing</strong> with the following error:</p>\n<pre><code>/myagent/_work/_temp/xxxx.sh: line 2: unexpected EOF while looking for matching `''\n/myagent/_work/_temp/xxxx.sh: line 3: syntax error: unexpected end of file\n\n</code></pre>\n<p><strong>I need a way to:</strong></p>\n<p>Escape the double quote or single quote from the <code>secret</code> value and execute the above pipeline.</p>\n<p>Changing the secret value is not an option as it is a production database and multiple teams are accessing it.</p>\n<p>The Question might not be related to Azure Pipeline, it may be a simple bash or Spring boot hack.</p>\n<p>Any help is appreciated, thanks in advance.</p>\n"},{"tags":["java","android","fullscreen","navigationbar"],"comments":[{"owner":{"account_id":3810975,"reputation":1294,"user_id":3161828,"accept_rate":50,"display_name":"hehe"},"score":0,"creation_date":1454049352,"post_id":35078061,"comment_id":57878728,"body_markdown":"navigation bar or status bar?","body":"navigation bar or status bar?"},{"owner":{"account_id":6890350,"reputation":9028,"user_id":5294091,"accept_rate":100,"display_name":"Avijit Karmakar"},"score":0,"creation_date":1454049492,"post_id":35078061,"comment_id":57878798,"body_markdown":"navigation bar..but i think navigation bar and status bar together will not be shown..","body":"navigation bar..but i think navigation bar and status bar together will not be shown.."}],"answers":[{"tags":[],"owner":{"account_id":6755951,"reputation":2583,"user_id":5204357,"accept_rate":34,"display_name":"Parama Sudha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454048251,"creation_date":1454048251,"answer_id":35078072,"question_id":35078061,"body_markdown":"**Try this code:**\r\n\r\n       getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                        WindowManager.LayoutParams.FLAG_FULLSCREEN);","title":"Hiding navigation bar android","body":"<p><strong>Try this code:</strong></p>\n\n<pre><code>   getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890350,"reputation":9028,"user_id":5294091,"accept_rate":100,"display_name":"Avijit Karmakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454048859,"creation_date":1454048859,"answer_id":35078198,"question_id":35078061,"body_markdown":"You can hide the navigation bar on Android 4.0 and higher using the SYSTEM_UI_FLAG_HIDE_NAVIGATION flag. This snippet hides both the navigation bar and the status bar:\r\n\r\n    View decorView = getWindow().getDecorView();\r\n    // Hide both the navigation bar and the status bar.\r\n    // SYSTEM_UI_FLAG_FULLSCREEN is only available on Android 4.1 and higher, but as\r\n    // a general rule, you should design your app to hide the status bar whenever you\r\n    // hide the navigation bar.\r\n    int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                  | View.SYSTEM_UI_FLAG_FULLSCREEN;\r\n    decorView.setSystemUiVisibility(uiOptions);\r\n\r\nYou can also check out this link:\r\nhttp://developer.android.com/training/system-ui/navigation.html#40","title":"Hiding navigation bar android","body":"<p>You can hide the navigation bar on Android 4.0 and higher using the SYSTEM_UI_FLAG_HIDE_NAVIGATION flag. This snippet hides both the navigation bar and the status bar:</p>\n\n<pre><code>View decorView = getWindow().getDecorView();\n// Hide both the navigation bar and the status bar.\n// SYSTEM_UI_FLAG_FULLSCREEN is only available on Android 4.1 and higher, but as\n// a general rule, you should design your app to hide the status bar whenever you\n// hide the navigation bar.\nint uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n              | View.SYSTEM_UI_FLAG_FULLSCREEN;\ndecorView.setSystemUiVisibility(uiOptions);\n</code></pre>\n\n<p>You can also check out this link:\n<a href=\"http://developer.android.com/training/system-ui/navigation.html#40\" rel=\"nofollow\">http://developer.android.com/training/system-ui/navigation.html#40</a></p>\n"}],"owner":{"account_id":6890350,"reputation":9028,"user_id":5294091,"accept_rate":100,"display_name":"Avijit Karmakar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":35078072,"answer_count":2,"score":-3,"last_activity_date":1692661935,"creation_date":1454048197,"question_id":35078061,"body_markdown":"How to hide navigation bar in android and also from which android version?\r\n\r\nI want to make the app fullscreen. No navigation bar will be shown while the app is running. \r\n\r\nPlease give me a detail about this..Thanks.. ","title":"Hiding navigation bar android","body":"<p>How to hide navigation bar in android and also from which android version?</p>\n\n<p>I want to make the app fullscreen. No navigation bar will be shown while the app is running. </p>\n\n<p>Please give me a detail about this..Thanks.. </p>\n"},{"tags":["java","linux","nginx","web-hosting","vps"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692668018,"post_id":76949185,"comment_id":135652048,"body_markdown":"Why the Java tag in an ngnix question? This is an infrastructure question probably not suitable for Stackoverlow.","body":"Why the Java tag in an ngnix question? This is an infrastructure question probably not suitable for Stackoverlow."}],"answers":[{"tags":[],"owner":{"account_id":16559982,"reputation":21,"user_id":11966119,"display_name":"xiaoming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692661680,"creation_date":1692661680,"answer_id":76949305,"question_id":76949185,"body_markdown":"seems to be missing a semicolon (;)?\r\n```\r\n    server_name traceps.shop www.traceps.shop;\r\n```","title":"Nginx Configured and Running, but Requests Not Redirected to Domain Name","body":"<p>seems to be missing a semicolon (;)?</p>\n<pre><code>    server_name traceps.shop www.traceps.shop;\n</code></pre>\n"}],"owner":{"account_id":20579259,"reputation":19,"user_id":15105761,"display_name":"miss-chl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692661680,"creation_date":1692659267,"question_id":76949185,"body_markdown":"I have successfully configured and started Nginx on my server. The Nginx service is running and listening on the correct port. I&#39;ve set up a configuration block to redirect requests from my domain name to my application running on a different port, but for some reason, the requests are not being redirected as expected.\r\nHere&#39;s a simplified version of my Nginx configuration:\r\n```\r\nserver {\r\n    listen 80;\r\n    server_name traceps.shop www.traceps.shop\r\n    proxy_pass http://62.xx.xx.xx:8080;\r\n}\r\n```\r\nI&#39;ve double-checked that my domain name (www.traceps.shop) is correctly pointed to my server&#39;s IP address. When I try to access my application through the domain name, the page doesn&#39;t load as expected. However, when I use the IP address directly with the port, the application works fine.\r\n\r\nCould there be something in my Nginx configuration that&#39;s preventing the redirection to work as intended? What steps can I take to troubleshoot and resolve this issue?","title":"Nginx Configured and Running, but Requests Not Redirected to Domain Name","body":"<p>I have successfully configured and started Nginx on my server. The Nginx service is running and listening on the correct port. I've set up a configuration block to redirect requests from my domain name to my application running on a different port, but for some reason, the requests are not being redirected as expected.\nHere's a simplified version of my Nginx configuration:</p>\n<pre><code>server {\n    listen 80;\n    server_name traceps.shop www.traceps.shop\n    proxy_pass http://62.xx.xx.xx:8080;\n}\n</code></pre>\n<p>I've double-checked that my domain name (<a href=\"http://www.traceps.shop\" rel=\"nofollow noreferrer\">www.traceps.shop</a>) is correctly pointed to my server's IP address. When I try to access my application through the domain name, the page doesn't load as expected. However, when I use the IP address directly with the port, the application works fine.</p>\n<p>Could there be something in my Nginx configuration that's preventing the redirection to work as intended? What steps can I take to troubleshoot and resolve this issue?</p>\n"},{"tags":["java","swing","hyperlink","jeditorpane"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692661402,"creation_date":1343800097,"answer_id":11753221,"question_id":11753042,"body_markdown":"Wow, that was simpler then I though :P\r\n\r\n    // Move this\r\n    //bottomText.setText(&quot;&lt;a href=\\&quot;http://www.yahoo.com\\&quot;&gt;Yahoo&lt;/a&gt;&quot;);\r\n    bottomText.setEditable(false);\r\n    bottomText.setOpaque(false);\r\n    bottomText.setEditorKit(JEditorPane.createEditorKitForContentType(&quot;text/html&quot;))\r\n    // To Here\r\n    bottomText.setText(&quot;&lt;a href=\\&quot;http://www.yahoo.com\\&quot;&gt;Yahoo&lt;/a&gt;&quot;);\r\n\r\nOh, and wait till the user has clicked the link before opening the browser, had about 4 windows going before I killed your example ;)\r\n\r\n**UPDATE with Click**\r\n\r\nYou were almost there ;)\r\n\r\n    bottomText.addHyperlinkListener(new HyperlinkListener() {\r\n        public void hyperlinkUpdate(HyperlinkEvent e) {\r\n            if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\r\n                if (Desktop.isDesktopSupported()) {\r\n                    try {\r\n                        Desktop.getDesktop().browse(e.getURL().toURI());\r\n                    } catch (IOException e1) {\r\n                        // TODO Auto-generated catch block\r\n                        e1.printStackTrace();\r\n                    } catch (URISyntaxException e1) {\r\n                        // TODO Auto-generated catch block\r\n                        e1.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n","title":"JEditorPane Hyperlink swing html","body":"<p>Wow, that was simpler then I though :P</p>\n<pre><code>// Move this\n//bottomText.setText(&quot;&lt;a href=\\&quot;http://www.yahoo.com\\&quot;&gt;Yahoo&lt;/a&gt;&quot;);\nbottomText.setEditable(false);\nbottomText.setOpaque(false);\nbottomText.setEditorKit(JEditorPane.createEditorKitForContentType(&quot;text/html&quot;))\n// To Here\nbottomText.setText(&quot;&lt;a href=\\&quot;http://www.yahoo.com\\&quot;&gt;Yahoo&lt;/a&gt;&quot;);\n</code></pre>\n<p>Oh, and wait till the user has clicked the link before opening the browser, had about 4 windows going before I killed your example ;)</p>\n<p><strong>UPDATE with Click</strong></p>\n<p>You were almost there ;)</p>\n<pre><code>bottomText.addHyperlinkListener(new HyperlinkListener() {\n    public void hyperlinkUpdate(HyperlinkEvent e) {\n        if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\n            if (Desktop.isDesktopSupported()) {\n                try {\n                    Desktop.getDesktop().browse(e.getURL().toURI());\n                } catch (IOException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                } catch (URISyntaxException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n            }\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093836,"reputation":4986,"user_id":1087874,"display_name":"Dmitry Mitskevich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343800353,"creation_date":1343800353,"answer_id":11753270,"question_id":11753042,"body_markdown":"call `bottomText.setEditorKit` before `bottomText.setText`","title":"JEditorPane Hyperlink swing html","body":"<p>call <code>bottomText.setEditorKit</code> before <code>bottomText.setText</code></p>\n"}],"owner":{"account_id":1664861,"reputation":47,"user_id":1532491,"accept_rate":100,"display_name":"Henry Pe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4882,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":11753221,"answer_count":2,"score":1,"last_activity_date":1692661402,"creation_date":1343799077,"question_id":11753042,"body_markdown":"I&#39;m having a difficult time getting the hyperlink to work in a JEditorPane. Could someone please tell me what I&#39;m doing wrong here? I want to be able to click on the link and the browser to open to that page. Thanks in advance. :D\r\n\r\n        bottomText.setText(&quot;&lt;a href=\\&quot;http://www.yahoo.com\\&quot;&gt;Yahoo&lt;/a&gt;&quot;);\r\n        bottomText.setEditable(false);\r\n        bottomText.setOpaque(false);\r\n        bottomText.setEditorKit(JEditorPane.createEditorKitForContentType(&quot;text/html&quot;));\r\n        bottomText.addHyperlinkListener(new HyperlinkListener() {\r\n            public void hyperlinkUpdate(HyperlinkEvent e) {\r\n                if(e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\r\n\r\n                }\r\n                if(Desktop.isDesktopSupported()) {\r\n                    try {\r\n\t\t\t\t\t\tDesktop.getDesktop().browse(e.getURL().toURI());\r\n\t\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t} catch (URISyntaxException e1) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n                }\r\n\r\n            }\r\n            \r\n        });","title":"JEditorPane Hyperlink swing html","body":"<p>I'm having a difficult time getting the hyperlink to work in a JEditorPane. Could someone please tell me what I'm doing wrong here? I want to be able to click on the link and the browser to open to that page. Thanks in advance. :D</p>\n\n<pre><code>    bottomText.setText(\"&lt;a href=\\\"http://www.yahoo.com\\\"&gt;Yahoo&lt;/a&gt;\");\n    bottomText.setEditable(false);\n    bottomText.setOpaque(false);\n    bottomText.setEditorKit(JEditorPane.createEditorKitForContentType(\"text/html\"));\n    bottomText.addHyperlinkListener(new HyperlinkListener() {\n        public void hyperlinkUpdate(HyperlinkEvent e) {\n            if(e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {\n\n            }\n            if(Desktop.isDesktopSupported()) {\n                try {\n                    Desktop.getDesktop().browse(e.getURL().toURI());\n                } catch (IOException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                } catch (URISyntaxException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n            }\n\n        }\n\n    });\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1692660446,"post_id":76949109,"comment_id":135651382,"body_markdown":"Better to use try with resources, but you need to show a complete, minimal example which reproduces the problem.","body":"Better to use try with resources, but you need to show a complete, minimal example which reproduces the problem."}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692659690,"creation_date":1692657842,"question_id":76949109,"body_markdown":"After I made some change to the class being tested (ConsumerKafkaCardReplacementService), I&#39;m getting a lot of errors like this:\r\n\r\n    ConsumerKafkaCardReplacementServiceTest &gt; processCardReplacementSuccessfulWithCIDCredit FAILED\r\n        org.mockito.exceptions.base.MockitoException: \r\n        For com.api.loyalty.event.listener.global.RewardsProductConfigService, static mocking is already registered in the current thread\r\n\r\n        To create a new mock, the existing static mock registration must be deregistered\r\n            at com.api.loyalty.event.listener.service.ConsumerKafkaCardReplacementServiceTest.processCardReplacementSuccessfulWithCIDCredit(ConsumerKafkaCardReplacementServiceTest.java:308)\r\n\r\n\r\n\r\nFor static mocking, every mock are closed at the end of the test method:\r\n\r\n        service = Mockito.mockStatic(RewardsProductConfigService.class);  &lt;-- (line 308)\r\n        service.when(()-&gt;RewardsProductConfigService.queryRewardsProductConfigMap(Mockito.any(), Mockito.any())).thenReturn(Optional.of(TestUtil.getCSSSCProductDetails()));   \r\n        ...\r\n\r\n        service.close();\r\n\r\n\r\nNo change was made to RewardsProductConfigService class, queryRewardsProductConfigMap method, TestUtil class, getCSSSCProductDetails method. No change was made to the test classes and test methods as well.\r\n\r\nI tried annotating the test class with:\r\n\r\n\t@FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n\r\nand:\r\n\r\n\t@TestMethodOrder(MethodOrderer.MethodName.class)\r\n\r\nThe issue still persists.\r\nAny idea why?","title":"Static mocking is already registered in the current thread. To create a new mock,","body":"<p>After I made some change to the class being tested (ConsumerKafkaCardReplacementService), I'm getting a lot of errors like this:</p>\n<pre><code>ConsumerKafkaCardReplacementServiceTest &gt; processCardReplacementSuccessfulWithCIDCredit FAILED\n    org.mockito.exceptions.base.MockitoException: \n    For com.api.loyalty.event.listener.global.RewardsProductConfigService, static mocking is already registered in the current thread\n\n    To create a new mock, the existing static mock registration must be deregistered\n        at com.api.loyalty.event.listener.service.ConsumerKafkaCardReplacementServiceTest.processCardReplacementSuccessfulWithCIDCredit(ConsumerKafkaCardReplacementServiceTest.java:308)\n</code></pre>\n<p>For static mocking, every mock are closed at the end of the test method:</p>\n<pre><code>    service = Mockito.mockStatic(RewardsProductConfigService.class);  &lt;-- (line 308)\n    service.when(()-&gt;RewardsProductConfigService.queryRewardsProductConfigMap(Mockito.any(), Mockito.any())).thenReturn(Optional.of(TestUtil.getCSSSCProductDetails()));   \n    ...\n\n    service.close();\n</code></pre>\n<p>No change was made to RewardsProductConfigService class, queryRewardsProductConfigMap method, TestUtil class, getCSSSCProductDetails method. No change was made to the test classes and test methods as well.</p>\n<p>I tried annotating the test class with:</p>\n<pre><code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)\n</code></pre>\n<p>and:</p>\n<pre><code>@TestMethodOrder(MethodOrderer.MethodName.class)\n</code></pre>\n<p>The issue still persists.\nAny idea why?</p>\n"},{"tags":["java","collections","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1387863965,"creation_date":1387863578,"answer_id":20755448,"question_id":20755432,"body_markdown":"contains takes only one param\r\n\r\n    if(person.contains(&quot;Joe&quot;) || person.contains(&quot;Jasha&quot;)){\r\n      // do something\r\n      }\r\n\r\nIf you are worrying about `N` number of elements \r\n\r\n\r\n    String[] items ={&quot;Joe&quot;,&quot;jon&quot;,&quot;And So On&quot;.....};\r\n    for (String item : items ) {\r\n        if (person.contains(item)) {\r\n           //found\r\n            break; \r\n        } \r\n    }\r\n\r\n**Edit:**\r\n\r\nThat `||`  is most helpful in your case, since you have the benefit of [`Short-circuit_evaluation`][1]\r\n\r\n&gt;The second argument is only executed or evaluated if the first argument does not suffice to determine the value of the expression:\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Short-circuit_evaluation","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>contains takes only one param</p>\n\n<pre><code>if(person.contains(\"Joe\") || person.contains(\"Jasha\")){\n  // do something\n  }\n</code></pre>\n\n<p>If you are worrying about <code>N</code> number of elements </p>\n\n<pre><code>String[] items ={\"Joe\",\"jon\",\"And So On\".....};\nfor (String item : items ) {\n    if (person.contains(item)) {\n       //found\n        break; \n    } \n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>That <code>||</code>  is most helpful in your case, since you have the benefit of <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow\"><code>Short-circuit_evaluation</code></a></p>\n\n<blockquote>\n  <p>The second argument is only executed or evaluated if the first argument does not suffice to determine the value of the expression:</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1387866483,"creation_date":1387863646,"answer_id":20755463,"question_id":20755432,"body_markdown":"You have to search each string.\r\n\r\n**UPDATED**\r\n\r\n    List list=new ArrayList();\r\n    list.add(&quot;Joe&quot;);\r\n    list.add(&quot;Jasha&quot;);\r\n    if(person.containsAll(list))\r\n    {\r\n       //do something\r\n    }\r\n","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>You have to search each string.</p>\n\n<p><strong>UPDATED</strong></p>\n\n<pre><code>List list=new ArrayList();\nlist.add(\"Joe\");\nlist.add(\"Jasha\");\nif(person.containsAll(list))\n{\n   //do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1387867045,"creation_date":1387864285,"answer_id":20755564,"question_id":20755432,"body_markdown":"The implementation of `ArrayList.contains()` loops through every element and does an `equals()` test, so calling `.contains()` twice is *inefficient*.\r\n\r\nYou could write your own loop that check both at once using a compiled regex [Pattern][1] that looks for either name at the same time:\r\n\r\n    Pattern p = Pattern.compile(&quot;Joe|Jasha&quot;);\r\n    boolean found = false;\r\n    for (String s : person) {\r\n        if (p.matcher(s).find()) {\r\n            found = true;\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>The implementation of <code>ArrayList.contains()</code> loops through every element and does an <code>equals()</code> test, so calling <code>.contains()</code> twice is <em>inefficient</em>.</p>\n\n<p>You could write your own loop that check both at once using a compiled regex <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">Pattern</a> that looks for either name at the same time:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"Joe|Jasha\");\nboolean found = false;\nfor (String s : person) {\n    if (p.matcher(s).find()) {\n        found = true;\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3572172,"reputation":6531,"user_id":2982225,"display_name":"Infinite Recursion"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387864672,"creation_date":1387864672,"answer_id":20755619,"question_id":20755432,"body_markdown":"You can also use regex as follows:\r\n\r\n    person.toString().matches(&quot;.*\\\\b(Joe|Jasha)\\\\b.*&quot;);\r\n\r\nYou will get a boolean value indicating whether it is present or not.\r\n\r\n\r\n","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>You can also use regex as follows:</p>\n\n<pre><code>person.toString().matches(\".*\\\\b(Joe|Jasha)\\\\b.*\");\n</code></pre>\n\n<p>You will get a boolean value indicating whether it is present or not.</p>\n"},{"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1387865110,"creation_date":1387865110,"answer_id":20755709,"question_id":20755432,"body_markdown":"Simply use Arrays class\r\n\r\n    person.containsAll(Arrays.asList(&quot;Jasha&quot;,&quot;Joe&quot;));","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>Simply use Arrays class</p>\n\n<pre><code>person.containsAll(Arrays.asList(\"Jasha\",\"Joe\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519380837,"creation_date":1519380837,"answer_id":48945492,"question_id":20755432,"body_markdown":"You can also do\r\n\r\n    String person1 = &quot;Joe Smith&quot;; // contains &quot;Joe&quot;\r\n    String person2 = &quot;Jasha Thompson&quot;; // contains &quot;Jasha&quot;\r\n    String person3 = &quot;Jasha Joesephson&quot;; // contains &quot;Joe&quot; and &quot;Jasha&quot;\r\n    String person4 = &quot;Steve Smith&quot;; // contains neither\r\n\r\n    public boolean containsJoeOrJasha(String stringToCheck) {\r\n      return !Collections.disjoint(\r\n        Arrays.asList(stringToCheck.split(&quot; &quot;)),\r\n        Arrays.asList(&quot;Joe&quot;, &quot;Jasha&quot;));\r\n    }\r\n\r\nCollections.disjoint returns true if the two collections are *disjoint*, meaning that they have no elements in common. So...\r\n\r\n    jshell&gt; containsJoeOrJasha(person1)\r\n    $33 ==&gt; true\r\n\r\n    jshell&gt; containsJoeOrJasha(person2)\r\n    $34 ==&gt; true\r\n\r\n    jshell&gt; containsJoeOrJasha(person3)\r\n    $35 ==&gt; true\r\n\r\n    jshell&gt; containsJoeOrJasha(person4)\r\n    $36 ==&gt; false","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>You can also do</p>\n\n<pre><code>String person1 = \"Joe Smith\"; // contains \"Joe\"\nString person2 = \"Jasha Thompson\"; // contains \"Jasha\"\nString person3 = \"Jasha Joesephson\"; // contains \"Joe\" and \"Jasha\"\nString person4 = \"Steve Smith\"; // contains neither\n\npublic boolean containsJoeOrJasha(String stringToCheck) {\n  return !Collections.disjoint(\n    Arrays.asList(stringToCheck.split(\" \")),\n    Arrays.asList(\"Joe\", \"Jasha\"));\n}\n</code></pre>\n\n<p>Collections.disjoint returns true if the two collections are <em>disjoint</em>, meaning that they have no elements in common. So...</p>\n\n<pre><code>jshell&gt; containsJoeOrJasha(person1)\n$33 ==&gt; true\n\njshell&gt; containsJoeOrJasha(person2)\n$34 ==&gt; true\n\njshell&gt; containsJoeOrJasha(person3)\n$35 ==&gt; true\n\njshell&gt; containsJoeOrJasha(person4)\n$36 ==&gt; false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692659643,"creation_date":1692659338,"answer_id":76949188,"question_id":20755432,"body_markdown":"Put names/strings into a set, then iterate over a person list and check if the set contains a given person (Set.contains is O(1) operation), break if the match is found, e.g.:\r\n```\r\nSet&lt;String&gt; names = Set.of(&quot;Alex&quot;, &quot;John&quot;, &quot;...&quot;);\r\n\r\nboolean res = person.stream().anyMatch(p -&gt; names.contains(p)); // Java 8 required\r\n```","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>Put names/strings into a set, then iterate over a person list and check if the set contains a given person (Set.contains is O(1) operation), break if the match is found, e.g.:</p>\n<pre><code>Set&lt;String&gt; names = Set.of(&quot;Alex&quot;, &quot;John&quot;, &quot;...&quot;);\n\nboolean res = person.stream().anyMatch(p -&gt; names.contains(p)); // Java 8 required\n</code></pre>\n"}],"owner":{"account_id":3700600,"reputation":2928,"user_id":3080491,"accept_rate":57,"display_name":"Yehia Awad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29138,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":20755564,"answer_count":7,"score":7,"last_activity_date":1692659643,"creation_date":1387863482,"question_id":20755432,"body_markdown":"is there any way to check if a collection contain a value or more with better performance than looping twice with contains?\r\n\r\nin other meaning something that would look like this \r\n\r\n\r\n    person.contains(&quot;Joe&quot; || &quot;Jasha&quot;);","title":"How to Check if an ArrayList Contain 2 values?","body":"<p>is there any way to check if a collection contain a value or more with better performance than looping twice with contains?</p>\n\n<p>in other meaning something that would look like this </p>\n\n<pre><code>person.contains(\"Joe\" || \"Jasha\");\n</code></pre>\n"},{"tags":["java","swing","jeditorpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1692660335,"post_id":76949182,"comment_id":135651376,"body_markdown":"If you want to append text to the `JEditorPane`, I wouldn&#39;t use `HTML`, as `HTML` has a defined start and end.  Instead, I might consider making use of `JTextPane` and a `StyledDocument` instead, [for example](https://stackoverflow.com/questions/18948148/jeditorpane-set-foreground-color-for-different-words/18948340#18948340)","body":"If you want to append text to the <code>JEditorPane</code>, I wouldn&#39;t use <code>HTML</code>, as <code>HTML</code> has a defined start and end.  Instead, I might consider making use of <code>JTextPane</code> and a <code>StyledDocument</code> instead, <a href=\"https://stackoverflow.com/questions/18948148/jeditorpane-set-foreground-color-for-different-words/18948340#18948340\">for example</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1692660469,"post_id":76949182,"comment_id":135651385,"body_markdown":"I would also approach the problem differently.  You&#39;re going have to translate the information for the GUI differently then you would for the console, so I&#39;d let go of the idea of &quot;re-using&quot; the workflow.  Instead, I might consider defining a &quot;translation&quot; or &quot;transformation&quot; layering which can be plugged in based on the desired destination (console/GUI)","body":"I would also approach the problem differently.  You&#39;re going have to translate the information for the GUI differently then you would for the console, so I&#39;d let go of the idea of &quot;re-using&quot; the workflow.  Instead, I might consider defining a &quot;translation&quot; or &quot;transformation&quot; layering which can be plugged in based on the desired destination (console/GUI)"},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1692660930,"post_id":76949182,"comment_id":135651424,"body_markdown":"I&#39;m not actually appending to the JEditorPane itself. I reason why I want to reuse the workflow is because the colour tags are appended usually within the toString() of the object. What I&#39;m really doing is stuff like &#39;mapDisplay.setText(map)&#39;, where mapDisplay is the JEditorPane and map is the map object. In the console, map would instead just be printed.","body":"I&#39;m not actually appending to the JEditorPane itself. I reason why I want to reuse the workflow is because the colour tags are appended usually within the toString() of the object. What I&#39;m really doing is stuff like &#39;mapDisplay.setText(map)&#39;, where mapDisplay is the JEditorPane and map is the map object. In the console, map would instead just be printed."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1692661195,"post_id":76949182,"comment_id":135651456,"body_markdown":"Sure, but you have two different output concepts, you&#39;re going to need to modify the transformation layer to support them - unless you really want to spend a whole lot of time building your own `StyledDocument` which can handle ansi codes ... but really, you&#39;d just be writing a transformation layer, just in different place. I&#39;d still be tempted to use `JTextPane` and `JEditorPane` is just another layer of complexity. Remember, you also need to set the `contentType` of the `JEditorPane`, as it may not automagically recognise the text","body":"Sure, but you have two different output concepts, you&#39;re going to need to modify the transformation layer to support them - unless you really want to spend a whole lot of time building your own <code>StyledDocument</code> which can handle ansi codes ... but really, you&#39;d just be writing a transformation layer, just in different place. I&#39;d still be tempted to use <code>JTextPane</code> and <code>JEditorPane</code> is just another layer of complexity. Remember, you also need to set the <code>contentType</code> of the <code>JEditorPane</code>, as it may not automagically recognise the text"},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1692662681,"post_id":76949182,"comment_id":135651589,"body_markdown":"I may be misremembering, but I think I only used JEditorPane because it can display HTML, and I saw potential in the future for using that for the colour, so I may see if I can switch over to JTextPane without any issues, like you mentioned. Can you elaborate about the transformation layer? thanks.","body":"I may be misremembering, but I think I only used JEditorPane because it can display HTML, and I saw potential in the future for using that for the colour, so I may see if I can switch over to JTextPane without any issues, like you mentioned. Can you elaborate about the transformation layer? thanks."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1692663795,"post_id":76949182,"comment_id":135651690,"body_markdown":"Ultimately, it will depend on what you want to achieve.  Yes, `JEditorPane` can display `HTML` based text, so if your &quot;transformation&quot; layer can generate `HTML` text, then that should be suitable. I&#39;d consider if you want to &quot;append&quot; text to it, as that&#39;s not something it would really support.  It might be the easier option. *&quot;I have a method, CFG.colour(), which takes in the string to be coloured and colours it&quot;* - you seem to have a &quot;transformation&quot; layer already, what I might do is create a `interface` can convert the input to `String`, transformed accordingly (ie ansi or html)","body":"Ultimately, it will depend on what you want to achieve.  Yes, <code>JEditorPane</code> can display <code>HTML</code> based text, so if your &quot;transformation&quot; layer can generate <code>HTML</code> text, then that should be suitable. I&#39;d consider if you want to &quot;append&quot; text to it, as that&#39;s not something it would really support.  It might be the easier option. <i>&quot;I have a method, CFG.colour(), which takes in the string to be coloured and colours it&quot;</i> - you seem to have a &quot;transformation&quot; layer already, what I might do is create a <code>interface</code> can convert the input to <code>String</code>, transformed accordingly (ie ansi or html)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1692663847,"post_id":76949182,"comment_id":135651691,"body_markdown":"I&#39;d then have two implementations, one for ansi and html transformation and then I&#39;d just have a setup phase which would instantiate the correct one and the rest of the code should continue to work as expected","body":"I&#39;d then have two implementations, one for ansi and html transformation and then I&#39;d just have a setup phase which would instantiate the correct one and the rest of the code should continue to work as expected"},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1692664980,"post_id":76949182,"comment_id":135651774,"body_markdown":"Okay, I think I understand you now. Yes, I already have this transformation layer in place. My question was really what the Strings should be to have the CFG.colour() format correctly for HTML. What I have in CFG.colour() is `colourTag + input + resetTag`, and when running in the terminal, the values for the strings `colourTag` and `resetTag` are set to their ANSI equivalents. What I want is to simply change the value of `colourTag` and `resetTag` to some HTML equivalent when running in GUI. Hope that cleared things up?","body":"Okay, I think I understand you now. Yes, I already have this transformation layer in place. My question was really what the Strings should be to have the CFG.colour() format correctly for HTML. What I have in CFG.colour() is <code>colourTag + input + resetTag</code>, and when running in the terminal, the values for the strings <code>colourTag</code> and <code>resetTag</code> are set to their ANSI equivalents. What I want is to simply change the value of <code>colourTag</code> and <code>resetTag</code> to some HTML equivalent when running in GUI. Hope that cleared things up?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1692665650,"post_id":76949182,"comment_id":135651834,"body_markdown":"No, I would create a &quot;new&quot; transformation layer to handle the html translations.  I mean, what is `colorTag` &lt;- what information does it carry. For example, in html, color is typically controlled by the `style` tag, ie `&lt;span style=&quot;color:blue;&quot;&gt;Text&lt;/span&gt;` &lt;- You&#39;d need to translate your `colourTag` to support this","body":"No, I would create a &quot;new&quot; transformation layer to handle the html translations.  I mean, what is <code>colorTag</code> &lt;- what information does it carry. For example, in html, color is typically controlled by the <code>style</code> tag, ie <code>&lt;span style=&quot;color:blue;&quot;&gt;Text&lt;&#47;span&gt;</code> &lt;- You&#39;d need to translate your <code>colourTag</code> to support this"},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1692665856,"post_id":76949182,"comment_id":135651856,"body_markdown":"wouldn&#39;t it be possible then to have `colourTag = &quot;&lt;span style=\\&quot;color:xxx;\\&quot;&gt;&quot;` and then `endTag = &quot;&lt;/span&gt;`, having the &#39;xxx&#39; be replaced depending on the colour desired?","body":"wouldn&#39;t it be possible then to have <code>colourTag = &quot;&lt;span style=\\&quot;color:xxx;\\&quot;&gt;&quot;</code> and then <code>endTag = &quot;&lt;&#47;span&gt;</code>, having the &#39;xxx&#39; be replaced depending on the colour desired?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1692666087,"post_id":76949182,"comment_id":135651878,"body_markdown":"For me - I&#39;d be aiming to pass it the &quot;text&quot; and &quot;formatting&quot; information to the transformer and have it return a completed `String` - then it&#39;s as simple, as you say, to call `setText` - all the work is done in the transformation layer.  When you want to output to the console, you&#39;d have the same workflow, just with a different transformer - but that&#39;s me.","body":"For me - I&#39;d be aiming to pass it the &quot;text&quot; and &quot;formatting&quot; information to the transformer and have it return a completed <code>String</code> - then it&#39;s as simple, as you say, to call <code>setText</code> - all the work is done in the transformation layer.  When you want to output to the console, you&#39;d have the same workflow, just with a different transformer - but that&#39;s me."},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1692666722,"post_id":76949182,"comment_id":135651932,"body_markdown":"I understand and I think you make very good points. I attempted what I described (I actually attempted it before I posted this question, but I couldn&#39;t get it to work, so I thought it was impossible), and the colour works, however, I cannot get newlines to display properly. I am using String.replace(&quot;\\n&quot;, &quot;&lt;br&gt;&quot;), however, this is making it ad a line break after what appears to be every character. Do you have any explaination for that?","body":"I understand and I think you make very good points. I attempted what I described (I actually attempted it before I posted this question, but I couldn&#39;t get it to work, so I thought it was impossible), and the colour works, however, I cannot get newlines to display properly. I am using String.replace(&quot;\\n&quot;, &quot;&lt;br&gt;&quot;), however, this is making it ad a line break after what appears to be every character. Do you have any explaination for that?"},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1692667898,"post_id":76949182,"comment_id":135652032,"body_markdown":"NVM, I got it working (I&#39;m not sure how...). Thanks for all your help and feedback :D","body":"NVM, I got it working (I&#39;m not sure how...). Thanks for all your help and feedback :D"}],"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692659215,"creation_date":1692659215,"question_id":76949182,"body_markdown":"I am working on a GUI for my game, which previously purely ran as text in the terminal. The GUI interfaces with the engine by simply taking the text (which would otherwise just be printed to standard output) and giving it to fields across the window.\r\n\r\nThe way colours are handled in the terminal interface is by using ANSI escape sequences. I have a method, CFG.colour(), which takes in the string to be coloured and colours it. It does this by appending the string to the ANSI sequence for the colour, and then appending the reset sequence to the end of that.\r\n\r\nI would like to keep this backwards compatible, so there is still an option to run in the terminal if desired. I thought I could do this by using HTML, as I know that can be displayed with a JEditorPane. My thinking was, when the program is started in the terminal, the strings which store the colour tags would be set to their ANSI versions, and if the program is started in graphical mode, the colour tags would be set to HTML tags. I couldn&#39;t get this to work, but I am not very experienced with HTML.\r\n\r\nMore concisely, what I want are some Strings &#39;colourStart&#39; and &#39;end&#39;, such that when I display\r\n```\r\ncolourStart + &quot;Hello&quot; + end\r\n```\r\nin the JEditorPane, it will show &quot;Hello&quot;, coloured with whatever is colour is specified by colourStart.\r\n\r\nI know exactly what I&#39;m saying is not possible, but that is the ideal scenario, so I figured by explaining that it would make it easier to find a solution that works for me.","title":"Colour specific words in JEditorPane depending on string tags","body":"<p>I am working on a GUI for my game, which previously purely ran as text in the terminal. The GUI interfaces with the engine by simply taking the text (which would otherwise just be printed to standard output) and giving it to fields across the window.</p>\n<p>The way colours are handled in the terminal interface is by using ANSI escape sequences. I have a method, CFG.colour(), which takes in the string to be coloured and colours it. It does this by appending the string to the ANSI sequence for the colour, and then appending the reset sequence to the end of that.</p>\n<p>I would like to keep this backwards compatible, so there is still an option to run in the terminal if desired. I thought I could do this by using HTML, as I know that can be displayed with a JEditorPane. My thinking was, when the program is started in the terminal, the strings which store the colour tags would be set to their ANSI versions, and if the program is started in graphical mode, the colour tags would be set to HTML tags. I couldn't get this to work, but I am not very experienced with HTML.</p>\n<p>More concisely, what I want are some Strings 'colourStart' and 'end', such that when I display</p>\n<pre><code>colourStart + &quot;Hello&quot; + end\n</code></pre>\n<p>in the JEditorPane, it will show &quot;Hello&quot;, coloured with whatever is colour is specified by colourStart.</p>\n<p>I know exactly what I'm saying is not possible, but that is the ideal scenario, so I figured by explaining that it would make it easier to find a solution that works for me.</p>\n"},{"tags":["java","try-catch","apache-commons-httpclient","try-with-resources"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1485185185,"post_id":41719285,"comment_id":70807547,"body_markdown":"Please close the question if it has been answered.","body":"Please close the question if it has been answered."}],"answers":[{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484817220,"creation_date":1484743001,"answer_id":41719625,"question_id":41719285,"body_markdown":"Use &#39;`;`&#39; as delimiter to separate your resources. Now the resources will close in oposite order of their declaration, so: BufferedReader, \r\nInputStreamReader, CloseableHttpResponse.\r\n\r\nYou can also return closeable objects from methods, like in below example, that way you will be able to modify them before assigning to try-catch block.\r\n\r\nYou can look at this tutorial to undestand multiple [try-catch-resources][1].\r\n\r\n     public void closeResources(){\r\n           try(CloseableHttpResponse httpResponse = createCloseableHttpResponse();\r\n            InputStreamReader reader = new InputStreamReader(httpResponse.getEntity().getContent());\r\n            BufferedReader bufferedReader= new BufferedReader(reader)){\r\n\r\n            StringBuilder stringBuilder= new StringBuilder();\r\n            String line;\r\n            while((line=bufferedReader.readLine())!=null){\r\n                stringBuilder.append(line);\r\n\r\n            }\r\n\r\n            System.out.println(stringBuilder.toString());\r\n\r\n\r\n        } catch (UnsupportedOperationException | IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    private CloseableHttpResponse createCloseableHttpResponse() throws IOException{\r\n        CloseableHttpClient httpclient = HttpClients.createDefault();\r\n        HttpGet httpGet= new HttpGet(&quot;&quot;);\r\n        httpGet.addHeader(&quot;Authorization&quot;,&quot;Bearer &quot;+getToken());\r\n        return httpclient.execute(httpGet);\r\n    }\r\n\r\n  [1]: http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html","title":"how to close the resources from try-with-resource statement","body":"<p>Use '<code>;</code>' as delimiter to separate your resources. Now the resources will close in oposite order of their declaration, so: BufferedReader, \nInputStreamReader, CloseableHttpResponse.</p>\n\n<p>You can also return closeable objects from methods, like in below example, that way you will be able to modify them before assigning to try-catch block.</p>\n\n<p>You can look at this tutorial to undestand multiple <a href=\"http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html\" rel=\"nofollow noreferrer\">try-catch-resources</a>.</p>\n\n<pre><code> public void closeResources(){\n       try(CloseableHttpResponse httpResponse = createCloseableHttpResponse();\n        InputStreamReader reader = new InputStreamReader(httpResponse.getEntity().getContent());\n        BufferedReader bufferedReader= new BufferedReader(reader)){\n\n        StringBuilder stringBuilder= new StringBuilder();\n        String line;\n        while((line=bufferedReader.readLine())!=null){\n            stringBuilder.append(line);\n\n        }\n\n        System.out.println(stringBuilder.toString());\n\n\n    } catch (UnsupportedOperationException | IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\nprivate CloseableHttpResponse createCloseableHttpResponse() throws IOException{\n    CloseableHttpClient httpclient = HttpClients.createDefault();\n    HttpGet httpGet= new HttpGet(\"\");\n    httpGet.addHeader(\"Authorization\",\"Bearer \"+getToken());\n    return httpclient.execute(httpGet);\n}\n</code></pre>\n"}],"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692659175,"creation_date":1484742070,"question_id":41719285,"body_markdown":"I have written the following code and it works well.\r\n\r\n      public void  callingTheAPI() throws IOException{\r\n\r\n        BufferedReader bufferedReader= null;\r\n        CloseableHttpClient httpclient= null;\r\n        CloseableHttpResponse httpResponse= null;\r\n\r\n        try {\r\n            httpclient = HttpClients.createDefault();\r\n            HttpGet httpGet= new HttpGet(URL);\r\n            httpGet.addHeader(&quot;Authorization&quot;,&quot;Bearer &quot;+getToken());\r\n\r\n            httpResponse=httpclient.execute(httpGet);\r\n            int responseCode= httpResponse.getStatusLine().getStatusCode();\r\n            System.out.println(responseCode);\r\n\r\n            bufferedReader= new BufferedReader(new InputStreamReader (httpResponse.getEntity().getContent()));\r\n\r\n            StringBuilder stringBuilder= new StringBuilder();\r\n            String line;\r\n            while((line=bufferedReader.readLine())!=null){\r\n                stringBuilder.append(line);\r\n\r\n            }\r\n\r\n            System.out.println(stringBuilder.toString());\r\n        } \r\n\r\n        catch (ClientProtocolException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } \r\n        catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        finally{\r\n\r\n            if (bufferedReader != null){\r\n                bufferedReader.close();\r\n            }\r\n\r\n            if(httpResponse != null){\r\n                httpResponse.close();\r\n            }\r\n            if (httpclient != null){\r\n                httpclient.close();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n Recently I found out that there is a new feature called `try-with-resource` from `java 7` onwards which closes the resources automatically after the statement run correctly. How can I convert the following code to use `try-with-resource` statement. I did a little bit but I am confuse with how to add all the resources to it. Here is the code\r\n\r\n    public void closeResources(){\r\n\r\n\r\n\r\n        CloseableHttpClient httpclient = HttpClients.createDefault();\r\n        HttpGet httpGet= new HttpGet(URL);\r\n        httpGet.addHeader(&quot;Authorization&quot;,&quot;Bearer &quot;+getToken());\r\n\r\n        CloseableHttpResponse httpResponse=httpclient.execute(httpGet);\r\n        int responseCode= httpResponse.getStatusLine().getStatusCode();\r\n        System.out.println(responseCode);\r\n\r\n\r\n        try(BufferedReader bufferedReader= new BufferedReader(new InputStreamReader (httpResponse.getEntity().getContent()))){\r\n            StringBuilder stringBuilder= new StringBuilder();\r\n            String line;\r\n            while((line=bufferedReader.readLine())!=null){\r\n                stringBuilder.append(line);\r\n\r\n            }\r\n\r\n            System.out.println(stringBuilder.toString()); \r\n\r\n\r\n        } catch (UnsupportedOperationException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } \r\n\r\n        catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\nCan you please help me to convert this code, so that it uses `try-with-resources` statements. Thanks in advance","title":"how to close the resources from try-with-resource statement","body":"<p>I have written the following code and it works well.</p>\n\n<pre><code>  public void  callingTheAPI() throws IOException{\n\n    BufferedReader bufferedReader= null;\n    CloseableHttpClient httpclient= null;\n    CloseableHttpResponse httpResponse= null;\n\n    try {\n        httpclient = HttpClients.createDefault();\n        HttpGet httpGet= new HttpGet(URL);\n        httpGet.addHeader(\"Authorization\",\"Bearer \"+getToken());\n\n        httpResponse=httpclient.execute(httpGet);\n        int responseCode= httpResponse.getStatusLine().getStatusCode();\n        System.out.println(responseCode);\n\n        bufferedReader= new BufferedReader(new InputStreamReader (httpResponse.getEntity().getContent()));\n\n        StringBuilder stringBuilder= new StringBuilder();\n        String line;\n        while((line=bufferedReader.readLine())!=null){\n            stringBuilder.append(line);\n\n        }\n\n        System.out.println(stringBuilder.toString());\n    } \n\n    catch (ClientProtocolException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } \n    catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    finally{\n\n        if (bufferedReader != null){\n            bufferedReader.close();\n        }\n\n        if(httpResponse != null){\n            httpResponse.close();\n        }\n        if (httpclient != null){\n            httpclient.close();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Recently I found out that there is a new feature called <code>try-with-resource</code> from <code>java 7</code> onwards which closes the resources automatically after the statement run correctly. How can I convert the following code to use <code>try-with-resource</code> statement. I did a little bit but I am confuse with how to add all the resources to it. Here is the code</p>\n\n<pre><code>public void closeResources(){\n\n\n\n    CloseableHttpClient httpclient = HttpClients.createDefault();\n    HttpGet httpGet= new HttpGet(URL);\n    httpGet.addHeader(\"Authorization\",\"Bearer \"+getToken());\n\n    CloseableHttpResponse httpResponse=httpclient.execute(httpGet);\n    int responseCode= httpResponse.getStatusLine().getStatusCode();\n    System.out.println(responseCode);\n\n\n    try(BufferedReader bufferedReader= new BufferedReader(new InputStreamReader (httpResponse.getEntity().getContent()))){\n        StringBuilder stringBuilder= new StringBuilder();\n        String line;\n        while((line=bufferedReader.readLine())!=null){\n            stringBuilder.append(line);\n\n        }\n\n        System.out.println(stringBuilder.toString()); \n\n\n    } catch (UnsupportedOperationException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } \n\n    catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Can you please help me to convert this code, so that it uses <code>try-with-resources</code> statements. Thanks in advance</p>\n"},{"tags":["java","jacob"],"answers":[{"tags":[],"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331577342,"creation_date":1331576855,"answer_id":9672681,"question_id":8791551,"body_markdown":"Hy,\r\n\r\nactually i can only answer to your first question right now. I use this code and it&#39;s working for *.xltx Template files properly:\r\n\r\n    File file = new File(&quot;pathToOurTemplate&quot;);\r\n    ActiveXComponent excel = null;\r\n      ComThread.InitSTA();\r\n      try {\r\n        excel = new ActiveXComponent(&quot;Excel.Application&quot;);\r\n        Dispatch excelObject = excel.getObject();\r\n        Dispatch workbooks = excel.getProperty(&quot;Workbooks&quot;).toDispatch();\r\n        Dispatch workbook = Dispatch.call(workbooks, &quot;Add&quot;, file.getAbsolutePath()).toDispatch();\r\n    } catch (...) \r\n    //...\r\n\r\nWorks at least with Office 2010, Java6_u23, Jacob 1.15_M4\r\n\r\nHope this helps for a first shot / this is more what you need than shown in the examples (guess you took a look at those).","title":"Accessing Sheets, Saving Excel files, Java, Java Com Bridge ( Jacob jacob-1.16)","body":"<p>Hy,</p>\n\n<p>actually i can only answer to your first question right now. I use this code and it's working for *.xltx Template files properly:</p>\n\n<pre><code>File file = new File(\"pathToOurTemplate\");\nActiveXComponent excel = null;\n  ComThread.InitSTA();\n  try {\n    excel = new ActiveXComponent(\"Excel.Application\");\n    Dispatch excelObject = excel.getObject();\n    Dispatch workbooks = excel.getProperty(\"Workbooks\").toDispatch();\n    Dispatch workbook = Dispatch.call(workbooks, \"Add\", file.getAbsolutePath()).toDispatch();\n} catch (...) \n//...\n</code></pre>\n\n<p>Works at least with Office 2010, Java6_u23, Jacob 1.15_M4</p>\n\n<p>Hope this helps for a first shot / this is more what you need than shown in the examples (guess you took a look at those).</p>\n"},{"tags":[],"owner":{"account_id":5342567,"reputation":41,"user_id":4259107,"display_name":"jiraspav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481107929,"creation_date":1480675428,"answer_id":40930314,"question_id":8791551,"body_markdown":"Disclaimer: In this answer i will be reffering MS Excel object properties, methods and object types with double quotation to try to avoid some confusion. My answer to this question follows.\r\n\r\nHi,\r\n\r\nit is important to understand the hierarchy, that excel API have. And also search what types of methods, properties or events are available on each level of hierarchy. Im going to answer your quetions now.\r\n\r\nIn question 1 you say you cannot open correct worksheet and thats because you are getting property &quot;Worksheets&quot; on wrong type of object. In your code snippet\r\n\r\n    Dispatch sheet = Dispatch.get(workbook, &quot;Worksheets&quot;).toDispatch();\r\n    Dispatch.call(sheet, &quot;Select&quot;, new Object[]{&quot;Sheet2&quot;}).toDispatch();\r\n\r\nyou get property &quot;Worksheets&quot; on object of type &quot;Workbooks&quot;, which is incorrect one.\r\nThis doc https://msdn.microsoft.com/EN-US/library/office/ff841074.aspx shows, that &quot;Workbooks&quot; doesnt have property &quot;Worksheets&quot;. Problem is in how you open concrete &quot;Workbook&quot; object.\r\n\r\n    Dispatch workbook = xl.getProperty(&quot;Workbooks&quot;).toDispatch();\r\n    Dispatch.call(workbook, &quot;Open&quot;, new Variant(strInputDoc),new Variant(&quot;1&quot;));\r\n\r\nYou call method &quot;Open&quot; on &quot;Workbooks&quot; object, which according doc have this method and it opens MS Excel for you. Problem is variable &quot;Dispatch workbook&quot; is still object of type &quot;Workbooks&quot; and not &quot;Workbook&quot;, which you wrongly assumed. Correct way is to save return value of your &quot;Open&quot; method call, which gives you concrete &quot;Workbook&quot; object and after that use methods available for that type of object. Exactly following MS docu here https://msdn.microsoft.com/en-us/library/office/ff194819.aspx .\r\n\r\nSo correct way to open concrete worksheet would be like this:\r\n\r\n    //get &quot;Workbooks&quot; property from &quot;Application&quot; object\r\n    Dispatch workbooks = xl.getProperty(&quot;Workbooks&quot;).toDispatch();\r\n    //call method &quot;Open&quot; with filepath param on &quot;Workbooks&quot; object and save &quot;Workbook&quot; object\r\n    Dispatch workbook = Dispatch.call(workbooks, &quot;Open&quot;, new Variant(strInputDoc)).toDispatch();\r\n    //get &quot;Worksheets&quot; property from &quot;Workbook&quot; object\r\n    Dispatch sheets = Dispatch.get(workbook, &quot;Worksheets&quot;).toDispatch();\r\n    //Call method &quot;Select&quot; on &quot;Worksheets&quot; object with &quot;Sheet2&quot; param   \r\n    Dispatch.call(sheets, &quot;Select&quot;, new Object[]{&quot;Sheet2&quot;}).toDispatch();\r\n    //probably again save &quot;Worksheet&quot; object and continue same way\r\n\r\nIn question 2 is the same problem as in question 1.\r\n\r\n    //calling method &quot;SaveAs&quot; on &quot;Workbooks&quot; object instead of &quot;Workbook&quot; type\r\n    Dispatch.call(workbook, &quot;SaveAs&quot;, new Variant(&quot;C:\\\\jacob-1.16-M1\\\\Test1.xls&quot;),new   Variant(&quot;1&quot;));\r\n\r\nAll other questions are just same principle as two before. Get property or call method on correct MS object. Also cannot stress enough, how important MS docu will be for anyone with java-excel comunication.\r\n\r\nWill just mention a example, how to get actual values from some MS objects. Lets say you want values inside &quot;Range&quot; object, because getting properties of objects, that require parameters is done a bit differently then normal value property. To do this you need to get to &quot;Worksheet&quot; object first and get &quot;Range&quot; property from that.\r\n\r\n    //lets say we have already some &quot;Worksheet&quot; object\r\n    Dispatch worksheet = ...;\r\n    //we want a property &quot;Range&quot; of &quot;Worksheet&quot; object with some macro\r\n    Variant range = Dispatch.invoke(worksheet, &quot;Range&quot;, Dispatch.Get, new Object[]{&quot;A1:L10&quot;}, new int[1]);\r\n    //according to docu, you can specify format in which the value is returned\r\n    //im using 12 which is one of XML formats available\r\n    //in case no such param is provided default &quot;textTable&quot; format is returned\r\n    Variant value = Dispatch.invoke(range.getDispatch(), &quot;Value&quot;, Dispatch.Get, new Object[]{12}, new int[1]);\r\n    //and get the value from it and you are done with MS Excel-Java communication\r\n    String xmlFormat = value.toString();\r\n\r\n\r\n\r\n    Worksheet.Range property docu:\r\n    msdn.microsoft.com/en-us/library/office/ff836512.aspx\r\n    Range.Value docu:\r\n    msdn.microsoft.com/en-us/library/office/ff195193.aspx\r\n\r\nIm not allowed to post more than 2 links, so im sorry if these links arent working properly.","title":"Accessing Sheets, Saving Excel files, Java, Java Com Bridge ( Jacob jacob-1.16)","body":"<p>Disclaimer: In this answer i will be reffering MS Excel object properties, methods and object types with double quotation to try to avoid some confusion. My answer to this question follows.</p>\n\n<p>Hi,</p>\n\n<p>it is important to understand the hierarchy, that excel API have. And also search what types of methods, properties or events are available on each level of hierarchy. Im going to answer your quetions now.</p>\n\n<p>In question 1 you say you cannot open correct worksheet and thats because you are getting property \"Worksheets\" on wrong type of object. In your code snippet</p>\n\n<pre><code>Dispatch sheet = Dispatch.get(workbook, \"Worksheets\").toDispatch();\nDispatch.call(sheet, \"Select\", new Object[]{\"Sheet2\"}).toDispatch();\n</code></pre>\n\n<p>you get property \"Worksheets\" on object of type \"Workbooks\", which is incorrect one.\nThis doc <a href=\"https://msdn.microsoft.com/EN-US/library/office/ff841074.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/EN-US/library/office/ff841074.aspx</a> shows, that \"Workbooks\" doesnt have property \"Worksheets\". Problem is in how you open concrete \"Workbook\" object.</p>\n\n<pre><code>Dispatch workbook = xl.getProperty(\"Workbooks\").toDispatch();\nDispatch.call(workbook, \"Open\", new Variant(strInputDoc),new Variant(\"1\"));\n</code></pre>\n\n<p>You call method \"Open\" on \"Workbooks\" object, which according doc have this method and it opens MS Excel for you. Problem is variable \"Dispatch workbook\" is still object of type \"Workbooks\" and not \"Workbook\", which you wrongly assumed. Correct way is to save return value of your \"Open\" method call, which gives you concrete \"Workbook\" object and after that use methods available for that type of object. Exactly following MS docu here <a href=\"https://msdn.microsoft.com/en-us/library/office/ff194819.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/office/ff194819.aspx</a> .</p>\n\n<p>So correct way to open concrete worksheet would be like this:</p>\n\n<pre><code>//get \"Workbooks\" property from \"Application\" object\nDispatch workbooks = xl.getProperty(\"Workbooks\").toDispatch();\n//call method \"Open\" with filepath param on \"Workbooks\" object and save \"Workbook\" object\nDispatch workbook = Dispatch.call(workbooks, \"Open\", new Variant(strInputDoc)).toDispatch();\n//get \"Worksheets\" property from \"Workbook\" object\nDispatch sheets = Dispatch.get(workbook, \"Worksheets\").toDispatch();\n//Call method \"Select\" on \"Worksheets\" object with \"Sheet2\" param   \nDispatch.call(sheets, \"Select\", new Object[]{\"Sheet2\"}).toDispatch();\n//probably again save \"Worksheet\" object and continue same way\n</code></pre>\n\n<p>In question 2 is the same problem as in question 1.</p>\n\n<pre><code>//calling method \"SaveAs\" on \"Workbooks\" object instead of \"Workbook\" type\nDispatch.call(workbook, \"SaveAs\", new Variant(\"C:\\\\jacob-1.16-M1\\\\Test1.xls\"),new   Variant(\"1\"));\n</code></pre>\n\n<p>All other questions are just same principle as two before. Get property or call method on correct MS object. Also cannot stress enough, how important MS docu will be for anyone with java-excel comunication.</p>\n\n<p>Will just mention a example, how to get actual values from some MS objects. Lets say you want values inside \"Range\" object, because getting properties of objects, that require parameters is done a bit differently then normal value property. To do this you need to get to \"Worksheet\" object first and get \"Range\" property from that.</p>\n\n<pre><code>//lets say we have already some \"Worksheet\" object\nDispatch worksheet = ...;\n//we want a property \"Range\" of \"Worksheet\" object with some macro\nVariant range = Dispatch.invoke(worksheet, \"Range\", Dispatch.Get, new Object[]{\"A1:L10\"}, new int[1]);\n//according to docu, you can specify format in which the value is returned\n//im using 12 which is one of XML formats available\n//in case no such param is provided default \"textTable\" format is returned\nVariant value = Dispatch.invoke(range.getDispatch(), \"Value\", Dispatch.Get, new Object[]{12}, new int[1]);\n//and get the value from it and you are done with MS Excel-Java communication\nString xmlFormat = value.toString();\n\n\n\nWorksheet.Range property docu:\nmsdn.microsoft.com/en-us/library/office/ff836512.aspx\nRange.Value docu:\nmsdn.microsoft.com/en-us/library/office/ff195193.aspx\n</code></pre>\n\n<p>Im not allowed to post more than 2 links, so im sorry if these links arent working properly.</p>\n"}],"owner":{"account_id":1072448,"reputation":1,"user_id":1071399,"display_name":"abarnai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692659175,"creation_date":1326125918,"question_id":8791551,"body_markdown":"I looked at the included Excel example of the latest version of Java Com Bridge (jacob-1.16) and was a little disappointed because it creates and works on a brand new Excel file.\r\n\r\nWhat I would like to do is having access to an existing Excel file from Java, in this case named  &#39;JACOBWithExcel.xls&#39;, but any Excel file should be fine.\r\n\r\nThe SourceForge example for Excel works fine on my machine, and as I modified it for accessing an existing Excel file I ran into the following issues:\r\n\r\n\r\n1., I could not get an existing sheet in the workbook, even though I am trying the\r\n   same way I got the workbook:\r\n\r\n\r\n    Dispatch sheet = Dispatch.get(workbook, &quot;Worksheets&quot;).toDispatch();  \r\n    Dispatch.call(sheet, &quot;Select&quot;, new Object[]{&quot;Sheet2&quot;}).toDispatch();\r\n\r\n\r\nThis code will generate the following exception:\r\n    com.jacob.com.ComFailException: Can&#39;t map name to dispid: Worksheets\r\n\r\n2.; Could not save the workbook:\r\n\r\n    // Save the open workbook as &quot;C:\\jacob-1.16-M1\\Test1.xls&quot; file:\r\n    Dispatch.call(workbook, &quot;SaveAs&quot;, new Variant(&quot;C:\\\\jacob-1.16-M1\\\\Test1.xls&quot;),new   Variant(&quot;1&quot;));\r\n\r\nThis code will generate the following exception:\r\n    com.jacob.com.ComFailException: Can&#39;t map name to dispid: SaveAs\r\n\r\n3.; I don&#39;t know how to get started with the following simple but very common Excel operations, as far as Java syntax for Java COM bridge:\r\n\r\n   (Included here the Excel VBA code that I am trying to implement in Java)\r\n\r\nSelecting a  single cell:\r\n    Range(&quot;A4&quot;).Select\r\n\r\nCopy selected range to clipboard:\r\n\r\n    Selection.Copy\r\n\r\nSelect multi-cell range to copy to:\r\n          \r\n    Range(&quot;D9:D17&quot;).Select\r\n\r\nPaste clipboard contents to selection:\r\n\r\n    ActiveSheet.Paste\r\n\r\nRenaming a sheet:\r\n\r\n    Sheets(&quot;Sheet2&quot;).Select\r\n    Sheets(&quot;Sheet2&quot;).Name = &quot;MySheet2&quot;\r\n\r\nFormat cells, example for text:\r\n              \r\n    Selection.NumberFormat = &quot;@&quot;\r\n\r\nDelete Rows:\r\n                                 \r\n    Rows(intI).Select\r\n    Selection.Delete Shift:=xlUp\r\n\r\nAnd possibly... \r\n\r\nSort a selection:\r\n\r\n    Selection.Sort Key1:=Range(&quot;A2&quot;), Order1:=xlAscending, Header:=xlGuess, _\r\n    OrderCustom:=1, MatchCase:=False,  Orientation:=xlTopToBottom\r\n    \r\nFind the last cell in sheet:                 \r\n\r\n    ActiveSheet.Cells(65536, 1).End(xlUp).Select\r\n    intLastCellRow = Selection.Row\r\n\r\nThank you for your help.\r\n\r\n\r\nP.S.:\r\n\r\nThe full code of the application:\r\n\r\n    import com.jacob.activeX.ActiveXComponent;\r\n    import com.jacob.com.ComThread;\r\n    import com.jacob.com.Dispatch;\r\n    import com.jacob.com.Variant;\r\n\r\n    public class TestJACOBWithExcel {\r\n    public static void main(String[] args) {\r\n        \r\n    String strInputDoc = &quot;C:\\\\jacob-1.16-M1\\\\JACOBWithExcel.xls&quot;;  // file to be opened.\r\n        \r\n    ComThread.InitSTA();\r\n        \r\n    ActiveXComponent xl = new ActiveXComponent(&quot;Excel.Application&quot;); // Instance of application object created.\r\n        \r\n    try {\r\n    // Get Excel application object properties in 2 ways:\r\n    System.out.println(&quot;version=&quot; + xl.getProperty(&quot;Version&quot;));\r\n    System.out.println(&quot;version=&quot; + Dispatch.get(xl, &quot;Version&quot;));\r\n            \r\n    // Make Excel instance visible:\r\n    Dispatch.put(xl, &quot;Visible&quot;, new Variant(true));\r\n            \r\n    // Open XLS file, get the workbooks object required for access:\r\n    Dispatch workbook = xl.getProperty(&quot;Workbooks&quot;).toDispatch();\r\n    Dispatch.call(workbook, &quot;Open&quot;, new Variant(strInputDoc),new Variant(&quot;1&quot;));\r\n            \r\n    Dispatch sheet = Dispatch.get(workbook, &quot;Worksheets&quot;).toDispatch();\r\n    Dispatch.call(sheet, &quot;Select&quot;, new Object[]{&quot;Sheet2&quot;}).toDispatch();\r\n\r\n    // put in a value in cell A22 and place a a formula in cell A23:\r\n    Dispatch a22 = Dispatch.invoke(sheet, &quot;Range&quot;, Dispatch.Get, new Object[] { &quot;A22&quot; }, new int[1]).toDispatch();\r\n\r\n    Dispatch a23 = Dispatch.invoke(sheet, &quot;Range&quot;, Dispatch.Get, new Object[] { &quot;A23&quot; }, new int[1]).toDispatch();\r\n                                \r\n    Dispatch.put(a22, &quot;Value&quot;, &quot;123.456&quot;);\r\n    Dispatch.put(a23, &quot;Formula&quot;, &quot;=A22*2&quot;);\r\n                   \r\n    // Get values from cells A1 and A2\r\n    System.out.println(&quot;a22 from excel:&quot; + Dispatch.get(a22, &quot;Value&quot;));\r\n    System.out.println(&quot;a23 from excel:&quot; + Dispatch.get(a23, &quot;Value&quot;));\r\n\r\n    // Save the open workbook as &quot;C:\\jacob-1.16-M1\\Test1.xls&quot; file:\r\n    Dispatch.call(workbook, &quot;SaveAs&quot;, new Variant(&quot;C:\\\\jacob-1.16-M1\\\\Test1.xls&quot;),new Variant(&quot;1&quot;));\r\n            \r\n    // Close the Excel workbook without saving:\r\n    Variant saveYesNo = new Variant(false);\r\n    Dispatch.call(workbook, &quot;Close&quot;, saveYesNo);\r\n            \r\n    } catch (Exception e) {\r\n    e.printStackTrace();\r\n    } finally {\r\n            \r\n    // Quit Excel:\r\n    // xl.invoke(&quot;Quit&quot;, new Variant[] {});\r\n    ComThread.Release();\r\n    }\r\n        \r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Accessing Sheets, Saving Excel files, Java, Java Com Bridge ( Jacob jacob-1.16)","body":"<p>I looked at the included Excel example of the latest version of Java Com Bridge (jacob-1.16) and was a little disappointed because it creates and works on a brand new Excel file.</p>\n\n<p>What I would like to do is having access to an existing Excel file from Java, in this case named  'JACOBWithExcel.xls', but any Excel file should be fine.</p>\n\n<p>The SourceForge example for Excel works fine on my machine, and as I modified it for accessing an existing Excel file I ran into the following issues:</p>\n\n<p>1., I could not get an existing sheet in the workbook, even though I am trying the\n   same way I got the workbook:</p>\n\n<pre><code>Dispatch sheet = Dispatch.get(workbook, \"Worksheets\").toDispatch();  \nDispatch.call(sheet, \"Select\", new Object[]{\"Sheet2\"}).toDispatch();\n</code></pre>\n\n<p>This code will generate the following exception:\n    com.jacob.com.ComFailException: Can't map name to dispid: Worksheets</p>\n\n<p>2.; Could not save the workbook:</p>\n\n<pre><code>// Save the open workbook as \"C:\\jacob-1.16-M1\\Test1.xls\" file:\nDispatch.call(workbook, \"SaveAs\", new Variant(\"C:\\\\jacob-1.16-M1\\\\Test1.xls\"),new   Variant(\"1\"));\n</code></pre>\n\n<p>This code will generate the following exception:\n    com.jacob.com.ComFailException: Can't map name to dispid: SaveAs</p>\n\n<p>3.; I don't know how to get started with the following simple but very common Excel operations, as far as Java syntax for Java COM bridge:</p>\n\n<p>(Included here the Excel VBA code that I am trying to implement in Java)</p>\n\n<p>Selecting a  single cell:\n    Range(\"A4\").Select</p>\n\n<p>Copy selected range to clipboard:</p>\n\n<pre><code>Selection.Copy\n</code></pre>\n\n<p>Select multi-cell range to copy to:</p>\n\n<pre><code>Range(\"D9:D17\").Select\n</code></pre>\n\n<p>Paste clipboard contents to selection:</p>\n\n<pre><code>ActiveSheet.Paste\n</code></pre>\n\n<p>Renaming a sheet:</p>\n\n<pre><code>Sheets(\"Sheet2\").Select\nSheets(\"Sheet2\").Name = \"MySheet2\"\n</code></pre>\n\n<p>Format cells, example for text:</p>\n\n<pre><code>Selection.NumberFormat = \"@\"\n</code></pre>\n\n<p>Delete Rows:</p>\n\n<pre><code>Rows(intI).Select\nSelection.Delete Shift:=xlUp\n</code></pre>\n\n<p>And possibly... </p>\n\n<p>Sort a selection:</p>\n\n<pre><code>Selection.Sort Key1:=Range(\"A2\"), Order1:=xlAscending, Header:=xlGuess, _\nOrderCustom:=1, MatchCase:=False,  Orientation:=xlTopToBottom\n</code></pre>\n\n<p>Find the last cell in sheet:                 </p>\n\n<pre><code>ActiveSheet.Cells(65536, 1).End(xlUp).Select\nintLastCellRow = Selection.Row\n</code></pre>\n\n<p>Thank you for your help.</p>\n\n<p>P.S.:</p>\n\n<p>The full code of the application:</p>\n\n<pre><code>import com.jacob.activeX.ActiveXComponent;\nimport com.jacob.com.ComThread;\nimport com.jacob.com.Dispatch;\nimport com.jacob.com.Variant;\n\npublic class TestJACOBWithExcel {\npublic static void main(String[] args) {\n\nString strInputDoc = \"C:\\\\jacob-1.16-M1\\\\JACOBWithExcel.xls\";  // file to be opened.\n\nComThread.InitSTA();\n\nActiveXComponent xl = new ActiveXComponent(\"Excel.Application\"); // Instance of application object created.\n\ntry {\n// Get Excel application object properties in 2 ways:\nSystem.out.println(\"version=\" + xl.getProperty(\"Version\"));\nSystem.out.println(\"version=\" + Dispatch.get(xl, \"Version\"));\n\n// Make Excel instance visible:\nDispatch.put(xl, \"Visible\", new Variant(true));\n\n// Open XLS file, get the workbooks object required for access:\nDispatch workbook = xl.getProperty(\"Workbooks\").toDispatch();\nDispatch.call(workbook, \"Open\", new Variant(strInputDoc),new Variant(\"1\"));\n\nDispatch sheet = Dispatch.get(workbook, \"Worksheets\").toDispatch();\nDispatch.call(sheet, \"Select\", new Object[]{\"Sheet2\"}).toDispatch();\n\n// put in a value in cell A22 and place a a formula in cell A23:\nDispatch a22 = Dispatch.invoke(sheet, \"Range\", Dispatch.Get, new Object[] { \"A22\" }, new int[1]).toDispatch();\n\nDispatch a23 = Dispatch.invoke(sheet, \"Range\", Dispatch.Get, new Object[] { \"A23\" }, new int[1]).toDispatch();\n\nDispatch.put(a22, \"Value\", \"123.456\");\nDispatch.put(a23, \"Formula\", \"=A22*2\");\n\n// Get values from cells A1 and A2\nSystem.out.println(\"a22 from excel:\" + Dispatch.get(a22, \"Value\"));\nSystem.out.println(\"a23 from excel:\" + Dispatch.get(a23, \"Value\"));\n\n// Save the open workbook as \"C:\\jacob-1.16-M1\\Test1.xls\" file:\nDispatch.call(workbook, \"SaveAs\", new Variant(\"C:\\\\jacob-1.16-M1\\\\Test1.xls\"),new Variant(\"1\"));\n\n// Close the Excel workbook without saving:\nVariant saveYesNo = new Variant(false);\nDispatch.call(workbook, \"Close\", saveYesNo);\n\n} catch (Exception e) {\ne.printStackTrace();\n} finally {\n\n// Quit Excel:\n// xl.invoke(\"Quit\", new Variant[] {});\nComThread.Release();\n}\n\n}\n}\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","dataflow"],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656083199,"creation_date":1651787678,"answer_id":72134031,"question_id":72126198,"body_markdown":"`TextIO.write()` always writes at least one shard, even if it is empty. As you are writing to a single shard anyway, you could get around this behavior by doing the write manually in a DoFn that takes the to-be-written elements as a side input, e.g.\r\n\r\n    PCollectionView&lt;List&lt;String&gt;&gt; errorRecordsView = errorRecords.apply(\r\n        View.&lt;String&gt;asList());\r\n\r\n    // Your &quot;main&quot; PCollection is a PCollection with a single input,\r\n    // so the DoFn will get invoked exactly once. \r\n    p.apply(Create.of(new String[]{&quot;whatever&quot;}))\r\n     // The side input is your error records.\r\n     .apply(ParDo.of(new DoFn&lt;String, String&gt;() {\r\n          @ProcessElement\r\n          public void processElement(\r\n              @Element String unused,\r\n              OutputReceiver&lt;String&gt; out,\r\n              ProcessContext c) {\r\n            List&lt;String&gt; errors = c.sideInput(errorRecordsView);\r\n            if (!errors.isEmpty()) {\r\n              // Open the file manually and write all the errors to it.\r\n            }\r\n          }\r\n      }).withSideInputs(errorRecordsView);\r\n\r\nBeing able to do so with the native Beam writes is a reasonable request. This is not supported in the latest release of Beam by setting skipIfEmpty. \r\n","title":"How can we prevent empty file write in dataflow pipeline when collection size is 0?","body":"<p><code>TextIO.write()</code> always writes at least one shard, even if it is empty. As you are writing to a single shard anyway, you could get around this behavior by doing the write manually in a DoFn that takes the to-be-written elements as a side input, e.g.</p>\n<pre><code>PCollectionView&lt;List&lt;String&gt;&gt; errorRecordsView = errorRecords.apply(\n    View.&lt;String&gt;asList());\n\n// Your &quot;main&quot; PCollection is a PCollection with a single input,\n// so the DoFn will get invoked exactly once. \np.apply(Create.of(new String[]{&quot;whatever&quot;}))\n // The side input is your error records.\n .apply(ParDo.of(new DoFn&lt;String, String&gt;() {\n      @ProcessElement\n      public void processElement(\n          @Element String unused,\n          OutputReceiver&lt;String&gt; out,\n          ProcessContext c) {\n        List&lt;String&gt; errors = c.sideInput(errorRecordsView);\n        if (!errors.isEmpty()) {\n          // Open the file manually and write all the errors to it.\n        }\n      }\n  }).withSideInputs(errorRecordsView);\n</code></pre>\n<p>Being able to do so with the native Beam writes is a reasonable request. This is not supported in the latest release of Beam by setting skipIfEmpty.</p>\n"},{"tags":[],"owner":{"account_id":6680217,"reputation":526,"user_id":5153670,"display_name":"Valentyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692658852,"creation_date":1692658852,"answer_id":76949159,"question_id":72126198,"body_markdown":"Beam TextIO added support for `skipIfEmpty()` in 2.40.0, see: https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/TextIO.TypedWrite.html#skipIfEmpty--","title":"How can we prevent empty file write in dataflow pipeline when collection size is 0?","body":"<p>Beam TextIO added support for <code>skipIfEmpty()</code> in 2.40.0, see: <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/TextIO.TypedWrite.html#skipIfEmpty--\" rel=\"nofollow noreferrer\">https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/TextIO.TypedWrite.html#skipIfEmpty--</a></p>\n"}],"owner":{"account_id":15286502,"reputation":9,"user_id":11029385,"display_name":"Naman Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76949159,"answer_count":2,"score":0,"last_activity_date":1692658852,"creation_date":1651749028,"question_id":72126198,"body_markdown":"I have a dataflow pipeline and I&#39;m parsing a file if I got any incorrect records then I&#39;m writing it on the GCS bucket, but when there are no errors in the input file data still TextIO writes the empty file on the GCS bucket with a header. \r\n\r\nSo, how can we prevent this if the PCollection size is zero then skip this step?\r\n\r\n    errorRecords.apply(&quot;WritingErrorRecords&quot;, TextIO.write().to(options.getBucketPath())\r\n                 .withHeader(&quot;ID|ERROR_CODE|ERROR_MESSAGE&quot;)\r\n                 .withoutSharding()\r\n                 .withSuffix(&quot;.txt&quot;)\r\n                 .withShardNameTemplate(&quot;-SSS&quot;)\r\n                 .withNumShards(1));\r\n            ","title":"How can we prevent empty file write in dataflow pipeline when collection size is 0?","body":"<p>I have a dataflow pipeline and I'm parsing a file if I got any incorrect records then I'm writing it on the GCS bucket, but when there are no errors in the input file data still TextIO writes the empty file on the GCS bucket with a header.</p>\n<p>So, how can we prevent this if the PCollection size is zero then skip this step?</p>\n<pre><code>errorRecords.apply(&quot;WritingErrorRecords&quot;, TextIO.write().to(options.getBucketPath())\n             .withHeader(&quot;ID|ERROR_CODE|ERROR_MESSAGE&quot;)\n             .withoutSharding()\n             .withSuffix(&quot;.txt&quot;)\n             .withShardNameTemplate(&quot;-SSS&quot;)\n             .withNumShards(1));\n        \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1692544434,"post_id":76940042,"comment_id":135634974,"body_markdown":"If it&#39;s a property of an instance, put it in the class ...","body":"If it&#39;s a property of an instance, put it in the class ..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692545014,"post_id":76940042,"comment_id":135635046,"body_markdown":"If you&#39;re modeling a product then you need to draw a distinction between the product and the item on the shelf in the shop. Interestingly, the relationship is much the same as that between a Java class and an instance of it","body":"If you&#39;re modeling a product then you need to draw a distinction between the product and the item on the shelf in the shop. Interestingly, the relationship is much the same as that between a Java class and an instance of it"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692545196,"post_id":76940042,"comment_id":135635075,"body_markdown":"It sounds to me like you want a class `PerishableProduct` that is a subclass of `Product` and has a field `expirationDate`, which `Product` has not. There are other options, but this is the natural and objcet-oriented one, and other ways would just add more complication with no gain that I can see.","body":"It sounds to me like you want a class <code>PerishableProduct</code> that is a subclass of <code>Product</code> and has a field <code>expirationDate</code>, which <code>Product</code> has not. There are other options, but this is the natural and objcet-oriented one, and other ways would just add more complication with no gain that I can see."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692658738,"creation_date":1692545185,"answer_id":76940125,"question_id":76940042,"body_markdown":"Make an interface for products. Define a getter method for each of its properties.\r\n\r\n    interface Product {\r\n        public UUID getId();\r\n    }\r\n\r\nDefine another interface for perishable products. Specify a getter method for each of its additional properties.\r\n\r\n    interface PerishableProduct extends Product {\r\n        public LocalDate getExpirationDate() ;\r\n    }\r\n\r\nDefine a product implementation class with the necessary fields. Add [getter method][1] implementations as required by the interfaces. \r\n\r\n    class Milk implements PerishableProduct {\r\n        // Member fields. \r\n        private UUID id;\r\n        private LocalDate expirationDate ;\r\n    \r\n        // Constructor\r\n        public Milk ( final UUID id , final LocalDate expirationDate ) {\r\n            this.id = id ;\r\n            this.expirationDate = expirationDate ;\r\n        }\r\n    \r\n        // Implement the interfaces’ methods. \r\n        public UUID getId() { return this.id ; }  // Required by Product interface. \r\n        public LocalDate getExpirationDate() { return this.expirationDate ; }  // Required by PerishableProduct interface. \r\n    }\r\n\r\n-----\r\n\r\nIn real work, we would also be adding methods to override `Object` methods, implementing `Comparable`, etc. \r\n\r\n-----\r\n\r\nIf your objects are meant to be read-only (shallowly [immutable][2]), then in modern Java we can simplify the code with [records][3]. \r\n\r\nWith records, we drop the `get` prefix on the getter methods. That [JavaBeans][4] convention is not used by records. In a record, the implicit getter method has the same name as the property. \r\n\r\n    interface Product { public UUID id(); }\r\n    interface PerishableProduct extends Product { public LocalDate expirationDate() ; }\r\n    record Milk implements PerishableProduct ( UUID id , LocalDate expirationDate ) {}\r\n\r\n-----\r\n\r\nThese are basic Java concepts. You should be learning these from a [tutorial][5] or [book][6]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mutator_method#Java\r\n  [2]: https://en.m.wikipedia.org/wiki/Immutable_object\r\n  [3]: https://openjdk.org/jeps/395\r\n  [4]: https://en.wikipedia.org/wiki/JavaBeans\r\n  [5]: https://docs.oracle.com/javase/tutorial/\r\n  [6]: https://www.goodreads.com/book/show/58230342","title":"is there a way to mantain a variable created in a method outside of it but only available to the class instance?","body":"<p>Make an interface for products. Define a getter method for each of its properties.</p>\n<pre><code>interface Product {\n    public UUID getId();\n}\n</code></pre>\n<p>Define another interface for perishable products. Specify a getter method for each of its additional properties.</p>\n<pre><code>interface PerishableProduct extends Product {\n    public LocalDate getExpirationDate() ;\n}\n</code></pre>\n<p>Define a product implementation class with the necessary fields. Add <a href=\"https://en.wikipedia.org/wiki/Mutator_method#Java\" rel=\"nofollow noreferrer\">getter method</a> implementations as required by the interfaces.</p>\n<pre><code>class Milk implements PerishableProduct {\n    // Member fields. \n    private UUID id;\n    private LocalDate expirationDate ;\n\n    // Constructor\n    public Milk ( final UUID id , final LocalDate expirationDate ) {\n        this.id = id ;\n        this.expirationDate = expirationDate ;\n    }\n\n    // Implement the interfaces’ methods. \n    public UUID getId() { return this.id ; }  // Required by Product interface. \n    public LocalDate getExpirationDate() { return this.expirationDate ; }  // Required by PerishableProduct interface. \n}\n</code></pre>\n<hr />\n<p>In real work, we would also be adding methods to override <code>Object</code> methods, implementing <code>Comparable</code>, etc.</p>\n<hr />\n<p>If your objects are meant to be read-only (shallowly <a href=\"https://en.m.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable</a>), then in modern Java we can simplify the code with <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>.</p>\n<p>With records, we drop the <code>get</code> prefix on the getter methods. That <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">JavaBeans</a> convention is not used by records. In a record, the implicit getter method has the same name as the property.</p>\n<pre><code>interface Product { public UUID id(); }\ninterface PerishableProduct extends Product { public LocalDate expirationDate() ; }\nrecord Milk implements PerishableProduct ( UUID id , LocalDate expirationDate ) {}\n</code></pre>\n<hr />\n<p>These are basic Java concepts. You should be learning these from a <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">tutorial</a> or <a href=\"https://www.goodreads.com/book/show/58230342\" rel=\"nofollow noreferrer\">book</a>.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692546621,"creation_date":1692545568,"answer_id":76940150,"question_id":76940042,"body_markdown":"Just create the variable with a default value of null. Then set it as appropriate. Depending on the use case, you can return a String of the date or a message like &quot;No expiration&quot; if it hasn&#39;t been set.\r\n```\r\nclass Product { \r\n    private static LocalDate NO_EXPIRATION = null;\r\n    private LocalDate expirationDate = NO_EXPIRATION;\r\n    \r\n    public void setExpirationDate(LocalDate expDate) {\r\n        expirationDate = expDate;\r\n    }\r\n    public String getExpirationDate() {\r\n        return expirationDate == NO_EXPIRATION ?\r\n                &quot;No expiration&quot; :\r\n                expirationDate.format(&lt;SomeFormat&gt;); // or .toString()\r\n    }\r\n}\r\n```\r\nOr just have a date for everything with the default being a date in the very distant future for non-perishable items.","title":"is there a way to mantain a variable created in a method outside of it but only available to the class instance?","body":"<p>Just create the variable with a default value of null. Then set it as appropriate. Depending on the use case, you can return a String of the date or a message like &quot;No expiration&quot; if it hasn't been set.</p>\n<pre><code>class Product { \n    private static LocalDate NO_EXPIRATION = null;\n    private LocalDate expirationDate = NO_EXPIRATION;\n    \n    public void setExpirationDate(LocalDate expDate) {\n        expirationDate = expDate;\n    }\n    public String getExpirationDate() {\n        return expirationDate == NO_EXPIRATION ?\n                &quot;No expiration&quot; :\n                expirationDate.format(&lt;SomeFormat&gt;); // or .toString()\n    }\n}\n</code></pre>\n<p>Or just have a date for everything with the default being a date in the very distant future for non-perishable items.</p>\n"}],"owner":{"account_id":29262215,"reputation":23,"user_id":22418915,"display_name":"adrian quispe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76940125,"answer_count":2,"score":1,"last_activity_date":1692658738,"creation_date":1692544109,"question_id":76940042,"body_markdown":"(first of all, sorry if there are some misspelled words, english is not my main language)\r\n\r\ni&#39;m trying to model a product of a market in java and i need an interface for perishable products.\r\nthe interface has to be able to set and consult the expiration date, but the class &quot;Product&quot; doesn&#39;t have a variable for that. i want to avoid putting thar variable in Product because not all items have expiration dates, and i need to use an interface (even if i want to use an abstract class i think there will be a problem of multiple inheritance).\r\n\r\nmy idea is creating a variable in the method of the class that implements the interface (setExpDate) and somehow persists and be used as a variable of the instance of the class, is that possible? or should i just go for a variable expDate in Product and not initialize it until is needed?","title":"is there a way to mantain a variable created in a method outside of it but only available to the class instance?","body":"<p>(first of all, sorry if there are some misspelled words, english is not my main language)</p>\n<p>i'm trying to model a product of a market in java and i need an interface for perishable products.\nthe interface has to be able to set and consult the expiration date, but the class &quot;Product&quot; doesn't have a variable for that. i want to avoid putting thar variable in Product because not all items have expiration dates, and i need to use an interface (even if i want to use an abstract class i think there will be a problem of multiple inheritance).</p>\n<p>my idea is creating a variable in the method of the class that implements the interface (setExpDate) and somehow persists and be used as a variable of the instance of the class, is that possible? or should i just go for a variable expDate in Product and not initialize it until is needed?</p>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1692580124,"post_id":76941877,"comment_id":135638321,"body_markdown":"Can you explain what &quot;didn&#39;t work?&quot;  That absolutely should work, and at first glance your code looks ok, so more details what is wrong would help.  Exactly what error do you get?","body":"Can you explain what &quot;didn&#39;t work?&quot;  That absolutely should work, and at first glance your code looks ok, so more details what is wrong would help.  Exactly what error do you get?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1692581037,"post_id":76941877,"comment_id":135638366,"body_markdown":"*&quot;I don&#39;t have any errors, but nothing happens.&quot;* Considering you have no error messages, the issue might not be with calling the non-static method. I suggest you try some debugging. Run the code in a debugger, setting some breakpoints. From a breakpoint, you can proceed one-step-at-a-time. You can abort the program, change the set break points, and try to narrow it down.  Another approach is to add code to display where where the program was, e.g., `System.out.println (&quot;Entering checkFiles ()&quot;);`.","body":"<i>&quot;I don&#39;t have any errors, but nothing happens.&quot;</i> Considering you have no error messages, the issue might not be with calling the non-static method. I suggest you try some debugging. Run the code in a debugger, setting some breakpoints. From a breakpoint, you can proceed one-step-at-a-time. You can abort the program, change the set break points, and try to narrow it down.  Another approach is to add code to display where where the program was, e.g., <code>System.out.println (&quot;Entering checkFiles ()&quot;);</code>."}],"answers":[{"tags":[],"owner":{"account_id":16014501,"reputation":61,"user_id":11557623,"display_name":"Ka&#39;Eios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692658474,"creation_date":1692658474,"answer_id":76949138,"question_id":76941877,"body_markdown":"Your issue is not due to calling a non-static method in a different file. The broadcast message is not printed to the server because using `Bukkit.broadcastMessage()` does not work in `onEnable()` method. This is because the server is not fully started when the method is called.\r\nTry using `System.out.println()` instead to display your message (as it seems to be used for debug purpose) or delay it by some ticks with a scheduler if you really want a broadcast.  ","title":"Calling a non-static function in a different file","body":"<p>Your issue is not due to calling a non-static method in a different file. The broadcast message is not printed to the server because using <code>Bukkit.broadcastMessage()</code> does not work in <code>onEnable()</code> method. This is because the server is not fully started when the method is called.\nTry using <code>System.out.println()</code> instead to display your message (as it seems to be used for debug purpose) or delay it by some ticks with a scheduler if you really want a broadcast.</p>\n"}],"owner":{"account_id":29264220,"reputation":1,"user_id":22420372,"display_name":"Zote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692658474,"creation_date":1692579896,"question_id":76941877,"body_markdown":"I have an issue with calling a non-static function from one file to another. Here are my codes:\r\n\r\n\r\n```\r\npackage me.zoteuh.grillade;\r\n\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.util.logging.Level;\r\n\r\npublic final class Grillade extends JavaPlugin {\r\n    private static Grillade instance;\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        instance = this;\r\n\r\n        AnvilListener anvilListener = new AnvilListener();\r\n        anvilListener.loadHeadTextures();\r\n\r\n        checkFiles();\r\n        getServer().getPluginManager().registerEvents(anvilListener, this);\r\n        getLogger().info(&quot;Grillade Plugin Operational!&quot;);\r\n    }\r\n\r\n    public static Grillade getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    private void checkFiles() {\r\n        if (!getDataFolder().exists()) {\r\n            if (getDataFolder().mkdir()) {\r\n                getLogger().info(&quot;Grillade folder created.&quot;);\r\n            } else {\r\n                getLogger().severe(&quot;Unable to create the Grillade folder.&quot;);\r\n            }\r\n        }\r\n\r\n        File headsFile = new File(getDataFolder(), &quot;heads.json&quot;);\r\n        if (!headsFile.exists()) {\r\n            try {\r\n                String defaultHeadsJson = &quot;[\\n]&quot;;\r\n                Files.write(headsFile.toPath(), defaultHeadsJson.getBytes());\r\n                getLogger().info(&quot;Created heads.json file.&quot;);\r\n            } catch (IOException e) {\r\n                getLogger().log(Level.SEVERE, &quot;Error creating heads.json file.&quot;, e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage me.zoteuh.grillade;\r\n\r\nimport com.mojang.authlib.GameProfile;\r\nimport com.mojang.authlib.properties.Property;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.inventory.PrepareAnvilEvent;\r\nimport org.bukkit.inventory.AnvilInventory;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.SkullMeta;\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.lang.reflect.Field;\r\n\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\n\r\npublic class AnvilListener implements Listener {\r\n    private final Map&lt;String, String&gt; headTextures = new HashMap&lt;&gt;();\r\n\r\n    @EventHandler\r\n    public void onAnvilPrepare(PrepareAnvilEvent event) {\r\n        loadHeadTextures();\r\n\r\n        AnvilInventory anvilInventory = event.getInventory();\r\n        ItemStack[] contents = anvilInventory.getContents();\r\n\r\n        ItemStack firstInput = contents[0];\r\n        ItemStack secondInput = contents[1];\r\n        String renameText = event.getInventory().getRenameText();\r\n\r\n        List&lt;Material&gt; classicHeads = new ArrayList&lt;&gt;();\r\n        classicHeads.add(Material.CREEPER_HEAD);\r\n        classicHeads.add(Material.SKELETON_SKULL);\r\n        classicHeads.add(Material.ZOMBIE_HEAD);\r\n\r\n        if (firstInput != null &amp;&amp; secondInput == null &amp;&amp; classicHeads.contains(firstInput.getType()) &amp;&amp;\r\n                renameText != null &amp;&amp; headTextures.containsKey(renameText)) {\r\n\r\n            String texture = headTextures.get(renameText);\r\n            ItemStack customHead = createCustomHead(texture, renameText);\r\n            event.setResult(customHead);\r\n        }\r\n    }\r\n\r\n    private ItemStack createCustomHead(String texture, String name) {\r\n        ItemStack skull = new ItemStack(Material.PLAYER_HEAD);\r\n        SkullMeta skullMeta = (SkullMeta) skull.getItemMeta();\r\n\r\n        GameProfile profile = new GameProfile(UUID.randomUUID(), null);\r\n        profile.getProperties().put(&quot;textures&quot;, new Property(&quot;textures&quot;, texture));\r\n\r\n        try {\r\n            Field profileField = skullMeta.getClass().getDeclaredField(&quot;profile&quot;);\r\n            profileField.setAccessible(true);\r\n            profileField.set(skullMeta, profile);\r\n            skullMeta.setDisplayName(name);\r\n            skull.setItemMeta(skullMeta);\r\n\r\n            return skull;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void loadHeadTextures() {\r\n        File jsonFile = new File(Grillade.getInstance().getDataFolder(), &quot;heads.json&quot;);\r\n        Bukkit.broadcastMessage(&quot;Chargement des textures&quot;);\r\n\r\n        if (!jsonFile.exists()) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            FileReader reader = new FileReader(jsonFile);\r\n            JsonElement jsonElement = JsonParser.parseReader(reader);\r\n            JsonObject jsonObject = jsonElement.getAsJsonObject();\r\n            JsonArray headsArray = jsonObject.getAsJsonArray(&quot;heads&quot;);\r\n\r\n\r\n            for (JsonElement headElement : headsArray) {\r\n                JsonObject headObject = headElement.getAsJsonObject();\r\n                String name = headObject.get(&quot;name&quot;).getAsString();\r\n                String texture = headObject.get(&quot;texture&quot;).getAsString();\r\n\r\n                headTextures.put(name, texture);\r\n            }\r\n\r\n            reader.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe issue arises from the function &quot;loadHeadTextures.&quot; I would like to call it within the &quot;onEnable&quot; function in my main file.\r\n\r\nI tried to do it by creating an instance as explained on this website but that didn&#39;t work\r\nhttps://www.w3docs.com/snippets/java/calling-non-static-method-in-static-method-in-java.html\r\n\r\nI tried several other tips found here but none of them worked either..\r\nThe issue doesn&#39;t come from my function &quot;loadHeadTextures&quot;. I tried calling it in its own file and it worked; the broadcast showed up correctly in the chat. However, as soon as I try to call it from the main file, it doesn&#39;t work. I don&#39;t have any errors, but nothing happens.","title":"Calling a non-static function in a different file","body":"<p>I have an issue with calling a non-static function from one file to another. Here are my codes:</p>\n<pre><code>package me.zoteuh.grillade;\n\nimport org.bukkit.plugin.java.JavaPlugin;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.logging.Level;\n\npublic final class Grillade extends JavaPlugin {\n    private static Grillade instance;\n\n    @Override\n    public void onEnable() {\n        instance = this;\n\n        AnvilListener anvilListener = new AnvilListener();\n        anvilListener.loadHeadTextures();\n\n        checkFiles();\n        getServer().getPluginManager().registerEvents(anvilListener, this);\n        getLogger().info(&quot;Grillade Plugin Operational!&quot;);\n    }\n\n    public static Grillade getInstance() {\n        return instance;\n    }\n\n    private void checkFiles() {\n        if (!getDataFolder().exists()) {\n            if (getDataFolder().mkdir()) {\n                getLogger().info(&quot;Grillade folder created.&quot;);\n            } else {\n                getLogger().severe(&quot;Unable to create the Grillade folder.&quot;);\n            }\n        }\n\n        File headsFile = new File(getDataFolder(), &quot;heads.json&quot;);\n        if (!headsFile.exists()) {\n            try {\n                String defaultHeadsJson = &quot;[\\n]&quot;;\n                Files.write(headsFile.toPath(), defaultHeadsJson.getBytes());\n                getLogger().info(&quot;Created heads.json file.&quot;);\n            } catch (IOException e) {\n                getLogger().log(Level.SEVERE, &quot;Error creating heads.json file.&quot;, e);\n            }\n        }\n    }\n}\n</code></pre>\n<pre><code>package me.zoteuh.grillade;\n\nimport com.mojang.authlib.GameProfile;\nimport com.mojang.authlib.properties.Property;\nimport org.bukkit.Bukkit;\nimport org.bukkit.Material;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.inventory.PrepareAnvilEvent;\nimport org.bukkit.inventory.AnvilInventory;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.SkullMeta;\n\nimport java.io.*;\nimport java.util.*;\nimport java.lang.reflect.Field;\n\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\npublic class AnvilListener implements Listener {\n    private final Map&lt;String, String&gt; headTextures = new HashMap&lt;&gt;();\n\n    @EventHandler\n    public void onAnvilPrepare(PrepareAnvilEvent event) {\n        loadHeadTextures();\n\n        AnvilInventory anvilInventory = event.getInventory();\n        ItemStack[] contents = anvilInventory.getContents();\n\n        ItemStack firstInput = contents[0];\n        ItemStack secondInput = contents[1];\n        String renameText = event.getInventory().getRenameText();\n\n        List&lt;Material&gt; classicHeads = new ArrayList&lt;&gt;();\n        classicHeads.add(Material.CREEPER_HEAD);\n        classicHeads.add(Material.SKELETON_SKULL);\n        classicHeads.add(Material.ZOMBIE_HEAD);\n\n        if (firstInput != null &amp;&amp; secondInput == null &amp;&amp; classicHeads.contains(firstInput.getType()) &amp;&amp;\n                renameText != null &amp;&amp; headTextures.containsKey(renameText)) {\n\n            String texture = headTextures.get(renameText);\n            ItemStack customHead = createCustomHead(texture, renameText);\n            event.setResult(customHead);\n        }\n    }\n\n    private ItemStack createCustomHead(String texture, String name) {\n        ItemStack skull = new ItemStack(Material.PLAYER_HEAD);\n        SkullMeta skullMeta = (SkullMeta) skull.getItemMeta();\n\n        GameProfile profile = new GameProfile(UUID.randomUUID(), null);\n        profile.getProperties().put(&quot;textures&quot;, new Property(&quot;textures&quot;, texture));\n\n        try {\n            Field profileField = skullMeta.getClass().getDeclaredField(&quot;profile&quot;);\n            profileField.setAccessible(true);\n            profileField.set(skullMeta, profile);\n            skullMeta.setDisplayName(name);\n            skull.setItemMeta(skullMeta);\n\n            return skull;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public void loadHeadTextures() {\n        File jsonFile = new File(Grillade.getInstance().getDataFolder(), &quot;heads.json&quot;);\n        Bukkit.broadcastMessage(&quot;Chargement des textures&quot;);\n\n        if (!jsonFile.exists()) {\n            return;\n        }\n\n        try {\n            FileReader reader = new FileReader(jsonFile);\n            JsonElement jsonElement = JsonParser.parseReader(reader);\n            JsonObject jsonObject = jsonElement.getAsJsonObject();\n            JsonArray headsArray = jsonObject.getAsJsonArray(&quot;heads&quot;);\n\n\n            for (JsonElement headElement : headsArray) {\n                JsonObject headObject = headElement.getAsJsonObject();\n                String name = headObject.get(&quot;name&quot;).getAsString();\n                String texture = headObject.get(&quot;texture&quot;).getAsString();\n\n                headTextures.put(name, texture);\n            }\n\n            reader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The issue arises from the function &quot;loadHeadTextures.&quot; I would like to call it within the &quot;onEnable&quot; function in my main file.</p>\n<p>I tried to do it by creating an instance as explained on this website but that didn't work\n<a href=\"https://www.w3docs.com/snippets/java/calling-non-static-method-in-static-method-in-java.html\" rel=\"nofollow noreferrer\">https://www.w3docs.com/snippets/java/calling-non-static-method-in-static-method-in-java.html</a></p>\n<p>I tried several other tips found here but none of them worked either..\nThe issue doesn't come from my function &quot;loadHeadTextures&quot;. I tried calling it in its own file and it worked; the broadcast showed up correctly in the chat. However, as soon as I try to call it from the main file, it doesn't work. I don't have any errors, but nothing happens.</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":3282995,"reputation":397,"user_id":2763130,"accept_rate":100,"display_name":"Brett Holmes"},"score":11,"creation_date":1406849225,"post_id":25070577,"comment_id":39003652,"body_markdown":"Can you post the code that you have with three numbers?","body":"Can you post the code that you have with three numbers?"},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":2,"creation_date":1406849483,"post_id":25070577,"comment_id":39003720,"body_markdown":"3, or 4, or n numbers, the logic remains the same. Please show your effort.","body":"3, or 4, or n numbers, the logic remains the same. Please show your effort."},{"owner":{"account_id":4280484,"reputation":187,"user_id":3500017,"accept_rate":50,"display_name":"user3500017"},"score":0,"creation_date":1406849742,"post_id":25070577,"comment_id":39003788,"body_markdown":"Here is what I did until now","body":"Here is what I did until now"}],"answers":[{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1692658137,"creation_date":1406849876,"answer_id":25070688,"question_id":25070577,"body_markdown":"A nice way to sort a small, fixed size of inputs is using a &quot;**sorting network**&quot;.\r\n\r\nThis network sorts 4 elements, a b c d. Each line compares and swaps two elements:\r\n\r\n\tint swap;\r\n\tif (a &gt; b) { swap = a; a = b; b = swap; }\r\n\tif (c &gt; d) { swap = c; c = d; d = swap; }\r\n\tif (a &gt; c) { swap = a; a = c; c = swap; }\r\n\tif (b &gt; d) { swap = b; b = d; d = swap; }\r\n\tif (b &gt; c) { swap = b; b = c; c = swap; }\r\n\r\nIf you want to sort in reverse order, just flip the `&gt;` signs to `&lt;` signs.\r\n\r\nLinks:\r\n\r\n* [Sorting network - Wikipedia](https://en.wikipedia.org/wiki/Sorting_network)\r\n* [&quot;Introduction to Sorting Networks&quot; - Doug Hoyte](https://hoytech.github.io/sorting-networks/)\r\n* [List of smallest and fastest sorting networks for a given number of inputs](https://bertdobbelaere.github.io/sorting_networks.html)","title":"Sort four numbers without an array","body":"<p>A nice way to sort a small, fixed size of inputs is using a &quot;<strong>sorting network</strong>&quot;.</p>\n<p>This network sorts 4 elements, a b c d. Each line compares and swaps two elements:</p>\n<pre><code>int swap;\nif (a &gt; b) { swap = a; a = b; b = swap; }\nif (c &gt; d) { swap = c; c = d; d = swap; }\nif (a &gt; c) { swap = a; a = c; c = swap; }\nif (b &gt; d) { swap = b; b = d; d = swap; }\nif (b &gt; c) { swap = b; b = c; c = swap; }\n</code></pre>\n<p>If you want to sort in reverse order, just flip the <code>&gt;</code> signs to <code>&lt;</code> signs.</p>\n<p>Links:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Sorting_network\" rel=\"nofollow noreferrer\">Sorting network - Wikipedia</a></li>\n<li><a href=\"https://hoytech.github.io/sorting-networks/\" rel=\"nofollow noreferrer\">&quot;Introduction to Sorting Networks&quot; - Doug Hoyte</a></li>\n<li><a href=\"https://bertdobbelaere.github.io/sorting_networks.html\" rel=\"nofollow noreferrer\">List of smallest and fastest sorting networks for a given number of inputs</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2426004,"reputation":47,"user_id":2117910,"accept_rate":80,"display_name":"nady saptra"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1690716442,"creation_date":1635903954,"answer_id":69818780,"question_id":25070577,"body_markdown":"I don’t know if this is correct or not. It might be better if it can be optimized.\r\n\r\n    // Sorted array\r\n    var t = [31, 32, 33, 34, 35, 36, 37, 38];\r\n    var expected = [38, 37, 36, 35, 34, 33, 32, 31];\r\n    var s = 0;\r\n    for (let i = 0; i &lt; t.length; i++) {\r\n      if(Math.round(t.length / 2) &lt;= i) {\r\n        var f = t[i];\r\n        var g = t[t.length - i - 1];\r\n        t[i] = g;\r\n        t[t.length - i - 1] = f;\r\n      }\r\n    }\r\n    if(JSON.stringify(t).replace(/ /g) == JSON.stringify(expected).replace(/ /g)) {\r\n      console.log(&#39;true&#39;);\r\n    }\r\n    else {\r\n      console.log(&#39;false&#39;);\r\n    }\r\n\r\nThis will swap value in between the center.\r\n","title":"Sort four numbers without an array","body":"<p>I don’t know if this is correct or not. It might be better if it can be optimized.</p>\n<pre><code>// Sorted array\nvar t = [31, 32, 33, 34, 35, 36, 37, 38];\nvar expected = [38, 37, 36, 35, 34, 33, 32, 31];\nvar s = 0;\nfor (let i = 0; i &lt; t.length; i++) {\n  if(Math.round(t.length / 2) &lt;= i) {\n    var f = t[i];\n    var g = t[t.length - i - 1];\n    t[i] = g;\n    t[t.length - i - 1] = f;\n  }\n}\nif(JSON.stringify(t).replace(/ /g) == JSON.stringify(expected).replace(/ /g)) {\n  console.log('true');\n}\nelse {\n  console.log('false');\n}\n</code></pre>\n<p>This will swap value in between the center.</p>\n"}],"owner":{"account_id":4280484,"reputation":187,"user_id":3500017,"accept_rate":50,"display_name":"user3500017"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23210,"favorite_count":0,"down_vote_count":5,"up_vote_count":10,"accepted_answer_id":25070688,"answer_count":2,"score":5,"last_activity_date":1692658137,"creation_date":1406849157,"question_id":25070577,"body_markdown":"I have an exercise where I need to put four numbers in ascending order and then descending **without using arrays**. I can only use loops and *if* statements. I&#39;ve done it with three numbers, but now with four numbers I am unable to think of the logic.\r\n\r\n      float great1 = 0, great2 = 0, great3 = 0, great4 = 0;\r\n      int a = 7, b = 5, c = 6, d = 0;\r\n\r\n      // Descending\r\n      if (a &gt; b &amp;&amp; b &gt; c) {\r\n        great1 = a;\r\n        great2 = b;\r\n        great3 = c;\r\n\r\n      } else if (a &gt; b &amp;&amp; b &lt; c) {\r\n        great1 = a;\r\n        great2 = c;\r\n        great3 = b;\r\n\r\n      } else if (b &gt; a &amp;&amp; a &gt; c) {\r\n        great1 = b;\r\n        great2 = a;\r\n        great3 = c;\r\n\r\n      } else if (b &gt; a &amp;&amp; a &lt; c) {\r\n        great1 = b;\r\n        great2 = c;\r\n        great3 = a;\r\n\r\n      } else if (c &gt; a &amp;&amp; a &gt; b) {\r\n        great1 = c;\r\n        great2 = a;\r\n        great3 = b;\r\n      }\r\n\r\n      else {\r\n        great1 = c;\r\n        great2 = b;\r\n        great3 = a;\r\n      }\r\n","title":"Sort four numbers without an array","body":"<p>I have an exercise where I need to put four numbers in ascending order and then descending <strong>without using arrays</strong>. I can only use loops and <em>if</em> statements. I've done it with three numbers, but now with four numbers I am unable to think of the logic.</p>\n<pre><code>  float great1 = 0, great2 = 0, great3 = 0, great4 = 0;\n  int a = 7, b = 5, c = 6, d = 0;\n\n  // Descending\n  if (a &gt; b &amp;&amp; b &gt; c) {\n    great1 = a;\n    great2 = b;\n    great3 = c;\n\n  } else if (a &gt; b &amp;&amp; b &lt; c) {\n    great1 = a;\n    great2 = c;\n    great3 = b;\n\n  } else if (b &gt; a &amp;&amp; a &gt; c) {\n    great1 = b;\n    great2 = a;\n    great3 = c;\n\n  } else if (b &gt; a &amp;&amp; a &lt; c) {\n    great1 = b;\n    great2 = c;\n    great3 = a;\n\n  } else if (c &gt; a &amp;&amp; a &gt; b) {\n    great1 = c;\n    great2 = a;\n    great3 = b;\n  }\n\n  else {\n    great1 = c;\n    great2 = b;\n    great3 = a;\n  }\n</code></pre>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1692608877,"post_id":76943499,"comment_id":135641648,"body_markdown":"You cannot make performance assertions by comparing single invocations. You need to build a real load test case with multiple thousands of invocations and run it multiple times, you&#39;ll see that if the script source changes too often when doing thousand of invocations, you&#39;ll hit some walls. Now if your use case only involves a few update invocations from time to time, it is a non-issue for you and you&#39;ll see no impact.","body":"You cannot make performance assertions by comparing single invocations. You need to build a real load test case with multiple thousands of invocations and run it multiple times, you&#39;ll see that if the script source changes too often when doing thousand of invocations, you&#39;ll hit some walls. Now if your use case only involves a few update invocations from time to time, it is a non-issue for you and you&#39;ll see no impact."}],"owner":{"account_id":29255382,"reputation":13,"user_id":22413718,"display_name":"voi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692657262,"creation_date":1692605857,"question_id":76943499,"body_markdown":"I believe it doesn&#39;t make sense to add script parameters to the _update endpoint.\r\nFirst,if it is for dynamically passing in parameters instead of hard-coded parameters, it does not make sense, because no matter whether it is a java or a rest client, only the json string in the request body needs to be replaced, either in the `script.source` or in the `script.params`. It&#39;s the same wherever you use `script.params` .\r\n\r\n\r\nsuch as this request\r\n\r\n    POST book/_update/1\r\n    {\r\n       &quot;script&quot;: {\r\n         &quot;source&quot;: &quot;ctx._source.isbn=115&quot;\r\n       }\r\n    }\r\n\r\nIf you use the params in the script, it is written like this:\r\n\r\n    POST book/_update/1\r\n    {\r\n       &quot;script&quot;: {\r\n         &quot;source&quot;: &quot;ctx._source.isbn=params.val1&quot;,\r\n         &quot;params&quot;: {\r\n         &quot;val1&quot;:115\r\n         }\r\n       }\r\n    }\r\n\r\nRegardless of the difference between the two ways of writing the api in java, the final essence is to send an http request, even if there are no params in the script, only the way of writing 115 in the first way can be replaced with variables. If we talk about the benefits, it is just that the parameters can be passed as a map, and the api looks clearer:\r\n\r\n         // Define the variable\r\n         int updateValue = 115;\r\n\r\n         // Prepare the script; use &#39;updateValue&#39; as a parameter\r\n         Script script = new Script(ScriptType. INLINE, &quot;painless&quot;, &quot;ctx._source. isbn = params. updateValue&quot;,\r\n                 Collections. singletonMap(&quot;updateValue&quot;, updateValue));\r\n\r\n         //Create the UpdateRequest\r\n         UpdateRequest request = new UpdateRequest(index, id)\r\n                 .script(script)\r\n                 .fetchSource(true)\r\n                 .versionType(VersionType. INTERNAL);\r\n\r\n         // Perform the update request\r\n         UpdateResponse response = client.update(request, RequestOptions.DEFAULT);\r\n\r\nThat is to say, a `Collections.singletonMap(&quot;updateValue&quot;, updateValue)` can be passed here instead of `Script script = new Script(ScriptType.INLINE, &quot;painless&quot;, &quot;ctx._source.isbn = &quot;+updateValue`, does it mean this is this The benefit of script.params? The api is clearer? But the first type cannot be truly hard-coded, because java can replace that 115\r\n\r\nSecondly, in terms of performance, it seems that with script.params, the script is the same every time, and it is only compiled for the first time. If you want to change 115 to 116 or 117 in the future, you don’t need to recompile, but if you If you change 115 to 116 in script.source, there will be another recompilation process.\r\n\r\nSo I tested it and executed the following process for the first time:\r\n\r\n    DELETE book/_doc/1\r\n    PUT book/_doc/1\r\n    {\r\n       &quot;initd&quot;: &quot;d&quot;\r\n    }\r\n    POST book/_update/1\r\n    {\r\n       &quot;script&quot;: {\r\n         &quot;source&quot;: &quot;ctx._source.isbn2=115&quot;\r\n       }\r\n    }\r\n\r\nThe last _update process took 274 ms\r\nThen execute:\r\n\r\n    DELETE book/_doc/1\r\n    PUT book/_doc/1\r\n    {\r\n       &quot;initd&quot;: &quot;d&quot;\r\n    }\r\n    POST book/_update/1\r\n    {\r\n       &quot;script&quot;: {\r\n         &quot;source&quot;: &quot;ctx._source.isbn2=116&quot;\r\n       }\r\n    }\r\n\r\nThe last _update process took 36 ms\r\nThat is to say, the first time is slow, and the second time is fast, even if the source changes\r\n\r\nThen test the script.params way:\r\n\r\n    DELETE book/_doc/1\r\n    PUT book/_doc/1\r\n    {\r\n       &quot;initd&quot;: &quot;d&quot;\r\n    }\r\n    POST book/_update/1\r\n    {\r\n       &quot;script&quot;: {\r\n         &quot;source&quot;: &quot;ctx._source.isbn=params.val1&quot;,\r\n         &quot;params&quot;: {\r\n         &quot;val1&quot;:120\r\n         }\r\n       }\r\n    }\r\n\r\n_update takes 82ms, and then test the modified value:\r\n\r\n    DELETE book/_doc/1\r\n    PUT book/_doc/1\r\n    {\r\n       &quot;initd&quot;: &quot;d&quot;\r\n    }\r\n    POST book/_update/1\r\n    {\r\n       &quot;script&quot;: {\r\n         &quot;source&quot;: &quot;ctx._source.isbn=params.val1&quot;,\r\n         &quot;params&quot;: {\r\n         &quot;val1&quot;:121\r\n         }\r\n       }\r\n    }\r\n\r\n_update takes 17ms\r\n\r\nThe second time is also faster. It is said that even if script.params is not used, the second request will be faster and will not cause recompilation problems. That is to say, the method of script.params will not improve performance?\r\nSo what&#39;s the point of using script.params?","title":"What is the use of the script params of the _update endpoint in elasticsearch？Can performance be improved?","body":"<p>I believe it doesn't make sense to add script parameters to the _update endpoint.\nFirst,if it is for dynamically passing in parameters instead of hard-coded parameters, it does not make sense, because no matter whether it is a java or a rest client, only the json string in the request body needs to be replaced, either in the <code>script.source</code> or in the <code>script.params</code>. It's the same wherever you use <code>script.params</code> .</p>\n<p>such as this request</p>\n<pre><code>POST book/_update/1\n{\n   &quot;script&quot;: {\n     &quot;source&quot;: &quot;ctx._source.isbn=115&quot;\n   }\n}\n</code></pre>\n<p>If you use the params in the script, it is written like this:</p>\n<pre><code>POST book/_update/1\n{\n   &quot;script&quot;: {\n     &quot;source&quot;: &quot;ctx._source.isbn=params.val1&quot;,\n     &quot;params&quot;: {\n     &quot;val1&quot;:115\n     }\n   }\n}\n</code></pre>\n<p>Regardless of the difference between the two ways of writing the api in java, the final essence is to send an http request, even if there are no params in the script, only the way of writing 115 in the first way can be replaced with variables. If we talk about the benefits, it is just that the parameters can be passed as a map, and the api looks clearer:</p>\n<pre><code>     // Define the variable\n     int updateValue = 115;\n\n     // Prepare the script; use 'updateValue' as a parameter\n     Script script = new Script(ScriptType. INLINE, &quot;painless&quot;, &quot;ctx._source. isbn = params. updateValue&quot;,\n             Collections. singletonMap(&quot;updateValue&quot;, updateValue));\n\n     //Create the UpdateRequest\n     UpdateRequest request = new UpdateRequest(index, id)\n             .script(script)\n             .fetchSource(true)\n             .versionType(VersionType. INTERNAL);\n\n     // Perform the update request\n     UpdateResponse response = client.update(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>That is to say, a <code>Collections.singletonMap(&quot;updateValue&quot;, updateValue)</code> can be passed here instead of <code>Script script = new Script(ScriptType.INLINE, &quot;painless&quot;, &quot;ctx._source.isbn = &quot;+updateValue</code>, does it mean this is this The benefit of script.params? The api is clearer? But the first type cannot be truly hard-coded, because java can replace that 115</p>\n<p>Secondly, in terms of performance, it seems that with script.params, the script is the same every time, and it is only compiled for the first time. If you want to change 115 to 116 or 117 in the future, you don’t need to recompile, but if you If you change 115 to 116 in script.source, there will be another recompilation process.</p>\n<p>So I tested it and executed the following process for the first time:</p>\n<pre><code>DELETE book/_doc/1\nPUT book/_doc/1\n{\n   &quot;initd&quot;: &quot;d&quot;\n}\nPOST book/_update/1\n{\n   &quot;script&quot;: {\n     &quot;source&quot;: &quot;ctx._source.isbn2=115&quot;\n   }\n}\n</code></pre>\n<p>The last _update process took 274 ms\nThen execute:</p>\n<pre><code>DELETE book/_doc/1\nPUT book/_doc/1\n{\n   &quot;initd&quot;: &quot;d&quot;\n}\nPOST book/_update/1\n{\n   &quot;script&quot;: {\n     &quot;source&quot;: &quot;ctx._source.isbn2=116&quot;\n   }\n}\n</code></pre>\n<p>The last _update process took 36 ms\nThat is to say, the first time is slow, and the second time is fast, even if the source changes</p>\n<p>Then test the script.params way:</p>\n<pre><code>DELETE book/_doc/1\nPUT book/_doc/1\n{\n   &quot;initd&quot;: &quot;d&quot;\n}\nPOST book/_update/1\n{\n   &quot;script&quot;: {\n     &quot;source&quot;: &quot;ctx._source.isbn=params.val1&quot;,\n     &quot;params&quot;: {\n     &quot;val1&quot;:120\n     }\n   }\n}\n</code></pre>\n<p>_update takes 82ms, and then test the modified value:</p>\n<pre><code>DELETE book/_doc/1\nPUT book/_doc/1\n{\n   &quot;initd&quot;: &quot;d&quot;\n}\nPOST book/_update/1\n{\n   &quot;script&quot;: {\n     &quot;source&quot;: &quot;ctx._source.isbn=params.val1&quot;,\n     &quot;params&quot;: {\n     &quot;val1&quot;:121\n     }\n   }\n}\n</code></pre>\n<p>_update takes 17ms</p>\n<p>The second time is also faster. It is said that even if script.params is not used, the second request will be faster and will not cause recompilation problems. That is to say, the method of script.params will not improve performance?\nSo what's the point of using script.params?</p>\n"},{"tags":["java","compiler-errors","classpath","compiler-warnings","javac"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1692385804,"post_id":76931966,"comment_id":135620884,"body_markdown":"I do not understand the problem. If the program works in both cases, this is indicative that the external `.jar` is not used. Java cannot possibly know that you intend to use that `.jar` in the future. If you actually *use* the `.jar` and it is not present, then you will get a compilation- or runtime error, depending on how you use the external `.jar`.","body":"I do not understand the problem. If the program works in both cases, this is indicative that the external <code>.jar</code> is not used. Java cannot possibly know that you intend to use that <code>.jar</code> in the future. If you actually <i>use</i> the <code>.jar</code> and it is not present, then you will get a compilation- or runtime error, depending on how you use the external <code>.jar</code>."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692386419,"post_id":76931966,"comment_id":135620969,"body_markdown":"@Turing85 I have added an edit that includes some more context.","body":"@Turing85 I have added an edit that includes some more context."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1692386877,"post_id":76931966,"comment_id":135621041,"body_markdown":"I recommend using a build tool like [`gradle` (`gradle.org`)](https://gradle.org/) or [`maven` (`maven.apache.org`)](https://maven.apache.org/) to manage your dependencies. You may want to look at subprojects / multi-module builds.","body":"I recommend using a build tool like <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\"><code>gradle</code> (<code>gradle.org</code>)</a> or <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\"><code>maven</code> (<code>maven.apache.org</code>)</a> to manage your dependencies. You may want to look at subprojects / multi-module builds."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692387390,"post_id":76931966,"comment_id":135621148,"body_markdown":"@Turing85 That would just end up with me routing my dependencies through Maven/Gradle to Java vs just straight to Java. I am very familiar with Maven, but at the moment, it would add a lot more complexity/brittleness to my problem with little of the benefit. If there is no other way to achieve what I am asking for, then I am willing to consider that as an answer to my question. But it certainly is not a good fit for my problem at all.","body":"@Turing85 That would just end up with me routing my dependencies through Maven/Gradle to Java vs just straight to Java. I am very familiar with Maven, but at the moment, it would add a lot more complexity/brittleness to my problem with little of the benefit. If there is no other way to achieve what I am asking for, then I am willing to consider that as an answer to my question. But it certainly is not a good fit for my problem at all."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1692397643,"post_id":76931966,"comment_id":135622558,"body_markdown":"Is adding code to your program that checks the classpath entries explicitly a suitable option for you?","body":"Is adding code to your program that checks the classpath entries explicitly a suitable option for you?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692402365,"post_id":76931966,"comment_id":135622924,"body_markdown":"@TimMoore Better than a build tool! edit - well, maybe, I don&#39;t know exactly what you have in mind","body":"@TimMoore Better than a build tool! edit - well, maybe, I don&#39;t know exactly what you have in mind"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":2,"creation_date":1692568490,"post_id":76931966,"comment_id":135637457,"body_markdown":"Please, consider review [this article](https://www.javaspecialists.eu/archive/Issue037-Checking-That-Your-Classpath-Is-Valid.html) from the Java Specialists blog, it is quite dated but I hope it may be of help.","body":"Please, consider review <a href=\"https://www.javaspecialists.eu/archive/Issue037-Checking-That-Your-Classpath-Is-Valid.html\" rel=\"nofollow noreferrer\">this article</a> from the Java Specialists blog, it is quite dated but I hope it may be of help."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692584500,"post_id":76931966,"comment_id":135638593,"body_markdown":"@jccampanero WOW, this is almost exactly what I was looking for. Put that into an answer and I will award the bounty to you. What a smart idea. Java is such a flexible language.","body":"@jccampanero WOW, this is almost exactly what I was looking for. Put that into an answer and I will award the bounty to you. What a smart idea. Java is such a flexible language."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1692622185,"post_id":76931966,"comment_id":135644354,"body_markdown":"Thank you very much @davidalayachew, I really appreciate it, although all the credit goes to the [Java Specialist blog](https://www.javaspecialists.eu/) people. I am happy to hear that the comment was helpful.","body":"Thank you very much @davidalayachew, I really appreciate it, although all the credit goes to the <a href=\"https://www.javaspecialists.eu/\" rel=\"nofollow noreferrer\">Java Specialist blog</a> people. I am happy to hear that the comment was helpful."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692655726,"creation_date":1692622104,"answer_id":76945434,"question_id":76931966,"body_markdown":"As indicated in the question comment, sometime ago I came across [a Java Specialists blog](https://www.javaspecialists.eu/) [article](https://www.javaspecialists.eu/archive/Issue037-Checking-That-Your-Classpath-Is-Valid.html) that could still be of help.\r\n\r\nBasically, it defines a helper class `ClassPathInfo` like the following one:\r\n\r\n```java\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class ClassPathInfo {\r\n  private final ClassLoader classLoader;\r\n\r\n  public ClassPathInfo(ClassLoader classLoader) {\r\n    this.classLoader = classLoader;\r\n  }\r\n\r\n  public ClassPathInfo() {\r\n    this(ClassLoader.getSystemClassLoader());\r\n  }\r\n\r\n  /**\r\n   * validates classpath, throws an LinkageError if invalid\r\n   * classpath was specified\r\n   */\r\n  public void validateClassPath() {\r\n    try {\r\n      URL[] urls = ((URLClassLoader)classLoader).getURLs();\r\n      for(int i=0; i&lt;urls.length; i++) {\r\n        try {\r\n          urls[i].openStream();\r\n        } catch(IllegalArgumentException iae) {\r\n          throw new LinkageError(\r\n            &quot;malformed class path url:\\n &quot;+urls[i]);\r\n        } catch(IOException ioe) {\r\n          throw new LinkageError(\r\n            &quot;invalid class path url:\\n &quot;+urls[i]);\r\n        }\r\n      }\r\n    } catch(ClassCastException e) {\r\n      throw new IllegalArgumentException(\r\n        &quot;The current VM&#39;s System classloader is not a &quot;\r\n        + &quot;subclass of java.net.URLClassLoader&quot;);\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    ClassPathInfo info = new ClassPathInfo();\r\n    info.validateClassPath();\r\n  }\r\n}\r\n```\r\n\r\nThis class uses the system class loader, which turns out to be an instance of `URLClassLoader`, to check the existence of every entry found in the class path.\r\n\r\nThe blog includes a helper script for simplifying the invocation of `ClassPathInfo` named `checkcp.bat`:\r\n\r\n```\r\n@echo off \r\nrem Set STRICTHOME to the directory you&#39;re deploying this file to.\r\nset STRICTHOME=C:\\strictjava\r\n\r\nif &quot;&quot;==&quot;%3&quot; (\r\n  set STRICTCP=&quot;%CLASSPATH%;%STRICTHOME%&quot;\r\n) else (\r\n  if -classpath==%1 (\r\n    set STRICTCP=&quot;%2;%STRICTHOME%&quot;\r\n  )else (\r\n    echo If more than three parameters are specified,\r\n    echo the first has to be -classpath.\r\n    set ERRORLEVEL=1\r\n    goto end\r\n  )\r\n)\r\n\r\njava -classpath %STRICTCP% ClassPathInfo\r\nset STRICTHOME=\r\nset STRICTCP=\r\n\r\n:end\r\n```\r\n\r\nThis script basically tries to set the value of the `STRICTCP` variable by analyzing the arguments provided to the `bat` script file. This variable will be the one actually used for checking the classpath when invoking `ClassPathInfo`.\r\n\r\nThe article include a couple of helper scripts for both `javac`:\r\n\r\n```\r\n@echo off\r\ncall checkcp %1 %2 %3\r\nif not %errorlevel%==0 goto END\r\njavac %1 %2 %3 %4 %5 %6 %7 %8 %9\r\n:END\r\n```\r\n\r\nand `java` commands invocations:\r\n\r\n```\r\n@echo off\r\ncall checkcp %1 %2 %3\r\nif not %errorlevel%==0 goto END\r\njava %1 %2 %3 %4 %5 %6 %7 %8 %9\r\n:END\r\n```\r\n\r\nTo understand `checkcp.bat` let&#39;s review the example provided in the site, based on the invocation of `strictjava`:\r\n\r\n```\r\nstrictjava -classpath &quot;c:\\sub\\jar1.jar;c:\\sub2\\jar2.jar&quot; MyClass\r\n```\r\n\r\nAs indicated in the helper `bat` files:\r\n\r\n```\r\ncall checkcp %1 %2 %3\r\n```\r\n\r\nwe are passing here three arguments to `checkcp`, in order:\r\n\r\n```\r\n%1=-classpath\r\n%2=c:\\sub\\jar1.jar;c:\\sub2\\jar2.jar\r\n%3=MyClass\r\n```\r\n\r\nIt means that, according to this instruction in `checkcp.bat`:\r\n\r\n```\r\nset STRICTCP=&quot;%2;%STRICTHOME%&quot;\r\n```\r\n\r\nthe effective class path that will be checked is the following one:\r\n\r\n```\r\nSTRICTCP=&quot;c:\\sub\\jar1.jar;c:\\sub2\\jar2.jar;C:\\strictjava&quot;\r\n```\r\n\r\nIf in contrast, you use something like this:\r\n\r\n```\r\nstrictjava MyClass\r\n```\r\n\r\n`checkcp` will try to analyze the environment variable `CLASSPATH` for checking the class path, as indicated in this code fragment:\r\n\r\n```\r\nif &quot;&quot;==&quot;%3&quot; (\r\n  set STRICTCP=&quot;%CLASSPATH%;%STRICTHOME%&quot;\r\n)\r\n```\r\n\r\nNote that according to the script the `-classpath` flag should be the first one provided.\r\n\r\nPlease, take the script only as a reference of the actual implementation, adapt it to your specific needs.","title":"How to trigger an error/warning immediately upon compile/run if an item on my class-path is missing","body":"<p>As indicated in the question comment, sometime ago I came across <a href=\"https://www.javaspecialists.eu/\" rel=\"nofollow noreferrer\">a Java Specialists blog</a> <a href=\"https://www.javaspecialists.eu/archive/Issue037-Checking-That-Your-Classpath-Is-Valid.html\" rel=\"nofollow noreferrer\">article</a> that could still be of help.</p>\n<p>Basically, it defines a helper class <code>ClassPathInfo</code> like the following one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.*;\nimport java.io.*;\n\npublic class ClassPathInfo {\n  private final ClassLoader classLoader;\n\n  public ClassPathInfo(ClassLoader classLoader) {\n    this.classLoader = classLoader;\n  }\n\n  public ClassPathInfo() {\n    this(ClassLoader.getSystemClassLoader());\n  }\n\n  /**\n   * validates classpath, throws an LinkageError if invalid\n   * classpath was specified\n   */\n  public void validateClassPath() {\n    try {\n      URL[] urls = ((URLClassLoader)classLoader).getURLs();\n      for(int i=0; i&lt;urls.length; i++) {\n        try {\n          urls[i].openStream();\n        } catch(IllegalArgumentException iae) {\n          throw new LinkageError(\n            &quot;malformed class path url:\\n &quot;+urls[i]);\n        } catch(IOException ioe) {\n          throw new LinkageError(\n            &quot;invalid class path url:\\n &quot;+urls[i]);\n        }\n      }\n    } catch(ClassCastException e) {\n      throw new IllegalArgumentException(\n        &quot;The current VM's System classloader is not a &quot;\n        + &quot;subclass of java.net.URLClassLoader&quot;);\n    }\n  }\n\n  public static void main(String[] args) {\n    ClassPathInfo info = new ClassPathInfo();\n    info.validateClassPath();\n  }\n}\n</code></pre>\n<p>This class uses the system class loader, which turns out to be an instance of <code>URLClassLoader</code>, to check the existence of every entry found in the class path.</p>\n<p>The blog includes a helper script for simplifying the invocation of <code>ClassPathInfo</code> named <code>checkcp.bat</code>:</p>\n<pre><code>@echo off \nrem Set STRICTHOME to the directory you're deploying this file to.\nset STRICTHOME=C:\\strictjava\n\nif &quot;&quot;==&quot;%3&quot; (\n  set STRICTCP=&quot;%CLASSPATH%;%STRICTHOME%&quot;\n) else (\n  if -classpath==%1 (\n    set STRICTCP=&quot;%2;%STRICTHOME%&quot;\n  )else (\n    echo If more than three parameters are specified,\n    echo the first has to be -classpath.\n    set ERRORLEVEL=1\n    goto end\n  )\n)\n\njava -classpath %STRICTCP% ClassPathInfo\nset STRICTHOME=\nset STRICTCP=\n\n:end\n</code></pre>\n<p>This script basically tries to set the value of the <code>STRICTCP</code> variable by analyzing the arguments provided to the <code>bat</code> script file. This variable will be the one actually used for checking the classpath when invoking <code>ClassPathInfo</code>.</p>\n<p>The article include a couple of helper scripts for both <code>javac</code>:</p>\n<pre><code>@echo off\ncall checkcp %1 %2 %3\nif not %errorlevel%==0 goto END\njavac %1 %2 %3 %4 %5 %6 %7 %8 %9\n:END\n</code></pre>\n<p>and <code>java</code> commands invocations:</p>\n<pre><code>@echo off\ncall checkcp %1 %2 %3\nif not %errorlevel%==0 goto END\njava %1 %2 %3 %4 %5 %6 %7 %8 %9\n:END\n</code></pre>\n<p>To understand <code>checkcp.bat</code> let's review the example provided in the site, based on the invocation of <code>strictjava</code>:</p>\n<pre><code>strictjava -classpath &quot;c:\\sub\\jar1.jar;c:\\sub2\\jar2.jar&quot; MyClass\n</code></pre>\n<p>As indicated in the helper <code>bat</code> files:</p>\n<pre><code>call checkcp %1 %2 %3\n</code></pre>\n<p>we are passing here three arguments to <code>checkcp</code>, in order:</p>\n<pre><code>%1=-classpath\n%2=c:\\sub\\jar1.jar;c:\\sub2\\jar2.jar\n%3=MyClass\n</code></pre>\n<p>It means that, according to this instruction in <code>checkcp.bat</code>:</p>\n<pre><code>set STRICTCP=&quot;%2;%STRICTHOME%&quot;\n</code></pre>\n<p>the effective class path that will be checked is the following one:</p>\n<pre><code>STRICTCP=&quot;c:\\sub\\jar1.jar;c:\\sub2\\jar2.jar;C:\\strictjava&quot;\n</code></pre>\n<p>If in contrast, you use something like this:</p>\n<pre><code>strictjava MyClass\n</code></pre>\n<p><code>checkcp</code> will try to analyze the environment variable <code>CLASSPATH</code> for checking the class path, as indicated in this code fragment:</p>\n<pre><code>if &quot;&quot;==&quot;%3&quot; (\n  set STRICTCP=&quot;%CLASSPATH%;%STRICTHOME%&quot;\n)\n</code></pre>\n<p>Note that according to the script the <code>-classpath</code> flag should be the first one provided.</p>\n<p>Please, take the script only as a reference of the actual implementation, adapt it to your specific needs.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76945434,"answer_count":1,"score":2,"last_activity_date":1692656569,"creation_date":1692385060,"question_id":76931966,"body_markdown":"I have a very simple source file -- `HelloWorld.java`\r\n\r\n```java\r\npublic class HelloWorld\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(&quot;hello world&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI have the following compile command.\r\n\r\n`javac HelloWorld.java`\r\n\r\nIf I run it, this works fine.\r\n\r\nI have the following run command.\r\n\r\n`java HelloWorld`\r\n\r\nIf I run it, this works fine too.\r\n\r\n---\r\n\r\nNow, I also have a single jar file (`some.jar`) as a dependency. I am not using it yet, but I will be, and therefore, want to start putting it onto my class-path.\r\n\r\nSo, I tried to run the above 2 commands with a `--class-path` included this time.\r\n\r\n`javac --class-path=&quot;.;some.jar&quot; HelloWorld.java`\r\n\r\n`java --class-path=&quot;.;some.jar&quot; HelloWorld`\r\n\r\nThis also worked.\r\n\r\nFinally, I accidentally deleted my `some.jar`, and reran the above 2 commands.\r\n\r\nSurprisingly enough, there were no errors or warnings from Java.\r\n\r\nMy question is -- how do I get Java to tell me that it cannot find the item I have listed on my classpath? I don&#39;t really care if the warning is upon compile or upon run, but I would like to know I made a mistake some point before my program actually tries to use the dependency (and fail because Java couldn&#39;t find it this entire time).\r\n\r\nBasically, I want some form of confirmation or reaffirmation that Java knows where my specified items on the class-path are, and can reach them.\r\n\r\n***Please recall, this is a minimal, reproducible example. My actual problem involves WAY more moving pieces. I&#39;m using this (admittedly contrived) example as a way to highlight my point.***\r\n\r\n===\r\n\r\n**EDIT** - To better explain why this is a problem, let&#39;s leave the minimal example and talk about my actual problem. I am in the middle of overhauling my codebase. I am trying to update dependencies, refactor code, reorganize my folder structure, and more. In the midst of this, I run into a ClassNotFoundException. The first time, it was because I had an out-of-date version of my dependency. But the second time, it was because I had put the jar file in the wrong location, and more specifically, the location that I had put on the class-path was pointing at a non-existent jar file location.\r\n\r\nI want to nip this problem in the bud by having Java tell me upfront if the class-path location I am providing it is pointing to nothing at all. Not being able to do that hurts the maintainability of my codebase significantly during large refactors and overhauls.\r\n\r\n**EDIT 2** - If there is no other option besides using a build tool (Maven/Gradle/etc), then I am willing to consider that. But I want to emphasize, that is a worst-case scenario solution. My project is suffering from enough complexity as is, and the last thing I want to do is uproot by build solution from the ground up.\r\n\r\nMy goal is to make small, incremental changes all over my code base. All together, it adds up to a complete overhaul, but it&#39;s made up of a bunch of tiny, bite-sized steps. Layering on an entire build system to my codebase is the exact opposite of small and bite-sized. My original build solution works great, it just ran into this problem while refactoring.","title":"How to trigger an error/warning immediately upon compile/run if an item on my class-path is missing","body":"<p>I have a very simple source file -- <code>HelloWorld.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld\n{\n    public static void main(String[] args)\n    {\n        System.out.println(&quot;hello world&quot;);\n    }\n}\n</code></pre>\n<p>I have the following compile command.</p>\n<p><code>javac HelloWorld.java</code></p>\n<p>If I run it, this works fine.</p>\n<p>I have the following run command.</p>\n<p><code>java HelloWorld</code></p>\n<p>If I run it, this works fine too.</p>\n<hr />\n<p>Now, I also have a single jar file (<code>some.jar</code>) as a dependency. I am not using it yet, but I will be, and therefore, want to start putting it onto my class-path.</p>\n<p>So, I tried to run the above 2 commands with a <code>--class-path</code> included this time.</p>\n<p><code>javac --class-path=&quot;.;some.jar&quot; HelloWorld.java</code></p>\n<p><code>java --class-path=&quot;.;some.jar&quot; HelloWorld</code></p>\n<p>This also worked.</p>\n<p>Finally, I accidentally deleted my <code>some.jar</code>, and reran the above 2 commands.</p>\n<p>Surprisingly enough, there were no errors or warnings from Java.</p>\n<p>My question is -- how do I get Java to tell me that it cannot find the item I have listed on my classpath? I don't really care if the warning is upon compile or upon run, but I would like to know I made a mistake some point before my program actually tries to use the dependency (and fail because Java couldn't find it this entire time).</p>\n<p>Basically, I want some form of confirmation or reaffirmation that Java knows where my specified items on the class-path are, and can reach them.</p>\n<p><em><strong>Please recall, this is a minimal, reproducible example. My actual problem involves WAY more moving pieces. I'm using this (admittedly contrived) example as a way to highlight my point.</strong></em></p>\n<p>===</p>\n<p><strong>EDIT</strong> - To better explain why this is a problem, let's leave the minimal example and talk about my actual problem. I am in the middle of overhauling my codebase. I am trying to update dependencies, refactor code, reorganize my folder structure, and more. In the midst of this, I run into a ClassNotFoundException. The first time, it was because I had an out-of-date version of my dependency. But the second time, it was because I had put the jar file in the wrong location, and more specifically, the location that I had put on the class-path was pointing at a non-existent jar file location.</p>\n<p>I want to nip this problem in the bud by having Java tell me upfront if the class-path location I am providing it is pointing to nothing at all. Not being able to do that hurts the maintainability of my codebase significantly during large refactors and overhauls.</p>\n<p><strong>EDIT 2</strong> - If there is no other option besides using a build tool (Maven/Gradle/etc), then I am willing to consider that. But I want to emphasize, that is a worst-case scenario solution. My project is suffering from enough complexity as is, and the last thing I want to do is uproot by build solution from the ground up.</p>\n<p>My goal is to make small, incremental changes all over my code base. All together, it adds up to a complete overhaul, but it's made up of a bunch of tiny, bite-sized steps. Layering on an entire build system to my codebase is the exact opposite of small and bite-sized. My original build solution works great, it just ran into this problem while refactoring.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1692543948,"post_id":76939584,"comment_id":135634916,"body_markdown":"*`but Is there any way without using for`*  Yes.  But you rejected it as too difficult.","body":"<i><code>but Is there any way without using for</code></i>  Yes.  But you rejected it as too difficult."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692538237,"creation_date":1692538237,"answer_id":76939614,"question_id":76939584,"body_markdown":"First, please declare and initialize your variables at the same time (when possible). As to your question, you need to *iterate* the array and check if any of the values match. You can do so by iterating explicitly, or by streaming it and testing if any of the entries match `b`. Like,\r\n\r\n\tString[] a = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\r\n\tScanner sc = new Scanner(System.in);\r\n\tString b = sc.nextLine();\r\n\tif (Arrays.stream(a).anyMatch(b::equals)) {\r\n\t\tSystem.out.println(&quot;You are welcome&quot;);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;You can&#39;t access&quot;);\r\n\t}\r\n\r\nOr iterating explicitly, like\r\n\r\n\tString[] a = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\r\n\tScanner sc = new Scanner(System.in);\r\n\tString b = sc.nextLine();\r\n\tboolean found = false;\r\n\tfor (String s : a) {\r\n\t\tif (s.equals(b)) {\r\n\t\t\tfound = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tif (found) {\r\n\t\tSystem.out.println(&quot;You are welcome&quot;);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;You can&#39;t access&quot;);\r\n\t}\r\n\r\n","title":"How to use many arrays object in if-else statements","body":"<p>First, please declare and initialize your variables at the same time (when possible). As to your question, you need to <em>iterate</em> the array and check if any of the values match. You can do so by iterating explicitly, or by streaming it and testing if any of the entries match <code>b</code>. Like,</p>\n<pre><code>String[] a = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\nScanner sc = new Scanner(System.in);\nString b = sc.nextLine();\nif (Arrays.stream(a).anyMatch(b::equals)) {\n    System.out.println(&quot;You are welcome&quot;);\n} else {\n    System.out.println(&quot;You can't access&quot;);\n}\n</code></pre>\n<p>Or iterating explicitly, like</p>\n<pre><code>String[] a = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\nScanner sc = new Scanner(System.in);\nString b = sc.nextLine();\nboolean found = false;\nfor (String s : a) {\n    if (s.equals(b)) {\n        found = true;\n        break;\n    }\n}\nif (found) {\n    System.out.println(&quot;You are welcome&quot;);\n} else {\n    System.out.println(&quot;You can't access&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692538262,"creation_date":1692538262,"answer_id":76939615,"question_id":76939584,"body_markdown":"You have to put all names into `Set` as lowercase (in case you want to support case insensitivity).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Set&lt;String&gt; names = Set.of(&quot;johns&quot;, &quot;sahilt&quot;, &quot;bectorsingh&quot;);\r\n    \r\n    Scanner scan = new Scanner(System.in);\r\n    String name = scan.nextLine();\r\n\r\n    if (names.contains(name.toLowerCase()))\r\n        System.out.println(&quot;You are welcome&quot;);\r\n    else\r\n        System.out.println(&quot;You can&#39;t access&quot;);\r\n}\r\n```\r\n\r\nIn case you have to use arrays, you have to manually scann all elements in the array and check it.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] names = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    String name = scan.nextLine();\r\n\r\n    if (isExist(name, names))\r\n        System.out.println(&quot;You are welcome&quot;);\r\n    else\r\n        System.out.println(&quot;You can&#39;t access&quot;);\r\n}\r\n\r\nprivate static boolean isExist(String name, String[] names) {\r\n    for(String n : names)\r\n        if(n.equalsIgnoreCase(name))\r\n            return true;\r\n    return false; \r\n}\r\n```","title":"How to use many arrays object in if-else statements","body":"<p>You have to put all names into <code>Set</code> as lowercase (in case you want to support case insensitivity).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Set&lt;String&gt; names = Set.of(&quot;johns&quot;, &quot;sahilt&quot;, &quot;bectorsingh&quot;);\n    \n    Scanner scan = new Scanner(System.in);\n    String name = scan.nextLine();\n\n    if (names.contains(name.toLowerCase()))\n        System.out.println(&quot;You are welcome&quot;);\n    else\n        System.out.println(&quot;You can't access&quot;);\n}\n</code></pre>\n<p>In case you have to use arrays, you have to manually scann all elements in the array and check it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] names = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\n\n    Scanner scan = new Scanner(System.in);\n    String name = scan.nextLine();\n\n    if (isExist(name, names))\n        System.out.println(&quot;You are welcome&quot;);\n    else\n        System.out.println(&quot;You can't access&quot;);\n}\n\nprivate static boolean isExist(String name, String[] names) {\n    for(String n : names)\n        if(n.equalsIgnoreCase(name))\n            return true;\n    return false; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27028627,"reputation":3,"user_id":20585429,"display_name":"Bukrek35TR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692540311,"creation_date":1692538749,"answer_id":76939649,"question_id":76939584,"body_markdown":"you can solve it with simple method using foreach\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] a = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\r\n\t\tString b;\r\n\t\tScanner sc;\r\n\t\tboolean isCheck = false;\r\n\r\n\t\tsc = new Scanner(System.in);\r\n\r\n\t\tb = sc.nextLine();\r\n\t\t\r\n\t\tsc.close();\r\n\r\n\t\tfor (String item : a) {\r\n\t\t\tif (b.equals(item)) {\r\n\t\t\t    isCheck = true;\r\n\t\t\t\tSystem.out.println(&quot;You are welcome&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tif (!isCheck) {\r\n\t\t    System.out.println(&quot;You can&#39;t access&quot;);\r\n\t\t}\r\n\t}\r\n```","title":"How to use many arrays object in if-else statements","body":"<p>you can solve it with simple method using foreach</p>\n<pre><code>    public static void main(String[] args) {\n        String[] a = { &quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot; };\n        String b;\n        Scanner sc;\n        boolean isCheck = false;\n\n        sc = new Scanner(System.in);\n\n        b = sc.nextLine();\n        \n        sc.close();\n\n        for (String item : a) {\n            if (b.equals(item)) {\n                isCheck = true;\n                System.out.println(&quot;You are welcome&quot;);\n                break;\n            } \n        }\n\n        if (!isCheck) {\n            System.out.println(&quot;You can't access&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692539824,"creation_date":1692539824,"answer_id":76939730,"question_id":76939584,"body_markdown":"As you are trying to check the given user input is having access or not, try to do this with the below approach(s):\r\n\r\n**Approach 1:**\r\n\r\n***Logic:*** \r\n\r\nHere you can use simple `for` loop to iterate over the array and find the given input is present in the array or not and once it is matched, exit from the loop using `break` statement.\r\n\r\n***Code:***\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String[] a = {&quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot;};\r\n            Scanner sc = new Scanner(System.in);\r\n            String b = sc.nextLine();\r\n            for (String s : a) {\r\n                if (s.equals(b)) {\r\n                    System.out.println(&quot;You are welcome&quot;);\r\n                } else {\r\n                    System.out.println(&quot;You can&#39;t access&quot;);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n**Approach 2:**\r\n\r\n***Logic:***\r\n\r\nHere you can store the users in a `List` and check whether the input is present in the list or not using `.contains()` function in the list.\r\n\r\n***Code:***\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; listOfUsers = Arrays.asList(&quot;JohnS&quot;, \r\n                                          &quot;SahilT&quot;, &quot;VectorSingh&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            String b = sc.nextLine();\r\n            if(listOfUsers.contains(b)){\r\n                System.out.println(&quot;You are welcome&quot;);\r\n            } else {\r\n                System.out.println(&quot;You can&#39;t access&quot;);\r\n            }\r\n        }\r\n    }","title":"How to use many arrays object in if-else statements","body":"<p>As you are trying to check the given user input is having access or not, try to do this with the below approach(s):</p>\n<p><strong>Approach 1:</strong></p>\n<p><em><strong>Logic:</strong></em></p>\n<p>Here you can use simple <code>for</code> loop to iterate over the array and find the given input is present in the array or not and once it is matched, exit from the loop using <code>break</code> statement.</p>\n<p><em><strong>Code:</strong></em></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String[] a = {&quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot;};\n        Scanner sc = new Scanner(System.in);\n        String b = sc.nextLine();\n        for (String s : a) {\n            if (s.equals(b)) {\n                System.out.println(&quot;You are welcome&quot;);\n            } else {\n                System.out.println(&quot;You can't access&quot;);\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n<p><strong>Approach 2:</strong></p>\n<p><em><strong>Logic:</strong></em></p>\n<p>Here you can store the users in a <code>List</code> and check whether the input is present in the list or not using <code>.contains()</code> function in the list.</p>\n<p><em><strong>Code:</strong></em></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        List&lt;String&gt; listOfUsers = Arrays.asList(&quot;JohnS&quot;, \n                                      &quot;SahilT&quot;, &quot;VectorSingh&quot;);\n        Scanner sc = new Scanner(System.in);\n        String b = sc.nextLine();\n        if(listOfUsers.contains(b)){\n            System.out.println(&quot;You are welcome&quot;);\n        } else {\n            System.out.println(&quot;You can't access&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692656014,"creation_date":1692656014,"answer_id":76948998,"question_id":76939584,"body_markdown":"&gt; _&quot;... using if else statement to determine whether the Username is true or not. So how can I write code in if ( ). ...&quot;_\r\n\r\nYou can convert _a_ to a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ and utilize the _[contains](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#contains(java.lang.Object))_ method.\r\n\r\n```java\r\nif (List.of(a).contains(b))\r\n```\r\n\r\nIf you need a case-insensitive match, you can stream the array, and utilize the _[anyMatch](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate))_ method to evaluate an _[equalsIgnoreCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String))_ on _b_.\r\n\r\n```java\r\nif (Stream.of(a).anyMatch(b::equalsIgnoreCase))\r\n```","title":"How to use many arrays object in if-else statements","body":"<blockquote>\n<p><em>&quot;... using if else statement to determine whether the Username is true or not. So how can I write code in if ( ). ...&quot;</em></p>\n</blockquote>\n<p>You can convert <em>a</em> to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> and utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">contains</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (List.of(a).contains(b))\n</code></pre>\n<p>If you need a case-insensitive match, you can stream the array, and utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">anyMatch</a></em> method to evaluate an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">equalsIgnoreCase</a></em> on <em>b</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Stream.of(a).anyMatch(b::equalsIgnoreCase))\n</code></pre>\n"}],"owner":{"account_id":27819510,"reputation":3,"user_id":21240221,"display_name":"Amey Kurade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76939614,"answer_count":5,"score":0,"last_activity_date":1692656014,"creation_date":1692537792,"question_id":76939584,"body_markdown":"It is difficult to explain about my problem, I am writing code below.&lt;br&gt;\r\n&lt;br&gt;\r\nMy program is like Login page with just username. I have stored Usernames as String a (As String Array). With Input as Username, and using if else statement to determine whether the Username is true or not. So how can I write code in if ( ).\r\n\r\nI tried using \r\n```\r\nif(b.equal(a[0])\r\n```\r\n```\r\nif(b.equal(a[1])\r\n```\r\n```\r\nif(b.equal(a[2])\r\n```\r\nHere it only takes 0th object from array, instead I want to include all objects from single array &quot;a&quot; to check in if statement.&lt;br&gt;\r\n\r\nI want \r\n```\r\nif(b.equal(Whole Objects from single array to be used at once))\r\n```\r\n&lt;br&gt;\r\nThe problem is difficult to explain &lt;br&gt;\r\n&lt;br&gt;\r\nHere is the code below\r\n\r\n\r\n    public static void main(String[] args) {\r\n        String[] a = {&quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot;};\r\n        String b;\r\n        Scanner sc;\r\n\r\n        sc = new Scanner(System.in);\r\n\r\n        b = sc.nextLine();\r\n\r\n        if (b.equals(a[0])) {\r\n            System.out.println(&quot;You are welcome&quot;);\r\n        }\r\n        else\r\n            System.out.println(&quot;You can&#39;t access&quot;);\r\n    }}","title":"How to use many arrays object in if-else statements","body":"<p>It is difficult to explain about my problem, I am writing code below.<br>\n<br>\nMy program is like Login page with just username. I have stored Usernames as String a (As String Array). With Input as Username, and using if else statement to determine whether the Username is true or not. So how can I write code in if ( ).</p>\n<p>I tried using</p>\n<pre><code>if(b.equal(a[0])\n</code></pre>\n<pre><code>if(b.equal(a[1])\n</code></pre>\n<pre><code>if(b.equal(a[2])\n</code></pre>\n<p>Here it only takes 0th object from array, instead I want to include all objects from single array &quot;a&quot; to check in if statement.<br></p>\n<p>I want</p>\n<pre><code>if(b.equal(Whole Objects from single array to be used at once))\n</code></pre>\n<br>\nThe problem is difficult to explain <br>\n<br>\nHere is the code below\n<pre><code>public static void main(String[] args) {\n    String[] a = {&quot;JohnS&quot;, &quot;SahilT&quot;, &quot;VectorSingh&quot;};\n    String b;\n    Scanner sc;\n\n    sc = new Scanner(System.in);\n\n    b = sc.nextLine();\n\n    if (b.equals(a[0])) {\n        System.out.println(&quot;You are welcome&quot;);\n    }\n    else\n        System.out.println(&quot;You can't access&quot;);\n}}\n</code></pre>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1692655949,"creation_date":1600894179,"answer_id":64036009,"question_id":64035544,"body_markdown":"Without seeing the code my hunch is you use `rotate()`, but probably you don&#39;t use [`pushMatrix()`][1]/`popMatrix();` to isolate the coordinate space to local one that can be temporarily rotated.\r\n\r\nI recommend reading the [2D Transformations tutorial][2]\r\n\r\n[![transforms 2d tutorial image: a grid translated then rotated][3]][3]\r\n\r\nAs the tutorial mentions, the order of transformations matters:\r\n\r\n    size(300, 300);\r\n    background(0);\r\n    stroke(255);\r\n    // center align text\r\n    textAlign(CENTER);\r\n    // global translation to center\r\n    translate(width / 2, height / 2);\r\n    \r\n    int hours = 12;\r\n    // an angle section (360/12 = 30 degrees), but in radians\r\n    float angleIncrement = TWO_PI / hours;\r\n    // distance from center\r\n    float radius = 100;\r\n    for(int i = 0 ; i &lt; hours; i++){\r\n      // calculate the angle for each hour, subtracting a bit because angle 0 points to the right, not top (12 o&#39;clock)\r\n      // remember this offset: it may come in handy when drawing clock handles ;)\r\n      float angle = (angleIncrement * i) - (QUARTER_PI * 4/3);\r\n      // isolate coordinate space\r\n      pushMatrix();\r\n        // rotate from global center by each hour angle\r\n        rotate(angle);\r\n        // translate from locally rotated center based on radius \r\n        translate(radius, 0);\r\n        // undo local rotation so text is straight\r\n        rotate(-angle);\r\n        // render text\r\n        text(i+1,0,0);\r\n      // exit local coordinate system, back to global coordinates after this\r\n      popMatrix();\r\n    }\r\n\r\nHere is the same example with a helper function to help visualise the coordinate systems:\r\n\r\n    void setup() {\r\n      size(300, 300);\r\n      background(0);\r\n      stroke(255);\r\n      // center align text\r\n      textAlign(CENTER);\r\n      drawCoordinateSystem(&quot;1.original cooordinates&quot;,60, 255);\r\n      // global translation to center\r\n      translate(width / 2, height / 2);\r\n      drawCoordinateSystem(&quot;2.global center&quot;,60, 64);\r\n      \r\n    \r\n      int hours = 12;\r\n      // an angle section (360/12 = 30 degrees), but in radians\r\n      float angleIncrement = TWO_PI / hours;\r\n      // distance from center\r\n      float radius = 100;\r\n      for (int i = 0; i &lt; hours; i++) {\r\n        // calculate the angle for each hour, subtracting a bit because angle 0 points to the right, not top (12 o&#39;clock)\r\n        // remember this offset: it may come in handy when drawing clock handles ;)\r\n        float angle = (angleIncrement * i) - (QUARTER_PI * 4/3);\r\n        // isolate coordinate space\r\n        pushMatrix();\r\n          // rotate from global center by each hour angle\r\n          rotate(angle);\r\n          if(i == 0){\r\n            drawCoordinateSystem(&quot;3.local+rotation&quot;,60, 127);\r\n          }\r\n          // translate from locally rotated center based on radius \r\n          translate(radius, 0);\r\n          if(i == 0){\r\n            drawCoordinateSystem(&quot;4.local+rot.+\\ntrans.&quot;,60, 192);\r\n          }\r\n          // undo local rotation so text is straight\r\n          rotate(-angle);\r\n          if(i == 0){\r\n            drawCoordinateSystem(&quot;\\n5.prev.\\n-rot.&quot;,60, 255);\r\n          }\r\n          // render text\r\n          text(i+1, 0, 0);\r\n        // exit local coordinate system, back to global coordinates after this\r\n        popMatrix();\r\n      }\r\n    }\r\n    \r\n    void drawCoordinateSystem(String label, float size, float alpha){\r\n      pushStyle();\r\n      textAlign(LEFT);\r\n      strokeWeight(3);\r\n      // x axis\r\n      stroke(192, 0, 0, alpha);\r\n      line(0, 0, size, 0);\r\n      // y axis\r\n      stroke(0, 192, 0, alpha);\r\n      line(0, 0, 0, size);\r\n      text(label, 10, 15);\r\n      popStyle();\r\n    }\r\n\r\n[![coordinate systems visualised as red/green orthogonal lines][4]][4]\r\n\r\nNote that the indent is not required for `pushMatrix()`/`popMatrix()`, it&#39;s more of a visual cue to aid when you read code to remember coordinate system nesting.\r\n\r\nThis is over the top and you won&#39;t need the code bellow, but hopefully it&#39;s a fun visualisation:\r\n\r\n    PImage screenshot;\r\n    \r\n    String[] labels = {&quot;1.original cooordinates&quot;,&quot;2.global center\\ntranslate(width / 2, height / 2)&quot;,\r\n                       &quot;3.local+rotation\\npushMatrix();\\nrotate(angle)&quot;,\r\n                       &quot;4.local+rot.+\\ntrans.\\ntranslate(radius, 0)&quot;,&quot;5.previous-rot.\\nrotate(-angle)&quot;,&quot;&quot;};\r\n    PMatrix2D[] systems = new PMatrix2D[labels.length];\r\n    PMatrix2D lerpMatrix = new PMatrix2D();\r\n    \r\n    void setup() {\r\n      size(300, 300);\r\n      background(0);\r\n      stroke(255);\r\n      // center align text\r\n      textAlign(CENTER);\r\n      // &quot;1.original cooordinates&quot;\r\n      systems[0] = new PMatrix2D();\r\n      // global translation to center\r\n      translate(width / 2, height / 2);\r\n      // &quot;2.global center&quot;\r\n      systems[1] = systems[0].get();\r\n      systems[1].translate(width / 2, height / 2);\r\n      \r\n    \r\n      int hours = 12;\r\n      // an angle section (360/12 = 30 degrees), but in radians\r\n      float angleIncrement = TWO_PI / hours;\r\n      // distance from center\r\n      float radius = 100;\r\n      for (int i = 0; i &lt; hours; i++) {\r\n        // calculate the angle for each hour, subtracting a bit because angle 0 points to the right, not top (12 o&#39;clock)\r\n        // remember this offset: it may come in handy when drawing clock handles ;)\r\n        float angle = (angleIncrement * i) - (QUARTER_PI * 4/3);\r\n        // isolate coordinate space\r\n        pushMatrix();\r\n          // rotate from global center by each hour angle\r\n          rotate(angle);\r\n          if(i == 0){\r\n            // &quot;3.local+rotation&quot;\r\n            PMatrix2D local = new PMatrix2D();\r\n            local.apply(systems[1]);\r\n            local.rotate(angle);\r\n            systems[2] = local.get();\r\n          }\r\n          // translate from locally rotated center based on radius \r\n          translate(radius, 0);\r\n          if(i == 0){\r\n            // &quot;4.local+rot.+\\ntrans.&quot;\r\n            systems[3] = systems[2].get();\r\n            systems[3].translate(radius,0);\r\n          }\r\n          // undo local rotation so text is straight\r\n          rotate(-angle);\r\n          if(i == 0){\r\n            // &quot;\\n5.prev.\\n-rot.&quot;\r\n            systems[4] = systems[3].get();\r\n            systems[4].rotate(-angle);\r\n            systems[5] = systems[4];\r\n          }\r\n          // render text\r\n          text(i+1, 0, 0);\r\n        // exit local coordinate system, back to global coordinates after this\r\n        popMatrix();\r\n      }\r\n      screenshot = get();\r\n    }\r\n    \r\n    void draw(){\r\n      image(screenshot,0, 0);\r\n      animateCoordinateSystems();\r\n      text(&quot;mouse mouse on X axis&quot;, width / 2, height - 12);\r\n    }\r\n    \r\n    void animateCoordinateSystems(){\r\n      float mapping = map(constrain(mouseX, 0, width), 0, width, 0.0, 1.0);\r\n      float globalT = (float)(labels.length -1) * mapping;\r\n      int index = (int)globalT;\r\n      float localT = globalT - index;\r\n      lerpMatrix(systems[index], systems[index+1], localT, lerpMatrix);\r\n      pushMatrix();\r\n      applyMatrix(lerpMatrix);\r\n      drawCoordinateSystem(labels[index] + (labels[index+1].length() &gt; 0 ? &quot;\\ntransitions to\\n&quot; + labels[index+1] : &quot;&quot;),60, 255);\r\n      popMatrix();  \r\n    }\r\n    \r\n    void lerpMatrix(PMatrix2D from, PMatrix2D to, float t, PMatrix2D result){\r\n      result.m00 = lerp(from.m00, to.m00, t);\r\n      result.m01 = lerp(from.m01, to.m01, t);\r\n      result.m02 = lerp(from.m02, to.m02, t);\r\n      result.m10 = lerp(from.m10, to.m10, t);\r\n      result.m11 = lerp(from.m11, to.m11, t);\r\n      result.m12 = lerp(from.m12, to.m12, t);\r\n    }\r\n    \r\n    \r\n    void drawCoordinateSystem(String label, float size, float alpha){\r\n      pushStyle();\r\n      textAlign(LEFT);\r\n      strokeWeight(3);\r\n      // x axis\r\n      stroke(192, 0, 0, alpha);\r\n      line(0, 0, size, 0);\r\n      // y axis\r\n      stroke(0, 192, 0, alpha);\r\n      line(0, 0, 0, size);\r\n      text(label, 10, 15);\r\n      popStyle();\r\n    }\r\n\r\n[![animated coordinate systems][5]][5]\r\n\r\n\r\n  [1]: https://processing.org/reference/pushMatrix_.html\r\n  [2]: https://processing.org/tutorials/transform2d\r\n  [3]: https://i.stack.imgur.com/lFBEE.jpg\r\n  [4]: https://i.stack.imgur.com/aqjqD.png\r\n  [5]: https://i.stack.imgur.com/mvxVO.gif","title":"Rotating text not the position of the text in processing","body":"<p>Without seeing the code my hunch is you use <code>rotate()</code>, but probably you don't use <a href=\"https://processing.org/reference/pushMatrix_.html\" rel=\"nofollow noreferrer\"><code>pushMatrix()</code></a>/<code>popMatrix();</code> to isolate the coordinate space to local one that can be temporarily rotated.</p>\n<p>I recommend reading the <a href=\"https://processing.org/tutorials/transform2d\" rel=\"nofollow noreferrer\">2D Transformations tutorial</a></p>\n<p><a href=\"https://i.stack.imgur.com/lFBEE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lFBEE.jpg\" alt=\"transforms 2d tutorial image: a grid translated then rotated\" /></a></p>\n<p>As the tutorial mentions, the order of transformations matters:</p>\n<pre><code>size(300, 300);\nbackground(0);\nstroke(255);\n// center align text\ntextAlign(CENTER);\n// global translation to center\ntranslate(width / 2, height / 2);\n\nint hours = 12;\n// an angle section (360/12 = 30 degrees), but in radians\nfloat angleIncrement = TWO_PI / hours;\n// distance from center\nfloat radius = 100;\nfor(int i = 0 ; i &lt; hours; i++){\n  // calculate the angle for each hour, subtracting a bit because angle 0 points to the right, not top (12 o'clock)\n  // remember this offset: it may come in handy when drawing clock handles ;)\n  float angle = (angleIncrement * i) - (QUARTER_PI * 4/3);\n  // isolate coordinate space\n  pushMatrix();\n    // rotate from global center by each hour angle\n    rotate(angle);\n    // translate from locally rotated center based on radius \n    translate(radius, 0);\n    // undo local rotation so text is straight\n    rotate(-angle);\n    // render text\n    text(i+1,0,0);\n  // exit local coordinate system, back to global coordinates after this\n  popMatrix();\n}\n</code></pre>\n<p>Here is the same example with a helper function to help visualise the coordinate systems:</p>\n<pre><code>void setup() {\n  size(300, 300);\n  background(0);\n  stroke(255);\n  // center align text\n  textAlign(CENTER);\n  drawCoordinateSystem(&quot;1.original cooordinates&quot;,60, 255);\n  // global translation to center\n  translate(width / 2, height / 2);\n  drawCoordinateSystem(&quot;2.global center&quot;,60, 64);\n  \n\n  int hours = 12;\n  // an angle section (360/12 = 30 degrees), but in radians\n  float angleIncrement = TWO_PI / hours;\n  // distance from center\n  float radius = 100;\n  for (int i = 0; i &lt; hours; i++) {\n    // calculate the angle for each hour, subtracting a bit because angle 0 points to the right, not top (12 o'clock)\n    // remember this offset: it may come in handy when drawing clock handles ;)\n    float angle = (angleIncrement * i) - (QUARTER_PI * 4/3);\n    // isolate coordinate space\n    pushMatrix();\n      // rotate from global center by each hour angle\n      rotate(angle);\n      if(i == 0){\n        drawCoordinateSystem(&quot;3.local+rotation&quot;,60, 127);\n      }\n      // translate from locally rotated center based on radius \n      translate(radius, 0);\n      if(i == 0){\n        drawCoordinateSystem(&quot;4.local+rot.+\\ntrans.&quot;,60, 192);\n      }\n      // undo local rotation so text is straight\n      rotate(-angle);\n      if(i == 0){\n        drawCoordinateSystem(&quot;\\n5.prev.\\n-rot.&quot;,60, 255);\n      }\n      // render text\n      text(i+1, 0, 0);\n    // exit local coordinate system, back to global coordinates after this\n    popMatrix();\n  }\n}\n\nvoid drawCoordinateSystem(String label, float size, float alpha){\n  pushStyle();\n  textAlign(LEFT);\n  strokeWeight(3);\n  // x axis\n  stroke(192, 0, 0, alpha);\n  line(0, 0, size, 0);\n  // y axis\n  stroke(0, 192, 0, alpha);\n  line(0, 0, 0, size);\n  text(label, 10, 15);\n  popStyle();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aqjqD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aqjqD.png\" alt=\"coordinate systems visualised as red/green orthogonal lines\" /></a></p>\n<p>Note that the indent is not required for <code>pushMatrix()</code>/<code>popMatrix()</code>, it's more of a visual cue to aid when you read code to remember coordinate system nesting.</p>\n<p>This is over the top and you won't need the code bellow, but hopefully it's a fun visualisation:</p>\n<pre><code>PImage screenshot;\n\nString[] labels = {&quot;1.original cooordinates&quot;,&quot;2.global center\\ntranslate(width / 2, height / 2)&quot;,\n                   &quot;3.local+rotation\\npushMatrix();\\nrotate(angle)&quot;,\n                   &quot;4.local+rot.+\\ntrans.\\ntranslate(radius, 0)&quot;,&quot;5.previous-rot.\\nrotate(-angle)&quot;,&quot;&quot;};\nPMatrix2D[] systems = new PMatrix2D[labels.length];\nPMatrix2D lerpMatrix = new PMatrix2D();\n\nvoid setup() {\n  size(300, 300);\n  background(0);\n  stroke(255);\n  // center align text\n  textAlign(CENTER);\n  // &quot;1.original cooordinates&quot;\n  systems[0] = new PMatrix2D();\n  // global translation to center\n  translate(width / 2, height / 2);\n  // &quot;2.global center&quot;\n  systems[1] = systems[0].get();\n  systems[1].translate(width / 2, height / 2);\n  \n\n  int hours = 12;\n  // an angle section (360/12 = 30 degrees), but in radians\n  float angleIncrement = TWO_PI / hours;\n  // distance from center\n  float radius = 100;\n  for (int i = 0; i &lt; hours; i++) {\n    // calculate the angle for each hour, subtracting a bit because angle 0 points to the right, not top (12 o'clock)\n    // remember this offset: it may come in handy when drawing clock handles ;)\n    float angle = (angleIncrement * i) - (QUARTER_PI * 4/3);\n    // isolate coordinate space\n    pushMatrix();\n      // rotate from global center by each hour angle\n      rotate(angle);\n      if(i == 0){\n        // &quot;3.local+rotation&quot;\n        PMatrix2D local = new PMatrix2D();\n        local.apply(systems[1]);\n        local.rotate(angle);\n        systems[2] = local.get();\n      }\n      // translate from locally rotated center based on radius \n      translate(radius, 0);\n      if(i == 0){\n        // &quot;4.local+rot.+\\ntrans.&quot;\n        systems[3] = systems[2].get();\n        systems[3].translate(radius,0);\n      }\n      // undo local rotation so text is straight\n      rotate(-angle);\n      if(i == 0){\n        // &quot;\\n5.prev.\\n-rot.&quot;\n        systems[4] = systems[3].get();\n        systems[4].rotate(-angle);\n        systems[5] = systems[4];\n      }\n      // render text\n      text(i+1, 0, 0);\n    // exit local coordinate system, back to global coordinates after this\n    popMatrix();\n  }\n  screenshot = get();\n}\n\nvoid draw(){\n  image(screenshot,0, 0);\n  animateCoordinateSystems();\n  text(&quot;mouse mouse on X axis&quot;, width / 2, height - 12);\n}\n\nvoid animateCoordinateSystems(){\n  float mapping = map(constrain(mouseX, 0, width), 0, width, 0.0, 1.0);\n  float globalT = (float)(labels.length -1) * mapping;\n  int index = (int)globalT;\n  float localT = globalT - index;\n  lerpMatrix(systems[index], systems[index+1], localT, lerpMatrix);\n  pushMatrix();\n  applyMatrix(lerpMatrix);\n  drawCoordinateSystem(labels[index] + (labels[index+1].length() &gt; 0 ? &quot;\\ntransitions to\\n&quot; + labels[index+1] : &quot;&quot;),60, 255);\n  popMatrix();  \n}\n\nvoid lerpMatrix(PMatrix2D from, PMatrix2D to, float t, PMatrix2D result){\n  result.m00 = lerp(from.m00, to.m00, t);\n  result.m01 = lerp(from.m01, to.m01, t);\n  result.m02 = lerp(from.m02, to.m02, t);\n  result.m10 = lerp(from.m10, to.m10, t);\n  result.m11 = lerp(from.m11, to.m11, t);\n  result.m12 = lerp(from.m12, to.m12, t);\n}\n\n\nvoid drawCoordinateSystem(String label, float size, float alpha){\n  pushStyle();\n  textAlign(LEFT);\n  strokeWeight(3);\n  // x axis\n  stroke(192, 0, 0, alpha);\n  line(0, 0, size, 0);\n  // y axis\n  stroke(0, 192, 0, alpha);\n  line(0, 0, 0, size);\n  text(label, 10, 15);\n  popStyle();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mvxVO.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mvxVO.gif\" alt=\"animated coordinate systems\" /></a></p>\n"}],"owner":{"account_id":18968923,"reputation":73,"user_id":13842853,"display_name":"Timothy Bowen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692655949,"creation_date":1600891778,"question_id":64035544,"body_markdown":"i am trying to make a clock and have all the numbers in the correct place but they are all rotated e.g. 6 is upside down whereas 12 is correct. is there anyway to rotate just the text not the position of the text?\r\n\r\nmy code is \r\n```java\r\npush();\r\n  textSize(48);\r\n  for (int i = 1; i &lt; 13; i++) {\r\n    int offset = -15;\r\n    if (str(i).length() == 2) {\r\n      offset -= 14.5;\r\n    }\r\n    rotate(radians(30));\r\n    text(i, offset, -350);\r\n    //println(i*30);\r\n  }\r\n  pop();\r\n```","title":"Rotating text not the position of the text in processing","body":"<p>i am trying to make a clock and have all the numbers in the correct place but they are all rotated e.g. 6 is upside down whereas 12 is correct. is there anyway to rotate just the text not the position of the text?</p>\n<p>my code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>push();\n  textSize(48);\n  for (int i = 1; i &lt; 13; i++) {\n    int offset = -15;\n    if (str(i).length() == 2) {\n      offset -= 14.5;\n    }\n    rotate(radians(30));\n    text(i, offset, -350);\n    //println(i*30);\n  }\n  pop();\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1692647689,"post_id":76948287,"comment_id":135649639,"body_markdown":"Did the fragment view created when you call SearchResultsArray; it seems that not.","body":"Did the fragment view created when you call SearchResultsArray; it seems that not."},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1692648724,"post_id":76948287,"comment_id":135649839,"body_markdown":"i also thing it&#39;s not, the question is why?,when i call SearchResultsArray i am creating a newInstance, and if the onCreateView got called before, why should binding get null?, when i am not setting it anywhere to null!","body":"i also thing it&#39;s not, the question is why?,when i call SearchResultsArray i am creating a newInstance, and if the onCreateView got called before, why should binding get null?, when i am not setting it anywhere to null!"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1692648751,"post_id":76948287,"comment_id":135649849,"body_markdown":"and what else cam i do for it?","body":"and what else cam i do for it?"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1692648992,"post_id":76948287,"comment_id":135649885,"body_markdown":"`when i call SearchResultsArray i am creating a newInstance` which type of that instance you mean? the fragment?","body":"<code>when i call SearchResultsArray i am creating a newInstance</code> which type of that instance you mean? the fragment?"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1692649863,"post_id":76948287,"comment_id":135650030,"body_markdown":"yes \n    public static SearchAllFragment newInstance() {\n        return new SearchAllFragment();\n    }","body":"yes      public static SearchAllFragment newInstance() {         return new SearchAllFragment();     }"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1692651492,"post_id":76948287,"comment_id":135650317,"body_markdown":"This creates a fragment class, but doesn&#39;t put it into the fragment manager to be shown and kick off its lifecycle","body":"This creates a fragment class, but doesn&#39;t put it into the fragment manager to be shown and kick off its lifecycle"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1692803266,"post_id":76948287,"comment_id":135674533,"body_markdown":"how can i put it into the fragment manager to be shown?","body":"how can i put it into the fragment manager to be shown?"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1692817635,"post_id":76948287,"comment_id":135677294,"body_markdown":"See https://developer.android.com/guide/fragments/transactions#java","body":"See <a href=\"https://developer.android.com/guide/fragments/transactions#java\" rel=\"nofollow noreferrer\">developer.android.com/guide/fragments/transactions#java</a>"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1692892435,"post_id":76948287,"comment_id":135688830,"body_markdown":"but it looks to me that i am able to use it if i make a FragmentTransaction.replace, but not with view pager","body":"but it looks to me that i am able to use it if i make a FragmentTransaction.replace, but not with view pager"}],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692655556,"creation_date":1692646931,"question_id":76948287,"body_markdown":"I&#39;m having a problem with accessing the binding in my SearchAllFragment. It&#39;s returning a NullPointerException.\r\n\r\nHere&#39;s the flow:\r\n\r\nSearchActivity: When an intent with ACTION_SEARCH is detected, I perform a search using the doMySearch method\r\n```java\r\n@Override\r\nprotected void onNewIntent(Intent intent) {\r\n        if (Intent.ACTION_SEARCH.equals(intent.getAction())) {\r\n            String query = intent.getStringExtra(SearchManager.QUERY);\r\n            doMySearch(query);\r\n    }\r\n}\r\n\r\nprivate void doMySearch(String query) {\r\n        URLHelper.request(Request.Method.GET, url, params, jsonElement -&gt; {\r\n            JsonArray contactsArray = jsonElement.getAsJsonObject().getAsJsonArray(&quot;contacts&quot;);\r\n            if (contactsArray.size() &gt; 0) {\r\n                runOnUiThread(() -&gt; {\r\n                    searchAllFragment = SearchAllFragment.newInstance();\r\n                    SearchActivity.this.jsonResults = searchAllFragment;\r\n                    jsonResults.SearchResultsArray(contactsArray);\r\n                });\r\n}\r\n```\r\nInterface: I&#39;m using an interface SearchJsonResults to communicate between the activity and the fragment:\r\n```java\r\ninterface SearchJsonResults {\r\n    void SearchResultsElement(JsonElement jsonElement);\r\n    void SearchResultsArray(JsonArray jsonArray);\r\n}\r\n```\r\nSearchAllFragment: The fragment implements the above interface. When SearchResultsArray method is called, I attempt to access binding which is throwing a NullPointerException.\r\n```java\r\npublic class SearchAllFragment extends Fragment  implements  SearchActivity.SearchJsonResults{\r\n    private FragmentSearchAllBinding binding;\r\n\r\n    public SearchAllFragment() {}\r\n\r\n    public static SearchAllFragment newInstance() {\r\n        return new SearchAllFragment();\r\n    }\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentSearchAllBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n    \r\n    @Override\r\n    public void SearchResultsElement(JsonElement jsonElement) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void SearchResultsArray(JsonArray jsonArray) {\r\n        binding.rvContacts.setVisibility(View.VISIBLE);\r\n        SearchAdapter searchAdapter = new SearchAdapter(new SearchDiff());\r\n        binding.rvContacts.setLayoutManager(new LinearLayoutManager(requireContext()));\r\n        binding.rvContacts.setAdapter(searchAdapter);\r\n        Gson gson = new Gson();\r\n        Type userListType = new TypeToken&lt;List&lt;SearchContactsModel&gt;&gt;(){}.getType();\r\n        List&lt;SearchContactsModel&gt; users = gson.fromJson(jsonArray.toString(), userListType);\r\n        searchAdapter.submitList(users);\r\n    }\r\n```\r\nThe problem: binding in the SearchAllFragment in SearchResultsArray is null.\r\n\r\nWhat am I missing here? How can I prevent the binding from being null?","title":"NullPointerException when accessing binding in Fragment after receiving JSON results","body":"<p>I'm having a problem with accessing the binding in my SearchAllFragment. It's returning a NullPointerException.</p>\n<p>Here's the flow:</p>\n<p>SearchActivity: When an intent with ACTION_SEARCH is detected, I perform a search using the doMySearch method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onNewIntent(Intent intent) {\n        if (Intent.ACTION_SEARCH.equals(intent.getAction())) {\n            String query = intent.getStringExtra(SearchManager.QUERY);\n            doMySearch(query);\n    }\n}\n\nprivate void doMySearch(String query) {\n        URLHelper.request(Request.Method.GET, url, params, jsonElement -&gt; {\n            JsonArray contactsArray = jsonElement.getAsJsonObject().getAsJsonArray(&quot;contacts&quot;);\n            if (contactsArray.size() &gt; 0) {\n                runOnUiThread(() -&gt; {\n                    searchAllFragment = SearchAllFragment.newInstance();\n                    SearchActivity.this.jsonResults = searchAllFragment;\n                    jsonResults.SearchResultsArray(contactsArray);\n                });\n}\n</code></pre>\n<p>Interface: I'm using an interface SearchJsonResults to communicate between the activity and the fragment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface SearchJsonResults {\n    void SearchResultsElement(JsonElement jsonElement);\n    void SearchResultsArray(JsonArray jsonArray);\n}\n</code></pre>\n<p>SearchAllFragment: The fragment implements the above interface. When SearchResultsArray method is called, I attempt to access binding which is throwing a NullPointerException.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SearchAllFragment extends Fragment  implements  SearchActivity.SearchJsonResults{\n    private FragmentSearchAllBinding binding;\n\n    public SearchAllFragment() {}\n\n    public static SearchAllFragment newInstance() {\n        return new SearchAllFragment();\n    }\n    \n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        binding = FragmentSearchAllBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n    \n    @Override\n    public void SearchResultsElement(JsonElement jsonElement) {\n\n    }\n\n    @Override\n    public void SearchResultsArray(JsonArray jsonArray) {\n        binding.rvContacts.setVisibility(View.VISIBLE);\n        SearchAdapter searchAdapter = new SearchAdapter(new SearchDiff());\n        binding.rvContacts.setLayoutManager(new LinearLayoutManager(requireContext()));\n        binding.rvContacts.setAdapter(searchAdapter);\n        Gson gson = new Gson();\n        Type userListType = new TypeToken&lt;List&lt;SearchContactsModel&gt;&gt;(){}.getType();\n        List&lt;SearchContactsModel&gt; users = gson.fromJson(jsonArray.toString(), userListType);\n        searchAdapter.submitList(users);\n    }\n</code></pre>\n<p>The problem: binding in the SearchAllFragment in SearchResultsArray is null.</p>\n<p>What am I missing here? How can I prevent the binding from being null?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692655105,"creation_date":1692655105,"answer_id":76948938,"question_id":76948905,"body_markdown":"Here&#39;s how the keyboard works on Android\r\n\r\nIf the mode is adjustNothing, the keyboard pops up and overlaps your app.  This should almost never be used.\r\n\r\nIf the mode is adjustPan, the app will scroll up so that the cursor is onscreen.  This is a common mode.\r\n\r\nIf the mode is adjustResize, the app will be resized to fit inside the space above the keyboard.\r\n\r\nThere is no hybrid mode.  You can&#39;t say &quot;adjustResize except these views&quot;.  You can write your layout such that individual views have no reason to resize (they have a fixed size, or are constrained into place), but that requires a careful layout and we&#39;d need your entire xml to help you do that.","title":"Prevent a view from resizing when soft keyboard is open","body":"<p>Here's how the keyboard works on Android</p>\n<p>If the mode is adjustNothing, the keyboard pops up and overlaps your app.  This should almost never be used.</p>\n<p>If the mode is adjustPan, the app will scroll up so that the cursor is onscreen.  This is a common mode.</p>\n<p>If the mode is adjustResize, the app will be resized to fit inside the space above the keyboard.</p>\n<p>There is no hybrid mode.  You can't say &quot;adjustResize except these views&quot;.  You can write your layout such that individual views have no reason to resize (they have a fixed size, or are constrained into place), but that requires a careful layout and we'd need your entire xml to help you do that.</p>\n"}],"owner":{"account_id":21086486,"reputation":11,"user_id":15499483,"display_name":"AdamK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76948938,"answer_count":1,"score":0,"last_activity_date":1692655105,"creation_date":1692654679,"question_id":76948905,"body_markdown":"How can I prevent specific views from resizing caused by soft keyboard opening.\r\n\r\nI&#39;m aware of the solutions like:\r\n\r\n`android:windowSoftInputMode=&quot;adjustNothing&quot;` \r\n\r\nBut those solutions affect the entire activity. I want to keep default resizing on everything except for 3 small views - which are being resized for no particular reason - they are far away from the keyboard.\r\n\r\n\r\n\r\n[Here is how the views are supposed to look like:](https://i.stack.imgur.com/9sWf6.png)\r\n\r\n[Here is one example of resize after keyboard opened](https://i.stack.imgur.com/Cv924.png)\r\n\r\n[Here is another example of the problem](https://i.stack.imgur.com/t2fsz.png)\r\n","title":"Prevent a view from resizing when soft keyboard is open","body":"<p>How can I prevent specific views from resizing caused by soft keyboard opening.</p>\n<p>I'm aware of the solutions like:</p>\n<p><code>android:windowSoftInputMode=&quot;adjustNothing&quot;</code></p>\n<p>But those solutions affect the entire activity. I want to keep default resizing on everything except for 3 small views - which are being resized for no particular reason - they are far away from the keyboard.</p>\n<p><a href=\"https://i.stack.imgur.com/9sWf6.png\" rel=\"nofollow noreferrer\">Here is how the views are supposed to look like:</a></p>\n<p><a href=\"https://i.stack.imgur.com/Cv924.png\" rel=\"nofollow noreferrer\">Here is one example of resize after keyboard opened</a></p>\n<p><a href=\"https://i.stack.imgur.com/t2fsz.png\" rel=\"nofollow noreferrer\">Here is another example of the problem</a></p>\n"},{"tags":["java","string","hex","spring-ldap","sid"],"answers":[{"tags":[],"owner":{"account_id":117030,"reputation":54349,"user_id":306651,"accept_rate":100,"display_name":"Hans Olsson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1313740970,"creation_date":1313740970,"answer_id":7118614,"question_id":7118290,"body_markdown":"There&#39;s the `convertSidToStringSid` and `convertStringSidToSid` methods in the [Advapi32Util][1] class.\r\n\r\nI&#39;m not sure if that&#39;ll be the exact formats you need, but hopefully will get you closer.\r\n\r\nAnd here&#39;s an [blog post][2] that describes the SID format which might be helpful.\r\n\r\n\r\n  [1]: http://jna.java.net/javadoc/platform/com/sun/jna/platform/win32/Advapi32Util.html\r\n  [2]: http://blogs.msdn.com/b/oldnewthing/archive/2004/03/15/89753.aspx","title":"How to convert the SID to String and vice versa in Java?","body":"<p>There's the <code>convertSidToStringSid</code> and <code>convertStringSidToSid</code> methods in the <a href=\"http://jna.java.net/javadoc/platform/com/sun/jna/platform/win32/Advapi32Util.html\" rel=\"noreferrer\">Advapi32Util</a> class.</p>\n\n<p>I'm not sure if that'll be the exact formats you need, but hopefully will get you closer.</p>\n\n<p>And here's an <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2004/03/15/89753.aspx\" rel=\"noreferrer\">blog post</a> that describes the SID format which might be helpful.</p>\n"},{"tags":[],"owner":{"account_id":2694342,"reputation":656,"user_id":2326830,"display_name":"Sebastian Marsching"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1392595904,"creation_date":1392595904,"answer_id":21818633,"question_id":7118290,"body_markdown":"The solution suggested by ho1 (using the Advapi32Util) class has two limitations:\r\n\r\n 1. It needes the JNA library.\r\n 2. It only works when running on the Windows platform, because it uses a Windows-API.\r\n\r\nTherefore, I have written a class that is pure Java, has no external dependencies and will work on all platforms. This class can convert security identifiers from their binary to their textual representation and vice-versa.\r\n\r\nIf you are using Spring-LDAP, you can also use the methods provided by the LdapUtils class, however those methods do not peform any checks on the format of the SID and thus might produce incorrect results or unexpected exceptions.\r\n\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    \r\n    public class SidConverter {\r\n    \r\n        private final static int MASK_8_BIT = 0xff;\r\n        private final static long MASK_32_BIT = 0xffffffffL;\r\n        private final static long MASK_48_BIT = 0xffffffffffffL;\r\n    \r\n        public static String bytesToString(byte[] bytes) {\r\n            if (bytes.length &lt; 8) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Binary SID representation must have at least 8 bytes but passed byte array has only &quot;\r\n                                + bytes.length + &quot; bytes.&quot;);\r\n            }\r\n            // The revision number is an unsigned 8-bit unsigned integer.\r\n            int revision = bytes[0] &amp; MASK_8_BIT;\r\n            // The number of sub-authority parts is specified as an 8-bit unsigned\r\n            // integer.\r\n            int numberOfSubAuthorityParts = bytes[1] &amp; MASK_8_BIT;\r\n            if (bytes.length != 8 + numberOfSubAuthorityParts * 4) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;According to byte 1 of the SID it total length should be &quot;\r\n                                + (8 + 4 * numberOfSubAuthorityParts)\r\n                                + &quot; bytes, however its actual length is &quot;\r\n                                + bytes.length + &quot; bytes.&quot;);\r\n            }\r\n            // The authority is a 48-bit unsigned integer stored in big-endian\r\n            // format.\r\n            long authority = ByteBuffer.wrap(bytes).getLong() &amp; MASK_48_BIT;\r\n            // The sub-authority consists of up to 255 32-bit unsigned integers in\r\n            // little-endian format. The number of integers is specified by\r\n            // numberOfSubAuthorityParts.\r\n            int[] subAuthority = new int[numberOfSubAuthorityParts];\r\n            ByteBuffer.wrap(bytes, 8, bytes.length - 8)\r\n                    .order(ByteOrder.LITTLE_ENDIAN).asIntBuffer().put(subAuthority);\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;S-&quot;);\r\n            sb.append(revision);\r\n            sb.append(&quot;-&quot;);\r\n            sb.append(authority);\r\n            for (int subAuthorityPart : subAuthority) {\r\n                sb.append(&quot;-&quot;);\r\n                sb.append(subAuthorityPart &amp; MASK_32_BIT);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        public static byte[] stringToBytes(String sid) {\r\n            if (!sid.startsWith(&quot;S-&quot;) &amp;&amp; !sid.startsWith(&quot;s-&quot;)) {\r\n                throw new IllegalArgumentException(&quot;Invalid SID \\&quot;&quot; + sid\r\n                        + &quot;\\&quot;: A valid SID must start with \\&quot;S-\\&quot;.&quot;);\r\n            }\r\n            String[] parts = sid.split(&quot;-&quot;);\r\n            if (parts.length &lt; 3) {\r\n                throw new IllegalArgumentException(&quot;Invalid SID \\&quot;&quot; + sid\r\n                        + &quot;\\&quot;: A valid SID must have at least two dashes.&quot;);\r\n            }\r\n            if (parts.length &gt; MASK_8_BIT + 3) {\r\n                throw new IllegalArgumentException(&quot;Invalid SID \\&quot;&quot; + sid\r\n                        + &quot;\\&quot;: A valid SID must not have more than 257 dashes.&quot;);\r\n            }\r\n            int revision;\r\n            try {\r\n                revision = Integer.parseInt(parts[1]);\r\n            } catch (NumberFormatException e) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Invalid revision part in SID \\&quot;&quot;\r\n                                + sid\r\n                                + &quot;\\&quot;: The revision must be an integer number between 0 and 255.&quot;);\r\n            }\r\n            if (revision &lt; 0 || revision &gt; MASK_8_BIT) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Invalid revision part in SID \\&quot;&quot;\r\n                                + sid\r\n                                + &quot;\\&quot;: The revision must be an integer number between 0 and 255.&quot;);\r\n            }\r\n            int numberOfSubAuthorityParts = parts.length - 3;\r\n            long authority;\r\n            try {\r\n                authority = Long.parseLong(parts[2]);\r\n            } catch (NumberFormatException e) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Invalid authority part in SID \\&quot;&quot;\r\n                                + sid\r\n                                + &quot;\\&quot;: The authority must be an integer number between 0 and 281474976710655.&quot;);\r\n            }\r\n            if (authority &lt; 0 || authority &gt; MASK_48_BIT) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Invalid authority part in SID \\&quot;&quot;\r\n                                + sid\r\n                                + &quot;\\&quot;: The authority must be an integer number between 0 and 281474976710655.&quot;);\r\n            }\r\n            int[] subAuthority = new int[numberOfSubAuthorityParts];\r\n            for (int i = 0; i &lt; numberOfSubAuthorityParts; i++) {\r\n                long subAuthorityPart;\r\n                try {\r\n                    subAuthorityPart = Long.parseLong(parts[3 + i]);\r\n                } catch (NumberFormatException e) {\r\n                    throw new IllegalArgumentException(\r\n                            &quot;Invalid sub-authority part in SID \\&quot;&quot;\r\n                                    + sid\r\n                                    + &quot;\\&quot;: The sub-authority parts must be integer numbers between 0 and 4294967295.&quot;);\r\n                }\r\n                if (subAuthorityPart &lt; 0 || subAuthorityPart &gt; MASK_32_BIT) {\r\n                    throw new IllegalArgumentException(\r\n                            &quot;Invalid sub-authority part in SID \\&quot;&quot;\r\n                                    + sid\r\n                                    + &quot;\\&quot;: The sub-authority parts must be integer numbers between 0 and 4294967295.&quot;);\r\n                }\r\n                subAuthority[i] = (int) subAuthorityPart;\r\n            }\r\n            byte[] bytes = new byte[8 + numberOfSubAuthorityParts * 4];\r\n            // We have to write the authority first, otherwise it would overwrite\r\n            // the revision and length bytes.\r\n            ByteBuffer.wrap(bytes).putLong(authority);\r\n            bytes[0] = (byte) revision;\r\n            bytes[1] = (byte) numberOfSubAuthorityParts;\r\n            ByteBuffer.wrap(bytes, 8, bytes.length - 8)\r\n                    .order(ByteOrder.LITTLE_ENDIAN).asIntBuffer().put(subAuthority);\r\n            return bytes;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to convert the SID to String and vice versa in Java?","body":"<p>The solution suggested by ho1 (using the Advapi32Util) class has two limitations:</p>\n\n<ol>\n<li>It needes the JNA library.</li>\n<li>It only works when running on the Windows platform, because it uses a Windows-API.</li>\n</ol>\n\n<p>Therefore, I have written a class that is pure Java, has no external dependencies and will work on all platforms. This class can convert security identifiers from their binary to their textual representation and vice-versa.</p>\n\n<p>If you are using Spring-LDAP, you can also use the methods provided by the LdapUtils class, however those methods do not peform any checks on the format of the SID and thus might produce incorrect results or unexpected exceptions.</p>\n\n<pre><code>import java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\n\npublic class SidConverter {\n\n    private final static int MASK_8_BIT = 0xff;\n    private final static long MASK_32_BIT = 0xffffffffL;\n    private final static long MASK_48_BIT = 0xffffffffffffL;\n\n    public static String bytesToString(byte[] bytes) {\n        if (bytes.length &lt; 8) {\n            throw new IllegalArgumentException(\n                    \"Binary SID representation must have at least 8 bytes but passed byte array has only \"\n                            + bytes.length + \" bytes.\");\n        }\n        // The revision number is an unsigned 8-bit unsigned integer.\n        int revision = bytes[0] &amp; MASK_8_BIT;\n        // The number of sub-authority parts is specified as an 8-bit unsigned\n        // integer.\n        int numberOfSubAuthorityParts = bytes[1] &amp; MASK_8_BIT;\n        if (bytes.length != 8 + numberOfSubAuthorityParts * 4) {\n            throw new IllegalArgumentException(\n                    \"According to byte 1 of the SID it total length should be \"\n                            + (8 + 4 * numberOfSubAuthorityParts)\n                            + \" bytes, however its actual length is \"\n                            + bytes.length + \" bytes.\");\n        }\n        // The authority is a 48-bit unsigned integer stored in big-endian\n        // format.\n        long authority = ByteBuffer.wrap(bytes).getLong() &amp; MASK_48_BIT;\n        // The sub-authority consists of up to 255 32-bit unsigned integers in\n        // little-endian format. The number of integers is specified by\n        // numberOfSubAuthorityParts.\n        int[] subAuthority = new int[numberOfSubAuthorityParts];\n        ByteBuffer.wrap(bytes, 8, bytes.length - 8)\n                .order(ByteOrder.LITTLE_ENDIAN).asIntBuffer().put(subAuthority);\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"S-\");\n        sb.append(revision);\n        sb.append(\"-\");\n        sb.append(authority);\n        for (int subAuthorityPart : subAuthority) {\n            sb.append(\"-\");\n            sb.append(subAuthorityPart &amp; MASK_32_BIT);\n        }\n        return sb.toString();\n    }\n\n    public static byte[] stringToBytes(String sid) {\n        if (!sid.startsWith(\"S-\") &amp;&amp; !sid.startsWith(\"s-\")) {\n            throw new IllegalArgumentException(\"Invalid SID \\\"\" + sid\n                    + \"\\\": A valid SID must start with \\\"S-\\\".\");\n        }\n        String[] parts = sid.split(\"-\");\n        if (parts.length &lt; 3) {\n            throw new IllegalArgumentException(\"Invalid SID \\\"\" + sid\n                    + \"\\\": A valid SID must have at least two dashes.\");\n        }\n        if (parts.length &gt; MASK_8_BIT + 3) {\n            throw new IllegalArgumentException(\"Invalid SID \\\"\" + sid\n                    + \"\\\": A valid SID must not have more than 257 dashes.\");\n        }\n        int revision;\n        try {\n            revision = Integer.parseInt(parts[1]);\n        } catch (NumberFormatException e) {\n            throw new IllegalArgumentException(\n                    \"Invalid revision part in SID \\\"\"\n                            + sid\n                            + \"\\\": The revision must be an integer number between 0 and 255.\");\n        }\n        if (revision &lt; 0 || revision &gt; MASK_8_BIT) {\n            throw new IllegalArgumentException(\n                    \"Invalid revision part in SID \\\"\"\n                            + sid\n                            + \"\\\": The revision must be an integer number between 0 and 255.\");\n        }\n        int numberOfSubAuthorityParts = parts.length - 3;\n        long authority;\n        try {\n            authority = Long.parseLong(parts[2]);\n        } catch (NumberFormatException e) {\n            throw new IllegalArgumentException(\n                    \"Invalid authority part in SID \\\"\"\n                            + sid\n                            + \"\\\": The authority must be an integer number between 0 and 281474976710655.\");\n        }\n        if (authority &lt; 0 || authority &gt; MASK_48_BIT) {\n            throw new IllegalArgumentException(\n                    \"Invalid authority part in SID \\\"\"\n                            + sid\n                            + \"\\\": The authority must be an integer number between 0 and 281474976710655.\");\n        }\n        int[] subAuthority = new int[numberOfSubAuthorityParts];\n        for (int i = 0; i &lt; numberOfSubAuthorityParts; i++) {\n            long subAuthorityPart;\n            try {\n                subAuthorityPart = Long.parseLong(parts[3 + i]);\n            } catch (NumberFormatException e) {\n                throw new IllegalArgumentException(\n                        \"Invalid sub-authority part in SID \\\"\"\n                                + sid\n                                + \"\\\": The sub-authority parts must be integer numbers between 0 and 4294967295.\");\n            }\n            if (subAuthorityPart &lt; 0 || subAuthorityPart &gt; MASK_32_BIT) {\n                throw new IllegalArgumentException(\n                        \"Invalid sub-authority part in SID \\\"\"\n                                + sid\n                                + \"\\\": The sub-authority parts must be integer numbers between 0 and 4294967295.\");\n            }\n            subAuthority[i] = (int) subAuthorityPart;\n        }\n        byte[] bytes = new byte[8 + numberOfSubAuthorityParts * 4];\n        // We have to write the authority first, otherwise it would overwrite\n        // the revision and length bytes.\n        ByteBuffer.wrap(bytes).putLong(authority);\n        bytes[0] = (byte) revision;\n        bytes[1] = (byte) numberOfSubAuthorityParts;\n        ByteBuffer.wrap(bytes, 8, bytes.length - 8)\n                .order(ByteOrder.LITTLE_ENDIAN).asIntBuffer().put(subAuthority);\n        return bytes;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1915363,"reputation":87,"user_id":1728041,"display_name":"Arquebus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405060524,"creation_date":1405060524,"answer_id":24691447,"question_id":7118290,"body_markdown":"use convertToString from  [InPlaceMsAdObjectSidValueEditor.java][1] :\r\n\r\n    protected String convertToString( byte[] bytes )\r\n    {\r\n        /*\r\n         * The binary data structure, from http://msdn.microsoft.com/en-us/library/cc230371(PROT.10).aspx:\r\n         *   byte[0] - Revision (1 byte): An 8-bit unsigned integer that specifies the revision level of the SID structure. This value MUST be set to 0x01.\r\n         *   byte[1] - SubAuthorityCount (1 byte): An 8-bit unsigned integer that specifies the number of elements in the SubAuthority array. The maximum number of elements allowed is 15.\r\n         *   byte[2-7] - IdentifierAuthority (6 bytes): A SID_IDENTIFIER_AUTHORITY structure that contains information, which indicates the authority under which the SID was created. It describes the entity that created the SID and manages the account.\r\n         *               Six element arrays of 8-bit unsigned integers that specify the top-level authority \r\n         *               big-endian!\r\n         *   and then - SubAuthority (variable): A variable length array of unsigned 32-bit integers that uniquely identifies a principal relative to the IdentifierAuthority. Its length is determined by SubAuthorityCount. \r\n         *              little-endian!\r\n         */\r\n\r\n        if ( bytes == null || bytes.length &lt; 8 )\r\n        {\r\n            return Messages.getString( &quot;InPlaceMsAdObjectSidValueEditor.InvalidSid&quot; ); //$NON-NLS-1$\r\n        }\r\n\r\n        char[] hex = Hex.encodeHex( bytes );\r\n        StringBuffer sb = new StringBuffer();\r\n\r\n        // start with &#39;S&#39;\r\n        sb.append( &#39;S&#39; );\r\n\r\n        // revision\r\n        int revision = Integer.parseInt( new String( hex, 0, 2 ), 16 );\r\n        sb.append( &#39;-&#39; );\r\n        sb.append( revision );\r\n\r\n        // get count\r\n        int count = Integer.parseInt( new String( hex, 2, 2 ), 16 );\r\n\r\n        // check length\r\n        if ( bytes.length != ( 8 + count * 4 ) )\r\n        {\r\n            return Messages.getString( &quot;InPlaceMsAdObjectSidValueEditor.InvalidSid&quot; ); //$NON-NLS-1$\r\n        }\r\n\r\n        // get authority, big-endian\r\n        long authority = Long.parseLong( new String( hex, 4, 12 ), 16 );\r\n        sb.append( &#39;-&#39; );\r\n        sb.append( authority );\r\n\r\n        // sub-authorities, little-endian\r\n        for ( int i = 0; i &lt; count; i++ )\r\n        {\r\n            StringBuffer rid = new StringBuffer();\r\n            for ( int k = 3; k &gt;= 0; k-- )\r\n            {\r\n                rid.append( hex[16 + ( i * 8 ) + ( k * 2 )] );\r\n                rid.append( hex[16 + ( i * 8 ) + ( k * 2 ) + 1] );\r\n            }\r\n\r\n            long subAuthority = Long.parseLong( rid.toString(), 16 );\r\n            sb.append( &#39;-&#39; );\r\n            sb.append( subAuthority );\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\n\r\n(from Apache Directory Studio)\r\n\r\n\r\n  [1]: http://svn.apache.org/repos/asf/directory/studio/trunk/plugins/valueeditors/src/main/java/org/apache/directory/studio/valueeditors/msad/InPlaceMsAdObjectSidValueEditor.java","title":"How to convert the SID to String and vice versa in Java?","body":"<p>use convertToString from  <a href=\"http://svn.apache.org/repos/asf/directory/studio/trunk/plugins/valueeditors/src/main/java/org/apache/directory/studio/valueeditors/msad/InPlaceMsAdObjectSidValueEditor.java\" rel=\"nofollow\">InPlaceMsAdObjectSidValueEditor.java</a> :</p>\n\n<pre><code>protected String convertToString( byte[] bytes )\n{\n    /*\n     * The binary data structure, from http://msdn.microsoft.com/en-us/library/cc230371(PROT.10).aspx:\n     *   byte[0] - Revision (1 byte): An 8-bit unsigned integer that specifies the revision level of the SID structure. This value MUST be set to 0x01.\n     *   byte[1] - SubAuthorityCount (1 byte): An 8-bit unsigned integer that specifies the number of elements in the SubAuthority array. The maximum number of elements allowed is 15.\n     *   byte[2-7] - IdentifierAuthority (6 bytes): A SID_IDENTIFIER_AUTHORITY structure that contains information, which indicates the authority under which the SID was created. It describes the entity that created the SID and manages the account.\n     *               Six element arrays of 8-bit unsigned integers that specify the top-level authority \n     *               big-endian!\n     *   and then - SubAuthority (variable): A variable length array of unsigned 32-bit integers that uniquely identifies a principal relative to the IdentifierAuthority. Its length is determined by SubAuthorityCount. \n     *              little-endian!\n     */\n\n    if ( bytes == null || bytes.length &lt; 8 )\n    {\n        return Messages.getString( \"InPlaceMsAdObjectSidValueEditor.InvalidSid\" ); //$NON-NLS-1$\n    }\n\n    char[] hex = Hex.encodeHex( bytes );\n    StringBuffer sb = new StringBuffer();\n\n    // start with 'S'\n    sb.append( 'S' );\n\n    // revision\n    int revision = Integer.parseInt( new String( hex, 0, 2 ), 16 );\n    sb.append( '-' );\n    sb.append( revision );\n\n    // get count\n    int count = Integer.parseInt( new String( hex, 2, 2 ), 16 );\n\n    // check length\n    if ( bytes.length != ( 8 + count * 4 ) )\n    {\n        return Messages.getString( \"InPlaceMsAdObjectSidValueEditor.InvalidSid\" ); //$NON-NLS-1$\n    }\n\n    // get authority, big-endian\n    long authority = Long.parseLong( new String( hex, 4, 12 ), 16 );\n    sb.append( '-' );\n    sb.append( authority );\n\n    // sub-authorities, little-endian\n    for ( int i = 0; i &lt; count; i++ )\n    {\n        StringBuffer rid = new StringBuffer();\n        for ( int k = 3; k &gt;= 0; k-- )\n        {\n            rid.append( hex[16 + ( i * 8 ) + ( k * 2 )] );\n            rid.append( hex[16 + ( i * 8 ) + ( k * 2 ) + 1] );\n        }\n\n        long subAuthority = Long.parseLong( rid.toString(), 16 );\n        sb.append( '-' );\n        sb.append( subAuthority );\n    }\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>(from Apache Directory Studio)</p>\n"},{"tags":[],"owner":{"account_id":9894220,"reputation":39,"user_id":7326283,"display_name":"J. Hanney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483896775,"creation_date":1483887908,"answer_id":41534117,"question_id":7118290,"body_markdown":"**Example Without JNA**\r\n\r\nHere&#39;s some nice compact code for converting SIDs without using JNA. It even has some &quot;error checking&quot; built in by returning NULL, EMPTY, or a zero-length array if something isn&#39;t quite right.\r\n\r\nFor SID to String:\r\n\r\n    /**\r\n     * Converts Windows SID to a String. NULL input returns NULL.\r\n     * Invalid byte array returns EMPTY.\r\n     * @param sid SID as byte array.\r\n     * @return SID as String.\r\n     */\r\n    public static String convertSidToStr(byte[] sid) {\r\n        if (sid==null) return null;\r\n        if (sid.length&lt;8 || sid.length % 4 != 0) return &quot;&quot;;\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;S-&quot;).append(sid[0]);\r\n        int c = sid[1]; // Init with Subauthority Count.\r\n        ByteBuffer bb = ByteBuffer.wrap(sid);\r\n        // bb.order(ByteOrder.BIG_ENDIAN); // Not needed, default big endian.\r\n        sb.append(&quot;-&quot;).append((long)bb.getLong() &amp; 0XFFFFFFFFFFFFL);\r\n        bb.order(ByteOrder.LITTLE_ENDIAN); // Now switch.\r\n        for (int i=0; i&lt;c; i++) { // Create Subauthorities.\r\n            sb.append(&quot;-&quot;).append((long)bb.getInt() &amp; 0xFFFFFFFFL);\r\n        }        \r\n        return sb.toString();    \r\n    }\r\n\r\nFor String to SID:\r\n    \r\n    /**\r\n     * Converts Windows SID String to byte array. NULL input returns NULL.\r\n     * Invalid String returns zero-length byte array.\r\n     * @param sid SID as String.\r\n     * @return SID as byte array.\r\n     */\r\n    public static byte[] convertStrToSid(String sid) {\r\n        if (sid==null) return null;\r\n        if (!sid.matches(&quot;^[sS]-\\\\d-\\\\d{1,13})&quot;\r\n                + &quot;(?:-\\\\d{1,10})*$&quot;)) return new byte[0];\r\n        String[] ss = sid.split(&quot;-&quot;);\r\n        int c=ss.length-3; // Init with Subauthority Count.\r\n        byte[] b=new byte[2+6+(c*4)];\r\n        ByteBuffer bb = ByteBuffer.wrap(b);\r\n        // bb.order(ByteOrder.BIG_ENDIAN); // Not needed, default big endian.\r\n        bb.putLong(Long.parseLong(ss[2]));\r\n        // Overlay bytes 0 and 1 with Revision and Identifier Authority.\r\n        b[0]=(byte)Short.parseShort(ss[1]);\r\n        b[1]=(byte)c;\r\n        bb.order(ByteOrder.LITTLE_ENDIAN); // Now switch.\r\n        for (int i=0; i&lt;c; i++) { // Create Subauthorities.\r\n            bb.putInt((int)Long.parseLong(ss[i+3]));\r\n        }\r\n        return b;    \r\n    }\r\n\r\nFor reference, see TechNet&#39;s [Security Identifier Structure][1].\r\n\r\n\r\n  [1]: https://technet.microsoft.com/en-us/library/cc962011.aspx","title":"How to convert the SID to String and vice versa in Java?","body":"<p><strong>Example Without JNA</strong></p>\n\n<p>Here's some nice compact code for converting SIDs without using JNA. It even has some \"error checking\" built in by returning NULL, EMPTY, or a zero-length array if something isn't quite right.</p>\n\n<p>For SID to String:</p>\n\n<pre><code>/**\n * Converts Windows SID to a String. NULL input returns NULL.\n * Invalid byte array returns EMPTY.\n * @param sid SID as byte array.\n * @return SID as String.\n */\npublic static String convertSidToStr(byte[] sid) {\n    if (sid==null) return null;\n    if (sid.length&lt;8 || sid.length % 4 != 0) return \"\";\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"S-\").append(sid[0]);\n    int c = sid[1]; // Init with Subauthority Count.\n    ByteBuffer bb = ByteBuffer.wrap(sid);\n    // bb.order(ByteOrder.BIG_ENDIAN); // Not needed, default big endian.\n    sb.append(\"-\").append((long)bb.getLong() &amp; 0XFFFFFFFFFFFFL);\n    bb.order(ByteOrder.LITTLE_ENDIAN); // Now switch.\n    for (int i=0; i&lt;c; i++) { // Create Subauthorities.\n        sb.append(\"-\").append((long)bb.getInt() &amp; 0xFFFFFFFFL);\n    }        \n    return sb.toString();    \n}\n</code></pre>\n\n<p>For String to SID:</p>\n\n<pre><code>/**\n * Converts Windows SID String to byte array. NULL input returns NULL.\n * Invalid String returns zero-length byte array.\n * @param sid SID as String.\n * @return SID as byte array.\n */\npublic static byte[] convertStrToSid(String sid) {\n    if (sid==null) return null;\n    if (!sid.matches(\"^[sS]-\\\\d-\\\\d{1,13})\"\n            + \"(?:-\\\\d{1,10})*$\")) return new byte[0];\n    String[] ss = sid.split(\"-\");\n    int c=ss.length-3; // Init with Subauthority Count.\n    byte[] b=new byte[2+6+(c*4)];\n    ByteBuffer bb = ByteBuffer.wrap(b);\n    // bb.order(ByteOrder.BIG_ENDIAN); // Not needed, default big endian.\n    bb.putLong(Long.parseLong(ss[2]));\n    // Overlay bytes 0 and 1 with Revision and Identifier Authority.\n    b[0]=(byte)Short.parseShort(ss[1]);\n    b[1]=(byte)c;\n    bb.order(ByteOrder.LITTLE_ENDIAN); // Now switch.\n    for (int i=0; i&lt;c; i++) { // Create Subauthorities.\n        bb.putInt((int)Long.parseLong(ss[i+3]));\n    }\n    return b;    \n}\n</code></pre>\n\n<p>For reference, see TechNet's <a href=\"https://technet.microsoft.com/en-us/library/cc962011.aspx\" rel=\"nofollow noreferrer\">Security Identifier Structure</a>.</p>\n"},{"tags":[],"owner":{"account_id":236748,"reputation":4486,"user_id":504452,"display_name":"bedrin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497963296,"creation_date":1497963296,"answer_id":44653665,"question_id":7118290,"body_markdown":"From http://miromannino.com/blog/convert-a-sid-to-string-with-java/ \r\n\r\n    public static String convertSidToStringSid(byte[] sid) {\r\n        int offset, size;\r\n\r\n        // sid[0] is the Revision, we allow only version 1, because it&#39;s the\r\n        // only that exists right now.\r\n        if (sid[0] != 1)\r\n            throw new IllegalArgumentException(&quot;SID revision must be 1&quot;);\r\n\r\n        StringBuilder stringSidBuilder = new StringBuilder(&quot;S-1-&quot;);\r\n\r\n        // The next byte specifies the numbers of sub authorities (number of\r\n        // dashes minus two)\r\n        int subAuthorityCount = sid[1] &amp; 0xFF;\r\n\r\n        // IdentifierAuthority (6 bytes starting from the second) (big endian)\r\n        long identifierAuthority = 0;\r\n        offset = 2;\r\n        size = 6;\r\n        for (int i = 0; i &lt; size; i++) {\r\n            identifierAuthority |= (long) (sid[offset + i] &amp; 0xFF) &lt;&lt; (8 * (size - 1 - i));\r\n            // The &amp; 0xFF is necessary because byte is signed in Java\r\n        }\r\n        if (identifierAuthority &lt; Math.pow(2, 32)) {\r\n            stringSidBuilder.append(Long.toString(identifierAuthority));\r\n        } else {\r\n            stringSidBuilder.append(&quot;0x&quot;).append(\r\n                    Long.toHexString(identifierAuthority).toUpperCase());\r\n        }\r\n\r\n        // Iterate all the SubAuthority (little-endian)\r\n        offset = 8;\r\n        size = 4; // 32-bits (4 bytes) for each SubAuthority\r\n        for (int i = 0; i &lt; subAuthorityCount; i++, offset += size) {\r\n            long subAuthority = 0;\r\n            for (int j = 0; j &lt; size; j++) {\r\n                subAuthority |= (long) (sid[offset + j] &amp; 0xFF) &lt;&lt; (8 * j);\r\n                // The &amp; 0xFF is necessary because byte is signed in Java\r\n            }\r\n            stringSidBuilder.append(&quot;-&quot;).append(subAuthority);\r\n        }\r\n\r\n        return stringSidBuilder.toString();\r\n    }","title":"How to convert the SID to String and vice versa in Java?","body":"<p>From <a href=\"http://miromannino.com/blog/convert-a-sid-to-string-with-java/\" rel=\"nofollow noreferrer\">http://miromannino.com/blog/convert-a-sid-to-string-with-java/</a> </p>\n\n<pre><code>public static String convertSidToStringSid(byte[] sid) {\n    int offset, size;\n\n    // sid[0] is the Revision, we allow only version 1, because it's the\n    // only that exists right now.\n    if (sid[0] != 1)\n        throw new IllegalArgumentException(\"SID revision must be 1\");\n\n    StringBuilder stringSidBuilder = new StringBuilder(\"S-1-\");\n\n    // The next byte specifies the numbers of sub authorities (number of\n    // dashes minus two)\n    int subAuthorityCount = sid[1] &amp; 0xFF;\n\n    // IdentifierAuthority (6 bytes starting from the second) (big endian)\n    long identifierAuthority = 0;\n    offset = 2;\n    size = 6;\n    for (int i = 0; i &lt; size; i++) {\n        identifierAuthority |= (long) (sid[offset + i] &amp; 0xFF) &lt;&lt; (8 * (size - 1 - i));\n        // The &amp; 0xFF is necessary because byte is signed in Java\n    }\n    if (identifierAuthority &lt; Math.pow(2, 32)) {\n        stringSidBuilder.append(Long.toString(identifierAuthority));\n    } else {\n        stringSidBuilder.append(\"0x\").append(\n                Long.toHexString(identifierAuthority).toUpperCase());\n    }\n\n    // Iterate all the SubAuthority (little-endian)\n    offset = 8;\n    size = 4; // 32-bits (4 bytes) for each SubAuthority\n    for (int i = 0; i &lt; subAuthorityCount; i++, offset += size) {\n        long subAuthority = 0;\n        for (int j = 0; j &lt; size; j++) {\n            subAuthority |= (long) (sid[offset + j] &amp; 0xFF) &lt;&lt; (8 * j);\n            // The &amp; 0xFF is necessary because byte is signed in Java\n        }\n        stringSidBuilder.append(\"-\").append(subAuthority);\n    }\n\n    return stringSidBuilder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692655054,"creation_date":1692655054,"answer_id":76948933,"question_id":7118290,"body_markdown":"Neither of existing solutions helped me. But spring-ldap can do it properly:\r\n\r\n    val e:SearchResultEntry  = ldapConnection....\r\n    val objectSidBytes = getAttributeValueBytes(&quot;ObjectSid&quot;)\r\n    val sid = LdapUtils.convertBinarySidToString(objectSidBytes)\r\n\r\nThe dependency is\r\n\r\n    implementation(&quot;org.springframework.ldap:spring-ldap-core:3.1.1&quot;)\r\n\r\n","title":"How to convert the SID to String and vice versa in Java?","body":"<p>Neither of existing solutions helped me. But spring-ldap can do it properly:</p>\n<pre><code>val e:SearchResultEntry  = ldapConnection....\nval objectSidBytes = getAttributeValueBytes(&quot;ObjectSid&quot;)\nval sid = LdapUtils.convertBinarySidToString(objectSidBytes)\n</code></pre>\n<p>The dependency is</p>\n<pre><code>implementation(&quot;org.springframework.ldap:spring-ldap-core:3.1.1&quot;)\n</code></pre>\n"}],"owner":{"account_id":483274,"reputation":125,"user_id":898210,"display_name":"mtm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12771,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7118614,"answer_count":6,"score":3,"last_activity_date":1692655054,"creation_date":1313738919,"question_id":7118290,"body_markdown":"I&#39;m writing a program in Java, using Spring-LDAP. I need to implement a method, which should search a user by SID. For this reason I use a filter like `&quot;&amp;((objectClass=User)(objectSid=&quot;+sid+&quot;))&quot;`. The search doesn&#39;t work with sid in String format like `&quot;S-1-12-345677-5676743-223344-...&quot;`.\r\n\r\nUsing Apache Directory Studio, I can query my AD LDAP database regulary using a filter like: `(objectSid=\\ff\\01\\03\\04\\1a\\2b\\...)` successfully. Here is the objectSid in hexadecimal format.\r\n\r\nNow, how to translate the SID from String to hexadecimal and vice versa in a program, in Java?","title":"How to convert the SID to String and vice versa in Java?","body":"<p>I'm writing a program in Java, using Spring-LDAP. I need to implement a method, which should search a user by SID. For this reason I use a filter like <code>\"&amp;((objectClass=User)(objectSid=\"+sid+\"))\"</code>. The search doesn't work with sid in String format like <code>\"S-1-12-345677-5676743-223344-...\"</code>.</p>\n\n<p>Using Apache Directory Studio, I can query my AD LDAP database regulary using a filter like: <code>(objectSid=\\ff\\01\\03\\04\\1a\\2b\\...)</code> successfully. Here is the objectSid in hexadecimal format.</p>\n\n<p>Now, how to translate the SID from String to hexadecimal and vice versa in a program, in Java?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":6817891,"reputation":2737,"user_id":5245903,"accept_rate":62,"display_name":"Veneet Reddy"},"score":1,"creation_date":1480879803,"post_id":40962689,"comment_id":69134627,"body_markdown":"Can you post the code used for the item and the adapter?","body":"Can you post the code used for the item and the adapter?"},{"owner":{"account_id":4100755,"reputation":365,"user_id":3366361,"accept_rate":88,"display_name":"Talut TASGIRAN"},"score":0,"creation_date":1480879842,"post_id":40962689,"comment_id":69134644,"body_markdown":"Sure! I need few seconds","body":"Sure! I need few seconds"},{"owner":{"account_id":6524211,"reputation":6593,"user_id":5047398,"accept_rate":80,"display_name":"Yasin Ka&#231;maz"},"score":1,"creation_date":1480880077,"post_id":40962689,"comment_id":69134748,"body_markdown":"Can you post your layout xml ?","body":"Can you post your layout xml ?"},{"owner":{"account_id":4100755,"reputation":365,"user_id":3366361,"accept_rate":88,"display_name":"Talut TASGIRAN"},"score":0,"creation_date":1480882499,"post_id":40962689,"comment_id":69135644,"body_markdown":"ingList.swapAdapter(ingredientsAddAdapter,true); this is work!","body":"ingList.swapAdapter(ingredientsAddAdapter,true); this is work!"}],"answers":[{"tags":[],"owner":{"account_id":4100755,"reputation":365,"user_id":3366361,"accept_rate":88,"display_name":"Talut TASGIRAN"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1480882473,"creation_date":1480882473,"answer_id":40963133,"question_id":40962689,"body_markdown":"I found the solution. :D swapAdapter is the answer (Thanks to IDE)\r\n&gt; **ingList.swapAdapter(ingredientsAddAdapter,true);**","title":"Recyclerview height is not changing after removing item","body":"<p>I found the solution. :D swapAdapter is the answer (Thanks to IDE)</p>\n\n<blockquote>\n  <p><strong>ingList.swapAdapter(ingredientsAddAdapter,true);</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11969438,"reputation":1366,"user_id":8758298,"display_name":"Meeran Tariq"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1561860144,"creation_date":1561860144,"answer_id":56821961,"question_id":40962689,"body_markdown":"I was facing the exact same issue and the thing that worked for me was \r\n\r\n    recyclerView.setHasFixedSize(false);\r\n```setHasFixedSize``` tells the ```RecyclerView``` that whether its size is dependent on the adapter content. Setting it to false is really expensive, since there will be frequent insertions and deletions in ```RecyclerView```. But in my case it was necessary.","title":"Recyclerview height is not changing after removing item","body":"<p>I was facing the exact same issue and the thing that worked for me was </p>\n\n<pre><code>recyclerView.setHasFixedSize(false);\n</code></pre>\n\n<p><code>setHasFixedSize</code> tells the <code>RecyclerView</code> that whether its size is dependent on the adapter content. Setting it to false is really expensive, since there will be frequent insertions and deletions in <code>RecyclerView</code>. But in my case it was necessary.</p>\n"},{"tags":[],"owner":{"account_id":29263675,"reputation":1,"user_id":22419987,"display_name":"gabaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692654757,"creation_date":1692567005,"answer_id":76941411,"question_id":40962689,"body_markdown":"I had the same issue with the following piece of code:\r\n\r\n    class AdapterIntent() : RecyclerView.Adapter&lt;AdapterIntent.ItemViewHolder&gt;(), ItemTouchHelperAdapter {{\r\n\r\n        override fun onItemDismiss(position: Int) {\r\n            items.removeAt(position)\r\n            notifyItemRemoved(position)\r\n        }\r\nThe item was removed but the recycler.view list height did not update. Then I even had the error IndexOutOfBoundsException if I was not deleting the items in order. What solved my issue was to add a reference to the adapter itself in the adapter class parameters like this.\r\n\r\n    class AdapterIntent(val rv: RecyclerView) : RecyclerView.Adapter&lt;AdapterIntent.ItemViewHolder&gt;(), ItemTouchHelperAdapter {{\r\n\r\n        override fun onItemDismiss(position: Int) {\r\n            items.removeAt(position)\r\n            rv.adapter?.notifyItemRemoved(position)\r\n        }\r\n\r\nI don&#39;t understand why this solved my issue though especially since I have nested recyclerview adapters that update fine with notifyItemRemoved(position) only. I guess it is related to binding since my innner recyclerview have binding items inside layout but my main list of items does NOT have binding in the layout.","title":"Recyclerview height is not changing after removing item","body":"<p>I had the same issue with the following piece of code:</p>\n<pre><code>class AdapterIntent() : RecyclerView.Adapter&lt;AdapterIntent.ItemViewHolder&gt;(), ItemTouchHelperAdapter {{\n\n    override fun onItemDismiss(position: Int) {\n        items.removeAt(position)\n        notifyItemRemoved(position)\n    }\n</code></pre>\n<p>The item was removed but the recycler.view list height did not update. Then I even had the error IndexOutOfBoundsException if I was not deleting the items in order. What solved my issue was to add a reference to the adapter itself in the adapter class parameters like this.</p>\n<pre><code>class AdapterIntent(val rv: RecyclerView) : RecyclerView.Adapter&lt;AdapterIntent.ItemViewHolder&gt;(), ItemTouchHelperAdapter {{\n\n    override fun onItemDismiss(position: Int) {\n        items.removeAt(position)\n        rv.adapter?.notifyItemRemoved(position)\n    }\n</code></pre>\n<p>I don't understand why this solved my issue though especially since I have nested recyclerview adapters that update fine with notifyItemRemoved(position) only. I guess it is related to binding since my innner recyclerview have binding items inside layout but my main list of items does NOT have binding in the layout.</p>\n"}],"owner":{"account_id":4100755,"reputation":365,"user_id":3366361,"accept_rate":88,"display_name":"Talut TASGIRAN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3437,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":40963133,"answer_count":3,"score":6,"last_activity_date":1692654757,"creation_date":1480879652,"question_id":40962689,"body_markdown":"I need help. I&#39;m working on a Android app. I use recyclerview.\r\nMy layout looks like after adding item.\r\n&gt; ***p.s (Ekle: Add / İ&#231;indekiler: ingredients / Tarif Başlığı: Recipe Title)***\r\n\r\n[![After adding items][1]][1]\r\nWhen I click &quot;X&quot; button then that item is removing but recyclerview height is not change.\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n&gt; How can I handle it? **Thanks in advance**\r\n\r\nadapter:\r\n\r\n    public class IngredientsAddAdapter extends RecyclerView.Adapter&lt;IngredientsAddAdapter.IngredientsVH&gt; {\r\n        \r\n        List&lt;String&gt; dataList;\r\n        Context context;\r\n        OnItemClickListener clickListener;\r\n    \r\n        public IngredientsAddAdapter(Context context, List&lt;String&gt; dataList) {\r\n            this.context = context;\r\n            this.dataList = dataList;\r\n        }\r\n    \r\n        @Override\r\n        public IngredientsVH onCreateViewHolder(ViewGroup viewGroup, int i) {\r\n            View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.ingredients_add_list_item, viewGroup, false);\r\n            return new IngredientsVH(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(IngredientsVH ingredientsVH, int i) {\r\n            ingredientsVH.title.setText(dataList.get(i));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return dataList == null ? 0 : dataList.size();\r\n        }\r\n    \r\n        class IngredientsVH extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n            TextView title;\r\n            ImageButton deleteIng;\r\n    \r\n            public IngredientsVH(View itemView) {\r\n                super(itemView);\r\n                title = (TextView) itemView.findViewById(R.id.ingredientItem);\r\n                deleteIng = (ImageButton) itemView.findViewById(R.id.deleteIng);\r\n                deleteIng.setOnClickListener(this);\r\n            }\r\n    \r\n            @Override\r\n            public void onClick(View v) {\r\n                clickListener.onItemClick(v, getAdapterPosition());\r\n                dataList.remove(getAdapterPosition());\r\n                notifyItemRemoved(getAdapterPosition());\r\n                notifyItemRangeChanged(getAdapterPosition(), dataList.size());\r\n            }\r\n    \r\n        }\r\n    \r\n        public interface OnItemClickListener {\r\n            public void onItemClick(View view, int position);\r\n        }\r\n    \r\n        public void SetOnItemClickListener(final OnItemClickListener itemClickListener) {\r\n            this.clickListener = itemClickListener;\r\n        }\r\n    \r\n    }\r\n\r\nActivity:\r\n\r\n    ingList = (RecyclerView) findViewById(R.id.ingList);\r\n    ingList.setNestedScrollingEnabled(false);\r\n    ingList.setLayoutManager(new LinearLayoutManager(recipeAdd.this));\r\n    ingList.setItemAnimator(new DefaultItemAnimator());\r\n    ingList.setHasFixedSize(true);\r\n    if (ingredientsAddAdapter == null) {\r\n        ingredientsAddAdapter = new IngredientsAddAdapter(recipeAdd.this, ingredientsAddArray);\r\n        ingList.setAdapter(ingredientsAddAdapter);\r\n        ingredientsAddAdapter.SetOnItemClickListener(new IngredientsAddAdapter.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(View view, int position) {\r\n            }\r\n        });\r\n    }\r\n\r\nrecipe_add.xml (These codes are for testing purposes only. :D )\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorBg&quot;\r\n        android:padding=&quot;5dp&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;&gt;\r\n    \r\n    \r\n            &lt;android.support.v7.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_alignParentLeft=&quot;true&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:orientation=&quot;vertical&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                    &lt;EditText\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:ems=&quot;10&quot;\r\n                        android:id=&quot;@+id/recipeTitle&quot;\r\n                        android:inputType=&quot;text&quot;\r\n                        android:hint=&quot;Tarif Başlığı&quot;\r\n                        style=&quot;@style/Widget.AppCompat.Light.AutoCompleteTextView&quot;\r\n                        android:fontFamily=&quot;sans-serif&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:textStyle=&quot;normal|bold&quot;\r\n                        android:layout_margin=&quot;5dp&quot;\r\n                        android:background=&quot;@drawable/border&quot;\r\n                        android:padding=&quot;10dp&quot; /&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n    \r\n            &lt;android.support.v7.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                    &lt;Button\r\n                        android:text=&quot;Ekle&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot;\r\n                        android:id=&quot;@+id/ingAdd&quot;\r\n                        android:onClick=&quot;addIng&quot; /&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:text=&quot;İ&#231;indekiler&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:id=&quot;@+id/textView4&quot;\r\n                        android:textStyle=&quot;normal|bold&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:padding=&quot;10dp&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:layout_alignParentLeft=&quot;true&quot;\r\n                        android:layout_alignParentStart=&quot;true&quot; /&gt;\r\n                &lt;/RelativeLayout&gt;\r\n    \r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n    \r\n            &lt;android.support.v7.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n                &lt;android.support.v7.widget.RecyclerView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:id=&quot;@+id/ingList&quot; /&gt;\r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\ningredients_add_list_item.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:background=&quot;@drawable/border_top&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:src=&quot;@drawable/crop__ic_cancel&quot;\r\n            android:id=&quot;@+id/deleteIng&quot;\r\n            android:background=&quot;@android:color/transparent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/ingredientItem&quot;\r\n            android:text=&quot;Hello world&quot;\r\n            android:textSize=&quot;16dp&quot;\r\n            android:textColor=&quot;@color/colorDark&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:padding=&quot;8dp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/isClick&quot;\r\n            android:text=&quot;false&quot;\r\n            android:textSize=&quot;16dp&quot;\r\n            android:visibility=&quot;gone&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/8nfoF.png\r\n  [2]: https://i.stack.imgur.com/nJpvH.png\r\n  [3]: https://i.stack.imgur.com/nY0UM.png\r\n\r\n\r\n\r\n","title":"Recyclerview height is not changing after removing item","body":"<p>I need help. I'm working on a Android app. I use recyclerview.\nMy layout looks like after adding item.</p>\n\n<blockquote>\n  <p><strong><em>p.s (Ekle: Add / İçindekiler: ingredients / Tarif Başlığı: Recipe Title)</em></strong></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/8nfoF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8nfoF.png\" alt=\"After adding items\"></a>\nWhen I click \"X\" button then that item is removing but recyclerview height is not change.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nJpvH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nJpvH.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/nY0UM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nY0UM.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>How can I handle it? <strong>Thanks in advance</strong></p>\n</blockquote>\n\n<p>adapter:</p>\n\n<pre><code>public class IngredientsAddAdapter extends RecyclerView.Adapter&lt;IngredientsAddAdapter.IngredientsVH&gt; {\n\n    List&lt;String&gt; dataList;\n    Context context;\n    OnItemClickListener clickListener;\n\n    public IngredientsAddAdapter(Context context, List&lt;String&gt; dataList) {\n        this.context = context;\n        this.dataList = dataList;\n    }\n\n    @Override\n    public IngredientsVH onCreateViewHolder(ViewGroup viewGroup, int i) {\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.ingredients_add_list_item, viewGroup, false);\n        return new IngredientsVH(view);\n    }\n\n    @Override\n    public void onBindViewHolder(IngredientsVH ingredientsVH, int i) {\n        ingredientsVH.title.setText(dataList.get(i));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataList == null ? 0 : dataList.size();\n    }\n\n    class IngredientsVH extends RecyclerView.ViewHolder implements View.OnClickListener {\n        TextView title;\n        ImageButton deleteIng;\n\n        public IngredientsVH(View itemView) {\n            super(itemView);\n            title = (TextView) itemView.findViewById(R.id.ingredientItem);\n            deleteIng = (ImageButton) itemView.findViewById(R.id.deleteIng);\n            deleteIng.setOnClickListener(this);\n        }\n\n        @Override\n        public void onClick(View v) {\n            clickListener.onItemClick(v, getAdapterPosition());\n            dataList.remove(getAdapterPosition());\n            notifyItemRemoved(getAdapterPosition());\n            notifyItemRangeChanged(getAdapterPosition(), dataList.size());\n        }\n\n    }\n\n    public interface OnItemClickListener {\n        public void onItemClick(View view, int position);\n    }\n\n    public void SetOnItemClickListener(final OnItemClickListener itemClickListener) {\n        this.clickListener = itemClickListener;\n    }\n\n}\n</code></pre>\n\n<p>Activity:</p>\n\n<pre><code>ingList = (RecyclerView) findViewById(R.id.ingList);\ningList.setNestedScrollingEnabled(false);\ningList.setLayoutManager(new LinearLayoutManager(recipeAdd.this));\ningList.setItemAnimator(new DefaultItemAnimator());\ningList.setHasFixedSize(true);\nif (ingredientsAddAdapter == null) {\n    ingredientsAddAdapter = new IngredientsAddAdapter(recipeAdd.this, ingredientsAddArray);\n    ingList.setAdapter(ingredientsAddAdapter);\n    ingredientsAddAdapter.SetOnItemClickListener(new IngredientsAddAdapter.OnItemClickListener() {\n        @Override\n        public void onItemClick(View view, int position) {\n        }\n    });\n}\n</code></pre>\n\n<p>recipe_add.xml (These codes are for testing purposes only. :D )</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorBg\"\n    android:padding=\"5dp\"&gt;\n\n    &lt;LinearLayout\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"&gt;\n\n\n        &lt;android.support.v7.widget.CardView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_alignParentLeft=\"true\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginBottom=\"10dp\"&gt;\n\n            &lt;LinearLayout\n                android:orientation=\"vertical\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n\n                &lt;EditText\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:ems=\"10\"\n                    android:id=\"@+id/recipeTitle\"\n                    android:inputType=\"text\"\n                    android:hint=\"Tarif Başlığı\"\n                    style=\"@style/Widget.AppCompat.Light.AutoCompleteTextView\"\n                    android:fontFamily=\"sans-serif\"\n                    android:textSize=\"14sp\"\n                    android:textStyle=\"normal|bold\"\n                    android:layout_margin=\"5dp\"\n                    android:background=\"@drawable/border\"\n                    android:padding=\"10dp\" /&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/android.support.v7.widget.CardView&gt;\n\n        &lt;android.support.v7.widget.CardView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n\n                &lt;Button\n                    android:text=\"Ekle\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:id=\"@+id/ingAdd\"\n                    android:onClick=\"addIng\" /&gt;\n\n                &lt;TextView\n                    android:text=\"İçindekiler\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:id=\"@+id/textView4\"\n                    android:textStyle=\"normal|bold\"\n                    android:textSize=\"14sp\"\n                    android:padding=\"10dp\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_alignParentLeft=\"true\"\n                    android:layout_alignParentStart=\"true\" /&gt;\n            &lt;/RelativeLayout&gt;\n\n        &lt;/android.support.v7.widget.CardView&gt;\n\n        &lt;android.support.v7.widget.CardView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;android.support.v7.widget.RecyclerView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/ingList\" /&gt;\n        &lt;/android.support.v7.widget.CardView&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>ingredients_add_list_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:background=\"@drawable/border_top\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;ImageButton\n        android:layout_width=\"30dp\"\n        android:layout_height=\"match_parent\"\n        android:src=\"@drawable/crop__ic_cancel\"\n        android:id=\"@+id/deleteIng\"\n        android:background=\"@android:color/transparent\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/ingredientItem\"\n        android:text=\"Hello world\"\n        android:textSize=\"16dp\"\n        android:textColor=\"@color/colorDark\"\n        android:textStyle=\"bold\"\n        android:padding=\"8dp\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/isClick\"\n        android:text=\"false\"\n        android:textSize=\"16dp\"\n        android:visibility=\"gone\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","facebook"],"answers":[{"tags":[],"owner":{"account_id":5138179,"reputation":91,"user_id":4116301,"display_name":"me."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692654644,"creation_date":1692623016,"answer_id":76945565,"question_id":76945235,"body_markdown":"The API documentation provides details about how to publish photos: https://developers.facebook.com/docs/pages/publishing#publish-a-photo\r\n\r\nAccordingly, the JAVA SDK provides a method `public APIRequestCreatePhoto createPhoto()`, which you should use instead of `createFeed()`.\r\n\r\nSimilarly, the API explains how to schedule a post: https://developers.facebook.com/docs/pages/publishing#schedule-a-page-post\r\n- you have to set `published` to `false`, which can be achieved using method`APIRequestCreatePhoto.setPublished` and \r\n- you need to set the `schedule_publish_time` parameter using method `APIRequestCreatePhoto.setScheduledPublishTime`\r\n\r\nEdit: Retrieving scheduled posts is possible using method `public APIRequestGetScheduledPosts getScheduledPosts()` of class `Page` (https://developers.facebook.com/docs/graph-api/reference/page/scheduled_posts/). ","title":"How to schedule a facebook page post?","body":"<p>The API documentation provides details about how to publish photos: <a href=\"https://developers.facebook.com/docs/pages/publishing#publish-a-photo\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/pages/publishing#publish-a-photo</a></p>\n<p>Accordingly, the JAVA SDK provides a method <code>public APIRequestCreatePhoto createPhoto()</code>, which you should use instead of <code>createFeed()</code>.</p>\n<p>Similarly, the API explains how to schedule a post: <a href=\"https://developers.facebook.com/docs/pages/publishing#schedule-a-page-post\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/pages/publishing#schedule-a-page-post</a></p>\n<ul>\n<li>you have to set <code>published</code> to <code>false</code>, which can be achieved using method<code>APIRequestCreatePhoto.setPublished</code> and</li>\n<li>you need to set the <code>schedule_publish_time</code> parameter using method <code>APIRequestCreatePhoto.setScheduledPublishTime</code></li>\n</ul>\n<p>Edit: Retrieving scheduled posts is possible using method <code>public APIRequestGetScheduledPosts getScheduledPosts()</code> of class <code>Page</code> (<a href=\"https://developers.facebook.com/docs/graph-api/reference/page/scheduled_posts/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/graph-api/reference/page/scheduled_posts/</a>).</p>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692654644,"creation_date":1692620489,"question_id":76945235,"body_markdown":"I need to shedule a facebook post using an image. It should appear in the planner tool of the Meta Business Suite.\r\n\r\nI found this example, but I can&#39;t figure out how to use an image and set a publication date.\r\n\r\n\r\nDepencency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.facebook.business.sdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;facebook-java-business-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nCode: \r\n\r\n    import com.facebook.ads.sdk.*;\r\n    import java.io.File;\r\n    import java.util.Arrays;\r\n\r\n    public class PageFeedPost {\r\n        public static void main (String args[]) throws APIException {\r\n\r\n            // https://github.com/facebook/facebook-java-business-sdk/blob/main/examples/PageFeedPost.java\r\n\r\n            String access_token = &quot;&lt;ACCESS_TOKEN&gt;&quot;;\r\n            String app_secret = &quot;&lt;APP_SECRET&gt;&quot;;\r\n            String app_id = &quot;&lt;APP_ID&gt;&quot;;\r\n            String id = &quot;&lt;PAGE_ID&gt;&quot;;\r\n            APIContext context = new APIContext(access_token).enableDebug(true);\r\n\r\n            new Page(id, context).createFeed()\r\n                .setMessage(&quot;This is a test value&quot;)\r\n                .execute();\r\n\r\n        }\r\n    }\r\n\r\nAlso, how to get all scheduled items from the planner? \r\n\r\n","title":"How to schedule a facebook page post?","body":"<p>I need to shedule a facebook post using an image. It should appear in the planner tool of the Meta Business Suite.</p>\n<p>I found this example, but I can't figure out how to use an image and set a publication date.</p>\n<p>Depencency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.facebook.business.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;facebook-java-business-sdk&lt;/artifactId&gt;\n        &lt;version&gt;17.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>import com.facebook.ads.sdk.*;\nimport java.io.File;\nimport java.util.Arrays;\n\npublic class PageFeedPost {\n    public static void main (String args[]) throws APIException {\n\n        // https://github.com/facebook/facebook-java-business-sdk/blob/main/examples/PageFeedPost.java\n\n        String access_token = &quot;&lt;ACCESS_TOKEN&gt;&quot;;\n        String app_secret = &quot;&lt;APP_SECRET&gt;&quot;;\n        String app_id = &quot;&lt;APP_ID&gt;&quot;;\n        String id = &quot;&lt;PAGE_ID&gt;&quot;;\n        APIContext context = new APIContext(access_token).enableDebug(true);\n\n        new Page(id, context).createFeed()\n            .setMessage(&quot;This is a test value&quot;)\n            .execute();\n\n    }\n}\n</code></pre>\n<p>Also, how to get all scheduled items from the planner?</p>\n"},{"tags":["java","android","flutter","android-studio","sdk"],"owner":{"account_id":20631443,"reputation":1,"user_id":15146191,"display_name":"Hassan Abdalzahir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692654546,"creation_date":1692594717,"question_id":76942524,"body_markdown":"My Emulator&#39;s Location simulation Shows a white blank screen as shown [Location Simulator](https://i.stack.imgur.com/3EZXi.png)\r\nI tried everything in here [emulators-location-simulation-not-working](https://stackoverflow.com/questions/38247350/emulators-location-simulation-not-working)\r\nand Still not Working\r\n\r\nI expect to find a solution to this case","title":"Emulator&#39;s Location simulation Showing white blank screen","body":"<p>My Emulator's Location simulation Shows a white blank screen as shown <a href=\"https://i.stack.imgur.com/3EZXi.png\" rel=\"nofollow noreferrer\">Location Simulator</a>\nI tried everything in here <a href=\"https://stackoverflow.com/questions/38247350/emulators-location-simulation-not-working\">emulators-location-simulation-not-working</a>\nand Still not Working</p>\n<p>I expect to find a solution to this case</p>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"score":0,"creation_date":1692642784,"post_id":76947408,"comment_id":135648777,"body_markdown":"Can you share the removePlayerAtPosition &amp; addPlayer methods or the full adapter implementation?","body":"Can you share the removePlayerAtPosition &amp; addPlayer methods or the full adapter implementation?"},{"owner":{"account_id":29269577,"reputation":1,"user_id":22424701,"display_name":"phil360 "},"score":0,"creation_date":1692653355,"post_id":76947408,"comment_id":135650594,"body_markdown":"Yes ive added both adapters to the code block","body":"Yes ive added both adapters to the code block"},{"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"score":0,"creation_date":1692667783,"post_id":76947408,"comment_id":135652024,"body_markdown":"Ok, your code looks fine to me. Now can you explain what&#39;s the issue? is the card not swiping? is it removing from the first recyclerview but not showing in the other? is it not removing at all from the recyclerview ? are you getting some kind on exception... etc\nYou need to explain further the problem you are not facing.","body":"Ok, your code looks fine to me. Now can you explain what&#39;s the issue? is the card not swiping? is it removing from the first recyclerview but not showing in the other? is it not removing at all from the recyclerview ? are you getting some kind on exception... etc You need to explain further the problem you are not facing."},{"owner":{"account_id":29269577,"reputation":1,"user_id":22424701,"display_name":"phil360 "},"score":0,"creation_date":1692804801,"post_id":76947408,"comment_id":135674905,"body_markdown":"The card wont swipe pretty much is all\nwhen i do swipe I get those shadow stretch indicators at the border of the recyclerView\nIve done a logCat check and the itemtouchhelper isnt even being triggered","body":"The card wont swipe pretty much is all when i do swipe I get those shadow stretch indicators at the border of the recyclerView Ive done a logCat check and the itemtouchhelper isnt even being triggered"}],"owner":{"account_id":29269577,"reputation":1,"user_id":22424701,"display_name":"phil360 "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692653324,"creation_date":1692637845,"question_id":76947408,"body_markdown":"Im currently working in android studio and im trying to use onswipe to allow the user to move cardviews between 2 arrays \r\nbasically the way it would work is you swipe a cardview in one recyclerview it shows up in the other\r\nive setup a basic implementation but its not working\r\n\r\nive looked for at a ton of tutorials and tried to get gtp to help me\r\nthis is all the code related to the recyclerviews within this project\r\n\r\n\r\n   ``` private PitchAdapter pitchAdapter1;\r\n    private PitchAdapter pitchAdapter2;\r\n    private BenchAdapter benchAdapter1;\r\n    private BenchAdapter benchAdapter2;\r\n\r\n    ArrayList&lt;Player&gt; playing = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Player&gt; playing2 = new ArrayList&lt;&gt;();\r\n\r\n    ArrayList&lt;Player&gt; benched1 = new ArrayList&lt;&gt;();\r\n\r\n    ArrayList&lt;Player&gt; benched2 = new ArrayList&lt;&gt;();\r\n\r\n        // Set up RecyclerViews In the OnCreate\r\n        RecyclerView field1RecyclerView = findViewById(R.id.field1);\r\n        RecyclerView field2RecyclerView = findViewById(R.id.field2);\r\n        RecyclerView bench1RecyclerView = findViewById(R.id.bench1);\r\n        RecyclerView bench2RecyclerView = findViewById(R.id.bench2);\r\n\r\n        LinearLayoutManager layoutManager1 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\r\n        LinearLayoutManager layoutManager2 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\r\n        LinearLayoutManager layoutManager3 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\r\n        LinearLayoutManager layoutManager4 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\r\n\r\n        bench1RecyclerView.setLayoutManager(layoutManager1);\r\n        bench2RecyclerView.setLayoutManager(layoutManager2);\r\n        field1RecyclerView.setLayoutManager(layoutManager3);\r\n        field2RecyclerView.setLayoutManager(layoutManager4);\r\n\r\n\r\n        pitchAdapter1 = new PitchAdapter(this, playing);\r\n        pitchAdapter2 = new PitchAdapter(this, playing2);\r\n        benchAdapter1 = new BenchAdapter(this, benched1);\r\n        benchAdapter2 = new BenchAdapter(this, benched2);\r\n\r\n\r\n        field1RecyclerView.setAdapter(pitchAdapter1);\r\n        field2RecyclerView.setAdapter(pitchAdapter2);\r\n        bench1RecyclerView.setAdapter(benchAdapter1);\r\n        bench2RecyclerView.setAdapter(benchAdapter2);\r\n\r\n        ItemTouchHelper itemTouchHelper1 = new ItemTouchHelper(simpleCallback);\r\n        android.util.Log.d(&quot;STRING&quot;,  &quot;CHECKINGATTACH&quot;);\r\n        itemTouchHelper1.attachToRecyclerView(bench1RecyclerView);\r\n\r\n   \r\n\r\n ItemTouchHelper.SimpleCallback simpleCallback = new ItemTouchHelper.SimpleCallback(0,ItemTouchHelper.LEFT|ItemTouchHelper.RIGHT) {\r\n        @Override\r\n        public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n            if(direction == ItemTouchHelper.LEFT){\r\n                android.util.Log.d(&quot;TAG&quot;, &quot;CHECK&quot;);\r\n                int position = viewHolder.getAdapterPosition();\r\n                Player player = benchAdapter1.getPlayerAtPosition(position);\r\n\r\n                // Update bench adapter and field adapter\r\n                benchAdapter1.removePlayerAtPosition(position);\r\n                pitchAdapter1.addPlayer(player);\r\n\r\n                // Update underlying data structures\r\n                benched1.remove(player);\r\n                playing.add(player);\r\n\r\n            }\r\n        }\r\n    };```\r\n\r\n\r\npackage com.example.teamcreatorv2.Adapters;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.teamcreatorv2.Items.Player;\r\nimport com.example.teamcreatorv2.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class BenchAdapter extends RecyclerView.Adapter&lt;BenchAdapter.benchViewHolder&gt; {\r\n\r\n\r\n    Context context;\r\n\r\n    ArrayList&lt;Player&gt; players;\r\n\r\n\r\n\r\n    public BenchAdapter(Context context, ArrayList&lt;Player&gt; players) {\r\n        this.context = context;\r\n        this.players = players;\r\n    }\r\n\r\n\r\n\r\n    public Player getPlayerAtPosition(int position) {\r\n        if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\r\n            return players.get(position);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Method to remove a player at a specific position\r\n    public void removePlayerAtPosition(int position) {\r\n        if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\r\n            players.remove(position);\r\n            notifyItemRemoved(position);\r\n        }\r\n    }\r\n\r\n\r\n        @NonNull\r\n        @Override\r\n        public BenchAdapter.benchViewHolder onCreateViewHolder (@NonNull ViewGroup parent,\r\n        int viewType){\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            View view = inflater.inflate(R.layout.pitch_cards, parent, false);\r\n            return new BenchAdapter.benchViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder (@NonNull BenchAdapter.benchViewHolder holder,int position){\r\n            holder.Name.setText(players.get(position).getPlayerName());\r\n            holder.Num.setText(players.get(position).getPlayerNumber());\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount () {\r\n            return players.size();\r\n        }\r\n\r\n\r\n\r\n        public static class benchViewHolder extends RecyclerView.ViewHolder {\r\n            TextView Num;\r\n            TextView Name;\r\n\r\n            public benchViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                Num = itemView.findViewById(R.id.Num);\r\n                Name = itemView.findViewById(R.id.Name);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\npackage com.example.teamcreatorv2.Adapters;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.teamcreatorv2.Items.Player;\r\nimport com.example.teamcreatorv2.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class PitchAdapter extends RecyclerView.Adapter&lt;PitchAdapter.pitchViewHolder&gt; {\r\n\r\n    Context context;\r\n\r\n    ArrayList&lt;Player&gt; players;\r\n\r\n\r\n\r\n    public PitchAdapter(Context context, ArrayList&lt;Player&gt; players){\r\n        this.context = context;\r\n        this.players = players;\r\n    }\r\n    // ...\r\n\r\n        // Method to get a player at a specific position\r\n        public Player getPlayerAtPosition(int position) {\r\n            if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\r\n                return players.get(position);\r\n            }\r\n            return null;\r\n        }\r\n\r\n\r\n        // Method to remove a player at a specific position\r\n        public void removePlayerAtPosition(int position) {\r\n            if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\r\n                players.remove(position);\r\n                notifyItemRemoved(position);\r\n            }\r\n        }\r\n\r\n         public void addPlayer(Player player) {\r\n             players.add(player);\r\n            notifyItemInserted(players.size() - 1);\r\n    }\r\n\r\n\r\n        // ...\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public PitchAdapter.pitchViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.pitch_cards, parent, false);\r\n        return new PitchAdapter.pitchViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PitchAdapter.pitchViewHolder holder, int position) {\r\n        Player player = players.get(position);\r\n        holder.Name.setText(players.get(position).getPlayerName());\r\n        holder.Num.setText(players.get(position).getPlayerNumber());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return players.size();\r\n    }\r\n\r\n\r\n\r\n    public static class pitchViewHolder extends RecyclerView.ViewHolder{\r\n        TextView Num;\r\n        TextView Name;\r\n        public pitchViewHolder(@NonNull View itemView){\r\n            super(itemView);\r\n            Num = itemView.findViewById(R.id.Num);\r\n            Name = itemView.findViewById(R.id.Name);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nIm almost certain im trying to be too blunt about the whole thing and theres a much cleaner way to make this work this is my first android studio project so im still trying to figure all this out\r\n\r\n\r\n\r\n","title":"Trying to swipe cardViews between two recyclerViews","body":"<p>Im currently working in android studio and im trying to use onswipe to allow the user to move cardviews between 2 arrays\nbasically the way it would work is you swipe a cardview in one recyclerview it shows up in the other\nive setup a basic implementation but its not working</p>\n<p>ive looked for at a ton of tutorials and tried to get gtp to help me\nthis is all the code related to the recyclerviews within this project</p>\n<pre><code> private PitchAdapter pitchAdapter2;\n private BenchAdapter benchAdapter1;\n private BenchAdapter benchAdapter2;\n\n ArrayList&lt;Player&gt; playing = new ArrayList&lt;&gt;();\n ArrayList&lt;Player&gt; playing2 = new ArrayList&lt;&gt;();\n\n ArrayList&lt;Player&gt; benched1 = new ArrayList&lt;&gt;();\n\n ArrayList&lt;Player&gt; benched2 = new ArrayList&lt;&gt;();\n\n     // Set up RecyclerViews In the OnCreate\n     RecyclerView field1RecyclerView = findViewById(R.id.field1);\n     RecyclerView field2RecyclerView = findViewById(R.id.field2);\n     RecyclerView bench1RecyclerView = findViewById(R.id.bench1);\n     RecyclerView bench2RecyclerView = findViewById(R.id.bench2);\n\n     LinearLayoutManager layoutManager1 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n     LinearLayoutManager layoutManager2 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n     LinearLayoutManager layoutManager3 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n     LinearLayoutManager layoutManager4 = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n\n     bench1RecyclerView.setLayoutManager(layoutManager1);\n     bench2RecyclerView.setLayoutManager(layoutManager2);\n     field1RecyclerView.setLayoutManager(layoutManager3);\n     field2RecyclerView.setLayoutManager(layoutManager4);\n\n\n     pitchAdapter1 = new PitchAdapter(this, playing);\n     pitchAdapter2 = new PitchAdapter(this, playing2);\n     benchAdapter1 = new BenchAdapter(this, benched1);\n     benchAdapter2 = new BenchAdapter(this, benched2);\n\n\n     field1RecyclerView.setAdapter(pitchAdapter1);\n     field2RecyclerView.setAdapter(pitchAdapter2);\n     bench1RecyclerView.setAdapter(benchAdapter1);\n     bench2RecyclerView.setAdapter(benchAdapter2);\n\n     ItemTouchHelper itemTouchHelper1 = new ItemTouchHelper(simpleCallback);\n     android.util.Log.d(&quot;STRING&quot;,  &quot;CHECKINGATTACH&quot;);\n     itemTouchHelper1.attachToRecyclerView(bench1RecyclerView);\n\n\n\nItemTouchHelper.SimpleCallback simpleCallback = new ItemTouchHelper.SimpleCallback(0,ItemTouchHelper.LEFT|ItemTouchHelper.RIGHT) {\n     @Override\n     public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n         return false;\n     }\n\n     @Override\n     public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n         if(direction == ItemTouchHelper.LEFT){\n             android.util.Log.d(&quot;TAG&quot;, &quot;CHECK&quot;);\n             int position = viewHolder.getAdapterPosition();\n             Player player = benchAdapter1.getPlayerAtPosition(position);\n\n             // Update bench adapter and field adapter\n             benchAdapter1.removePlayerAtPosition(position);\n             pitchAdapter1.addPlayer(player);\n\n             // Update underlying data structures\n             benched1.remove(player);\n             playing.add(player);\n\n         }\n     }\n };```\n\n\npackage com.example.teamcreatorv2.Adapters;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.teamcreatorv2.Items.Player;\nimport com.example.teamcreatorv2.R;\n\nimport java.util.ArrayList;\n\npublic class BenchAdapter extends RecyclerView.Adapter&lt;BenchAdapter.benchViewHolder&gt; {\n\n\n Context context;\n\n ArrayList&lt;Player&gt; players;\n\n\n\n public BenchAdapter(Context context, ArrayList&lt;Player&gt; players) {\n     this.context = context;\n     this.players = players;\n }\n\n\n\n public Player getPlayerAtPosition(int position) {\n     if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\n         return players.get(position);\n     }\n     return null;\n }\n\n // Method to remove a player at a specific position\n public void removePlayerAtPosition(int position) {\n     if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\n         players.remove(position);\n         notifyItemRemoved(position);\n     }\n }\n\n\n     @NonNull\n     @Override\n     public BenchAdapter.benchViewHolder onCreateViewHolder (@NonNull ViewGroup parent,\n     int viewType){\n         LayoutInflater inflater = LayoutInflater.from(context);\n         View view = inflater.inflate(R.layout.pitch_cards, parent, false);\n         return new BenchAdapter.benchViewHolder(view);\n     }\n\n     @Override\n     public void onBindViewHolder (@NonNull BenchAdapter.benchViewHolder holder,int position){\n         holder.Name.setText(players.get(position).getPlayerName());\n         holder.Num.setText(players.get(position).getPlayerNumber());\n     }\n\n     @Override\n     public int getItemCount () {\n         return players.size();\n     }\n\n\n\n     public static class benchViewHolder extends RecyclerView.ViewHolder {\n         TextView Num;\n         TextView Name;\n\n         public benchViewHolder(@NonNull View itemView) {\n             super(itemView);\n             Num = itemView.findViewById(R.id.Num);\n             Name = itemView.findViewById(R.id.Name);\n         }\n\n     }\n }\n\n\npackage com.example.teamcreatorv2.Adapters;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.teamcreatorv2.Items.Player;\nimport com.example.teamcreatorv2.R;\n\nimport java.util.ArrayList;\n\npublic class PitchAdapter extends RecyclerView.Adapter&lt;PitchAdapter.pitchViewHolder&gt; {\n\n Context context;\n\n ArrayList&lt;Player&gt; players;\n\n\n\n public PitchAdapter(Context context, ArrayList&lt;Player&gt; players){\n     this.context = context;\n     this.players = players;\n }\n // ...\n\n     // Method to get a player at a specific position\n     public Player getPlayerAtPosition(int position) {\n         if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\n             return players.get(position);\n         }\n         return null;\n     }\n\n\n     // Method to remove a player at a specific position\n     public void removePlayerAtPosition(int position) {\n         if (position &gt;= 0 &amp;&amp; position &lt; players.size()) {\n             players.remove(position);\n             notifyItemRemoved(position);\n         }\n     }\n\n      public void addPlayer(Player player) {\n          players.add(player);\n         notifyItemInserted(players.size() - 1);\n }\n\n\n     // ...\n\n\n\n @NonNull\n @Override\n public PitchAdapter.pitchViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n     LayoutInflater inflater = LayoutInflater.from(context);\n     View view = inflater.inflate(R.layout.pitch_cards, parent, false);\n     return new PitchAdapter.pitchViewHolder(view);\n }\n\n @Override\n public void onBindViewHolder(@NonNull PitchAdapter.pitchViewHolder holder, int position) {\n     Player player = players.get(position);\n     holder.Name.setText(players.get(position).getPlayerName());\n     holder.Num.setText(players.get(position).getPlayerNumber());\n }\n\n @Override\n public int getItemCount() {\n     return players.size();\n }\n\n\n\n public static class pitchViewHolder extends RecyclerView.ViewHolder{\n     TextView Num;\n     TextView Name;\n     public pitchViewHolder(@NonNull View itemView){\n         super(itemView);\n         Num = itemView.findViewById(R.id.Num);\n         Name = itemView.findViewById(R.id.Name);\n     }\n\n }\n}\n\n\nIm almost certain im trying to be too blunt about the whole thing and theres a much cleaner way to make this work this is my first android studio project so im still trying to figure all this out\n\n\n\n</code></pre>\n"},{"tags":["java","comparison-operators","assertj"],"owner":{"account_id":20521695,"reputation":1,"user_id":15061131,"display_name":"Anonymous Person"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692653113,"creation_date":1692653095,"question_id":76948780,"body_markdown":"I&#39;ve found ways to ignore fields based on names and types. Is it possible to ignore fields based on values. Like if I have an object\r\n```\r\na.loc = @djhabds\r\nb.loc = @892dfhs\r\n```\r\n\r\nEven though they are different, but they are memory locations so I don&#39;t care in my comparison.\r\nI have many fields like this so I&#39;d prefer a way to filter based on values instead of field names and types","title":"Assert4j: how to ignore fields based on actual values","body":"<p>I've found ways to ignore fields based on names and types. Is it possible to ignore fields based on values. Like if I have an object</p>\n<pre><code>a.loc = @djhabds\nb.loc = @892dfhs\n</code></pre>\n<p>Even though they are different, but they are memory locations so I don't care in my comparison.\nI have many fields like this so I'd prefer a way to filter based on values instead of field names and types</p>\n"},{"tags":["java","docker","dockerfile","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":3086196,"reputation":10637,"user_id":4144042,"accept_rate":75,"display_name":"Thanh Nguyen Van"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692653044,"creation_date":1692651429,"answer_id":76948662,"question_id":76947367,"body_markdown":"Follow this https://www.jenkins.io/doc/book/installing/docker/\r\n\r\nYou shold `mount` : \r\n\r\n    docker run --name jenkins -p 8080:8080 -p 50000:50000 -v jenkins_home:/var/jenkins_home jenkins/jenkins:lts-jdk11\r\n\r\nAnd the path of `hello-1-0.0.1-SNAPSHOT.jar` file is incorrected.\r\nIt should be: \r\n\r\n    ENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;./hello-1-0.0.1-SNAPSHOT.jar&quot; ]\r\n\r\n","title":"Jenkins build error: Cannot find Docker volume","body":"<p>Follow this <a href=\"https://www.jenkins.io/doc/book/installing/docker/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/installing/docker/</a></p>\n<p>You shold <code>mount</code> :</p>\n<pre><code>docker run --name jenkins -p 8080:8080 -p 50000:50000 -v jenkins_home:/var/jenkins_home jenkins/jenkins:lts-jdk11\n</code></pre>\n<p>And the path of <code>hello-1-0.0.1-SNAPSHOT.jar</code> file is incorrected.\nIt should be:</p>\n<pre><code>ENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;./hello-1-0.0.1-SNAPSHOT.jar&quot; ]\n</code></pre>\n"}],"owner":{"account_id":18412714,"reputation":19,"user_id":13412515,"display_name":"Athul Raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692653044,"creation_date":1692637407,"question_id":76947367,"body_markdown":"I am running jenkins on docker.I am using windows 11 to run docker\r\n\r\nI used below commands for creating jenkins image on docker.\r\n\r\n    docker pull jenkins/jenkins:lts-jdk11\r\n\r\n    docker run --name jenkins -p 8080:8080 -p 50000:50000 -v jenkins_home:/var/jenkins jenkins/jenkins:lts-jdk11\r\n\r\nwhile I was trying to create docker image for my springboot application as a freestyle project in jenkins I encountered the below problem\r\n\r\n\r\n\r\n```\r\n[ne-demo] $ docker build -t user5880/hello --pull=true /var/jenkins_home/workspace/ne-demo\r\nERROR: Cannot run program &quot;docker&quot; (in directory &quot;/var/jenkins_home/workspace/ne-demo&quot;): error=2, No such file or directory\r\njava.io.IOException: Cannot run program &quot;docker&quot; (in directory &quot;/var/jenkins_home/workspace/ne-demo&quot;): error=2, No such file or directory\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n\tat hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:254)\r\n\tat hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:223)\r\n\tat hudson.Launcher$LocalLauncher.launch(Launcher.java:997)\r\n\tat hudson.Launcher$ProcStarter.start(Launcher.java:509)\r\n\tat com.cloudbees.dockerpublish.DockerBuilder$Perform.executeCmd(DockerBuilder.java:489)\r\n\tat com.cloudbees.dockerpublish.DockerBuilder$Perform.executeCmd(DockerBuilder.java:431)\r\n\tat com.cloudbees.dockerpublish.DockerBuilder$Perform.buildAndTag(DockerBuilder.java:373)\r\n\tat com.cloudbees.dockerpublish.DockerBuilder$Perform.exec(DockerBuilder.java:311)\r\n\tat com.cloudbees.dockerpublish.DockerBuilder$Perform.access$100(DockerBuilder.java:291)\r\n\tat com.cloudbees.dockerpublish.DockerBuilder.perform(DockerBuilder.java:262)\r\n\tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:818)\r\n\tat hudson.model.Build$BuildExecution.build(Build.java:199)\r\n\tat hudson.model.Build$BuildExecution.doRun(Build.java:164)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\r\n\tat hudson.model.Run.execute(Run.java:1900)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n\tat hudson.model.Executor.run(Executor.java:442)\r\nCaused by: java.io.IOException: error=2, No such file or directory\r\n\tat java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\r\n\tat java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:340)\r\n\tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:271)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\r\n\t... 20 more\r\nBuild step &#39;Docker Build and Publish&#39; marked build as failure\r\nFinished: FAILURE\r\n\r\n```\r\n \r\n\r\n\r\n\r\nI configured Docker,Maven,JDK in jenkins dashboard .\r\n\r\nI am new to platform and trying to learn dockerising the spring boot application.\r\n\r\nDcokerfile I created \r\n```\r\nFROM openjdk:11\r\nEXPOSE 8080\r\nADD target/hello-1-0.0.1-SNAPSHOT.jar hello-1-0.0.1-SNAPSHOT.jar\r\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/hello-1-0.0.1-SNAPSHOT.jar&quot; ]\r\n```\r\n\r\n\r\nCan Someone help me?\r\n\r\n","title":"Jenkins build error: Cannot find Docker volume","body":"<p>I am running jenkins on docker.I am using windows 11 to run docker</p>\n<p>I used below commands for creating jenkins image on docker.</p>\n<pre><code>docker pull jenkins/jenkins:lts-jdk11\n\ndocker run --name jenkins -p 8080:8080 -p 50000:50000 -v jenkins_home:/var/jenkins jenkins/jenkins:lts-jdk11\n</code></pre>\n<p>while I was trying to create docker image for my springboot application as a freestyle project in jenkins I encountered the below problem</p>\n<pre><code>[ne-demo] $ docker build -t user5880/hello --pull=true /var/jenkins_home/workspace/ne-demo\nERROR: Cannot run program &quot;docker&quot; (in directory &quot;/var/jenkins_home/workspace/ne-demo&quot;): error=2, No such file or directory\njava.io.IOException: Cannot run program &quot;docker&quot; (in directory &quot;/var/jenkins_home/workspace/ne-demo&quot;): error=2, No such file or directory\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n    at hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:254)\n    at hudson.Proc$LocalProc.&lt;init&gt;(Proc.java:223)\n    at hudson.Launcher$LocalLauncher.launch(Launcher.java:997)\n    at hudson.Launcher$ProcStarter.start(Launcher.java:509)\n    at com.cloudbees.dockerpublish.DockerBuilder$Perform.executeCmd(DockerBuilder.java:489)\n    at com.cloudbees.dockerpublish.DockerBuilder$Perform.executeCmd(DockerBuilder.java:431)\n    at com.cloudbees.dockerpublish.DockerBuilder$Perform.buildAndTag(DockerBuilder.java:373)\n    at com.cloudbees.dockerpublish.DockerBuilder$Perform.exec(DockerBuilder.java:311)\n    at com.cloudbees.dockerpublish.DockerBuilder$Perform.access$100(DockerBuilder.java:291)\n    at com.cloudbees.dockerpublish.DockerBuilder.perform(DockerBuilder.java:262)\n    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:818)\n    at hudson.model.Build$BuildExecution.build(Build.java:199)\n    at hudson.model.Build$BuildExecution.doRun(Build.java:164)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\n    at hudson.model.Run.execute(Run.java:1900)\n    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\n    at hudson.model.ResourceController.execute(ResourceController.java:101)\n    at hudson.model.Executor.run(Executor.java:442)\nCaused by: java.io.IOException: error=2, No such file or directory\n    at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\n    at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:340)\n    at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:271)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\n    ... 20 more\nBuild step 'Docker Build and Publish' marked build as failure\nFinished: FAILURE\n\n</code></pre>\n<p>I configured Docker,Maven,JDK in jenkins dashboard .</p>\n<p>I am new to platform and trying to learn dockerising the spring boot application.</p>\n<p>Dcokerfile I created</p>\n<pre><code>FROM openjdk:11\nEXPOSE 8080\nADD target/hello-1-0.0.1-SNAPSHOT.jar hello-1-0.0.1-SNAPSHOT.jar\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/hello-1-0.0.1-SNAPSHOT.jar&quot; ]\n</code></pre>\n<p>Can Someone help me?</p>\n"},{"tags":["java","design-patterns","observer-pattern","weak-references"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1308010037,"post_id":6337760,"comment_id":7414197,"body_markdown":"@user: http://weblogs.java.net/blog/enicholas/archive/2006/05/understanding_w.html","body":"@user: <a href=\"http://weblogs.java.net/blog/enicholas/archive/2006/05/understanding_w.html\" rel=\"nofollow noreferrer\">weblogs.java.net/blog/enicholas/archive/2006/05/&hellip;</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1308060948,"post_id":6337760,"comment_id":7423795,"body_markdown":"what would two methods buy you, except cluttering the api? While it is (still?) good style to remove all listeners that were added if possible, usually it doesn&#39;t hurt not doing so: garbage collection takes care except in in very rare cases. If you hit a memory leakage produced by a not-released listener, carefully analyse the situation and do something analoguous to what AbstractButton does with its Action&#39;s propertyChangeListener","body":"what would two methods buy you, except cluttering the api? While it is (still?) good style to remove all listeners that were added if possible, usually it doesn&#39;t hurt not doing so: garbage collection takes care except in in very rare cases. If you hit a memory leakage produced by a not-released listener, carefully analyse the situation and do something analoguous to what AbstractButton does with its Action&#39;s propertyChangeListener"},{"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"score":1,"creation_date":1308086350,"post_id":6337760,"comment_id":7431533,"body_markdown":"if you have a weak referenced listener, you wont need to &#39;carefully analyse the situation&#39; ;)","body":"if you have a weak referenced listener, you wont need to &#39;carefully analyse the situation&#39; ;)"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1308989204,"post_id":6337760,"comment_id":7611685,"body_markdown":"I do use weak listeners but not as part of the interface, only internally, that enforces keeping an external reference to the listener AND deregistering (anon. classes may not have the said reference). Otherwise there is a reference kept that just leaks. It&#39;s important to remember that any addXXXListener must be followed by removeXXXListener to ensure normal lifecycle. Deregistering is not an option (unless both objects have the same life cycle scope). The pattern is both useful w/ swing alikes and in esp. for server development.","body":"I do use weak listeners but not as part of the interface, only internally, that enforces keeping an external reference to the listener AND deregistering (anon. classes may not have the said reference). Otherwise there is a reference kept that just leaks. It&#39;s important to remember that any addXXXListener must be followed by removeXXXListener to ensure normal lifecycle. Deregistering is not an option (unless both objects have the same life cycle scope). The pattern is both useful w/ swing alikes and in esp. for server development."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1308989376,"post_id":6337760,"comment_id":7611704,"body_markdown":"@pdeva, \t\n*if you have a weak referenced listener, you wont need to &#39;carefully analyse the situation&#39; ;)* that&#39;s so wrong, so wrong, if you have a weak listener, the one registered for the event will receive nothing since there will be no extra references left and the listener will be GC&#39;d","body":"@pdeva, \t <i>if you have a weak referenced listener, you wont need to &#39;carefully analyse the situation&#39; ;)</i> that&#39;s so wrong, so wrong, if you have a weak listener, the one registered for the event will receive nothing since there will be no extra references left and the listener will be GC&#39;d"},{"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"score":3,"creation_date":1493810544,"post_id":6337760,"comment_id":74558304,"body_markdown":"Lots of answers here from people who can&#39;t think of why a WeakReference would make any sense, so I thought I&#39;d at least add a reference to what I think is the prototypical problem it solves: the [lapsed listener problem](http://wikipedia.org/wiki/Lapsed_listener_problem).","body":"Lots of answers here from people who can&#39;t think of why a WeakReference would make any sense, so I thought I&#39;d at least add a reference to what I think is the prototypical problem it solves: the <a href=\"http://wikipedia.org/wiki/Lapsed_listener_problem\" rel=\"nofollow noreferrer\">lapsed listener problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":64324,"reputation":76480,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1308010605,"creation_date":1308010605,"answer_id":6337829,"question_id":6337760,"body_markdown":"This is not a complete answer, but the very strength you cite can also be its principal weakness.  Consider what would happen if action listeners were implemented weakly: \r\n\r\n    button.addActionListener(new ActionListener() {\r\n        // blah\r\n    });\r\n\r\nThat action listener is going to get garbage collected at any moment!  It&#39;s not uncommon that the only reference to an anonymous class is the event to which you are adding it.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>This is not a complete answer, but the very strength you cite can also be its principal weakness.  Consider what would happen if action listeners were implemented weakly: </p>\n\n<pre><code>button.addActionListener(new ActionListener() {\n    // blah\n});\n</code></pre>\n\n<p>That action listener is going to get garbage collected at any moment!  It's not uncommon that the only reference to an anonymous class is the event to which you are adding it.</p>\n"},{"tags":[],"owner":{"account_id":328694,"reputation":7904,"user_id":651794,"accept_rate":83,"display_name":"James Scriven"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1308057397,"creation_date":1308011087,"answer_id":6337876,"question_id":6337760,"body_markdown":"There are really no pros. A weakrefrence is usually used for &quot;optional&quot; data, such as a cache where you don&#39;t want to prevent garbage collection. You don&#39;t want your listener garbage collected, you want it to keep listening. \r\n\r\n**Update:** \r\n\r\nOk, I think I might have figured out what you are getting at. If you are adding short-lived listeners to long-lived objects there may be benefit in using a weakReference. So for example, if you were adding PropertyChangeListeners to your domain objects to update the state of the GUI that is constantly being recreated, the domain objects are going to hold on to the GUIs, which could build up. Think of a big popup dialog that is constantly being recreated, with a listener reference back to an Employee object via a PropertyChangeListener. Correct me if I&#39;m wrong, but I don&#39;t think the whole PropertyChangeListener pattern is very popular anymore.\r\n\r\nOn the other hand, if you are talking about listeners between GUI elements or having domain objects listening to GUI elements, you won&#39;t be buying anything, since when the GUI goes away, so will the listeners.\r\n\r\nHere are a couple interesting reads:\r\n\r\nhttp://www.javalobby.org/java/forums/t19468.html\r\n\r\nhttps://stackoverflow.com/questions/1878127/how-to-resolve-swing-listener-memory-leaks\r\n\r\n","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>There are really no pros. A weakrefrence is usually used for \"optional\" data, such as a cache where you don't want to prevent garbage collection. You don't want your listener garbage collected, you want it to keep listening. </p>\n\n<p><strong>Update:</strong> </p>\n\n<p>Ok, I think I might have figured out what you are getting at. If you are adding short-lived listeners to long-lived objects there may be benefit in using a weakReference. So for example, if you were adding PropertyChangeListeners to your domain objects to update the state of the GUI that is constantly being recreated, the domain objects are going to hold on to the GUIs, which could build up. Think of a big popup dialog that is constantly being recreated, with a listener reference back to an Employee object via a PropertyChangeListener. Correct me if I'm wrong, but I don't think the whole PropertyChangeListener pattern is very popular anymore.</p>\n\n<p>On the other hand, if you are talking about listeners between GUI elements or having domain objects listening to GUI elements, you won't be buying anything, since when the GUI goes away, so will the listeners.</p>\n\n<p>Here are a couple interesting reads:</p>\n\n<p><a href=\"http://www.javalobby.org/java/forums/t19468.html\" rel=\"nofollow noreferrer\">http://www.javalobby.org/java/forums/t19468.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1878127/how-to-resolve-swing-listener-memory-leaks\">How to resolve swing listener memory leaks?</a></p>\n"},{"tags":[],"owner":{"account_id":370392,"reputation":3349,"user_id":718287,"accept_rate":71,"display_name":"jkraybill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308022750,"creation_date":1308022750,"answer_id":6338804,"question_id":6337760,"body_markdown":"I can&#39;t think of any legitimate use case for using WeakReferences for listeners, unless somehow your use case involves listeners that explicitly shouldn&#39;t exist after the next GC cycle (that use case, of course, would be VM/platform specific).\r\n\r\nIt&#39;s possible to envision a slightly more legitimate use case for SoftReferences, where the listeners are optional, but take up a lot of heap and should be the first to go when free heap size starts getting dicey. Some sort of optional caching or other type of assisting listener, I suppose, could be a candidate. Even then it seems like you&#39;d want the internals of the listeners to utilize the SoftReferences, not the link between the listener and listenee.\r\n\r\nGenerally if you&#39;re using a persistent listener pattern, though, the listeners are non-optional, so asking this question may be a symptom that you need to reconsider your architecture.\r\n\r\nIs this an academic question, or do you have a practical situation you&#39;re trying to address? If it&#39;s a practical situation I&#39;d love to hear what it is -- and you could probably get more, less abstract advice on how to solve it.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>I can't think of any legitimate use case for using WeakReferences for listeners, unless somehow your use case involves listeners that explicitly shouldn't exist after the next GC cycle (that use case, of course, would be VM/platform specific).</p>\n\n<p>It's possible to envision a slightly more legitimate use case for SoftReferences, where the listeners are optional, but take up a lot of heap and should be the first to go when free heap size starts getting dicey. Some sort of optional caching or other type of assisting listener, I suppose, could be a candidate. Even then it seems like you'd want the internals of the listeners to utilize the SoftReferences, not the link between the listener and listenee.</p>\n\n<p>Generally if you're using a persistent listener pattern, though, the listeners are non-optional, so asking this question may be a symptom that you need to reconsider your architecture.</p>\n\n<p>Is this an academic question, or do you have a practical situation you're trying to address? If it's a practical situation I'd love to hear what it is -- and you could probably get more, less abstract advice on how to solve it.</p>\n"},{"tags":[],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1497467488,"creation_date":1308510712,"answer_id":6404545,"question_id":6337760,"body_markdown":"I have seen tons of code where listeners were not unregistered properly. This means they were still called unnecessarily to perform unnecessary tasks.\r\n\r\nIf only one class is relying on a listener, then it is easy to clean, but what happens when 25 classes rely on it? It becomes much trickier to unregister them properly. The fact is, your code can start with one object referencing your listener and end up in a future version with 25 objects referencing that same listener.\r\n\r\nNot using `WeakReference` is equivalent to taking a big risk of consuming unnecessary memory and CPU. It is more complicated, trickier and requires more work with hard references in the complex code.\r\n\r\n`WeakReferences` are full of pros, because they are cleaned up automatically. The only con is that you must not forget to keep a hard reference elsewhere in your code. Typically, that would in objects relying on this listener.\r\n\r\nI hate code creating anonymous class instances of listeners (as mentioned by Kirk Woll), because once registered, you can&#39;t unregister these listeners anymore. You don&#39;t have a reference to them. It is really bad coding IMHO.\r\n\r\nYou can also `null` a reference to a listener when you don&#39;t need it anymore. You don&#39;t need to worry about it anymore.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>I have seen tons of code where listeners were not unregistered properly. This means they were still called unnecessarily to perform unnecessary tasks.</p>\n\n<p>If only one class is relying on a listener, then it is easy to clean, but what happens when 25 classes rely on it? It becomes much trickier to unregister them properly. The fact is, your code can start with one object referencing your listener and end up in a future version with 25 objects referencing that same listener.</p>\n\n<p>Not using <code>WeakReference</code> is equivalent to taking a big risk of consuming unnecessary memory and CPU. It is more complicated, trickier and requires more work with hard references in the complex code.</p>\n\n<p><code>WeakReferences</code> are full of pros, because they are cleaned up automatically. The only con is that you must not forget to keep a hard reference elsewhere in your code. Typically, that would in objects relying on this listener.</p>\n\n<p>I hate code creating anonymous class instances of listeners (as mentioned by Kirk Woll), because once registered, you can't unregister these listeners anymore. You don't have a reference to them. It is really bad coding IMHO.</p>\n\n<p>You can also <code>null</code> a reference to a listener when you don't need it anymore. You don't need to worry about it anymore.</p>\n"},{"tags":[],"owner":{"account_id":272843,"reputation":4000,"user_id":564145,"display_name":"Nicolas Bousquet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308590980,"creation_date":1308590980,"answer_id":6415082,"question_id":6337760,"body_markdown":"To be honest I don&#39;t really buy that idea and exactly what you expect to do with a addWeakListener. Maybe it is just me, but it appear to be a wrong good idea. At first it is seducing but the problems it might implies are not negligible.\r\n\r\nWith weakReference you are not sure that the listener will no longer be called when the listener itself is no longer referenced. The garbage collector can free up menmory a few ms later or never. This mean that it might continue to consume CPU and make strange this like throwing exception because the listener shall not be called. \r\n\r\nAn example with swing would be to try to do things you can only do if your UI component is actually attached to an active window. This could throw an exception, and affect the notifier making it to crash and preventing valid listeners to be notofied.\r\n\r\nSecond problem as already stated is anonymous listener, they could be freed too soon never notified at all or only a few times.\r\n\r\nWhat you are trying to achieve is dangerous as you cannot control anymore when you stop receiving notifications. They may last for ever or stop too soon.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>To be honest I don't really buy that idea and exactly what you expect to do with a addWeakListener. Maybe it is just me, but it appear to be a wrong good idea. At first it is seducing but the problems it might implies are not negligible.</p>\n\n<p>With weakReference you are not sure that the listener will no longer be called when the listener itself is no longer referenced. The garbage collector can free up menmory a few ms later or never. This mean that it might continue to consume CPU and make strange this like throwing exception because the listener shall not be called. </p>\n\n<p>An example with swing would be to try to do things you can only do if your UI component is actually attached to an active window. This could throw an exception, and affect the notifier making it to crash and preventing valid listeners to be notofied.</p>\n\n<p>Second problem as already stated is anonymous listener, they could be freed too soon never notified at all or only a few times.</p>\n\n<p>What you are trying to achieve is dangerous as you cannot control anymore when you stop receiving notifications. They may last for ever or stop too soon.</p>\n"},{"tags":[],"owner":{"account_id":409923,"reputation":164,"user_id":781457,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308737141,"creation_date":1308737141,"answer_id":6438119,"question_id":6337760,"body_markdown":"Because you are adding WeakReference listener, I&#39;m assuming, you are using a custom Observable object. \r\n\r\nIt makes perfect sense to use a WeakReference to an object in the following situation.\r\n- There is a list of listeners in Observable object.\r\n- You already have a hard reference to the listeners somewhere else. (you&#39;d have to be sure of this)\r\n- You don&#39;t want the garbage collector to stop clearing the listeners just because there is a reference to it in the Observable.\r\n- During garbage collection the listeners will be cleared up. In the method where you notify the listeners, you clear up the WeakReference objects from the notification list.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>Because you are adding WeakReference listener, I'm assuming, you are using a custom Observable object. </p>\n\n<p>It makes perfect sense to use a WeakReference to an object in the following situation.\n- There is a list of listeners in Observable object.\n- You already have a hard reference to the listeners somewhere else. (you'd have to be sure of this)\n- You don't want the garbage collector to stop clearing the listeners just because there is a reference to it in the Observable.\n- During garbage collection the listeners will be cleared up. In the method where you notify the listeners, you clear up the WeakReference objects from the notification list.</p>\n"},{"tags":[],"owner":{"account_id":428606,"reputation":3806,"user_id":811047,"accept_rate":80,"display_name":"BegemoT"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1500021370,"creation_date":1308816775,"answer_id":6451114,"question_id":6337760,"body_markdown":"First of all, using WeakReference in listeners lists will give your object different **semantic**, then using hard references. In hard-reference case addListener(...) means &quot;notify supplied object about specific event(s) **until I stop it explicitly** with removeListener(..)&quot;, in weak-reference case it means &quot;notify supplied object about specific event(s) **until this object will not be used by anybody else** (or explicitly stop with removeListener)&quot;. Notice, it is perfectly legal in many situations to have object, listening for some events, and having no other references keeping it from GC. Logger can be an example. \r\n\r\nAs you can see, using WeakReference not just solve one problem (&quot;I should keep in mind to not forget to remove added listener somewhere&quot;), but also rise another -- &quot;I should keep in mind that my listener can stop listen at any moment when there is no reference to it anymore&quot;. You not solve problem, you just trade one problem for another. Look, **in any way** you&#39;ve forced to clearly define, design and trace livespan of you listener -- one way or another.\r\n\r\nSo, personally, I agree with mention what use WeakReference in listeners lists is more like a hack than a solution. It&#39;s pattern worth to know about, sometimes it can help you -- to make legacy code work well, for example. But it is not pattern of choice :) \r\n\r\nP.S. Also it should be noted what WeakReference introduce additional level of indirection, which, in some cases with extremely high event rates, can reduce performance.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>First of all, using WeakReference in listeners lists will give your object different <strong>semantic</strong>, then using hard references. In hard-reference case addListener(...) means \"notify supplied object about specific event(s) <strong>until I stop it explicitly</strong> with removeListener(..)\", in weak-reference case it means \"notify supplied object about specific event(s) <strong>until this object will not be used by anybody else</strong> (or explicitly stop with removeListener)\". Notice, it is perfectly legal in many situations to have object, listening for some events, and having no other references keeping it from GC. Logger can be an example. </p>\n\n<p>As you can see, using WeakReference not just solve one problem (\"I should keep in mind to not forget to remove added listener somewhere\"), but also rise another -- \"I should keep in mind that my listener can stop listen at any moment when there is no reference to it anymore\". You not solve problem, you just trade one problem for another. Look, <strong>in any way</strong> you've forced to clearly define, design and trace livespan of you listener -- one way or another.</p>\n\n<p>So, personally, I agree with mention what use WeakReference in listeners lists is more like a hack than a solution. It's pattern worth to know about, sometimes it can help you -- to make legacy code work well, for example. But it is not pattern of choice :) </p>\n\n<p>P.S. Also it should be noted what WeakReference introduce additional level of indirection, which, in some cases with extremely high event rates, can reduce performance.</p>\n"},{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369227095,"creation_date":1369227095,"answer_id":16692284,"question_id":6337760,"body_markdown":"WeakListeners are useful in situations where you specifically want GC to control the lifetime of the listener. \r\n\r\nAs stated before, this really is different semantics, compared to the usual addListener/removeListener case, but it is valid in some scenarios.\r\n\r\nFor example, consider a very large tree, which is sparse - some levels of nodes are not explicitly defined, but can be inferred from parent nodes further up the hierarchy. The implicitly defined nodes listen to those parent nodes that are defined so they keep their implied/inherited value up to date. But, the tree is huge - we don&#39;t want implied nodes to be around forever - just as long as they are used by the calling code, plus perhaps a LRU cache of a few seconds to avoid churning the same values over and over.\r\n\r\nHere, the weak listener makes it possible for child nodes to listen to parents while also having their lifetime decided by reachability/caching so the structure doesn&#39;t maintain all the implied nodes in memory.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>WeakListeners are useful in situations where you specifically want GC to control the lifetime of the listener. </p>\n\n<p>As stated before, this really is different semantics, compared to the usual addListener/removeListener case, but it is valid in some scenarios.</p>\n\n<p>For example, consider a very large tree, which is sparse - some levels of nodes are not explicitly defined, but can be inferred from parent nodes further up the hierarchy. The implicitly defined nodes listen to those parent nodes that are defined so they keep their implied/inherited value up to date. But, the tree is huge - we don't want implied nodes to be around forever - just as long as they are used by the calling code, plus perhaps a LRU cache of a few seconds to avoid churning the same values over and over.</p>\n\n<p>Here, the weak listener makes it possible for child nodes to listen to parents while also having their lifetime decided by reachability/caching so the structure doesn't maintain all the implied nodes in memory.</p>\n"},{"tags":[],"owner":{"account_id":39105,"reputation":25533,"user_id":112705,"accept_rate":67,"display_name":"Dan J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382418976,"creation_date":1382418976,"answer_id":19509502,"question_id":6337760,"body_markdown":"You may also need to implement your listener with a WeakReference if you are unregistering it somewhere that isn&#39;t guaranteed to be called every time.\r\n\r\nI seem to recall we had some problems with one of our custom `PropertyChangeSupport` listeners that was used inside row Views in our ListView.  We couldn&#39;t find a nice and reliable way to unregister those listeners, so using a WeakReference listener seemed the cleanest solution.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>You may also need to implement your listener with a WeakReference if you are unregistering it somewhere that isn't guaranteed to be called every time.</p>\n\n<p>I seem to recall we had some problems with one of our custom <code>PropertyChangeSupport</code> listeners that was used inside row Views in our ListView.  We couldn't find a nice and reliable way to unregister those listeners, so using a WeakReference listener seemed the cleanest solution.</p>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404315182,"creation_date":1404315182,"answer_id":24535276,"question_id":6337760,"body_markdown":"It appears from a test program that anonymous ActionListeners will not prevent an object from being garbage collected:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.JButton;\r\n\r\n    public class ListenerGC {\r\n\r\n\tprivate static ActionListener al = new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tSystem.err.println(&quot;blah blah&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\t\r\n\t\t{\r\n\t\t\tNoisyButton sec = new NoisyButton(&quot;second&quot;);\r\n\t\t\tsec.addActionListener(al);\r\n\t\t\tnew NoisyButton(&quot;first&quot;);\r\n\t\t\t//sec.removeActionListener(al);\r\n\t\t\tsec = null;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;start collect&quot;);\r\n\t\tSystem.gc( );\r\n\t\tSystem.out.println(&quot;end collect&quot;);\r\n\t\tThread.sleep(1000);\r\n\t\tSystem.out.println(&quot;end program&quot;);\r\n\t}\r\n\t\r\n\tprivate static class NoisyButton extends JButton {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\tprivate final String name;\r\n\r\n\t\tpublic NoisyButton(String name) {\r\n\t\t\tsuper();\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void finalize() throws Throwable {\r\n\t\t\tSystem.out.println(name + &quot; finalized&quot;);\r\n\t\t\tsuper.finalize();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nproduces:\r\n\r\n    start collect\r\n    end collect\r\n    first finalized\r\n    second finalized\r\n    end program","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>It appears from a test program that anonymous ActionListeners will not prevent an object from being garbage collected:</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\n\npublic class ListenerGC {\n\nprivate static ActionListener al = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.err.println(\"blah blah\");\n        }\n    };\npublic static void main(String[] args) throws InterruptedException {\n\n    {\n        NoisyButton sec = new NoisyButton(\"second\");\n        sec.addActionListener(al);\n        new NoisyButton(\"first\");\n        //sec.removeActionListener(al);\n        sec = null;\n    }\n    System.out.println(\"start collect\");\n    System.gc( );\n    System.out.println(\"end collect\");\n    Thread.sleep(1000);\n    System.out.println(\"end program\");\n}\n\nprivate static class NoisyButton extends JButton {\n    private static final long serialVersionUID = 1L;\n    private final String name;\n\n    public NoisyButton(String name) {\n        super();\n        this.name = name;\n    }\n\n    @Override\n    protected void finalize() throws Throwable {\n        System.out.println(name + \" finalized\");\n        super.finalize();\n    }\n}\n}\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>start collect\nend collect\nfirst finalized\nsecond finalized\nend program\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59715,"reputation":3561,"user_id":178597,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441035821,"creation_date":1426893697,"answer_id":29177285,"question_id":6337760,"body_markdown":"In my opinion it&#39;s a good idea in most cases. The code that is responsible for releasing the listener is at the same place where it gets registered. \r\n\r\nIn practice i see a lot of software which is keeping listeners forever. Often programmers are not even aware that they should unregister them.\r\n\r\nIt usually is possible to return a custom object with a reference to the listener that allows manipulation of when to unregister. For example:\r\n\r\n    listeners.on(&quot;change&quot;, new Runnable() {\r\n      public void run() {\r\n        System.out.println(&quot;hello!&quot;);\r\n      }\r\n    }).keepFor(someInstance).keepFor(otherInstance);\r\n\r\nthis code would register the listener, return an object that encapsulates the listener and has a method, keepFor that adds the listener to a static weakHashMap with the instance parameter as the key. That would guarantee that the listener is registered at least as long as someInstance and otherInstance are not garbage collected.\r\n\r\nThere can be other methods like keepForever() or keepUntilCalled(5) or keepUntil(DateTime.now().plusSeconds(5)) or unregisterNow().\r\n\r\nDefault can be keep forever (until unregistered).\r\n\r\nThis could also be implemented without weak references but phantom references that trigger the removal of the listener.\r\n\r\nedit: created a small lib which implements a basic version of this aproach https://github.com/creichlin/struwwel","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>In my opinion it's a good idea in most cases. The code that is responsible for releasing the listener is at the same place where it gets registered. </p>\n\n<p>In practice i see a lot of software which is keeping listeners forever. Often programmers are not even aware that they should unregister them.</p>\n\n<p>It usually is possible to return a custom object with a reference to the listener that allows manipulation of when to unregister. For example:</p>\n\n<pre><code>listeners.on(\"change\", new Runnable() {\n  public void run() {\n    System.out.println(\"hello!\");\n  }\n}).keepFor(someInstance).keepFor(otherInstance);\n</code></pre>\n\n<p>this code would register the listener, return an object that encapsulates the listener and has a method, keepFor that adds the listener to a static weakHashMap with the instance parameter as the key. That would guarantee that the listener is registered at least as long as someInstance and otherInstance are not garbage collected.</p>\n\n<p>There can be other methods like keepForever() or keepUntilCalled(5) or keepUntil(DateTime.now().plusSeconds(5)) or unregisterNow().</p>\n\n<p>Default can be keep forever (until unregistered).</p>\n\n<p>This could also be implemented without weak references but phantom references that trigger the removal of the listener.</p>\n\n<p>edit: created a small lib which implements a basic version of this aproach <a href=\"https://github.com/creichlin/struwwel\" rel=\"nofollow\">https://github.com/creichlin/struwwel</a></p>\n"},{"tags":[],"owner":{"account_id":4407875,"reputation":475,"user_id":3591707,"display_name":"Teto"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1428538194,"creation_date":1428538194,"answer_id":29527484,"question_id":6337760,"body_markdown":"I have 3 suggestions for the original poster.  Sorry for resurrecting an old thread but I think my solutions were not previously discussed in this thread.\r\n\r\nFirst,\r\nConsider following the example of javafx.beans.values.WeakChangeListener in the JavaFX libraries.\r\n\r\nSecond,\r\nI one upped the JavaFX pattern by modifying the addListener methods of my Observable.  The new addListener() method now creates instances of the corresponding WeakXxxListener classes for me.  \r\n\r\nThe &quot;fire event&quot; method was easily modified to dereference the XxxWeakListeners and to remove them when the WeakReference.get() returned null.\r\n\r\nThe remove method was now a bit nastier since I need to iterate the entire list, and that means I need to do synchronization.  \r\n\r\nThird,\r\nPrior to implementing this strategy I employed a different method which you may find useful.  The (hard reference) listeners got a new event they did a reality check of whether or not they were still being used.  If not, then they unsubscribed from the observer which allowed them to be GCed.   For short lived Listeners subscribed to long lived Observables, detecting obsolescence was fairly easy.\r\n\r\nIn deference to the folks who stipulated that it was &quot;good programming practice to always unsubscribe your listeners, whenever a Listener resorted to unsubscribing itself, I made sure to create a log entry and corrected the problem in my code later.\r\n\r\n\r\n","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>I have 3 suggestions for the original poster.  Sorry for resurrecting an old thread but I think my solutions were not previously discussed in this thread.</p>\n\n<p>First,\nConsider following the example of javafx.beans.values.WeakChangeListener in the JavaFX libraries.</p>\n\n<p>Second,\nI one upped the JavaFX pattern by modifying the addListener methods of my Observable.  The new addListener() method now creates instances of the corresponding WeakXxxListener classes for me.  </p>\n\n<p>The \"fire event\" method was easily modified to dereference the XxxWeakListeners and to remove them when the WeakReference.get() returned null.</p>\n\n<p>The remove method was now a bit nastier since I need to iterate the entire list, and that means I need to do synchronization.  </p>\n\n<p>Third,\nPrior to implementing this strategy I employed a different method which you may find useful.  The (hard reference) listeners got a new event they did a reality check of whether or not they were still being used.  If not, then they unsubscribed from the observer which allowed them to be GCed.   For short lived Listeners subscribed to long lived Observables, detecting obsolescence was fairly easy.</p>\n\n<p>In deference to the folks who stipulated that it was \"good programming practice to always unsubscribe your listeners, whenever a Listener resorted to unsubscribing itself, I made sure to create a log entry and corrected the problem in my code later.</p>\n"},{"tags":[],"owner":{"account_id":6317514,"reputation":1163,"user_id":6425831,"display_name":"saolof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677196791,"creation_date":1677196791,"answer_id":75551481,"question_id":6337760,"body_markdown":"It depends on what you want to do.\r\n\r\nIf you want to create a reactive value that depends on a specific value but where the callback is not supposed to have side effects, use a weak reference.\r\n\r\nIf you want to set up a callback which is run for its side effects, use a strong reference.\r\n\r\nImho, this is also why I strongly feel that the observer pattern should be encapsulated into a library most times, with something like Signal/ComputedSignal/Effect and the like.\r\n\r\nYour register methods should be named based on what you want to do. The case where you want a reactive dependent value should be something like Subject.dependent_value( (args) =&gt; value) while the case with the Effect should be Subject.register_effect((args) =&gt; dostuff...). \r\n\r\nEffects that depend on dependent values should walk their dependency graphs and register themselves as a strong child of the root observables.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>It depends on what you want to do.</p>\n<p>If you want to create a reactive value that depends on a specific value but where the callback is not supposed to have side effects, use a weak reference.</p>\n<p>If you want to set up a callback which is run for its side effects, use a strong reference.</p>\n<p>Imho, this is also why I strongly feel that the observer pattern should be encapsulated into a library most times, with something like Signal/ComputedSignal/Effect and the like.</p>\n<p>Your register methods should be named based on what you want to do. The case where you want a reactive dependent value should be something like Subject.dependent_value( (args) =&gt; value) while the case with the Effect should be Subject.register_effect((args) =&gt; dostuff...).</p>\n<p>Effects that depend on dependent values should walk their dependency graphs and register themselves as a strong child of the root observables.</p>\n"},{"tags":[],"owner":{"account_id":9062674,"reputation":1,"user_id":6748712,"display_name":"ae6ty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692651777,"creation_date":1692651777,"answer_id":76948683,"question_id":6337760,"body_markdown":"I am a hobbyist programmer but have managed to write some fairly large programs (tens of thousands of lines of Java code).  For decades now, I have avoided weak listeners.  I recently went looking for some memory leaks, my image was growing to multiple gigabytes.  I found every leak to be listener related.  I spent several hours encapsulating all my listeners with weak references just to see what might happen.  It was that or try to write destructors for everything.\r\n\r\nAll my leaks went away.  I few dozen places I had anonymous classes which caused problems but those were easily found and repaired.\r\n\r\nNow, my image remains small and runs faster even after long sessions.  I am now a definite believer in weak references and gladly pay the price of avoiding anonymous class for listeners.\r\n\r\nAs mentioned elsewhere, I do have a problem flushing all the weak references when the observable doesn’t need to inform the listeners.  When I watch the image size it will occasionally grow fairly large and stay there.  Then, when I move my mouse the weak references get GC’d and the image size collapses.  This doesn’t bother me and I am now a huge believer in weak references.\r\n\r\nAgain, as a hobbyist, I’m here to strongly recommend weak listeners.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>I am a hobbyist programmer but have managed to write some fairly large programs (tens of thousands of lines of Java code).  For decades now, I have avoided weak listeners.  I recently went looking for some memory leaks, my image was growing to multiple gigabytes.  I found every leak to be listener related.  I spent several hours encapsulating all my listeners with weak references just to see what might happen.  It was that or try to write destructors for everything.</p>\n<p>All my leaks went away.  I few dozen places I had anonymous classes which caused problems but those were easily found and repaired.</p>\n<p>Now, my image remains small and runs faster even after long sessions.  I am now a definite believer in weak references and gladly pay the price of avoiding anonymous class for listeners.</p>\n<p>As mentioned elsewhere, I do have a problem flushing all the weak references when the observable doesn’t need to inform the listeners.  When I watch the image size it will occasionally grow fairly large and stay there.  Then, when I move my mouse the weak references get GC’d and the image size collapses.  This doesn’t bother me and I am now a huge believer in weak references.</p>\n<p>Again, as a hobbyist, I’m here to strongly recommend weak listeners.</p>\n"}],"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19130,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"answer_count":14,"score":76,"last_activity_date":1692651777,"creation_date":1308009752,"question_id":6337760,"body_markdown":"What are the pros and cons of keeping listeners as WeakReferences?\r\n\r\nThe big &#39;Pro&#39; of course is that:\r\n\r\nAdding a listener as a WeakReference means the listener doesn&#39;t need to bother &#39;removing&#39; itself.\r\n\r\nFor those worried about the listener having the only reference to the object, why can&#39;t there be 2 methods, addListener() and addWeakRefListener()? \r\n\r\nThose who don&#39;t care about removal can use the latter.","title":"Pros and Cons of Listeners as WeakReferences","body":"<p>What are the pros and cons of keeping listeners as WeakReferences?</p>\n<p>The big 'Pro' of course is that:</p>\n<p>Adding a listener as a WeakReference means the listener doesn't need to bother 'removing' itself.</p>\n<p>For those worried about the listener having the only reference to the object, why can't there be 2 methods, addListener() and addWeakRefListener()?</p>\n<p>Those who don't care about removal can use the latter.</p>\n"},{"tags":["java","floating-point","ieee-754"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":7,"creation_date":1692632515,"post_id":76946812,"comment_id":135646791,"body_markdown":"Because the values of `f` and `h` are _not_ `NaN`, but rather `infinity`! `Double.NaN == Double.NaN` is `false`, but `Double.POSITIVE_INFINITY == Double.POSITIVE_INFINITY` is `true`.","body":"Because the values of <code>f</code> and <code>h</code> are <i>not</i> <code>NaN</code>, but rather <code>infinity</code>! <code>Double.NaN == Double.NaN</code> is <code>false</code>, but <code>Double.POSITIVE_INFINITY == Double.POSITIVE_INFINITY</code> is <code>true</code>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1692632556,"post_id":76946812,"comment_id":135646804,"body_markdown":"ur code in jshell: https://i.imgur.com/GSEzozX.png","body":"ur code in jshell: <a href=\"https://i.imgur.com/GSEzozX.png\" rel=\"nofollow noreferrer\">i.imgur.com/GSEzozX.png</a>"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692633438,"creation_date":1692633438,"answer_id":76946940,"question_id":76946812,"body_markdown":"[Rogue\r\n](https://stackoverflow.com/questions/76946812/why-does-comparison-of-nan-return-true#comment135646791_76946812) has already explained it nicely:\r\n\r\n&gt; Because the values of `f` and `h` are not `NaN`, but rather infinity!\r\n&gt; `Double.NaN == Double.NaN` is `false`, but `Double.POSITIVE_INFINITY\r\n&gt; == Double.POSITIVE_INFINITY` is `true`.\r\n\r\nIn addition to this comment, you should know that `NaN` indicates the result of an invalid operation e.g. `0/0.0d`, `Math.sqrt(-1)` etc. So, the following statement will print `false`:\r\n\r\n    System.out.println(0 / 0.0d == Math.sqrt(-1));\r\n    \r\n\r\n","title":"Why does comparison of NAN return true?","body":"<p><a href=\"https://stackoverflow.com/questions/76946812/why-does-comparison-of-nan-return-true#comment135646791_76946812\">Rogue\n</a> has already explained it nicely:</p>\n<blockquote>\n<p>Because the values of <code>f</code> and <code>h</code> are not <code>NaN</code>, but rather infinity!\n<code>Double.NaN == Double.NaN</code> is <code>false</code>, but <code>Double.POSITIVE_INFINITY == Double.POSITIVE_INFINITY</code> is <code>true</code>.</p>\n</blockquote>\n<p>In addition to this comment, you should know that <code>NaN</code> indicates the result of an invalid operation e.g. <code>0/0.0d</code>, <code>Math.sqrt(-1)</code> etc. So, the following statement will print <code>false</code>:</p>\n<pre><code>System.out.println(0 / 0.0d == Math.sqrt(-1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692633448,"creation_date":1692633448,"answer_id":76946941,"question_id":76946812,"body_markdown":"2.0/0 doesn&#39;t produce NaN:\r\n\r\n```\r\nSystem.out.println(2.0/0.0);\r\n&gt; Infinity\r\n```\r\n\r\nThere are 3 &#39;non-numeric&#39; values of doubles:\r\n\r\n* Positive infinity\r\n* Negative infinity\r\n* NaN\r\n\r\nAs per spec, positiveinfinity is equal to positive infinity, and negative infinity is equal to negative infinity. Only NaN isn&#39;t equal to itself.\r\n\r\nwe can get NaN:\r\n\r\n```\r\ndouble nan = 0.0 / 0.0;\r\nSystem.out.println(nan);\r\nSystem.out.println(nan == nan);\r\n&gt; NaN\r\n&gt; false\r\n```\r\n\r\nIf you actually need NaN somewhere (e.g. you want to return it), the most legible way to get there is `Double.NaN`. The above example simply shows how one might get a NaN value out of a calculation naturally - when zero is divided by zero is the most common way. A few other ways:\r\n\r\n```\r\ndouble posInf = Double.POSITIVE_INFINITY;\r\ndouble negInf = Double.NEGATIVE_INFINITY;\r\nSystem.out.println(posInf - posInf); // NaN\r\nSystem.out.println(posInf - negInf); // positive infinity\r\nSystem.out.println(posInf / posInf); // NaN\r\n```\r\n","title":"Why does comparison of NAN return true?","body":"<p>2.0/0 doesn't produce NaN:</p>\n<pre><code>System.out.println(2.0/0.0);\n&gt; Infinity\n</code></pre>\n<p>There are 3 'non-numeric' values of doubles:</p>\n<ul>\n<li>Positive infinity</li>\n<li>Negative infinity</li>\n<li>NaN</li>\n</ul>\n<p>As per spec, positiveinfinity is equal to positive infinity, and negative infinity is equal to negative infinity. Only NaN isn't equal to itself.</p>\n<p>we can get NaN:</p>\n<pre><code>double nan = 0.0 / 0.0;\nSystem.out.println(nan);\nSystem.out.println(nan == nan);\n&gt; NaN\n&gt; false\n</code></pre>\n<p>If you actually need NaN somewhere (e.g. you want to return it), the most legible way to get there is <code>Double.NaN</code>. The above example simply shows how one might get a NaN value out of a calculation naturally - when zero is divided by zero is the most common way. A few other ways:</p>\n<pre><code>double posInf = Double.POSITIVE_INFINITY;\ndouble negInf = Double.NEGATIVE_INFINITY;\nSystem.out.println(posInf - posInf); // NaN\nSystem.out.println(posInf - negInf); // positive infinity\nSystem.out.println(posInf / posInf); // NaN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692650423,"creation_date":1692650423,"answer_id":76948590,"question_id":76946812,"body_markdown":"&gt; _&quot;... Why does it print true in the console when I compare two NAN? ...&quot;_\r\n\r\nThey&#39;re not _NaN_.\r\n\r\n```none\r\nf = Infinity\r\nh = Infinity\r\n```\r\n\r\nThe _[Double](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html)_ class has a _[NaN](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#NaN)_ field which uses the following.\r\n\r\n```java\r\npublic static final double NaN = 0.0d / 0.0;\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nfalse\r\n```","title":"Why does comparison of NAN return true?","body":"<blockquote>\n<p><em>&quot;... Why does it print true in the console when I compare two NAN? ...&quot;</em></p>\n</blockquote>\n<p>They're not <em>NaN</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>f = Infinity\nh = Infinity\n</code></pre>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html\" rel=\"nofollow noreferrer\">Double</a></em> class has a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#NaN\" rel=\"nofollow noreferrer\">NaN</a></em> field which uses the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final double NaN = 0.0d / 0.0;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\n</code></pre>\n"}],"owner":{"account_id":29269043,"reputation":23,"user_id":22424296,"display_name":"Aryan Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76946941,"answer_count":3,"score":1,"last_activity_date":1692650423,"creation_date":1692632332,"question_id":76946812,"body_markdown":"As written in Java Language Specification &#39;The numerical comparison operators &lt;, &lt;=, &gt;, and &gt;= return false if either or both operands are NaN&#39;\r\nSo I was comparing two NAN&#39;s.\r\nWhy does it print true in the console when I compare two NAN?\r\n\r\n\r\n```\r\ndouble f = 3/0.0d;\r\ndouble h = 2/0.0d;\r\n\t\t\r\nSystem.out.println((f&gt;=h));\r\n```\r\nf and h are both NAN and when i compared them i expected to print false but i got true as my output.","title":"Why does comparison of NAN return true?","body":"<p>As written in Java Language Specification 'The numerical comparison operators &lt;, &lt;=, &gt;, and &gt;= return false if either or both operands are NaN'\nSo I was comparing two NAN's.\nWhy does it print true in the console when I compare two NAN?</p>\n<pre><code>double f = 3/0.0d;\ndouble h = 2/0.0d;\n        \nSystem.out.println((f&gt;=h));\n</code></pre>\n<p>f and h are both NAN and when i compared them i expected to print false but i got true as my output.</p>\n"},{"tags":["java","spring","quartz-scheduler"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1692629123,"post_id":76946350,"comment_id":135645977,"body_markdown":"I&#39;m not aware of anything pre-made, but Spring does support a concept called [data routing](https://www.baeldung.com/spring-abstract-routing-data-source).","body":"I&#39;m not aware of anything pre-made, but Spring does support a concept called <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">data routing</a>."},{"owner":{"account_id":25598068,"reputation":3,"user_id":20142347,"display_name":"gexter"},"score":0,"creation_date":1692633717,"post_id":76946350,"comment_id":135647045,"body_markdown":"it&#39;s not relevant solution for me =(","body":"it&#39;s not relevant solution for me =("},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1692636542,"post_id":76946350,"comment_id":135647670,"body_markdown":"Yes, it is. One datasource for Quartz, one for project data. A datasource is just an object that points to a database, then you&#39;d add some logic to choose the correct datasource. You could conceivably do this by service (e.g. a service that persists your quartz data) or even by entity.","body":"Yes, it is. One datasource for Quartz, one for project data. A datasource is just an object that points to a database, then you&#39;d add some logic to choose the correct datasource. You could conceivably do this by service (e.g. a service that persists your quartz data) or even by entity."}],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692650029,"creation_date":1692650029,"answer_id":76948562,"question_id":76946350,"body_markdown":"You don&#39;t need anything prebuilt into Spring for this. If it does exist, use it, but I am not aware about.\r\nWhat I would do, and I had done before so I know it works, I would configure the second `quartz` data source in my `application.properties` and use that configuration to create a `QuartzDatasource` bean and use that bean as needed.\r\n\r\n    quqrtz.datasource.url=jdbc:postgresql://localhost:5432/quartz-service\r\n    quqrtz.datasource.driver-class-name=org.postgresql.Driver\r\n    quqrtz.datasource.hikari.schema=quartz-service\r\n    quqrtz.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n    quqrtz.flyway.default-schema=quartz-service\r\n    quqrtz.flyway.create-schemas=true\r\n    quqrtz.datasource.username=${QUARTZ_USER}\r\n    quqrtz.datasource.password=${QUARTZ_PASSWORD}\r\n\r\nThen you create a `@Configuration` class pointing to the `quartz` prefix and once you loaded this config you will be able to create your `quartzDatasource` bean, and if you use JPA second `entity manager` etc.\r\n\r\nAs simple is it looks, I would not go like this, especially if JPA involved. There is a big challenge. I have no idea how you can make flyway run against two data sources. There is a `@FlywayDatasorce` annotation I never used it more than once in a given application.\r\n\r\nFor me the best way to go is to grant at database level read write access to the `relations` from `quartz` schema to the application user and use a single data source for accessing both.\r\n\r\nOr maybe even clearer if there is a logical separation between what the main service does and what the quartz service does have two separate micro services, each one doing its own job. If you go simple you can save lots of headaches later on.","title":"Setting DataSource for Quartz Scheduler under Spring","body":"<p>You don't need anything prebuilt into Spring for this. If it does exist, use it, but I am not aware about.\nWhat I would do, and I had done before so I know it works, I would configure the second <code>quartz</code> data source in my <code>application.properties</code> and use that configuration to create a <code>QuartzDatasource</code> bean and use that bean as needed.</p>\n<pre><code>quqrtz.datasource.url=jdbc:postgresql://localhost:5432/quartz-service\nquqrtz.datasource.driver-class-name=org.postgresql.Driver\nquqrtz.datasource.hikari.schema=quartz-service\nquqrtz.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nquqrtz.flyway.default-schema=quartz-service\nquqrtz.flyway.create-schemas=true\nquqrtz.datasource.username=${QUARTZ_USER}\nquqrtz.datasource.password=${QUARTZ_PASSWORD}\n</code></pre>\n<p>Then you create a <code>@Configuration</code> class pointing to the <code>quartz</code> prefix and once you loaded this config you will be able to create your <code>quartzDatasource</code> bean, and if you use JPA second <code>entity manager</code> etc.</p>\n<p>As simple is it looks, I would not go like this, especially if JPA involved. There is a big challenge. I have no idea how you can make flyway run against two data sources. There is a <code>@FlywayDatasorce</code> annotation I never used it more than once in a given application.</p>\n<p>For me the best way to go is to grant at database level read write access to the <code>relations</code> from <code>quartz</code> schema to the application user and use a single data source for accessing both.</p>\n<p>Or maybe even clearer if there is a logical separation between what the main service does and what the quartz service does have two separate micro services, each one doing its own job. If you go simple you can save lots of headaches later on.</p>\n"}],"owner":{"account_id":25598068,"reputation":3,"user_id":20142347,"display_name":"gexter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76948562,"answer_count":1,"score":0,"last_activity_date":1692650029,"creation_date":1692628697,"question_id":76946350,"body_markdown":"I have a project with Spring boot and Quartz Job Scheduler.\r\nI want to split one database for two schemas: one for project data and another for quartz data. How can i do that?\r\n\r\nMy current\r\n**application.properties**\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/main-service\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.hikari.schema=main-service\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\nspring.flyway.default-schema=main-service\r\nspring.flyway.create-schemas=true\r\nspring.datasource.username=${USER}\r\nspring.datasource.password=${PASSWORD}\r\n```\r\nExapmle schema name for quartz: **main-service-quartz**.\r\n\r\nI also heard about the @QuartzDataSource annotation for set datasource for quartz, but don&#39;t understand how to make it.","title":"Setting DataSource for Quartz Scheduler under Spring","body":"<p>I have a project with Spring boot and Quartz Job Scheduler.\nI want to split one database for two schemas: one for project data and another for quartz data. How can i do that?</p>\n<p>My current\n<strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/main-service\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.hikari.schema=main-service\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.flyway.default-schema=main-service\nspring.flyway.create-schemas=true\nspring.datasource.username=${USER}\nspring.datasource.password=${PASSWORD}\n</code></pre>\n<p>Exapmle schema name for quartz: <strong>main-service-quartz</strong>.</p>\n<p>I also heard about the @QuartzDataSource annotation for set datasource for quartz, but don't understand how to make it.</p>\n"},{"tags":["java","multithreading","swing"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692649699,"creation_date":1692649699,"answer_id":76948534,"question_id":76948380,"body_markdown":"**Yes, you should**.\r\n\r\nLines x and y are indeed not executed on the EDT, which could lead to potential issues in Swing applications.\r\n\r\nIn Swing, it&#39;s important to perform all GUI-related operations on the EDT to ensure proper synchronization and prevent potential threading issues. \r\n\r\nThe `SwingUtilities.invokeAndWait()` method you&#39;re using in the `main` method is used to execute the `showGUI()` method on the EDT, which is correct. However, the subsequent lines x and y are executed on the main thread, which could lead to synchronization problems and unexpected behavior.\r\n\r\nTo ensure that lines x and y are executed on the EDT, you should wrap them in a `SwingUtilities.invokeLater()` call as well. \r\n\r\nThis way:\r\n\r\n```java\r\npublic static void main(String[] args)\r\n    throws InterruptedException, InvocationTargetException\r\n{\r\n    SwingUtilities.invokeAndWait( () -&gt; showGUI() );\r\n    \r\n    SwingUtilities.invokeLater( () -&gt; {\r\n        /* x */ System.out.println( text.getText() );\r\n        /* y */ button.addActionListener( System.out::println );\r\n    });\r\n}\r\n```\r\n\r\n[Check this out][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","title":"Must JTextField.getText and JButton.addActionListener be Executed on the EDT","body":"<p><strong>Yes, you should</strong>.</p>\n<p>Lines x and y are indeed not executed on the EDT, which could lead to potential issues in Swing applications.</p>\n<p>In Swing, it's important to perform all GUI-related operations on the EDT to ensure proper synchronization and prevent potential threading issues.</p>\n<p>The <code>SwingUtilities.invokeAndWait()</code> method you're using in the <code>main</code> method is used to execute the <code>showGUI()</code> method on the EDT, which is correct. However, the subsequent lines x and y are executed on the main thread, which could lead to synchronization problems and unexpected behavior.</p>\n<p>To ensure that lines x and y are executed on the EDT, you should wrap them in a <code>SwingUtilities.invokeLater()</code> call as well.</p>\n<p>This way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n    throws InterruptedException, InvocationTargetException\n{\n    SwingUtilities.invokeAndWait( () -&gt; showGUI() );\n    \n    SwingUtilities.invokeLater( () -&gt; {\n        /* x */ System.out.println( text.getText() );\n        /* y */ button.addActionListener( System.out::println );\n    });\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"noreferrer\">Check this out</a></p>\n"}],"owner":{"account_id":1388368,"reputation":470,"user_id":1319809,"accept_rate":8,"display_name":"Jack Straub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76948534,"answer_count":1,"score":0,"last_activity_date":1692649699,"creation_date":1692647922,"question_id":76948380,"body_markdown":"Should I assume that the following program is wrong because lines x and y (at the very end of the main method) are not executed on the EDT?\r\n\r\n    public class Temp\r\n    {\r\n        private static JButton     button;\r\n        private static JTextField  text;\r\n        \r\n        private static void showGUI()\r\n        {\r\n            JFrame  frame       = new JFrame();\r\n            JPanel  contentPane = new JPanel();\r\n            button = new JButton( &quot;Push Me&quot; );\r\n            text = new JTextField( &quot;I am the walrus&quot; );\r\n            contentPane.add( button );\r\n            contentPane.add( text );\r\n            frame.setContentPane( contentPane );\r\n            frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n            \r\n            frame.pack();\r\n            frame.setVisible( true );\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n            throws InterruptedException, InvocationTargetException\r\n        {\r\n            SwingUtilities.invokeAndWait( () -&gt; showGUI() );\r\n            /* x */ System.out.println( text.getText() );\r\n            /* y */ button.addActionListener( System.out::println );\r\n        }\r\n    }","title":"Must JTextField.getText and JButton.addActionListener be Executed on the EDT","body":"<p>Should I assume that the following program is wrong because lines x and y (at the very end of the main method) are not executed on the EDT?</p>\n<pre><code>public class Temp\n{\n    private static JButton     button;\n    private static JTextField  text;\n    \n    private static void showGUI()\n    {\n        JFrame  frame       = new JFrame();\n        JPanel  contentPane = new JPanel();\n        button = new JButton( &quot;Push Me&quot; );\n        text = new JTextField( &quot;I am the walrus&quot; );\n        contentPane.add( button );\n        contentPane.add( text );\n        frame.setContentPane( contentPane );\n        frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        \n        frame.pack();\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n        throws InterruptedException, InvocationTargetException\n    {\n        SwingUtilities.invokeAndWait( () -&gt; showGUI() );\n        /* x */ System.out.println( text.getText() );\n        /* y */ button.addActionListener( System.out::println );\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson","quarkus","objectmapper","quarkus-rest-client"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1692649513,"post_id":76943828,"comment_id":135649959,"body_markdown":"Please specify Quarkus version.","body":"Please specify Quarkus version."},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1692682806,"post_id":76943828,"comment_id":135653349,"body_markdown":"Hi @zforgo, Quarkus version is 2.15.3.Final","body":"Hi @zforgo, Quarkus version is 2.15.3.Final"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692649291,"creation_date":1692608578,"question_id":76943828,"body_markdown":"I have a Java application developed using the Quarkus framework. It hits the external API using the RestClient which works fine locally, however when I create the containerized native image and deploy it to Kubernetes it gives the below error message:\r\n\r\n```none\r\nCannot construct instance of `com.abc.xyz.ZohoLeaveDto`: cannot deserialize from Object value (no delegate- or property-based Creator): this appears to be a native image, in which case you may need to configure reflection for the class that is to be deserialized\r\n at [Source: (StringReader); line: 1, column: 3] (through reference chain: java.util.ArrayList[0])**\r\n```\r\n```java\r\n@Override\r\npublic List&lt;ZohoLeaveDto&gt; getLeaves(String token, Instant lastModifiedTime, int index, int limit) {\r\n    log.infov(\r\n            &quot;Request to get leaves with last modified time: {0}, milli: {1}&quot;,\r\n            lastModifiedTime,\r\n            lastModifiedTime.toEpochMilli());\r\n\r\n    try {\r\n        token = StringUtils.isBlank(token) ? getAccessToken() : token;\r\n        String apiResponse = zohoRestClient.getLeaves(token, index, limit,\r\n                lastModifiedTime.toEpochMilli());\r\n        log.infov(&quot;leave api response: {0}&quot;, apiResponse);\r\n        objectMapper.registerModules(new ParanamerModule(), new ParameterNamesModule());\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        JsonNode responseJson = objectMapper.readValue(apiResponse, JsonNode.class);\r\n        if (responseJson.get(0).get(&quot;errorcode&quot;) != null) {\r\n            log.errorv(&quot;Unable to get leaves from zoho due to :{0}&quot;, responseJson);\r\n            return Collections.emptyList();\r\n        } else {\r\n            List&lt;ZohoLeaveDto&gt; leaves = objectMapper.readValue(apiResponse,\r\n                    new TypeReference&lt;List&lt;ZohoLeaveDto&gt;&gt;() {\r\n                    });\r\n            log.infov(&quot;{0} leave records has been fetched successfully&quot;, leaves.size());\r\n            return leaves;\r\n        }\r\n    } catch (Exception e) {\r\n        log.errorv(&quot;error in fetching leaves from zoho: {0}&quot;, e.getMessage());\r\n        return Collections.emptyList();\r\n    }\r\n}\r\n```\r\n**ZohoLeaveDto.java**\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@RegisterForReflection\r\npublic class ZohoLeaveDto {\r\n\r\n    @Schema(example = &quot;4106900&quot;)\r\n    private String recordId;\r\n\r\n    @JsonAlias(&quot;Employee ID&quot;)\r\n    @Schema(example = &quot;Aleo Kirb S2&quot;)\r\n    private String employeeId;\r\n\r\n    ...\r\n\r\n}\r\n```","title":"Cannot deserialize from Object value (no delegate- or property-based Creator): this appears to be a native image","body":"<p>I have a Java application developed using the Quarkus framework. It hits the external API using the RestClient which works fine locally, however when I create the containerized native image and deploy it to Kubernetes it gives the below error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Cannot construct instance of `com.abc.xyz.ZohoLeaveDto`: cannot deserialize from Object value (no delegate- or property-based Creator): this appears to be a native image, in which case you may need to configure reflection for the class that is to be deserialized\n at [Source: (StringReader); line: 1, column: 3] (through reference chain: java.util.ArrayList[0])**\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;ZohoLeaveDto&gt; getLeaves(String token, Instant lastModifiedTime, int index, int limit) {\n    log.infov(\n            &quot;Request to get leaves with last modified time: {0}, milli: {1}&quot;,\n            lastModifiedTime,\n            lastModifiedTime.toEpochMilli());\n\n    try {\n        token = StringUtils.isBlank(token) ? getAccessToken() : token;\n        String apiResponse = zohoRestClient.getLeaves(token, index, limit,\n                lastModifiedTime.toEpochMilli());\n        log.infov(&quot;leave api response: {0}&quot;, apiResponse);\n        objectMapper.registerModules(new ParanamerModule(), new ParameterNamesModule());\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        JsonNode responseJson = objectMapper.readValue(apiResponse, JsonNode.class);\n        if (responseJson.get(0).get(&quot;errorcode&quot;) != null) {\n            log.errorv(&quot;Unable to get leaves from zoho due to :{0}&quot;, responseJson);\n            return Collections.emptyList();\n        } else {\n            List&lt;ZohoLeaveDto&gt; leaves = objectMapper.readValue(apiResponse,\n                    new TypeReference&lt;List&lt;ZohoLeaveDto&gt;&gt;() {\n                    });\n            log.infov(&quot;{0} leave records has been fetched successfully&quot;, leaves.size());\n            return leaves;\n        }\n    } catch (Exception e) {\n        log.errorv(&quot;error in fetching leaves from zoho: {0}&quot;, e.getMessage());\n        return Collections.emptyList();\n    }\n}\n</code></pre>\n<p><strong>ZohoLeaveDto.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@RegisterForReflection\npublic class ZohoLeaveDto {\n\n    @Schema(example = &quot;4106900&quot;)\n    private String recordId;\n\n    @JsonAlias(&quot;Employee ID&quot;)\n    @Schema(example = &quot;Aleo Kirb S2&quot;)\n    private String employeeId;\n\n    ...\n\n}\n</code></pre>\n"},{"tags":["java","spring","javasound"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1692652277,"post_id":76948334,"comment_id":135650448,"body_markdown":"&quot;In other words instead of being very high accurate pitched frequency it suddenly plays a random tone that we can hear&quot; Are you aware of https://en.wikipedia.org/wiki/Aliasing?","body":"&quot;In other words instead of being very high accurate pitched frequency it suddenly plays a random tone that we can hear&quot; Are you aware of <a href=\"https://en.wikipedia.org/wiki/Aliasing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Aliasing</a>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1692654481,"post_id":76948334,"comment_id":135650754,"body_markdown":"As @AndyTurner says, with an 8KHz sample rate, you can only reproduce frequencies under 4KHz.","body":"As @AndyTurner says, with an 8KHz sample rate, you can only reproduce frequencies under 4KHz."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692686990,"post_id":76948334,"comment_id":135653952,"body_markdown":"Also note that many speakers will not be designed to output such high frequencies.","body":"Also note that many speakers will not be designed to output such high frequencies."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":1,"creation_date":1692695773,"post_id":76948334,"comment_id":135655722,"body_markdown":"The problem most certainly is aliasing, as @AndyTurner says. You could go higher if you chose the sample rate of 44100. This would allow you to get up to just over 22K which is inaudible for us humans. 44100 FPS is very common, and is known as &quot;CD Quality&quot; if there is also 16 bit resolution instead of 8 as you have, and stereo instead of mono. This format is supported by Java.","body":"The problem most certainly is aliasing, as @AndyTurner says. You could go higher if you chose the sample rate of 44100. This would allow you to get up to just over 22K which is inaudible for us humans. 44100 FPS is very common, and is known as &quot;CD Quality&quot; if there is also 16 bit resolution instead of 8 as you have, and stereo instead of mono. This format is supported by Java."}],"owner":{"account_id":29270314,"reputation":1,"user_id":22425274,"display_name":"Ephestion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692647960,"creation_date":1692647420,"question_id":76948334,"body_markdown":"I found a snippet of code here or online and have been using it to play a sound. The problem is that for frequencies out of human range and even upper level human range there appears to be a substitution of the sound frequency into an audible one. In other words instead of being very high accurate pitched frequency it suddenly plays a random tone that we can hear. The ranges I am interested in are 15,000Hz to 30,000Hz. I don&#39;t fully understand this code and would like some help.\r\n \r\n    \r\n    public static void tone(int hz, int msecs, double vol) throws LineUnavailableException {        \r\n        byte[] buf = new byte[1];\r\n        AudioFormat af = new AudioFormat(SAMPLE_RATE,8,1,true,false);     \r\n        SourceDataLine sdl = AudioSystem.getSourceDataLine(af);\r\n        sdl.open(af);\r\n        sdl.start();\r\n        for (int i=0; i &lt; msecs*8; i++) {\r\n              double angle = i / (SAMPLE_RATE / hz) * 2.0 * Math.PI;\r\n              buf[0] = (byte)(Math.sin(angle) * 127.0 * vol);\r\n              sdl.write(buf,0,1);\r\n        }\r\n        sdl.drain();\r\n        sdl.stop();\r\n        sdl.close();\r\n    }\r\n\r\nWhat I have done is make a form with a button on it and it calls a sound class\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        try{     \r\n           Sound.tone(15000,2000,1);\r\n        }catch(Exception ex){System.out.println(ex);}   \r\n    }        \r\n\r\nThe sound class code is:\r\n\r\n    import javax.sound.sampled.*;\r\n\r\n    public class Sound { \r\n        public static float SAMPLE_RATE = 8000f;\r\n    \r\n        public static void tone(int hz, int msecs) throws LineUnavailableException {\r\n            tone(hz, msecs, 1.0);\r\n        }\r\n\r\n        public static void tone(int hz, int msecs, double vol) throws LineUnavailableException {\r\n        \r\n            byte[] buf = new byte[1];\r\n            AudioFormat af = new AudioFormat(SAMPLE_RATE,8,1,true,false);     \r\n            SourceDataLine sdl = AudioSystem.getSourceDataLine(af);\r\n            sdl.open(af);\r\n            sdl.start();\r\n            for (int i=0; i &lt; msecs*8; i++) {\r\n                double angle = i / (SAMPLE_RATE / hz) * 2.0 * Math.PI;\r\n                buf[0] = (byte)(Math.sin(angle) * 127.0 * vol);\r\n                sdl.write(buf,0,1);\r\n            }\r\n            sdl.drain();\r\n            sdl.stop();\r\n            sdl.close();\r\n        }\r\n    }\r\n\r\n","title":"How to play a known frequency sound in java","body":"<p>I found a snippet of code here or online and have been using it to play a sound. The problem is that for frequencies out of human range and even upper level human range there appears to be a substitution of the sound frequency into an audible one. In other words instead of being very high accurate pitched frequency it suddenly plays a random tone that we can hear. The ranges I am interested in are 15,000Hz to 30,000Hz. I don't fully understand this code and would like some help.</p>\n<pre><code>public static void tone(int hz, int msecs, double vol) throws LineUnavailableException {        \n    byte[] buf = new byte[1];\n    AudioFormat af = new AudioFormat(SAMPLE_RATE,8,1,true,false);     \n    SourceDataLine sdl = AudioSystem.getSourceDataLine(af);\n    sdl.open(af);\n    sdl.start();\n    for (int i=0; i &lt; msecs*8; i++) {\n          double angle = i / (SAMPLE_RATE / hz) * 2.0 * Math.PI;\n          buf[0] = (byte)(Math.sin(angle) * 127.0 * vol);\n          sdl.write(buf,0,1);\n    }\n    sdl.drain();\n    sdl.stop();\n    sdl.close();\n}\n</code></pre>\n<p>What I have done is make a form with a button on it and it calls a sound class</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    // TODO add your handling code here:\n    try{     \n       Sound.tone(15000,2000,1);\n    }catch(Exception ex){System.out.println(ex);}   \n}        \n</code></pre>\n<p>The sound class code is:</p>\n<pre><code>import javax.sound.sampled.*;\n\npublic class Sound { \n    public static float SAMPLE_RATE = 8000f;\n\n    public static void tone(int hz, int msecs) throws LineUnavailableException {\n        tone(hz, msecs, 1.0);\n    }\n\n    public static void tone(int hz, int msecs, double vol) throws LineUnavailableException {\n    \n        byte[] buf = new byte[1];\n        AudioFormat af = new AudioFormat(SAMPLE_RATE,8,1,true,false);     \n        SourceDataLine sdl = AudioSystem.getSourceDataLine(af);\n        sdl.open(af);\n        sdl.start();\n        for (int i=0; i &lt; msecs*8; i++) {\n            double angle = i / (SAMPLE_RATE / hz) * 2.0 * Math.PI;\n            buf[0] = (byte)(Math.sin(angle) * 127.0 * vol);\n            sdl.write(buf,0,1);\n        }\n        sdl.drain();\n        sdl.stop();\n        sdl.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1692645476,"post_id":76947953,"comment_id":135649235,"body_markdown":"&quot;Strict&quot; is nebulous, though. If you know the specific regexes that are problematic is identifying them that difficult? Variable length lookbehind seems ok to identify, but haven&#39;t dug at all.","body":"&quot;Strict&quot; is nebulous, though. If you know the specific regexes that are problematic is identifying them that difficult? Variable length lookbehind seems ok to identify, but haven&#39;t dug at all."},{"owner":{"account_id":193819,"reputation":413,"user_id":435779,"accept_rate":64,"display_name":"user435779"},"score":0,"creation_date":1692645941,"post_id":76947953,"comment_id":135649302,"body_markdown":"Don&#39;t worry, I&#39;m really not too offended by Blindy&#39;s comment lol. These regexes are really not good, and regex might even be the wrong tool for the job here.  &quot;Stupid&quot; might just be a harsh-but-fair characterization of the situation :sweating-intensifies: \n\nAnd I mean that&#39;s probably what we&#39;ll do, is just tell the people who made these regexes &quot;don&#39;t do that&quot;, and explain why.","body":"Don&#39;t worry, I&#39;m really not too offended by Blindy&#39;s comment lol. These regexes are really not good, and regex might even be the wrong tool for the job here.  &quot;Stupid&quot; might just be a harsh-but-fair characterization of the situation :sweating-intensifies:   And I mean that&#39;s probably what we&#39;ll do, is just tell the people who made these regexes &quot;don&#39;t do that&quot;, and explain why."},{"owner":{"account_id":193819,"reputation":413,"user_id":435779,"accept_rate":64,"display_name":"user435779"},"score":0,"creation_date":1692646044,"post_id":76947953,"comment_id":135649321,"body_markdown":"That involves scheduling a meeting tho. The horror.","body":"That involves scheduling a meeting tho. The horror."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692646795,"post_id":76947953,"comment_id":135649473,"body_markdown":"How are regexes that exponentially backtrack handled?  I would think they would cause the same issue.","body":"How are regexes that exponentially backtrack handled?  I would think they would cause the same issue."},{"owner":{"account_id":193819,"reputation":413,"user_id":435779,"accept_rate":64,"display_name":"user435779"},"score":0,"creation_date":1692647237,"post_id":76947953,"comment_id":135649544,"body_markdown":"@WJS those are all salient questions and kinda gets at the truly &quot;correct&quot; answer to my question -- which is &quot;don&#39;t do it that way&quot; lol.  _If_ there was some way to configure the Java regex engine to display legacy behavior, that would be a good short-term band-aid, which is all I was hoping for.  Medium-to-long term, yeah absolutely, we need to either a) move away from doing it this way, or b) explicitly screen the regexes.","body":"@WJS those are all salient questions and kinda gets at the truly &quot;correct&quot; answer to my question -- which is &quot;don&#39;t do it that way&quot; lol.  <i>If</i> there was some way to configure the Java regex engine to display legacy behavior, that would be a good short-term band-aid, which is all I was hoping for.  Medium-to-long term, yeah absolutely, we need to either a) move away from doing it this way, or b) explicitly screen the regexes."}],"answers":[{"tags":[],"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692645649,"creation_date":1692645649,"answer_id":76948171,"question_id":76947953,"body_markdown":"The introduction of variable-length lookbehind in Java 9 indeed made it more flexible but also potentially riskier to ReDoS attacks. If you&#39;re concerned about the safety of regexes in your application, you might need to implement your own regex validation or filtering mechanism.\r\n\r\nAs stated [here](https://rules.sonarsource.com/java/RSPEC-2631/), the ReDoS issue has been handled in Java 9 but is still vulnerable to ReDoS, just needs trickier patterns than a basic `(a|aa)+`. This problem will never go away. A regular expression engine like RE2, is by design immune to these exponential runtime problems, but they had to drop certain regular expression features to achieve this.","title":"Can Java&#39;s regex engine be made to forbid variable length lookbehind?","body":"<p>The introduction of variable-length lookbehind in Java 9 indeed made it more flexible but also potentially riskier to ReDoS attacks. If you're concerned about the safety of regexes in your application, you might need to implement your own regex validation or filtering mechanism.</p>\n<p>As stated <a href=\"https://rules.sonarsource.com/java/RSPEC-2631/\" rel=\"nofollow noreferrer\">here</a>, the ReDoS issue has been handled in Java 9 but is still vulnerable to ReDoS, just needs trickier patterns than a basic <code>(a|aa)+</code>. This problem will never go away. A regular expression engine like RE2, is by design immune to these exponential runtime problems, but they had to drop certain regular expression features to achieve this.</p>\n"},{"tags":[],"owner":{"account_id":2521234,"reputation":20496,"user_id":2191572,"accept_rate":69,"display_name":"MonkeyZeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692647902,"creation_date":1692647902,"answer_id":76948377,"question_id":76947953,"body_markdown":"Ideally, you would write or find an existing regex lexer which validates that a variable-width lookbehind does not exist.\r\n\r\nWebsites such as regex101 are clearly doing some sort of processing to show hover messages such as:\r\n\r\n&gt; A quantifier inside a lookbehind makes it non-fixed width\r\n\r\nhttps://regex101.com/r/X778hR/1\r\n\r\n----------\r\n\r\nLikewise, languages which don&#39;t support variable-width lookbehinds will produce an error such as PHP:\r\n\r\n&gt; Warning: preg_match_all(): Compilation failed: lookbehind assertion is not fixed length at offset 0\r\n\r\nhttps://onlinephp.io/c/30d57\r\n\r\n----------\r\n\r\nIf you have the ability to bundle a regex flavor which does not support variable-width lookbehinds with your Java app then you **could** perform validation by invoking a non-Java regex flavor and checking for errors which you would then communicate to your end users.\r\n\r\n----------\r\n\r\nAnother option could be to make use of the PCRE library directly instead of relying on a separate programming language to talk to PCRE for you.","title":"Can Java&#39;s regex engine be made to forbid variable length lookbehind?","body":"<p>Ideally, you would write or find an existing regex lexer which validates that a variable-width lookbehind does not exist.</p>\n<p>Websites such as regex101 are clearly doing some sort of processing to show hover messages such as:</p>\n<blockquote>\n<p>A quantifier inside a lookbehind makes it non-fixed width</p>\n</blockquote>\n<p><a href=\"https://regex101.com/r/X778hR/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/X778hR/1</a></p>\n<hr />\n<p>Likewise, languages which don't support variable-width lookbehinds will produce an error such as PHP:</p>\n<blockquote>\n<p>Warning: preg_match_all(): Compilation failed: lookbehind assertion is not fixed length at offset 0</p>\n</blockquote>\n<p><a href=\"https://onlinephp.io/c/30d57\" rel=\"nofollow noreferrer\">https://onlinephp.io/c/30d57</a></p>\n<hr />\n<p>If you have the ability to bundle a regex flavor which does not support variable-width lookbehinds with your Java app then you <strong>could</strong> perform validation by invoking a non-Java regex flavor and checking for errors which you would then communicate to your end users.</p>\n<hr />\n<p>Another option could be to make use of the PCRE library directly instead of relying on a separate programming language to talk to PCRE for you.</p>\n"}],"owner":{"account_id":193819,"reputation":413,"user_id":435779,"accept_rate":64,"display_name":"user435779"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76948171,"answer_count":2,"score":0,"last_activity_date":1692647902,"creation_date":1692643259,"question_id":76947953,"body_markdown":"Starting with Java 9, the regex engine began supporting variable-length lookbehind. I guess that&#39;s great and all if you want it, but that&#39;s a really good way to make a regex that is vulnerable to ReDOS attacks, or just being accidentally ReDOSsed by ordinary user input.\r\n\r\nFor reasons that are beyond the scope of this question, I am unable to police the regexes that my application is using to the extent that I&#39;d like. We&#39;ve had problems with regexes _that wouldn&#39;t even have compiled_ in ancient versions of Java, but instead are causing application hangs (when a clean failure would have been much preferred).\r\n\r\nI&#39;m guessing the answer is &quot;no&quot;, but is there any way to get like legacy behavior on the Java regex engine, or to otherwise enable stricter checking, so that pathological regexes like this won&#39;t even be compiled by the engine? It would be much better to just fail these regexes, than for it to work most of the time but then if you give it just the right input it hangs.\r\n\r\nEdit to add: So there&#39;s stuff like [this open source project](https://github.com/NicolaasWeideman/RegexStaticAnalysis) that would maybe be something to look at if I decide I need to analyze any new regexes to make sure they aren&#39;t Evil. It would be nice if there was just a &quot;strict&quot; setting on the regex engine or something tho...","title":"Can Java&#39;s regex engine be made to forbid variable length lookbehind?","body":"<p>Starting with Java 9, the regex engine began supporting variable-length lookbehind. I guess that's great and all if you want it, but that's a really good way to make a regex that is vulnerable to ReDOS attacks, or just being accidentally ReDOSsed by ordinary user input.</p>\n<p>For reasons that are beyond the scope of this question, I am unable to police the regexes that my application is using to the extent that I'd like. We've had problems with regexes <em>that wouldn't even have compiled</em> in ancient versions of Java, but instead are causing application hangs (when a clean failure would have been much preferred).</p>\n<p>I'm guessing the answer is &quot;no&quot;, but is there any way to get like legacy behavior on the Java regex engine, or to otherwise enable stricter checking, so that pathological regexes like this won't even be compiled by the engine? It would be much better to just fail these regexes, than for it to work most of the time but then if you give it just the right input it hangs.</p>\n<p>Edit to add: So there's stuff like <a href=\"https://github.com/NicolaasWeideman/RegexStaticAnalysis\" rel=\"nofollow noreferrer\">this open source project</a> that would maybe be something to look at if I decide I need to analyze any new regexes to make sure they aren't Evil. It would be nice if there was just a &quot;strict&quot; setting on the regex engine or something tho...</p>\n"},{"tags":["java","testing","hash"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1692647194,"post_id":76947534,"comment_id":135649534,"body_markdown":"https://stackoverflow.com/q/504103/238704","body":"<a href=\"https://stackoverflow.com/q/504103/238704\">stackoverflow.com/q/504103/238704</a>"}],"owner":{"account_id":20736644,"reputation":1,"user_id":20829664,"display_name":"user15227357"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692646912,"creation_date":1692639159,"question_id":76947534,"body_markdown":"I&#39;m working on a mini project where I&#39;m comparing two hashing algorithms, specifically Robin Hood hashing and Double Hashing. My goal is to analyze and compare the performance of these algorithms in terms of lookup time, collision count, longest probe length, and average probe length. To achieve this, I&#39;ve planned to conduct various tests with different load factors, ranging from 0 to 1, to observe how each algorithm performs under different conditions. I&#39;ve tried to implement a counter into the contain() method with the variables totalTimeForLookup, totalCollisions, totalProbeLength.\r\n\r\nHere&#39;s the structure of my code using the Robin Hood hashing algorithm as an example:\r\n\r\n```\r\npackage com.example;\r\n\r\npublic class RobinHood&lt;T&gt; {\r\n\r\n    Object[] hashTable;\r\n    int maxDisplacement;\r\n    int itemCount;\r\n\r\n    // Additional fields for collision detection:\r\n    private long totalTimeForLookup;\r\n    private long totalCollisions;\r\n    private long totalProbeLength;\r\n\r\n    public RobinHood() {\r\n        hashTable = new Object[1024];\r\n        maxDisplacement = 0;\r\n        itemCount = 0;\r\n        totalTimeForLookup = 0;\r\n        totalCollisions = 0;\r\n        totalProbeLength = 0;\r\n    }\r\n\r\n    public boolean insert(T x) {\r\n        if (contains(x)) {\r\n            return false;\r\n        }\r\n\r\n        int loc = hash(x);\r\n        int displacement = 0;\r\n\r\n        while (true) {\r\n            if (hashTable[loc] == null) {\r\n                hashTable[loc] = x;\r\n                itemCount++;\r\n                return true;\r\n            } else if (calculateDisplacement((T) hashTable[loc], loc) &gt;= displacement) {\r\n                displacement++;\r\n                loc = (loc + 1) % hashTable.length;\r\n                maxDisplacement = Math.max(displacement, maxDisplacement);\r\n            } else {\r\n                T temp = x;\r\n                x = (T) hashTable[loc];\r\n                hashTable[loc] = temp;\r\n                loc = (loc + 1) % hashTable.length;\r\n                displacement = calculateDisplacement(x, loc);\r\n                maxDisplacement = Math.max(displacement, maxDisplacement);\r\n            }\r\n        }\r\n    }\r\n\r\n    public boolean contains(T x) {\r\n        long startTime = System.nanoTime();\r\n        int loc = hash(x);\r\n\r\n        for (int displacement = 0; displacement &lt;= maxDisplacement; displacement++) {\r\n            int index = (loc + displacement) % hashTable.length;\r\n            if (x.equals(hashTable[index])) {\r\n                long endTime = System.nanoTime();\r\n                totalTimeForLookup += (endTime - startTime);\r\n                totalProbeLength += (displacement + 1);\r\n                if (displacement &gt; 0) {\r\n                    totalCollisions++;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n\r\n        long endTime = System.nanoTime();\r\n        totalTimeForLookup += (endTime - startTime);\r\n        return false;\r\n    }\r\n\r\n    public boolean delete(T x) {\r\n        int loc = hash(x);\r\n\r\n        for (int displacement = 0; displacement &lt;= maxDisplacement; displacement++) {\r\n            int index = (loc + displacement) % hashTable.length;\r\n            if (x.equals(hashTable[index])) {\r\n                hashTable[index] = null;\r\n                itemCount--;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public int getSize() {\r\n        return itemCount;\r\n    }\r\n\r\n    private int calculateDisplacement(T x, int loc) {\r\n        int h = hash(x);\r\n        return (loc &gt;= h) ? (loc - h) : (hashTable.length + loc - h);\r\n    }\r\n\r\n    private int hash(T x) {\r\n        int h = x.hashCode();\r\n        if (h &lt; 0) {\r\n            return (x.hashCode() + 1) % hashTable.length + hashTable.length - 1;\r\n        }\r\n        return x.hashCode() % hashTable.length;\r\n    }\r\n\r\n    public static &lt;T&gt; int countDistinctElements(T[] arr) {\r\n        RobinHood&lt;T&gt; distinctCounter = new RobinHood&lt;&gt;();\r\n\r\n        for (T e : arr) {\r\n            distinctCounter.insert(e);\r\n        }\r\n\r\n        return distinctCounter.getSize();\r\n    }\r\n\r\n    public double getAverageProbeLength() {\r\n        if (totalTimeForLookup == 0) {\r\n            return 0;\r\n        }\r\n        return (double) totalProbeLength / itemCount;\r\n    }\r\n\r\n    public double getAverageLookupTime() {\r\n        if (itemCount == 0) {\r\n            return 0;\r\n        }\r\n        return (double) totalTimeForLookup / itemCount;\r\n    }\r\n\r\n    public long getCollisionCount() {\r\n        return totalCollisions;\r\n    }\r\n}\r\n```\r\nMy challenge is that the average lookup time results seem inconsistent compared to the overall time taken for the procedures. For example, both runs yield a similar procedure time of 42 ms, but the calculated average lookup times are different (966.12 ms vs. 768.54 ms). I&#39;m seeking guidance on how to ensure more reliable and consistent results for my performance metrics, particularly the average lookup time, collision count and probe length.\r\n","title":"How can I collect data from a hash function in the most optimal way?","body":"<p>I'm working on a mini project where I'm comparing two hashing algorithms, specifically Robin Hood hashing and Double Hashing. My goal is to analyze and compare the performance of these algorithms in terms of lookup time, collision count, longest probe length, and average probe length. To achieve this, I've planned to conduct various tests with different load factors, ranging from 0 to 1, to observe how each algorithm performs under different conditions. I've tried to implement a counter into the contain() method with the variables totalTimeForLookup, totalCollisions, totalProbeLength.</p>\n<p>Here's the structure of my code using the Robin Hood hashing algorithm as an example:</p>\n<pre><code>package com.example;\n\npublic class RobinHood&lt;T&gt; {\n\n    Object[] hashTable;\n    int maxDisplacement;\n    int itemCount;\n\n    // Additional fields for collision detection:\n    private long totalTimeForLookup;\n    private long totalCollisions;\n    private long totalProbeLength;\n\n    public RobinHood() {\n        hashTable = new Object[1024];\n        maxDisplacement = 0;\n        itemCount = 0;\n        totalTimeForLookup = 0;\n        totalCollisions = 0;\n        totalProbeLength = 0;\n    }\n\n    public boolean insert(T x) {\n        if (contains(x)) {\n            return false;\n        }\n\n        int loc = hash(x);\n        int displacement = 0;\n\n        while (true) {\n            if (hashTable[loc] == null) {\n                hashTable[loc] = x;\n                itemCount++;\n                return true;\n            } else if (calculateDisplacement((T) hashTable[loc], loc) &gt;= displacement) {\n                displacement++;\n                loc = (loc + 1) % hashTable.length;\n                maxDisplacement = Math.max(displacement, maxDisplacement);\n            } else {\n                T temp = x;\n                x = (T) hashTable[loc];\n                hashTable[loc] = temp;\n                loc = (loc + 1) % hashTable.length;\n                displacement = calculateDisplacement(x, loc);\n                maxDisplacement = Math.max(displacement, maxDisplacement);\n            }\n        }\n    }\n\n    public boolean contains(T x) {\n        long startTime = System.nanoTime();\n        int loc = hash(x);\n\n        for (int displacement = 0; displacement &lt;= maxDisplacement; displacement++) {\n            int index = (loc + displacement) % hashTable.length;\n            if (x.equals(hashTable[index])) {\n                long endTime = System.nanoTime();\n                totalTimeForLookup += (endTime - startTime);\n                totalProbeLength += (displacement + 1);\n                if (displacement &gt; 0) {\n                    totalCollisions++;\n                }\n                return true;\n            }\n        }\n\n        long endTime = System.nanoTime();\n        totalTimeForLookup += (endTime - startTime);\n        return false;\n    }\n\n    public boolean delete(T x) {\n        int loc = hash(x);\n\n        for (int displacement = 0; displacement &lt;= maxDisplacement; displacement++) {\n            int index = (loc + displacement) % hashTable.length;\n            if (x.equals(hashTable[index])) {\n                hashTable[index] = null;\n                itemCount--;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public int getSize() {\n        return itemCount;\n    }\n\n    private int calculateDisplacement(T x, int loc) {\n        int h = hash(x);\n        return (loc &gt;= h) ? (loc - h) : (hashTable.length + loc - h);\n    }\n\n    private int hash(T x) {\n        int h = x.hashCode();\n        if (h &lt; 0) {\n            return (x.hashCode() + 1) % hashTable.length + hashTable.length - 1;\n        }\n        return x.hashCode() % hashTable.length;\n    }\n\n    public static &lt;T&gt; int countDistinctElements(T[] arr) {\n        RobinHood&lt;T&gt; distinctCounter = new RobinHood&lt;&gt;();\n\n        for (T e : arr) {\n            distinctCounter.insert(e);\n        }\n\n        return distinctCounter.getSize();\n    }\n\n    public double getAverageProbeLength() {\n        if (totalTimeForLookup == 0) {\n            return 0;\n        }\n        return (double) totalProbeLength / itemCount;\n    }\n\n    public double getAverageLookupTime() {\n        if (itemCount == 0) {\n            return 0;\n        }\n        return (double) totalTimeForLookup / itemCount;\n    }\n\n    public long getCollisionCount() {\n        return totalCollisions;\n    }\n}\n</code></pre>\n<p>My challenge is that the average lookup time results seem inconsistent compared to the overall time taken for the procedures. For example, both runs yield a similar procedure time of 42 ms, but the calculated average lookup times are different (966.12 ms vs. 768.54 ms). I'm seeking guidance on how to ensure more reliable and consistent results for my performance metrics, particularly the average lookup time, collision count and probe length.</p>\n"},{"tags":["java","spring","hibernate","backend"],"comments":[{"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"score":0,"creation_date":1692640564,"post_id":76947679,"comment_id":135648366,"body_markdown":"I have a class User, where everything is done as in the class Card (of course with other fields).\nUser works, but Card does not.","body":"I have a class User, where everything is done as in the class Card (of course with other fields). User works, but Card does not."}],"answers":[{"tags":[],"owner":{"account_id":10875707,"reputation":11,"user_id":7996171,"display_name":"Snaydil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692641170,"creation_date":1692641170,"answer_id":76947756,"question_id":76947679,"body_markdown":"You should try to add @EntityScan(basePackages = {&quot;ua.com.alevel.persistence.entity&quot;})\r\n\r\nIs your concrete entity in the same module/project than your config ?","title":"Spring Data JPA cannot recognize the class","body":"<p>You should try to add @EntityScan(basePackages = {&quot;ua.com.alevel.persistence.entity&quot;})</p>\n<p>Is your concrete entity in the same module/project than your config ?</p>\n"},{"tags":[],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692646263,"creation_date":1692646263,"answer_id":76948231,"question_id":76947679,"body_markdown":"I was able to fix it. Apparently I had outdated dependencies in pom.xml and something was conflicting somewhere. I updated the file and everything worked!","title":"Spring Data JPA cannot recognize the class","body":"<p>I was able to fix it. Apparently I had outdated dependencies in pom.xml and something was conflicting somewhere. I updated the file and everything worked!</p>\n"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692646263,"creation_date":1692640467,"question_id":76947679,"body_markdown":"I have completely given up hope of solving this problem myself and hopefully I can get some help here.\r\n\r\nFor some reason, my class is not recognized as an entity, and I&#39;m getting the following error:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cardRepository&#39; defined in ua.com.alevel.persistence.repository.card.CardRepository defined in @EnableJpaRepositories declared on HibernateConfig: Not a managed type: class ua.com.alevel.persistence.entity.Card\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 38 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class ua.com.alevel.persistence.entity.Card\r\n    \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\r\nIf I move this class to my other project, with the same configuration, everything works fine, but here it refuses....\r\n\r\nMy BaseEntity abstract class (card and User inherit from it):\r\n\r\n    package ua.com.alevel.persistence.entity;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @MappedSuperclass\r\n    public abstract class BaseEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date created;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date updated;\r\n    \r\n        private boolean visible;\r\n    \r\n        public BaseEntity() {\r\n            this.created = new Date();\r\n            this.updated = new Date();\r\n            this.visible = true;\r\n        }\r\n    \r\n        @PreUpdate\r\n        public void onPreUpdate() {\r\n            this.updated = new Date();\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Date getCreated() {\r\n            return created;\r\n        }\r\n    \r\n        public void setCreated(Date created) {\r\n            this.created = created;\r\n        }\r\n    \r\n        public Date getUpdated() {\r\n            return updated;\r\n        }\r\n    \r\n        public void setUpdated(Date updated) {\r\n            this.updated = updated;\r\n        }\r\n    \r\n        public boolean getVisible() {\r\n            return visible;\r\n        }\r\n    \r\n        public void setVisible(boolean visible) {\r\n            this.visible = visible;\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the class responsible for this error:\r\n\r\n    package ua.com.alevel.persistence.entity;\r\n    \r\n    import javax.persistence.*;\r\n    import java.math.BigDecimal;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;cards&quot;)\r\n    public class Card extends BaseEntity {\r\n        @Column(name = &quot;card_number&quot;)\r\n        private String number;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date validUntil;\r\n    \r\n        @Column(name = &quot;card_cvv&quot;)\r\n        private String cvv;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;card_owner_id&quot;, nullable = false)\r\n        private User owner;\r\n    \r\n        @Column(name = &quot;card_balance&quot;)\r\n        private BigDecimal balance;\r\n    \r\n        public Card() {\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.add(Calendar.YEAR, 4);\r\n            validUntil = calendar.getTime();\r\n    \r\n            balance = BigDecimal.valueOf(0);\r\n        }\r\n    \r\n        public Card(String number, Date validUntil, String cvv, BigDecimal balance) {\r\n            this.number = number;\r\n            this.validUntil = validUntil;\r\n            this.cvv = cvv;\r\n            this.balance = balance;\r\n        }\r\n    \r\n        public String getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(String number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public Date getValidUntil() {\r\n            return validUntil;\r\n        }\r\n    \r\n        public void setValidUntil(Date validUntil) {\r\n            this.validUntil = validUntil;\r\n        }\r\n    \r\n        public String getCvv() {\r\n            return cvv;\r\n        }\r\n    \r\n        public void setCvv(String cvv) {\r\n            this.cvv = cvv;\r\n        }\r\n    \r\n        public User getOwner() {\r\n            return owner;\r\n        }\r\n    \r\n        public void setOwner(User owner) {\r\n            this.owner = owner;\r\n        }\r\n    \r\n        public BigDecimal getBalance() {\r\n            return balance;\r\n        }\r\n    \r\n        public void setBalance(BigDecimal balance) {\r\n            this.balance = balance;\r\n        }\r\n    }\r\n\r\n\r\nI will also attach a Hibernate configuration class here:\r\n\r\n    package ua.com.alevel.config;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(&quot;ua.com.alevel.persistence.repository&quot;)\r\n    public class HibernateConfig {\r\n    \r\n        @Value(&quot;${spring.datasource.url}&quot;)\r\n        private String jdbcUrl;\r\n    \r\n        @Value(&quot;${spring.datasource.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${spring.datasource.password}&quot;)\r\n        private String password;\r\n    \r\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n        private String driver;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.dialect}&quot;)\r\n        private String dialect;\r\n    \r\n        @Value(&quot;${spring.jpa.hibernate.ddl-auto}&quot;)\r\n        private String hbm2ddl;\r\n    \r\n        @Value(&quot;${spring.jpa.show-sql}&quot;)\r\n        private Boolean showSql;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.max_size}&quot;)\r\n        private String maxSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.min_size}&quot;)\r\n        private String minSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.batch_size}&quot;)\r\n        private String batchSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.fetch_size}&quot;)\r\n        private String fetchSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.enable_lazy_load_no_trans}&quot;)\r\n        private String lazyLoad;\r\n    \r\n        private static final String HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String HIBERNATE_HBM2DDL_AUTO = &quot;hibernate.hbm2ddl.auto&quot;;\r\n        private static final String HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n        private static final String HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS = &quot;hibernate.enable_lazy_load_no_trans&quot;;\r\n        private static final String MAX_SIZE = &quot;hibernate.c3p0.max_size&quot;;\r\n        private static final String MIN_SIZE = &quot;hibernate.c3p0.min_size&quot;;\r\n        private static final String BATCH_SIZE = &quot;hibernate.jdbc.batch_size&quot;;\r\n        private static final String FETCH_SIZE = &quot;hibernate.jdbc.fetch_size&quot;;\r\n        private static final String ENTITY_MANAGER_PACKAGES_TO_SCAN = &quot;ua.com.alevel.persistence.entity&quot;;\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(driver);\r\n            dataSource.setUrl(jdbcUrl);\r\n            dataSource.setUsername(username);\r\n            dataSource.setPassword(password);\r\n            return dataSource;\r\n        }\r\n    \r\n        @Bean(name = &quot;entityManagerFactory&quot;)\r\n        public LocalSessionFactoryBean sessionFactoryBean() {\r\n            LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n            sessionFactoryBean.setDataSource(dataSource());\r\n            sessionFactoryBean.setPackagesToScan(ENTITY_MANAGER_PACKAGES_TO_SCAN);\r\n            sessionFactoryBean.setHibernateProperties(hibernateProperties());\r\n            try {\r\n                sessionFactoryBean.afterPropertiesSet();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return sessionFactoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        public HibernateTransactionManager transactionManager() {\r\n            HibernateTransactionManager manager = new HibernateTransactionManager();\r\n            manager.setSessionFactory(sessionFactoryBean().getObject());\r\n            return manager;\r\n        }\r\n    \r\n        private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(HIBERNATE_DIALECT, dialect);\r\n            properties.put(HIBERNATE_HBM2DDL_AUTO, hbm2ddl);\r\n            properties.put(HIBERNATE_SHOW_SQL, showSql);\r\n            properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, lazyLoad);\r\n            properties.put(MAX_SIZE, maxSize);\r\n            properties.put(MIN_SIZE, minSize);\r\n            properties.put(BATCH_SIZE, batchSize);\r\n            properties.put(FETCH_SIZE, fetchSize);\r\n            return properties;\r\n        }\r\n    }\r\n\r\nI&#39;ll also attach the main class:\r\n\r\n    package ua.com.alevel;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\r\n    \r\n    @SpringBootApplication(exclude = {\r\n    \t\tDataSourceAutoConfiguration.class,\r\n    \t\tDataSourceTransactionManagerAutoConfiguration.class,\r\n    \t\tHibernateJpaAutoConfiguration.class})\r\n    public class FinancesMicroservicesApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(FinancesMicroservicesApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nI don&#39;t know how to fix it anymore:(\r\n\r\nI&#39;ll add the architecture of the project as well: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9PwfZ.png","title":"Spring Data JPA cannot recognize the class","body":"<p>I have completely given up hope of solving this problem myself and hopefully I can get some help here.</p>\n<p>For some reason, my class is not recognized as an entity, and I'm getting the following error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cardRepository' defined in ua.com.alevel.persistence.repository.card.CardRepository defined in @EnableJpaRepositories declared on HibernateConfig: Not a managed type: class ua.com.alevel.persistence.entity.Card\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 38 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class ua.com.alevel.persistence.entity.Card\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n</code></pre>\n<p>If I move this class to my other project, with the same configuration, everything works fine, but here it refuses....</p>\n<p>My BaseEntity abstract class (card and User inherit from it):</p>\n<pre><code>package ua.com.alevel.persistence.entity;\n\nimport javax.persistence.*;\nimport java.util.Date;\n\n@MappedSuperclass\npublic abstract class BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date created;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date updated;\n\n    private boolean visible;\n\n    public BaseEntity() {\n        this.created = new Date();\n        this.updated = new Date();\n        this.visible = true;\n    }\n\n    @PreUpdate\n    public void onPreUpdate() {\n        this.updated = new Date();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Date getCreated() {\n        return created;\n    }\n\n    public void setCreated(Date created) {\n        this.created = created;\n    }\n\n    public Date getUpdated() {\n        return updated;\n    }\n\n    public void setUpdated(Date updated) {\n        this.updated = updated;\n    }\n\n    public boolean getVisible() {\n        return visible;\n    }\n\n    public void setVisible(boolean visible) {\n        this.visible = visible;\n    }\n}\n</code></pre>\n<p>And here's the class responsible for this error:</p>\n<pre><code>package ua.com.alevel.persistence.entity;\n\nimport javax.persistence.*;\nimport java.math.BigDecimal;\nimport java.util.Calendar;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;cards&quot;)\npublic class Card extends BaseEntity {\n    @Column(name = &quot;card_number&quot;)\n    private String number;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date validUntil;\n\n    @Column(name = &quot;card_cvv&quot;)\n    private String cvv;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;card_owner_id&quot;, nullable = false)\n    private User owner;\n\n    @Column(name = &quot;card_balance&quot;)\n    private BigDecimal balance;\n\n    public Card() {\n        Calendar calendar = Calendar.getInstance();\n        calendar.add(Calendar.YEAR, 4);\n        validUntil = calendar.getTime();\n\n        balance = BigDecimal.valueOf(0);\n    }\n\n    public Card(String number, Date validUntil, String cvv, BigDecimal balance) {\n        this.number = number;\n        this.validUntil = validUntil;\n        this.cvv = cvv;\n        this.balance = balance;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n\n    public void setNumber(String number) {\n        this.number = number;\n    }\n\n    public Date getValidUntil() {\n        return validUntil;\n    }\n\n    public void setValidUntil(Date validUntil) {\n        this.validUntil = validUntil;\n    }\n\n    public String getCvv() {\n        return cvv;\n    }\n\n    public void setCvv(String cvv) {\n        this.cvv = cvv;\n    }\n\n    public User getOwner() {\n        return owner;\n    }\n\n    public void setOwner(User owner) {\n        this.owner = owner;\n    }\n\n    public BigDecimal getBalance() {\n        return balance;\n    }\n\n    public void setBalance(BigDecimal balance) {\n        this.balance = balance;\n    }\n}\n</code></pre>\n<p>I will also attach a Hibernate configuration class here:</p>\n<pre><code>package ua.com.alevel.config;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.io.IOException;\nimport java.util.Properties;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(&quot;ua.com.alevel.persistence.repository&quot;)\npublic class HibernateConfig {\n\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String jdbcUrl;\n\n    @Value(&quot;${spring.datasource.username}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.datasource.password}&quot;)\n    private String password;\n\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\n    private String driver;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.dialect}&quot;)\n    private String dialect;\n\n    @Value(&quot;${spring.jpa.hibernate.ddl-auto}&quot;)\n    private String hbm2ddl;\n\n    @Value(&quot;${spring.jpa.show-sql}&quot;)\n    private Boolean showSql;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.max_size}&quot;)\n    private String maxSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.min_size}&quot;)\n    private String minSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.batch_size}&quot;)\n    private String batchSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.fetch_size}&quot;)\n    private String fetchSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.enable_lazy_load_no_trans}&quot;)\n    private String lazyLoad;\n\n    private static final String HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\n    private static final String HIBERNATE_HBM2DDL_AUTO = &quot;hibernate.hbm2ddl.auto&quot;;\n    private static final String HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\n    private static final String HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS = &quot;hibernate.enable_lazy_load_no_trans&quot;;\n    private static final String MAX_SIZE = &quot;hibernate.c3p0.max_size&quot;;\n    private static final String MIN_SIZE = &quot;hibernate.c3p0.min_size&quot;;\n    private static final String BATCH_SIZE = &quot;hibernate.jdbc.batch_size&quot;;\n    private static final String FETCH_SIZE = &quot;hibernate.jdbc.fetch_size&quot;;\n    private static final String ENTITY_MANAGER_PACKAGES_TO_SCAN = &quot;ua.com.alevel.persistence.entity&quot;;\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(driver);\n        dataSource.setUrl(jdbcUrl);\n        dataSource.setUsername(username);\n        dataSource.setPassword(password);\n        return dataSource;\n    }\n\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    public LocalSessionFactoryBean sessionFactoryBean() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(ENTITY_MANAGER_PACKAGES_TO_SCAN);\n        sessionFactoryBean.setHibernateProperties(hibernateProperties());\n        try {\n            sessionFactoryBean.afterPropertiesSet();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return sessionFactoryBean;\n    }\n\n    @Bean\n    public HibernateTransactionManager transactionManager() {\n        HibernateTransactionManager manager = new HibernateTransactionManager();\n        manager.setSessionFactory(sessionFactoryBean().getObject());\n        return manager;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(HIBERNATE_DIALECT, dialect);\n        properties.put(HIBERNATE_HBM2DDL_AUTO, hbm2ddl);\n        properties.put(HIBERNATE_SHOW_SQL, showSql);\n        properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, lazyLoad);\n        properties.put(MAX_SIZE, maxSize);\n        properties.put(MIN_SIZE, minSize);\n        properties.put(BATCH_SIZE, batchSize);\n        properties.put(FETCH_SIZE, fetchSize);\n        return properties;\n    }\n}\n</code></pre>\n<p>I'll also attach the main class:</p>\n<pre><code>package ua.com.alevel;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\n\n@SpringBootApplication(exclude = {\n        DataSourceAutoConfiguration.class,\n        DataSourceTransactionManagerAutoConfiguration.class,\n        HibernateJpaAutoConfiguration.class})\npublic class FinancesMicroservicesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FinancesMicroservicesApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I don't know how to fix it anymore:(</p>\n<p>I'll add the architecture of the project as well:\n<a href=\"https://i.stack.imgur.com/9PwfZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9PwfZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"owner":{"account_id":29270259,"reputation":1,"user_id":22425231,"display_name":"Nikeу М"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692646120,"creation_date":1692646120,"question_id":76948216,"body_markdown":"i&#39;ve been working on code that should generate a De Bruijn sequence/array for my project about De Bruijn sequences and i&#39;ve run across this particular code: \r\n```\r\nimport java.util.*;\r\n \r\nclass GFG\r\n{\r\n \r\n    static Set&lt;String&gt; seen = new HashSet&lt;String&gt;();\r\n    static Vector&lt;Integer&gt; edges = new Vector&lt;Integer&gt;();\r\n \r\n    // Modified DFS in which no edge\r\n    // is traversed twice\r\n    static void dfs(String node, int k, String A)\r\n    {\r\n        for (int i = 0; i &lt; k; ++i)\r\n        {\r\n            String str = node + A.charAt(i);\r\n            if (!seen.contains(str))\r\n            {\r\n                seen.add(str);\r\n                dfs(str.substring(1), k, A);\r\n                edges.add(i);\r\n            }\r\n        }\r\n    }\r\n \r\n    // Function to find a de Bruijn sequence\r\n    // of order n on k characters\r\n    static String deBruijn(int n, int k, String A)\r\n    {\r\n \r\n        // Clearing global variables\r\n        seen.clear();\r\n        edges.clear();\r\n \r\n        String startingNode = string(n - 1, A.charAt(0));\r\n        dfs(startingNode, k, A);\r\n \r\n        String S = &quot;&quot;;\r\n \r\n        // Number of edges\r\n        int l = (int) Math.pow(k, n);\r\n        for (int i = 0; i &lt; l; ++i)\r\n            S += A.charAt(edges.get(i));\r\n        S += startingNode;\r\n \r\n        return S;\r\n    }\r\n \r\n    private static String string(int n, char charAt)\r\n    {\r\n        String str = &quot;&quot;;\r\n        for (int i = 0; i &lt; n; i++)\r\n            str += charAt;\r\n        return str;\r\n    }\r\n \r\n    // Driver code\r\n    public static void main(String[] args)\r\n    {\r\n        int n = 3, k = 2;\r\n        String A = &quot;01&quot;;\r\n \r\n        System.out.print(deBruijn(n, k, A));\r\n    }\r\n}\r\n \r\n// This code is contributed by 29AjayKumar\r\n```\r\nThe question in hand is how does this actually generate the correct sequence? I&#39;m asking because when professor taught us he mentioned going via hamiltonian path/eulerian cycle so i&#39;m bugged why this code works since it doesn&#39;t seem to implement any of said two.\r\n\r\nA bit confused but i would appreciate someone smarter breaking me down how and why.\r\n\r\n\r\nI tried running code based off of the textbook examples done in my notebook by hand, it matches the sequences but not in a way that i understand.","title":"De Bruijn sequence generation in Java","body":"<p>i've been working on code that should generate a De Bruijn sequence/array for my project about De Bruijn sequences and i've run across this particular code:</p>\n<pre><code>import java.util.*;\n \nclass GFG\n{\n \n    static Set&lt;String&gt; seen = new HashSet&lt;String&gt;();\n    static Vector&lt;Integer&gt; edges = new Vector&lt;Integer&gt;();\n \n    // Modified DFS in which no edge\n    // is traversed twice\n    static void dfs(String node, int k, String A)\n    {\n        for (int i = 0; i &lt; k; ++i)\n        {\n            String str = node + A.charAt(i);\n            if (!seen.contains(str))\n            {\n                seen.add(str);\n                dfs(str.substring(1), k, A);\n                edges.add(i);\n            }\n        }\n    }\n \n    // Function to find a de Bruijn sequence\n    // of order n on k characters\n    static String deBruijn(int n, int k, String A)\n    {\n \n        // Clearing global variables\n        seen.clear();\n        edges.clear();\n \n        String startingNode = string(n - 1, A.charAt(0));\n        dfs(startingNode, k, A);\n \n        String S = &quot;&quot;;\n \n        // Number of edges\n        int l = (int) Math.pow(k, n);\n        for (int i = 0; i &lt; l; ++i)\n            S += A.charAt(edges.get(i));\n        S += startingNode;\n \n        return S;\n    }\n \n    private static String string(int n, char charAt)\n    {\n        String str = &quot;&quot;;\n        for (int i = 0; i &lt; n; i++)\n            str += charAt;\n        return str;\n    }\n \n    // Driver code\n    public static void main(String[] args)\n    {\n        int n = 3, k = 2;\n        String A = &quot;01&quot;;\n \n        System.out.print(deBruijn(n, k, A));\n    }\n}\n \n// This code is contributed by 29AjayKumar\n</code></pre>\n<p>The question in hand is how does this actually generate the correct sequence? I'm asking because when professor taught us he mentioned going via hamiltonian path/eulerian cycle so i'm bugged why this code works since it doesn't seem to implement any of said two.</p>\n<p>A bit confused but i would appreciate someone smarter breaking me down how and why.</p>\n<p>I tried running code based off of the textbook examples done in my notebook by hand, it matches the sequences but not in a way that i understand.</p>\n"},{"tags":["java","apache-spark","hadoop","hive"],"comments":[{"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"score":0,"creation_date":1692560978,"post_id":76940334,"comment_id":135636738,"body_markdown":"Not 100%  a duplicate, but I would guess that you try to connect to a wrong port:  [Too large frame error when running spark shell on standalone cluster](https://stackoverflow.com/questions/61051316/too-large-frame-error-when-running-spark-shell-on-standalone-cluster)","body":"Not 100%  a duplicate, but I would guess that you try to connect to a wrong port:  <a href=\"https://stackoverflow.com/questions/61051316/too-large-frame-error-when-running-spark-shell-on-standalone-cluster\">Too large frame error when running spark shell on standalone cluster</a>"},{"owner":{"account_id":8978173,"reputation":78,"user_id":18894838,"display_name":"infernus"},"score":0,"creation_date":1692718729,"post_id":76940334,"comment_id":135661264,"body_markdown":"@werner i have put the reason for that error, check it :))     And yes your comment actually gave me the tip to reach this solution as if port is correct, maybe the IP address that spark or hive is looking for might be the issue which lead me to read upon the configs of spark i mentioned in hive-site.xml","body":"@werner i have put the reason for that error, check it :))     And yes your comment actually gave me the tip to reach this solution as if port is correct, maybe the IP address that spark or hive is looking for might be the issue which lead me to read upon the configs of spark i mentioned in hive-site.xml"}],"answers":[{"tags":[],"owner":{"account_id":8978173,"reputation":78,"user_id":18894838,"display_name":"infernus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692645576,"creation_date":1692645576,"answer_id":76948165,"question_id":76940334,"body_markdown":"I found the reason for that error. In hive-site.xml which is in **$HIVE_HOME/conf**, I changed the value of configuration **spark.submit.deployMode** from **cluster** to **client** which solved the issue as I am running spark and hive locally.\r\n","title":"Hive failing to create spark session","body":"<p>I found the reason for that error. In hive-site.xml which is in <strong>$HIVE_HOME/conf</strong>, I changed the value of configuration <strong>spark.submit.deployMode</strong> from <strong>cluster</strong> to <strong>client</strong> which solved the issue as I am running spark and hive locally.</p>\n"}],"owner":{"account_id":8978173,"reputation":78,"user_id":18894838,"display_name":"infernus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76948165,"answer_count":1,"score":0,"last_activity_date":1692645576,"creation_date":1692548722,"question_id":76940334,"body_markdown":"I tried a lot and read a lot of docs of spark and hive. Things dont even match up. For example\r\nhttps://cwiki.apache.org/confluence/display/Hive/Hive+on+Spark%3A+Getting+Started\r\nin this docs of hive, hive says that 2.3.x is tested for spark 2.0.0\r\nbut in spark docs ( https://spark.apache.org/docs/3.3.2/building-spark.html ) it says that spark 3.3.2 is built for hive 2.3.9\r\nInformation of docs mismatch and also when I try with hive 2.3.9 on spark 3.3.2, I am getting errors when hive is trying to create spark session.\r\n\r\nThis error shows up when i do like\r\n\r\n    select count(*) from table_name;\r\n\r\nError \r\n------\r\nFailed to execute spark task, with exception &#39;org.apache.hadoop.hive.ql.metadata.HiveException(Failed to create spark client.)&#39;\r\nFailed: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.spark.SparkTask. Failed to create spark client.\r\n\r\n\r\n\r\n\r\nSo i checked the logs of hive and here are some information that you may need. FYI, my spark runs on port 4040 in localhost.\r\n\r\nWARN TransportChannelHandler : Exception in connection from localhost/127.0.0.1:4040\r\njava.lang.IllegalArgumentException: Too large frame: 5211883372140375593\r\nERROR TransportResponseHandler: Still have 1 requests outstanding when connection from localhost/127.0.0.1:4040 is closed\r\nException in thread &quot;main&quot; org.apache.spark.SparkException: Exception thrown in awaitResult\r\nERROR [f0fd81a8-0d73-43d0-814e-bda0253c132a main] client.SparkClientImpl: Error while waiting for client to connect.\r\njava.util.concurrent.ExecutionException: java.lang.RuntimeException: Cancel client &#39;cc1f8b8a-0bfd-4574-9b6d-90bb0238a71e&#39;. Error: Child process exited before connecting back with error log Warning: Ignoring non-Spark config property: hive.spark.client.server.connect.timeout\r\n\r\nTo see full error log -&gt; https://pastebin.com/CiuHRCsy\r\n\r\n\r\n","title":"Hive failing to create spark session","body":"<p>I tried a lot and read a lot of docs of spark and hive. Things dont even match up. For example\n<a href=\"https://cwiki.apache.org/confluence/display/Hive/Hive+on+Spark%3A+Getting+Started\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/Hive/Hive+on+Spark%3A+Getting+Started</a>\nin this docs of hive, hive says that 2.3.x is tested for spark 2.0.0\nbut in spark docs ( <a href=\"https://spark.apache.org/docs/3.3.2/building-spark.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/3.3.2/building-spark.html</a> ) it says that spark 3.3.2 is built for hive 2.3.9\nInformation of docs mismatch and also when I try with hive 2.3.9 on spark 3.3.2, I am getting errors when hive is trying to create spark session.</p>\n<p>This error shows up when i do like</p>\n<pre><code>select count(*) from table_name;\n</code></pre>\n<h2>Error</h2>\n<p>Failed to execute spark task, with exception 'org.apache.hadoop.hive.ql.metadata.HiveException(Failed to create spark client.)'\nFailed: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.spark.SparkTask. Failed to create spark client.</p>\n<p>So i checked the logs of hive and here are some information that you may need. FYI, my spark runs on port 4040 in localhost.</p>\n<p>WARN TransportChannelHandler : Exception in connection from localhost/127.0.0.1:4040\njava.lang.IllegalArgumentException: Too large frame: 5211883372140375593\nERROR TransportResponseHandler: Still have 1 requests outstanding when connection from localhost/127.0.0.1:4040 is closed\nException in thread &quot;main&quot; org.apache.spark.SparkException: Exception thrown in awaitResult\nERROR [f0fd81a8-0d73-43d0-814e-bda0253c132a main] client.SparkClientImpl: Error while waiting for client to connect.\njava.util.concurrent.ExecutionException: java.lang.RuntimeException: Cancel client 'cc1f8b8a-0bfd-4574-9b6d-90bb0238a71e'. Error: Child process exited before connecting back with error log Warning: Ignoring non-Spark config property: hive.spark.client.server.connect.timeout</p>\n<p>To see full error log -&gt; <a href=\"https://pastebin.com/CiuHRCsy\" rel=\"nofollow noreferrer\">https://pastebin.com/CiuHRCsy</a></p>\n"},{"tags":["java","junit","mocking","azure-functions","mockito"],"owner":{"account_id":6591638,"reputation":1,"user_id":5092592,"display_name":"chinmaya bal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692644943,"creation_date":1692616820,"question_id":76944816,"body_markdown":"I have a spring cloud azure function which is written in java.\r\n\r\n```java\r\nResponseEntity&lt;Object&gt; response = restTemplate.exchange(url, HttpMethod.GET, requestEntity, new ParameterizedTypeReference&lt;Object&gt;() {});\r\n```\r\n\r\nFrom this above code I am trying to execute the url using restTemplate and getting the response back in json.\r\n\r\nNow while writing the junit test cases for this code I don&#39;t want to execute he actual url\r\nInstead I wanted to mock the exchange method and retuned a json mock response.\r\n\r\nBut always it is calling my actual URL which I don&#39;t want and  exchange method is not getting mocked.\r\n\r\nHere is full class code:\r\n\r\n```java\r\n@Component\r\npublic class TktService implements Function&lt;FunctionInput, AirTravelDocument&gt; {\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n    @Value(&quot;${tkt.url}&quot;)\r\n    private String tkturl;\r\n\r\n    public AirTravelDocument apply(FunctionInput input) {\r\n        String param = input.getParam();\r\n        ExecutionContext context = input.getContext();\r\n        ITelemetryOperator telemetryOperator =        TelemetryOperator.Builder.newBuilder(context.getTraceContext().getTraceparent()).build();\r\n        telemetryOperator.logInfo(context, &quot;Entered handler method&quot;);\r\n    \tString url = tkturl + param;\r\n    \ttelemetryOperator.logInfo(context, &quot;Param : &quot; + param);\r\n    \ttelemetryOperator.logInfo(context, &quot;Establishing connection with ODS API: &quot; + url);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(null, headers);\r\n        ResponseEntity&lt;AirTravelDocument&gt; response = restTemplate.exchange(url, HttpMethod.GET, requestEntity,\r\n                new ParameterizedTypeReference&lt;AirTravelDocument&gt;() {\r\n                });\r\n        AirTravelDocument airTravelDocument = response.getBody();\r\n        telemetryOperator.logInfo(context, &quot;Response fetched from ODS API&quot;);\r\n        return airTravelDocument;\r\n    }\r\n}\r\n```\r\n\r\nTried below junit test case code:\r\n\r\n```java\r\nfinal RestTemplate restTemplate = mock(RestTemplate.class);\r\ndoReturn(response).when(restTemplate).exchange(&quot;url&quot;, HttpMethod.GET, requestEntity, new ParameterizedTypeReference&lt;AirTravelDocument&gt;(){});\r\n```\r\n\r\nNote - response which I already created which I wanted to return.","title":"How to mock restTemplate exchange method while writing spring cloud azure function","body":"<p>I have a spring cloud azure function which is written in java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;Object&gt; response = restTemplate.exchange(url, HttpMethod.GET, requestEntity, new ParameterizedTypeReference&lt;Object&gt;() {});\n</code></pre>\n<p>From this above code I am trying to execute the url using restTemplate and getting the response back in json.</p>\n<p>Now while writing the junit test cases for this code I don't want to execute he actual url\nInstead I wanted to mock the exchange method and retuned a json mock response.</p>\n<p>But always it is calling my actual URL which I don't want and  exchange method is not getting mocked.</p>\n<p>Here is full class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class TktService implements Function&lt;FunctionInput, AirTravelDocument&gt; {\n\n    @Autowired\n    private RestTemplate restTemplate;\n    @Value(&quot;${tkt.url}&quot;)\n    private String tkturl;\n\n    public AirTravelDocument apply(FunctionInput input) {\n        String param = input.getParam();\n        ExecutionContext context = input.getContext();\n        ITelemetryOperator telemetryOperator =        TelemetryOperator.Builder.newBuilder(context.getTraceContext().getTraceparent()).build();\n        telemetryOperator.logInfo(context, &quot;Entered handler method&quot;);\n        String url = tkturl + param;\n        telemetryOperator.logInfo(context, &quot;Param : &quot; + param);\n        telemetryOperator.logInfo(context, &quot;Establishing connection with ODS API: &quot; + url);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(null, headers);\n        ResponseEntity&lt;AirTravelDocument&gt; response = restTemplate.exchange(url, HttpMethod.GET, requestEntity,\n                new ParameterizedTypeReference&lt;AirTravelDocument&gt;() {\n                });\n        AirTravelDocument airTravelDocument = response.getBody();\n        telemetryOperator.logInfo(context, &quot;Response fetched from ODS API&quot;);\n        return airTravelDocument;\n    }\n}\n</code></pre>\n<p>Tried below junit test case code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final RestTemplate restTemplate = mock(RestTemplate.class);\ndoReturn(response).when(restTemplate).exchange(&quot;url&quot;, HttpMethod.GET, requestEntity, new ParameterizedTypeReference&lt;AirTravelDocument&gt;(){});\n</code></pre>\n<p>Note - response which I already created which I wanted to return.</p>\n"},{"tags":["java","amazon-web-services","aws-api-gateway"],"comments":[{"owner":{"account_id":302854,"reputation":4422,"user_id":611446,"accept_rate":82,"display_name":"Sasikumar Murugesan"},"score":0,"creation_date":1531448551,"post_id":51316761,"comment_id":89609821,"body_markdown":"it seems that you are using wrong access/secret key","body":"it seems that you are using wrong access/secret key"},{"owner":{"account_id":5248672,"reputation":2125,"user_id":4193581,"display_name":"K Mo"},"score":0,"creation_date":1531467393,"post_id":51316761,"comment_id":89615533,"body_markdown":"Two common errors are: 1) not calling the correct resource in the url (e.g. wrong/missing resource name, wrong stage, etc).   2) incorrect call to backend service (e.g. something is getting mapped incorrectly in API GW).  Have you tested your API from the GW console? If so, does it work from there?","body":"Two common errors are: 1) not calling the correct resource in the url (e.g. wrong/missing resource name, wrong stage, etc).   2) incorrect call to backend service (e.g. something is getting mapped incorrectly in API GW).  Have you tested your API from the GW console? If so, does it work from there?"},{"owner":{"account_id":13944584,"reputation":31,"user_id":10069624,"display_name":"jenny"},"score":0,"creation_date":1531468361,"post_id":51316761,"comment_id":89616022,"body_markdown":"@SasikumarMurugesan The authorization is seted to none and the API Key is false.So ,I don&#39;t use access/secret key to request.Is the access/secret key necessary?","body":"@SasikumarMurugesan The authorization is seted to none and the API Key is false.So ,I don&#39;t use access/secret key to request.Is the access/secret key necessary?"},{"owner":{"account_id":13944584,"reputation":31,"user_id":10069624,"display_name":"jenny"},"score":0,"creation_date":1531469473,"post_id":51316761,"comment_id":89616593,"body_markdown":"@KMo I have tested my API in the console.The api returns successfuly. The status is 200.","body":"@KMo I have tested my API in the console.The api returns successfuly. The status is 200."},{"owner":{"account_id":5248672,"reputation":2125,"user_id":4193581,"display_name":"K Mo"},"score":0,"creation_date":1531469821,"post_id":51316761,"comment_id":89616762,"body_markdown":"@jenny and you have double checked you are calling the correct invoke URL, which would be in this format https://{restapi_id}.execute-api.{region}.amazonaws.com/{stage_name}/{resourcePath}, with the correct method e.g. GET, POST or whatever you set up","body":"@jenny and you have double checked you are calling the correct invoke URL, which would be in this format https://{restapi_id}.execute-api.{region}.amazonaws.com/{sta&zwnj;&#8203;ge_name}/{resourcePa&zwnj;&#8203;th}, with the correct method e.g. GET, POST or whatever you set up"},{"owner":{"account_id":13944584,"reputation":31,"user_id":10069624,"display_name":"jenny"},"score":0,"creation_date":1531470153,"post_id":51316761,"comment_id":89616961,"body_markdown":"@KMo \nNow,I set API which the integration type is seted to mock and no query params.The resourse name is test.In the stage page,the Invoke URL is https://g06f5oxxxx.execute-api.cn-north-1.amazonaws.com.cn/beta.I call https://g06f5oxxxx.execute-api.cn-north-1.amazonaws.com.cn/beta/test.\nWhere is the problem？\nthanks!","body":"@KMo  Now,I set API which the integration type is seted to mock and no query params.The resourse name is test.In the stage page,the Invoke URL is <a href=\"https://g06f5oxxxx.execute-api.cn-north-1.amazonaws.com.cn/beta.I\" rel=\"nofollow noreferrer\">g06f5oxxxx.execute-api.cn-north-1.amazonaws.com.cn/beta.I</a> call <a href=\"https://g06f5oxxxx.execute-api.cn-north-1.amazonaws.com.cn/beta/test\" rel=\"nofollow noreferrer\">g06f5oxxxx.execute-api.cn-north-1.amazonaws.com.cn/beta/test</a>&zwnj;&#8203;. Where is the problem？ thanks!"},{"owner":{"account_id":5248672,"reputation":2125,"user_id":4193581,"display_name":"K Mo"},"score":0,"creation_date":1531474410,"post_id":51316761,"comment_id":89619435,"body_markdown":"@jenny That all looks good. I can&#39;t see why that wouldn&#39;t work. My last question would be to check you have actually deployed the API. If so, I&#39;m out of suggestions","body":"@jenny That all looks good. I can&#39;t see why that wouldn&#39;t work. My last question would be to check you have actually deployed the API. If so, I&#39;m out of suggestions"},{"owner":{"account_id":13944584,"reputation":31,"user_id":10069624,"display_name":"jenny"},"score":0,"creation_date":1531476001,"post_id":51316761,"comment_id":89620361,"body_markdown":"@KMo I am sure I have deployed my API to the &quot;beta&quot; stage.I don&#39;t know wheather I need to configure other settings in the AWS console.","body":"@KMo I am sure I have deployed my API to the &quot;beta&quot; stage.I don&#39;t know wheather I need to configure other settings in the AWS console."},{"owner":{"account_id":5348217,"reputation":434,"user_id":4263135,"display_name":"Mark Hayward"},"score":0,"creation_date":1531606689,"post_id":51316761,"comment_id":89660860,"body_markdown":"Are you sure your method is a GET (assuming you are accessing it in a browser)?","body":"Are you sure your method is a GET (assuming you are accessing it in a browser)?"},{"owner":{"account_id":13944584,"reputation":31,"user_id":10069624,"display_name":"jenny"},"score":0,"creation_date":1531704128,"post_id":51316761,"comment_id":89679563,"body_markdown":"@MarkHayward The method is GET.In the browser,I enter the url,the result is ACCESS_DENIED.I also try to invoke it in the IDE(such as Eclipse),the result is the description.","body":"@MarkHayward The method is GET.In the browser,I enter the url,the result is ACCESS_DENIED.I also try to invoke it in the IDE(such as Eclipse),the result is the description."}],"answers":[{"tags":[],"owner":{"account_id":3253408,"reputation":1419,"user_id":2743131,"accept_rate":67,"display_name":"Algamest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566151387,"creation_date":1566150255,"answer_id":57546958,"question_id":51316761,"body_markdown":"A cause of `{&quot;message&quot;:&quot;Forbidden&quot;}` which I had which had me stumped was that I had not deployed my API.\r\n\r\nFor anyone having this issue, check if your gateway has been deployed.\r\nFirst you will need a _Stage_, with which you can click _Deploy API_ from the _Actions_ dropdown, selecting your stage.\r\n\r\nDeploying will give you an `invoke_url`, (which ends in `/{stage-name}`.\r\n\r\n\r\n\r\nFor those using Terraform....\r\n\r\nYou can define an `aws_api_gateway_stage` which depends on `aws_api_gateway_deployment`. There is [a known issue, at the time of writing](https://github.com/hashicorp/terraform/issues/6613), where the deployment doesn&#39;t re-trigger, which was the original cause of my _forbidden_ error.\r\n\r\nTo fix this and get the deployment to run everytime a change has been made, add to `aws_api_gateway_deployment`:\r\n\r\n```\r\nresource &quot;aws_api_gateway_deployment&quot; &quot;gateway-deployment&quot; {\r\n  ...\r\n\r\n  stage_description = &quot;Terraform hash ${md5(join(&quot;,&quot;, local.all_resources))}&quot;\r\n\r\n  lifecycle {\r\n    create_before_destroy = true\r\n  }\r\n}\r\n\r\nlocals {\r\n  all_resources = [\r\n    &quot;${aws_api_gateway_resource.simulator-gateway-resource.path}:${aws_api_gateway_method.simulator-gateway-method.http_method}:${aws_api_gateway_integration.simulator-gateway-integration.uri}&quot;,\r\n  ]\r\n}```","title":"Amazon API Gateway 403 Forbidden","body":"<p>A cause of <code>{\"message\":\"Forbidden\"}</code> which I had which had me stumped was that I had not deployed my API.</p>\n\n<p>For anyone having this issue, check if your gateway has been deployed.\nFirst you will need a <em>Stage</em>, with which you can click <em>Deploy API</em> from the <em>Actions</em> dropdown, selecting your stage.</p>\n\n<p>Deploying will give you an <code>invoke_url</code>, (which ends in <code>/{stage-name}</code>.</p>\n\n<p>For those using Terraform....</p>\n\n<p>You can define an <code>aws_api_gateway_stage</code> which depends on <code>aws_api_gateway_deployment</code>. There is <a href=\"https://github.com/hashicorp/terraform/issues/6613\" rel=\"nofollow noreferrer\">a known issue, at the time of writing</a>, where the deployment doesn't re-trigger, which was the original cause of my <em>forbidden</em> error.</p>\n\n<p>To fix this and get the deployment to run everytime a change has been made, add to <code>aws_api_gateway_deployment</code>:</p>\n\n<pre><code>resource \"aws_api_gateway_deployment\" \"gateway-deployment\" {\n  ...\n\n  stage_description = \"Terraform hash ${md5(join(\",\", local.all_resources))}\"\n\n  lifecycle {\n    create_before_destroy = true\n  }\n}\n\nlocals {\n  all_resources = [\n    \"${aws_api_gateway_resource.simulator-gateway-resource.path}:${aws_api_gateway_method.simulator-gateway-method.http_method}:${aws_api_gateway_integration.simulator-gateway-integration.uri}\",\n  ]\n}```\n</code></pre>\n"}],"owner":{"account_id":13944584,"reputation":31,"user_id":10069624,"display_name":"jenny"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8915,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692644460,"creation_date":1531447754,"question_id":51316761,"body_markdown":"Recently, I used the Amazon API Gateway .I created an api ,but the API failed all the time.\r\nAt the beginning,I didn&#39;t add request headers.The result that API responsed is as follows:    \r\n\r\n    HTTP/1.1 403 Forbidden    \r\n    {&quot;message&quot;:null, &quot;type&quot;: &quot;ACCESS_DENIED&quot;, &quot;status&quot;:&quot;&quot;, &quot;other&quot;:&quot;&quot; }\r\n\r\nThen ,I added a header which named host,the result changed.\r\n\r\n    HTTP/1.1 403 Forbidden\r\n    {&quot;message&quot;:&quot;Forbidden&quot;}\r\n\r\nI didn&#39;t use other AWS.\r\nI set the authorization is none and the  API key required is false.\r\n[enter image description here][1]\r\nCould you help me? \r\nThanks！\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rq3kv.png","title":"Amazon API Gateway 403 Forbidden","body":"<p>Recently, I used the Amazon API Gateway .I created an api ,but the API failed all the time.\nAt the beginning,I didn't add request headers.The result that API responsed is as follows:    </p>\n\n<pre><code>HTTP/1.1 403 Forbidden    \n{\"message\":null, \"type\": \"ACCESS_DENIED\", \"status\":\"\", \"other\":\"\" }\n</code></pre>\n\n<p>Then ,I added a header which named host,the result changed.</p>\n\n<pre><code>HTTP/1.1 403 Forbidden\n{\"message\":\"Forbidden\"}\n</code></pre>\n\n<p>I didn't use other AWS.\nI set the authorization is none and the  API key required is false.\n<a href=\"https://i.stack.imgur.com/Rq3kv.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nCould you help me? \nThanks！</p>\n"},{"tags":["java","asynchronous","async-await"],"comments":[{"owner":{"account_id":2397966,"reputation":2781,"user_id":2096401,"display_name":"TripeHound"},"score":1,"creation_date":1575547903,"post_id":59194613,"comment_id":104608027,"body_markdown":"I&#39;ve never used it, but according to https://github.com/awaitility/awaitility/wiki/Usage, the method you use with `await()` _isn&#39;t_ the async method, it&#39;s a separate bool-returning function that tells Awaititility _when to finish waiting_.","body":"I&#39;ve never used it, but according to <a href=\"https://github.com/awaitility/awaitility/wiki/Usage\" rel=\"nofollow noreferrer\">github.com/awaitility/awaitility/wiki/Usage</a>, the method you use with <code>await()</code> <i>isn&#39;t</i> the async method, it&#39;s a separate bool-returning function that tells Awaititility <i>when to finish waiting</i>."}],"answers":[{"tags":[],"owner":{"account_id":126734,"reputation":17496,"user_id":323421,"display_name":"Sergii Pozharov"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1629397231,"creation_date":1575547870,"answer_id":59194882,"question_id":59194613,"body_markdown":"    await().untilAsserted(() -&gt; someVoidMethod());","title":"How to wait for a async void method to complete its task?","body":"<pre><code>await().untilAsserted(() -&gt; someVoidMethod());\n</code></pre>\n"}],"owner":{"account_id":5588093,"reputation":620,"user_id":4428123,"accept_rate":86,"display_name":"M Monis Ahmed Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3538,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":59194882,"answer_count":1,"score":7,"last_activity_date":1692643907,"creation_date":1575547016,"question_id":59194613,"body_markdown":"In Java, we have the Awaitility class, in which we can wait for a boolean returning method to return true or false. \r\n\r\nHow can we do this for a void method?","title":"How to wait for a async void method to complete its task?","body":"<p>In Java, we have the Awaitility class, in which we can wait for a boolean returning method to return true or false.</p>\n<p>How can we do this for a void method?</p>\n"},{"tags":["java","multithreading","synchronization","locking","javadoc"],"answers":[{"tags":[],"owner":{"account_id":29270127,"reputation":17,"user_id":22425122,"display_name":"user22425122"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692643900,"creation_date":1692643900,"answer_id":76948016,"question_id":76940733,"body_markdown":"Take a look at the source code of `ReentrantLock` to see how that&#39;s implemented in practice.  \r\n[`NonfairSync`](https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/ReentrantLock.java#L241-L247):\r\n```java\r\n        protected final boolean tryAcquire(int acquires) {\r\n            if (getState() == 0 &amp;&amp; compareAndSetState(0, acquires)) {\r\n                setExclusiveOwnerThread(Thread.currentThread());\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n```\r\n\r\n[`FairSync`](https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/ReentrantLock.java#L279-L286):\r\n```java\r\n        protected final boolean tryAcquire(int acquires) {\r\n            if (getState() == 0 &amp;&amp; !hasQueuedPredecessors() &amp;&amp;\r\n                compareAndSetState(0, acquires)) {\r\n                setExclusiveOwnerThread(Thread.currentThread());\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n```\r\n\r\nAs you can see, `FairSync.tryAcquire()` additionally checks for `!hasQueuedPredecessors()`, exactly as the `AbstractQueuedSynchronizer`&#39;s javadoc recommends:\r\n&gt; Because checks in acquire are invoked before enqueuing, a newly acquiring thread may _barge_ ahead of others that are blocked and queued. However, you can, if desired, define `tryAcquire` and/or `tryAcquireShared` to disable barging by internally invoking one or more of the inspection methods, thereby providing a _fair_ FIFO acquisition order. In particular, most fair synchronizers can define `tryAcquire` to return `false` if `hasQueuedPredecessors()` (a method specifically designed to be used by fair synchronizers) returns `true`. Other variations are possible.\r\n\r\nIn simple words, the following case demonstrates the difference:\r\n1. the current lock owner releases the lock, and during the release the longest-waiting thread from FIFO queue is unparked.  \r\n2. before the unparked thread resumes execution and acquires the lock, another thread tries to acquire this lock too.  \r\n3.\r\n    * `FairSync` parks the new thread and puts it at the end of the FIFO queue: here all threads acquire the lock in FIFO order\r\n    * `NonfairSync` allows the new thread to acquire the lock: here we lose fairness, but gain higher performance","title":"JavaDoc for AbstractQueuedSynchronizer is unclear","body":"<p>Take a look at the source code of <code>ReentrantLock</code> to see how that's implemented in practice.<br />\n<a href=\"https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/ReentrantLock.java#L241-L247\" rel=\"nofollow noreferrer\"><code>NonfairSync</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        protected final boolean tryAcquire(int acquires) {\n            if (getState() == 0 &amp;&amp; compareAndSetState(0, acquires)) {\n                setExclusiveOwnerThread(Thread.currentThread());\n                return true;\n            }\n            return false;\n        }\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/ReentrantLock.java#L279-L286\" rel=\"nofollow noreferrer\"><code>FairSync</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        protected final boolean tryAcquire(int acquires) {\n            if (getState() == 0 &amp;&amp; !hasQueuedPredecessors() &amp;&amp;\n                compareAndSetState(0, acquires)) {\n                setExclusiveOwnerThread(Thread.currentThread());\n                return true;\n            }\n            return false;\n        }\n</code></pre>\n<p>As you can see, <code>FairSync.tryAcquire()</code> additionally checks for <code>!hasQueuedPredecessors()</code>, exactly as the <code>AbstractQueuedSynchronizer</code>'s javadoc recommends:</p>\n<blockquote>\n<p>Because checks in acquire are invoked before enqueuing, a newly acquiring thread may <em>barge</em> ahead of others that are blocked and queued. However, you can, if desired, define <code>tryAcquire</code> and/or <code>tryAcquireShared</code> to disable barging by internally invoking one or more of the inspection methods, thereby providing a <em>fair</em> FIFO acquisition order. In particular, most fair synchronizers can define <code>tryAcquire</code> to return <code>false</code> if <code>hasQueuedPredecessors()</code> (a method specifically designed to be used by fair synchronizers) returns <code>true</code>. Other variations are possible.</p>\n</blockquote>\n<p>In simple words, the following case demonstrates the difference:</p>\n<ol>\n<li>the current lock owner releases the lock, and during the release the longest-waiting thread from FIFO queue is unparked.</li>\n<li>before the unparked thread resumes execution and acquires the lock, another thread tries to acquire this lock too.</li>\n<li>\n<ul>\n<li><code>FairSync</code> parks the new thread and puts it at the end of the FIFO queue: here all threads acquire the lock in FIFO order</li>\n<li><code>NonfairSync</code> allows the new thread to acquire the lock: here we lose fairness, but gain higher performance</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":476932,"reputation":392,"user_id":888110,"accept_rate":57,"display_name":"Ciaccia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692643900,"creation_date":1692554833,"question_id":76940733,"body_markdown":"Two sentences in the JavaDoc for [AbstractQueuedSynchronizer][1] are in my opinion unclear/misleading, and therefore I would like to clarify such issues.\r\n\r\nThe first sentence states:\r\n\r\n&gt; Even though this class is based on an internal FIFO queue, it does not automatically enforce FIFO acquisition policies.\r\n\r\nWhat is exactly meant with the sentence above? Looking up the source code for the class itself (which has several methods marked as `final`), I am currently seeing only one case where FIFO could not be enforced, that is when `tryAcquire` returns `true`. When a `tryAcquire` returns `false` and the caller thread must be parked, I can not find any way to bypass FIFO. In case my assumption is correct, should not the documentation be made more clear?\r\n\r\nThe second sentence states:\r\n\r\n&gt; Because checks in acquire are invoked before enqueuing, a newly acquiring thread may barge ahead of others that are blocked and queued. However, you can, if desired, define tryAcquire and/or tryAcquireShared to disable barging by internally invoking one or more of the inspection methods, thereby providing a fair FIFO acquisition order.\r\n\r\nWhat is exactly meant here with *barging*? Is the documentation talking again about the case where the acquiring thread is not parked?\r\n\r\n\r\nMy currently understanding is as following: as long as the acquiring thread is not *parked*, strategies other than FIFO are possible. In case the acquiring thread must be *parked*, FIFO will be used.\r\n\r\nDo you agree with my statements or am I getting something wrong? Does it make sense to open a BUG for Oracle to fix it?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/AbstractQueuedSynchronizer.html","title":"JavaDoc for AbstractQueuedSynchronizer is unclear","body":"<p>Two sentences in the JavaDoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/AbstractQueuedSynchronizer.html\" rel=\"nofollow noreferrer\">AbstractQueuedSynchronizer</a> are in my opinion unclear/misleading, and therefore I would like to clarify such issues.</p>\n<p>The first sentence states:</p>\n<blockquote>\n<p>Even though this class is based on an internal FIFO queue, it does not automatically enforce FIFO acquisition policies.</p>\n</blockquote>\n<p>What is exactly meant with the sentence above? Looking up the source code for the class itself (which has several methods marked as <code>final</code>), I am currently seeing only one case where FIFO could not be enforced, that is when <code>tryAcquire</code> returns <code>true</code>. When a <code>tryAcquire</code> returns <code>false</code> and the caller thread must be parked, I can not find any way to bypass FIFO. In case my assumption is correct, should not the documentation be made more clear?</p>\n<p>The second sentence states:</p>\n<blockquote>\n<p>Because checks in acquire are invoked before enqueuing, a newly acquiring thread may barge ahead of others that are blocked and queued. However, you can, if desired, define tryAcquire and/or tryAcquireShared to disable barging by internally invoking one or more of the inspection methods, thereby providing a fair FIFO acquisition order.</p>\n</blockquote>\n<p>What is exactly meant here with <em>barging</em>? Is the documentation talking again about the case where the acquiring thread is not parked?</p>\n<p>My currently understanding is as following: as long as the acquiring thread is not <em>parked</em>, strategies other than FIFO are possible. In case the acquiring thread must be <em>parked</em>, FIFO will be used.</p>\n<p>Do you agree with my statements or am I getting something wrong? Does it make sense to open a BUG for Oracle to fix it?</p>\n"},{"tags":["java","spring-boot","backend","spring-webflux","javabeans"],"owner":{"account_id":19503664,"reputation":1,"user_id":14269144,"display_name":"Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692643772,"creation_date":1692643772,"question_id":76947999,"body_markdown":"I am getting error like given below i have used annocations like component scan and also I have specfied the annocations properly this is a instance of another big project\r\nI have done the configuration file also i tried the solutions of stackoverflow but still the problem is not solved\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField s1Repo in com.example.backend.s2.S2 required a bean of type &#39;com.example.backend.s1.S1Repo&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.backend.s1.S1Repo&#39; in your configuration.\r\n\r\n\r\nS1.java\r\n\r\n```\r\npackage com.example.backend.s1;\r\nimport com.example.backend.s2.S2;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Mono;\r\n\r\n\r\n@Service\r\npublic class S1 {\r\n    @Autowired\r\n    S2 s2;\r\n\r\n    Mono&lt;Integer&gt; testing(int a, int b) {\r\n        return Mono.just(a + 2);\r\n    }\r\n\r\n    Mono&lt;Integer&gt; multiply(int a) {\r\n        return s2.multi(a);\r\n    }\r\n\r\n    Mono&lt;Boolean&gt; saves1(int a) {\r\n        return s2.saves1(a);\r\n    }\r\n}\r\n```\r\n\r\nS2.java is\r\n\r\n```\r\npackage com.example.backend.s2;\r\n\r\nimport com.example.backend.s1.S1Repo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Service\r\npublic class S2 {\r\n    @Autowired\r\n    S1Repo s1Repo;\r\n\r\n    public Mono&lt;Integer&gt; multi(int a) {\r\n        return Mono.just(a * 2);\r\n    }\r\n    public Mono&lt;Boolean&gt; saves1(int num) {\r\n        s1Repo.save(num);\r\n        return Mono.just(true);\r\n    }\r\n}\r\n```\r\n\r\nS1Repo.java\r\n\r\n```\r\npackage com.example.backend.s1;\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Repository\r\npublic interface S1Repo extends ReactiveCrudRepository&lt;Integer, Integer&gt; {\r\n    Mono&lt;Integer&gt; findById(int num);\r\n}\r\n```\r\n\r\nS1UnitTest.java\r\n\r\n```\r\npackage com.example.backend.service;\r\n\r\nimport com.example.backend.s1.S1;\r\nimport com.example.backend.s2.S2;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport com.example.backend.s1.S1Repo;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\n@SpringBootTest\r\n@ContextConfiguration(classes = {S1.class, S2.class, S1Repo.class})\r\npublic class S1UnitTest {\r\n    @Test\r\n    void s1test() {\r\n        assertTrue(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nthe expected is the testcase should run without any errors","title":"Consider defining a bean of type &#39;com.example.backend.s1.S1Repo&#39; in your configuration","body":"<p>I am getting error like given below i have used annocations like component scan and also I have specfied the annocations properly this is a instance of another big project\nI have done the configuration file also i tried the solutions of stackoverflow but still the problem is not solved</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field s1Repo in com.example.backend.s2.S2 required a bean of type 'com.example.backend.s1.S1Repo' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.example.backend.s1.S1Repo' in your configuration.</p>\n<p>S1.java</p>\n<pre><code>package com.example.backend.s1;\nimport com.example.backend.s2.S2;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Mono;\n\n\n@Service\npublic class S1 {\n    @Autowired\n    S2 s2;\n\n    Mono&lt;Integer&gt; testing(int a, int b) {\n        return Mono.just(a + 2);\n    }\n\n    Mono&lt;Integer&gt; multiply(int a) {\n        return s2.multi(a);\n    }\n\n    Mono&lt;Boolean&gt; saves1(int a) {\n        return s2.saves1(a);\n    }\n}\n</code></pre>\n<p>S2.java is</p>\n<pre><code>package com.example.backend.s2;\n\nimport com.example.backend.s1.S1Repo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Mono;\n\n@Service\npublic class S2 {\n    @Autowired\n    S1Repo s1Repo;\n\n    public Mono&lt;Integer&gt; multi(int a) {\n        return Mono.just(a * 2);\n    }\n    public Mono&lt;Boolean&gt; saves1(int num) {\n        s1Repo.save(num);\n        return Mono.just(true);\n    }\n}\n</code></pre>\n<p>S1Repo.java</p>\n<pre><code>package com.example.backend.s1;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\nimport org.springframework.stereotype.Repository;\nimport reactor.core.publisher.Mono;\n\n@Repository\npublic interface S1Repo extends ReactiveCrudRepository&lt;Integer, Integer&gt; {\n    Mono&lt;Integer&gt; findById(int num);\n}\n</code></pre>\n<p>S1UnitTest.java</p>\n<pre><code>package com.example.backend.service;\n\nimport com.example.backend.s1.S1;\nimport com.example.backend.s2.S2;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.test.context.ContextConfiguration;\nimport com.example.backend.s1.S1Repo;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n@SpringBootTest\n@ContextConfiguration(classes = {S1.class, S2.class, S1Repo.class})\npublic class S1UnitTest {\n    @Test\n    void s1test() {\n        assertTrue(true);\n    }\n}\n</code></pre>\n<p>the expected is the testcase should run without any errors</p>\n"},{"tags":["java","selenium-webdriver","selenium-java"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1692358857,"post_id":76917441,"comment_id":135615588,"body_markdown":"You have so much unnecessary stuff in your pom. You will not be able to find the problem unless you clean up your project. Have a look at https://stackoverflow.com/help/minimal-reproducible-example","body":"You have so much unnecessary stuff in your pom. You will not be able to find the problem unless you clean up your project. Have a look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":19982432,"reputation":13,"user_id":14645242,"display_name":"Pathfinder"},"score":0,"creation_date":1692639815,"post_id":76917441,"comment_id":135648217,"body_markdown":"I just updated my post for more readably purpose.","body":"I just updated my post for more readably purpose."}],"owner":{"account_id":19982432,"reputation":13,"user_id":14645242,"display_name":"Pathfinder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692643601,"creation_date":1692224844,"question_id":76917441,"body_markdown":"java.lang.NoClassDefFoundError: org/openqa/selenium/AcceptedW3CCapabilityKeys at org.openqa.selenium.remote.RemoteWebDriver.lambda$checkNonW3CCapabilities\r\nerror after upgrading my selenium from 3.14 to Selenium 4.4\r\n\r\n\r\nStep failed\r\n&gt; java.lang.NoClassDefFoundError:\r\n&gt; org/openqa/selenium/AcceptedW3CCapabilityKeys\r\n\r\nHere is my pom.xml\r\n\r\n&gt;     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  \r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;cucumber.options&gt;--tags ${mtags}}&lt;/cucumber.options&gt;\r\n        &lt;env&gt;app&lt;/env&gt;\r\n        &lt;threads&gt;1&lt;/threads&gt;\r\n        &lt;browser&gt;chrome&lt;/browser&gt;\r\n        &lt;GroupingScheam&gt;FEATURE&lt;/GroupingScheam&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;6.14.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-project --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-project&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.aventstack/extentreports --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*CukesRunner.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;execution&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;projectName&gt;HE_HQ_Automaton&lt;/projectName&gt;\r\n                            &lt;!-- output directory for the generated report --&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;!-- optional, defaults to outputDirectory if not specified --&gt;\r\n                            &lt;inputDirectory&gt;${project.build.directory}&lt;/inputDirectory&gt;\r\n                            &lt;jsonFiles&gt;\r\n                                &lt;!-- supports wildcard or name pattern --&gt;\r\n                                &lt;param&gt;**/cucumber.json&lt;/param&gt;\r\n                            &lt;/jsonFiles&gt;\r\n                            &lt;classificationFiles&gt;\r\n                                &lt;!-- supports wildcard or name pattern --&gt;\r\n                                &lt;param&gt;sample.properties&lt;/param&gt;\r\n                                &lt;param&gt;other.properties&lt;/param&gt;\r\n                            &lt;/classificationFiles&gt;\r\n                            &lt;!--&lt;parallelTesting&gt;false&lt;/parallelTesting&gt;--&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;","title":"NoClassDefFoundError: org/openqa/selenium/AcceptedW3CCapabilityKeys after upgrade to selenium 4","body":"<p>java.lang.NoClassDefFoundError: org/openqa/selenium/AcceptedW3CCapabilityKeys at org.openqa.selenium.remote.RemoteWebDriver.lambda$checkNonW3CCapabilities\nerror after upgrading my selenium from 3.14 to Selenium 4.4</p>\n<p>Step failed</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError:\norg/openqa/selenium/AcceptedW3CCapabilityKeys</p>\n</blockquote>\n<p>Here is my pom.xml</p>\n<blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n</blockquote>\n<p>\n4.0.0</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;cucumber.options&gt;--tags ${mtags}}&lt;/cucumber.options&gt;\n    &lt;env&gt;app&lt;/env&gt;\n    &lt;threads&gt;1&lt;/threads&gt;\n    &lt;browser&gt;chrome&lt;/browser&gt;\n    &lt;GroupingScheam&gt;FEATURE&lt;/GroupingScheam&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.14.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;6.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n        &lt;version&gt;3.6.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-project --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-project&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;6.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n        &lt;version&gt;4.1.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.aventstack/extentreports --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;5.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\n        &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n        &lt;version&gt;2.0.28&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*CukesRunner.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;HE_HQ_Automaton&lt;/projectName&gt;\n                        &lt;!-- output directory for the generated report --&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                        &lt;!-- optional, defaults to outputDirectory if not specified --&gt;\n                        &lt;inputDirectory&gt;${project.build.directory}&lt;/inputDirectory&gt;\n                        &lt;jsonFiles&gt;\n                            &lt;!-- supports wildcard or name pattern --&gt;\n                            &lt;param&gt;**/cucumber.json&lt;/param&gt;\n                        &lt;/jsonFiles&gt;\n                        &lt;classificationFiles&gt;\n                            &lt;!-- supports wildcard or name pattern --&gt;\n                            &lt;param&gt;sample.properties&lt;/param&gt;\n                            &lt;param&gt;other.properties&lt;/param&gt;\n                        &lt;/classificationFiles&gt;\n                        &lt;!--&lt;parallelTesting&gt;false&lt;/parallelTesting&gt;--&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","spring","spring-boot","junit5","embedded-kafka"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692643265,"creation_date":1692643265,"answer_id":76947954,"question_id":76946151,"body_markdown":"Yes. `@EmbeddedKafka` can be used with normal spring test and even a plain junit5 test. \r\n\r\nFor example, in case of spring test (i.e not `@SpringBootTest`) you can do :\r\n\r\n```\r\n@EmbeddedKafka\r\n@ExtendWith(SpringExtension.class)\r\npublic class KafkaTest {\r\n\r\n   @Autowired\r\n   private EmbeddedKafkaBroker broker;\r\n\r\n   @Test\r\n   void test(){\r\n      //access EmbeddedKafkaBroker to do stuff.\r\n   }\r\n}\r\n\r\n```\r\n\r\nIn case of pure junit5 test , you can do :\r\n\r\n\r\n```\r\n@EmbeddedKafka\r\npublic class KafkaTest {\r\n\r\n   @Test\r\n   void test(EmbeddedKafkaBroker broker){\r\n      //access EmbeddedKafkaBroker to do stuff.\r\n   }\r\n}\r\n\r\n```\r\n","title":"EmbeddedKafka without spring boot in Juint5","body":"<p>Yes. <code>@EmbeddedKafka</code> can be used with normal spring test and even a plain junit5 test.</p>\n<p>For example, in case of spring test (i.e not <code>@SpringBootTest</code>) you can do :</p>\n<pre><code>@EmbeddedKafka\n@ExtendWith(SpringExtension.class)\npublic class KafkaTest {\n\n   @Autowired\n   private EmbeddedKafkaBroker broker;\n\n   @Test\n   void test(){\n      //access EmbeddedKafkaBroker to do stuff.\n   }\n}\n\n</code></pre>\n<p>In case of pure junit5 test , you can do :</p>\n<pre><code>@EmbeddedKafka\npublic class KafkaTest {\n\n   @Test\n   void test(EmbeddedKafkaBroker broker){\n      //access EmbeddedKafkaBroker to do stuff.\n   }\n}\n\n</code></pre>\n"}],"owner":{"account_id":11335070,"reputation":887,"user_id":8311212,"display_name":"Sounak Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692643265,"creation_date":1692627388,"question_id":76946151,"body_markdown":"In Juint5 is this possible to add @EmbeddedKafka without spring-boot? Basically, we wanted to use EmbeddedKafka with spring-core in Juint5. \r\n\r\nIn the below example, RawKafka is able to start in Junit4. \r\n\r\nhttps://github.com/bijukunjummen/sample-spring-kafka-producer-consumer/blob/master/sample-spring-kafka-producer/src/test/java/sample/producer/embed/EmbedKafkaTest.java\r\n\r\nIs any chance we can do the same thing in Junit5 without SpringBootTest ???\r\n\r\nOr any other option to create in-memory Kafka in Juint5? ","title":"EmbeddedKafka without spring boot in Juint5","body":"<p>In Juint5 is this possible to add @EmbeddedKafka without spring-boot? Basically, we wanted to use EmbeddedKafka with spring-core in Juint5.</p>\n<p>In the below example, RawKafka is able to start in Junit4.</p>\n<p><a href=\"https://github.com/bijukunjummen/sample-spring-kafka-producer-consumer/blob/master/sample-spring-kafka-producer/src/test/java/sample/producer/embed/EmbedKafkaTest.java\" rel=\"nofollow noreferrer\">https://github.com/bijukunjummen/sample-spring-kafka-producer-consumer/blob/master/sample-spring-kafka-producer/src/test/java/sample/producer/embed/EmbedKafkaTest.java</a></p>\n<p>Is any chance we can do the same thing in Junit5 without SpringBootTest ???</p>\n<p>Or any other option to create in-memory Kafka in Juint5?</p>\n"},{"tags":["java","eclipse","junit","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":7236735,"reputation":165,"user_id":5521715,"display_name":"James Harrison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1447150564,"creation_date":1447150564,"answer_id":33627633,"question_id":33626728,"body_markdown":"This works fine, the difficulty is selecting the method.\r\n\r\nIf you try and run the whole suite of tests, and then right click on the test you want in the &quot;JUnit&quot; view, then click &quot;Run&quot;, it will run just that test. \r\n\r\nIf you then look in your &quot;Run Configurations&quot; you will see it has created a run configuration which relates to a single test which you can re-run whenever needed.\r\n\r\nAlternatively, you can open the &quot;Run Configurations&quot; dialog, and create a new &quot;Junit&quot; run configuration, which gives you the option to configure a &quot;single test&quot; run - you can then select the correct project, class and method for your test.","title":"Eclipse: How to run a single inherited JUnit test method","body":"<p>This works fine, the difficulty is selecting the method.</p>\n\n<p>If you try and run the whole suite of tests, and then right click on the test you want in the \"JUnit\" view, then click \"Run\", it will run just that test. </p>\n\n<p>If you then look in your \"Run Configurations\" you will see it has created a run configuration which relates to a single test which you can re-run whenever needed.</p>\n\n<p>Alternatively, you can open the \"Run Configurations\" dialog, and create a new \"Junit\" run configuration, which gives you the option to configure a \"single test\" run - you can then select the correct project, class and method for your test.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692642977,"creation_date":1692642977,"answer_id":76947931,"question_id":33626728,"body_markdown":"&gt;  you can then select the correct project, class and method for your test.\r\n\r\nWith [Eclipse 2.29 (Q3 2023)](https://eclipse.dev/eclipse/news/4.29/jdt.php#junit-search-progress), you also have a new progress dialog and a progress bar, which have been added to the `Run/Debug configurations` of JUnit tests.\r\n\r\n&gt; If the configuration references a test method, then a search takes place, which sometimes requires some time and led previously to a UI freeze.  \r\nThere is now a progress indication in the form of a progress dialog when first opening the Run/Debug Configurations dialog:\r\n&gt;\r\n&gt; [![JUnit search progress dialog][1]][1]\r\n&gt;\r\n&gt; Or in the form of a progress bar if the dialog is already opened:\r\n&gt;\r\n&gt; [![JUnit search progress bar][2]][2]\r\n&gt;\r\n&gt; In case the search is canceled by the user, the cancelation will be reported in the notification area of the Run/Debug Configurations dialog, the text field `Test method:` will be disabled and the `Run/Debug` button will be disabled. The `Search...` button right next to `Test method:` remains enabled and triggers the search again.\r\n&gt;\r\n&gt; [![JUnit search progress Run Configuration][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LVHaj.png\r\n  [2]: https://i.stack.imgur.com/hBRMy.png\r\n  [3]: https://i.stack.imgur.com/OFywE.png","title":"Eclipse: How to run a single inherited JUnit test method","body":"<blockquote>\n<p>you can then select the correct project, class and method for your test.</p>\n</blockquote>\n<p>With <a href=\"https://eclipse.dev/eclipse/news/4.29/jdt.php#junit-search-progress\" rel=\"nofollow noreferrer\">Eclipse 2.29 (Q3 2023)</a>, you also have a new progress dialog and a progress bar, which have been added to the <code>Run/Debug configurations</code> of JUnit tests.</p>\n<blockquote>\n<p>If the configuration references a test method, then a search takes place, which sometimes requires some time and led previously to a UI freeze.<br />\nThere is now a progress indication in the form of a progress dialog when first opening the Run/Debug Configurations dialog:</p>\n<p><a href=\"https://i.stack.imgur.com/LVHaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LVHaj.png\" alt=\"JUnit search progress dialog\" /></a></p>\n<p>Or in the form of a progress bar if the dialog is already opened:</p>\n<p><a href=\"https://i.stack.imgur.com/hBRMy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBRMy.png\" alt=\"JUnit search progress bar\" /></a></p>\n<p>In case the search is canceled by the user, the cancelation will be reported in the notification area of the Run/Debug Configurations dialog, the text field <code>Test method:</code> will be disabled and the <code>Run/Debug</code> button will be disabled. The <code>Search...</code> button right next to <code>Test method:</code> remains enabled and triggers the search again.</p>\n<p><a href=\"https://i.stack.imgur.com/OFywE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OFywE.png\" alt=\"JUnit search progress Run Configuration\" /></a></p>\n</blockquote>\n"}],"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33627633,"answer_count":2,"score":5,"last_activity_date":1692642977,"creation_date":1447147767,"question_id":33626728,"body_markdown":"I know Eclipse provides means to run a single JUnit 4 test method separatly (see https://stackoverflow.com/q/646307/1725096).\r\n\r\nNow, I wonder whether there is a way to run a single test method for a given concrete class when the class does not contain the method but instead inherits it from an abstract base class.\r\n","title":"Eclipse: How to run a single inherited JUnit test method","body":"<p>I know Eclipse provides means to run a single JUnit 4 test method separatly (see <a href=\"https://stackoverflow.com/q/646307/1725096\">Running a single JUnit test in Eclipse</a>).</p>\n\n<p>Now, I wonder whether there is a way to run a single test method for a given concrete class when the class does not contain the method but instead inherits it from an abstract base class.</p>\n"},{"tags":["java","eclipse","intellij-idea","lambda"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1499953424,"post_id":45082128,"comment_id":77137504,"body_markdown":"click on `Runnable` and hit &lt;ctrl&gt;&lt;1&gt;","body":"click on <code>Runnable</code> and hit &lt;ctrl&gt;&lt;1&gt;"},{"owner":{"account_id":2424899,"reputation":2096,"user_id":2117073,"accept_rate":35,"display_name":"Knarf"},"score":0,"creation_date":1499957587,"post_id":45082128,"comment_id":77140894,"body_markdown":"This does work. But is there any way so Eclipse analyses all my code, and gives me warnings for all places where I could use a lambda ?","body":"This does work. But is there any way so Eclipse analyses all my code, and gives me warnings for all places where I could use a lambda ?"}],"answers":[{"tags":[],"owner":{"account_id":4318345,"reputation":6373,"user_id":3527464,"accept_rate":100,"display_name":"Pyves"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1499962953,"creation_date":1499962953,"answer_id":45086265,"question_id":45082128,"body_markdown":"To the best of my knowledge, there is no way to make Eclipse show compiler warnings where lambda expressions are a better alternative. Nevertheless, there is a nice feature that takes care of the automatic conversion you requested.\r\n\r\nRight-click on any project or Java file, and select *Source -&gt; Clean Up...* In the window that appears, select *Use custom profile*, and click *Configure...* In the *Code Style* tab, enable *Convert functional interface instances*, and make sure *Use lambda where possible* is selected, as shown in the screenshot below:\r\n\r\n[![Lambda conversion][1]][1]\r\n\r\nValidate and run the clean up. This feature alongside the manual Quick assist suggested by [Timothy Truckle][2] in the comments will hopefully cover most of your needs.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DrF0j.png\r\n  [2]: https://stackoverflow.com/users/7023245/timothy-truckle","title":"Lambda suggestions in Eclipse like IntelliJ does","body":"<p>To the best of my knowledge, there is no way to make Eclipse show compiler warnings where lambda expressions are a better alternative. Nevertheless, there is a nice feature that takes care of the automatic conversion you requested.</p>\n\n<p>Right-click on any project or Java file, and select <em>Source -> Clean Up...</em> In the window that appears, select <em>Use custom profile</em>, and click <em>Configure...</em> In the <em>Code Style</em> tab, enable <em>Convert functional interface instances</em>, and make sure <em>Use lambda where possible</em> is selected, as shown in the screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DrF0j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DrF0j.png\" alt=\"Lambda conversion\"></a></p>\n\n<p>Validate and run the clean up. This feature alongside the manual Quick assist suggested by <a href=\"https://stackoverflow.com/users/7023245/timothy-truckle\">Timothy Truckle</a> in the comments will hopefully cover most of your needs.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692641794,"creation_date":1582912885,"answer_id":60457046,"question_id":45082128,"body_markdown":"Once you have &quot;Use lambda when possible&quot;, you can [now (Eclipse 2020.03) clean them up][1]\r\n\r\nA new clean-up has been added that simplifies the lambda expression and the method reference syntax and is enabled only for Java 8 and higher.\r\n\r\n&gt; The clean up:\r\n&gt;\r\n&gt; - removes parenthesis for a single untyped parameter, \r\n&gt; - return statement for a single expression and \r\n&gt; - brackets for a single statement. \r\n&gt;\r\n&gt; It replaces a lambda expression by a creation or a method reference when possible.\r\n&gt;\r\n&gt; To select the clean up, invoke `Source &gt; Clean Up...`, use a custom profile, and on the `Configure...` dialog select **`Simplify lambda expression and method reference syntax`** on the `Code Style` tab.\r\n&gt;\r\n&gt; For the given code:\r\n&gt;\r\n&gt; [![Lambda before cleanup -- https://www.eclipse.org/eclipse/news/4.15/images/lambda-expression-enhancements-before.png][2]][2]\r\n&gt;\r\n&gt; You get this after the clean up:\r\n&gt;\r\n&gt; [![Lambda after cleanup -- https://www.eclipse.org/eclipse/news/4.15/images/lambda-expression-enhancements-after.png][3]][3]\r\n\r\n---\r\n\r\nAnd with [Eclipse 4.29 (Q3 2023)](https://eclipse.dev/eclipse/news/4.29/jdt.php#lambda-cleanup-improvements), you now have:\r\n\r\n&gt; ## Lambda Cleanup Improvements\r\n&gt;\r\n&gt; A number of improvements have been made to the Java cleanups concerning converting to use lambdas and simplifying existing lambdas. \r\n&gt;\r\n&gt; First of all, the cleanup preference: Convert functional interface instances on the Java Features tab for Java 8 has added an additional checkbox: `Simplify method reference syntax for lambda conversions`. This checkbox is selected by default and instructs the cleanup to use method reference syntax where possible when converting from anonymous classes. \r\nIf the checkbox is unselected, method reference syntax will not be used by default (sometimes required to avoid a runtime `NullPointerException`) but will only be used if the user has also selected the `Simplify lambda expression and method reference syntax` cleanup option found on the `Code Style` tab.  \r\nBy default, the Quick fix to convert an anonymous class will also by default now use the method reference syntax where possible.\r\n&gt; \r\n&gt; [![New Lambda Cleanup Preference -- https://eclipse.dev/eclipse/news/4.29/images/new-lambda-pref.png][4]][4]\r\n&gt;\r\n&gt; The second improvement to the lambda cleanups and quick fix is that the code now recognizes use of `instanceof` can be replaced with a method reference to isInstance.\r\n&gt;\r\n&gt; The following code:\r\n&gt; \r\n&gt; [![Lambda Cleanup Example Before][5]][5]\r\n&gt;\r\n&gt;  with the lambda cleanup will by default change to:\r\n&gt;\r\n&gt; [![Lambda Cleanup Example After][6]][6]\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.15/jdt.php#improve-lambda\r\n  [2]: https://i.stack.imgur.com/QrUmN.png\r\n  [3]: https://i.stack.imgur.com/B2bJw.png\r\n  [4]: https://i.stack.imgur.com/cYZuW.png\r\n  [5]: https://i.stack.imgur.com/rwTXe.png\r\n  [6]: https://i.stack.imgur.com/WYevk.png","title":"Lambda suggestions in Eclipse like IntelliJ does","body":"<p>Once you have &quot;Use lambda when possible&quot;, you can <a href=\"https://www.eclipse.org/eclipse/news/4.15/jdt.php#improve-lambda\" rel=\"nofollow noreferrer\">now (Eclipse 2020.03) clean them up</a></p>\n<p>A new clean-up has been added that simplifies the lambda expression and the method reference syntax and is enabled only for Java 8 and higher.</p>\n<blockquote>\n<p>The clean up:</p>\n<ul>\n<li>removes parenthesis for a single untyped parameter,</li>\n<li>return statement for a single expression and</li>\n<li>brackets for a single statement.</li>\n</ul>\n<p>It replaces a lambda expression by a creation or a method reference when possible.</p>\n<p>To select the clean up, invoke <code>Source &gt; Clean Up...</code>, use a custom profile, and on the <code>Configure...</code> dialog select <strong><code>Simplify lambda expression and method reference syntax</code></strong> on the <code>Code Style</code> tab.</p>\n<p>For the given code:</p>\n<p><a href=\"https://i.stack.imgur.com/QrUmN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QrUmN.png\" alt=\"Lambda before cleanup -- https://www.eclipse.org/eclipse/news/4.15/images/lambda-expression-enhancements-before.png\" /></a></p>\n<p>You get this after the clean up:</p>\n<p><a href=\"https://i.stack.imgur.com/B2bJw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B2bJw.png\" alt=\"Lambda after cleanup -- https://www.eclipse.org/eclipse/news/4.15/images/lambda-expression-enhancements-after.png\" /></a></p>\n</blockquote>\n<hr />\n<p>And with <a href=\"https://eclipse.dev/eclipse/news/4.29/jdt.php#lambda-cleanup-improvements\" rel=\"nofollow noreferrer\">Eclipse 4.29 (Q3 2023)</a>, you now have:</p>\n<blockquote>\n<h2>Lambda Cleanup Improvements</h2>\n<p>A number of improvements have been made to the Java cleanups concerning converting to use lambdas and simplifying existing lambdas.</p>\n<p>First of all, the cleanup preference: Convert functional interface instances on the Java Features tab for Java 8 has added an additional checkbox: <code>Simplify method reference syntax for lambda conversions</code>. This checkbox is selected by default and instructs the cleanup to use method reference syntax where possible when converting from anonymous classes.\nIf the checkbox is unselected, method reference syntax will not be used by default (sometimes required to avoid a runtime <code>NullPointerException</code>) but will only be used if the user has also selected the <code>Simplify lambda expression and method reference syntax</code> cleanup option found on the <code>Code Style</code> tab.<br />\nBy default, the Quick fix to convert an anonymous class will also by default now use the method reference syntax where possible.</p>\n<p><a href=\"https://i.stack.imgur.com/cYZuW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cYZuW.png\" alt=\"New Lambda Cleanup Preference -- https://eclipse.dev/eclipse/news/4.29/images/new-lambda-pref.png\" /></a></p>\n<p>The second improvement to the lambda cleanups and quick fix is that the code now recognizes use of <code>instanceof</code> can be replaced with a method reference to isInstance.</p>\n<p>The following code:</p>\n<p><a href=\"https://i.stack.imgur.com/rwTXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rwTXe.png\" alt=\"Lambda Cleanup Example Before\" /></a></p>\n<p>with the lambda cleanup will by default change to:</p>\n<p><a href=\"https://i.stack.imgur.com/WYevk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WYevk.png\" alt=\"Lambda Cleanup Example After\" /></a></p>\n</blockquote>\n"}],"owner":{"account_id":2424899,"reputation":2096,"user_id":2117073,"accept_rate":35,"display_name":"Knarf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3742,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45086265,"answer_count":2,"score":6,"last_activity_date":1692641794,"creation_date":1499952628,"question_id":45082128,"body_markdown":"When in IntelliJ you enter some code like this :\r\n\r\n    Runnable cronTask = new Runnable() {\r\n       @Override\r\n       public void run() {\r\n          // do something\r\n       }\r\n    };\r\n\r\nIntelliJ will automatically suggest that this will be better when using a lambda expression. And you have the option to do an automatic conversion to\r\n\r\n    Runnable cronTask = () -&gt; {\r\n       // do something\r\n    };\r\n\r\n\r\nIs something like this possible in Eclipse ? Maybe with some kind of plugin ? I want Eclipse to give me warnings of where a lambda expression might be a better solution. And if possible also suggest the correct fix.\r\n","title":"Lambda suggestions in Eclipse like IntelliJ does","body":"<p>When in IntelliJ you enter some code like this :</p>\n\n<pre><code>Runnable cronTask = new Runnable() {\n   @Override\n   public void run() {\n      // do something\n   }\n};\n</code></pre>\n\n<p>IntelliJ will automatically suggest that this will be better when using a lambda expression. And you have the option to do an automatic conversion to</p>\n\n<pre><code>Runnable cronTask = () -&gt; {\n   // do something\n};\n</code></pre>\n\n<p>Is something like this possible in Eclipse ? Maybe with some kind of plugin ? I want Eclipse to give me warnings of where a lambda expression might be a better solution. And if possible also suggest the correct fix.</p>\n"},{"tags":["java","spring","utf-8","character-encoding","properties-file"],"comments":[{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1386850746,"post_id":20543364,"comment_id":30718854,"body_markdown":"Please format your post properly","body":"Please format your post properly"},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1386851327,"post_id":20543364,"comment_id":30719154,"body_markdown":"How have you configured your MessageSource?  If you don&#39;t specifically configure otherwise I think `.properties` files are expected to be in ISO-8859-1 encoding, not UTF-8.  You may wish to consider running them through `native2ascii` as part of your build process as this guarantees they&#39;ll be read correctly whatever encoding the loader uses.","body":"How have you configured your MessageSource?  If you don&#39;t specifically configure otherwise I think <code>.properties</code> files are expected to be in ISO-8859-1 encoding, not UTF-8.  You may wish to consider running them through <code>native2ascii</code> as part of your build process as this guarantees they&#39;ll be read correctly whatever encoding the loader uses."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1692641752,"creation_date":1386851963,"answer_id":20543846,"question_id":20543364,"body_markdown":"&gt; *and set the properties file with UTF-8 format*\r\n\r\nThere&#39;s your mistake.\r\n\r\nUntil Java 9 they are by default read as ISO-8859-1 (at the time of writing of this question, the latest available Java version is 7, so the asker is definitely not yet using Java 9). \r\n\r\nThe [`java.util.Properties` javadoc][1] says the following:\r\n\r\n&gt; ... the input/output stream is encoded in ISO 8859-1 character encoding ...\r\n\r\nThey should therefore be saved as ISO-8859-1. If you intend to present characters which are not available by the [ISO-8859-1 character set][2], then you have basically 4 options:\r\n\r\n1. Use `native2ascii` tool to convert an UTF-8 saved properties file to an ISO-8859-1 encoded properties file with unicode escapes in form of `\\uXXXX` over all place instead of those &quot;special characters&quot; which are not covered by ISO-8859-1 charset.\r\n\r\n2. Use an properties file editor which is capable of doing #1 automagically, such as the one built in Eclipse. In other words, just create and edit the properties file in Eclipse. It&#39;ll worry automagically about the encoding.\r\n\r\n3. Use a custom [`ResourceBundle.Control`][3] implementation wherein you explicitly read the properties file yourself using `new InputStreamReader(inputStream, &quot;UTF-8&quot;)`. However, as non-Spring-user I have no clue how to tell Spring to use that custom `Control`. [In JSF it&#39;s easy][4].\r\n\r\n4. Upgrade to Java 9 or newer, which reads them as UTF-8 by default. This way you can safely save them as UTF-8.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/2183245/internationalization-in-a-website/2458938#2458938\r\n- [Unicode - How to get the characters right?][5]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8859-1#Codepage_layout\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\r\n  [4]: https://stackoverflow.com/questions/3645491/i18n-with-utf-8-encoded-properties-files-in-jsf-2-0-appliaction/3646601#3646601\r\n  [5]: https://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html","title":"Not getting spanish characters (&#250;, &#237; )but getting like (&#195;&#179; , &#195;) on UI","body":"<blockquote>\n<p><em>and set the properties file with UTF-8 format</em></p>\n</blockquote>\n<p>There's your mistake.</p>\n<p>Until Java 9 they are by default read as ISO-8859-1 (at the time of writing of this question, the latest available Java version is 7, so the asker is definitely not yet using Java 9).</p>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\"><code>java.util.Properties</code> javadoc</a> says the following:</p>\n<blockquote>\n<p>... the input/output stream is encoded in ISO 8859-1 character encoding ...</p>\n</blockquote>\n<p>They should therefore be saved as ISO-8859-1. If you intend to present characters which are not available by the <a href=\"https://en.wikipedia.org/wiki/ISO_8859-1#Codepage_layout\" rel=\"nofollow noreferrer\">ISO-8859-1 character set</a>, then you have basically 4 options:</p>\n<ol>\n<li><p>Use <code>native2ascii</code> tool to convert an UTF-8 saved properties file to an ISO-8859-1 encoded properties file with unicode escapes in form of <code>\\uXXXX</code> over all place instead of those &quot;special characters&quot; which are not covered by ISO-8859-1 charset.</p>\n</li>\n<li><p>Use an properties file editor which is capable of doing #1 automagically, such as the one built in Eclipse. In other words, just create and edit the properties file in Eclipse. It'll worry automagically about the encoding.</p>\n</li>\n<li><p>Use a custom <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\" rel=\"nofollow noreferrer\"><code>ResourceBundle.Control</code></a> implementation wherein you explicitly read the properties file yourself using <code>new InputStreamReader(inputStream, &quot;UTF-8&quot;)</code>. However, as non-Spring-user I have no clue how to tell Spring to use that custom <code>Control</code>. <a href=\"https://stackoverflow.com/questions/3645491/i18n-with-utf-8-encoded-properties-files-in-jsf-2-0-appliaction/3646601#3646601\">In JSF it's easy</a>.</p>\n</li>\n<li><p>Upgrade to Java 9 or newer, which reads them as UTF-8 by default. This way you can safely save them as UTF-8.</p>\n</li>\n</ol>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2183245/internationalization-in-a-website/2458938#2458938\">Internationalization in a website</a></li>\n<li><a href=\"https://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html\" rel=\"nofollow noreferrer\">Unicode - How to get the characters right?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1902693,"reputation":9592,"user_id":1718213,"accept_rate":71,"display_name":"SergeyB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457537648,"creation_date":1457537648,"answer_id":35895947,"question_id":20543364,"body_markdown":"If your property file looks like this `Descripci&#243;n de art&#237;culos` but you are getting this on the front-end `Descripci&#195;&#179;n de art&#195;&#173;culos`, then the problem is the encoding used to read your property file, here is how you can tell Spring to always use UTF-8:\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.support.ReloadableResourceBundleMessageSource;\r\n    \r\n    @Configuration\r\n    public class MessageConfiguration {\r\n    \r\n        @Bean\r\n        public ReloadableResourceBundleMessageSource messageSource() {\r\n            ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n            messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            // other config options go here if needed, e.g. path to the property bundle\r\n            return messageSource;\r\n        }\r\n    }\r\n","title":"Not getting spanish characters (&#250;, &#237; )but getting like (&#195;&#179; , &#195;) on UI","body":"<p>If your property file looks like this <code>Descripción de artículos</code> but you are getting this on the front-end <code>DescripciÃ³n de artÃ­culos</code>, then the problem is the encoding used to read your property file, here is how you can tell Spring to always use UTF-8:</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.support.ReloadableResourceBundleMessageSource;\n\n@Configuration\npublic class MessageConfiguration {\n\n    @Bean\n    public ReloadableResourceBundleMessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n        messageSource.setDefaultEncoding(\"UTF-8\");\n        // other config options go here if needed, e.g. path to the property bundle\n        return messageSource;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user3082617"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14661,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1692641752,"creation_date":1386850697,"question_id":20543364,"body_markdown":"I declared three locale conversions in three properties files like Strings.properties, Strings_es_ES.properties and Strings_en_GB.properties ( for US, ES and UK)\r\n\r\nIn Strings_es_ES.properties,i declared the strings like below and set the properties file with UTF-8 format.\r\n\r\n    admin.main.numberofrewards=N&#250;mero de recompensas:\r\n    admin.main.categorylist=lista Categor&#237;a\r\n\r\nI am using the above resource bundle in .jsp files like below\r\n\r\n    &lt;%@ page pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;h2&gt;&lt;spring:message code=&quot;admin.main.numberofrewards&quot;/&gt;&lt;/h2&gt;\r\n    &lt;p&gt;&lt;spring:message code=&quot;admin.main.categorylist&quot;/&gt;&lt;/p&gt;\r\n\r\n\r\nI am getting output  on the browser like below \r\n\r\n    N&#195;&#179;mero de recompensas\r\n    lista Categor&#195;a\r\n\r\nPlease help me on this \r\n\r\n\r\n\r\n","title":"Not getting spanish characters (&#250;, &#237; )but getting like (&#195;&#179; , &#195;) on UI","body":"<p>I declared three locale conversions in three properties files like Strings.properties, Strings_es_ES.properties and Strings_en_GB.properties ( for US, ES and UK)</p>\n\n<p>In Strings_es_ES.properties,i declared the strings like below and set the properties file with UTF-8 format.</p>\n\n<pre><code>admin.main.numberofrewards=Número de recompensas:\nadmin.main.categorylist=lista Categoría\n</code></pre>\n\n<p>I am using the above resource bundle in .jsp files like below</p>\n\n<pre><code>&lt;%@ page pageEncoding=\"UTF-8\"%&gt;\n&lt;h2&gt;&lt;spring:message code=\"admin.main.numberofrewards\"/&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;spring:message code=\"admin.main.categorylist\"/&gt;&lt;/p&gt;\n</code></pre>\n\n<p>I am getting output  on the browser like below </p>\n\n<pre><code>NÃ³mero de recompensas\nlista CategorÃa\n</code></pre>\n\n<p>Please help me on this </p>\n"},{"tags":["java","sockets","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692641545,"creation_date":1692599808,"answer_id":76942886,"question_id":76942661,"body_markdown":"### Why your socket doesn&#39;t connect until your application shuts down\r\n\r\nRead the JavaFX [Application](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html) javadoc to understand the lifecycle of a JavaFX application.\r\n\r\nSee especially the [`launch()` method](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)) documentation:\r\n\r\n&gt; The launch method does not return until the application has exited, either via a call to Platform.exit() or all of the application windows have been closed.\r\n\r\nIn this code, the socket connection won’t start until the JavaFX platform exits:\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(ClientWindow.class, args);\r\n        ClientSocket.startConnection();\r\n    }\r\n\r\n### How to fix it\r\n\r\nTo do something when an `Application` is initialized or started, implement your code in overridden [`init()`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#init()) or [`start()`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)) methods.  Similarly, [`stop()`][1] is for releasing resources, for example shutting down other threads or persistent connections that your application may have opened.\r\n\r\n### Related example and resources\r\n\r\n * [Example of a JavaFX application which uses socket connections](https://stackoverflow.com/questions/70870998/how-to-return-objects-from-inputstream-client-to-a-javafx-controller/70888362#70888362)\r\n\r\nThe example uses sockets from a JavaFX application.  It demonstrates both synchronous and asynchronous modes of operation.\r\n\r\nThe asynchronous operation mode is more challenging to program. Asynchronous calls might only be required if your application has long-running blocking calls on socket streams.\r\n\r\nIf you use an asynchronous calling mode, then I recommend studying:\r\n\r\n * [Concurrency in Java][2]\r\n * [Concurrency in JavaFX](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm)\r\n\r\nJavaFX concurrency questions and answers on StackOverflow may also assist you.\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#stop()\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/","title":"Asynchronous JavaFX GUI with java.net Socket network","body":"<h3>Why your socket doesn't connect until your application shuts down</h3>\n<p>Read the JavaFX <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">Application</a> javadoc to understand the lifecycle of a JavaFX application.</p>\n<p>See especially the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>launch()</code> method</a> documentation:</p>\n<blockquote>\n<p>The launch method does not return until the application has exited, either via a call to Platform.exit() or all of the application windows have been closed.</p>\n</blockquote>\n<p>In this code, the socket connection won’t start until the JavaFX platform exits:</p>\n<pre><code>public static void main(String[] args) {\n    Application.launch(ClientWindow.class, args);\n    ClientSocket.startConnection();\n}\n</code></pre>\n<h3>How to fix it</h3>\n<p>To do something when an <code>Application</code> is initialized or started, implement your code in overridden <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#init()\" rel=\"nofollow noreferrer\"><code>init()</code></a> or <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)\" rel=\"nofollow noreferrer\"><code>start()</code></a> methods.  Similarly, <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#stop()\" rel=\"nofollow noreferrer\"><code>stop()</code></a> is for releasing resources, for example shutting down other threads or persistent connections that your application may have opened.</p>\n<h3>Related example and resources</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70870998/how-to-return-objects-from-inputstream-client-to-a-javafx-controller/70888362#70888362\">Example of a JavaFX application which uses socket connections</a></li>\n</ul>\n<p>The example uses sockets from a JavaFX application.  It demonstrates both synchronous and asynchronous modes of operation.</p>\n<p>The asynchronous operation mode is more challenging to program. Asynchronous calls might only be required if your application has long-running blocking calls on socket streams.</p>\n<p>If you use an asynchronous calling mode, then I recommend studying:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Java</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"nofollow noreferrer\">Concurrency in JavaFX</a></li>\n</ul>\n<p>JavaFX concurrency questions and answers on StackOverflow may also assist you.</p>\n"}],"owner":{"account_id":29265078,"reputation":33,"user_id":22421041,"display_name":"Fozzey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76942886,"answer_count":1,"score":3,"last_activity_date":1692641545,"creation_date":1692597116,"question_id":76942661,"body_markdown":"I am attempting to write a server / client socket program and a client GUI using JavaFX. My issue that i am facing is where the GUI and socket connection doesn&#39;t run independently of each other meaning when i run my client program the GUI is shown and the socket connection doesn&#39;t occur. Then after closing the GUI window the socket connection will initialize as it should&#39;ve originally. \r\nAlso not greatly experienced with java in general and javafx/socket programming, just trying to learn.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.lang.*;\r\nimport java.net.Socket;\r\n\r\npublic class ClientSocket {\r\n\r\n    public Socket socket;\r\n    public BufferedReader bufferedReader;\r\n    public BufferedWriter bufferedWriter;\r\n\r\n    public ClientSocket(Socket socket) {\r\n\r\n        try {\r\n            this.socket = socket;\r\n            this.bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            this.bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n        } catch (IOException e) {\r\n            closeConnection(socket, bufferedReader, bufferedWriter);\r\n        }\r\n    }\r\n    public static void startConnection() {\r\n        try {\r\n            Socket socket = new Socket(Configuration.serverAddress, Configuration.serverPort);\r\n            System.out.println(&quot;Client: Connected to server on &quot; + Configuration.serverAddress +\r\n                    &quot; &quot; + Configuration.serverPort + &quot;.&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Client: Error connecting to server on &quot; + Configuration.serverAddress +\r\n                    &quot; &quot; + Configuration.serverPort + &quot;.&quot;);\r\n        }\r\n    }\r\n\r\n    public static void closeConnection(Socket socket, BufferedReader bufferedReader, BufferedWriter bufferedWriter) {\r\n        try {\r\n\r\n            if (socket != null) {\r\n                socket.close();\r\n                System.out.println(&quot;Client: Socket connection has been closed to &quot; + Configuration.serverAddress +\r\n                        &quot; &quot; + Configuration.serverPort + &quot;.&quot;);\r\n            }\r\n            if (bufferedReader != null) {\r\n                bufferedReader.close();\r\n            }\r\n            if (bufferedWriter != null) {\r\n                bufferedWriter.close();\r\n            }\r\n        }catch(IOException e){\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\n\r\n\r\npublic class ClientWindow extends Application{\r\n    public void start(Stage gameWindow) {\r\n\r\n        gameWindow.show();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nimport javafx.application.Application;\r\n\r\n\r\npublic class Client {\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(ClientWindow.class, args);\r\n        ClientSocket.startConnection();\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have tried doing small steps, like getting the socket connection working properly by itself then trying to implement the javafx GUI alongside it. I still couldn&#39;t get it running the GUI and the socket connection together. I would assume the the JavaFX GUI is somehow on a loop that stops itself closing as soon as it starts which then holds the socket program from starting until the GUI has finished running. So only when the GUI is closed, then the socket program starts.","title":"Asynchronous JavaFX GUI with java.net Socket network","body":"<p>I am attempting to write a server / client socket program and a client GUI using JavaFX. My issue that i am facing is where the GUI and socket connection doesn't run independently of each other meaning when i run my client program the GUI is shown and the socket connection doesn't occur. Then after closing the GUI window the socket connection will initialize as it should've originally.\nAlso not greatly experienced with java in general and javafx/socket programming, just trying to learn.</p>\n<pre><code>import java.io.*;\nimport java.lang.*;\nimport java.net.Socket;\n\npublic class ClientSocket {\n\n    public Socket socket;\n    public BufferedReader bufferedReader;\n    public BufferedWriter bufferedWriter;\n\n    public ClientSocket(Socket socket) {\n\n        try {\n            this.socket = socket;\n            this.bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            this.bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n        } catch (IOException e) {\n            closeConnection(socket, bufferedReader, bufferedWriter);\n        }\n    }\n    public static void startConnection() {\n        try {\n            Socket socket = new Socket(Configuration.serverAddress, Configuration.serverPort);\n            System.out.println(&quot;Client: Connected to server on &quot; + Configuration.serverAddress +\n                    &quot; &quot; + Configuration.serverPort + &quot;.&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Client: Error connecting to server on &quot; + Configuration.serverAddress +\n                    &quot; &quot; + Configuration.serverPort + &quot;.&quot;);\n        }\n    }\n\n    public static void closeConnection(Socket socket, BufferedReader bufferedReader, BufferedWriter bufferedWriter) {\n        try {\n\n            if (socket != null) {\n                socket.close();\n                System.out.println(&quot;Client: Socket connection has been closed to &quot; + Configuration.serverAddress +\n                        &quot; &quot; + Configuration.serverPort + &quot;.&quot;);\n            }\n            if (bufferedReader != null) {\n                bufferedReader.close();\n            }\n            if (bufferedWriter != null) {\n                bufferedWriter.close();\n            }\n        }catch(IOException e){\n\n        }\n    }\n\n\n\n}\n</code></pre>\n<pre><code>import javafx.application.Application;\nimport javafx.stage.Stage;\n\n\npublic class ClientWindow extends Application{\n    public void start(Stage gameWindow) {\n\n        gameWindow.show();\n    }\n\n}\n</code></pre>\n<pre><code>import javafx.application.Application;\n\n\npublic class Client {\n\n    public static void main(String[] args) {\n        Application.launch(ClientWindow.class, args);\n        ClientSocket.startConnection();\n\n    }\n\n\n}\n</code></pre>\n<p>I have tried doing small steps, like getting the socket connection working properly by itself then trying to implement the javafx GUI alongside it. I still couldn't get it running the GUI and the socket connection together. I would assume the the JavaFX GUI is somehow on a loop that stops itself closing as soon as it starts which then holds the socket program from starting until the GUI has finished running. So only when the GUI is closed, then the socket program starts.</p>\n"},{"tags":["java","spring-boot","spring-cloud","consul","spring-cloud-consul"],"answers":[{"tags":[],"owner":{"account_id":4351708,"reputation":129,"user_id":3551820,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686815070,"creation_date":1686815070,"answer_id":76480194,"question_id":76473889,"body_markdown":"Fixed with code below.\r\n\r\n```\r\npackage xpto;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport io.netty.channel.ChannelOption;\r\nimport io.netty.handler.timeout.ReadTimeoutHandler;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\r\nimport org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction;\r\nimport org.springframework.cloud.client.loadbalancer.reactive.LoadBalancedExchangeFilterFunction;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.client.reactive.ClientHttpConnector;\r\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\r\nimport org.springframework.http.codec.json.Jackson2JsonDecoder;\r\nimport org.springframework.http.codec.json.Jackson2JsonEncoder;\r\nimport org.springframework.web.reactive.function.client.ExchangeStrategies;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\nimport org.springframework.web.util.DefaultUriBuilderFactory;\r\nimport reactor.netty.http.client.HttpClient;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@Configuration\r\n@EnableDiscoveryClient\r\n@Slf4j\r\npublic class WebclientConfiguration {\r\n\r\n  private final ObjectMapper objectMapper;\r\n  @Value(&quot;${web.client.read-timeout:25000}&quot;)\r\n  private final int webClientReadTimeout;\r\n  @Value(&quot;${web.client.connection-timeout:3000}&quot;)\r\n  private final int webClientConnectionTimeout;\r\n\r\n  public WebclientConfiguration(ObjectMapper objectMapper,\r\n    @Value(&quot;${web.client.read-timeout:25000}&quot;) int webClientReadTimeout,\r\n    @Value(&quot;${web.client.connection-timeout:3000}&quot;) int webClientConnectionTimeout) {\r\n    this.objectMapper = objectMapper;\r\n    this.webClientReadTimeout = webClientReadTimeout;\r\n    this.webClientConnectionTimeout = webClientConnectionTimeout;\r\n  }\r\n\r\n  private ClientHttpConnector getClientHttpConnector() {\r\n    return new ReactorClientHttpConnector(\r\n      HttpClient.create().compress(true).option(ChannelOption.CONNECT_TIMEOUT_MILLIS, webClientConnectionTimeout)\r\n        .doOnConnected(conn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(webClientReadTimeout, TimeUnit.MILLISECONDS))));\r\n  }\r\n\r\n  @Bean\r\n  public DefaultUriBuilderFactory builderFactory() {\r\n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory();\r\n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\r\n    return factory;\r\n  }\r\n\r\n  @Bean(name = &quot;webClientConsul&quot;)\r\n  public WebClient webClientConsul(\r\n    WebClient.Builder webClientBuilder,\r\n    DeferringLoadBalancerExchangeFilterFunction&lt;LoadBalancedExchangeFilterFunction&gt; exchangeFilterFunction\r\n  ) {\r\n    webClientBuilder.filter(exchangeFilterFunction);\r\n    return buildWebClient(webClientBuilder);\r\n  }\r\n\r\n  @Bean(name = &quot;webClientDefault&quot;)\r\n  public WebClient webClientDefault(WebClient.Builder webClientBuilder) {\r\n    return buildWebClient(webClientBuilder);\r\n  }\r\n\r\n  private WebClient buildWebClient(WebClient.Builder webClientBuilder) {\r\n    ClientHttpConnector connector = getClientHttpConnector();\r\n    return webClientBuilder\r\n      .clientConnector(connector)\r\n      .exchangeStrategies(getExchangeStrategies())\r\n      .build();\r\n  }\r\n\r\n  private ExchangeStrategies getExchangeStrategies() {\r\n    return  ExchangeStrategies.builder()\r\n      .codecs(clientDefaultCodecsConfigurer -&gt; {\r\n        clientDefaultCodecsConfigurer\r\n          .defaultCodecs()\r\n          .jackson2JsonEncoder(\r\n            new Jackson2JsonEncoder(objectMapper, MediaType.APPLICATION_JSON, MediaType.TEXT_EVENT_STREAM, MediaType.APPLICATION_STREAM_JSON));\r\n        clientDefaultCodecsConfigurer\r\n          .defaultCodecs()\r\n          .jackson2JsonDecoder(\r\n            new Jackson2JsonDecoder(objectMapper, MediaType.APPLICATION_JSON, MediaType.TEXT_EVENT_STREAM, MediaType.APPLICATION_STREAM_JSON));\r\n      }).build();\r\n  }\r\n  \r\n}\r\n```\r\n","title":"Service Discovery not working when using WebClient with Consul","body":"<p>Fixed with code below.</p>\n<pre><code>package xpto;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport io.netty.channel.ChannelOption;\nimport io.netty.handler.timeout.ReadTimeoutHandler;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\nimport org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction;\nimport org.springframework.cloud.client.loadbalancer.reactive.LoadBalancedExchangeFilterFunction;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.client.reactive.ClientHttpConnector;\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\nimport org.springframework.http.codec.json.Jackson2JsonDecoder;\nimport org.springframework.http.codec.json.Jackson2JsonEncoder;\nimport org.springframework.web.reactive.function.client.ExchangeStrategies;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport org.springframework.web.util.DefaultUriBuilderFactory;\nimport reactor.netty.http.client.HttpClient;\n\nimport java.util.concurrent.TimeUnit;\n\n@Configuration\n@EnableDiscoveryClient\n@Slf4j\npublic class WebclientConfiguration {\n\n  private final ObjectMapper objectMapper;\n  @Value(&quot;${web.client.read-timeout:25000}&quot;)\n  private final int webClientReadTimeout;\n  @Value(&quot;${web.client.connection-timeout:3000}&quot;)\n  private final int webClientConnectionTimeout;\n\n  public WebclientConfiguration(ObjectMapper objectMapper,\n    @Value(&quot;${web.client.read-timeout:25000}&quot;) int webClientReadTimeout,\n    @Value(&quot;${web.client.connection-timeout:3000}&quot;) int webClientConnectionTimeout) {\n    this.objectMapper = objectMapper;\n    this.webClientReadTimeout = webClientReadTimeout;\n    this.webClientConnectionTimeout = webClientConnectionTimeout;\n  }\n\n  private ClientHttpConnector getClientHttpConnector() {\n    return new ReactorClientHttpConnector(\n      HttpClient.create().compress(true).option(ChannelOption.CONNECT_TIMEOUT_MILLIS, webClientConnectionTimeout)\n        .doOnConnected(conn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(webClientReadTimeout, TimeUnit.MILLISECONDS))));\n  }\n\n  @Bean\n  public DefaultUriBuilderFactory builderFactory() {\n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory();\n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\n    return factory;\n  }\n\n  @Bean(name = &quot;webClientConsul&quot;)\n  public WebClient webClientConsul(\n    WebClient.Builder webClientBuilder,\n    DeferringLoadBalancerExchangeFilterFunction&lt;LoadBalancedExchangeFilterFunction&gt; exchangeFilterFunction\n  ) {\n    webClientBuilder.filter(exchangeFilterFunction);\n    return buildWebClient(webClientBuilder);\n  }\n\n  @Bean(name = &quot;webClientDefault&quot;)\n  public WebClient webClientDefault(WebClient.Builder webClientBuilder) {\n    return buildWebClient(webClientBuilder);\n  }\n\n  private WebClient buildWebClient(WebClient.Builder webClientBuilder) {\n    ClientHttpConnector connector = getClientHttpConnector();\n    return webClientBuilder\n      .clientConnector(connector)\n      .exchangeStrategies(getExchangeStrategies())\n      .build();\n  }\n\n  private ExchangeStrategies getExchangeStrategies() {\n    return  ExchangeStrategies.builder()\n      .codecs(clientDefaultCodecsConfigurer -&gt; {\n        clientDefaultCodecsConfigurer\n          .defaultCodecs()\n          .jackson2JsonEncoder(\n            new Jackson2JsonEncoder(objectMapper, MediaType.APPLICATION_JSON, MediaType.TEXT_EVENT_STREAM, MediaType.APPLICATION_STREAM_JSON));\n        clientDefaultCodecsConfigurer\n          .defaultCodecs()\n          .jackson2JsonDecoder(\n            new Jackson2JsonDecoder(objectMapper, MediaType.APPLICATION_JSON, MediaType.TEXT_EVENT_STREAM, MediaType.APPLICATION_STREAM_JSON));\n      }).build();\n  }\n  \n}\n</code></pre>\n"}],"owner":{"account_id":4351708,"reputation":129,"user_id":3551820,"display_name":"Lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76480194,"answer_count":1,"score":2,"last_activity_date":1692641413,"creation_date":1686747765,"question_id":76473889,"body_markdown":"We&#39;re migrating the Spring Boot from 2 to 3 and also getting rid off Netflix Ribbon.\r\nWe&#39;re experiencing an issue while trying to discover a service using Consul.\r\nIf we rollback to Spring Boot 2 + Netflix Ribbon, it works with no problem, so we discarded any connectivity issue.\r\n\r\n**Logging errors:**\r\n```\r\nRoundRobinLoadBalancer|No servers available for service: cachedavailability-integrations-service\r\nReactorLoadBalancerExchangeFilterFunction|LoadBalancer does not contain an instance for the service cachedavailability-integrations-service\r\nCommunication error with uri: http://cachedavailability-integrations-service/testing org.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:336)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ 503 SERVICE_UNAVAILABLE from GET http://cachedavailability-integrations-service/testing [DefaultWebClient]\r\n```\r\n\r\n**Consul interface**\r\n![image](https://github.com/spring-cloud/spring-cloud-consul/assets/7883005/f13c27d5-d808-4463-9a9b-df0ab9a658cd)\r\n\r\n1. The service &quot;si-manager&quot; is the one trying to discover and access the &quot;cachedavailability&quot; one.\r\n2. It is registering well, but not discovering the other services registered when using WebClient bean.\r\n\r\nWe have already tried many ways, such as:\r\n\r\n1. https://docs.spring.io/spring-cloud-consul/docs/current/reference/html/#using-the-discoveryclient\r\n3. https://stackoverflow.com/questions/54027787/service-discovery-with-spring-webflux-webclient\r\n4. https://stackoverflow.com/questions/66534708/configuring-spring-cloud-loadbalancer-without-autoconfiguration\r\n\r\n**Sample**\r\n\r\n**Main Class**\r\n\r\n```\r\n@org.springframework.cloud.client.discovery.EnableDiscoveryClient\r\npublic class MainApplication {...}\r\n```\r\n\r\n**WebClient config**\r\n\r\n```\r\n  @Bean(name = &quot;webClientConsulAvailability&quot;)\r\n  public WebClient webClientConsulAvailability(\r\n    WebClient.Builder webClientBuilder,\r\n    ReactorLoadBalancerExchangeFilterFunction lbFunction,\r\n    ExchangeFilterFunction logFilter\r\n  ) {\r\n    return webClientBuilder\r\n      .filter(lbFunction)\r\n      .filter(logFilter)\r\n      .build();\r\n  }\r\n```\r\n\r\n**bootstrap.yml**\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: si-manager-service\r\n  profiles:\r\n    active: ${SPRING_PROFILES_ACTIVE:local}\r\n  cloud:\r\n    consul:\r\n      host: localhost\r\n      port: 8500\r\n      enabled: true\r\n      discovery:\r\n        serviceName: ${spring.application.name}\r\n        instanceId: ${spring.application.name}8500\r\n        enabled: true\r\n        # Register as a service in consul.\r\n        register: true\r\n        registerHealthCheck: true\r\n```\r\n**Dependencies**\r\n![image](https://github.com/spring-cloud/spring-cloud-consul/assets/7883005/283e38ef-c8b9-4af9-81cd-556b6dd77fc0)\r\n\r\n**Consul version:** v1.15.3 \r\n\r\n**Usage example:**\r\n\r\n```\r\nwebClientConsulAvailability.get()\r\n      .uri(&quot;http://cachedavailability-integrations-service/testing&quot;)\r\n      .retrieve()\r\n      .bodyToFlux(MyDTO.class)\r\n      .doOnError(e -&gt; {\r\n        if (isErrorLogLevel(e)) {\r\n          log.error(COMMUNICATION_ERROR_WITH_URI + uri, e);\r\n        } else {\r\n          log.warn(COMMUNICATION_ERROR_WITH_URI + uri, e);\r\n        }\r\n      })\r\n      .onErrorResume(e -&gt; Flux.empty());\r\n```","title":"Service Discovery not working when using WebClient with Consul","body":"<p>We're migrating the Spring Boot from 2 to 3 and also getting rid off Netflix Ribbon.\nWe're experiencing an issue while trying to discover a service using Consul.\nIf we rollback to Spring Boot 2 + Netflix Ribbon, it works with no problem, so we discarded any connectivity issue.</p>\n<p><strong>Logging errors:</strong></p>\n<pre><code>RoundRobinLoadBalancer|No servers available for service: cachedavailability-integrations-service\nReactorLoadBalancerExchangeFilterFunction|LoadBalancer does not contain an instance for the service cachedavailability-integrations-service\nCommunication error with uri: http://cachedavailability-integrations-service/testing org.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:336)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ 503 SERVICE_UNAVAILABLE from GET http://cachedavailability-integrations-service/testing [DefaultWebClient]\n</code></pre>\n<p><strong>Consul interface</strong>\n<img src=\"https://github.com/spring-cloud/spring-cloud-consul/assets/7883005/f13c27d5-d808-4463-9a9b-df0ab9a658cd\" alt=\"image\" /></p>\n<ol>\n<li>The service &quot;si-manager&quot; is the one trying to discover and access the &quot;cachedavailability&quot; one.</li>\n<li>It is registering well, but not discovering the other services registered when using WebClient bean.</li>\n</ol>\n<p>We have already tried many ways, such as:</p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-cloud-consul/docs/current/reference/html/#using-the-discoveryclient\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-consul/docs/current/reference/html/#using-the-discoveryclient</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54027787/service-discovery-with-spring-webflux-webclient\">Service discovery with spring webflux WebClient</a></li>\n<li><a href=\"https://stackoverflow.com/questions/66534708/configuring-spring-cloud-loadbalancer-without-autoconfiguration\">Configuring spring-cloud loadbalancer without autoconfiguration</a></li>\n</ol>\n<p><strong>Sample</strong></p>\n<p><strong>Main Class</strong></p>\n<pre><code>@org.springframework.cloud.client.discovery.EnableDiscoveryClient\npublic class MainApplication {...}\n</code></pre>\n<p><strong>WebClient config</strong></p>\n<pre><code>  @Bean(name = &quot;webClientConsulAvailability&quot;)\n  public WebClient webClientConsulAvailability(\n    WebClient.Builder webClientBuilder,\n    ReactorLoadBalancerExchangeFilterFunction lbFunction,\n    ExchangeFilterFunction logFilter\n  ) {\n    return webClientBuilder\n      .filter(lbFunction)\n      .filter(logFilter)\n      .build();\n  }\n</code></pre>\n<p><strong>bootstrap.yml</strong></p>\n<pre><code>spring:\n  application:\n    name: si-manager-service\n  profiles:\n    active: ${SPRING_PROFILES_ACTIVE:local}\n  cloud:\n    consul:\n      host: localhost\n      port: 8500\n      enabled: true\n      discovery:\n        serviceName: ${spring.application.name}\n        instanceId: ${spring.application.name}8500\n        enabled: true\n        # Register as a service in consul.\n        register: true\n        registerHealthCheck: true\n</code></pre>\n<p><strong>Dependencies</strong>\n<img src=\"https://github.com/spring-cloud/spring-cloud-consul/assets/7883005/283e38ef-c8b9-4af9-81cd-556b6dd77fc0\" alt=\"image\" /></p>\n<p><strong>Consul version:</strong> v1.15.3</p>\n<p><strong>Usage example:</strong></p>\n<pre><code>webClientConsulAvailability.get()\n      .uri(&quot;http://cachedavailability-integrations-service/testing&quot;)\n      .retrieve()\n      .bodyToFlux(MyDTO.class)\n      .doOnError(e -&gt; {\n        if (isErrorLogLevel(e)) {\n          log.error(COMMUNICATION_ERROR_WITH_URI + uri, e);\n        } else {\n          log.warn(COMMUNICATION_ERROR_WITH_URI + uri, e);\n        }\n      })\n      .onErrorResume(e -&gt; Flux.empty());\n</code></pre>\n"},{"tags":["java","gradle","build","nexus","nexus3"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692648375,"post_id":76947773,"comment_id":135649767,"body_markdown":"is that the complete error message? Your repository is probably not configured for HTTPS.","body":"is that the complete error message? Your repository is probably not configured for HTTPS."},{"owner":{"account_id":29080651,"reputation":134,"user_id":22276769,"display_name":"M S"},"score":0,"creation_date":1692777214,"post_id":76947773,"comment_id":135668993,"body_markdown":"verify SSL is in fact enabled using nmap `$ nmap --script ssl-enum-ciphers -p 8081 54.89.194.112`","body":"verify SSL is in fact enabled using nmap <code>$ nmap --script ssl-enum-ciphers -p 8081 54.89.194.112</code>"}],"owner":{"account_id":21226997,"reputation":1,"user_id":15612492,"display_name":"Akash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692641288,"creation_date":1692641288,"question_id":76947773,"body_markdown":"I just build a Gradle project which resulted me with a .jar file. But now, when I want to publish it to the nexus repository, I am unable to do so. Here is my build script\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.2.2.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n}\r\n\r\ngroup &#39;com.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = 1.8\r\napply plugin: &#39;maven-publish&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.compilerArgs &lt;&lt; &quot;-Xlint:unchecked&quot; &lt;&lt; &quot;-Xlint:deprecation&quot;\r\n}\r\n\r\nSystem.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;)\r\n\r\npublishing {\r\n    publications {\r\n        mavenJava(MavenPublication) {\r\n            from components.java\r\n        }\r\n    }\r\n    repositories {\r\n        maven {\r\n            name &#39;nexus&#39;\r\n            url &quot;https://54.89.194.112:8081/repository/maven-snapshots/&quot;\r\n            credentials {\r\n                username project.repoUser\r\n                password project.repoPassword\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation group: &#39;net.logstash.logback&#39;, name: &#39;logstash-logback-encoder&#39;, version: &#39;5.2&#39;\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\n\r\n```\r\n\r\n\r\nThe output says : Unsupported or unrecognized SSL message\r\n\r\nI tried all the above steps, but it ended up the same.","title":"how to publish a .jar file to nexus","body":"<p>I just build a Gradle project which resulted me with a .jar file. But now, when I want to publish it to the nexus repository, I am unable to do so. Here is my build script</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.2.2.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n}\n\ngroup 'com.example'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\napply plugin: 'maven-publish'\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs &lt;&lt; &quot;-Xlint:unchecked&quot; &lt;&lt; &quot;-Xlint:deprecation&quot;\n}\n\nSystem.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;)\n\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n        }\n    }\n    repositories {\n        maven {\n            name 'nexus'\n            url &quot;https://54.89.194.112:8081/repository/maven-snapshots/&quot;\n            credentials {\n                username project.repoUser\n                password project.repoPassword\n            }\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation group: 'net.logstash.logback', name: 'logstash-logback-encoder', version: '5.2'\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n}\n\n</code></pre>\n<p>The output says : Unsupported or unrecognized SSL message</p>\n<p>I tried all the above steps, but it ended up the same.</p>\n"},{"tags":["java","jar","download","executable","executable-jar"],"comments":[{"owner":{"account_id":2903437,"reputation":2489,"user_id":2489497,"accept_rate":100,"display_name":"Caleb Brinkman"},"score":1,"creation_date":1378952467,"post_id":18754266,"comment_id":27645001,"body_markdown":"You might want to check this out: http://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java","body":"You might want to check this out: <a href=\"http://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\" title=\"how to download and save a file from internet using java\">stackoverflow.com/questions/921262/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378952471,"creation_date":1378952471,"answer_id":18754311,"question_id":18754266,"body_markdown":"1. Download the file using httpclient library in a specific folder. [Here is an example][1]. [Another example][2] using Java&#39;s `URLConnection` class. \r\n2. Move/Delete/Backup the existing file. \r\n3. Copy the downloaded file replacing the earlier file. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10960409/how-do-i-save-a-file-downloaded-with-httpclient-into-a-specific-folder\r\n  [2]: https://stackoverflow.com/questions/8276913/how-to-download-file-with-service-in-the-background","title":"Download .jar File From URL Using Java","body":"<ol>\n<li>Download the file using httpclient library in a specific folder. <a href=\"https://stackoverflow.com/questions/10960409/how-do-i-save-a-file-downloaded-with-httpclient-into-a-specific-folder\">Here is an example</a>. <a href=\"https://stackoverflow.com/questions/8276913/how-to-download-file-with-service-in-the-background\">Another example</a> using Java's <code>URLConnection</code> class. </li>\n<li>Move/Delete/Backup the existing file. </li>\n<li>Copy the downloaded file replacing the earlier file. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378955972,"creation_date":1378955972,"answer_id":18754779,"question_id":18754266,"body_markdown":"The question is vague, but if you don&#39;t mind getting your hands dirty...\r\n\r\n\r\nGiven a `URL` you can download the contents using [Basic I/O](http://docs.oracle.com/javase/tutorial/essential/io/)\r\n\r\n    URL url = new URL(&quot;....&quot;);\r\n    InputStream is = null;\r\n    OutputStream os = null;\r\n    try {\r\n        os = new FileOutputStream(new File(&quot;...&quot;));\r\n        is = url.openStream();\r\n        // Read bytes...\r\n    } catch (IOException exp) {\r\n        exp.printStackTrace();\r\n    } finally {\r\n        try {\r\n            is.close();\r\n        } catch (Exception exp) {\r\n        }\r\n        try {\r\n            os.close();\r\n        } catch (Exception exp) {\r\n        }\r\n    }\r\n\r\nYou can simply install these updates by using [`File#renameTo`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File))\r\n\r\nThe next problem you will have is installing the updates.  The problem you might have is with locked files.  If any Java process is using the Jar&#39;s, you won&#39;t be able to update them...\r\n\r\nNow, this requires some clever juggling to make work, depending on your situation.  Generally, you want to make the updater a separate program that does not rely on any of the application jars.  This prevents the updater from locking the files it is trying to update.\r\n","title":"Download .jar File From URL Using Java","body":"<p>The question is vague, but if you don't mind getting your hands dirty...</p>\n\n<p>Given a <code>URL</code> you can download the contents using <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow\">Basic I/O</a></p>\n\n<pre><code>URL url = new URL(\"....\");\nInputStream is = null;\nOutputStream os = null;\ntry {\n    os = new FileOutputStream(new File(\"...\"));\n    is = url.openStream();\n    // Read bytes...\n} catch (IOException exp) {\n    exp.printStackTrace();\n} finally {\n    try {\n        is.close();\n    } catch (Exception exp) {\n    }\n    try {\n        os.close();\n    } catch (Exception exp) {\n    }\n}\n</code></pre>\n\n<p>You can simply install these updates by using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo%28java.io.File%29\" rel=\"nofollow\"><code>File#renameTo</code></a></p>\n\n<p>The next problem you will have is installing the updates.  The problem you might have is with locked files.  If any Java process is using the Jar's, you won't be able to update them...</p>\n\n<p>Now, this requires some clever juggling to make work, depending on your situation.  Generally, you want to make the updater a separate program that does not rely on any of the application jars.  This prevents the updater from locking the files it is trying to update.</p>\n"}],"owner":{"account_id":3293070,"reputation":11,"user_id":2770917,"display_name":"user2770917"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12090,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692640925,"creation_date":1378952114,"question_id":18754266,"body_markdown":"I have integrated an update system into my Java program, and the one thing that is missing is a way to download a jar file from a URL using Java. How can one go about doing this? I would like the file to replace the existing one. I have no idea how to do this.","title":"Download .jar File From URL Using Java","body":"<p>I have integrated an update system into my Java program, and the one thing that is missing is a way to download a jar file from a URL using Java. How can one go about doing this? I would like the file to replace the existing one. I have no idea how to do this.</p>\n"},{"tags":["java","file","path"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":3,"creation_date":1692646451,"post_id":76947696,"comment_id":135649405,"body_markdown":"The _JENKINS_HOME_ value uses &quot;Jenkins.jenkins&quot;, and the Java code uses &quot;Jenkins\\\\.Jenkins&quot;.  Try removing the double slash, in the Java code.","body":"The <i>JENKINS_HOME</i> value uses &quot;Jenkins.jenkins&quot;, and the Java code uses &quot;Jenkins\\\\.Jenkins&quot;.  Try removing the double slash, in the Java code."}],"owner":{"account_id":7819714,"reputation":126,"user_id":5913205,"display_name":"Ramkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692640910,"creation_date":1692640631,"question_id":76947696,"body_markdown":"In our project we are using Jenkins and default workspace of Jenkins is c:/user/.../Jenkins/.jenkins\r\n\r\nThere are option to change the default workspace in Jenkins, but when I give absolute path to access the file, it says file not found in path even file is there.\r\n\r\nJENKINS_HOME: c:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins\r\n\r\nNow, when i clone the Git repository, it gets downloaded to one of folders in JENKINS_HOME path.\r\n\r\nc:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins\\workspace\\XXXXTestAutomation\\\r\n\r\nCode \r\n\r\n    File file = new File(&quot;c:\\\\Windows\\\\system32\\\\config\\\\systemprofile\\\\AppData\\\\Local\\\\Jenkins\\\\.Jenkins\\\\workspace\\\\XXXXTestAutomation\\\\Source\\textfile.txt&quot;)\r\n    System.out.println(file.getAbsolutePath());\r\n\r\nIt throws error, file not found in path. Reason is because it&#39;s not recognizing the &#39;.Jenkins&#39; [dot in start of folder.] Specifying a path to some other location where folder doesn&#39;t have a name works fine.\r\n\r\nHow to handle file path in Java when you have the folder name starting &#39;.&#39; [dot]\r\nfile.getAbsolutePath()","title":"How to specify the file path when one of folder starts with &#39;.&#39; [dot]","body":"<p>In our project we are using Jenkins and default workspace of Jenkins is c:/user/.../Jenkins/.jenkins</p>\n<p>There are option to change the default workspace in Jenkins, but when I give absolute path to access the file, it says file not found in path even file is there.</p>\n<p>JENKINS_HOME: c:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins.jenkins</p>\n<p>Now, when i clone the Git repository, it gets downloaded to one of folders in JENKINS_HOME path.</p>\n<p>c:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins.jenkins\\workspace\\XXXXTestAutomation\\</p>\n<p>Code</p>\n<pre><code>File file = new File(&quot;c:\\\\Windows\\\\system32\\\\config\\\\systemprofile\\\\AppData\\\\Local\\\\Jenkins\\\\.Jenkins\\\\workspace\\\\XXXXTestAutomation\\\\Source\\textfile.txt&quot;)\nSystem.out.println(file.getAbsolutePath());\n</code></pre>\n<p>It throws error, file not found in path. Reason is because it's not recognizing the '.Jenkins' [dot in start of folder.] Specifying a path to some other location where folder doesn't have a name works fine.</p>\n<p>How to handle file path in Java when you have the folder name starting '.' [dot]\nfile.getAbsolutePath()</p>\n"},{"tags":["java","selenium","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1554809614,"post_id":55591569,"comment_id":97880262,"body_markdown":"The DataTable import is &quot;import io.cucumber.datatable.DataTable;&quot; instead of what u are using which is from an old version of cucumber like version 2. U should look at the maven dependencies and clean it up.","body":"The DataTable import is &quot;import io.cucumber.datatable.DataTable;&quot; instead of what u are using which is from an old version of cucumber like version 2. U should look at the maven dependencies and clean it up."},{"owner":{"account_id":15058243,"reputation":253,"user_id":10867892,"display_name":"golf umbrella"},"score":0,"creation_date":1554814573,"post_id":55591569,"comment_id":97883286,"body_markdown":"Just tried this. Gave me a new error - io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to List&lt;Steps.User&gt;.","body":"Just tried this. Gave me a new error - io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to List&lt;Steps.User&gt;."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1554817418,"post_id":55591569,"comment_id":97885240,"body_markdown":"U need to register a datatabletype in a class that implements TypeRegistryConfigurer. The transformation logic will be included in that. https://docs.cucumber.io/cucumber/configuration/","body":"U need to register a datatabletype in a class that implements TypeRegistryConfigurer. The transformation logic will be included in that. <a href=\"https://docs.cucumber.io/cucumber/configuration/\" rel=\"nofollow noreferrer\">docs.cucumber.io/cucumber/configuration</a>"}],"answers":[{"tags":[],"owner":{"account_id":1088745,"reputation":1549,"user_id":1083864,"accept_rate":68,"display_name":"Matthewek"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1554816243,"creation_date":1554816243,"answer_id":55593998,"question_id":55591569,"body_markdown":"You are using outdated version, it is now:\r\n\r\n    import io.cucumber.datatable.DataTable;\r\n\r\nSee [CHANGELOG][1] for cucumber jvm, quote:\r\n\r\n&gt; [Core] Replace DataTable with io.cucumber.datatable.DataTable (#1248 M.P. Korstanje, Bj&#246;rn Rasmusson, Marit van Dijk)\r\nCustom data table types can be defined by implementing the TypeRegistryConfigurer.\r\n\r\nThere is slightly different way of using it now, example:\r\n\r\n***Sample gherkin step:***\r\n\r\n    And I update ADDRESS tab data in building form\r\n      | Input         | Value        |\r\n      | Building name | New name     |\r\n      | Ref           | Some ref     |\r\n\r\n***Step implementation:***\r\n\r\n    @And(&quot;^some test step$&quot;)\r\n    public void someTestStep(DataTable table)\r\n    {\r\n        List&lt;List&lt;String&gt;&gt; data = table.asLists(String.class);\r\n        String buildingName = data.get(1).get(1);\r\n        String reference = data.get(2).get(1);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/blob/master/CHANGELOG.md","title":"Cucumber DataTable Error - io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to cucumber.api.DataTable","body":"<p>You are using outdated version, it is now:</p>\n\n<pre><code>import io.cucumber.datatable.DataTable;\n</code></pre>\n\n<p>See <a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/CHANGELOG.md\" rel=\"noreferrer\">CHANGELOG</a> for cucumber jvm, quote:</p>\n\n<blockquote>\n  <p>[Core] Replace DataTable with io.cucumber.datatable.DataTable (#1248 M.P. Korstanje, Björn Rasmusson, Marit van Dijk)\n  Custom data table types can be defined by implementing the TypeRegistryConfigurer.</p>\n</blockquote>\n\n<p>There is slightly different way of using it now, example:</p>\n\n<p><strong><em>Sample gherkin step:</em></strong></p>\n\n<pre><code>And I update ADDRESS tab data in building form\n  | Input         | Value        |\n  | Building name | New name     |\n  | Ref           | Some ref     |\n</code></pre>\n\n<p><strong><em>Step implementation:</em></strong></p>\n\n<pre><code>@And(\"^some test step$\")\npublic void someTestStep(DataTable table)\n{\n    List&lt;List&lt;String&gt;&gt; data = table.asLists(String.class);\n    String buildingName = data.get(1).get(1);\n    String reference = data.get(2).get(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18000356,"reputation":1,"user_id":13082434,"display_name":"Gopi Chandran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649832039,"creation_date":1584534381,"answer_id":60739561,"question_id":55591569,"body_markdown":"   I have created a code which will not use **DataTable** concept. You can update this below implementation so that you will not have any failures in your scripts in future.\r\n\r\n CucumberUtil.java:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n        \r\n    public class CucumberUtil {\r\n    //     removed this concept because of version issues in DataTable\r\n    //     public static synchronized Map&lt;String, String&gt; TableDictionaryConverter(DataTable table) {                    \r\n           public static synchronized Map&lt;String, String&gt; TableDictionaryConverter(List&lt;List&lt;String&gt;&gt; data) {\r\n                 Map&lt;String, String&gt; mapTable = new HashMap&lt;String, String&gt;();\r\n                 for(List&lt;String&gt; rows: data) {\r\n                       mapTable.put(rows.get(0), rows.get(1)); \r\n                 }\r\n                 return mapTable;\r\n          }\r\n    \r\nFeature:\r\n\r\n    And I enter the following login details:\r\n     | username | cukey \t|\r\n     | password | passwoid |\r\n    \r\nStep definition:\r\n\r\n    @And(&quot;^I enter the following login details:$&quot;)\r\n    public void iEnterTheFollowingLoginDetails(List&lt;List&lt;String&gt;&gt; table) throws Throwable {\r\n    \r\n      Map&lt;String, String&gt; mapTable = CucumberUtil.TableDictionaryConverter(table);\r\n    \r\n      LoginPageObjeks page = new LoginPageObjeks(base.Driver);\r\n            \r\n      page.Login(mapTable.get(&quot;username&quot;), mapTable.get(&quot;password&quot;));\r\n    \t\t\r\n      Thread.sleep(2000);\r\n    \r\n      }\r\n    }\r\n\r\n","title":"Cucumber DataTable Error - io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to cucumber.api.DataTable","body":"<p>I have created a code which will not use <strong>DataTable</strong> concept. You can update this below implementation so that you will not have any failures in your scripts in future.</p>\n<p>CucumberUtil.java:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n    \npublic class CucumberUtil {\n//     removed this concept because of version issues in DataTable\n//     public static synchronized Map&lt;String, String&gt; TableDictionaryConverter(DataTable table) {                    \n       public static synchronized Map&lt;String, String&gt; TableDictionaryConverter(List&lt;List&lt;String&gt;&gt; data) {\n             Map&lt;String, String&gt; mapTable = new HashMap&lt;String, String&gt;();\n             for(List&lt;String&gt; rows: data) {\n                   mapTable.put(rows.get(0), rows.get(1)); \n             }\n             return mapTable;\n      }\n</code></pre>\n<p>Feature:</p>\n<pre><code>And I enter the following login details:\n | username | cukey     |\n | password | passwoid |\n</code></pre>\n<p>Step definition:</p>\n<pre><code>@And(&quot;^I enter the following login details:$&quot;)\npublic void iEnterTheFollowingLoginDetails(List&lt;List&lt;String&gt;&gt; table) throws Throwable {\n\n  Map&lt;String, String&gt; mapTable = CucumberUtil.TableDictionaryConverter(table);\n\n  LoginPageObjeks page = new LoginPageObjeks(base.Driver);\n        \n  page.Login(mapTable.get(&quot;username&quot;), mapTable.get(&quot;password&quot;));\n        \n  Thread.sleep(2000);\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28093037,"reputation":11,"user_id":21462242,"display_name":"ItzmeSk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692640848,"creation_date":1689750133,"answer_id":76718731,"question_id":55591569,"body_markdown":"You are trying to convert a io.Cucumber.DataTable into a list of Strings, however your DataTable contains 2 columns. Using the asList() method only works on DataTables which have 1 column, hence the error message indicating that the table is too wide to convert.\r\n\r\nYou can convert your Datatable with 2 columns by using the asLists method:\r\n\r\nList&lt;List&lt;String&gt;&gt; list = dt.asLists(String.class);\r\n\r\nSystem.out.println(&quot;Username - &quot; + list.get(0).get(0));\r\n\r\nSystem.out.println(&quot;Password - &quot; + list.get(0).get(1));\r\n\r\nmore details: \r\nhttps://stackoverflow.com/questions/60675464/cucumber-cant-convert-datatable-to-listjava-lang-string-there-was-a-table-c","title":"Cucumber DataTable Error - io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to cucumber.api.DataTable","body":"<p>You are trying to convert a io.Cucumber.DataTable into a list of Strings, however your DataTable contains 2 columns. Using the asList() method only works on DataTables which have 1 column, hence the error message indicating that the table is too wide to convert.</p>\n<p>You can convert your Datatable with 2 columns by using the asLists method:</p>\n<p>List&lt;List&gt; list = dt.asLists(String.class);</p>\n<p>System.out.println(&quot;Username - &quot; + list.get(0).get(0));</p>\n<p>System.out.println(&quot;Password - &quot; + list.get(0).get(1));</p>\n<p>more details:\n<a href=\"https://stackoverflow.com/questions/60675464/cucumber-cant-convert-datatable-to-listjava-lang-string-there-was-a-table-c\">Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it</a></p>\n"}],"owner":{"account_id":15058243,"reputation":253,"user_id":10867892,"display_name":"golf umbrella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28034,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55593998,"answer_count":3,"score":6,"last_activity_date":1692640848,"creation_date":1554808530,"question_id":55591569,"body_markdown":"Trying to run a scenario with cucumber/selenium/java/intelliJ, but getting an error regarding the DataTable in one of the steps. The dataTable was working fine and converting the arguments for the step correctly before I started using a test runner and changed some things around, but I just can&#39;t get this to work.\r\n\r\nThis is the error:\r\n\r\n    cucumber.runtime.CucumberException: Could not convert arguments for step [^I enter the following login details:$] defined at &#39;Steps.MaStepdefs.iEnterTheFollowingLoginDetails(DataTable) in file:/C:/Users/Kristian.Senior/Desktop/CukesReporting/target/test-classes/&#39;.\r\n    It appears you did not register a data table type. The details are in the stacktrace below.\r\n    \tat cucumber.runner.PickleStepDefinitionMatch.registerTypeInConfiguration(PickleStepDefinitionMatch.java:59)\r\n    \tat cucumber.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:44)\r\n    \tat cucumber.runner.TestStep.executeStep(TestStep.java:63)\r\n    \tat cucumber.runner.TestStep.run(TestStep.java:49)\r\n    \tat cucumber.runner.PickleStepTestStep.run(PickleStepTestStep.java:43)\r\n    \tat cucumber.runner.TestCase.run(TestCase.java:45)\r\n    \tat cucumber.runner.Runner.runPickle(Runner.java:40)\r\n    \tat cucumber.runtime.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:146)\r\n    \tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:68)\r\n    \tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:23)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:73)\r\n    \tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:122)\r\n    \tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:64)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat cucumber.api.junit.Cucumber$1.evaluate(Cucumber.java:131)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to cucumber.api.DataTable.\r\n    Please register a DataTableType with a TableTransformer, TableEntryTransformer or TableRowTransformer for cucumber.api.DataTable.\r\n    \tat io.cucumber.datatable.UndefinedDataTableTypeException.singletonNoConverterDefined(UndefinedDataTableTypeException.java:15)\r\n    \tat io.cucumber.datatable.DataTableTypeRegistryTableConverter.toSingleton(DataTableTypeRegistryTableConverter.java:106)\r\n    \tat io.cucumber.datatable.DataTableTypeRegistryTableConverter.convert(DataTableTypeRegistryTableConverter.java:75)\r\n    \tat io.cucumber.datatable.DataTable.convert(DataTable.java:362)\r\n    \tat io.cucumber.stepexpression.StepExpressionFactory$3.transform(StepExpressionFactory.java:73)\r\n    \tat io.cucumber.stepexpression.DataTableArgument.getValue(DataTableArgument.java:19)\r\n    \tat cucumber.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:41)\r\n    \t... 29 more\r\n\r\nHere is my scenario:\r\n\r\n    Feature: LoginFeature\r\n      This deals with logging in\r\n    \r\n      Scenario: Log in with correct username\r\n    \r\n        Given I navigate to the login page\r\n        And I enter the following login details:\r\n          | username | password |\r\n          | cukey    | passwoid |\r\n        And I click the login button\r\n        Then I should land on the newest page\r\n\r\nHere&#39;s my step definitions:\r\n\r\n    package Steps;\r\n    \r\n    import Base.BaseUtil;\r\n    import Pages.LoginPageObjeks;\r\n    import cucumber.api.DataTable;\r\n    import cucumber.api.PendingException;\r\n    import cucumber.api.java.en.And;\r\n    import cucumber.api.java.en.Given;\r\n    import cucumber.api.java.en.Then;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    import org.junit.Assert;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class MaStepdefs extends BaseUtil {\r\n        private BaseUtil base;\r\n    \r\n        public MaStepdefs(BaseUtil base) {\r\n            this.base = base;\r\n        }\r\n    \r\n        @And(&quot;^I click the login button$&quot;)\r\n        public void iClickTheLoginButton() throws Throwable {\r\n            LoginPageObjeks page = new LoginPageObjeks(base.Driver);\r\n            page.ClickLogin();\r\n    \r\n        }\r\n    \r\n        @Given(&quot;^I navigate to the login page$&quot;)\r\n        public void iNavigateToTheLoginPage() throws Throwable {\r\n    \r\n            base.Driver.navigate().to(&quot;http://www.executeautomation.com/demosite/Login.html&quot;);\r\n    \r\n        }\r\n    \r\n        @And(&quot;^I enter the following login details:$&quot;)\r\n        public void iEnterTheFollowingLoginDetails(DataTable table) throws Throwable {\r\n    \r\n            List&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n    \r\n            users = table.asList(User.class);\r\n    \r\n            LoginPageObjeks page = new LoginPageObjeks(base.Driver);\r\n    \r\n            for (User user : users) {\r\n                page.Login(user.username, user.password);\r\n    \r\n                //base.Driver.findElement(By.name(&quot;UserName&quot;)).sendKeys(user.username);\r\n                //base.Driver.findElement(By.name(&quot;Password&quot;)).sendKeys(user.password);\r\n    \r\n                Thread.sleep(2000);\r\n    \r\n    \r\n            }\r\n        }\r\n            @Then(&quot;^I should land on the newest page$&quot;)\r\n            public void iShouldLandOnTheNewestPage () throws Throwable {\r\n                Assert.assertEquals(&quot;It&#39;s not displayed&quot;, base.Driver.findElement(By.id(&quot;Initial&quot;)).isDisplayed(), true);\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        class User {\r\n            public String username;\r\n            public String password;\r\n    \r\n            public User(String userName, String passWord) {\r\n                username = userName;\r\n                password = passWord;\r\n            }\r\n        }\r\n\r\nHere is my pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ownCukes&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.141.59&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n                &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.6&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.6&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.6&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        \r\n    &lt;/project&gt;\r\n\r\nAnd here&#39;s my TestRunner:\r\n\r\n    package Runner;\r\n    \r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = {&quot;src/test/java/features&quot;}, glue = &quot;Steps&quot;)\r\n    \r\n    public class TestRunner {\r\n    }\r\n\r\nI&#39;m not sure what a data table type is or how to register one? I&#39;ve tried messing around with DataTableType and TypeRegistry but I&#39;m not an expert. Any help would be appreciated, thanks","title":"Cucumber DataTable Error - io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to cucumber.api.DataTable","body":"<p>Trying to run a scenario with cucumber/selenium/java/intelliJ, but getting an error regarding the DataTable in one of the steps. The dataTable was working fine and converting the arguments for the step correctly before I started using a test runner and changed some things around, but I just can't get this to work.</p>\n\n<p>This is the error:</p>\n\n<pre><code>cucumber.runtime.CucumberException: Could not convert arguments for step [^I enter the following login details:$] defined at 'Steps.MaStepdefs.iEnterTheFollowingLoginDetails(DataTable) in file:/C:/Users/Kristian.Senior/Desktop/CukesReporting/target/test-classes/'.\nIt appears you did not register a data table type. The details are in the stacktrace below.\n    at cucumber.runner.PickleStepDefinitionMatch.registerTypeInConfiguration(PickleStepDefinitionMatch.java:59)\n    at cucumber.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:44)\n    at cucumber.runner.TestStep.executeStep(TestStep.java:63)\n    at cucumber.runner.TestStep.run(TestStep.java:49)\n    at cucumber.runner.PickleStepTestStep.run(PickleStepTestStep.java:43)\n    at cucumber.runner.TestCase.run(TestCase.java:45)\n    at cucumber.runner.Runner.runPickle(Runner.java:40)\n    at cucumber.runtime.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:146)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:68)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:23)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:73)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:122)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:64)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at cucumber.api.junit.Cucumber$1.evaluate(Cucumber.java:131)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:160)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: io.cucumber.datatable.UndefinedDataTableTypeException: Can't convert DataTable to cucumber.api.DataTable.\nPlease register a DataTableType with a TableTransformer, TableEntryTransformer or TableRowTransformer for cucumber.api.DataTable.\n    at io.cucumber.datatable.UndefinedDataTableTypeException.singletonNoConverterDefined(UndefinedDataTableTypeException.java:15)\n    at io.cucumber.datatable.DataTableTypeRegistryTableConverter.toSingleton(DataTableTypeRegistryTableConverter.java:106)\n    at io.cucumber.datatable.DataTableTypeRegistryTableConverter.convert(DataTableTypeRegistryTableConverter.java:75)\n    at io.cucumber.datatable.DataTable.convert(DataTable.java:362)\n    at io.cucumber.stepexpression.StepExpressionFactory$3.transform(StepExpressionFactory.java:73)\n    at io.cucumber.stepexpression.DataTableArgument.getValue(DataTableArgument.java:19)\n    at cucumber.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:41)\n    ... 29 more\n</code></pre>\n\n<p>Here is my scenario:</p>\n\n<pre><code>Feature: LoginFeature\n  This deals with logging in\n\n  Scenario: Log in with correct username\n\n    Given I navigate to the login page\n    And I enter the following login details:\n      | username | password |\n      | cukey    | passwoid |\n    And I click the login button\n    Then I should land on the newest page\n</code></pre>\n\n<p>Here's my step definitions:</p>\n\n<pre><code>package Steps;\n\nimport Base.BaseUtil;\nimport Pages.LoginPageObjeks;\nimport cucumber.api.DataTable;\nimport cucumber.api.PendingException;\nimport cucumber.api.java.en.And;\nimport cucumber.api.java.en.Given;\nimport cucumber.api.java.en.Then;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.junit.Assert;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class MaStepdefs extends BaseUtil {\n    private BaseUtil base;\n\n    public MaStepdefs(BaseUtil base) {\n        this.base = base;\n    }\n\n    @And(\"^I click the login button$\")\n    public void iClickTheLoginButton() throws Throwable {\n        LoginPageObjeks page = new LoginPageObjeks(base.Driver);\n        page.ClickLogin();\n\n    }\n\n    @Given(\"^I navigate to the login page$\")\n    public void iNavigateToTheLoginPage() throws Throwable {\n\n        base.Driver.navigate().to(\"http://www.executeautomation.com/demosite/Login.html\");\n\n    }\n\n    @And(\"^I enter the following login details:$\")\n    public void iEnterTheFollowingLoginDetails(DataTable table) throws Throwable {\n\n        List&lt;User&gt; users = new ArrayList&lt;User&gt;();\n\n        users = table.asList(User.class);\n\n        LoginPageObjeks page = new LoginPageObjeks(base.Driver);\n\n        for (User user : users) {\n            page.Login(user.username, user.password);\n\n            //base.Driver.findElement(By.name(\"UserName\")).sendKeys(user.username);\n            //base.Driver.findElement(By.name(\"Password\")).sendKeys(user.password);\n\n            Thread.sleep(2000);\n\n\n        }\n    }\n        @Then(\"^I should land on the newest page$\")\n        public void iShouldLandOnTheNewestPage () throws Throwable {\n            Assert.assertEquals(\"It's not displayed\", base.Driver.findElement(By.id(\"Initial\")).isDisplayed(), true);\n        }\n\n\n\n    }\n\n    class User {\n        public String username;\n        public String password;\n\n        public User(String userName, String passWord) {\n            username = userName;\n            password = passWord;\n        }\n    }\n</code></pre>\n\n<p>Here is my pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;ownCukes&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>And here's my TestRunner:</p>\n\n<pre><code>package Runner;\n\n\nimport cucumber.api.CucumberOptions;\nimport org.junit.runner.RunWith;\nimport cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = {\"src/test/java/features\"}, glue = \"Steps\")\n\npublic class TestRunner {\n}\n</code></pre>\n\n<p>I'm not sure what a data table type is or how to register one? I've tried messing around with DataTableType and TypeRegistry but I'm not an expert. Any help would be appreciated, thanks</p>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1692422122,"post_id":76933652,"comment_id":135623999,"body_markdown":"Use debugger to step thru. print inbetween values. See the [faq] of this site","body":"Use debugger to step thru. print inbetween values. See the <a href=\"https://stackoverflow.com/tour\">faq</a> of this site"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1692422133,"post_id":76933652,"comment_id":135624001,"body_markdown":"When `i = 3` and `j = 2`, then `j &gt; sqrt(i)i`. Therefore, the loop is never entered. --- As an aside: the algorithm is not correct. It, for example, prints `10`, which is not prime.","body":"When <code>i = 3</code> and <code>j = 2</code>, then <code>j &gt; sqrt(i)i</code>. Therefore, the loop is never entered. --- As an aside: the algorithm is not correct. It, for example, prints <code>10</code>, which is not prime."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692424103,"post_id":76933652,"comment_id":135624131,"body_markdown":"&quot;the logic is the same&quot; ??? No, definitively not! Second is `break`ing out the loop as soon as a divisor is found - first is printing the number for each dividend that is not a divisor (Example `9` cannot be divided by `2`, so it is printed by first or, as mentioned in previous comment, `10` is not divisible by `3`)","body":"&quot;the logic is the same&quot; ??? No, definitively not! Second is <code>break</code>ing out the loop as soon as a divisor is found - first is printing the number for each dividend that is not a divisor (Example <code>9</code> cannot be divided by <code>2</code>, so it is printed by first or, as mentioned in previous comment, <code>10</code> is not divisible by <code>3</code>)"}],"answers":[{"tags":[],"owner":{"account_id":29255121,"reputation":11,"user_id":22413519,"display_name":"Lusine Baghdasaryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692627673,"creation_date":1692422354,"answer_id":76933692,"question_id":76933652,"body_markdown":"In your code, pay attention to where `j` evaluates to iterate starting from 2 to `Math.sqrt(i)`. When `i=3`, `Math.sqrt(i) = Math.sqrt(3) = 1.732`. Because `1.732&lt;2`, the inside loop **does not get executed**. \r\n\r\nAs a result:\r\n\r\n```java\r\nif(i%j!=0){\r\n    System.out.println(i);\r\n}\r\n```\r\ndoes not get executed.\r\n","title":"Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that?","body":"<p>In your code, pay attention to where <code>j</code> evaluates to iterate starting from 2 to <code>Math.sqrt(i)</code>. When <code>i=3</code>, <code>Math.sqrt(i) = Math.sqrt(3) = 1.732</code>. Because <code>1.732&lt;2</code>, the inside loop <strong>does not get executed</strong>.</p>\n<p>As a result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(i%j!=0){\n    System.out.println(i);\n}\n</code></pre>\n<p>does not get executed.</p>\n"},{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692423106,"creation_date":1692423106,"answer_id":76933712,"question_id":76933652,"body_markdown":"Lusine Baghdasaryan&#39;s answer is right.\r\n\r\nMath.sqrt(3) = 1.7320508075688772\r\n\r\nMath.sqrt() returns double data type so when compared with 2, Java converts it to below comparison: \r\n\r\n2.0 &lt; 1.7320508075688772.\r\n\r\nThe second sinppet of code predefined isPrime is true. That&#39;s why you got the result.\r\n\r\nAlso, your prime numbers result is incorrect.","title":"Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that?","body":"<p>Lusine Baghdasaryan's answer is right.</p>\n<p>Math.sqrt(3) = 1.7320508075688772</p>\n<p>Math.sqrt() returns double data type so when compared with 2, Java converts it to below comparison:</p>\n<p>2.0 &lt; 1.7320508075688772.</p>\n<p>The second sinppet of code predefined isPrime is true. That's why you got the result.</p>\n<p>Also, your prime numbers result is incorrect.</p>\n"},{"tags":[],"owner":{"account_id":29255874,"reputation":1,"user_id":22414085,"display_name":"Dulanjaya Ravindu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1692451420,"creation_date":1692435659,"answer_id":76934315,"question_id":76933652,"body_markdown":"    import java.util.*;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            boolean isPrime=true;\r\n            for (int i = 2; i &lt; 65; i++) {\r\n                for (int j = 2; j &lt; i; j++) {\r\n                    if (i % j == 0) {\r\n                        isPrime = false;\r\n                    }\r\n                }\r\n                if(isPrime){\r\n                    System.out.println(i);\r\n                }else{\r\n                    isPrime =true;\r\n                }\r\n            }\r\n        }\r\n    }","title":"Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that?","body":"<pre><code>import java.util.*;\npublic class Main {\n    public static void main(String[] args) {\n        boolean isPrime=true;\n        for (int i = 2; i &lt; 65; i++) {\n            for (int j = 2; j &lt; i; j++) {\n                if (i % j == 0) {\n                    isPrime = false;\n                }\n            }\n            if(isPrime){\n                System.out.println(i);\n            }else{\n                isPrime =true;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692525060,"creation_date":1692470832,"answer_id":76936600,"question_id":76933652,"body_markdown":"&gt; _&quot;Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that? ...&quot;_\r\n\r\nThe first code will only print a prime number if it matches the _loop_ conditions.\r\n\r\nAnd, the second code prints the prime number _after_ the _for-loop_.  \r\nSince _isPrime_ is never set to _false_, _3_ will be considered prime.","title":"Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that?","body":"<blockquote>\n<p><em>&quot;Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that? ...&quot;</em></p>\n</blockquote>\n<p>The first code will only print a prime number if it matches the <em>loop</em> conditions.</p>\n<p>And, the second code prints the prime number <em>after</em> the <em>for-loop</em>.<br />\nSince <em>isPrime</em> is never set to <em>false</em>, <em>3</em> will be considered prime.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692640477,"creation_date":1692629316,"answer_id":76946433,"question_id":76933652,"body_markdown":"&gt;The code provided above prints all prime numbers except 3.\r\n\r\nNo it doesn&#39;t.  It prints the following which doesn&#39;t include `2` or `3` and prints composite numbers as well.\r\n```\r\n5 7 9 10 11 11 13 13 14 15 16 17 17 17 18 19 19 19 20 21 21 22 22 23 23\r\n23 25 25 25 26 26 26 27 27 27 28 28 29 29 29 29 30 31 31 31 31 32 32 33\r\n33 33 34 34 34 35 35 35 36 37 37 37 37 37 38 38 38 38 39 39 39 39 40 40\r\n41 41 41 41 41 42 42 43 43 43 43 43 44 44 44 45 45 45 46 46 46 46 47 47\r\n47 47 47 48 49 49 49 49 49 50 50 50 50 51 51 51 51 51 52 52 52 52 53 53\r\n53 53 53 53 54 54 54 55 55 55 55 55 56 56 56 57 57 57 57 57 58 58 58 58\r\n58 59 59 59 59 59 59 60 61 61 61 61 61 61 62 62 62 62 62 63 63 63 63 64\r\n64 64 64\r\n```\r\nHere is what you need to do.\r\n- first, just print `2` to avoid having to specially handle the only even prime. \r\n Otherwise, increment your loop values by `x += x == 2 ? 1 : 2` to bump by `1` if equal to `2` and by `2` there after.\r\n- put an `outer` label before the outer loop\r\n- iterate over the candidates starting with `3` and incrementing by `2`;\r\n- iterate over the divisors the same way.  Use `Math.sqrt(i)+1` to avoid exiting the loop prematurely by checking for border cases.\r\n- if a remainder is found, continue to the outer loop.\r\n- move your print statement after the inner loop since none of the candidates were composite. If the inner loop finishes normally then what is left is a prime.\r\n```\r\nSystem.out.print(2);\r\nouter:\r\nfor (int i = 3; i &lt;= 65; i+=2) {\r\n   for (int j = 3; j &lt;= Math.sqrt(i)+1; j += 2) {\r\n      if (i % j == 0) {\r\n          continue outer; // not a prime\r\n      }\r\n   }\r\n   System.out.print(&quot; &quot; +i);\r\n}\r\n```\r\nprints\r\n```\r\n2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61","title":"Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that?","body":"<blockquote>\n<p>The code provided above prints all prime numbers except 3.</p>\n</blockquote>\n<p>No it doesn't.  It prints the following which doesn't include <code>2</code> or <code>3</code> and prints composite numbers as well.</p>\n<pre><code>5 7 9 10 11 11 13 13 14 15 16 17 17 17 18 19 19 19 20 21 21 22 22 23 23\n23 25 25 25 26 26 26 27 27 27 28 28 29 29 29 29 30 31 31 31 31 32 32 33\n33 33 34 34 34 35 35 35 36 37 37 37 37 37 38 38 38 38 39 39 39 39 40 40\n41 41 41 41 41 42 42 43 43 43 43 43 44 44 44 45 45 45 46 46 46 46 47 47\n47 47 47 48 49 49 49 49 49 50 50 50 50 51 51 51 51 51 52 52 52 52 53 53\n53 53 53 53 54 54 54 55 55 55 55 55 56 56 56 57 57 57 57 57 58 58 58 58\n58 59 59 59 59 59 59 60 61 61 61 61 61 61 62 62 62 62 62 63 63 63 63 64\n64 64 64\n</code></pre>\n<p>Here is what you need to do.</p>\n<ul>\n<li>first, just print <code>2</code> to avoid having to specially handle the only even prime.\nOtherwise, increment your loop values by <code>x += x == 2 ? 1 : 2</code> to bump by <code>1</code> if equal to <code>2</code> and by <code>2</code> there after.</li>\n<li>put an <code>outer</code> label before the outer loop</li>\n<li>iterate over the candidates starting with <code>3</code> and incrementing by <code>2</code>;</li>\n<li>iterate over the divisors the same way.  Use <code>Math.sqrt(i)+1</code> to avoid exiting the loop prematurely by checking for border cases.</li>\n<li>if a remainder is found, continue to the outer loop.</li>\n<li>move your print statement after the inner loop since none of the candidates were composite. If the inner loop finishes normally then what is left is a prime.</li>\n</ul>\n<pre><code>System.out.print(2);\nouter:\nfor (int i = 3; i &lt;= 65; i+=2) {\n   for (int j = 3; j &lt;= Math.sqrt(i)+1; j += 2) {\n      if (i % j == 0) {\n          continue outer; // not a prime\n      }\n   }\n   System.out.print(&quot; &quot; +i);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61\n</code></pre>\n"}],"owner":{"account_id":21444753,"reputation":11,"user_id":15798533,"display_name":"ammu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1692640477,"creation_date":1692421485,"question_id":76933652,"body_markdown":"I&#39;m working on a Java program that prints all the prime numbers from 1 to 65. Here&#39;s my code:\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n           for (int i = 3; i &lt; 65; i++) {\r\n               for (int j = 2; j &lt;= Math.sqrt(i); j++) {\r\n                   if (i % j != 0) {\r\n                       System.out.println(i);\r\n                   }\r\n               }\r\n            }\r\n        }    \r\n    }\r\n\r\n\r\nThe code provided above prints all prime numbers except 3.\r\n\r\nIf I use the code:\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int number = 3;\r\n            boolean isPrime = true;\r\n\r\n            for (int i = 2; i &lt;= Math.sqrt(number); i++) {\r\n                if (number % i == 0) {\r\n                    isPrime = false;\r\n                    break;  // Exit the loop once a divisor is found\r\n                }\r\n            }\r\n\r\n            if (isPrime) {\r\n                System.out.println(number + &quot; is a prime number.&quot;);\r\n            } else {\r\n                System.out.println(number + &quot; is not a prime number.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIt is giving 3 as prime.  Why is the first code not printing 3?","title":"Code for printing prime numbers from 1 to 65 is printing all prime numbers except 3 using Java.Why is it like that?","body":"<p>I'm working on a Java program that prints all the prime numbers from 1 to 65. Here's my code:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n       for (int i = 3; i &lt; 65; i++) {\n           for (int j = 2; j &lt;= Math.sqrt(i); j++) {\n               if (i % j != 0) {\n                   System.out.println(i);\n               }\n           }\n        }\n    }    \n}\n</code></pre>\n<p>The code provided above prints all prime numbers except 3.</p>\n<p>If I use the code:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int number = 3;\n        boolean isPrime = true;\n\n        for (int i = 2; i &lt;= Math.sqrt(number); i++) {\n            if (number % i == 0) {\n                isPrime = false;\n                break;  // Exit the loop once a divisor is found\n            }\n        }\n\n        if (isPrime) {\n            System.out.println(number + &quot; is a prime number.&quot;);\n        } else {\n            System.out.println(number + &quot; is not a prime number.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>It is giving 3 as prime.  Why is the first code not printing 3?</p>\n"},{"tags":["java","sum"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":3,"creation_date":1692639752,"post_id":76947583,"comment_id":135648203,"body_markdown":"If you write code and you get an error, [show your code, and show the error](/help/how-to-ask)","body":"If you write code and you get an error, <a href=\"/help/how-to-ask\">show your code, and show the error</a>"}],"owner":{"account_id":22589206,"reputation":3,"user_id":16772593,"display_name":"Vishal Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692640017,"answer_count":0,"score":0,"last_activity_date":1692640251,"creation_date":1692639671,"question_id":76947583,"body_markdown":"I ran a Java Program where i declared two byte values let say 8 and 9. I declared an another byte variable to put their sum in it. Now it is returning an error.\r\n\r\nMeanwhile, I declared a fourth variable of int type and it successfully stored that summation.","title":"why does the addition of byte and byte or short and short return an integer?","body":"<p>I ran a Java Program where i declared two byte values let say 8 and 9. I declared an another byte variable to put their sum in it. Now it is returning an error.</p>\n<p>Meanwhile, I declared a fourth variable of int type and it successfully stored that summation.</p>\n"},{"tags":["java","kubernetes","system-calls","processbuilder","seccomp"],"owner":{"account_id":20501569,"reputation":1,"user_id":15045386,"display_name":"Cheese3000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692639959,"creation_date":1692639959,"question_id":76947619,"body_markdown":"I would like to log all system calls made by a Java application and the processes started from the application with a Seccomp profile. Im running the applcation within a Kubernetes pod and supplying the seccomp profile through the yml.\r\n\r\nIs there a way to log **all** system calls by the application and processes created by it?\r\n\r\nCurrently, I am using Java&#39;s Processbuilder for the external process. If I create a file through an external process from ProcessBuilder (let&#39;s say the external process does &#39;echo hello &gt; message&#39;) I would expect the syslogs to contain something like system call &quot;1&quot; for writing to a file.\r\nHowever, no syscall for writing to a file shows in the logs (even though the file was created)\r\nThis is my seccomp profile:\r\n```\r\n{\r\n    &quot;defaultAction&quot;: &quot;SCMP_ACT_LOG&quot;\r\n}\r\n```","title":"Logging system calls of external Process created by Java with Seccomp","body":"<p>I would like to log all system calls made by a Java application and the processes started from the application with a Seccomp profile. Im running the applcation within a Kubernetes pod and supplying the seccomp profile through the yml.</p>\n<p>Is there a way to log <strong>all</strong> system calls by the application and processes created by it?</p>\n<p>Currently, I am using Java's Processbuilder for the external process. If I create a file through an external process from ProcessBuilder (let's say the external process does 'echo hello &gt; message') I would expect the syslogs to contain something like system call &quot;1&quot; for writing to a file.\nHowever, no syscall for writing to a file shows in the logs (even though the file was created)\nThis is my seccomp profile:</p>\n<pre><code>{\n    &quot;defaultAction&quot;: &quot;SCMP_ACT_LOG&quot;\n}\n</code></pre>\n"},{"tags":["java","windows","visual-studio"],"comments":[{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692642575,"post_id":76947581,"comment_id":135648739,"body_markdown":"just a thought: does Visual Studio use the Eclipse JDT language server for autocompletion, rrefactoring etc.? if so, it is possible that it installs the Temurin JDK to run the LS.","body":"just a thought: does Visual Studio use the Eclipse JDT language server for autocompletion, rrefactoring etc.? if so, it is possible that it installs the Temurin JDK to run the LS."},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692642797,"post_id":76947581,"comment_id":135648780,"body_markdown":"You can make sure that you use the correct version of Java by placing its directory before the Eclipse JDK in the PATH environment variable.","body":"You can make sure that you use the correct version of Java by placing its directory before the Eclipse JDK in the PATH environment variable."},{"owner":{"account_id":8527309,"reputation":53,"user_id":6392344,"display_name":"R&#243;bert Garai"},"score":0,"creation_date":1692793029,"post_id":76947581,"comment_id":135672072,"body_markdown":"Thanks for both answers, I will try it out later when i will need VS again. I will check if I am able to change my desired JDK PATH in the environmental variables.","body":"Thanks for both answers, I will try it out later when i will need VS again. I will check if I am able to change my desired JDK PATH in the environmental variables."}],"owner":{"account_id":8527309,"reputation":53,"user_id":6392344,"display_name":"R&#243;bert Garai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692639662,"creation_date":1692639662,"question_id":76947581,"body_markdown":"recently I tried to update my JDK and when I checked what version do I use then I realised that I&#39;m running on openJDK v.1.8 while I should be using JDK 17.0.4\r\n\r\nWhen I typed &quot;where java&quot; in CMD, then I found I have 3 installations of JDK.\r\nsee attached picture -&gt; figure no.1.\r\n\r\nNow I am confused.\r\n\r\nThe cmd path shows something called Eclipse Foundation folder, but I have never ever used Eclipse IDE on this pc. I think this folder is connected with the Visual Studio IDE (VS).\r\n\r\n\r\nAfter I uninstalled Visual Studio 2019, because I thought that one was responsible for the openJDK 1.8 - the Eclipse Foundation folder really dissapeared.\r\n\r\nscreenshot from cmd before uninstallation VS, figure no.1 -&gt;\r\n\r\n[![figure no.1][1]][1]\r\n\r\nscreenshot from cmd after uninstallation of VS, figure no.2 -&gt;\r\n\r\n[![figure no.2][2]][2]\r\n\r\nSo my question is:\r\n**Which version of java was used before I uninstalled the VS? \r\nWas it JDK 17 or version openJDK 1.8 ?**\r\n\r\nI solved the problem by uninstalling the VS. And the cmd clearly stated that I was using *openJDK v.1.8* instead of *JDK 17.0.4*\r\n\r\nI have now another question:\r\nQ&gt;\r\n**Is there a way how to instal Visual Studio without messing my JDK?**\r\n\r\n  [1]: https://i.stack.imgur.com/oUUc2.png\r\n  [2]: https://i.stack.imgur.com/2gYEb.png","title":"Am I using version JDK 17 or version openJDK 1.8?","body":"<p>recently I tried to update my JDK and when I checked what version do I use then I realised that I'm running on openJDK v.1.8 while I should be using JDK 17.0.4</p>\n<p>When I typed &quot;where java&quot; in CMD, then I found I have 3 installations of JDK.\nsee attached picture -&gt; figure no.1.</p>\n<p>Now I am confused.</p>\n<p>The cmd path shows something called Eclipse Foundation folder, but I have never ever used Eclipse IDE on this pc. I think this folder is connected with the Visual Studio IDE (VS).</p>\n<p>After I uninstalled Visual Studio 2019, because I thought that one was responsible for the openJDK 1.8 - the Eclipse Foundation folder really dissapeared.</p>\n<p>screenshot from cmd before uninstallation VS, figure no.1 -&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/oUUc2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oUUc2.png\" alt=\"figure no.1\" /></a></p>\n<p>screenshot from cmd after uninstallation of VS, figure no.2 -&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/2gYEb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2gYEb.png\" alt=\"figure no.2\" /></a></p>\n<p>So my question is:\n<strong>Which version of java was used before I uninstalled the VS?\nWas it JDK 17 or version openJDK 1.8 ?</strong></p>\n<p>I solved the problem by uninstalling the VS. And the cmd clearly stated that I was using <em>openJDK v.1.8</em> instead of <em>JDK 17.0.4</em></p>\n<p>I have now another question:\nQ&gt;\n<strong>Is there a way how to instal Visual Studio without messing my JDK?</strong></p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":1,"creation_date":1692081720,"post_id":76903759,"comment_id":135573060,"body_markdown":"You mentioned that it is a shared library. Did you recompile the shared library using Micronaut 4?","body":"You mentioned that it is a shared library. Did you recompile the shared library using Micronaut 4?"},{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1692082589,"post_id":76903759,"comment_id":135573189,"body_markdown":"No, I did not recompile it. The shared lib is still using Micronaut 3. I can try this, thanks!","body":"No, I did not recompile it. The shared lib is still using Micronaut 3. I can try this, thanks!"},{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1692123018,"post_id":76903759,"comment_id":135580784,"body_markdown":"Unfortunately, that is required to make it work.","body":"Unfortunately, that is required to make it work."}],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692639288,"creation_date":1692123150,"answer_id":76908236,"question_id":76903759,"body_markdown":"Unfortunately, a recompilation of your shared library using Micronaut 4 is required in order to make Micronaut 4 discover your beans.\r\n\r\nSee also: https://github.com/micronaut-projects/micronaut-core/discussions/9414","title":"Upgrading from Micronaut 3 to Micronaut 4 stops endpoints from being loaded","body":"<p>Unfortunately, a recompilation of your shared library using Micronaut 4 is required in order to make Micronaut 4 discover your beans.</p>\n<p>See also: <a href=\"https://github.com/micronaut-projects/micronaut-core/discussions/9414\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/discussions/9414</a></p>\n"}],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76908236,"answer_count":1,"score":0,"last_activity_date":1692639288,"creation_date":1692080476,"question_id":76903759,"body_markdown":"We have a Micronaut application running on Micronaut version 3.x. This application is using a shared library, which contains a few controllers (`@Endpoint` classes) which are part of every application. An example is this:\r\n\r\n    @Endpoint(id = &quot;ping&quot;, defaultSensitive = false)\r\n    public class PingEndpoint {\r\n    \r\n        @Read\r\n        public String ping() {\r\n            return &quot;pong&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nNow that we&#39;ve attempted an upgrade to Micronaut 4, this controller is no longer being loaded. In Micronaut 3 I can see the following output:\r\n\r\n```\r\n2023-08-15 16:01:31.805 DEBUG --- [    Test worker] i.m.web.router.DefaultRouteBuilder       : Created Route to @Endpoint monitoring.PingEndpoint: GET /transactions/ping -&gt; PingEndpoint#ping () \r\n```\r\n\r\nIn Micronaut 4, I see my Endpoints being created too, but not this one. I couldn&#39;t find anything related to this in the breaking changes. Any advice would be appreciated.","title":"Upgrading from Micronaut 3 to Micronaut 4 stops endpoints from being loaded","body":"<p>We have a Micronaut application running on Micronaut version 3.x. This application is using a shared library, which contains a few controllers (<code>@Endpoint</code> classes) which are part of every application. An example is this:</p>\n<pre><code>@Endpoint(id = &quot;ping&quot;, defaultSensitive = false)\npublic class PingEndpoint {\n\n    @Read\n    public String ping() {\n        return &quot;pong&quot;;\n    }\n\n}\n</code></pre>\n<p>Now that we've attempted an upgrade to Micronaut 4, this controller is no longer being loaded. In Micronaut 3 I can see the following output:</p>\n<pre><code>2023-08-15 16:01:31.805 DEBUG --- [    Test worker] i.m.web.router.DefaultRouteBuilder       : Created Route to @Endpoint monitoring.PingEndpoint: GET /transactions/ping -&gt; PingEndpoint#ping () \n</code></pre>\n<p>In Micronaut 4, I see my Endpoints being created too, but not this one. I couldn't find anything related to this in the breaking changes. Any advice would be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":0,"creation_date":1692615461,"post_id":76944608,"comment_id":135642887,"body_markdown":"How are you trying to run the java program? Can you post screenshot of when you run java -version?","body":"How are you trying to run the java program? Can you post screenshot of when you run java -version?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692615501,"post_id":76944608,"comment_id":135642892,"body_markdown":"How are you running those programs? If your `java -version` says that it&#39;s v20, but you get those errors, then you&#39;re not running them with that Java version. Instead you seem to have [JDK](https://stackoverflow.com/q/9170832/2541560) 11 at least.","body":"How are you running those programs? If your <code>java -version</code> says that it&#39;s v20, but you get those errors, then you&#39;re not running them with that Java version. Instead you seem to have <a href=\"https://stackoverflow.com/q/9170832/2541560\">JDK</a> 11 at least."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1692615672,"post_id":76944608,"comment_id":135642923,"body_markdown":"is `JAVA_HOME` set?","body":"is <code>JAVA_HOME</code> set?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692615949,"post_id":76944608,"comment_id":135642972,"body_markdown":"`flutter` is probably misinformed. You could try `set JAVA_HOME=&quot;&lt;path to jdk install dir&gt;&quot;;flutter doctor --android-licenses` btw [Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nPlease learn how to copy-paste with cmd.exe","body":"<code>flutter</code> is probably misinformed. You could try <code>set JAVA_HOME=&quot;&lt;path to jdk install dir&gt;&quot;;flutter doctor --android-licenses</code> btw <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Please learn how to copy-paste with cmd.exe"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692616662,"post_id":76944608,"comment_id":135643101,"body_markdown":"That should have said *set JAVA_HOME=&quot;&lt;path to jdk 20 install dir&gt;&quot;;flutter doctor --android-licenses* but to give it the best chance, do `set JAVA_HOME=&quot;&lt;path to jdk 20 install dir&gt;&quot;;set PATH=&quot;%JAVA_HOME\\bin;%PATH%&quot;;flutter doctor --android-licenses` and if that works for you, you can set those values permanently","body":"That should have said <i>set JAVA_HOME=&quot;&lt;path to jdk 20 install dir&gt;&quot;;flutter doctor --android-licenses</i> but to give it the best chance, do <code>set JAVA_HOME=&quot;&lt;path to jdk 20 install dir&gt;&quot;;set PATH=&quot;%JAVA_HOME\\bin;%PATH%&quot;;flutter doctor --android-licenses</code> and if that works for you, you can set those values permanently"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692616388,"creation_date":1692616388,"answer_id":76944761,"question_id":76944608,"body_markdown":"You must be compiling and running with different Java versions. Some applications can come with a bundled JRE and Java can also be installed in a lot of different locations. So you have to make sure that you are really using the version you want. Check your environment variables again, especially the JAVA_HOME and PATH variables. If there is another JRE earlier in the PATH variable it will be used instead of any later matches. So you can move up the java you want to use to the first position of the PATH.\r\n","title":"Having only JDK 20 installed but still i get class file version error saying it cant recognise above 55.0","body":"<p>You must be compiling and running with different Java versions. Some applications can come with a bundled JRE and Java can also be installed in a lot of different locations. So you have to make sure that you are really using the version you want. Check your environment variables again, especially the JAVA_HOME and PATH variables. If there is another JRE earlier in the PATH variable it will be used instead of any later matches. So you can move up the java you want to use to the first position of the PATH.</p>\n"}],"owner":{"account_id":21157162,"reputation":3,"user_id":21602055,"display_name":"Vivek Y V"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692639165,"creation_date":1692615257,"question_id":76944608,"body_markdown":"Well my pc has only JDK 20 installed but whenever i try to run any program requiring java runtime it fails saying it cant recognize files above 55.0 ( tried with flutter, minecraft and few more). \r\n[Screenshot of the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wyve4.png\r\nThere is also only a single path to java in my environment variables and i can confirm its version to be 20 by running java -version in cmd. As far as i know jre comes within jdk or do i have to install both seperately? Someone pls help.\r\n\r\nThese are my results from cmd:\r\n\r\nC:\\Users\\yvviv&gt;flutter doctor --android-licenses\r\nError: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli\r\n        java.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\nAndroid sdkmanager tool was found, but failed to run\r\n(C:\\Users\\yvviv\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): &quot;exited code 1&quot;.\r\nTry re-installing or updating your Android SDK,\r\nvisit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions.\r\n\r\nC:\\Users\\yvviv&gt;java -version\r\njava version &quot;20.0.2&quot; 2023-07-18\r\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\r\n\r\nAlso JAVA_HOME is set","title":"Having only JDK 20 installed but still i get class file version error saying it cant recognise above 55.0","body":"<p>Well my pc has only JDK 20 installed but whenever i try to run any program requiring java runtime it fails saying it cant recognize files above 55.0 ( tried with flutter, minecraft and few more).\n<a href=\"https://i.stack.imgur.com/wyve4.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a></p>\n<p>There is also only a single path to java in my environment variables and i can confirm its version to be 20 by running java -version in cmd. As far as i know jre comes within jdk or do i have to install both seperately? Someone pls help.</p>\n<p>These are my results from cmd:</p>\n<p>C:\\Users\\yvviv&gt;flutter doctor --android-licenses\nError: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli\njava.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\nAndroid sdkmanager tool was found, but failed to run\n(C:\\Users\\yvviv\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): &quot;exited code 1&quot;.\nTry re-installing or updating your Android SDK,\nvisit <a href=\"https://flutter.dev/docs/get-started/install/windows#android-setup\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/get-started/install/windows#android-setup</a> for detailed instructions.</p>\n<p>C:\\Users\\yvviv&gt;java -version\njava version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)</p>\n<p>Also JAVA_HOME is set</p>\n"},{"tags":["java","java-time","offsetdatetime"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692638521,"post_id":76947462,"comment_id":135648020,"body_markdown":"[Convert string to OffsetDateTime in Java](https://stackoverflow.com/questions/44297939/convert-string-to-offsetdatetime-in-java)","body":"<a href=\"https://stackoverflow.com/questions/44297939/convert-string-to-offsetdatetime-in-java\">Convert string to OffsetDateTime in Java</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692638586,"post_id":76947462,"comment_id":135648034,"body_markdown":"[String to OffsetDateTime parse in java](https://stackoverflow.com/questions/54734921/string-to-offsetdatetime-parse-in-java)","body":"<a href=\"https://stackoverflow.com/questions/54734921/string-to-offsetdatetime-parse-in-java\">String to OffsetDateTime parse in java</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692638672,"post_id":76947462,"comment_id":135648058,"body_markdown":"[OffsetDateTime parsing](https://stackoverflow.com/questions/38048032/offsetdatetime-parsing)","body":"<a href=\"https://stackoverflow.com/questions/38048032/offsetdatetime-parsing\">OffsetDateTime parsing</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1692639388,"post_id":76947462,"comment_id":135648161,"body_markdown":"I checked the post but I see multiple solutions. Can you paste here the correct one, please?","body":"I checked the post but I see multiple solutions. Can you paste here the correct one, please?"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692638976,"answer_count":0,"score":0,"last_activity_date":1692639018,"creation_date":1692638403,"question_id":76947462,"body_markdown":"I have the following code: \r\n\r\n       public class Objc{\r\n        \r\n        OffsetDateTime purchaseDate = new OffsetDateTime();\r\n        \r\n        // getter/setter\r\n        }\r\n        ....\r\n        String buyDate = ......;\r\n        \r\n        objc.setPurchaseDate (new OffsetDateTime(buyDate));\r\n\r\n\r\nHow to convert String to `OffsetDateTime` object properly?","title":"Convert String value to OffsetDateTime","body":"<p>I have the following code:</p>\n<pre><code>   public class Objc{\n    \n    OffsetDateTime purchaseDate = new OffsetDateTime();\n    \n    // getter/setter\n    }\n    ....\n    String buyDate = ......;\n    \n    objc.setPurchaseDate (new OffsetDateTime(buyDate));\n</code></pre>\n<p>How to convert String to <code>OffsetDateTime</code> object properly?</p>\n"},{"tags":["java","postgresql","registration","credentials","user-registration"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":3,"creation_date":1692648637,"post_id":76947487,"comment_id":135649812,"body_markdown":"What is SQL_ADD_USER?","body":"What is SQL_ADD_USER?"},{"owner":{"account_id":23948750,"reputation":1,"user_id":17940710,"display_name":"Andrew Metlitskyi"},"score":0,"creation_date":1692732511,"post_id":76947487,"comment_id":135664105,"body_markdown":"Oh, sorry, I forgot to include it in the code, it is pretty much the query that I want to execute in my DB. It is written the following way:                                                                `final String SQL_SELECT_USER = &quot;SELECT * FROM users WHERE user_id = ? &quot;;`","body":"Oh, sorry, I forgot to include it in the code, it is pretty much the query that I want to execute in my DB. It is written the following way:                                                                <code>final String SQL_SELECT_USER = &quot;SELECT * FROM users WHERE user_id = ? &quot;;</code>"}],"owner":{"account_id":23948750,"reputation":1,"user_id":17940710,"display_name":"Andrew Metlitskyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692638816,"creation_date":1692638617,"question_id":76947487,"body_markdown":"I created **register.jsp** file and a corresponding java **RegisterCommand** class. Inside it I tried to organise the logic, however when users types their credentials, they don&#39;t show up in my Postgres DB\r\n```\r\nString userEmail = req.getParameter(&quot;userEmail&quot;);\r\nString userPassword = req.getParameter(&quot;userPassword&quot;);\r\n\r\ntry {\r\n    Class.forName(&quot;org.postgresql.Driver&quot;);// Load Drivers for DB\r\n} catch (ClassNotFoundException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n\r\ntry (Connection connection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;, &quot;postgres&quot;, &quot;postgres&quot;)) {\r\n    PreparedStatement statement = connection.prepareStatement(SQL_ADD_USER);\r\n    statement.setString(1, userEmail);\r\n    statement.setString(2, userPassword);\r\n    statement.executeUpdate();\r\n\r\n} catch (SQLException exception) {\r\n    throw new RuntimeException(&quot;add user failed&quot;, exception);\r\n}\r\n\r\nCommandUtil.goToPage(req, resp, &quot;/WEB-INF/view/register.jsp&quot;);\r\n```","title":"When user registers, his credentials don&#39;t show up in DB","body":"<p>I created <strong>register.jsp</strong> file and a corresponding java <strong>RegisterCommand</strong> class. Inside it I tried to organise the logic, however when users types their credentials, they don't show up in my Postgres DB</p>\n<pre><code>String userEmail = req.getParameter(&quot;userEmail&quot;);\nString userPassword = req.getParameter(&quot;userPassword&quot;);\n\ntry {\n    Class.forName(&quot;org.postgresql.Driver&quot;);// Load Drivers for DB\n} catch (ClassNotFoundException e) {\n    e.printStackTrace();\n}\n\n\ntry (Connection connection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;, &quot;postgres&quot;, &quot;postgres&quot;)) {\n    PreparedStatement statement = connection.prepareStatement(SQL_ADD_USER);\n    statement.setString(1, userEmail);\n    statement.setString(2, userPassword);\n    statement.executeUpdate();\n\n} catch (SQLException exception) {\n    throw new RuntimeException(&quot;add user failed&quot;, exception);\n}\n\nCommandUtil.goToPage(req, resp, &quot;/WEB-INF/view/register.jsp&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","integration-testing","noclassdeffounderror"],"owner":{"account_id":284386,"reputation":31,"user_id":5033779,"display_name":"Coffee Bean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692638778,"creation_date":1692638778,"question_id":76947502,"body_markdown":"The following service test fails as it cannot find the DAO using Springboot3\r\n\r\nWhen the test is executed using MVN install it fails but succeeds with executing using VSCode/Run test via IDE.\r\n\r\nSince VSCode executes successfully I believe most components are in place however, since MVN fails perhaps I&#39;ve not configured MVN but not sure what to review\r\n\r\nThis is a multimodule structure with a parent POM containing all the common dependencies whilst the child POM contains the specific dependencies. The following testing references a DAO in another maven dependency jar as shown below. \r\n\r\n**Service Pom/Dependency:**\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;au.com.cs.inventory&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;inv-data&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n**Service Test Class:**\r\n\r\n        import static org.hamcrest.MatcherAssert.assertThat;\r\n        import static org.hamcrest.Matchers.equalTo;\r\n        import static org.junit.jupiter.api.Assertions.assertArrayEquals;\r\n        import static org.mockito.ArgumentMatchers.any;\r\n        import static org.mockito.ArgumentMatchers.anyLong;\r\n        import static org.mockito.Mockito.when;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import java.util.Optional;\r\n        \r\n        import org.junit.jupiter.api.Test;\r\n        import org.junit.jupiter.api.extension.ExtendWith;\r\n        import org.mockito.InjectMocks;\r\n        import org.mockito.Mock;\r\n        import org.mockito.junit.jupiter.MockitoExtension;\r\n        \r\n        import au.com.cs.inventory.data.dao.InventoryDao;\r\n        import au.com.cs.inventory.data.model.ContainerDefinitionModel;\r\n        \r\n        @ExtendWith(MockitoExtension.class)\r\n        public class InventoryServiceTest {\r\n            @InjectMocks\r\n            InventoryService inventoryService;\r\n        \r\n            @Mock\r\n            private InventoryDao repository;\r\n        \r\n            @Test\r\n            void get_containerDefintion() {\r\n        \r\n                final Optional&lt;ContainerDefinitionModel&gt; existingCdf = Optional\r\n                        .of(ContainerDefinitionModel.builder().build());\r\n                when(repository.findById(anyLong())).thenReturn(existingCdf);\r\n        \r\n                ContainerDefinitionModel foundCdf = inventoryService.getContainerDefinition(Long.valueOf(1));\r\n        \r\n                assertThat(foundCdf, equalTo(existingCdf.get()));\r\n            }\r\n    \r\n    ...\r\n    ...\r\n    }\r\n\r\n**Error:**\r\n\r\n    java.lang.NoClassDefFoundError: au/com/cs/inventory/data/dao/InventoryDao\r\n            at java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n            at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3397)\r\n            at java.base/java.lang.Class.getDeclaredFields(Class.java:2468)\r\n            at org.junit.platform.commons.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:1473)\r\n            at org.junit.platform.commons.util.ReflectionUtils.findAllFieldsInHierarchy(ReflectionUtils.java:1202)\r\n            at org.junit.platform.commons.util.ReflectionUtils.findFields(ReflectionUtils.java:1190)\r\n    \r\n    ...\r\n    \r\n    \r\n    Caused by: java.lang.ClassNotFoundException: au.com.cs.inventory.data.dao.InventoryDao\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n            ... 43 more\r\n\r\n\r\n**DAO Class:**\r\n\r\n    package au.com.cs.inventory.data.dao;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import au.com.cs.inventory.data.model.ContainerDefinitionModel;\r\n    \r\n    @Repository\r\n    public interface InventoryDao extends JpaRepository&lt;ContainerDefinitionModel, Long&gt; {\r\n    \r\n    }\r\n\r\n\r\n**ContainerDefintionModel(Entity):**\r\n\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    \r\n    \r\n    @Builder\r\n    @Entity\r\n    public class ContainerDefinitionModel {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        private String definitionName;\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n\r\n        public String getDefinitionName() {\r\n            return definitionName;\r\n        }\r\n    \r\n\r\n        public void setDefinitionName(String definitionName) {\r\n            this.definitionName = definitionName;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI&#39;m out of ideas so any idea would be greatly appreciated.\r\n\r\nTIA\r\n","title":"Service test succeeds in VSCode IDE but fails using Mvn install with classnotfoundException on DAO","body":"<p>The following service test fails as it cannot find the DAO using Springboot3</p>\n<p>When the test is executed using MVN install it fails but succeeds with executing using VSCode/Run test via IDE.</p>\n<p>Since VSCode executes successfully I believe most components are in place however, since MVN fails perhaps I've not configured MVN but not sure what to review</p>\n<p>This is a multimodule structure with a parent POM containing all the common dependencies whilst the child POM contains the specific dependencies. The following testing references a DAO in another maven dependency jar as shown below.</p>\n<p><strong>Service Pom/Dependency:</strong></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;au.com.cs.inventory&lt;/groupId&gt;\n        &lt;artifactId&gt;inv-data&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Service Test Class:</strong></p>\n<pre><code>    import static org.hamcrest.MatcherAssert.assertThat;\n    import static org.hamcrest.Matchers.equalTo;\n    import static org.junit.jupiter.api.Assertions.assertArrayEquals;\n    import static org.mockito.ArgumentMatchers.any;\n    import static org.mockito.ArgumentMatchers.anyLong;\n    import static org.mockito.Mockito.when;\n    \n    import java.util.ArrayList;\n    import java.util.List;\n    import java.util.Optional;\n    \n    import org.junit.jupiter.api.Test;\n    import org.junit.jupiter.api.extension.ExtendWith;\n    import org.mockito.InjectMocks;\n    import org.mockito.Mock;\n    import org.mockito.junit.jupiter.MockitoExtension;\n    \n    import au.com.cs.inventory.data.dao.InventoryDao;\n    import au.com.cs.inventory.data.model.ContainerDefinitionModel;\n    \n    @ExtendWith(MockitoExtension.class)\n    public class InventoryServiceTest {\n        @InjectMocks\n        InventoryService inventoryService;\n    \n        @Mock\n        private InventoryDao repository;\n    \n        @Test\n        void get_containerDefintion() {\n    \n            final Optional&lt;ContainerDefinitionModel&gt; existingCdf = Optional\n                    .of(ContainerDefinitionModel.builder().build());\n            when(repository.findById(anyLong())).thenReturn(existingCdf);\n    \n            ContainerDefinitionModel foundCdf = inventoryService.getContainerDefinition(Long.valueOf(1));\n    \n            assertThat(foundCdf, equalTo(existingCdf.get()));\n        }\n\n...\n...\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>java.lang.NoClassDefFoundError: au/com/cs/inventory/data/dao/InventoryDao\n        at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3397)\n        at java.base/java.lang.Class.getDeclaredFields(Class.java:2468)\n        at org.junit.platform.commons.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:1473)\n        at org.junit.platform.commons.util.ReflectionUtils.findAllFieldsInHierarchy(ReflectionUtils.java:1202)\n        at org.junit.platform.commons.util.ReflectionUtils.findFields(ReflectionUtils.java:1190)\n\n...\n\n\nCaused by: java.lang.ClassNotFoundException: au.com.cs.inventory.data.dao.InventoryDao\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 43 more\n</code></pre>\n<p><strong>DAO Class:</strong></p>\n<pre><code>package au.com.cs.inventory.data.dao;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport au.com.cs.inventory.data.model.ContainerDefinitionModel;\n\n@Repository\npublic interface InventoryDao extends JpaRepository&lt;ContainerDefinitionModel, Long&gt; {\n\n}\n</code></pre>\n<p><strong>ContainerDefintionModel(Entity):</strong></p>\n<pre><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\n\n\n@Builder\n@Entity\npublic class ContainerDefinitionModel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String definitionName;\n\n    public Long getId() {\n        return id;\n    }\n\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n\n    public String getDefinitionName() {\n        return definitionName;\n    }\n\n\n    public void setDefinitionName(String definitionName) {\n        this.definitionName = definitionName;\n    }\n\n}\n</code></pre>\n<p>I'm out of ideas so any idea would be greatly appreciated.</p>\n<p>TIA</p>\n"},{"tags":["java","sql","ignite"],"owner":{"account_id":6184136,"reputation":53,"user_id":4818721,"accept_rate":50,"display_name":"erathina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692638520,"creation_date":1692638520,"question_id":76947478,"body_markdown":"I am trying to map the result returned from a SQL Query that joins two tables in Apache Ignite into a Java POJO. As an example, let&#39;s say I have a table called `Person` with the below schema.\r\n\r\nTable **Person**\r\n\r\nColumns:\r\n- id\r\n- userName\r\n- fullName\r\n\r\nTable **Contact**\r\n- id\r\n- phoneNumber\r\n- streetAddress\r\n\r\nI am using the [SqlFieldsQuery](https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/cache/query/SqlFieldsQuery.html) to query the cache like below\r\n\r\n```\r\nString sqlQuery = &quot;select a.id, a.userName, a.fullName, b.phoneNumber, b.streetAddress from person a join contact b&quot;;\r\n\r\nList&lt;Map&lt;String, String&gt;&gt; finalResults = new ArrayList&lt;&gt;();\r\nSqlFieldsQuery fieldsQuery = new SqlFieldsQuery(sqlQuery ).setTimeout(DEFAULT_QUERY_TIMEOUT, TimeUnit.SECONDS);\r\n\r\ntry (FieldsQueryCursor&lt;List&lt;?&gt;&gt; cursor = getCache().query(fieldsQuery)) {\r\n  for (List&lt;?&gt; row : cursor) {\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; row.size(); i++) {\r\n      result.put(cursor.getFieldName(i), Objects.isNull(row.get(i)) ? &quot;(null)&quot; : StringEscapeUtils.unescapeHtml4(row.get(i).toString()));\r\n    }\r\n  finalResults.add(result);\r\n  }\r\n}\r\n```\r\n\r\nNow I have a `List` of `Map` with each row being an entry in the `List`, and the keys in the`Map` being the column names and value being the column value.\r\n\r\nI have a class called `personAggregate` that combines the columns from the two tables and need to map the results back to this class.\r\n\r\nI want to avoid using mapper methods because this is a simple example but my equivalent `PersonAggregate` class has lot of fields.\r\n\r\nI explored the option of using Jackson to create a POJO from `Map` but the `getFieldName` method of cursor always returns the column names capitalized.\r\n\r\nWondering if there is something inbuilt in Ignite cache query methods that I can use!\r\n\r\nThanks for the help in advance!","title":"Mapping Java Objects from a SQL Query that joins two tables and uses Apache Ignite SqlFieldsQuery","body":"<p>I am trying to map the result returned from a SQL Query that joins two tables in Apache Ignite into a Java POJO. As an example, let's say I have a table called <code>Person</code> with the below schema.</p>\n<p>Table <strong>Person</strong></p>\n<p>Columns:</p>\n<ul>\n<li>id</li>\n<li>userName</li>\n<li>fullName</li>\n</ul>\n<p>Table <strong>Contact</strong></p>\n<ul>\n<li>id</li>\n<li>phoneNumber</li>\n<li>streetAddress</li>\n</ul>\n<p>I am using the <a href=\"https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/cache/query/SqlFieldsQuery.html\" rel=\"nofollow noreferrer\">SqlFieldsQuery</a> to query the cache like below</p>\n<pre><code>String sqlQuery = &quot;select a.id, a.userName, a.fullName, b.phoneNumber, b.streetAddress from person a join contact b&quot;;\n\nList&lt;Map&lt;String, String&gt;&gt; finalResults = new ArrayList&lt;&gt;();\nSqlFieldsQuery fieldsQuery = new SqlFieldsQuery(sqlQuery ).setTimeout(DEFAULT_QUERY_TIMEOUT, TimeUnit.SECONDS);\n\ntry (FieldsQueryCursor&lt;List&lt;?&gt;&gt; cursor = getCache().query(fieldsQuery)) {\n  for (List&lt;?&gt; row : cursor) {\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; row.size(); i++) {\n      result.put(cursor.getFieldName(i), Objects.isNull(row.get(i)) ? &quot;(null)&quot; : StringEscapeUtils.unescapeHtml4(row.get(i).toString()));\n    }\n  finalResults.add(result);\n  }\n}\n</code></pre>\n<p>Now I have a <code>List</code> of <code>Map</code> with each row being an entry in the <code>List</code>, and the keys in the<code>Map</code> being the column names and value being the column value.</p>\n<p>I have a class called <code>personAggregate</code> that combines the columns from the two tables and need to map the results back to this class.</p>\n<p>I want to avoid using mapper methods because this is a simple example but my equivalent <code>PersonAggregate</code> class has lot of fields.</p>\n<p>I explored the option of using Jackson to create a POJO from <code>Map</code> but the <code>getFieldName</code> method of cursor always returns the column names capitalized.</p>\n<p>Wondering if there is something inbuilt in Ignite cache query methods that I can use!</p>\n<p>Thanks for the help in advance!</p>\n"},{"tags":["java","android-studio","intellij-idea","ide","text-editor"],"comments":[{"owner":{"account_id":7335,"reputation":334951,"user_id":12711,"accept_rate":75,"display_name":"Michael Burr"},"score":0,"creation_date":1250023322,"post_id":1262737,"comment_id":1090107,"body_markdown":"This is something that I need to do so infrequently that even if there was a special mode in my editor, I&#39;d never remember how to use it.  I&#39;d just use the clipboard if it was only for a few lines (like above).  If it&#39;s for hundreds of lines, that&#39;s when I&#39;d move over to the find/replace gadget.","body":"This is something that I need to do so infrequently that even if there was a special mode in my editor, I&#39;d never remember how to use it.  I&#39;d just use the clipboard if it was only for a few lines (like above).  If it&#39;s for hundreds of lines, that&#39;s when I&#39;d move over to the find/replace gadget."},{"owner":{"account_id":16046,"reputation":13138,"user_id":34553,"accept_rate":100,"display_name":"Daniel Alexiuc"},"score":0,"creation_date":1459310252,"post_id":1262737,"comment_id":60223083,"body_markdown":"In column mode, create 5 cursors on the very left. Then use Ctrl-RightArrow to get over to the right. Multiple cursors, macros and search-replace are all awesome ways to get this done! I can&#39;t decide which one I like best.","body":"In column mode, create 5 cursors on the very left. Then use Ctrl-RightArrow to get over to the right. Multiple cursors, macros and search-replace are all awesome ways to get this done! I can&#39;t decide which one I like best."},{"owner":{"account_id":11692919,"reputation":584,"user_id":8560556,"display_name":"Soham Mehta"},"score":1,"creation_date":1570188676,"post_id":1262737,"comment_id":102844155,"body_markdown":"Its Option + Shift + Click for Macbook.\nAll Intellij Shortcuts: https://docs.google.com/document/d/1KagEr4hDmTugMJJLsYUgc122zXEnbj4A2vHoe8PtKpo/edit?usp=sharing","body":"Its Option + Shift + Click for Macbook. All Intellij Shortcuts: <a href=\"https://docs.google.com/document/d/1KagEr4hDmTugMJJLsYUgc122zXEnbj4A2vHoe8PtKpo/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":2283527,"reputation":22096,"user_id":2008111,"accept_rate":94,"display_name":"caramba"},"score":0,"creation_date":1617873056,"post_id":1262737,"comment_id":118431579,"body_markdown":"Maybe this answer also helps: https://stackoverflow.com/a/33911171/2008111","body":"Maybe this answer also helps: <a href=\"https://stackoverflow.com/a/33911171/2008111\">stackoverflow.com/a/33911171/2008111</a>"},{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692645063,"post_id":1262737,"comment_id":135649158,"body_markdown":"official docs: https://www.jetbrains.com/help/idea/multicursor.html","body":"official docs: <a href=\"https://www.jetbrains.com/help/idea/multicursor.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/multicursor.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":14448,"reputation":5643,"user_id":29734,"accept_rate":77,"display_name":"Chris Kessel"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1250026848,"creation_date":1250026848,"answer_id":1263104,"question_id":1262737,"body_markdown":"I just use the macros for this sort of thing. I start recording the macro, do it once, then play back the macro on each line I want to modify. You&#39;d be amazed at how fancy you can get with the macro record/playback feature.","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>I just use the macros for this sort of thing. I start recording the macro, do it once, then play back the macro on each line I want to modify. You'd be amazed at how fancy you can get with the macro record/playback feature.</p>\n"},{"tags":[],"owner":{"account_id":38278,"reputation":9130,"user_id":109774,"accept_rate":78,"display_name":"Tom van Zummeren"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1252681861,"creation_date":1252681861,"answer_id":1411525,"question_id":1262737,"body_markdown":"In this case you can also just select the piece of code in which you want to do this and perform a replace on it. Replace:&lt;br&gt;\r\n&lt;br&gt;\r\n&quot;;&lt;br&gt;\r\n&lt;br&gt;\r\nwith:&lt;br&gt;\r\n&lt;br&gt;\r\n&quot; + &quot;foo&quot;;&lt;br&gt;\r\n&lt;br&gt;\r\nSo in case you didn&#39;t know: If you have text selected while you perform a replace (Ctrl+R or Cmd+R) it will only apply to the selected piece of text.","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>In this case you can also just select the piece of code in which you want to do this and perform a replace on it. Replace:<br>\n<br>\n\";<br>\n<br>\nwith:<br>\n<br>\n\" + \"foo\";<br>\n<br>\nSo in case you didn't know: If you have text selected while you perform a replace (Ctrl+R or Cmd+R) it will only apply to the selected piece of text.</p>\n"},{"tags":[],"owner":{"account_id":1105395,"reputation":2153,"user_id":1096901,"accept_rate":70,"display_name":"Srneczek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1429605767,"creation_date":1370861653,"answer_id":17022216,"question_id":1262737,"body_markdown":"What I usually use (NetBeans, but I believe it is simple to use in any IDE) is `find&amp;replace`.\r\n \r\nYou just find `;\\n` and replace it with `+ $foo;\\n` then you don&#39;t apply to ALL lines but you place cursor on the first line and you just hit &quot;replace&quot; button (depends on your IDE I suppose) 7 times to change 7 lines in no time. Easy and simple and it should be done with the most basic and the most advanced IDE you can find.\r\n\r\nEDIT:\r\nIn IntelliJ (don&#39;t know if it works in other IDEs too) you can use your regexp search&amp;replace to selection only so you can actually use &quot;replace all&quot;","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>What I usually use (NetBeans, but I believe it is simple to use in any IDE) is <code>find&amp;replace</code>.</p>\n\n<p>You just find <code>;\\n</code> and replace it with <code>+ $foo;\\n</code> then you don't apply to ALL lines but you place cursor on the first line and you just hit \"replace\" button (depends on your IDE I suppose) 7 times to change 7 lines in no time. Easy and simple and it should be done with the most basic and the most advanced IDE you can find.</p>\n\n<p>EDIT:\nIn IntelliJ (don't know if it works in other IDEs too) you can use your regexp search&amp;replace to selection only so you can actually use \"replace all\"</p>\n"},{"tags":[],"owner":{"account_id":2557941,"reputation":3780,"user_id":2219550,"display_name":"shobull"},"down_vote_count":2,"up_vote_count":312,"is_accepted":true,"score":310,"last_activity_date":1637324853,"creation_date":1395301482,"answer_id":22526528,"question_id":1262737,"body_markdown":"Since Idea IntelliJ IDEA 13.1 there is a possibility to edit multiple lines. \r\n\r\nWindows\r\n-------\r\n\r\n&lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + Mouse click\r\n\r\nmacOS\r\n-----\r\n\r\n&lt;kbd&gt;Option&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + Mouse click\r\n\r\n for selection. More about this new improvement in the IntelliJ blog post [here][1]. Very useful feature.\r\n\r\n\r\n  [1]: http://blog.jetbrains.com/idea/2014/03/intellij-idea-13-1-rc-introduces-sublime-text-style-multiple-selections/","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>Since Idea IntelliJ IDEA 13.1 there is a possibility to edit multiple lines.</p>\n<h2>Windows</h2>\n<p><kbd>Alt</kbd> + <kbd>Shift</kbd> + Mouse click</p>\n<h2>macOS</h2>\n<p><kbd>Option</kbd> + <kbd>Shift</kbd> + Mouse click</p>\n<p>for selection. More about this new improvement in the IntelliJ blog post <a href=\"http://blog.jetbrains.com/idea/2014/03/intellij-idea-13-1-rc-introduces-sublime-text-style-multiple-selections/\" rel=\"noreferrer\">here</a>. Very useful feature.</p>\n"},{"tags":[],"owner":{"account_id":1207568,"reputation":2465,"user_id":1176818,"display_name":"Alexander Bogushov"},"down_vote_count":0,"up_vote_count":209,"is_accepted":false,"score":209,"last_activity_date":1514975219,"creation_date":1420813515,"answer_id":27862706,"question_id":1262737,"body_markdown":"I use *Column Selection Mode* (&lt;kbd&gt;Cmd&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;8&lt;/kbd&gt; on Mac) which allows to create multiple cursors via &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Up&lt;/kbd&gt; or &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Down&lt;/kbd&gt; then edit all the lines together. \r\n\r\nStarting from IntelliJ IDEA 14 there is also *Clone Caret Above / Below*:\r\n\r\n* Windows: &lt;kbd&gt;Ctrl&lt;/kbd&gt;, &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Up&lt;/kbd&gt;/&lt;kbd&gt;Down&lt;/kbd&gt;\r\n* MacOS: &lt;kbd&gt;Option&lt;/kbd&gt;,&lt;kbd&gt;Option&lt;/kbd&gt; + &lt;kbd&gt;Up&lt;/kbd&gt;/&lt;kbd&gt;Down&lt;/kbd&gt;\r\n\r\n(hold the second press of the modifier key, then press the arrow key)","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>I use <em>Column Selection Mode</em> (<kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>8</kbd> on Mac) which allows to create multiple cursors via <kbd>Shift</kbd>+<kbd>Up</kbd> or <kbd>Shift</kbd>+<kbd>Down</kbd> then edit all the lines together. </p>\n\n<p>Starting from IntelliJ IDEA 14 there is also <em>Clone Caret Above / Below</em>:</p>\n\n<ul>\n<li>Windows: <kbd>Ctrl</kbd>, <kbd>Ctrl</kbd>+<kbd>Up</kbd>/<kbd>Down</kbd></li>\n<li>MacOS: <kbd>Option</kbd>,<kbd>Option</kbd> + <kbd>Up</kbd>/<kbd>Down</kbd></li>\n</ul>\n\n<p>(hold the second press of the modifier key, then press the arrow key)</p>\n"},{"tags":[],"owner":{"account_id":1902401,"reputation":4810,"user_id":1717979,"accept_rate":83,"display_name":"Rafael Eyng"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1449867101,"creation_date":1449867101,"answer_id":34232359,"question_id":1262737,"body_markdown":"It took me a while to find out, but on a Mac you can double-press &lt;kbd&gt;Option&lt;/kbd&gt; (press it once, release, press it again, keep it pressed) and use &lt;kbd&gt;Up&lt;/kbd&gt;/&lt;kbd&gt;Down&lt;/kbd&gt; keys to create/remove carets as you wish.\r\n\r\nYou can also hold &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Option&lt;/kbd&gt; and click to create/remove carets at specific points.","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>It took me a while to find out, but on a Mac you can double-press <kbd>Option</kbd> (press it once, release, press it again, keep it pressed) and use <kbd>Up</kbd>/<kbd>Down</kbd> keys to create/remove carets as you wish.</p>\n\n<p>You can also hold <kbd>Shift</kbd>+<kbd>Option</kbd> and click to create/remove carets at specific points.</p>\n"},{"tags":[],"owner":{"account_id":6099803,"reputation":9047,"user_id":4759200,"accept_rate":75,"display_name":"DAle"},"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1548661383,"creation_date":1497605573,"answer_id":44585791,"question_id":1262737,"body_markdown":"Another keyboard-only approach. It&#39;s possible (since 13.1 version) to use &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;J&lt;/kbd&gt; / &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;J&lt;/kbd&gt; (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;G&lt;/kbd&gt; for OS X) shortcuts for creating multiple carets. &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;J&lt;/kbd&gt; selects the next occurrence of the currently selected text and adds another caret. \r\n\r\n1. Select the first semicolon\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Then press &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;J&lt;/kbd&gt; four times \r\n\r\n[![enter image description here][2]][2]\r\n\r\n3. Edit what you want to\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4. Press &lt;kbd&gt;Esc&lt;/kbd&gt; to return to the first line.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NkekB.png\r\n  [2]: https://i.stack.imgur.com/2DGWu.png\r\n  [3]: https://i.stack.imgur.com/w3Rge.png\r\n  [4]: https://i.stack.imgur.com/JyACw.png","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>Another keyboard-only approach. It's possible (since 13.1 version) to use <kbd>Alt</kbd>+<kbd>J</kbd> / <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>J</kbd> (<kbd>Ctrl</kbd>+<kbd>G</kbd> for OS X) shortcuts for creating multiple carets. <kbd>Alt</kbd>+<kbd>J</kbd> selects the next occurrence of the currently selected text and adds another caret. </p>\n\n<ol>\n<li>Select the first semicolon</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/NkekB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NkekB.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Then press <kbd>Alt</kbd>+<kbd>J</kbd> four times </li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/2DGWu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2DGWu.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li>Edit what you want to</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/w3Rge.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/w3Rge.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>Press <kbd>Esc</kbd> to return to the first line.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/JyACw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JyACw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1504385317,"creation_date":1504385317,"answer_id":46018067,"question_id":1262737,"body_markdown":"You could also do a vertical code block selection by *clicking **mouse wheel** and **dragging***:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t1CJg.png","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>You could also do a vertical code block selection by <em>clicking <strong>mouse wheel</strong> and <strong>dragging</em></strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/t1CJg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/t1CJg.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1553804797,"creation_date":1505669193,"answer_id":46266889,"question_id":1262737,"body_markdown":"### Place caret at end ###\n**Windows:** &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;CTRL&lt;/kbd&gt;(Hold) + &lt;kbd&gt;↑ / ↓&lt;/kbd&gt;\n\n**Mac:** &lt;kbd&gt;option&lt;/kbd&gt; + &lt;kbd&gt;option&lt;/kbd&gt;(Hold) + &lt;kbd&gt;↑ / ↓&lt;/kbd&gt;.\n\nTo place caret at the end of rows: move caret to top row, clone down to bottom, and click &lt;kbd&gt;END&lt;/kbd&gt;.\n\n\n### Change Multi-caret Hotkey ###\nTo add a custom Keymap, &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;, type `keymap` and click on the one with `Settings` as subtext. Search for `Clone Caret Above` and `Clone Caret Below`.\n\nI mapped mine to &lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;↑ / ↓&lt;/kbd&gt; on Windows and &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;↑ / ↓&lt;/kbd&gt; on Mac.\n\n### Bonus ###\nTry holding combinations of &lt;kbd&gt;CTRL&lt;/kbd&gt;, &lt;kbd&gt;SHIFT&lt;/kbd&gt;, and arrows for improved selection power.","title":"IntelliJ IDEA way of editing multiple lines","body":"<h3>Place caret at end</h3>\n<p><strong>Windows:</strong> <kbd>CTRL</kbd> + <kbd>CTRL</kbd>(Hold) + <kbd>↑ / ↓</kbd></p>\n<p><strong>Mac:</strong> <kbd>option</kbd> + <kbd>option</kbd>(Hold) + <kbd>↑ / ↓</kbd>.</p>\n<p>To place caret at the end of rows: move caret to top row, clone down to bottom, and click <kbd>END</kbd>.</p>\n<h3>Change Multi-caret Hotkey</h3>\n<p>To add a custom Keymap, <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>A</kbd>, type <code>keymap</code> and click on the one with <code>Settings</code> as subtext. Search for <code>Clone Caret Above</code> and <code>Clone Caret Below</code>.</p>\n<p>I mapped mine to <kbd>ALT</kbd>+<kbd>SHIFT</kbd>+<kbd>↑ / ↓</kbd> on Windows and <kbd>⌘</kbd>+<kbd>↑ / ↓</kbd> on Mac.</p>\n<h3>Bonus</h3>\n<p>Try holding combinations of <kbd>CTRL</kbd>, <kbd>SHIFT</kbd>, and arrows for improved selection power.</p>\n"},{"tags":[],"owner":{"account_id":10316289,"reputation":1,"user_id":7610521,"display_name":"K-Marouane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530801357,"creation_date":1530801357,"answer_id":51194037,"question_id":1262737,"body_markdown":"For mac users it&#39;s : `ALT + SHIFT + Click`","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>For mac users it's : <code>ALT + SHIFT + Click</code></p>\n"},{"tags":[],"owner":{"account_id":1187025,"reputation":5573,"user_id":1965509,"accept_rate":100,"display_name":"Snehal Parmar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1534158946,"creation_date":1534158946,"answer_id":51821083,"question_id":1262737,"body_markdown":"**Select Next Occurrence:**\r\n\r\n          Alt+J on Windows, Ctrl-G on Mac OS X\r\n\r\n**Unselect Occurrence:**\r\n\r\n          Alt+Shift+J on Windows, Ctrl-Shift-G on Mac OS X\r\n\r\n**Select All Occurrences:**\r\n\r\n          Ctrl+Alt+Shift+J on Windows, Ctrl-Cmd-G on Mac OS X\r\n\r\n\r\nfor more reference: [link][1]\r\n\r\n\r\n  [1]: https://confluence.jetbrains.com/display/PhpStorm/PhpStorm+for+Users+of+Text+Editors#PhpStormforUsersofTextEditors-Multiplecaretsandselections/Sublime-styleMultipleColumns","title":"IntelliJ IDEA way of editing multiple lines","body":"<p><strong>Select Next Occurrence:</strong></p>\n\n<pre><code>      Alt+J on Windows, Ctrl-G on Mac OS X\n</code></pre>\n\n<p><strong>Unselect Occurrence:</strong></p>\n\n<pre><code>      Alt+Shift+J on Windows, Ctrl-Shift-G on Mac OS X\n</code></pre>\n\n<p><strong>Select All Occurrences:</strong></p>\n\n<pre><code>      Ctrl+Alt+Shift+J on Windows, Ctrl-Cmd-G on Mac OS X\n</code></pre>\n\n<p>for more reference: <a href=\"https://confluence.jetbrains.com/display/PhpStorm/PhpStorm+for+Users+of+Text+Editors#PhpStormforUsersofTextEditors-Multiplecaretsandselections/Sublime-styleMultipleColumns\" rel=\"noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":6951316,"reputation":723,"user_id":5333855,"accept_rate":83,"display_name":"metanerd"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548853413,"creation_date":1548853413,"answer_id":54441274,"question_id":1262737,"body_markdown":"ALT + CTRL + SHIFT + CLICK on linux","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>ALT + CTRL + SHIFT + CLICK on linux</p>\n"},{"tags":[],"owner":{"account_id":10683536,"reputation":1163,"user_id":7864778,"display_name":"Davijr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559588935,"creation_date":1559588935,"answer_id":56433234,"question_id":1262737,"body_markdown":"Hold **ALT** and use the mouse for **click and drag**","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>Hold <strong>ALT</strong> and use the mouse for <strong>click and drag</strong></p>\n"},{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1596006610,"creation_date":1566039316,"answer_id":57535607,"question_id":1262737,"body_markdown":"Column mode works just fine: first select all the lines in column mode, then press END: each cursor will jump to the end of respective line.\r\n\r\nOn Linux (**NO MOUSE NEEDED**):\r\n\r\n  1. `ALT` + `SHIFT` + `INSERT` to enter block-mode\r\n\r\n       [![entered column edit mode][1]][1]\r\n\r\n  2. `SHIFT + UP` or `SHIFT + DOWN` to select multiple lines\r\n\r\n       [![enter image description here][2]][2]\r\n\r\n  3. `END` to jump to the end of each line\r\n\r\n       [![enter image description here][3]][3]\r\n\r\n  4. now type `foo`, it will append it to each line:\r\n\r\n       [![enter image description here][4]][4]\r\n\r\n  5. Now deselect everything with `ESCAPE` and switch back to normal selection mode with `ALT + SHIFT + INSERT`.\r\n\r\n  [1]: https://i.stack.imgur.com/XIchO.png\r\n  [2]: https://i.stack.imgur.com/l30mY.png\r\n  [3]: https://i.stack.imgur.com/iJLiN.png\r\n  [4]: https://i.stack.imgur.com/2Mjaq.png","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>Column mode works just fine: first select all the lines in column mode, then press END: each cursor will jump to the end of respective line.</p>\n<p>On Linux (<strong>NO MOUSE NEEDED</strong>):</p>\n<ol>\n<li><p><code>ALT</code> + <code>SHIFT</code> + <code>INSERT</code> to enter block-mode</p>\n<p><a href=\"https://i.stack.imgur.com/XIchO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XIchO.png\" alt=\"entered column edit mode\" /></a></p>\n</li>\n<li><p><code>SHIFT + UP</code> or <code>SHIFT + DOWN</code> to select multiple lines</p>\n<p><a href=\"https://i.stack.imgur.com/l30mY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/l30mY.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p><code>END</code> to jump to the end of each line</p>\n<p><a href=\"https://i.stack.imgur.com/iJLiN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iJLiN.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>now type <code>foo</code>, it will append it to each line:</p>\n<p><a href=\"https://i.stack.imgur.com/2Mjaq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2Mjaq.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Now deselect everything with <code>ESCAPE</code> and switch back to normal selection mode with <code>ALT + SHIFT + INSERT</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11692919,"reputation":584,"user_id":8560556,"display_name":"Soham Mehta"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1570188614,"creation_date":1570188614,"answer_id":58235574,"question_id":1262737,"body_markdown":"It&#39;s `Option + Shift + Click` for Macbook.\r\n\r\nAll Important Intellij Shortcuts: https://docs.google.com/document/d/1KagEr4hDmTugMJJLsYUgc122zXEnbj4A2vHoe8PtKpo/edit?usp=sharing","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>It's <code>Option + Shift + Click</code> for Macbook.</p>\n\n<p>All Important Intellij Shortcuts: <a href=\"https://docs.google.com/document/d/1KagEr4hDmTugMJJLsYUgc122zXEnbj4A2vHoe8PtKpo/edit?usp=sharing\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/1KagEr4hDmTugMJJLsYUgc122zXEnbj4A2vHoe8PtKpo/edit?usp=sharing</a></p>\n"},{"tags":[],"owner":{"account_id":14094680,"reputation":781,"user_id":10181851,"display_name":"Code4Art"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571466281,"creation_date":1571466281,"answer_id":58461081,"question_id":1262737,"body_markdown":"For Mac:\r\n\r\n    Option + Shift + Click &amp; Drag","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>For Mac:</p>\n\n<pre><code>Option + Shift + Click &amp; Drag\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4012271,"reputation":1481,"user_id":3484477,"display_name":"Meysam Sadeghi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593094240,"creation_date":1593094240,"answer_id":62577374,"question_id":1262737,"body_markdown":"For newer versions use: &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;Insert&lt;/kbd&gt;\r\n\r\n","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>For newer versions use: <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>Insert</kbd></p>\n"},{"tags":[],"owner":{"account_id":4671236,"reputation":445,"user_id":3782992,"accept_rate":0,"display_name":"sanjaykumar81"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594017383,"creation_date":1594016856,"answer_id":62750372,"question_id":1262737,"body_markdown":"All the above answer are great, but if you want multiline edit at the end of lines then you have press &quot;End&quot; key while your multiline selection is active.\r\n\r\nFor Mac Sequence of command will be:\r\n   \r\n`shift` `option` `click` # select a set of lines\r\n\r\n`command` `right arrow`  # go to the end of lines\r\n\r\nThis will do multiline select at the end of the line and you can edit it as required","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>All the above answer are great, but if you want multiline edit at the end of lines then you have press &quot;End&quot; key while your multiline selection is active.</p>\n<p>For Mac Sequence of command will be:</p>\n<p><code>shift</code> <code>option</code> <code>click</code> # select a set of lines</p>\n<p><code>command</code> <code>right arrow</code>  # go to the end of lines</p>\n<p>This will do multiline select at the end of the line and you can edit it as required</p>\n"},{"tags":[],"owner":{"account_id":336484,"reputation":5007,"user_id":664157,"accept_rate":80,"display_name":"Yoann"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1598457968,"creation_date":1598457968,"answer_id":63601487,"question_id":1262737,"body_markdown":"Since **WebStorm 2020.2** you can use &lt;kbd&gt;Alt&lt;/kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;&lt;kbd&gt;G&lt;/kbd&gt; to add carets at the end of each selected line.\r\n\r\n&gt; The new action for working with multiple carets (Alt+Shift+G) lets you quickly place carets at the end of each selected line and removes the selection as soon as all carets are added.\r\n\r\n[What’s new in WebStorm 2020.2](https://www.jetbrains.com/webstorm/whatsnew/2020-2/)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MnU0L.gif","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>Since <strong>WebStorm 2020.2</strong> you can use <kbd>Alt</kbd><kbd>Shift</kbd><kbd>G</kbd> to add carets at the end of each selected line.</p>\n<blockquote>\n<p>The new action for working with multiple carets (Alt+Shift+G) lets you quickly place carets at the end of each selected line and removes the selection as soon as all carets are added.</p>\n</blockquote>\n<p><a href=\"https://www.jetbrains.com/webstorm/whatsnew/2020-2/\" rel=\"noreferrer\">What’s new in WebStorm 2020.2</a></p>\n<p><a href=\"https://i.stack.imgur.com/MnU0L.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MnU0L.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5369552,"reputation":403,"user_id":4278474,"display_name":"Dotista"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598532461,"creation_date":1598532461,"answer_id":63616329,"question_id":1262737,"body_markdown":"You can set multiple carets from the search and replace tool.\r\n\r\n 1. Ctrl + R to open Search &amp; Replace tool\r\n 2. Write the character or word identifying the beginning of each recurrence to edit\r\n 3. Clic on &#39;Select all occurence&#39; in the Search &amp; Replace tool, IntelliJ will put a caret for each occurence\r\n\r\nLive the magic","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>You can set multiple carets from the search and replace tool.</p>\n<ol>\n<li>Ctrl + R to open Search &amp; Replace tool</li>\n<li>Write the character or word identifying the beginning of each recurrence to edit</li>\n<li>Clic on 'Select all occurence' in the Search &amp; Replace tool, IntelliJ will put a caret for each occurence</li>\n</ol>\n<p>Live the magic</p>\n"},{"tags":[],"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1608151788,"creation_date":1608151788,"answer_id":65330918,"question_id":1262737,"body_markdown":"I hold (Shift + option + command) then click where ever I want the extra cursor to go. Using Webstorm and on a Mac","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>I hold (Shift + option + command) then click where ever I want the extra cursor to go. Using Webstorm and on a Mac</p>\n"}],"owner":{"account_id":42998,"reputation":4278,"user_id":125491,"accept_rate":77,"display_name":"hdx"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189269,"favorite_count":0,"down_vote_count":0,"up_vote_count":210,"accepted_answer_id":22526528,"answer_count":21,"score":210,"last_activity_date":1692638348,"creation_date":1250022595,"question_id":1262737,"body_markdown":"I&#39;ve seen this done in TextMate and I was wondering if there&#39;s a way to do it in IDEA.\r\n\r\nSay I have the following code:\r\n\r\n     leaseLabel = &quot;Lease&quot;;\r\n     leaseLabelPlural = &quot;Leases&quot;;\r\n     portfolioLabel = &quot;Portfolio&quot;;\r\n     portfolioLabelPlural = &quot;Portfolios&quot;;\r\n     buildingLabel = &quot;Building&quot;;\r\n\r\nWhat is the best way to append &#39;+ &quot;foo&quot;&#39; to every line? Column mode won&#39;t work since the lines are not correctly aligned on the right side... unless there is an easy way to right justify the text :P","title":"IntelliJ IDEA way of editing multiple lines","body":"<p>I've seen this done in TextMate and I was wondering if there's a way to do it in IDEA.</p>\n\n<p>Say I have the following code:</p>\n\n<pre><code> leaseLabel = \"Lease\";\n leaseLabelPlural = \"Leases\";\n portfolioLabel = \"Portfolio\";\n portfolioLabelPlural = \"Portfolios\";\n buildingLabel = \"Building\";\n</code></pre>\n\n<p>What is the best way to append '+ \"foo\"' to every line? Column mode won't work since the lines are not correctly aligned on the right side... unless there is an easy way to right justify the text :P</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":1,"creation_date":1455267835,"post_id":35358469,"comment_id":58423094,"body_markdown":"How should this behave when having three or more parameters? :)","body":"How should this behave when having three or more parameters? :)"},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":2,"creation_date":1455267918,"post_id":35358469,"comment_id":58423142,"body_markdown":"Say my cursor is on the second parameter: Shifting it up, it should become the first. Shifting it down, it should become the last.","body":"Say my cursor is on the second parameter: Shifting it up, it should become the first. Shifting it down, it should become the last."},{"owner":{"account_id":3870294,"reputation":524,"user_id":3205729,"accept_rate":94,"display_name":"Per Eriksson"},"score":2,"creation_date":1455267976,"post_id":35358469,"comment_id":58423176,"body_markdown":"One parameter moved up or down at a time! I&#39;d love to be able to do this featue!","body":"One parameter moved up or down at a time! I&#39;d love to be able to do this featue!"},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":1,"creation_date":1455268342,"post_id":35358469,"comment_id":58423368,"body_markdown":"`Ctrl+F6` and then `Alt+Up` or `Alt+Down` to move a parameter?","body":"<code>Ctrl+F6</code> and then <code>Alt+Up</code> or <code>Alt+Down</code> to move a parameter?"},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":0,"creation_date":1455268716,"post_id":35358469,"comment_id":58423614,"body_markdown":"I know, but that&#39;s three shortcuts instead of one :) `⌘-F6`, then `Alt-↑/↓` and `Enter` *and* involves the opening of a dialog, which is a bit more intrusive to my workflow.","body":"I know, but that&#39;s three shortcuts instead of one :) <code>⌘-F6</code>, then <code>Alt-↑&#47;↓</code> and <code>Enter</code> <i>and</i> involves the opening of a dialog, which is a bit more intrusive to my workflow."},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":0,"creation_date":1455269455,"post_id":35358469,"comment_id":58424134,"body_markdown":"Do you really change you signatures so often that showing a dialog might be that intrusive? :) As far as I know, IDEA seems not to have such a feature, so no a special shortcut could be bound to it, unfortunately. I think that the JetBrains team intentionally use a dialog, because this operation might be too expensive/long-to-run for a simple quick reorder shortcut, especially for large projects. Re-ordering lines is much cheaper.","body":"Do you really change you signatures so often that showing a dialog might be that intrusive? :) As far as I know, IDEA seems not to have such a feature, so no a special shortcut could be bound to it, unfortunately. I think that the JetBrains team intentionally use a dialog, because this operation might be too expensive/long-to-run for a simple quick reorder shortcut, especially for large projects. Re-ordering lines is much cheaper."},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":1,"creation_date":1455270073,"post_id":35358469,"comment_id":58424534,"body_markdown":"Yeah, more often than you would think. When I start to flesh out a method I usually `Alt-Enter`  to add additional parameters when needed. When I&#39;m done I then rearrange the parameters to be in a more logical order. Plus, I think it would be really nice to have this shortcut for method calls as well. (Man, how often did I get the order wrong when working with legacy APIs with more than 4 or 5 parameters of the same type! uhg!)","body":"Yeah, more often than you would think. When I start to flesh out a method I usually <code>Alt-Enter</code>  to add additional parameters when needed. When I&#39;m done I then rearrange the parameters to be in a more logical order. Plus, I think it would be really nice to have this shortcut for method calls as well. (Man, how often did I get the order wrong when working with legacy APIs with more than 4 or 5 parameters of the same type! uhg!)"}],"answers":[{"tags":[],"owner":{"account_id":67383,"reputation":17785,"user_id":197205,"display_name":"Peter Gromov"},"down_vote_count":1,"up_vote_count":231,"is_accepted":true,"score":230,"last_activity_date":1692637542,"creation_date":1455271220,"answer_id":35359629,"question_id":35358469,"body_markdown":"Since IDEA 16 EAP, there&#39;s an action for that. It&#39;s in the menu: \r\n\r\n  **Code | Move Element Left/Right** \r\n\r\nKeyboard shortcuts are &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Left/Right&lt;/kbd&gt; (&lt;kbd&gt;Opt&lt;/kbd&gt;+&lt;kbd&gt;Cmd&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Left/Right&lt;/kbd&gt; for OSX). \r\n\r\nSee http://blog.jetbrains.com/idea/2016/01/intellij-idea-16-eap-improves-editor-and-vcs-integration/ for more details.","title":"Rearrange method parameters in IntelliJ with keyboard shortcut","body":"<p>Since IDEA 16 EAP, there's an action for that. It's in the menu:</p>\n<p><strong>Code | Move Element Left/Right</strong></p>\n<p>Keyboard shortcuts are <kbd>Alt</kbd>+<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Left/Right</kbd> (<kbd>Opt</kbd>+<kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>Left/Right</kbd> for OSX).</p>\n<p>See <a href=\"http://blog.jetbrains.com/idea/2016/01/intellij-idea-16-eap-improves-editor-and-vcs-integration/\" rel=\"nofollow noreferrer\">http://blog.jetbrains.com/idea/2016/01/intellij-idea-16-eap-improves-editor-and-vcs-integration/</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1455271903,"creation_date":1455271903,"answer_id":35359882,"question_id":35358469,"body_markdown":"I&#39;m not sure if it&#39;s possible in IDEA, but you might try to use editor macros for two-parameter methods:\r\n\r\n* _Editor -&gt; Macros -&gt; Start Macro Recording_\r\n* Record your macro:\r\n * &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F6&lt;/kbd&gt; to open the _Change Signature_ dialog\r\n * &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;↓&lt;/kbd&gt; to swap the first and the second parameter\r\n * &lt;kbd&gt;Tab&lt;/kbd&gt; to deactivate the _Parameters_ tab and let the _Refactor_ button get the focus\r\n * &lt;kbd&gt;Enter&lt;/kbd&gt; to close the dialog at perform refactoring\r\n* _Editor -&gt; Macros -&gt; Stop Macro Recording_ and give a name to your macro, let&#39;s say &quot;Swap method parameters 1 and 2&quot;.\r\n\r\nAnd then access your macro via the _Editor -&gt; Macros_ menu or assign a custom shortcut to it in _Settings -&gt; Keymap -&gt; Main menu/Edit/Macros/Swap method parameters 1 and 2_. It looks a very dirty and context-free way to me, but maybe it could help you a little.","title":"Rearrange method parameters in IntelliJ with keyboard shortcut","body":"<p>I'm not sure if it's possible in IDEA, but you might try to use editor macros for two-parameter methods:</p>\n\n<ul>\n<li><em>Editor -> Macros -> Start Macro Recording</em></li>\n<li>Record your macro:\n\n<ul>\n<li><kbd>Ctrl</kbd>+<kbd>F6</kbd> to open the <em>Change Signature</em> dialog</li>\n<li><kbd>Alt</kbd>+<kbd>↓</kbd> to swap the first and the second parameter</li>\n<li><kbd>Tab</kbd> to deactivate the <em>Parameters</em> tab and let the <em>Refactor</em> button get the focus</li>\n<li><kbd>Enter</kbd> to close the dialog at perform refactoring</li>\n</ul></li>\n<li><em>Editor -> Macros -> Stop Macro Recording</em> and give a name to your macro, let's say \"Swap method parameters 1 and 2\".</li>\n</ul>\n\n<p>And then access your macro via the <em>Editor -> Macros</em> menu or assign a custom shortcut to it in <em>Settings -> Keymap -> Main menu/Edit/Macros/Swap method parameters 1 and 2</em>. It looks a very dirty and context-free way to me, but maybe it could help you a little.</p>\n"},{"tags":[],"owner":{"account_id":4401627,"reputation":447,"user_id":4388932,"display_name":"Timmeh"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1550583543,"creation_date":1550583543,"answer_id":54767633,"question_id":35358469,"body_markdown":"On Ubuntu 18.04 the default shortcut is Ctrl+Alt+Shift+Super+Left/Right to move an argument left or right in position.\r\n\r\nThis is as it is setup to not clash with some of the new OS level shortcuts","title":"Rearrange method parameters in IntelliJ with keyboard shortcut","body":"<p>On Ubuntu 18.04 the default shortcut is Ctrl+Alt+Shift+Super+Left/Right to move an argument left or right in position.</p>\n\n<p>This is as it is setup to not clash with some of the new OS level shortcuts</p>\n"}],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36700,"favorite_count":0,"down_vote_count":0,"up_vote_count":122,"accepted_answer_id":35359629,"answer_count":3,"score":122,"last_activity_date":1692637542,"creation_date":1455267657,"question_id":35358469,"body_markdown":"In IntelliJ I can easily rearrange the order of statements (or whole methods for that part) by pressing &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;↑&lt;/kbd&gt; (or &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;↓&lt;/kbd&gt;).\r\n\r\nI was wondering whether there&#39;s a shortcut to change the order of method parameters as easily, so that\r\n\r\n    public void sth(String a, String b) {...}\r\n\r\nwill become\r\n\r\n    public void sth(String b, String a) {...}\r\n\r\nwith the stroke of a keyboard shortcut (assuming my cursor is positioned on one of the parameters).\r\n\r\nIt would be enough for me, if IntelliJ would just reorder the parameters. That is, this need not trigger a whole *Refactor &gt; Change method signature* thing.","title":"Rearrange method parameters in IntelliJ with keyboard shortcut","body":"<p>In IntelliJ I can easily rearrange the order of statements (or whole methods for that part) by pressing <kbd>⌘</kbd> + <kbd>Shift</kbd> + <kbd>↑</kbd> (or <kbd>⌘</kbd> + <kbd>Shift</kbd> + <kbd>↓</kbd>).</p>\n\n<p>I was wondering whether there's a shortcut to change the order of method parameters as easily, so that</p>\n\n<pre><code>public void sth(String a, String b) {...}\n</code></pre>\n\n<p>will become</p>\n\n<pre><code>public void sth(String b, String a) {...}\n</code></pre>\n\n<p>with the stroke of a keyboard shortcut (assuming my cursor is positioned on one of the parameters).</p>\n\n<p>It would be enough for me, if IntelliJ would just reorder the parameters. That is, this need not trigger a whole <em>Refactor > Change method signature</em> thing.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":8881126,"reputation":123,"user_id":6631209,"display_name":"Hasanuzzaman Rana"},"score":0,"creation_date":1623410964,"post_id":67935961,"comment_id":120077865,"body_markdown":"You would need to rename file as per active profile type dev, local. On the other hand you could manage application.yaml only for common config and create 2 different file for manage dev and local profile config","body":"You would need to rename file as per active profile type dev, local. On the other hand you could manage application.yaml only for common config and create 2 different file for manage dev and local profile config"}],"answers":[{"tags":[],"owner":{"account_id":3711610,"reputation":165,"user_id":3088799,"display_name":"user3088799"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1623410336,"creation_date":1623410336,"answer_id":67936091,"question_id":67935961,"body_markdown":"In your application-dev.yml, you declare :\r\n```\r\nspring:\r\n    application:\r\n        name: mail-service\r\n    profiles:\r\n        active: local \r\n```\r\n2 solutions :\r\n1) rename application-dev.yml to application-local.yml and use local profile\r\n2) change spring.profiles.active to dev in application-dev.yml","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>In your application-dev.yml, you declare :</p>\n<pre><code>spring:\n    application:\n        name: mail-service\n    profiles:\n        active: local \n</code></pre>\n<p>2 solutions :</p>\n<ol>\n<li>rename application-dev.yml to application-local.yml and use local profile</li>\n<li>change spring.profiles.active to dev in application-dev.yml</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1626696427,"creation_date":1626696427,"answer_id":68440231,"question_id":67935961,"body_markdown":"Spring Boot 2.4 has improved the way that application.properties and application.yml files are processed. \r\n\r\nSee here for details: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide\r\n\r\nLong story short: If you have for example an application-local.yml and inside you defined\r\n\r\n    spring:\r\n    profiles:\r\n        active: local \r\n\r\nthen just remove this entry in the yaml file.","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Spring Boot 2.4 has improved the way that application.properties and application.yml files are processed.</p>\n<p>See here for details: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide</a></p>\n<p>Long story short: If you have for example an application-local.yml and inside you defined</p>\n<pre><code>spring:\nprofiles:\n    active: local \n</code></pre>\n<p>then just remove this entry in the yaml file.</p>\n"},{"tags":[],"owner":{"account_id":20451822,"reputation":241,"user_id":15006427,"display_name":"Debashish"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1629628357,"creation_date":1629628357,"answer_id":68880477,"question_id":67935961,"body_markdown":"**No need to mention spring.profiles.active** property if file name is **application-dev.yml** ( spring boot new version )","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p><strong>No need to mention spring.profiles.active</strong> property if file name is <strong>application-dev.yml</strong> ( spring boot new version )</p>\n"},{"tags":[],"owner":{"account_id":14600060,"reputation":1104,"user_id":10544569,"display_name":"IndustryUser1942"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641302995,"creation_date":1641302689,"answer_id":70579512,"question_id":67935961,"body_markdown":"Since version 2.4 (Spring Boot 2.4):\r\n\r\n&gt; Profiles can no longer be activated from profile specific documents.\r\n\r\nhttps://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\r\n\r\n\r\nOne way forward could be to use `spring.profiles.group.*`\r\n\r\n1. From `application-dev.yml` remove: `profiles: active: local`\r\n\r\n2. rename `application-dev.yml` -&gt; `application-dev123.yml`\r\n\r\n3. In `application.properties` define group &quot;dev&quot;:     `spring.profiles.group.dev=local,dev123`\r\n\r\nGroup named &quot;dev&quot; now is replacement for previous profile named &quot;dev&quot;.\r\n\r\n","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Since version 2.4 (Spring Boot 2.4):</p>\n<blockquote>\n<p>Profiles can no longer be activated from profile specific documents.</p>\n</blockquote>\n<p><a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"noreferrer\">https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4</a></p>\n<p>One way forward could be to use <code>spring.profiles.group.*</code></p>\n<ol>\n<li><p>From <code>application-dev.yml</code> remove: <code>profiles: active: local</code></p>\n</li>\n<li><p>rename <code>application-dev.yml</code> -&gt; <code>application-dev123.yml</code></p>\n</li>\n<li><p>In <code>application.properties</code> define group &quot;dev&quot;:     <code>spring.profiles.group.dev=local,dev123</code></p>\n</li>\n</ol>\n<p>Group named &quot;dev&quot; now is replacement for previous profile named &quot;dev&quot;.</p>\n"},{"tags":[],"owner":{"account_id":16343894,"reputation":119,"user_id":11804179,"display_name":"Abu Ehteshamuddin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1642056405,"creation_date":1641394068,"answer_id":70594863,"question_id":67935961,"body_markdown":"The newer Spring Boot Version is very strict with naming convention based on environments. You cannot inject application properties during runtime. You will need to create application-{env}.properties for each environments, which will be picked based on active profile.\r\n\r\nBut if you don’t feel comfortable doing all these changes, you can still use older processor. Just add below as JVM arugments while running Spring Boot. Make sure to add it in Dockerfile Entrypoint as well, if you are using Docker.\r\n\r\n    -Dspring.config.use-legacy-processing=true\r\n\r\n[Check documentation here][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>The newer Spring Boot Version is very strict with naming convention based on environments. You cannot inject application properties during runtime. You will need to create application-{env}.properties for each environments, which will be picked based on active profile.</p>\n<p>But if you don’t feel comfortable doing all these changes, you can still use older processor. Just add below as JVM arugments while running Spring Boot. Make sure to add it in Dockerfile Entrypoint as well, if you are using Docker.</p>\n<pre><code>-Dspring.config.use-legacy-processing=true\n</code></pre>\n<p><a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"noreferrer\">Check documentation here</a></p>\n"},{"tags":[],"owner":{"account_id":15816654,"reputation":24,"user_id":11412191,"display_name":"Juan B. Rodriguez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677786625,"creation_date":1677786625,"answer_id":75620194,"question_id":67935961,"body_markdown":"Editing your application.properties and defining this:\r\n\r\n    spring.config.use-legacy-processing=true\r\n    \r\n\r\nSee here for details: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Editing your application.properties and defining this:</p>\n<pre><code>spring.config.use-legacy-processing=true\n</code></pre>\n<p>See here for details: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide</a></p>\n"},{"tags":[],"owner":{"account_id":27882256,"reputation":73,"user_id":21290471,"display_name":"geno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692637292,"creation_date":1692637292,"answer_id":76947353,"question_id":67935961,"body_markdown":"Use this separator between &#39;spring&#39; property parameters : \r\n\r\n    ---","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>Use this separator between 'spring' property parameters :</p>\n<pre><code>---\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89191,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":67936091,"answer_count":7,"score":49,"last_activity_date":1692637292,"creation_date":1623409764,"question_id":67935961,"body_markdown":"I updated Spring cloud application to the latest Spring boot version 2.5.0.\r\n\r\nBut during startup I get this exception:\r\n\r\n    11:05:05.038 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid in a profile specific resource [origin: class path resource [application-dev.yml] from skyshop-mail-1.0.jar - 42:17]\r\n            at org.springframework.boot.context.config.InvalidConfigDataPropertyException.lambda$throwOrWarn$1(InvalidConfigDataPropertyException.java:125)\r\n\r\n***application.yml***\r\n\r\n    spring:\r\n        application:\r\n            name: mail-service\r\n        profiles:\r\n            active: dev\r\n\r\n***application-dev.yml file:***\r\n\r\n    logging:\r\n        file:\r\n            name: ${java.io.tmpdir}/application.log\r\n        level:\r\n            com:\r\n                backend: DEBUG\r\n            org:\r\n                springframework: DEBUG\r\n                springframework.web: DEBUG\r\n    jwt:\r\n        expiration: 86400\r\n        secret: test112322\r\n    server:\r\n        port: 8020\r\n        servlet:\r\n            context-path: /mail\r\n    spring:\r\n        application:\r\n            name: mail-service\r\n        profiles:\r\n            active: local \r\n        data:\r\n            web:\r\n                pageable:\r\n                    one-indexed-parameters: true # Fix pagination starting number to start from 1\r\n            rest:\r\n                basePath: /mail\r\n        jackson:\r\n            default-property-inclusion: non_null\r\n        jmx:\r\n            enabled: false   \r\n        datasource:\r\n            url: jdbc:mariadb://localhost:3306/database\r\n            driverClassName: org.mariadb.jdbc.Driver\r\n            jpa:\r\n                hibernate:\r\n                    ddl-auto: update\r\n                properties:\r\n                    hibernate:\r\n                        dialect: org.hibernate.dialect.MariaDBDialect\r\n                show-sql: true\r\n            username: root\r\n            password: qwerty\r\n        oauth2:\r\n            resource:\r\n                jwt:\r\n                    key-pair:\r\n                        alias: mytestkey\r\n                        store-password: mystorepass\r\n    info:\r\n        build:\r\n            version: 1.0\r\n    eureka:\r\n        client:\r\n            serviceUrl:\r\n                defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}\r\n        instance:\r\n            preferIpAddress: true\r\n\r\nDo you know how I can fix this issue?\r\n","title":"Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-dev.yml]&#39; is invalid","body":"<p>I updated Spring cloud application to the latest Spring boot version 2.5.0.</p>\n<p>But during startup I get this exception:</p>\n<pre><code>11:05:05.038 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.boot.context.config.InvalidConfigDataPropertyException: Property 'spring.profiles.active' imported from location 'class path resource [application-dev.yml]' is invalid in a profile specific resource [origin: class path resource [application-dev.yml] from skyshop-mail-1.0.jar - 42:17]\n        at org.springframework.boot.context.config.InvalidConfigDataPropertyException.lambda$throwOrWarn$1(InvalidConfigDataPropertyException.java:125)\n</code></pre>\n<p><em><strong>application.yml</strong></em></p>\n<pre><code>spring:\n    application:\n        name: mail-service\n    profiles:\n        active: dev\n</code></pre>\n<p><em><strong>application-dev.yml file:</strong></em></p>\n<pre><code>logging:\n    file:\n        name: ${java.io.tmpdir}/application.log\n    level:\n        com:\n            backend: DEBUG\n        org:\n            springframework: DEBUG\n            springframework.web: DEBUG\njwt:\n    expiration: 86400\n    secret: test112322\nserver:\n    port: 8020\n    servlet:\n        context-path: /mail\nspring:\n    application:\n        name: mail-service\n    profiles:\n        active: local \n    data:\n        web:\n            pageable:\n                one-indexed-parameters: true # Fix pagination starting number to start from 1\n        rest:\n            basePath: /mail\n    jackson:\n        default-property-inclusion: non_null\n    jmx:\n        enabled: false   \n    datasource:\n        url: jdbc:mariadb://localhost:3306/database\n        driverClassName: org.mariadb.jdbc.Driver\n        jpa:\n            hibernate:\n                ddl-auto: update\n            properties:\n                hibernate:\n                    dialect: org.hibernate.dialect.MariaDBDialect\n            show-sql: true\n        username: root\n        password: qwerty\n    oauth2:\n        resource:\n            jwt:\n                key-pair:\n                    alias: mytestkey\n                    store-password: mystorepass\ninfo:\n    build:\n        version: 1.0\neureka:\n    client:\n        serviceUrl:\n            defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}\n    instance:\n        preferIpAddress: true\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","selenium-webdriver","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692636865,"creation_date":1692636865,"answer_id":76947302,"question_id":76946858,"body_markdown":"The `TouchActions` API was originally introduced as an alternative to the `W3C Actions API`, but it was not standardized and had limited support across different browsers and platforms. \r\n\r\nTherefore, to ensure better compatibility and standardization across different platforms, the `W3C Actions` API has been adopted as the standard API for performing user interactions in `Selenium WebDriver`.\r\n\r\nThe API is based on a sequence of actions that are defined using a builder pattern. \r\n\r\nYou can create `W3CActions` helper, declare constructor with `AppiumDriver`  driver and implement method as\r\n```java\r\n    public void tap(int x, int y) {\r\n        PointerInput finger = new PointerInput(PointerInput.Kind.TOUCH, &quot;finger&quot;);\r\n        Sequence tap = new Sequence(finger, 1);\r\n        tap.addAction(finger.createPointerMove(Duration.ofMillis(0), PointerInput.Origin.viewport(), x, y));\r\n        tap.addAction(finger.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\r\n        tap.addAction(finger.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\r\n        driver.perform(Arrays.asList(tap));\r\n    }\r\n```\r\n\r\nIn the code you actually create pointer, that emulates touch and then perform sequence of actions that represent `moveToCoordinates`, `mouseDown`, `mouseUp` actions.\r\n\r\n[Reference 1][1]\r\n\r\n[Reference 2][2]\r\n\r\n\r\n  [1]: https://www.thegreenreport.blog/articles/the-transition-from-touch-to-w3c-actions-in-selenium/the-transition-from-touch-to-w3c-actions-in-selenium.html\r\n  [2]: https://www.linkedin.com/pulse/guide-perform-appium-20-w3c-mobile-actions-swipe-%EA%9C%B1%E1%B4%80%C9%B4%E1%B4%8B%E1%B4%87%E1%B4%9B-%E1%B4%8A%E1%B4%8F%EA%9C%B1%CA%9C%C9%AA/","title":"Appium TouchAction class deprecated, tap on coordinates","body":"<p>The <code>TouchActions</code> API was originally introduced as an alternative to the <code>W3C Actions API</code>, but it was not standardized and had limited support across different browsers and platforms.</p>\n<p>Therefore, to ensure better compatibility and standardization across different platforms, the <code>W3C Actions</code> API has been adopted as the standard API for performing user interactions in <code>Selenium WebDriver</code>.</p>\n<p>The API is based on a sequence of actions that are defined using a builder pattern.</p>\n<p>You can create <code>W3CActions</code> helper, declare constructor with <code>AppiumDriver</code>  driver and implement method as</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void tap(int x, int y) {\n        PointerInput finger = new PointerInput(PointerInput.Kind.TOUCH, &quot;finger&quot;);\n        Sequence tap = new Sequence(finger, 1);\n        tap.addAction(finger.createPointerMove(Duration.ofMillis(0), PointerInput.Origin.viewport(), x, y));\n        tap.addAction(finger.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\n        tap.addAction(finger.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\n        driver.perform(Arrays.asList(tap));\n    }\n</code></pre>\n<p>In the code you actually create pointer, that emulates touch and then perform sequence of actions that represent <code>moveToCoordinates</code>, <code>mouseDown</code>, <code>mouseUp</code> actions.</p>\n<p><a href=\"https://www.thegreenreport.blog/articles/the-transition-from-touch-to-w3c-actions-in-selenium/the-transition-from-touch-to-w3c-actions-in-selenium.html\" rel=\"nofollow noreferrer\">Reference 1</a></p>\n<p><a href=\"https://www.linkedin.com/pulse/guide-perform-appium-20-w3c-mobile-actions-swipe-%EA%9C%B1%E1%B4%80%C9%B4%E1%B4%8B%E1%B4%87%E1%B4%9B-%E1%B4%8A%E1%B4%8F%EA%9C%B1%CA%9C%C9%AA/\" rel=\"nofollow noreferrer\">Reference 2</a></p>\n"}],"owner":{"account_id":21881757,"reputation":19,"user_id":16169903,"display_name":"klmrmt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76947302,"answer_count":1,"score":0,"last_activity_date":1692636865,"creation_date":1692632719,"question_id":76946858,"body_markdown":"Currently I have a webview within a react native app where I want to tap on an image that loads in the webview. Currently I am doing this with the touchAction class, but would like to use something different since it is deprecated. \r\n\r\n    seleniumSteps.driverWait(&quot;25000&quot;);\r\n    TouchAction touchAction = new TouchAction(driver);\r\n    touchAction.tap(PointOption.point(1280, 1013)).perform();\r\n\r\n","title":"Appium TouchAction class deprecated, tap on coordinates","body":"<p>Currently I have a webview within a react native app where I want to tap on an image that loads in the webview. Currently I am doing this with the touchAction class, but would like to use something different since it is deprecated.</p>\n<pre><code>seleniumSteps.driverWait(&quot;25000&quot;);\nTouchAction touchAction = new TouchAction(driver);\ntouchAction.tap(PointOption.point(1280, 1013)).perform();\n</code></pre>\n"},{"tags":["java","spring-boot","netty","reactor-netty"],"owner":{"account_id":3301348,"reputation":41,"user_id":2777452,"display_name":"user2777452"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692636720,"creation_date":1692636720,"question_id":76947289,"body_markdown":"We are sping cloud gateway with netty on VSI servers. when we run the below linux command on lunux box ,it is showing large number of connections with status as CLOSE-WAIT\r\n\r\n**please find the following metric and provide the solution for spring boot application **\r\n\r\nLinux command :  ss -ta\r\n\r\nState                  Recv-Q             Send-Q        Local Address:Port                                  PeerAddress:Por                        Process\r\n \r\nCLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\r\nCLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\r\nCLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\r\nCLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\r\nCLOSE-WAIT             32                 0            xxx.xxx.x.xxx:yyyyy                                    xxx.xx.xx.xxx:https\r\nESTAB                  0                  551          xxx.xxx.xx.xxx:yyyyy                                   xxx.xx.xx.xxx:distinct","title":"how to close close_wait Statuc connections in netty spring cloud gateway","body":"<p>We are sping cloud gateway with netty on VSI servers. when we run the below linux command on lunux box ,it is showing large number of connections with status as CLOSE-WAIT</p>\n<p>**please find the following metric and provide the solution for spring boot application **</p>\n<p>Linux command :  ss -ta</p>\n<p>State                  Recv-Q             Send-Q        Local Address:Port                                  PeerAddress:Por                        Process</p>\n<p>CLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\nCLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\nCLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\nCLOSE-WAIT             1                  0            xx.0.0.x:yyyyy                                         xx.0.0.x:yyyy\nCLOSE-WAIT             32                 0            xxx.xxx.x.xxx:yyyyy                                    xxx.xx.xx.xxx:https\nESTAB                  0                  551          xxx.xxx.xx.xxx:yyyyy                                   xxx.xx.xx.xxx:distinct</p>\n"},{"tags":["java","exception","noclassdeffounderror"],"comments":[{"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"score":3,"creation_date":1308005051,"post_id":6334148,"comment_id":7413452,"body_markdown":"I doubt this is the problem, but JAVA_HOME should not include `bin`. On my system, I do: JAVA6_HOME=c:\\sdks\\jdk1.6.0_18   JAVA_HOME=%JAVA6_HOME%   PATH=%PATH%;%JAVA_HOME%\\bin","body":"I doubt this is the problem, but JAVA_HOME should not include <code>bin</code>. On my system, I do: JAVA6_HOME=c:\\sdks\\jdk1.6.0_18   JAVA_HOME=%JAVA6_HOME%   PATH=%PATH%;%JAVA_HOME%\\bin"}],"answers":[{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1307987717,"creation_date":1307987717,"answer_id":6334187,"question_id":6334148,"body_markdown":"The javadoc of NoClassDefFounError itself would be a good start ([here)][1], and then I&#39;ll suggest you clean and rebuild your project.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/NoClassDefFoundError.html","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>The javadoc of NoClassDefFounError itself would be a good start (<a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/NoClassDefFoundError.html\" rel=\"nofollow\">here)</a>, and then I'll suggest you clean and rebuild your project.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308004309,"creation_date":1307987733,"answer_id":6334190,"question_id":6334148,"body_markdown":"Your `CLASSPATH` needs to know of the location of your `HelloWorld` class also. \r\n\r\nIn simple terms you should append dot `.` (means current directory) in the `CLASSPATH` if you are running `javac` and `java` commands from DOS prompt.\r\n","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>Your <code>CLASSPATH</code> needs to know of the location of your <code>HelloWorld</code> class also. </p>\n\n<p>In simple terms you should append dot <code>.</code> (means current directory) in the <code>CLASSPATH</code> if you are running <code>javac</code> and <code>java</code> commands from DOS prompt.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307987778,"creation_date":1307987778,"answer_id":6334203,"question_id":6334148,"body_markdown":"The `CLASSPATH` variable needs to include the directory where your Java programs .class file is.  You can include &#39;.&#39; in `CLASSPATH` to indicate that the current directory should be included.\r\n\r\n    set CLASSPATH=%CLASSPATH%;.","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>The <code>CLASSPATH</code> variable needs to include the directory where your Java programs .class file is.  You can include '.' in <code>CLASSPATH</code> to indicate that the current directory should be included.</p>\n\n<pre><code>set CLASSPATH=%CLASSPATH%;.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69592,"reputation":53841,"user_id":202375,"accept_rate":62,"display_name":"Saurabh Gokhale"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1307988546,"creation_date":1307988546,"answer_id":6334346,"question_id":6334148,"body_markdown":"    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError  \r\n\r\nOne of the places java tries to find your `.class` file is your current directory. So if your `.class` file is in `C:\\java`, you should change your current directory to that.  \r\n\r\nTo change your directory, type the following command at the prompt and press Enter:\r\n\r\n    cd c:\\java  \r\n\r\nThis `.`  tells java that your classpath is your local directory.\r\n\r\n    Executing your program using this command should correct the problem:\r\n    java -classpath . HelloWorld  \r\n\r\n","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError  \n</code></pre>\n\n<p>One of the places java tries to find your <code>.class</code> file is your current directory. So if your <code>.class</code> file is in <code>C:\\java</code>, you should change your current directory to that.  </p>\n\n<p>To change your directory, type the following command at the prompt and press Enter:</p>\n\n<pre><code>cd c:\\java  \n</code></pre>\n\n<p>This <code>.</code>  tells java that your classpath is your local directory.</p>\n\n<pre><code>Executing your program using this command should correct the problem:\njava -classpath . HelloWorld  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20693,"reputation":20757,"user_id":1423922,"accept_rate":79,"display_name":"Konstantin Spirin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1336627476,"creation_date":1336627476,"answer_id":10527960,"question_id":6334148,"body_markdown":"Run it like this:\r\n\r\n    java -jar HelloWorld.jar","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>Run it like this:</p>\n\n<pre><code>java -jar HelloWorld.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1131482,"reputation":338,"user_id":1117454,"display_name":"hadibou"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1371057111,"creation_date":1371057111,"answer_id":17071374,"question_id":6334148,"body_markdown":"If your package is `helloworld` you would go to parent dir of your package then run:\r\n\r\n    java helloworld.HelloWorld","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>If your package is <code>helloworld</code> you would go to parent dir of your package then run:</p>\n\n<pre><code>java helloworld.HelloWorld\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3096355,"reputation":11,"user_id":2621443,"display_name":"Bruevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380010279,"creation_date":1374818474,"answer_id":17874010,"question_id":6334148,"body_markdown":"type the following in the cmd prompt, within your folder:\r\n\r\n    set classpath=%classpath%;.;\r\n","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>type the following in the cmd prompt, within your folder:</p>\n\n<pre><code>set classpath=%classpath%;.;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3167123,"reputation":11,"user_id":2676860,"display_name":"user2676860"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376355499,"creation_date":1376355499,"answer_id":18199050,"question_id":6334148,"body_markdown":"I had the same problem, and stumbled onto a solution with &#39;Build Main Project F11&#39;. \r\nThe ide brought up an &quot;option&quot; that I might want to uncheck &#39;Compile on Save&#39;\r\nin the Build &gt; Compiling portion of the Project configuration dialog.\r\nUnchecking &#39;Complile on Save&#39; and then doing the usual (for me) &#39;Clean and Build&#39; did the trick for me.","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>I had the same problem, and stumbled onto a solution with 'Build Main Project F11'. \nThe ide brought up an \"option\" that I might want to uncheck 'Compile on Save'\nin the Build > Compiling portion of the Project configuration dialog.\nUnchecking 'Complile on Save' and then doing the usual (for me) 'Clean and Build' did the trick for me.</p>\n"},{"tags":[],"owner":{"account_id":588932,"reputation":2239,"user_id":2663340,"display_name":"Scott Izu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1377730554,"creation_date":1377730554,"answer_id":18499641,"question_id":6334148,"body_markdown":"See http://scottizu.wordpress.com/2013/08/28/fixing-the-exception-in-thread-main-java-lang-noclassdeffounderror-in-eclipse/.\r\n\r\nThis is the long form of the Java commands that can be run from a Windows command prompt:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\javac.exe&quot; -classpath &quot;C:\\Users\\Scott\\workspace\\myproject&quot; com\\mycompany\\myapp\\HelloWorld.java\r\n    &quot;C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\java.exe&quot; -classpath &quot;C:\\Users\\Scott\\workspace\\myproject&quot; com.mycompany.myapp.HelloWorld\r\n\r\n 1. These commands can be run from any directory, meaning you don&#39;t have to be in the directory where your HelloWorld.java file is.\r\n 2. The first line compiles your HelloWorld.java file, creating a HelloWorld.class file.  \r\n 3. The second line runs the HelloWorld.class file.\r\n 4. The -classpath tells java where to look for the specified file in each command\r\n 5. The Java compiler (javac.exe) expects the location of the java file, relative to the classpath (ie the file is located at C:\\Users\\Scott\\workspace\\myproject\\com\\mycompany\\myapp\\HelloWorld.java)\r\n 6. Java (java.exe) expects the package (ie com.mycompany.myapp) and class (HelloWorld), relative to the classpath (ie the file is located at C:\\Users\\Scott\\workspace\\myproject\\com\\mycompany\\myapp\\HelloWorld.class)\r\n\r\nNotice the classpath has no slash at the end.  The javac.exe commands expects the file to end with &quot;.java&quot;.  The java.exe command expects the full class name and does not end with &quot;.class&quot;.\r\n\r\nThere are a few ways to simplify these commands:\r\n\r\n 1. You don&#39;t have to specify the entire path to java.exe.  Add Java to the Windows Path (Run-&gt;sysdm.cpl-&gt;Advanced Tab-&gt;Environment Variables-&gt;Select Path-&gt;Edit-&gt;Append &quot;;C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\&quot;).  Or you can append JAVA_HOME and create that Environment Variable.\r\n 2. You don&#39;t have to enter the entire classpath (ie, you can just use -classpath &quot;.&quot;).  Enter the directory you will be working in:\r\n\r\n    cd &quot;C:\\Users\\Scott\\workspace\\myproject\\&quot;\r\n\r\n 3. You can use the default package (put the HelloWorld.java file directory in your working directory and don&#39;t use the Java package directive)\r\n\r\nIf you make these changes you would run something like this (and you might be able to leave out -classpath &quot;.&quot;):\r\n\r\n    cd &quot;C:\\Users\\Scott\\workspace\\myproject\\&quot;\r\n    javac -classpath &quot;.&quot; HelloWorld.java\r\n    java -classpath &quot;.&quot; HelloWorld","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>See <a href=\"http://scottizu.wordpress.com/2013/08/28/fixing-the-exception-in-thread-main-java-lang-noclassdeffounderror-in-eclipse/\" rel=\"noreferrer\">http://scottizu.wordpress.com/2013/08/28/fixing-the-exception-in-thread-main-java-lang-noclassdeffounderror-in-eclipse/</a>.</p>\n\n<p>This is the long form of the Java commands that can be run from a Windows command prompt:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\javac.exe\" -classpath \"C:\\Users\\Scott\\workspace\\myproject\" com\\mycompany\\myapp\\HelloWorld.java\n\"C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\java.exe\" -classpath \"C:\\Users\\Scott\\workspace\\myproject\" com.mycompany.myapp.HelloWorld\n</code></pre>\n\n<ol>\n<li>These commands can be run from any directory, meaning you don't have to be in the directory where your HelloWorld.java file is.</li>\n<li>The first line compiles your HelloWorld.java file, creating a HelloWorld.class file.  </li>\n<li>The second line runs the HelloWorld.class file.</li>\n<li>The -classpath tells java where to look for the specified file in each command</li>\n<li>The Java compiler (javac.exe) expects the location of the java file, relative to the classpath (ie the file is located at C:\\Users\\Scott\\workspace\\myproject\\com\\mycompany\\myapp\\HelloWorld.java)</li>\n<li>Java (java.exe) expects the package (ie com.mycompany.myapp) and class (HelloWorld), relative to the classpath (ie the file is located at C:\\Users\\Scott\\workspace\\myproject\\com\\mycompany\\myapp\\HelloWorld.class)</li>\n</ol>\n\n<p>Notice the classpath has no slash at the end.  The javac.exe commands expects the file to end with \".java\".  The java.exe command expects the full class name and does not end with \".class\".</p>\n\n<p>There are a few ways to simplify these commands:</p>\n\n<ol>\n<li>You don't have to specify the entire path to java.exe.  Add Java to the Windows Path (Run->sysdm.cpl->Advanced Tab->Environment Variables->Select Path->Edit->Append \";C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\\").  Or you can append JAVA_HOME and create that Environment Variable.</li>\n<li><p>You don't have to enter the entire classpath (ie, you can just use -classpath \".\").  Enter the directory you will be working in:</p>\n\n<p>cd \"C:\\Users\\Scott\\workspace\\myproject\\\"</p></li>\n<li><p>You can use the default package (put the HelloWorld.java file directory in your working directory and don't use the Java package directive)</p></li>\n</ol>\n\n<p>If you make these changes you would run something like this (and you might be able to leave out -classpath \".\"):</p>\n\n<pre><code>cd \"C:\\Users\\Scott\\workspace\\myproject\\\"\njavac -classpath \".\" HelloWorld.java\njava -classpath \".\" HelloWorld\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3527407,"reputation":739,"user_id":2948103,"display_name":"Abhi"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1692636616,"creation_date":1383407862,"answer_id":19743790,"question_id":6334148,"body_markdown":"I found one other common reason. If you create the java file inside a package, using IDE like Eclipse, you will find the package name at the top of your java file like &quot;package pkgName&quot;. If you try to run this file from command prompt, you will get the `NoClassDefFoundError` error. Remove the package name from the java file and use the commands in the command prompt. Wasted 3 hours for this.","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>I found one other common reason. If you create the java file inside a package, using IDE like Eclipse, you will find the package name at the top of your java file like &quot;package pkgName&quot;. If you try to run this file from command prompt, you will get the <code>NoClassDefFoundError</code> error. Remove the package name from the java file and use the commands in the command prompt. Wasted 3 hours for this.</p>\n"},{"tags":[],"owner":{"account_id":3595514,"reputation":31,"user_id":3000376,"display_name":"Chirag Pahuja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389989255,"creation_date":1389989255,"answer_id":21194913,"question_id":6334148,"body_markdown":"The Problem here is the setting the environment and the running of the class file.\r\na. To set the environment path run the following command:\r\nset path=C:\\Program Files (x86)\\Java\\jdk1.7.0\\bin\r\nb. run the program from the package like com.test.TestJavaClass\r\n\r\nCommand: java com.test.TestJavaClass\r\n\r\nThe general issue here is we run it either from inside the package like src/package/name.\r\nWe should not include src, package name is enough.","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>The Problem here is the setting the environment and the running of the class file.\na. To set the environment path run the following command:\nset path=C:\\Program Files (x86)\\Java\\jdk1.7.0\\bin\nb. run the program from the package like com.test.TestJavaClass</p>\n\n<p>Command: java com.test.TestJavaClass</p>\n\n<p>The general issue here is we run it either from inside the package like src/package/name.\nWe should not include src, package name is enough.</p>\n"},{"tags":[],"owner":{"account_id":1019621,"reputation":151,"user_id":1030360,"accept_rate":20,"display_name":"ravikanth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415665109,"creation_date":1415665109,"answer_id":26855428,"question_id":6334148,"body_markdown":"Here is what finally worked.\r\n\r\n    `@echo off\r\n    set path=%path%;C:\\Program Files\\Java\\jdk1.7.0_71\\bin;\r\n    set classpath=C:\\Program Files\\Java\\jdk1.7.0_71\\lib;\r\n    cd &lt;packageDirectoryName&gt;\r\n    javac .\\trainingPackage\\HelloWorld.java\r\n    cd ..\r\n    java trainingPackage.HelloWorld \r\n    REM (Make sure you are on the parent directory of the PackageName and not inside the    Packagedirectory when executing java).`","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>Here is what finally worked.</p>\n\n<pre><code>`@echo off\nset path=%path%;C:\\Program Files\\Java\\jdk1.7.0_71\\bin;\nset classpath=C:\\Program Files\\Java\\jdk1.7.0_71\\lib;\ncd &lt;packageDirectoryName&gt;\njavac .\\trainingPackage\\HelloWorld.java\ncd ..\njava trainingPackage.HelloWorld \nREM (Make sure you are on the parent directory of the PackageName and not inside the    Packagedirectory when executing java).`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6723742,"reputation":51,"user_id":5182643,"display_name":"DalekCaan99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439647435,"creation_date":1439647435,"answer_id":32025503,"question_id":6334148,"body_markdown":"Try doing\r\n\r\n    javac Hello.java\r\nand then, if it comes up with no compiler errors (which it should not do because I cannot see any bugs in your programme), then type\r\n\r\n`java Hello`","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>Try doing</p>\n\n<pre><code>javac Hello.java\n</code></pre>\n\n<p>and then, if it comes up with no compiler errors (which it should not do because I cannot see any bugs in your programme), then type</p>\n\n<p><code>java Hello</code></p>\n"},{"tags":[],"owner":{"account_id":4517884,"reputation":118,"user_id":3672140,"display_name":"Dhiraj Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445344133,"creation_date":1445344133,"answer_id":33236707,"question_id":6334148,"body_markdown":"If you want to &#39;compile and execute&#39; any java file that you have created using any IDE(like eclipse), just run the below commands:\r\n\r\n&gt; **Compile:**\r\n`javac Users\\dhiraj01\\workspace\\Practice\\src\\PracticeLogic\\Logics.java`\r\n\r\n&gt;**Execute:** `java -classpath Users\\dhiraj01\\workspace\\Practice\\src\\ PracticeLogic.Logics`","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>If you want to 'compile and execute' any java file that you have created using any IDE(like eclipse), just run the below commands:</p>\n\n<blockquote>\n  <p><strong>Compile:</strong>\n  <code>javac Users\\dhiraj01\\workspace\\Practice\\src\\PracticeLogic\\Logics.java</code></p>\n  \n  <p><strong>Execute:</strong> <code>java -classpath Users\\dhiraj01\\workspace\\Practice\\src\\ PracticeLogic.Logics</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1032687,"reputation":33,"user_id":1040677,"display_name":"mar915h"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456888908,"creation_date":1456888908,"answer_id":35737885,"question_id":6334148,"body_markdown":"if your Program.java is in &quot;src/mypkg/subpkg/&quot; directory:\r\n\r\ngo to &quot;src&quot; dir \r\n\r\nThen to compile use &quot;javac mypkg/subpkg/Program.java&quot;\r\n\r\nTo run use &quot;java mypkg.subpkg.Program.class&quot;","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>if your Program.java is in \"src/mypkg/subpkg/\" directory:</p>\n\n<p>go to \"src\" dir </p>\n\n<p>Then to compile use \"javac mypkg/subpkg/Program.java\"</p>\n\n<p>To run use \"java mypkg.subpkg.Program.class\"</p>\n"},{"tags":[],"owner":{"account_id":8115753,"reputation":21,"user_id":6114320,"display_name":"Udit Nagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469957717,"creation_date":1469956381,"answer_id":38682472,"question_id":6334148,"body_markdown":"Java-File:\r\n------------\r\n\r\n    package com.beans;\r\n\r\n    public class Flower{\r\n     .......\r\n    }\r\n\r\n    packages :=&gt; com.beans,\r\n    java class Name:=&gt; Flower.java,\r\n    Folder structure (assuming):=&gt; C:\\com\\beans\\Flower.*(both .java/.class exist here)\r\n\r\nthen there are two ways of executing it:\r\n\r\n    1. Goto top Folder (here its C:\\&gt;),\r\n         then : C:&gt; java com.beans.Flower \r\n    2. Executing from innermost folder &quot;beans&quot; here (C:\\com\\beans:&gt;),\r\n         then: C:\\com\\beans:&gt; java -cp ./../.. com.beans.Flower\r\n\r\n","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<h2>Java-File:</h2>\n\n<pre><code>package com.beans;\n\npublic class Flower{\n .......\n}\n\npackages :=&gt; com.beans,\njava class Name:=&gt; Flower.java,\nFolder structure (assuming):=&gt; C:\\com\\beans\\Flower.*(both .java/.class exist here)\n</code></pre>\n\n<p>then there are two ways of executing it:</p>\n\n<pre><code>1. Goto top Folder (here its C:\\&gt;),\n     then : C:&gt; java com.beans.Flower \n2. Executing from innermost folder \"beans\" here (C:\\com\\beans:&gt;),\n     then: C:\\com\\beans:&gt; java -cp ./../.. com.beans.Flower\n</code></pre>\n"},{"tags":[],"owner":{"account_id":959866,"reputation":25909,"user_id":984471,"display_name":"Manohar Reddy Poreddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553836756,"creation_date":1553836756,"answer_id":55410942,"question_id":6334148,"body_markdown":"I finally found this as a bug with Apache Netbeans editor:  \r\n\r\nBelow steps will remove the error:  \r\n\r\n1. Rename the filename &amp; class to Abc\r\n2. Close the editor\r\n3. Reopen the editor\r\n4. Rename the filename &amp; class, from Abc, back to the previous name\r\n5. Now debug project (Ctrl+F5) works fine\r\n\r\nHope that helps, if you are using new Apache Netbeans (not old Netbeans)\r\n","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>I finally found this as a bug with Apache Netbeans editor:  </p>\n\n<p>Below steps will remove the error:  </p>\n\n<ol>\n<li>Rename the filename &amp; class to Abc</li>\n<li>Close the editor</li>\n<li>Reopen the editor</li>\n<li>Rename the filename &amp; class, from Abc, back to the previous name</li>\n<li>Now debug project (Ctrl+F5) works fine</li>\n</ol>\n\n<p>Hope that helps, if you are using new Apache Netbeans (not old Netbeans)</p>\n"},{"tags":[],"owner":{"account_id":16476179,"reputation":83,"user_id":11904094,"display_name":"Peter Petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565865281,"creation_date":1565859537,"answer_id":57507241,"question_id":6334148,"body_markdown":"I had this proplem I used maven. I just click maven projects ant then name\r\n\r\n**`project-&gt; plugins -&gt; clean -&gt; and button run`**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HpywC.png","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>I had this proplem I used maven. I just click maven projects ant then name</p>\n\n<p><strong><code>project-&gt; plugins -&gt; clean -&gt; and button run</code></strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HpywC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HpywC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":9792752,"reputation":7,"user_id":7256832,"display_name":"Rashmi Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591776992,"creation_date":1591776992,"answer_id":62298866,"question_id":6334148,"body_markdown":"You can find information about required libraries inside `pom.xml`, it is much easier to use tools like Apache Maven to build java applications.\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.20&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;24.0-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.inject.extensions&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guice-assistedinject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>You can find information about required libraries inside <code>pom.xml</code>, it is much easier to use tools like Apache Maven to build java applications.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;version&gt;1.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;24.0-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;guice&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.inject.extensions&lt;/groupId&gt;\n        &lt;artifactId&gt;guice-assistedinject&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18166754,"reputation":21,"user_id":13217195,"display_name":"GHULAM SARWAR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607013428,"creation_date":1606989082,"answer_id":65123529,"question_id":6334148,"body_markdown":"Add the jar in your classpath.\r\n\r\nFor example, if you have `NoClassDefFoundError` for class `XXXXXX`, get the jar containing the class and add it to your classpath manually.\r\n\r\nIt works for me. Hopefully it will work for you as well.","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>Add the jar in your classpath.</p>\n<p>For example, if you have <code>NoClassDefFoundError</code> for class <code>XXXXXX</code>, get the jar containing the class and add it to your classpath manually.</p>\n<p>It works for me. Hopefully it will work for you as well.</p>\n"}],"owner":{"account_id":766583,"reputation":621,"user_id":796213,"display_name":"Haritha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395499,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":20,"score":58,"last_activity_date":1692636616,"creation_date":1307987492,"question_id":6334148,"body_markdown":"The following program is throwing error:\r\n\r\n    public class HelloWorld {\r\n        public static void main(String args[]) {\r\n            System.out.println(&quot;Hello World!&quot;); \r\n        }\r\n    }\r\n    \r\n    CLASSPATH C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\\r\n    \r\n    Path C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\\r\n    \r\n    JAVAHOME C:\\Program Files\\Java\\jdk1.6.0_18\\bin\r\n\r\nCan you please tell me the root cause?","title":"Exception in thread &#39;main&#39; java.lang.NoClassDefFoundError:","body":"<p>The following program is throwing error:</p>\n\n<pre><code>public class HelloWorld {\n    public static void main(String args[]) {\n        System.out.println(\"Hello World!\"); \n    }\n}\n\nCLASSPATH C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\\n\nPath C:\\Program Files\\Java\\jdk1.6.0_18\\bin\\\n\nJAVAHOME C:\\Program Files\\Java\\jdk1.6.0_18\\bin\n</code></pre>\n\n<p>Can you please tell me the root cause?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1406916919,"post_id":25086150,"comment_id":39032974,"body_markdown":"I don&#39;t think you need that last thread. Unless you need to run multiple of these in a loop.","body":"I don&#39;t think you need that last thread. Unless you need to run multiple of these in a loop."},{"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"score":1,"creation_date":1406917047,"post_id":25086150,"comment_id":39033042,"body_markdown":"@ElliottFrisch - what you see there is inside a method called `runAsync(String command)` which I need to return immediately (its asynchronous). How would I can handle the exit code of the process and that the reading of the streams completing without that extra thread?","body":"@ElliottFrisch - what you see there is inside a method called <code>runAsync(String command)</code> which I need to return immediately (its asynchronous). How would I can handle the exit code of the process and that the reading of the streams completing without that extra thread?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1406917176,"post_id":25086150,"comment_id":39033116,"body_markdown":"Given that, I think you need all three threads then.","body":"Given that, I think you need all three threads then."}],"answers":[{"tags":[],"owner":{"account_id":3312105,"reputation":17055,"user_id":2785358,"display_name":"Alcanzar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1406924509,"creation_date":1406922177,"answer_id":25087561,"question_id":25086150,"body_markdown":"Since you&#39;ve specified that you need to read the output as you go, there is no non-multi-threaded solution.\r\n\r\nYou can reduce the number of threads to one beyond your main thread though:\r\n\r\n    Process process = builder.start();\r\n    Thread errThread = new Thread(() -&gt; {\r\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getErrorStream()))) {\r\n          // Read stream here\r\n        } catch (Exception e) {\r\n        }\r\n    });\r\n    errThread.start();\r\n\r\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\r\n            // Read stream here\r\n    } catch (Exception e) {\r\n    }\r\n    // we got an end of file, so there can&#39;t be any more input.  Now we need to wait for stderr/process exit.\r\n\r\n    int exitCode = -1;\r\n    try {\r\n        exitCode = process.waitFor();\r\n        errThread.join();\r\n    } catch (Exception e) {\r\n    }\r\n\r\n    // Process completed\r\n\r\nIf you truely don&#39;t need to deal with the error/output until after the process ends, you can simplify it a bit and only use your main thread like this:\r\n\r\n\t\tFile stderrFile = File.createTempFile(&quot;tmpErr&quot;, &quot;out&quot;);\r\n\t\tFile stdoutFile = File.createTempFile(&quot;tmpStd&quot;, &quot;out&quot;);\r\n\t\ttry {\r\n\t\t\tProcessBuilder builder = new ProcessBuilder(&quot;ls /tmp&quot;);\r\n\t\t\tProcess p = builder.start();\r\n\t\t\tint exitCode = -1;\r\n\t\t\tboolean done = false;\r\n\t\t\twhile (!done) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\texitCode = p.waitFor();\r\n\t\t\t\t\tdone = true;\r\n\t\t\t\t} catch (InterruptedException ie) {\r\n\t\t\t\t\tSystem.out.println(&quot;Interrupted waiting for process to exit.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tBufferedReader err = new BufferedReader(new FileReader(stderrFile));\r\n\t\t\tBufferedReader in = new BufferedReader(new FileReader(stdoutFile));\r\n\t\t\t....\r\n\t\t} finally {\r\n\t\t\tstderrFile.delete();\r\n\t\t\tstdoutFile.delete();\r\n\t\t}\r\n\r\n\r\nThis is probably not a good idea if you generate a lot of output from the process you are calling as it could run out of disk space... but it&#39;ll likely be slightly faster since it doesn&#39;t have to spin up another Thread.\r\n","title":"Run a process asynchronously and read from stdout and stderr","body":"<p>Since you've specified that you need to read the output as you go, there is no non-multi-threaded solution.</p>\n\n<p>You can reduce the number of threads to one beyond your main thread though:</p>\n\n<pre><code>Process process = builder.start();\nThread errThread = new Thread(() -&gt; {\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getErrorStream()))) {\n      // Read stream here\n    } catch (Exception e) {\n    }\n});\nerrThread.start();\n\ntry (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\n        // Read stream here\n} catch (Exception e) {\n}\n// we got an end of file, so there can't be any more input.  Now we need to wait for stderr/process exit.\n\nint exitCode = -1;\ntry {\n    exitCode = process.waitFor();\n    errThread.join();\n} catch (Exception e) {\n}\n\n// Process completed\n</code></pre>\n\n<p>If you truely don't need to deal with the error/output until after the process ends, you can simplify it a bit and only use your main thread like this:</p>\n\n<pre><code>    File stderrFile = File.createTempFile(\"tmpErr\", \"out\");\n    File stdoutFile = File.createTempFile(\"tmpStd\", \"out\");\n    try {\n        ProcessBuilder builder = new ProcessBuilder(\"ls /tmp\");\n        Process p = builder.start();\n        int exitCode = -1;\n        boolean done = false;\n        while (!done) {\n            try {\n                exitCode = p.waitFor();\n                done = true;\n            } catch (InterruptedException ie) {\n                System.out.println(\"Interrupted waiting for process to exit.\");\n            }\n        }\n        BufferedReader err = new BufferedReader(new FileReader(stderrFile));\n        BufferedReader in = new BufferedReader(new FileReader(stdoutFile));\n        ....\n    } finally {\n        stderrFile.delete();\n        stdoutFile.delete();\n    }\n</code></pre>\n\n<p>This is probably not a good idea if you generate a lot of output from the process you are calling as it could run out of disk space... but it'll likely be slightly faster since it doesn't have to spin up another Thread.</p>\n"},{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519497732,"creation_date":1406935876,"answer_id":25090132,"question_id":25086150,"body_markdown":"Have a look at the [ExecHelper](http://ostermiller.org/utils/src/ExecHelper.java.html) from OstermillerUtils. \r\n\r\nThe idea is that the thread waiting for the process to complete, does not just wait but reads input from stdout and stderr if there is input available and regurarly checks if the process has finished. \r\n\r\nIf you do not do any heavy processing with the input from stdout and stderr, you might not need an extra thread to handle the input. Just copy ExecHelper and add some extra functions/methods to process any new input. I&#39;ve done this before to show the process output while the process is running, it is not difficult to do (but I lost the source code).\r\n\r\nIf you do need a separate thread for processing the input, make sure to synchronize the output and error StringBuffers when these buffers are updated or read.\r\n\r\nAnother thing you might want to consider is adding an abort time-out. It is a little bit harder to implement but was very valuable to me: if a process takes too much time, the process gets destroyed which in turn ensures nothing remains hanging. You can find an old (outdated?) example [this gist](https://gist.github.com/fwi/51d980b0694dd9765520be83d67d2a18).","title":"Run a process asynchronously and read from stdout and stderr","body":"<p>Have a look at the <a href=\"http://ostermiller.org/utils/src/ExecHelper.java.html\" rel=\"nofollow noreferrer\">ExecHelper</a> from OstermillerUtils. </p>\n\n<p>The idea is that the thread waiting for the process to complete, does not just wait but reads input from stdout and stderr if there is input available and regurarly checks if the process has finished. </p>\n\n<p>If you do not do any heavy processing with the input from stdout and stderr, you might not need an extra thread to handle the input. Just copy ExecHelper and add some extra functions/methods to process any new input. I've done this before to show the process output while the process is running, it is not difficult to do (but I lost the source code).</p>\n\n<p>If you do need a separate thread for processing the input, make sure to synchronize the output and error StringBuffers when these buffers are updated or read.</p>\n\n<p>Another thing you might want to consider is adding an abort time-out. It is a little bit harder to implement but was very valuable to me: if a process takes too much time, the process gets destroyed which in turn ensures nothing remains hanging. You can find an old (outdated?) example <a href=\"https://gist.github.com/fwi/51d980b0694dd9765520be83d67d2a18\" rel=\"nofollow noreferrer\">this gist</a>.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1406962423,"creation_date":1406962423,"answer_id":25092494,"question_id":25086150,"body_markdown":"Assuming you don&#39;t mind the input and error streams to be merged, you could only use one thread with:\r\n\r\n    builder.redirectErrorStream(true); //merge input and error streams\r\n    Process process = builder.start();\r\n\r\n    Thread singleThread = new Thread(() -&gt; {\r\n      int exitCode = -1;\r\n      //read from the merged stream\r\n      try (BufferedReader reader = \r\n                  new BufferedReader(new InputStreamReader(process.getInputStream()))) {\r\n        String line;\r\n        //read until the stream is exhausted, meaning the process has terminated\r\n        while ((line = reader.readLine()) != null) {\r\n          System.out.println(line); //use the output here\r\n        }\r\n        //get the exit code if required\r\n        exitCode = process.waitFor();\r\n      } catch (Exception e) { }\r\n    }).start();","title":"Run a process asynchronously and read from stdout and stderr","body":"<p>Assuming you don't mind the input and error streams to be merged, you could only use one thread with:</p>\n\n<pre><code>builder.redirectErrorStream(true); //merge input and error streams\nProcess process = builder.start();\n\nThread singleThread = new Thread(() -&gt; {\n  int exitCode = -1;\n  //read from the merged stream\n  try (BufferedReader reader = \n              new BufferedReader(new InputStreamReader(process.getInputStream()))) {\n    String line;\n    //read until the stream is exhausted, meaning the process has terminated\n    while ((line = reader.readLine()) != null) {\n      System.out.println(line); //use the output here\n    }\n    //get the exit code if required\n    exitCode = process.waitFor();\n  } catch (Exception e) { }\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1445493,"reputation":5311,"user_id":1364149,"accept_rate":57,"display_name":"Shloim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408978665,"creation_date":1408978665,"answer_id":25488758,"question_id":25086150,"body_markdown":"You&#39;ll have to compromise. Here are your options:\r\n\r\nA. You can do it with 2 threads (instead of 3):\r\n\r\nFirst thread:\r\n\r\n1. read from `stdout` until `readline` returns `null`\r\n2. call `Process.waitFor()`\r\n3. `join` Thread#2\r\n\r\nSecond thread:\r\n\r\n1. reads from `stderr` until `readline` returns null\r\n\r\n\r\nB. Merge streams and use Debian&#39;s `annotate-output` to discriminate the 2 streams\r\n\r\nhttp://manpages.debian.org/cgi-bin/man.cgi?query=annotate-output&amp;sektion=1\r\n\r\n\r\nC. If it&#39;s a short-living process just wait for the end of it\r\n\r\n\r\nD. If it&#39;s a long-living process then you can spin between readers with some sleep in between.","title":"Run a process asynchronously and read from stdout and stderr","body":"<p>You'll have to compromise. Here are your options:</p>\n\n<p>A. You can do it with 2 threads (instead of 3):</p>\n\n<p>First thread:</p>\n\n<ol>\n<li>read from <code>stdout</code> until <code>readline</code> returns <code>null</code></li>\n<li>call <code>Process.waitFor()</code></li>\n<li><code>join</code> Thread#2</li>\n</ol>\n\n<p>Second thread:</p>\n\n<ol>\n<li>reads from <code>stderr</code> until <code>readline</code> returns null</li>\n</ol>\n\n<p>B. Merge streams and use Debian's <code>annotate-output</code> to discriminate the 2 streams</p>\n\n<p><a href=\"http://manpages.debian.org/cgi-bin/man.cgi?query=annotate-output&amp;sektion=1\" rel=\"nofollow\">http://manpages.debian.org/cgi-bin/man.cgi?query=annotate-output&amp;sektion=1</a></p>\n\n<p>C. If it's a short-living process just wait for the end of it</p>\n\n<p>D. If it's a long-living process then you can spin between readers with some sleep in between.</p>\n"},{"tags":[],"owner":{"account_id":1010778,"reputation":2555,"user_id":1408339,"accept_rate":73,"display_name":"rwst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692636208,"creation_date":1692635803,"answer_id":76947203,"question_id":25086150,"body_markdown":"Old question, new answer for people coming from Kotlin. This looks easy with Kotlin coroutines:\r\n\r\n    import kotlinx.coroutines.*\r\n    import kotlinx.coroutines.channels.produce\r\n    import java.io.BufferedReader\r\n    import java.io.InputStreamReader\r\n    \r\n    const val CONSOLE_MAX_LIFE = 1000000L\r\n    \r\n    @OptIn(ExperimentalCoroutinesApi::class)\r\n    fun f(scope: CoroutineScope) {\r\n        fun executeCommand(command: String): Process {\r\n            val builder = ProcessBuilder()\r\n            return builder.command(*command.split(&quot; &quot;).toTypedArray()).start()\r\n        }\r\n        val process = executeCommand(&quot;cmd args&quot;)\r\n        val stdoutReader = BufferedReader(InputStreamReader(process.inputStream))\r\n        val stderrReader = BufferedReader(InputStreamReader(process.errorStream))\r\n    \r\n        val stdoutChannel = scope.produce(Dispatchers.IO) {\r\n            var line: String\r\n            while (stdoutReader.readLine().also { line = it } != null) { send(line) }\r\n        }\r\n        val stderrChannel = scope.produce(Dispatchers.IO) {\r\n            var line: String\r\n            while (stderrReader.readLine().also { line = it } != null) { send(line) }\r\n        }\r\n        scope.launch(Dispatchers.IO) {\r\n            while (true) {\r\n                val line = stdoutChannel.receive()\r\n                if (line.contains(&quot;xyz&quot;))\r\n                    setProgressIndication(Pair(.5f, &quot;5/10&quot;))\r\n            }\r\n        }\r\n        scope.launch(Dispatchers.IO) {\r\n            while (true) {\r\n                val line = stderrChannel.receive()\r\n                if (line.contains(&quot;abc&quot;))\r\n                    throw Exception()\r\n            }\r\n        }\r\n        scope.launch (Dispatchers.IO) {\r\n            process.onExit().get()\r\n            stdoutChannel.cancel()\r\n            stderrChannel.cancel()\r\n        }\r\n        scope.launch (Dispatchers.IO) {\r\n            delay(CONSOLE_MAX_LIFE)\r\n            process.destroy()\r\n        }\r\n    }\r\n\r\n\r\nThis uses 6 coroutines, 2 for stdout, 2 for stderr. One for the sender channel, one for the receiver for each stdout/err, and finally one to close channels after process termination, and one for killing the terminal.","title":"Run a process asynchronously and read from stdout and stderr","body":"<p>Old question, new answer for people coming from Kotlin. This looks easy with Kotlin coroutines:</p>\n<pre><code>import kotlinx.coroutines.*\nimport kotlinx.coroutines.channels.produce\nimport java.io.BufferedReader\nimport java.io.InputStreamReader\n\nconst val CONSOLE_MAX_LIFE = 1000000L\n\n@OptIn(ExperimentalCoroutinesApi::class)\nfun f(scope: CoroutineScope) {\n    fun executeCommand(command: String): Process {\n        val builder = ProcessBuilder()\n        return builder.command(*command.split(&quot; &quot;).toTypedArray()).start()\n    }\n    val process = executeCommand(&quot;cmd args&quot;)\n    val stdoutReader = BufferedReader(InputStreamReader(process.inputStream))\n    val stderrReader = BufferedReader(InputStreamReader(process.errorStream))\n\n    val stdoutChannel = scope.produce(Dispatchers.IO) {\n        var line: String\n        while (stdoutReader.readLine().also { line = it } != null) { send(line) }\n    }\n    val stderrChannel = scope.produce(Dispatchers.IO) {\n        var line: String\n        while (stderrReader.readLine().also { line = it } != null) { send(line) }\n    }\n    scope.launch(Dispatchers.IO) {\n        while (true) {\n            val line = stdoutChannel.receive()\n            if (line.contains(&quot;xyz&quot;))\n                setProgressIndication(Pair(.5f, &quot;5/10&quot;))\n        }\n    }\n    scope.launch(Dispatchers.IO) {\n        while (true) {\n            val line = stderrChannel.receive()\n            if (line.contains(&quot;abc&quot;))\n                throw Exception()\n        }\n    }\n    scope.launch (Dispatchers.IO) {\n        process.onExit().get()\n        stdoutChannel.cancel()\n        stderrChannel.cancel()\n    }\n    scope.launch (Dispatchers.IO) {\n        delay(CONSOLE_MAX_LIFE)\n        process.destroy()\n    }\n}\n</code></pre>\n<p>This uses 6 coroutines, 2 for stdout, 2 for stderr. One for the sender channel, one for the receiver for each stdout/err, and finally one to close channels after process termination, and one for killing the terminal.</p>\n"}],"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7404,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1692636208,"creation_date":1406916510,"question_id":25086150,"body_markdown":"I have some code that runs a process and reads from the stdout and stderr asynchronously and then handles when the process completes. It looks something like this:\r\n\r\n\tProcess process = builder.start();\r\n\r\n\t    Thread outThread = new Thread(() -&gt; {\r\n\t\t\ttry (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\r\n\t\t\t\t// Read stream here\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t    Thread errThread = new Thread(() -&gt; {\r\n\t\t  try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getErrorStream()))) {\r\n\t\t\t// Read stream here\r\n\t\t  } catch (Exception e) {\r\n\t\t  }\r\n    \t});\r\n\r\n\t    outThread.start();\r\n\t    errThread.start();\r\n\r\n\t    new Thread(() -&gt; {\r\n\t\t  int exitCode = -1;\r\n\t\t  try {\r\n\t\t\texitCode = process.waitFor();\r\n\t\t\toutThread.join();\r\n\t\t\terrThread.join();\r\n\t\t  } catch (Exception e) {\r\n\t\t  }\r\n\r\n\t\t// Process completed and read all stdout and stderr here\r\n\t    }).start();\r\n\r\nMy issue is with the fact that I am using 3 threads to achieve this asynchronous &quot;run-and-get-output&quot; task - I don&#39;t know why, but I feel it doesn&#39;t feel right using 3 threads. I could allocate the threads out of a thread pool, but that would still be blocking those threads.\r\n\r\nIs there anything I can do, maybe with NIO, to reduce this to fewer (1?) thread? Anything I can think of will be constantly spinning a thread (unless I add a few sleeps), which I don&#39;t really want to do either...\r\n\r\n**NOTE: I do need to read as I go (rather than when the process has stopped) and I do need to separate stdin from stderr so can&#39;t do a redirect.**","title":"Run a process asynchronously and read from stdout and stderr","body":"<p>I have some code that runs a process and reads from the stdout and stderr asynchronously and then handles when the process completes. It looks something like this:</p>\n\n<pre><code>Process process = builder.start();\n\n    Thread outThread = new Thread(() -&gt; {\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\n            // Read stream here\n        } catch (Exception e) {\n        }\n    });\n\n    Thread errThread = new Thread(() -&gt; {\n      try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getErrorStream()))) {\n        // Read stream here\n      } catch (Exception e) {\n      }\n    });\n\n    outThread.start();\n    errThread.start();\n\n    new Thread(() -&gt; {\n      int exitCode = -1;\n      try {\n        exitCode = process.waitFor();\n        outThread.join();\n        errThread.join();\n      } catch (Exception e) {\n      }\n\n    // Process completed and read all stdout and stderr here\n    }).start();\n</code></pre>\n\n<p>My issue is with the fact that I am using 3 threads to achieve this asynchronous \"run-and-get-output\" task - I don't know why, but I feel it doesn't feel right using 3 threads. I could allocate the threads out of a thread pool, but that would still be blocking those threads.</p>\n\n<p>Is there anything I can do, maybe with NIO, to reduce this to fewer (1?) thread? Anything I can think of will be constantly spinning a thread (unless I add a few sleeps), which I don't really want to do either...</p>\n\n<p><strong>NOTE: I do need to read as I go (rather than when the process has stopped) and I do need to separate stdin from stderr so can't do a redirect.</strong></p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1692633781,"post_id":76946960,"comment_id":135647061,"body_markdown":"you can share the jar or share the git","body":"you can share the jar or share the git"}],"answers":[{"tags":[],"owner":{"account_id":16796963,"reputation":114,"user_id":12143234,"display_name":"Uttam Pawar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692636105,"creation_date":1692636105,"answer_id":76947235,"question_id":76946960,"body_markdown":"You can use the GitHub or any other versioning tool and push your code into repository. And give access to your colleges.","title":"How can I share my spring boot project with my team without having to upload it to a server?","body":"<p>You can use the GitHub or any other versioning tool and push your code into repository. And give access to your colleges.</p>\n"}],"owner":{"account_id":29269151,"reputation":7,"user_id":22424378,"display_name":"Darvy Betances"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1692636105,"creation_date":1692633578,"question_id":76946960,"body_markdown":"I am working on a demo of a web application made in spring boot and the first phase is already completed, I would like my colleagues to be able to access it from their computers, but without having to deploy the app on a server or having to download the IDE on their computers.\r\n\r\nWhat options are there? (I&#39;m working with gradle)\r\n\r\nI tried to use ip redirection so that they only put the ip of the computer and the port on which the app was launched so that in this way they have access, but it turns out that the company&#39;s firewall does not allow these intercommunications, I also tried to create an executable WAR, but I only saw examples for maven","title":"How can I share my spring boot project with my team without having to upload it to a server?","body":"<p>I am working on a demo of a web application made in spring boot and the first phase is already completed, I would like my colleagues to be able to access it from their computers, but without having to deploy the app on a server or having to download the IDE on their computers.</p>\n<p>What options are there? (I'm working with gradle)</p>\n<p>I tried to use ip redirection so that they only put the ip of the computer and the port on which the app was launched so that in this way they have access, but it turns out that the company's firewall does not allow these intercommunications, I also tried to create an executable WAR, but I only saw examples for maven</p>\n"},{"tags":["java","intellij-idea","thymeleaf"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1691939321,"post_id":76889066,"comment_id":135555679,"body_markdown":"Check the typo &quot;usesrname&quot;.","body":"Check the typo &quot;usesrname&quot;."}],"answers":[{"tags":[],"owner":{"account_id":19655273,"reputation":64,"user_id":14388047,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692636069,"creation_date":1692605810,"answer_id":76943496,"question_id":76889066,"body_markdown":"    package com.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class TestProgramApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestProgramApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nUser.java\r\n\r\n    package com.example;\r\n    \r\n    public class User {\r\n    \tprivate Integer id;\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nUserController.java\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    \r\n    @Controller\r\n    public class UserController {\r\n    \r\n    \t@GetMapping(&quot;/register&quot;)\r\n    \tpublic String doDefault() {\r\n    \t\treturn &quot;register&quot;;\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/user/register&quot;)\r\n    \tpublic String register(User user) {\r\n    \t\treturn &quot;success&quot;;\r\n    \t}\r\n    }\r\n\r\nregister.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;title&gt;register&lt;/title&gt;\r\n    \r\n    &lt;head&gt;\r\n    \t&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    \t&lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \r\n    \r\n    \t&lt;form th:action=&quot;@{/user/register}&quot; method=&quot;post&quot;&gt;\r\n    \t\t&lt;table border=&quot;0&quot;&gt;\r\n    \t\t\t&lt;tr&gt;\r\n    \t\t\t\t&lt;td&gt;username:&lt;/td&gt;\r\n    \t\t\t\t&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;tr&gt;\r\n    \t\t\t\t&lt;td&gt;password:&lt;/td&gt;\r\n    \t\t\t\t&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;tr&gt;\r\n    \t\t\t\t&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;submit&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;td&gt;&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t&lt;/table&gt;\r\n    \t&lt;/form&gt;\r\n    \r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\nsuccess.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;title&gt;success&lt;/title&gt;\r\n    \r\n    &lt;head&gt;\r\n    \t&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    \t&lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body th:object=&quot;${user}&quot;&gt;\r\n    \t&lt;h3&gt;[[*{username}]]，success! &lt;/h3&gt;\r\n    \t&lt;table border=&quot;0&quot;&gt;\r\n    \t\t&lt;caption&gt;Your registration information is&lt;/caption&gt;\r\n    \r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;td&gt;username:&lt;/td&gt;\r\n    \t\t\t&lt;td th:text=&quot;*{username}&quot;&gt;&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;td&gt;password:&lt;/td&gt;\r\n    \t\t\t&lt;td th:text=&quot;*{password}&quot;&gt;&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t&lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;TestProgram&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;TestProgram&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nregister page\r\n[![register page][1]][1]\r\n\r\nsuccess page\r\n[![success page][2]][2]\r\n\r\n\r\nproject structure\r\n\r\n[![project structure][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x1xYr.jpg\r\n  [2]: https://i.stack.imgur.com/Cpwyl.jpg\r\n  [3]: https://i.stack.imgur.com/Y1l1i.jpg","title":"Thymeleaf Exception evaluating SpringEL","body":"<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestProgramApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestProgramApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.example;\n\npublic class User {\n    private Integer id;\n    private String username;\n    private String password;\n    public Integer getId() {\n        return id;\n    }\n    public void setId(Integer id) {\n        this.id = id;\n    }\n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n    \n}\n</code></pre>\n<p>UserController.java</p>\n<pre><code>package com.example;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n@Controller\npublic class UserController {\n\n    @GetMapping(&quot;/register&quot;)\n    public String doDefault() {\n        return &quot;register&quot;;\n    }\n\n    @PostMapping(&quot;/user/register&quot;)\n    public String register(User user) {\n        return &quot;success&quot;;\n    }\n}\n</code></pre>\n<p>register.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;title&gt;register&lt;/title&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n\n    &lt;form th:action=&quot;@{/user/register}&quot; method=&quot;post&quot;&gt;\n        &lt;table border=&quot;0&quot;&gt;\n            &lt;tr&gt;\n                &lt;td&gt;username:&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;password:&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;submit&quot; /&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form&gt;\n\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>success.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;title&gt;success&lt;/title&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body th:object=&quot;${user}&quot;&gt;\n    &lt;h3&gt;[[*{username}]]，success! &lt;/h3&gt;\n    &lt;table border=&quot;0&quot;&gt;\n        &lt;caption&gt;Your registration information is&lt;/caption&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;username:&lt;/td&gt;\n            &lt;td th:text=&quot;*{username}&quot;&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;password:&lt;/td&gt;\n            &lt;td th:text=&quot;*{password}&quot;&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestProgram&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TestProgram&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>register page\n<a href=\"https://i.stack.imgur.com/x1xYr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x1xYr.jpg\" alt=\"register page\" /></a></p>\n<p>success page\n<a href=\"https://i.stack.imgur.com/Cpwyl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cpwyl.jpg\" alt=\"success page\" /></a></p>\n<p>project structure</p>\n<p><a href=\"https://i.stack.imgur.com/Y1l1i.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1l1i.jpg\" alt=\"project structure\" /></a></p>\n"}],"owner":{"account_id":29211490,"reputation":3,"user_id":22379369,"display_name":"Adrian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76943496,"answer_count":1,"score":0,"last_activity_date":1692636069,"creation_date":1691839766,"question_id":76889066,"body_markdown":"I&#39;m a novice just learning using intellij idea and Thymeleaf,\r\n\r\nWhy can&#39;t I find out how to fix this problem how ever I try.\r\n\r\nUserController.java\r\n\r\n```\r\npackage com.test01.controller;\r\n\r\nimport com.test01.model.User;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n    @GetMapping(&quot;/register&quot;)\r\n    public String doDefault(){\r\n        return &quot;register&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String register(User user) {\r\n        return &quot;success&quot;;\r\n    }\r\n}\r\n```\r\n\r\nUser.java\r\n\r\n```\r\npackage com.test01.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\n\r\n@AllArgsConstructor\r\n@Data\r\npublic class User {\r\n    private Integer id;\r\n    private String username;\r\n    private String password;\r\n}\r\n```\r\n\r\nregister.html\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;register&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;form th:action=&quot;@{/user/register}&quot; method=&quot;post&quot;&gt;\r\n  &lt;table border=&quot;0&quot;&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;username:&lt;/td&gt;\r\n      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;password:&lt;/td&gt;\r\n      &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;submit&quot; /&gt;&lt;/td&gt;\r\n      &lt;td&gt;&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nsuccess.html\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;success&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body th:object=&quot;${user}&quot;&gt;\r\n&lt;h3&gt;[[*{usesrname}]]，success! &lt;/h3&gt;\r\n&lt;table border=&quot;0&quot;&gt;\r\n  &lt;caption&gt;Your registration information is&lt;/caption&gt;\r\n\r\n  &lt;tr&gt;\r\n    &lt;td&gt;username:&lt;/td&gt;\r\n    &lt;td th:text=&quot;*{username}&quot;&gt;&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n\r\n  &lt;tr&gt;\r\n    &lt;td&gt;password:&lt;/td&gt;\r\n    &lt;td th:text=&quot;*{password}&quot;&gt;&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/Ni9xK.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/aIrkO.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/S7wFP.png)\r\n\r\n\r\nCannot resolve &#39;username&#39;\r\nCannot resolve &#39;password&#39;\r\n","title":"Thymeleaf Exception evaluating SpringEL","body":"<p>I'm a novice just learning using intellij idea and Thymeleaf,</p>\n<p>Why can't I find out how to fix this problem how ever I try.</p>\n<p>UserController.java</p>\n<pre><code>package com.test01.controller;\n\nimport com.test01.model.User;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n    @GetMapping(&quot;/register&quot;)\n    public String doDefault(){\n        return &quot;register&quot;;\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public String register(User user) {\n        return &quot;success&quot;;\n    }\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.test01.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\n@AllArgsConstructor\n@Data\npublic class User {\n    private Integer id;\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>register.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;register&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form th:action=&quot;@{/user/register}&quot; method=&quot;post&quot;&gt;\n  &lt;table border=&quot;0&quot;&gt;\n    &lt;tr&gt;\n      &lt;td&gt;username:&lt;/td&gt;\n      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td&gt;password:&lt;/td&gt;\n      &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;submit&quot; /&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>success.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;success&lt;/title&gt;\n&lt;/head&gt;\n&lt;body th:object=&quot;${user}&quot;&gt;\n&lt;h3&gt;[[*{usesrname}]]，success! &lt;/h3&gt;\n&lt;table border=&quot;0&quot;&gt;\n  &lt;caption&gt;Your registration information is&lt;/caption&gt;\n\n  &lt;tr&gt;\n    &lt;td&gt;username:&lt;/td&gt;\n    &lt;td th:text=&quot;*{username}&quot;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n\n  &lt;tr&gt;\n    &lt;td&gt;password:&lt;/td&gt;\n    &lt;td th:text=&quot;*{password}&quot;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ni9xK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/aIrkO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/S7wFP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Cannot resolve 'username'\nCannot resolve 'password'</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9758,"page":234,"page_size":100}
