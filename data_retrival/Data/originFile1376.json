{"items":[{"tags":["java","gmail","jakarta-mail","gmail-pop"],"comments":[{"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"score":0,"creation_date":1287252060,"post_id":3950033,"comment_id":4219295,"body_markdown":"Are you using Transport.send() or Transport.sendMessage()?","body":"Are you using Transport.send() or Transport.sendMessage()?"},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1287252701,"post_id":3950033,"comment_id":4219339,"body_markdown":"transport.sendMessage(msg, msg.getAllRecipients());","body":"transport.sendMessage(msg, msg.getAllRecipients());"}],"answers":[{"tags":[],"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287252848,"creation_date":1287252848,"answer_id":3950172,"question_id":3950033,"body_markdown":"Before you call `transport.sendMessage()`, try calling `msg.saveChanges()`  \r\nThe send() function calls this before calling sendMessage(), but if you are using sendMessage() yourself, you will have to call this to make sure any headers are saved.","title":"gmail reply to not working with javamail: cannot set reply","body":"<p>Before you call <code>transport.sendMessage()</code>, try calling <code>msg.saveChanges()</code><br>\nThe send() function calls this before calling sendMessage(), but if you are using sendMessage() yourself, you will have to call this to make sure any headers are saved.</p>\n"}],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1651685857,"creation_date":1287250954,"question_id":3950033,"body_markdown":"I can send mails with gmail with javamail\r\n\r\nBut i cannot set the reply to anyhow...\r\n\r\nthe code i m using is...\r\n\r\n       //the actual mail id someone@gmail.com\r\n       ccAddress = new InternetAddress( &quot;someone+something@gmail.com&quot;);\r\n\r\n            msg.setFrom(ccAddress);\r\n\r\n            Address[] addresses = new Address[1];\r\n            //actually i want to addressee to reply-to\r\n            addresses[0] = new InternetAddress( &quot;someone@yahoo.com&quot; );\r\n            msg.setReplyTo(addresses);\r\n\r\n            msg.setSubject(subject);\r\n            msg.setText(text);\r\n            msg.setHeader(&quot;MIME-Version&quot; , &quot;1.0&quot; );\r\n            msg.setHeader(&quot;Content-Type&quot; , &quot;text/html&quot; );\r\n            msg.setHeader(&quot;X-Mailer&quot;, &quot;Recommend-It Mailer V2.03c02&quot;);\r\n\r\n\r\n  [1]: http://www.google.com/support/forum/p/gmail/thread?tid=74d00d5e2605242d&amp;hl=en","title":"gmail reply to not working with javamail: cannot set reply","body":"<p>I can send mails with gmail with javamail</p>\n<p>But i cannot set the reply to anyhow...</p>\n<p>the code i m using is...</p>\n<pre><code>   //the actual mail id someone@gmail.com\n   ccAddress = new InternetAddress( &quot;someone+something@gmail.com&quot;);\n\n        msg.setFrom(ccAddress);\n\n        Address[] addresses = new Address[1];\n        //actually i want to addressee to reply-to\n        addresses[0] = new InternetAddress( &quot;someone@yahoo.com&quot; );\n        msg.setReplyTo(addresses);\n\n        msg.setSubject(subject);\n        msg.setText(text);\n        msg.setHeader(&quot;MIME-Version&quot; , &quot;1.0&quot; );\n        msg.setHeader(&quot;Content-Type&quot; , &quot;text/html&quot; );\n        msg.setHeader(&quot;X-Mailer&quot;, &quot;Recommend-It Mailer V2.03c02&quot;);\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1651684008,"post_id":72116406,"comment_id":127423478,"body_markdown":"Hard to say without knowing what your Java code looked like, or which method you&#39;re trying to get a reference to. Are you familiar with how to use varags in Kotlin? You can&#39;t spread a nullable array. Any why would you try to pass `null` for the class type parameter of a method? It doesn&#39;t make sense.","body":"Hard to say without knowing what your Java code looked like, or which method you&#39;re trying to get a reference to. Are you familiar with how to use varags in Kotlin? You can&#39;t spread a nullable array. Any why would you try to pass <code>null</code> for the class type parameter of a method? It doesn&#39;t make sense."},{"owner":{"account_id":24902121,"reputation":51,"user_id":18772676,"display_name":"ldPr"},"score":0,"creation_date":1651684599,"post_id":72116406,"comment_id":127423681,"body_markdown":"@Tenfour04 I edited the question with code in java","body":"@Tenfour04 I edited the question with code in java"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651685762,"creation_date":1651685762,"answer_id":72117233,"question_id":72116406,"body_markdown":"Your Java code is explicitly passing a null array as the varargs, which is unnecessary. You could simplify your Java code to the following, which implicitly passes an empty array:\r\n\r\n```java\r\nMethod m = myDevice.getClass().getMethod(&quot;isConnected&quot;);\r\nconnected = (boolean) m.invoke(myDevice);\r\n```\r\n\r\nLikewise, in Kotlin, you can omit the varargs if you&#39;re passing zero values:\r\n```kotlin\r\nval m = myDevice.javaClass.getMethod(&quot;isConnected&quot;)\r\nconnected = m.invoke(myDevice) as Boolean\r\n```\r\n\r\nJava allows the null array for backward compatibility (to versions that used arrays instead of varargs) and because it doesn&#39;t have null safety. Since Kotlin doesn&#39;t need the backward compatibility, it doesn&#39;t need to support null arrays.","title":"How to solve error with spread operator in kotlin?","body":"<p>Your Java code is explicitly passing a null array as the varargs, which is unnecessary. You could simplify your Java code to the following, which implicitly passes an empty array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Method m = myDevice.getClass().getMethod(&quot;isConnected&quot;);\nconnected = (boolean) m.invoke(myDevice);\n</code></pre>\n<p>Likewise, in Kotlin, you can omit the varargs if you're passing zero values:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val m = myDevice.javaClass.getMethod(&quot;isConnected&quot;)\nconnected = m.invoke(myDevice) as Boolean\n</code></pre>\n<p>Java allows the null array for backward compatibility (to versions that used arrays instead of varargs) and because it doesn't have null safety. Since Kotlin doesn't need the backward compatibility, it doesn't need to support null arrays.</p>\n"}],"owner":{"account_id":24902121,"reputation":51,"user_id":18772676,"display_name":"ldPr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72117233,"answer_count":1,"score":1,"last_activity_date":1651685762,"creation_date":1651681721,"question_id":72116406,"body_markdown":"\r\nI&#39;m a Kotlin developer but I&#39;m working on a java project, but when converting the classes through the sdk, this error appears.\r\n    How to solve?\r\n\r\n\r\n    fun deviceIsConnected(): Boolean {\r\n        var connected = false\r\n        val myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter()\r\n        if (myBluetoothAdapter != null &amp;&amp; myBluetoothAdapter.isEnabled) {\r\n            if (configsAndModels!!.strMACPROBE != null &amp;&amp; configsAndModels.strMACPROBE != &quot;&quot;) {\r\n                val myDevice = myBluetoothAdapter.getRemoteDevice(\r\n                    configsAndModels.strMACPROBE\r\n                )\r\n               try {\r\n                    val m = myDevice.javaClass.getMethod(&quot;isConnected&quot;, null as Array&lt;Class&lt;*&gt;&gt;?)) //ERROR ON THIS LINE\r\n                   connected =  m.invoke(myDevice, *null as Array&lt;Any?&gt;?) as Boolean //ERROR ON THIS LINE\r\n                } catch (e: Exception) {\r\n                    throw IllegalStateException(e)\r\n                }\r\n            }\r\n        }\r\n        return connected\r\n    }\r\n\r\n\r\n\r\n\r\nJAVA :\r\n\r\n     public boolean deviceIsConnected() {\r\n\r\n        boolean connected = false;\r\n        BluetoothAdapter myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        if (myBluetoothAdapter != null &amp;&amp; myBluetoothAdapter.isEnabled()) {\r\n            if (configsAndModels.getStrMACPROBE() != null &amp;&amp; !configsAndModels.getStrMACPROBE().equals(&quot;&quot;)) {\r\n                BluetoothDevice myDevice = myBluetoothAdapter.getRemoteDevice(configsAndModels.getStrMACPROBE());\r\n\r\n                try {\r\n                    Method m = myDevice.getClass().getMethod(&quot;isConnected&quot;, (Class[]) null);\r\n                    connected = (boolean) m.invoke(myDevice, (Object[]) null);\r\n                } catch (Exception e) {\r\n                    throw new IllegalStateException(e);\r\n                }\r\n            }\r\n        }\r\n        return connected;\r\n    }\r\n","title":"How to solve error with spread operator in kotlin?","body":"<p>I'm a Kotlin developer but I'm working on a java project, but when converting the classes through the sdk, this error appears.\nHow to solve?</p>\n<pre><code>fun deviceIsConnected(): Boolean {\n    var connected = false\n    val myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter()\n    if (myBluetoothAdapter != null &amp;&amp; myBluetoothAdapter.isEnabled) {\n        if (configsAndModels!!.strMACPROBE != null &amp;&amp; configsAndModels.strMACPROBE != &quot;&quot;) {\n            val myDevice = myBluetoothAdapter.getRemoteDevice(\n                configsAndModels.strMACPROBE\n            )\n           try {\n                val m = myDevice.javaClass.getMethod(&quot;isConnected&quot;, null as Array&lt;Class&lt;*&gt;&gt;?)) //ERROR ON THIS LINE\n               connected =  m.invoke(myDevice, *null as Array&lt;Any?&gt;?) as Boolean //ERROR ON THIS LINE\n            } catch (e: Exception) {\n                throw IllegalStateException(e)\n            }\n        }\n    }\n    return connected\n}\n</code></pre>\n<p>JAVA :</p>\n<pre><code> public boolean deviceIsConnected() {\n\n    boolean connected = false;\n    BluetoothAdapter myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (myBluetoothAdapter != null &amp;&amp; myBluetoothAdapter.isEnabled()) {\n        if (configsAndModels.getStrMACPROBE() != null &amp;&amp; !configsAndModels.getStrMACPROBE().equals(&quot;&quot;)) {\n            BluetoothDevice myDevice = myBluetoothAdapter.getRemoteDevice(configsAndModels.getStrMACPROBE());\n\n            try {\n                Method m = myDevice.getClass().getMethod(&quot;isConnected&quot;, (Class[]) null);\n                connected = (boolean) m.invoke(myDevice, (Object[]) null);\n            } catch (Exception e) {\n                throw new IllegalStateException(e);\n            }\n        }\n    }\n    return connected;\n}\n</code></pre>\n"},{"tags":["python","java","oop"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651685979,"post_id":72117218,"comment_id":127424183,"body_markdown":"There are two basic ways of approaching it: a. use a dedicated bridging api such as Jython or b. use text-based IO into/out of your Python class using something like `ProcessBuilder`","body":"There are two basic ways of approaching it: a. use a dedicated bridging api such as Jython or b. use text-based IO into/out of your Python class using something like <code>ProcessBuilder</code>"},{"owner":{"account_id":22415547,"reputation":11,"user_id":18970084,"display_name":"asdfghjkqwertyui"},"score":0,"creation_date":1651686114,"post_id":72117218,"comment_id":127424233,"body_markdown":"@g00se oh, I have heard of Jython before, but I didn&#39;t think it&#39;s capable of &quot;keeping&quot; an instantiated python object and call its methods.","body":"@g00se oh, I have heard of Jython before, but I didn&#39;t think it&#39;s capable of &quot;keeping&quot; an instantiated python object and call its methods."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651686279,"post_id":72117218,"comment_id":127424298,"body_markdown":"Well I&#39;m no expert on [Jython](https://www.jython.org/) but I think it will give you some degree of Integration","body":"Well I&#39;m no expert on <a href=\"https://www.jython.org/\" rel=\"nofollow noreferrer\">Jython</a> but I think it will give you some degree of Integration"},{"owner":{"account_id":6475833,"reputation":90575,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1651687842,"post_id":72117218,"comment_id":127424814,"body_markdown":"You can just wrap your object in a small [flask app](https://flask.palletsprojects.com/en/2.1.x/) (or whatever microframework you prefer) and then just query it from your Java process","body":"You can just wrap your object in a small <a href=\"https://flask.palletsprojects.com/en/2.1.x/\" rel=\"nofollow noreferrer\">flask app</a> (or whatever microframework you prefer) and then just query it from your Java process"}],"owner":{"account_id":22415547,"reputation":11,"user_id":18970084,"display_name":"asdfghjkqwertyui"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651685673,"creation_date":1651685673,"question_id":72117218,"body_markdown":"I&#39;m trying to integrate my Python backend program into a project that&#39;s predominantly written in Java, and I was wondering if there is any way I could create, &quot;maintain&quot;, and call a certain Python object from Java code.\r\nIn particular: I have a &quot;Head&quot; class in my Python code that contains a bunch of useful methods I&#39;d like to call and get their output from a Java code. A solution to this would be to write a script that instantiates and runs methods in &quot;Head&quot; every time it&#39;s necessary. The problem is, however, that Head takes a lot of time to instantiate (I have to load some models, etc.), and therefore it would be much more time-effective to keep it running in the background. Is this by any chance possible? Or am I just thinking of something that is not possible to do in a reasonable way? I couldn&#39;t find anything helpful on the internet. Thank you.","title":"Using an instance of a Python object from a Java code","body":"<p>I'm trying to integrate my Python backend program into a project that's predominantly written in Java, and I was wondering if there is any way I could create, &quot;maintain&quot;, and call a certain Python object from Java code.\nIn particular: I have a &quot;Head&quot; class in my Python code that contains a bunch of useful methods I'd like to call and get their output from a Java code. A solution to this would be to write a script that instantiates and runs methods in &quot;Head&quot; every time it's necessary. The problem is, however, that Head takes a lot of time to instantiate (I have to load some models, etc.), and therefore it would be much more time-effective to keep it running in the background. Is this by any chance possible? Or am I just thinking of something that is not possible to do in a reasonable way? I couldn't find anything helpful on the internet. Thank you.</p>\n"},{"tags":["java","saml","adfs","shibboleth","opensaml"],"answers":[{"tags":[],"owner":{"account_id":4295147,"reputation":15433,"user_id":3510410,"display_name":"Vladim&#237;r Sch&#228;fer"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1651685602,"creation_date":1422696111,"answer_id":28250066,"question_id":28240458,"body_markdown":"Your application needs to act as a SAML SP, either directly (from your code), or indirectly (e.g. through SAML SP support on reverse proxy, application server, ...).\r\n\r\nFor **direct options** (which require more modifications to your application) you can:\r\n\r\n- code the SAML SP yourself (most likely with [OpenSAML][1], you can find examples in sources of existing products)\r\n- use a ready-made product to integrate into your application, such as [Spring SAML][2] or [OpenAM Fedlet][3]\r\n\r\nFor **indirect options** (which require less modifications to your application) you can:\r\n\r\n- use [Shibboleth SAML SP plugins][4] or [mod_auth_mellon][8] on your Apache reverse proxy (if you use one)\r\n- deploy SAML SP as another application on your container (e.g. Spring SAML or OpenAM) and make it communicate with your application - so SAML SP performs authentication with ADFS and communicates this to your application e.g. through a shared cookie, or a custom token\r\n\r\nYou can find more comparison details and considerations [in this thread][5].\r\n\r\nADFS 3 should have support for OAuth Authorization Server and it might well be an easier way to integrate, see [here][6] and [here][7]. Implementing authentication using OAuth is generally significantly easier than SAML, with no relevant disadvantages.\r\n\r\n\r\n  [1]: https://wiki.shibboleth.net/confluence/display/OpenSAML/Home\r\n  [2]: http://projects.spring.io/spring-security-saml/\r\n  [3]: http://docs.forgerock.org/en/openam/12.0.0/dev-guide/index/chap-fedlet-java.html\r\n  [4]: https://shibboleth.atlassian.net/wiki/spaces/SP3/pages/2065335062/Apache\r\n  [5]: https://stackoverflow.com/questions/22908548/single-sign-on-in-spring-by-using-saml-extension-and-shibboleth/22934522#22934522\r\n  [6]: http://www.cloudidentity.com/blog/2013/07/30/securing-a-web-api-with-windows-server-2012-r2-adfs-and-katana/\r\n  [7]: https://github.com/nordvall/TokenClient/wiki/OAuth-2-Authorization-Code-grant-in-ADFS\r\n  [8]: https://github.com/latchset/mod_auth_mellon","title":"How do I talk to ADFS from Java?","body":"<p>Your application needs to act as a SAML SP, either directly (from your code), or indirectly (e.g. through SAML SP support on reverse proxy, application server, ...).</p>\n<p>For <strong>direct options</strong> (which require more modifications to your application) you can:</p>\n<ul>\n<li>code the SAML SP yourself (most likely with <a href=\"https://wiki.shibboleth.net/confluence/display/OpenSAML/Home\" rel=\"nofollow noreferrer\">OpenSAML</a>, you can find examples in sources of existing products)</li>\n<li>use a ready-made product to integrate into your application, such as <a href=\"http://projects.spring.io/spring-security-saml/\" rel=\"nofollow noreferrer\">Spring SAML</a> or <a href=\"http://docs.forgerock.org/en/openam/12.0.0/dev-guide/index/chap-fedlet-java.html\" rel=\"nofollow noreferrer\">OpenAM Fedlet</a></li>\n</ul>\n<p>For <strong>indirect options</strong> (which require less modifications to your application) you can:</p>\n<ul>\n<li>use <a href=\"https://shibboleth.atlassian.net/wiki/spaces/SP3/pages/2065335062/Apache\" rel=\"nofollow noreferrer\">Shibboleth SAML SP plugins</a> or <a href=\"https://github.com/latchset/mod_auth_mellon\" rel=\"nofollow noreferrer\">mod_auth_mellon</a> on your Apache reverse proxy (if you use one)</li>\n<li>deploy SAML SP as another application on your container (e.g. Spring SAML or OpenAM) and make it communicate with your application - so SAML SP performs authentication with ADFS and communicates this to your application e.g. through a shared cookie, or a custom token</li>\n</ul>\n<p>You can find more comparison details and considerations <a href=\"https://stackoverflow.com/questions/22908548/single-sign-on-in-spring-by-using-saml-extension-and-shibboleth/22934522#22934522\">in this thread</a>.</p>\n<p>ADFS 3 should have support for OAuth Authorization Server and it might well be an easier way to integrate, see <a href=\"http://www.cloudidentity.com/blog/2013/07/30/securing-a-web-api-with-windows-server-2012-r2-adfs-and-katana/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/nordvall/TokenClient/wiki/OAuth-2-Authorization-Code-grant-in-ADFS\" rel=\"nofollow noreferrer\">here</a>. Implementing authentication using OAuth is generally significantly easier than SAML, with no relevant disadvantages.</p>\n"},{"tags":[],"owner":{"account_id":50430,"reputation":2241,"user_id":150435,"accept_rate":75,"display_name":"Travis Spencer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598175205,"creation_date":1422777648,"answer_id":28260694,"question_id":28240458,"body_markdown":"The Resin Authenticators that Caucho provides aren&#39;t gonna help with federation. Instead, you need to add a ServletFilter that looks for unauthenticated users. When it finds one, you should direct them to a login page. On this, you should ask the user if they want to login directly to your site or federate to another organization. (This could be done by displaying a username/password form + logos of trusted third-parties.) In the former, direct login case, use the Resin Authenticator to check against your local user repo or however you&#39;re doing it now. For the federated case, use SAML.\r\n\r\nFederation would start by sending an authentication request to the trusted partner (the ADFS server). This is [a little XML document][1] packed into a form that will need a few things to be changed per request (e.g., creation time). This can be done with String.format -- nothing complicated. Send this authentication request to the SAML server (i.e., ADFS) at the organization the user selected. They&#39;ll login and send the authentication response to some &quot;Assertion Consumer Service&quot; that you need to create.\r\n\r\nAn ACS is just an endpoint that receives the SAML authentication response. This needs to be an unauthenticated endpoint that will parse and validate the reply from ADFS. Use OpenSAML to do this. There are quite a few things you need to do to make sure it&#39;s valid. For example, you must verify the digital signature of the assertion. You also need to check the issue time, that it&#39;s not in the future. Verify that the assertion is for you by checking the Destination in the confirmation data, audience, and recipient. Etc. Etc.\r\n\r\nIf this is beyond what you&#39;d like to code, checkout an open source or commercial SAML server. It needs to function as an SP, and should run in Resin to keep things simple. One candidate that is mean and lean is [Asimba][2]. You can deploy this into Resin, and it will take care of both the request and the reply.\r\n\r\n**A Note about OAuth**\r\n\r\nWhat you&#39;re contemplating here is federation (or Web single-sign on). OAuth isn&#39;t suited for federation. It is a protocol designed to do delegated authorization. The OpenID Foundation has extended OAuth 2 to support federation in the OpenID Connect profile of OAuth. ADFS doesn&#39;t support this federation protocol, and is limited to WS-Federation and SAML. Therefore, you should no be looking into OAuth if ADFS will be used by your partners.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SAML_2.0#HTTP_POST_Binding\r\n  [2]: http://sourceforge.net/p/asimba/wiki/Home/\r\n  [3]: http://twobo.com","title":"How do I talk to ADFS from Java?","body":"<p>The Resin Authenticators that Caucho provides aren't gonna help with federation. Instead, you need to add a ServletFilter that looks for unauthenticated users. When it finds one, you should direct them to a login page. On this, you should ask the user if they want to login directly to your site or federate to another organization. (This could be done by displaying a username/password form + logos of trusted third-parties.) In the former, direct login case, use the Resin Authenticator to check against your local user repo or however you're doing it now. For the federated case, use SAML.</p>\n<p>Federation would start by sending an authentication request to the trusted partner (the ADFS server). This is <a href=\"http://en.wikipedia.org/wiki/SAML_2.0#HTTP_POST_Binding\" rel=\"nofollow noreferrer\">a little XML document</a> packed into a form that will need a few things to be changed per request (e.g., creation time). This can be done with String.format -- nothing complicated. Send this authentication request to the SAML server (i.e., ADFS) at the organization the user selected. They'll login and send the authentication response to some &quot;Assertion Consumer Service&quot; that you need to create.</p>\n<p>An ACS is just an endpoint that receives the SAML authentication response. This needs to be an unauthenticated endpoint that will parse and validate the reply from ADFS. Use OpenSAML to do this. There are quite a few things you need to do to make sure it's valid. For example, you must verify the digital signature of the assertion. You also need to check the issue time, that it's not in the future. Verify that the assertion is for you by checking the Destination in the confirmation data, audience, and recipient. Etc. Etc.</p>\n<p>If this is beyond what you'd like to code, checkout an open source or commercial SAML server. It needs to function as an SP, and should run in Resin to keep things simple. One candidate that is mean and lean is <a href=\"http://sourceforge.net/p/asimba/wiki/Home/\" rel=\"nofollow noreferrer\">Asimba</a>. You can deploy this into Resin, and it will take care of both the request and the reply.</p>\n<p><strong>A Note about OAuth</strong></p>\n<p>What you're contemplating here is federation (or Web single-sign on). OAuth isn't suited for federation. It is a protocol designed to do delegated authorization. The OpenID Foundation has extended OAuth 2 to support federation in the OpenID Connect profile of OAuth. ADFS doesn't support this federation protocol, and is limited to WS-Federation and SAML. Therefore, you should no be looking into OAuth if ADFS will be used by your partners.</p>\n"}],"owner":{"account_id":361931,"reputation":8776,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27869,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"closed_date":1473178293,"accepted_answer_id":28250066,"answer_count":2,"score":9,"last_activity_date":1651685602,"creation_date":1422635769,"question_id":28240458,"body_markdown":"We have a website running on Caucho Resin. It&#39;s written primarily in Java using JSP. We have our own custom authentication on the site. (We&#39;re not using any third party authentication frameworks.) We would now like to support federation using SAML. Primarily, the IdPs will be running ADFS, but my question is about SAML. In particular, **how do I federate with the upstream IdPs from our Java app** either using OpenSAML, Shibboleth or some other Java-compatible option?\r\n\r\nEDIT: Another option would be OAuth. Pros? Cons?","title":"How do I talk to ADFS from Java?","body":"<p>We have a website running on Caucho Resin. It's written primarily in Java using JSP. We have our own custom authentication on the site. (We're not using any third party authentication frameworks.) We would now like to support federation using SAML. Primarily, the IdPs will be running ADFS, but my question is about SAML. In particular, <strong>how do I federate with the upstream IdPs from our Java app</strong> either using OpenSAML, Shibboleth or some other Java-compatible option?</p>\n<p>EDIT: Another option would be OAuth. Pros? Cons?</p>\n"},{"tags":["java","spring","maven","spring-security"],"answers":[{"tags":[],"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1561568193,"creation_date":1561560805,"answer_id":56775643,"question_id":56775550,"body_markdown":"It looks that your current `spring-security` dependency is only for `test` scope.\r\n\r\nIf we follow the tutorial, it states that you have to add the following dependency for `WebSecurityConfig`:\r\n\r\n    &lt;dependencies&gt;\r\n        ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        ...\r\n    &lt;/dependencies&gt;\r\n\r\nNote that the scope is not set here, i.e. it will be the default scope, which is `compile`.\r\n\r\nYou may need to manually re-import the maven project after changing dependencies:\r\n[![Manually re-import maven project in IntelliJ IDEA][1]][1]\r\n\r\nAfter re-importing, the dependencies in `pom.xml` shouldn&#39;t be displayed as red.\r\n\r\n## Slight update\r\nTo be 146% sure, here is my pom.xml that works:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-securing-web&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n## Update 2 - fix of actual current problem\r\nActually the problem (as well as in the question text itself) is just a missing `import` of `HttpSecurity` class in `WebSecurityConfig`.\r\n\r\nSo adding \r\n\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\r\nwill make the code compile and `SpringSiteApplication` start.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sU5Aj.png\r\n\r\n## Update 3 - what was the REAL problem after we investigated it via TeamViewer.\r\n\r\nThe Spring dependencies haven&#39;t been downloaded, since the computer had no access to central maven repo (https://repo.maven.apache.org/maven2). \r\nAfter disabling Windows firewall, the connections started to work.\r\n\r\nIDEA was too slow when updating repo indexes, but a command-line `mvn install` helped to finally download the libraries. After it, the IDEA started to show the imported classes as well.","title":"Can not resolve symbol &quot;security&quot; in spring boot application","body":"<p>It looks that your current <code>spring-security</code> dependency is only for <code>test</code> scope.</p>\n\n<p>If we follow the tutorial, it states that you have to add the following dependency for <code>WebSecurityConfig</code>:</p>\n\n<pre><code>&lt;dependencies&gt;\n    ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    ...\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Note that the scope is not set here, i.e. it will be the default scope, which is <code>compile</code>.</p>\n\n<p>You may need to manually re-import the maven project after changing dependencies:\n<a href=\"https://i.stack.imgur.com/sU5Aj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sU5Aj.png\" alt=\"Manually re-import maven project in IntelliJ IDEA\"></a></p>\n\n<p>After re-importing, the dependencies in <code>pom.xml</code> shouldn't be displayed as red.</p>\n\n<h2>Slight update</h2>\n\n<p>To be 146% sure, here is my pom.xml that works:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;gs-securing-web&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<h2>Update 2 - fix of actual current problem</h2>\n\n<p>Actually the problem (as well as in the question text itself) is just a missing <code>import</code> of <code>HttpSecurity</code> class in <code>WebSecurityConfig</code>.</p>\n\n<p>So adding </p>\n\n<pre><code>import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n</code></pre>\n\n<p>will make the code compile and <code>SpringSiteApplication</code> start.</p>\n\n<h2>Update 3 - what was the REAL problem after we investigated it via TeamViewer.</h2>\n\n<p>The Spring dependencies haven't been downloaded, since the computer had no access to central maven repo (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2</a>). \nAfter disabling Windows firewall, the connections started to work.</p>\n\n<p>IDEA was too slow when updating repo indexes, but a command-line <code>mvn install</code> helped to finally download the libraries. After it, the IDEA started to show the imported classes as well.</p>\n"}],"owner":{"account_id":15769628,"reputation":223,"user_id":11379043,"display_name":"Eliro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16731,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56775643,"answer_count":1,"score":4,"last_activity_date":1651685446,"creation_date":1561560484,"question_id":56775550,"body_markdown":"I&#39;m trying to learn Java Spring and doing exactly like here: https://spring.io/guides/gs/securing-web/\r\n\r\nBut my IDE says &quot;cannot resolve &#39;security&#39; symbol&quot; while importing config. I&#39;m using the same version of spring and have the same code. I don&#39;t know what is wrong.\r\n\r\n```\r\npackage com.github.SpringSite.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll();\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\nMy pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.github&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringSite&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringSite&lt;/name&gt;\r\n\t&lt;description&gt;Simple website using Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI would also be grateful for the recommendation of a good guide to learn spring. ","title":"Can not resolve symbol &quot;security&quot; in spring boot application","body":"<p>I'm trying to learn Java Spring and doing exactly like here: <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/securing-web/</a></p>\n\n<p>But my IDE says \"cannot resolve 'security' symbol\" while importing config. I'm using the same version of spring and have the same code. I don't know what is wrong.</p>\n\n<pre><code>package com.github.SpringSite.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(\"/\", \"/home\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(\"/login\")\n                .permitAll()\n                .and()\n                .logout()\n                .permitAll();\n    }\n\n    @Bean\n    @Override\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(\"user\")\n                        .password(\"password\")\n                        .roles(\"USER\")\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n\n<p>My pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.github&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringSite&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringSite&lt;/name&gt;\n    &lt;description&gt;Simple website using Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I would also be grateful for the recommendation of a good guide to learn spring. </p>\n"},{"tags":["java","regex","stored-procedures"],"comments":[{"owner":{"account_id":25184826,"reputation":1,"user_id":19025850,"display_name":"Pradip Trimbak Ghadage"},"score":0,"creation_date":1651654794,"post_id":72102463,"comment_id":127412413,"body_markdown":"In the stored procedure, It only allows run ids with prefix &quot;INF&quot;. as my requirement is, it should allow all types of run ids with prefixes ABCINF----, FDRINF---. basically I want to add regex to allow optional prefixes(ABC,FDR..) with fixed prefixes(INF).","body":"In the stored procedure, It only allows run ids with prefix &quot;INF&quot;. as my requirement is, it should allow all types of run ids with prefixes ABCINF----, FDRINF---. basically I want to add regex to allow optional prefixes(ABC,FDR..) with fixed prefixes(INF)."}],"answers":[{"tags":[],"owner":{"account_id":15985229,"reputation":174,"user_id":11535905,"display_name":"Hein"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651685360,"creation_date":1651685360,"answer_id":72117154,"question_id":72102463,"body_markdown":"`^(?:ABC|XY)?INF\\d{10}$`\r\n\r\n`(?:ABC|XY)?` matches the prefixes `ABC` OR `XY` once or 0 times, this can be expanded by adding more `|` and the new prefix within the parentheses\r\n\r\n`INF` matches the prefix `INF` once, if this doesnt exist the ID will not match\r\n\r\n`\\d{10}` matches the 10 digits at the end, this assumes that they are in the valid format of `YYYYMMDDHH`\r\n\r\nThe expression assumes each ID is in it&#39;s own line\r\n\r\n[Here are some examples](https://regex101.com/r/Wup12k/1)","title":"I want to use regex in stored procedure","body":"<p><code>^(?:ABC|XY)?INF\\d{10}$</code></p>\n<p><code>(?:ABC|XY)?</code> matches the prefixes <code>ABC</code> OR <code>XY</code> once or 0 times, this can be expanded by adding more <code>|</code> and the new prefix within the parentheses</p>\n<p><code>INF</code> matches the prefix <code>INF</code> once, if this doesnt exist the ID will not match</p>\n<p><code>\\d{10}</code> matches the 10 digits at the end, this assumes that they are in the valid format of <code>YYYYMMDDHH</code></p>\n<p>The expression assumes each ID is in it's own line</p>\n<p><a href=\"https://regex101.com/r/Wup12k/1\" rel=\"nofollow noreferrer\">Here are some examples</a></p>\n"}],"owner":{"account_id":25184826,"reputation":1,"user_id":19025850,"display_name":"Pradip Trimbak Ghadage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651685360,"creation_date":1651594802,"question_id":72102463,"body_markdown":"I have a stored procedure which prepare run ids with the following format.\r\n&gt; INFYYYYMMDDHH - run id e.g. INF2022051312 - hour  is 12 13rd of May 2022\r\n&gt; It set prefix as \r\n\r\n    c_run_id_prefix       constant varchar2(3) := &#39;INF&#39;\r\n\r\nI want to make it more generic where it will allow run ids with prefix likes e.g.\r\nINF2022051312, ABCINF202205312, XYINF2022105312 etc.\r\n\r\n\r\n","title":"I want to use regex in stored procedure","body":"<p>I have a stored procedure which prepare run ids with the following format.</p>\n<blockquote>\n<p>INFYYYYMMDDHH - run id e.g. INF2022051312 - hour  is 12 13rd of May 2022\nIt set prefix as</p>\n</blockquote>\n<pre><code>c_run_id_prefix       constant varchar2(3) := 'INF'\n</code></pre>\n<p>I want to make it more generic where it will allow run ids with prefix likes e.g.\nINF2022051312, ABCINF202205312, XYINF2022105312 etc.</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651678608,"creation_date":1651678608,"answer_id":72115713,"question_id":72115159,"body_markdown":"I do believe the correct JPQL query should look like:\r\n\r\n```\r\nselect f from Foo f where f.id in (\r\n select b.id from f.bars b where b.value=:toMatch\r\n)\r\n```","title":"How to query a given parameter with nested value inside a Set (or Collection)?","body":"<p>I do believe the correct JPQL query should look like:</p>\n<pre><code>select f from Foo f where f.id in (\n select b.id from f.bars b where b.value=:toMatch\n)\n</code></pre>\n"}],"owner":{"account_id":4756794,"reputation":3150,"user_id":3845362,"accept_rate":62,"display_name":"Edito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651685336,"creation_date":1651676241,"question_id":72115159,"body_markdown":"I have an entity `Foo` with an embedded collection of `Bar`s. \r\n```\r\n@Entity\r\n@Table(name = &quot;foo&quot;)\r\npublic class Foo {\r\n\r\n\t@ElementCollection(fetch = FetchType.EAGER)\r\n\t@CollectionTable(name = &quot;bar&quot;, joinColumns = @JoinColumn(name = &quot;foo_id&quot;))\r\n    private Set&lt;Bar&gt; bars = new HashSet&lt;&gt;();\r\n    \r\n    //...\r\n}\r\n\r\n@Embeddable\r\npublic class Bar {\r\n\r\n\t@Column(name = &quot;value&quot;, nullable = false)\r\n\tprivate String value;\r\n\r\n    //...\r\n}\r\n```\r\n\r\nI&#39;d like to find all `Foo`s that match a given parameter (String) inside of the Set.\r\n\r\nSome pseudo-code of what I want to achieve in JPQL:\r\n```\r\nFoo find(String toMatch) {\r\n    return allFoos.stream()\r\n            .filter(f -&gt; f.getBars.stream()\r\n                    .map(Bar::getValue)\r\n                    .anyMatch(value -&gt; value.equals(toMatch)))\r\n            .findFirst()\r\n            .get();\r\n}\r\n```\r\n\r\nHowever when I try this query:\r\n```\r\n@Repository\r\npublic interface FooRepository extends JpaRepository&lt;Foo, Long&gt; {\r\n    @Query(&quot;select f from Foo f &quot; +\r\n\t\t\t&quot;where (&quot; +\r\n\t\t\t&quot;  :toMatch in f.bars.value &quot; +\r\n\t\t\t&quot;)&quot;)\r\n    Optional&lt;Foo&gt; find(@Param(&quot;toMatch&quot;) String toMatch);\r\n}\r\n```\r\n\r\nIt throws: \r\n\r\n&gt; Caused by: org.hibernate.QueryException: illegal attempt to\r\n&gt; dereference collection [foo.id.bars] with element property reference\r\n&gt; [value]\r\n\r\nI&#39;d like to avoid a solution where I need to join multiple tables. This is pseudo code, but the actual query is filled with tons of big &#39;ol complex enterprise SQL where or and statements. So the less joins the better.","title":"How to query a given parameter with nested value inside a Set (or Collection)?","body":"<p>I have an entity <code>Foo</code> with an embedded collection of <code>Bar</code>s.</p>\n<pre><code>@Entity\n@Table(name = &quot;foo&quot;)\npublic class Foo {\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;bar&quot;, joinColumns = @JoinColumn(name = &quot;foo_id&quot;))\n    private Set&lt;Bar&gt; bars = new HashSet&lt;&gt;();\n    \n    //...\n}\n\n@Embeddable\npublic class Bar {\n\n    @Column(name = &quot;value&quot;, nullable = false)\n    private String value;\n\n    //...\n}\n</code></pre>\n<p>I'd like to find all <code>Foo</code>s that match a given parameter (String) inside of the Set.</p>\n<p>Some pseudo-code of what I want to achieve in JPQL:</p>\n<pre><code>Foo find(String toMatch) {\n    return allFoos.stream()\n            .filter(f -&gt; f.getBars.stream()\n                    .map(Bar::getValue)\n                    .anyMatch(value -&gt; value.equals(toMatch)))\n            .findFirst()\n            .get();\n}\n</code></pre>\n<p>However when I try this query:</p>\n<pre><code>@Repository\npublic interface FooRepository extends JpaRepository&lt;Foo, Long&gt; {\n    @Query(&quot;select f from Foo f &quot; +\n            &quot;where (&quot; +\n            &quot;  :toMatch in f.bars.value &quot; +\n            &quot;)&quot;)\n    Optional&lt;Foo&gt; find(@Param(&quot;toMatch&quot;) String toMatch);\n}\n</code></pre>\n<p>It throws:</p>\n<blockquote>\n<p>Caused by: org.hibernate.QueryException: illegal attempt to\ndereference collection [foo.id.bars] with element property reference\n[value]</p>\n</blockquote>\n<p>I'd like to avoid a solution where I need to join multiple tables. This is pseudo code, but the actual query is filled with tons of big 'ol complex enterprise SQL where or and statements. So the less joins the better.</p>\n"},{"tags":["java","constructor","default-value"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":1,"creation_date":1651670787,"post_id":72113723,"comment_id":127418093,"body_markdown":"classic case of inheritance. Create subclasses, use versions of super","body":"classic case of inheritance. Create subclasses, use versions of super"}],"answers":[{"tags":[],"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651671468,"creation_date":1651670827,"answer_id":72113755,"question_id":72113723,"body_markdown":"Create a second constructor that sets these values\r\n\r\n    public Animal(String spacies, String name, boolean isALive){\r\n        this(&quot;dog&quot;, name, 1, 1, true)\r\n    }","title":"Java constructor with default values","body":"<p>Create a second constructor that sets these values</p>\n<pre><code>public Animal(String spacies, String name, boolean isALive){\n    this(&quot;dog&quot;, name, 1, 1, true)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3484321,"reputation":540,"user_id":2915624,"accept_rate":87,"display_name":"IfOnly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651685045,"creation_date":1651672061,"answer_id":72114076,"question_id":72113723,"body_markdown":"Best way is to use inheritance. Animal is abstract entity. You should derive specific animals from those.\r\nThere can be different approaches. Tried to provide one simple solution.\r\n\r\n        public abstract class Animal {\r\n    \r\n    \r\n        private final String species;\r\n        private final String name;\r\n        private final double weight;\r\n        private final byte age;\r\n        private final boolean isALive;\r\n    \r\n        public Animal(String species, String name, double weight, byte age, boolean isAlive) {\r\n            this.species = species;\r\n            this.name = name;\r\n            this.weight = weight;\r\n            this.age = age;\r\n            this.isALive = isAlive;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Dog extends Animal {\r\n        public Dog(String dogName, boolean isAlive) {\r\n            super(&quot;Dog&quot;, dogName, 1.0, (byte) 1,isAlive);\r\n        }\r\n    }\r\n\r\nTry relating to real world when working on OOPS concepts.","title":"Java constructor with default values","body":"<p>Best way is to use inheritance. Animal is abstract entity. You should derive specific animals from those.\nThere can be different approaches. Tried to provide one simple solution.</p>\n<pre><code>    public abstract class Animal {\n\n\n    private final String species;\n    private final String name;\n    private final double weight;\n    private final byte age;\n    private final boolean isALive;\n\n    public Animal(String species, String name, double weight, byte age, boolean isAlive) {\n        this.species = species;\n        this.name = name;\n        this.weight = weight;\n        this.age = age;\n        this.isALive = isAlive;\n    }\n\n}\n\nclass Dog extends Animal {\n    public Dog(String dogName, boolean isAlive) {\n        super(&quot;Dog&quot;, dogName, 1.0, (byte) 1,isAlive);\n    }\n}\n</code></pre>\n<p>Try relating to real world when working on OOPS concepts.</p>\n"}],"owner":{"account_id":25193602,"reputation":3,"user_id":19033473,"display_name":"Matthew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114076,"answer_count":2,"score":0,"last_activity_date":1651685045,"creation_date":1651670681,"question_id":72113723,"body_markdown":"thx for reading.\r\n\r\nI need to create constructor, which in one case has default values example below.\r\nthis code is wrong of course, Is it possible to do that it means in case &quot;dog&quot; constructor will not ask for parameters: weight, age and will fill up class fields: weight=1, age=1.\r\nIn another case for example cat will ask for all parameters? How usually this problem is solved?\r\n\r\n    public Animal(String spacies, String name, double weight, byte age, boolean isALive){\r\n\r\n        if (spacies.equals(&quot;dog&quot;)) {\r\n\r\n            this.name = name;\r\n            this.weight= 1;\r\n            this.age = 1;\r\n            this.isALive = isALive;\r\n\r\n        } else {\r\n            this.spacies = spacies;\r\n            this.name = name;\r\n            this.weight = weight;\r\n            this.age = age;\r\n            this.isALive = isALive;\r\n        }\r\n    }","title":"Java constructor with default values","body":"<p>thx for reading.</p>\n<p>I need to create constructor, which in one case has default values example below.\nthis code is wrong of course, Is it possible to do that it means in case &quot;dog&quot; constructor will not ask for parameters: weight, age and will fill up class fields: weight=1, age=1.\nIn another case for example cat will ask for all parameters? How usually this problem is solved?</p>\n<pre><code>public Animal(String spacies, String name, double weight, byte age, boolean isALive){\n\n    if (spacies.equals(&quot;dog&quot;)) {\n\n        this.name = name;\n        this.weight= 1;\n        this.age = 1;\n        this.isALive = isALive;\n\n    } else {\n        this.spacies = spacies;\n        this.name = name;\n        this.weight = weight;\n        this.age = age;\n        this.isALive = isALive;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jar","classpath"],"answers":[{"tags":[],"owner":{"account_id":5926657,"reputation":19289,"user_id":4662347,"accept_rate":72,"display_name":"Ville Miekk-oja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1591470869,"creation_date":1591470869,"answer_id":62236810,"question_id":62235389,"body_markdown":"Got this fixed by updating maven package spring-boot-starter-parent from 1.5.2.RELEASE to 2.3.0.RELEASE version","title":"java.lang.NoClassDefFoundError: io/jsonwebtoken/Jwts - maven spring-boot","body":"<p>Got this fixed by updating maven package spring-boot-starter-parent from 1.5.2.RELEASE to 2.3.0.RELEASE version</p>\n"},{"tags":[],"owner":{"account_id":4220180,"reputation":1337,"user_id":3455146,"accept_rate":70,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651684968,"creation_date":1651684968,"answer_id":72117066,"question_id":62235389,"body_markdown":"below worked for me in java V18, referred from [Link][1]\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/Adobe-Consulting-Services/acs-aem-commons/pull/2530/files","title":"java.lang.NoClassDefFoundError: io/jsonwebtoken/Jwts - maven spring-boot","body":"<p>below worked for me in java V18, referred from <a href=\"https://github.com/Adobe-Consulting-Services/acs-aem-commons/pull/2530/files\" rel=\"nofollow noreferrer\">Link</a></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-gson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5926657,"reputation":19289,"user_id":4662347,"accept_rate":72,"display_name":"Ville Miekk-oja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62236810,"answer_count":2,"score":1,"last_activity_date":1651684968,"creation_date":1591464331,"question_id":62235389,"body_markdown":"java.lang.NoClassDefFoundError: io/jsonwebtoken/Jwts\r\n\r\nWhen I run locally with mvn spring-boot:run , there&#39;s no problem.\r\n\r\nBut when I package my application into a fully executable jar with mvn clean install and then run the jar as a systemd service, I get this error seen above.\r\n\r\nIt comes from this line:\r\n\r\n`String user = Jwts.parser()...`\r\n\r\nSome information:\r\nVersion of this package that the issue occurs: 0.11.1\r\nPlatform: Ubuntu 18.04\r\nRelated dependency in maven pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;0.11.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAlso I checked the generated jar file, the dependency jjwt-impl.0.11.1 is there:\r\n\r\n```\r\nBOOT-INF.lib.jjwt-impl-0.11.1.jar\r\nBOOT-INF.lib.jjwt-api-0.11.1.jar\r\nBOOT-INF.lib.jjwt-jackson-0.11.1.jar\r\n```\r\nDon&#39;t know how to solve this. I thought just adding the io.jsonwebtoken to maven dependency would solve all things related to classpath etc..\r\n\r\nIm applying spring-boot-maven-plugin package to create the jar and command mvn clean install to create the fully executable jar file.\r\n\r\nWhen I printed out the classpath from within the jar application, it only points to that jar file itself, and nowhere else. Im not sure if that is how it should be. I thought all the dependencies should be compiled to that same jar, so in that sense it could make sense.\r\n\r\nAlso made an issue to official jjwt library here: https://github.com/jwtk/jjwt/issues/599\r\nBut this might be a problem related more to spring-boot?","title":"java.lang.NoClassDefFoundError: io/jsonwebtoken/Jwts - maven spring-boot","body":"<p>java.lang.NoClassDefFoundError: io/jsonwebtoken/Jwts</p>\n\n<p>When I run locally with mvn spring-boot:run , there's no problem.</p>\n\n<p>But when I package my application into a fully executable jar with mvn clean install and then run the jar as a systemd service, I get this error seen above.</p>\n\n<p>It comes from this line:</p>\n\n<p><code>String user = Jwts.parser()...</code></p>\n\n<p>Some information:\nVersion of this package that the issue occurs: 0.11.1\nPlatform: Ubuntu 18.04\nRelated dependency in maven pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n    &lt;version&gt;0.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Also I checked the generated jar file, the dependency jjwt-impl.0.11.1 is there:</p>\n\n<pre><code>BOOT-INF.lib.jjwt-impl-0.11.1.jar\nBOOT-INF.lib.jjwt-api-0.11.1.jar\nBOOT-INF.lib.jjwt-jackson-0.11.1.jar\n</code></pre>\n\n<p>Don't know how to solve this. I thought just adding the io.jsonwebtoken to maven dependency would solve all things related to classpath etc..</p>\n\n<p>Im applying spring-boot-maven-plugin package to create the jar and command mvn clean install to create the fully executable jar file.</p>\n\n<p>When I printed out the classpath from within the jar application, it only points to that jar file itself, and nowhere else. Im not sure if that is how it should be. I thought all the dependencies should be compiled to that same jar, so in that sense it could make sense.</p>\n\n<p>Also made an issue to official jjwt library here: <a href=\"https://github.com/jwtk/jjwt/issues/599\" rel=\"nofollow noreferrer\">https://github.com/jwtk/jjwt/issues/599</a>\nBut this might be a problem related more to spring-boot?</p>\n"},{"tags":["java","macos","homebrew","java-17","jenv"],"answers":[{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1651684701,"creation_date":1639084481,"answer_id":70296798,"question_id":70296797,"body_markdown":"Found that you need to register the java-17 dist in jenv using command:\r\n```\r\njenv add /usr/local/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home \r\n```\r\nThe path to `/usr/local/opt/openjdk@17/libexec/openjdk.jdk` you may take from your brew installation logs (found on the line `sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk ...`) and just add `/Contents/Home`\r\n\r\nNow, it works\r\n```bash\r\n&gt; jenv local 17.0\r\n&gt; java -version                                                                                                                                     \r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment Homebrew (build 17.0.1+1)\r\nOpenJDK 64-Bit Server VM Homebrew (build 17.0.1+1, mixed mode, sharing)\r\n```","title":"jenv can&#39;t find java 17 installed through the brew on MacOS","body":"<p>Found that you need to register the java-17 dist in jenv using command:</p>\n<pre><code>jenv add /usr/local/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home \n</code></pre>\n<p>The path to <code>/usr/local/opt/openjdk@17/libexec/openjdk.jdk</code> you may take from your brew installation logs (found on the line <code>sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk ...</code>) and just add <code>/Contents/Home</code></p>\n<p>Now, it works</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; jenv local 17.0\n&gt; java -version                                                                                                                                     \nopenjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment Homebrew (build 17.0.1+1)\nOpenJDK 64-Bit Server VM Homebrew (build 17.0.1+1, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23904,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":70296798,"answer_count":1,"score":23,"last_activity_date":1651684701,"creation_date":1639084481,"question_id":70296797,"body_markdown":"I&#39;m trying to install JDK 17 to macOS BigSur (11.5.2) using `brew install openjdk@17`\r\n```bash\r\n&gt; brew install openjdk@17\r\nRunning `brew update --preinstall`...\r\n==&gt; Auto-updated Homebrew!\r\nUpdated 1 tap (homebrew/core).\r\n==&gt; Updated Formulae\r\nUpdated 3 formulae.\r\n\r\nopenjdk  is already installed but outdated (so it will be upgraded).\r\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/manifests/17.0.1_1\r\n######################################################################## 100.0%\r\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/blobs/sha256:75ee17c1331022fa8bf1e63f00fe903f23fe31d3a09021117d46b5f6ed1e26e1\r\n==&gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:75ee17c1331022fa8bf1e63f00fe903f23fe31d3a09021117d46b5f6ed1e26e1?se=2021-12-09T20%3A25%3A00Z&amp;sig=NnB%2FO%2BGQF5ec6iqdKA4w29\r\n######################################################################## 100.0%\r\n==&gt; Pouring openjdk--17.0.1_1.big_sur.bottle.tar.gz\r\n==&gt; Caveats\r\nFor the system Java wrappers to find this JDK, symlink it with\r\n  sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n\r\nopenjdk is keg-only, which means it was not symlinked into /usr/local,\r\nbecause macOS provides similar software and installing this software in\r\nparallel can cause all kinds of trouble.\r\n\r\nIf you need to have openjdk first in your PATH, run:\r\n  echo &#39;export PATH=&quot;/usr/local/opt/openjdk/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n\r\nFor compilers to find openjdk you may need to set:\r\n  export CPPFLAGS=&quot;-I/usr/local/opt/openjdk/include&quot;\r\n\r\n```\r\nAfter installation `jenv` can&#39;t find the instance of java17\r\n```bash\r\njenv versions                                                                                                                               \r\n  system\r\n  1.8\r\n  1.8.0.161\r\n  1.8.0.181\r\n* 11.0\r\n  11.0.1\r\n  15.0\r\n  15.0.1\r\n  openjdk64-11.0.1\r\n  openjdk64-15.0.1\r\n  oracle64-1.8.0.161\r\n  oracle64-1.8.0.181\r\n```","title":"jenv can&#39;t find java 17 installed through the brew on MacOS","body":"<p>I'm trying to install JDK 17 to macOS BigSur (11.5.2) using <code>brew install openjdk@17</code></p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; brew install openjdk@17\nRunning `brew update --preinstall`...\n==&gt; Auto-updated Homebrew!\nUpdated 1 tap (homebrew/core).\n==&gt; Updated Formulae\nUpdated 3 formulae.\n\nopenjdk  is already installed but outdated (so it will be upgraded).\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/manifests/17.0.1_1\n######################################################################## 100.0%\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/blobs/sha256:75ee17c1331022fa8bf1e63f00fe903f23fe31d3a09021117d46b5f6ed1e26e1\n==&gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:75ee17c1331022fa8bf1e63f00fe903f23fe31d3a09021117d46b5f6ed1e26e1?se=2021-12-09T20%3A25%3A00Z&amp;sig=NnB%2FO%2BGQF5ec6iqdKA4w29\n######################################################################## 100.0%\n==&gt; Pouring openjdk--17.0.1_1.big_sur.bottle.tar.gz\n==&gt; Caveats\nFor the system Java wrappers to find this JDK, symlink it with\n  sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n\nopenjdk is keg-only, which means it was not symlinked into /usr/local,\nbecause macOS provides similar software and installing this software in\nparallel can cause all kinds of trouble.\n\nIf you need to have openjdk first in your PATH, run:\n  echo 'export PATH=&quot;/usr/local/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\n\nFor compilers to find openjdk you may need to set:\n  export CPPFLAGS=&quot;-I/usr/local/opt/openjdk/include&quot;\n\n</code></pre>\n<p>After installation <code>jenv</code> can't find the instance of java17</p>\n<pre class=\"lang-sh prettyprint-override\"><code>jenv versions                                                                                                                               \n  system\n  1.8\n  1.8.0.161\n  1.8.0.181\n* 11.0\n  11.0.1\n  15.0\n  15.0.1\n  openjdk64-11.0.1\n  openjdk64-15.0.1\n  oracle64-1.8.0.161\n  oracle64-1.8.0.181\n</code></pre>\n"},{"tags":["java","arrays","string","if-statement"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1651684484,"post_id":72116938,"comment_id":127423633,"body_markdown":"the problem is exactly what that message says: in the main method, you have declared two variables both called errorList","body":"the problem is exactly what that message says: in the main method, you have declared two variables both called errorList"}],"answers":[{"tags":[],"owner":{"account_id":18824026,"reputation":219,"user_id":13729386,"display_name":"Navneet agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651684653,"creation_date":1651684653,"answer_id":72117017,"question_id":72116938,"body_markdown":"You are declaring  errorList 2 times in your main function, line 91 and  line 102,\r\nNote that Java is a strongly typed language and one variable can have only one declaration in a scope, change the second one to errorList1 or something else and it should work fine","title":"How do I fix error for checkUserPassword method?","body":"<p>You are declaring  errorList 2 times in your main function, line 91 and  line 102,\nNote that Java is a strongly typed language and one variable can have only one declaration in a scope, change the second one to errorList1 or something else and it should work fine</p>\n"}],"owner":{"account_id":25195931,"reputation":15,"user_id":19035468,"display_name":"LawlessTJ "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72117017,"answer_count":1,"score":1,"last_activity_date":1651684653,"creation_date":1651684251,"question_id":72116938,"body_markdown":"After much work on this code, regarding the checkUserPassword method. I can 1 error and cannot seem to find what the problem is. What must be done to fix my code? *I am also not understanding what this error message means*\r\n\r\n  \r\n\r\n    import java.util.Scanner;  // Import the Scanner class\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import java.util.regex.Pattern;\r\n    \r\n    class Main{\r\n        \r\n    //checkUserName Method \r\n    static boolean checkUserName(String userName) {\r\n        boolean underscore = userName.contains(&quot;_&quot;);\r\n        if (userName.length() &lt;= 5 &amp;&amp; underscore == true) {\r\n            System.out.println(&quot;Username successfully captured \\n&quot;);\r\n            return true;\r\n        }\r\n        else{\r\n            System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters in length \\n&quot;);\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    //checkUserPassword Method (At least eight characters long, Contain a capital letter, Contain a number, Contain a special character) \r\n    static boolean checkUserPassword(String password, List&lt;String&gt; errorList) {\r\n    \r\n        Pattern specailCharPatten = Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\r\n        Pattern UpperCasePatten = Pattern.compile(&quot;[A-Z ]&quot;);\r\n        Pattern lowerCasePatten = Pattern.compile(&quot;[a-z ]&quot;);\r\n        Pattern digitCasePatten = Pattern.compile(&quot;[0-9 ]&quot;);\r\n        errorList.clear();\r\n    \r\n        boolean flag=true;\r\n    \r\n        \r\n        if (password.length() &lt; 8) {\r\n            errorList.add(&quot;Password lenght must have alleast 8 character !!&quot;);\r\n            flag=false;\r\n        }\r\n        if (!specailCharPatten.matcher(password).find()) {\r\n            errorList.add(&quot;Password must have atleast one specail character !!&quot;);\r\n            flag=false;\r\n        }\r\n        if (!UpperCasePatten.matcher(password).find()) {\r\n            errorList.add(&quot;Password must have atleast one uppercase character !!&quot;);\r\n            flag=false;\r\n        }\r\n        if (!lowerCasePatten.matcher(password).find()) {\r\n            errorList.add(&quot;Password must have atleast one lowercase character !!&quot;);\r\n            flag=false;\r\n        }\r\n        if (!digitCasePatten.matcher(password).find()) {\r\n            errorList.add(&quot;Password must have atleast one digit character !!&quot;);\r\n            flag=false;\r\n        }\r\n        \r\n        \r\n    \r\n    \r\n        return flag;\r\n    \r\n    }\r\n    \r\n    //registerUser method \r\n    static Boolean registerUser(){\r\n    \r\n        return true;\r\n    }\r\n    //\r\n    //loginUser method\r\n    static Boolean loginUser(){\r\n        return true;\r\n    }\r\n    //\r\n    //returnLoginStatus method\r\n    static Boolean returnLoginStatus(){\r\n        return true;\r\n    }\r\n    //\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Welcome to the User Register program! \\n&quot;);\r\n        Scanner firstname1 = new Scanner(System.in); // Create a Scanner object\r\n        System.out.println(&quot;Enter firstname: &quot;);\r\n        String firstName;\r\n        firstName = firstname1.nextLine(); // Read user input from keyboard\r\n        \r\n        Scanner surname1 = new Scanner(System.in); // Create a Scanner objec\r\n        System.out.println(&quot;Enter surname: &quot;);\r\n        String surName;\r\n        surName = surname1.nextLine(); // Read user input from keyboard\r\n        \r\n        List&lt;String&gt; errorList = new ArrayList&lt;String&gt;();\r\n        \r\n        Scanner name1 = new Scanner(System.in); // Create a Scanner object\r\n        System.out.println(&quot;Enter username: &quot;);\r\n        String userName;\r\n        userName = name1.nextLine(); // Read user input\r\n        checkUserName(userName);// call method \r\n        Scanner passw1= new Scanner(System.in);// Create a Scanner object\r\n        System.out.println(&quot;Enter password:  &quot;);\r\n        String password;\r\n        password= passw1.nextLine(); //Read user input\r\n        List&lt;String&gt; errorList = new ArrayList&lt;String&gt;();\r\n        checkUserPassword(&quot;hello&quot;, errorList);\r\n        System.out.println(errorList);// call method \r\n        \r\n        System.out.println(&quot;Welcome &quot;+ firstName+&quot; &quot;+ surName+ &quot; it is great to see you.&quot;);\r\n    \r\n    }\r\n    }\r\n\r\nThe error I get is; \r\nMain.java:102: error: variable errorList is already defined in method main(String[])\r\n    List&lt;String&gt; errorList = new ArrayList&lt;String&gt;();\r\n\r\n","title":"How do I fix error for checkUserPassword method?","body":"<p>After much work on this code, regarding the checkUserPassword method. I can 1 error and cannot seem to find what the problem is. What must be done to fix my code? <em>I am also not understanding what this error message means</em></p>\n<pre><code>import java.util.Scanner;  // Import the Scanner class\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport java.util.regex.Pattern;\n\nclass Main{\n    \n//checkUserName Method \nstatic boolean checkUserName(String userName) {\n    boolean underscore = userName.contains(&quot;_&quot;);\n    if (userName.length() &lt;= 5 &amp;&amp; underscore == true) {\n        System.out.println(&quot;Username successfully captured \\n&quot;);\n        return true;\n    }\n    else{\n        System.out.println(&quot;Username is not correctly formatted, please ensure that your username contains an underscore and is no more than 5 characters in length \\n&quot;);\n    }\n    return false;\n}\n\n//checkUserPassword Method (At least eight characters long, Contain a capital letter, Contain a number, Contain a special character) \nstatic boolean checkUserPassword(String password, List&lt;String&gt; errorList) {\n\n    Pattern specailCharPatten = Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\n    Pattern UpperCasePatten = Pattern.compile(&quot;[A-Z ]&quot;);\n    Pattern lowerCasePatten = Pattern.compile(&quot;[a-z ]&quot;);\n    Pattern digitCasePatten = Pattern.compile(&quot;[0-9 ]&quot;);\n    errorList.clear();\n\n    boolean flag=true;\n\n    \n    if (password.length() &lt; 8) {\n        errorList.add(&quot;Password lenght must have alleast 8 character !!&quot;);\n        flag=false;\n    }\n    if (!specailCharPatten.matcher(password).find()) {\n        errorList.add(&quot;Password must have atleast one specail character !!&quot;);\n        flag=false;\n    }\n    if (!UpperCasePatten.matcher(password).find()) {\n        errorList.add(&quot;Password must have atleast one uppercase character !!&quot;);\n        flag=false;\n    }\n    if (!lowerCasePatten.matcher(password).find()) {\n        errorList.add(&quot;Password must have atleast one lowercase character !!&quot;);\n        flag=false;\n    }\n    if (!digitCasePatten.matcher(password).find()) {\n        errorList.add(&quot;Password must have atleast one digit character !!&quot;);\n        flag=false;\n    }\n    \n    \n\n\n    return flag;\n\n}\n\n//registerUser method \nstatic Boolean registerUser(){\n\n    return true;\n}\n//\n//loginUser method\nstatic Boolean loginUser(){\n    return true;\n}\n//\n//returnLoginStatus method\nstatic Boolean returnLoginStatus(){\n    return true;\n}\n//\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Welcome to the User Register program! \\n&quot;);\n    Scanner firstname1 = new Scanner(System.in); // Create a Scanner object\n    System.out.println(&quot;Enter firstname: &quot;);\n    String firstName;\n    firstName = firstname1.nextLine(); // Read user input from keyboard\n    \n    Scanner surname1 = new Scanner(System.in); // Create a Scanner objec\n    System.out.println(&quot;Enter surname: &quot;);\n    String surName;\n    surName = surname1.nextLine(); // Read user input from keyboard\n    \n    List&lt;String&gt; errorList = new ArrayList&lt;String&gt;();\n    \n    Scanner name1 = new Scanner(System.in); // Create a Scanner object\n    System.out.println(&quot;Enter username: &quot;);\n    String userName;\n    userName = name1.nextLine(); // Read user input\n    checkUserName(userName);// call method \n    Scanner passw1= new Scanner(System.in);// Create a Scanner object\n    System.out.println(&quot;Enter password:  &quot;);\n    String password;\n    password= passw1.nextLine(); //Read user input\n    List&lt;String&gt; errorList = new ArrayList&lt;String&gt;();\n    checkUserPassword(&quot;hello&quot;, errorList);\n    System.out.println(errorList);// call method \n    \n    System.out.println(&quot;Welcome &quot;+ firstName+&quot; &quot;+ surName+ &quot; it is great to see you.&quot;);\n\n}\n}\n</code></pre>\n<p>The error I get is;\nMain.java:102: error: variable errorList is already defined in method main(String[])\nList errorList = new ArrayList();</p>\n"},{"tags":["java","xml","security","digital-signature","xml-signature"],"owner":{"account_id":14606237,"reputation":11,"user_id":10549031,"display_name":"el godinez man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651684610,"creation_date":1540338222,"question_id":52959203,"body_markdown":"I am signing an XML document and everything works correctly, but they are rejecting the document because they tell me that the SignedInfo node does not contain namespaces as attributes this is the XML with the SignedInfo node that I am getting\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Cancelacion xmlns=&quot;http://cancelacfd.sat.gob.mx&quot; xmlns:ns2=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Fecha=&quot;2018-10-23T17:35:34&quot; RfcEmisor=&quot;UFR9909228Z9&quot;&gt;\r\n    \r\n    &lt;Folios&gt;\r\n    &lt;UUID&gt;6A060FA2-CB85-4AEA-A75A-278FFE50B090&lt;/UUID&gt;\r\n    &lt;/Folios&gt;\r\n    &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;SignedInfo &gt;\r\n    \r\n    &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;\r\n    &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\r\n    &lt;Reference URI=&quot;&quot;&gt;\r\n    &lt;Transforms&gt;\r\n    &lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\r\n    &lt;/Transforms&gt;\r\n    &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\r\n    &lt;DigestValue&gt;nPQPle8XKLA88xuGNMsdWzTqFeE=&lt;/DigestValue&gt;\r\n    &lt;/Reference&gt;\r\n    &lt;/SignedInfo&gt;\r\n    &lt;SignatureValue&gt;gcqzyUnesstrdS96ch8+kbdt8W9k9N0krvMCe/zBPObAtEucd3Ry8trO39uMGhzHj3Vx4nZPmuazhrkVaEJ+0pcnl52WERSstszDGhTjXNDZHgZPLjCKyDxwdH4u3G1b8hHkD7LOlCfcdDveEFc0ChH473+pZE+YE6UMGOwi7KlozYTosKrMbg8QEZ7bB1J4tg8REg2Q0G2yY06MnpxvXlyZN4I1tStzUEE0VntszVq6z3mqRQsOGKbw6BKxeuLaXwl3u5QiDJMRiZXD2KLSbr7BitUXcnZofWHek9GhPmzClK9v8fpdlOI8pomYFHjcAqSniZlTH+iBb3xMdlWPsA==&lt;/SignatureValue&gt;\r\n    &lt;KeyInfo&gt;\r\n    &lt;X509Data&gt;\r\n    &lt;X509IssuerSerial&gt;\r\n    &lt;X509IssuerName&gt;OID.1.2.840.113549.1.9.2=Responsable: Administraci&#243;n Central de Servicios Tributarios al Contribuyente, OID.2.5.4.45=SAT970701NN3, L=Cuauht&#233;moc, ST=Distrito Federal, C=MX, OID.2.5.4.17=06300, STREET=&quot;Av. Hidalgo 77, Col. Guerrero&quot;, EMAILADDRESS=acods@sat.gob.mx, OU=Administraci&#243;n de Seguridad de la Informaci&#243;n, O=Servicio de Administraci&#243;n Tributaria, CN=A.C. del Servicio de Administraci&#243;n Tributaria&lt;/X509IssuerName&gt;\r\n    &lt;X509SerialNumber&gt;275106190557734483187066766810932856999912748337&lt;/X509SerialNumber&gt;\r\n    &lt;/X509IssuerSerial&gt;\r\n    &lt;X509Certificate&gt;MIIGRjCCBC6gAwIBAgIUMDAwMDEwMDAwMDA0MDIxMzkxNTEwDQYJKoZIhvcNAQELBQAwggGyMTgwNgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEvMC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsML0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZIhvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBHdWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBGZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMV0wWwYJKoZIhvcNAQkCDE5SZXNwb25zYWJsZTogQWRtaW5pc3RyYWNpw7NuIENlbnRyYWwgZGUgU2VydmljaW9zIFRyaWJ1dGFyaW9zIGFsIENvbnRyaWJ1eWVudGUwHhcNMTYwNDIwMTUyMjQzWhcNMjAwNDIwMTUyMjQzWjCB5jEoMCYGA1UEAxMfVU5JVkVSU08gREUgRlJBR0FOQ0lBUyBTQSBERSBDVjEoMCYGA1UEKRMfVU5JVkVSU08gREUgRlJBR0FOQ0lBUyBTQSBERSBDVjEoMCYGA1UEChMfVU5JVkVSU08gREUgRlJBR0FOQ0lBUyBTQSBERSBDVjElMCMGA1UELRMcVUZSOTkwOTIyOFo5IC8gWUFQRTU0MDcxMlRMMDEeMBwGA1UEBRMVIC8gWUFQRTU0MDcxMk1ORUJSTTAzMR8wHQYDVQQLExZVTklWRVJTTyBERSBGUkFHQU5DSUFTMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAiTNpJ1jftQoWSnVS028DCny3uQyQqaLAm0cPHrM2plnAPHA+7LYBoig3+RyObjM0AM+CKJepqyJm03VsuwrrHVeFQox7P5A513124o+qWqeQFcftV31iHzzhloZoF4U8RSvt4yOc8W/RGsRQUdVN0h5Nd+bN4IOdY1vT6mQW7LoPPwuQGXwGtrqpwaHVvO//wimEjca0t9VYf5MrP21+P5iKLoxXxyKS2rsZMgyG1QBsW/Rr2IpwPtNsUfqb8atv8APeqsFPTHgsm31n+xiP+0P1s7dbSiboYW04ny9MzkeJSAz/4bpVrfPUrRoRTVXTJYb3mpsNy8LJcN//DvpmTQIDAQABox0wGzAMBgNVHRMBAf8EAjAAMAsGA1UdDwQEAwIGwDANBgkqhkiG9w0BAQsFAAOCAgEAJszSReWEYl/g97nMfbuBSG47yrX1QB+ddLm1s8NmxLvQYeI8jf+9AzJovJyMA3epc2CoJtmS88/9QVGqfpdSO27YG22N6tI51U70Nc7He3jk/dfXB5w0E/fu/9x4O26a4Nrbie0XWZj/XiWaOxBY+HmrKiaJnNdHtm7uCHtw1coRpYkOP/3mryIhMs+vEFGleGNnt1//SZ3iM125TmJO6lCCxjukfJBbwVSOhk8/TGOyBdBcSbBVht2axv1sHGDZ73SYj66tV3Nv1NSaMLLI368+6cYNpwWpWacGghGJfAV5G63jp1nXtwJAWnxwvlrBt0I8OMJz+uLOeeABI7M14a3sap02FKqdTV6hIQfzCBjn07o3qUO+DUhy3fZRRHribKcp5/p+vBn+6xyik0JBoowayLa2ZYI+7cgVu5SIWwj0S5R6SAUwrvKZHRIP7g2CYWLlgMVrOCilSNer+MK4VrGYPlplitJFW/bQJdzAIzfrPWCZroeDPC/362shOSJVIic0wEaeZaTDHnCl8UG2Z6Y3XkyKWu8ddKx4Nn/5o7Kn0o0g0xg7j1T03asbzOpyE0IkpIcS+Fd6t8eQXBMLGEBgZdG19BaDViQ3exuCd3Z1PziMlavzmphRwEsOmfvzi/4xkgjVBnxcZL/PmqGQpYK04o4VeEVsPPRMMxLsqmo=&lt;/X509Certificate&gt;\r\n    &lt;/X509Data&gt;\r\n    &lt;/KeyInfo&gt;\r\n    &lt;/Signature&gt;\r\n    &lt;/Cancelacion&gt;\r\n\r\nthe example document that they provide me is the following\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;Cancelacion xmlns=&quot;http://cancelacfd.sat.gob.mx&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Fecha=&quot;2017-06-28T18:49:15&quot; RfcEmisor=&quot;XXXXXXXXXXXX&quot;&gt;\r\n    &lt;Folios&gt;\r\n    &lt;UUID&gt;037A26FB-XXXX-4865-XXXX-4FCA9A051B38&lt;/UUID&gt;\r\n    &lt;/Folios&gt;\r\n    &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;SignedInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot; /&gt;\r\n    &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n    &lt;Reference URI=&quot;&quot;&gt;\r\n    &lt;Transforms&gt;\r\n    &lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt;\r\n    &lt;/Transforms&gt;\r\n    &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n    &lt;DigestValue&gt;uj49AdMRF4BGqGU/XVuE8eFn68w=&lt;/DigestValue&gt;\r\n    &lt;/Reference&gt;\r\n    &lt;/SignedInfo&gt;\r\n    &lt;SignatureValue&gt;m8I4zYXuHGV6H5Rw4qUSQXZk29jShpu1wn+0WBeFbwNDwMLBGedF/dfxQp6UrNeQIcmANAXH6OHeR52zBf6ymUo9fph6NCZzOlWYDyCUuhfprxq4A93XHHIOfbDbIeINGGFwyiCD/hsK5SRmy6xnPDjamPVao4y9DDK1XkeXylHPVUyrmFNiGTSpNr1M7EDTZNNZQktXduBoVTQaXTMGfoK3jksJc0awjiOrYLZrW8NNVeF97lqAWpQjQe4EM4jfGM8s9FF10mFU8i7GfWK8JSr5PZKCZDEl1n7zjH9JtgTVntZ41aJi+Y4iFCRggbACoPJjN+uixGSnHYVqKPNV+A==&lt;/SignatureValue&gt;\r\n    &lt;KeyInfo&gt;\r\n    &lt;X509Data&gt;\r\n    &lt;X509IssuerSerial&gt;\r\n    &lt;X509IssuerName&gt;C\r\n\r\n    &lt;/X509IssuerName&gt;\r\n        &lt;X509SerialNumber&gt;286524172099382162235533054548081509963387843123&lt;/X509SerialNumber&gt;\r\n        &lt;/X509IssuerSerial&gt;\r\n        &lt;X509Certificate&gt;MIIF4jCCA8qgAwIBAgIUMjAwMDEwMDAwMDAzMDAwMjIzMjMwDQYJKoZIhvcNAQELBQAwggFmMSAwHgYDVQQDDBdBLkMuIDIgZGUgcHJ1ZWJhcyg0MDk2KTEvMC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsML0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMSkwJwYJKoZIhvcNAQkBFhphc2lzbmV0QHBydWViYXMuc2F0LmdvYi5teDEmMCQGA1UECQwdQXYuIEhpZGFsZ28gNzcsIENvbC4gR3VlcnJlcm8xDjAMBgNVBBEMBTA2MzAwMQswCQYDVQQGEwJNWDEZMBcGA1UECAwQRGlzdHJpdG8gRmVkZXJhbDESMBAGA1UEBwwJQ295b2Fjw6FuMRUwEwYDVQQtEwxTQVQ5NzA3MDFOTjMxITAfBgkqhkiG9w0BCQIMElJlc3BvbnNhYmxlOiBBQ0RNQTAeFw0xNjA3MjkyMzE1MzJaFw0yMDA3MjkyMzE1MzJaMIHOMSIwIAYDVQQDExlBWlVMIFNJTiBMSU1JVEVTIFNBIERFIENWMSIwIAYDVQQpExlBWlVMIFNJTiBMSU1JVEVTIFNBIERFIENWMSIwIAYDVQQKExlBWlVMIFNJTiBMSU1JVEVTIFNBIERFIENWMSUwIwYDVQQtExxEQUwwNTA2MDFMMzUgLyBGVUFCNzcwMTE3QlhBMR4wHAYDVQQFExUgLyBGVUFCNzcwMTE3TURGUk5OMDkxGTAXBgNVBAsUEFBBQyBDRkRJX1BSVUVCQVMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCuhhm16MtcFTmOaqVJiK4rb4Dyt+wTV23JCo5UcVmvUJnJlSaNWau7dbW4PQaBsxLLu2HDVCJ+X0GxsWo3Z+kJ/28yEu6k+WNGyYBFZy0APNzXkEH7fAKNKiInJ7gGyyWHHzeurUfP7XyTI9JOQoM+xXDxJu2LkIU/T8vaaXRlWzVQiMIT2Rx4CsZ5/lqsTZmvOq/QuDZo0KHj1jN66KC3AATF2Aq+Xnlswrkhtd7zt4fh/3wVS9NEYxeDtHtctwQTUeHwl7Ji3VA7qD/pPZ48Sb6QAun6HZTx4zX8s3t4j5yz/30t3mBsAX/CqbON5rhQs8nGVyRNjswVCM2Y7ILvAgMBAAGjHTAbMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMA0GCSqGSIb3DQEBCwUAA4ICAQADLbB3nGXh5g+vqDiuMtzay7MtOrquzr7S+tZbi0SleNx5yjnqBvZB+iQg4V67hsQG/SfOFuFW0of1tYSTztXQCJKcTqZgAsvX6JaPf3hcVfxgY1KMZYsP8siFkpL8RY0oBcEFKoOWpFH08xRO+mADl1xJV7t8E20+ytPvixK5vJqgoeN2gKYihsde7DD8imEU3M3IWbLqdqF9B1zZDFHcVyY86Db7D/HeTMF5RgC5waYLNk+ymD1z65M0SaRYTMUKbfiZq7SZ0gSILzuZd0jXdatT3lpoV+79VPmdlSnc/wZzArohoW07CkvpXM+reWdIDRSOGJU5AxlH+dO18z8dbTFvKJlHn4JEJwV3VP61gvn5bGpgf2njkM1TmJTibNOJHMq6bTnrKKhCXg9aetA78OgJeIzDtqTEhSNayMZL3ELRIJkuEOn+R3vu/3au0NpXz2RuOY2W8/7RAsR2seN6W+KAd2G3PscgtHMHURi8394CxlkJ4tThfq+NEVTwowmoSRMN4wsOeCQOize2Cj/nSyX3s++XcQ2pF41HJ2F8Ici4VBZBjpp7kvMdRpLvezpxXkIaYH8nr4Qqy6I4Hn2//xHlQGd3FrQ+8e4NYjCPF9y9ulIrmrLSmy4UCt/igZgg6nbvK2XiyIGegLDXJzpBHcfMGga4HtCGmWmpDh+HJg==&lt;/X509Certificate&gt;\r\n        &lt;/X509Data&gt;\r\n        &lt;/KeyInfo&gt;\r\n        &lt;/Signature&gt;\r\n        &lt;/Cancelacion&gt;\r\n\r\nThe difference they mention to me is:\r\n\r\n\r\nbad node: `&lt;SignedInfo&gt;`\r\n\r\nexpected node (with namespaces): `&lt;SignedInfo xmlns = &quot;http://www.w3.org/2000/09/xmldsig#&quot; xmlns: xsd = &quot;http://www.w3.org/2001/XMLSchema&quot; xmlns: xsi = &quot;http: // www.w3.org/2001/XMLSchema-instance &quot;&gt;`\r\n\r\nMy signature procces: \r\n\r\n    private String sign(String xml, KeyStore.PrivateKeyEntry privateKeyEntry) {\r\n            String xmlCancelacion = null;\r\n            try {\r\n                Init.init();\r\n                XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n                // Create a Reference to an external URI that will be digested\r\n                // using the SHA1 digest algorithm\r\n                Reference ref = fac.newReference(&quot;&quot;, fac.newDigestMethod(DigestMethod.SHA1, null),\r\n                        Collections.singletonList(fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null)),\r\n                        null, null);\r\n                // Create the SignedInfo\r\n                SignedInfo si = fac.newSignedInfo(\r\n                       fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, (C14NMethodParameterSpec) null),\r\n                        fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\r\n                        Collections.singletonList(ref));\r\n                X509Certificate cert = (X509Certificate) privateKeyEntry.getCertificate();\r\n                KeyInfoFactory kif = fac.getKeyInfoFactory();\r\n                X509IssuerSerial issuerSerial = kif.newX509IssuerSerial(cert.getIssuerDN().getName(), cert.getSerialNumber());\r\n                List&lt;Object&gt; x509DataContent = new ArrayList&lt;&gt;();\r\n               // if (ambiente().equalsIgnoreCase(&quot;P&quot;)) {\r\n                    x509DataContent.add(issuerSerial);\r\n                //}\r\n                x509DataContent.add(cert);\r\n                X509Data x509data = kif.newX509Data(x509DataContent);\r\n                KeyValue keyValue = kif.newKeyValue(cert.getPublicKey());\r\n                List&lt;Object&gt; keyInfoContent = new ArrayList&lt;&gt;();\r\n                keyInfoContent.add(x509data);\r\n                //keyInfoContent.add(keyValue);\r\n                KeyInfo ki = kif.newKeyInfo(keyInfoContent);\r\n                // Create the XMLSignature (but don&#39;t sign it yet)\r\n                XMLSignature signature = fac.newXMLSignature(si, ki);\r\n                // Create the Document that will hold the resulting XMLSignature\r\n                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n                dbf.setNamespaceAware(true); // must be set\r\n                org.w3c.dom.Document doc = dbf.newDocumentBuilder().parse(new InputSource(new StringReader(xml)));\r\n                DOMSignContext signContext = new DOMSignContext(privateKeyEntry.getPrivateKey(), doc.getDocumentElement());\r\n                signContext.setNextSibling(doc.getDocumentElement().getNextSibling());\r\n                signature.sign(signContext);\r\n                signature.getSignatureValue();\r\n                TransformerFactory tf = TransformerFactory.newInstance();\r\n                Transformer transformer = tf.newTransformer();\r\n                transformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n                StringWriter writer = new StringWriter();\r\n                transformer.transform(new DOMSource(doc), new StreamResult(writer));\r\n                xmlCancelacion = writer.getBuffer().toString().replaceAll(&quot;\\n|\\r&quot;, &quot;&quot;);\r\n            } catch (ParserConfigurationException | SAXException | IOException | KeyException | NoSuchAlgorithmException | InvalidAlgorithmParameterException | MarshalException | XMLSignatureException ex) {\r\n                Logger.getLogger(TimbradoCFDICarvajal33.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (TransformerConfigurationException ex) {\r\n                Logger.getLogger(TimbradoCFDICarvajal33.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (TransformerException ex) {\r\n                Logger.getLogger(TimbradoCFDICarvajal33.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            return xmlCancelacion;\r\n        }\r\n\r\nin which part of the process I could add the code to show the namespaces as requested, because if I add them after the signature does not validate the signature correctly","title":"add namespace to the SignedInfo node when signing an XML document","body":"<p>I am signing an XML document and everything works correctly, but they are rejecting the document because they tell me that the SignedInfo node does not contain namespaces as attributes this is the XML with the SignedInfo node that I am getting</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Cancelacion xmlns=\"http://cancelacfd.sat.gob.mx\" xmlns:ns2=\"http://www.w3.org/2000/09/xmldsig#\" Fecha=\"2018-10-23T17:35:34\" RfcEmisor=\"UFR9909228Z9\"&gt;\n\n&lt;Folios&gt;\n&lt;UUID&gt;6A060FA2-CB85-4AEA-A75A-278FFE50B090&lt;/UUID&gt;\n&lt;/Folios&gt;\n&lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n&lt;SignedInfo &gt;\n\n&lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/&gt;\n&lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;\n&lt;Reference URI=\"\"&gt;\n&lt;Transforms&gt;\n&lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/&gt;\n&lt;/Transforms&gt;\n&lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/&gt;\n&lt;DigestValue&gt;nPQPle8XKLA88xuGNMsdWzTqFeE=&lt;/DigestValue&gt;\n&lt;/Reference&gt;\n&lt;/SignedInfo&gt;\n&lt;SignatureValue&gt;gcqzyUnesstrdS96ch8+kbdt8W9k9N0krvMCe/zBPObAtEucd3Ry8trO39uMGhzHj3Vx4nZPmuazhrkVaEJ+0pcnl52WERSstszDGhTjXNDZHgZPLjCKyDxwdH4u3G1b8hHkD7LOlCfcdDveEFc0ChH473+pZE+YE6UMGOwi7KlozYTosKrMbg8QEZ7bB1J4tg8REg2Q0G2yY06MnpxvXlyZN4I1tStzUEE0VntszVq6z3mqRQsOGKbw6BKxeuLaXwl3u5QiDJMRiZXD2KLSbr7BitUXcnZofWHek9GhPmzClK9v8fpdlOI8pomYFHjcAqSniZlTH+iBb3xMdlWPsA==&lt;/SignatureValue&gt;\n&lt;KeyInfo&gt;\n&lt;X509Data&gt;\n&lt;X509IssuerSerial&gt;\n&lt;X509IssuerName&gt;OID.1.2.840.113549.1.9.2=Responsable: Administracin Central de Servicios Tributarios al Contribuyente, OID.2.5.4.45=SAT970701NN3, L=Cuauhtmoc, ST=Distrito Federal, C=MX, OID.2.5.4.17=06300, STREET=\"Av. Hidalgo 77, Col. Guerrero\", EMAILADDRESS=acods@sat.gob.mx, OU=Administracin de Seguridad de la Informacin, O=Servicio de Administracin Tributaria, CN=A.C. del Servicio de Administracin Tributaria&lt;/X509IssuerName&gt;\n&lt;X509SerialNumber&gt;275106190557734483187066766810932856999912748337&lt;/X509SerialNumber&gt;\n&lt;/X509IssuerSerial&gt;\n&lt;X509Certificate&gt;MIIGRjCCBC6gAwIBAgIUMDAwMDEwMDAwMDA0MDIxMzkxNTEwDQYJKoZIhvcNAQELBQAwggGyMTgwNgYDVQQDDC9BLkMuIGRlbCBTZXJ2aWNpbyBkZSBBZG1pbmlzdHJhY2nDs24gVHJpYnV0YXJpYTEvMC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsML0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMR8wHQYJKoZIhvcNAQkBFhBhY29kc0BzYXQuZ29iLm14MSYwJAYDVQQJDB1Bdi4gSGlkYWxnbyA3NywgQ29sLiBHdWVycmVybzEOMAwGA1UEEQwFMDYzMDAxCzAJBgNVBAYTAk1YMRkwFwYDVQQIDBBEaXN0cml0byBGZWRlcmFsMRQwEgYDVQQHDAtDdWF1aHTDqW1vYzEVMBMGA1UELRMMU0FUOTcwNzAxTk4zMV0wWwYJKoZIhvcNAQkCDE5SZXNwb25zYWJsZTogQWRtaW5pc3RyYWNpw7NuIENlbnRyYWwgZGUgU2VydmljaW9zIFRyaWJ1dGFyaW9zIGFsIENvbnRyaWJ1eWVudGUwHhcNMTYwNDIwMTUyMjQzWhcNMjAwNDIwMTUyMjQzWjCB5jEoMCYGA1UEAxMfVU5JVkVSU08gREUgRlJBR0FOQ0lBUyBTQSBERSBDVjEoMCYGA1UEKRMfVU5JVkVSU08gREUgRlJBR0FOQ0lBUyBTQSBERSBDVjEoMCYGA1UEChMfVU5JVkVSU08gREUgRlJBR0FOQ0lBUyBTQSBERSBDVjElMCMGA1UELRMcVUZSOTkwOTIyOFo5IC8gWUFQRTU0MDcxMlRMMDEeMBwGA1UEBRMVIC8gWUFQRTU0MDcxMk1ORUJSTTAzMR8wHQYDVQQLExZVTklWRVJTTyBERSBGUkFHQU5DSUFTMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAiTNpJ1jftQoWSnVS028DCny3uQyQqaLAm0cPHrM2plnAPHA+7LYBoig3+RyObjM0AM+CKJepqyJm03VsuwrrHVeFQox7P5A513124o+qWqeQFcftV31iHzzhloZoF4U8RSvt4yOc8W/RGsRQUdVN0h5Nd+bN4IOdY1vT6mQW7LoPPwuQGXwGtrqpwaHVvO//wimEjca0t9VYf5MrP21+P5iKLoxXxyKS2rsZMgyG1QBsW/Rr2IpwPtNsUfqb8atv8APeqsFPTHgsm31n+xiP+0P1s7dbSiboYW04ny9MzkeJSAz/4bpVrfPUrRoRTVXTJYb3mpsNy8LJcN//DvpmTQIDAQABox0wGzAMBgNVHRMBAf8EAjAAMAsGA1UdDwQEAwIGwDANBgkqhkiG9w0BAQsFAAOCAgEAJszSReWEYl/g97nMfbuBSG47yrX1QB+ddLm1s8NmxLvQYeI8jf+9AzJovJyMA3epc2CoJtmS88/9QVGqfpdSO27YG22N6tI51U70Nc7He3jk/dfXB5w0E/fu/9x4O26a4Nrbie0XWZj/XiWaOxBY+HmrKiaJnNdHtm7uCHtw1coRpYkOP/3mryIhMs+vEFGleGNnt1//SZ3iM125TmJO6lCCxjukfJBbwVSOhk8/TGOyBdBcSbBVht2axv1sHGDZ73SYj66tV3Nv1NSaMLLI368+6cYNpwWpWacGghGJfAV5G63jp1nXtwJAWnxwvlrBt0I8OMJz+uLOeeABI7M14a3sap02FKqdTV6hIQfzCBjn07o3qUO+DUhy3fZRRHribKcp5/p+vBn+6xyik0JBoowayLa2ZYI+7cgVu5SIWwj0S5R6SAUwrvKZHRIP7g2CYWLlgMVrOCilSNer+MK4VrGYPlplitJFW/bQJdzAIzfrPWCZroeDPC/362shOSJVIic0wEaeZaTDHnCl8UG2Z6Y3XkyKWu8ddKx4Nn/5o7Kn0o0g0xg7j1T03asbzOpyE0IkpIcS+Fd6t8eQXBMLGEBgZdG19BaDViQ3exuCd3Z1PziMlavzmphRwEsOmfvzi/4xkgjVBnxcZL/PmqGQpYK04o4VeEVsPPRMMxLsqmo=&lt;/X509Certificate&gt;\n&lt;/X509Data&gt;\n&lt;/KeyInfo&gt;\n&lt;/Signature&gt;\n&lt;/Cancelacion&gt;\n</code></pre>\n\n<p>the example document that they provide me is the following</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Cancelacion xmlns=\"http://cancelacfd.sat.gob.mx\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" Fecha=\"2017-06-28T18:49:15\" RfcEmisor=\"XXXXXXXXXXXX\"&gt;\n&lt;Folios&gt;\n&lt;UUID&gt;037A26FB-XXXX-4865-XXXX-4FCA9A051B38&lt;/UUID&gt;\n&lt;/Folios&gt;\n&lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n&lt;SignedInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\" /&gt;\n&lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;\n&lt;Reference URI=\"\"&gt;\n&lt;Transforms&gt;\n&lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\" /&gt;\n&lt;/Transforms&gt;\n&lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;\n&lt;DigestValue&gt;uj49AdMRF4BGqGU/XVuE8eFn68w=&lt;/DigestValue&gt;\n&lt;/Reference&gt;\n&lt;/SignedInfo&gt;\n&lt;SignatureValue&gt;m8I4zYXuHGV6H5Rw4qUSQXZk29jShpu1wn+0WBeFbwNDwMLBGedF/dfxQp6UrNeQIcmANAXH6OHeR52zBf6ymUo9fph6NCZzOlWYDyCUuhfprxq4A93XHHIOfbDbIeINGGFwyiCD/hsK5SRmy6xnPDjamPVao4y9DDK1XkeXylHPVUyrmFNiGTSpNr1M7EDTZNNZQktXduBoVTQaXTMGfoK3jksJc0awjiOrYLZrW8NNVeF97lqAWpQjQe4EM4jfGM8s9FF10mFU8i7GfWK8JSr5PZKCZDEl1n7zjH9JtgTVntZ41aJi+Y4iFCRggbACoPJjN+uixGSnHYVqKPNV+A==&lt;/SignatureValue&gt;\n&lt;KeyInfo&gt;\n&lt;X509Data&gt;\n&lt;X509IssuerSerial&gt;\n&lt;X509IssuerName&gt;C\n\n&lt;/X509IssuerName&gt;\n    &lt;X509SerialNumber&gt;286524172099382162235533054548081509963387843123&lt;/X509SerialNumber&gt;\n    &lt;/X509IssuerSerial&gt;\n    &lt;X509Certificate&gt;MIIF4jCCA8qgAwIBAgIUMjAwMDEwMDAwMDAzMDAwMjIzMjMwDQYJKoZIhvcNAQELBQAwggFmMSAwHgYDVQQDDBdBLkMuIDIgZGUgcHJ1ZWJhcyg0MDk2KTEvMC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaWJ1dGFyaWExODA2BgNVBAsML0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMSkwJwYJKoZIhvcNAQkBFhphc2lzbmV0QHBydWViYXMuc2F0LmdvYi5teDEmMCQGA1UECQwdQXYuIEhpZGFsZ28gNzcsIENvbC4gR3VlcnJlcm8xDjAMBgNVBBEMBTA2MzAwMQswCQYDVQQGEwJNWDEZMBcGA1UECAwQRGlzdHJpdG8gRmVkZXJhbDESMBAGA1UEBwwJQ295b2Fjw6FuMRUwEwYDVQQtEwxTQVQ5NzA3MDFOTjMxITAfBgkqhkiG9w0BCQIMElJlc3BvbnNhYmxlOiBBQ0RNQTAeFw0xNjA3MjkyMzE1MzJaFw0yMDA3MjkyMzE1MzJaMIHOMSIwIAYDVQQDExlBWlVMIFNJTiBMSU1JVEVTIFNBIERFIENWMSIwIAYDVQQpExlBWlVMIFNJTiBMSU1JVEVTIFNBIERFIENWMSIwIAYDVQQKExlBWlVMIFNJTiBMSU1JVEVTIFNBIERFIENWMSUwIwYDVQQtExxEQUwwNTA2MDFMMzUgLyBGVUFCNzcwMTE3QlhBMR4wHAYDVQQFExUgLyBGVUFCNzcwMTE3TURGUk5OMDkxGTAXBgNVBAsUEFBBQyBDRkRJX1BSVUVCQVMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCuhhm16MtcFTmOaqVJiK4rb4Dyt+wTV23JCo5UcVmvUJnJlSaNWau7dbW4PQaBsxLLu2HDVCJ+X0GxsWo3Z+kJ/28yEu6k+WNGyYBFZy0APNzXkEH7fAKNKiInJ7gGyyWHHzeurUfP7XyTI9JOQoM+xXDxJu2LkIU/T8vaaXRlWzVQiMIT2Rx4CsZ5/lqsTZmvOq/QuDZo0KHj1jN66KC3AATF2Aq+Xnlswrkhtd7zt4fh/3wVS9NEYxeDtHtctwQTUeHwl7Ji3VA7qD/pPZ48Sb6QAun6HZTx4zX8s3t4j5yz/30t3mBsAX/CqbON5rhQs8nGVyRNjswVCM2Y7ILvAgMBAAGjHTAbMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMA0GCSqGSIb3DQEBCwUAA4ICAQADLbB3nGXh5g+vqDiuMtzay7MtOrquzr7S+tZbi0SleNx5yjnqBvZB+iQg4V67hsQG/SfOFuFW0of1tYSTztXQCJKcTqZgAsvX6JaPf3hcVfxgY1KMZYsP8siFkpL8RY0oBcEFKoOWpFH08xRO+mADl1xJV7t8E20+ytPvixK5vJqgoeN2gKYihsde7DD8imEU3M3IWbLqdqF9B1zZDFHcVyY86Db7D/HeTMF5RgC5waYLNk+ymD1z65M0SaRYTMUKbfiZq7SZ0gSILzuZd0jXdatT3lpoV+79VPmdlSnc/wZzArohoW07CkvpXM+reWdIDRSOGJU5AxlH+dO18z8dbTFvKJlHn4JEJwV3VP61gvn5bGpgf2njkM1TmJTibNOJHMq6bTnrKKhCXg9aetA78OgJeIzDtqTEhSNayMZL3ELRIJkuEOn+R3vu/3au0NpXz2RuOY2W8/7RAsR2seN6W+KAd2G3PscgtHMHURi8394CxlkJ4tThfq+NEVTwowmoSRMN4wsOeCQOize2Cj/nSyX3s++XcQ2pF41HJ2F8Ici4VBZBjpp7kvMdRpLvezpxXkIaYH8nr4Qqy6I4Hn2//xHlQGd3FrQ+8e4NYjCPF9y9ulIrmrLSmy4UCt/igZgg6nbvK2XiyIGegLDXJzpBHcfMGga4HtCGmWmpDh+HJg==&lt;/X509Certificate&gt;\n    &lt;/X509Data&gt;\n    &lt;/KeyInfo&gt;\n    &lt;/Signature&gt;\n    &lt;/Cancelacion&gt;\n</code></pre>\n\n<p>The difference they mention to me is:</p>\n\n<p>bad node: <code>&lt;SignedInfo&gt;</code></p>\n\n<p>expected node (with namespaces): <code>&lt;SignedInfo xmlns = \"http://www.w3.org/2000/09/xmldsig#\" xmlns: xsd = \"http://www.w3.org/2001/XMLSchema\" xmlns: xsi = \"http: // www.w3.org/2001/XMLSchema-instance \"&gt;</code></p>\n\n<p>My signature procces: </p>\n\n<pre><code>private String sign(String xml, KeyStore.PrivateKeyEntry privateKeyEntry) {\n        String xmlCancelacion = null;\n        try {\n            Init.init();\n            XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n            // Create a Reference to an external URI that will be digested\n            // using the SHA1 digest algorithm\n            Reference ref = fac.newReference(\"\", fac.newDigestMethod(DigestMethod.SHA1, null),\n                    Collections.singletonList(fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null)),\n                    null, null);\n            // Create the SignedInfo\n            SignedInfo si = fac.newSignedInfo(\n                   fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, (C14NMethodParameterSpec) null),\n                    fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\n                    Collections.singletonList(ref));\n            X509Certificate cert = (X509Certificate) privateKeyEntry.getCertificate();\n            KeyInfoFactory kif = fac.getKeyInfoFactory();\n            X509IssuerSerial issuerSerial = kif.newX509IssuerSerial(cert.getIssuerDN().getName(), cert.getSerialNumber());\n            List&lt;Object&gt; x509DataContent = new ArrayList&lt;&gt;();\n           // if (ambiente().equalsIgnoreCase(\"P\")) {\n                x509DataContent.add(issuerSerial);\n            //}\n            x509DataContent.add(cert);\n            X509Data x509data = kif.newX509Data(x509DataContent);\n            KeyValue keyValue = kif.newKeyValue(cert.getPublicKey());\n            List&lt;Object&gt; keyInfoContent = new ArrayList&lt;&gt;();\n            keyInfoContent.add(x509data);\n            //keyInfoContent.add(keyValue);\n            KeyInfo ki = kif.newKeyInfo(keyInfoContent);\n            // Create the XMLSignature (but don't sign it yet)\n            XMLSignature signature = fac.newXMLSignature(si, ki);\n            // Create the Document that will hold the resulting XMLSignature\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n            dbf.setNamespaceAware(true); // must be set\n            org.w3c.dom.Document doc = dbf.newDocumentBuilder().parse(new InputSource(new StringReader(xml)));\n            DOMSignContext signContext = new DOMSignContext(privateKeyEntry.getPrivateKey(), doc.getDocumentElement());\n            signContext.setNextSibling(doc.getDocumentElement().getNextSibling());\n            signature.sign(signContext);\n            signature.getSignatureValue();\n            TransformerFactory tf = TransformerFactory.newInstance();\n            Transformer transformer = tf.newTransformer();\n            transformer.setOutputProperty(OutputKeys.METHOD, \"xml\");\n            StringWriter writer = new StringWriter();\n            transformer.transform(new DOMSource(doc), new StreamResult(writer));\n            xmlCancelacion = writer.getBuffer().toString().replaceAll(\"\\n|\\r\", \"\");\n        } catch (ParserConfigurationException | SAXException | IOException | KeyException | NoSuchAlgorithmException | InvalidAlgorithmParameterException | MarshalException | XMLSignatureException ex) {\n            Logger.getLogger(TimbradoCFDICarvajal33.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (TransformerConfigurationException ex) {\n            Logger.getLogger(TimbradoCFDICarvajal33.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (TransformerException ex) {\n            Logger.getLogger(TimbradoCFDICarvajal33.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        return xmlCancelacion;\n    }\n</code></pre>\n\n<p>in which part of the process I could add the code to show the namespaces as requested, because if I add them after the signature does not validate the signature correctly</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":5,"creation_date":1651647680,"post_id":72109026,"comment_id":127410035,"body_markdown":"first, figure out how you check what a prime number is, and how you verify that. create a method isPrimeNumber(int num), and call that.","body":"first, figure out how you check what a prime number is, and how you verify that. create a method isPrimeNumber(int num), and call that."},{"owner":{"account_id":1868353,"reputation":9514,"user_id":1691311,"accept_rate":100,"display_name":"Randy"},"score":1,"creation_date":1651647785,"post_id":72109026,"comment_id":127410056,"body_markdown":"Note this might get **very** expensive, supercomputers do this all day to calculate new prime numbers ;)","body":"Note this might get <b>very</b> expensive, supercomputers do this all day to calculate new prime numbers ;)"}],"answers":[{"tags":[],"owner":{"account_id":8136621,"reputation":234,"user_id":6128045,"display_name":"Delano zuurman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651648512,"creation_date":1651647929,"answer_id":72109088,"question_id":72109026,"body_markdown":"Looks like someone is doing a project Euler problem. \r\n\r\nYou are close but I would suggest maybe looking into how you check if something actually is a prime number as the other comment suggested. \r\n\r\nResearch also some specifics of prime numbers, I will give one away which is : no prime number ends with 5. Implementing such rules can drastically reduce your programs run time.\r\n\r\n\r\nAnd also you want to check out the correct usage of the modulo (%) operator. \r\n\r\n     public static boolean isPrime(Long num){\r\n        String number = String.valueOf(num);\r\n        if(number.length() &gt;= 2 ){\r\n            //Lets see if a number ends with 5 if it does it is divisible by 2 and not prime\r\n            if(number.endsWith(&quot;5&quot;)){\r\n                return false;\r\n            }\r\n        }\r\n        //No reason to check if a number is prime when it is 2.\r\n        else if (num == 2){\r\n            return true;\r\n        }\r\n        //Any number that can be devided by 2 with no remainder clearly isn&#39;t prime\r\n        else if(num % 2 == 0){\r\n            return false;\r\n        }\r\n        //All other numbers actually need to be checked.\r\n        else{\r\n            for (Long i = num -1; i &gt; 2; i--) {\r\n                if(num % i == 0){\r\n                    return false;\r\n                }\r\n            }\r\n            }\r\n            return true;\r\n        }","title":"How do I get an if statement to check if a user given number is a prime number?","body":"<p>Looks like someone is doing a project Euler problem.</p>\n<p>You are close but I would suggest maybe looking into how you check if something actually is a prime number as the other comment suggested.</p>\n<p>Research also some specifics of prime numbers, I will give one away which is : no prime number ends with 5. Implementing such rules can drastically reduce your programs run time.</p>\n<p>And also you want to check out the correct usage of the modulo (%) operator.</p>\n<pre><code> public static boolean isPrime(Long num){\n    String number = String.valueOf(num);\n    if(number.length() &gt;= 2 ){\n        //Lets see if a number ends with 5 if it does it is divisible by 2 and not prime\n        if(number.endsWith(&quot;5&quot;)){\n            return false;\n        }\n    }\n    //No reason to check if a number is prime when it is 2.\n    else if (num == 2){\n        return true;\n    }\n    //Any number that can be devided by 2 with no remainder clearly isn't prime\n    else if(num % 2 == 0){\n        return false;\n    }\n    //All other numbers actually need to be checked.\n    else{\n        for (Long i = num -1; i &gt; 2; i--) {\n            if(num % i == 0){\n                return false;\n            }\n        }\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651648086,"creation_date":1651648086,"answer_id":72109116,"question_id":72109026,"body_markdown":"&gt; , but when I run the program and enter a number there is no reaction\r\n&gt; at all from the if statement.\r\n\r\nThis is because the if condition is never fulfilled ( for example :  n%n will be 0 always)  . \r\n\r\nThus, you can keep a variable i that starts from 2 till number -1 and check if that number divided by i , the remainder should never be 0 . \r\n\r\n    public class PrimeNumber {\r\n        public static void main(String[] args) {\r\n            int k = 5;\r\n            boolean isPrime = true;\r\n            for (int i = 2; i &lt; k; i++) {\r\n                if (k % i == 0) {\r\n                    isPrime = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (isPrime) {\r\n                System.out.println(&quot;number &quot; + k + &quot; is prime&quot;);\r\n            } else {\r\n                System.out.println(&quot;number &quot; + k + &quot; is not prime&quot;);\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nand the output is :\r\n\r\n    number 5 is prime\r\n\r\n","title":"How do I get an if statement to check if a user given number is a prime number?","body":"<blockquote>\n<p>, but when I run the program and enter a number there is no reaction\nat all from the if statement.</p>\n</blockquote>\n<p>This is because the if condition is never fulfilled ( for example :  n%n will be 0 always)  .</p>\n<p>Thus, you can keep a variable i that starts from 2 till number -1 and check if that number divided by i , the remainder should never be 0 .</p>\n<pre><code>public class PrimeNumber {\n    public static void main(String[] args) {\n        int k = 5;\n        boolean isPrime = true;\n        for (int i = 2; i &lt; k; i++) {\n            if (k % i == 0) {\n                isPrime = false;\n                break;\n            }\n        }\n        if (isPrime) {\n            System.out.println(&quot;number &quot; + k + &quot; is prime&quot;);\n        } else {\n            System.out.println(&quot;number &quot; + k + &quot; is not prime&quot;);\n\n        }\n    }\n\n}\n</code></pre>\n<p>and the output is :</p>\n<pre><code>number 5 is prime\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651648120,"creation_date":1651648120,"answer_id":72109122,"question_id":72109026,"body_markdown":"You can write a `isPrime` function to check if a given number is a prime or not, like below\r\n\r\n```java\r\npublic static boolean isPrime(int n) {\r\n    // Corner case\r\n    if (n &lt;= 1) {\r\n        return false;\r\n    }\r\n\r\n    // Check from 2 to n-1\r\n    for (int i = 2; i &lt; n; i++) {\r\n        if (n % i == 0) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n```\r\n\r\nAnd replace your \r\n\r\n`if (number%1 == number &amp;&amp; number%number == 1) `\r\n\r\nto\r\n\r\n`if (isPrime(number)`","title":"How do I get an if statement to check if a user given number is a prime number?","body":"<p>You can write a <code>isPrime</code> function to check if a given number is a prime or not, like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPrime(int n) {\n    // Corner case\n    if (n &lt;= 1) {\n        return false;\n    }\n\n    // Check from 2 to n-1\n    for (int i = 2; i &lt; n; i++) {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n<p>And replace your</p>\n<p><code>if (number%1 == number &amp;&amp; number%number == 1) </code></p>\n<p>to</p>\n<p><code>if (isPrime(number)</code></p>\n"},{"tags":[],"owner":{"account_id":20367925,"reputation":116,"user_id":14940782,"display_name":"Sergio Quinteiro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651648262,"creation_date":1651648262,"answer_id":72109146,"question_id":72109026,"body_markdown":"This can help you:\r\n\r\n    static bool isPrime(int number)\r\n        {\r\n            for (int i = 2; i &lt; number; i++)\r\n            {\r\n                if((number% i) == 0)\r\n                {\r\n                    // Not Prime\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // Just Prime!\r\n            return true;\r\n        }\r\n\r\nA prime number is not divisible by any numbers between 2 and (itself - 1). \r\n\r\nThis way, if you call &#39;isPrime()&#39; inside the if, this just works.\r\n\r\nHope this can help you!","title":"How do I get an if statement to check if a user given number is a prime number?","body":"<p>This can help you:</p>\n<pre><code>static bool isPrime(int number)\n    {\n        for (int i = 2; i &lt; number; i++)\n        {\n            if((number% i) == 0)\n            {\n                // Not Prime\n                return false;\n            }\n        }\n\n        // Just Prime!\n        return true;\n    }\n</code></pre>\n<p>A prime number is not divisible by any numbers between 2 and (itself - 1).</p>\n<p>This way, if you call 'isPrime()' inside the if, this just works.</p>\n<p>Hope this can help you!</p>\n"},{"tags":[],"owner":{"account_id":4112573,"reputation":21,"user_id":3375018,"display_name":"Oren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651650259,"creation_date":1651650259,"answer_id":72109463,"question_id":72109026,"body_markdown":"This is more efficient:\r\n\r\n      boolean isPrime(int number) {\r\n        int root = (int) Math.sqrt(number);\r\n        for (int i = 2; i &lt;= root; i++) {\r\n          if ((number % i) == 0) {\r\n            return false;\r\n          }\r\n        }\r\n    \r\n        return true;\r\n      }\r\n\r\n","title":"How do I get an if statement to check if a user given number is a prime number?","body":"<p>This is more efficient:</p>\n<pre><code>  boolean isPrime(int number) {\n    int root = (int) Math.sqrt(number);\n    for (int i = 2; i &lt;= root; i++) {\n      if ((number % i) == 0) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n</code></pre>\n"}],"owner":{"account_id":24743156,"reputation":43,"user_id":18629654,"display_name":"CoderInNeed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72109146,"answer_count":5,"score":0,"last_activity_date":1651684593,"creation_date":1651647617,"question_id":72109026,"body_markdown":"I am writing a very basic program in Java to check if a number given by the user is a prime number.\r\n\r\nI have tried to use an if statement to check if the number divided by itself is equal to 1 as well as if it is divided by 1 it equals itself, but when I run the program and enter a number there is no reaction at all from the if statement.\r\n\r\n```\r\npackage prime.java;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Prime {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n        System.out.println(&quot;Welcome to Prime!\\nPlease enter a number:&quot;);\r\n        \r\n        Scanner Scan = new Scanner (System.in);\r\n\t\tint number = Scan.nextInt();\r\n\t\tSystem.out.println(number);\r\n\r\n\t\tif (number%1 == number &amp;&amp; number%number == 1) {\r\n\t\t\tSystem.out.println(number + &quot; is a prime num&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAm I using the right operators?\r\n\r\n","title":"How do I get an if statement to check if a user given number is a prime number?","body":"<p>I am writing a very basic program in Java to check if a number given by the user is a prime number.</p>\n<p>I have tried to use an if statement to check if the number divided by itself is equal to 1 as well as if it is divided by 1 it equals itself, but when I run the program and enter a number there is no reaction at all from the if statement.</p>\n<pre><code>package prime.java;\n\nimport java.util.Scanner;\n\npublic class Prime {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Welcome to Prime!\\nPlease enter a number:&quot;);\n        \n        Scanner Scan = new Scanner (System.in);\n        int number = Scan.nextInt();\n        System.out.println(number);\n\n        if (number%1 == number &amp;&amp; number%number == 1) {\n            System.out.println(number + &quot; is a prime num&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Am I using the right operators?</p>\n"},{"tags":["java","sockets","heroku","frameworks","websocket"],"answers":[{"tags":[],"owner":{"account_id":1375117,"reputation":1506,"user_id":1309262,"display_name":"Dongho Yoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1394587605,"creation_date":1394587605,"answer_id":22340180,"question_id":22340122,"body_markdown":"Jetty has WebSocket Client API\r\n\r\n[Jetty WebSocket Client API][1]\r\n\r\n\r\n  [1]: http://www.eclipse.org/jetty/documentation/current/jetty-websocket-client-api.html","title":"Is there a minimalist WebSocket client library for java?","body":"<p>Jetty has WebSocket Client API</p>\n\n<p><a href=\"http://www.eclipse.org/jetty/documentation/current/jetty-websocket-client-api.html\" rel=\"nofollow\">Jetty WebSocket Client API</a></p>\n"},{"tags":[],"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1394614429,"creation_date":1394614429,"answer_id":22346350,"question_id":22340122,"body_markdown":"[JSR 356 (Java API for WebSocket)][1], part of Java EE 7 defines client API. There are multiple implementations: Tyrus (glassfish/WLS), Tomcat, ...; basically every container do provide the implementation or this api, even if not implementing other Java EE 7 specifications.\r\n\r\nSimple example: \r\n\r\n            final WebSocketContainer client = ContainerProvider.getWebSocketContainer();\r\n            final Session session = client.connectToServer(new Endpoint() {\r\n                @Override\r\n                public void onOpen(Session session, EndpointConfig EndpointConfig) {\r\n\r\n                    try {\r\n                        session.addMessageHandler(new MessageHandler.Whole&lt;String&gt;() {\r\n                            @Override\r\n                            public void onMessage(String message) {\r\n                                System.out.println(&quot;### Received: &quot; + message);\r\n                            }\r\n                        });\r\n\r\n                        session.getBasicRemote().sendText(&quot;Do or do not, there is no try.&quot;);\r\n                    } catch (IOException e) {\r\n                        // do nothing\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onClose(Session session, CloseReason closeReason) {\r\n                    System.out.println(&quot;### Client session closed: &quot; + closeReason);\r\n                }\r\n            }, ClientEndpointConfig.Builder.create().build(), URI.create(&quot;ws://echo.websocket.org&quot;));\r\n\r\n\r\nYou can check [Client Endpoint chapter in Tyrus user guide][2] for more details.\r\n\r\n  [1]: https://www.jcp.org/en/jsr/detail?id=356\r\n  [2]: https://tyrus.java.net/documentation/1.5/user-guide.html#d0e78","title":"Is there a minimalist WebSocket client library for java?","body":"<p><a href=\"https://www.jcp.org/en/jsr/detail?id=356\" rel=\"nofollow\">JSR 356 (Java API for WebSocket)</a>, part of Java EE 7 defines client API. There are multiple implementations: Tyrus (glassfish/WLS), Tomcat, ...; basically every container do provide the implementation or this api, even if not implementing other Java EE 7 specifications.</p>\n\n<p>Simple example: </p>\n\n<pre><code>        final WebSocketContainer client = ContainerProvider.getWebSocketContainer();\n        final Session session = client.connectToServer(new Endpoint() {\n            @Override\n            public void onOpen(Session session, EndpointConfig EndpointConfig) {\n\n                try {\n                    session.addMessageHandler(new MessageHandler.Whole&lt;String&gt;() {\n                        @Override\n                        public void onMessage(String message) {\n                            System.out.println(\"### Received: \" + message);\n                        }\n                    });\n\n                    session.getBasicRemote().sendText(\"Do or do not, there is no try.\");\n                } catch (IOException e) {\n                    // do nothing\n                }\n            }\n\n            @Override\n            public void onClose(Session session, CloseReason closeReason) {\n                System.out.println(\"### Client session closed: \" + closeReason);\n            }\n        }, ClientEndpointConfig.Builder.create().build(), URI.create(\"ws://echo.websocket.org\"));\n</code></pre>\n\n<p>You can check <a href=\"https://tyrus.java.net/documentation/1.5/user-guide.html#d0e78\" rel=\"nofollow\">Client Endpoint chapter in Tyrus user guide</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651684526,"creation_date":1651684526,"answer_id":72116999,"question_id":22340122,"body_markdown":"Just for completeness in future search hits, JavaSE 11 now has WebSocket support as well, in the [java.net.http package][1]. \r\n\r\nAlthough I confess I&#39;m finding only basic documentation and simplistic examples so far. Which leaves a bit to be desired in implementing a complete, robust solution. Among other things, a decent understanding of Java Concurrency seems to be required.\r\n\r\nThere&#39;s a little bit here: https://stackoverflow.com/q/55380813/796761\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/package-summary.html","title":"Is there a minimalist WebSocket client library for java?","body":"<p>Just for completeness in future search hits, JavaSE 11 now has WebSocket support as well, in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/package-summary.html\" rel=\"nofollow noreferrer\">java.net.http package</a>.</p>\n<p>Although I confess I'm finding only basic documentation and simplistic examples so far. Which leaves a bit to be desired in implementing a complete, robust solution. Among other things, a decent understanding of Java Concurrency seems to be required.</p>\n<p>There's a little bit here: <a href=\"https://stackoverflow.com/q/55380813/796761\">Require assistance with simple pure Java 11 WebSocket client example</a></p>\n"}],"owner":{"account_id":2666013,"reputation":1237,"user_id":2304441,"accept_rate":60,"display_name":"benbot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4749,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22340180,"answer_count":3,"score":2,"last_activity_date":1651684526,"creation_date":1394587242,"question_id":22340122,"body_markdown":"The title says it all.\r\n\r\nI&#39;m trying to make a video game that connects to a server hosted on heroku for file verification. \r\n\r\nSince heroku doesn&#39;t support vinella sockets I have to use websockets. I can make a websocket server just fine with Ruby or with some big java framework but I can&#39;t find a lightweight solution for making a client socket with java.\r\n\r\nThanks in advance!","title":"Is there a minimalist WebSocket client library for java?","body":"<p>The title says it all.</p>\n\n<p>I'm trying to make a video game that connects to a server hosted on heroku for file verification. </p>\n\n<p>Since heroku doesn't support vinella sockets I have to use websockets. I can make a websocket server just fine with Ruby or with some big java framework but I can't find a lightweight solution for making a client socket with java.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","class","if-statement","boolean"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1651683886,"post_id":72116829,"comment_id":127423427,"body_markdown":"take a look at this: https://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean","body":"take a look at this: <a href=\"https://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean\" title=\"program to an interface what does it mean\">stackoverflow.com/questions/1992384/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651684337,"creation_date":1651684337,"answer_id":72116957,"question_id":72116829,"body_markdown":"Since `ConferenceOnline` is a subclass of `Conference` (assuming `someMethod` is defined on `Conference`):\r\n\r\n```\r\nConference myclass;\r\nif (online) {\r\n  myclass = new ConferenceOnline();\r\n} else {\r\n  myclass = new Conference();\r\n}\r\nmyclass.someMethod();\r\n\r\n```","title":"How can I declare a new class but set its class &quot;type&quot; later?","body":"<p>Since <code>ConferenceOnline</code> is a subclass of <code>Conference</code> (assuming <code>someMethod</code> is defined on <code>Conference</code>):</p>\n<pre><code>Conference myclass;\nif (online) {\n  myclass = new ConferenceOnline();\n} else {\n  myclass = new Conference();\n}\nmyclass.someMethod();\n\n</code></pre>\n"}],"owner":{"account_id":22342545,"reputation":11,"user_id":16562132,"display_name":"Ilhan Yapici"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651684337,"creation_date":1651683772,"question_id":72116829,"body_markdown":"I&#39;m working on a **Java** school project and I was wondering if I could instantiate a class but set its class type later on ?\r\n\r\nI have two classes, *`Conference`* and *`ConferenceOnline`*. The latter is a subclass of *`Conference`*. Depending on a boolean, I want to create a new instance of *`ConferenceOnline`* if the boolean is true, else a new instance of *`Conference`*.\r\n\r\nHere is an  example:\r\n\r\n```java\r\nboolean online = true;\r\n\r\nif(online) {\r\n  ConferenceOnline myclass = new ConferenceOnline();\r\n}\r\nelse {\r\n  Conference myclass = new Conference();\r\n}\r\n\r\nmyclass.someMethod();\r\n```\r\n\r\nI could have instantiate the object before if/else but the fact that depending on *`online`* the object would not be created from the same class keeps me bugging.\r\n\r\nI know it&#39;s not possible to create a variable inside an if statement and access it outside of the statement. Is there a way to do this except writing code inside the if else statement ?","title":"How can I declare a new class but set its class &quot;type&quot; later?","body":"<p>I'm working on a <strong>Java</strong> school project and I was wondering if I could instantiate a class but set its class type later on ?</p>\n<p>I have two classes, <em><code>Conference</code></em> and <em><code>ConferenceOnline</code></em>. The latter is a subclass of <em><code>Conference</code></em>. Depending on a boolean, I want to create a new instance of <em><code>ConferenceOnline</code></em> if the boolean is true, else a new instance of <em><code>Conference</code></em>.</p>\n<p>Here is an  example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean online = true;\n\nif(online) {\n  ConferenceOnline myclass = new ConferenceOnline();\n}\nelse {\n  Conference myclass = new Conference();\n}\n\nmyclass.someMethod();\n</code></pre>\n<p>I could have instantiate the object before if/else but the fact that depending on <em><code>online</code></em> the object would not be created from the same class keeps me bugging.</p>\n<p>I know it's not possible to create a variable inside an if statement and access it outside of the statement. Is there a way to do this except writing code inside the if else statement ?</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":19403097,"reputation":1,"user_id":14189199,"display_name":"Spyynz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651684192,"creation_date":1651626679,"answer_id":72106969,"question_id":70553048,"body_markdown":"Maybe you could use `ci.cancel()` (requires you to include `CallbackInfo` ci in your injected method) and copy/paste the fabric mc source to the function but just change the `Singleplayer` button.","title":"How can i remove a title screen element with fabric in Minecraft 1.18.1","body":"<p>Maybe you could use <code>ci.cancel()</code> (requires you to include <code>CallbackInfo</code> ci in your injected method) and copy/paste the fabric mc source to the function but just change the <code>Singleplayer</code> button.</p>\n"}],"owner":{"account_id":23802404,"reputation":11,"user_id":17812405,"display_name":"crrocc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651684192,"creation_date":1641087298,"question_id":70553048,"body_markdown":"I am currently able to add elements to the title screen:\r\n```\r\npublic abstract class MCEMixin extends Screen {\r\n\r\n\tprotected MCEMixin(Text title) {\r\n\t\tsuper(title);\r\n\t}\r\n\r\n\t@Inject(at = @At(&quot;RETURN&quot;), method = &quot;initWidgetsNormal&quot;)\r\n\tprivate void addCustomButton(int y, int spacingY, CallbackInfo cI) {\r\n\t\tthis.addDrawableChild(new ButtonWidget(this.width / 2 - 100, y, 200, 20, Text.of(&quot;MCEssentials | Singleplayer&quot;), (button) -&gt; {\r\n\t\t\tMinecraftClient.getInstance().setScreen(new SelectWorldScreen(this));\r\n\t\t}));\r\n\t}\r\n}\r\n```\r\nI want to replace the singleplayer button with mine tho and I can&#39;t figure out how.","title":"How can i remove a title screen element with fabric in Minecraft 1.18.1","body":"<p>I am currently able to add elements to the title screen:</p>\n<pre><code>public abstract class MCEMixin extends Screen {\n\n    protected MCEMixin(Text title) {\n        super(title);\n    }\n\n    @Inject(at = @At(&quot;RETURN&quot;), method = &quot;initWidgetsNormal&quot;)\n    private void addCustomButton(int y, int spacingY, CallbackInfo cI) {\n        this.addDrawableChild(new ButtonWidget(this.width / 2 - 100, y, 200, 20, Text.of(&quot;MCEssentials | Singleplayer&quot;), (button) -&gt; {\n            MinecraftClient.getInstance().setScreen(new SelectWorldScreen(this));\n        }));\n    }\n}\n</code></pre>\n<p>I want to replace the singleplayer button with mine tho and I can't figure out how.</p>\n"},{"tags":["java","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":7478323,"reputation":175,"user_id":5683970,"display_name":"Jordi Alvarez"},"score":0,"creation_date":1652741086,"post_id":72116873,"comment_id":127674877,"body_markdown":"It seems that you are creating new Role entities with null value as primary key. Additionally, JPA annotations are useless when using only JDBC. Is it possible that data on the database comes from previous (and different) executions of your code?","body":"It seems that you are creating new Role entities with null value as primary key. Additionally, JPA annotations are useless when using only JDBC. Is it possible that data on the database comes from previous (and different) executions of your code?"}],"owner":{"account_id":18253404,"reputation":79,"user_id":13287894,"display_name":"krysznys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651683971,"creation_date":1651683971,"question_id":72116873,"body_markdown":"I have been following the tutorial on Spring security with JWT ([link][1]), and decided to use Spring Boot Starter Data JDBC [version 2.6.6][2] instead of of JPA and noticed quite strange behaviour. I have a user class:\r\n\r\n```\r\n@Table(&quot;CUSTOMER&quot;)\r\npublic class Customer {\r\n    @Id\r\n    @Column\r\n    private Long id;\r\n    @Column\r\n    private String email;\r\n    @Column\r\n    private String password;\r\n    @MappedCollection(keyColumn = &quot;ROLE_ID&quot;, idColumn = &quot;ROLE_ID&quot;)\r\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    @MappedCollection(keyColumn = &quot;CART_ITEM_ID&quot;,idColumn = &quot;CART_ITEM_ID&quot;)\r\n    private Map&lt;Long, CartItem&gt; productsInCart = new HashMap&lt;&gt;();\r\n    //constructors, getters and setters\r\n```\r\nand Role class:\r\n```\r\n@Table(&quot;ROLE&quot;)\r\npublic class Role {\r\n\r\n    @Id\r\n    private Long roleId;\r\n    @Column\r\n    private String name;\r\n\r\n    public Role(Long roleId, String name) {\r\n        this.roleId = roleId;\r\n        this.name = name;\r\n    }\r\n   ///getters and setters\r\n```\r\nWhen the application runs, I have this method being executed:\r\n```\r\n@SpringBootApplication\r\npublic class Application extends SpringBootServletInitializer {\r\n    public static void main(String[] args){\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n    @Bean\r\n    CommandLineRunner runner(CustomerService customerService){\r\n        return args -&gt; {\r\n\r\n\r\n            customerService.saveCustomer(new Customer(&quot;1234@example.com&quot;, &quot;newpassword&quot;, new ArrayList&lt;&gt;(), new HashMap&lt;&gt;()));\r\n            customerService.saveCustomer(new Customer(&quot;112233@example.com&quot;, &quot;password&quot;, new ArrayList&lt;&gt;(), new HashMap&lt;&gt;()));\r\n            customerService.saveCustomer(new Customer(&quot;test@example.com&quot;, &quot;passwd&quot;, new ArrayList&lt;&gt;(), new HashMap&lt;&gt;()));\r\n\r\n            customerService.saveRole(new Role( null, &quot;ROLE_ADMIN&quot;));\r\n            customerService.saveRole(new Role( null, &quot;ROLE_USER&quot;));\r\n            customerService.saveRole(new Role( null, &quot;ROLE_SUPER_ADMIN&quot;));\r\n\r\n            customerService.addRoleToUser(&quot;1234@example.com&quot;, &quot;ROLE_USER&quot;);\r\n            customerService.addRoleToUser(&quot;112233@example.com&quot;, &quot;ROLE_ADMIN&quot;);\r\n        };\r\n    }\r\n}\r\n```\r\nCustomer Service is an interface containing methods for data manipulation. \r\nEach repository extends ```CrudRepository```\r\nThe method ```saveRole()``` is simply:\r\n```\r\npublic Role saveRole(Role role) {\r\n        return roleRepo.save(role);\r\n    }\r\n```\r\n\r\nThe method ```addRoleToUser()```:\r\n```\r\npublic void addRoleToUser(String email, String roleName) {\r\n        Customer customer = customerRepo.findByEmail(email);\r\n        Role role = roleRepo.findByName(roleName);\r\n        customer.getRoles().add(role);\r\n    }\r\n```\r\n\r\nIn the code above only ```addRoleToUser()``` does operations on the Collection of Roles in Customer class. both ```saveRole()``` and ```addRoleToUser()``` are implemented in a class with ```@Service``` and ```@Transactional``` annotations.\r\nHowever, when I test this with Postman, I get the following response:\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;email&quot;: &quot;1234@example.com&quot;,\r\n        &quot;password&quot;: &quot;$2a$10$bdSBoB3yuLdNkmdDvUazwOrw5BFAZB2iOqPBKi28RaGTZ9Dtkfo76&quot;,\r\n        &quot;roles&quot;: [\r\n            {\r\n                &quot;roleId&quot;: 1,\r\n                &quot;name&quot;: &quot;ROLE_ADMIN&quot;\r\n            }\r\n        ],\r\n        &quot;productsInCart&quot;: {}\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;email&quot;: &quot;112233@example.com&quot;,\r\n        &quot;password&quot;: &quot;$2a$10$Qr15M9SGyZ5.D0fVijZeUOrD10nOTeEDT5LkCNlMNMpvocVP2gM/G&quot;,\r\n        &quot;roles&quot;: [\r\n            {\r\n                &quot;roleId&quot;: 2,\r\n                &quot;name&quot;: &quot;ROLE_USER&quot;\r\n            }\r\n        ],\r\n        &quot;productsInCart&quot;: {}\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;email&quot;: &quot;test@example.com&quot;,\r\n        &quot;password&quot;: &quot;$2a$10$g2qVrzQHxY1s9rSP.o.XiedbyuuXQ7xB29syo5fu4mf4cxbRWkGji&quot;,\r\n        &quot;roles&quot;: [\r\n            {\r\n                &quot;roleId&quot;: 3,\r\n                &quot;name&quot;: &quot;ROLE_SUPER_ADMIN&quot;\r\n            }\r\n        ],\r\n        &quot;productsInCart&quot;: {}\r\n    }\r\n]\r\n```\r\nSo it kind of seems that while saving a Role to the database, the Role is added to customer. What could be the reason for that?  I tried changing the order of addition of Roles to the database in the ```runner()``` method and the JSON I received always reflected the order I chose (If I add &quot;ROLE_USER,_ROLE_ADMIN, ROLE_SUPER_ADMIN user 1 will get ROLE_USER, user 2 gets ROLE_ADMIN and so on...). I tried to assign the Roles using ```addRoleToUser()``` method but the changes it makes are not saved in the database. Any tip would be greatly appreciated.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=VVn9OG9nfH0\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jdbc/2.6.6","title":"Spring Boot Starter Data JDBC - field being updated on its own?","body":"<p>I have been following the tutorial on Spring security with JWT (<a href=\"https://www.youtube.com/watch?v=VVn9OG9nfH0\" rel=\"nofollow noreferrer\">link</a>), and decided to use Spring Boot Starter Data JDBC <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jdbc/2.6.6\" rel=\"nofollow noreferrer\">version 2.6.6</a> instead of of JPA and noticed quite strange behaviour. I have a user class:</p>\n<pre><code>@Table(&quot;CUSTOMER&quot;)\npublic class Customer {\n    @Id\n    @Column\n    private Long id;\n    @Column\n    private String email;\n    @Column\n    private String password;\n    @MappedCollection(keyColumn = &quot;ROLE_ID&quot;, idColumn = &quot;ROLE_ID&quot;)\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n    @MappedCollection(keyColumn = &quot;CART_ITEM_ID&quot;,idColumn = &quot;CART_ITEM_ID&quot;)\n    private Map&lt;Long, CartItem&gt; productsInCart = new HashMap&lt;&gt;();\n    //constructors, getters and setters\n</code></pre>\n<p>and Role class:</p>\n<pre><code>@Table(&quot;ROLE&quot;)\npublic class Role {\n\n    @Id\n    private Long roleId;\n    @Column\n    private String name;\n\n    public Role(Long roleId, String name) {\n        this.roleId = roleId;\n        this.name = name;\n    }\n   ///getters and setters\n</code></pre>\n<p>When the application runs, I have this method being executed:</p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n    public static void main(String[] args){\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    CommandLineRunner runner(CustomerService customerService){\n        return args -&gt; {\n\n\n            customerService.saveCustomer(new Customer(&quot;1234@example.com&quot;, &quot;newpassword&quot;, new ArrayList&lt;&gt;(), new HashMap&lt;&gt;()));\n            customerService.saveCustomer(new Customer(&quot;112233@example.com&quot;, &quot;password&quot;, new ArrayList&lt;&gt;(), new HashMap&lt;&gt;()));\n            customerService.saveCustomer(new Customer(&quot;test@example.com&quot;, &quot;passwd&quot;, new ArrayList&lt;&gt;(), new HashMap&lt;&gt;()));\n\n            customerService.saveRole(new Role( null, &quot;ROLE_ADMIN&quot;));\n            customerService.saveRole(new Role( null, &quot;ROLE_USER&quot;));\n            customerService.saveRole(new Role( null, &quot;ROLE_SUPER_ADMIN&quot;));\n\n            customerService.addRoleToUser(&quot;1234@example.com&quot;, &quot;ROLE_USER&quot;);\n            customerService.addRoleToUser(&quot;112233@example.com&quot;, &quot;ROLE_ADMIN&quot;);\n        };\n    }\n}\n</code></pre>\n<p>Customer Service is an interface containing methods for data manipulation.\nEach repository extends <code>CrudRepository</code>\nThe method <code>saveRole()</code> is simply:</p>\n<pre><code>public Role saveRole(Role role) {\n        return roleRepo.save(role);\n    }\n</code></pre>\n<p>The method <code>addRoleToUser()</code>:</p>\n<pre><code>public void addRoleToUser(String email, String roleName) {\n        Customer customer = customerRepo.findByEmail(email);\n        Role role = roleRepo.findByName(roleName);\n        customer.getRoles().add(role);\n    }\n</code></pre>\n<p>In the code above only <code>addRoleToUser()</code> does operations on the Collection of Roles in Customer class. both <code>saveRole()</code> and <code>addRoleToUser()</code> are implemented in a class with <code>@Service</code> and <code>@Transactional</code> annotations.\nHowever, when I test this with Postman, I get the following response:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;email&quot;: &quot;1234@example.com&quot;,\n        &quot;password&quot;: &quot;$2a$10$bdSBoB3yuLdNkmdDvUazwOrw5BFAZB2iOqPBKi28RaGTZ9Dtkfo76&quot;,\n        &quot;roles&quot;: [\n            {\n                &quot;roleId&quot;: 1,\n                &quot;name&quot;: &quot;ROLE_ADMIN&quot;\n            }\n        ],\n        &quot;productsInCart&quot;: {}\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;email&quot;: &quot;112233@example.com&quot;,\n        &quot;password&quot;: &quot;$2a$10$Qr15M9SGyZ5.D0fVijZeUOrD10nOTeEDT5LkCNlMNMpvocVP2gM/G&quot;,\n        &quot;roles&quot;: [\n            {\n                &quot;roleId&quot;: 2,\n                &quot;name&quot;: &quot;ROLE_USER&quot;\n            }\n        ],\n        &quot;productsInCart&quot;: {}\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;email&quot;: &quot;test@example.com&quot;,\n        &quot;password&quot;: &quot;$2a$10$g2qVrzQHxY1s9rSP.o.XiedbyuuXQ7xB29syo5fu4mf4cxbRWkGji&quot;,\n        &quot;roles&quot;: [\n            {\n                &quot;roleId&quot;: 3,\n                &quot;name&quot;: &quot;ROLE_SUPER_ADMIN&quot;\n            }\n        ],\n        &quot;productsInCart&quot;: {}\n    }\n]\n</code></pre>\n<p>So it kind of seems that while saving a Role to the database, the Role is added to customer. What could be the reason for that?  I tried changing the order of addition of Roles to the database in the <code>runner()</code> method and the JSON I received always reflected the order I chose (If I add &quot;ROLE_USER,_ROLE_ADMIN, ROLE_SUPER_ADMIN user 1 will get ROLE_USER, user 2 gets ROLE_ADMIN and so on...). I tried to assign the Roles using <code>addRoleToUser()</code> method but the changes it makes are not saved in the database. Any tip would be greatly appreciated.</p>\n"},{"tags":["java","unix","log4j2"],"owner":{"account_id":12146228,"reputation":29,"user_id":8868460,"display_name":"NIRAJ RATHI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651683959,"creation_date":1651683959,"question_id":72116869,"body_markdown":"We are developing client library which will be distributed as jar to other user application who will in turn create runnable application. \r\nThe problem is we want to setup log4j separately for this jar so that issues can be logged correctly. As this is library we can not assume user will always use log4j they might use some other logging framework or may not initialize log4j as we want. In short we want to configure log4j separately for our library jar. Please suggest way to do this.","title":"How to have separate log4j config for library jar","body":"<p>We are developing client library which will be distributed as jar to other user application who will in turn create runnable application.\nThe problem is we want to setup log4j separately for this jar so that issues can be logged correctly. As this is library we can not assume user will always use log4j they might use some other logging framework or may not initialize log4j as we want. In short we want to configure log4j separately for our library jar. Please suggest way to do this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1651653673,"post_id":72110058,"comment_id":127411997,"body_markdown":"You CAN NOT append to an existing String, if you&#39;re talking about keeping the same reference. Java String is *immutable* and was specifically designed to NOT support that behavior. Whenever you append to a String, a new one will be created. If you try to &#39;hack&#39; into the data of the String, you will probably cause memory leaks. What you can do instead is use a `StringBuilder` or a big enough `char[]` or anything else that is/supports a `CharSequence` but is modifiable.","body":"You CAN NOT append to an existing String, if you&#39;re talking about keeping the same reference. Java String is <i>immutable</i> and was specifically designed to NOT support that behavior. Whenever you append to a String, a new one will be created. If you try to &#39;hack&#39; into the data of the String, you will probably cause memory leaks. What you can do instead is use a <code>StringBuilder</code> or a big enough <code>char[]</code> or anything else that is/supports a <code>CharSequence</code> but is modifiable."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1651653708,"post_id":72110058,"comment_id":127412010,"body_markdown":"What is `chars`? According your code there is no those variable.","body":"What is <code>chars</code>? According your code there is no those variable."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1651653778,"post_id":72110058,"comment_id":127412034,"body_markdown":"Now that you&#39;ve updated your question: Simply keep the `StringBuilder` *outside* the loop, and it will do exactly as you wish.","body":"Now that you&#39;ve updated your question: Simply keep the <code>StringBuilder</code> <i>outside</i> the loop, and it will do exactly as you wish."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1651653807,"post_id":72110058,"comment_id":127412050,"body_markdown":"`random.nextInt((int) (amountOfChars - 0 + 1)) + 0` why do you use those `+ 0`? By the way, there is your problem, you&#39;re generating numbers in a range that will exceed the length of `chars`.","body":"<code>random.nextInt((int) (amountOfChars - 0 + 1)) + 0</code> why do you use those <code>+ 0</code>? By the way, there is your problem, you&#39;re generating numbers in a range that will exceed the length of <code>chars</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1651655329,"post_id":72110058,"comment_id":127412586,"body_markdown":"By the way, you don&#39;t need to put the solution back in your question. It either belongs in an existing answer (in which case you should just [accept it](https://stackoverflow.com/help/accepted-answer)) or in a [self-answer](https://stackoverflow.com/help/self-answer) if the existing answers are not satisfying but you found a solution yourself. I&#39;m reverting your latest edit to keep your question clean.","body":"By the way, you don&#39;t need to put the solution back in your question. It either belongs in an existing answer (in which case you should just <a href=\"https://stackoverflow.com/help/accepted-answer\">accept it</a>) or in a <a href=\"https://stackoverflow.com/help/self-answer\">self-answer</a> if the existing answers are not satisfying but you found a solution yourself. I&#39;m reverting your latest edit to keep your question clean."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651684038,"post_id":72110058,"comment_id":127423488,"body_markdown":"What do you think `new StringBuilder(chars[(int) whichChar])` does? And why do you do that? Similarly, what do you think `sb.append(out)` does, and why do you do it?","body":"What do you think <code>new StringBuilder(chars[(int) whichChar])</code> does? And why do you do that? Similarly, what do you think <code>sb.append(out)</code> does, and why do you do it?"},{"owner":{"account_id":25191258,"reputation":1,"user_id":19031437,"display_name":"elias"},"score":0,"creation_date":1652864749,"post_id":72110058,"comment_id":127707433,"body_markdown":"@MarkRotteveel `new StringBuilder(chars[(int) whichChar])` sets it to a random character from the array and i thought `sb.append(out)` would append to the actual out string but turns out im an idiot","body":"@MarkRotteveel <code>new StringBuilder(chars[(int) whichChar])</code> sets it to a random character from the array and i thought <code>sb.append(out)</code> would append to the actual out string but turns out im an idiot"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652866419,"post_id":72110058,"comment_id":127708095,"body_markdown":"It doesn&#39;t, it calls `StringBuilder(int)`, which sets the initial length of the string builder. A `char` is essentially a 16-bit unsigned integer, and thus coercible to `int`.","body":"It doesn&#39;t, it calls <code>StringBuilder(int)</code>, which sets the initial length of the string builder. A <code>char</code> is essentially a 16-bit unsigned integer, and thus coercible to <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651654889,"creation_date":1651653700,"answer_id":72110117,"question_id":72110058,"body_markdown":"ArrayIndexOutOfBoundsException means that index for array `chars` is out of bounds. \r\n\r\nThat means that array `chars` has less than 32 available indexes (length of array is 32 or less). You can see in exception message: `Index 32 out of bounds for length 32`. Length of that array is 32, which means available indexes are from 0 to 31 inclusive. Java counts array indexes from 0.\r\n\r\nHowever your usage of StringBuilder class is wrong. In that cycle you are creating new instance of StringBuilder every iteration `StringBuilder sb = new StringBuilder(chars[(int) whichChar]);`\r\n. Create StringBuilder instance once before cycle and then just use append method.\r\n\r\nYou are also always appending `null` to `sb` since `out` is always `null`.\r\n\r\nAlso make sure you manipulate`amountOfTimesLeft`, becuase this way the cycle will be infinite.\r\n\r\nExample solution:\r\n\r\n    long amountOfChars = chars.length -1; //-1 to prevent ArrayIndexOutOfBoundsException\r\n    int amountOfTimesLeft = 20;\r\n    Random random = new Random();\r\n    StringBuilder sb = new StringBuilder();\r\n    while (amountOfTimesLeft != 0) {\r\n           long whichChar = (random.nextInt((int) (amountOfChars - 0 + 1)) + 0);\r\n           sb.append(chars[(int) whichChar]);\r\n           amountOfTimesLeft--; //decrease amountOfTimesLeft by 1\r\n    }\r\n\r\nTo get the actual `String` you can do `sb.toString()`;\r\n\r\n","title":"How do I append to an already existing string in java?","body":"<p>ArrayIndexOutOfBoundsException means that index for array <code>chars</code> is out of bounds.</p>\n<p>That means that array <code>chars</code> has less than 32 available indexes (length of array is 32 or less). You can see in exception message: <code>Index 32 out of bounds for length 32</code>. Length of that array is 32, which means available indexes are from 0 to 31 inclusive. Java counts array indexes from 0.</p>\n<p>However your usage of StringBuilder class is wrong. In that cycle you are creating new instance of StringBuilder every iteration <code>StringBuilder sb = new StringBuilder(chars[(int) whichChar]);</code>\n. Create StringBuilder instance once before cycle and then just use append method.</p>\n<p>You are also always appending <code>null</code> to <code>sb</code> since <code>out</code> is always <code>null</code>.</p>\n<p>Also make sure you manipulate<code>amountOfTimesLeft</code>, becuase this way the cycle will be infinite.</p>\n<p>Example solution:</p>\n<pre><code>long amountOfChars = chars.length -1; //-1 to prevent ArrayIndexOutOfBoundsException\nint amountOfTimesLeft = 20;\nRandom random = new Random();\nStringBuilder sb = new StringBuilder();\nwhile (amountOfTimesLeft != 0) {\n       long whichChar = (random.nextInt((int) (amountOfChars - 0 + 1)) + 0);\n       sb.append(chars[(int) whichChar]);\n       amountOfTimesLeft--; //decrease amountOfTimesLeft by 1\n}\n</code></pre>\n<p>To get the actual <code>String</code> you can do <code>sb.toString()</code>;</p>\n"},{"tags":[],"owner":{"account_id":2140858,"reputation":53,"user_id":1899526,"display_name":"HienNg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651655262,"creation_date":1651654837,"answer_id":72110350,"question_id":72110058,"body_markdown":"I made a little change to your code.\r\n\r\nTo make int random in a range, we use random.nextInt(max - min) + min.\r\nHere max is the max array index, the min is the index 0.\r\n\r\nI moved the StringBuilder out of the loop. Reduce the condition value to break out of the loop when the condition is met.\r\n\r\nPlease be aware of casting long to int, it can lead to an Overflow issue.\r\n\r\n        char[] chars = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;};\r\n        long amountOfChars = chars.length;\r\n        int amountOfTimesLeft = 20;\r\n        Random random = new Random();\r\n        StringBuilder sb = new StringBuilder();\r\n        while (amountOfTimesLeft != 0)\r\n        {\r\n            long whichChar = (random.nextInt((int)(amountOfChars - 0)) + 0);\r\n            sb.append(chars[(int)whichChar]);\r\n            amountOfTimesLeft--;\r\n        }\r\n        \r\n        System.out.println(sb.toString());\r\n","title":"How do I append to an already existing string in java?","body":"<p>I made a little change to your code.</p>\n<p>To make int random in a range, we use random.nextInt(max - min) + min.\nHere max is the max array index, the min is the index 0.</p>\n<p>I moved the StringBuilder out of the loop. Reduce the condition value to break out of the loop when the condition is met.</p>\n<p>Please be aware of casting long to int, it can lead to an Overflow issue.</p>\n<pre><code>    char[] chars = {'a', 'b', 'c', 'd'};\n    long amountOfChars = chars.length;\n    int amountOfTimesLeft = 20;\n    Random random = new Random();\n    StringBuilder sb = new StringBuilder();\n    while (amountOfTimesLeft != 0)\n    {\n        long whichChar = (random.nextInt((int)(amountOfChars - 0)) + 0);\n        sb.append(chars[(int)whichChar]);\n        amountOfTimesLeft--;\n    }\n    \n    System.out.println(sb.toString());\n</code></pre>\n"}],"owner":{"account_id":25191258,"reputation":1,"user_id":19031437,"display_name":"elias"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1673357353,"accepted_answer_id":72110117,"answer_count":2,"score":-3,"last_activity_date":1651683898,"creation_date":1651653394,"question_id":72110058,"body_markdown":"No, not like this:\r\n```java\r\nString stringName = &quot;example&quot;;\r\nString stringName2 = (&quot;\\&quot;&quot; + stringName + &quot;\\&quot; secretly means \\&quot;i like trains\\&quot;&quot;);\r\n```\r\n\r\nThe code I tried to use is: \r\n```java\r\nlong amountOfChars = chars.length;\r\nint amountOfTimesLeft = 20;\r\nString out = null;\r\nRandom random = new Random();\r\nwhile (amountOfTimesLeft != 0) {\r\n       long whichChar = (random.nextInt((int) (amountOfChars - 0 + 1)) + 0);\r\n       StringBuilder sb = new StringBuilder(chars[(int) whichChar]);\r\n       sb.append(out);\r\n}\r\n```\r\n(&quot;chars&quot; is an array of strings I&#39;ve already defined)\r\n\r\nWhat I expected it to do is: Get a random string from the chars array and add it to the out string, and repeat it 19 more times.\r\n\r\nWhat it does:\r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 32 out of bounds for length 32\r\n\tat Main.main(Main.java:45)\r\n```\r\n\r\nI have really no idea what this means. Could someone help?\r\n(line 45 is the line that defines sb)\r\n\r\nAnd yes, I know I forgot to decrease amountOfTimesLeft, but that&#39;s not the point of this question.","title":"How do I append to an already existing string in java?","body":"<p>No, not like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringName = &quot;example&quot;;\nString stringName2 = (&quot;\\&quot;&quot; + stringName + &quot;\\&quot; secretly means \\&quot;i like trains\\&quot;&quot;);\n</code></pre>\n<p>The code I tried to use is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long amountOfChars = chars.length;\nint amountOfTimesLeft = 20;\nString out = null;\nRandom random = new Random();\nwhile (amountOfTimesLeft != 0) {\n       long whichChar = (random.nextInt((int) (amountOfChars - 0 + 1)) + 0);\n       StringBuilder sb = new StringBuilder(chars[(int) whichChar]);\n       sb.append(out);\n}\n</code></pre>\n<p>(&quot;chars&quot; is an array of strings I've already defined)</p>\n<p>What I expected it to do is: Get a random string from the chars array and add it to the out string, and repeat it 19 more times.</p>\n<p>What it does:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 32 out of bounds for length 32\n    at Main.main(Main.java:45)\n</code></pre>\n<p>I have really no idea what this means. Could someone help?\n(line 45 is the line that defines sb)</p>\n<p>And yes, I know I forgot to decrease amountOfTimesLeft, but that's not the point of this question.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23411218,"reputation":26,"user_id":17472874,"display_name":"Abdullah Munir Bhatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651683684,"creation_date":1646982182,"answer_id":71434746,"question_id":48362484,"body_markdown":"```\r\npublic class FloatingViewService extends Service {\r\n\r\n    private WindowManager mWindowManager;\r\n    private View mFloatingView;\r\n    private long interval = 0;\r\n\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        Log.d(TAG, &quot;onCreate: Floating Service is create&quot;);\r\n\r\n        //the xml file\r\n        //Inflate the floating view layout we created\r\n        mFloatingView = LayoutInflater.from(this).inflate(R.layout.layout_floating_widget, null);\r\n\r\n        //Add the view to the window.\r\n        final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\r\n                WindowManager.LayoutParams.WRAP_CONTENT,\r\n                WindowManager.LayoutParams.WRAP_CONTENT,\r\n                LAYOUT_FLAG,\r\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n                PixelFormat.TRANSLUCENT);\r\n\r\n\r\n        //Specify the view position\r\n        params.gravity = Gravity.TOP | Gravity.LEFT;        //Initially view will be added to top-left corner\r\n        params.x = 0;\r\n        params.y = 100;\r\n\r\n        //Add the view to the window\r\n        mWindowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\n        mWindowManager.addView(mFloatingView, params);\r\n\r\n        //The root element of the iconView view layout\r\n        final View iconView = mFloatingView.findViewById(R.id.icon_view);\r\n\r\n\r\n        //the icon view inside the xml file\r\n        //Open the application on the tap click\r\n        iconView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                //Open the application with click.\r\n                Intent intent = new Intent(FloatingViewService.this, MyActivity.class);\r\n                startActivity(intent);\r\n\r\n                //close the service and remove view from the view hierarchy\r\n                stopSelf();\r\n            }\r\n        });\r\n\r\n        //Drag and move floating view using user&#39;s touch action.\r\n        mFloatingView.findViewById(R.id.root_container).setOnTouchListener(new View.OnTouchListener() {\r\n            private int initialX;\r\n            private int initialY;\r\n            private float initialTouchX;\r\n            private float initialTouchY;\r\n\r\n\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                switch (event.getAction()) {\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        interval = System.currentTimeMillis();\r\n                        //remember the initial position.\r\n                        initialX = params.x;\r\n                        initialY = params.y;\r\n\r\n                        //get the touch location\r\n                        initialTouchX = event.getRawX();\r\n                        initialTouchY = event.getRawY();\r\n                        return true;\r\n                    case MotionEvent.ACTION_UP:\r\n\r\n                        if ((System.currentTimeMillis() - interval) &lt; 300) {\r\n                            // if time is less than 300 ms it means the user has clicked your view.\r\n                            // handle your click here\r\n                        } else {\r\n                            //Calculate the X and Y coordinates of the view and update view\r\n                            params.x = initialX + (int) (event.getRawX() - initialTouchX);\r\n                            params.y = initialY + (int) (event.getRawY() - initialTouchY);\r\n\r\n\r\n                            //Update the layout with new X &amp; Y coordinate\r\n                            mWindowManager.updateViewLayout(mFloatingView, params);\r\n                        }\r\n\r\n\r\n                        return true;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                        //Calculate the X and Y coordinates of the view.\r\n                        params.x = initialX + (int) (event.getRawX() - initialTouchX);\r\n                        params.y = initialY + (int) (event.getRawY() - initialTouchY);\r\n\r\n\r\n                        //Update the layout with new X &amp; Y coordinate\r\n                        mWindowManager.updateViewLayout(mFloatingView, params);\r\n                        return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (mFloatingView != null) mWindowManager.removeView(mFloatingView);\r\n    }\r\n}\r\n```","title":"how to make overlay window view clickable and touchable in android","body":"<pre><code>public class FloatingViewService extends Service {\n\n    private WindowManager mWindowManager;\n    private View mFloatingView;\n    private long interval = 0;\n\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        Log.d(TAG, &quot;onCreate: Floating Service is create&quot;);\n\n        //the xml file\n        //Inflate the floating view layout we created\n        mFloatingView = LayoutInflater.from(this).inflate(R.layout.layout_floating_widget, null);\n\n        //Add the view to the window.\n        final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n                WindowManager.LayoutParams.WRAP_CONTENT,\n                WindowManager.LayoutParams.WRAP_CONTENT,\n                LAYOUT_FLAG,\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n                PixelFormat.TRANSLUCENT);\n\n\n        //Specify the view position\n        params.gravity = Gravity.TOP | Gravity.LEFT;        //Initially view will be added to top-left corner\n        params.x = 0;\n        params.y = 100;\n\n        //Add the view to the window\n        mWindowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\n        mWindowManager.addView(mFloatingView, params);\n\n        //The root element of the iconView view layout\n        final View iconView = mFloatingView.findViewById(R.id.icon_view);\n\n\n        //the icon view inside the xml file\n        //Open the application on the tap click\n        iconView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //Open the application with click.\n                Intent intent = new Intent(FloatingViewService.this, MyActivity.class);\n                startActivity(intent);\n\n                //close the service and remove view from the view hierarchy\n                stopSelf();\n            }\n        });\n\n        //Drag and move floating view using user's touch action.\n        mFloatingView.findViewById(R.id.root_container).setOnTouchListener(new View.OnTouchListener() {\n            private int initialX;\n            private int initialY;\n            private float initialTouchX;\n            private float initialTouchY;\n\n\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()) {\n                    case MotionEvent.ACTION_DOWN:\n                        interval = System.currentTimeMillis();\n                        //remember the initial position.\n                        initialX = params.x;\n                        initialY = params.y;\n\n                        //get the touch location\n                        initialTouchX = event.getRawX();\n                        initialTouchY = event.getRawY();\n                        return true;\n                    case MotionEvent.ACTION_UP:\n\n                        if ((System.currentTimeMillis() - interval) &lt; 300) {\n                            // if time is less than 300 ms it means the user has clicked your view.\n                            // handle your click here\n                        } else {\n                            //Calculate the X and Y coordinates of the view and update view\n                            params.x = initialX + (int) (event.getRawX() - initialTouchX);\n                            params.y = initialY + (int) (event.getRawY() - initialTouchY);\n\n\n                            //Update the layout with new X &amp; Y coordinate\n                            mWindowManager.updateViewLayout(mFloatingView, params);\n                        }\n\n\n                        return true;\n                    case MotionEvent.ACTION_MOVE:\n                        //Calculate the X and Y coordinates of the view.\n                        params.x = initialX + (int) (event.getRawX() - initialTouchX);\n                        params.y = initialY + (int) (event.getRawY() - initialTouchY);\n\n\n                        //Update the layout with new X &amp; Y coordinate\n                        mWindowManager.updateViewLayout(mFloatingView, params);\n                        return true;\n                }\n                return false;\n            }\n        });\n    }\n\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (mFloatingView != null) mWindowManager.removeView(mFloatingView);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21972758,"reputation":1,"user_id":16248993,"display_name":"weiweiwi wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646988612,"creation_date":1646988612,"answer_id":71435891,"question_id":48362484,"body_markdown":"You can record current timemillis when your ACTION_DOWN event was triggered, so you can do something you want like handle onclick in your ACTION_UP event.","title":"how to make overlay window view clickable and touchable in android","body":"<p>You can record current timemillis when your ACTION_DOWN event was triggered, so you can do something you want like handle onclick in your ACTION_UP event.</p>\n"}],"owner":{"account_id":12728042,"reputation":33,"user_id":9245809,"display_name":"Niaz Arman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651683684,"creation_date":1516494146,"question_id":48362484,"body_markdown":"I am trying to learn how to create an overlay window similar to Facebook chat head messenger icon in Android.\r\n\r\nI managed to create the following class which enabled me to create an overlay window view similar to fb&#39;s chat head. however, I am having difficulty with the Clickable Listener and Touchable Listener. Touchable Listener doesn&#39;t work if I use Clickable Listener and vice-versa. \r\n\r\nI want the overlay window view to be clickable to resume the application when I tap on it and touchable to move the icon anywhere on the screen. \r\n\r\nCode:\r\n\r\n    public class FloatingViewService extends Service {\r\n\r\n    private WindowManager mWindowManager;\r\n    private View mFloatingView;\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        Log.d(TAG, &quot;onCreate: Floating Service is create&quot;);\r\n\r\n\t\t//the xml file\r\n        //Inflate the floating view layout we created\r\n        mFloatingView = LayoutInflater.from(this).inflate(R.layout.layout_floating_widget, null);\r\n\r\n        //Add the view to the window.\r\n        final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\r\n                WindowManager.LayoutParams.WRAP_CONTENT,\r\n                WindowManager.LayoutParams.WRAP_CONTENT,\r\n                LAYOUT_FLAG,\r\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n                PixelFormat.TRANSLUCENT);\r\n\r\n\r\n\r\n        //Specify the view position\r\n        params.gravity = Gravity.TOP | Gravity.LEFT;        //Initially view will be added to top-left corner\r\n        params.x = 0;\r\n        params.y = 100;\r\n\r\n        //Add the view to the window\r\n        mWindowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\n        mWindowManager.addView(mFloatingView, params);\r\n\r\n        //The root element of the iconView view layout\r\n        final View iconView = mFloatingView.findViewById(R.id.icon_view);\r\n\r\n\r\n\t\t//the icon view inside the xml file\r\n        //Open the application on the tap click\r\n        iconView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                //Open the application with click.\r\n                Intent intent = new Intent(FloatingViewService.this, MyActivity.class);\r\n                startActivity(intent);\r\n\r\n                //close the service and remove view from the view hierarchy\r\n                stopSelf();\r\n            }\r\n        });\r\n\r\n        //Drag and move floating view using user&#39;s touch action.\r\n        mFloatingView.findViewById(R.id.root_container).setOnTouchListener(new View.OnTouchListener() {\r\n            private int initialX;\r\n            private int initialY;\r\n            private float initialTouchX;\r\n            private float initialTouchY;\r\n\r\n\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                switch (event.getAction()) {\r\n                    case MotionEvent.ACTION_DOWN:\r\n\r\n                        //remember the initial position.\r\n                        initialX = params.x;\r\n                        initialY = params.y;\r\n\r\n                        //get the touch location\r\n                        initialTouchX = event.getRawX();\r\n                        initialTouchY = event.getRawY();\r\n                        return true;\r\n                    case MotionEvent.ACTION_UP:\r\n                        return true;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                        //Calculate the X and Y coordinates of the view.\r\n                        params.x = initialX + (int) (event.getRawX() - initialTouchX);\r\n                        params.y = initialY + (int) (event.getRawY() - initialTouchY);\r\n\r\n\r\n                        //Update the layout with new X &amp; Y coordinate\r\n                        mWindowManager.updateViewLayout(mFloatingView, params);\r\n                        return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (mFloatingView != null) mWindowManager.removeView(mFloatingView);\r\n    }\r\n    }","title":"how to make overlay window view clickable and touchable in android","body":"<p>I am trying to learn how to create an overlay window similar to Facebook chat head messenger icon in Android.</p>\n\n<p>I managed to create the following class which enabled me to create an overlay window view similar to fb's chat head. however, I am having difficulty with the Clickable Listener and Touchable Listener. Touchable Listener doesn't work if I use Clickable Listener and vice-versa. </p>\n\n<p>I want the overlay window view to be clickable to resume the application when I tap on it and touchable to move the icon anywhere on the screen. </p>\n\n<p>Code:</p>\n\n<pre><code>public class FloatingViewService extends Service {\n\nprivate WindowManager mWindowManager;\nprivate View mFloatingView;\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    Log.d(TAG, \"onCreate: Floating Service is create\");\n\n    //the xml file\n    //Inflate the floating view layout we created\n    mFloatingView = LayoutInflater.from(this).inflate(R.layout.layout_floating_widget, null);\n\n    //Add the view to the window.\n    final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            LAYOUT_FLAG,\n            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n            PixelFormat.TRANSLUCENT);\n\n\n\n    //Specify the view position\n    params.gravity = Gravity.TOP | Gravity.LEFT;        //Initially view will be added to top-left corner\n    params.x = 0;\n    params.y = 100;\n\n    //Add the view to the window\n    mWindowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\n    mWindowManager.addView(mFloatingView, params);\n\n    //The root element of the iconView view layout\n    final View iconView = mFloatingView.findViewById(R.id.icon_view);\n\n\n    //the icon view inside the xml file\n    //Open the application on the tap click\n    iconView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            //Open the application with click.\n            Intent intent = new Intent(FloatingViewService.this, MyActivity.class);\n            startActivity(intent);\n\n            //close the service and remove view from the view hierarchy\n            stopSelf();\n        }\n    });\n\n    //Drag and move floating view using user's touch action.\n    mFloatingView.findViewById(R.id.root_container).setOnTouchListener(new View.OnTouchListener() {\n        private int initialX;\n        private int initialY;\n        private float initialTouchX;\n        private float initialTouchY;\n\n\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n\n                    //remember the initial position.\n                    initialX = params.x;\n                    initialY = params.y;\n\n                    //get the touch location\n                    initialTouchX = event.getRawX();\n                    initialTouchY = event.getRawY();\n                    return true;\n                case MotionEvent.ACTION_UP:\n                    return true;\n                case MotionEvent.ACTION_MOVE:\n                    //Calculate the X and Y coordinates of the view.\n                    params.x = initialX + (int) (event.getRawX() - initialTouchX);\n                    params.y = initialY + (int) (event.getRawY() - initialTouchY);\n\n\n                    //Update the layout with new X &amp; Y coordinate\n                    mWindowManager.updateViewLayout(mFloatingView, params);\n                    return true;\n            }\n            return false;\n        }\n    });\n}\n\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    if (mFloatingView != null) mWindowManager.removeView(mFloatingView);\n}\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":9593085,"reputation":23,"user_id":9469267,"display_name":"AutoQA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651683607,"creation_date":1651683607,"question_id":72116791,"body_markdown":"I have recently started using hibernate for database testing and come across a scenario where after an API `POST` request, it can take circa 15 - 25 mins for records to be created in the database. My script sends the request using ReasAssred, it then immediately connects to the database using hibernate to run a query which searches the records generated from the request. \r\n\r\nWith the help of Java&#39;s `TimeUnit.MINUTES.sleep(25)`, hibernate waits for the record to be present in the table before sending a query, however, sometimes the record can be generated in about 15 mins. Of course, hibernate won&#39;t proceed until the 25 mins lapse. \r\n\r\nI&#39;m curious. Does hibernate have a smart or fluent way of checking the table at intervals and then execute the query once the data is available, instead of waiting the whole 25 mins? Is there a better way to handle the scenario rather than a dumb 25 mins sleep? I have done ample research online without any concrete resolution, hence this question.","title":"Can hibernate wait for a record to be present in database before executing?","body":"<p>I have recently started using hibernate for database testing and come across a scenario where after an API <code>POST</code> request, it can take circa 15 - 25 mins for records to be created in the database. My script sends the request using ReasAssred, it then immediately connects to the database using hibernate to run a query which searches the records generated from the request.</p>\n<p>With the help of Java's <code>TimeUnit.MINUTES.sleep(25)</code>, hibernate waits for the record to be present in the table before sending a query, however, sometimes the record can be generated in about 15 mins. Of course, hibernate won't proceed until the 25 mins lapse.</p>\n<p>I'm curious. Does hibernate have a smart or fluent way of checking the table at intervals and then execute the query once the data is available, instead of waiting the whole 25 mins? Is there a better way to handle the scenario rather than a dumb 25 mins sleep? I have done ample research online without any concrete resolution, hence this question.</p>\n"},{"tags":["java","machine-learning","vowpalwabbit"],"answers":[{"tags":[],"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651683604,"creation_date":1651683604,"answer_id":72116788,"question_id":71383018,"body_markdown":"I ended up using one of the abandoned [PR][1]. Here is my working git patch file - \r\n```\r\ndiff --git a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc\r\nindex 6b51c4d30..f3ccb6621 100644\r\n--- a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc\r\n+++ b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc\r\n@@ -11,3 +11,17 @@ JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predict(JNI\r\n JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predictMultiline(JNIEnv *env, jobject obj, jobjectArray example_strings, jboolean learn, jlong vwPtr)\r\n { return base_predict&lt;jint&gt;(env, example_strings, learn, vwPtr, multiclass_predictor);\r\n }\r\n+\r\n+jfloatArray multiclass_raw_predictor(example* vec, JNIEnv *env){\r\n+  size_t num_values = vec-&gt;l.cs.costs.size();\r\n+  jfloatArray j_labels = env-&gt;NewFloatArray(num_values);\r\n+  for (int i=0 ; i&lt;num_values; i++) {\r\n+    jfloat f[] = { vec-&gt;l.cs.costs[i].partial_prediction };\r\n+    env-&gt;SetFloatArrayRegion(j_labels, i, 1, (float*)f);\r\n+   }\r\n+   return j_labels;\r\n+ }\r\n+\r\n+JNIEXPORT jfloatArray JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_rawPredict(JNIEnv *env, jobject obj, jstring example_string, jboolean learn, jlong vwPtr){\r\n+return base_predict&lt;jfloatArray&gt;(env, example_string, learn, vwPtr, multiclass_raw_predictor);\r\n+}\r\ndiff --git a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h\r\nindex 05204d53e..5610704fa 100644\r\n--- a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h\r\n+++ b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h\r\n@@ -24,6 +24,15 @@ JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predict\r\n JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predictMultiline\r\n (JNIEnv *, jobject, jobjectArray, jboolean, jlong);\r\n \r\n+/*\r\n+ * Class:     vowpalWabbit_learner_VWMulticlassLearner\r\n+ * Method:    rawPredict\r\n+ * Signature: ([Ljava/lang/String;ZJ)I\r\n+ */\r\n+JNIEXPORT jfloatArray JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_rawPredict\r\n+  (JNIEnv *, jobject, jstring, jboolean, jlong);\r\n+\r\n+\r\n #ifdef __cplusplus\r\n }\r\n #endif\r\ndiff --git a/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java b/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java\r\nindex b506cfb25..bb3156351 100644\r\n--- a/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java\r\n+++ b/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java\r\n@@ -13,4 +13,25 @@ final public class VWMulticlassLearner extends VWIntLearner {\r\n \r\n     @Override\r\n     protected native int predictMultiline(String[] example, boolean learn, long nativePointer);\r\n+\r\n+    protected native float[] rawPredict(String example, boolean learn, long nativePointer);\r\n+\r\n+    /**\r\n+     * Get raw prediction output.\r\n+     *\r\n+     * @param example a single vw example string\r\n+     * @return Raw prediction\r\n+     */\r\n+\r\n+    public float[] rawPredict(final String example) {\r\n+        lock.lock();\r\n+        try {\r\n+            if (isOpen()) {\r\n+                return rawPredict(example, false, nativePointer);\r\n+            }\r\n+            throw new IllegalStateException(&quot;Already closed.&quot;);\r\n+        } finally {\r\n+            lock.unlock();\r\n+        }\r\n+    }\r\n }\r\n```\r\n\r\n\r\n  [1]: https://github.com/VowpalWabbit/vowpal_wabbit/pull/1244","title":"vowpal wabbit java: get raw predictions","body":"<p>I ended up using one of the abandoned <a href=\"https://github.com/VowpalWabbit/vowpal_wabbit/pull/1244\" rel=\"nofollow noreferrer\">PR</a>. Here is my working git patch file -</p>\n<pre><code>diff --git a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc\nindex 6b51c4d30..f3ccb6621 100644\n--- a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc\n+++ b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.cc\n@@ -11,3 +11,17 @@ JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predict(JNI\n JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predictMultiline(JNIEnv *env, jobject obj, jobjectArray example_strings, jboolean learn, jlong vwPtr)\n { return base_predict&lt;jint&gt;(env, example_strings, learn, vwPtr, multiclass_predictor);\n }\n+\n+jfloatArray multiclass_raw_predictor(example* vec, JNIEnv *env){\n+  size_t num_values = vec-&gt;l.cs.costs.size();\n+  jfloatArray j_labels = env-&gt;NewFloatArray(num_values);\n+  for (int i=0 ; i&lt;num_values; i++) {\n+    jfloat f[] = { vec-&gt;l.cs.costs[i].partial_prediction };\n+    env-&gt;SetFloatArrayRegion(j_labels, i, 1, (float*)f);\n+   }\n+   return j_labels;\n+ }\n+\n+JNIEXPORT jfloatArray JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_rawPredict(JNIEnv *env, jobject obj, jstring example_string, jboolean learn, jlong vwPtr){\n+return base_predict&lt;jfloatArray&gt;(env, example_string, learn, vwPtr, multiclass_raw_predictor);\n+}\ndiff --git a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h\nindex 05204d53e..5610704fa 100644\n--- a/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h\n+++ b/java/src/main/c++/vowpalWabbit_learner_VWMulticlassLearner.h\n@@ -24,6 +24,15 @@ JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predict\n JNIEXPORT jint JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_predictMultiline\n (JNIEnv *, jobject, jobjectArray, jboolean, jlong);\n \n+/*\n+ * Class:     vowpalWabbit_learner_VWMulticlassLearner\n+ * Method:    rawPredict\n+ * Signature: ([Ljava/lang/String;ZJ)I\n+ */\n+JNIEXPORT jfloatArray JNICALL Java_vowpalWabbit_learner_VWMulticlassLearner_rawPredict\n+  (JNIEnv *, jobject, jstring, jboolean, jlong);\n+\n+\n #ifdef __cplusplus\n }\n #endif\ndiff --git a/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java b/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java\nindex b506cfb25..bb3156351 100644\n--- a/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java\n+++ b/java/src/main/java/vowpalWabbit/learner/VWMulticlassLearner.java\n@@ -13,4 +13,25 @@ final public class VWMulticlassLearner extends VWIntLearner {\n \n     @Override\n     protected native int predictMultiline(String[] example, boolean learn, long nativePointer);\n+\n+    protected native float[] rawPredict(String example, boolean learn, long nativePointer);\n+\n+    /**\n+     * Get raw prediction output.\n+     *\n+     * @param example a single vw example string\n+     * @return Raw prediction\n+     */\n+\n+    public float[] rawPredict(final String example) {\n+        lock.lock();\n+        try {\n+            if (isOpen()) {\n+                return rawPredict(example, false, nativePointer);\n+            }\n+            throw new IllegalStateException(&quot;Already closed.&quot;);\n+        } finally {\n+            lock.unlock();\n+        }\n+    }\n }\n</code></pre>\n"}],"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72116788,"answer_count":1,"score":0,"last_activity_date":1651683604,"creation_date":1646665310,"question_id":71383018,"body_markdown":"I am using Java API of vowpal wabbit to get predictions. I need raw prediction (same as `-r output.txt`) but I couldn&#39;t find any such method in `VWMulticlassLearner` class. I am using below `arg` to train my model in python via cmd -\r\n```\r\nvw -f model_filepath -c --cache_file cache_filepath -k --csoaa 40 -b 24 -q cd -q .... -q n: --ignore a --ignore x\r\n```\r\nand we are using below code in Java to get predictions -\r\n```\r\nVWLearners.create(&quot;-i ./data/train.model  -t --quiet&quot;); // VWMulticlassLearner\r\nVWLearners.create(&quot;-i ./data/train.model  -t --quiet --csoaa_ldf=mc --loss_function=logistic --probabilities&quot;); //VWProbLearner\r\n```\r\nNone of the classes has any method which returns raw prediction.\r\n\r\nI want the same prediction as below -\r\n```\r\n$ echo &#39; .. sample string .. &#39; | vw -i data/train.model -t -r test -p /dev/stdout\r\ncreating quadratic features for pairs: cd ce cu cw de du dw eu ew uw n:\r\nignoring namespaces beginning with: a x\r\nonly testing\r\npredictions = /dev/stdout\r\nraw predictions = test\r\nNum weight bits = 24\r\nlearning rate = 0.5\r\ninitial_t = 0\r\npower_t = 0.5\r\nusing no cache\r\nReading datafile =\r\nnum sources = 1\r\naverage  since         example        example  current  current  current\r\nloss     last          counter         weight    label  predict features\r\n39\r\n0.000000 0.000000            1            1.0    known       39      171\r\n\r\nfinished run\r\nnumber of examples per pass = 1\r\npasses used = 1\r\nweighted example sum = 1.000000\r\nweighted label sum = 0.000000\r\naverage loss = 0.000000\r\ntotal feature number = 171\r\n\r\n$ cat test\r\n0:1.05645 1:0.83437 2:-0.210798 3:-2.81048 4:-4.47558 5:-4.45883 6:-3.65177 7:-3.71191 8:-2.96008 9:-2.82846 10:-2.31816 11:0.925984 12:3.28547 13:5.20375 14:6.34244 15:6.13525 16:1.65726 17:1.22801 18:1.35034 19:3.27091 20:2.94066 21:-0.0276409 22:0.391437 23:1.267 24:-0.689573 25:0.0171876 26:3.12935 27:3.95045 28:3.86978 29:1.18468 30:0.0921049 31:0.436564 32:0.98946 33:1.00963 34:-0.265355 35:-3.02128 36:-2.52846 37:-2.8066 38:-3.50639 39:-4.6184\r\n```\r\n\r\nHow can I get values that are in file `test` in Java as a method response? I don&#39;t want to read the file to get a response in Java which will be slow.","title":"vowpal wabbit java: get raw predictions","body":"<p>I am using Java API of vowpal wabbit to get predictions. I need raw prediction (same as <code>-r output.txt</code>) but I couldn't find any such method in <code>VWMulticlassLearner</code> class. I am using below <code>arg</code> to train my model in python via cmd -</p>\n<pre><code>vw -f model_filepath -c --cache_file cache_filepath -k --csoaa 40 -b 24 -q cd -q .... -q n: --ignore a --ignore x\n</code></pre>\n<p>and we are using below code in Java to get predictions -</p>\n<pre><code>VWLearners.create(&quot;-i ./data/train.model  -t --quiet&quot;); // VWMulticlassLearner\nVWLearners.create(&quot;-i ./data/train.model  -t --quiet --csoaa_ldf=mc --loss_function=logistic --probabilities&quot;); //VWProbLearner\n</code></pre>\n<p>None of the classes has any method which returns raw prediction.</p>\n<p>I want the same prediction as below -</p>\n<pre><code>$ echo ' .. sample string .. ' | vw -i data/train.model -t -r test -p /dev/stdout\ncreating quadratic features for pairs: cd ce cu cw de du dw eu ew uw n:\nignoring namespaces beginning with: a x\nonly testing\npredictions = /dev/stdout\nraw predictions = test\nNum weight bits = 24\nlearning rate = 0.5\ninitial_t = 0\npower_t = 0.5\nusing no cache\nReading datafile =\nnum sources = 1\naverage  since         example        example  current  current  current\nloss     last          counter         weight    label  predict features\n39\n0.000000 0.000000            1            1.0    known       39      171\n\nfinished run\nnumber of examples per pass = 1\npasses used = 1\nweighted example sum = 1.000000\nweighted label sum = 0.000000\naverage loss = 0.000000\ntotal feature number = 171\n\n$ cat test\n0:1.05645 1:0.83437 2:-0.210798 3:-2.81048 4:-4.47558 5:-4.45883 6:-3.65177 7:-3.71191 8:-2.96008 9:-2.82846 10:-2.31816 11:0.925984 12:3.28547 13:5.20375 14:6.34244 15:6.13525 16:1.65726 17:1.22801 18:1.35034 19:3.27091 20:2.94066 21:-0.0276409 22:0.391437 23:1.267 24:-0.689573 25:0.0171876 26:3.12935 27:3.95045 28:3.86978 29:1.18468 30:0.0921049 31:0.436564 32:0.98946 33:1.00963 34:-0.265355 35:-3.02128 36:-2.52846 37:-2.8066 38:-3.50639 39:-4.6184\n</code></pre>\n<p>How can I get values that are in file <code>test</code> in Java as a method response? I don't want to read the file to get a response in Java which will be slow.</p>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1651680097,"post_id":72115942,"comment_id":127422071,"body_markdown":"If not maven / gradle, you still need to declare JRE/JDK class-path even if your JRE is shipped with IDE. e.g. once you download  `eclipse`  you have option to use JRE that comes with `eclipse ` or your local download JRE.","body":"If not maven / gradle, you still need to declare JRE/JDK class-path even if your JRE is shipped with IDE. e.g. once you download  <code>eclipse</code>  you have option to use JRE that comes with <code>eclipse </code> or your local download JRE."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651679874,"creation_date":1651679874,"answer_id":72115992,"question_id":72115942,"body_markdown":"Almost any project that grows past a few files requires a build tool of some sort.  In the Java world Maven and Gradle are common with Ant and Ivy being somewhat less used anymore.  Other programming environments have similar concepts and tools.\r\n\r\nThe IDE *may* not require this and has it&#39;s own build environment.  But once you leave the IDE you still need a way to build - for example, in a build pipeline in a CI/CD environment.  So it&#39;s better to start with some sort of build tool up front.  Additionally, if you ever wanted to change your IDE you no longer have the same way to build.  By using a build tool you are consistent across environments.","title":"Does every IDE use a build tool like Maven?","body":"<p>Almost any project that grows past a few files requires a build tool of some sort.  In the Java world Maven and Gradle are common with Ant and Ivy being somewhat less used anymore.  Other programming environments have similar concepts and tools.</p>\n<p>The IDE <em>may</em> not require this and has it's own build environment.  But once you leave the IDE you still need a way to build - for example, in a build pipeline in a CI/CD environment.  So it's better to start with some sort of build tool up front.  Additionally, if you ever wanted to change your IDE you no longer have the same way to build.  By using a build tool you are consistent across environments.</p>\n"},{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651680253,"creation_date":1651680253,"answer_id":72116081,"question_id":72115942,"body_markdown":"While I highly recommend a build tool, most build tools (at least the ones I&#39;m familiar with) don&#39;t actually compile, that gets handed off to `javac` in the installed jdk.\r\n\r\nSetting up a more sophisticated project, e.g. building a webapp, can be done without any build tool, but you&#39;ll need to (either manually or with a script) do the assembly (e.g. moving files into the right locations, preparing the deployment artifact, etc...).  Doing that &quot;custom&quot; is a righteous PITA, hence build tools.","title":"Does every IDE use a build tool like Maven?","body":"<p>While I highly recommend a build tool, most build tools (at least the ones I'm familiar with) don't actually compile, that gets handed off to <code>javac</code> in the installed jdk.</p>\n<p>Setting up a more sophisticated project, e.g. building a webapp, can be done without any build tool, but you'll need to (either manually or with a script) do the assembly (e.g. moving files into the right locations, preparing the deployment artifact, etc...).  Doing that &quot;custom&quot; is a righteous PITA, hence build tools.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651682832,"creation_date":1651681979,"answer_id":72116466,"question_id":72115942,"body_markdown":"In the olden days, every [IDE][1] had its own proprietary [build][2] system. \r\n\r\nThis meant that if you wanted to migrate your project from one IDE to another, you had to recreate the project from scratch, move files over manually, and reconfigure actions to be done during [compilation][3], [testing][4], and building. Some migration tools were built to automate this tedious work, but they were often imperfect or incomplete.\r\n\r\nWith the growing success of tools like [Ant][5], [Maven][6], and [Gradle][7], the IDEs began adding support for users to choose those tools in place of the IDEs own proprietary features. The IDEs eventually embraced these tools so well that now a Maven-driven project or Gradle-driven project can be easily moved from one IDE to another with virtually no effort and no modifications. You can even build your project without any IDE, just using the [command-line interface][8] to the Maven/Gradle tools. \r\n\r\nTodays freedom to easily move between IDEs eliminates the fear of [vendor lock-in][9].\r\n\r\nIDEs today still carry their own build technologies. But I believe they are rarely or never used nowadays by the bulk of Java developers. The open tooling provides all needed functionality.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Integrated_development_environment\r\n  [2]: https://en.m.wikipedia.org/wiki/Software_build\r\n  [3]: https://en.m.wikipedia.org/wiki/Compiler\r\n  [4]: https://en.m.wikipedia.org/wiki/Software_testing\r\n  [5]: https://en.m.wikipedia.org/wiki/Apache_Ant\r\n  [6]: https://en.m.wikipedia.org/wiki/Apache_Maven\r\n  [7]: https://en.m.wikipedia.org/wiki/Gradle\r\n  [8]: https://en.m.wikipedia.org/wiki/Command-line_interface\r\n  [9]: https://en.m.wikipedia.org/wiki/Vendor_lock-in","title":"Does every IDE use a build tool like Maven?","body":"<p>In the olden days, every <a href=\"https://en.m.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> had its own proprietary <a href=\"https://en.m.wikipedia.org/wiki/Software_build\" rel=\"nofollow noreferrer\">build</a> system.</p>\n<p>This meant that if you wanted to migrate your project from one IDE to another, you had to recreate the project from scratch, move files over manually, and reconfigure actions to be done during <a href=\"https://en.m.wikipedia.org/wiki/Compiler\" rel=\"nofollow noreferrer\">compilation</a>, <a href=\"https://en.m.wikipedia.org/wiki/Software_testing\" rel=\"nofollow noreferrer\">testing</a>, and building. Some migration tools were built to automate this tedious work, but they were often imperfect or incomplete.</p>\n<p>With the growing success of tools like <a href=\"https://en.m.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a>, <a href=\"https://en.m.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a>, and <a href=\"https://en.m.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>, the IDEs began adding support for users to choose those tools in place of the IDEs own proprietary features. The IDEs eventually embraced these tools so well that now a Maven-driven project or Gradle-driven project can be easily moved from one IDE to another with virtually no effort and no modifications. You can even build your project without any IDE, just using the <a href=\"https://en.m.wikipedia.org/wiki/Command-line_interface\" rel=\"nofollow noreferrer\">command-line interface</a> to the Maven/Gradle tools.</p>\n<p>Todays freedom to easily move between IDEs eliminates the fear of <a href=\"https://en.m.wikipedia.org/wiki/Vendor_lock-in\" rel=\"nofollow noreferrer\">vendor lock-in</a>.</p>\n<p>IDEs today still carry their own build technologies. But I believe they are rarely or never used nowadays by the bulk of Java developers. The open tooling provides all needed functionality.</p>\n"}],"owner":{"account_id":12051935,"reputation":347,"user_id":8814543,"display_name":"Vaclav Vlcek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651682832,"creation_date":1651679588,"question_id":72115942,"body_markdown":"I am new in Java and I am wondering what builds a java project if it is not Maven or Gradle.\r\n\r\nIn an IDE,  you can also compile your java project and you do not need to use a Maven. Does it mean that such IDE (IntelliJ for example) has an own build tool behind the scene that is used for downloading all dependencies, running test and all that stuff? \r\n","title":"Does every IDE use a build tool like Maven?","body":"<p>I am new in Java and I am wondering what builds a java project if it is not Maven or Gradle.</p>\n<p>In an IDE,  you can also compile your java project and you do not need to use a Maven. Does it mean that such IDE (IntelliJ for example) has an own build tool behind the scene that is used for downloading all dependencies, running test and all that stuff?</p>\n"},{"tags":["java","quarkus","schedule","quartz"],"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1651716438,"post_id":72116613,"comment_id":127431216,"body_markdown":"You can schedule periodic tasks on Quarkus https://quarkus.io/guides/scheduler . Does this solve your problem?","body":"You can schedule periodic tasks on Quarkus <a href=\"https://quarkus.io/guides/scheduler\" rel=\"nofollow noreferrer\">quarkus.io/guides/scheduler</a> . Does this solve your problem?"},{"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"score":0,"creation_date":1651855769,"post_id":72116613,"comment_id":127471836,"body_markdown":"I dont want it to be periodic. I am using javax.swing.Timer now and is working fine.","body":"I dont want it to be periodic. I am using javax.swing.Timer now and is working fine."}],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651682689,"creation_date":1651682689,"question_id":72116613,"body_markdown":"I am using ManagedScheduledExecutorService.schedule() function to schedule a function call in X seconds. Is there any way I can achieve this in Quarkus?","title":"ManagedScheduledExecutorService.schedule() in Quarkus","body":"<p>I am using ManagedScheduledExecutorService.schedule() function to schedule a function call in X seconds. Is there any way I can achieve this in Quarkus?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1651681479,"post_id":72116160,"comment_id":127422552,"body_markdown":"the same question exactly is here https://stackoverflow.com/questions/71804642/cant-cast-object-to-an-array-of-classes-that-use-the-parent-classes-generic/71804689#71804689","body":"the same question exactly is here <a href=\"https://stackoverflow.com/questions/71804642/cant-cast-object-to-an-array-of-classes-that-use-the-parent-classes-generic/71804689#71804689\" title=\"cant cast object to an array of classes that use the parent classes generic\">stackoverflow.com/questions/71804642/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4545309,"reputation":776,"user_id":3692099,"accept_rate":60,"display_name":"Schokokuchen B&#228;cker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651681715,"creation_date":1651681715,"answer_id":72116403,"question_id":72116160,"body_markdown":"You are trying to cast an ``Object[]`` to ``T[]``.\r\nYou need to create an Array of T directly:\r\n\r\n    T[] arrayOfList = (T[]) Array.newInstance((Class&lt;?&gt;) getClass().getGenericSuperclass(), numberOfEntries);\r\n\r\nFirst we get the class of T (``T.class``) which is ``(Class&lt;?&gt;) getClass().getGenericSuperclass()``.\r\nThen we create an array with that class: ``(T[]) Array.newInstance(**T.class**, numberOfEntries)``.\r\nSince ``T.class`` is only available at Runtime, we need to use the previously shown reflection to get access to it.","title":"When I implement Comparable interface, Java give cannot be cast to class exception while creating an array","body":"<p>You are trying to cast an <code>Object[]</code> to <code>T[]</code>.\nYou need to create an Array of T directly:</p>\n<pre><code>T[] arrayOfList = (T[]) Array.newInstance((Class&lt;?&gt;) getClass().getGenericSuperclass(), numberOfEntries);\n</code></pre>\n<p>First we get the class of T (<code>T.class</code>) which is <code>(Class&lt;?&gt;) getClass().getGenericSuperclass()</code>.\nThen we create an array with that class: <code>(T[]) Array.newInstance(**T.class**, numberOfEntries)</code>.\nSince <code>T.class</code> is only available at Runtime, we need to use the previously shown reflection to get access to it.</p>\n"}],"owner":{"account_id":23580357,"reputation":7,"user_id":17619457,"display_name":"Serhat Ta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651682561,"answer_count":1,"score":0,"last_activity_date":1651682537,"creation_date":1651680646,"question_id":72116160,"body_markdown":"```java\r\npublic class SortedLinkedList&lt;T extends Comparable&lt;? super T&gt;&gt;{\r\n\tpublic T[] toArray() {\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tT[] arrayOfList = ( T[]) new Object[numberOfEntries];\r\n\t\tNodes currentNode = firstNode;\r\n\t\tfor(int i =0; i &lt; numberOfEntries; i++) {\r\n\t\t\tassert(currentNode.getNextNode() != null);\r\n\t\t\tarrayOfList[i] = currentNode.getData();\r\n\t\t\tcurrentNode = currentNode.getNextNode();\r\n\t\t}\r\n\t\treturn arrayOfList;\r\n\t}\r\n}\r\n```\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException: class\r\n&gt; [Ljava.lang.Object; cannot be cast to class\r\n&gt; [LpatientManagementSystem.Comparable; ([Ljava.lang.Object; is in\r\n&gt; module java.base of loader &#39;bootstrap&#39;;\r\n&gt; [LpatientManagementSystem.Comparable; is in unnamed module of loader\r\n&gt; &#39;app&#39;)","title":"When I implement Comparable interface, Java give cannot be cast to class exception while creating an array","body":"<pre class=\"lang-java prettyprint-override\"><code>public class SortedLinkedList&lt;T extends Comparable&lt;? super T&gt;&gt;{\n    public T[] toArray() {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        T[] arrayOfList = ( T[]) new Object[numberOfEntries];\n        Nodes currentNode = firstNode;\n        for(int i =0; i &lt; numberOfEntries; i++) {\n            assert(currentNode.getNextNode() != null);\n            arrayOfList[i] = currentNode.getData();\n            currentNode = currentNode.getNextNode();\n        }\n        return arrayOfList;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class\n[Ljava.lang.Object; cannot be cast to class\n[LpatientManagementSystem.Comparable; ([Ljava.lang.Object; is in\nmodule java.base of loader 'bootstrap';\n[LpatientManagementSystem.Comparable; is in unnamed module of loader\n'app')</p>\n</blockquote>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1462981861,"post_id":1361029,"comment_id":61870316,"body_markdown":"Possible duplicate of [How to wait for a set of threads to complete?](http://stackoverflow.com/questions/1252190/how-to-wait-for-a-set-of-threads-to-complete)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1252190/how-to-wait-for-a-set-of-threads-to-complete\">How to wait for a set of threads to complete?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1251790229,"creation_date":1251790229,"answer_id":1361040,"question_id":1361029,"body_markdown":"Just join them one by one:\r\n\r\n    for (Thread thread : threads) {\r\n      thread.join();\r\n    }\r\n\r\n(You&#39;ll need to do something with `InterruptedException`, and you may well want to provide a time-out in case things go wrong, but that&#39;s the basic idea...)","title":"Waiting on multiple threads to complete in Java","body":"<p>Just join them one by one:</p>\n\n<pre><code>for (Thread thread : threads) {\n  thread.join();\n}\n</code></pre>\n\n<p>(You'll need to do something with <code>InterruptedException</code>, and you may well want to provide a time-out in case things go wrong, but that's the basic idea...)</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1251790801,"creation_date":1251790801,"answer_id":1361076,"question_id":1361029,"body_markdown":"Define a utility method (or methods) yourself:\r\n\r\n    public static waitFor(Collection&lt;? extends Thread) c) throws InterruptedException {\r\n        for(Thread t : c) t.join();\r\n    }\r\n\r\nOr you may have an array\r\n\r\n    public static waitFor(Thread[] ts) throws InterruptedException {\r\n        waitFor(Arrays.asList(ts));\r\n    }\r\n\r\nAlternatively you could look at using a `CyclicBarrier` in the `java.util.concurrent` library to implement an arbitrary *rendezvous* point between multiple threads.","title":"Waiting on multiple threads to complete in Java","body":"<p>Define a utility method (or methods) yourself:</p>\n\n<pre><code>public static waitFor(Collection&lt;? extends Thread) c) throws InterruptedException {\n    for(Thread t : c) t.join();\n}\n</code></pre>\n\n<p>Or you may have an array</p>\n\n<pre><code>public static waitFor(Thread[] ts) throws InterruptedException {\n    waitFor(Arrays.asList(ts));\n}\n</code></pre>\n\n<p>Alternatively you could look at using a <code>CyclicBarrier</code> in the <code>java.util.concurrent</code> library to implement an arbitrary <em>rendezvous</em> point between multiple threads.</p>\n"},{"tags":[],"owner":{"account_id":39415,"reputation":12303,"user_id":113662,"accept_rate":93,"display_name":"Tadeusz Kopec for Ukraine"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1251790877,"creation_date":1251790877,"answer_id":1361078,"question_id":1361029,"body_markdown":"If you are using java 1.5 or higher, you can try [CyclicBarrier][1]. You can pass the cleanup operation as its constructor parameter, and just call `barrier.await()` on all threads when there is a need for cleanup.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html","title":"Waiting on multiple threads to complete in Java","body":"<p>If you are using java 1.5 or higher, you can try <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"noreferrer\">CyclicBarrier</a>. You can pass the cleanup operation as its constructor parameter, and just call <code>barrier.await()</code> on all threads when there is a need for cleanup.</p>\n"},{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1411023601,"creation_date":1251824825,"answer_id":1363591,"question_id":1361029,"body_markdown":"Have you seen the `Executor` classes in `java.util.concurrent`? You could run your threads through an `ExecutorService`. It gives you a single object you can use to cancel the threads or wait for them to complete.","title":"Waiting on multiple threads to complete in Java","body":"<p>Have you seen the <code>Executor</code> classes in <code>java.util.concurrent</code>? You could run your threads through an <code>ExecutorService</code>. It gives you a single object you can use to cancel the threads or wait for them to complete.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477492455,"creation_date":1438974723,"answer_id":31885029,"question_id":1361029,"body_markdown":"If you control the creation of the Threads (submission to an ExecutorService) then it appears you can use an `ExecutorCompletionService ` \r\nsee https://stackoverflow.com/q/11872520/32453 for various answers there.\r\n\r\nIf you don&#39;t control thread creation, here is an approach that allows you to join the threads &quot;one by one as they finish&quot; (and know which one finishes first, etc.), inspired by the ruby [ThreadWait][1] class.\r\nBasically by newing up &quot;watching threads&quot; which alert when the other threads terminate, you  can know when the &quot;next&quot; thread out of many terminates.\r\n\r\nYou&#39;d use it something like this:\r\n\r\n    JoinThreads join = new JoinThreads(threads);\r\n    for(int i = 0; i &lt; threads.size(); i++) {\r\n      Thread justJoined = join.joinNextThread();\r\n      System.out.println(&quot;Done with a thread, just joined=&quot; + justJoined);\r\n    }\r\n\r\nAnd the source:\r\n\r\n    public static class JoinThreads {\r\n      java.util.concurrent.LinkedBlockingQueue&lt;Thread&gt; doneThreads = \r\n          new LinkedBlockingQueue&lt;Thread&gt;();\r\n        \r\n      public JoinThreads(List&lt;Thread&gt; threads) {\r\n        for(Thread t : threads) {\r\n          final Thread joinThis = t;\r\n          new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n              try {\r\n                joinThis.join();\r\n                doneThreads.add(joinThis);\r\n              }\r\n              catch (InterruptedException e) {\r\n                // &quot;should&quot; never get here, since we control this thread and don&#39;t call interrupt on it\r\n              }\r\n            }\r\n          }).start();\r\n        }\r\n\r\n      }\r\n    \r\n      Thread joinNextThread() throws InterruptedException {\r\n        return doneThreads.take();\r\n      }\r\n    }\r\n\r\nThe nice part of this is that it works with generic Java threads, without modification, any thread can be joined.  The caveat is it requires some extra thread creation.  Also this particular implementation &quot;leaves threads behind&quot; if you don&#39;t call joinNextThread() the full number of times, and doesn&#39;t have an &quot;close&quot; method, etc.  Comment here if you&#39;d like a more polished version created.  You could also use this same type of pattern with &quot;Futures&quot; instead of Thread objects, etc.\r\n\r\n  [1]: https://github.com/sj26/ruby-1.9.3-p0/blob/master/lib/thwait.rb","title":"Waiting on multiple threads to complete in Java","body":"<p>If you control the creation of the Threads (submission to an ExecutorService) then it appears you can use an <code>ExecutorCompletionService</code> \nsee <a href=\"https://stackoverflow.com/q/11872520/32453\">ExecutorCompletionService? Why do need one if we have invokeAll?</a> for various answers there.</p>\n\n<p>If you don't control thread creation, here is an approach that allows you to join the threads \"one by one as they finish\" (and know which one finishes first, etc.), inspired by the ruby <a href=\"https://github.com/sj26/ruby-1.9.3-p0/blob/master/lib/thwait.rb\" rel=\"nofollow noreferrer\">ThreadWait</a> class.\nBasically by newing up \"watching threads\" which alert when the other threads terminate, you  can know when the \"next\" thread out of many terminates.</p>\n\n<p>You'd use it something like this:</p>\n\n<pre><code>JoinThreads join = new JoinThreads(threads);\nfor(int i = 0; i &lt; threads.size(); i++) {\n  Thread justJoined = join.joinNextThread();\n  System.out.println(\"Done with a thread, just joined=\" + justJoined);\n}\n</code></pre>\n\n<p>And the source:</p>\n\n<pre><code>public static class JoinThreads {\n  java.util.concurrent.LinkedBlockingQueue&lt;Thread&gt; doneThreads = \n      new LinkedBlockingQueue&lt;Thread&gt;();\n\n  public JoinThreads(List&lt;Thread&gt; threads) {\n    for(Thread t : threads) {\n      final Thread joinThis = t;\n      new Thread(new Runnable() {\n        @Override\n        public void run() {\n          try {\n            joinThis.join();\n            doneThreads.add(joinThis);\n          }\n          catch (InterruptedException e) {\n            // \"should\" never get here, since we control this thread and don't call interrupt on it\n          }\n        }\n      }).start();\n    }\n\n  }\n\n  Thread joinNextThread() throws InterruptedException {\n    return doneThreads.take();\n  }\n}\n</code></pre>\n\n<p>The nice part of this is that it works with generic Java threads, without modification, any thread can be joined.  The caveat is it requires some extra thread creation.  Also this particular implementation \"leaves threads behind\" if you don't call joinNextThread() the full number of times, and doesn't have an \"close\" method, etc.  Comment here if you'd like a more polished version created.  You could also use this same type of pattern with \"Futures\" instead of Thread objects, etc.</p>\n"}],"owner":{"account_id":54114,"reputation":2786,"user_id":161865,"accept_rate":72,"display_name":"A Jackson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77539,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":1361040,"answer_count":5,"score":45,"last_activity_date":1651682480,"creation_date":1251790124,"question_id":1361029,"body_markdown":"During the course of my program execution, a number of threads are started. The amount of threads varies depending on user defined settings, but they are all executing the same method with different variables.\r\n\r\nIn some situations, a clean up is required mid execution, part of this is stopping all the threads, I don&#39;t want them to stop immediately though, I just set a variable that they check for that terminates them. The problem is that it can be up to 1/2 second before the thread stops. However, I need to be sure that all threads have stopped before the clean up can continues. The cleanup is executed from another thread so technically I need this thread to wait for the other threads to finish.\r\n\r\nI have thought of several ways of doing this, but they all seem to be overly complex. I was hoping there would be some method that can wait for a group of threads to complete. Does anything like this exist?","title":"Waiting on multiple threads to complete in Java","body":"<p>During the course of my program execution, a number of threads are started. The amount of threads varies depending on user defined settings, but they are all executing the same method with different variables.</p>\n<p>In some situations, a clean up is required mid execution, part of this is stopping all the threads, I don't want them to stop immediately though, I just set a variable that they check for that terminates them. The problem is that it can be up to 1/2 second before the thread stops. However, I need to be sure that all threads have stopped before the clean up can continues. The cleanup is executed from another thread so technically I need this thread to wait for the other threads to finish.</p>\n<p>I have thought of several ways of doing this, but they all seem to be overly complex. I was hoping there would be some method that can wait for a group of threads to complete. Does anything like this exist?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":1,"creation_date":1651597922,"post_id":72102865,"comment_id":127399556,"body_markdown":"Create a second `for` loop and do `th[i].join()` where `th` is now an array of Threads.","body":"Create a second <code>for</code> loop and do <code>th[i].join()</code> where <code>th</code> is now an array of Threads."},{"owner":{"account_id":913595,"reputation":5828,"user_id":946904,"accept_rate":69,"display_name":"marc wellman"},"score":1,"creation_date":1651603428,"post_id":72102865,"comment_id":127401429,"body_markdown":"Have a look at https://stackoverflow.com/questions/26540036/array-of-threads","body":"Have a look at <a href=\"https://stackoverflow.com/questions/26540036/array-of-threads\">stackoverflow.com/questions/26540036/array-of-threads</a>"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651614604,"creation_date":1651614604,"answer_id":72105803,"question_id":72102865,"body_markdown":"One way do something to every member of a [_collection_](https://docs.oracle.com/javase/tutorial/collections/index.html) is to [_iterate_](https://docs.oracle.com/javase/tutorial/collections/streams/index.html) over the members.\r\n\r\nOne of the simplest kinds of collection to understand is a [`List`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html). You can [`add`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#add(E)) items to a new, empty list:\r\n\r\n``` lang-java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; 5; i++) { //make it count to 5 million just to have more threads\r\n    Thread th = new Thread(c);\r\n    th.start();\r\n    threads.add(th);\r\n}\r\n```\r\nAnd then you can iterate over the items in the same order that they were added:\r\n``` lang-java\r\nfor (Thread th : threads) {\r\n    th.join();\r\n}\r\n```","title":"How can I .join() after making a bunch of threads with a &quot;for&quot; loop?","body":"<p>One way do something to every member of a <a href=\"https://docs.oracle.com/javase/tutorial/collections/index.html\" rel=\"nofollow noreferrer\"><em>collection</em></a> is to <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\"><em>iterate</em></a> over the members.</p>\n<p>One of the simplest kinds of collection to understand is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a>. You can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#add(E)\" rel=\"nofollow noreferrer\"><code>add</code></a> items to a new, empty list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; 5; i++) { //make it count to 5 million just to have more threads\n    Thread th = new Thread(c);\n    th.start();\n    threads.add(th);\n}\n</code></pre>\n<p>And then you can iterate over the items in the same order that they were added:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Thread th : threads) {\n    th.join();\n}\n</code></pre>\n"}],"owner":{"account_id":25184969,"reputation":31,"user_id":19025971,"display_name":"Angel B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1651682508,"answer_count":1,"score":3,"last_activity_date":1651682445,"creation_date":1651596950,"question_id":72102865,"body_markdown":"I&#39;ve been looking concurrency tutorials and I&#39;ve stumbled upon the .join() method, which is used to make the current thread wait until the one that you joined ends, before continuing itself. \r\n\r\nSo I started experimenting. On one side I have.\r\n\r\n```java\r\npublic class Counter implements Runnable{\r\n\r\n    int count = 0;\r\n    \r\n    public synchronized void increment(){\r\n        count++;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        for (int i = 0; i &lt; 1000000; i++) {\r\n            increment();\r\n        }\r\n        System.out.println(count);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAnd then the main class is: \r\n\r\n```java\r\npublic class SyncDemo {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        Counter c = new Counter();\r\n        Thread t1 = new Thread(c);\r\n        Thread t2 = new Thread(c);\r\n        t1.start();\r\n        t2.start();\r\n        System.out.println(&quot;Count: &quot; + c.count);  \r\n    }\r\n}\r\n```\r\n\r\nThe Count: c.count, is supposed to print the number at the end, but right now, it prints it right away, and it prints 0, because it prints before the threads even begin incrementing. And the threads themselves also print, but that&#39;s only for me to see how are they doing.\r\n\r\nSo the output is like\r\n\r\nCount: 0\r\n\r\n1942456\r\n\r\n2000000\r\n\r\nWhich is to be expected, to fix this, I can just Add t1.join(); and t2.join(); so the main thread waits for t1 and t2 to finish counting, and then prints the final count. Now it looks like this: \r\n\r\n    Counter c = new Counter();\r\n    Thread t1 = new Thread(c);\r\n    Thread t2 = new Thread(c);\r\n    t1.start();\r\n    t2.start();\r\n    t1.join();\r\n    t2.join();\r\n    System.out.println(&quot;Count: &quot; + c.count);  \r\n\r\n\r\nAnd now the output is something like\r\n\r\n1912345\r\n\r\n2000000\r\n\r\nCount: 2000000\r\n\r\nSo far, so good.\r\n\r\nHowever, if instead of making the threads manually, I do it with a &quot;for&quot; loop, like this:\r\n\r\n```java\r\nCounter c = new Counter();\r\nfor (int i = 0; i &lt; 5; i++) { //make it count to 5 million just to have more threads\r\n    Thread th = new Thread(c);\r\n    th.start();\r\n}\r\n\r\nSystem.out.println(&quot;Count: &quot; + c.count);  \r\n```\r\n\r\nNow, it works like the first example without the joins, so it prints the &quot;Count: xxxxx&quot; before the threads finish incrementing, how do I .join() that? Doing `th.join()`, I can&#39;t put `th.join()` outside the &quot;for&quot; loop, and if I put it inside, then there&#39;s no multi-threading at all, because it makes all 5 threads execute sequentially, which solves the problem of the count being printed at the wrong time, but defeats all the purpose of multi-threading. \r\n","title":"How can I .join() after making a bunch of threads with a &quot;for&quot; loop?","body":"<p>I've been looking concurrency tutorials and I've stumbled upon the .join() method, which is used to make the current thread wait until the one that you joined ends, before continuing itself.</p>\n<p>So I started experimenting. On one side I have.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Counter implements Runnable{\n\n    int count = 0;\n    \n    public synchronized void increment(){\n        count++;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 1000000; i++) {\n            increment();\n        }\n        System.out.println(count);\n    }\n    \n}\n</code></pre>\n<p>And then the main class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SyncDemo {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        Counter c = new Counter();\n        Thread t1 = new Thread(c);\n        Thread t2 = new Thread(c);\n        t1.start();\n        t2.start();\n        System.out.println(&quot;Count: &quot; + c.count);  \n    }\n}\n</code></pre>\n<p>The Count: c.count, is supposed to print the number at the end, but right now, it prints it right away, and it prints 0, because it prints before the threads even begin incrementing. And the threads themselves also print, but that's only for me to see how are they doing.</p>\n<p>So the output is like</p>\n<p>Count: 0</p>\n<p>1942456</p>\n<p>2000000</p>\n<p>Which is to be expected, to fix this, I can just Add t1.join(); and t2.join(); so the main thread waits for t1 and t2 to finish counting, and then prints the final count. Now it looks like this:</p>\n<pre><code>Counter c = new Counter();\nThread t1 = new Thread(c);\nThread t2 = new Thread(c);\nt1.start();\nt2.start();\nt1.join();\nt2.join();\nSystem.out.println(&quot;Count: &quot; + c.count);  \n</code></pre>\n<p>And now the output is something like</p>\n<p>1912345</p>\n<p>2000000</p>\n<p>Count: 2000000</p>\n<p>So far, so good.</p>\n<p>However, if instead of making the threads manually, I do it with a &quot;for&quot; loop, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Counter c = new Counter();\nfor (int i = 0; i &lt; 5; i++) { //make it count to 5 million just to have more threads\n    Thread th = new Thread(c);\n    th.start();\n}\n\nSystem.out.println(&quot;Count: &quot; + c.count);  \n</code></pre>\n<p>Now, it works like the first example without the joins, so it prints the &quot;Count: xxxxx&quot; before the threads finish incrementing, how do I .join() that? Doing <code>th.join()</code>, I can't put <code>th.join()</code> outside the &quot;for&quot; loop, and if I put it inside, then there's no multi-threading at all, because it makes all 5 threads execute sequentially, which solves the problem of the count being printed at the wrong time, but defeats all the purpose of multi-threading.</p>\n"},{"tags":["java","arrays","printing"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1385848230,"post_id":20306023,"comment_id":30299956,"body_markdown":"You&#39;re already using `if` in the above code, so you should be able to test if the current student in the loop has a loan. Where&#39;s the problem? Also, why do you name a list of loans &quot;loan&quot;, and a single loan &quot;loans&quot;. It should be the reverse: `s` for plural form, no `s` for singular form.","body":"You&#39;re already using <code>if</code> in the above code, so you should be able to test if the current student in the loop has a loan. Where&#39;s the problem? Also, why do you name a list of loans &quot;loan&quot;, and a single loan &quot;loans&quot;. It should be the reverse: <code>s</code> for plural form, no <code>s</code> for singular form."},{"owner":{"account_id":3664177,"reputation":91,"user_id":3053139,"accept_rate":70,"display_name":"Emperial"},"score":0,"creation_date":1385856458,"post_id":20306023,"comment_id":30301965,"body_markdown":"Yeah, made a little mistake.. i realized it was wrong, but haven&#39;t changed it yet... But thanks for pointing it out again :)","body":"Yeah, made a little mistake.. i realized it was wrong, but haven&#39;t changed it yet... But thanks for pointing it out again :)"},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1651682197,"post_id":20306023,"comment_id":127422858,"body_markdown":"Self-vandalism rolled back. See https://meta.stackexchange.com/questions/209436/self-vandalism-what-is-correct-action","body":"Self-vandalism rolled back. See <a href=\"https://meta.stackexchange.com/questions/209436/self-vandalism-what-is-correct-action\" title=\"self vandalism what is correct action\">meta.stackexchange.com/questions/209436/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":466396,"reputation":1131,"user_id":871126,"accept_rate":100,"display_name":"Octoshape"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1385924621,"creation_date":1385848301,"answer_id":20306072,"question_id":20306023,"body_markdown":"I assume that `StudentLoan` has a field `public int loanAmount` then you could do this:\r\n\r\n    for(StudentLoan loan : loans) {\r\n            int index=0;\r\n            if (loans.loanAmount &gt; 0) {\r\n                System.out.print(index + &quot; : &quot;);\r\n                loan.printDetails();\r\n                index++;\r\n            }\r\n        }\r\n\r\nThis way only loans with `loanAmount &gt; 0` are being printed.\r\n\r\nIf the field `loanAmount` would be `private` you could simply implement a getter method for the field and change the condition to:\r\n\r\n    if (loan.getloanAmount() &gt; 0) {\r\n\r\n**EDIT**\r\n\r\nAnswering your question from the comments:\r\n\r\nTo remove all loans that have a `loamAmount` of 0 we simply add another `if` to the for each loop:\r\n\r\n\r\n    for(StudentLoan loan : loans) {\r\n            int index=0;\r\n\r\n            // print loans with amount &gt; 0\r\n\r\n            if (loan.loanAmount &gt; 0) {\r\n                System.out.print(index + &quot; : &quot;);\r\n                loan.printDetails();\r\n                index++;\r\n            }\r\n\r\n            // delete loans with amount = 0\r\n\r\n            if (loan.loanAmount == 0) {\r\n               loans.remove(loan) // UNSAFE! see edit below\r\n           &#160;}\r\n        }\r\n\r\n**EDIT**\r\n\r\nUsing `.remove` while iterating over a collection is unsafe. It should be done with an `iterator` like so:\r\n\r\n    import java.util.Iterator // add to imports\r\n\r\n    Iterator&lt;StudentLoan&gt; i = loans.iterator();\r\n\r\n    while (i.hasNext()) {\r\n        StudentLoan loan = i.next();\r\n        if (loan.getAmount() == 0) {\r\n            i.remove();\r\n        }\r\n    }","title":"Print from array list","body":"<p>I assume that <code>StudentLoan</code> has a field <code>public int loanAmount</code> then you could do this:</p>\n\n<pre><code>for(StudentLoan loan : loans) {\n        int index=0;\n        if (loans.loanAmount &gt; 0) {\n            System.out.print(index + \" : \");\n            loan.printDetails();\n            index++;\n        }\n    }\n</code></pre>\n\n<p>This way only loans with <code>loanAmount &gt; 0</code> are being printed.</p>\n\n<p>If the field <code>loanAmount</code> would be <code>private</code> you could simply implement a getter method for the field and change the condition to:</p>\n\n<pre><code>if (loan.getloanAmount() &gt; 0) {\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Answering your question from the comments:</p>\n\n<p>To remove all loans that have a <code>loamAmount</code> of 0 we simply add another <code>if</code> to the for each loop:</p>\n\n<pre><code>for(StudentLoan loan : loans) {\n        int index=0;\n\n        // print loans with amount &gt; 0\n\n        if (loan.loanAmount &gt; 0) {\n            System.out.print(index + \" : \");\n            loan.printDetails();\n            index++;\n        }\n\n        // delete loans with amount = 0\n\n        if (loan.loanAmount == 0) {\n           loans.remove(loan) // UNSAFE! see edit below\n       }\n    }\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Using <code>.remove</code> while iterating over a collection is unsafe. It should be done with an <code>iterator</code> like so:</p>\n\n<pre><code>import java.util.Iterator // add to imports\n\nIterator&lt;StudentLoan&gt; i = loans.iterator();\n\nwhile (i.hasNext()) {\n    StudentLoan loan = i.next();\n    if (loan.getAmount() == 0) {\n        i.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3487604,"reputation":43,"user_id":2918094,"display_name":"Qoph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385848610,"creation_date":1385848610,"answer_id":20306120,"question_id":20306023,"body_markdown":"I&#39;m guessing you have a getter for the variable Amount in the StudentLoan objects, ie, getAmount().  If not, you should create one.\r\n\r\nThe print method would change to: \r\n\r\n    public void printLoanDitails()\r\n    {\r\n        System.out.println(&quot;Loan Summery: &quot;);\r\n        int index=0;  //This should be outside the loop, or it will be set to 0 each time\r\n        for(StudentLoan loans : loan) {\r\n            \r\n            if(loans.getAmount() &gt; 0)\r\n            {\r\n                System.out.print(index + &quot; : &quot;);\r\n                loans.printDetails();\r\n                index++;\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nYou should probably add this logic to the PayOff method as well.","title":"Print from array list","body":"<p>I'm guessing you have a getter for the variable Amount in the StudentLoan objects, ie, getAmount().  If not, you should create one.</p>\n\n<p>The print method would change to: </p>\n\n<pre><code>public void printLoanDitails()\n{\n    System.out.println(\"Loan Summery: \");\n    int index=0;  //This should be outside the loop, or it will be set to 0 each time\n    for(StudentLoan loans : loan) {\n\n        if(loans.getAmount() &gt; 0)\n        {\n            System.out.print(index + \" : \");\n            loans.printDetails();\n            index++;\n        }\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p>You should probably add this logic to the PayOff method as well.</p>\n"},{"tags":[],"owner":{"account_id":2142998,"reputation":271,"user_id":1901235,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385848633,"creation_date":1385848633,"answer_id":20306126,"question_id":20306023,"body_markdown":"not exactly sure what you are doing with your print statement without seeing your studnetLoan class\r\n\r\nYou have:\r\n\r\n    for(StudentLoan loans : loan) {\r\n            int index=0;\r\n            System.out.print(index + &quot; : &quot;);\r\n            loans.printDetails();\r\n            index++;\r\n        }\r\n\r\nI Would do something more like this:\r\n\r\n    for(StudentLoan loan : loanList) {         \r\n            if(loan.getAmount() &gt; 0) \r\n               loan.printDetails();\r\n            \r\n        }\r\n\r\n\r\nNote that I have named the list of loans &quot;loanList&quot; or it could be &quot;loans&quot; but it makes no sense to call it &quot;loan&quot;","title":"Print from array list","body":"<p>not exactly sure what you are doing with your print statement without seeing your studnetLoan class</p>\n\n<p>You have:</p>\n\n<pre><code>for(StudentLoan loans : loan) {\n        int index=0;\n        System.out.print(index + \" : \");\n        loans.printDetails();\n        index++;\n    }\n</code></pre>\n\n<p>I Would do something more like this:</p>\n\n<pre><code>for(StudentLoan loan : loanList) {         \n        if(loan.getAmount() &gt; 0) \n           loan.printDetails();\n\n    }\n</code></pre>\n\n<p>Note that I have named the list of loans \"loanList\" or it could be \"loans\" but it makes no sense to call it \"loan\"</p>\n"}],"owner":{"account_id":3664177,"reputation":91,"user_id":3053139,"accept_rate":70,"display_name":"Emperial"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20306072,"answer_count":3,"score":0,"last_activity_date":1651682185,"creation_date":1385847923,"question_id":20306023,"body_markdown":"I need to be able to print out all students that have a loan from array list.\r\n\r\nMeaning all students with amount above 0.\r\n\r\nI already can print all students and how much they own.. but i dont know how to make it print only the students with a loan.\r\n\r\nhere is the current code\r\n\r\n \r\n\r\n    public class LoanCompany\r\n    {\r\n        private ArrayList&lt;StudentLoan&gt; loans;\r\n        /**\r\n         * Constructor for objects of class LoanCompany\r\n         */\r\n        public LoanCompany()\r\n        {\r\n            loans = new ArrayList&lt;StudentLoan&gt;();\r\n        }\r\n        /**\r\n         * add a loan amount and ID.\r\n         */\r\n        public void addLoan(String ID,int Amount) \r\n        { \r\n            StudentLoan newSLoan= new StudentLoan(ID,Amount);\r\n            loans.add(newSLoan); \r\n        }\r\n        /**\r\n         * Return amount of loans\r\n         */\r\n        public int getNumberOfLoans()\r\n        {\r\n            return loans.size();\r\n        }\r\n        public void printLoanDitails()\r\n        {\r\n            System.out.println(&quot;Loan Summery: &quot;);\r\n            int index=0;\r\n            for(StudentLoan loan : loans) {\r\n                System.out.print(index + &quot; : &quot;);\r\n                loan.printDetails();\r\n                index++;\r\n            }\r\n            System.out.println();\r\n        }\r\n        /**\r\n         * Remove index.\r\n         */\r\n        public void removeLoan(int index)\r\n        {\r\n            if(validIndex(index)) {\r\n                loans.remove(index);\r\n            }\r\n        }\r\n        /**\r\n         * Valid index... validates the index.\r\n         */\r\n       private boolean validIndex(int index)\r\n        {\r\n            boolean valid;        \r\n            if(index &lt; 0) {\r\n                System.out.println(&quot;Index must be 0 or a positive number&quot;);\r\n                valid = false;\r\n            }\r\n            else if(index &gt;= loans.size()) {\r\n                System.out.println(&quot;Index is too large.&quot;);\r\n                valid = false;\r\n            }\r\n            else {\r\n                valid = true;\r\n            }\r\n            return valid;\r\n        }\r\n        /**\r\n         * PayOff method, pays off the student loan.\r\n         */\r\n        public void payOff(int index, int Amount)\r\n        {\r\n            if(validIndex(index)) {\r\n                StudentLoan student = loans.get(index);\r\n                student.payOff(Amount);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Invalid Index.&quot;);\r\n                }\r\n         }\r\n         /**\r\n         * Prints outstanding loans.\r\n         */\r\n        public void printOutstandingLoans()\r\n        {\r\n            System.out.println(&quot;Loan Summery: &quot;);\r\n            for(StudentLoan loan : loans ) {\r\n                int index=0;\r\n                if (loan.getAmount() &gt; 0) {\r\n                System.out.print(index + &quot; : &quot;);\r\n                loan.printDetails();\r\n                index++;\r\n                }           \r\n            }\r\n            System.out.println();\r\n        }\r\n        public void removeClearedLoans() {\r\n           for(StudentLoan loan : loans ) {\r\n               int index=0;\r\n            if (loan.getAmount() == 0) {\r\n                loans.remove(loan);\r\n                 System.out.print( &quot;Cleared Loans Removed &quot;);\r\n                }\r\n                index++;\r\n            }\r\n        }\r\n    }","title":"Print from array list","body":"<p>I need to be able to print out all students that have a loan from array list.</p>\n<p>Meaning all students with amount above 0.</p>\n<p>I already can print all students and how much they own.. but i dont know how to make it print only the students with a loan.</p>\n<p>here is the current code</p>\n<pre><code>public class LoanCompany\n{\n    private ArrayList&lt;StudentLoan&gt; loans;\n    /**\n     * Constructor for objects of class LoanCompany\n     */\n    public LoanCompany()\n    {\n        loans = new ArrayList&lt;StudentLoan&gt;();\n    }\n    /**\n     * add a loan amount and ID.\n     */\n    public void addLoan(String ID,int Amount) \n    { \n        StudentLoan newSLoan= new StudentLoan(ID,Amount);\n        loans.add(newSLoan); \n    }\n    /**\n     * Return amount of loans\n     */\n    public int getNumberOfLoans()\n    {\n        return loans.size();\n    }\n    public void printLoanDitails()\n    {\n        System.out.println(&quot;Loan Summery: &quot;);\n        int index=0;\n        for(StudentLoan loan : loans) {\n            System.out.print(index + &quot; : &quot;);\n            loan.printDetails();\n            index++;\n        }\n        System.out.println();\n    }\n    /**\n     * Remove index.\n     */\n    public void removeLoan(int index)\n    {\n        if(validIndex(index)) {\n            loans.remove(index);\n        }\n    }\n    /**\n     * Valid index... validates the index.\n     */\n   private boolean validIndex(int index)\n    {\n        boolean valid;        \n        if(index &lt; 0) {\n            System.out.println(&quot;Index must be 0 or a positive number&quot;);\n            valid = false;\n        }\n        else if(index &gt;= loans.size()) {\n            System.out.println(&quot;Index is too large.&quot;);\n            valid = false;\n        }\n        else {\n            valid = true;\n        }\n        return valid;\n    }\n    /**\n     * PayOff method, pays off the student loan.\n     */\n    public void payOff(int index, int Amount)\n    {\n        if(validIndex(index)) {\n            StudentLoan student = loans.get(index);\n            student.payOff(Amount);\n            }\n            else {\n                System.out.println(&quot;Invalid Index.&quot;);\n            }\n     }\n     /**\n     * Prints outstanding loans.\n     */\n    public void printOutstandingLoans()\n    {\n        System.out.println(&quot;Loan Summery: &quot;);\n        for(StudentLoan loan : loans ) {\n            int index=0;\n            if (loan.getAmount() &gt; 0) {\n            System.out.print(index + &quot; : &quot;);\n            loan.printDetails();\n            index++;\n            }           \n        }\n        System.out.println();\n    }\n    public void removeClearedLoans() {\n       for(StudentLoan loan : loans ) {\n           int index=0;\n        if (loan.getAmount() == 0) {\n            loans.remove(loan);\n             System.out.print( &quot;Cleared Loans Removed &quot;);\n            }\n            index++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","logging","grep","logcat"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1651694053,"post_id":72116501,"comment_id":127426850,"body_markdown":"Does `Runtime.getRuntime().exec(new String[] { &quot;sh&quot;, &quot;logcat -d | grep -n \\&quot;System\\\\.out\\&quot; &gt; test.txt&quot; });` work?","body":"Does <code>Runtime.getRuntime().exec(new String[] { &quot;sh&quot;, &quot;logcat -d | grep -n \\&quot;System\\\\.out\\&quot; &gt; test.txt&quot; });</code> work?"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1651734454,"post_id":72116501,"comment_id":127434434,"body_markdown":"Nope, it does not.","body":"Nope, it does not."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1651734873,"post_id":72116501,"comment_id":127434582,"body_markdown":"Try [this approach](https://stackoverflow.com/a/16238948/3832970), using `ProcessBuilder` (like `ProcessBuilder builder = new ProcessBuilder(&quot;sh&quot;, &quot;logcat -d | grep -n \\&quot;System\\\\.out\\&quot;&quot;); builder.redirectOutput(new File(&quot;test.txt&quot;)); Process p = builder.start();`). Also, maybe try with `bash` rather than `sh`.","body":"Try <a href=\"https://stackoverflow.com/a/16238948/3832970\">this approach</a>, using <code>ProcessBuilder</code> (like <code>ProcessBuilder builder = new ProcessBuilder(&quot;sh&quot;, &quot;logcat -d | grep -n \\&quot;System\\\\.out\\&quot;&quot;); builder.redirectOutput(new File(&quot;test.txt&quot;)); Process p = builder.start();</code>). Also, maybe try with <code>bash</code> rather than <code>sh</code>."},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1651740769,"post_id":72116501,"comment_id":127436476,"body_markdown":"It creates the file but it&#39;s empty.","body":"It creates the file but it&#39;s empty."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1651741002,"post_id":72116501,"comment_id":127436553,"body_markdown":"Did you try to also set `builder.redirectError(new File(&quot;test.txt&quot;));`?","body":"Did you try to also set <code>builder.redirectError(new File(&quot;test.txt&quot;));</code>?"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1651742010,"post_id":72116501,"comment_id":127436878,"body_markdown":"I get &#39;sh: logcat -d: No such file or directory&#39;","body":"I get &#39;sh: logcat -d: No such file or directory&#39;"}],"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651682147,"creation_date":1651682147,"question_id":72116501,"body_markdown":"I am very easily printing my logcat to file by doing this:\r\n\r\n    Process process = Runtime.getRuntime().exec( &quot;logcat -f test.txt&quot;);\r\n\r\nBut I would like to filter the content based on matching words, I thought about using `grep` and the operator `&gt;`to print to file but that didn&#39;t work. No file is being created.\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;logcat -d | grep -n \\&quot;System.out\\&quot; &gt; test.txt&quot;);\r\n\r\n","title":"Printing logcat to a file with filters? Using grep?","body":"<p>I am very easily printing my logcat to file by doing this:</p>\n<pre><code>Process process = Runtime.getRuntime().exec( &quot;logcat -f test.txt&quot;);\n</code></pre>\n<p>But I would like to filter the content based on matching words, I thought about using <code>grep</code> and the operator <code>&gt;</code>to print to file but that didn't work. No file is being created.</p>\n<pre><code>Process process = Runtime.getRuntime().exec(&quot;logcat -d | grep -n \\&quot;System.out\\&quot; &gt; test.txt&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3584831,"reputation":135,"user_id":2992245,"display_name":"omer keynan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651681994,"creation_date":1651681994,"answer_id":72116472,"question_id":72106262,"body_markdown":"Found it, after many hours of debugging.\r\n\r\nthis method was the key to the solution:\r\n```java\r\nprivate WebApplicationType deduceWebApplicationType() {\r\n\t\tif (ClassUtils.isPresent(REACTIVE_WEB_ENVIRONMENT_CLASS, null)\r\n\t\t\t\t&amp;&amp; !ClassUtils.isPresent(MVC_WEB_ENVIRONMENT_CLASS, null)\r\n\t\t\t\t&amp;&amp; !ClassUtils.isPresent(JERSEY_WEB_ENVIRONMENT_CLASS, null)) {\r\n\t\t\treturn WebApplicationType.REACTIVE;\r\n\t\t}\r\n\t\tfor (String className : WEB_ENVIRONMENT_CLASSES) {\r\n\t\t\tif (!ClassUtils.isPresent(className, null)) {\r\n\t\t\t\treturn WebApplicationType.NONE;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn WebApplicationType.SERVLET;\r\n\t}\r\n```\r\n\r\nThe if regarding the Jersey web environment resulted in true, which eventually made this method return servlet type.\r\n\r\nThe source of it was usage of error types library in my company which for some odd reason depends on jersey-server and when found, results in a servlet context initialization.\r\nI contacted the authors about it, and worst part is that excluding the server dependency had no effect on the functionality.\r\n\r\nThanks to anyone who spent time on this one.","title":"Spring boot Webflux application runs fine as an app, but fails springboottest trying to create a servlet container context","body":"<p>Found it, after many hours of debugging.</p>\n<p>this method was the key to the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebApplicationType deduceWebApplicationType() {\n        if (ClassUtils.isPresent(REACTIVE_WEB_ENVIRONMENT_CLASS, null)\n                &amp;&amp; !ClassUtils.isPresent(MVC_WEB_ENVIRONMENT_CLASS, null)\n                &amp;&amp; !ClassUtils.isPresent(JERSEY_WEB_ENVIRONMENT_CLASS, null)) {\n            return WebApplicationType.REACTIVE;\n        }\n        for (String className : WEB_ENVIRONMENT_CLASSES) {\n            if (!ClassUtils.isPresent(className, null)) {\n                return WebApplicationType.NONE;\n            }\n        }\n        return WebApplicationType.SERVLET;\n    }\n</code></pre>\n<p>The if regarding the Jersey web environment resulted in true, which eventually made this method return servlet type.</p>\n<p>The source of it was usage of error types library in my company which for some odd reason depends on jersey-server and when found, results in a servlet context initialization.\nI contacted the authors about it, and worst part is that excluding the server dependency had no effect on the functionality.</p>\n<p>Thanks to anyone who spent time on this one.</p>\n"}],"owner":{"account_id":3584831,"reputation":135,"user_id":2992245,"display_name":"omer keynan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72116472,"answer_count":1,"score":0,"last_activity_date":1651681994,"creation_date":1651618650,"question_id":72106262,"body_markdown":"The project is being migrated from a mix of spring and jersey to full spring boot webflux\r\n\r\nThe actual error message is:\r\n```\r\nType org.glassfish.jersey.servlet.ServletContainer not present\r\n```\r\nProblem is I don&#39;t know why the test is trying to spawn this context, and debugging is extremely hard.\r\n\r\nThe test declaration is:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.web.server.LocalServerPort;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.test.web.reactive.server.WebTestClient;\r\nimport org.springframework.web.reactive.function.client.ExchangeStrategies;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWebTestClient\r\n@TestPropertySource(properties = {&quot;opentracing.sample-rate=1&quot;})\r\nclass ReactiveControllerIT {\r\n    @LocalServerPort\r\n    int port;\r\n\r\n    @Autowired\r\n    private WebTestClient webClient;\r\n```\r\n\r\n\r\nAnd the application class\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.neo4j.repository.config.EnableReactiveNeo4jRepositories;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n\r\n@SpringBootApplication\r\n@EnableScheduling\r\n@EnableReactiveNeo4jRepositories\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\r\npublic class SeoGraphApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SeoGraphApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nEven with empty test methods I don&#39;t reach the actual method.\r\n\r\nAny thoughts?\r\n\r\nThanks, \r\n\r\nOmer.","title":"Spring boot Webflux application runs fine as an app, but fails springboottest trying to create a servlet container context","body":"<p>The project is being migrated from a mix of spring and jersey to full spring boot webflux</p>\n<p>The actual error message is:</p>\n<pre><code>Type org.glassfish.jersey.servlet.ServletContainer not present\n</code></pre>\n<p>Problem is I don't know why the test is trying to spawn this context, and debugging is extremely hard.</p>\n<p>The test declaration is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.web.server.LocalServerPort;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.web.reactive.server.WebTestClient;\nimport org.springframework.web.reactive.function.client.ExchangeStrategies;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\n@TestPropertySource(properties = {&quot;opentracing.sample-rate=1&quot;})\nclass ReactiveControllerIT {\n    @LocalServerPort\n    int port;\n\n    @Autowired\n    private WebTestClient webClient;\n</code></pre>\n<p>And the application class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.neo4j.repository.config.EnableReactiveNeo4jRepositories;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\n\n@SpringBootApplication\n@EnableScheduling\n@EnableReactiveNeo4jRepositories\n@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\npublic class SeoGraphApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SeoGraphApplication.class, args);\n    }\n}\n</code></pre>\n<p>Even with empty test methods I don't reach the actual method.</p>\n<p>Any thoughts?</p>\n<p>Thanks,</p>\n<p>Omer.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651681953,"creation_date":1651681953,"answer_id":72116459,"question_id":72116106,"body_markdown":"Based on [Documentation][1], supported return type don&#39;t have Map except for [Vavr][2] library.\r\n \r\nSo my best guess for your example would be to get query return type as `List&lt;Movie&gt;` &amp; then  do transformation:\r\n\r\n    List&lt;Movie&gt; findByActorsSurnames(List&lt;String&gt; actorsList);\r\n\r\nThen in your java code:\r\n\r\n      ..\r\n      for(Movie m: repository.findByActorsSurnames(list)){\r\n      map.put(m.getTitle,m.getActorsSurnames);\r\n      ..\r\n      }\r\n      ..\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.return.types\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.collections-and-iterables.vavr\r\n","title":"Search for a list in a list and insert it into the map","body":"<p>Based on <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.return.types\" rel=\"nofollow noreferrer\">Documentation</a>, supported return type don't have Map except for <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.collections-and-iterables.vavr\" rel=\"nofollow noreferrer\">Vavr</a> library.</p>\n<p>So my best guess for your example would be to get query return type as <code>List&lt;Movie&gt;</code> &amp; then  do transformation:</p>\n<pre><code>List&lt;Movie&gt; findByActorsSurnames(List&lt;String&gt; actorsList);\n</code></pre>\n<p>Then in your java code:</p>\n<pre><code>  ..\n  for(Movie m: repository.findByActorsSurnames(list)){\n  map.put(m.getTitle,m.getActorsSurnames);\n  ..\n  }\n  ..\n</code></pre>\n"}],"owner":{"account_id":17798225,"reputation":163,"user_id":12925625,"display_name":"dodododo97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72116459,"answer_count":1,"score":0,"last_activity_date":1651681953,"creation_date":1651680348,"question_id":72116106,"body_markdown":"My class is a \r\n\r\n    class Movie \r\n    {\r\n    private String title;\r\n    private int year; \r\n    private List&lt;String&gt; actorsSurnames;\r\n    }\r\n\r\nI want to create a query in the repository:\r\n\r\n    Map&lt;String,List&lt;String&gt;&gt; findByActorsSurnames(List&lt;String&gt; actorsList);\r\n\r\nI would like to get pairs of a movies and actors that play in them. \r\nExample of the outcome:\r\n\r\n    &quot;Titanic&quot;: [0]:&quot;Winslet&quot;,[1]:&quot;DiCaprio&quot;\r\n    &quot;Avatar&quot;:[0]:&quot;Worthington&quot;\r\n\r\n\r\nIs that even possible only in query without any java code?\r\n\r\n\r\n\r\n\r\n","title":"Search for a list in a list and insert it into the map","body":"<p>My class is a</p>\n<pre><code>class Movie \n{\nprivate String title;\nprivate int year; \nprivate List&lt;String&gt; actorsSurnames;\n}\n</code></pre>\n<p>I want to create a query in the repository:</p>\n<pre><code>Map&lt;String,List&lt;String&gt;&gt; findByActorsSurnames(List&lt;String&gt; actorsList);\n</code></pre>\n<p>I would like to get pairs of a movies and actors that play in them.\nExample of the outcome:</p>\n<pre><code>&quot;Titanic&quot;: [0]:&quot;Winslet&quot;,[1]:&quot;DiCaprio&quot;\n&quot;Avatar&quot;:[0]:&quot;Worthington&quot;\n</code></pre>\n<p>Is that even possible only in query without any java code?</p>\n"},{"tags":["java","inheritance","overriding"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651681780,"creation_date":1651681780,"answer_id":72116421,"question_id":72116299,"body_markdown":"&gt; What point did I miss?\r\n\r\nThe point that `print()` is being invoked by the `A` constructor, and that executes *before* the field initializer in `B` is invoked. See [JLS 15.9.4](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9.4) for details of *exactly* how class instance creation expressions execute.\r\n\r\nSo yes, it&#39;s using the `B.i` variable, but that variable doesn&#39;t yet have the value of `stackoverflow`. If you were to remove the `print()` invocation from the constructor and just write `new B(&quot;message is here&quot;).print()` then you&#39;d see &quot;overriden nullstackoverflow&quot;.","title":"Accessing a hidden field in a subclass","body":"<blockquote>\n<p>What point did I miss?</p>\n</blockquote>\n<p>The point that <code>print()</code> is being invoked by the <code>A</code> constructor, and that executes <em>before</em> the field initializer in <code>B</code> is invoked. See <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9.4\" rel=\"nofollow noreferrer\">JLS 15.9.4</a> for details of <em>exactly</em> how class instance creation expressions execute.</p>\n<p>So yes, it's using the <code>B.i</code> variable, but that variable doesn't yet have the value of <code>stackoverflow</code>. If you were to remove the <code>print()</code> invocation from the constructor and just write <code>new B(&quot;message is here&quot;).print()</code> then you'd see &quot;overriden nullstackoverflow&quot;.</p>\n"}],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72116421,"answer_count":1,"score":3,"last_activity_date":1651681780,"creation_date":1651681298,"question_id":72116299,"body_markdown":"According to the following quote, I expect to see `overriden nullstackoverflow` instead of `overriden nullnull`. What point did I miss?\r\n\r\n[**Hiding Fields**][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\r\n\r\n\r\n&gt; Within a class, a field that has the same name as a field in the superclass **hides the superclass&#39;s field**, even if their types are different.\r\n\r\n    class A {\r\n        public static void main(String[] args) {\r\n            new B(&quot;message is here&quot;);\r\n        }\r\n    \r\n        protected int i = 13;\r\n        public void print() { System.out.println(&quot;Hello&quot;); }\r\n        public A() { i = 13; print(); }\r\n    }\r\n    \r\n    class B extends A {\r\n        private String i = &quot;stackoverflow&quot;;\r\n        private String msg;\r\n        public void print() { System.out.println(&quot;overriden &quot; + msg + i); }\r\n        public B(String msg) { super();  this.msg = msg; }\r\n    }","title":"Accessing a hidden field in a subclass","body":"<p>According to the following quote, I expect to see <code>overriden nullstackoverflow</code> instead of <code>overriden nullnull</code>. What point did I miss?</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\" rel=\"nofollow noreferrer\"><strong>Hiding Fields</strong></a></p>\n<blockquote>\n<p>Within a class, a field that has the same name as a field in the superclass <strong>hides the superclass's field</strong>, even if their types are different.</p>\n</blockquote>\n<pre><code>class A {\n    public static void main(String[] args) {\n        new B(&quot;message is here&quot;);\n    }\n\n    protected int i = 13;\n    public void print() { System.out.println(&quot;Hello&quot;); }\n    public A() { i = 13; print(); }\n}\n\nclass B extends A {\n    private String i = &quot;stackoverflow&quot;;\n    private String msg;\n    public void print() { System.out.println(&quot;overriden &quot; + msg + i); }\n    public B(String msg) { super();  this.msg = msg; }\n}\n</code></pre>\n"},{"tags":["java","data-structures","trie","ternary-tree"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651682027,"post_id":72116408,"comment_id":127422775,"body_markdown":"[Even though the TRIE Data Structure is an efficient means for implementing large collection of words, they are not regarded as much efficient as implementing all the words in a Dictionary will require 26 Nodes in a standard TRIE.](https://iq.opengenus.org/autocomplete-with-ternary-search-tree/)","body":"<a href=\"https://iq.opengenus.org/autocomplete-with-ternary-search-tree/\" rel=\"nofollow noreferrer\">Even though the TRIE Data Structure is an efficient means for implementing large collection of words, they are not regarded as much efficient as implementing all the words in a Dictionary will require 26 Nodes in a standard TRIE.</a>"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651682043,"post_id":72116408,"comment_id":127422784,"body_markdown":"[To overcome this problem, Ternary Search Trees were conceptualized and developed where the child nodes of a TRIE Data Structure are optimized as a Binary Search Tree (BST). Ternary Search Trees are seen as a low-memory alternative to the traditional TRIE Data Structure and can store all the words in an English Dictionary at only 3 words per node.](https://iq.opengenus.org/autocomplete-with-ternary-search-tree/)","body":"<a href=\"https://iq.opengenus.org/autocomplete-with-ternary-search-tree/\" rel=\"nofollow noreferrer\">To overcome this problem, Ternary Search Trees were conceptualized and developed where the child nodes of a TRIE Data Structure are optimized as a Binary Search Tree (BST). Ternary Search Trees are seen as a low-memory alternative to the traditional TRIE Data Structure and can store all the words in an English Dictionary at only 3 words per node.</a>"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1651754470,"post_id":72116408,"comment_id":127441302,"body_markdown":"Patricia trees, under &quot;variants&quot; here: https://en.wikipedia.org/wiki/Radix_tree","body":"Patricia trees, under &quot;variants&quot; here: <a href=\"https://en.wikipedia.org/wiki/Radix_tree\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Radix_tree</a>"}],"owner":{"account_id":25076651,"reputation":31,"user_id":18929997,"display_name":"Jskoven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651681725,"creation_date":1651681725,"question_id":72116408,"body_markdown":"I&#39;m trying to implement a datastructure such that it&#39;ll give autocompleted words when the user writes something. So far I&#39;ve implemented a trie properly, and the autocomplete works quite fast. Thing is, when loading all the information needed, it uses a bonkers amount of memory. \r\nI&#39;ve generally seen that many people say that tries are faster but less space efficient, and vice versa for a ternary tree.\r\nI&#39;ve got an alphabet of about 55-60 characters and am expecting about 800k - 1.2 million words inserted into the tree. Is this just generally a way too large amount of insertions into the trie to work well, space wise? Would switching it to a ternary tree be smarter, memory wise? And would it, if switched to a ternary tree, be &quot;annoyingly&quot; slow to search in? \r\n\r\nThanks!","title":"Trie search tree vs ternary search tree for autocomplete?","body":"<p>I'm trying to implement a datastructure such that it'll give autocompleted words when the user writes something. So far I've implemented a trie properly, and the autocomplete works quite fast. Thing is, when loading all the information needed, it uses a bonkers amount of memory.\nI've generally seen that many people say that tries are faster but less space efficient, and vice versa for a ternary tree.\nI've got an alphabet of about 55-60 characters and am expecting about 800k - 1.2 million words inserted into the tree. Is this just generally a way too large amount of insertions into the trie to work well, space wise? Would switching it to a ternary tree be smarter, memory wise? And would it, if switched to a ternary tree, be &quot;annoyingly&quot; slow to search in?</p>\n<p>Thanks!</p>\n"},{"tags":["java","apache-spark","log4j","log4j2","scala-logging"],"answers":[{"tags":[],"owner":{"account_id":1561263,"reputation":1761,"user_id":3554537,"display_name":"Saeed Mohtasham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651681347,"creation_date":1651680505,"answer_id":72116133,"question_id":72116132,"body_markdown":"By adding a new dependency log4j-api now it works fine with log4j-core version 2.17.2:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.17.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Apache Spark Scala logging Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: EMPTY_BYTE_ARRAY","body":"<p>By adding a new dependency log4j-api now it works fine with log4j-core version 2.17.2:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.17.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1561263,"reputation":1761,"user_id":3554537,"display_name":"Saeed Mohtasham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72116133,"answer_count":1,"score":0,"last_activity_date":1651681347,"creation_date":1651680505,"question_id":72116132,"body_markdown":"Trying to add logging dependencies, I have a POM file like: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api-scala_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.17.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nit gives me this error on runtime:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: EMPTY_BYTE_ARRAY\r\n\tat org.apache.logging.log4j.core.config.ConfigurationSource.&lt;clinit&gt;(ConfigurationSource.java:58)\r\n\tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n\tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\r\n\tat org.apache.logging.log4j.scala.Logger$.apply(Logger.scala:39)\r\n\tat org.apache.logging.log4j.scala.Logging.$init$(Logging.scala:28)\r\n\r\n\r\nbut if i set log4j-core version to 2.13.2 it works fine. ","title":"Apache Spark Scala logging Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: EMPTY_BYTE_ARRAY","body":"<p>Trying to add logging dependencies, I have a POM file like:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api-scala_2.12&lt;/artifactId&gt;\n  &lt;version&gt;12.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.17.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it gives me this error on runtime:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: EMPTY_BYTE_ARRAY\nat org.apache.logging.log4j.core.config.ConfigurationSource.&lt;clinit&gt;(ConfigurationSource.java:58)\nat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\nat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\nat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\nat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\nat org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\nat org.apache.logging.log4j.scala.Logger$.apply(Logger.scala:39)\nat org.apache.logging.log4j.scala.Logging.$init$(Logging.scala:28)\n</code></pre>\n<p>but if i set log4j-core version to 2.13.2 it works fine.</p>\n"},{"tags":["java","eclipse","maven","gradle"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651641893,"post_id":72108208,"comment_id":127408698,"body_markdown":"Do you have .settings in git?","body":"Do you have .settings in git?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1651643673,"post_id":72108208,"comment_id":127409028,"body_markdown":"Please show your `.project` file.","body":"Please show your <code>.project</code> file."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1651643944,"post_id":72108208,"comment_id":127409083,"body_markdown":"@Thorbj&#248;rnRavnAndersen How can the problem be caused by missing of sharing the `.settings` folder?","body":"@Thorbj&#248;rnRavnAndersen How can the problem be caused by missing of sharing the <code>.settings</code> folder?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651645015,"post_id":72108208,"comment_id":127409335,"body_markdown":"@howlger or any other eclipse project file.  My guess is that a colleague has this plugin.  Was the .project file the one that could be shared between users?","body":"@howlger or any other eclipse project file.  My guess is that a colleague has this plugin.  Was the .project file the one that could be shared between users?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1651646616,"post_id":72108208,"comment_id":127409733,"body_markdown":"@Thorbj&#248;rnRavnAndersen The `.project` and `.classpath` files and the `.settings` folder have to be shared. This is why Eclipse puts these files into the project folder and not into the `.metadata` outside of the project folder.","body":"@Thorbj&#248;rnRavnAndersen The <code>.project</code> and <code>.classpath</code> files and the <code>.settings</code> folder have to be shared. This is why Eclipse puts these files into the project folder and not into the <code>.metadata</code> outside of the project folder."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651677642,"post_id":72108208,"comment_id":127421075,"body_markdown":"@howlger As you probably know, you do normally not _need_ to share IDE specific configuration files for Maven projects.   My money is still on the colleague using Groovy.","body":"@howlger As you probably know, you do normally not <i>need</i> to share IDE specific configuration files for Maven projects.   My money is still on the colleague using Groovy."},{"owner":{"account_id":5018987,"reputation":1,"user_id":4033001,"display_name":"Jie Huang"},"score":0,"creation_date":1651680779,"post_id":72108208,"comment_id":127422316,"body_markdown":"No. I have no .settings/ in git. I ignore it by .gitignore.","body":"No. I have no .settings/ in git. I ignore it by .gitignore."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651688307,"post_id":72108208,"comment_id":127424971,"body_markdown":"@JieHuang Double check, you might have an old copy from before the .gitignore file was modified","body":"@JieHuang Double check, you might have an old copy from before the .gitignore file was modified"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1651729657,"post_id":72108208,"comment_id":127433107,"body_markdown":"@Thorbj&#248;rnRavnAndersen Again, the `.project` and `.classpath` files and the `.settings` folder are intended to be shared. Eclipse puts these files into the project folder. No developer of an IDE questions this. Misinformation about this is only spread by people who don&#39;t know what the files in `.settings` are for.","body":"@Thorbj&#248;rnRavnAndersen Again, the <code>.project</code> and <code>.classpath</code> files and the <code>.settings</code> folder are intended to be shared. Eclipse puts these files into the project folder. No developer of an IDE questions this. Misinformation about this is only spread by people who don&#39;t know what the files in <code>.settings</code> are for."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1651730475,"post_id":72108208,"comment_id":127433311,"body_markdown":"Your issue is caused by the `.project` file, not by `.settings/*` files (not sharing those files is a different problem). According to the comment element in `.project`, the `.project` file has been created by [Buildship](https://projects.eclipse.org/projects/tools.buildship). It looks like you imported your project as Gradle project by mistake. Does replacing the `.project` and `.classpath` files and the `.settings` folder files and adapting the name in `.project` from a working project of the same kind fix your issue? Please make sure to share those files to avoid such issues in future.","body":"Your issue is caused by the <code>.project</code> file, not by <code>.settings&#47;*</code> files (not sharing those files is a different problem). According to the comment element in <code>.project</code>, the <code>.project</code> file has been created by <a href=\"https://projects.eclipse.org/projects/tools.buildship\" rel=\"nofollow noreferrer\">Buildship</a>. It looks like you imported your project as Gradle project by mistake. Does replacing the <code>.project</code> and <code>.classpath</code> files and the <code>.settings</code> folder files and adapting the name in <code>.project</code> from a working project of the same kind fix your issue? Please make sure to share those files to avoid such issues in future."}],"owner":{"account_id":5018987,"reputation":1,"user_id":4033001,"display_name":"Jie Huang"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651681043,"creation_date":1651641068,"question_id":72108208,"body_markdown":"I have a maven project (with git control) like below structure\r\n```\r\nproject-parent\r\n   pom.xml\r\n-- sub_proj_a\r\n   pom.xml\r\n   ...\r\n-- sub_proj_b\r\n   pom.xml\r\n   ...\r\n```\r\nIt works no problem when executing maven commands such as compile, install in console.\\\r\nBut it always shows error like below in eclipse\r\n\r\nDescription | Resource | Path | Location | Type\r\n------------|------------|------------|------------|------------\r\nMissing Gradle project configuration file: .settings/org.eclipse.buildship.core.prefs | project-parent| |\tUnknown | Gradle Project Configuration Marker\r\n\r\nI have no idea why gradle is triggered.\\\r\nI do have gradle projects in my eclipse, but the problem is there still even I closed all other projects.\\\r\nBTW, my Eclipse IDE version:\\\r\nEclipse IDE for Java Developers (includes Incubating components)\r\nVersion: 2022-03 (4.23.0)\r\n\r\nThe .project file is like (it should be created by Eclipse automatically when I import the project):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;projectDescription&gt;\r\n        &lt;name&gt;project-parent&lt;/name&gt;\r\n        &lt;comment&gt;Project project-parent created by Buildship.&lt;/comment&gt;\r\n        &lt;projects&gt;\r\n        &lt;/projects&gt;\r\n        &lt;buildSpec&gt;\r\n                &lt;buildCommand&gt;\r\n                        &lt;name&gt;org.eclipse.buildship.core.gradleprojectbuilder&lt;/name&gt;\r\n                        &lt;arguments&gt;\r\n                        &lt;/arguments&gt;\r\n                &lt;/buildCommand&gt;\r\n                &lt;buildCommand&gt;\r\n                        &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n                        &lt;arguments&gt;\r\n                        &lt;/arguments&gt;\r\n                &lt;/buildCommand&gt;\r\n        &lt;/buildSpec&gt;\r\n        &lt;natures&gt;\r\n                &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n                &lt;nature&gt;org.eclipse.buildship.core.gradleprojectnature&lt;/nature&gt;\r\n        &lt;/natures&gt;\r\n&lt;/projectDescription&gt;\r\n```","title":"Eclipse reports gradle error when I&#39;m using only maven","body":"<p>I have a maven project (with git control) like below structure</p>\n<pre><code>project-parent\n   pom.xml\n-- sub_proj_a\n   pom.xml\n   ...\n-- sub_proj_b\n   pom.xml\n   ...\n</code></pre>\n<p>It works no problem when executing maven commands such as compile, install in console.<br />\nBut it always shows error like below in eclipse</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Description</th>\n<th>Resource</th>\n<th>Path</th>\n<th>Location</th>\n<th>Type</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Missing Gradle project configuration file: .settings/org.eclipse.buildship.core.prefs</td>\n<td>project-parent</td>\n<td></td>\n<td>Unknown</td>\n<td>Gradle Project Configuration Marker</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have no idea why gradle is triggered.<br />\nI do have gradle projects in my eclipse, but the problem is there still even I closed all other projects.<br />\nBTW, my Eclipse IDE version:<br />\nEclipse IDE for Java Developers (includes Incubating components)\nVersion: 2022-03 (4.23.0)</p>\n<p>The .project file is like (it should be created by Eclipse automatically when I import the project):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;projectDescription&gt;\n        &lt;name&gt;project-parent&lt;/name&gt;\n        &lt;comment&gt;Project project-parent created by Buildship.&lt;/comment&gt;\n        &lt;projects&gt;\n        &lt;/projects&gt;\n        &lt;buildSpec&gt;\n                &lt;buildCommand&gt;\n                        &lt;name&gt;org.eclipse.buildship.core.gradleprojectbuilder&lt;/name&gt;\n                        &lt;arguments&gt;\n                        &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n                &lt;buildCommand&gt;\n                        &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n                        &lt;arguments&gt;\n                        &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n        &lt;/buildSpec&gt;\n        &lt;natures&gt;\n                &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.buildship.core.gradleprojectnature&lt;/nature&gt;\n        &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":5169189,"reputation":36,"user_id":4138289,"display_name":"shaunfaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651680961,"creation_date":1651680961,"answer_id":72116220,"question_id":71787474,"body_markdown":"This link to the AWS documentation has a good explanation for DynamoDBDocument usage:\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument\r\n\r\nEssentially @DynamoDBDocument indicates that a class can be serialised to JSON. The properties on the class will become key value pairs in the JSON.","title":"AWS DynamoDB What datatypes are supported by @DynamoDBDocument?","body":"<p>This link to the AWS documentation has a good explanation for DynamoDBDocument usage:\n<a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument</a></p>\n<p>Essentially @DynamoDBDocument indicates that a class can be serialised to JSON. The properties on the class will become key value pairs in the JSON.</p>\n"}],"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651680961,"creation_date":1649357285,"question_id":71787474,"body_markdown":"So, I am trying to annotation an attribute of a table as a `@DynamoDBDocument` to store the object in my table. I&#39;m thinking the actual attribute datatype would be a String [S] but, wanted to confirm this &amp; that it shouldn&#39;t be a Map [S] or String Set [SS] or something else?","title":"AWS DynamoDB What datatypes are supported by @DynamoDBDocument?","body":"<p>So, I am trying to annotation an attribute of a table as a <code>@DynamoDBDocument</code> to store the object in my table. I'm thinking the actual attribute datatype would be a String [S] but, wanted to confirm this &amp; that it shouldn't be a Map [S] or String Set [SS] or something else?</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1651042711,"post_id":72023552,"comment_id":127264840,"body_markdown":"(1) if you don&#39;t actually need that (unusual and rare) ciphersuite, change your config and/or code to not use it (2) if you do, use BouncyCastle (bctls) instead -- assuming dcm4che3, whatever that is, doesn&#39;t otherwise depend on features (or misfeatures) specific to standard JSSE","body":"(1) if you don&#39;t actually need that (unusual and rare) ciphersuite, change your config and/or code to not use it (2) if you do, use BouncyCastle (bctls) instead -- assuming dcm4che3, whatever that is, doesn&#39;t otherwise depend on features (or misfeatures) specific to standard JSSE"},{"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"score":0,"creation_date":1651043422,"post_id":72023552,"comment_id":127265040,"body_markdown":"@dave_thompson_085 Does that mean standard java does not support that cipher suite and so we depend on BouncyCastle? dcm4che is a suite of tools that are used for Medical Device testing. dcm4che could have dependency with standard java, I have very limited knowledge on the same.","body":"@dave_thompson_085 Does that mean standard java does not support that cipher suite and so we depend on BouncyCastle? dcm4che is a suite of tools that are used for Medical Device testing. dcm4che could have dependency with standard java, I have very limited knowledge on the same."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1651133943,"post_id":72023552,"comment_id":127292128,"body_markdown":"Yes, &#39;standard&#39; Java -- more exactly, the SunJSSE provider packaged with Oracle Java and OpenJDK -- does not support any CCM ciphersuites, so if you really need it/them BouncyCastle is the only way I know to do so in Java. There _may_ be other thirdparty TLS providers for Java I don&#39;t know about. Another option would be to terminate TLS _outside_ of Java, with something like nginx or haproxy or stunnel which can support any suite(s) you like and forward to Java, but that might involve changes to your software I can&#39;t estimate.","body":"Yes, &#39;standard&#39; Java -- more exactly, the SunJSSE provider packaged with Oracle Java and OpenJDK -- does not support any CCM ciphersuites, so if you really need it/them BouncyCastle is the only way I know to do so in Java. There <i>may</i> be other thirdparty TLS providers for Java I don&#39;t know about. Another option would be to terminate TLS <i>outside</i> of Java, with something like nginx or haproxy or stunnel which can support any suite(s) you like and forward to Java, but that might involve changes to your software I can&#39;t estimate."},{"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"score":0,"creation_date":1651148783,"post_id":72023552,"comment_id":127297701,"body_markdown":"@dave_thompson_085 Oh, is it? Thanks for the info. I was under the impression that standard java (Oracle) supports them as I could see CCM mentioned in the below links: https://docs.oracle.com/javase/10/security/java-secure-socket-extension-jsse-reference-guide.htm#JSSEC-GUID-63945B45-E909-483F-B3A9-E26586737383 and https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html","body":"@dave_thompson_085 Oh, is it? Thanks for the info. I was under the impression that standard java (Oracle) supports them as I could see CCM mentioned in the below links: <a href=\"https://docs.oracle.com/javase/10/security/java-secure-socket-extension-jsse-reference-guide.htm#JSSEC-GUID-63945B45-E909-483F-B3A9-E26586737383\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/security/&hellip;</a> and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/specs/security/&hellip;</a>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1651183552,"post_id":72023552,"comment_id":127310239,"body_markdown":"&#39;Standard Names&#39; are the names to be used IF certain things are implemented; for what is ACTUALLY implemented by a provider see that PROVIDER&#39;s documentation, with the newest at https://docs.oracle.com/en/java/javase/18/security/oracle-providers.html#GUID-7093246A-31A3-4304-AC5F-5FB6400405E2 . (You do know 10 is no longer supported, right?)","body":"&#39;Standard Names&#39; are the names to be used IF certain things are implemented; for what is ACTUALLY implemented by a provider see that PROVIDER&#39;s documentation, with the newest at <a href=\"https://docs.oracle.com/en/java/javase/18/security/oracle-providers.html#GUID-7093246A-31A3-4304-AC5F-5FB6400405E2\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/security/&hellip;</a> . (You do know 10 is no longer supported, right?)"},{"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"score":0,"creation_date":1651240274,"post_id":72023552,"comment_id":127323819,"body_markdown":"Thanks @dave_thompson_085 Do you know how to configure the provider to Bouncy Castle? I tried adding this in java.security file, but there was no change in behavior.","body":"Thanks @dave_thompson_085 Do you know how to configure the provider to Bouncy Castle? I tried adding this in java.security file, but there was no change in behavior."}],"answers":[{"tags":[],"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651680659,"creation_date":1651680659,"answer_id":72116165,"question_id":72023552,"body_markdown":"As mentioned by Dave, standard java does not support CCM. We need to use Bouncy Castle.","title":"TLS_DHE_RSA_WITH_AES_128_CCM support","body":"<p>As mentioned by Dave, standard java does not support CCM. We need to use Bouncy Castle.</p>\n"}],"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72116165,"answer_count":1,"score":0,"last_activity_date":1651680659,"creation_date":1651036257,"question_id":72023552,"body_markdown":"I am getting below error when trying to run a server with TLS_DHE_RSA_WITH_AES_128_CCM:\r\n    java.lang.IllegalArgumentException: Unsupported CipherSuite: TLS_DHE_RSA_WITH_AES_128_CCM\r\n        at sun.security.ssl.CipherSuite.validValuesOf(Unknown Source)\r\n        at sun.security.ssl.SSLServerSocketImpl.setEnabledCipherSuites(Unknown Source)\r\n        at org.dcm4che3.net.TCPListener.createTLSServerSocket(TCPListener.java:87)\r\n        at org.dcm4che3.net.TCPListener.&lt;init&gt;(TCPListener.java:67)\r\n        at org.dcm4che3.net.Connection.bind(Connection.java:976)\r\n        at org.dcm4che3.net.Device.bindConnections(Device.java:746)\r\n        at org.dcm4che3.tool.storescp.StoreSCP.main(StoreSCP.java:288)\r\n\r\nIs there a workaround or fix for the same?","title":"TLS_DHE_RSA_WITH_AES_128_CCM support","body":"<p>I am getting below error when trying to run a server with TLS_DHE_RSA_WITH_AES_128_CCM:\njava.lang.IllegalArgumentException: Unsupported CipherSuite: TLS_DHE_RSA_WITH_AES_128_CCM\nat sun.security.ssl.CipherSuite.validValuesOf(Unknown Source)\nat sun.security.ssl.SSLServerSocketImpl.setEnabledCipherSuites(Unknown Source)\nat org.dcm4che3.net.TCPListener.createTLSServerSocket(TCPListener.java:87)\nat org.dcm4che3.net.TCPListener.(TCPListener.java:67)\nat org.dcm4che3.net.Connection.bind(Connection.java:976)\nat org.dcm4che3.net.Device.bindConnections(Device.java:746)\nat org.dcm4che3.tool.storescp.StoreSCP.main(StoreSCP.java:288)</p>\n<p>Is there a workaround or fix for the same?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":0,"creation_date":1651473162,"post_id":72079769,"comment_id":127364711,"body_markdown":"did you add the textview to the screen? paste your `addTv()` code","body":"did you add the textview to the screen? paste your <code>addTv()</code> code"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1651484777,"post_id":72079769,"comment_id":127367694,"body_markdown":"The ID numbers are generated at compile-time, I would not try to generate IDs at run-time. Instead simply save the references of the generated TextView instances into a field.","body":"The ID numbers are generated at compile-time, I would not try to generate IDs at run-time. Instead simply save the references of the generated TextView instances into a field."},{"owner":{"account_id":25166369,"reputation":21,"user_id":19009861,"display_name":"Tim Fav"},"score":0,"creation_date":1651596775,"post_id":72079769,"comment_id":127399115,"body_markdown":"@Avital I edit my code, to add the TextView to the screen. But I don&#39;t understand why you would like the code to add the TextView to the screen. Because my question is about : How get the TextView by ID which I give it .","body":"@Avital I edit my code, to add the TextView to the screen. But I don&#39;t understand why you would like the code to add the TextView to the screen. Because my question is about : How get the TextView by ID which I give it ."},{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":0,"creation_date":1651660101,"post_id":72079769,"comment_id":127414267,"body_markdown":"your code works for me, so...","body":"your code works for me, so..."}],"answers":[{"tags":[],"owner":{"account_id":6303769,"reputation":1977,"user_id":5171120,"accept_rate":100,"display_name":"Chuck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651598751,"creation_date":1651598751,"answer_id":72103226,"question_id":72079769,"body_markdown":"The [documentation for findViewById](https://developer.android.com/reference/android/view/View#findViewById(int)) says that it:\r\n\r\n&gt; Finds **the first descendant view** with the given ID, the view itself if the ID matches getId(), or null if the ID is invalid (&lt; 0) or there is no matching view in the hierarchy.\r\n\r\nwith emphasis added to &quot;descendant view.&quot; I think the issue is that you&#39;re creating a `TextView` but you&#39;re leaving them dangling - they&#39;re not added to the `LinearLayout` and then, because they&#39;re not added to the hierarchy, you fail to find them when you look for them. Consider the following:\r\n\r\n    private TextView addTV(int x, int y, int width, int height) {\r\n        TextView tv = new TextView(this);\r\n        tv.setId(id);\r\n        id++;\r\n        tv.setText(&quot;Hello&quot;);\r\n        ll.addView(tv);   // &lt;--- This is the change\r\n        return tv;\r\n    }\r\n\r\nThis is a reference to the [answer found here](https://stackoverflow.com/a/3205331/5171120).","title":"How get a component by programmely added id in Java for Android","body":"<p>The <a href=\"https://developer.android.com/reference/android/view/View#findViewById(int)\" rel=\"nofollow noreferrer\">documentation for findViewById</a> says that it:</p>\n<blockquote>\n<p>Finds <strong>the first descendant view</strong> with the given ID, the view itself if the ID matches getId(), or null if the ID is invalid (&lt; 0) or there is no matching view in the hierarchy.</p>\n</blockquote>\n<p>with emphasis added to &quot;descendant view.&quot; I think the issue is that you're creating a <code>TextView</code> but you're leaving them dangling - they're not added to the <code>LinearLayout</code> and then, because they're not added to the hierarchy, you fail to find them when you look for them. Consider the following:</p>\n<pre><code>private TextView addTV(int x, int y, int width, int height) {\n    TextView tv = new TextView(this);\n    tv.setId(id);\n    id++;\n    tv.setText(&quot;Hello&quot;);\n    ll.addView(tv);   // &lt;--- This is the change\n    return tv;\n}\n</code></pre>\n<p>This is a reference to the <a href=\"https://stackoverflow.com/a/3205331/5171120\">answer found here</a>.</p>\n"},{"tags":[],"owner":{"account_id":25166369,"reputation":21,"user_id":19009861,"display_name":"Tim Fav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651680177,"creation_date":1651680177,"answer_id":72116056,"question_id":72079769,"body_markdown":"after long time search and do more test. I find some answer, you have 2 choise to get the component by a setted ID :\r\n\r\nif you want by a hard ID :\r\n\r\n    @SuppressLint(&quot;ResourceType&quot;)\r\n    private void changeTextTV(String text) {\r\n        TextView tv = findViewById(2000000);\r\n        tv.setText(text);\r\n    }\r\n\r\nor by a variable\r\n\r\n    private void changeTextTV(int id, String text) {\r\n        TextView tv = findViewById(id);\r\n        tv.setText(text);\r\n    }\r\n\r\nThanks for the time you spend for me.","title":"How get a component by programmely added id in Java for Android","body":"<p>after long time search and do more test. I find some answer, you have 2 choise to get the component by a setted ID :</p>\n<p>if you want by a hard ID :</p>\n<pre><code>@SuppressLint(&quot;ResourceType&quot;)\nprivate void changeTextTV(String text) {\n    TextView tv = findViewById(2000000);\n    tv.setText(text);\n}\n</code></pre>\n<p>or by a variable</p>\n<pre><code>private void changeTextTV(int id, String text) {\n    TextView tv = findViewById(id);\n    tv.setText(text);\n}\n</code></pre>\n<p>Thanks for the time you spend for me.</p>\n"}],"owner":{"account_id":25166369,"reputation":21,"user_id":19009861,"display_name":"Tim Fav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72116056,"answer_count":2,"score":2,"last_activity_date":1651680177,"creation_date":1651432962,"question_id":72079769,"body_markdown":"I have a problem with ids on Java for Android.\r\nI do some TextView by code, and give it an id. But I can&#39;t get the TextView with the id I gave it.\r\n \r\nI tried to do this, but it&#39;s wont work.\r\n\r\n    LinearLayout ll;\r\n    int id = 2000000;\r\n    private void init() {\r\n        ll = findViewById(R.id.layout);\r\n    }\r\n    private TextView addTV(int x, int y, int width, int height) {\r\n        TextView tv = new TextView(this);\r\n        tv.setId(id);\r\n        id++;\r\n        tv.setText(&quot;Hello&quot;);\r\n        return tv;\r\n    }\r\n    private void changeTextTV(int id, String text) {\r\n        TextView tv = findViewById(id); //&lt;- this is wrong, but I don&#39;t know what is right\r\n        tv.setText(text);\r\n    }\r\n    init();\r\n    ll.addView(addTV(0,0,100,100));\r\n    changeTextTV(2000000, &quot;It&#39;s me&quot;);\r\n    \r\n\r\nCould you help me ?\r\n\r\nPS : I&#39;m French, so sorry for my spelling mistakes","title":"How get a component by programmely added id in Java for Android","body":"<p>I have a problem with ids on Java for Android.\nI do some TextView by code, and give it an id. But I can't get the TextView with the id I gave it.</p>\n<p>I tried to do this, but it's wont work.</p>\n<pre><code>LinearLayout ll;\nint id = 2000000;\nprivate void init() {\n    ll = findViewById(R.id.layout);\n}\nprivate TextView addTV(int x, int y, int width, int height) {\n    TextView tv = new TextView(this);\n    tv.setId(id);\n    id++;\n    tv.setText(&quot;Hello&quot;);\n    return tv;\n}\nprivate void changeTextTV(int id, String text) {\n    TextView tv = findViewById(id); //&lt;- this is wrong, but I don't know what is right\n    tv.setText(text);\n}\ninit();\nll.addView(addTV(0,0,100,100));\nchangeTextTV(2000000, &quot;It's me&quot;);\n</code></pre>\n<p>Could you help me ?</p>\n<p>PS : I'm French, so sorry for my spelling mistakes</p>\n"},{"tags":["java","spring-boot","docker","apache-kafka","docker-compose"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1651672553,"post_id":72113718,"comment_id":127418892,"body_markdown":"i answered a similar question here https://stackoverflow.com/a/50219147/3224238","body":"i answered a similar question here <a href=\"https://stackoverflow.com/a/50219147/3224238\">stackoverflow.com/a/50219147/3224238</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651673141,"post_id":72113718,"comment_id":127419178,"body_markdown":"Did you not read the duplicate post I marked on your previous question and the section between two containers on the same host? What could be changed about the description if it is unclear?","body":"Did you not read the duplicate post I marked on your previous question and the section between two containers on the same host? What could be changed about the description if it is unclear?"},{"owner":{"display_name":"user17944361"},"score":0,"creation_date":1651680879,"post_id":72113718,"comment_id":127422346,"body_markdown":"I edited my post question and added the fix code/changes.","body":"I edited my post question and added the fix code/changes."}],"answers":[{"tags":[],"owner":{"account_id":8465462,"reputation":7040,"user_id":6349751,"accept_rate":90,"display_name":"AymDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651672033,"creation_date":1651672033,"answer_id":72114071,"question_id":72113718,"body_markdown":"You are using `127.0.0.1:9092` as the Kafka container endpoint from the Java container. From a container, `localhost` targets the container itself, this won&#39;t work.\r\n\r\nDocker Compose will set a default [network](https://docs.docker.com/compose/networking/) in which your services are reachable by their name.\r\nTherefore I think you should change your **application.yaml** to:\r\n```yaml\r\nspring.kafka.bootstrap-servers=kafka:9092\r\n# ...\r\n```","title":"how to docker-compose spring-boot with kafka?","body":"<p>You are using <code>127.0.0.1:9092</code> as the Kafka container endpoint from the Java container. From a container, <code>localhost</code> targets the container itself, this won't work.</p>\n<p>Docker Compose will set a default <a href=\"https://docs.docker.com/compose/networking/\" rel=\"nofollow noreferrer\">network</a> in which your services are reachable by their name.\nTherefore I think you should change your <strong>application.yaml</strong> to:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.kafka.bootstrap-servers=kafka:9092\n# ...\n</code></pre>\n"}],"owner":{"display_name":"user17944361"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1651673052,"accepted_answer_id":72114071,"answer_count":1,"score":1,"last_activity_date":1651679979,"creation_date":1651670664,"question_id":72113718,"body_markdown":"Execution is working fine but I think I am missing something, because when I use the REST API it will show:\r\n&gt;(/127.0.0.1:9092) could not be established. Broker may not be available\r\n\r\nYou may see this below. By the way I am new to Docker and Kafka.\r\n\r\nI can&#39;t sent or get data to /GET/POST/PUT/DELETE since I use Docker.\r\n\r\nMy reference when i created this setup: https://github.com/codegard/kafka-docker/blob/master/docker-compose.yml\r\n\r\n```\r\n//docker-compose.yaml\r\n\r\nversion: &#39;3&#39;\r\n\r\n      \r\nservices: \r\n#----------------------------------------------------------------  \r\n  productmicroservice:\r\n    image: productmicroservice:latest\r\n    container_name: productmicroservice\r\n    depends_on:\r\n      - product-mysqldb\r\n      - kafka\r\n    restart: always\r\n    build:\r\n      context: ./\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;9001:8091&quot;\r\n    \r\n    environment:\r\n    \r\n      - MYSQL_HOST=product-mysqldb\r\n      - MYSQL_USER=oot\r\n      - MYSQL_PASSWORD=root\r\n      - MYSQL_PORT=3306\r\n      \r\n      - &quot;SPRING_PROFILES_ACTIVE=${ACTIVE_PROFILE}&quot;\r\n      \r\n    \r\n#----------------------------------------------------------------      \r\n\r\n  product-mysqldb:\r\n    image: mysql:8.0.28\r\n    restart: unless-stopped\r\n    container_name: product-mysqldb\r\n    ports: \r\n      - &quot;3307:3306&quot;\r\n    \r\n    cap_add:\r\n      - SYS_NICE\r\n    environment:\r\n      MYSQL_DATABASE: dbpoc\r\n      MYSQL_ROOT_PASSWORD: root\r\n      \r\n#----------------------------------------------------------------   \r\n\r\n        \r\n  zookeeper:\r\n    image: elevy/zookeeper:latest\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n   \r\n     \r\n    \r\n      \r\n      \r\n#----------------------------------------------------------------\r\n \r\n    \r\n  kafka:\r\n    image: wurstmeister/kafka:2.11-2.0.0\r\n    container_name: kafka\r\n    \r\n    restart: on-failure\r\n\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n    environment:\r\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n    depends_on:\r\n      - zookeeper\r\n    \r\n```\r\n\r\n```\r\n//appication.yaml\r\n\r\nspring.kafka.bootstrap-servers=127.0.0.1:9092\r\nproduct.kafkaServer= ${spring.kafka.bootstrap-servers}\r\n\r\nspring.kafka.properties.security.protocol=PLAINTEXT\r\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n\r\ntopic.name=producttopic\r\nspring.jpa.properties.hibernate.check_nullability=true\r\n\r\n\r\n\r\nspring:\r\n  datasource:\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/dbpoc\r\n    username: root\r\n    password: root\r\n  \r\n  \r\n   \r\n    \r\n  jpa:\r\n    hibernate:\r\n      naming:\r\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n    hibernate.ddl-auto: update\r\n    generate-ddl: false\r\n    show-sql: false\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\n  mvc:\r\n   throw-exception-if-no-handler-found: true\r\n  web:\r\n    resources:\r\n      add-mappings: false\r\n        \r\n  sql:\r\n    init:\r\n      mode: always\r\n      continue-on-error: true\r\n\r\n    \r\nserver:\r\n  port: 8091\r\n  \r\n```\r\n\r\n```\r\n// .env\r\n\r\nACTIVE_PROFILE=dev\r\n```\r\n\r\n```\r\n//Dockerfile\r\n\r\nFROM openjdk:8-alpine\r\nADD target/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\n\r\n```\r\n```\r\n//topic that i created\r\n\r\n./kafka-topics.sh --create --zookeeper zookeeper:2181 --replication-factor 1 --partitions 1 --topic producttopic\r\n```\r\n```\r\n//trying to send data manualy in kafka\r\n//working\r\n\r\n\r\n//producer\r\n\r\nbash-4.4# ./kafka-console-producer.sh --broker-list 127.0.0.1:9092 --topic producttopic\r\n&gt;hellow\r\n&gt;\r\n\r\n//comsumer\r\n\r\nbash-4.4# ./kafka-console-consumer.sh --topic producttopic --from-beginning --bootstrap-server 127.0.0.1:9092\r\nhellow\r\n\r\n```\r\n\r\n```\r\n//sending data to from my rest api\r\n//this is wrong but i dont know what is the reason\r\n\r\nproductmicroservice  | 2022-05-04 13:08:28.283  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\r\nproductmicroservice  | 2022-05-04 13:08:28.283  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker 127.0.0.1:9092 (id: -1 rack: null) disconnected\r\nproductmicroservice  | 2022-05-04 13:08:29.343  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\r\n\r\n```\r\n```\r\n//fix reference below comment\r\n//change made\r\n\r\n//application.yaml\r\n\r\nspring.kafka.topic.name=producttopic\r\ntopic.name=${spring.kafka.topic.name}\r\n\r\nspring.kafka.bootstrap-servers=kafka:9092\r\nproduct.kafkaServer= ${spring.kafka.bootstrap-servers}\r\n\r\n\r\n//docker-compose.yaml\r\n//added to kafka environment\r\n\r\nKAFKA_CREATE_TOPICS: &quot;producttopic:1:1&quot;\r\nKAFKA_INTER_BROKER_LISTENER_NAME: INSIDE\r\n      KAFKA_LISTENERS: INSIDE://kafka:9092,OUTSIDE://0.0.0.0:9093\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT\r\n      KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka:9092,OUTSIDE://localhost:9093\r\n\r\n//manual get data in topic by consumer\r\n\r\n./kafka-console-consumer.sh --topic producttopic --from-beginning --bootstrap-server localhost:9093\r\n\r\n//code changes in spring\r\n\r\n//for topic\r\n@Value(&quot;${topic.name}&quot;)\r\n\r\n//for bootstrapserver\r\n@Value(&quot;${product.kafkaServer}&quot;)\r\n\r\n//must note\r\n\r\nwurstmeister/kafka:2.11-2.0.0\r\n\r\nI use &quot;2.11-2.0.0&quot; since its compatible with jdk 8 where latest give me error and my project required jdk 8\r\n\r\n```","title":"how to docker-compose spring-boot with kafka?","body":"<p>Execution is working fine but I think I am missing something, because when I use the REST API it will show:</p>\n<blockquote>\n<p>(/127.0.0.1:9092) could not be established. Broker may not be available</p>\n</blockquote>\n<p>You may see this below. By the way I am new to Docker and Kafka.</p>\n<p>I can't sent or get data to /GET/POST/PUT/DELETE since I use Docker.</p>\n<p>My reference when i created this setup: <a href=\"https://github.com/codegard/kafka-docker/blob/master/docker-compose.yml\" rel=\"nofollow noreferrer\">https://github.com/codegard/kafka-docker/blob/master/docker-compose.yml</a></p>\n<pre><code>//docker-compose.yaml\n\nversion: '3'\n\n      \nservices: \n#----------------------------------------------------------------  \n  productmicroservice:\n    image: productmicroservice:latest\n    container_name: productmicroservice\n    depends_on:\n      - product-mysqldb\n      - kafka\n    restart: always\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    ports:\n      - &quot;9001:8091&quot;\n    \n    environment:\n    \n      - MYSQL_HOST=product-mysqldb\n      - MYSQL_USER=oot\n      - MYSQL_PASSWORD=root\n      - MYSQL_PORT=3306\n      \n      - &quot;SPRING_PROFILES_ACTIVE=${ACTIVE_PROFILE}&quot;\n      \n    \n#----------------------------------------------------------------      \n\n  product-mysqldb:\n    image: mysql:8.0.28\n    restart: unless-stopped\n    container_name: product-mysqldb\n    ports: \n      - &quot;3307:3306&quot;\n    \n    cap_add:\n      - SYS_NICE\n    environment:\n      MYSQL_DATABASE: dbpoc\n      MYSQL_ROOT_PASSWORD: root\n      \n#----------------------------------------------------------------   \n\n        \n  zookeeper:\n    image: elevy/zookeeper:latest\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n   \n     \n    \n      \n      \n#----------------------------------------------------------------\n \n    \n  kafka:\n    image: wurstmeister/kafka:2.11-2.0.0\n    container_name: kafka\n    \n    restart: on-failure\n\n    ports:\n      - &quot;9092:9092&quot;\n    environment:\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n    depends_on:\n      - zookeeper\n    \n</code></pre>\n<pre><code>//appication.yaml\n\nspring.kafka.bootstrap-servers=127.0.0.1:9092\nproduct.kafkaServer= ${spring.kafka.bootstrap-servers}\n\nspring.kafka.properties.security.protocol=PLAINTEXT\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n\ntopic.name=producttopic\nspring.jpa.properties.hibernate.check_nullability=true\n\n\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/dbpoc\n    username: root\n    password: root\n  \n  \n   \n    \n  jpa:\n    hibernate:\n      naming:\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n    hibernate.ddl-auto: update\n    generate-ddl: false\n    show-sql: false\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n\n  mvc:\n   throw-exception-if-no-handler-found: true\n  web:\n    resources:\n      add-mappings: false\n        \n  sql:\n    init:\n      mode: always\n      continue-on-error: true\n\n    \nserver:\n  port: 8091\n  \n</code></pre>\n<pre><code>// .env\n\nACTIVE_PROFILE=dev\n</code></pre>\n<pre><code>//Dockerfile\n\nFROM openjdk:8-alpine\nADD target/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n\n\n</code></pre>\n<pre><code>//topic that i created\n\n./kafka-topics.sh --create --zookeeper zookeeper:2181 --replication-factor 1 --partitions 1 --topic producttopic\n</code></pre>\n<pre><code>//trying to send data manualy in kafka\n//working\n\n\n//producer\n\nbash-4.4# ./kafka-console-producer.sh --broker-list 127.0.0.1:9092 --topic producttopic\n&gt;hellow\n&gt;\n\n//comsumer\n\nbash-4.4# ./kafka-console-consumer.sh --topic producttopic --from-beginning --bootstrap-server 127.0.0.1:9092\nhellow\n\n</code></pre>\n<pre><code>//sending data to from my rest api\n//this is wrong but i dont know what is the reason\n\nproductmicroservice  | 2022-05-04 13:08:28.283  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\nproductmicroservice  | 2022-05-04 13:08:28.283  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker 127.0.0.1:9092 (id: -1 rack: null) disconnected\nproductmicroservice  | 2022-05-04 13:08:29.343  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\n\n</code></pre>\n<pre><code>//fix reference below comment\n//change made\n\n//application.yaml\n\nspring.kafka.topic.name=producttopic\ntopic.name=${spring.kafka.topic.name}\n\nspring.kafka.bootstrap-servers=kafka:9092\nproduct.kafkaServer= ${spring.kafka.bootstrap-servers}\n\n\n//docker-compose.yaml\n//added to kafka environment\n\nKAFKA_CREATE_TOPICS: &quot;producttopic:1:1&quot;\nKAFKA_INTER_BROKER_LISTENER_NAME: INSIDE\n      KAFKA_LISTENERS: INSIDE://kafka:9092,OUTSIDE://0.0.0.0:9093\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka:9092,OUTSIDE://localhost:9093\n\n//manual get data in topic by consumer\n\n./kafka-console-consumer.sh --topic producttopic --from-beginning --bootstrap-server localhost:9093\n\n//code changes in spring\n\n//for topic\n@Value(&quot;${topic.name}&quot;)\n\n//for bootstrapserver\n@Value(&quot;${product.kafkaServer}&quot;)\n\n//must note\n\nwurstmeister/kafka:2.11-2.0.0\n\nI use &quot;2.11-2.0.0&quot; since its compatible with jdk 8 where latest give me error and my project required jdk 8\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1589275424,"post_id":61747948,"comment_id":109221316,"body_markdown":"Does this answer your question? [How do I determine whether an array contains a particular value in Java?](https://stackoverflow.com/questions/1128723/how-do-i-determine-whether-an-array-contains-a-particular-value-in-java) or [Finding if an array contains all elements in another array](https://stackoverflow.com/questions/16524709/finding-if-an-array-contains-all-elements-in-another-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1128723/how-do-i-determine-whether-an-array-contains-a-particular-value-in-java\">How do I determine whether an array contains a particular value in Java?</a> or <a href=\"https://stackoverflow.com/questions/16524709/finding-if-an-array-contains-all-elements-in-another-array\">Finding if an array contains all elements in another array</a>"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1589275577,"post_id":61747948,"comment_id":109221406,"body_markdown":"Your if-statement seems fine to me.","body":"Your if-statement seems fine to me."}],"answers":[{"tags":[],"owner":{"account_id":18560218,"reputation":35,"user_id":13524382,"display_name":"slaidurch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589275062,"creation_date":1589275042,"answer_id":61748014,"question_id":61747948,"body_markdown":"try this:\r\n\r\n    valid = Arrays.asList(colors).contains(guess)","title":"Answer consists out of certain characters","body":"<p>try this:</p>\n\n<pre><code>valid = Arrays.asList(colors).contains(guess)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18559999,"reputation":1,"user_id":13524206,"display_name":"Bram Vrielink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589283270,"creation_date":1589283270,"answer_id":61750681,"question_id":61747948,"body_markdown":"Stupid mistake on my part.\r\n\r\nThe code was in the right way, just overlooked some simple things\r\n\r\n`guess.matches(&quot;[RGBPOY]+&quot;)` was the manual, working piece of code.\r\n&lt;br /&gt;The string `Colors` just printed RGBPOY.\r\n&lt;br /&gt;Meaning I missed a few things to get this to work.\r\nBy either doing this\r\n\r\n    Colors = &quot;[&quot; + Colors + &quot;]+&quot;;\r\n    if(guess.matches(&quot;Colors&quot;)) {\r\n    }\r\n\r\nor this\r\n\r\n    if(guess.matches(&quot;[&quot;+stringArray+&quot;]+&quot;)) {\r\n    \t\t}\r\nThe code worked as if it was put in manually since both were [RGBPOY]+","title":"Answer consists out of certain characters","body":"<p>Stupid mistake on my part.</p>\n\n<p>The code was in the right way, just overlooked some simple things</p>\n\n<p><code>guess.matches(\"[RGBPOY]+\")</code> was the manual, working piece of code.\n<br />The string <code>Colors</code> just printed RGBPOY.\n<br />Meaning I missed a few things to get this to work.\nBy either doing this</p>\n\n<pre><code>Colors = \"[\" + Colors + \"]+\";\nif(guess.matches(\"Colors\")) {\n}\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>if(guess.matches(\"[\"+stringArray+\"]+\")) {\n        }\n</code></pre>\n\n<p>The code worked as if it was put in manually since both were [RGBPOY]+</p>\n"}],"owner":{"account_id":18559999,"reputation":1,"user_id":13524206,"display_name":"Bram Vrielink"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651679519,"creation_date":1589274807,"question_id":61747948,"body_markdown":"    Scanner input = new Scanner(System.in);\r\n    String[] colors = {&quot;R&quot;, &quot;G&quot;, &quot;B&quot;, &quot;P&quot;, &quot;O&quot;, &quot;Y&quot;};\r\n    String guess = &quot;&quot;;\r\n    String valid = false;\r\n    \r\n    \r\n    //Get Input\r\n    guess = input.nextLine().toUpperCase();\r\n    \r\n    // Change String Array to Regular String\r\n    String Colors = &quot;&quot;;\r\n    for(int i=0; i&lt;colors.length; i++) {\r\n    \tColors += colors[i];\r\n    }\r\n    \r\n    // See if Guess Consists out of Correct Letters\r\n    if(guess.matches(Colors)) {\r\n    \tvalid = true;\r\n    }\r\n\r\nBasically what I want to achieve with this code is to check if the input given meets the requirements.\r\n&lt;br /&gt;In this case does `guess` only consists of the letters given in `colors`, for example:\r\n\r\nif `guess = RGB` then `valid = true`\r\n&lt;br /&gt;if `guess = RGBA` then `valid = false`\r\n\r\n\r\nI know I can also put it in manually like this:\r\n\r\n    if(guess.matches(&quot;[RGBPOY]+&quot;)) {\r\n    \tvalid = true;\r\n    }\r\n\r\nBut I want to keep it procedural.\r\n\r\nIs there a way to get this working? Or am I better off using a different method like say a for loop?\r\n&lt;br /&gt;I only recently started with JAVA and am not yet familiar with all the different approaches it has to offer.","title":"Answer consists out of certain characters","body":"<pre><code>Scanner input = new Scanner(System.in);\nString[] colors = {\"R\", \"G\", \"B\", \"P\", \"O\", \"Y\"};\nString guess = \"\";\nString valid = false;\n\n\n//Get Input\nguess = input.nextLine().toUpperCase();\n\n// Change String Array to Regular String\nString Colors = \"\";\nfor(int i=0; i&lt;colors.length; i++) {\n    Colors += colors[i];\n}\n\n// See if Guess Consists out of Correct Letters\nif(guess.matches(Colors)) {\n    valid = true;\n}\n</code></pre>\n\n<p>Basically what I want to achieve with this code is to check if the input given meets the requirements.\n<br />In this case does <code>guess</code> only consists of the letters given in <code>colors</code>, for example:</p>\n\n<p>if <code>guess = RGB</code> then <code>valid = true</code>\n<br />if <code>guess = RGBA</code> then <code>valid = false</code></p>\n\n<p>I know I can also put it in manually like this:</p>\n\n<pre><code>if(guess.matches(\"[RGBPOY]+\")) {\n    valid = true;\n}\n</code></pre>\n\n<p>But I want to keep it procedural.</p>\n\n<p>Is there a way to get this working? Or am I better off using a different method like say a for loop?\n<br />I only recently started with JAVA and am not yet familiar with all the different approaches it has to offer.</p>\n"},{"tags":["java","swing","jpanel","awt","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1411193639,"post_id":25945439,"comment_id":40620239,"body_markdown":"Two good strategies for big buttons.  1) Large font (or a large icon) 2) [`setMargin(Insets)`](http://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#setMargin-java.awt.Insets-).","body":"Two good strategies for big buttons.  1) Large font (or a large icon) 2) <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#setMargin-java.awt.Insets-\" rel=\"nofollow noreferrer\"><code>setMargin(Insets)</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1411190083,"creation_date":1411189528,"answer_id":25945451,"question_id":25945439,"body_markdown":"The layout managers usually don&#39;t respect the size of a component, so setting size often has little effect. Instead, the layout managers usually respect the **preferred** sizes of components.  Having said this, it&#39;s usually better to not try to set the preferredSizes yourself via `setPreferredSize(Dimension d)` but rather to let the layout managers and the components do this for you. If you must do it yourself, consider extending the component and overriding `getPreferredSize()` and adding *smart* code that returns a decent and proper preferredSize Dimension.\r\n\r\nFor example, please have a look at my code in my answer to a recent question [here](https://stackoverflow.com/a/25945139/522444). In it, I change the size of the JButton&#39;s Font to make it larger, but i never set the sizes or preferredSizes of any component, but rather let the components themselves and the container&#39;s layout managers do this work for me.\r\n\r\nIf you don&#39;t believe me, please read some of the posts and comments by [kleopatra](https://stackoverflow.com/users/203657/kleopatra), one of the smartest and most influential Swing coders that I know of, and one of the authors of the [SwingX toolkit](https://swingx.java.net/). For example her answer [here](https://stackoverflow.com/a/7229519/522444).","title":"Setting JButton size","body":"<p>The layout managers usually don't respect the size of a component, so setting size often has little effect. Instead, the layout managers usually respect the <strong>preferred</strong> sizes of components.  Having said this, it's usually better to not try to set the preferredSizes yourself via <code>setPreferredSize(Dimension d)</code> but rather to let the layout managers and the components do this for you. If you must do it yourself, consider extending the component and overriding <code>getPreferredSize()</code> and adding <em>smart</em> code that returns a decent and proper preferredSize Dimension.</p>\n\n<p>For example, please have a look at my code in my answer to a recent question <a href=\"https://stackoverflow.com/a/25945139/522444\">here</a>. In it, I change the size of the JButton's Font to make it larger, but i never set the sizes or preferredSizes of any component, but rather let the components themselves and the container's layout managers do this work for me.</p>\n\n<p>If you don't believe me, please read some of the posts and comments by <a href=\"https://stackoverflow.com/users/203657/kleopatra\">kleopatra</a>, one of the smartest and most influential Swing coders that I know of, and one of the authors of the <a href=\"https://swingx.java.net/\" rel=\"noreferrer\">SwingX toolkit</a>. For example her answer <a href=\"https://stackoverflow.com/a/7229519/522444\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2793573,"reputation":233,"user_id":2403300,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485810144,"creation_date":1411189738,"answer_id":25945472,"question_id":25945439,"body_markdown":"Try using `square1.setPreferredSize(d)` instead of `setSize(d)`.","title":"Setting JButton size","body":"<p>Try using <code>square1.setPreferredSize(d)</code> instead of <code>setSize(d)</code>.</p>\n"},{"tags":[],"owner":{"account_id":5178953,"reputation":37,"user_id":4145225,"accept_rate":100,"display_name":"Priyank"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1413735443,"creation_date":1413735443,"answer_id":26452582,"question_id":25945439,"body_markdown":"You can use setBounds() method as:\n\n    Frame f=new Frame();\n    f.setLayout(null);\n    Button b=new Button(&quot;Dummy&quot;);\n    //setBounds() methods accepts 4 \n    // integer parameters\n    /* 1. Location on x axis\n    2. Location on y axis\n    3. Width\n    4. Height */\n    b.setBounds(20,30,50,30);\n    f.add(b);\n\nThats how you set size for a button \nThere are more ways to specify size but i use this one\nHope this will help you....\n    ","title":"Setting JButton size","body":"<p>You can use setBounds() method as:</p>\n\n<pre><code>Frame f=new Frame();\nf.setLayout(null);\nButton b=new Button(\"Dummy\");\n//setBounds() methods accepts 4 \n// integer parameters\n/* 1. Location on x axis\n2. Location on y axis\n3. Width\n4. Height */\nb.setBounds(20,30,50,30);\nf.add(b);\n</code></pre>\n\n<p>Thats how you set size for a button \nThere are more ways to specify size but i use this one\nHope this will help you....</p>\n"},{"tags":[],"owner":{"account_id":18001781,"reputation":29,"user_id":15810134,"display_name":"kautom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651679442,"creation_date":1651679442,"answer_id":72115916,"question_id":25945439,"body_markdown":"The `setPreferredSize(Dimension d)` should work. Your last block of code will look like this:\r\n\r\n    square1.setPreferredSize(d);\r\n    square2.setPreferredSize(d);\r\n    square3.setPreferredSize(d);\r\n    square4.setPreferredSize(d);\r\n    square5.setPreferredSize(d);\r\n    square6.setPreferredSize(d);\r\n    square7.setPreferredSize(d);\r\n    square8.setPreferredSize(d);\r\n    square9.setPreferredSize(d);\r\n\r\nThe rest of your code is the same.","title":"Setting JButton size","body":"<p>The <code>setPreferredSize(Dimension d)</code> should work. Your last block of code will look like this:</p>\n<pre><code>square1.setPreferredSize(d);\nsquare2.setPreferredSize(d);\nsquare3.setPreferredSize(d);\nsquare4.setPreferredSize(d);\nsquare5.setPreferredSize(d);\nsquare6.setPreferredSize(d);\nsquare7.setPreferredSize(d);\nsquare8.setPreferredSize(d);\nsquare9.setPreferredSize(d);\n</code></pre>\n<p>The rest of your code is the same.</p>\n"}],"owner":{"account_id":1350380,"reputation":148,"user_id":2205736,"accept_rate":75,"display_name":"Rostro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55426,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25945451,"answer_count":4,"score":2,"last_activity_date":1651679442,"creation_date":1411189423,"question_id":25945439,"body_markdown":"I&#39;m trying to resize JButton to always be a certain size. I have 9 of these buttons. I understand from the API that it JButton inherits setSize(int a, int b) and setSize(Dimension d). I opted to use the second though I tried the other and it didn&#39;t fix my problem. Here is the code. \r\n\r\n    // setup buttons \r\n    \t\treset = new JButton(&quot;Reset&quot;);\r\n    \t\tsquare1 = new JButton();\r\n    \t\tsquare2 = new JButton();\r\n    \t\tsquare3 = new JButton();\r\n    \t\tsquare4 = new JButton();\r\n    \t\tsquare5 = new JButton();\r\n    \t\tsquare6 = new JButton();\r\n    \t\tsquare7 = new JButton();\r\n    \t\tsquare8 = new JButton();\r\n    \t\tsquare9 = new JButton();\r\n\r\n\t\t//set button size\r\n\t\tDimension d = new Dimension(100,100);\r\n\t\tsquare1.setSize(d);\r\n\t\tsquare2.setSize(d);\r\n\t\tsquare3.setSize(d);\r\n\t\tsquare4.setSize(d);\r\n\t\tsquare5.setSize(d);\r\n\t\tsquare6.setSize(d);\r\n\t\tsquare7.setSize(d);\r\n\t\tsquare8.setSize(d);\r\n\t\tsquare9.setSize(d);\r\n\r\nI&#39;ve tried several diferent dimensions and none of them make any difference. What am I missing? I&#39;m using a gridLayout(3,3,5,5) for the the JPanel that the buttons are on. The dimensions for the JFrame are (400,425). Thanks for any help!","title":"Setting JButton size","body":"<p>I'm trying to resize JButton to always be a certain size. I have 9 of these buttons. I understand from the API that it JButton inherits setSize(int a, int b) and setSize(Dimension d). I opted to use the second though I tried the other and it didn't fix my problem. Here is the code. </p>\n\n<pre><code>// setup buttons \n        reset = new JButton(\"Reset\");\n        square1 = new JButton();\n        square2 = new JButton();\n        square3 = new JButton();\n        square4 = new JButton();\n        square5 = new JButton();\n        square6 = new JButton();\n        square7 = new JButton();\n        square8 = new JButton();\n        square9 = new JButton();\n\n    //set button size\n    Dimension d = new Dimension(100,100);\n    square1.setSize(d);\n    square2.setSize(d);\n    square3.setSize(d);\n    square4.setSize(d);\n    square5.setSize(d);\n    square6.setSize(d);\n    square7.setSize(d);\n    square8.setSize(d);\n    square9.setSize(d);\n</code></pre>\n\n<p>I've tried several diferent dimensions and none of them make any difference. What am I missing? I'm using a gridLayout(3,3,5,5) for the the JPanel that the buttons are on. The dimensions for the JFrame are (400,425). Thanks for any help!</p>\n"},{"tags":["java","eclipse","proxy","p2","portable-applications"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1578900636,"post_id":59707884,"comment_id":105575621,"body_markdown":"An Eclipse update site must have one of, but not all of `compositeContent.xml`, `compositeContent.xml`, `content.jar` and `content.xml`. So searching for one of these although it does not exist is as should be (since it is not known in advance which one exists). Downloading one of these files makes no sense (it is only a part of the update site). What did you want to achieve with it? What do you exactly have (see _Help &gt; About..._)? Are you behind a proxy?","body":"An Eclipse update site must have one of, but not all of <code>compositeContent.xml</code>, <code>compositeContent.xml</code>, <code>content.jar</code> and <code>content.xml</code>. So searching for one of these although it does not exist is as should be (since it is not known in advance which one exists). Downloading one of these files makes no sense (it is only a part of the update site). What did you want to achieve with it? What do you exactly have (see <i>Help &gt; About...</i>)? Are you behind a proxy?"},{"owner":{"account_id":14565884,"reputation":21,"user_id":10520626,"display_name":"Qryoz"},"score":0,"creation_date":1578905564,"post_id":59707884,"comment_id":105577475,"body_markdown":"I know that, but since http://download.eclipse.org/mpc/mars/compositeContent.xml exists for instance, it should see it. But Eclispe pass it and tells me content.xml does not exist, which is true... I&#39;ve tryed to download the jar file to see if I could add the repository from my disk instead of looking on the web. I have Eclipse Version: 2019-09 (4.13)  Build id: I20190916-1045 . I am on the vpn of my company but since the integrated browser in Eclispe works, I don&#39;t think there is a particular proxy.","body":"I know that, but since <a href=\"http://download.eclipse.org/mpc/mars/compositeContent.xml\" rel=\"nofollow noreferrer\">download.eclipse.org/mpc/mars/compositeContent.xml</a> exists for instance, it should see it. But Eclispe pass it and tells me content.xml does not exist, which is true... I&#39;ve tryed to download the jar file to see if I could add the repository from my disk instead of looking on the web. I have Eclipse Version: 2019-09 (4.13)  Build id: I20190916-1045 . I am on the vpn of my company but since the integrated browser in Eclispe works, I don&#39;t think there is a particular proxy."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1578914499,"post_id":59707884,"comment_id":105581952,"body_markdown":"`.../mpc/mars/...` means [Eclipse Marketpace Client (MPC)](https://www.eclipse.org/mpc/) of the [Mars release](https://projects.eclipse.org/releases/mars). Instead, use the update site [`https://download.eclipse.org/releases/2019-09/`](https://download.eclipse.org/releases/2019-09/) or [`https://download.eclipse.org/releases/latest/`](https://download.eclipse.org/releases/latest/) (you are one release behind, the current release is 2019-12). Since the Java perspective is missing, which Eclipse IDE package do you have?","body":"<code>...&#47;mpc&#47;mars&#47;...</code> means <a href=\"https://www.eclipse.org/mpc/\" rel=\"nofollow noreferrer\">Eclipse Marketpace Client (MPC)</a> of the <a href=\"https://projects.eclipse.org/releases/mars\" rel=\"nofollow noreferrer\">Mars release</a>. Instead, use the update site <a href=\"https://download.eclipse.org/releases/2019-09/\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;download.eclipse.org&#47;releases&#47;2019-09&#47;</code></a> or <a href=\"https://download.eclipse.org/releases/latest/\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;download.eclipse.org&#47;releases&#47;latest&#47;</code></a> (you are one release behind, the current release is 2019-12). Since the Java perspective is missing, which Eclipse IDE package do you have?"},{"owner":{"account_id":14565884,"reputation":21,"user_id":10520626,"display_name":"Qryoz"},"score":0,"creation_date":1578915025,"post_id":59707884,"comment_id":105582210,"body_markdown":"Same error: Unknown Host: https://download.eclipse.org/releases/2019-09/content.xml\nUnknown Host: https://download.eclipse.org/releases/2019-09/content.xml\ndownload.eclipse.org\n\nWhere do I see the package I have?","body":"Same error: Unknown Host: <a href=\"https://download.eclipse.org/releases/2019-09/content.xml\" rel=\"nofollow noreferrer\">download.eclipse.org/releases/2019-09/content.xml</a> Unknown Host: <a href=\"https://download.eclipse.org/releases/2019-09/content.xml\" rel=\"nofollow noreferrer\">download.eclipse.org/releases/2019-09/content.xml</a> download.eclipse.org  Where do I see the package I have?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1578915502,"post_id":59707884,"comment_id":105582470,"body_markdown":"In the about dialog the first line says which IDE package do you have. What are your settings in _Window &gt; Preferences: General &gt; Network Connections_?","body":"In the about dialog the first line says which IDE package do you have. What are your settings in <i>Window &gt; Preferences: General &gt; Network Connections</i>?"},{"owner":{"account_id":14565884,"reputation":21,"user_id":10520626,"display_name":"Qryoz"},"score":0,"creation_date":1578918680,"post_id":59707884,"comment_id":105584117,"body_markdown":"Version: 2019-09 (4.13)\nBuild id: I20190916-1045\n\nMy network is on &quot;Direct&quot;","body":"Version: 2019-09 (4.13) Build id: I20190916-1045  My network is on &quot;Direct&quot;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1578919283,"post_id":59707884,"comment_id":105584414,"body_markdown":"Please show the about dialog. _Direct_ means not using a proxy which fails if the proxy is the only way. If _Native_ does not work, you have to configure it _Manual_.","body":"Please show the about dialog. <i>Direct</i> means not using a proxy which fails if the proxy is the only way. If <i>Native</i> does not work, you have to configure it <i>Manual</i>."},{"owner":{"account_id":14565884,"reputation":21,"user_id":10520626,"display_name":"Qryoz"},"score":0,"creation_date":1578920040,"post_id":59707884,"comment_id":105584766,"body_markdown":"I&#39;ve added the About menu. In fact, Native does not work and asks for http proxy authentification. I&#39;ve asked in my office and there is indeed a proxy but I don&#39;t think I have the ids to configure it. Portable Firefox works fine but the network options are on &quot;Use the system proxy parameters&quot;.","body":"I&#39;ve added the About menu. In fact, Native does not work and asks for http proxy authentification. I&#39;ve asked in my office and there is indeed a proxy but I don&#39;t think I have the ids to configure it. Portable Firefox works fine but the network options are on &quot;Use the system proxy parameters&quot;."},{"owner":{"account_id":14565884,"reputation":21,"user_id":10520626,"display_name":"Qryoz"},"score":1,"creation_date":1578921220,"post_id":59707884,"comment_id":105585316,"body_markdown":"Alright, it works! I&#39;ll edit my original post with details.","body":"Alright, it works! I&#39;ll edit my original post with details."}],"answers":[{"tags":[],"owner":{"account_id":14565884,"reputation":21,"user_id":10520626,"display_name":"Qryoz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1579035638,"creation_date":1578922271,"answer_id":59717655,"question_id":59707884,"body_markdown":"It works! There was indeed a proxy on my company network, with an autoconfig file. \r\n\r\nI&#39;ve putted my network options on &quot;Manual&quot; and followed the instructions there : https://stackoverflow.com/questions/3841199/is-there-any-way-of-configuring-eclipse-ide-proxy-settings-via-an-autoproxy-conf\r\n\r\n Now it works perfectly! Thanks to howlger for helping me getting in the right direction \\o/","title":"Portable Eclipse : impossible to add software","body":"<p>It works! There was indeed a proxy on my company network, with an autoconfig file. </p>\n\n<p>I've putted my network options on \"Manual\" and followed the instructions there : <a href=\"https://stackoverflow.com/questions/3841199/is-there-any-way-of-configuring-eclipse-ide-proxy-settings-via-an-autoproxy-conf\">Is there any way of configuring Eclipse IDE proxy settings via an autoproxy configuration script?</a></p>\n\n<p>Now it works perfectly! Thanks to howlger for helping me getting in the right direction \\o/</p>\n"}],"owner":{"account_id":14565884,"reputation":21,"user_id":10520626,"display_name":"Qryoz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59717655,"answer_count":1,"score":0,"last_activity_date":1651679189,"creation_date":1578861291,"question_id":59707884,"body_markdown":"I installed Eclipse on my office pc, using this procedure (64 bit): https://portableapps.com/node/53284\r\nBut when i want to create a new project, it does not propose me the usual &quot;Java project&quot; with minimal files written.\r\nI don&#39;t have the Java Perspective so I&#39;m trying to install the dev tools but when I want check a software site, eclipse keeps telling me it doesn&#39;t find it.\r\n\r\nWhat i have done so far:\r\n\r\n-Putted Active Provider on &quot;Direct&quot; in network connections\r\n\r\n-The Eclipse Internal Web Browser works just fine (including the repositories urls and able to download files)\r\n\r\n-I&#39;ve tryed with an &quot;/&quot; at the end of the urls (http://download.eclipse.org/eclipse/updates/4.13/ and http://download.eclipse.org/mpc/mars/)\r\n\r\n-I&#39;ve tryed to download http://download.eclipse.org/eclipse/updates/4.13/compositeContent.jar and opened it manually. Didn&#39;t worked.\r\n\r\n-I&#39;ve added &quot;-Djava.net.preferIPv4Stack=true&quot; after &quot;-vmargs&quot; in my eclipse.ini then restarted. Same.\r\n\r\nIt keeps searching for http://download.eclipse.org/eclipse/updates/4.13/content.xml and http://download.eclipse.org/mpc/mars/content.xml which do not exist. (Unknown Host... org.eclipse.equinox.p2.core.ProvisionException)\r\n\r\nBut I don&#39;t know how to change that into compositeContent since Eclipse starts to look for compositeContent.[xml/jar]/content.xml instead.\r\n\r\nCould you help me?\r\n\r\n[About my Eclipse][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UIPEN.png\r\n","title":"Portable Eclipse : impossible to add software","body":"<p>I installed Eclipse on my office pc, using this procedure (64 bit): <a href=\"https://portableapps.com/node/53284\" rel=\"nofollow noreferrer\">https://portableapps.com/node/53284</a>\nBut when i want to create a new project, it does not propose me the usual &quot;Java project&quot; with minimal files written.\nI don't have the Java Perspective so I'm trying to install the dev tools but when I want check a software site, eclipse keeps telling me it doesn't find it.</p>\n<p>What i have done so far:</p>\n<p>-Putted Active Provider on &quot;Direct&quot; in network connections</p>\n<p>-The Eclipse Internal Web Browser works just fine (including the repositories urls and able to download files)</p>\n<p>-I've tryed with an &quot;/&quot; at the end of the urls (<a href=\"http://download.eclipse.org/eclipse/updates/4.13/\" rel=\"nofollow noreferrer\">http://download.eclipse.org/eclipse/updates/4.13/</a> and <a href=\"http://download.eclipse.org/mpc/mars/\" rel=\"nofollow noreferrer\">http://download.eclipse.org/mpc/mars/</a>)</p>\n<p>-I've tryed to download <a href=\"http://download.eclipse.org/eclipse/updates/4.13/compositeContent.jar\" rel=\"nofollow noreferrer\">http://download.eclipse.org/eclipse/updates/4.13/compositeContent.jar</a> and opened it manually. Didn't worked.</p>\n<p>-I've added &quot;-Djava.net.preferIPv4Stack=true&quot; after &quot;-vmargs&quot; in my eclipse.ini then restarted. Same.</p>\n<p>It keeps searching for <a href=\"http://download.eclipse.org/eclipse/updates/4.13/content.xml\" rel=\"nofollow noreferrer\">http://download.eclipse.org/eclipse/updates/4.13/content.xml</a> and <a href=\"http://download.eclipse.org/mpc/mars/content.xml\" rel=\"nofollow noreferrer\">http://download.eclipse.org/mpc/mars/content.xml</a> which do not exist. (Unknown Host... org.eclipse.equinox.p2.core.ProvisionException)</p>\n<p>But I don't know how to change that into compositeContent since Eclipse starts to look for compositeContent.[xml/jar]/content.xml instead.</p>\n<p>Could you help me?</p>\n<p><a href=\"https://i.stack.imgur.com/UIPEN.png\" rel=\"nofollow noreferrer\">About my Eclipse</a></p>\n"},{"tags":["java","redis","mockito"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651679005,"creation_date":1651678398,"answer_id":72115662,"question_id":72103419,"body_markdown":"This boils down to the visibility of the `SimpleCacheKey` class, you simply can&#39;t use it from a different package. So `Mockito.any()` can&#39;t use that class as a return type unless the unit test is in the same package as `SimpleCacheClient`.\r\n\r\nOne solution would be to move your unit test to the same package as `SimpleCacheClient`. If this is loaded from a different library that you can&#39;t change, you can re-create the same package structure to trick the compiler into thinking the package is the same, giving you access to `protected` classes.\r\nBut i believe this trick doesn&#39;t work with Java 9 modules.\r\n\r\nA better solution would be to make a small modification to your `CacheClientImplementation` and unit test; encapsulate the part you can&#39;t influence and mock that part.\r\n\r\nSince you don&#39;t really care about the `SimpleCacheKey` but just the `String key`, the following should work for your intentions:\r\n```\r\npublic class CacheClientImplementation extends SimpleCacheClient&lt;ArrayList&lt;DateTime&gt;&gt; {\r\n    public void addEventDateTimes(String key, ArrayList&lt;DateTime&gt; eventDateTimes) {\r\n        // Do stuff with eventDateTimes and then\r\n        setForKey(key, eventDateTimes);\r\n    }\r\n\r\n    public ArrayList&lt;DateTime&gt; getEventDateTimes(String key) {\r\n        ArrayList&lt;DateTime&gt; eventDateTimes = getForKey(key);\r\n        // Do stuff with eventDateTimes.\r\n        return eventDateTimes;\r\n    }\r\n\r\n    protected ArrayList&lt;DateTime&gt; getForKey(String key) {\r\n        return super.get(getCacheKey(key));\r\n    }\r\n\r\n    protected void setForKey(String key, ArrayList&lt;DateTime&gt; value) {\r\n        super.set(getCacheKey(key), value);\r\n    }\r\n}\r\n```\r\n\r\nAnd in the unit test you rewrite to the `forKey` variants we just created:\r\n```\r\nMockito.doAnswer(myAnswer1()).when(cacheClient).setForKey(Mockito.any(), Mockito.any(ArrayList.class));\r\nMockito.doAnswer(myAnswer2()).when(cacheClient).getForKey(Mockito.any());\r\n```\r\n\r\nI&#39;ve made the new methods `protected` as to not confuse callers which method to use, so in this case the unit test must be in same (test) package as the `CacheClientImplementation`.","title":"How can I mock a method that has a parameter with a private constructor?","body":"<p>This boils down to the visibility of the <code>SimpleCacheKey</code> class, you simply can't use it from a different package. So <code>Mockito.any()</code> can't use that class as a return type unless the unit test is in the same package as <code>SimpleCacheClient</code>.</p>\n<p>One solution would be to move your unit test to the same package as <code>SimpleCacheClient</code>. If this is loaded from a different library that you can't change, you can re-create the same package structure to trick the compiler into thinking the package is the same, giving you access to <code>protected</code> classes.\nBut i believe this trick doesn't work with Java 9 modules.</p>\n<p>A better solution would be to make a small modification to your <code>CacheClientImplementation</code> and unit test; encapsulate the part you can't influence and mock that part.</p>\n<p>Since you don't really care about the <code>SimpleCacheKey</code> but just the <code>String key</code>, the following should work for your intentions:</p>\n<pre><code>public class CacheClientImplementation extends SimpleCacheClient&lt;ArrayList&lt;DateTime&gt;&gt; {\n    public void addEventDateTimes(String key, ArrayList&lt;DateTime&gt; eventDateTimes) {\n        // Do stuff with eventDateTimes and then\n        setForKey(key, eventDateTimes);\n    }\n\n    public ArrayList&lt;DateTime&gt; getEventDateTimes(String key) {\n        ArrayList&lt;DateTime&gt; eventDateTimes = getForKey(key);\n        // Do stuff with eventDateTimes.\n        return eventDateTimes;\n    }\n\n    protected ArrayList&lt;DateTime&gt; getForKey(String key) {\n        return super.get(getCacheKey(key));\n    }\n\n    protected void setForKey(String key, ArrayList&lt;DateTime&gt; value) {\n        super.set(getCacheKey(key), value);\n    }\n}\n</code></pre>\n<p>And in the unit test you rewrite to the <code>forKey</code> variants we just created:</p>\n<pre><code>Mockito.doAnswer(myAnswer1()).when(cacheClient).setForKey(Mockito.any(), Mockito.any(ArrayList.class));\nMockito.doAnswer(myAnswer2()).when(cacheClient).getForKey(Mockito.any());\n</code></pre>\n<p>I've made the new methods <code>protected</code> as to not confuse callers which method to use, so in this case the unit test must be in same (test) package as the <code>CacheClientImplementation</code>.</p>\n"}],"owner":{"account_id":3021635,"reputation":480,"user_id":4947979,"display_name":"Nic Estrada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72115662,"answer_count":1,"score":1,"last_activity_date":1651679005,"creation_date":1651599929,"question_id":72103419,"body_markdown":"I have an abstract cache client with an implementation that I&#39;m trying to add unit tests to, and it has a protected class implementation of the key. Like this:\r\n\r\n```java\r\npublic abstract class SimpleCacheClient&lt;V extends Serializable&gt; {\r\n    // Autowired RedissonClient and RedisKeyGenerator\r\n\r\n    public V get(SimpleCacheKey key) {\r\n        // return the cache entry from the autowired RedissonClient\r\n    }\r\n\r\n    public void set(SimpleCacheKey key, V value) {\r\n        // set the cache entry\r\n    }\r\n\r\n    public SimpleCacheKey getCacheKey(Object...keys) {\r\n        return new SimpleCacheKey(keyGenerator.generateKey(keys));\r\n    }\r\n\r\n    /**\r\n    * Simple wrapper for cache key to guarantee that implementations\r\n    * are using the key generator provided in this class\r\n    */\r\n    protected class SimpleCacheKey {\r\n        private String key;\r\n\r\n        SimpleCacheKey(String key) {\r\n            this.key = key;\r\n        }\r\n\r\n        public String getKey() {\r\n            return key;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return getKey();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s the implementation I&#39;m trying to test:\r\n\r\n```java\r\npublic class CacheClientImplementation extends SimpleCacheClient&lt;ArrayList&lt;DateTime&gt;&gt; {\r\n    public void addEventDateTimes(String key, ArrayList&lt;DateTime&gt; eventDateTimes) {\r\n        // Do stuff with eventDateTimes and then\r\n        set(getCacheKey(key), eventDateTimes);\r\n    }\r\n    \r\n    public ArrayList&lt;DateTime&gt; getEventDateTimes(String key) {\r\n        ArrayList&lt;DateTime&gt; eventDateTimes = get(getCacheKey(key));\r\n        // Do stuff with eventDateTimes.\r\n        return eventDateTimes;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to test to make sure that `CacheClientImplementation` performs certain operations on the values provided to it before setting and getting.\r\nI&#39;m trying to mock the redis cache itself by hijacking the `get()` and `set()` methods to read and write from/to a `HashMap` so that I can check the contents of the &quot;cache&quot; in my tests.\r\n\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class CacheClientImplementationTest{\r\n    @Mock\r\n    private RedissonClient redissonClient;\r\n\r\n    @Mock\r\n    private RedisKeyGenerator redisKeyGenerator;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private CacheClientImplementation cacheClient = new CacheClientImplementation();\r\n\r\n    private final HashMap&lt;String, ArrayList&lt;DateTime&gt;&gt; cacheMap = new HashMap&lt;&gt;();\r\n\r\n    @Before\r\n    public void setup() {\r\n        Mockito.doAnswer((ver) -&gt; {\r\n            cacheMap.put(ver.getArgumentAt(0, Object.class).toString(), ver.getArgumentAt(1, ArrayList.class));\r\n            return null;\r\n        }).when(cacheClient).set(Mockito.any(), Mockito.any(ArrayList.class));\r\n        Mockito.doAnswer((ver) -&gt; cacheMap.getOrDefault(ver.getArgumentAt(0, Object.class).toString(), null))\r\n            .when(cacheClient).get(Mockito.any());\r\n    }\r\n\r\n    @After\r\n    public void teardown() {\r\n        cacheMap.clear();\r\n    }\r\n}\r\n```\r\n\r\nHowever, I end up with this problem when I run a test in the file.\r\n\r\n```\r\nC:\\...\\CacheClientImplementationTest.java:20: error: SimpleCacheClient.SimpleCacheKey has protected access in SimpleCacheClient\r\n        }).when(cacheClient).set(Mockito.any(), Mockito.any(ArrayList.class));\r\n```\r\n\r\nIs there any way I can `doAnswer` for these methods without changing SimpleCacheKey?\r\n\r\nThanks!","title":"How can I mock a method that has a parameter with a private constructor?","body":"<p>I have an abstract cache client with an implementation that I'm trying to add unit tests to, and it has a protected class implementation of the key. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SimpleCacheClient&lt;V extends Serializable&gt; {\n    // Autowired RedissonClient and RedisKeyGenerator\n\n    public V get(SimpleCacheKey key) {\n        // return the cache entry from the autowired RedissonClient\n    }\n\n    public void set(SimpleCacheKey key, V value) {\n        // set the cache entry\n    }\n\n    public SimpleCacheKey getCacheKey(Object...keys) {\n        return new SimpleCacheKey(keyGenerator.generateKey(keys));\n    }\n\n    /**\n    * Simple wrapper for cache key to guarantee that implementations\n    * are using the key generator provided in this class\n    */\n    protected class SimpleCacheKey {\n        private String key;\n\n        SimpleCacheKey(String key) {\n            this.key = key;\n        }\n\n        public String getKey() {\n            return key;\n        }\n\n        @Override\n        public String toString() {\n            return getKey();\n        }\n    }\n}\n</code></pre>\n<p>And here's the implementation I'm trying to test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CacheClientImplementation extends SimpleCacheClient&lt;ArrayList&lt;DateTime&gt;&gt; {\n    public void addEventDateTimes(String key, ArrayList&lt;DateTime&gt; eventDateTimes) {\n        // Do stuff with eventDateTimes and then\n        set(getCacheKey(key), eventDateTimes);\n    }\n    \n    public ArrayList&lt;DateTime&gt; getEventDateTimes(String key) {\n        ArrayList&lt;DateTime&gt; eventDateTimes = get(getCacheKey(key));\n        // Do stuff with eventDateTimes.\n        return eventDateTimes;\n    }\n}\n</code></pre>\n<p>I'm trying to test to make sure that <code>CacheClientImplementation</code> performs certain operations on the values provided to it before setting and getting.\nI'm trying to mock the redis cache itself by hijacking the <code>get()</code> and <code>set()</code> methods to read and write from/to a <code>HashMap</code> so that I can check the contents of the &quot;cache&quot; in my tests.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class CacheClientImplementationTest{\n    @Mock\n    private RedissonClient redissonClient;\n\n    @Mock\n    private RedisKeyGenerator redisKeyGenerator;\n\n    @Spy\n    @InjectMocks\n    private CacheClientImplementation cacheClient = new CacheClientImplementation();\n\n    private final HashMap&lt;String, ArrayList&lt;DateTime&gt;&gt; cacheMap = new HashMap&lt;&gt;();\n\n    @Before\n    public void setup() {\n        Mockito.doAnswer((ver) -&gt; {\n            cacheMap.put(ver.getArgumentAt(0, Object.class).toString(), ver.getArgumentAt(1, ArrayList.class));\n            return null;\n        }).when(cacheClient).set(Mockito.any(), Mockito.any(ArrayList.class));\n        Mockito.doAnswer((ver) -&gt; cacheMap.getOrDefault(ver.getArgumentAt(0, Object.class).toString(), null))\n            .when(cacheClient).get(Mockito.any());\n    }\n\n    @After\n    public void teardown() {\n        cacheMap.clear();\n    }\n}\n</code></pre>\n<p>However, I end up with this problem when I run a test in the file.</p>\n<pre><code>C:\\...\\CacheClientImplementationTest.java:20: error: SimpleCacheClient.SimpleCacheKey has protected access in SimpleCacheClient\n        }).when(cacheClient).set(Mockito.any(), Mockito.any(ArrayList.class));\n</code></pre>\n<p>Is there any way I can <code>doAnswer</code> for these methods without changing SimpleCacheKey?</p>\n<p>Thanks!</p>\n"},{"tags":["java","soap","jaxb"],"answers":[{"tags":[],"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651678914,"creation_date":1651678914,"answer_id":72115797,"question_id":72103568,"body_markdown":"I think I somehow resolved it, but part of resolution is not requesting newest versions. I almost made it work with newest libraries, but cannot overcome few conflicts. So, using springboot starter parent 2.6.6 I had to declare only following dependecies, which I taken from springs dependency management. But the biggest villan in my story was probably jaxb2-maven-plugin, which if you don&#39;t use version which is just right to be in sync with other can seemingly bring some dependencies, which will cause mess. Following  version seems to be working along with shown dependencies, no extra dependencies are needed. When I tried to use plugin without version specified(taking it from spring parent), it didn&#39;t work for me, complaining about missing stuff.\r\n\r\nDisclaimer: I have no trust in validity of following, while it seems to be working now. I didn&#39;t find any credible source of what is valid combination nor way how to find it myself. So I just shotgun debuged it so hard, wasted so much cpu cycles that seti@home could find at least 2 aliens with it.\r\n\r\njaxb2 plugin\r\n\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.0&lt;/version&gt;\r\n\r\n\r\nDependenies:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"jaxb in jdk 11+, unable to resolve conflicts between javax.xml and jakarta.xml","body":"<p>I think I somehow resolved it, but part of resolution is not requesting newest versions. I almost made it work with newest libraries, but cannot overcome few conflicts. So, using springboot starter parent 2.6.6 I had to declare only following dependecies, which I taken from springs dependency management. But the biggest villan in my story was probably jaxb2-maven-plugin, which if you don't use version which is just right to be in sync with other can seemingly bring some dependencies, which will cause mess. Following  version seems to be working along with shown dependencies, no extra dependencies are needed. When I tried to use plugin without version specified(taking it from spring parent), it didn't work for me, complaining about missing stuff.</p>\n<p>Disclaimer: I have no trust in validity of following, while it seems to be working now. I didn't find any credible source of what is valid combination nor way how to find it myself. So I just shotgun debuged it so hard, wasted so much cpu cycles that seti@home could find at least 2 aliens with it.</p>\n<p>jaxb2 plugin</p>\n<pre><code>&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.5.0&lt;/version&gt;\n</code></pre>\n<p>Dependenies:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n  &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651678914,"creation_date":1651600732,"question_id":72103568,"body_markdown":"Moving older project away from jdk8 I need to fix jaxb. Most of answers are for older versions, while I want to fix it to current versions and I&#39;m kinda struggling with naming mess / dependency hell of javax.xml / jakarta.xml\r\n\r\nI thought I moved away from saaj-impl 1.5.1 to newer 2.0.1 for for some reason during startup there is still search for `com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl` instead of `com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl` which is on classpath.\r\n\r\nThe produced message is: \r\n\r\n    javax.xml.soap.SOAPException: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\r\n\r\nbut I cannot figure out, how to stop this from kicking in. It seems, that library `javax.xml.soap-api` looks for `javax.xml.soap.SAAJMetaFactory` implementation, but configuration file for service loader is not present, so default will kick in. It&#39;s not present, because the service-loader file present on class path is `jakarta.xml.soap.SAAJMetaFactory` and not `javax.xml.soap.SAAJMetaFactory`. I&#39;d guess that jaxws-api brings javax.xml.soap.api, which is then in conflict.\r\n\r\nMy post-jdk8 jaxb dependencies are:\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\nbut this did not change a thing. So I tried replace jaxws-api with:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut that just makes tons of other classes missing. It&#39;s really cryptic and puzzling.\r\n\r\nCan someone advise:\r\n - what is preferred nowadays? Jakarta or javax? What shall I aim for?\r\n - what is correct, winning combination of these dependencies with up-to-date versions? I don&#39;t want to see in dependencies something being 4y old.","title":"jaxb in jdk 11+, unable to resolve conflicts between javax.xml and jakarta.xml","body":"<p>Moving older project away from jdk8 I need to fix jaxb. Most of answers are for older versions, while I want to fix it to current versions and I'm kinda struggling with naming mess / dependency hell of javax.xml / jakarta.xml</p>\n<p>I thought I moved away from saaj-impl 1.5.1 to newer 2.0.1 for for some reason during startup there is still search for <code>com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl</code> instead of <code>com.sun.xml.messaging.saaj.soap.SAAJMetaFactoryImpl</code> which is on classpath.</p>\n<p>The produced message is:</p>\n<pre><code>javax.xml.soap.SOAPException: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\n</code></pre>\n<p>but I cannot figure out, how to stop this from kicking in. It seems, that library <code>javax.xml.soap-api</code> looks for <code>javax.xml.soap.SAAJMetaFactory</code> implementation, but configuration file for service loader is not present, so default will kick in. It's not present, because the service-loader file present on class path is <code>jakarta.xml.soap.SAAJMetaFactory</code> and not <code>javax.xml.soap.SAAJMetaFactory</code>. I'd guess that jaxws-api brings javax.xml.soap.api, which is then in conflict.</p>\n<p>My post-jdk8 jaxb dependencies are:</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>but this did not change a thing. So I tried replace jaxws-api with:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n  &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but that just makes tons of other classes missing. It's really cryptic and puzzling.</p>\n<p>Can someone advise:</p>\n<ul>\n<li>what is preferred nowadays? Jakarta or javax? What shall I aim for?</li>\n<li>what is correct, winning combination of these dependencies with up-to-date versions? I don't want to see in dependencies something being 4y old.</li>\n</ul>\n"},{"tags":["java","swagger","openapi","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1671459281,"post_id":72114977,"comment_id":132097339,"body_markdown":"did you find solution to this problem?","body":"did you find solution to this problem?"},{"owner":{"account_id":24516834,"reputation":56,"user_id":18430457,"display_name":"Tsimpragakis Vasilis"},"score":0,"creation_date":1671549967,"post_id":72114977,"comment_id":132120566,"body_markdown":"@jarvo69 unfortunately no...","body":"@jarvo69 unfortunately no..."}],"owner":{"account_id":24516834,"reputation":56,"user_id":18430457,"display_name":"Tsimpragakis Vasilis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651678664,"creation_date":1651675487,"question_id":72114977,"body_markdown":"I am having trouble setting up the swagger UI for a specific endpoint. I am having a form-data that has to fill up an array of Objects that may include MultipartFile. Till now I can represent as form-data only a single object of this type but when I request a List of these objects, swagger automatically converts it to application/json.\r\n\r\nFor example,\r\n\r\n    public class DocumentRequest implements Serializable {\r\n    private String documentNumber;\r\n    private Long documentType;\r\n    private MultipartFile attachedFile;\r\n    }\r\n\r\nWhen i have this on my controller all seems good\r\n\r\n    @Parameter(description = &quot;body&quot;, required = true) @Valid @ModelAttribute DocumentRequest  adapter\r\n\r\nWorks:\r\n\r\n[![works][1]][1]\r\n\r\nbut when i have a List of these items it doesn&#39;t work as expected\r\n \r\n\r\n    @Parameter(description = &quot;body&quot;, required = true) @Valid @ModelAttribute List&lt;DocumentRequest&gt; adapter\r\n\r\nDoes not work:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAny thoughts?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d8KEQ.png\r\n  [2]: https://i.stack.imgur.com/Sk5DN.png","title":"Springdoc - Swagger UI having an array of objects with Multipart in form-data","body":"<p>I am having trouble setting up the swagger UI for a specific endpoint. I am having a form-data that has to fill up an array of Objects that may include MultipartFile. Till now I can represent as form-data only a single object of this type but when I request a List of these objects, swagger automatically converts it to application/json.</p>\n<p>For example,</p>\n<pre><code>public class DocumentRequest implements Serializable {\nprivate String documentNumber;\nprivate Long documentType;\nprivate MultipartFile attachedFile;\n}\n</code></pre>\n<p>When i have this on my controller all seems good</p>\n<pre><code>@Parameter(description = &quot;body&quot;, required = true) @Valid @ModelAttribute DocumentRequest  adapter\n</code></pre>\n<p>Works:</p>\n<p><a href=\"https://i.stack.imgur.com/d8KEQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8KEQ.png\" alt=\"works\" /></a></p>\n<p>but when i have a List of these items it doesn't work as expected</p>\n<pre><code>@Parameter(description = &quot;body&quot;, required = true) @Valid @ModelAttribute List&lt;DocumentRequest&gt; adapter\n</code></pre>\n<p>Does not work:</p>\n<p><a href=\"https://i.stack.imgur.com/Sk5DN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sk5DN.png\" alt=\"enter image description here\" /></a></p>\n<p>Any thoughts?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1572971054,"post_id":58715424,"comment_id":103724289,"body_markdown":"The problem seems to want the &quot;array length input&quot; to be on the same line as the sequence of values; does your program handle that properly?","body":"The problem seems to want the &quot;array length input&quot; to be on the same line as the sequence of values; does your program handle that properly?"},{"owner":{"account_id":13949449,"reputation":757,"user_id":10073327,"display_name":"FailingCoder"},"score":0,"creation_date":1572971104,"post_id":58715424,"comment_id":103724316,"body_markdown":"Yes, I do believe that program should work. Unless Victor needs to absorb the newline character. Edit: Ah. That&#39;s what you mean.","body":"Yes, I do believe that program should work. Unless Victor needs to absorb the newline character. Edit: Ah. That&#39;s what you mean."}],"answers":[{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1572971116,"creation_date":1572971116,"answer_id":58715526,"question_id":58715424,"body_markdown":"You seem to assume there will be exactly 3 arrays to process; this is not stated in the problem description.","title":"find max of an input array","body":"<p>You seem to assume there will be exactly 3 arrays to process; this is not stated in the problem description.</p>\n"},{"tags":[],"owner":{"account_id":4068789,"reputation":572,"user_id":3342710,"accept_rate":75,"display_name":"jrsall92"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1572973271,"creation_date":1572973271,"answer_id":58716125,"question_id":58715424,"body_markdown":"First of all welcome to SO.\r\n\r\nSecondly, Scott&#39;s observation is correct, are you sure your input will always have 3 lines? This seems a bit constrictive.\r\nBellow I&#39;ve made a simple class to illustrate how you could possibly solve this problem:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            String line;\r\n            System.out.println(&quot;Insert line (empty terminates the program):&quot;);\r\n    \r\n            while(!(line = scanner.nextLine()).isBlank()){\r\n                String[] segments = line.split(&quot; &quot;, 2);\r\n    \r\n                int population = Integer.parseInt(segments[0]);\r\n                String[] sequence = segments[1].trim().split(&quot; &quot;);\r\n                if(population != sequence.length){\r\n                    System.err.println(&quot;Population declaration and sequence size do not match\\nPopulation: &quot; + population + &quot;\\nSequence: &quot;+ segments[1] + &quot;, size: &quot; + sequence[1].length());\r\n                    System.exit(0);\r\n                }\r\n    \r\n                int max = Integer.MIN_VALUE;\r\n    \r\n                for (String number : sequence) {\r\n                    max = Math.max(Integer.parseInt(number), max);\r\n                }\r\n    \r\n                System.out.println(max);\r\n                System.out.println(&quot;Insert line (empty terminates the program):&quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;Now exiting&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nIt expects input from the keyboard, splits at the first space in a line, checks if the correct number of numbers is inserted after the first number (the one denoting the population of the following sequence) and then just finds the maximum number and prints it. It will exit if you enter a blank line.\r\n\r\nI&#39;d suggest you adapt it for your input.\r\n\r\nEdit: The condition for the while loop uses Java 11&#39;s isBlank() method. So you&#39;ll need a Java version &gt;= 11 or you can adjust the condition to be compatible with the version you&#39;re using.","title":"find max of an input array","body":"<p>First of all welcome to SO.</p>\n\n<p>Secondly, Scott's observation is correct, are you sure your input will always have 3 lines? This seems a bit constrictive.\nBellow I've made a simple class to illustrate how you could possibly solve this problem:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        String line;\n        System.out.println(\"Insert line (empty terminates the program):\");\n\n        while(!(line = scanner.nextLine()).isBlank()){\n            String[] segments = line.split(\" \", 2);\n\n            int population = Integer.parseInt(segments[0]);\n            String[] sequence = segments[1].trim().split(\" \");\n            if(population != sequence.length){\n                System.err.println(\"Population declaration and sequence size do not match\\nPopulation: \" + population + \"\\nSequence: \"+ segments[1] + \", size: \" + sequence[1].length());\n                System.exit(0);\n            }\n\n            int max = Integer.MIN_VALUE;\n\n            for (String number : sequence) {\n                max = Math.max(Integer.parseInt(number), max);\n            }\n\n            System.out.println(max);\n            System.out.println(\"Insert line (empty terminates the program):\");\n        }\n\n        System.out.println(\"Now exiting\");\n    }\n\n}\n</code></pre>\n\n<p>It expects input from the keyboard, splits at the first space in a line, checks if the correct number of numbers is inserted after the first number (the one denoting the population of the following sequence) and then just finds the maximum number and prints it. It will exit if you enter a blank line.</p>\n\n<p>I'd suggest you adapt it for your input.</p>\n\n<p>Edit: The condition for the while loop uses Java 11's isBlank() method. So you'll need a Java version >= 11 or you can adjust the condition to be compatible with the version you're using.</p>\n"}],"owner":{"account_id":17030849,"reputation":23,"user_id":12321066,"display_name":"V&#237;ctor Masip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58716125,"answer_count":2,"score":0,"last_activity_date":1651678577,"creation_date":1572970729,"question_id":58715424,"body_markdown":"**EDIT :: I was assuming there would be 3 array. The problem was not asking for that.**\r\n\r\nI am trying to write a program from the platform Jutge.org that reads sequences of integer numbers and prints the maximum value of each sequence.\r\n\r\nInput consists in the input of sequences. Each sequence begins with its number of elements n &gt; 0, followed by n integer numbers.\r\nGiven the numbers and the length of the sequence [] (it will be introduced before the sequence of numbers) the input/output sample looks like this:\r\n\r\nInput\r\n\r\n    10 (array length input)  \r\n    10 30 40 50 60 30 40 15 10 20\r\n\r\n    2  (array length input) \r\n    -54 -134\r\n\r\n    4  (array length input) \r\n    1 1 1 1\r\n\r\nOutput\r\n\r\n    60\r\n    -54\r\n    1\r\n\r\nI have the exact output, but I think something is missing, because the Judge.org compiler won&#39;t accept my code as correct. \r\n\r\n```\r\nimport java.util.*;\r\npublic class problema7 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t    Scanner in = new Scanner(System.in);\r\n\t    \t    \r\n        int max1=Integer.MIN_VALUE;\r\n        int max2=Integer.MIN_VALUE;\r\n        int max3=Integer.MIN_VALUE;\r\n        \r\n        // sequence 1\r\n                \r\n        int num1 = in.nextInt();\r\n\t\tint[] seq1 = new int [num1];\r\n\r\n        for(int x = 0; x&lt;num1; x++) {\r\n            seq1[x] = in.nextInt();\r\n            if (max1 == 0 || seq1[x] &gt; max1) max1 = seq1[x];\r\n        }\r\n               \r\n        // sequence 2\r\n        \r\n        int num2 = in.nextInt();\r\n        int[] seq2 = new int [num2];\r\n        \r\n        for(int x = 0; x &lt; num2; x++) {\r\n            seq2[x] = in.nextInt();\r\n            if (max2 == 0 || seq2[x] &gt; max2) max2 = seq2[x];\r\n        }\r\n     \r\n        // sequence 3\r\n                \r\n        int num3 = in.nextInt();\r\n        int[] seq3 = new int [num3];\r\n        \r\n        for(int x = 0; x&lt;num3; x++) {\r\n            seq3[x] = in.nextInt();\r\n            if (max3 == 0 || seq3[x] &gt; max3) max3 = seq3[x];\r\n        }\r\n        \r\n        System.out.println(max1);\r\n        System.out.println(max2);\r\n        System.out.println(max3);\r\n\t}\r\n}\r\n```\r\nproblem:\r\n\r\nhttps://jutge.org/problems/P71753_en/pdf \r\n\r\n\r\n","title":"find max of an input array","body":"<p><strong>EDIT :: I was assuming there would be 3 array. The problem was not asking for that.</strong></p>\n\n<p>I am trying to write a program from the platform Jutge.org that reads sequences of integer numbers and prints the maximum value of each sequence.</p>\n\n<p>Input consists in the input of sequences. Each sequence begins with its number of elements n > 0, followed by n integer numbers.\nGiven the numbers and the length of the sequence [] (it will be introduced before the sequence of numbers) the input/output sample looks like this:</p>\n\n<p>Input</p>\n\n<pre><code>10 (array length input)  \n10 30 40 50 60 30 40 15 10 20\n\n2  (array length input) \n-54 -134\n\n4  (array length input) \n1 1 1 1\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>60\n-54\n1\n</code></pre>\n\n<p>I have the exact output, but I think something is missing, because the Judge.org compiler won't accept my code as correct. </p>\n\n<pre><code>import java.util.*;\npublic class problema7 {\n\n    public static void main(String[] args) {\n\n        Scanner in = new Scanner(System.in);\n\n        int max1=Integer.MIN_VALUE;\n        int max2=Integer.MIN_VALUE;\n        int max3=Integer.MIN_VALUE;\n\n        // sequence 1\n\n        int num1 = in.nextInt();\n        int[] seq1 = new int [num1];\n\n        for(int x = 0; x&lt;num1; x++) {\n            seq1[x] = in.nextInt();\n            if (max1 == 0 || seq1[x] &gt; max1) max1 = seq1[x];\n        }\n\n        // sequence 2\n\n        int num2 = in.nextInt();\n        int[] seq2 = new int [num2];\n\n        for(int x = 0; x &lt; num2; x++) {\n            seq2[x] = in.nextInt();\n            if (max2 == 0 || seq2[x] &gt; max2) max2 = seq2[x];\n        }\n\n        // sequence 3\n\n        int num3 = in.nextInt();\n        int[] seq3 = new int [num3];\n\n        for(int x = 0; x&lt;num3; x++) {\n            seq3[x] = in.nextInt();\n            if (max3 == 0 || seq3[x] &gt; max3) max3 = seq3[x];\n        }\n\n        System.out.println(max1);\n        System.out.println(max2);\n        System.out.println(max3);\n    }\n}\n</code></pre>\n\n<p>problem:</p>\n\n<p><a href=\"https://jutge.org/problems/P71753_en/pdf\" rel=\"nofollow noreferrer\">https://jutge.org/problems/P71753_en/pdf</a> </p>\n"},{"tags":["java","amazon-dynamodb","quarkus","graalvm-native-image","dynamodb-mapper"],"comments":[{"owner":{"account_id":3685665,"reputation":295,"user_id":3069477,"accept_rate":57,"display_name":"Hamburml"},"score":0,"creation_date":1661421666,"post_id":72115687,"comment_id":129770712,"body_markdown":"How did you use DynamoDBMapper? https://quarkiverse.github.io/quarkiverse-docs/quarkus-amazon-services/dev/amazon-dynamodb.html does not support DynamoDBMapper.","body":"How did you use DynamoDBMapper? <a href=\"https://quarkiverse.github.io/quarkiverse-docs/quarkus-amazon-services/dev/amazon-dynamodb.html\" rel=\"nofollow noreferrer\">quarkiverse.github.io/quarkiverse-docs/quarkus-amazon-servic&zwnj;&#8203;es/&hellip;</a> does not support DynamoDBMapper."}],"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651678516,"creation_date":1651678516,"question_id":72115687,"body_markdown":"I&#39;ve got a Quarkus project where DynamoDBMapper is also being used. Everything runs perfectly in dev mode.\r\n\r\nBut when running this command `mvn package -Pnative -pl my-module -DskipTests` it gives me this error \r\n\r\n    [my-module-1.0-SNAPSHOT-runner:61]      [total]: Error: Unsupported features in 2 methods\r\n    Detailed message:\r\n    Error: Detected an instance of Random/SplittableRandom class in the image heap. Instances created during image generation have cached seed values and don&#39;t behave as expected.  To see how this object got instantiated use --trace-object-instantiation=java.util.Random. The object was probably created by a class initializer and is reachable from a static field. You can request class initialization at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\r\n    Trace: Object was reached by \r\n    \treading field com.amazonaws.retry.PredefinedBackoffStrategies$EqualJitterBackoffStrategy.random of\r\n    \t\tconstant com.amazonaws.retry.PredefinedBackoffStrategies$EqualJitterBackoffStrategy@2ad70ff4 reached by \r\n    \treading field com.amazonaws.retry.PredefinedBackoffStrategies$SDKDefaultBackoffStrategy.equalJitterBackoffStrategy of\r\n    \t\tconstant com.amazonaws.retry.PredefinedBackoffStrategies$SDKDefaultBackoffStrategy@64d81db reached by \r\n    \treading field com.amazonaws.retry.RetryPolicy.backoffStrategy of\r\n    \t\tconstant com.amazonaws.retry.RetryPolicy@7ce3fed7 reached by \r\n    \tscanning method com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientConfigurationFactory.getDefaultConfig(AmazonDynamoDBClientConfigurationFactory.java:31)\r\n    Call path from entry point to com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientConfigurationFactory.getDefaultConfig(): \r\n    \tat com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientConfigurationFactory.getDefaultConfig(AmazonDynamoDBClientConfigurationFactory.java:31)\r\n    \tat com.amazonaws.ClientConfigurationFactory.getConfig(ClientConfigurationFactory.java:36)\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.resolveClientConfiguration(AwsClientBuilder.java:169)\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.access$000(AwsClientBuilder.java:54)\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder$SyncBuilderParams.&lt;init&gt;(AwsClientBuilder.java:505)\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.getSyncClientParams(AwsClientBuilder.java:441)\r\n    \tat com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46)\r\n    \tat integration.common.config.DynamoDBConfig.dynamoDBMapper(DynamoDBConfig.java:23)\r\n    \tat integration.common.config.DynamoDBConfig_ProducerMethod_dynamoDBMapper_f166ddedc44150bc6c5ef50fafe7a64b599d849a_Bean.create(Unknown Source)\r\n    \tat integration.common.config.DynamoDBConfig_ProducerMethod_dynamoDBMapper_f166ddedc44150bc6c5ef50fafe7a64b599d849a_Bean.create(Unknown Source)\r\n    \tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\n    \tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\n    \tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\n    \tat com.oracle.svm.core.jdk.SystemPropertiesSupport.initializeLazyValue(SystemPropertiesSupport.java:216)\r\n    \tat com.oracle.svm.core.jdk.SystemPropertiesSupport.getProperty(SystemPropertiesSupport.java:169)\r\n    \tat com.oracle.svm.core.jdk.Target_java_lang_System.getProperty(JavaLangSubstitutions.java:287)\r\n    \tat com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_ARRAY_System_getProperty_deeeaa72a006d330408a3b7d002c7533e108bc28(generated:0)\r\n\r\nThe dependency for DynamoDBMapper in pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.205&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThe configuration class\r\n\r\n    @ApplicationScoped\r\n    public class DynamoDBConfig {\r\n    \r\n    \t@ConfigProperty(name = &quot;DYNAMO_DB_TABLE_NAME&quot;)\r\n    \tString tableName;\r\n    \r\n    \t@Produces\r\n    \tpublic DynamoDBMapper dynamoDBMapper() {\r\n    \r\n    \t\treturn new DynamoDBMapper(\r\n    \t\t\t\tAmazonDynamoDBClientBuilder.standard().build(),\r\n    \t\t\t\ttableNameConfig()\r\n    \t\t);\r\n    \t}\r\n    \r\n    \tprivate DynamoDBMapperConfig tableNameConfig() {\r\n    \r\n    \t\treturn new DynamoDBMapperConfig.Builder()\r\n    \t\t\t\t\t   .withTableNameOverride(TableNameOverride.withTableNameReplacement(\r\n    \t\t\t\ttableName)).build();\r\n    \t}\r\n    }\r\n\r\n\r\nI&#39;ve found out that this `AmazonDynamoDBClientBuilder.standard().build()` specific line is causing this issue. \r\n\r\nI&#39;ve tried adding `com.amazonaws` to application.properties to solve this issue. Which it does locally with the previous command but fails in a aws lambda when it runs.\r\n\r\n    quarkus.native.additional-build-args=--initialize-at-run-time=org.apache.http.impl.auth.NTLMEngineImpl\\\r\n        \\\\,io.netty.util.internal.logging.Log4JLogger\\\r\n        \\\\,com.amazonaws","title":"Quarkus and DynamoDBMapper - Failing to build a native executable - Error Random/SplittableRandom","body":"<p>I've got a Quarkus project where DynamoDBMapper is also being used. Everything runs perfectly in dev mode.</p>\n<p>But when running this command <code>mvn package -Pnative -pl my-module -DskipTests</code> it gives me this error</p>\n<pre><code>[my-module-1.0-SNAPSHOT-runner:61]      [total]: Error: Unsupported features in 2 methods\nDetailed message:\nError: Detected an instance of Random/SplittableRandom class in the image heap. Instances created during image generation have cached seed values and don't behave as expected.  To see how this object got instantiated use --trace-object-instantiation=java.util.Random. The object was probably created by a class initializer and is reachable from a static field. You can request class initialization at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\nTrace: Object was reached by \n    reading field com.amazonaws.retry.PredefinedBackoffStrategies$EqualJitterBackoffStrategy.random of\n        constant com.amazonaws.retry.PredefinedBackoffStrategies$EqualJitterBackoffStrategy@2ad70ff4 reached by \n    reading field com.amazonaws.retry.PredefinedBackoffStrategies$SDKDefaultBackoffStrategy.equalJitterBackoffStrategy of\n        constant com.amazonaws.retry.PredefinedBackoffStrategies$SDKDefaultBackoffStrategy@64d81db reached by \n    reading field com.amazonaws.retry.RetryPolicy.backoffStrategy of\n        constant com.amazonaws.retry.RetryPolicy@7ce3fed7 reached by \n    scanning method com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientConfigurationFactory.getDefaultConfig(AmazonDynamoDBClientConfigurationFactory.java:31)\nCall path from entry point to com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientConfigurationFactory.getDefaultConfig(): \n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientConfigurationFactory.getDefaultConfig(AmazonDynamoDBClientConfigurationFactory.java:31)\n    at com.amazonaws.ClientConfigurationFactory.getConfig(ClientConfigurationFactory.java:36)\n    at com.amazonaws.client.builder.AwsClientBuilder.resolveClientConfiguration(AwsClientBuilder.java:169)\n    at com.amazonaws.client.builder.AwsClientBuilder.access$000(AwsClientBuilder.java:54)\n    at com.amazonaws.client.builder.AwsClientBuilder$SyncBuilderParams.&lt;init&gt;(AwsClientBuilder.java:505)\n    at com.amazonaws.client.builder.AwsClientBuilder.getSyncClientParams(AwsClientBuilder.java:441)\n    at com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46)\n    at integration.common.config.DynamoDBConfig.dynamoDBMapper(DynamoDBConfig.java:23)\n    at integration.common.config.DynamoDBConfig_ProducerMethod_dynamoDBMapper_f166ddedc44150bc6c5ef50fafe7a64b599d849a_Bean.create(Unknown Source)\n    at integration.common.config.DynamoDBConfig_ProducerMethod_dynamoDBMapper_f166ddedc44150bc6c5ef50fafe7a64b599d849a_Bean.create(Unknown Source)\n    at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\n    at com.oracle.svm.core.jdk.SystemPropertiesSupport.initializeLazyValue(SystemPropertiesSupport.java:216)\n    at com.oracle.svm.core.jdk.SystemPropertiesSupport.getProperty(SystemPropertiesSupport.java:169)\n    at com.oracle.svm.core.jdk.Target_java_lang_System.getProperty(JavaLangSubstitutions.java:287)\n    at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_ARRAY_System_getProperty_deeeaa72a006d330408a3b7d002c7533e108bc28(generated:0)\n</code></pre>\n<p>The dependency for DynamoDBMapper in pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n        &lt;version&gt;1.12.205&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The configuration class</p>\n<pre><code>@ApplicationScoped\npublic class DynamoDBConfig {\n\n    @ConfigProperty(name = &quot;DYNAMO_DB_TABLE_NAME&quot;)\n    String tableName;\n\n    @Produces\n    public DynamoDBMapper dynamoDBMapper() {\n\n        return new DynamoDBMapper(\n                AmazonDynamoDBClientBuilder.standard().build(),\n                tableNameConfig()\n        );\n    }\n\n    private DynamoDBMapperConfig tableNameConfig() {\n\n        return new DynamoDBMapperConfig.Builder()\n                       .withTableNameOverride(TableNameOverride.withTableNameReplacement(\n                tableName)).build();\n    }\n}\n</code></pre>\n<p>I've found out that this <code>AmazonDynamoDBClientBuilder.standard().build()</code> specific line is causing this issue.</p>\n<p>I've tried adding <code>com.amazonaws</code> to application.properties to solve this issue. Which it does locally with the previous command but fails in a aws lambda when it runs.</p>\n<pre><code>quarkus.native.additional-build-args=--initialize-at-run-time=org.apache.http.impl.auth.NTLMEngineImpl\\\n    \\\\,io.netty.util.internal.logging.Log4JLogger\\\n    \\\\,com.amazonaws\n</code></pre>\n"},{"tags":["java","html","json","request"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651679627,"post_id":72115644,"comment_id":127421872,"body_markdown":"Base64-encode it?","body":"Base64-encode it?"},{"owner":{"account_id":17037862,"reputation":3,"user_id":12326503,"display_name":"thai.png"},"score":0,"creation_date":1651687844,"post_id":72115644,"comment_id":127424819,"body_markdown":"I tried but then the file gets corrupted :(","body":"I tried but then the file gets corrupted :("},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651689554,"post_id":72115644,"comment_id":127425370,"body_markdown":"In that case, it&#39;s either being encoded wrongly or decoded wrongly","body":"In that case, it&#39;s either being encoded wrongly or decoded wrongly"}],"owner":{"account_id":17037862,"reputation":3,"user_id":12326503,"display_name":"thai.png"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651678306,"creation_date":1651678306,"question_id":72115644,"body_markdown":"I&#39;m sending an html request that will be used to send an email.\r\nI would like to send an exe file in the json that will be attached to the email as well.\r\nis it possible to do that?\r\n\r\n```\r\nURL url = new URL (url);\r\n\t\tHttpURLConnection con = (HttpURLConnection)url.openConnection();\r\n\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n\t\tcon.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\tcon.setDoOutput(true);\r\n\t\tString jsonInputString = &quot;{\\r\\n&quot; + \r\n\t\t\t\t&quot;    \\&quot;emailaddress\\&quot;:\\&quot;user@mail.com\\&quot;,\\r\\n&quot; + \r\n\t\t\t\t&quot;    \\&quot;emailSubject\\&quot;: \\&quot;hello\\&quot;,\\r\\n&quot; + \r\n\t\t\t\t&quot;    \\&quot;emailBody\\&quot;: \\&quot;Hello from Microsoft Flow triggered by java\\&quot;\\r\\n&quot; + \r\n\t\t\t\t&quot;}&quot;;\r\n\t\tSystem.out.println(jsonInputString);\r\n\t\ttry(OutputStream os = con.getOutputStream()) {\r\n\t\t    byte[] input = jsonInputString.getBytes(&quot;utf-8&quot;);\r\n\t\t    os.write(input, 0, input.length);\t\t\t\r\n\t\t}\r\n\t\ttry(BufferedReader br = new BufferedReader(\r\n\t\t\t\t  new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;))) {\r\n\t\t\t\t    StringBuilder response = new StringBuilder();\r\n\t\t\t\t    String responseLine = null;\r\n\t\t\t\t    while ((responseLine = br.readLine()) != null) {\r\n\t\t\t\t        response.append(responseLine.trim());\r\n\t\t\t\t    }\r\n\t\t\t\t    System.out.println(response.toString());\r\n\t\t\t\t}\r\n```\r\n\r\nthis html request serves as a trigger for a flow in power automate","title":"How to send an exe file through a json request","body":"<p>I'm sending an html request that will be used to send an email.\nI would like to send an exe file in the json that will be attached to the email as well.\nis it possible to do that?</p>\n<pre><code>URL url = new URL (url);\n        HttpURLConnection con = (HttpURLConnection)url.openConnection();\n        con.setRequestMethod(&quot;POST&quot;);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        con.setDoOutput(true);\n        String jsonInputString = &quot;{\\r\\n&quot; + \n                &quot;    \\&quot;emailaddress\\&quot;:\\&quot;user@mail.com\\&quot;,\\r\\n&quot; + \n                &quot;    \\&quot;emailSubject\\&quot;: \\&quot;hello\\&quot;,\\r\\n&quot; + \n                &quot;    \\&quot;emailBody\\&quot;: \\&quot;Hello from Microsoft Flow triggered by java\\&quot;\\r\\n&quot; + \n                &quot;}&quot;;\n        System.out.println(jsonInputString);\n        try(OutputStream os = con.getOutputStream()) {\n            byte[] input = jsonInputString.getBytes(&quot;utf-8&quot;);\n            os.write(input, 0, input.length);           \n        }\n        try(BufferedReader br = new BufferedReader(\n                  new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;))) {\n                    StringBuilder response = new StringBuilder();\n                    String responseLine = null;\n                    while ((responseLine = br.readLine()) != null) {\n                        response.append(responseLine.trim());\n                    }\n                    System.out.println(response.toString());\n                }\n</code></pre>\n<p>this html request serves as a trigger for a flow in power automate</p>\n"},{"tags":["java","mongodb","connection"],"comments":[{"owner":{"account_id":2646339,"reputation":8685,"user_id":2288944,"accept_rate":56,"display_name":"armnotstrong"},"score":0,"creation_date":1501771015,"post_id":45487272,"comment_id":77935703,"body_markdown":"what&#39;s the os you are using if you are using Linux try to diagnose if the `27017` port of mongodb has opened ie, could you connect to mongodb using command `mongo` ?","body":"what&#39;s the os you are using if you are using Linux try to diagnose if the <code>27017</code> port of mongodb has opened ie, could you connect to mongodb using command <code>mongo</code> ?"},{"owner":{"account_id":11370805,"reputation":197,"user_id":8336420,"display_name":"James Andrew"},"score":0,"creation_date":1501771293,"post_id":45487272,"comment_id":77935969,"body_markdown":"Using Windows 10.","body":"Using Windows 10."},{"owner":{"account_id":2646339,"reputation":8685,"user_id":2288944,"accept_rate":56,"display_name":"armnotstrong"},"score":0,"creation_date":1501771531,"post_id":45487272,"comment_id":77936183,"body_markdown":"Check the answer to get a way to diagnose if the port `27017` is opening with `telnet`. didn&#39;t get windows by the hand.","body":"Check the answer to get a way to diagnose if the port <code>27017</code> is opening with <code>telnet</code>. didn&#39;t get windows by the hand."}],"answers":[{"tags":[],"owner":{"account_id":2646339,"reputation":8685,"user_id":2288944,"accept_rate":56,"display_name":"armnotstrong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651678261,"creation_date":1501771303,"answer_id":45487471,"question_id":45487272,"body_markdown":"It seems that your MongoDB instance is not up correctly,\r\nyou can diagnose either by directly run the command `mongo`\r\nor you could use `nc -zv localhost 27017` if you are using a Linux distribution.\r\n\r\nIf you are using windows, you can try to run `telnet 127.0.0.1 27017` to see if the port is opening, note that `telent` command will not be enabled by default, to enable that you should go to the control panel in software and service, enable telnet client. As a developer, you should always enable that, to diagnose some network issues.\r\n\r\n \r\nFurthermore, there is an ORM driver We find very usefully and has put in production environment for years which was wrapped the default MongoDB-java-driver maintained by the official vendor it&#39;s called \r\n[morphia](https://github.com/MorphiaOrg/morphia)","title":"MongoSocketOpenException - trouble with connecting to MongoDB","body":"<p>It seems that your MongoDB instance is not up correctly,\nyou can diagnose either by directly run the command <code>mongo</code>\nor you could use <code>nc -zv localhost 27017</code> if you are using a Linux distribution.</p>\n<p>If you are using windows, you can try to run <code>telnet 127.0.0.1 27017</code> to see if the port is opening, note that <code>telent</code> command will not be enabled by default, to enable that you should go to the control panel in software and service, enable telnet client. As a developer, you should always enable that, to diagnose some network issues.</p>\n<p>Furthermore, there is an ORM driver We find very usefully and has put in production environment for years which was wrapped the default MongoDB-java-driver maintained by the official vendor it's called\n<a href=\"https://github.com/MorphiaOrg/morphia\" rel=\"nofollow noreferrer\">morphia</a></p>\n"},{"tags":[],"owner":{"account_id":9697901,"reputation":1582,"user_id":7193761,"display_name":"Meziane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577362028,"creation_date":1527582821,"answer_id":50579781,"question_id":45487272,"body_markdown":"I know that this post is 9 months but this could help others.\r\nI had the same issue: the problem is that I unfortunately had `test` as `scope` for the `de.flapdoodle.embed.mongo` dependency, just let it be default (`compile`) by commenting the `scope` solved the problem.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n       &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n    \t&lt;!-- &lt;scope&gt;test&lt;/scope&gt;  --&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`compile` is maven default scope. Dependencies with `compile` scope are needed to build, test, and run the project.\r\nDependencies with `test` scope are not needed to build and run the project, but to compile and run the unit tests.\r\nSo a dependency with `test` as scope will not be attached to the `jar/war` result of the build process and the contained classes and other resources are not available when we run the project.     \r\n[see here for more information about **maven scopes**][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/maven/maven-dependency-scopes/#compile","title":"MongoSocketOpenException - trouble with connecting to MongoDB","body":"<p>I know that this post is 9 months but this could help others.\nI had the same issue: the problem is that I unfortunately had <code>test</code> as <code>scope</code> for the <code>de.flapdoodle.embed.mongo</code> dependency, just let it be default (<code>compile</code>) by commenting the <code>scope</code> solved the problem.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n   &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n    &lt;!-- &lt;scope&gt;test&lt;/scope&gt;  --&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><code>compile</code> is maven default scope. Dependencies with <code>compile</code> scope are needed to build, test, and run the project.\nDependencies with <code>test</code> scope are not needed to build and run the project, but to compile and run the unit tests.\nSo a dependency with <code>test</code> as scope will not be attached to the <code>jar/war</code> result of the build process and the contained classes and other resources are not available when we run the project.<br>\n<a href=\"https://howtodoinjava.com/maven/maven-dependency-scopes/#compile\" rel=\"nofollow noreferrer\">see here for more information about <strong>maven scopes</strong></a></p>\n"}],"owner":{"account_id":11370805,"reputation":197,"user_id":8336420,"display_name":"James Andrew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651678261,"creation_date":1501770858,"question_id":45487272,"body_markdown":"This is my first time trying anything with MongoDB, so I would love any tips if you guys have any, but in particular, Im having trouble establishing a connection... This error happens when the jar loads.\r\n\r\nThis is my stacktrace:\r\n\r\n    [00:12:43 INFO]: Exception in monitor thread while connecting to server 127.0.0.1:27017\r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n        at com.mongodb.connection.SocketStream.open(SocketStream.java:63) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\r\n        at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\r\n        at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113) [GangWars-1.0-SNAPSHOT-shaded.jar:?]\r\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_91]\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n        at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_91]\r\n        at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[?:1.8.0_91]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:1.8.0_91]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:1.8.0_91]\r\n        at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_91]\r\n        at java.net.PlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_91]\r\n        at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:1.8.0_91]\r\n        at java.net.Socket.connect(Unknown Source) ~[?:1.8.0_91]\r\n        at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\r\n        at com.mongodb.connection.SocketStream.open(SocketStream.java:58) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\r\n        ... 3 more\r\n\r\nThis is my code (happens immediately when the jar runs):\r\n\r\n    private void loadGangs() {\r\n        MongoDB.getIDs().forEach(id -&gt; GangUtils.addGang(new Gang(id)));\r\n    }\r\n\r\nMy MongoDB class:\r\n\r\n    public final class MongoDB {\r\n\r\n    private static final String name = &quot;data&quot;;\r\n    private static final MongoClient mongoClient = new MongoClient();\r\n\r\n    public static String getName() {\r\n        return name;\r\n    }\r\n\r\n    public static MongoDatabase getDatabase() {\r\n        return mongoClient.getDatabase(name);\r\n    }\r\n\r\n    public enum CollectionEnum {\r\n        GANG, DRUGS, COPS\r\n    }\r\n\r\n    public static MongoCollection&lt;Document&gt; getCollection(CollectionEnum collection) {\r\n        return getDatabase().getCollection(collection.name().toLowerCase());\r\n    }\r\n\r\n    public static List&lt;Integer&gt; getIDs() {\r\n        List&lt;Document&gt; gangs = getCollection(CollectionEnum.GANG).find().into(new ArrayList&lt;&gt;());\r\n        List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\r\n\r\n        for (Document gang : gangs) {\r\n            Object object = gang.get(&quot;_id&quot;);\r\n\r\n            if (!(object instanceof Document)) continue;\r\n\r\n            List&lt;Document&gt; idTags = (List&lt;Document&gt;) object;\r\n\r\n            for (Document id : idTags) {\r\n                ids.add(id.getInteger(&quot;_id&quot;));\r\n            }\r\n\r\n        }\r\n\r\n        return ids;\r\n    }\r\n\r\n    public static int getNextID() {\r\n        int id = 0;\r\n        for (int i = 0; i &gt;= getIDs().size(); i++) {\r\n            if (getIDs().get(i) != i) {\r\n                id = i;\r\n                break;\r\n            }\r\n            id++;\r\n        }\r\n        return id;\r\n    }\r\n\r\n}\r\n\r\nWhat am I doing wrong? (I tried researching on here, but I couldnt find anything associated with Java to help me with MongoDB)\r\n\r\n\r\n","title":"MongoSocketOpenException - trouble with connecting to MongoDB","body":"<p>This is my first time trying anything with MongoDB, so I would love any tips if you guys have any, but in particular, Im having trouble establishing a connection... This error happens when the jar loads.</p>\n\n<p>This is my stacktrace:</p>\n\n<pre><code>[00:12:43 INFO]: Exception in monitor thread while connecting to server 127.0.0.1:27017\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.connection.SocketStream.open(SocketStream.java:63) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\n    at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\n    at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113) [GangWars-1.0-SNAPSHOT-shaded.jar:?]\n    at java.lang.Thread.run(Unknown Source) [?:1.8.0_91]\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_91]\n    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[?:1.8.0_91]\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:1.8.0_91]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:1.8.0_91]\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_91]\n    at java.net.PlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_91]\n    at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:1.8.0_91]\n    at java.net.Socket.connect(Unknown Source) ~[?:1.8.0_91]\n    at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\n    at com.mongodb.connection.SocketStream.open(SocketStream.java:58) ~[GangWars-1.0-SNAPSHOT-shaded.jar:?]\n    ... 3 more\n</code></pre>\n\n<p>This is my code (happens immediately when the jar runs):</p>\n\n<pre><code>private void loadGangs() {\n    MongoDB.getIDs().forEach(id -&gt; GangUtils.addGang(new Gang(id)));\n}\n</code></pre>\n\n<p>My MongoDB class:</p>\n\n<pre><code>public final class MongoDB {\n\nprivate static final String name = \"data\";\nprivate static final MongoClient mongoClient = new MongoClient();\n\npublic static String getName() {\n    return name;\n}\n\npublic static MongoDatabase getDatabase() {\n    return mongoClient.getDatabase(name);\n}\n\npublic enum CollectionEnum {\n    GANG, DRUGS, COPS\n}\n\npublic static MongoCollection&lt;Document&gt; getCollection(CollectionEnum collection) {\n    return getDatabase().getCollection(collection.name().toLowerCase());\n}\n\npublic static List&lt;Integer&gt; getIDs() {\n    List&lt;Document&gt; gangs = getCollection(CollectionEnum.GANG).find().into(new ArrayList&lt;&gt;());\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\n\n    for (Document gang : gangs) {\n        Object object = gang.get(\"_id\");\n\n        if (!(object instanceof Document)) continue;\n\n        List&lt;Document&gt; idTags = (List&lt;Document&gt;) object;\n\n        for (Document id : idTags) {\n            ids.add(id.getInteger(\"_id\"));\n        }\n\n    }\n\n    return ids;\n}\n\npublic static int getNextID() {\n    int id = 0;\n    for (int i = 0; i &gt;= getIDs().size(); i++) {\n        if (getIDs().get(i) != i) {\n            id = i;\n            break;\n        }\n        id++;\n    }\n    return id;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>What am I doing wrong? (I tried researching on here, but I couldnt find anything associated with Java to help me with MongoDB)</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":11556456,"reputation":247,"user_id":8467490,"display_name":"Kleo G"},"score":0,"creation_date":1519208073,"post_id":48903231,"comment_id":84811825,"body_markdown":"@Stultuske OP said the interviewer didn&#39;t want it to be handled in a try catch or finally","body":"@Stultuske OP said the interviewer didn&#39;t want it to be handled in a try catch or finally"},{"owner":{"account_id":7042054,"reputation":27638,"user_id":5394220,"display_name":"Jota.Toledo"},"score":1,"creation_date":1519208146,"post_id":48903231,"comment_id":84811876,"body_markdown":"Possible duplicate of [Java Exceptions - Handling exceptions without try catch](https://stackoverflow.com/questions/6243887/java-exceptions-handling-exceptions-without-try-catch)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6243887/java-exceptions-handling-exceptions-without-try-catch\">Java Exceptions - Handling exceptions without try catch</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1519208160,"post_id":48903231,"comment_id":84811887,"body_markdown":"You&#39;re welcome to write code after the end of a catch block.","body":"You&#39;re welcome to write code after the end of a catch block."},{"owner":{"account_id":1691733,"reputation":3139,"user_id":1553934,"accept_rate":100,"display_name":"esin88"},"score":1,"creation_date":1519208165,"post_id":48903231,"comment_id":84811895,"body_markdown":"You can just execute your `b()` method after `try-catch` block. But it depends on requirements. If in your `catch` you can also get an exception AND `b()` should be executed anyway, then `finally` block is the only option.  P.S. on interviews it&#39;s often very useful to ask about special requirements, because you can never have one perfectly suitable solution / answer for a non specific problem / question.","body":"You can just execute your <code>b()</code> method after <code>try-catch</code> block. But it depends on requirements. If in your <code>catch</code> you can also get an exception AND <code>b()</code> should be executed anyway, then <code>finally</code> block is the only option.  P.S. on interviews it&#39;s often very useful to ask about special requirements, because you can never have one perfectly suitable solution / answer for a non specific problem / question."},{"owner":{"account_id":1677215,"reputation":855,"user_id":1542453,"accept_rate":69,"display_name":"YLG"},"score":0,"creation_date":1519208431,"post_id":48903231,"comment_id":84812106,"body_markdown":"I tried to explain above both approach we can write the method call in catch block or we can write a method call in finally. But they told they do not want it.","body":"I tried to explain above both approach we can write the method call in catch block or we can write a method call in finally. But they told they do not want it."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1519208563,"post_id":48903231,"comment_id":84812214,"body_markdown":"@KleoG missed that. but then, if the Interviewer wants the code like that, and catch/handle Exceptions without catching/handling them ...","body":"@KleoG missed that. but then, if the Interviewer wants the code like that, and catch/handle Exceptions without catching/handling them ..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1519208603,"post_id":48903231,"comment_id":84812246,"body_markdown":"@Jota.Toledo that doesn&#39;t solve this, or b() would have to be called from within that Handler (meaning it would not be called if a didn&#39;t throw an exception)","body":"@Jota.Toledo that doesn&#39;t solve this, or b() would have to be called from within that Handler (meaning it would not be called if a didn&#39;t throw an exception)"},{"owner":{"account_id":11556456,"reputation":247,"user_id":8467490,"display_name":"Kleo G"},"score":0,"creation_date":1519208841,"post_id":48903231,"comment_id":84812434,"body_markdown":"@Stultuske I agree with that, you&#39;re right - interviewer paradox","body":"@Stultuske I agree with that, you&#39;re right - interviewer paradox"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1519208914,"post_id":48903231,"comment_id":84812487,"body_markdown":"If b is only supposed to run when a throws an Exception, Jota&#39;s suggestion would indeed work, but let&#39;s just hope you don&#39;t have to pass additional parameters to b :)","body":"If b is only supposed to run when a throws an Exception, Jota&#39;s suggestion would indeed work, but let&#39;s just hope you don&#39;t have to pass additional parameters to b :)"},{"owner":{"account_id":11847279,"reputation":3,"user_id":8669515,"accept_rate":100,"display_name":"Manali"},"score":0,"creation_date":1519212770,"post_id":48903231,"comment_id":84815181,"body_markdown":"i think you should check this link..\nhttps://stackoverflow.com/questions/6243887/java-exceptions-handling-exceptions-without-try-catch","body":"i think you should check this link.. <a href=\"https://stackoverflow.com/questions/6243887/java-exceptions-handling-exceptions-without-try-catch\" title=\"java exceptions handling exceptions without try catch\">stackoverflow.com/questions/6243887/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6578365,"reputation":79,"user_id":5083462,"display_name":"loljeene"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519208419,"creation_date":1519208419,"answer_id":48903401,"question_id":48903231,"body_markdown":"You need  to execute method in where or finally clause\r\n\r\n    try {\r\n      a(); // getting exception here...\r\n    } catch(Exception e) {\r\n      b(); // This method should executed after handling exception\r\n    }\r\n\r\n","title":"Execute the remaining code after handling exception in java?","body":"<p>You need  to execute method in where or finally clause</p>\n\n<pre><code>try {\n  a(); // getting exception here...\n} catch(Exception e) {\n  b(); // This method should executed after handling exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1519210996,"creation_date":1519208529,"answer_id":48903430,"question_id":48903231,"body_markdown":"If you want to execute b(); only if the exception is thrown, you should call it on the catch(){} block. If you want to execute it anyway you can put it either on finally {} or after everything **(see edit)**.\r\n\r\n - If b(); is very retalated to the exception or you want to use variables initialized inside the try{} block, you should write it on finally{} such like this:\r\n\r\n        try{\r\n              a();\r\n             } catch (Exception e){\r\n              e.printStackTrace();\r\n              //what to do if exception was thrown\r\n             } finnaly {\r\n              b();\r\n             }\r\n             //you can also call b(); here instead of inside finnaly\r\n\r\n    \r\n - If b(); is used to handle the exception then:\r\n\r\n        try{\r\n         a();\r\n        } catch (Exception e){\r\n         e.printStackTrace();\r\n         b();\r\n        }\r\n\r\n\r\nYou can also make the method to throw A&#39;s exception and handle it in the method which is calling a(); But if you are in the main, you should&#39;nt do that.\r\n\r\n**EDIT:** As requested, an exemple of the correct answer that wich the interviewer was asking for:\r\n\r\n        try{\r\n          a();\r\n        } catch (Exception e){\r\n          e.printStackTrace(); //optional\r\n        }\r\n\r\n        b();","title":"Execute the remaining code after handling exception in java?","body":"<p>If you want to execute b(); only if the exception is thrown, you should call it on the catch(){} block. If you want to execute it anyway you can put it either on finally {} or after everything <strong>(see edit)</strong>.</p>\n\n<ul>\n<li><p>If b(); is very retalated to the exception or you want to use variables initialized inside the try{} block, you should write it on finally{} such like this:</p>\n\n<pre><code>try{\n      a();\n     } catch (Exception e){\n      e.printStackTrace();\n      //what to do if exception was thrown\n     } finnaly {\n      b();\n     }\n     //you can also call b(); here instead of inside finnaly\n</code></pre></li>\n<li><p>If b(); is used to handle the exception then:</p>\n\n<pre><code>try{\n a();\n} catch (Exception e){\n e.printStackTrace();\n b();\n}\n</code></pre></li>\n</ul>\n\n<p>You can also make the method to throw A's exception and handle it in the method which is calling a(); But if you are in the main, you should'nt do that.</p>\n\n<p><strong>EDIT:</strong> As requested, an exemple of the correct answer that wich the interviewer was asking for:</p>\n\n<pre><code>    try{\n      a();\n    } catch (Exception e){\n      e.printStackTrace(); //optional\n    }\n\n    b();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1819966,"reputation":1014,"user_id":1654233,"display_name":"yegodm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519212937,"creation_date":1519212937,"answer_id":48904886,"question_id":48903231,"body_markdown":"To me probably the only concise way to do that without `try-catch-finally` is by using `CompetableFuture` features and dispatch execution of the functions each as a separate task. \r\nLike this:\r\n\r\n    @Test\r\n    public void tryCatchFinallyWithCompletableFuture() throws Exception\r\n    {\r\n        CompletableFuture\r\n            .runAsync(\r\n                () -&gt; a()\r\n            )\r\n            .exceptionally(\r\n                (e) -&gt; { System.out.print(e.getMessage()); return null; }\r\n            )\r\n            .thenRun(\r\n                () -&gt; b()\r\n            )\r\n            .get();\r\n    }\r\n\r\n    static void a() {\r\n        throw new IllegalStateException(&quot;a()&quot;);\r\n    }\r\n\r\n    static void b() {\r\n        System.out.println(&quot;...but we continue after a()&quot;);\r\n    }\r\n\r\nHowever, I would seriously consider using this approach anywhere but in a playground project. Besides, you must remember that `a()` and `b()` are executed in a multi-threaded context which may require synchronization for the shared state if any is present.","title":"Execute the remaining code after handling exception in java?","body":"<p>To me probably the only concise way to do that without <code>try-catch-finally</code> is by using <code>CompetableFuture</code> features and dispatch execution of the functions each as a separate task. \nLike this:</p>\n\n<pre><code>@Test\npublic void tryCatchFinallyWithCompletableFuture() throws Exception\n{\n    CompletableFuture\n        .runAsync(\n            () -&gt; a()\n        )\n        .exceptionally(\n            (e) -&gt; { System.out.print(e.getMessage()); return null; }\n        )\n        .thenRun(\n            () -&gt; b()\n        )\n        .get();\n}\n\nstatic void a() {\n    throw new IllegalStateException(\"a()\");\n}\n\nstatic void b() {\n    System.out.println(\"...but we continue after a()\");\n}\n</code></pre>\n\n<p>However, I would seriously consider using this approach anywhere but in a playground project. Besides, you must remember that <code>a()</code> and <code>b()</code> are executed in a multi-threaded context which may require synchronization for the shared state if any is present.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1651678215,"creation_date":1519213571,"answer_id":48905101,"question_id":48903231,"body_markdown":"If you caught your exception and handled it you can just run your `b()` method after try-catch block:\r\n\r\n    try {\r\n      a();\r\n    } catch(Exception e) {\r\n      handleMyError(e);\r\n    }\r\n    b();\r\n\r\nThis way the `a()` method executes, if exception is thrown it is caught and handled in the method `handleMyError(Exception e)` and then the execution continues `to b()` regardless whether the exception was thrown or not.","title":"Execute the remaining code after handling exception in java?","body":"<p>If you caught your exception and handled it you can just run your <code>b()</code> method after try-catch block:</p>\n<pre><code>try {\n  a();\n} catch(Exception e) {\n  handleMyError(e);\n}\nb();\n</code></pre>\n<p>This way the <code>a()</code> method executes, if exception is thrown it is caught and handled in the method <code>handleMyError(Exception e)</code> and then the execution continues <code>to b()</code> regardless whether the exception was thrown or not.</p>\n"}],"owner":{"account_id":1677215,"reputation":855,"user_id":1542453,"accept_rate":69,"display_name":"YLG"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6205,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1519241991,"accepted_answer_id":48905101,"answer_count":4,"score":3,"last_activity_date":1651678215,"creation_date":1519207932,"question_id":48903231,"body_markdown":"I may be silly. But I got interviewed and I was asked question regarding how you will run the remaining code after you will get the exception.\r\n\r\nI gave number of approaches :\r\n\r\n&gt;1. We can write the code in finally.\r\n&gt;2. We can write the code in catch block. (They do not want to handle with these 2 approaches.)\r\n&gt;3. We can use throw keyword. But I tried practically, It&#39;s not working.\r\n\r\nI tried to explain them with throw statement too.\r\n\r\nI have referred so many posts. But My doubt is still not cleared.\r\n\r\nAs example,\r\n\r\n      public static void main(String[] args)\r\n      {\r\n          a(); // getting exception here...\r\n          b(); // This method should executed after handling exception\r\n      } \r\n\r\nIt will be helpful if you can suggest any approach on this. So I can understand it.","title":"Execute the remaining code after handling exception in java?","body":"<p>I may be silly. But I got interviewed and I was asked question regarding how you will run the remaining code after you will get the exception.</p>\n\n<p>I gave number of approaches :</p>\n\n<blockquote>\n  <ol>\n  <li>We can write the code in finally.</li>\n  <li>We can write the code in catch block. (They do not want to handle with these 2 approaches.)</li>\n  <li>We can use throw keyword. But I tried practically, It's not working.</li>\n  </ol>\n</blockquote>\n\n<p>I tried to explain them with throw statement too.</p>\n\n<p>I have referred so many posts. But My doubt is still not cleared.</p>\n\n<p>As example,</p>\n\n<pre><code>  public static void main(String[] args)\n  {\n      a(); // getting exception here...\n      b(); // This method should executed after handling exception\n  } \n</code></pre>\n\n<p>It will be helpful if you can suggest any approach on this. So I can understand it.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-storage","google-cloud-run"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1651618590,"post_id":72098881,"comment_id":127405515,"body_markdown":"The two methods in your question apply to Cloud Storage and not to Cloud Run. If your goal is to actually upload data to Cloud Storage, create a signed URL and pass that to the client and code the client to talk (upload data) to Cloud Storage using the signed URL. Review the links in @shaffeeullah&#39;s post.","body":"The two methods in your question apply to Cloud Storage and not to Cloud Run. If your goal is to actually upload data to Cloud Storage, create a signed URL and pass that to the client and code the client to talk (upload data) to Cloud Storage using the signed URL. Review the links in @shaffeeullah&#39;s post."}],"answers":[{"tags":[],"owner":{"account_id":21879907,"reputation":121,"user_id":16168381,"display_name":"shaffeeullah"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651587898,"creation_date":1651587898,"answer_id":72100904,"question_id":72098881,"body_markdown":"By sending your requests directly to Cloud Storage instead of having them routed through Cloud Run, you&#39;ll be able to bypass this limit. The two main ways to do this are [signed URLs][1] or [signed post policy URLs][2]. There&#39;s also a blog post that talks a little more about them [here][3].\r\n\r\n\r\n  [1]: https://cloud.google.com/storage/docs/access-control/signed-urls\r\n  [2]: https://cloud.google.com/storage/docs/xml-api/post-object-forms#java\r\n  [3]: https://medium.com/google-cloud/bypass-the-cloud-run-32mb-limit-with-cloud-storage-65c24156189","title":"How to upload files &gt;32mb via Google Cloud Run","body":"<p>By sending your requests directly to Cloud Storage instead of having them routed through Cloud Run, you'll be able to bypass this limit. The two main ways to do this are <a href=\"https://cloud.google.com/storage/docs/access-control/signed-urls\" rel=\"nofollow noreferrer\">signed URLs</a> or <a href=\"https://cloud.google.com/storage/docs/xml-api/post-object-forms#java\" rel=\"nofollow noreferrer\">signed post policy URLs</a>. There's also a blog post that talks a little more about them <a href=\"https://medium.com/google-cloud/bypass-the-cloud-run-32mb-limit-with-cloud-storage-65c24156189\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72100904,"answer_count":1,"score":0,"last_activity_date":1651678207,"creation_date":1651578315,"question_id":72098881,"body_markdown":"I implemented a Cloud Run process in Java with Spring Boot which consumes file uploads via HTTP. The uploaded files are sometimes over 32 MB in size. I know that 32mb is the fixed single-request limit under Cloud Run. The [documentation][1] of Cloud Run mentions two approaches to support the upload of larger files. \r\n\r\n - Resumable upload and\r\n - XML API multipart upload\r\n\r\nI have no idea how to implement one of these approaches in Spring Boot. To me, it seems like the Google Storage API doesn&#39;t provide methods for this. Am I missing something?\r\n\r\n  [1]: https://cloud.google.com/storage/docs/uploads-downloads","title":"How to upload files &gt;32mb via Google Cloud Run","body":"<p>I implemented a Cloud Run process in Java with Spring Boot which consumes file uploads via HTTP. The uploaded files are sometimes over 32 MB in size. I know that 32mb is the fixed single-request limit under Cloud Run. The <a href=\"https://cloud.google.com/storage/docs/uploads-downloads\" rel=\"nofollow noreferrer\">documentation</a> of Cloud Run mentions two approaches to support the upload of larger files.</p>\n<ul>\n<li>Resumable upload and</li>\n<li>XML API multipart upload</li>\n</ul>\n<p>I have no idea how to implement one of these approaches in Spring Boot. To me, it seems like the Google Storage API doesn't provide methods for this. Am I missing something?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1407739359,"post_id":25237132,"comment_id":39314980,"body_markdown":"I guess the downvoter (who was not me) wanted to express that your question shows some lack in effort. What have you tried / researched so far? Why weren&#39;t the results of your research satisfying to you?","body":"I guess the downvoter (who was not me) wanted to express that your question shows some lack in effort. What have you tried / researched so far? Why weren&#39;t the results of your research satisfying to you?"}],"answers":[{"tags":[],"owner":{"account_id":1155134,"reputation":13311,"user_id":1135954,"accept_rate":68,"display_name":"mtk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407739513,"creation_date":1407739513,"answer_id":25237222,"question_id":25237132,"body_markdown":"Not sure if you can make a .exe of your sprid web-application. I suggest you create a small awt/swing wrapper and use the web-view to display the web-application in the simple broswer. You can then package it as jar and run. \r\n\r\nNot tried anytime but should help.","title":"How to Convert Java Web-application into Desktop (.exe) application","body":"<p>Not sure if you can make a .exe of your sprid web-application. I suggest you create a small awt/swing wrapper and use the web-view to display the web-application in the simple broswer. You can then package it as jar and run. </p>\n\n<p>Not tried anytime but should help.</p>\n"},{"tags":[],"owner":{"account_id":23157215,"reputation":23,"user_id":17258311,"display_name":"Newbie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651678202,"creation_date":1651678202,"answer_id":72115629,"question_id":25237132,"body_markdown":"If I am know right, that you want to convert your web into desktop app (.exe)\r\nI have created the project that can convert web to exe via python\r\nhttps://github.com/HoangQuanGITHUB/web2exe\r\nHope this useful!","title":"How to Convert Java Web-application into Desktop (.exe) application","body":"<p>If I am know right, that you want to convert your web into desktop app (.exe)\nI have created the project that can convert web to exe via python\n<a href=\"https://github.com/HoangQuanGITHUB/web2exe\" rel=\"nofollow noreferrer\">https://github.com/HoangQuanGITHUB/web2exe</a>\nHope this useful!</p>\n"}],"owner":{"account_id":3048393,"reputation":599,"user_id":2583506,"accept_rate":33,"display_name":"Ankit Tater"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1651678202,"creation_date":1407739093,"question_id":25237132,"body_markdown":"I have developed a web-application based on spring hibernate jsp, is it possiable that i can convert this web-application  into desktop application or .exe file or is there any other way of converting .war file to .exe file","title":"How to Convert Java Web-application into Desktop (.exe) application","body":"<p>I have developed a web-application based on spring hibernate jsp, is it possiable that i can convert this web-application  into desktop application or .exe file or is there any other way of converting .war file to .exe file</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1651426835,"post_id":72078714,"comment_id":127357741,"body_markdown":"You can&#39;t. But you could create a [marker interface](https://www.baeldung.com/java-marker-interfaces), which has the annotation, then have all allowed classes implant that interface, then change your method to accept the interface.","body":"You can&#39;t. But you could create a <a href=\"https://www.baeldung.com/java-marker-interfaces\" rel=\"nofollow noreferrer\">marker interface</a>, which has the annotation, then have all allowed classes implant that interface, then change your method to accept the interface."},{"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"score":0,"creation_date":1651427243,"post_id":72078714,"comment_id":127357819,"body_markdown":"@Bohemian that is cumbersome)) I guessed to use interface, but also thought there is more elegant syntax construction using annotations. Saaaad))","body":"@Bohemian that is cumbersome)) I guessed to use interface, but also thought there is more elegant syntax construction using annotations. Saaaad))"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1651428095,"post_id":72078714,"comment_id":127358009,"body_markdown":"There is another way that is more elegant to use but more complicated under the hood: Use aspect programming to intercept the call then use reflection to inspect the annotations declared on the class of the parameter and throw an exception if the parameter doesn&#39;t have the correct annotation. See [AspectJ](https://www.baeldung.com/aspectj)","body":"There is another way that is more elegant to use but more complicated under the hood: Use aspect programming to intercept the call then use reflection to inspect the annotations declared on the class of the parameter and throw an exception if the parameter doesn&#39;t have the correct annotation. See <a href=\"https://www.baeldung.com/aspectj\" rel=\"nofollow noreferrer\">AspectJ</a>"}],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651678111,"creation_date":1651678111,"answer_id":72115601,"question_id":72078714,"body_markdown":"You can accomplish this by using an annotation processor.\r\nAn example of such a tool is the [Checker Framework](https://checkerframework.org/).\r\nIt enables you to write type annotations in your program, then it type-checks the type annotations at compile time.  It issues a warning if the type annotations in your program are not consistent with one another.\r\n\r\nThe easiest way for you to implement the checking would be to use the [Subtyping Checker](https://checkerframework.org/manual/#subtyping-checker).\r\n\r\nHere is an [example](https://checkerframework.org/manual/#subtyping-example) from its manual:\r\n\r\n```java\r\nimport myPackage.qual.Encrypted;\r\n\r\n...\r\n\r\npublic @Encrypted String encrypt(String text) {\r\n    // ...\r\n}\r\n\r\n// Only send encrypted data!\r\npublic void sendOverInternet(@Encrypted String msg) {\r\n    // ...\r\n}\r\n\r\nvoid sendText() {\r\n    // ...\r\n    @Encrypted String ciphertext = encrypt(plaintext);\r\n    sendOverInternet(ciphertext);\r\n    // ...\r\n}\r\n\r\nvoid sendPassword() {\r\n    String password = getUserPassword();\r\n    sendOverInternet(password);\r\n}\r\n```\r\n\r\nWhen you invoke `javac` using a couple extra command-line arguments, `javac` issues an error for the second invocation of `sendOverInternet` but not the first one:\r\n\r\n```\r\nYourProgram.java:42: incompatible types.\r\nfound   : @PossiblyUnencrypted java.lang.String\r\nrequired: @Encrypted java.lang.String\r\n    sendOverInternet(password);\r\n                     ^\r\n```\r\n","title":"Make method accept only parameter with particular annotation","body":"<p>You can accomplish this by using an annotation processor.\nAn example of such a tool is the <a href=\"https://checkerframework.org/\" rel=\"nofollow noreferrer\">Checker Framework</a>.\nIt enables you to write type annotations in your program, then it type-checks the type annotations at compile time.  It issues a warning if the type annotations in your program are not consistent with one another.</p>\n<p>The easiest way for you to implement the checking would be to use the <a href=\"https://checkerframework.org/manual/#subtyping-checker\" rel=\"nofollow noreferrer\">Subtyping Checker</a>.</p>\n<p>Here is an <a href=\"https://checkerframework.org/manual/#subtyping-example\" rel=\"nofollow noreferrer\">example</a> from its manual:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import myPackage.qual.Encrypted;\n\n...\n\npublic @Encrypted String encrypt(String text) {\n    // ...\n}\n\n// Only send encrypted data!\npublic void sendOverInternet(@Encrypted String msg) {\n    // ...\n}\n\nvoid sendText() {\n    // ...\n    @Encrypted String ciphertext = encrypt(plaintext);\n    sendOverInternet(ciphertext);\n    // ...\n}\n\nvoid sendPassword() {\n    String password = getUserPassword();\n    sendOverInternet(password);\n}\n</code></pre>\n<p>When you invoke <code>javac</code> using a couple extra command-line arguments, <code>javac</code> issues an error for the second invocation of <code>sendOverInternet</code> but not the first one:</p>\n<pre><code>YourProgram.java:42: incompatible types.\nfound   : @PossiblyUnencrypted java.lang.String\nrequired: @Encrypted java.lang.String\n    sendOverInternet(password);\n                     ^\n</code></pre>\n"}],"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72115601,"answer_count":1,"score":0,"last_activity_date":1651678111,"creation_date":1651423835,"question_id":72078714,"body_markdown":"I have a method\r\n\r\n    public static void injectConfiguration(@Configurable Object bean) {}\r\n\r\nAnd I have a class which holds field\r\n\r\n    public class LauncherComponentsHolder {\r\n    @Configurable\r\n    public RoomDao roomDao;\r\n\r\nAnd I have main class, where I call that method and pass him that:\r\n\r\n    LauncherComponentsHolder root = new LauncherComponentsHolder();\r\n    root.roomDao = new RoomDaoImpl();\r\n    root.guestDao = new GuestDaoImpl();\r\n    root.maintenanceDao = new MaintenanceDaoImpl();\r\n    ConfigInjector.injectConfiguration(root.roomDao);\r\n    ConfigInjector.injectConfiguration(root.guestDao);\r\n    ConfigInjector.injectConfiguration(root.maintenanceDao);\r\n\r\n**Problem is that the method accepts all the 3 parameters**, (no warnings, errors, nothing) however only roomDao is annotated. Annotation itself:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.PARAMETER, ElementType.FIELD})\r\n    public @interface Configurable {\r\n\r\n    }\r\n\r\nHow to make the restriction, so that `injectConfiguration(@Configurable Object bean)` would accept only field (or class instance) annotated with `Configurable` ?","title":"Make method accept only parameter with particular annotation","body":"<p>I have a method</p>\n<pre><code>public static void injectConfiguration(@Configurable Object bean) {}\n</code></pre>\n<p>And I have a class which holds field</p>\n<pre><code>public class LauncherComponentsHolder {\n@Configurable\npublic RoomDao roomDao;\n</code></pre>\n<p>And I have main class, where I call that method and pass him that:</p>\n<pre><code>LauncherComponentsHolder root = new LauncherComponentsHolder();\nroot.roomDao = new RoomDaoImpl();\nroot.guestDao = new GuestDaoImpl();\nroot.maintenanceDao = new MaintenanceDaoImpl();\nConfigInjector.injectConfiguration(root.roomDao);\nConfigInjector.injectConfiguration(root.guestDao);\nConfigInjector.injectConfiguration(root.maintenanceDao);\n</code></pre>\n<p><strong>Problem is that the method accepts all the 3 parameters</strong>, (no warnings, errors, nothing) however only roomDao is annotated. Annotation itself:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER, ElementType.FIELD})\npublic @interface Configurable {\n\n}\n</code></pre>\n<p>How to make the restriction, so that <code>injectConfiguration(@Configurable Object bean)</code> would accept only field (or class instance) annotated with <code>Configurable</code> ?</p>\n"},{"tags":["java","wildfly","wildfly-15"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651654567,"creation_date":1651654567,"answer_id":72110289,"question_id":72109885,"body_markdown":"There is an operation &#39;read-config-as-xml&#39;  that should provide the XML of your servers.","title":"Wildfly domain to standalone","body":"<p>There is an operation 'read-config-as-xml'  that should provide the XML of your servers.</p>\n"}],"owner":{"account_id":24870675,"reputation":11,"user_id":18745213,"display_name":"johnb03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651678108,"creation_date":1651652596,"question_id":72109885,"body_markdown":"We have a Wildfly domain environment with 1 Wildfly master server and 2 Wildfly slave servers, each slave with 2 application instances.\r\nWe want now to transform the domain into a standalone environment so we will remain with 2 Wildfly standalone servers and we will decommission the Wildfly master server.\r\n\r\nWhat will be the best way to approach this task?\r\nShould we install Wildfly from scratch on the old Slaves and configure the standalone XML files or should we use the current installation?\r\n\r\nIs there a way to convert/migrate all the parameters set now at the domain level to the standalone files or this is a manual task?\r\n\r\nAlso, can we run the 2 application instances on each standalone server?\r\n\r\nAre the server-groups used in the standalone environment?\r\n","title":"Wildfly domain to standalone","body":"<p>We have a Wildfly domain environment with 1 Wildfly master server and 2 Wildfly slave servers, each slave with 2 application instances.\nWe want now to transform the domain into a standalone environment so we will remain with 2 Wildfly standalone servers and we will decommission the Wildfly master server.</p>\n<p>What will be the best way to approach this task?\nShould we install Wildfly from scratch on the old Slaves and configure the standalone XML files or should we use the current installation?</p>\n<p>Is there a way to convert/migrate all the parameters set now at the domain level to the standalone files or this is a manual task?</p>\n<p>Also, can we run the 2 application instances on each standalone server?</p>\n<p>Are the server-groups used in the standalone environment?</p>\n"},{"tags":["java","spring","spring-boot","ubuntu","jar"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1651645938,"post_id":72108732,"comment_id":127409551,"body_markdown":"Have you checked the logs, why it ends itself? Are there any errors?","body":"Have you checked the logs, why it ends itself? Are there any errors?"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651646265,"creation_date":1651645842,"answer_id":72108778,"question_id":72108732,"body_markdown":"Create a user for your service\r\n```\r\n$ sudo useradd thangtran\r\n$ sudo passwd thangtran\r\n$ sudo chown thangtran:thangtran backend.jar\r\n$ sudo chmod 500 backend.jar\r\n```\r\n\r\nSolution 1: Use systemd (recommended). In directory `/etc/systemd/system` , create file `backend.service` has content\r\n\r\n```\r\n[Unit]\r\nDescription=A Spring Boot application\r\nAfter=syslog.target\r\n\r\n[Service]\r\nUser=thangtran\r\nExecStart=/path/to/backend.jar SuccessExitStatus=143 \r\n\r\n[Install] \r\nWantedBy=multi-user.target\r\n```\r\n\r\nSee more at https://viblo.asia/p/su-dung-systemd-de-chinh-sua-service-linux-m68Z0PJNZkG\r\n\r\nSolution 2: System V init\r\n```\r\nsudo ln -s /path/to/backend.jar /etc/init.d/your-app\r\n$ sudo service your-app start\r\n```\r\n\r\nLog at `/var/log/backend.log`\r\nApplication&#39;s process id tracked at `/var/run/backend/backend.pid`\r\n","title":"Why does Spring Boot backend JAR file run only for a short while on Ubuntu? How to make it run as a service?","body":"<p>Create a user for your service</p>\n<pre><code>$ sudo useradd thangtran\n$ sudo passwd thangtran\n$ sudo chown thangtran:thangtran backend.jar\n$ sudo chmod 500 backend.jar\n</code></pre>\n<p>Solution 1: Use systemd (recommended). In directory <code>/etc/systemd/system</code> , create file <code>backend.service</code> has content</p>\n<pre><code>[Unit]\nDescription=A Spring Boot application\nAfter=syslog.target\n\n[Service]\nUser=thangtran\nExecStart=/path/to/backend.jar SuccessExitStatus=143 \n\n[Install] \nWantedBy=multi-user.target\n</code></pre>\n<p>See more at <a href=\"https://viblo.asia/p/su-dung-systemd-de-chinh-sua-service-linux-m68Z0PJNZkG\" rel=\"nofollow noreferrer\">https://viblo.asia/p/su-dung-systemd-de-chinh-sua-service-linux-m68Z0PJNZkG</a></p>\n<p>Solution 2: System V init</p>\n<pre><code>sudo ln -s /path/to/backend.jar /etc/init.d/your-app\n$ sudo service your-app start\n</code></pre>\n<p>Log at <code>/var/log/backend.log</code>\nApplication's process id tracked at <code>/var/run/backend/backend.pid</code></p>\n"}],"owner":{"account_id":1594330,"reputation":111,"user_id":9803329,"display_name":"Thang Tran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651677801,"creation_date":1651645573,"question_id":72108732,"body_markdown":"I wrote a Spring Boot RESTful API backend, compiled it to `backend.jar` file and ran it on Ubuntu (EC2 of AWS) by command `java -jar backend.jar` . It can serve requests well, but it seems that it runs only for a short while and then disappears, so the following requests fail to be served. I can rerun `java -jar backend.jar` but it works only for a short while. \r\n\r\nHow to make the `backend.jar` permanent like a service?\r\n(I am new to server administration)","title":"Why does Spring Boot backend JAR file run only for a short while on Ubuntu? How to make it run as a service?","body":"<p>I wrote a Spring Boot RESTful API backend, compiled it to <code>backend.jar</code> file and ran it on Ubuntu (EC2 of AWS) by command <code>java -jar backend.jar</code> . It can serve requests well, but it seems that it runs only for a short while and then disappears, so the following requests fail to be served. I can rerun <code>java -jar backend.jar</code> but it works only for a short while.</p>\n<p>How to make the <code>backend.jar</code> permanent like a service?\n(I am new to server administration)</p>\n"},{"tags":["java","asciidoc","asciidoctor"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635319061,"post_id":69734228,"comment_id":123262150,"body_markdown":"You can use attributes in Asciidoc, then you only have to define the constant once for your documentation (e.g. in the header of the doc, or as a parameter when building the docs. You could also generate the Asciidoc from Java code, and then use the constant, but that seems a bit exotic to me. Alternatively, you could define the constant in your build, and then have your build generate the source code with the necessary constant, and build your documentation using that value.","body":"You can use attributes in Asciidoc, then you only have to define the constant once for your documentation (e.g. in the header of the doc, or as a parameter when building the docs. You could also generate the Asciidoc from Java code, and then use the constant, but that seems a bit exotic to me. Alternatively, you could define the constant in your build, and then have your build generate the source code with the necessary constant, and build your documentation using that value."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1635319282,"post_id":69734228,"comment_id":123262242,"body_markdown":"But is there a syntax to include such contant like `whole.package.MyClass#myConstant`? Docs are built in the pipeline in java anyway in my case so I can easily include system as a dependency. The only thing is, how to refer to it?","body":"But is there a syntax to include such contant like <code>whole.package.MyClass#myConstant</code>? Docs are built in the pipeline in java anyway in my case so I can easily include system as a dependency. The only thing is, how to refer to it?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1635319431,"post_id":69734228,"comment_id":123262301,"body_markdown":"Or maybe I can write my own preprocessor of some kind to do just that?","body":"Or maybe I can write my own preprocessor of some kind to do just that?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635319434,"post_id":69734228,"comment_id":123262302,"body_markdown":"AsciiDoctor is Ruby or JavaScript based (AsciiDoctor J is wrapper around JRuby), so it&#39;s unlikely, and if there were it would probably be explicitly spelled out in the documentation.","body":"AsciiDoctor is Ruby or JavaScript based (AsciiDoctor J is wrapper around JRuby), so it&#39;s unlikely, and if there were it would probably be explicitly spelled out in the documentation."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1635319465,"post_id":69734228,"comment_id":123262316,"body_markdown":"Understaood, thanks Mark for little bit of insight","body":"Understaood, thanks Mark for little bit of insight"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635319549,"post_id":69734228,"comment_id":123262357,"body_markdown":"That said, AsciiDoctor (and Asciidoctor J) has several extension points, so maybe you could write something custom to do it, but personally I would rather drive it from my build system populating both my Java code and AsciiDoctor attributes then adding something to AsciiDoctor to parse Java code.","body":"That said, AsciiDoctor (and Asciidoctor J) has several extension points, so maybe you could write something custom to do it, but personally I would rather drive it from my build system populating both my Java code and AsciiDoctor attributes then adding something to AsciiDoctor to parse Java code."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1636386841,"post_id":69734228,"comment_id":123536664,"body_markdown":"There is https://blog.mrhaki.com/2014/04/awesome-asciidoc-include-partial-parts.html but that is line based, you can&#39;t do part of a line.","body":"There is <a href=\"https://blog.mrhaki.com/2014/04/awesome-asciidoc-include-partial-parts.html\" rel=\"nofollow noreferrer\">blog.mrhaki.com/2014/04/&hellip;</a> but that is line based, you can&#39;t do part of a line."}],"answers":[{"tags":[],"owner":{"account_id":65138,"reputation":2448,"user_id":191906,"display_name":"Craig Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639592108,"creation_date":1637461184,"answer_id":70051338,"question_id":69734228,"body_markdown":"I&#39;d write a shell script (PERL, whatever) that greps your Java code for a regex something like `&#39;class (\\w+).*ENDPOINT=&quot;([^&quot;]+)&#39;`, sending the results to an include file (`./endpoints.adoc`) using `&#39;:\\1_endpoint: \\2&#39;`, thus:\r\n\r\n    :MyClass_endpoint: http://example.com\r\n    :MyOtherClass_endpoint: http://other.example.com\r\n\r\nThen, at the top of your AsciiDoc file insert: `include::endpoints.adoc[]`\r\n\r\nand then refer to `{MyClass_endpoint}` and `{MyOtherClass_endpoint}` in the body.\r\n\r\nThen, simply run the script as part of your toolchain prior to calling AsciiDoctor.","title":"Can I include Java constant value in AsciiDoctor document?","body":"<p>I'd write a shell script (PERL, whatever) that greps your Java code for a regex something like <code>'class (\\w+).*ENDPOINT=&quot;([^&quot;]+)'</code>, sending the results to an include file (<code>./endpoints.adoc</code>) using <code>':\\1_endpoint: \\2'</code>, thus:</p>\n<pre><code>:MyClass_endpoint: http://example.com\n:MyOtherClass_endpoint: http://other.example.com\n</code></pre>\n<p>Then, at the top of your AsciiDoc file insert: <code>include::endpoints.adoc[]</code></p>\n<p>and then refer to <code>{MyClass_endpoint}</code> and <code>{MyOtherClass_endpoint}</code> in the body.</p>\n<p>Then, simply run the script as part of your toolchain prior to calling AsciiDoctor.</p>\n"},{"tags":[],"owner":{"account_id":190215,"reputation":2859,"user_id":430035,"accept_rate":71,"display_name":"EhmKah a.k.a. Michael Krau&#223;e"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638867956,"creation_date":1638867956,"answer_id":70257390,"question_id":69734228,"body_markdown":"One other solution is to use the include-pattern of asciidoctor which is described here. https://docs.asciidoctor.org/asciidoc/latest/directives/include-tagged-regions/ \r\n\r\nIn short. \r\n\r\nDefine a tagged region:\r\n\r\n    public class MyClass{\r\n      //tag::endpointdefinition[]\r\n      public static final String ENDPOINT=&quot;http://example.com&quot;\r\n      //end::endpointdefinition[]\r\n    }\r\n\r\ninclude it your document\r\n\r\n    [source,java]\r\n    ----\r\n    include::pathYourFile.java[tag=endpointdefinition] \r\n    ----\r\n\r\nTo optimize it a little bit you could break your lines different int the java file and place the tag definition on that. You could also remove the source around including the java file.","title":"Can I include Java constant value in AsciiDoctor document?","body":"<p>One other solution is to use the include-pattern of asciidoctor which is described here. <a href=\"https://docs.asciidoctor.org/asciidoc/latest/directives/include-tagged-regions/\" rel=\"nofollow noreferrer\">https://docs.asciidoctor.org/asciidoc/latest/directives/include-tagged-regions/</a></p>\n<p>In short.</p>\n<p>Define a tagged region:</p>\n<pre><code>public class MyClass{\n  //tag::endpointdefinition[]\n  public static final String ENDPOINT=&quot;http://example.com&quot;\n  //end::endpointdefinition[]\n}\n</code></pre>\n<p>include it your document</p>\n<pre><code>[source,java]\n----\ninclude::pathYourFile.java[tag=endpointdefinition] \n----\n</code></pre>\n<p>To optimize it a little bit you could break your lines different int the java file and place the tag definition on that. You could also remove the source around including the java file.</p>\n"}],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1651677691,"creation_date":1635318628,"question_id":69734228,"body_markdown":"For example, lets have a Java constant in some class\r\n\r\n\r\n    public class MyClass{\r\n      public static final String ENDPOINT=&quot;http://example.com&quot;\r\n    }\r\n\r\n\r\nand lets try to describe that class in AsciiDoctor (corporate docs reasons) \r\n\r\n    ==== My class\r\n    \r\n    ..... some descripton ..... \r\n    It is exposed trough http://example.com\r\n\r\nNow every time I change the endpoint, I have to update docs manually as well (IDE find-and-replace will do the trick obviously). Is there a way to include Java constant into the AsciiDoc so I don&#39;t have to copy its value into the docs?\r\n\r\nI would gladly see something like `{import my.package.MyClass#ENDPOINT}` or something similiar.","title":"Can I include Java constant value in AsciiDoctor document?","body":"<p>For example, lets have a Java constant in some class</p>\n<pre><code>public class MyClass{\n  public static final String ENDPOINT=&quot;http://example.com&quot;\n}\n</code></pre>\n<p>and lets try to describe that class in AsciiDoctor (corporate docs reasons)</p>\n<pre><code>==== My class\n\n..... some descripton ..... \nIt is exposed trough http://example.com\n</code></pre>\n<p>Now every time I change the endpoint, I have to update docs manually as well (IDE find-and-replace will do the trick obviously). Is there a way to include Java constant into the AsciiDoc so I don't have to copy its value into the docs?</p>\n<p>I would gladly see something like <code>{import my.package.MyClass#ENDPOINT}</code> or something similiar.</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1491053931,"post_id":43157515,"comment_id":73390278,"body_markdown":"Have you simply tried to call the application on plain command line via `java -jar target/filename.jar` ? The message which is given `Application finished with exit code: 1 at `...looks like there is a problem in the app...","body":"Have you simply tried to call the application on plain command line via <code>java -jar target&#47;filename.jar</code> ? The message which is given <code>Application finished with exit code: 1 at </code>...looks like there is a problem in the app..."},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":1,"creation_date":1491056284,"post_id":43157515,"comment_id":73391002,"body_markdown":"I&#39;m not sure it&#39;s related to your problem, but ordinarily, the `pom.xml` file goes in the project root folder, not under src/java","body":"I&#39;m not sure it&#39;s related to your problem, but ordinarily, the <code>pom.xml</code> file goes in the project root folder, not under src/java"}],"answers":[{"tags":[],"owner":{"account_id":980385,"reputation":11895,"user_id":1000254,"accept_rate":92,"display_name":"shizhz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619193664,"creation_date":1491062456,"answer_id":43159001,"question_id":43157515,"body_markdown":"I made the following changes to make `mvn clean spring-boot:run` work:\r\n\r\n- Move `pom.xml` to the root directory, which makes the directory hierarchy to be:\r\n\r\nDirectory hierarchy:\r\n\r\n    .\r\n     pom.xml\r\n     src\r\n         main\r\n             java\r\n            &#160;&#160;  hello\r\n            &#160;&#160;      Application.java\r\n            &#160;&#160;      GreetingController.java\r\n             resources\r\n                 templates\r\n                     greeting.html\r\n\r\n- Commented out the `exclusions` in the following part:\r\n\r\nCommented out part:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;!-- Exclusions to allow SpringBoot execute on HCP --&gt;\r\n            &lt;!--&lt;exclusions&gt;--&gt;\r\n                &lt;!--&lt;exclusion&gt;--&gt;\r\n                    &lt;!--&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n                    &lt;!--&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\r\n                &lt;!--&lt;/exclusion&gt;--&gt;\r\n                &lt;!--&lt;exclusion&gt;--&gt;\r\n                    &lt;!--&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;--&gt;\r\n                    &lt;!--&lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;--&gt;\r\n                &lt;!--&lt;/exclusion&gt;--&gt;\r\n                &lt;!--&lt;exclusion&gt;--&gt;\r\n                    &lt;!--&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;--&gt;\r\n                    &lt;!--&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;--&gt;\r\n                &lt;!--&lt;/exclusion&gt;--&gt;\r\n            &lt;!--&lt;/exclusions&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIt seems you meant to exclude those dependencies. `mvn clean spring-boot:run` will just exit successfully if the embed tomcat is excluded, but I think this is the correct behave because there&#39;s no container to deploy the application. Anyway, you can try it out and make changes according your requirements.","title":"Could not exec java with Spring+Maven exit code 1","body":"<p>I made the following changes to make <code>mvn clean spring-boot:run</code> work:</p>\n<ul>\n<li>Move <code>pom.xml</code> to the root directory, which makes the directory hierarchy to be:</li>\n</ul>\n<p>Directory hierarchy:</p>\n<pre><code>.\n pom.xml\n src\n     main\n         java\n          hello\n              Application.java\n              GreetingController.java\n         resources\n             templates\n                 greeting.html\n</code></pre>\n<ul>\n<li>Commented out the <code>exclusions</code> in the following part:</li>\n</ul>\n<p>Commented out part:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;!-- Exclusions to allow SpringBoot execute on HCP --&gt;\n        &lt;!--&lt;exclusions&gt;--&gt;\n            &lt;!--&lt;exclusion&gt;--&gt;\n                &lt;!--&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n                &lt;!--&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\n            &lt;!--&lt;/exclusion&gt;--&gt;\n            &lt;!--&lt;exclusion&gt;--&gt;\n                &lt;!--&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;--&gt;\n                &lt;!--&lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;--&gt;\n            &lt;!--&lt;/exclusion&gt;--&gt;\n            &lt;!--&lt;exclusion&gt;--&gt;\n                &lt;!--&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;--&gt;\n                &lt;!--&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;--&gt;\n            &lt;!--&lt;/exclusion&gt;--&gt;\n        &lt;!--&lt;/exclusions&gt;--&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>It seems you meant to exclude those dependencies. <code>mvn clean spring-boot:run</code> will just exit successfully if the embed tomcat is excluded, but I think this is the correct behave because there's no container to deploy the application. Anyway, you can try it out and make changes according your requirements.</p>\n"},{"tags":[],"owner":{"account_id":13420639,"reputation":69,"user_id":10157259,"display_name":"Komal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532980527,"creation_date":1532980527,"answer_id":51601377,"question_id":43157515,"body_markdown":"Sometimes the port might just be already in use, make sure you kill all java processes before running an application.","title":"Could not exec java with Spring+Maven exit code 1","body":"<p>Sometimes the port might just be already in use, make sure you kill all java processes before running an application.</p>\n"},{"tags":[],"owner":{"account_id":15775301,"reputation":1,"user_id":11383205,"display_name":"Zhong Linzhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558394788,"creation_date":1558394788,"answer_id":56229344,"question_id":43157515,"body_markdown":"I&#39;ve same error as yours and finally I found it was cased by the wrong cooperation version between &quot;spring-boot-starter-parent&quot; and &quot;spring-boot-autoconfigure&quot;, thereof making sure with same version. And also check their versions are the newest nor not.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Could not exec java with Spring+Maven exit code 1","body":"<p>I've same error as yours and finally I found it was cased by the wrong cooperation version between \"spring-boot-starter-parent\" and \"spring-boot-autoconfigure\", thereof making sure with same version. And also check their versions are the newest nor not.</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12553303,"reputation":141,"user_id":9134028,"display_name":"poomcyber"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1564219139,"creation_date":1564219139,"answer_id":57230779,"question_id":43157515,"body_markdown":"In my case I just delete &quot;devtools&quot; dependency.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd it works!","title":"Could not exec java with Spring+Maven exit code 1","body":"<p>In my case I just delete \"devtools\" dependency.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And it works!</p>\n"},{"tags":[],"owner":{"account_id":13479851,"reputation":171,"user_id":9725520,"display_name":"weilin wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584630668,"creation_date":1584630668,"answer_id":60759967,"question_id":43157515,"body_markdown":"In my case I just delete &quot;tomcat-embed-el&quot; dependency.\r\n\r\n```\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n```\r\nAnd it works.....","title":"Could not exec java with Spring+Maven exit code 1","body":"<p>In my case I just delete \"tomcat-embed-el\" dependency.</p>\n\n<pre><code>                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n</code></pre>\n\n<p>And it works.....</p>\n"},{"tags":[],"owner":{"account_id":18604860,"reputation":1,"user_id":13558732,"display_name":"Andrew Feikema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651677681,"creation_date":1651677681,"answer_id":72115498,"question_id":43157515,"body_markdown":"Make sure Maven runs the correct Java JDK. For MacOS, run `/usr/libexec/java_home`.\r\n\r\nThis will search `/Library/Java/JavaVirtualMachines/` for JDKs you&#39;ve installed. It&#39;s likely that even though `$JAVA_HOME` is set to the intended JDK, the child process could be running on some other JDK. If you&#39;re not running the intended JDK, you may have to set aside the other JDK outside of `/Library/Java/JavaVirtualMachines/`. I haven&#39;t found a better way to do this, unfortunately.","title":"Could not exec java with Spring+Maven exit code 1","body":"<p>Make sure Maven runs the correct Java JDK. For MacOS, run <code>/usr/libexec/java_home</code>.</p>\n<p>This will search <code>/Library/Java/JavaVirtualMachines/</code> for JDKs you've installed. It's likely that even though <code>$JAVA_HOME</code> is set to the intended JDK, the child process could be running on some other JDK. If you're not running the intended JDK, you may have to set aside the other JDK outside of <code>/Library/Java/JavaVirtualMachines/</code>. I haven't found a better way to do this, unfortunately.</p>\n"}],"owner":{"account_id":7841035,"reputation":379,"user_id":5927569,"accept_rate":53,"display_name":"NiHao92"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39203,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":43159001,"answer_count":6,"score":14,"last_activity_date":1651677681,"creation_date":1491053441,"question_id":43157515,"body_markdown":"I am new to Spring/Maven, and am following this tutorial: \r\n[Serving Web Content with Spring MVC](https://spring.io/guides/gs/serving-web-content/).\r\n\r\nEverytime I run `mvn spring-boot:run`, I get this error:\r\n\r\n&gt; `Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.5.2.RELEASE:run (default-cli) on project gs-serving-web-content: Could not exec java: Application finished with exit code: 1 -&gt;`\r\n\r\nI tried to add classpath, tried to run `mvn install clean spring-boot:run`, did a lot of other things that people suggested on stackoverflow in similar situations, spent on this more than 8 hours - no use. \r\n\r\nHere is my main class `Application.java`:\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) throws Exception{\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nHere is my `GreeetingController.java` class:\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    @Controller\r\n    public class GreetingController {\r\n    \r\n        @RequestMapping(&quot;/greeting&quot;)\r\n        public String greeting(@RequestParam(value=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n            model.addAttribute(&quot;name&quot;, name);\r\n            return &quot;greeting&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nHere is my `pom.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-serving-web-content&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;!-- Exclusions to allow SpringBoot execute on HCP --&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n     \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;!-- The main class to start by executing java -jar --&gt;\r\n            \r\n    \r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                                        &lt;mainClass&gt;hello.Application&lt;/mainClass&gt;\r\n    \r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\nHere is my HTML template:\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p th:text=&quot;&#39;Hello, &#39; + ${name} + &#39;!&#39;&quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nThe structure of a project is\r\n\r\n    src/main/java/hello/pom.xml\r\n    src/main/java/hello/Application.java\r\n    src/main/java/hello/GreetingController.java\r\n    src/main/resources/templates/greeting.html\r\n\r\n","title":"Could not exec java with Spring+Maven exit code 1","body":"<p>I am new to Spring/Maven, and am following this tutorial: \n<a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">Serving Web Content with Spring MVC</a>.</p>\n\n<p>Everytime I run <code>mvn spring-boot:run</code>, I get this error:</p>\n\n<blockquote>\n  <p><code>Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.5.2.RELEASE:run (default-cli) on project gs-serving-web-content: Could not exec java: Application finished with exit code: 1 -&gt;</code></p>\n</blockquote>\n\n<p>I tried to add classpath, tried to run <code>mvn install clean spring-boot:run</code>, did a lot of other things that people suggested on stackoverflow in similar situations, spent on this more than 8 hours - no use. </p>\n\n<p>Here is my main class <code>Application.java</code>:</p>\n\n<pre><code>package hello;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) throws Exception{\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Here is my <code>GreeetingController.java</code> class:</p>\n\n<pre><code>package hello;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class GreetingController {\n\n    @RequestMapping(\"/greeting\")\n    public String greeting(@RequestParam(value=\"name\", required=false, defaultValue=\"World\") String name, Model model) {\n        model.addAttribute(\"name\", name);\n        return \"greeting\";\n    }\n\n}\n</code></pre>\n\n<p>Here is my <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;gs-serving-web-content&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;!-- Exclusions to allow SpringBoot execute on HCP --&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;!-- The main class to start by executing java -jar --&gt;\n\n\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                                    &lt;mainClass&gt;hello.Application&lt;/mainClass&gt;\n\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Here is my HTML template:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p th:text=\"'Hello, ' + ${name} + '!'\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The structure of a project is</p>\n\n<pre><code>src/main/java/hello/pom.xml\nsrc/main/java/hello/Application.java\nsrc/main/java/hello/GreetingController.java\nsrc/main/resources/templates/greeting.html\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651677426,"creation_date":1651677426,"answer_id":72115449,"question_id":72115234,"body_markdown":"This depends on your application and the general test setup. If you have your repository mocked, just have the mock return a proper user. If you have an in-memory or containerized DB in the test, use whatever is available to you to add the user to that DB (e.g. call the real repository or your service class (whatever is called by your controller to create a user). Since this is really an integration test, you could also do the &quot;create user&quot; and &quot;image&quot; tests in one test case to make sure you have the user already created when you test the ImageController.","title":"MockMVC integration test - create User before Unit Test","body":"<p>This depends on your application and the general test setup. If you have your repository mocked, just have the mock return a proper user. If you have an in-memory or containerized DB in the test, use whatever is available to you to add the user to that DB (e.g. call the real repository or your service class (whatever is called by your controller to create a user). Since this is really an integration test, you could also do the &quot;create user&quot; and &quot;image&quot; tests in one test case to make sure you have the user already created when you test the ImageController.</p>\n"}],"owner":{"account_id":10317499,"reputation":3,"user_id":7611397,"display_name":"Melodlebron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651677476,"creation_date":1651676583,"question_id":72115234,"body_markdown":"I want to create Unit Tests for the class &quot;ImageController&quot;. As an image must be owned by a created User, I want to create a User before the Unit tests are performed (with @Before). How do I create this User? In the testing of the UserController itself, I did it like: \r\n\r\n```java\r\nthis.mockMvc.perform(post(&quot;/users&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(&quot;{\\&quot;username\\&quot;:\\&quot;username\\&quot;,\\&quot;email\\&quot;:\\&quot;email\\&quot;, \\&quot;password\\&quot;:\\&quot;password\\&quot; }&quot;))\r\n```\r\n","title":"MockMVC integration test - create User before Unit Test","body":"<p>I want to create Unit Tests for the class &quot;ImageController&quot;. As an image must be owned by a created User, I want to create a User before the Unit tests are performed (with @Before). How do I create this User? In the testing of the UserController itself, I did it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.mockMvc.perform(post(&quot;/users&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(&quot;{\\&quot;username\\&quot;:\\&quot;username\\&quot;,\\&quot;email\\&quot;:\\&quot;email\\&quot;, \\&quot;password\\&quot;:\\&quot;password\\&quot; }&quot;))\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"answers":[{"tags":[],"owner":{"account_id":10763888,"reputation":38,"user_id":8083463,"display_name":"Vitaliy Hnatyk"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1496514167,"creation_date":1496513537,"answer_id":44347122,"question_id":44325896,"body_markdown":"I have used http://doc.akka.io/japi/akka/2.3.7/akka/util/ByteString.ByteStrings.html\r\nYou will see to method `decodeString(java.lang.String charset)` \r\n\r\nelse see to https://github.com/akka/akka/issues/18738","title":"How to convert Protobuf ByteString to an octal-escaped String in java?","body":"<p>I have used <a href=\"http://doc.akka.io/japi/akka/2.3.7/akka/util/ByteString.ByteStrings.html\" rel=\"nofollow noreferrer\">http://doc.akka.io/japi/akka/2.3.7/akka/util/ByteString.ByteStrings.html</a>\nYou will see to method <code>decodeString(java.lang.String charset)</code> </p>\n\n<p>else see to <a href=\"https://github.com/akka/akka/issues/18738\" rel=\"nofollow noreferrer\">https://github.com/akka/akka/issues/18738</a></p>\n"},{"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1496612009,"creation_date":1496612009,"answer_id":44358996,"question_id":44325896,"body_markdown":"Normally, you&#39;d convert a ByteString to a String using [`ByteString#toString(Charset)`](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/ByteString#toString-java.lang.String-). This method lets you specify what charset the text is encoded in. If it&#39;s UTF-8, you can also use the method `toStringUtf8()` as a shortcut.\r\n\r\nFrom your question, though, it sounds like you actually want to produce the escaped format using C-style three-digit octal escapes. AFAIK there&#39;s no public function to do this, but [you can see the code here](https://github.com/google/protobuf/blob/master/java/core/src/main/java/com/google/protobuf/TextFormatEscaper.java). You could copy that code into your own project and use it.","title":"How to convert Protobuf ByteString to an octal-escaped String in java?","body":"<p>Normally, you'd convert a ByteString to a String using <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/ByteString#toString-java.lang.String-\" rel=\"noreferrer\"><code>ByteString#toString(Charset)</code></a>. This method lets you specify what charset the text is encoded in. If it's UTF-8, you can also use the method <code>toStringUtf8()</code> as a shortcut.</p>\n\n<p>From your question, though, it sounds like you actually want to produce the escaped format using C-style three-digit octal escapes. AFAIK there's no public function to do this, but <a href=\"https://github.com/google/protobuf/blob/master/java/core/src/main/java/com/google/protobuf/TextFormatEscaper.java\" rel=\"noreferrer\">you can see the code here</a>. You could copy that code into your own project and use it.</p>\n"}],"owner":{"account_id":1797970,"reputation":167,"user_id":1636958,"accept_rate":25,"display_name":"Dinesh Kumar J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39488,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":44358996,"answer_count":2,"score":13,"last_activity_date":1651677400,"creation_date":1496396984,"question_id":44325896,"body_markdown":"Could anyone please let me know how to convert protobuf&#39;s ByteString to  an [octal escape sequence](https://www.ibm.com/docs/en/zos/2.2.0?topic=details-octal-escape-sequence) String in java?\r\n\r\nIn my case, I am getting the ByteString value as `\\376\\024\\367` so,  when I print the string value in console using `System.out.println()`, I should get `&quot;\\376\\024\\367&quot;`. \r\n\r\nMany thanks.","title":"How to convert Protobuf ByteString to an octal-escaped String in java?","body":"<p>Could anyone please let me know how to convert protobuf's ByteString to  an <a href=\"https://www.ibm.com/docs/en/zos/2.2.0?topic=details-octal-escape-sequence\" rel=\"nofollow noreferrer\">octal escape sequence</a> String in java?</p>\n<p>In my case, I am getting the ByteString value as <code>\\376\\024\\367</code> so,  when I print the string value in console using <code>System.out.println()</code>, I should get <code>&quot;\\376\\024\\367&quot;</code>.</p>\n<p>Many thanks.</p>\n"},{"tags":["java","android","notifications","cancellation"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":1,"creation_date":1614163589,"post_id":66349112,"comment_id":117299811,"body_markdown":"`cancelAll()` should cancel (remove) all notifications created by your app. If you&#39;re trying to remove notifications created by another app, bad luck: you can&#39;t.","body":"<code>cancelAll()</code> should cancel (remove) all notifications created by your app. If you&#39;re trying to remove notifications created by another app, bad luck: you can&#39;t."},{"owner":{"account_id":20391979,"reputation":1,"user_id":14959720,"display_name":"Lilian Sananikone"},"score":0,"creation_date":1614179784,"post_id":66349112,"comment_id":117307524,"body_markdown":"I want to clear all notifications of my app, it&#39;s not for another app.","body":"I want to clear all notifications of my app, it&#39;s not for another app."}],"answers":[{"tags":[],"owner":{"account_id":20391979,"reputation":1,"user_id":14959720,"display_name":"Lilian Sananikone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614180083,"creation_date":1614180083,"answer_id":66353839,"question_id":66349112,"body_markdown":"I just solved my problem. I added a ```stopForeground(true);```. The parameter is a boolean which determine if the notification of the foreground service will be cleared when the service is stopped. My code contained ```startForeground``` method but there is not a ```stopForeground``` method. That&#39;s why adding it was logical for me.","title":"How can I clear notification?","body":"<p>I just solved my problem. I added a <code>stopForeground(true);</code>. The parameter is a boolean which determine if the notification of the foreground service will be cleared when the service is stopped. My code contained <code>startForeground</code> method but there is not a <code>stopForeground</code> method. That's why adding it was logical for me.</p>\n"}],"owner":{"account_id":20391979,"reputation":1,"user_id":14959720,"display_name":"Lilian Sananikone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651677294,"creation_date":1614162941,"question_id":66349112,"body_markdown":"I have to hide a notification when a timer is cancelling.\r\nI instantiate a notification manager and use \r\n```\r\nmyNotificationManager.cancelAll();\r\n```\r\nbut it doesn&#39;t work. \r\n\r\nWhat do I need to do?\r\n","title":"How can I clear notification?","body":"<p>I have to hide a notification when a timer is cancelling.\nI instantiate a notification manager and use</p>\n<pre><code>myNotificationManager.cancelAll();\n</code></pre>\n<p>but it doesn't work.</p>\n<p>What do I need to do?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1651655146,"post_id":72109961,"comment_id":127412528,"body_markdown":"Did you try `${upper:${hostName}}`?","body":"Did you try <code>${upper:${hostName}}</code>?"},{"owner":{"account_id":7292069,"reputation":1,"user_id":5558140,"display_name":"Luis SM"},"score":0,"creation_date":1651659166,"post_id":72109961,"comment_id":127413924,"body_markdown":"Yes, same result :(","body":"Yes, same result :("}],"answers":[{"tags":[],"owner":{"account_id":7292069,"reputation":1,"user_id":5558140,"display_name":"Luis SM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651677106,"creation_date":1651661709,"answer_id":72111810,"question_id":72109961,"body_markdown":"Finally, this works!\r\n```\r\n&lt;Property name=&quot;example&quot;&gt;Logs_${upper:${hostName}}_${date:yyMMdd}&lt;/Property&gt;\r\n```\r\nThe problem was &#39;upper:&#39; and &#39;date:&#39;, with this change the name is replacing correctly :)","title":"UpperCase Hostname in Log4j","body":"<p>Finally, this works!</p>\n<pre><code>&lt;Property name=&quot;example&quot;&gt;Logs_${upper:${hostName}}_${date:yyMMdd}&lt;/Property&gt;\n</code></pre>\n<p>The problem was 'upper:' and 'date:', with this change the name is replacing correctly :)</p>\n"}],"owner":{"account_id":7292069,"reputation":1,"user_id":5558140,"display_name":"Luis SM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72111810,"answer_count":1,"score":0,"last_activity_date":1651677106,"creation_date":1651652991,"question_id":72109961,"body_markdown":"Good morning.\r\nI have a problem to UpperCase the name of a file with the hostname. I&#39;m trying to configure with this:\r\n```\r\n&lt;Property name=&quot;example&quot;&gt;$$upper{${hostName}}&lt;/Property&gt;\r\n...\r\n&lt;RollingFile name=&quot;RA.FileAppender&quot; fileName=&quot;${example}_%d{yyMMdd}.log&quot; filePattern=&quot;${example}_%d{yyMMdd}_%02i.log.gz&quot;&gt;\r\n```\r\nBut this doesn&#39;t work. This is the name of file\r\n\r\n$$upper{RealHostName}_%d{yyMMdd}.log\r\n\r\nHow can does this work?\r\nThanks and regards","title":"UpperCase Hostname in Log4j","body":"<p>Good morning.\nI have a problem to UpperCase the name of a file with the hostname. I'm trying to configure with this:</p>\n<pre><code>&lt;Property name=&quot;example&quot;&gt;$$upper{${hostName}}&lt;/Property&gt;\n...\n&lt;RollingFile name=&quot;RA.FileAppender&quot; fileName=&quot;${example}_%d{yyMMdd}.log&quot; filePattern=&quot;${example}_%d{yyMMdd}_%02i.log.gz&quot;&gt;\n</code></pre>\n<p>But this doesn't work. This is the name of file</p>\n<p>$$upper{RealHostName}_%d{yyMMdd}.log</p>\n<p>How can does this work?\nThanks and regards</p>\n"},{"tags":["java","filter","xss","httpresponse"],"comments":[{"owner":{"account_id":987408,"reputation":285,"user_id":1005585,"accept_rate":62,"display_name":"user1005585"},"score":0,"creation_date":1651678330,"post_id":72115346,"comment_id":127421364,"body_markdown":"I may have found an example to tweak here https://mail.codejava.net/java-ee/servlet/how-to-modify-http-response-using-java-filter","body":"I may have found an example to tweak here <a href=\"https://mail.codejava.net/java-ee/servlet/how-to-modify-http-response-using-java-filter\" rel=\"nofollow noreferrer\">mail.codejava.net/java-ee/servlet/&hellip;</a>"}],"owner":{"account_id":987408,"reputation":285,"user_id":1005585,"accept_rate":62,"display_name":"user1005585"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651677033,"creation_date":1651677033,"question_id":72115346,"body_markdown":"my Java coding experience is mediocre at best.  And I am trying to find out if there&#39;s a way I can implement a (XSS) filter on an existing Java web application.  I googled and found folks using the HttpServletRequestWrapper class which strips out the usual XSS suspects (&lt;, script, &gt; etc) on the input validation side.  But what I would like to implement is an outgoing filter which encodes characters like &lt; to &amp;lt; etc. to prevent XSS on the way out from the server to the browser.  I looked up the HttpServletResponseWrapper class, but it doesn&#39;t have the getParameter methods that the HttpServletRequestWrapper does.  So, I am not sure how to extricate the form fields from the HTTP response and then encode the fields.  Is what I&#39;m trying to do possible with the HttpServletResponseWrapper?  Or should I be using some other filter class?  Ideally, I&#39;d like to leave the core business logic of the app alone and just encode for XSS using filters.  If this works, we have a whole bunch of other apps to fix.  Any pointers would be appreciated.","title":"XSS filter for an existing Java application","body":"<p>my Java coding experience is mediocre at best.  And I am trying to find out if there's a way I can implement a (XSS) filter on an existing Java web application.  I googled and found folks using the HttpServletRequestWrapper class which strips out the usual XSS suspects (&lt;, script, &gt; etc) on the input validation side.  But what I would like to implement is an outgoing filter which encodes characters like &lt; to &lt; etc. to prevent XSS on the way out from the server to the browser.  I looked up the HttpServletResponseWrapper class, but it doesn't have the getParameter methods that the HttpServletRequestWrapper does.  So, I am not sure how to extricate the form fields from the HTTP response and then encode the fields.  Is what I'm trying to do possible with the HttpServletResponseWrapper?  Or should I be using some other filter class?  Ideally, I'd like to leave the core business logic of the app alone and just encode for XSS using filters.  If this works, we have a whole bunch of other apps to fix.  Any pointers would be appreciated.</p>\n"},{"tags":["java","hosts"],"answers":[{"tags":[],"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651676989,"creation_date":1651676989,"answer_id":72115332,"question_id":71840034,"body_markdown":"Looking at the Java sources it seems that there is no fallback, i.e. it&#39;s either the file based name resolution or the system&#39;s.","title":"How do I use jdk.net.hosts.file and fallback to default NS resolution?","body":"<p>Looking at the Java sources it seems that there is no fallback, i.e. it's either the file based name resolution or the system's.</p>\n"}],"owner":{"account_id":138727,"reputation":778,"user_id":343846,"accept_rate":74,"display_name":"guai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1283,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72115332,"answer_count":1,"score":5,"last_activity_date":1651676989,"creation_date":1649754921,"question_id":71840034,"body_markdown":"After I added `-Djdk.net.hosts.file` property my app cannot resolve the name of my local machine. Is there a way to make it fallback to default resolution when nothing found in the hosts file I provided?","title":"How do I use jdk.net.hosts.file and fallback to default NS resolution?","body":"<p>After I added <code>-Djdk.net.hosts.file</code> property my app cannot resolve the name of my local machine. Is there a way to make it fallback to default resolution when nothing found in the hosts file I provided?</p>\n"},{"tags":["java","java-stream","distinct-values"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1651585424,"post_id":72100300,"comment_id":127394425,"body_markdown":"Remember that when you override `equals` you always have to also override the `hashCode` to match (that is, to represent the same information).","body":"Remember that when you override <code>equals</code> you always have to also override the <code>hashCode</code> to match (that is, to represent the same information)."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1651585461,"post_id":72100300,"comment_id":127394439,"body_markdown":"Your class `StudentCourseMapping` should implement the `hashCode()` method as well, in accordance with [the rules](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()) for this method (i.e.: if `equals()` between two objects is `true`, then they must return the same hash code).","body":"Your class <code>StudentCourseMapping</code> should implement the <code>hashCode()</code> method as well, in accordance with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">the rules</a> for this method (i.e.: if <code>equals()</code> between two objects is <code>true</code>, then they must return the same hash code)."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1651586479,"post_id":72100300,"comment_id":127394881,"body_markdown":"It breaks - in fact - because `hashCode()` has not been overwritten ([Ideone demo](https://ideone.com/aPjZIq)). When we override it, it works as expected ([Ideone demo](https://ideone.com/RzAlsc)).","body":"It breaks - in fact - because <code>hashCode()</code> has not been overwritten (<a href=\"https://ideone.com/aPjZIq\" rel=\"nofollow noreferrer\">Ideone demo</a>). When we override it, it works as expected (<a href=\"https://ideone.com/RzAlsc\" rel=\"nofollow noreferrer\">Ideone demo</a>)."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651591880,"creation_date":1651586942,"answer_id":72100696,"question_id":72100300,"body_markdown":"As @RealSkeptic and @Jesper have already said in the comments, you do have to override the `hashCode` method within your `StudentCourseMapping` in order to properly compare the elements in your stream and only keep the distinct ones according to your `equals` implementation. \r\n\r\nAlthough, this is not mentioned in the Stream documentation nor in the [distinct documentation][1]. I believe this is considered implied, as the [`equals` documentation][2] amply covers the obligation in honoring the general hashcode contract when overriding the `equals` method.\r\n\r\n&gt; Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.\r\n\r\nIn fact, your snippet produces the desired output once the `hashCode()` method has been overridden.\r\n\r\n```\r\npublic class StudentCourseMapping implements Serializable {\r\n    private String name;\r\n    private String dept;\r\n    private Integer roll;\r\n    private String course;\r\n\r\n    //... your class implementation ...\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj == null) return false;\r\n        if (obj == this) return true;\r\n        if (obj.getClass() != getClass()) return false;\r\n        StudentCourseMapping student = (StudentCourseMapping) obj;\r\n        return Objects.equals(roll, student.roll);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hashCode(roll);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;[name = %s, dept = %s, roll = %d, course = %s]&quot;, name, dept, roll, course);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)","title":"How does java.util.stream.Stream.distinct() method work? Can I override the equals() method of the stream of the objects?","body":"<p>As @RealSkeptic and @Jesper have already said in the comments, you do have to override the <code>hashCode</code> method within your <code>StudentCourseMapping</code> in order to properly compare the elements in your stream and only keep the distinct ones according to your <code>equals</code> implementation.</p>\n<p>Although, this is not mentioned in the Stream documentation nor in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"nofollow noreferrer\">distinct documentation</a>. I believe this is considered implied, as the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code> documentation</a> amply covers the obligation in honoring the general hashcode contract when overriding the <code>equals</code> method.</p>\n<blockquote>\n<p>Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</p>\n</blockquote>\n<p>In fact, your snippet produces the desired output once the <code>hashCode()</code> method has been overridden.</p>\n<pre><code>public class StudentCourseMapping implements Serializable {\n    private String name;\n    private String dept;\n    private Integer roll;\n    private String course;\n\n    //... your class implementation ...\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null) return false;\n        if (obj == this) return true;\n        if (obj.getClass() != getClass()) return false;\n        StudentCourseMapping student = (StudentCourseMapping) obj;\n        return Objects.equals(roll, student.roll);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hashCode(roll);\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;[name = %s, dept = %s, roll = %d, course = %s]&quot;, name, dept, roll, course);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651676941,"creation_date":1651675218,"answer_id":72114902,"question_id":72100300,"body_markdown":"In theory your existing implementation would work since distinct implies non equal values.  But the `Stream()` implementation of `distinct()` makes use of a `LinkedHashSet` (which makes direct use of the object&#39;s `hashCode` method) to catch the duplicates. Since each class reference is unique and the default implementation of `hashCode` is based on the value of that reference, duplicates from an `equals` perspective will not be caught.\r\n\r\nHere is a simple demo using the default `hashCode`.  A list of 10 objects is created. Then that list is repeatedly added to itself and shuffled resulting in a list of 10,240 objects, with a total of 10 distinct hashCodes.   So when the `distinct()` method checks those `hashcodes`, it will find duplicates and ignore them.\r\n\r\n**Note:** This class uses a simple and incomplete `equals` method that is sufficient for this controlled demo.\r\n```\r\nclass Etest {\r\n\t\tint v;\r\n\t\t\r\n\t\tpublic Etest(int v) {\r\n\t\t\tthis.v = v;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic boolean equals(Object ob) {\r\n\t\t\treturn ((Etest)ob).v == this.v;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn v+&quot;&quot;;\r\n\t\t}\r\n}\r\n\r\nList&lt;Etest&gt; list = new ArrayList&lt;&gt;(IntStream.range(1, 11)\r\n\t\t.mapToObj(i -&gt; new Etest(i)).toList());\r\n\r\nfor(int i = 0; i &lt; 10; i++) {\r\n\tCollections.shuffle(list);\r\n\tlist.addAll(list);\r\n}\r\nSystem.out.println(&quot;Total entries = &quot; + list.size());\r\nlist.stream().distinct().forEach(e-&gt;System.out.printf(&quot;%s &quot;, e));\r\n\r\n```\r\nprints something like\r\n```\r\nTotal entries = 10240\r\n3 4 8 9 2 10 6 5 1 7 ","title":"How does java.util.stream.Stream.distinct() method work? Can I override the equals() method of the stream of the objects?","body":"<p>In theory your existing implementation would work since distinct implies non equal values.  But the <code>Stream()</code> implementation of <code>distinct()</code> makes use of a <code>LinkedHashSet</code> (which makes direct use of the object's <code>hashCode</code> method) to catch the duplicates. Since each class reference is unique and the default implementation of <code>hashCode</code> is based on the value of that reference, duplicates from an <code>equals</code> perspective will not be caught.</p>\n<p>Here is a simple demo using the default <code>hashCode</code>.  A list of 10 objects is created. Then that list is repeatedly added to itself and shuffled resulting in a list of 10,240 objects, with a total of 10 distinct hashCodes.   So when the <code>distinct()</code> method checks those <code>hashcodes</code>, it will find duplicates and ignore them.</p>\n<p><strong>Note:</strong> This class uses a simple and incomplete <code>equals</code> method that is sufficient for this controlled demo.</p>\n<pre><code>class Etest {\n        int v;\n        \n        public Etest(int v) {\n            this.v = v;\n        }\n        \n        @Override\n        public boolean equals(Object ob) {\n            return ((Etest)ob).v == this.v;\n        }\n        \n        @Override\n        public String toString() {\n            return v+&quot;&quot;;\n        }\n}\n\nList&lt;Etest&gt; list = new ArrayList&lt;&gt;(IntStream.range(1, 11)\n        .mapToObj(i -&gt; new Etest(i)).toList());\n\nfor(int i = 0; i &lt; 10; i++) {\n    Collections.shuffle(list);\n    list.addAll(list);\n}\nSystem.out.println(&quot;Total entries = &quot; + list.size());\nlist.stream().distinct().forEach(e-&gt;System.out.printf(&quot;%s &quot;, e));\n\n</code></pre>\n<p>prints something like</p>\n<pre><code>Total entries = 10240\n3 4 8 9 2 10 6 5 1 7 \n</code></pre>\n"}],"owner":{"account_id":2107061,"reputation":61,"user_id":1873163,"accept_rate":0,"display_name":"Amit Saha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72100696,"answer_count":2,"score":-1,"last_activity_date":1651676941,"creation_date":1651585201,"question_id":72100300,"body_markdown":"My use case is that I am trying to use distinct method of Stream to remove Students with same roll number from list of objects of class StudentCourseMapping. Pojo details are below\r\n```\t\r\npublic class StudentCourseMapping implements Serializable{\r\n\tprivate String name;\r\n    private String dept;\r\n    private Integer roll;\r\n    private String course;\r\n```\r\n\r\nBelow is the equals method\r\n```\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tStudentCourseMapping other = (StudentCourseMapping) obj;\r\n\t\tif (roll == null) {\r\n\t\t\tif (other.roll != null)\r\n\t\t\t\treturn false;\r\n\t\t} else if (!roll.equals(other.roll))\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n```\r\n\r\nBelow is the implementation \r\n```\r\npublic class RemoveDuplicateUsingStream {\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;StudentCourseMapping&gt; studentCourceList = JacksonJSONReaderObjectMapper.jsonReader();\r\n\t\t\r\n\t\tstudentCourceList.stream().distinct().forEach(System.out::println);\r\n\t\tStudentCourseMapping s0 = studentCourceList.get(0);\r\n\t\tStudentCourseMapping s1 = studentCourceList.get(1);\r\n\t\tSystem.out.println(s0.equals(s1));\r\n\r\n\t\tSet&lt;Integer&gt; st = new HashSet();\r\n\t\tList&lt;StudentCourseMapping&gt;studentCourceList2 = studentCourceList.stream().filter(s -&gt; st.add(s.getRoll()))\r\n\t\t\t\t.collect(Collectors.toCollection(ArrayList::new));\r\n\t\tSystem.out.println(studentCourceList2.size());\r\n\t}\r\n}\r\n```\r\nAnd the output is\r\n```\r\nStudentCourseMapping [name=Alu, dept=Physics, roll=12, course=Quantum Theory]\r\nStudentCourseMapping [name=Alu, dept=Physics, roll=12, course=English]\r\nStudentCourseMapping [name=Sam, dept=Commerce, roll=16, course=English]\r\nStudentCourseMapping [name=Sam, dept=Commerce, roll=16, course=Accounts]\r\nStudentCourseMapping [name=Joe, dept=Arts, roll=19, course=English]\r\nStudentCourseMapping [name=Joe, dept=Arts, roll=19, course=Hindi]\r\ntrue\r\n3\r\n\r\n```\r\nJacksonJSONReaderObjectMapper.jsonReader(); is a custom method which reads below JSON. I am able to achieve the same by using filter and adding to HashSet but I really want to know what is wrong with my distinct implementation.\r\n\r\n```\r\n{\r\n\t&quot;studentCourseMapping&quot;: [\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;Alu&quot;,\r\n\t\t\t&quot;dept&quot;: &quot;Physics&quot;,\r\n\t\t\t&quot;roll&quot;: 12,\r\n\t\t\t&quot;course&quot;: &quot;Quantum Theory&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;Alu&quot;,\r\n\t\t\t&quot;dept&quot;: &quot;Physics&quot;,\r\n\t\t\t&quot;roll&quot;: 12,\r\n\t\t\t&quot;course&quot;: &quot;English&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;Sam&quot;,\r\n\t\t\t&quot;dept&quot;: &quot;Commerce&quot;,\r\n\t\t\t&quot;roll&quot;: 16,\r\n\t\t\t&quot;course&quot;: &quot;English&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;Sam&quot;,\r\n\t\t\t&quot;dept&quot;: &quot;Commerce&quot;,\r\n\t\t\t&quot;roll&quot;: 16,\r\n\t\t\t&quot;course&quot;: &quot;Accounts&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;Joe&quot;,\r\n\t\t\t&quot;dept&quot;: &quot;Arts&quot;,\r\n\t\t\t&quot;roll&quot;: 19,\r\n\t\t\t&quot;course&quot;: &quot;English&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;Joe&quot;,\r\n\t\t\t&quot;dept&quot;: &quot;Arts&quot;,\r\n\t\t\t&quot;roll&quot;: 19,\r\n\t\t\t&quot;course&quot;: &quot;Hindi&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nWhen I try to test the equals method directly it was working properly and returning true since both the s0 and s1 has roll as 12.\r\n```\r\n\t\tStudentCourseMapping s0 = studentCourceList.get(0);\r\n\t\tStudentCourseMapping s1 = studentCourceList.get(1);\r\n\t\tSystem.out.println(s0.equals(s1));\r\n```\r\n\r\nBut when I am using distinct all the Objects are getting printed and also while trying to debug in eclipse the distinct method I wrote is not getting called. but the documentation says it should be called. Btw this from Oracle docs 8 but I am using JDK 11\r\n\r\n&gt; \r\nStream&lt;T&gt;\tdistinct()\r\nReturns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream.\r\n\r\n\r\n","title":"How does java.util.stream.Stream.distinct() method work? Can I override the equals() method of the stream of the objects?","body":"<p>My use case is that I am trying to use distinct method of Stream to remove Students with same roll number from list of objects of class StudentCourseMapping. Pojo details are below</p>\n<pre><code>public class StudentCourseMapping implements Serializable{\n    private String name;\n    private String dept;\n    private Integer roll;\n    private String course;\n</code></pre>\n<p>Below is the equals method</p>\n<pre><code>    @Override\n    public boolean equals(Object obj) {\n        StudentCourseMapping other = (StudentCourseMapping) obj;\n        if (roll == null) {\n            if (other.roll != null)\n                return false;\n        } else if (!roll.equals(other.roll))\n            return false;\n        return true;\n    }\n</code></pre>\n<p>Below is the implementation</p>\n<pre><code>public class RemoveDuplicateUsingStream {\n    public static void main(String[] args) {\n        List&lt;StudentCourseMapping&gt; studentCourceList = JacksonJSONReaderObjectMapper.jsonReader();\n        \n        studentCourceList.stream().distinct().forEach(System.out::println);\n        StudentCourseMapping s0 = studentCourceList.get(0);\n        StudentCourseMapping s1 = studentCourceList.get(1);\n        System.out.println(s0.equals(s1));\n\n        Set&lt;Integer&gt; st = new HashSet();\n        List&lt;StudentCourseMapping&gt;studentCourceList2 = studentCourceList.stream().filter(s -&gt; st.add(s.getRoll()))\n                .collect(Collectors.toCollection(ArrayList::new));\n        System.out.println(studentCourceList2.size());\n    }\n}\n</code></pre>\n<p>And the output is</p>\n<pre><code>StudentCourseMapping [name=Alu, dept=Physics, roll=12, course=Quantum Theory]\nStudentCourseMapping [name=Alu, dept=Physics, roll=12, course=English]\nStudentCourseMapping [name=Sam, dept=Commerce, roll=16, course=English]\nStudentCourseMapping [name=Sam, dept=Commerce, roll=16, course=Accounts]\nStudentCourseMapping [name=Joe, dept=Arts, roll=19, course=English]\nStudentCourseMapping [name=Joe, dept=Arts, roll=19, course=Hindi]\ntrue\n3\n\n</code></pre>\n<p>JacksonJSONReaderObjectMapper.jsonReader(); is a custom method which reads below JSON. I am able to achieve the same by using filter and adding to HashSet but I really want to know what is wrong with my distinct implementation.</p>\n<pre><code>{\n    &quot;studentCourseMapping&quot;: [\n        {\n            &quot;name&quot;: &quot;Alu&quot;,\n            &quot;dept&quot;: &quot;Physics&quot;,\n            &quot;roll&quot;: 12,\n            &quot;course&quot;: &quot;Quantum Theory&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Alu&quot;,\n            &quot;dept&quot;: &quot;Physics&quot;,\n            &quot;roll&quot;: 12,\n            &quot;course&quot;: &quot;English&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Sam&quot;,\n            &quot;dept&quot;: &quot;Commerce&quot;,\n            &quot;roll&quot;: 16,\n            &quot;course&quot;: &quot;English&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Sam&quot;,\n            &quot;dept&quot;: &quot;Commerce&quot;,\n            &quot;roll&quot;: 16,\n            &quot;course&quot;: &quot;Accounts&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Joe&quot;,\n            &quot;dept&quot;: &quot;Arts&quot;,\n            &quot;roll&quot;: 19,\n            &quot;course&quot;: &quot;English&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Joe&quot;,\n            &quot;dept&quot;: &quot;Arts&quot;,\n            &quot;roll&quot;: 19,\n            &quot;course&quot;: &quot;Hindi&quot;\n        }\n    ]\n}\n</code></pre>\n<p>When I try to test the equals method directly it was working properly and returning true since both the s0 and s1 has roll as 12.</p>\n<pre><code>        StudentCourseMapping s0 = studentCourceList.get(0);\n        StudentCourseMapping s1 = studentCourceList.get(1);\n        System.out.println(s0.equals(s1));\n</code></pre>\n<p>But when I am using distinct all the Objects are getting printed and also while trying to debug in eclipse the distinct method I wrote is not getting called. but the documentation says it should be called. Btw this from Oracle docs 8 but I am using JDK 11</p>\n<blockquote>\n</blockquote>\n<p>Stream   distinct()\nReturns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1615638092,"post_id":66607494,"comment_id":117756207,"body_markdown":"Does this answer your question? [Discord Bot connected to Websocket but not finished loading](https://stackoverflow.com/questions/64562258/discord-bot-connected-to-websocket-but-not-finished-loading)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64562258/discord-bot-connected-to-websocket-but-not-finished-loading\">Discord Bot connected to Websocket but not finished loading</a>"},{"owner":{"account_id":20941623,"reputation":31,"user_id":15385543,"display_name":"Jonathan Schuder"},"score":0,"creation_date":1615642213,"post_id":66607494,"comment_id":117757324,"body_markdown":"Yea but it still doesn&#180;t work","body":"Yea but it still doesn&#180;t work"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1615642320,"post_id":66607494,"comment_id":117757360,"body_markdown":"https://github.com/DV8FromTheWorld/JDA/wiki/19)-Troubleshooting#my-event-listener-code-is-not-executed","body":"<a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/19)-Troubleshooting#my-event-listener-code-is-not-executed\" rel=\"nofollow noreferrer\">github.com/DV8FromTheWorld/JDA/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20941623,"reputation":31,"user_id":15385543,"display_name":"Jonathan Schuder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615663964,"creation_date":1615663964,"answer_id":66617723,"question_id":66607494,"body_markdown":"The solution is / was i needed to enable the Intents on the Discord page. After this I needet to add the line:\r\n\r\n    .enableIntents(GatewayIntent.GUILD_MEMBERS)","title":"Discord onGuildMemberJoinEvent is not working","body":"<p>The solution is / was i needed to enable the Intents on the Discord page. After this I needet to add the line:</p>\n<pre><code>.enableIntents(GatewayIntent.GUILD_MEMBERS)\n</code></pre>\n"}],"owner":{"account_id":20941623,"reputation":31,"user_id":15385543,"display_name":"Jonathan Schuder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651676905,"creation_date":1615584844,"question_id":66607494,"body_markdown":"I have this problem with Discord JDA, and I&#39;m completely frustrated about it. I hope you can help me. The problem is my console won&#39;t print a message when a user joins, and I absolutely don&#39;t know why it doesn&#39;t work.\r\n \r\n```java\r\nimport net.dv8tion.jda.api.events.guild.member.GuildMemberJoinEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\npublic class Events extends ListenerAdapter {\r\n\r\n  @Override\r\n  public void onGuildMemberJoin(GuildMemberJoinEvent event) {\r\n    System.out.println(&quot;Ja moin&quot;);\r\n    /**User user = event.getUser();\r\n    Guild guild = event.getGuild();\r\n    user.getAsMention();\r\n    System.out.println(&quot;Der User: &quot; + user + &quot; ist auf den Server: &quot; + guild);**/\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n\r\nimport net.dv8tion.jda.api.AccountType;\r\nimport net.dv8tion.jda.api.JDABuilder;\r\nimport net.dv8tion.jda.api.OnlineStatus;\r\nimport net.dv8tion.jda.api.entities.Activity;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\nimport de.jonathan.Events;\r\nimport javax.security.auth.login.LoginException;\r\n\r\npublic class Bot extends ListenerAdapter {\r\n   public static void main(String[] args) throws LoginException {\r\n        JDABuilder builder = new JDABuilder(AccountType.BOT);\r\n        String token = &quot;&lt;My Token&gt;&quot;;\r\n        builder.setActivity(Activity.playing(&quot;HARIBOB&quot;));\r\n        builder.setStatus(OnlineStatus.DO_NOT_DISTURB);\r\n        builder.setToken(token);\r\n\r\n        builder.build();\r\n\r\n        // Events\r\n        builder.addEventListeners(new Events());\r\n    }\r\n}\r\n``` ","title":"Discord onGuildMemberJoinEvent is not working","body":"<p>I have this problem with Discord JDA, and I'm completely frustrated about it. I hope you can help me. The problem is my console won't print a message when a user joins, and I absolutely don't know why it doesn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import net.dv8tion.jda.api.events.guild.member.GuildMemberJoinEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class Events extends ListenerAdapter {\n\n  @Override\n  public void onGuildMemberJoin(GuildMemberJoinEvent event) {\n    System.out.println(&quot;Ja moin&quot;);\n    /**User user = event.getUser();\n    Guild guild = event.getGuild();\n    user.getAsMention();\n    System.out.println(&quot;Der User: &quot; + user + &quot; ist auf den Server: &quot; + guild);**/\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport net.dv8tion.jda.api.AccountType;\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.OnlineStatus;\nimport net.dv8tion.jda.api.entities.Activity;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\nimport de.jonathan.Events;\nimport javax.security.auth.login.LoginException;\n\npublic class Bot extends ListenerAdapter {\n   public static void main(String[] args) throws LoginException {\n        JDABuilder builder = new JDABuilder(AccountType.BOT);\n        String token = &quot;&lt;My Token&gt;&quot;;\n        builder.setActivity(Activity.playing(&quot;HARIBOB&quot;));\n        builder.setStatus(OnlineStatus.DO_NOT_DISTURB);\n        builder.setToken(token);\n\n        builder.build();\n\n        // Events\n        builder.addEventListeners(new Events());\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","outputstream"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1651674378,"post_id":72114605,"comment_id":127419696,"body_markdown":"What exactly &quot;does not work&quot; mean? Where is the other side of the connection?","body":"What exactly &quot;does not work&quot; mean? Where is the other side of the connection?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1651674421,"post_id":72114605,"comment_id":127419713,"body_markdown":"Generally speaking, quite a few protocols use a line separator so this is not unusual. You&#39;d need to know the underlying protocol in use to say for sure. Using a `PrintWriter` set to auto-flush will make that easier","body":"Generally speaking, quite a few protocols use a line separator so this is not unusual. You&#39;d need to know the underlying protocol in use to say for sure. Using a <code>PrintWriter</code> set to auto-flush will make that easier"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1651675384,"post_id":72114605,"comment_id":127420109,"body_markdown":"what is wrong with having to send the \\n? why do you think you should not have to send a \\n?","body":"what is wrong with having to send the \\n? why do you think you should not have to send a \\n?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651676498,"post_id":72114605,"comment_id":127420611,"body_markdown":"I&#39;m talking about the protocol at the *application* level. That&#39;s not knowable from what&#39;s been posted","body":"I&#39;m talking about the protocol at the <i>application</i> level. That&#39;s not knowable from what&#39;s been posted"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1651675866,"creation_date":1651675866,"answer_id":72115058,"question_id":72114605,"body_markdown":"It seems to me you are using many things that you don&#39;t fully understand\r\n\r\n`OutputStreamWriter`\r\n\r\nOutputStreamWriter is used for specifying the text format you want your output to be in. But since you have not filled in this parameter, you will get whatever the platform&#39;s default is (do you know what it is? If so, why not just enter it in the constructor?)\r\n\r\n`BufferedWriter`\r\n\r\nBuffers are useful for *inefficient* reading and writing. Inefficient means reading line by line rather than gobbling bytes as fast as possible. For writers, it means waiting to send data to an output. Is this what you want?\r\n\r\nIn any case adding the new line character shouldn&#39;t be necessary. Flush() should do the trick. But if \\n is necessary, it means on the server side it is waiting for this character (probably using BufferedReader.readLine())\r\n\r\nAll that said, I&#39;d advise you to start with `PrintStream` (you probably don&#39;t need a `Writer` if you&#39;re not specifying text encoding) and go from there.","title":"Writing a charArray in a socket does not work","body":"<p>It seems to me you are using many things that you don't fully understand</p>\n<p><code>OutputStreamWriter</code></p>\n<p>OutputStreamWriter is used for specifying the text format you want your output to be in. But since you have not filled in this parameter, you will get whatever the platform's default is (do you know what it is? If so, why not just enter it in the constructor?)</p>\n<p><code>BufferedWriter</code></p>\n<p>Buffers are useful for <em>inefficient</em> reading and writing. Inefficient means reading line by line rather than gobbling bytes as fast as possible. For writers, it means waiting to send data to an output. Is this what you want?</p>\n<p>In any case adding the new line character shouldn't be necessary. Flush() should do the trick. But if \\n is necessary, it means on the server side it is waiting for this character (probably using BufferedReader.readLine())</p>\n<p>All that said, I'd advise you to start with <code>PrintStream</code> (you probably don't need a <code>Writer</code> if you're not specifying text encoding) and go from there.</p>\n"},{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651676663,"creation_date":1651676663,"answer_id":72115254,"question_id":72114605,"body_markdown":"You have not said what is reading your socket, but given that it is port 8080, I imagine it could be a web server and what you are sending is not a valid HTTP request. I don&#39;t know what response you are expecting or how you are determining if the message has been received, but again, I imagine it might be some debug logging of some sort. If the recipient is some server that you have written, perhaps you are reading the message with some method that expects a new-line.\r\n\r\nThe `flush()` method call should be sufficient to send the message. A new-line is certainly not required by IP which is a binary protocol and doesn&#39;t know about lines of text.\r\n\r\nBut probably whatever is reading your socket is waiting for a new-line before it decides to display your message.","title":"Writing a charArray in a socket does not work","body":"<p>You have not said what is reading your socket, but given that it is port 8080, I imagine it could be a web server and what you are sending is not a valid HTTP request. I don't know what response you are expecting or how you are determining if the message has been received, but again, I imagine it might be some debug logging of some sort. If the recipient is some server that you have written, perhaps you are reading the message with some method that expects a new-line.</p>\n<p>The <code>flush()</code> method call should be sufficient to send the message. A new-line is certainly not required by IP which is a binary protocol and doesn't know about lines of text.</p>\n<p>But probably whatever is reading your socket is waiting for a new-line before it decides to display your message.</p>\n"}],"owner":{"account_id":19587032,"reputation":352,"user_id":14334938,"display_name":"Martin Denion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651676663,"creation_date":1651674039,"question_id":72114605,"body_markdown":"I want to send a simple `charArray` via a socket, from a Java application.\r\nMy problem is that without adding an &#39;\\n&#39; at the end of a `charArray`, the writing doesn&#39;t work.\r\nDo I have to add this &#39;\\n&#39; or is there a more elegant solution?\r\n\r\nHere is my code:\r\n\r\n    public class ClientThread extends Thread  {\r\n        private static final String TAG = &quot;ClientThread&quot;;\r\n    \r\n        private Socket socket = null;\r\n        private BufferedWriter outputStream = null;\r\n        private BlockingQueue&lt;Message&gt; queue = null;\r\n    \r\n        private static final int SERVERPORT = 8080;\r\n        private static final String SERVER_IP = &quot;localhost&quot;;\r\n    \r\n        public ClientThread(BlockingQueue&lt;Message&gt; queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                InetAddress serverAddr = InetAddress.getByName(SERVER_IP);\r\n    \r\n                //send a request to connect to the server is listening on machine &#39;localhost&#39;, port 8080\r\n                socket = new Socket(serverAddr, SERVERPORT);\r\n    \r\n                //create output stream to send data to the server\r\n                outputStream = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n    \r\n                while(socket.isConnected()) {\r\n                    //write message to socket\r\n                    char[] test = {&#39;t&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39;};\r\n    \r\n                    for(int i=0; i&lt;test.length; i++) {\r\n                        outputStream.write(test[i]);\r\n                    }\r\n                    outputStream.write(&quot;\\n&quot;); //does not work without this line\r\n                    outputStream.flush();\r\n                }\r\n            } catch (UnknownHostException e1) {\r\n                e1.printStackTrace();\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"Writing a charArray in a socket does not work","body":"<p>I want to send a simple <code>charArray</code> via a socket, from a Java application.\nMy problem is that without adding an '\\n' at the end of a <code>charArray</code>, the writing doesn't work.\nDo I have to add this '\\n' or is there a more elegant solution?</p>\n<p>Here is my code:</p>\n<pre><code>public class ClientThread extends Thread  {\n    private static final String TAG = &quot;ClientThread&quot;;\n\n    private Socket socket = null;\n    private BufferedWriter outputStream = null;\n    private BlockingQueue&lt;Message&gt; queue = null;\n\n    private static final int SERVERPORT = 8080;\n    private static final String SERVER_IP = &quot;localhost&quot;;\n\n    public ClientThread(BlockingQueue&lt;Message&gt; queue) {\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        try {\n            InetAddress serverAddr = InetAddress.getByName(SERVER_IP);\n\n            //send a request to connect to the server is listening on machine 'localhost', port 8080\n            socket = new Socket(serverAddr, SERVERPORT);\n\n            //create output stream to send data to the server\n            outputStream = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n\n            while(socket.isConnected()) {\n                //write message to socket\n                char[] test = {'t', 'e', 's', 't'};\n\n                for(int i=0; i&lt;test.length; i++) {\n                    outputStream.write(test[i]);\n                }\n                outputStream.write(&quot;\\n&quot;); //does not work without this line\n                outputStream.flush();\n            }\n        } catch (UnknownHostException e1) {\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","service","location","foreground-service"],"answers":[{"tags":[],"owner":{"account_id":5763316,"reputation":1621,"user_id":4548981,"accept_rate":64,"display_name":"Rahul Chaurasia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607071397,"creation_date":1607070852,"answer_id":65140274,"question_id":65140109,"body_markdown":"No. \r\n\r\nThe document is saying that if you need to continuously get user&#39;s location, then you need that foreground service. In your case, you do not need that service, because you need to get user&#39;s location only once. ","title":"I must foreground service when receives location information only once in android 10 and above?","body":"<p>No.</p>\n<p>The document is saying that if you need to continuously get user's location, then you need that foreground service. In your case, you do not need that service, because you need to get user's location only once.</p>\n"}],"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65140274,"answer_count":1,"score":0,"last_activity_date":1651676648,"creation_date":1607070030,"question_id":65140109,"body_markdown":"\r\n[![* hi, i want receive update user location and show in text view only once and remove update location when it received.\r\ni must use foreground service for that ?\r\nsorry for bad writting. *][1]][1]\r\n\r\nhello friends, i want receive update user location and show in text view only once and remove update location when it received.\r\ni must use foreground service for that ?\r\nsorry for bad writting. \r\n\r\n  [1]: https://i.stack.imgur.com/1rT5x.png","title":"I must foreground service when receives location information only once in android 10 and above?","body":"<p><a href=\"https://i.stack.imgur.com/1rT5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rT5x.png\" alt=\"* hi, i want receive update user location and show in text view only once and remove update location when it received.\ni must use foreground service for that ?\nsorry for bad writting. *\" /></a></p>\n<p>hello friends, i want receive update user location and show in text view only once and remove update location when it received.\ni must use foreground service for that ?\nsorry for bad writting.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3222186,"reputation":327,"user_id":2719361,"accept_rate":78,"display_name":"limido"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597092861,"creation_date":1597092861,"answer_id":63347887,"question_id":63347840,"body_markdown":"According to [Intellij support question][1]\r\n\r\n&gt;Make sure you are inside the method where this completion makes sense, not just inside the class.\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360002481400-when-typing-the-shortcut-sout-tab-i-sometimes-get-println-and-sometimes-printlf","title":"intellij println declaration","body":"<p>According to <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360002481400-when-typing-the-shortcut-sout-tab-i-sometimes-get-println-and-sometimes-printlf\" rel=\"nofollow noreferrer\">Intellij support question</a></p>\n<blockquote>\n<p>Make sure you are inside the method where this completion makes sense, not just inside the class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18066466,"reputation":31,"user_id":13132212,"display_name":"Mubashir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597130187,"creation_date":1597099774,"answer_id":63349071,"question_id":63347840,"body_markdown":"Yeah just use it inside in any method, like this:\r\n\r\n![Like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9zXSQ.png","title":"intellij println declaration","body":"<p>Yeah just use it inside in any method, like this:</p>\n<p><img src=\"https://i.stack.imgur.com/9zXSQ.png\" alt=\"Like this\" /></p>\n"}],"owner":{"account_id":10528101,"reputation":139,"user_id":7758452,"display_name":"vitaminJava"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1597139522,"answer_count":2,"score":-1,"last_activity_date":1651676571,"creation_date":1597092598,"question_id":63347840,"body_markdown":"I am trying to use &#39;&#39;sout&#39;&#39; keyword in intellij for calling system.out.println() quickly but it seems like doesnt work. \r\nLooks like, I have some problems in settings sections. \r\nDoes anyone know the way the quick way problem\r\n\r\nIt Looks like this:\r\nI solved the problem it was all about defining println() inside a method.\r\n\r\n![It Looks like this][1]\r\n\r\nI solved it. The solution is that declaring the println() method within class or\r\ninside another method as well.\r\n\r\n\r\n     \r\n    class Main {\r\n        public static void main(String args[]) {   \r\n                 System.out.println(fun());\r\n        } \r\n      \r\n        int fun()\r\n        {\r\n          return 20;\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/dt4dG.png\r\n","title":"intellij println declaration","body":"<p>I am trying to use ''sout'' keyword in intellij for calling system.out.println() quickly but it seems like doesnt work.\nLooks like, I have some problems in settings sections.\nDoes anyone know the way the quick way problem</p>\n<p>It Looks like this:\nI solved the problem it was all about defining println() inside a method.</p>\n<p><img src=\"https://i.stack.imgur.com/dt4dG.png\" alt=\"It Looks like this\" /></p>\n<p>I solved it. The solution is that declaring the println() method within class or\ninside another method as well.</p>\n<pre><code>class Main {\n    public static void main(String args[]) {   \n             System.out.println(fun());\n    } \n  \n    int fun()\n    {\n      return 20;\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement","random","contains","retain"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1651675974,"post_id":72115059,"comment_id":127420369,"body_markdown":"Maybe you could start by telling us the actual data types of `winningNumbers` and `guessedNumbers`. Going by the methods you call on them I would guess they are Lists (`java.util.List`), but not leaving us guessing and instead including that information in your question would be a lot better. Are those `List&lt;Integer&gt;` or what  data type are we dealing with?","body":"Maybe you could start by telling us the actual data types of <code>winningNumbers</code> and <code>guessedNumbers</code>. Going by the methods you call on them I would guess they are Lists (<code>java.util.List</code>), but not leaving us guessing and instead including that information in your question would be a lot better. Are those <code>List&lt;Integer&gt;</code> or what  data type are we dealing with?"},{"owner":{"account_id":24934543,"reputation":3,"user_id":18801283,"display_name":"Eren Birb"},"score":0,"creation_date":1651676525,"post_id":72115059,"comment_id":127420626,"body_markdown":"yes, the data type of `winningNumbers` and `guessedNumbers` are integer, and `java.util.List` is also used. I&#39;m sorry for not being specific.","body":"yes, the data type of <code>winningNumbers</code> and <code>guessedNumbers</code> are integer, and <code>java.util.List</code> is also used. I&#39;m sorry for not being specific."}],"answers":[{"tags":[],"owner":{"account_id":4545309,"reputation":776,"user_id":3692099,"accept_rate":60,"display_name":"Schokokuchen B&#228;cker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651676425,"creation_date":1651676425,"answer_id":72115195,"question_id":72115059,"body_markdown":"Since you already called ``guessednumbers.retainAll(winningNumbers)`` the amount of correctly guessed numbers is just the size of ``guessedNumbers``.\r\n\r\n    if (guessedNumbers.size() == 5)\r\n        System.out.println(&quot;You have guessed exactly 5 numbers correct.&quot;);","title":"how would i match the number of correct guesses?","body":"<p>Since you already called <code>guessednumbers.retainAll(winningNumbers)</code> the amount of correctly guessed numbers is just the size of <code>guessedNumbers</code>.</p>\n<pre><code>if (guessedNumbers.size() == 5)\n    System.out.println(&quot;You have guessed exactly 5 numbers correct.&quot;);\n</code></pre>\n"}],"owner":{"account_id":24934543,"reputation":3,"user_id":18801283,"display_name":"Eren Birb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72115195,"answer_count":1,"score":-1,"last_activity_date":1651676425,"creation_date":1651675873,"question_id":72115059,"body_markdown":"I wanted to make a program like a lottery where winning numbers are randomly generated.\r\n\r\nI used `(guessednumbers.containsAll(winningnumbers)` if the user guessed all the 6 numbers.\r\n\r\nIf the user only got to guess 5 digits, what method should I use to count the 5 correct numbers from the random generated ones?\r\n\r\nThe code would be:\r\n\r\n    System.out.println(&quot;The winning numbers were: &quot; + winningNumbers);\r\n    System.out.println(&quot;Your numbers are: &quot; + guessedNumbers);\r\n\r\n    guessedNumbers.retainAll(winningNumbers);\r\n    System.out.println(&quot;Your matched numbers are: &quot; + guessedNumbers);\r\n\r\n    if (guessednumbers.containsAll(winningNumbers)); {\r\n        System.out.println(&quot;Jackpot!&quot;);\r\n\r\n    }\r\n    else if (the supposed code if 5 digits were guessed correctly)\r\n        System.out.println(&quot;You won a consolation prize!&quot;); }\r\n\r\n---\r\nclass are `java.util.List`, `java.util.Random` and `java.util.ArrayList;`.\r\n\r\ndata types are all integer.","title":"how would i match the number of correct guesses?","body":"<p>I wanted to make a program like a lottery where winning numbers are randomly generated.</p>\n<p>I used <code>(guessednumbers.containsAll(winningnumbers)</code> if the user guessed all the 6 numbers.</p>\n<p>If the user only got to guess 5 digits, what method should I use to count the 5 correct numbers from the random generated ones?</p>\n<p>The code would be:</p>\n<pre><code>System.out.println(&quot;The winning numbers were: &quot; + winningNumbers);\nSystem.out.println(&quot;Your numbers are: &quot; + guessedNumbers);\n\nguessedNumbers.retainAll(winningNumbers);\nSystem.out.println(&quot;Your matched numbers are: &quot; + guessedNumbers);\n\nif (guessednumbers.containsAll(winningNumbers)); {\n    System.out.println(&quot;Jackpot!&quot;);\n\n}\nelse if (the supposed code if 5 digits were guessed correctly)\n    System.out.println(&quot;You won a consolation prize!&quot;); }\n</code></pre>\n<hr />\n<p>class are <code>java.util.List</code>, <code>java.util.Random</code> and <code>java.util.ArrayList;</code>.</p>\n<p>data types are all integer.</p>\n"},{"tags":["java","php","com","apache-poi"],"comments":[{"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"score":0,"creation_date":1397138721,"post_id":22990348,"comment_id":35110477,"body_markdown":"Try to use `Apache poi`, a java library.","body":"Try to use <code>Apache poi</code>, a java library."},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397138749,"post_id":22990348,"comment_id":35110496,"body_markdown":"Would that work for ppt, pptx, doc and docx?","body":"Would that work for ppt, pptx, doc and docx?"},{"owner":{"account_id":1997699,"reputation":1780,"user_id":1789515,"display_name":"Mattt"},"score":0,"creation_date":1397138986,"post_id":22990348,"comment_id":35110692,"body_markdown":"@opensource-ios why not try it?","body":"@opensource-ios why not try it?"},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397139187,"post_id":22990348,"comment_id":35110840,"body_markdown":"Hi matt, i am not very aware of Java, I know PHP, for me to try it would take a lot of time, i would love to try myslef, but if i could be sure it works, it would be great.","body":"Hi matt, i am not very aware of Java, I know PHP, for me to try it would take a lot of time, i would love to try myslef, but if i could be sure it works, it would be great."},{"owner":{"account_id":279462,"reputation":20753,"user_id":574632,"accept_rate":95,"display_name":"Steve"},"score":0,"creation_date":1397139347,"post_id":22990348,"comment_id":35110953,"body_markdown":"I believe ms openxml library is broadly mono compliant, and works well with these document formats. Would involve installing mono, writing some c# and calling the resulting executable from php. There is probably a simpler solution","body":"I believe ms openxml library is broadly mono compliant, and works well with these document formats. Would involve installing mono, writing some c# and calling the resulting executable from php. There is probably a simpler solution"},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397139469,"post_id":22990348,"comment_id":35111049,"body_markdown":"user574632,but my environment is LINUX server","body":"user574632,but my environment is LINUX server"},{"owner":{"account_id":279462,"reputation":20753,"user_id":574632,"accept_rate":95,"display_name":"Steve"},"score":0,"creation_date":1397139861,"post_id":22990348,"comment_id":35111360,"body_markdown":"@opensource-ios yes, hence why MONO compliance is key. MONO lets you run .net on linux and other platforms http://www.mono-project.com/Main_Page","body":"@opensource-ios yes, hence why MONO compliance is key. MONO lets you run .net on linux and other platforms <a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">mono-project.com/Main_Page</a>"},{"owner":{"account_id":127435,"reputation":210335,"user_id":324584,"accept_rate":91,"display_name":"Mark Baker"},"score":0,"creation_date":1397139979,"post_id":22990348,"comment_id":35111432,"body_markdown":"So how is this any different to your [previous](http://stackoverflow.com/questions/22984443/access-word-document-properties-and-power-point-document-properties-using-php-co) [questions](http://stackoverflow.com/questions/22834697/how-can-i-find-the-number-of-pages-in-word-document-and-number-of-slides-in-ppt) on the same subject?","body":"So how is this any different to your <a href=\"http://stackoverflow.com/questions/22984443/access-word-document-properties-and-power-point-document-properties-using-php-co\">previous</a> <a href=\"http://stackoverflow.com/questions/22834697/how-can-i-find-the-number-of-pages-in-word-document-and-number-of-slides-in-ppt\">questions</a> on the same subject?"},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397140076,"post_id":22990348,"comment_id":35111503,"body_markdown":"@ Mark Baker, previously It was restricted to PHP, now i am looking for any kind of solution which i can integrate.","body":"@ Mark Baker, previously It was restricted to PHP, now i am looking for any kind of solution which i can integrate."},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397140091,"post_id":22990348,"comment_id":35111522,"body_markdown":"Thanks user574632, i will check that","body":"Thanks user574632, i will check that"}],"answers":[{"tags":[],"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651676246,"creation_date":1397218564,"answer_id":23012294,"question_id":22990348,"body_markdown":"To get meta data properties of `doc`, `docx`, `ppt` and `pptx` like number of pages, number of slides I followed the following process and it worked liked a charm. Hope it helps someone:\r\n\r\n\r\n1. Download and configure [`Apache Tika`](https://tika.apache.org/)\r\n\r\n2. Once its done you could try executing the following commands, to get all the meta data about your file:\r\n\r\n```\r\njava -jar tika-app-1.5.jar -m test.docx\r\njava -jar tika-app-1.5.jar -m test.doc\r\njava -jar tika-app-1.5.jar -m test.pptx\r\njava -jar tika-app-1.5.jar -m test.ppt\r\n```\r\nOnce tested you can execute these commands in a PHP script. Thanks.\r\n","title":"get word document count and number of slides count in PPT","body":"<p>To get meta data properties of <code>doc</code>, <code>docx</code>, <code>ppt</code> and <code>pptx</code> like number of pages, number of slides I followed the following process and it worked liked a charm. Hope it helps someone:</p>\n<ol>\n<li><p>Download and configure <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\"><code>Apache Tika</code></a></p>\n</li>\n<li><p>Once its done you could try executing the following commands, to get all the meta data about your file:</p>\n</li>\n</ol>\n<pre><code>java -jar tika-app-1.5.jar -m test.docx\njava -jar tika-app-1.5.jar -m test.doc\njava -jar tika-app-1.5.jar -m test.pptx\njava -jar tika-app-1.5.jar -m test.ppt\n</code></pre>\n<p>Once tested you can execute these commands in a PHP script. Thanks.</p>\n"}],"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23012294,"answer_count":1,"score":1,"last_activity_date":1651676317,"creation_date":1397138645,"question_id":22990348,"body_markdown":"Is it possible to get the number of pages in word document or number of slides in a ppt?\r\n\r\nI have done a lot of research on it and I am desperately looking for  solution.  I saw that it is very difficult to get it done in PHP on linux server.\r\n\r\nI would be ok with Java also, but is it possible. I checked the apache POI library, but would it work for both `ppt`, `pptx`, `doc` and `docx`?\r\n\r\nI am rigorously searching for some solution but I am unable to get one. Any help would be really really appreciated.","title":"get word document count and number of slides count in PPT","body":"<p>Is it possible to get the number of pages in word document or number of slides in a ppt?</p>\n<p>I have done a lot of research on it and I am desperately looking for  solution.  I saw that it is very difficult to get it done in PHP on linux server.</p>\n<p>I would be ok with Java also, but is it possible. I checked the apache POI library, but would it work for both <code>ppt</code>, <code>pptx</code>, <code>doc</code> and <code>docx</code>?</p>\n<p>I am rigorously searching for some solution but I am unable to get one. Any help would be really really appreciated.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1651676107,"post_id":72114949,"comment_id":127420432,"body_markdown":"Are you asking how to modify the `BufferedImage` that method `createScreenCapture` (in class `java.awt.Robot`) returns?","body":"Are you asking how to modify the <code>BufferedImage</code> that method <code>createScreenCapture</code> (in class <code>java.awt.Robot</code>) returns?"}],"answers":[{"tags":[],"owner":{"account_id":19185912,"reputation":40,"user_id":14016710,"display_name":"Mohamed Essam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651676226,"creation_date":1651675664,"answer_id":72115010,"question_id":72114949,"body_markdown":"You can click on a specific Pixel with the mouse using **Robot** class in java\r\nand move it using `move` method.\r\n\r\n    import java.awt.Robot;\r\n    import java.awt.AWTException;\r\n    import java.awt.event.InputEvent;\r\n    \r\n    public class MouseClicker {\r\n    \r\n        static Robot rb;\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                rb = new Robot();\r\n            } catch (AWTException e) {\r\n                System.out.println(&quot;Error while creating object&quot; + e);\r\n            }\r\n            rb.mouseMove(1360, 768); //this method takes two parameters (Height, Width)\r\n            rb.mousePress(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to press it\r\n            rb.delay(10); //this is the delay between every press\r\n            rb.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to release it\r\n        }\r\n    }\r\n\r\n\r\nFor more reference you can see the [Oracle Docs][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html","title":"How to move cursor and click on a specific pixel in java screen","body":"<p>You can click on a specific Pixel with the mouse using <strong>Robot</strong> class in java\nand move it using <code>move</code> method.</p>\n<pre><code>import java.awt.Robot;\nimport java.awt.AWTException;\nimport java.awt.event.InputEvent;\n\npublic class MouseClicker {\n\n    static Robot rb;\n\n    public static void main(String[] args) {\n        try {\n            rb = new Robot();\n        } catch (AWTException e) {\n            System.out.println(&quot;Error while creating object&quot; + e);\n        }\n        rb.mouseMove(1360, 768); //this method takes two parameters (Height, Width)\n        rb.mousePress(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to press it\n        rb.delay(10); //this is the delay between every press\n        rb.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to release it\n    }\n}\n</code></pre>\n<p>For more reference you can see the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\">Oracle Docs</a>.</p>\n"}],"owner":{"account_id":25194552,"reputation":13,"user_id":19034288,"display_name":"Hima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72115010,"answer_count":1,"score":1,"last_activity_date":1651676226,"creation_date":1651675396,"question_id":72114949,"body_markdown":"I am trying to move cursor to a specific pixel in the screen and click on it using a java program.\r\n\r\nI tried to capture a screenshot then work on it but I am stuck.\r\n\r\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n    Rectangle screenRectangle = new Rectangle(screenSize);\r\n    Robot robot = new Robot();\r\n    BufferedImage image = robot.createScreenCapture(screenRectangle)\r\n","title":"How to move cursor and click on a specific pixel in java screen","body":"<p>I am trying to move cursor to a specific pixel in the screen and click on it using a java program.</p>\n<p>I tried to capture a screenshot then work on it but I am stuck.</p>\n<pre><code>Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\nRectangle screenRectangle = new Rectangle(screenSize);\nRobot robot = new Robot();\nBufferedImage image = robot.createScreenCapture(screenRectangle)\n</code></pre>\n"},{"tags":["java","sorting","optimization","java-stream","collectors"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1651665930,"post_id":72112541,"comment_id":127416118,"body_markdown":"Is the current implementation problematic? The problem with trying to do this &quot;better&quot; is that you would need a stateful filter (keeping track of the number of reds observed in the stream); but the documentation of `Stream.filter` says that filters should be stateless https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate).","body":"Is the current implementation problematic? The problem with trying to do this &quot;better&quot; is that you would need a stateful filter (keeping track of the number of reds observed in the stream); but the documentation of <code>Stream.filter</code> says that filters should be stateless <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>."},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":1,"creation_date":1651666083,"post_id":72112541,"comment_id":127416180,"body_markdown":"In addition to what @AndyTurner said I would suggest using `.sorted(Comparator.comparingInt(ElementsVO::getAge))` instead of explicit lambda","body":"In addition to what @AndyTurner said I would suggest using <code>.sorted(Comparator.comparingInt(ElementsVO::getAge))</code> instead of explicit lambda"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651667186,"post_id":72112541,"comment_id":127416596,"body_markdown":"You could write a List-collector that only collects the first 2 RED items","body":"You could write a List-collector that only collects the first 2 RED items"},{"owner":{"account_id":5494181,"reputation":71,"user_id":4365886,"display_name":"Alejandro Armenteros"},"score":0,"creation_date":1651733657,"post_id":72112541,"comment_id":127434158,"body_markdown":"Sure it was working, but i just discovered the stream API and wanted to know if there were any ways of improvement that did not require, double streams like in my example.","body":"Sure it was working, but i just discovered the stream API and wanted to know if there were any ways of improvement that did not require, double streams like in my example."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651666206,"creation_date":1651666206,"answer_id":72112730,"question_id":72112541,"body_markdown":"You can technically do this with a stateful predicate:\r\n\r\n```\r\nPredicate&lt;ElementsV0&gt; statefulPredicate = new Predicate&lt;ElementsV0&gt;() {\r\n  private int reds = 0;\r\n\r\n  @Override public boolean test(ElementsV0 e) {\r\n    if (elem.getColor() == RED) {\r\n      reds++;\r\n      return reds &lt; 2;\r\n    }\r\n    return true;\r\n  }\r\n};\r\n```\r\n\r\nThen:\r\n\r\n```\r\nList&lt;ElementsVO&gt; resultList =\r\n    allElements.stream()\r\n        .sorted(comparingInt(ElementsV0::getAge))\r\n        .filter(statefulPredicate)\r\n        .collect(toList());\r\n```\r\n\r\nThis _might_ work, but it is a violation of the Stream API: the documentation for [`Stream.filter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) says that the predicate should be stateless, which in general allows the stream implementation to apply the filter in any order. For small input lists, streamed sequentially, this will almost certainly be the appearance order in the list, but it&#39;s not guaranteed.\r\n\r\nCaveat emptor. Your current way works, although you could do the partitioning of the list more efficiently using `Collectors.partitioningBy` to avoid iterating it twice.","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>You can technically do this with a stateful predicate:</p>\n<pre><code>Predicate&lt;ElementsV0&gt; statefulPredicate = new Predicate&lt;ElementsV0&gt;() {\n  private int reds = 0;\n\n  @Override public boolean test(ElementsV0 e) {\n    if (elem.getColor() == RED) {\n      reds++;\n      return reds &lt; 2;\n    }\n    return true;\n  }\n};\n</code></pre>\n<p>Then:</p>\n<pre><code>List&lt;ElementsVO&gt; resultList =\n    allElements.stream()\n        .sorted(comparingInt(ElementsV0::getAge))\n        .filter(statefulPredicate)\n        .collect(toList());\n</code></pre>\n<p>This <em>might</em> work, but it is a violation of the Stream API: the documentation for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream.filter</code></a> says that the predicate should be stateless, which in general allows the stream implementation to apply the filter in any order. For small input lists, streamed sequentially, this will almost certainly be the appearance order in the list, but it's not guaranteed.</p>\n<p>Caveat emptor. Your current way works, although you could do the partitioning of the list more efficiently using <code>Collectors.partitioningBy</code> to avoid iterating it twice.</p>\n"},{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651671606,"creation_date":1651670877,"answer_id":72113766,"question_id":72112541,"body_markdown":"I wrote a generic Collector with a predicate and a limit of elements to add which match the predicate:\r\n\r\n    public class LimitedMatchCollector&lt;T&gt; implements Collector&lt;T, List&lt;T&gt;, List&lt;T&gt;&gt; {\r\n\r\n        private Predicate&lt;T&gt; filter;\r\n\r\n        private int limit;\r\n\r\n        public LimitedMatchCollector(Predicate&lt;T&gt; filter, int limit)\r\n        {\r\n            super();\r\n            this.filter = filter;\r\n            this.limit = limit;\r\n        }\r\n\r\n        private int count = 0;\r\n\r\n        @Override\r\n        public Supplier&lt;List&lt;T&gt;&gt; supplier() {\r\n            return () -&gt; new ArrayList&lt;T&gt;();\r\n        }\r\n\r\n        @Override\r\n        public BiConsumer&lt;List&lt;T&gt;, T&gt; accumulator() {\r\n            return this::accumulator;\r\n        }\r\n\r\n        @Override\r\n        public BinaryOperator&lt;List&lt;T&gt;&gt; combiner() {\r\n            return this::combiner;\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return Stream.of(Characteristics.IDENTITY_FINISH)\r\n                    .collect(Collectors.toCollection(HashSet::new));\r\n        }\r\n\r\n        public List&lt;T&gt; accumulator(List&lt;T&gt; list , T e) {\r\n            if (filter.test(e)) {\r\n\r\n               if (count &gt;= limit) {\r\n                   return list;\r\n               }\r\n               count++;\r\n            }\r\n            list.add(e);\r\n            return list;\r\n        }\r\n\r\n        public List&lt;T&gt; combiner(List&lt;T&gt; left , List&lt;T&gt; right) {\r\n            right.forEach( e -&gt; {\r\n                if (filter.test(e)) {\r\n\r\n                    if (count &lt; limit) {\r\n                        left.add(e);\r\n                        count++;\r\n                    }\r\n                 }\r\n            });\r\n\r\n            return left;\r\n        }\r\n\r\n        @Override\r\n        public Function&lt;List&lt;T&gt;, List&lt;T&gt;&gt; finisher()\r\n        {\r\n            return Function.identity();\r\n        }\r\n\r\n    }\r\n\r\n\r\n**Usage:**\r\n\r\n        List&lt;ElementsVO&gt; list = Arrays.asList(new ElementsVO(&quot;BLUE&quot;, 1)\r\n               ,new ElementsVO(&quot;BLUE&quot;, 2) // made color a String\r\n               ,new ElementsVO(&quot;RED&quot;, 3)\r\n               ,new ElementsVO(&quot;RED&quot;, 4)\r\n               ,new ElementsVO(&quot;GREEN&quot;, 5)\r\n               ,new ElementsVO(&quot;RED&quot;, 6)\r\n               ,new ElementsVO(&quot;YELLOW&quot;, 7)\r\n               );\r\n        System.out.println(list.stream().collect(new LimitedMatchCollector&lt;ElementsVO&gt;( (e) -&gt; &quot;RED&quot;.equals(e.getColor()),2)));\r\n","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>I wrote a generic Collector with a predicate and a limit of elements to add which match the predicate:</p>\n<pre><code>public class LimitedMatchCollector&lt;T&gt; implements Collector&lt;T, List&lt;T&gt;, List&lt;T&gt;&gt; {\n\n    private Predicate&lt;T&gt; filter;\n\n    private int limit;\n\n    public LimitedMatchCollector(Predicate&lt;T&gt; filter, int limit)\n    {\n        super();\n        this.filter = filter;\n        this.limit = limit;\n    }\n\n    private int count = 0;\n\n    @Override\n    public Supplier&lt;List&lt;T&gt;&gt; supplier() {\n        return () -&gt; new ArrayList&lt;T&gt;();\n    }\n\n    @Override\n    public BiConsumer&lt;List&lt;T&gt;, T&gt; accumulator() {\n        return this::accumulator;\n    }\n\n    @Override\n    public BinaryOperator&lt;List&lt;T&gt;&gt; combiner() {\n        return this::combiner;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Stream.of(Characteristics.IDENTITY_FINISH)\n                .collect(Collectors.toCollection(HashSet::new));\n    }\n\n    public List&lt;T&gt; accumulator(List&lt;T&gt; list , T e) {\n        if (filter.test(e)) {\n\n           if (count &gt;= limit) {\n               return list;\n           }\n           count++;\n        }\n        list.add(e);\n        return list;\n    }\n\n    public List&lt;T&gt; combiner(List&lt;T&gt; left , List&lt;T&gt; right) {\n        right.forEach( e -&gt; {\n            if (filter.test(e)) {\n\n                if (count &lt; limit) {\n                    left.add(e);\n                    count++;\n                }\n             }\n        });\n\n        return left;\n    }\n\n    @Override\n    public Function&lt;List&lt;T&gt;, List&lt;T&gt;&gt; finisher()\n    {\n        return Function.identity();\n    }\n\n}\n</code></pre>\n<p><strong>Usage:</strong></p>\n<pre><code>    List&lt;ElementsVO&gt; list = Arrays.asList(new ElementsVO(&quot;BLUE&quot;, 1)\n           ,new ElementsVO(&quot;BLUE&quot;, 2) // made color a String\n           ,new ElementsVO(&quot;RED&quot;, 3)\n           ,new ElementsVO(&quot;RED&quot;, 4)\n           ,new ElementsVO(&quot;GREEN&quot;, 5)\n           ,new ElementsVO(&quot;RED&quot;, 6)\n           ,new ElementsVO(&quot;YELLOW&quot;, 7)\n           );\n    System.out.println(list.stream().collect(new LimitedMatchCollector&lt;ElementsVO&gt;( (e) -&gt; &quot;RED&quot;.equals(e.getColor()),2)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651675800,"creation_date":1651671765,"answer_id":72113998,"question_id":72112541,"body_markdown":"You can implement a **custom collector** that will maintain two separate collections of *RED* and *non-RED* element. \r\n\r\nAnd since you need only two red elements having the greatest age to improve performance, you can introduce a **partial sorting**. I.e. collection of non-red element needs to maintain an order and always must be of size `2` at most, with that overhead of sorting will be far less significant in comparison to sorting of elements having the property of `RED` in order to pick only two of them.\r\n\r\nIn order to create a *custom collector*, you might make use of the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)) which expects the following arguments:\r\n\r\n* **Supplier** `Supplier&lt;A&gt;` is meant to provide a *mutable container* which store elements of the stream. Because we need to separate elements by color into two groups as a container, we can use a map that will contain only `2` *keys* (`true` and `false`), denoting whether elements mapped to this *key* are *red*. In order to store *red-elements* and perform a *partial sorting*, we need a collection that is capable of maintaining the order. `PriorityQueue` is a good choice for that purpose. To store all other elements, I&#39;ve used `ArrayDeque`, which doesn&#39;t maintain the order and as fast as `ArrayList`.\r\n* **Accumulator** BiConsumer&lt;A,T&gt; defines how to add elements into the *mutable container* provided by the *supplier*. For this task, the *accumulator* needs to guarantee that the queue, containing *red-elements* will not exceed the given size by rejecting values that are smaller than the lowest value previously added to the queue and by removing the lowest value if the size has reached the limit and a new value needs to be added. This functionality extracted into a separate method `tryAdd()`\r\n* **Combiner** `BinaryOperator&lt;A&gt; combiner()` establishes a rule on how to merge two *containers* obtained while executing stream in parallel. Here, combiner rely on the same logic that was described for accumulator.\r\n* **Finisher** `Function&lt;A,R&gt;` is meant to produce the *final result* by transforming the *mutable container*. In the code below, finisher dumps the contents of both queues into a stream, sorts them and collects into an immutable list.\r\n* **Characteristics** allow fine-tuning the collector by providing additional information on how it should function. Here a characteristic `Collector.Characteristics.UNORDERED` is being applied. Which indicates that the order in which partial results of the reduction produced in parallel is not significant, that can improve performance of this collector with parallel streams.\r\n\r\nThe code might look like this:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;ElementsVO&gt; allElements =\r\n            List.of(new ElementsVO(Color.RED, 25), new ElementsVO(Color.RED, 23), new ElementsVO(Color.RED, 27),\r\n                    new ElementsVO(Color.BLACK, 19), new ElementsVO(Color.GREEN, 23), new ElementsVO(Color.GREEN, 29));\r\n        \r\n        Comparator&lt;ElementsVO&gt; byAge = Comparator.comparing(ElementsVO::getAge);\r\n        \r\n        List&lt;ElementsVO&gt; resultList = allElements.stream()\r\n            .collect(getNFiltered(byAge, element -&gt; element.getColor() != Color.RED, 2));\r\n    \r\n        resultList.forEach(System.out::println);\r\n    }\r\n\r\nThe method below is responsible for creating of a collector that partition the elements based on the given *predicate* and will sort them in accordance with the provided *comparator*.\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getNFiltered(Comparator&lt;T&gt; comparator,\r\n                                                            Predicate&lt;T&gt; condition,\r\n                                                            int limit) {\r\n        return Collector.of(\r\n            () -&gt; Map.of(true, new PriorityQueue&lt;&gt;(comparator),\r\n                false, new ArrayDeque&lt;&gt;()),\r\n            (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed, T next) -&gt; {\r\n                if (condition.test(next)) isRed.get(false).add(next);\r\n                else tryAdd(isRed.get(true), next, comparator, limit);\r\n            },\r\n            (Map&lt;Boolean, Queue&lt;T&gt;&gt; left, Map&lt;Boolean, Queue&lt;T&gt;&gt; right) -&gt; {\r\n                left.get(false).addAll(right.get(false));\r\n                left.get(true).forEach(next -&gt; tryAdd(left.get(true), next, comparator, limit));\r\n                return left;\r\n            },\r\n            (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed) -&gt; isRed.values().stream()\r\n                .flatMap(Queue::stream).sorted(comparator).toList(),\r\n            Collector.Characteristics.UNORDERED\r\n        );\r\n    }\r\n\r\nThis method is responsible for adding the next *red-element* into the priority queue. It expects a *comparator* in order to be able to determine whether the next element should be added or discarded, and a value of the maximum size of the queue (`2`), to check if it was exceeded.\r\n\r\n    public static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\r\n        if (queue.size() == size &amp;&amp; comparator.compare(queue.element(), next) &lt; 0)\r\n            queue.remove(); // if the next element is greater than the smallest element in the queue and max size has been exceeded, the smallest element needs to be removed from the queue\r\n        if (queue.size() &lt; size) queue.add(next);\r\n    }\r\n\r\n**Output**\r\n```\r\nlementsVO{color=BLACK, age=19}\r\nElementsVO{color=GREEN, age=23}\r\nElementsVO{color=RED, age=25}\r\nElementsVO{color=RED, age=27}\r\nElementsVO{color=GREEN, age=29}\r\n```  ","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>You can implement a <strong>custom collector</strong> that will maintain two separate collections of <em>RED</em> and <em>non-RED</em> element.</p>\n<p>And since you need only two red elements having the greatest age to improve performance, you can introduce a <strong>partial sorting</strong>. I.e. collection of non-red element needs to maintain an order and always must be of size <code>2</code> at most, with that overhead of sorting will be far less significant in comparison to sorting of elements having the property of <code>RED</code> in order to pick only two of them.</p>\n<p>In order to create a <em>custom collector</em>, you might make use of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> which expects the following arguments:</p>\n<ul>\n<li><strong>Supplier</strong> <code>Supplier&lt;A&gt;</code> is meant to provide a <em>mutable container</em> which store elements of the stream. Because we need to separate elements by color into two groups as a container, we can use a map that will contain only <code>2</code> <em>keys</em> (<code>true</code> and <code>false</code>), denoting whether elements mapped to this <em>key</em> are <em>red</em>. In order to store <em>red-elements</em> and perform a <em>partial sorting</em>, we need a collection that is capable of maintaining the order. <code>PriorityQueue</code> is a good choice for that purpose. To store all other elements, I've used <code>ArrayDeque</code>, which doesn't maintain the order and as fast as <code>ArrayList</code>.</li>\n<li><strong>Accumulator</strong> BiConsumer&lt;A,T&gt; defines how to add elements into the <em>mutable container</em> provided by the <em>supplier</em>. For this task, the <em>accumulator</em> needs to guarantee that the queue, containing <em>red-elements</em> will not exceed the given size by rejecting values that are smaller than the lowest value previously added to the queue and by removing the lowest value if the size has reached the limit and a new value needs to be added. This functionality extracted into a separate method <code>tryAdd()</code></li>\n<li><strong>Combiner</strong> <code>BinaryOperator&lt;A&gt; combiner()</code> establishes a rule on how to merge two <em>containers</em> obtained while executing stream in parallel. Here, combiner rely on the same logic that was described for accumulator.</li>\n<li><strong>Finisher</strong> <code>Function&lt;A,R&gt;</code> is meant to produce the <em>final result</em> by transforming the <em>mutable container</em>. In the code below, finisher dumps the contents of both queues into a stream, sorts them and collects into an immutable list.</li>\n<li><strong>Characteristics</strong> allow fine-tuning the collector by providing additional information on how it should function. Here a characteristic <code>Collector.Characteristics.UNORDERED</code> is being applied. Which indicates that the order in which partial results of the reduction produced in parallel is not significant, that can improve performance of this collector with parallel streams.</li>\n</ul>\n<p>The code might look like this:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;ElementsVO&gt; allElements =\n        List.of(new ElementsVO(Color.RED, 25), new ElementsVO(Color.RED, 23), new ElementsVO(Color.RED, 27),\n                new ElementsVO(Color.BLACK, 19), new ElementsVO(Color.GREEN, 23), new ElementsVO(Color.GREEN, 29));\n    \n    Comparator&lt;ElementsVO&gt; byAge = Comparator.comparing(ElementsVO::getAge);\n    \n    List&lt;ElementsVO&gt; resultList = allElements.stream()\n        .collect(getNFiltered(byAge, element -&gt; element.getColor() != Color.RED, 2));\n\n    resultList.forEach(System.out::println);\n}\n</code></pre>\n<p>The method below is responsible for creating of a collector that partition the elements based on the given <em>predicate</em> and will sort them in accordance with the provided <em>comparator</em>.</p>\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getNFiltered(Comparator&lt;T&gt; comparator,\n                                                        Predicate&lt;T&gt; condition,\n                                                        int limit) {\n    return Collector.of(\n        () -&gt; Map.of(true, new PriorityQueue&lt;&gt;(comparator),\n            false, new ArrayDeque&lt;&gt;()),\n        (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed, T next) -&gt; {\n            if (condition.test(next)) isRed.get(false).add(next);\n            else tryAdd(isRed.get(true), next, comparator, limit);\n        },\n        (Map&lt;Boolean, Queue&lt;T&gt;&gt; left, Map&lt;Boolean, Queue&lt;T&gt;&gt; right) -&gt; {\n            left.get(false).addAll(right.get(false));\n            left.get(true).forEach(next -&gt; tryAdd(left.get(true), next, comparator, limit));\n            return left;\n        },\n        (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed) -&gt; isRed.values().stream()\n            .flatMap(Queue::stream).sorted(comparator).toList(),\n        Collector.Characteristics.UNORDERED\n    );\n}\n</code></pre>\n<p>This method is responsible for adding the next <em>red-element</em> into the priority queue. It expects a <em>comparator</em> in order to be able to determine whether the next element should be added or discarded, and a value of the maximum size of the queue (<code>2</code>), to check if it was exceeded.</p>\n<pre><code>public static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\n    if (queue.size() == size &amp;&amp; comparator.compare(queue.element(), next) &lt; 0)\n        queue.remove(); // if the next element is greater than the smallest element in the queue and max size has been exceeded, the smallest element needs to be removed from the queue\n    if (queue.size() &lt; size) queue.add(next);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>lementsVO{color=BLACK, age=19}\nElementsVO{color=GREEN, age=23}\nElementsVO{color=RED, age=25}\nElementsVO{color=RED, age=27}\nElementsVO{color=GREEN, age=29}\n</code></pre>\n"}],"owner":{"account_id":5494181,"reputation":71,"user_id":4365886,"display_name":"Alejandro Armenteros"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651675800,"creation_date":1651665231,"question_id":72112541,"body_markdown":"My question is: is there a better way to implement this task?\r\n\r\nI have a list of orderable elements (in this example by `age`, the youngest first).\r\nAnd I want to delete all elements that fulfill a *condition* (in this example *red elements*) but keep the first `2` of them.\r\n\r\n    Stream&lt;ElementsVO&gt; stream = allElements.stream();\r\n\tStream&lt;ElementsVO&gt; redStream = stream.filter(elem-&gt;elem.getColor()==RED).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\r\n\t\t\t\t}).limit(2);\r\n\tStream&lt;ElementsVO&gt; nonRedStream=stream.filter(elem-&gt;elem.getColor()!=RED);\r\n\r\n\tList&lt;ElementsVO&gt; resultList = Stream.concat(redStream,nonRedStream).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\r\n\t\t\t\t}).collect(Collectors.toList());\r\n\t\t\r\nAny idea to improve this? Any way to implement an accumulator function or something like that with streams?\r\n","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>My question is: is there a better way to implement this task?</p>\n<p>I have a list of orderable elements (in this example by <code>age</code>, the youngest first).\nAnd I want to delete all elements that fulfill a <em>condition</em> (in this example <em>red elements</em>) but keep the first <code>2</code> of them.</p>\n<pre><code>Stream&lt;ElementsVO&gt; stream = allElements.stream();\nStream&lt;ElementsVO&gt; redStream = stream.filter(elem-&gt;elem.getColor()==RED).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\n            }).limit(2);\nStream&lt;ElementsVO&gt; nonRedStream=stream.filter(elem-&gt;elem.getColor()!=RED);\n\nList&lt;ElementsVO&gt; resultList = Stream.concat(redStream,nonRedStream).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\n            }).collect(Collectors.toList());\n    \n</code></pre>\n<p>Any idea to improve this? Any way to implement an accumulator function or something like that with streams?</p>\n"},{"tags":["java","android","firebase-realtime-database","arduino-uno"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651658790,"creation_date":1651658790,"answer_id":72111184,"question_id":72110723,"body_markdown":"&gt;I want my app to check for the value even if the app is closed\r\n\r\nThat does not seem hard. You can use a `Service` class and then do the event listener task there. Since you haven&#39;t asked for any code, I won&#39;t share it.\r\n\r\n[This](https://stackoverflow.com/q/46618432/17133283) is a good post on it","title":"How to detect change in firebase by using android studio?","body":"<blockquote>\n<p>I want my app to check for the value even if the app is closed</p>\n</blockquote>\n<p>That does not seem hard. You can use a <code>Service</code> class and then do the event listener task there. Since you haven't asked for any code, I won't share it.</p>\n<p><a href=\"https://stackoverflow.com/q/46618432/17133283\">This</a> is a good post on it</p>\n"}],"owner":{"account_id":21843527,"reputation":43,"user_id":16136742,"display_name":"Aarya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1651674603,"accepted_answer_id":72111184,"answer_count":1,"score":1,"last_activity_date":1651674808,"creation_date":1651656621,"question_id":72110723,"body_markdown":" My Arduino-Uno(this chip is not related to this question) sends either one of two values to **firebase**, **1 or 0**, I want it so that every time the value in the database is updated, it gets detected in android studio and it checks if the value updated is one\r\n\r\nI don&#39;t particularly require a block of code, I just need to know the concept of this part. I want my app to check for the value even if the app is closed, for which which I did find something on stack overflow.\r\n","title":"How to detect change in firebase by using android studio?","body":"<p>My Arduino-Uno(this chip is not related to this question) sends either one of two values to <strong>firebase</strong>, <strong>1 or 0</strong>, I want it so that every time the value in the database is updated, it gets detected in android studio and it checks if the value updated is one</p>\n<p>I don't particularly require a block of code, I just need to know the concept of this part. I want my app to check for the value even if the app is closed, for which which I did find something on stack overflow.</p>\n"},{"tags":["java","apache-poi","aspose-slides"],"comments":[{"owner":{"account_id":1109015,"reputation":1359,"user_id":1099819,"accept_rate":75,"display_name":"Mirko Ebert"},"score":1,"creation_date":1608550194,"post_id":65389294,"comment_id":115609238,"body_markdown":"Do you have any error message and code?","body":"Do you have any error message and code?"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1608551536,"post_id":65389294,"comment_id":115609835,"body_markdown":"If you just want to replace the image, you don&#39;t need POI. The .pptx is a .zip file. the image is one of the files under /ppt/media. You can replace it with the typical java zip methods, i.e. read/iterate over the old .zip and write to the new one whilst replacing the image file.","body":"If you just want to replace the image, you don&#39;t need POI. The .pptx is a .zip file. the image is one of the files under /ppt/media. You can replace it with the typical java zip methods, i.e. read/iterate over the old .zip and write to the new one whilst replacing the image file."},{"owner":{"account_id":20266675,"reputation":3,"user_id":14863691,"display_name":"Mites97"},"score":0,"creation_date":1608638701,"post_id":65389294,"comment_id":115639123,"body_markdown":"Thanks for the reply but any small poc kind of example will help me ....although i have found a workaround by deleting images using XSSFShapes.remove and adding a new image in its place by reading it as a byte array ...but i am not sure if it is the efficient way","body":"Thanks for the reply but any small poc kind of example will help me ....although i have found a workaround by deleting images using XSSFShapes.remove and adding a new image in its place by reading it as a byte array ...but i am not sure if it is the efficient way"}],"answers":[{"tags":[],"owner":{"account_id":3279564,"reputation":67,"user_id":2760476,"display_name":"Andrey Potapov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651674738,"creation_date":1651674738,"answer_id":72114768,"question_id":65389294,"body_markdown":"[Aspose.Slides for Java][1] makes it easy to replace an image with another in a PowerPoint presentation. The following code example shows you how to do this:\r\n```java\r\n// Load a presentation file.\r\nvar presentation = new Presentation(&quot;input.pptx&quot;);\r\n\r\n// Add an image to presentation resources.\r\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\r\nvar newImage = presentation.getImages().addImage(imageData);\r\n\r\n// Let&#39;s the first shape on the first slide is a picture frame.\r\nvar firstSlide = presentation.getSlides().get_Item(0);\r\nvar pictureFrame = (IPictureFrame) firstSlide.getShapes().get_Item(0);\r\n\r\n// Replace an image with the new one.\r\npictureFrame.getPictureFormat().getPicture().setImage(newImage);\r\n\r\n// Save the presentation.\r\npresentation.save(&quot;output.pptx&quot;, SaveFormat.Pptx);\r\n\r\npresentation.dispose();\r\n```\r\n\r\nAlternatively, you can use [Aspose.Slides Cloud SDK for Java][2] that provides a REST-based API for managing presentations. The code example below shows you how to update an image in a presentation using Aspose.Slides Cloud:\r\n```java\r\nvar slidesApi = new SlidesApi(&quot;my_client_id&quot;, &quot;my_client_secret&quot;);\r\n\r\nvar fileName = &quot;example.pptx&quot;;\r\nvar slideIndex = 1;\r\nvar shapeIndex = 1;\r\n\r\n// Get image data as a Base64 string.\r\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\r\nvar imageBase64String = Base64.getEncoder().encodeToString(imageData);\r\n\r\n// Get a picture frame.\r\nvar pictureFrame = (PictureFrame)slidesApi.getShape(fileName, slideIndex, shapeIndex, null, null, null);\r\n\r\n// Update the image data.\r\npictureFrame.setPictureFillFormat(new PictureFill());\r\npictureFrame.getPictureFillFormat().setBase64Data(imageBase64String);\r\n\r\n// Update the picture frame.\r\nslidesApi.updateShape(fileName, slideIndex, shapeIndex, pictureFrame, null, null, null);\r\n```\r\nI work as a Support Developer at Aspose.\r\n\r\n\r\n  [1]: https://products.aspose.com/slides/java/\r\n  [2]: https://products.aspose.cloud/slides/java/","title":"Replacing an image using Apache POI is not working","body":"<p><a href=\"https://products.aspose.com/slides/java/\" rel=\"nofollow noreferrer\">Aspose.Slides for Java</a> makes it easy to replace an image with another in a PowerPoint presentation. The following code example shows you how to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Load a presentation file.\nvar presentation = new Presentation(&quot;input.pptx&quot;);\n\n// Add an image to presentation resources.\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\nvar newImage = presentation.getImages().addImage(imageData);\n\n// Let's the first shape on the first slide is a picture frame.\nvar firstSlide = presentation.getSlides().get_Item(0);\nvar pictureFrame = (IPictureFrame) firstSlide.getShapes().get_Item(0);\n\n// Replace an image with the new one.\npictureFrame.getPictureFormat().getPicture().setImage(newImage);\n\n// Save the presentation.\npresentation.save(&quot;output.pptx&quot;, SaveFormat.Pptx);\n\npresentation.dispose();\n</code></pre>\n<p>Alternatively, you can use <a href=\"https://products.aspose.cloud/slides/java/\" rel=\"nofollow noreferrer\">Aspose.Slides Cloud SDK for Java</a> that provides a REST-based API for managing presentations. The code example below shows you how to update an image in a presentation using Aspose.Slides Cloud:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var slidesApi = new SlidesApi(&quot;my_client_id&quot;, &quot;my_client_secret&quot;);\n\nvar fileName = &quot;example.pptx&quot;;\nvar slideIndex = 1;\nvar shapeIndex = 1;\n\n// Get image data as a Base64 string.\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\nvar imageBase64String = Base64.getEncoder().encodeToString(imageData);\n\n// Get a picture frame.\nvar pictureFrame = (PictureFrame)slidesApi.getShape(fileName, slideIndex, shapeIndex, null, null, null);\n\n// Update the image data.\npictureFrame.setPictureFillFormat(new PictureFill());\npictureFrame.getPictureFillFormat().setBase64Data(imageBase64String);\n\n// Update the picture frame.\nslidesApi.updateShape(fileName, slideIndex, shapeIndex, pictureFrame, null, null, null);\n</code></pre>\n<p>I work as a Support Developer at Aspose.</p>\n"}],"owner":{"account_id":20266675,"reputation":3,"user_id":14863691,"display_name":"Mites97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114768,"answer_count":1,"score":0,"last_activity_date":1651674738,"creation_date":1608537706,"question_id":65389294,"body_markdown":"I want to replace an existing image present in a slide of a PPT using Apache POI. But there is some difficulty to achieve this. Can anyone suggest how to approach the problem since I am quite new to this and I could not find any articles that could help me?","title":"Replacing an image using Apache POI is not working","body":"<p>I want to replace an existing image present in a slide of a PPT using Apache POI. But there is some difficulty to achieve this. Can anyone suggest how to approach the problem since I am quite new to this and I could not find any articles that could help me?</p>\n"},{"tags":["java","imageview","javafx","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":1405485,"reputation":3174,"user_id":1333331,"display_name":"lukk"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1391505160,"creation_date":1391473185,"answer_id":21540615,"question_id":21540378,"body_markdown":"Try your luck with [SwingFXUtils][1].\r\nThere is a method for that purpose:\r\n\r\n    BufferedImage fromFXImage(Image img, BufferedImage bimg)\r\n\r\nYou can call it with second parameter `null`, as it is optional (exists for memory reuse reason):\r\n\r\n    BufferedImage image = SwingFXUtils.fromFXImage(fxImage, null);\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/embed/swing/SwingFXUtils.html","title":"Convert JavaFX image To BufferedImage","body":"<p>Try your luck with <a href=\"http://docs.oracle.com/javafx/2/api/javafx/embed/swing/SwingFXUtils.html\">SwingFXUtils</a>.\nThere is a method for that purpose:</p>\n\n<pre><code>BufferedImage fromFXImage(Image img, BufferedImage bimg)\n</code></pre>\n\n<p>You can call it with second parameter <code>null</code>, as it is optional (exists for memory reuse reason):</p>\n\n<pre><code>BufferedImage image = SwingFXUtils.fromFXImage(fxImage, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6997538,"reputation":193,"user_id":5364716,"display_name":"Luna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651674518,"creation_date":1651674518,"answer_id":72114722,"question_id":21540378,"body_markdown":"I find it insane to import the entirety of Java Swing only for this. There are other solutions. My solution below is not too great, but I think it&#39;s better than importing a completely new library.\r\n\r\n``` lang-java\r\nImage image = /* your image */;\r\nint width = (int) image.getWidth();\r\nint height = (int) image.getHeight();\r\nint pixels[] = new int[width * height];\r\n\r\n// Load the image&#39;s data into an array\r\n// You need to MAKE SURE the image&#39;s pixel format is compatible with IntBuffer\r\nimage.getPixelReader().getPixels(\r\n    0, 0, width, height, \r\n    (WritablePixelFormat&lt;IntBuffer&gt;) image.getPixelReader().getPixelFormat(),\r\n    pixels, 0, width\r\n);\r\n\r\nBufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n\r\nfor (int y = 0; y &lt; height; y++) {\r\n    for (int x = 0; x &lt; width; x++) {\r\n        // There may be better ways to do this\r\n        // You&#39;ll need to make sure your image&#39;s format is correct here\r\n        var pixel = pixels[y * width + x];\r\n        int r = (pixel &amp; 0xFF0000) &gt;&gt; 16;\r\n        int g = (pixel &amp; 0xFF00) &gt;&gt; 8;\r\n        int b = (pixel &amp; 0xFF) &gt;&gt; 0;\r\n\r\n        bufferedImage.getRaster().setPixel(x, y, new int[]{r, g, b});\r\n    }\r\n}\r\n```","title":"Convert JavaFX image To BufferedImage","body":"<p>I find it insane to import the entirety of Java Swing only for this. There are other solutions. My solution below is not too great, but I think it's better than importing a completely new library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Image image = /* your image */;\nint width = (int) image.getWidth();\nint height = (int) image.getHeight();\nint pixels[] = new int[width * height];\n\n// Load the image's data into an array\n// You need to MAKE SURE the image's pixel format is compatible with IntBuffer\nimage.getPixelReader().getPixels(\n    0, 0, width, height, \n    (WritablePixelFormat&lt;IntBuffer&gt;) image.getPixelReader().getPixelFormat(),\n    pixels, 0, width\n);\n\nBufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n\nfor (int y = 0; y &lt; height; y++) {\n    for (int x = 0; x &lt; width; x++) {\n        // There may be better ways to do this\n        // You'll need to make sure your image's format is correct here\n        var pixel = pixels[y * width + x];\n        int r = (pixel &amp; 0xFF0000) &gt;&gt; 16;\n        int g = (pixel &amp; 0xFF00) &gt;&gt; 8;\n        int b = (pixel &amp; 0xFF) &gt;&gt; 0;\n\n        bufferedImage.getRaster().setPixel(x, y, new int[]{r, g, b});\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3254462,"reputation":388,"user_id":2743956,"accept_rate":53,"display_name":"Piet Jetse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14688,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":21540615,"answer_count":2,"score":15,"last_activity_date":1651674518,"creation_date":1391472026,"question_id":21540378,"body_markdown":"I&#39;m trying to convert an `JavaFX` Image(from `ImageView`) to an `BufferedImage`.\r\nI tried casting and stuff but nothing works.\r\nCan someone suggest how i should do this?","title":"Convert JavaFX image To BufferedImage","body":"<p>I'm trying to convert an <code>JavaFX</code> Image(from <code>ImageView</code>) to an <code>BufferedImage</code>.\nI tried casting and stuff but nothing works.\nCan someone suggest how i should do this?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651672572,"post_id":72114074,"comment_id":127418902,"body_markdown":"I am struggling what exactly you want to achieve. Please see [mcve] and tell us about EXPECTED vs actual result. Besides: there is no need to create a new Random object 7 times. You can invoke nextInt() multiple times on the **same** random object. Also note: there is absolutely no need to use an array here?! You can use `List.of(&quot;val&quot;, &quot;val2&quot;, ....)` to create a List, and you can use `someList.remove(index)` directly. No need to first lookup the string to then remove the string?","body":"I am struggling what exactly you want to achieve. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and tell us about EXPECTED vs actual result. Besides: there is no need to create a new Random object 7 times. You can invoke nextInt() multiple times on the <b>same</b> random object. Also note: there is absolutely no need to use an array here?! You can use <code>List.of(&quot;val&quot;, &quot;val2&quot;, ....)</code> to create a List, and you can use <code>someList.remove(index)</code> directly. No need to first lookup the string to then remove the string?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1651672868,"post_id":72114074,"comment_id":127419044,"body_markdown":"You can also use `Collections.shuffle(deck);` which would randomize(AKA shuffle) the order of the `List`, and then you can just grab cards in index order, which is very similar to just shuffling and drawing cards in real life anyway, instead of using `Random`.","body":"You can also use <code>Collections.shuffle(deck);</code> which would randomize(AKA shuffle) the order of the <code>List</code>, and then you can just grab cards in index order, which is very similar to just shuffling and drawing cards in real life anyway, instead of using <code>Random</code>."},{"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"score":0,"creation_date":1651674992,"post_id":72114074,"comment_id":127419942,"body_markdown":"Okay I think the question is not very useful, even though there are some rather interesting answers to this, I&#39;d like you to focus your question. You can give us some examples on what is getting printed and where you think it could go wrong or what efforts you already have taken.","body":"Okay I think the question is not very useful, even though there are some rather interesting answers to this, I&#39;d like you to focus your question. You can give us some examples on what is getting printed and where you think it could go wrong or what efforts you already have taken."}],"answers":[{"tags":[],"owner":{"account_id":19796440,"reputation":5,"user_id":14498331,"display_name":"Edoardo Sichelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651672891,"creation_date":1651672891,"answer_id":72114288,"question_id":72114074,"body_markdown":"remove all the 7 script and use this:\r\n```\r\nfor(i = 0; i &lt; 7; i++){\r\n            Random rand =new Random();        \r\n            int randomNumber=rand.nextInt(deck.length);\r\n            System.out.println(&quot;\\n&quot;+deck[randomNumber]);\r\n            deck.remove(randomNumber);\r\n      }\r\n```\r\nit is not recommended to use ArrayList.remove() when iterating over elements, but in this case is safe because values are random.\r\n","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>remove all the 7 script and use this:</p>\n<pre><code>for(i = 0; i &lt; 7; i++){\n            Random rand =new Random();        \n            int randomNumber=rand.nextInt(deck.length);\n            System.out.println(&quot;\\n&quot;+deck[randomNumber]);\n            deck.remove(randomNumber);\n      }\n</code></pre>\n<p>it is not recommended to use ArrayList.remove() when iterating over elements, but in this case is safe because values are random.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651673061,"creation_date":1651673061,"answer_id":72114330,"question_id":72114074,"body_markdown":"Your problem is that you are drawing cards from the array - `arr`:\r\n```\r\nSystem.out.println(&quot;\\n&quot; + arr[randomNumber1]);\r\n```\r\nbut you then remove the card from the `deck`:\r\n```\r\ndeck.remove(arr[randomNumber1]);\r\n```\r\nThe array always has all cards, so it&#39;s normal to have duplicates.\r\n\r\nAs a side note - why declare 7 `Random` instances, when you only use the first of them? The first one is enough.\r\n\r\nAnother note - since you actually need to draw from the `deck`, you may need to change the upper bound for the random to the size of the deck, otherwise you will eventually cause `IndexOutOfBoundsException` after drawing enough cards.","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>Your problem is that you are drawing cards from the array - <code>arr</code>:</p>\n<pre><code>System.out.println(&quot;\\n&quot; + arr[randomNumber1]);\n</code></pre>\n<p>but you then remove the card from the <code>deck</code>:</p>\n<pre><code>deck.remove(arr[randomNumber1]);\n</code></pre>\n<p>The array always has all cards, so it's normal to have duplicates.</p>\n<p>As a side note - why declare 7 <code>Random</code> instances, when you only use the first of them? The first one is enough.</p>\n<p>Another note - since you actually need to draw from the <code>deck</code>, you may need to change the upper bound for the random to the size of the deck, otherwise you will eventually cause <code>IndexOutOfBoundsException</code> after drawing enough cards.</p>\n"},{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651673063,"creation_date":1651673063,"answer_id":72114331,"question_id":72114074,"body_markdown":"The problem is this:\r\n\r\nYou create a random number, `between the interval [0, arr.length)` zero is inclusive, arr.length is exclusive.\r\n\r\n**Then, you first print it from the array, then you remove it from the arraylist**. They are not removed from the array. So, next time you use it to print it **from the array**, you may still see it.\r\n\r\nYou may use deck.size() method to create a random number, print it and remove it.\r\n\r\nSo, after you create your array list using the array, one of your code block is going to be:\r\n\r\n    Random rand =new Random();        \r\n    int randomNumber1=rand.nextInt(deck.size());\r\n    System.out.println(&quot;\\n&quot;+deck.get(randomNumber1));\r\n    deck.remove(randomNumber1);\r\n\r\nNote: Instead of removing by a reference to object with remove(Object o) method, you may use the index of that object with remove(int index) method.\r\n\r\nNote2: When you create an arraylist using the constructor `ArrayList&lt;String&gt;(List Arrays.asList(array))`, you get **different references** to the same objects. If you remove them from your array, you do not remove it from the array list or vice versa.","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>The problem is this:</p>\n<p>You create a random number, <code>between the interval [0, arr.length)</code> zero is inclusive, arr.length is exclusive.</p>\n<p><strong>Then, you first print it from the array, then you remove it from the arraylist</strong>. They are not removed from the array. So, next time you use it to print it <strong>from the array</strong>, you may still see it.</p>\n<p>You may use deck.size() method to create a random number, print it and remove it.</p>\n<p>So, after you create your array list using the array, one of your code block is going to be:</p>\n<pre><code>Random rand =new Random();        \nint randomNumber1=rand.nextInt(deck.size());\nSystem.out.println(&quot;\\n&quot;+deck.get(randomNumber1));\ndeck.remove(randomNumber1);\n</code></pre>\n<p>Note: Instead of removing by a reference to object with remove(Object o) method, you may use the index of that object with remove(int index) method.</p>\n<p>Note2: When you create an arraylist using the constructor <code>ArrayList&lt;String&gt;(List Arrays.asList(array))</code>, you get <strong>different references</strong> to the same objects. If you remove them from your array, you do not remove it from the array list or vice versa.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651673198,"creation_date":1651673198,"answer_id":72114367,"question_id":72114074,"body_markdown":"If the order of the elements is not important, use a `Set`, namely `HashSet` or `TreeSet`. `HashSet` is (rather) random order, while `TreeSet` will order contents alphabetically.\r\n\r\nSets are also really fast to look up thing, i.e. using the `contains()` method.\r\n\r\nIf the order does play a role, keep using your `ArrayList`, but before insertion always check with `.contains()` method if item is already present.\r\n\r\nAs to your code: \r\n - I do not see where you get duplicated. You&#39;re often removing from the same indices, and\r\n - you find the max index of the list via the length of the backing array. This is not a good idea, because the list will shrink, while the array keeps its size, so sooner or later you will not effectively remove anything from the list. Instead, get the index by: `int randomNumber1=rand.nextInt(deck.size());` and then simply remove from list by index: `deck.remove(arr[randomNumber1]);`\r\n - you are using the same code over and over again. you should replace the whole shebang with a loop:\r\n\r\nCode:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class GoFish1 {\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal String[] arr = { &quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot; };\r\n    \t\tfinal ArrayList&lt;String&gt; deck = new ArrayList&lt;&gt;(Arrays.asList(arr));\r\n    \r\n    \r\n    \t\tSystem.out.println(&quot;Player&#39;s cards:&quot;);\r\n    \t\tfinal Random rand = new Random();\r\n    \t\tfor (int i = 0; i &lt; 8 &amp;&amp; deck.size() &gt; 0; i++) {\r\n    \t\t\tfinal int randomIndex = rand.nextInt(deck.size());\r\n    \t\t\tfinal String card = deck.get(randomIndex);\r\n    \t\t\tSystem.out.println(&quot;\\tPlayer received card: &quot; + card);\r\n    \t\t\t// you can use either one of the following\r\n    \t\t\tdeck.remove(randomIndex); // this is faster and will not create problems\r\n    \t\t\t//\t\t\tdeck.remove(card); // or this. this is slower, and might conflict with duplicate items in other scenarios\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Cards left in the deck:&quot;);\r\n    \t\tfor (final String card : deck) {\r\n    \t\t\tSystem.out.println(&quot;\\t&quot; + card);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;All cards dealt.&quot;);\r\n    \t}\r\n    }","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>If the order of the elements is not important, use a <code>Set</code>, namely <code>HashSet</code> or <code>TreeSet</code>. <code>HashSet</code> is (rather) random order, while <code>TreeSet</code> will order contents alphabetically.</p>\n<p>Sets are also really fast to look up thing, i.e. using the <code>contains()</code> method.</p>\n<p>If the order does play a role, keep using your <code>ArrayList</code>, but before insertion always check with <code>.contains()</code> method if item is already present.</p>\n<p>As to your code:</p>\n<ul>\n<li>I do not see where you get duplicated. You're often removing from the same indices, and</li>\n<li>you find the max index of the list via the length of the backing array. This is not a good idea, because the list will shrink, while the array keeps its size, so sooner or later you will not effectively remove anything from the list. Instead, get the index by: <code>int randomNumber1=rand.nextInt(deck.size());</code> and then simply remove from list by index: <code>deck.remove(arr[randomNumber1]);</code></li>\n<li>you are using the same code over and over again. you should replace the whole shebang with a loop:</li>\n</ul>\n<p>Code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Random;\n\npublic class GoFish1 {\n    public static void main(final String[] args) {\n        final String[] arr = { &quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot; };\n        final ArrayList&lt;String&gt; deck = new ArrayList&lt;&gt;(Arrays.asList(arr));\n\n\n        System.out.println(&quot;Player's cards:&quot;);\n        final Random rand = new Random();\n        for (int i = 0; i &lt; 8 &amp;&amp; deck.size() &gt; 0; i++) {\n            final int randomIndex = rand.nextInt(deck.size());\n            final String card = deck.get(randomIndex);\n            System.out.println(&quot;\\tPlayer received card: &quot; + card);\n            // you can use either one of the following\n            deck.remove(randomIndex); // this is faster and will not create problems\n            //          deck.remove(card); // or this. this is slower, and might conflict with duplicate items in other scenarios\n        }\n\n        System.out.println(&quot;Cards left in the deck:&quot;);\n        for (final String card : deck) {\n            System.out.println(&quot;\\t&quot; + card);\n        }\n\n        System.out.println(&quot;All cards dealt.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651673336,"creation_date":1651673336,"answer_id":72114414,"question_id":72114074,"body_markdown":"First of all, you can just use the `shuffle` method of `Collections` class to shuffle the deck and print the first 7 elements:\r\n```java\r\nCollections.shuffle(deck);\r\nfor (int i = 0; i &lt; 7; i++) {\r\n   System.out.println(deck.get(i));\r\n}\r\n```\r\nIf you want to remove the cards from the deck yourself, then remember, that ThreadLocalRandom class is a preferred way to generate random numbers over Random.\r\n```java\r\nfor (int i = 0; i &lt; 7; i++) {\r\n   int randomNumber = ThreadLocalRandom.current().nextInt(deck.size());\r\n   System.out.println(deck.get(randomNumber));\r\n   deck.remove(randomNumber);\r\n}\r\n```","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>First of all, you can just use the <code>shuffle</code> method of <code>Collections</code> class to shuffle the deck and print the first 7 elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.shuffle(deck);\nfor (int i = 0; i &lt; 7; i++) {\n   System.out.println(deck.get(i));\n}\n</code></pre>\n<p>If you want to remove the cards from the deck yourself, then remember, that ThreadLocalRandom class is a preferred way to generate random numbers over Random.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 7; i++) {\n   int randomNumber = ThreadLocalRandom.current().nextInt(deck.size());\n   System.out.println(deck.get(randomNumber));\n   deck.remove(randomNumber);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651674482,"creation_date":1651674482,"answer_id":72114710,"question_id":72114074,"body_markdown":"You are randomizing over the String[] to identify what to remove from the List.  So you keep reporting that you are removing a Card when it is already removed. Instead, you may randomize over the List itself.\r\n\r\nNote that anytime you find yourself repeating the same code you should strongly consider moving that logic into a method.  In addition, consider creating classes for Deck, Hand, and so forth and defining behaviors (i.e. methods) to execute behavior.\r\n\r\n    public String drawFromDeck() {\r\n      if (deck.isEmpty()) { // assumes deck is instance variable\r\n        throw new Exception(&quot;Deck is empty!&quot;);\r\n      }\r\n      int index=rand.nextInt(deck.size()); // assumes rand is an instance variable\r\n      String card = deck.remove(index);\r\n      return card;\r\n    }\r\n\r\nHowever, I think you may find that a better approach is to populate the List, shuffle it, and then just draw from the front..\r\n\r\n    final String[] cards = ....\r\n    List&lt;String&gt; deck = ... fill deck from cards array\r\n    Collections.shuffle(deck);\r\n\r\nSince we&#39;ve shuffled the deck we can always draw from the front of the deck rather than randomizing our draw.\r\n\r\n    public String drawFromDeck() {\r\n      if (deck.isEmpty()) {\r\n        throw new RuntimeException(&quot;Deck is empty!&quot;);\r\n      }\r\n      return deck.remove(0);\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>You are randomizing over the String[] to identify what to remove from the List.  So you keep reporting that you are removing a Card when it is already removed. Instead, you may randomize over the List itself.</p>\n<p>Note that anytime you find yourself repeating the same code you should strongly consider moving that logic into a method.  In addition, consider creating classes for Deck, Hand, and so forth and defining behaviors (i.e. methods) to execute behavior.</p>\n<pre><code>public String drawFromDeck() {\n  if (deck.isEmpty()) { // assumes deck is instance variable\n    throw new Exception(&quot;Deck is empty!&quot;);\n  }\n  int index=rand.nextInt(deck.size()); // assumes rand is an instance variable\n  String card = deck.remove(index);\n  return card;\n}\n</code></pre>\n<p>However, I think you may find that a better approach is to populate the List, shuffle it, and then just draw from the front..</p>\n<pre><code>final String[] cards = ....\nList&lt;String&gt; deck = ... fill deck from cards array\nCollections.shuffle(deck);\n</code></pre>\n<p>Since we've shuffled the deck we can always draw from the front of the deck rather than randomizing our draw.</p>\n<pre><code>public String drawFromDeck() {\n  if (deck.isEmpty()) {\n    throw new RuntimeException(&quot;Deck is empty!&quot;);\n  }\n  return deck.remove(0);\n}\n</code></pre>\n"}],"owner":{"account_id":25183665,"reputation":11,"user_id":19024847,"display_name":"Ea_Sports"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1651712702,"answer_count":6,"score":-2,"last_activity_date":1651674482,"creation_date":1651672044,"question_id":72114074,"body_markdown":"I&#39;m working on a game of Go Fish for a class and whenever I run the code to deal cards I&#39;ll get duplicates. How do I remove the items from the arraylist so this doesn&#39;t happen? I&#39;ve tried using the remove.() method but it hasn&#39;t worked. Any help would be greatly appreciated since I&#39;m pretty new to Java.\r\n\r\n    import java.util.*;\r\n    \r\n    public class GoFish1\r\n    {    \r\n      public static void main(String[] args)    \r\n        {        \r\n          String[] arr={&quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot;};\r\n         ArrayList&lt;String&gt; deck= new ArrayList&lt;String&gt;(Arrays.asList(arr));\r\n    \r\n         \r\n          System.out.println(&quot;Player&#39;s cards:&quot;);\r\n         \r\n          Random rand =new Random();        \r\n          int randomNumber1=rand.nextInt(arr.length);\r\n          System.out.println(&quot;\\n&quot;+arr[randomNumber1]);\r\n          deck.remove(arr[randomNumber1]);\r\n         \r\n          Random rand2 =new Random();\r\n          int randomNumber2=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber2]);\r\n         deck.remove(arr[randomNumber2]);\r\n         \r\n           Random rand3 =new Random();\r\n          int randomNumber3=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber3]);\r\n          deck.remove(arr[randomNumber3]);\r\n         \r\n           Random rand4 =new Random();\r\n          int randomNumber4=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber4]);\r\n          deck.remove(arr[randomNumber4]);\r\n         \r\n           Random rand5 =new Random();\r\n          int randomNumber5=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber5]);\r\n          deck.remove(arr[randomNumber5]);\r\n         \r\n           Random rand6 =new Random();\r\n          int randomNumber6=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber6]);\r\n          deck.remove(arr[randomNumber6]);\r\n         \r\n           Random rand7 =new Random();\r\n          int randomNumber7=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber7]);\r\n          deck.remove(arr[randomNumber7]);\r\n          \r\n         \r\n    \r\n        }\r\n    }\r\n\r\n","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>I'm working on a game of Go Fish for a class and whenever I run the code to deal cards I'll get duplicates. How do I remove the items from the arraylist so this doesn't happen? I've tried using the remove.() method but it hasn't worked. Any help would be greatly appreciated since I'm pretty new to Java.</p>\n<pre><code>import java.util.*;\n\npublic class GoFish1\n{    \n  public static void main(String[] args)    \n    {        \n      String[] arr={&quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot;};\n     ArrayList&lt;String&gt; deck= new ArrayList&lt;String&gt;(Arrays.asList(arr));\n\n     \n      System.out.println(&quot;Player's cards:&quot;);\n     \n      Random rand =new Random();        \n      int randomNumber1=rand.nextInt(arr.length);\n      System.out.println(&quot;\\n&quot;+arr[randomNumber1]);\n      deck.remove(arr[randomNumber1]);\n     \n      Random rand2 =new Random();\n      int randomNumber2=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber2]);\n     deck.remove(arr[randomNumber2]);\n     \n       Random rand3 =new Random();\n      int randomNumber3=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber3]);\n      deck.remove(arr[randomNumber3]);\n     \n       Random rand4 =new Random();\n      int randomNumber4=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber4]);\n      deck.remove(arr[randomNumber4]);\n     \n       Random rand5 =new Random();\n      int randomNumber5=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber5]);\n      deck.remove(arr[randomNumber5]);\n     \n       Random rand6 =new Random();\n      int randomNumber6=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber6]);\n      deck.remove(arr[randomNumber6]);\n     \n       Random rand7 =new Random();\n      int randomNumber7=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber7]);\n      deck.remove(arr[randomNumber7]);\n      \n     \n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-camera2"],"comments":[{"owner":{"account_id":5358801,"reputation":3912,"user_id":4270754,"display_name":"Dustin Williams"},"score":0,"creation_date":1631287737,"post_id":68863435,"comment_id":122189693,"body_markdown":"Same issue, any luck so far?","body":"Same issue, any luck so far?"},{"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"score":0,"creation_date":1631289295,"post_id":68863435,"comment_id":122190356,"body_markdown":"Not yet, Currently handling S21 users to open Native camera .","body":"Not yet, Currently handling S21 users to open Native camera ."},{"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"score":0,"creation_date":1651673626,"post_id":68863435,"comment_id":127419374,"body_markdown":"Updating patch solved issue!!!!!!!!!!","body":"Updating patch solved issue!!!!!!!!!!"}],"answers":[{"tags":[],"owner":{"account_id":5358801,"reputation":3912,"user_id":4270754,"display_name":"Dustin Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631539262,"creation_date":1631539262,"answer_id":69163459,"question_id":68863435,"body_markdown":"I had luck today on my test S21. I updated the OS on the phone and it started working","title":"Samsung S21 camera2 API issue with near object","body":"<p>I had luck today on my test S21. I updated the OS on the phone and it started working</p>\n"},{"tags":[],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651673662,"creation_date":1651673662,"answer_id":72114506,"question_id":68863435,"body_markdown":"Updating **patch** solved issue!!!!!!","title":"Samsung S21 camera2 API issue with near object","body":"<p>Updating <strong>patch</strong> solved issue!!!!!!</p>\n"}],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1651673662,"creation_date":1629467735,"question_id":68863435,"body_markdown":"I am using Camera 2 API for capture image and it is working fine for other device than Samsung S 21 ultra 5G Android ver 11.\r\nI am getting blurry image when capturing near object.\r\n","title":"Samsung S21 camera2 API issue with near object","body":"<p>I am using Camera 2 API for capture image and it is working fine for other device than Samsung S 21 ultra 5G Android ver 11.\nI am getting blurry image when capturing near object.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":0,"creation_date":1651655348,"post_id":72110375,"comment_id":127412593,"body_markdown":"As you said `KotlinLib` implements `JavaLib` and `StoreProtectionLevel` enum is inside `JavaLib`. If `StoreProtectionLevel` is not inside of `KotlinLib`, how are you suppose to import it.","body":"As you said <code>KotlinLib</code> implements <code>JavaLib</code> and <code>StoreProtectionLevel</code> enum is inside <code>JavaLib</code>. If <code>StoreProtectionLevel</code> is not inside of <code>KotlinLib</code>, how are you suppose to import it."},{"owner":{"account_id":2441019,"reputation":3362,"user_id":2129561,"accept_rate":37,"display_name":"V&#237;ctor Mart&#237;n"},"score":0,"creation_date":1651655561,"post_id":72110375,"comment_id":127412675,"body_markdown":"I don&#39;t know if there is a way to expose this object, or if I need to do another object  and a parser.","body":"I don&#39;t know if there is a way to expose this object, or if I need to do another object  and a parser."},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1651656161,"post_id":72110375,"comment_id":127412886,"body_markdown":"Declaring your `JavaLib` dependency in `KotlinLib` as API is one way of exposing transitive dependency to consumer.","body":"Declaring your <code>JavaLib</code> dependency in <code>KotlinLib</code> as API is one way of exposing transitive dependency to consumer."}],"answers":[{"tags":[],"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651673352,"creation_date":1651655737,"answer_id":72110541,"question_id":72110375,"body_markdown":"I suggest you to not create an additional Kotlin library on top of your Java library because Kotlin can use Java code without problems (with some syntactic quirks sometimes).\r\n\r\nWhat you should do is creating an additional companion library (optional) which adds extension functions to make life easier for Kotlin users. \r\n\r\nSomething like Jetpack project is doing with `-ktx` artifact for their Java libraries","title":"How to make an object accessible to other library","body":"<p>I suggest you to not create an additional Kotlin library on top of your Java library because Kotlin can use Java code without problems (with some syntactic quirks sometimes).</p>\n<p>What you should do is creating an additional companion library (optional) which adds extension functions to make life easier for Kotlin users.</p>\n<p>Something like Jetpack project is doing with <code>-ktx</code> artifact for their Java libraries</p>\n"}],"owner":{"account_id":2441019,"reputation":3362,"user_id":2129561,"accept_rate":37,"display_name":"V&#237;ctor Mart&#237;n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651673352,"creation_date":1651654925,"question_id":72110375,"body_markdown":"I&#39;ve done a library in java and now I&#39;m trying to make an interface for kotlin in another library.\r\n\r\nJavaLib -&gt; KotlinLib -&gt; App\r\n\r\nKotlinLib implements JavaLib and I make a mask in kotlin for the methods of the JavaLib.\r\n\r\nIn Java I have a model of an object enum that I need to used in the app.\r\n\r\n    public enum StoreProtectionLevel {\r\n        ENCRYPTED,                              // Values stores in Keystore of Android\r\n        ENCRYPTED_WITH_WEAK_AUTHENTICATION,     // Values using a weak authentication previously\r\n        ENCRYPTED_WITH_STRONG_AUTHENTICATION    // Values using a strong authentication previously\r\n    }\r\n\r\nIf I use the JavaLib, I can import StoreProtectionLevel, but If I want to import this object from KotlinLib, the object is not accessible.\r\n\r\nHow I can do this object for the kotlinlib?","title":"How to make an object accessible to other library","body":"<p>I've done a library in java and now I'm trying to make an interface for kotlin in another library.</p>\n<p>JavaLib -&gt; KotlinLib -&gt; App</p>\n<p>KotlinLib implements JavaLib and I make a mask in kotlin for the methods of the JavaLib.</p>\n<p>In Java I have a model of an object enum that I need to used in the app.</p>\n<pre><code>public enum StoreProtectionLevel {\n    ENCRYPTED,                              // Values stores in Keystore of Android\n    ENCRYPTED_WITH_WEAK_AUTHENTICATION,     // Values using a weak authentication previously\n    ENCRYPTED_WITH_STRONG_AUTHENTICATION    // Values using a strong authentication previously\n}\n</code></pre>\n<p>If I use the JavaLib, I can import StoreProtectionLevel, but If I want to import this object from KotlinLib, the object is not accessible.</p>\n<p>How I can do this object for the kotlinlib?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6353419,"reputation":4594,"user_id":4931630,"display_name":"AterLux"},"score":1,"creation_date":1651522737,"post_id":72091930,"comment_id":127380278,"body_markdown":"Try output an empty newline or `flush` the output","body":"Try output an empty newline or <code>flush</code> the output"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1651522831,"post_id":72091930,"comment_id":127380307,"body_markdown":"Q: I assume the &quot;loop&quot; you&#39;re referring to is the one in DownloadUpdate.main()?  Q: Have you stepped through the code in the debugger and verified that &quot;ui.getName().length&quot; is &gt; 0?  Q: If &quot;yes&quot;, have you also verified that it enters the loop, and executes your &quot;System.out.println()&quot; statements?  ALSO: to compare strings in Java, use `String.equals()`, *NOT* &quot;==&quot;.","body":"Q: I assume the &quot;loop&quot; you&#39;re referring to is the one in DownloadUpdate.main()?  Q: Have you stepped through the code in the debugger and verified that &quot;ui.getName().length&quot; is &gt; 0?  Q: If &quot;yes&quot;, have you also verified that it enters the loop, and executes your &quot;System.out.println()&quot; statements?  ALSO: to compare strings in Java, use <code>String.equals()</code>, <i>NOT</i> &quot;==&quot;."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1651522848,"post_id":72091930,"comment_id":127380314,"body_markdown":"Unrelated to your question, but `system_type == &quot;Linux&quot;` is not the correct way to compare strings in Java; see [here](https://stackoverflow.com/q/513832/12299000).","body":"Unrelated to your question, but <code>system_type == &quot;Linux&quot;</code> is not the correct way to compare strings in Java; see <a href=\"https://stackoverflow.com/q/513832/12299000\">here</a>."},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651522929,"post_id":72091930,"comment_id":127380337,"body_markdown":"@AterLux I tried your suggestions and neither of them worked.","body":"@AterLux I tried your suggestions and neither of them worked."},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651522958,"post_id":72091930,"comment_id":127380352,"body_markdown":"@paulsm4 Yes I have verified that ui.getName().length &gt; 0","body":"@paulsm4 Yes I have verified that ui.getName().length &gt; 0"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1651522986,"post_id":72091930,"comment_id":127380363,"body_markdown":"Have .... you ... stepped ... through ... the ... code ... *IN YOUR DEBUGGER*???  If not, why not?  If &quot;yes&quot;, did it execute the lines you expect?  Do your variables have the values you expect?","body":"Have .... you ... stepped ... through ... the ... code ... <i>IN YOUR DEBUGGER</i>???  If not, why not?  If &quot;yes&quot;, did it execute the lines you expect?  Do your variables have the values you expect?"},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":1,"creation_date":1651523120,"post_id":72091930,"comment_id":127380399,"body_markdown":"@paulsm4 I understand your question now, thank you for the clarification. After debugging and running the coverage script, it missed 291 instructions. So no, it didn&#39;t behave as I expected.","body":"@paulsm4 I understand your question now, thank you for the clarification. After debugging and running the coverage script, it missed 291 instructions. So no, it didn&#39;t behave as I expected."},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651537813,"post_id":72091930,"comment_id":127383304,"body_markdown":"@paulsm4 Given the edits above any idea as to why the variable ui isnt being returned properly? Is it a scope issue that I am missing?","body":"@paulsm4 Given the edits above any idea as to why the variable ui isnt being returned properly? Is it a scope issue that I am missing?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1651538046,"post_id":72091930,"comment_id":127383330,"body_markdown":"&quot;ui&quot; is initialized in UpdateInfo.  It sounds like you need to set a breakpoint in the UpdateInfo() constructor and step through the code!","body":"&quot;ui&quot; is initialized in UpdateInfo.  It sounds like you need to set a breakpoint in the UpdateInfo() constructor and step through the code!"},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651538344,"post_id":72091930,"comment_id":127383366,"body_markdown":"Okay, maybe this is my lack of professional instruction with java, I am solely self taught,  but even stepping through the code I am not seeing anything. What am I missing?","body":"Okay, maybe this is my lack of professional instruction with java, I am solely self taught,  but even stepping through the code I am not seeing anything. What am I missing?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651672200,"post_id":72091930,"comment_id":127418711,"body_markdown":"Thing is: you dont need to use a debugger. Just do a println() for LIKE every piece of interesting information. You could for example print `ui.getName().length` BEFORE you start looping. The key aspect: when you dont understand what your code is doing, then change your code to TELL you what is doing, as said, the easy straightforward way is: by adding many print statements.","body":"Thing is: you dont need to use a debugger. Just do a println() for LIKE every piece of interesting information. You could for example print <code>ui.getName().length</code> BEFORE you start looping. The key aspect: when you dont understand what your code is doing, then change your code to TELL you what is doing, as said, the easy straightforward way is: by adding many print statements."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651672844,"post_id":72091930,"comment_id":127419031,"body_markdown":"Could you please provide code that is syntactically correct? What does `GetUpdateInfo.getInfo()` return? What values contain `repos_list.size()` and maybe inside the `assets.size()` ?","body":"Could you please provide code that is syntactically correct? What does <code>GetUpdateInfo.getInfo()</code> return? What values contain <code>repos_list.size()</code> and maybe inside the <code>assets.size()</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651673295,"creation_date":1651673295,"answer_id":72114401,"question_id":72091930,"body_markdown":"An obvious problem of your code is the use of `ArrayUtils.add`: you have to reassign its result to the input array, as you cannot modify arrays like lists in Java.\r\n\r\nUse it like this:\r\n```\r\nreleases = ArrayUtils.add(releases, latest.toString());\r\nnames = ArrayUtils.add(names, latest.getName());\r\n```\r\nand later in the for-loop:\r\n```\r\nurls = ArrayUtils.add(urls, url);\r\nversions = ArrayUtils.add(versions, version);\r\n```\r\nAlso you don&#39;t need to set the elements in each loop cycle to the result:\r\n```\r\nui.setURL(urls);\r\nui.setVersion(versions);\r\n```\r\nThose would be sufficient once the for-loop has completed.\r\n\r\nAn alternative would be to first use `List&lt;String&gt;` instead of the arrays. If you have control over the `UpdateInfo` class, change it there to be lists too, otherwise create an array from the lists before you set it in UpdateInfo.\r\n\r\nAs a general advice I would recommend that you get rid of your static methods. Create instances and use your credentials (login, password, oauth) as member fields OR pass in even the whole `GitHub` instance. This way you would have an easier time writing proper tests.","title":"System.out.format not working in java for loop","body":"<p>An obvious problem of your code is the use of <code>ArrayUtils.add</code>: you have to reassign its result to the input array, as you cannot modify arrays like lists in Java.</p>\n<p>Use it like this:</p>\n<pre><code>releases = ArrayUtils.add(releases, latest.toString());\nnames = ArrayUtils.add(names, latest.getName());\n</code></pre>\n<p>and later in the for-loop:</p>\n<pre><code>urls = ArrayUtils.add(urls, url);\nversions = ArrayUtils.add(versions, version);\n</code></pre>\n<p>Also you don't need to set the elements in each loop cycle to the result:</p>\n<pre><code>ui.setURL(urls);\nui.setVersion(versions);\n</code></pre>\n<p>Those would be sufficient once the for-loop has completed.</p>\n<p>An alternative would be to first use <code>List&lt;String&gt;</code> instead of the arrays. If you have control over the <code>UpdateInfo</code> class, change it there to be lists too, otherwise create an array from the lists before you set it in UpdateInfo.</p>\n<p>As a general advice I would recommend that you get rid of your static methods. Create instances and use your credentials (login, password, oauth) as member fields OR pass in even the whole <code>GitHub</code> instance. This way you would have an easier time writing proper tests.</p>\n"}],"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114401,"answer_count":1,"score":0,"last_activity_date":1651673295,"creation_date":1651522557,"question_id":72091930,"body_markdown":"Below is the concerned code. Basically what the code is supposed to do is output the URL, name and version of each GitHub release defined by GetUpdateInfo.getInfo().\r\n\r\nGetUpdateInfo.getInfo (NOTE Strings login, oauth and password omitted for security reasons.):\r\n``` package io.nl.updater;\r\n\r\nimport java.util.List;\r\n\r\nimport org.kohsuke.github.*;\r\n\r\nimport org.apache.commons.lang3.ArrayUtils;\r\n\r\npublic class GetUpdateInfo {\r\n\tpublic static getInfo() {\r\n         String version = &quot;&quot;;\r\n\t\tString url = &quot;&quot;;\r\n\t\t\r\n\t\tString[] urls = {};\r\n\t\tString[] names = {};\r\n\t\tString[] versions = {};\r\n\t\tString[] releases = {};\r\n\t\t\r\n\t\tGitHub github = GitHubBuilder.fromEnvironment(login, password, oauth).build();\r\n\t\t//Get the repo name from the organization\r\n\t\tGHOrganization gho = github.getOrganization(&quot;NuovoLauncher-Mods&quot;);\r\n\t\tPagedIterable&lt;GHRepository&gt; repos = gho.listRepositories();\r\n\t\tList&lt;GHRepository&gt; repos_list = repos.asList();\r\n\t\tfor(int i=0; i &lt; repos_list.size(); i++) {\r\n\t\t\tGHRepository repo_test = repos_list.get(i);\r\n\t\t\tGHRelease latest = repo_test.getLatestRelease();\r\n\t\t\t\r\n\t\t\tArrayUtils.add(releases, latest.toString());\r\n\t\t\tArrayUtils.add(names, latest.getName());\r\n\t\t\tui.setName(names);\r\n\t\t\tui.setRelease(releases);\r\n\t\t\t\r\n\t\t\tList&lt;GHAsset&gt; assets = latest.getAssets();\r\n\t\t\tfor( int x = 0; x &lt; assets.size(); x++ ) {\r\n\t\t\t\tGHAsset asset = assets.get(x);\r\n\t\t\t\turl = asset.getBrowserDownloadUrl();\r\n\t\t\t\tversion = url.split(&quot;/&quot;)[7];\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.format(&quot;URL: %s, Name: %s, Latest Release: %s. Version %s\\n&quot;, url, latest.getName(), latest, version);\r\n\t\t\t\t\r\n\t\t\t\tArrayUtils.add(urls, url);\r\n\t\t\t\tArrayUtils.add(versions, version);\r\n\t\t\t\tui.setURL(urls);\r\n\t\t\t\tui.setVersion(versions);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ui;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\t\r\n\t\tGetUpdateInfo.getInfo();\r\n\t}\r\n}\r\n ```\r\nDownloadUpdate.runner:\r\n``` public class DownloadUpdate {\r\n\tpublic static void runner() throws Exception {\r\n\t\tString system_type = System.getProperty(&quot;os.name&quot;);\r\n\t\tFile fpath = new File(&quot;&quot;);\r\n\t\tUpdateInfo ui = GetUpdateInfo.getInfo();\r\n\t\tfor(int i = 0; i &lt; ui.getName().length; i++) {\r\n\t\t\tSystem.out.format(&quot;URL: %s, Name %s, Version, %s&quot;, ui.getURL()[i], ui.getName()[i], ui.getVersion()[i]);\r\n\t\t\tSystem.out.format(&quot;Downloading %s-%s&quot;, ui.getName()[i], ui.getVersion()[i]);\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\r\n\t\t\tif(system_type.equals(&quot;Linux&quot;)) {\r\n\t\t\t\tfpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\r\n\t\t\t} else if(system_type.equals(&quot;Windows&quot;)) {\r\n\t\t\t\tfpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/AppData/Roaming/.minecraft/mods&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tfpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tString url = ui.getURL()[i];\r\n\t\t\tFileUtils.copyURLToFile(new URL(url), fpath);\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSystem.out.println(&quot;DEBUG START&quot;);\r\n\t\tDownloadUpdate.runner();\r\n\t}\r\n}\r\n\r\n ```\r\nLooking at the code, I cannot see a reason why the code is not outputting like expected; I am getting zero output on console, simply the line stating that the code is being executed. No exceptions either.\r\n\r\nEDIT: variable ui is not being returned properly. For example, ui.getName[0] throws an ArrayIndexOutOfBoundsException, due to the length being zero. Seeing this, I now understand why the for loop isn&#39;t behaving as expected. Is this a scope issue? What am I missing here?","title":"System.out.format not working in java for loop","body":"<p>Below is the concerned code. Basically what the code is supposed to do is output the URL, name and version of each GitHub release defined by GetUpdateInfo.getInfo().</p>\n<p>GetUpdateInfo.getInfo (NOTE Strings login, oauth and password omitted for security reasons.):</p>\n<pre><code>\nimport java.util.List;\n\nimport org.kohsuke.github.*;\n\nimport org.apache.commons.lang3.ArrayUtils;\n\npublic class GetUpdateInfo {\n    public static getInfo() {\n         String version = &quot;&quot;;\n        String url = &quot;&quot;;\n        \n        String[] urls = {};\n        String[] names = {};\n        String[] versions = {};\n        String[] releases = {};\n        \n        GitHub github = GitHubBuilder.fromEnvironment(login, password, oauth).build();\n        //Get the repo name from the organization\n        GHOrganization gho = github.getOrganization(&quot;NuovoLauncher-Mods&quot;);\n        PagedIterable&lt;GHRepository&gt; repos = gho.listRepositories();\n        List&lt;GHRepository&gt; repos_list = repos.asList();\n        for(int i=0; i &lt; repos_list.size(); i++) {\n            GHRepository repo_test = repos_list.get(i);\n            GHRelease latest = repo_test.getLatestRelease();\n            \n            ArrayUtils.add(releases, latest.toString());\n            ArrayUtils.add(names, latest.getName());\n            ui.setName(names);\n            ui.setRelease(releases);\n            \n            List&lt;GHAsset&gt; assets = latest.getAssets();\n            for( int x = 0; x &lt; assets.size(); x++ ) {\n                GHAsset asset = assets.get(x);\n                url = asset.getBrowserDownloadUrl();\n                version = url.split(&quot;/&quot;)[7];\n                \n                System.out.format(&quot;URL: %s, Name: %s, Latest Release: %s. Version %s\\n&quot;, url, latest.getName(), latest, version);\n                \n                ArrayUtils.add(urls, url);\n                ArrayUtils.add(versions, version);\n                ui.setURL(urls);\n                ui.setVersion(versions);\n            }\n        }\n        return ui;\n    }\n    \n    \n    public static void main(String[] args) throws Exception {   \n        GetUpdateInfo.getInfo();\n    }\n}\n</code></pre>\n<p>DownloadUpdate.runner:</p>\n<pre><code>    public static void runner() throws Exception {\n        String system_type = System.getProperty(&quot;os.name&quot;);\n        File fpath = new File(&quot;&quot;);\n        UpdateInfo ui = GetUpdateInfo.getInfo();\n        for(int i = 0; i &lt; ui.getName().length; i++) {\n            System.out.format(&quot;URL: %s, Name %s, Version, %s&quot;, ui.getURL()[i], ui.getName()[i], ui.getVersion()[i]);\n            System.out.format(&quot;Downloading %s-%s&quot;, ui.getName()[i], ui.getVersion()[i]);\n            System.out.print(&quot;\\n&quot;);\n\n            if(system_type.equals(&quot;Linux&quot;)) {\n                fpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\n            } else if(system_type.equals(&quot;Windows&quot;)) {\n                fpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/AppData/Roaming/.minecraft/mods&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\n            } else {\n                fpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\n            }\n\n            String url = ui.getURL()[i];\n            FileUtils.copyURLToFile(new URL(url), fpath);\n        }\n    }\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;DEBUG START&quot;);\n        DownloadUpdate.runner();\n    }\n}\n\n</code></pre>\n<p>Looking at the code, I cannot see a reason why the code is not outputting like expected; I am getting zero output on console, simply the line stating that the code is being executed. No exceptions either.</p>\n<p>EDIT: variable ui is not being returned properly. For example, ui.getName[0] throws an ArrayIndexOutOfBoundsException, due to the length being zero. Seeing this, I now understand why the for loop isn't behaving as expected. Is this a scope issue? What am I missing here?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":9097921,"reputation":990,"user_id":7870403,"accept_rate":83,"display_name":"Ryan"},"score":0,"creation_date":1651552274,"post_id":72093671,"comment_id":127385061,"body_markdown":"what data are you trying to post?","body":"what data are you trying to post?"},{"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"score":0,"creation_date":1651562184,"post_id":72093671,"comment_id":127386966,"body_markdown":"It is a simple select query that checks if the username exist. If it does exist it shall return the same user name.\n(I know it doesn&#39;t make sense)","body":"It is a simple select query that checks if the username exist. If it does exist it shall return the same user name. (I know it doesn&#39;t make sense)"},{"owner":{"account_id":9097921,"reputation":990,"user_id":7870403,"accept_rate":83,"display_name":"Ryan"},"score":0,"creation_date":1651646008,"post_id":72093671,"comment_id":127409575,"body_markdown":"you said the issue is when you use POST request, but a POST request requires data to be posted... are you trying to post json data? You mentioned &#39;Here I should be writing the API&#39;s query parameters&#39; - this doesn&#39;t make any sense. What do you mean by writing the query parameters?","body":"you said the issue is when you use POST request, but a POST request requires data to be posted... are you trying to post json data? You mentioned &#39;Here I should be writing the API&#39;s query parameters&#39; - this doesn&#39;t make any sense. What do you mean by writing the query parameters?"},{"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"score":0,"creation_date":1651672711,"post_id":72093671,"comment_id":127418959,"body_markdown":"I&#39;m mistaken sorry... I meant the body of the request","body":"I&#39;m mistaken sorry... I meant the body of the request"},{"owner":{"account_id":9097921,"reputation":990,"user_id":7870403,"accept_rate":83,"display_name":"Ryan"},"score":0,"creation_date":1651806355,"post_id":72093671,"comment_id":127456155,"body_markdown":"what is your username value? it could be breaking the url","body":"what is your username value? it could be breaking the url"},{"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"score":0,"creation_date":1651830157,"post_id":72093671,"comment_id":127462187,"body_markdown":"kirolos... that&#39;s it XD","body":"kirolos... that&#39;s it XD"}],"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651672763,"creation_date":1651537272,"question_id":72093671,"body_markdown":"This snippet should connect to the API send a request and receive a response\r\n\r\n```\r\n               try {\r\n\r\n                    URL url = new URL(&quot;https://API_URL&quot;);\r\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                    con.setRequestMethod(&quot;POST&quot;);\r\n                    con.setDoOutput(true);\r\n                    con.setDoInput(true);\r\n```\r\nHere I should be writing the API request&#39;s body\r\n```\r\n                    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(\r\n                            new BufferedOutputStream(con.getOutputStream()), StandardCharsets.UTF_8));\r\n                    writer.write((&quot;user=&quot;+getUsername));\r\n                    writer.flush();\r\n                    writer.close();\r\n```\r\nHere I should be reading\r\n```\r\n\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                    String decodedString = in.readLine();\r\n                    con.getResponseCode();\r\n\r\n```\r\n\r\n\r\n\r\nThis is the error I get:\r\n```\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err: java.io.FileNotFoundException: API_URL\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.example.pldb.MainActivity$1.onClick(MainActivity.java:64)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClick(View.java:7448)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClickInternal(View.java:7425)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.access$3600(View.java:810)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View$PerformClick.run(View.java:28305)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Looper.loop(Looper.java:223)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\nOn the contrary, when I use a normal GET method API, it works normally.","title":"AWS GET APIs work on Android Studio app but POST APIs don&#39;t. Why would POST be the issue?","body":"<p>This snippet should connect to the API send a request and receive a response</p>\n<pre><code>               try {\n\n                    URL url = new URL(&quot;https://API_URL&quot;);\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                    con.setRequestMethod(&quot;POST&quot;);\n                    con.setDoOutput(true);\n                    con.setDoInput(true);\n</code></pre>\n<p>Here I should be writing the API request's body</p>\n<pre><code>                    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(\n                            new BufferedOutputStream(con.getOutputStream()), StandardCharsets.UTF_8));\n                    writer.write((&quot;user=&quot;+getUsername));\n                    writer.flush();\n                    writer.close();\n</code></pre>\n<p>Here I should be reading</p>\n<pre><code>\n                    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n                    String decodedString = in.readLine();\n                    con.getResponseCode();\n\n</code></pre>\n<p>This is the error I get:</p>\n<pre><code>2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err: java.io.FileNotFoundException: API_URL\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.example.pldb.MainActivity$1.onClick(MainActivity.java:64)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClick(View.java:7448)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClickInternal(View.java:7425)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.access$3600(View.java:810)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View$PerformClick.run(View.java:28305)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Looper.loop(Looper.java:223)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7656)\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>On the contrary, when I use a normal GET method API, it works normally.</p>\n"},{"tags":["java","json","spring","serialization","junit"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1651674506,"post_id":72114218,"comment_id":127419751,"body_markdown":"Which serialization do you mean? Java Object serialization, json serialization? But in general you would store the serialized data in a file and run a serialization of an instance in your test and compare that to the stored file. Also note that if a field is added to your class but the instances used in the test always have null value for this new field your test might not catch that because your serialization technology might skip null fields totally.","body":"Which serialization do you mean? Java Object serialization, json serialization? But in general you would store the serialized data in a file and run a serialization of an instance in your test and compare that to the stored file. Also note that if a field is added to your class but the instances used in the test always have null value for this new field your test might not catch that because your serialization technology might skip null fields totally."},{"owner":{"account_id":19076716,"reputation":1,"user_id":13929838,"display_name":"Edward Cho"},"score":0,"creation_date":1651676987,"post_id":72114218,"comment_id":127420818,"body_markdown":"JSON serialization. The goal of my question was essentially to have a test that would fail if the class that was to be serialized and any changes made to the class.","body":"JSON serialization. The goal of my question was essentially to have a test that would fail if the class that was to be serialized and any changes made to the class."}],"owner":{"account_id":19076716,"reputation":1,"user_id":13929838,"display_name":"Edward Cho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651672581,"creation_date":1651672581,"question_id":72114218,"body_markdown":"I have the following class that is created with the usage of a builder:\r\n\r\n    public class Foo {\r\n      private String name;\r\n      private int age;\r\n\r\n      public String getName() { return name; }\r\n      public int getAge() { return age; }\r\n\r\n      private Foo(Builder b) {\r\n        name = b.name;\r\n        age = b.age;\r\n      }\r\n\r\n      public static final class Builder {\r\n        private String name;\r\n        private int age;\r\n\r\n        public Builder name(String name) {\r\n          this.name = name;\r\n          return this;\r\n        }\r\n\r\n         public Builder age(int age) {\r\n          this.age = age;\r\n          return this;\r\n        }\r\n      }\r\n    }\r\nNow I want to add a JUnit test for this where if this class were to change (via new field were to be added, some other changes made to this) that would also be reflected once the class got serialized, I want that test to fail to catch that change. I am not aware of any libraries that can do this, how can this be done?","title":"Adding test in JUnit that fails if Serialized Object changes","body":"<p>I have the following class that is created with the usage of a builder:</p>\n<pre><code>public class Foo {\n  private String name;\n  private int age;\n\n  public String getName() { return name; }\n  public int getAge() { return age; }\n\n  private Foo(Builder b) {\n    name = b.name;\n    age = b.age;\n  }\n\n  public static final class Builder {\n    private String name;\n    private int age;\n\n    public Builder name(String name) {\n      this.name = name;\n      return this;\n    }\n\n     public Builder age(int age) {\n      this.age = age;\n      return this;\n    }\n  }\n}\n</code></pre>\n<p>Now I want to add a JUnit test for this where if this class were to change (via new field were to be added, some other changes made to this) that would also be reflected once the class got serialized, I want that test to fail to catch that change. I am not aware of any libraries that can do this, how can this be done?</p>\n"},{"tags":["java","json","apache-beam","parquet"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651069646,"post_id":72027282,"comment_id":127275229,"body_markdown":"That last line is Avro, not Parquet. JsonAvroConverter class won&#39;t help you get Parquet from json, only `ParquetIO.sink` can do that","body":"That last line is Avro, not Parquet. JsonAvroConverter class won&#39;t help you get Parquet from json, only <code>ParquetIO.sink</code> can do that"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1651070669,"post_id":72027282,"comment_id":127275673,"body_markdown":"Yeah I am using ParquetIO.sink at the end of the code you will see a commented line","body":"Yeah I am using ParquetIO.sink at the end of the code you will see a commented line"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651080659,"post_id":72027282,"comment_id":127279533,"body_markdown":"Yes, I see that, but it is commented out. What is the exact error you are getting when you uncomment it?","body":"Yes, I see that, but it is commented out. What is the exact error you are getting when you uncomment it?"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1651220028,"post_id":72027282,"comment_id":127316836,"body_markdown":"I update the error log can you check now","body":"I update the error log can you check now"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1651220087,"post_id":72027282,"comment_id":127316863,"body_markdown":"And also Isn&#39;t there any direct way to convert json to parquet as I am using GenericRecord to do so?","body":"And also Isn&#39;t there any direct way to convert json to parquet as I am using GenericRecord to do so?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651240291,"post_id":72027282,"comment_id":127323823,"body_markdown":"You shouldn&#39;t need Avro, no. I&#39;ve used Spark, Pig or Hive all to convert JSON to Parquet. Beam should be able to, as well. But reading over the ParquetIO javadoc, maybe not. In any case, your error has nothing to do with Beam, so please create a [mcve] of just your Avro conversion process","body":"You shouldn&#39;t need Avro, no. I&#39;ve used Spark, Pig or Hive all to convert JSON to Parquet. Beam should be able to, as well. But reading over the ParquetIO javadoc, maybe not. In any case, your error has nothing to do with Beam, so please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of just your Avro conversion process"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1651240665,"post_id":72027282,"comment_id":127323981,"body_markdown":"I think your error is related to the fact that `jsonSchema` needs to be serializable inside the DoFn class. Instead, try inferring that schema on each line, or make a chain of multiple apply functions that return the JSONObject collection from the strings, then another to infer the schema and apply Avro converter, then end with the ParquetIO","body":"I think your error is related to the fact that <code>jsonSchema</code> needs to be serializable inside the DoFn class. Instead, try inferring that schema on each line, or make a chain of multiple apply functions that return the JSONObject collection from the strings, then another to infer the schema and apply Avro converter, then end with the ParquetIO"},{"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"score":0,"creation_date":1651610226,"post_id":72027282,"comment_id":127403574,"body_markdown":"+1 to @OneCricketeer, can you check the full stack trace and see why `serializeToByteArray` is invoked and what runner are you using? If it&#39;s inevitable, you have to make sure that your jsonSchema is serializable or infer the schema in the `process` itself.","body":"+1 to @OneCricketeer, can you check the full stack trace and see why <code>serializeToByteArray</code> is invoked and what runner are you using? If it&#39;s inevitable, you have to make sure that your jsonSchema is serializable or infer the schema in the <code>process</code> itself."},{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1651661846,"post_id":72027282,"comment_id":127414838,"body_markdown":"@MohitKumar, did above solution resolve your issue?","body":"@MohitKumar, did above solution resolve your issue?"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":1,"creation_date":1651662158,"post_id":72027282,"comment_id":127414935,"body_markdown":"Yes, as @OneCricketeer said I need to serialize it. I created a new class and added as parameter construct and created it in `@Setup ` .","body":"Yes, as @OneCricketeer said I need to serialize it. I created a new class and added as parameter construct and created it in <code>@Setup </code> ."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651671881,"post_id":72027282,"comment_id":127418565,"body_markdown":"If you&#39;ve got it working, feel free to give your solution below","body":"If you&#39;ve got it working, feel free to give your solution below"}],"answers":[{"tags":[],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651672308,"creation_date":1651672308,"answer_id":72114149,"question_id":72027282,"body_markdown":"I created a new class and added as parameter construct and created it in @Setup.\r\n\r\n```  \r\nSchema jsonSchema = new Schema.Parser().parse(schemaString);\r\npipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(options.getInput()))\r\n                .apply(&quot;Convert Json To General Record&quot;, ParDo.of(new JsonToGeneralRecord(jsonSchema)))\r\n                .setCoder(AvroCoder.of(GenericRecord.class, jsonSchema))\r\n```\r\n\r\n```class JsonToGeneralRecord extends DoFn&lt;String, GenericRecord&gt; {\r\n\r\n    private static final Logger logger = LogManager.getLogger(JsonToGeneralRecord.class);\r\n\r\n    private final String schemaString;\r\n    private Schema jsonSchema;\r\n\r\n\r\n    // constructor\r\n    JsonToGeneralRecord(Schema schema) {\r\n        schemaString = schema.toString();\r\n    }\r\n\r\n    @Setup\r\n    public void setup() {\r\n        jsonSchema = new Schema.Parser().parse(schemaString);\r\n    }\r\n\r\n    @ProcessElement\r\n    public void processElement(ProcessContext c) throws Exception {\r\n\r\n        Gson gson = new GsonBuilder().create();\r\n        JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\r\n        logger.info(&quot;successful: &quot; + parsedMap.toString());\r\n\r\n        JsonAvroConverter avroConverter = new JsonAvroConverter();\r\n        try {\r\n            GenericRecord record = avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\r\n            c.output(record);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;error:  &quot; + e.getMessage() + parsedMap);\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}```","title":"How to convert JSON to Parquet in Apache Beam using Java","body":"<p>I created a new class and added as parameter construct and created it in @Setup.</p>\n<pre><code>Schema jsonSchema = new Schema.Parser().parse(schemaString);\npipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(options.getInput()))\n                .apply(&quot;Convert Json To General Record&quot;, ParDo.of(new JsonToGeneralRecord(jsonSchema)))\n                .setCoder(AvroCoder.of(GenericRecord.class, jsonSchema))\n</code></pre>\n<pre><code>\n    private static final Logger logger = LogManager.getLogger(JsonToGeneralRecord.class);\n\n    private final String schemaString;\n    private Schema jsonSchema;\n\n\n    // constructor\n    JsonToGeneralRecord(Schema schema) {\n        schemaString = schema.toString();\n    }\n\n    @Setup\n    public void setup() {\n        jsonSchema = new Schema.Parser().parse(schemaString);\n    }\n\n    @ProcessElement\n    public void processElement(ProcessContext c) throws Exception {\n\n        Gson gson = new GsonBuilder().create();\n        JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\n        logger.info(&quot;successful: &quot; + parsedMap.toString());\n\n        JsonAvroConverter avroConverter = new JsonAvroConverter();\n        try {\n            GenericRecord record = avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\n            c.output(record);\n        } catch (Exception e) {\n            logger.error(&quot;error:  &quot; + e.getMessage() + parsedMap);\n            e.printStackTrace();\n        }\n\n    }\n}```\n</code></pre>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114149,"answer_count":1,"score":0,"last_activity_date":1651672308,"creation_date":1651055692,"question_id":72027282,"body_markdown":"I am trying to convert Json Data \r\n\r\n    {&quot;col1&quot;:&quot;sample-val-1&quot;, &quot;col2&quot;:1.0}\r\n    {&quot;col1&quot;:&quot;sample-val-2&quot;, &quot;col2&quot;:2.0}\r\n    {&quot;col1&quot;:&quot;sample-val-3&quot;, &quot;col2&quot;:3.0}\r\n    {&quot;col1&quot;:&quot;sample-val-4&quot;, &quot;col2&quot;:4.0}\r\n    {&quot;col1&quot;:&quot;sample-val-5&quot;, &quot;col2&quot;:5.0}\r\n\r\nand I need this to be converted in Parquet\r\n\r\nthen I wrote some code in Apache Beam \r\n\r\n\r\n    package org.apache.beam.examples;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonObject;\r\n    import org.apache.avro.Schema;\r\n    import org.apache.beam.sdk.Pipeline;\r\n    import org.apache.beam.sdk.io.TextIO;\r\n    import org.apache.beam.sdk.transforms.DoFn;\r\n    import org.apache.beam.sdk.transforms.ParDo;\r\n    import org.apache.beam.sdk.values.PCollection;\r\n    import org.kitesdk.data.spi.JsonUtil;\r\n    import tech.allegro.schema.json2avro.converter.JsonAvroConverter;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.file.Files;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Pipeline pipeLine = Pipeline.create();\r\n            PCollection&lt;String&gt; lines = pipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(&quot;path-to-file&quot;));\r\n    \r\n            File initialFile = new File(&quot;path-to-file&quot;);\r\n            InputStream targetStream = Files.newInputStream(initialFile.toPath());\r\n            Schema jsonSchema = JsonUtil.inferSchema(targetStream, &quot;RecordName&quot;, 20);\r\n            System.out.println(jsonSchema.getDoc());\r\n            PCollection&lt;String&gt; words = lines.apply(ParDo.of(new DoFn&lt;String, String&gt;() {\r\n                @ProcessElement\r\n                public void processElement(ProcessContext c) {\r\n                    Gson gson = new GsonBuilder().create();\r\n                    JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\r\n    //                out.output(parsedMap);\r\n    //                System.out.println(Arrays.toString(parsedMap.toString().getBytes(StandardCharsets.UTF_8)));\r\n                    JsonAvroConverter avroConverter = new JsonAvroConverter();\r\n    //                GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\r\n    \r\n    //                context.output(record);\r\n                }\r\n            }));\r\n            pipeLine.run();\r\n            //\r\n    //        pgr.apply(FileIO.&lt;GenericRecord&gt;write().via(ParquetIO.sink(schema)).to(&quot;path/to/save&quot;));\r\n            \r\n        }\r\n    }\r\n\r\nI am able to get line by line json but unable to convert it to Parquet the above code throws error\r\nif you try to convert the Json to Parquet using\r\n\r\n    GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\r\n\r\nerror due to this line\r\n\r\n    Caused by: java.io.NotSerializableException: org.apache.avro.Schema$RecordSchema\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1185)\r\n    \tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n    \tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\r\n    \tat org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\r\n    \t... 25 more\r\n\r\n","title":"How to convert JSON to Parquet in Apache Beam using Java","body":"<p>I am trying to convert Json Data</p>\n<pre><code>{&quot;col1&quot;:&quot;sample-val-1&quot;, &quot;col2&quot;:1.0}\n{&quot;col1&quot;:&quot;sample-val-2&quot;, &quot;col2&quot;:2.0}\n{&quot;col1&quot;:&quot;sample-val-3&quot;, &quot;col2&quot;:3.0}\n{&quot;col1&quot;:&quot;sample-val-4&quot;, &quot;col2&quot;:4.0}\n{&quot;col1&quot;:&quot;sample-val-5&quot;, &quot;col2&quot;:5.0}\n</code></pre>\n<p>and I need this to be converted in Parquet</p>\n<p>then I wrote some code in Apache Beam</p>\n<pre><code>package org.apache.beam.examples;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonObject;\nimport org.apache.avro.Schema;\nimport org.apache.beam.sdk.Pipeline;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.transforms.DoFn;\nimport org.apache.beam.sdk.transforms.ParDo;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.kitesdk.data.spi.JsonUtil;\nimport tech.allegro.schema.json2avro.converter.JsonAvroConverter;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n\n        Pipeline pipeLine = Pipeline.create();\n        PCollection&lt;String&gt; lines = pipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(&quot;path-to-file&quot;));\n\n        File initialFile = new File(&quot;path-to-file&quot;);\n        InputStream targetStream = Files.newInputStream(initialFile.toPath());\n        Schema jsonSchema = JsonUtil.inferSchema(targetStream, &quot;RecordName&quot;, 20);\n        System.out.println(jsonSchema.getDoc());\n        PCollection&lt;String&gt; words = lines.apply(ParDo.of(new DoFn&lt;String, String&gt;() {\n            @ProcessElement\n            public void processElement(ProcessContext c) {\n                Gson gson = new GsonBuilder().create();\n                JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\n//                out.output(parsedMap);\n//                System.out.println(Arrays.toString(parsedMap.toString().getBytes(StandardCharsets.UTF_8)));\n                JsonAvroConverter avroConverter = new JsonAvroConverter();\n//                GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\n\n//                context.output(record);\n            }\n        }));\n        pipeLine.run();\n        //\n//        pgr.apply(FileIO.&lt;GenericRecord&gt;write().via(ParquetIO.sink(schema)).to(&quot;path/to/save&quot;));\n        \n    }\n}\n</code></pre>\n<p>I am able to get line by line json but unable to convert it to Parquet the above code throws error\nif you try to convert the Json to Parquet using</p>\n<pre><code>GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\n</code></pre>\n<p>error due to this line</p>\n<pre><code>Caused by: java.io.NotSerializableException: org.apache.avro.Schema$RecordSchema\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1185)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\n    at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1651659164,"post_id":72110032,"comment_id":127413921,"body_markdown":"Increasing heap size can also affect other default settings, print them with `-XX:+PrintFlagsFinal` and diff the results. A likely candidate is young generation size.","body":"Increasing heap size can also affect other default settings, print them with <code>-XX:+PrintFlagsFinal</code> and diff the results. A likely candidate is young generation size."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651660346,"post_id":72110032,"comment_id":127414359,"body_markdown":"@Holger I had checked the gc logs, and `-XX:InitialHeapSize=60817408` was present, and after the change it was `968884224`, so I do think it was changed.","body":"@Holger I had checked the gc logs, and <code>-XX:InitialHeapSize=60817408</code> was present, and after the change it was <code>968884224</code>, so I do think it was changed."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651660530,"post_id":72110032,"comment_id":127414430,"body_markdown":"@Holger I will add the before / after gc args in the question, in some time. I think that should help people with actual data, and would be useful","body":"@Holger I will add the before / after gc args in the question, in some time. I think that should help people with actual data, and would be useful"},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651665645,"post_id":72110032,"comment_id":127416010,"body_markdown":"Hey @Holger, have added the JVM args and GC details","body":"Hey @Holger, have added the JVM args and GC details"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651668045,"post_id":72110032,"comment_id":127416903,"body_markdown":"Some more information would be helpful. What actual numbers are the high number of young GCs? What actual pause times do you get; does the GC meat your max time goal or does it sometimes fail?","body":"Some more information would be helpful. What actual numbers are the high number of young GCs? What actual pause times do you get; does the GC meat your max time goal or does it sometimes fail?"},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651669846,"post_id":72110032,"comment_id":127417652,"body_markdown":"Here are some gc logs pastes:\nhttps://pastebin.com/HyxX3HTJ, https://pastebin.com/ZkcaqHhS, https://pastebin.com/5HP5HznS. Basically I am seeing a 5-6 GCs per second.","body":"Here are some gc logs pastes: <a href=\"https://pastebin.com/HyxX3HTJ\" rel=\"nofollow noreferrer\">pastebin.com/HyxX3HTJ</a>, <a href=\"https://pastebin.com/ZkcaqHhS\" rel=\"nofollow noreferrer\">pastebin.com/ZkcaqHhS</a>, <a href=\"https://pastebin.com/5HP5HznS\" rel=\"nofollow noreferrer\">pastebin.com/5HP5HznS</a>. Basically I am seeing a 5-6 GCs per second."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651774557,"post_id":72110032,"comment_id":127449354,"body_markdown":"Before or after the change? It isnt a bad number. Mind that the purpose of a concurrent GC is to minimize the pause lengths, not the number of pauses.","body":"Before or after the change? It isnt a bad number. Mind that the purpose of a concurrent GC is to minimize the pause lengths, not the number of pauses."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651989717,"post_id":72110032,"comment_id":127494240,"body_markdown":"@Holger Ohkay - So these numbers are not abnormal. Just one more question -  do you see any issues with the `maxGCPauseMillis` value of 100ms?  I&#39;ve read [here](https://docs.oracle.com/javase/7/docs/technotes/guides/vm/gc-ergonomics.html) and [here](https://docs.datastax.com/en/dse/6.0/dse-admin/datastax_enterprise/operations/opsConfigG1Gc.html), that it&#39;s value shouldn&#39;t be too less, or it will cause GC bursts. Any pointers on that you can share?","body":"@Holger Ohkay - So these numbers are not abnormal. Just one more question -  do you see any issues with the <code>maxGCPauseMillis</code> value of 100ms?  I&#39;ve read <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/vm/gc-ergonomics.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.datastax.com/en/dse/6.0/dse-admin/datastax_enterprise/operations/opsConfigG1Gc.html\" rel=\"nofollow noreferrer\">here</a>, that it&#39;s value shouldn&#39;t be too less, or it will cause GC bursts. Any pointers on that you can share?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652084359,"post_id":72110032,"comment_id":127511169,"body_markdown":"A value of 100ms is not unusual, but of course, it depends on the application. Youll have to monitor your application to see, whether youre seeing the total amount of used memory to pile up over time, until a full gc kicks in to get rid of it. If you see no such process, its fine.","body":"A value of 100ms is not unusual, but of course, it depends on the application. Youll have to monitor your application to see, whether youre seeing the total amount of used memory to pile up over time, until a full gc kicks in to get rid of it. If you see no such process, its fine."}],"answers":[{"tags":[],"owner":{"account_id":8589822,"reputation":9,"user_id":6434748,"display_name":"Prateek7"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651659359,"creation_date":1651659359,"answer_id":72111307,"question_id":72110032,"body_markdown":"maxGCPauseMillis is related to GC pause during FullGC not relate to young GC or frequency of young GC.\r\nWhich GC policy you are using &amp; what are the other GC &amp; heap parameters?","title":"Low maxGCPauseMillis and high initial heap size causing high number of young GCs","body":"<p>maxGCPauseMillis is related to GC pause during FullGC not relate to young GC or frequency of young GC.\nWhich GC policy you are using &amp; what are the other GC &amp; heap parameters?</p>\n"}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651672212,"creation_date":1651653286,"question_id":72110032,"body_markdown":"We have our `maxGCPauseMillis` as 100, and we were seeing high number of young GCs. After increasing the initial heap size to 1 GB, which was the default value earlier (~60MB), the number of such high young GC cases increased.\r\n\r\nI could not understand why increasing the initial heap size might cause that issue to worsen. Any pointers anyone has to what might be happening here?\r\n\r\n\r\nGC args before the change:\r\n```\r\nCommandLine flags: -XX:CICompilerCount=2 -XX:ConcGCThreads=1 \r\n-XX:+ExitOnOutOfMemoryError -XX:G1HeapRegionSize=1048576 -XX:InitialHeapSize=60817408 -XX:MarkStackSize=4194304 \r\n-XX:MaxGCPauseMillis=100 -XX:MaxHeapSize=968884224 \r\n-XX:MaxNewSize=580911104 -XX:MinHeapDeltaBytes=1048576 \r\n-XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails\r\n-XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers \r\n-XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps \r\n-XX:+UseG1GC -XX:+UseGCLogFileRotation \r\n```\r\n\r\nGC args after the change:\r\n```\r\nCommandLine flags: -XX:+ExitOnOutOfMemoryError \r\n-XX:InitialHeapSize=1073741824 -XX:MaxGCPauseMillis=100 \r\n-XX:MaxHeapSize=1073741824 -XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps \r\n-XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC -XX:+UseGCLogFileRotation \r\n```\r\n\r\n\r\nHere are some gc logs pastes: \r\n* https://pastebin.com/HyxX3HTJ\r\n* https://pastebin.com/ZkcaqHhS\r\n* https://pastebin.com/5HP5HznS","title":"Low maxGCPauseMillis and high initial heap size causing high number of young GCs","body":"<p>We have our <code>maxGCPauseMillis</code> as 100, and we were seeing high number of young GCs. After increasing the initial heap size to 1 GB, which was the default value earlier (~60MB), the number of such high young GC cases increased.</p>\n<p>I could not understand why increasing the initial heap size might cause that issue to worsen. Any pointers anyone has to what might be happening here?</p>\n<p>GC args before the change:</p>\n<pre><code>CommandLine flags: -XX:CICompilerCount=2 -XX:ConcGCThreads=1 \n-XX:+ExitOnOutOfMemoryError -XX:G1HeapRegionSize=1048576 -XX:InitialHeapSize=60817408 -XX:MarkStackSize=4194304 \n-XX:MaxGCPauseMillis=100 -XX:MaxHeapSize=968884224 \n-XX:MaxNewSize=580911104 -XX:MinHeapDeltaBytes=1048576 \n-XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails\n-XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers \n-XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps \n-XX:+UseG1GC -XX:+UseGCLogFileRotation \n</code></pre>\n<p>GC args after the change:</p>\n<pre><code>CommandLine flags: -XX:+ExitOnOutOfMemoryError \n-XX:InitialHeapSize=1073741824 -XX:MaxGCPauseMillis=100 \n-XX:MaxHeapSize=1073741824 -XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps \n-XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC -XX:+UseGCLogFileRotation \n</code></pre>\n<p>Here are some gc logs pastes:</p>\n<ul>\n<li><a href=\"https://pastebin.com/HyxX3HTJ\" rel=\"nofollow noreferrer\">https://pastebin.com/HyxX3HTJ</a></li>\n<li><a href=\"https://pastebin.com/ZkcaqHhS\" rel=\"nofollow noreferrer\">https://pastebin.com/ZkcaqHhS</a></li>\n<li><a href=\"https://pastebin.com/5HP5HznS\" rel=\"nofollow noreferrer\">https://pastebin.com/5HP5HznS</a></li>\n</ul>\n"},{"tags":["java","android","google-cloud-firestore","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651672087,"creation_date":1651637021,"answer_id":72107800,"question_id":72107759,"body_markdown":"Your code assumes that the sign-in succeeded, which is not necessarily the case inside `onComplete`.\r\n\r\nYou need to handle both success and failure, like this:\r\n```\r\nmAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\r\n  .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            mUser=mAuth.getCurrentUser();\r\n            userID = mUser.getUid();\r\n            ...\r\n        }\r\n        else {\r\n            Log.e(&quot;Firebase&quot;, &quot;Sign in failed&quot;, task.getException());\r\n        }\r\n    }\r\n    ...\r\n```\r\n\r\nNow if the sign-in fails, check the logcat output for the root cause, and fix that.","title":"getUid() returns null on onComplete after Login","body":"<p>Your code assumes that the sign-in succeeded, which is not necessarily the case inside <code>onComplete</code>.</p>\n<p>You need to handle both success and failure, like this:</p>\n<pre><code>mAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\n  .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        if (task.isSuccessful()) {\n            mUser=mAuth.getCurrentUser();\n            userID = mUser.getUid();\n            ...\n        }\n        else {\n            Log.e(&quot;Firebase&quot;, &quot;Sign in failed&quot;, task.getException());\n        }\n    }\n    ...\n</code></pre>\n<p>Now if the sign-in fails, check the logcat output for the root cause, and fix that.</p>\n"}],"owner":{"account_id":14476650,"reputation":3,"user_id":10457131,"display_name":"Scoutpred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72107800,"answer_count":1,"score":0,"last_activity_date":1651672087,"creation_date":1651636613,"question_id":72107759,"body_markdown":"This is like my first or second StackOverflow question, so bear with me. \r\n\r\nI want to get the Firebase UID upon login success. However, I get an error with `getCurrentUser.getUid()` being null.\r\n\r\nBelow is the following code\r\n\r\n    mAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\r\n    .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            mUser=mAuth.getCurrentUser();\r\n            userID = mUser.getUid();\r\n            DocumentReference docRef = db.collection(&quot;userDB&quot;).document(userID);\r\n            docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        DocumentSnapshot document = task.getResult();\r\n                        String val = document.getString(&quot;type&quot;);\r\n\r\n                        if(val.equals(&quot;client&quot;)){\r\n                            if (mAuth.getCurrentUser().isEmailVerified()){\r\n                                progressDialog.dismiss();\r\n                                sendUserToNextActivity();\r\n                                Toast.makeText(Login.this, &quot;Login Success!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }else{\r\n                                progressDialog.dismiss();\r\n                                FirebaseAuth.getInstance().signOut();\r\n                                Toast.makeText(Login.this, &quot;Please verify email first!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }else{\r\n                            FirebaseAuth.getInstance().signOut();\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(Login.this, &quot;Employees are not permmitted!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                    } else {\r\n\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n    });\r\n\r\nHere is the full error log.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.bottomnavigationview, PID: 27109\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n        at com.example.bottomnavigationview.Login$3$1.onComplete(Login.java:86)\r\n        at com.google.android.gms.tasks.zzi.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        at android.os.Handler.handleCallback(Handler.java:789)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n\r\nWhich points at\r\n\r\n    userID = mUser.getUid();\r\n\r\nIs there another way or a fix where I can get the UID upon successful login? I heard about onAuthStateChanged but I can&#39;t seem to get a grasp of it.\r\n\r\n[Edit]\r\n\r\nIt is noted that mAuth and mUser has been declared within the class.\r\n`\r\n    FirebaseAuth mAuth;\r\n    FirebaseUser mUser;\r\n`\r\nAs well as `mAuth=FirebaseAuth.getInstance()` within onCreate.\r\n\r\n","title":"getUid() returns null on onComplete after Login","body":"<p>This is like my first or second StackOverflow question, so bear with me.</p>\n<p>I want to get the Firebase UID upon login success. However, I get an error with <code>getCurrentUser.getUid()</code> being null.</p>\n<p>Below is the following code</p>\n<pre><code>mAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\n.addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        mUser=mAuth.getCurrentUser();\n        userID = mUser.getUid();\n        DocumentReference docRef = db.collection(&quot;userDB&quot;).document(userID);\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    DocumentSnapshot document = task.getResult();\n                    String val = document.getString(&quot;type&quot;);\n\n                    if(val.equals(&quot;client&quot;)){\n                        if (mAuth.getCurrentUser().isEmailVerified()){\n                            progressDialog.dismiss();\n                            sendUserToNextActivity();\n                            Toast.makeText(Login.this, &quot;Login Success!&quot;, Toast.LENGTH_SHORT).show();\n                        }else{\n                            progressDialog.dismiss();\n                            FirebaseAuth.getInstance().signOut();\n                            Toast.makeText(Login.this, &quot;Please verify email first!&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }else{\n                        FirebaseAuth.getInstance().signOut();\n                        progressDialog.dismiss();\n                        Toast.makeText(Login.this, &quot;Employees are not permmitted!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n                } else {\n\n                }\n            }\n        });\n\n    }\n});\n</code></pre>\n<p>Here is the full error log.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.bottomnavigationview, PID: 27109\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n    at com.example.bottomnavigationview.Login$3$1.onComplete(Login.java:86)\n    at com.google.android.gms.tasks.zzi.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\n    at android.os.Handler.handleCallback(Handler.java:789)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6541)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n<p>Which points at</p>\n<pre><code>userID = mUser.getUid();\n</code></pre>\n<p>Is there another way or a fix where I can get the UID upon successful login? I heard about onAuthStateChanged but I can't seem to get a grasp of it.</p>\n<p>[Edit]</p>\n<p>It is noted that mAuth and mUser has been declared within the class.\n<code>FirebaseAuth mAuth; FirebaseUser mUser;</code>\nAs well as <code>mAuth=FirebaseAuth.getInstance()</code> within onCreate.</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1651666779,"post_id":72112779,"comment_id":127416453,"body_markdown":"Is this question being asked to confirm/rule out a possible cause of behavior you&#39;ve observed but not described? &quot;because of async tasK&quot; can mean many things. Just switching threads doesn&#39;t change data. The code has to, but again that depends on the code and the data too.","body":"Is this question being asked to confirm/rule out a possible cause of behavior you&#39;ve observed but not described? &quot;because of async tasK&quot; can mean many things. Just switching threads doesn&#39;t change data. The code has to, but again that depends on the code and the data too."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651671955,"creation_date":1651671955,"answer_id":72114054,"question_id":72112779,"body_markdown":"There are actually two questions here - one in the title and the other in the body\r\n\r\n&gt; Can value of a variable change in a asynchronous program?\r\n\r\nYes, an asynchronous process may alter a shared resource if that resource is mutable.\r\n\r\n&gt; Can it happen that, because of async task, value of errorState could\r\n&gt; have got reset ?\r\n\r\nNo, Strings are immutable in Java so `errorState` cannot be altered by the asynchronous process.  The reference within the asynchronous process may be pointed at another String but the original reference is still pointing to the original object which is unperturbed.\r\n","title":"Can value of a variable change in a asynchronous program?","body":"<p>There are actually two questions here - one in the title and the other in the body</p>\n<blockquote>\n<p>Can value of a variable change in a asynchronous program?</p>\n</blockquote>\n<p>Yes, an asynchronous process may alter a shared resource if that resource is mutable.</p>\n<blockquote>\n<p>Can it happen that, because of async task, value of errorState could\nhave got reset ?</p>\n</blockquote>\n<p>No, Strings are immutable in Java so <code>errorState</code> cannot be altered by the asynchronous process.  The reference within the asynchronous process may be pointed at another String but the original reference is still pointing to the original object which is unperturbed.</p>\n"}],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651671955,"creation_date":1651666378,"question_id":72112779,"body_markdown":"  \r\n   \r\n    String errorState = &quot;value&quot;;\r\n    ComplexObj complexObj = getComplexObj();\r\n    complexObj.setErrorState(errorState);\r\n    // do async task\r\n    if(errorState){ \r\n       doSomething();\r\n    }\r\n    else{\r\n       doSomethingElse();\r\n    }\r\n\r\nCan it happen that, because of async task, value of errorState could have got reset ?","title":"Can value of a variable change in a asynchronous program?","body":"<pre><code>String errorState = &quot;value&quot;;\nComplexObj complexObj = getComplexObj();\ncomplexObj.setErrorState(errorState);\n// do async task\nif(errorState){ \n   doSomething();\n}\nelse{\n   doSomethingElse();\n}\n</code></pre>\n<p>Can it happen that, because of async task, value of errorState could have got reset ?</p>\n"},{"tags":["java","pojo","dmn","kogito"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651671916,"creation_date":1651671916,"answer_id":72114042,"question_id":72109275,"body_markdown":"A very relevant and similar use-case was described precisely in:\r\n\r\n - this blog post: https://blog.kie.org/2022/01/data-enrichment-use-case-with-dmn-and-bpmn.html\r\n - this video: https://www.youtube.com/watch?v=NHigoAz1TRY\r\n - this demo: https://github.com/tarilabs/dmn-data-enrichment-20210804\r\n\r\nbefore accessing the code, I would strongly recommend to watch the video or read the blog post first.\r\n\r\nIt is important to remind that the DMN Specification mandates for a stateless and side-effect free model, so you can&#39;t _mutate_ an existing InputData variable, per-se. However, you can make use of &quot;data enrichment&quot; strategies to fulfil your use-case, per the blog post and video.\r\n\r\nThere are 2 main strategies you could follow, in short:\r\n\r\n - in the DMN model, you _decide_ for the `algId` as its own Decision node named `algId` which later will be used in BPMN process Data I/O in order to update the _process variable_ of type Application with the expected result\r\n - in the DMN model, you come up with a data enriched final decision which has the same structure of `Application` type, using the new DMN FEEL built-in such as `context put()` and you replace the process variable with that decision","title":"Changing POJO Object in DMN Kogito","body":"<p>A very relevant and similar use-case was described precisely in:</p>\n<ul>\n<li>this blog post: <a href=\"https://blog.kie.org/2022/01/data-enrichment-use-case-with-dmn-and-bpmn.html\" rel=\"nofollow noreferrer\">https://blog.kie.org/2022/01/data-enrichment-use-case-with-dmn-and-bpmn.html</a></li>\n<li>this video: <a href=\"https://www.youtube.com/watch?v=NHigoAz1TRY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=NHigoAz1TRY</a></li>\n<li>this demo: <a href=\"https://github.com/tarilabs/dmn-data-enrichment-20210804\" rel=\"nofollow noreferrer\">https://github.com/tarilabs/dmn-data-enrichment-20210804</a></li>\n</ul>\n<p>before accessing the code, I would strongly recommend to watch the video or read the blog post first.</p>\n<p>It is important to remind that the DMN Specification mandates for a stateless and side-effect free model, so you can't <em>mutate</em> an existing InputData variable, per-se. However, you can make use of &quot;data enrichment&quot; strategies to fulfil your use-case, per the blog post and video.</p>\n<p>There are 2 main strategies you could follow, in short:</p>\n<ul>\n<li>in the DMN model, you <em>decide</em> for the <code>algId</code> as its own Decision node named <code>algId</code> which later will be used in BPMN process Data I/O in order to update the <em>process variable</em> of type Application with the expected result</li>\n<li>in the DMN model, you come up with a data enriched final decision which has the same structure of <code>Application</code> type, using the new DMN FEEL built-in such as <code>context put()</code> and you replace the process variable with that decision</li>\n</ul>\n"}],"owner":{"account_id":3466910,"reputation":2437,"user_id":2902209,"accept_rate":82,"display_name":"Donvino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114042,"answer_count":1,"score":0,"last_activity_date":1651671916,"creation_date":1651649023,"question_id":72109275,"body_markdown":"I have bpmn2 file in which I use as a process data POJO application.\r\nTo learn how to work with DMN I wanted to change 1 POJO property depending on smth inside the DMN. I manged to make DMN working when on the input I had application and on the output I had a string value. Now I want to hade in the input application on the input and modified application on the output:\r\n[![DMN Data I\\O][1]][1]\r\n\r\nInside DMN I have the following structure:\r\n\r\n[![DMN Structure][2]][2]\r\n\r\nI have created data type tApplication with string algId field:\r\n[![DMN data type][3]][3]\r\n\r\nSo the aplication inside DMN is a tApplication data type, for decision I tried to use the decision table:\r\n\r\n[![DMN Decision Table][4]][4]\r\n\r\nMy idea was- when application.algId == &quot;101&quot; change that value to &quot;115&quot;, but for the input\r\n\r\n    {\r\n      &quot;application&quot;: {\r\n        &quot;algId&quot;:&quot;101&quot;,\r\n        ...\r\n      }\r\n    }\r\n\r\nI get following results:\r\n\r\n    {\r\n        &quot;id&quot;: &quot;98b8a9ad-1c1d-4c4f-8525-6e5fe9a528c9&quot;,\r\n        &quot;application&quot;: {\r\n            &quot;algId&quot;:&quot;101&quot;,\r\n        ...\r\n      }\r\n    }\r\n\r\nWhat am I doing wrong? What is the best practice to change the POJO object inside the DMN?\r\n\r\n  [1]: https://i.stack.imgur.com/9MGmK.png\r\n  [2]: https://i.stack.imgur.com/sEbzM.png\r\n  [3]: https://i.stack.imgur.com/NPIC1.png\r\n  [4]: https://i.stack.imgur.com/ocDAk.png","title":"Changing POJO Object in DMN Kogito","body":"<p>I have bpmn2 file in which I use as a process data POJO application.\nTo learn how to work with DMN I wanted to change 1 POJO property depending on smth inside the DMN. I manged to make DMN working when on the input I had application and on the output I had a string value. Now I want to hade in the input application on the input and modified application on the output:\n<a href=\"https://i.stack.imgur.com/9MGmK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MGmK.png\" alt=\"DMN Data I\\O\" /></a></p>\n<p>Inside DMN I have the following structure:</p>\n<p><a href=\"https://i.stack.imgur.com/sEbzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sEbzM.png\" alt=\"DMN Structure\" /></a></p>\n<p>I have created data type tApplication with string algId field:\n<a href=\"https://i.stack.imgur.com/NPIC1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NPIC1.png\" alt=\"DMN data type\" /></a></p>\n<p>So the aplication inside DMN is a tApplication data type, for decision I tried to use the decision table:</p>\n<p><a href=\"https://i.stack.imgur.com/ocDAk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ocDAk.png\" alt=\"DMN Decision Table\" /></a></p>\n<p>My idea was- when application.algId == &quot;101&quot; change that value to &quot;115&quot;, but for the input</p>\n<pre><code>{\n  &quot;application&quot;: {\n    &quot;algId&quot;:&quot;101&quot;,\n    ...\n  }\n}\n</code></pre>\n<p>I get following results:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;98b8a9ad-1c1d-4c4f-8525-6e5fe9a528c9&quot;,\n    &quot;application&quot;: {\n        &quot;algId&quot;:&quot;101&quot;,\n    ...\n  }\n}\n</code></pre>\n<p>What am I doing wrong? What is the best practice to change the POJO object inside the DMN?</p>\n"},{"tags":["javascript","java","currency"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":3,"creation_date":1449649898,"post_id":34173466,"comment_id":56094843,"body_markdown":"Have a look at this [SO answer &quot;displaying-currency-in-indian-numbering-format&quot;](http://stackoverflow.com/questions/5379231/displaying-currency-in-indian-numbering-format)","body":"Have a look at this <a href=\"http://stackoverflow.com/questions/5379231/displaying-currency-in-indian-numbering-format\">SO answer &quot;displaying-currency-in-indian-numbering-format&quot;</a>"},{"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":1,"creation_date":1470210790,"post_id":34173466,"comment_id":64849859,"body_markdown":"Mind the gap between `java` and `javascript`. As we know, &quot;One is essentially a toy, designed for writing small pieces of code, and traditionally used and abused by inexperienced programmers.\n\nThe other is a scripting language for web browsers. &quot;","body":"Mind the gap between <code>java</code> and <code>javascript</code>. As we know, &quot;One is essentially a toy, designed for writing small pieces of code, and traditionally used and abused by inexperienced programmers.  The other is a scripting language for web browsers. &quot;"}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449648076,"creation_date":1449648076,"answer_id":34173574,"question_id":34173466,"body_markdown":"In Java regular expression syntax is slightly different. `/\\B(?=(\\d{2})+(?!\\d))/g,` would need to become `&quot;?g\\\\B(?=(\\\\d{2})+(?!\\\\d))&quot;`.","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>In Java regular expression syntax is slightly different. <code>/\\B(?=(\\d{2})+(?!\\d))/g,</code> would need to become <code>\"?g\\\\B(?=(\\\\d{2})+(?!\\\\d))\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1449648245,"creation_date":1449648245,"answer_id":34173624,"question_id":34173466,"body_markdown":"In Java you can also use DecimalFormat:\r\n\r\n    double val = Double.parseDouble(num);  //If your num is in String  \r\n    DecimalFormat fmt = new DecimalFormat(&quot;#,###.00&quot;);\r\n    System.out.println(fmt.format(val));","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>In Java you can also use DecimalFormat:</p>\n\n<pre><code>double val = Double.parseDouble(num);  //If your num is in String  \nDecimalFormat fmt = new DecimalFormat(\"#,###.00\");\nSystem.out.println(fmt.format(val));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449648312,"creation_date":1449648312,"answer_id":34173638,"question_id":34173466,"body_markdown":"The java syntax would roughly be the following.\r\n\r\nNote that I used the regex given by **npinti** in his/her answer :\r\n\r\n    public String currencyFormat1(Object id) {\r\n                                String x;\r\n                                x = id.toString();\r\n                                String lastThree = x.substring(x.length() - 3);\r\n                                String otherNumbers = x.substring(0, x.length() - 3);\r\n                                if (!otherNumbers.isEmpty())\r\n                                    lastThree = &quot;,&quot; + lastThree;\r\n                                String res = otherNumbers.replaceAll(&quot;?g\\\\B(?=(\\\\d{2})+(?!\\\\d))&quot;, &quot;,&quot;) + lastThree;\r\n                                return  res;\r\n                            }","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>The java syntax would roughly be the following.</p>\n\n<p>Note that I used the regex given by <strong>npinti</strong> in his/her answer :</p>\n\n<pre><code>public String currencyFormat1(Object id) {\n                            String x;\n                            x = id.toString();\n                            String lastThree = x.substring(x.length() - 3);\n                            String otherNumbers = x.substring(0, x.length() - 3);\n                            if (!otherNumbers.isEmpty())\n                                lastThree = \",\" + lastThree;\n                            String res = otherNumbers.replaceAll(\"?g\\\\B(?=(\\\\d{2})+(?!\\\\d))\", \",\") + lastThree;\n                            return  res;\n                        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1449651760,"creation_date":1449651760,"answer_id":34174576,"question_id":34173466,"body_markdown":"The Java [NumberFormat](https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html) will give you what you want, but you can also write your own method:\r\n\r\n\tpublic static String fmt(String s){\r\n\t\t\r\n\t\tString formatted = &quot;&quot;;\r\n\t\tif(s.length() &gt; 1){\r\n\t\t\tformatted = s.substring(0,1);\r\n\t\t\ts = s.substring(1);\r\n\t\t}\r\n\t\t\t\r\n\t\twhile(s.length() &gt; 3){\r\n\t\t\tformatted += &quot;,&quot; + s.substring(0,2);\r\n\t\t\ts = s.substring(2);\r\n\t\t}\r\n\t\treturn formatted + &quot;,&quot; + s + &quot;.00&quot;;\t\r\n\t}\r\n\r\n**Test:**\r\n\r\n\tSystem.out.println(fmt(&quot;1234&quot;));\r\n\tSystem.out.println(fmt(&quot;100000&quot;));\r\n\tSystem.out.println(fmt(&quot;12345678&quot;));\r\n\tSystem.out.println(fmt(&quot;123456789&quot;));\t\t\t\t\t\t\r\n\tSystem.out.println(fmt(&quot;1234567898&quot;));\r\n\r\n**Output:**\r\n\r\n    1,234.00\r\n    1,00,000.00\r\n    1,23,45,678.00\r\n    1,23,45,67,89.00\r\n    1,23,45,67,898.00\r\n\r\n","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>The Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html\" rel=\"nofollow\">NumberFormat</a> will give you what you want, but you can also write your own method:</p>\n\n<pre><code>public static String fmt(String s){\n\n    String formatted = \"\";\n    if(s.length() &gt; 1){\n        formatted = s.substring(0,1);\n        s = s.substring(1);\n    }\n\n    while(s.length() &gt; 3){\n        formatted += \",\" + s.substring(0,2);\n        s = s.substring(2);\n    }\n    return formatted + \",\" + s + \".00\"; \n}\n</code></pre>\n\n<p><strong>Test:</strong></p>\n\n<pre><code>System.out.println(fmt(\"1234\"));\nSystem.out.println(fmt(\"100000\"));\nSystem.out.println(fmt(\"12345678\"));\nSystem.out.println(fmt(\"123456789\"));                       \nSystem.out.println(fmt(\"1234567898\"));\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1,234.00\n1,00,000.00\n1,23,45,678.00\n1,23,45,67,89.00\n1,23,45,67,898.00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8860942,"reputation":71,"user_id":6617175,"display_name":"Rohit Thorat"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1470210370,"creation_date":1470210370,"answer_id":38737438,"question_id":34173466,"body_markdown":"&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(&#39;#textfield&#39;).keyup(function() {\t\r\n    var value=$(&#39;#textfield&#39;).val();\r\n          \r\n          var newvalue=value.replace(/,/g, &#39;&#39;);   \r\n          var valuewithcomma=Number(newvalue).toLocaleString(&#39;en-IN&#39;);   \r\n    \t \r\n          $(&#39;#textfield&#39;).val(valuewithcomma); \r\n\r\n          });\r\n    \t\t\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;form&gt;&lt;input type=&quot;text&quot; id=&quot;textfield&quot; &gt;&lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#textfield').keyup(function() {\t\r\nvar value=$('#textfield').val();\r\n      \r\n      var newvalue=value.replace(/,/g, '');   \r\n      var valuewithcomma=Number(newvalue).toLocaleString('en-IN');   \r\n\t \r\n      $('#textfield').val(valuewithcomma); \r\n\r\n      });\r\n\t\t</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form&gt;&lt;input type=\"text\" id=\"textfield\" &gt;&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":6151466,"reputation":165,"user_id":4795769,"display_name":"Senthil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651671846,"creation_date":1576298193,"answer_id":59332342,"question_id":34173466,"body_markdown":"Indian Currency Number Conversion RegExp\r\n\r\n/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;\r\n    \r\n    $(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;).toString());\r\n\r\n\r\n\r\nForeign Currency Number Conversion RegExp\r\n\r\n/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;\r\n    \r\n    $(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;).toString());","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>Indian Currency Number Conversion RegExp</p>\n<p>/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;</p>\n<pre><code>$(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;).toString());\n</code></pre>\n<p>Foreign Currency Number Conversion RegExp</p>\n<p>/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;</p>\n<pre><code>$(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;).toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576299211,"creation_date":1576299211,"answer_id":59332406,"question_id":34173466,"body_markdown":"Simple manual solutions might work if you only need 1 specific style for one specific locale (see other answers for this kind of solution). If not...\r\n\r\nFor Javascript, check out [Globalize](https://github.com/jquery/globalize). \r\n\r\nInstall it\r\n\r\n`npm install globalize cldr-data --save`\r\n\r\nThen:\r\n(This particular example for Hindi, from an earlier answer [here](https://stackoverflow.com/a/38822356/675721), remove the `-native` to have it only insert commas according to locale)\r\n\r\n    var cldr = require(&quot;cldr-data&quot;);\r\n    var Globalize = require(&quot;globalize&quot;);\r\n    \r\n    Globalize.load(cldr(&quot;supplemental/likelySubtags&quot;));\r\n    Globalize.load(cldr(&quot;supplemental/numberingSystems&quot;));\r\n    Globalize.load(cldr(&quot;supplemental/currencyData&quot;));\r\n    \r\n    //replace &#39;hi&#39; with appropriate language tag\r\n    Globalize.load(cldr(&quot;main/hi/numbers&quot;));\r\n    Globalize.load(cldr(&quot;main/hi/currencies&quot;));\r\n    \r\n    //You may replace the above locale-specific loads with the following line,\r\n    // which will load every type of CLDR language data for every available locale\r\n    // and may consume several hundred megs of memory!\r\n    //Use with caution.\r\n    //Globalize.load(cldr.all());\r\n    \r\n    //Set the locale\r\n    //We use the extention u-nu-native to indicate that Devanagari and\r\n    // not Latin numerals should be used.\r\n    // &#39;-u&#39; means extension\r\n    // &#39;-nu&#39; means number\r\n    // &#39;-native&#39; means use native script\r\n    //Without -u-nu-native this example will not work\r\n    //See \r\n    // https://en.wikipedia.org/wiki/IETF_language_tag#Extension_U_.28Unicode_Locale.29\r\n    // for more details on the U language code extension \r\n    var hindiGlobalizer = Globalize(&#39;hi-IN-u-nu-native&#39;);\r\n    \r\n    var parseHindiNumber = hindiGlobalizer.numberParser();\r\n    var formatHindiNumber = hindiGlobalizer.numberFormatter();\r\n    var formatRupeeCurrency = hindiGlobalizer.currencyFormatter(&quot;INR&quot;);\r\n    \r\n    console.log(parseHindiNumber(&#39;,&#39;)); //3500\r\n    console.log(formatHindiNumber(3500));   //,\r\n    console.log(formatRupeeCurrency(3500)); //,.\r\n\r\n\r\nhttps://github.com/codebling/globalize-example","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>Simple manual solutions might work if you only need 1 specific style for one specific locale (see other answers for this kind of solution). If not...</p>\n\n<p>For Javascript, check out <a href=\"https://github.com/jquery/globalize\" rel=\"nofollow noreferrer\">Globalize</a>. </p>\n\n<p>Install it</p>\n\n<p><code>npm install globalize cldr-data --save</code></p>\n\n<p>Then:\n(This particular example for Hindi, from an earlier answer <a href=\"https://stackoverflow.com/a/38822356/675721\">here</a>, remove the <code>-native</code> to have it only insert commas according to locale)</p>\n\n<pre><code>var cldr = require(\"cldr-data\");\nvar Globalize = require(\"globalize\");\n\nGlobalize.load(cldr(\"supplemental/likelySubtags\"));\nGlobalize.load(cldr(\"supplemental/numberingSystems\"));\nGlobalize.load(cldr(\"supplemental/currencyData\"));\n\n//replace 'hi' with appropriate language tag\nGlobalize.load(cldr(\"main/hi/numbers\"));\nGlobalize.load(cldr(\"main/hi/currencies\"));\n\n//You may replace the above locale-specific loads with the following line,\n// which will load every type of CLDR language data for every available locale\n// and may consume several hundred megs of memory!\n//Use with caution.\n//Globalize.load(cldr.all());\n\n//Set the locale\n//We use the extention u-nu-native to indicate that Devanagari and\n// not Latin numerals should be used.\n// '-u' means extension\n// '-nu' means number\n// '-native' means use native script\n//Without -u-nu-native this example will not work\n//See \n// https://en.wikipedia.org/wiki/IETF_language_tag#Extension_U_.28Unicode_Locale.29\n// for more details on the U language code extension \nvar hindiGlobalizer = Globalize('hi-IN-u-nu-native');\n\nvar parseHindiNumber = hindiGlobalizer.numberParser();\nvar formatHindiNumber = hindiGlobalizer.numberFormatter();\nvar formatRupeeCurrency = hindiGlobalizer.currencyFormatter(\"INR\");\n\nconsole.log(parseHindiNumber(',')); //3500\nconsole.log(formatHindiNumber(3500));   //,\nconsole.log(formatRupeeCurrency(3500)); //,.\n</code></pre>\n\n<p><a href=\"https://github.com/codebling/globalize-example\" rel=\"nofollow noreferrer\">https://github.com/codebling/globalize-example</a></p>\n"},{"tags":[],"owner":{"account_id":17521194,"reputation":1,"user_id":12707215,"display_name":"Souradeep Bhunia"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578981134,"creation_date":1578957286,"answer_id":59725544,"question_id":34173466,"body_markdown":"Code given by user3437460 is not working for all possible scenarios (EX:123456). Below code will work for all scenarios.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class INRFormat {\r\n\r\n    public static String format(String num){\r\n        System.out.println(num.length());\r\n        String temp =&quot;&quot;;\r\n        //Removing extra &#39;0&#39;s \r\n        while(num.substring(0,1).equals(&quot;0&quot;) &amp;&amp; num.length()&gt;1) {\r\n            num = num.substring(1);\r\n        }\r\n        //Returning if it is 3 or less than 3 digits number.\r\n        if(num.length()&lt;=3){\r\n            return num+&quot;.00&quot;;\r\n\r\n        }\r\n        //If it is an odd number then &#39;,&#39; will start after first digit(Ex: 1,23,456.00)\r\n        else if(num.length()%2 !=0) {\r\n            temp = num.substring(0, 2);\r\n            num = num.substring(2);}\r\n        //If it is an even number then &#39;,&#39; will start after first 2 digits(Ex: 12,34,567.00)\r\n        else {\r\n            temp = num.substring(0, 1);\r\n            num = num.substring(1);\r\n        }\r\n        while (num.length() &gt; 3) {\r\n                temp += &quot;,&quot; + num.substring(0, 2);\r\n                num = num.substring(2);\r\n\r\n            }\r\n\r\n        return temp+&quot;,&quot;+num+&quot;.00&quot;;\r\n    }\r\n    public static void main(String args []){\r\n         Scanner s =new Scanner(System.in);\r\n         System.out.println(&quot;Please enter the number to be formatted:&quot; );\r\n         String num =s.nextLine();\r\n         System.out.println(&quot;Formatted number:&quot; + format(num));\r\n\r\n    }\r\n\r\n}\r\n```","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>Code given by user3437460 is not working for all possible scenarios (EX:123456). Below code will work for all scenarios.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class INRFormat {\n\n    public static String format(String num){\n        System.out.println(num.length());\n        String temp =\"\";\n        //Removing extra '0's \n        while(num.substring(0,1).equals(\"0\") &amp;&amp; num.length()&gt;1) {\n            num = num.substring(1);\n        }\n        //Returning if it is 3 or less than 3 digits number.\n        if(num.length()&lt;=3){\n            return num+\".00\";\n\n        }\n        //If it is an odd number then ',' will start after first digit(Ex: 1,23,456.00)\n        else if(num.length()%2 !=0) {\n            temp = num.substring(0, 2);\n            num = num.substring(2);}\n        //If it is an even number then ',' will start after first 2 digits(Ex: 12,34,567.00)\n        else {\n            temp = num.substring(0, 1);\n            num = num.substring(1);\n        }\n        while (num.length() &gt; 3) {\n                temp += \",\" + num.substring(0, 2);\n                num = num.substring(2);\n\n            }\n\n        return temp+\",\"+num+\".00\";\n    }\n    public static void main(String args []){\n         Scanner s =new Scanner(System.in);\n         System.out.println(\"Please enter the number to be formatted:\" );\n         String num =s.nextLine();\n         System.out.println(\"Formatted number:\" + format(num));\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7097723,"reputation":71,"user_id":5430594,"accept_rate":80,"display_name":"Pradeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6761,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":34174576,"answer_count":8,"score":3,"last_activity_date":1651671846,"creation_date":1449647704,"question_id":34173466,"body_markdown":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234.\r\n\r\nI have tried this code, \r\n       \r\n    function currencyFormat1(id) {\r\n        var x;\r\n        x = id.toString();\r\n        var lastThree = x.substring(x.length - 3);\r\n        var otherNumbers = x.substring(0, x.length - 3);\r\n        if (otherNumbers != &#39;&#39;)\r\n            lastThree = &#39;,&#39; + lastThree;\r\n        var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, &quot;,&quot;) + lastThree;\r\n        return  res;\r\n    }\r\n\r\nBut it is working in only java script, \r\nI need this as core java code , I have tried to convert this but the \r\n\r\n  \r\n\r\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, &quot;,&quot;) + lastThree;\r\n\r\n\r\n","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234.</p>\n\n<p>I have tried this code, </p>\n\n<pre><code>function currencyFormat1(id) {\n    var x;\n    x = id.toString();\n    var lastThree = x.substring(x.length - 3);\n    var otherNumbers = x.substring(0, x.length - 3);\n    if (otherNumbers != '')\n        lastThree = ',' + lastThree;\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree;\n    return  res;\n}\n</code></pre>\n\n<p>But it is working in only java script, \nI need this as core java code , I have tried to convert this but the </p>\n\n<pre><code>var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree;\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1651671289,"post_id":72113794,"comment_id":127418316,"body_markdown":"It&#39;s not very clear... can you share one level more of the Json and one level more of the code you use to parse?","body":"It&#39;s not very clear... can you share one level more of the Json and one level more of the code you use to parse?"},{"owner":{"account_id":5723764,"reputation":81,"user_id":4521408,"display_name":"Danilo Mendes"},"score":0,"creation_date":1651671835,"post_id":72113794,"comment_id":127418544,"body_markdown":"@MatteoNNZ, the edit helps?","body":"@MatteoNNZ, the edit helps?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1651675880,"post_id":72113794,"comment_id":127420331,"body_markdown":"Does it mean that your Json contains a collection of String (the keys) and MyObject (so always the same object), and what you want is to serialize myObject so that it contains the key value inside the additional property &quot;propertyName&quot;?","body":"Does it mean that your Json contains a collection of String (the keys) and MyObject (so always the same object), and what you want is to serialize myObject so that it contains the key value inside the additional property &quot;propertyName&quot;?"}],"owner":{"account_id":5723764,"reputation":81,"user_id":4521408,"display_name":"Danilo Mendes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651671807,"creation_date":1651671032,"question_id":72113794,"body_markdown":"I am trying to deserialize a JSON file, but I got the situation that I have to know which property is placed my deserializing object.\r\n\r\nLook at this example:\r\n```json\r\n{\r\n    ...(other properties)...\r\n    &quot;myPropertyName&quot;: {\r\n        &quot;foo&quot;: &quot;bar&quot;,\r\n        &quot;baz&quot;: 123\r\n    }\r\n}\r\n```\r\nAnd I want to know what is the property name where the object is placed (in this case, &quot;myPropertyName&quot;):\r\n```java\r\nclass MyObject {\r\n    @SomeAnnotation?\r\n    private String propertyName; // should get myPropertyName\r\n    private String foo; // bar\r\n    private Integer baz; // 123\r\n    // ...getters, setters...\r\n}\r\n```\r\n\r\nAny guest?\r\n\r\nEDIT:\r\nIf helps to understand, think I&#39;m deserializing a Map, and the json above is stored in rootStr variable:\r\n```java\r\nnew ObjectMapper().readValue(rootStr, new TypeReference&lt;HashMap&lt;String, MyObject&gt;&gt;() {})\r\n```","title":"Jackson: get the property name where the object is placed","body":"<p>I am trying to deserialize a JSON file, but I got the situation that I have to know which property is placed my deserializing object.</p>\n<p>Look at this example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    ...(other properties)...\n    &quot;myPropertyName&quot;: {\n        &quot;foo&quot;: &quot;bar&quot;,\n        &quot;baz&quot;: 123\n    }\n}\n</code></pre>\n<p>And I want to know what is the property name where the object is placed (in this case, &quot;myPropertyName&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyObject {\n    @SomeAnnotation?\n    private String propertyName; // should get myPropertyName\n    private String foo; // bar\n    private Integer baz; // 123\n    // ...getters, setters...\n}\n</code></pre>\n<p>Any guest?</p>\n<p>EDIT:\nIf helps to understand, think I'm deserializing a Map, and the json above is stored in rootStr variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ObjectMapper().readValue(rootStr, new TypeReference&lt;HashMap&lt;String, MyObject&gt;&gt;() {})\n</code></pre>\n"},{"tags":["java","spring","spring-boot","teradata"],"comments":[{"owner":{"account_id":3267339,"reputation":8505,"user_id":2751573,"accept_rate":52,"display_name":"Andrew"},"score":2,"creation_date":1579281188,"post_id":59791716,"comment_id":105726146,"body_markdown":"Are you trying to pass a column as a variable? And always compare that to the string `&#39;OPE&#39;`?","body":"Are you trying to pass a column as a variable? And always compare that to the string <code>&#39;OPE&#39;</code>?"},{"owner":{"account_id":7121865,"reputation":1550,"user_id":5446197,"display_name":"devgianlu"},"score":0,"creation_date":1579282329,"post_id":59791716,"comment_id":105726728,"body_markdown":"You can&#39;t keep `statement.setString(1,&quot;AKA&quot;);` if you remove the question mark.","body":"You can&#39;t keep <code>statement.setString(1,&quot;AKA&quot;);</code> if you remove the question mark."},{"owner":{"account_id":16007202,"reputation":1951,"user_id":11552426,"display_name":"Fred"},"score":0,"creation_date":1579385801,"post_id":59791716,"comment_id":105750842,"body_markdown":"Depending on your version of SQL Assistant, the connection method, and option settings, SQLA may be doing simple text substitution prior to passing the query to the driver (effectively &quot;dynamic SQL&quot;). Bound parameters, on the other hand, can only be used to pass values, not change the tokens (e.g. column names) used in the query.","body":"Depending on your version of SQL Assistant, the connection method, and option settings, SQLA may be doing simple text substitution prior to passing the query to the driver (effectively &quot;dynamic SQL&quot;). Bound parameters, on the other hand, can only be used to pass values, not change the tokens (e.g. column names) used in the query."},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1579614380,"post_id":59791716,"comment_id":105818925,"body_markdown":"so i can&#39;t use this syntaxe in my query @Fred ?","body":"so i can&#39;t use this syntaxe in my query @Fred ?"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1579614514,"post_id":59791716,"comment_id":105819009,"body_markdown":"@Andre No i try to check a variable value not the column name as variable","body":"@Andre No i try to check a variable value not the column name as variable"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1579614584,"post_id":59791716,"comment_id":105819050,"body_markdown":"@devgianlu of corse, i // comment it, and i run","body":"@devgianlu of corse, i // comment it, and i run"},{"owner":{"account_id":16007202,"reputation":1951,"user_id":11552426,"display_name":"Fred"},"score":0,"creation_date":1579705673,"post_id":59791716,"comment_id":105856696,"body_markdown":"If you want to pass a string value to compare, the syntax is fine. It will either return all rows or no rows depending on what you pass. But it seems unlikely that&#39;s what you want. If you want to change which column&#39;s value is being compared to the fixed string &#39;OPE&#39;, you need to do string replacement, e.g. as @JoopEggen suggests","body":"If you want to pass a string value to compare, the syntax is fine. It will either return all rows or no rows depending on what you pass. But it seems unlikely that&#39;s what you want. If you want to change which column&#39;s value is being compared to the fixed string &#39;OPE&#39;, you need to do string replacement, e.g. as @JoopEggen suggests"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1580144600,"post_id":59791716,"comment_id":105993189,"body_markdown":"i want to compare with string parameter, not with a column","body":"i want to compare with string parameter, not with a column"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1580144661,"post_id":59791716,"comment_id":105993215,"body_markdown":"i&#39;ll have **where &#39;some string&#39;= &#39;some string&#39;**","body":"i&#39;ll have <b>where &#39;some string&#39;= &#39;some string&#39;</b>"}],"answers":[{"tags":[],"owner":{"account_id":5496138,"reputation":408,"user_id":4367186,"display_name":"Sagar Koshti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579682013,"creation_date":1579290217,"answer_id":59793929,"question_id":59791716,"body_markdown":"Change statement.setString(1,&quot;AKA&quot;) to setInt\r\n\r\n**Edit:**\r\nat\r\n\r\n    statement = dbConnection.prepareStatement(query);\r\n\r\nyou are getting error because of following rule [link][1] where TeraData is trying to compile your SQL query.\r\n\r\nFor your issue I found solution [here][2]. What you should do is change query as below:\r\n\r\n    &quot; &#39;OPE&#39; = cast(? as number) &quot;;\r\n\r\n\r\n  [1]: https://docs.teradata.com/reader/GVKfXcemJFkTJh_89R34UQ/EdEtDim_bFUi227nLtva0A\r\n  [2]: https://downloads.teradata.com/forum/connectivity/sqlstate-22003-a-character-string-failed-conversion-to-a-numeric-value#comment-19026","title":"A character string to numeric conversion failed while using syntax like &#39;OPE&#39; =?","body":"<p>Change statement.setString(1,\"AKA\") to setInt</p>\n\n<p><strong>Edit:</strong>\nat</p>\n\n<pre><code>statement = dbConnection.prepareStatement(query);\n</code></pre>\n\n<p>you are getting error because of following rule <a href=\"https://docs.teradata.com/reader/GVKfXcemJFkTJh_89R34UQ/EdEtDim_bFUi227nLtva0A\" rel=\"nofollow noreferrer\">link</a> where TeraData is trying to compile your SQL query.</p>\n\n<p>For your issue I found solution <a href=\"https://downloads.teradata.com/forum/connectivity/sqlstate-22003-a-character-string-failed-conversion-to-a-numeric-value#comment-19026\" rel=\"nofollow noreferrer\">here</a>. What you should do is change query as below:</p>\n\n<pre><code>\" 'OPE' = cast(? as number) \";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579707307,"creation_date":1579616247,"answer_id":59843067,"question_id":59791716,"body_markdown":"Putting JDBC objects in `ContractGrappeRepository`&#39;s fields is dangerous; they must be closed, and every instance must not be shared.\r\n\r\n       try (Connection dbConnection = baseJDBCTemplate.getDataSource().getConnection();\r\n              Prepared statement = dbConnection.prepareStatement(query)) {\r\n          statement.setString(1,&quot;AKA&quot;);\r\n          try (ResultSet dealResultSet = statement.executeQuery()) {\r\n              while (dealResultSet.next()) {\r\n                  ...\r\n              }\r\n              return ...\r\n          }\r\n       } catch (SQLException e) {\r\n          throw new RestructNumberException(&quot;Exception while fetching contracts&quot;,e);\r\n       }\r\n\r\nThere is a conceptual error: `?` is placeholder for a value, the result being\r\n\r\n    &#39;OPE&#39; = &#39;AKA&#39;               ***WRONG***\r\n\r\nSo you need for a column comparison concatenate/String.format the SQL string:\r\n\r\n         statement = dbConnection.prepareStatement(query.replace(&quot;?&quot;, &quot;AKA&quot;));\r\n","title":"A character string to numeric conversion failed while using syntax like &#39;OPE&#39; =?","body":"<p>Putting JDBC objects in <code>ContractGrappeRepository</code>'s fields is dangerous; they must be closed, and every instance must not be shared.</p>\n\n<pre><code>   try (Connection dbConnection = baseJDBCTemplate.getDataSource().getConnection();\n          Prepared statement = dbConnection.prepareStatement(query)) {\n      statement.setString(1,\"AKA\");\n      try (ResultSet dealResultSet = statement.executeQuery()) {\n          while (dealResultSet.next()) {\n              ...\n          }\n          return ...\n      }\n   } catch (SQLException e) {\n      throw new RestructNumberException(\"Exception while fetching contracts\",e);\n   }\n</code></pre>\n\n<p>There is a conceptual error: <code>?</code> is placeholder for a value, the result being</p>\n\n<pre><code>'OPE' = 'AKA'               ***WRONG***\n</code></pre>\n\n<p>So you need for a column comparison concatenate/String.format the SQL string:</p>\n\n<pre><code>     statement = dbConnection.prepareStatement(query.replace(\"?\", \"AKA\"));\n</code></pre>\n"}],"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651671550,"creation_date":1579280024,"question_id":59791716,"body_markdown":"I try to run this query using Spring JDBC Template \r\n\r\n      public static String FIND_CNC_OPE_GRAPPE_BY_FCT_ID = \r\n\t\t\t&quot;SELECT\t&quot;\r\n\t\t\t\t\t\t+&quot;EXPO.COD_NAT_XPN &quot;\r\n\t\t\t\t\t\t+&quot;,\tEXPO.IDF_TEC_XPN &quot;\r\n\t\t\t\t\t\t+&quot;,\tEXPO.IDF_FCT_XPN_RIS &quot;\r\n\t\t\t\t\t\t+&quot;,\tEXPO.DAT_PRM_IPE_LC_CEC  &quot;\r\n\t\t\t+&quot;FROM\tT_CCA_EXPO EXPO &quot;\r\n\t\t\t+&quot;WHERE\t&quot;\r\n\t\t\t+ &quot; &#39;OPE&#39; = ? &quot;;\r\n\r\nfor this i use this java code :\r\n\r\n      import java.sql.Connection;\r\n      import java.sql.PreparedStatement;\r\n      import java.sql.ResultSet;\r\n      import java.sql.SQLException;\r\n      import java.util.ArrayList;\r\n      import java.util.List;\r\n\r\n      import org.apache.commons.lang3.StringUtils;\r\n      import org.springframework.beans.factory.annotation.Autowired;\r\n      import org.springframework.jdbc.core.JdbcTemplate;\r\n      import org.springframework.stereotype.Repository;\r\n\r\n      import lombok.extern.slf4j.Slf4j;\r\n\r\n      @Repository\r\n      @Slf4j\r\n      public class ContractGrappeRepository implements ContractGrappeInterfaceRepository {\r\n\r\n\t       static String query = GrappeQueryConstant.FIND_CNC_OPE_GRAPPE_BY_FCT_ID;\r\n\t\r\n  \t       @Autowired\r\n           private JdbcTemplate baseJDBCTemplate;\r\n\t\r\n           private Connection dbConnection;\r\n\t\r\n\t       private PreparedStatement statement = null;\r\n\t\r\n           private ResultSet dealResultSet;\r\n    \r\n\t       @Override\r\n\t       public ResultSet findGrappeByDealFctID() {\r\n\t\t\r\n\t\t   try {\r\n\t\t\t  dbConnection = baseJDBCTemplate.getDataSource().getConnection();\r\n    \t\t  statement = dbConnection.prepareStatement(query);\r\n              statement.setString(1,&quot;AKA&quot;);\r\n              dealResultSet = statement.executeQuery();\r\n           } catch (SQLException e) {\r\n              throw new RestructNumberException(&quot;Exception while fetching contracts&quot;,e);\r\n           }\r\n\t\t\r\n\t\t   return null; // TO MODIFY\r\n\t   }\r\n\r\n     }\r\n\r\nWhen the compilator arrive to this line dbConnection.prepareStatement(query); i got this error message ;\r\n\r\n       java.sql.SQLException: [Teradata Database] [TeraJDBC 16.00.00.24] [Error 3535] [SQLState 22003] A character string failed conversion to a numeric value.\r\n\tat com.teradata.jdbc.jdbc_4.util.ErrorFactory.makeDatabaseSQLException(ErrorFactory.java:309)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.ReceiveInitSubState.action(ReceiveInitSubState.java:103)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.subStateMachine(StatementReceiveState.java:311)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.action(StatementReceiveState.java:200)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementController.runBody(StatementController.java:137)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementController.run(StatementController.java:128)\r\n\tat com.teradata.jdbc.jdbc_4.TDStatement.executeStatement(TDStatement.java:389)\r\n\tat com.teradata.jdbc.jdbc_4.TDStatement.prepareRequest(TDStatement.java:576)\r\n\tat com.teradata.jdbc.jdbc_4.TDPreparedStatement.&lt;init&gt;(TDPreparedStatement.java:128)\r\n\tat com.teradata.jdbc.jdk6.JDK6_SQL_PreparedStatement.&lt;init&gt;(JDK6_SQL_PreparedStatement.java:30)\r\n\tat com.teradata.jdbc.jdk6.JDK6_SQL_Connection.constructPreparedStatement(JDK6_SQL_Connection.java:82)\r\n\tat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1330)\r\n\tat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1374)\r\n\tat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1360)\r\n\tat com.teradata.jdbc.jdbc.ManagerConnectionBase.prepareStatement(ManagerConnectionBase.java:294)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\nWhen i run my query on Terdata sql assistant, i don&#39;t have any error.\r\nbut when i change in my query the where clause\r\n\r\n        +&quot;WHERE &quot;\r\n        + &quot; &#39;OPE&#39; = ? &quot;;\r\nto\r\n\r\n        +&quot;WHERE &quot;\r\n        + &quot; &#39;OPE&#39; = EXP.COD_NAT_XPN &quot;;\r\n\r\nI don&#39;t have any errors,\r\n\r\nWhy java don&#39;t accept this syntax **&#39;OPE&#39; = ?**\r\n\r\nI am using Spring boot **1.5.9.RELEASE** \r\n\r\nTeradata version       **16.00.00.24**\r\n","title":"A character string to numeric conversion failed while using syntax like &#39;OPE&#39; =?","body":"<p>I try to run this query using Spring JDBC Template </p>\n\n<pre><code>  public static String FIND_CNC_OPE_GRAPPE_BY_FCT_ID = \n        \"SELECT \"\n                    +\"EXPO.COD_NAT_XPN \"\n                    +\", EXPO.IDF_TEC_XPN \"\n                    +\", EXPO.IDF_FCT_XPN_RIS \"\n                    +\", EXPO.DAT_PRM_IPE_LC_CEC  \"\n        +\"FROM  T_CCA_EXPO EXPO \"\n        +\"WHERE \"\n        + \" 'OPE' = ? \";\n</code></pre>\n\n<p>for this i use this java code :</p>\n\n<pre><code>  import java.sql.Connection;\n  import java.sql.PreparedStatement;\n  import java.sql.ResultSet;\n  import java.sql.SQLException;\n  import java.util.ArrayList;\n  import java.util.List;\n\n  import org.apache.commons.lang3.StringUtils;\n  import org.springframework.beans.factory.annotation.Autowired;\n  import org.springframework.jdbc.core.JdbcTemplate;\n  import org.springframework.stereotype.Repository;\n\n  import lombok.extern.slf4j.Slf4j;\n\n  @Repository\n  @Slf4j\n  public class ContractGrappeRepository implements ContractGrappeInterfaceRepository {\n\n       static String query = GrappeQueryConstant.FIND_CNC_OPE_GRAPPE_BY_FCT_ID;\n\n       @Autowired\n       private JdbcTemplate baseJDBCTemplate;\n\n       private Connection dbConnection;\n\n       private PreparedStatement statement = null;\n\n       private ResultSet dealResultSet;\n\n       @Override\n       public ResultSet findGrappeByDealFctID() {\n\n       try {\n          dbConnection = baseJDBCTemplate.getDataSource().getConnection();\n          statement = dbConnection.prepareStatement(query);\n          statement.setString(1,\"AKA\");\n          dealResultSet = statement.executeQuery();\n       } catch (SQLException e) {\n          throw new RestructNumberException(\"Exception while fetching contracts\",e);\n       }\n\n       return null; // TO MODIFY\n   }\n\n }\n</code></pre>\n\n<p>When the compilator arrive to this line dbConnection.prepareStatement(query); i got this error message ;</p>\n\n<pre><code>   java.sql.SQLException: [Teradata Database] [TeraJDBC 16.00.00.24] [Error 3535] [SQLState 22003] A character string failed conversion to a numeric value.\nat com.teradata.jdbc.jdbc_4.util.ErrorFactory.makeDatabaseSQLException(ErrorFactory.java:309)\nat com.teradata.jdbc.jdbc_4.statemachine.ReceiveInitSubState.action(ReceiveInitSubState.java:103)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.subStateMachine(StatementReceiveState.java:311)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.action(StatementReceiveState.java:200)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementController.runBody(StatementController.java:137)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementController.run(StatementController.java:128)\nat com.teradata.jdbc.jdbc_4.TDStatement.executeStatement(TDStatement.java:389)\nat com.teradata.jdbc.jdbc_4.TDStatement.prepareRequest(TDStatement.java:576)\nat com.teradata.jdbc.jdbc_4.TDPreparedStatement.&lt;init&gt;(TDPreparedStatement.java:128)\nat com.teradata.jdbc.jdk6.JDK6_SQL_PreparedStatement.&lt;init&gt;(JDK6_SQL_PreparedStatement.java:30)\nat com.teradata.jdbc.jdk6.JDK6_SQL_Connection.constructPreparedStatement(JDK6_SQL_Connection.java:82)\nat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1330)\nat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1374)\nat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1360)\nat com.teradata.jdbc.jdbc.ManagerConnectionBase.prepareStatement(ManagerConnectionBase.java:294)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n\n<p>When i run my query on Terdata sql assistant, i don't have any error.\nbut when i change in my query the where clause</p>\n\n<pre><code>    +\"WHERE \"\n    + \" 'OPE' = ? \";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    +\"WHERE \"\n    + \" 'OPE' = EXP.COD_NAT_XPN \";\n</code></pre>\n\n<p>I don't have any errors,</p>\n\n<p>Why java don't accept this syntax <strong>'OPE' = ?</strong></p>\n\n<p>I am using Spring boot <strong>1.5.9.RELEASE</strong> </p>\n\n<p>Teradata version       <strong>16.00.00.24</strong></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1651670476,"post_id":72113612,"comment_id":127417933,"body_markdown":"See [mcve]. What do you EXPECT to be the &quot;right&quot; solution, and what happens instead? er.","body":"See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What do you EXPECT to be the &quot;right&quot; solution, and what happens instead? er."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1651670671,"post_id":72113612,"comment_id":127418034,"body_markdown":"Ah, yes, right: each Thread has its OWN new Main object. So the `synchronized` is meaningless, because it does NOT prevent the different objects to call &quot;their&quot; method. Solutions would be: A) use 1 Main object, not 5 or B) make the increment method static or C) dont use an `int` counter but AtomicInteger for example.","body":"Ah, yes, right: each Thread has its OWN new Main object. So the <code>synchronized</code> is meaningless, because it does NOT prevent the different objects to call &quot;their&quot; method. Solutions would be: A) use 1 Main object, not 5 or B) make the increment method static or C) dont use an <code>int</code> counter but AtomicInteger for example."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1651672041,"post_id":72113612,"comment_id":127418643,"body_markdown":"Also, It makes little sense for the top-level method of any thread to be `synchronized`. If it&#39;s`synchronized` then that prevents the thread, in its entirety, from running concurrently with any other thread that synchronizes on the same object. GhostCat told you why `synchronized` isn&#39;t working in your example: Each thread synchronizes on a different object. But, if you &quot;fix&quot; it by having them all synchronize on the same object, then the threads will run sequentially (one-by-one) instead of running concurrently, and that _completely_ defeats the purpose of using threads.","body":"Also, It makes little sense for the top-level method of any thread to be <code>synchronized</code>. If it&#39;s<code>synchronized</code> then that prevents the thread, in its entirety, from running concurrently with any other thread that synchronizes on the same object. GhostCat told you why <code>synchronized</code> isn&#39;t working in your example: Each thread synchronizes on a different object. But, if you &quot;fix&quot; it by having them all synchronize on the same object, then the threads will run sequentially (one-by-one) instead of running concurrently, and that <i>completely</i> defeats the purpose of using threads."},{"owner":{"account_id":24743704,"reputation":29,"user_id":18630138,"display_name":"Dmitry Zagorski"},"score":1,"creation_date":1651672905,"post_id":72113612,"comment_id":127419071,"body_markdown":"@GhostCat Thank you! All provided options work fine!","body":"@GhostCat Thank you! All provided options work fine!"}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651671293,"creation_date":1651671293,"answer_id":72113867,"question_id":72113612,"body_markdown":"As mentioned by comments, don&#39;t use an `int` when updating/incrementing a variable across multiple threads (that is not atomic), use an [`AtomicInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html) instead to avoid race conditions. Also no need to make the `incrementCounter` method synchronized as the atomicity is enough to make it thread-safe:\r\n\r\n    static AtomicInteger counter = new AtomicInteger();\r\n\r\n    public synchronized void incrementCounter() {\r\n        IntStream.range(0, 1000).forEach(index1 -&gt; counter.incrementAndGet());\r\n    }","title":"How can I solve my multithreading feature?","body":"<p>As mentioned by comments, don't use an <code>int</code> when updating/incrementing a variable across multiple threads (that is not atomic), use an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a> instead to avoid race conditions. Also no need to make the <code>incrementCounter</code> method synchronized as the atomicity is enough to make it thread-safe:</p>\n<pre><code>static AtomicInteger counter = new AtomicInteger();\n\npublic synchronized void incrementCounter() {\n    IntStream.range(0, 1000).forEach(index1 -&gt; counter.incrementAndGet());\n}\n</code></pre>\n"}],"owner":{"account_id":24743704,"reputation":29,"user_id":18630138,"display_name":"Dmitry Zagorski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651737371,"answer_count":1,"score":0,"last_activity_date":1651671293,"creation_date":1651670170,"question_id":72113612,"body_markdown":"My code:\r\n```java\r\npublic class Main {\r\n    static int counter = 0;\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n        IntStream.range(0, 5).forEach(index -&gt; threads.add(new Thread(() -&gt; new Main().incrementCounter())));\r\n        threads.forEach(Thread::start);\r\n        while (threads.stream().filter(Thread::isAlive).findAny().isPresent()) {\r\n            try {\r\n                Thread.sleep(10);\r\n                System.out.println(&quot;intermediate output &quot; + counter);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        System.out.println(&quot;Final output &quot; + counter);\r\n    }\r\n\r\n    public synchronized void incrementCounter() {\r\n        IntStream.range(0, 1000).forEach(index1 -&gt; counter++);\r\n    }\r\n}\r\n```\r\nI can&#39;t synchronize this feature to get its right result.\r\n\r\nHow can I synchronize it and get right solution?","title":"How can I solve my multithreading feature?","body":"<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static int counter = 0;\n\n    public static void main(String[] args) {\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        IntStream.range(0, 5).forEach(index -&gt; threads.add(new Thread(() -&gt; new Main().incrementCounter())));\n        threads.forEach(Thread::start);\n        while (threads.stream().filter(Thread::isAlive).findAny().isPresent()) {\n            try {\n                Thread.sleep(10);\n                System.out.println(&quot;intermediate output &quot; + counter);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        System.out.println(&quot;Final output &quot; + counter);\n    }\n\n    public synchronized void incrementCounter() {\n        IntStream.range(0, 1000).forEach(index1 -&gt; counter++);\n    }\n}\n</code></pre>\n<p>I can't synchronize this feature to get its right result.</p>\n<p>How can I synchronize it and get right solution?</p>\n"},{"tags":["java","bit-manipulation","bitwise-operators","bit-shift","bitwise-and"],"comments":[{"owner":{"account_id":10183690,"reputation":235,"user_id":7519523,"display_name":" "},"score":0,"creation_date":1651670683,"post_id":72113537,"comment_id":127418037,"body_markdown":"If you go from byte to String and then to short? That approach may work with any combination. So in the end you will lose non of the 1s and 0s.","body":"If you go from byte to String and then to short? That approach may work with any combination. So in the end you will lose non of the 1s and 0s."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651678293,"post_id":72113537,"comment_id":127421349,"body_markdown":"*...and 4 bits from another byte...*. *Which* 4 bits?","body":"<i>...and 4 bits from another byte...</i>. <i>Which</i> 4 bits?"},{"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"score":0,"creation_date":1651690042,"post_id":72113537,"comment_id":127425507,"body_markdown":"@g00se as the pattern in the question","body":"@g00se as the pattern in the question"}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651671227,"creation_date":1651671227,"answer_id":72113845,"question_id":72113537,"body_markdown":"One of the possibilities is the following:\r\n```java\r\nshort s1 = (short) (((byt1 &amp; 0xff) &lt;&lt; 4) | ((byt2 &amp; 0xf0) &gt;&gt; 4));\r\nshort s2 = (short) (((byt2 &amp; 0x0f) &lt;&lt; 8) | (byt3 &amp; 0xff));\r\n```","title":"How to convert one byte and 4 bits from another byte to a short using bitwise?","body":"<p>One of the possibilities is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>short s1 = (short) (((byt1 &amp; 0xff) &lt;&lt; 4) | ((byt2 &amp; 0xf0) &gt;&gt; 4));\nshort s2 = (short) (((byt2 &amp; 0x0f) &lt;&lt; 8) | (byt3 &amp; 0xff));\n</code></pre>\n"}],"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72113845,"answer_count":1,"score":0,"last_activity_date":1651671227,"creation_date":1651669851,"question_id":72113537,"body_markdown":"Using bitwise, how could we convert these 3 bytes to two shorts in this pattern in the most performant way?:  \r\n**(11111111)(01111110)(10000001) 3 bytes**  \r\n**(111111110111)(111010000001) 2 shorts**  \r\nFound a way to combine two bytes into a short, but for a combination of 1 byte and 4 bits tried a variety of ways for hours with no success. Thanks for your help.\r\n\r\n    byte byt1 = -1; // 11111111\r\n    byte byt2 = 126;// 01111110\r\n    byte byt3 = 129;// 10000001\r\n    short s_1_2 = (short) ((byt1 &lt;&lt; 8) | (byt2 &amp; 0xFF));\r\n    // value is 1111111101111110\r\n    short s1 = // want to be 111111110111\r\n    short s2 = // want to be 111010000001","title":"How to convert one byte and 4 bits from another byte to a short using bitwise?","body":"<p>Using bitwise, how could we convert these 3 bytes to two shorts in this pattern in the most performant way?:<br />\n<strong>(11111111)(01111110)(10000001) 3 bytes</strong><br />\n<strong>(111111110111)(111010000001) 2 shorts</strong><br />\nFound a way to combine two bytes into a short, but for a combination of 1 byte and 4 bits tried a variety of ways for hours with no success. Thanks for your help.</p>\n<pre><code>byte byt1 = -1; // 11111111\nbyte byt2 = 126;// 01111110\nbyte byt3 = 129;// 10000001\nshort s_1_2 = (short) ((byt1 &lt;&lt; 8) | (byt2 &amp; 0xFF));\n// value is 1111111101111110\nshort s1 = // want to be 111111110111\nshort s2 = // want to be 111010000001\n</code></pre>\n"},{"tags":["java","save","netbeans-8","truncation","jdatechooser"],"comments":[{"owner":{"account_id":11922143,"reputation":685,"user_id":8724372,"display_name":"eFox"},"score":1,"creation_date":1513317884,"post_id":47826621,"comment_id":82615568,"body_markdown":"Could you append the schema of that table to your question? Is the `LETTER_DATE` column a date? Which type of Date is your Java Date? There&#39;s a Date type called `java.sql.Date` which should match the `MySQL` date.","body":"Could you append the schema of that table to your question? Is the <code>LETTER_DATE</code> column a date? Which type of Date is your Java Date? There&#39;s a Date type called <code>java.sql.Date</code> which should match the <code>MySQL</code> date."},{"owner":{"account_id":11682986,"reputation":1207,"user_id":8553954,"accept_rate":83,"display_name":"meditat"},"score":1,"creation_date":1513317939,"post_id":47826621,"comment_id":82615588,"body_markdown":"`LETTER_DATE` would be String.Change it in the format of SQL-99 using `STR_TO_DATE()`","body":"<code>LETTER_DATE</code> would be String.Change it in the format of SQL-99 using <code>STR_TO_DATE()</code>"},{"owner":{"account_id":11148142,"reputation":37,"user_id":8182253,"accept_rate":20,"display_name":"Jay K"},"score":0,"creation_date":1513319990,"post_id":47826621,"comment_id":82616339,"body_markdown":"I think I have attached a screen shot of the table if it is what you wanted me to do (I&#39;m a novice ) :) The second thing how should I amend the code to match the MYSQL date into java.sql.date ? Thank you.   @eFox","body":"I think I have attached a screen shot of the table if it is what you wanted me to do (I&#39;m a novice ) :) The second thing how should I amend the code to match the MYSQL date into java.sql.date ? Thank you.   @eFox"},{"owner":{"account_id":11148142,"reputation":37,"user_id":8182253,"accept_rate":20,"display_name":"Jay K"},"score":0,"creation_date":1513320304,"post_id":47826621,"comment_id":82616462,"body_markdown":"I&#39;ll look into that. Thank you very much @ShivamSingh","body":"I&#39;ll look into that. Thank you very much @ShivamSingh"}],"answers":[{"tags":[],"owner":{"account_id":25193921,"reputation":1,"user_id":19033757,"display_name":"Hassan Suriya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651670720,"creation_date":1651670720,"answer_id":72113734,"question_id":47826621,"body_markdown":"Well, you should be using `getDateFormatString()` instead of `getDate()`. For instance:\r\n\r\n    s.executeUpdate(&quot;insert into LETTER values(&#39;&quot;+LETTER_ID.getText()+&quot;&#39;,&#39;&quot;+LETTER_CATEGORY.getSelectedItem()+&quot;&#39;,&#39;&quot;+LETTER_DATE.getDateFormatString()+&quot;&#39;,&#39;&quot;+HEADING.getText()+&quot;&#39;,&#39;&quot;+SECTION_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+SUBJECT_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+INSTITUTE_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_INSTITUTE.getText()+&quot;&#39;,&#39;&quot;+SENDERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_SENDER.getText()+&quot;&#39;,&#39;&quot;+RECEIVED_DATE.getDateFormatString()+&quot;&#39;,&#39;&quot;+RECEIVERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_RECEIVER.getText()+&quot;&#39;,&#39;&quot;+SENDING_DATE.getDateFormatString()+&quot;&#39;)&quot;);","title":"get a date using a JDateChooser and save it into mysql database","body":"<p>Well, you should be using <code>getDateFormatString()</code> instead of <code>getDate()</code>. For instance:</p>\n<pre><code>s.executeUpdate(&quot;insert into LETTER values('&quot;+LETTER_ID.getText()+&quot;','&quot;+LETTER_CATEGORY.getSelectedItem()+&quot;','&quot;+LETTER_DATE.getDateFormatString()+&quot;','&quot;+HEADING.getText()+&quot;','&quot;+SECTION_ID.getSelectedItem()+&quot;','&quot;+SUBJECT_ID.getSelectedItem()+&quot;','&quot;+INSTITUTE_ID.getSelectedItem()+&quot;','&quot;+NEW_INSTITUTE.getText()+&quot;','&quot;+SENDERS_ID.getSelectedItem()+&quot;','&quot;+NEW_SENDER.getText()+&quot;','&quot;+RECEIVED_DATE.getDateFormatString()+&quot;','&quot;+RECEIVERS_ID.getSelectedItem()+&quot;','&quot;+NEW_RECEIVER.getText()+&quot;','&quot;+SENDING_DATE.getDateFormatString()+&quot;')&quot;);\n</code></pre>\n"}],"owner":{"account_id":11148142,"reputation":37,"user_id":8182253,"accept_rate":20,"display_name":"Jay K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651670720,"creation_date":1513317604,"question_id":47826621,"body_markdown":"[![design view of the table `LETTER`][1]][1]\r\n\r\nI need to read a date from a `JDateChooser` and save it into a `MYSQL` database table using the `ActionPerformed` method of a `JButton`.\r\n\r\nThere are three `JDateChoosers` called `LETTER_DATE` , `RECEIVED_DATE` , `SENDING_DATE` in this `JInternalFrameForm` called `LETTER` .\r\n\r\nBelow is the code of the `ActionPerformed` method of the `JButton` `SAVE` which will save the data into the `MYSQL` table.\r\n\r\n    private void SAVEActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n                       try{\r\n                       Statement s=DB.getConnection().createStatement();        \r\n    \r\n                        s.executeUpdate(&quot;insert into LETTER values(&#39;&quot;+LETTER_ID.getText()+&quot;&#39;,&#39;&quot;+LETTER_CATEGORY.getSelectedItem()+&quot;&#39;,&#39;&quot;+LETTER_DATE.getDate()+&quot;&#39;,&#39;&quot;+HEADING.getText()+&quot;&#39;,&#39;&quot;+SECTION_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+SUBJECT_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+INSTITUTE_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_INSTITUTE.getText()+&quot;&#39;,&#39;&quot;+SENDERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_SENDER.getText()+&quot;&#39;,&#39;&quot;+RECEIVED_DATE.getDate()+&quot;&#39;,&#39;&quot;+RECEIVERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_RECEIVER.getText()+&quot;&#39;,&#39;&quot;+SENDING_DATE.getDate()+&quot;&#39;)&quot;);\r\n                        JOptionPane.showMessageDialog(this, &quot;Saved&quot;);\r\n                    }\r\n                    catch(Exception ex){\r\n                        ex.printStackTrace();\r\n            }\r\n                } \r\n\r\nWhen I clicked the `JButton` to save the data, it gives the following `stacktrace`.\r\n\r\n    com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: &#39;Mon Dec 04 14:45:36 PST 2017&#39; for column &#39;LETTER_DATE&#39; at row 1\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4118)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\r\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\r\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\r\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2788)\r\n        at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1816)\r\n        at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1730)\r\n        at Viewer.LETTER.SAVEActionPerformed(LETTER.java:280)\r\n        at Viewer.LETTER.access$000(LETTER.java:16)\r\n        at Viewer.LETTER$1.actionPerformed(LETTER.java:99)\r\n        at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n        at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n        at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n        at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n        at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n        at java.awt.Component.processMouseEvent(Component.java:6516)\r\n        at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n        at java.awt.Component.processEvent(Component.java:6281)\r\n        at java.awt.Container.processEvent(Container.java:2229)\r\n        at java.awt.Component.dispatchEventImpl(Component.java:4872)\r\n        at java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n        at java.awt.Component.dispatchEvent(Component.java:4698)\r\n        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n        at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n        at java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n        at java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n        at java.awt.Component.dispatchEvent(Component.java:4698)\r\n        at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:747)\r\n        at java.awt.EventQueue.access$300(EventQueue.java:103)\r\n        at java.awt.EventQueue$3.run(EventQueue.java:706)\r\n        at java.awt.EventQueue$3.run(EventQueue.java:704)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n        at java.awt.EventQueue$4.run(EventQueue.java:720)\r\n        at java.awt.EventQueue$4.run(EventQueue.java:718)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n        at java.awt.EventQueue.dispatchEvent(EventQueue.java:717)\r\n        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\n\r\nCan anyone please help me to figure out the problem here and correct the `datetime` value for `column` `[&#39;LETTER_DATE&#39;][1]` at `row 1`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PtONV.jpg","title":"get a date using a JDateChooser and save it into mysql database","body":"<p><a href=\"https://i.stack.imgur.com/PtONV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PtONV.jpg\" alt=\"design view of the table &lt;code&gt;LETTER&lt;/code&gt;\"></a></p>\n\n<p>I need to read a date from a <code>JDateChooser</code> and save it into a <code>MYSQL</code> database table using the <code>ActionPerformed</code> method of a <code>JButton</code>.</p>\n\n<p>There are three <code>JDateChoosers</code> called <code>LETTER_DATE</code> , <code>RECEIVED_DATE</code> , <code>SENDING_DATE</code> in this <code>JInternalFrameForm</code> called <code>LETTER</code> .</p>\n\n<p>Below is the code of the <code>ActionPerformed</code> method of the <code>JButton</code> <code>SAVE</code> which will save the data into the <code>MYSQL</code> table.</p>\n\n<pre><code>private void SAVEActionPerformed(java.awt.event.ActionEvent evt) {                                     \n                   try{\n                   Statement s=DB.getConnection().createStatement();        \n\n                    s.executeUpdate(\"insert into LETTER values('\"+LETTER_ID.getText()+\"','\"+LETTER_CATEGORY.getSelectedItem()+\"','\"+LETTER_DATE.getDate()+\"','\"+HEADING.getText()+\"','\"+SECTION_ID.getSelectedItem()+\"','\"+SUBJECT_ID.getSelectedItem()+\"','\"+INSTITUTE_ID.getSelectedItem()+\"','\"+NEW_INSTITUTE.getText()+\"','\"+SENDERS_ID.getSelectedItem()+\"','\"+NEW_SENDER.getText()+\"','\"+RECEIVED_DATE.getDate()+\"','\"+RECEIVERS_ID.getSelectedItem()+\"','\"+NEW_RECEIVER.getText()+\"','\"+SENDING_DATE.getDate()+\"')\");\n                    JOptionPane.showMessageDialog(this, \"Saved\");\n                }\n                catch(Exception ex){\n                    ex.printStackTrace();\n        }\n            } \n</code></pre>\n\n<p>When I clicked the <code>JButton</code> to save the data, it gives the following <code>stacktrace</code>.</p>\n\n<pre><code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: 'Mon Dec 04 14:45:36 PST 2017' for column 'LETTER_DATE' at row 1\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4118)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2788)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1816)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1730)\n    at Viewer.LETTER.SAVEActionPerformed(LETTER.java:280)\n    at Viewer.LETTER.access$000(LETTER.java:16)\n    at Viewer.LETTER$1.actionPerformed(LETTER.java:99)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6516)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6281)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4872)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:747)\n    at java.awt.EventQueue.access$300(EventQueue.java:103)\n    at java.awt.EventQueue$3.run(EventQueue.java:706)\n    at java.awt.EventQueue$3.run(EventQueue.java:704)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.awt.EventQueue$4.run(EventQueue.java:718)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:717)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\n</code></pre>\n\n<p>Can anyone please help me to figure out the problem here and correct the <code>datetime</code> value for <code>column</code> <code>['LETTER_DATE'][1]</code> at <code>row 1</code>?</p>\n"},{"tags":["java","selenium","selenium-webdriver","firefox","slf4j"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1651513162,"post_id":72090299,"comment_id":127377381,"body_markdown":"Try adding the NOOP jar to your libs.  You can get it here: https://repo1.maven.org/maven2/org/slf4j/slf4j-nop/1.7.9/","body":"Try adding the NOOP jar to your libs.  You can get it here: <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-nop/1.7.9/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/slf4j/slf4j-nop/1.7.9</a>"},{"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"score":1,"creation_date":1651513747,"post_id":72090299,"comment_id":127377578,"body_markdown":"changed nothing","body":"changed nothing"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":2,"creation_date":1651516409,"post_id":72090299,"comment_id":127378486,"body_markdown":"yeah, I wouldn&#39;t think the noop warning would cause it to not run...  I would check into webdrivermanager&#39;s output.  You&#39;re setting the cachePath to something, so maybe check permissions and that sort of thing.  ( if (!driver.canExecute())\n           {\n    ...\n  \n            thisDriver.setExecutable (true, true);\n           } Your exception doesn&#39;t list the driver version which seems unusual.  Maybe also switch to using latest version 4 Selenium and Java 8.","body":"yeah, I wouldn&#39;t think the noop warning would cause it to not run...  I would check into webdrivermanager&#39;s output.  You&#39;re setting the cachePath to something, so maybe check permissions and that sort of thing.  ( if (!driver.canExecute())            {     ...                thisDriver.setExecutable (true, true);            } Your exception doesn&#39;t list the driver version which seems unusual.  Maybe also switch to using latest version 4 Selenium and Java 8."},{"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"score":1,"creation_date":1651519768,"post_id":72090299,"comment_id":127379385,"body_markdown":"Oh xD yeah Selenium 4.1.4 does work out","body":"Oh xD yeah Selenium 4.1.4 does work out"}],"answers":[{"tags":[],"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651670582,"creation_date":1651670582,"answer_id":72113703,"question_id":72090299,"body_markdown":"To make a conclusion.\r\nIf something does not work, try to update your ```dependencies``` fixes most problems\r\n\r\nIn This Case ```selenium 4.1.0``` did not allow to execute ```firefoxdriver``` when the app is packed into a jar. It works fine with ```selenium 4.1.4```.  ","title":"Java - Selenium Firefoxdriver does not start when using .jar file","body":"<p>To make a conclusion.\nIf something does not work, try to update your <code>dependencies</code> fixes most problems</p>\n<p>In This Case <code>selenium 4.1.0</code> did not allow to execute <code>firefoxdriver</code> when the app is packed into a jar. It works fine with <code>selenium 4.1.4</code>.</p>\n"}],"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72113703,"answer_count":1,"score":1,"last_activity_date":1651670582,"creation_date":1651512772,"question_id":72090299,"body_markdown":"When I create a ```.jar``` file and want to start the ```firefox webdriver``` I get an Error. It works if I run it in ```VS-Code```.\r\n\r\n``` \r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Build info: version: &#39;4.1.0&#39;, revision: &#39;87802e897b&#39;\r\nSystem info: host: &#39;DESKTOP&#39;, ip: &#39;IP&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.1&#39;\r\nDriver info: driver.version: FirefoxDriver\r\n        at java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:230)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:164)\r\n        at hegahelperjava.Test.main(Test.java:13)\r\n``` \r\n\r\nI already added SLF4j to my maven dependecies like they said here: [java - SLF4J][1]\r\n\r\nHere a snippet to recreate the problem:\r\n\r\n``` \r\n//selenium\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.firefox.FirefoxOptions;\r\n//webdrivermanager\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        String driversPath = &quot;PATHTODRIVER&quot;;\r\n        WebDriverManager.firefoxdriver().cachePath(driversPath).avoidOutputTree().setup();\r\n        FirefoxOptions options = new FirefoxOptions();\r\n        WebDriver driver = new FirefoxDriver(options);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder","title":"Java - Selenium Firefoxdriver does not start when using .jar file","body":"<p>When I create a <code>.jar</code> file and want to start the <code>firefox webdriver</code> I get an Error. It works if I run it in <code>VS-Code</code>.</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Build info: version: '4.1.0', revision: '87802e897b'\nSystem info: host: 'DESKTOP', ip: 'IP', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.1'\nDriver info: driver.version: FirefoxDriver\n        at java.base/java.util.Optional.orElseThrow(Optional.java:403)\n        at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:230)\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:164)\n        at hegahelperjava.Test.main(Test.java:13)\n</code></pre>\n<p>I already added SLF4j to my maven dependecies like they said here: <a href=\"https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\">java - SLF4J</a></p>\n<p>Here a snippet to recreate the problem:</p>\n<pre><code>//selenium\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\n//webdrivermanager\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class Test {\n    public static void main(String[] args) {\n        String driversPath = &quot;PATHTODRIVER&quot;;\n        WebDriverManager.firefoxdriver().cachePath(driversPath).avoidOutputTree().setup();\n        FirefoxOptions options = new FirefoxOptions();\n        WebDriver driver = new FirefoxDriver(options);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","csv"],"comments":[{"owner":{"account_id":7831289,"reputation":759,"user_id":5921207,"display_name":"Falla Coulibaly"},"score":0,"creation_date":1537131355,"post_id":52358065,"comment_id":91661099,"body_markdown":"Retrieve all the entries in the table then properly format the output to match [CSV format specification](https://en.wikipedia.org/wiki/Comma-separated_values).","body":"Retrieve all the entries in the table then properly format the output to match <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">CSV format specification</a>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1537132204,"post_id":52358065,"comment_id":91661251,"body_markdown":"Just because you&#39;re new to the technologies isn&#39;t an excuse to try something and show exactly where you&#39;re stuck. Otherwise, the question is too broad","body":"Just because you&#39;re new to the technologies isn&#39;t an excuse to try something and show exactly where you&#39;re stuck. Otherwise, the question is too broad"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537163028,"creation_date":1537163028,"answer_id":52361374,"question_id":52358065,"body_markdown":"The following is a rudimentary example. That will write a very basic CSV file based upon a query that concatenates the columns with a , between the columns.\r\n\r\nThe table has 3 columns named :-\r\n\r\n- _id\r\n- _name\r\n- _email\r\n\r\nThe query used is effectively `SELECT _id||&#39;,&#39;||_name||&#39;,&#39;||_email FROM test1;`, although the SQLiteDatabase **query** method is used to build the SQL.\r\n\r\nThe method **getCSVRows** of the DBHelper class returns a **Cursor** based upon the above (i.e. a single column, the CSV, that can be accessed via offset 0).\r\n\r\nEach time the App is run two rows are added, via the **addTest1Row** method.\r\n\r\nThe App has a button that when clicked invokes the **crtCSV** method that basically :-\r\n\r\n1. gets the column names as a CSV (really this method should be used to drive the getCSVRows method, as there is the potential to have the column names in the wrong place) and writes the line with these first.\r\n2. retrieves the Cursor with the data as a CSV string and writes a line.\r\n\r\nThe output file is located in the **mycsvfiles** directory of the **Downloads** directory (note only the most basic of checks are done, so this may not work on some devices). \r\n\r\nThe file name will be unique as it is suffixed with the current timestamp.\r\n\r\nThis screenshot shows 3 such files (a taken from Android Studio&#39;s device Explorer) :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis shows it opened in Android Studio :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd lastly in Excel :-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHere&#39;s the code:-\r\n\r\nFirst, as Permission is required the relevant section of the Manifest **AndroidManifest.xml**\r\n\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;\r\n    &lt;/uses-permission&gt;\r\n\r\nIf the App is to be used for any device that uses an API greater than 22 then permission has to be requested. As such there is a class for this namely **ExternalStoragePermissions.java** for handling this request :-\r\n\r\n    class ExternalStoragePermissions {\r\n    \r\n        public int API_VERSION = Build.VERSION.SDK_INT;\r\n        private static final int REQUEST_EXTERNAL_STORAGE = 1;\r\n        private static String[] PERMISSIONS_STORAGE = {\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n        };\r\n    \r\n        public ExternalStoragePermissions() {}\r\n        // Note call this method\r\n        public static void verifyStoragePermissions(Activity activity) {\r\n            int permission = ActivityCompat.checkSelfPermission(\r\n                    activity,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n    \r\n            if(permission != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(\r\n                        activity,\r\n                        PERMISSIONS_STORAGE,\r\n                        REQUEST_EXTERNAL_STORAGE\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n - invoked from Main.Activity\r\n\r\nThe DatabaseHelper (i.e. Subclass of SQLiteOpenHelper, as is often used) is **DBHelper.java** :-\r\n\r\n    public class DBHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DBNAME = &quot;mydb&quot;;\r\n        public static final int DBVERSION = 1;\r\n    \r\n        public static final String TB_TEST1 = &quot;test1&quot;;\r\n    \r\n        public static final String COL_TEST1_ID = BaseColumns._ID;\r\n        public static final String COL_TEST1_NAME = &quot;_name&quot;;\r\n        public static final String COL_TEST1_EMAIL = &quot;_email&quot;;\r\n        private static final String crtTest1SQL = &quot;CREATE TABLE IF NOT EXISTS &quot; +\r\n                TB_TEST1 +\r\n                &quot;(&quot; +\r\n                COL_TEST1_ID + &quot; INTEGER PRIMARY KEY,&quot; +\r\n                COL_TEST1_NAME + &quot; TEXT,&quot; +\r\n                COL_TEST1_EMAIL + &quot; TEXT&quot; +\r\n                &quot;)&quot;;\r\n    \r\n    \r\n        SQLiteDatabase mDB;\r\n    \r\n    \r\n        public DBHelper(Context context) {\r\n            super(context, DBNAME, null, DBVERSION);\r\n            mDB = this.getWritableDatabase();\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(crtTest1SQL);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n        }\r\n    \r\n        public long addTest1Row(String name, String email) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COL_TEST1_NAME,name);\r\n            cv.put(COL_TEST1_EMAIL,email);\r\n            return mDB.insert(TB_TEST1,null,cv);\r\n        }\r\n    \r\n        public Cursor getCSVRows(String table) {\r\n            Cursor rv;\r\n            String[] columns;\r\n            switch (table) {\r\n                case TB_TEST1:\r\n                    columns = new String[]{COL_TEST1_ID + &quot;||&#39;,&#39;||&quot; + COL_TEST1_NAME + &quot;||&#39;,&#39;||&quot; + COL_TEST1_EMAIL};\r\n                    break;\r\n                    default:\r\n                        return null;\r\n            }\r\n            return mDB.query(table,columns,null,null,null,null,null);\r\n        }\r\n    \r\n        public String getColumnsAsCSV(String table) {\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            if (ifTableExists(table)) {\r\n                Cursor csr = mDB.rawQuery(&quot;PRAGMA table_info(&quot; +\r\n                        table +\r\n                        &quot;)&quot;,null);\r\n                boolean after_first_row = false;\r\n                int rowsdone = 0;\r\n                while (csr.moveToNext()) {\r\n                    if (after_first_row) {\r\n                        sb.append(&quot;,&quot;);\r\n                    } else {\r\n                        after_first_row = true;\r\n                    }\r\n                    sb.append(csr.getString(csr.getColumnIndex(&quot;name&quot;)));\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        private boolean ifTableExists(String table) {\r\n            String whereclause = &quot;name=?&quot;;\r\n            String[] whereargs = new String[]{table};\r\n            Cursor csr = mDB.query(&quot;sqlite_master&quot;,null,whereclause,whereargs,null,null,null);\r\n            int rowcount = csr.getCount();\r\n            csr.close();\r\n            return rowcount &gt; 0;\r\n        }\r\n    }\r\n\r\nLast is the Activity **MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button mConvert;\r\n        DBHelper mDBHlpr;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            // Need to have permission to External Storage\r\n            if(Build.VERSION.SDK_INT &gt;= 23) {\r\n                ExternalStoragePermissions.verifyStoragePermissions(this);\r\n            }\r\n    \r\n            mConvert = this.findViewById(R.id.convert_table);\r\n            mConvert.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    crtCSV(DBHelper.TB_TEST1 + String.valueOf(System.currentTimeMillis()),DBHelper.TB_TEST1);\r\n                }\r\n            });\r\n            mDBHlpr = new DBHelper(this);\r\n            mDBHlpr.addTest1Row(&quot;Fred&quot;,&quot;Fred@email.com&quot;);\r\n            mDBHlpr.addTest1Row(&quot;Mary&quot;,&quot;mary@email.com&quot;);\r\n        }\r\n    \r\n        private int crtCSV(String filename, String table) {\r\n            if(!Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)){\r\n                return -1;\r\n            }\r\n            File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS),&quot;mycsvfiles&quot;);\r\n            String directory = dir.getPath();\r\n            if (!dir.exists()) {\r\n                dir.mkdirs();\r\n            }\r\n            File f = new File(directory,filename);\r\n            try {\r\n                f.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return -2;\r\n            }\r\n            f.delete();\r\n    \r\n            FileOutputStream fo;\r\n            try {\r\n                fo = new FileOutputStream(f);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return -3;\r\n            }\r\n            Cursor csr = mDBHlpr.getCSVRows(table);\r\n            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fo));\r\n            try {\r\n                bw.write(mDBHlpr.getColumnsAsCSV(table));\r\n                bw.newLine();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                try {\r\n                    fo.close();\r\n                } catch (IOException e1) {\r\n                    e1.printStackTrace();\r\n                    f.delete();\r\n                    return -4;\r\n                }\r\n                f.delete();\r\n                return -5;\r\n            }\r\n            while (csr.moveToNext()) {\r\n                String line = csr.getString(0);\r\n                try {\r\n                    bw.write(line);\r\n                    bw.newLine();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    try {\r\n                        fo.close();\r\n                    } catch (IOException e1) {\r\n                        e1.printStackTrace();\r\n                        f.delete();\r\n                        return -6;\r\n                    }\r\n                    f.delete();\r\n                    return -7;\r\n                }\r\n            }\r\n            csr.close();\r\n            try {\r\n                bw.close();\r\n                fo.flush();\r\n                fo.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return -8;\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eX1YC.jpg\r\n  [2]: https://i.stack.imgur.com/8bErt.jpg\r\n  [3]: https://i.stack.imgur.com/Jx8Qq.jpg","title":"How to convert SQLite database in android studio and then share it as csv file","body":"<p>The following is a rudimentary example. That will write a very basic CSV file based upon a query that concatenates the columns with a , between the columns.</p>\n\n<p>The table has 3 columns named :-</p>\n\n<ul>\n<li>_id</li>\n<li>_name</li>\n<li>_email</li>\n</ul>\n\n<p>The query used is effectively <code>SELECT _id||','||_name||','||_email FROM test1;</code>, although the SQLiteDatabase <strong>query</strong> method is used to build the SQL.</p>\n\n<p>The method <strong>getCSVRows</strong> of the DBHelper class returns a <strong>Cursor</strong> based upon the above (i.e. a single column, the CSV, that can be accessed via offset 0).</p>\n\n<p>Each time the App is run two rows are added, via the <strong>addTest1Row</strong> method.</p>\n\n<p>The App has a button that when clicked invokes the <strong>crtCSV</strong> method that basically :-</p>\n\n<ol>\n<li>gets the column names as a CSV (really this method should be used to drive the getCSVRows method, as there is the potential to have the column names in the wrong place) and writes the line with these first.</li>\n<li>retrieves the Cursor with the data as a CSV string and writes a line.</li>\n</ol>\n\n<p>The output file is located in the <strong>mycsvfiles</strong> directory of the <strong>Downloads</strong> directory (note only the most basic of checks are done, so this may not work on some devices). </p>\n\n<p>The file name will be unique as it is suffixed with the current timestamp.</p>\n\n<p>This screenshot shows 3 such files (a taken from Android Studio's device Explorer) :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/eX1YC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eX1YC.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This shows it opened in Android Studio :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/8bErt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8bErt.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And lastly in Excel :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jx8Qq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jx8Qq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the code:-</p>\n\n<p>First, as Permission is required the relevant section of the Manifest <strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;uses-permission\n    android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;\n&lt;/uses-permission&gt;\n</code></pre>\n\n<p>If the App is to be used for any device that uses an API greater than 22 then permission has to be requested. As such there is a class for this namely <strong>ExternalStoragePermissions.java</strong> for handling this request :-</p>\n\n<pre><code>class ExternalStoragePermissions {\n\n    public int API_VERSION = Build.VERSION.SDK_INT;\n    private static final int REQUEST_EXTERNAL_STORAGE = 1;\n    private static String[] PERMISSIONS_STORAGE = {\n            Manifest.permission.WRITE_EXTERNAL_STORAGE\n    };\n\n    public ExternalStoragePermissions() {}\n    // Note call this method\n    public static void verifyStoragePermissions(Activity activity) {\n        int permission = ActivityCompat.checkSelfPermission(\n                activity,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n        if(permission != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(\n                    activity,\n                    PERMISSIONS_STORAGE,\n                    REQUEST_EXTERNAL_STORAGE\n            );\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li>invoked from Main.Activity</li>\n</ul>\n\n<p>The DatabaseHelper (i.e. Subclass of SQLiteOpenHelper, as is often used) is <strong>DBHelper.java</strong> :-</p>\n\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n\n    public static final String DBNAME = \"mydb\";\n    public static final int DBVERSION = 1;\n\n    public static final String TB_TEST1 = \"test1\";\n\n    public static final String COL_TEST1_ID = BaseColumns._ID;\n    public static final String COL_TEST1_NAME = \"_name\";\n    public static final String COL_TEST1_EMAIL = \"_email\";\n    private static final String crtTest1SQL = \"CREATE TABLE IF NOT EXISTS \" +\n            TB_TEST1 +\n            \"(\" +\n            COL_TEST1_ID + \" INTEGER PRIMARY KEY,\" +\n            COL_TEST1_NAME + \" TEXT,\" +\n            COL_TEST1_EMAIL + \" TEXT\" +\n            \")\";\n\n\n    SQLiteDatabase mDB;\n\n\n    public DBHelper(Context context) {\n        super(context, DBNAME, null, DBVERSION);\n        mDB = this.getWritableDatabase();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(crtTest1SQL);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n    }\n\n    public long addTest1Row(String name, String email) {\n        ContentValues cv = new ContentValues();\n        cv.put(COL_TEST1_NAME,name);\n        cv.put(COL_TEST1_EMAIL,email);\n        return mDB.insert(TB_TEST1,null,cv);\n    }\n\n    public Cursor getCSVRows(String table) {\n        Cursor rv;\n        String[] columns;\n        switch (table) {\n            case TB_TEST1:\n                columns = new String[]{COL_TEST1_ID + \"||','||\" + COL_TEST1_NAME + \"||','||\" + COL_TEST1_EMAIL};\n                break;\n                default:\n                    return null;\n        }\n        return mDB.query(table,columns,null,null,null,null,null);\n    }\n\n    public String getColumnsAsCSV(String table) {\n        StringBuilder sb = new StringBuilder(\"\");\n        if (ifTableExists(table)) {\n            Cursor csr = mDB.rawQuery(\"PRAGMA table_info(\" +\n                    table +\n                    \")\",null);\n            boolean after_first_row = false;\n            int rowsdone = 0;\n            while (csr.moveToNext()) {\n                if (after_first_row) {\n                    sb.append(\",\");\n                } else {\n                    after_first_row = true;\n                }\n                sb.append(csr.getString(csr.getColumnIndex(\"name\")));\n            }\n        }\n        return sb.toString();\n    }\n\n    private boolean ifTableExists(String table) {\n        String whereclause = \"name=?\";\n        String[] whereargs = new String[]{table};\n        Cursor csr = mDB.query(\"sqlite_master\",null,whereclause,whereargs,null,null,null);\n        int rowcount = csr.getCount();\n        csr.close();\n        return rowcount &gt; 0;\n    }\n}\n</code></pre>\n\n<p>Last is the Activity <strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button mConvert;\n    DBHelper mDBHlpr;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // Need to have permission to External Storage\n        if(Build.VERSION.SDK_INT &gt;= 23) {\n            ExternalStoragePermissions.verifyStoragePermissions(this);\n        }\n\n        mConvert = this.findViewById(R.id.convert_table);\n        mConvert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                crtCSV(DBHelper.TB_TEST1 + String.valueOf(System.currentTimeMillis()),DBHelper.TB_TEST1);\n            }\n        });\n        mDBHlpr = new DBHelper(this);\n        mDBHlpr.addTest1Row(\"Fred\",\"Fred@email.com\");\n        mDBHlpr.addTest1Row(\"Mary\",\"mary@email.com\");\n    }\n\n    private int crtCSV(String filename, String table) {\n        if(!Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)){\n            return -1;\n        }\n        File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS),\"mycsvfiles\");\n        String directory = dir.getPath();\n        if (!dir.exists()) {\n            dir.mkdirs();\n        }\n        File f = new File(directory,filename);\n        try {\n            f.createNewFile();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return -2;\n        }\n        f.delete();\n\n        FileOutputStream fo;\n        try {\n            fo = new FileOutputStream(f);\n        } catch (IOException e) {\n            e.printStackTrace();\n            return -3;\n        }\n        Cursor csr = mDBHlpr.getCSVRows(table);\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fo));\n        try {\n            bw.write(mDBHlpr.getColumnsAsCSV(table));\n            bw.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n            try {\n                fo.close();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n                f.delete();\n                return -4;\n            }\n            f.delete();\n            return -5;\n        }\n        while (csr.moveToNext()) {\n            String line = csr.getString(0);\n            try {\n                bw.write(line);\n                bw.newLine();\n            } catch (IOException e) {\n                e.printStackTrace();\n                try {\n                    fo.close();\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                    f.delete();\n                    return -6;\n                }\n                f.delete();\n                return -7;\n            }\n        }\n        csr.close();\n        try {\n            bw.close();\n            fo.flush();\n            fo.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return -8;\n        }\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651670566,"creation_date":1651670566,"answer_id":72113698,"question_id":52358065,"body_markdown":"The easiest way, use `CSVWriter` like this:\r\n\r\n \r\n\r\n    implementation &#39;com.opencsv:opencsv:3.7&#39;\r\n\r\nAnd in MainActivity\r\n\r\n     try {\r\n                CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\r\n                SQLiteDatabase db = myDb.getWritableDatabase();\r\n                Cursor curCSV = db.rawQuery(&quot;select * from &quot; + &quot;your_database_table&quot;, null);\r\n    \r\n                csvWrite.writeNext(curCSV.getColumnNames());\r\n    \r\n                while (curCSV.moveToNext()) {\r\n    \r\n                    String[] arrayStr = {curCSV.getString(0), curCSV.getString(1),\r\n                            curCSV.getString(2), curCSV.getString(3),\r\n                            curCSV.getString(4), curCSV.getString(5)};\r\n                    csvWrite.writeNext(arrStr);\r\n                }\r\n                csvWrite.close();\r\n                curCSV.close();\r\n               \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n               \r\n            }\r\nwhere `curCSV.getString()` detect the column title, so start from 0 to number of your table column. ","title":"How to convert SQLite database in android studio and then share it as csv file","body":"<p>The easiest way, use <code>CSVWriter</code> like this:</p>\n<pre><code>implementation 'com.opencsv:opencsv:3.7'\n</code></pre>\n<p>And in MainActivity</p>\n<pre><code> try {\n            CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\n            SQLiteDatabase db = myDb.getWritableDatabase();\n            Cursor curCSV = db.rawQuery(&quot;select * from &quot; + &quot;your_database_table&quot;, null);\n\n            csvWrite.writeNext(curCSV.getColumnNames());\n\n            while (curCSV.moveToNext()) {\n\n                String[] arrayStr = {curCSV.getString(0), curCSV.getString(1),\n                        curCSV.getString(2), curCSV.getString(3),\n                        curCSV.getString(4), curCSV.getString(5)};\n                csvWrite.writeNext(arrStr);\n            }\n            csvWrite.close();\n            curCSV.close();\n           \n        } catch (IOException e) {\n            e.printStackTrace();\n           \n        }\n</code></pre>\n<p>where <code>curCSV.getString()</code> detect the column title, so start from 0 to number of your table column.</p>\n"}],"owner":{"account_id":14355197,"reputation":3,"user_id":10369325,"display_name":"roni gantz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52361374,"answer_count":2,"score":0,"last_activity_date":1651670566,"creation_date":1537129211,"question_id":52358065,"body_markdown":"Im making an app in which the users inserts values into a table (SQLite DB) and I want to make a share button which will share the the table as an excel file (.csv).\r\n","title":"How to convert SQLite database in android studio and then share it as csv file","body":"<p>Im making an app in which the users inserts values into a table (SQLite DB) and I want to make a share button which will share the the table as an excel file (.csv).</p>\n"},{"tags":["java","selenium","testing","testrail"],"comments":[{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1494408874,"post_id":43888583,"comment_id":74811290,"body_markdown":"have you manually tried hitting the api? do you get results then?","body":"have you manually tried hitting the api? do you get results then?"},{"owner":{"account_id":3799607,"reputation":387,"user_id":3153599,"accept_rate":20,"display_name":"sougata das"},"score":0,"creation_date":1494409028,"post_id":43888583,"comment_id":74811387,"body_markdown":"No @kushal. I hven&#39;t tried that yet.","body":"No @kushal. I hven&#39;t tried that yet."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1494410000,"post_id":43888583,"comment_id":74812056,"body_markdown":"Try and share...","body":"Try and share..."},{"owner":{"account_id":3799607,"reputation":387,"user_id":3153599,"accept_rate":20,"display_name":"sougata das"},"score":0,"creation_date":1494411078,"post_id":43888583,"comment_id":74812814,"body_markdown":"I am giving the request in this format                                                     \n GET index.php?/api/v2/get_case/:case_id\nhttps://test.testrail.net/index.php?/runs/view/154/get_case/T54552                                   its saying &quot;Not authorized&quot;.                                                                                       May be I am doing something wrong.","body":"I am giving the request in this format                                                       GET index.php?/api/v2/get_case/:case_id <a href=\"https://test.testrail.net/index.php?/runs/view/154/get_case/T54552\" rel=\"nofollow noreferrer\">test.testrail.net/index.php?/runs/view/154/get_case/T54552</a>                                   its saying &quot;Not authorized&quot;.                                                                                       May be I am doing something wrong."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1494412087,"post_id":43888583,"comment_id":74813485,"body_markdown":"yup the problem is in your api call","body":"yup the problem is in your api call"}],"answers":[{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603665219,"creation_date":1603665219,"answer_id":64529505,"question_id":43888583,"body_markdown":"As per TestRail API V2- one needs to use TYPE= Basic Authentication and UserName= &lt;your testrail username&gt; and Password=&lt;your testrail password or API key, if enabled&gt;\r\n\r\nIt&#39;s strongly advised to enable API key and use it when accessing with code for security reasons. Whole collections of API calls, working fine for me.","title":"Unable to fetch data from test rail using java","body":"<p>As per TestRail API V2- one needs to use TYPE= Basic Authentication and UserName=  and Password=&lt;your testrail password or API key, if enabled&gt;</p>\n<p>It's strongly advised to enable API key and use it when accessing with code for security reasons. Whole collections of API calls, working fine for me.</p>\n"},{"tags":[],"owner":{"account_id":24850226,"reputation":1,"user_id":18727261,"display_name":"Diogo Rede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651670507,"creation_date":1651670507,"answer_id":72113679,"question_id":43888583,"body_markdown":"There are a couple of potential issues with your code, but they should be pretty easy fixes. First, you should initialize the client with just the base URL for the API, without writing any specific endpoint. After that, update the case ID to be totally numeric, without the `T` or `C` prefix.\r\n\r\nHeres what that might look like based on the code you shared:\r\n\r\n    APIClient client = new APIClient(&quot;https://test.testrail.net/index.php?/api/v2&quot;);\r\n    JSONObject c = (JSONObject) client.sendGet(&quot;get_case/54757&quot;);\r\n\r\nTo test the request manually (i.e. using Postman), you could use something like the example below and pass your TestRail username/password as Basic Authentication: \r\n\r\n    GET https://test.testrail.net/index.php?/api/v2/get_case/123 \r\n\r\nSee the get_case documentation reference for more details:\r\nhttps://www.gurock.com/testrail/docs/api/reference/cases/#getcase\r\n","title":"Unable to fetch data from test rail using java","body":"<p>There are a couple of potential issues with your code, but they should be pretty easy fixes. First, you should initialize the client with just the base URL for the API, without writing any specific endpoint. After that, update the case ID to be totally numeric, without the <code>T</code> or <code>C</code> prefix.</p>\n<p>Heres what that might look like based on the code you shared:</p>\n<pre><code>APIClient client = new APIClient(&quot;https://test.testrail.net/index.php?/api/v2&quot;);\nJSONObject c = (JSONObject) client.sendGet(&quot;get_case/54757&quot;);\n</code></pre>\n<p>To test the request manually (i.e. using Postman), you could use something like the example below and pass your TestRail username/password as Basic Authentication:</p>\n<pre><code>GET https://test.testrail.net/index.php?/api/v2/get_case/123 \n</code></pre>\n<p>See the get_case documentation reference for more details:\n<a href=\"https://www.gurock.com/testrail/docs/api/reference/cases/#getcase\" rel=\"nofollow noreferrer\">https://www.gurock.com/testrail/docs/api/reference/cases/#getcase</a></p>\n"}],"owner":{"account_id":3799607,"reputation":387,"user_id":3153599,"accept_rate":20,"display_name":"sougata das"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651670507,"creation_date":1494408685,"question_id":43888583,"body_markdown":"I am using the API provided by Test rail to pull info using java.\r\nBelow is my program.\r\n\r\nAPIClient client = new APIClient(&quot;https://test.testrail.net/index.php?/runs/view/154&quot;);\r\nclient.setUser(&quot;..&quot;);\r\n \r\nclient.setPassword(&quot;..&quot;);\r\n       \r\n  \r\n    JSONObject c = (JSONObject) client.sendGet(&quot;get_case/T54757&quot;);\r\n    System.out.println(c);\r\n\r\nI downloaded the API and called the method as mentioned above.But every time the json response is returning null.\r\nCould any body please help?","title":"Unable to fetch data from test rail using java","body":"<p>I am using the API provided by Test rail to pull info using java.\nBelow is my program.</p>\n\n<p>APIClient client = new APIClient(\"<a href=\"https://test.testrail.net/index.php?/runs/view/154\" rel=\"nofollow noreferrer\">https://test.testrail.net/index.php?/runs/view/154</a>\");\nclient.setUser(\"..\");</p>\n\n<p>client.setPassword(\"..\");</p>\n\n<pre><code>JSONObject c = (JSONObject) client.sendGet(\"get_case/T54757\");\nSystem.out.println(c);\n</code></pre>\n\n<p>I downloaded the API and called the method as mentioned above.But every time the json response is returning null.\nCould any body please help?</p>\n"},{"tags":["java","postgresql"],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1293608892,"creation_date":1293608892,"answer_id":4552367,"question_id":4552336,"body_markdown":"What is the error?  `ClassNotFoundException` for `Test` or the `postgres` library?  If former, it is because you need to add Test in your classpath as well.\r\n\r\nAssuming you are in the same directory where Test.class and the postgres jar is present,\r\n\r\n    java -classpath .:postgresql-9.0-801.jdbc4.jar Test\r\n\r\n","title":"Running a java program in linux terminal with -class path","body":"<p>What is the error?  <code>ClassNotFoundException</code> for <code>Test</code> or the <code>postgres</code> library?  If former, it is because you need to add Test in your classpath as well.</p>\n\n<p>Assuming you are in the same directory where Test.class and the postgres jar is present,</p>\n\n<pre><code>java -classpath .:postgresql-9.0-801.jdbc4.jar Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268218,"reputation":1319,"user_id":556855,"display_name":"Stewart Murrie"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1293609187,"creation_date":1293609187,"answer_id":4552392,"question_id":4552336,"body_markdown":"When you specify the classpath you need to make sure it includes ALL of the class files your application needs, including the ones you create yourself.  Assuming that Test.class is in the current directory along with the postgres Jar file, you need something like:\r\n\r\n    java -classpath postgresql-9.0-801.jdbc4.jar:. Test\r\n\r\nSee the [Java Glossary][1] for more details.\r\n\r\nbm~\r\n \r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/classpath.html","title":"Running a java program in linux terminal with -class path","body":"<p>When you specify the classpath you need to make sure it includes ALL of the class files your application needs, including the ones you create yourself.  Assuming that Test.class is in the current directory along with the postgres Jar file, you need something like:</p>\n\n<pre><code>java -classpath postgresql-9.0-801.jdbc4.jar:. Test\n</code></pre>\n\n<p>See the <a href=\"http://mindprod.com/jgloss/classpath.html\" rel=\"noreferrer\">Java Glossary</a> for more details.</p>\n\n<p>bm~</p>\n"},{"tags":[],"owner":{"account_id":121574,"reputation":11440,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293609330,"creation_date":1293609330,"answer_id":4552400,"question_id":4552336,"body_markdown":"    command :java -cp .;postgresql-9.0-801.jdbc4.jar Test\r\n\r\nboth the jar and the class are in the same directory from which the command is run&lt;br/&gt;\r\n**Also make your class definition as public !!**\r\n","title":"Running a java program in linux terminal with -class path","body":"<pre><code>command :java -cp .;postgresql-9.0-801.jdbc4.jar Test\n</code></pre>\n\n<p>both the jar and the class are in the same directory from which the command is run<br/>\n<strong>Also make your class definition as public !!</strong></p>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9803,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4552392,"answer_count":3,"score":3,"last_activity_date":1651670485,"creation_date":1293608527,"question_id":4552336,"body_markdown":"I&#39;ve been trying for an hour to run the following program with a the postgresql classpath\r\n\r\n    class Test{\r\n      public static void main(String[] args){\r\n            try {\r\n                Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            } catch (ClassNotFoundException cnfe) {\r\n                System.err.println(&quot;Couldn&#39;t find Postgresql driver class!&quot;);\r\n            }\r\n      }\r\n    }\r\n\r\nThe program compiled fine with the javac command, but I&#39;m having a hard time running it with the postgresql classpath. I have &quot;postgresql-9.0-801.jdbc4.jar&quot; in the same directory as the file and I tried the following, but non of them worked\r\n\r\n    java -classpath ./postgresql-9.0-801.jdbc4.jar Test\r\n    java -classpath postgresql-9.0-801.jdbc4.jar Test\r\n    java -classpath &quot;postgresql-9.0-801.jdbc4.jar&quot; Test\r\n\r\nWhat am I doing wrong?","title":"Running a java program in linux terminal with -class path","body":"<p>I've been trying for an hour to run the following program with a the postgresql classpath</p>\n<pre><code>class Test{\n  public static void main(String[] args){\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n        } catch (ClassNotFoundException cnfe) {\n            System.err.println(&quot;Couldn't find Postgresql driver class!&quot;);\n        }\n  }\n}\n</code></pre>\n<p>The program compiled fine with the javac command, but I'm having a hard time running it with the postgresql classpath. I have &quot;postgresql-9.0-801.jdbc4.jar&quot; in the same directory as the file and I tried the following, but non of them worked</p>\n<pre><code>java -classpath ./postgresql-9.0-801.jdbc4.jar Test\njava -classpath postgresql-9.0-801.jdbc4.jar Test\njava -classpath &quot;postgresql-9.0-801.jdbc4.jar&quot; Test\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651656148,"creation_date":1651656148,"answer_id":72110628,"question_id":72110202,"body_markdown":"You can certainly improve the performance by not doing the recursive calls in the `Comparator` implementation. When the list sorts itself, it will most likely consult this `Comparator` multiple times for the same item, so all of the nested lists will be sorted multiple times.\r\n\r\nInstead, propagate the recursion manually.\r\n\r\n    private void sortRecursivelyByName(List&lt;Item&gt; items) {\r\n        if (items == null || items.isEmpty()) {\r\n            return;\r\n        }\r\n        for (Item item : items) {\r\n            sortRecursivelyByName(item.items);\r\n        }\r\n        items.sort(Comparator.comparing(Item::getName));\r\n    }\r\n\r\nThe performance impact of a recursive approach, if any, is dependent on the *recursion depth* and should be neglectable unless you are somewhere in the thousands. Conveniently, your recursion depth is equal to your input depth, so you might be able to tell, how likely that is going to happen.\r\n\r\nAnd even then, if the lists are sufficiently large, the sorting will take most of the time, and that would not change in an iterative approach.","title":"Sorting a recursive list of objects by string property in Java","body":"<p>You can certainly improve the performance by not doing the recursive calls in the <code>Comparator</code> implementation. When the list sorts itself, it will most likely consult this <code>Comparator</code> multiple times for the same item, so all of the nested lists will be sorted multiple times.</p>\n<p>Instead, propagate the recursion manually.</p>\n<pre><code>private void sortRecursivelyByName(List&lt;Item&gt; items) {\n    if (items == null || items.isEmpty()) {\n        return;\n    }\n    for (Item item : items) {\n        sortRecursivelyByName(item.items);\n    }\n    items.sort(Comparator.comparing(Item::getName));\n}\n</code></pre>\n<p>The performance impact of a recursive approach, if any, is dependent on the <em>recursion depth</em> and should be neglectable unless you are somewhere in the thousands. Conveniently, your recursion depth is equal to your input depth, so you might be able to tell, how likely that is going to happen.</p>\n<p>And even then, if the lists are sufficiently large, the sorting will take most of the time, and that would not change in an iterative approach.</p>\n"}],"owner":{"account_id":11722622,"reputation":569,"user_id":8581106,"display_name":"LukyFoggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72110628,"answer_count":1,"score":1,"last_activity_date":1651670149,"creation_date":1651654085,"question_id":72110202,"body_markdown":"I&#39;ve a recursive list of objects with unknown depth and I&#39;m trying to sort all objects within the lists by a `string` property `name`.\r\n\r\n`exampleData.json`\r\n```json\r\n[\r\n    {\r\n        &quot;name&quot;: &quot;B&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Bb&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Bc&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Ba&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;A&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Ab&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Aa&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\n`sortedData.json`\r\n```json\r\n[\r\n    {\r\n        &quot;name&quot;: &quot;A&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Aa&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Ab&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Ac&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;B&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Ba&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Bb&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nBelow is my current approach in Java. While it seems to work for small amounts of data, I&#39;m uncertain of how professional it is since I&#39;ve no experience with recursion and its performance.\r\n\r\n```java\r\n    private void sortRecursivelyByName(List&lt;Item&gt; items) {\r\n        if(items== null || items.isEmpty()) {\r\n            return;\r\n        }\r\n        items.sort((a,b) -&gt; {\r\n            this.sortRecursivelyByName(a.items);\r\n            this.sortRecursivelyByName(b.items);\r\n            return a.getName().compareTo(b.getName());\r\n        });\r\n    }\r\n```","title":"Sorting a recursive list of objects by string property in Java","body":"<p>I've a recursive list of objects with unknown depth and I'm trying to sort all objects within the lists by a <code>string</code> property <code>name</code>.</p>\n<p><code>exampleData.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;name&quot;: &quot;B&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Bb&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Bc&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Ba&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    },\n    {\n        &quot;name&quot;: &quot;A&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Ab&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Aa&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    }\n]\n</code></pre>\n<p><code>sortedData.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;name&quot;: &quot;A&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Aa&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Ab&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Ac&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    },\n    {\n        &quot;name&quot;: &quot;B&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Ba&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Bb&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    }\n]\n</code></pre>\n<p>Below is my current approach in Java. While it seems to work for small amounts of data, I'm uncertain of how professional it is since I've no experience with recursion and its performance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void sortRecursivelyByName(List&lt;Item&gt; items) {\n        if(items== null || items.isEmpty()) {\n            return;\n        }\n        items.sort((a,b) -&gt; {\n            this.sortRecursivelyByName(a.items);\n            this.sortRecursivelyByName(b.items);\n            return a.getName().compareTo(b.getName());\n        });\n    }\n</code></pre>\n"},{"tags":["java","angular","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13836859,"reputation":41,"user_id":9988177,"display_name":"MakifYcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651669866,"creation_date":1651669866,"answer_id":72113543,"question_id":72113138,"body_markdown":"You can generate QR code and put it footer of the document. When user scan the QR code user will be redirected your web site with query parameters. Now you can get URL in Angular and show the document.","title":"How to implement token validation linked to a PDF document?","body":"<p>You can generate QR code and put it footer of the document. When user scan the QR code user will be redirected your web site with query parameters. Now you can get URL in Angular and show the document.</p>\n"}],"owner":{"account_id":14222613,"reputation":5,"user_id":12015922,"display_name":"Larissa Menezes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72113543,"answer_count":1,"score":0,"last_activity_date":1651669866,"creation_date":1651667872,"question_id":72113138,"body_markdown":"So, I am developing a website for my university that manage courses and online activities (like panels, lectures, etc) and I created a module that sends a PDF document with a participation certificate to the people that attended to these activities, and now I want to link a &quot;token validation&quot; to this document and attach this unique token string at the end of this document so the user may be able to validate this certificate at my website. Any ideas of how i can accomplish that?\r\n\r\nI am using Java/Spring + Angular","title":"How to implement token validation linked to a PDF document?","body":"<p>So, I am developing a website for my university that manage courses and online activities (like panels, lectures, etc) and I created a module that sends a PDF document with a participation certificate to the people that attended to these activities, and now I want to link a &quot;token validation&quot; to this document and attach this unique token string at the end of this document so the user may be able to validate this certificate at my website. Any ideas of how i can accomplish that?</p>\n<p>I am using Java/Spring + Angular</p>\n"},{"tags":["java","android-studio","pdf","android-intent"],"answers":[{"tags":[],"owner":{"account_id":9596055,"reputation":829,"user_id":7125140,"display_name":"Ayyub Kolsawala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573891819,"creation_date":1573891819,"answer_id":58888789,"question_id":58888682,"body_markdown":"&gt; Hope this helps you, it will only allow users to view the PDF not download it. You can add this inside your webview and pass the PDF inside it. Drop in comments if you need more assistance\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    body {\r\n        margin: 0;\r\n        font-family: sans-serif;\r\n        font-size: 0.9rem;\r\n      }\r\n      #app {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100vh;\r\n      }\r\n      #toolbar {\r\n        display: flex;\r\n        align-items: center;\r\n        background-color: #555;\r\n        color: #fff;\r\n        padding: 0.5em;\r\n      }\r\n      #toolbar button,\r\n      #page-mode input {\r\n        color: currentColor;\r\n        background-color: transparent;\r\n        font: inherit;\r\n        border: 1px solid currentColor;\r\n        border-radius: 3px;\r\n        padding: 0.25em 0.5em;\r\n      }\r\n      #toolbar button:hover,\r\n      #toolbar button:focus,\r\n      #page-mode input:hover,\r\n      #page-mode input:focus {\r\n        color: lightGreen;\r\n      }\r\n      #page-mode {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 0.25em 0.5em;\r\n      }\r\n      \r\n      #viewport-container {\r\n        flex: 1;\r\n        background: #eee;\r\n        overflow: auto;\r\n      }\r\n      #viewport {\r\n        width: 90%;\r\n        margin: 0 auto;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        align-items: center;\r\n      }\r\n      #viewport &gt; div {\r\n        text-align: center;\r\n        max-width: 100%;\r\n      }\r\n      #viewport canvas {\r\n        width: 100%;\r\n        box-shadow: 0 2px 5px gray;\r\n      }\r\n      \r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;title&gt;PDF Viewer PDF.js&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;./styles.css&quot; /&gt;\r\n      &lt;/head&gt;\r\n\r\n      &lt;body&gt;\r\n        &lt;div id=&quot;app&quot;&gt;\r\n          &lt;div role=&quot;toolbar&quot; id=&quot;toolbar&quot;&gt;\r\n            &lt;div id=&quot;pager&quot;&gt;\r\n              &lt;button data-pager=&quot;prev&quot;&gt;prev&lt;/button&gt;\r\n              &lt;button data-pager=&quot;next&quot;&gt;next&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div id=&quot;page-mode&quot;&gt;\r\n              &lt;label&gt;Page Mode &lt;input type=&quot;number&quot; value=&quot;1&quot; min=&quot;1&quot;/&gt;&lt;/label&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div id=&quot;viewport-container&quot;&gt;&lt;div role=&quot;main&quot; id=&quot;viewport&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;script src=&quot;https://unpkg.com/pdfjs-dist@2.0.489/build/pdf.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script&gt;\r\n    \t\t(function() {\r\n      let currentPageIndex = 0;\r\n      let pageMode = 1;\r\n      let cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n      let pdfInstance = null;\r\n      let totalPagesCount = 0;\r\n\r\n      const viewport = document.querySelector(&quot;#viewport&quot;);\r\n      window.initPDFViewer = function(pdfURL) {\r\n        pdfjsLib.getDocument(pdfURL).then(pdf =&gt; {\r\n          pdfInstance = pdf;\r\n          totalPagesCount = pdf.numPages;\r\n          initPager();\r\n          initPageMode();\r\n          render();\r\n        });\r\n      };\r\n\r\n      function onPagerButtonsClick(event) {\r\n        const action = event.target.getAttribute(&quot;data-pager&quot;);\r\n        if (action === &quot;prev&quot;) {\r\n          if (currentPageIndex === 0) {\r\n            return;\r\n          }\r\n          currentPageIndex -= pageMode;\r\n          if (currentPageIndex &lt; 0) {\r\n            currentPageIndex = 0;\r\n          }\r\n          render();\r\n        }\r\n        if (action === &quot;next&quot;) {\r\n          if (currentPageIndex === totalPagesCount - 1) {\r\n            return;\r\n          }\r\n          currentPageIndex += pageMode;\r\n          if (currentPageIndex &gt; totalPagesCount - 1) {\r\n            currentPageIndex = totalPagesCount - 1;\r\n          }\r\n          render();\r\n        }\r\n      }\r\n      function initPager() {\r\n        const pager = document.querySelector(&quot;#pager&quot;);\r\n        pager.addEventListener(&quot;click&quot;, onPagerButtonsClick);\r\n        return () =&gt; {\r\n          pager.removeEventListener(&quot;click&quot;, onPagerButtonsClick);\r\n        };\r\n      }\r\n\r\n      function onPageModeChange(event) {\r\n        pageMode = Number(event.target.value);\r\n        render();\r\n      }\r\n      function initPageMode() {\r\n        const input = document.querySelector(&quot;#page-mode input&quot;);\r\n        input.setAttribute(&quot;max&quot;, totalPagesCount);\r\n        input.addEventListener(&quot;change&quot;, onPageModeChange);\r\n        return () =&gt; {\r\n          input.removeEventListener(&quot;change&quot;, onPageModeChange);\r\n        };\r\n      }\r\n\r\n      function render() {\r\n        cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n        const startPageIndex = cursorIndex * pageMode;\r\n        const endPageIndex =\r\n          startPageIndex + pageMode &lt; totalPagesCount\r\n            ? startPageIndex + pageMode - 1\r\n            : totalPagesCount - 1;\r\n\r\n        const renderPagesPromises = [];\r\n        for (let i = startPageIndex; i &lt;= endPageIndex; i++) {\r\n          renderPagesPromises.push(pdfInstance.getPage(i + 1));\r\n        }\r\n\r\n        Promise.all(renderPagesPromises).then(pages =&gt; {\r\n          const pagesHTML = `&lt;div style=&quot;width: ${\r\n            pageMode &gt; 1 ? &quot;50%&quot; : &quot;100%&quot;\r\n          }&quot;&gt;&lt;canvas&gt;&lt;/canvas&gt;&lt;/div&gt;`.repeat(pages.length);\r\n          viewport.innerHTML = pagesHTML;\r\n          pages.forEach(renderPage);\r\n        });\r\n      }\r\n\r\n      function renderPage(page) {\r\n        let pdfViewport = page.getViewport(1);\r\n\r\n        const container =\r\n          viewport.children[page.pageIndex - cursorIndex * pageMode];\r\n        pdfViewport = page.getViewport(container.offsetWidth / pdfViewport.width);\r\n        const canvas = container.children[0];\r\n        const context = canvas.getContext(&quot;2d&quot;);\r\n        canvas.height = pdfViewport.height;\r\n        canvas.width = pdfViewport.width;\r\n\r\n        page.render({\r\n          canvasContext: context,\r\n          viewport: pdfViewport\r\n        });\r\n      }\r\n    })();\r\n\r\n          initPDFViewer(&quot;https://blog.mozilla.org/security/files/2015/05/HTTPS-FAQ.pdf&quot;);\r\n        &lt;/script&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"show pdf file inside android app from server url without give the permission download that file","body":"<blockquote>\n  <p>Hope this helps you, it will only allow users to view the PDF not download it. You can add this inside your webview and pass the PDF inside it. Drop in comments if you need more assistance</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    margin: 0;\r\n    font-family: sans-serif;\r\n    font-size: 0.9rem;\r\n  }\r\n  #app {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100vh;\r\n  }\r\n  #toolbar {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #555;\r\n    color: #fff;\r\n    padding: 0.5em;\r\n  }\r\n  #toolbar button,\r\n  #page-mode input {\r\n    color: currentColor;\r\n    background-color: transparent;\r\n    font: inherit;\r\n    border: 1px solid currentColor;\r\n    border-radius: 3px;\r\n    padding: 0.25em 0.5em;\r\n  }\r\n  #toolbar button:hover,\r\n  #toolbar button:focus,\r\n  #page-mode input:hover,\r\n  #page-mode input:focus {\r\n    color: lightGreen;\r\n  }\r\n  #page-mode {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0.25em 0.5em;\r\n  }\r\n  \r\n  #viewport-container {\r\n    flex: 1;\r\n    background: #eee;\r\n    overflow: auto;\r\n  }\r\n  #viewport {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n  }\r\n  #viewport &gt; div {\r\n    text-align: center;\r\n    max-width: 100%;\r\n  }\r\n  #viewport canvas {\r\n    width: 100%;\r\n    box-shadow: 0 2px 5px gray;\r\n  }\r\n  </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;PDF Viewer PDF.js&lt;/title&gt;\r\n    &lt;meta charset=\"UTF-8\" /&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"./styles.css\" /&gt;\r\n  &lt;/head&gt;\r\n\r\n  &lt;body&gt;\r\n    &lt;div id=\"app\"&gt;\r\n      &lt;div role=\"toolbar\" id=\"toolbar\"&gt;\r\n        &lt;div id=\"pager\"&gt;\r\n          &lt;button data-pager=\"prev\"&gt;prev&lt;/button&gt;\r\n          &lt;button data-pager=\"next\"&gt;next&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;div id=\"page-mode\"&gt;\r\n          &lt;label&gt;Page Mode &lt;input type=\"number\" value=\"1\" min=\"1\"/&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=\"viewport-container\"&gt;&lt;div role=\"main\" id=\"viewport\"&gt;&lt;/div&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;script src=\"https://unpkg.com/pdfjs-dist@2.0.489/build/pdf.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n\t\t(function() {\r\n  let currentPageIndex = 0;\r\n  let pageMode = 1;\r\n  let cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n  let pdfInstance = null;\r\n  let totalPagesCount = 0;\r\n\r\n  const viewport = document.querySelector(\"#viewport\");\r\n  window.initPDFViewer = function(pdfURL) {\r\n    pdfjsLib.getDocument(pdfURL).then(pdf =&gt; {\r\n      pdfInstance = pdf;\r\n      totalPagesCount = pdf.numPages;\r\n      initPager();\r\n      initPageMode();\r\n      render();\r\n    });\r\n  };\r\n\r\n  function onPagerButtonsClick(event) {\r\n    const action = event.target.getAttribute(\"data-pager\");\r\n    if (action === \"prev\") {\r\n      if (currentPageIndex === 0) {\r\n        return;\r\n      }\r\n      currentPageIndex -= pageMode;\r\n      if (currentPageIndex &lt; 0) {\r\n        currentPageIndex = 0;\r\n      }\r\n      render();\r\n    }\r\n    if (action === \"next\") {\r\n      if (currentPageIndex === totalPagesCount - 1) {\r\n        return;\r\n      }\r\n      currentPageIndex += pageMode;\r\n      if (currentPageIndex &gt; totalPagesCount - 1) {\r\n        currentPageIndex = totalPagesCount - 1;\r\n      }\r\n      render();\r\n    }\r\n  }\r\n  function initPager() {\r\n    const pager = document.querySelector(\"#pager\");\r\n    pager.addEventListener(\"click\", onPagerButtonsClick);\r\n    return () =&gt; {\r\n      pager.removeEventListener(\"click\", onPagerButtonsClick);\r\n    };\r\n  }\r\n\r\n  function onPageModeChange(event) {\r\n    pageMode = Number(event.target.value);\r\n    render();\r\n  }\r\n  function initPageMode() {\r\n    const input = document.querySelector(\"#page-mode input\");\r\n    input.setAttribute(\"max\", totalPagesCount);\r\n    input.addEventListener(\"change\", onPageModeChange);\r\n    return () =&gt; {\r\n      input.removeEventListener(\"change\", onPageModeChange);\r\n    };\r\n  }\r\n\r\n  function render() {\r\n    cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n    const startPageIndex = cursorIndex * pageMode;\r\n    const endPageIndex =\r\n      startPageIndex + pageMode &lt; totalPagesCount\r\n        ? startPageIndex + pageMode - 1\r\n        : totalPagesCount - 1;\r\n\r\n    const renderPagesPromises = [];\r\n    for (let i = startPageIndex; i &lt;= endPageIndex; i++) {\r\n      renderPagesPromises.push(pdfInstance.getPage(i + 1));\r\n    }\r\n\r\n    Promise.all(renderPagesPromises).then(pages =&gt; {\r\n      const pagesHTML = `&lt;div style=\"width: ${\r\n        pageMode &gt; 1 ? \"50%\" : \"100%\"\r\n      }\"&gt;&lt;canvas&gt;&lt;/canvas&gt;&lt;/div&gt;`.repeat(pages.length);\r\n      viewport.innerHTML = pagesHTML;\r\n      pages.forEach(renderPage);\r\n    });\r\n  }\r\n\r\n  function renderPage(page) {\r\n    let pdfViewport = page.getViewport(1);\r\n\r\n    const container =\r\n      viewport.children[page.pageIndex - cursorIndex * pageMode];\r\n    pdfViewport = page.getViewport(container.offsetWidth / pdfViewport.width);\r\n    const canvas = container.children[0];\r\n    const context = canvas.getContext(\"2d\");\r\n    canvas.height = pdfViewport.height;\r\n    canvas.width = pdfViewport.width;\r\n\r\n    page.render({\r\n      canvasContext: context,\r\n      viewport: pdfViewport\r\n    });\r\n  }\r\n})();\r\n\r\n      initPDFViewer(\"https://blog.mozilla.org/security/files/2015/05/HTTPS-FAQ.pdf\");\r\n    &lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":13279207,"reputation":1,"user_id":9587475,"display_name":"Kartik Indalkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651668790,"creation_date":1573890728,"question_id":58888682,"body_markdown":"show PDF file inside the android app from the server URL without give permission to download that file. how it can do in the android app.\r\nI have tried using web_view but it allows us to download it.\r\nI won&#39;t open that file in the activity. but only display that file not allow to download it.","title":"show pdf file inside android app from server url without give the permission download that file","body":"<p>show PDF file inside the android app from the server URL without give permission to download that file. how it can do in the android app.\nI have tried using web_view but it allows us to download it.\nI won't open that file in the activity. but only display that file not allow to download it.</p>\n"},{"tags":["java","sql","postgresql","jooq","jooq-codegen-maven"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1651658715,"post_id":72110995,"comment_id":127413756,"body_markdown":"The `[*]` marks the error position as part of the error message. I doubt JOOQ or Liquibase adds that. It&#39;s most probably an indication that something _before_ that was already invalid e.g. the `auto_increment` - but that would generate a different error. So maybe you are not actually using Postgres to begin with.","body":"The <code>[*]</code> marks the error position as part of the error message. I doubt JOOQ or Liquibase adds that. It&#39;s most probably an indication that something <i>before</i> that was already invalid e.g. the <code>auto_increment</code> - but that would generate a different error. So maybe you are not actually using Postgres to begin with."},{"owner":{"account_id":10411662,"reputation":13,"user_id":7676882,"display_name":"MarcoFarinetti"},"score":0,"creation_date":1651662790,"post_id":72110995,"comment_id":127415131,"body_markdown":"Thanks, I&#39;m using postgres but JOOQ codegen doesn&#39;t as @lukas-eder explained.","body":"Thanks, I&#39;m using postgres but JOOQ codegen doesn&#39;t as @lukas-eder explained."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651668063,"creation_date":1651660541,"answer_id":72111576,"question_id":72110995,"body_markdown":"### Why this happens\r\n\r\nThe [`LiquibaseDatabase`][1] in jOOQ 3.16&#39;s code generation configuration works by [simulating your migration against an in-memory H2 database][2], which, starting from H2 2.0 has incompatibly declared `VALUE` a keyword, which can no longer be used as an identifier without quoting.\r\n\r\n### Workaround in Liquibase\r\n\r\nSo, your workaround could be to quote all objects (or reserved words, if Liquibase is up to date with H2&#39;s latest changes):\r\nhttps://docs.liquibase.com/parameters/object-quoting-strategy.html\r\n\r\nE.g.\r\n\r\n```\r\ndatabaseChangeLog:\r\n    -  object-quoting-strategy: QUOTE_ALL_OBJECTS\r\n```\r\n\r\nHowever, this means that you should make sure to use only lower case identifiers in your Liquibase configuration, as to not accidentally create case sensitive identifiers in your PostgreSQL database\r\n\r\n### Upgrading Liquibase\r\n\r\nI can&#39;t reproduce this with the latest versions of Liquibase. It seems they have fixed this and now support H2 2.x correctly\r\n\r\n### A future fix in jOOQ\r\n\r\njOOQ should fix this on the jOOQ side. Eventually, H2 will be removed from the equation (at least it will be possible to opt out of using it), and jOOQ will interpret the DDL generated by Liquibase directly in order to generate your code. The relevant feature request is:\r\nhttps://github.com/jOOQ/jOOQ/issues/7034\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\r\n  [2]: https://blog.jooq.org/how-to-simulate-a-liquibase-migration-using-h2/","title":"JOOQ code generation with Liquibase, reserved keyword? (error with &quot;value&quot; column name)","body":"<h3>Why this happens</h3>\n<p>The <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\" rel=\"nofollow noreferrer\"><code>LiquibaseDatabase</code></a> in jOOQ 3.16's code generation configuration works by <a href=\"https://blog.jooq.org/how-to-simulate-a-liquibase-migration-using-h2/\" rel=\"nofollow noreferrer\">simulating your migration against an in-memory H2 database</a>, which, starting from H2 2.0 has incompatibly declared <code>VALUE</code> a keyword, which can no longer be used as an identifier without quoting.</p>\n<h3>Workaround in Liquibase</h3>\n<p>So, your workaround could be to quote all objects (or reserved words, if Liquibase is up to date with H2's latest changes):\n<a href=\"https://docs.liquibase.com/parameters/object-quoting-strategy.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/parameters/object-quoting-strategy.html</a></p>\n<p>E.g.</p>\n<pre><code>databaseChangeLog:\n    -  object-quoting-strategy: QUOTE_ALL_OBJECTS\n</code></pre>\n<p>However, this means that you should make sure to use only lower case identifiers in your Liquibase configuration, as to not accidentally create case sensitive identifiers in your PostgreSQL database</p>\n<h3>Upgrading Liquibase</h3>\n<p>I can't reproduce this with the latest versions of Liquibase. It seems they have fixed this and now support H2 2.x correctly</p>\n<h3>A future fix in jOOQ</h3>\n<p>jOOQ should fix this on the jOOQ side. Eventually, H2 will be removed from the equation (at least it will be possible to opt out of using it), and jOOQ will interpret the DDL generated by Liquibase directly in order to generate your code. The relevant feature request is:\n<a href=\"https://github.com/jOOQ/jOOQ/issues/7034\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/7034</a></p>\n"}],"owner":{"account_id":10411662,"reputation":13,"user_id":7676882,"display_name":"MarcoFarinetti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72111576,"answer_count":1,"score":1,"last_activity_date":1651668727,"creation_date":1651657926,"question_id":72110995,"body_markdown":"I have a table defined in a liquibase script with a column named &quot;value&quot;:\r\n```\r\n- column:\r\n    name: value\r\n    type: VARCHAR\r\n    constraints:\r\n      - nullable: false\r\n```\r\ndbms is postgresql\r\n\r\nWhen running the JOOQ codegen with the maven plugin, it runs the liquibase script and I get the following error:\r\n```\r\nSyntax error in SQL statement &quot;CREATE TABLE PUBLIC.TABLE_NAME (ID BIGINT AUTO_INCREMENT NOT NULL, ... , VALUE[*] VARCHAR NOT NULL)&quot;; expected &quot;identifier&quot;;\r\n\r\n```\r\nIf I change the column name from &quot;value&quot; to anything else, it works. With JOOQ up to version 3.15, it works.\r\n\r\nAny clue on how to handle this? I&#39;d rather not change the name, I have multiple tables with a column named &quot;value&quot; so it&#39;s a quite big refactor, and naming wise I feel it&#39;s the most appropriate name for what it represents.\r\n\r\n\r\n### Solution\r\n\r\n\r\nThis is already fixed in the newer versions of liquibase, so you can manually specify which LB version to use in the jOOQ codegen:\r\n```\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n        &lt;version&gt;${jooq.version}&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        ...\r\n&lt;/plugin&gt;\r\n","title":"JOOQ code generation with Liquibase, reserved keyword? (error with &quot;value&quot; column name)","body":"<p>I have a table defined in a liquibase script with a column named &quot;value&quot;:</p>\n<pre><code>- column:\n    name: value\n    type: VARCHAR\n    constraints:\n      - nullable: false\n</code></pre>\n<p>dbms is postgresql</p>\n<p>When running the JOOQ codegen with the maven plugin, it runs the liquibase script and I get the following error:</p>\n<pre><code>Syntax error in SQL statement &quot;CREATE TABLE PUBLIC.TABLE_NAME (ID BIGINT AUTO_INCREMENT NOT NULL, ... , VALUE[*] VARCHAR NOT NULL)&quot;; expected &quot;identifier&quot;;\n\n</code></pre>\n<p>If I change the column name from &quot;value&quot; to anything else, it works. With JOOQ up to version 3.15, it works.</p>\n<p>Any clue on how to handle this? I'd rather not change the name, I have multiple tables with a column named &quot;value&quot; so it's a quite big refactor, and naming wise I feel it's the most appropriate name for what it represents.</p>\n<h3>Solution</h3>\n<p>This is already fixed in the newer versions of liquibase, so you can manually specify which LB version to use in the jOOQ codegen:</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n        &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n        &lt;version&gt;${jooq.version}&lt;/version&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        ...\n&lt;/plugin&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8616,"page":1376,"page_size":100}
