{"items":[{"tags":["java","stream"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643217037,"post_id":70867472,"comment_id":125282692,"body_markdown":"Does this answer your question? [Stream API and Queues: Subscribe to BlockingQueue stream-style](https://stackoverflow.com/questions/23462209/stream-api-and-queues-subscribe-to-blockingqueue-stream-style)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23462209/stream-api-and-queues-subscribe-to-blockingqueue-stream-style\">Stream API and Queues: Subscribe to BlockingQueue stream-style</a>"},{"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"score":0,"creation_date":1643222717,"post_id":70867472,"comment_id":125284979,"body_markdown":"No it doesn&#39;t - the code there doesn&#39;t take - just peeks so the object is never removed from the queue. Also the delay is never respected either (I&#39;m assuming because the stream is peeking and not taking)","body":"No it doesn&#39;t - the code there doesn&#39;t take - just peeks so the object is never removed from the queue. Also the delay is never respected either (I&#39;m assuming because the stream is peeking and not taking)"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643229527,"post_id":70867472,"comment_id":125287398,"body_markdown":"Could you please provide a minimal reproducible example? Please, see: [How to create a Minimal, Reproducible Example - Help Center - Stack Overflow](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Could you please provide a minimal reproducible example? Please, see: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example - Help Center - Stack Overflow</a>."},{"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"score":1,"creation_date":1643236579,"post_id":70867472,"comment_id":125289592,"body_markdown":"Yes sorry - done","body":"Yes sorry - done"},{"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"score":1,"creation_date":1643237581,"post_id":70867472,"comment_id":125289837,"body_markdown":"Hmm ok, actually looking into the post you mentioned. If I use Stream.Generate() I get the behavior that I need.","body":"Hmm ok, actually looking into the post you mentioned. If I use Stream.Generate() I get the behavior that I need."}],"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643236963,"creation_date":1643216970,"question_id":70867472,"body_markdown":"Say I have a delayQueue as follows:\r\n\r\n    DelayQueue&lt;DelayedObject&gt; queue= new DelayQueue&lt;&gt;();\r\n\r\nI would like to get the following behavior:\r\n\r\n    while (true) {\r\n    DealyedObject next = queue.take();\r\n    System.out.println(&quot;next message:&quot; + next);\r\n    }\r\n\r\nbut with streams as follows:\r\n\r\n    queue.stream().forEach(e -&gt; System.out.println(e));\r\n\r\n\r\nHowever, I notice that this doesn&#39;t respect the delay and it also appears to be peeking and not taking. Is this expected behavior? Is there a better way to accomplish what I need with streams?\r\n\r\nHere is a fully reproducible sample:\r\n\r\n```\r\n\r\n\r\nimport java.util.UUID;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.DelayQueue;\r\nimport java.util.concurrent.Delayed;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class DelayQueueExample {\r\n    public class DelayObject implements Delayed {\r\n        private String data;\r\n        private long startTime;\r\n\r\n        public DelayObject(String data, long delayInMilliseconds) {\r\n            this.data = data;\r\n            this.startTime = System.currentTimeMillis() + delayInMilliseconds;\r\n        }\r\n\r\n        @Override\r\n        public long getDelay(TimeUnit unit) {\r\n            long diff = this.startTime - System.currentTimeMillis();\r\n            return unit.convert(diff, TimeUnit.MILLISECONDS);\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Delayed o) {\r\n            return Math.toIntExact(this.startTime - ((DelayObject) o).startTime);\r\n        }\r\n\r\n        public String toString(){\r\n            return this.data;\r\n        }\r\n    }\r\n\r\n    public void startLoop() throws InterruptedException {\r\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\r\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\r\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\r\n        delayQueue.add(object1);\r\n        delayQueue.add(object2);\r\n\r\n        while(!delayQueue.isEmpty()){\r\n            System.out.println(delayQueue.take());\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public void startStream() throws InterruptedException {\r\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\r\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\r\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\r\n        delayQueue.add(object1);\r\n        delayQueue.add(object2);\r\n\r\n        delayQueue.forEach(o-&gt;System.out.println(o));\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        DelayQueueExample ex1 = new DelayQueueExample();\r\n        ex1.startLoop();      //Immediately outputs Object1ExpiresIn1ms and Object1ExpiresIn10000MS after 10ms\r\n        ex1.startStream();    //Immediately outputs Object1ExpiresIn1ms,Object1ExpiresIn10000MS\r\n    }\r\n}\r\n\r\n```","title":"Stream from a delayQueue in Java","body":"<p>Say I have a delayQueue as follows:</p>\n<pre><code>DelayQueue&lt;DelayedObject&gt; queue= new DelayQueue&lt;&gt;();\n</code></pre>\n<p>I would like to get the following behavior:</p>\n<pre><code>while (true) {\nDealyedObject next = queue.take();\nSystem.out.println(&quot;next message:&quot; + next);\n}\n</code></pre>\n<p>but with streams as follows:</p>\n<pre><code>queue.stream().forEach(e -&gt; System.out.println(e));\n</code></pre>\n<p>However, I notice that this doesn't respect the delay and it also appears to be peeking and not taking. Is this expected behavior? Is there a better way to accomplish what I need with streams?</p>\n<p>Here is a fully reproducible sample:</p>\n<pre><code>\n\nimport java.util.UUID;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.DelayQueue;\nimport java.util.concurrent.Delayed;\nimport java.util.concurrent.TimeUnit;\n\npublic class DelayQueueExample {\n    public class DelayObject implements Delayed {\n        private String data;\n        private long startTime;\n\n        public DelayObject(String data, long delayInMilliseconds) {\n            this.data = data;\n            this.startTime = System.currentTimeMillis() + delayInMilliseconds;\n        }\n\n        @Override\n        public long getDelay(TimeUnit unit) {\n            long diff = this.startTime - System.currentTimeMillis();\n            return unit.convert(diff, TimeUnit.MILLISECONDS);\n        }\n\n        @Override\n        public int compareTo(Delayed o) {\n            return Math.toIntExact(this.startTime - ((DelayObject) o).startTime);\n        }\n\n        public String toString(){\n            return this.data;\n        }\n    }\n\n    public void startLoop() throws InterruptedException {\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\n        delayQueue.add(object1);\n        delayQueue.add(object2);\n\n        while(!delayQueue.isEmpty()){\n            System.out.println(delayQueue.take());\n        }\n\n\n    }\n\n    public void startStream() throws InterruptedException {\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\n        delayQueue.add(object1);\n        delayQueue.add(object2);\n\n        delayQueue.forEach(o-&gt;System.out.println(o));\n\n\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        DelayQueueExample ex1 = new DelayQueueExample();\n        ex1.startLoop();      //Immediately outputs Object1ExpiresIn1ms and Object1ExpiresIn10000MS after 10ms\n        ex1.startStream();    //Immediately outputs Object1ExpiresIn1ms,Object1ExpiresIn10000MS\n    }\n}\n\n</code></pre>\n"},{"tags":["java","java-stream","filtering"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1643226830,"post_id":70869436,"comment_id":125286406,"body_markdown":"Do you need copies or do you need to edit the existing strictures? (If the latter, then that problem is not too well suited to streams)","body":"Do you need copies or do you need to edit the existing strictures? (If the latter, then that problem is not too well suited to streams)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1643227923,"post_id":70869436,"comment_id":125286792,"body_markdown":"@paulsm4 OP is not trying to remove element of a list.","body":"@paulsm4 OP is not trying to remove element of a list."}],"answers":[{"tags":[],"owner":{"account_id":6763345,"reputation":36,"user_id":5209179,"display_name":"Umut Can Ala&#231;am"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643227385,"creation_date":1643227385,"answer_id":70869562,"question_id":70869436,"body_markdown":"You can simply use this:\r\n\r\n     list.forEach(stringObjectMap -&gt; {\r\n         stringObjectMap.remove(&quot;Age&quot;);\r\n     });\r\n\r\nSince the map object is a reference, you can simply delete a key from the map without copying it into another map object.","title":"Java8 remove keys from List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>You can simply use this:</p>\n<pre><code> list.forEach(stringObjectMap -&gt; {\n     stringObjectMap.remove(&quot;Age&quot;);\n });\n</code></pre>\n<p>Since the map object is a reference, you can simply delete a key from the map without copying it into another map object.</p>\n"},{"tags":[],"owner":{"account_id":1660529,"reputation":13,"user_id":1528912,"display_name":"Heisenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643236488,"creation_date":1643228206,"answer_id":70869720,"question_id":70869436,"body_markdown":"Try something like:\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; result = list.stream()\r\n        .filter(x -&gt; x.entrySet().removeIf(y -&gt; y.getKey().equals(&quot;Age&quot;)))\r\n        .collect(Collectors.toList());","title":"Java8 remove keys from List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>Try something like:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; result = list.stream()\n    .filter(x -&gt; x.entrySet().removeIf(y -&gt; y.getKey().equals(&quot;Age&quot;)))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":1660529,"reputation":13,"user_id":1528912,"display_name":"Heisenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1643228366,"accepted_answer_id":70869562,"answer_count":2,"score":1,"last_activity_date":1643236488,"creation_date":1643226747,"question_id":70869436,"body_markdown":"I have a List&lt;Map&lt;String, Object&gt;&gt; and I need to remove the nested key = &quot;age&quot; if exists and return the List of map. How can I do this elegantly with streams()?\r\n\r\n    Map&lt;String, Object&gt; map1 = new HashMap&lt;String, Object&gt;();\r\n    map1.put(&quot;Name&quot;, &quot;Michael&quot;);\r\n    map1.put(&quot;Age&quot;, 43);\r\n    map1.put(&quot;City&quot;, &quot;Paris&quot;);\r\n\r\n    Map&lt;String, Object&gt; map2 = new HashMap&lt;String, Object&gt;();\r\n    map2.put(&quot;Name&quot;, &quot;Tanja&quot;);\r\n    map2.put(&quot;Age&quot;, 23);\r\n    map2.put(&quot;City&quot;, &quot;Berlin&quot;);\r\n\r\n    Map&lt;String, Object&gt; map3 = new HashMap&lt;String, Object&gt;();\r\n    map3.put(&quot;Name&quot;, &quot;Diego&quot;);\r\n    map3.put(&quot;Age&quot;, 35);\r\n    map3.put(&quot;City&quot;, &quot;Madrid&quot;);\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(map1);\r\n    list.add(map2);\r\n    list.add(map3);\r\n\r\n\r\n\r\nExample: \r\n\r\n    [\r\n         {Name=&quot;Michael&quot;, age=43, city=&quot;Paris&quot;},\r\n         {Name=&quot;Tanja&quot;, age=23, city=&quot;Berlin&quot;},\r\n         {Name=&quot;Diego&quot;, age=35, city=&quot;Madrid&quot;}\r\n    ]\r\n\r\nto:\r\n\r\n    [\r\n         {Name=&quot;Michael&quot;, city=&quot;Paris&quot;},\r\n         {Name=&quot;Tanja&quot;, city=&quot;Berlin&quot;},\r\n         {Name=&quot;Diego&quot;, city=&quot;Madrid&quot;}\r\n    ]\r\n\r\nThanks for helping.","title":"Java8 remove keys from List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>I have a List&lt;Map&lt;String, Object&gt;&gt; and I need to remove the nested key = &quot;age&quot; if exists and return the List of map. How can I do this elegantly with streams()?</p>\n<pre><code>Map&lt;String, Object&gt; map1 = new HashMap&lt;String, Object&gt;();\nmap1.put(&quot;Name&quot;, &quot;Michael&quot;);\nmap1.put(&quot;Age&quot;, 43);\nmap1.put(&quot;City&quot;, &quot;Paris&quot;);\n\nMap&lt;String, Object&gt; map2 = new HashMap&lt;String, Object&gt;();\nmap2.put(&quot;Name&quot;, &quot;Tanja&quot;);\nmap2.put(&quot;Age&quot;, 23);\nmap2.put(&quot;City&quot;, &quot;Berlin&quot;);\n\nMap&lt;String, Object&gt; map3 = new HashMap&lt;String, Object&gt;();\nmap3.put(&quot;Name&quot;, &quot;Diego&quot;);\nmap3.put(&quot;Age&quot;, 35);\nmap3.put(&quot;City&quot;, &quot;Madrid&quot;);\n\nList&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\nlist.add(map1);\nlist.add(map2);\nlist.add(map3);\n</code></pre>\n<p>Example:</p>\n<pre><code>[\n     {Name=&quot;Michael&quot;, age=43, city=&quot;Paris&quot;},\n     {Name=&quot;Tanja&quot;, age=23, city=&quot;Berlin&quot;},\n     {Name=&quot;Diego&quot;, age=35, city=&quot;Madrid&quot;}\n]\n</code></pre>\n<p>to:</p>\n<pre><code>[\n     {Name=&quot;Michael&quot;, city=&quot;Paris&quot;},\n     {Name=&quot;Tanja&quot;, city=&quot;Berlin&quot;},\n     {Name=&quot;Diego&quot;, city=&quot;Madrid&quot;}\n]\n</code></pre>\n<p>Thanks for helping.</p>\n"},{"tags":["javascript","java","keycloak","openid-connect"],"comments":[{"owner":{"account_id":137186,"reputation":29517,"user_id":341201,"accept_rate":50,"display_name":"feeela"},"score":0,"creation_date":1612920191,"post_id":66127605,"comment_id":116915590,"body_markdown":"Is that user-data you want to display stored in your own database? Or is it already available via Keycloak? If yes, please refer to the Keycloak documentation also.","body":"Is that user-data you want to display stored in your own database? Or is it already available via Keycloak? If yes, please refer to the Keycloak documentation also."},{"owner":{"account_id":20674154,"reputation":75,"user_id":15179181,"display_name":"Frank333"},"score":0,"creation_date":1612970957,"post_id":66127605,"comment_id":116932944,"body_markdown":"It&#39;s stored in the keycloak database.","body":"It&#39;s stored in the keycloak database."}],"answers":[{"tags":[],"owner":{"account_id":5105937,"reputation":101,"user_id":4094011,"display_name":"JamesR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1612945406,"creation_date":1612909312,"answer_id":66128103,"question_id":66127605,"body_markdown":"Looking at the requests you have made you have not completed the OIDC code flow.\r\n\r\nI&#39;m assuming that your java application is acting as the OIDC client, in which case it will need to exchange the authorization code for access, id and refresh tokens by calling the token endpoint of your realm.\r\n\r\ne.g.\r\n\r\n&gt; POST /auth/realms/mmyrealm/protocol/openid-connect/token HTTP/1.1\r\n&gt; Host: server.example.com\r\n&gt; Content-Type: application/x-www-form-urlencoded\r\n&gt; Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\r\n&gt;\r\n&gt; grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA\r\n&gt; &amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb\r\n\r\n\r\n[A description of the Token Request][1]\r\n\r\nThe simplest way would be to use a Java OIDC Client or OAuth2 client to do the authorisation and cod exchange for you and provide OAuth2/OIDC token primitives for you to code against.\r\n\r\nHave a look at:\r\n[Scribe Java OAuth2 client][2]\r\n[Nimbus OIDC SDK][3]\r\n\r\nThe details of the user will be in claims within the tokens returned by the token endpoint, if you are including the user claims in your tokens. \r\n\r\n\r\n  [1]: https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow#token-request\r\n  [2]: https://github.com/scribejava/scribejava\r\n  [3]: https://connect2id.com/products/nimbus-oauth-openid-connect-sdk\r\n\r\nEdit:\r\nThe OIDC Authorization code flow is one of the OIDC authorisation flows. It provides the benefit of not exposing any of the actual tokens to the user agent - e.g. web browser - and allows the oidc client to authenticate with the token server before exchanging the code for the OIDC tokens\r\n\r\nAt a high level the following occurs:\r\n1. OIDC Client makes an authentication request\r\n2. Client authenticates - this could be an end user\r\n3. Authorisation server returns an Authorisation code - on a redirect - to the client\r\n\r\n4. OIDC Client retrieves Access, ID and Refresh Tokens from the authorisation server&#39;s token endpoint\r\n\r\n5. If needed User info is retrieved from the UserInfo endpoint or thge access token is inspected using the introspect endpoint\r\n\r\nDetails of the actual user will be in claims with in the ID token, which is a plain JWT.\r\nKeycloak allows you to embed the claims in the Access token too.\r\n\r\nAfter authentication with Keycloak you will be redirected back to your web applications redirect URI.\r\n\r\nAs *per* your breakdown \r\n\r\n    http://localhost:8080/mypage.html?\r\n    session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\r\n    code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\r\n\r\nYour requst handler will need to extract the code from that request and then make another call to keycloak to exchange the authorisation code for Access, ID and refresh tokens\r\n\r\ne.g.\r\n\r\n    POST /auth/realms/myrealm/protocol/openid-connect/token HTTP/1.1\r\n    Host: localhost:8180\r\n    ContentType: application/x-www-form-urlencoded\r\n    Authorization: &lt;whatever method your oidc client is usingL\r\n    grant_type=authorization_code&amp;\r\n    code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b&amp;\r\n    client_id=myclientid&amp;\r\n    redirect_uri=....\r\n\r\nIdeally you have a route handler for accepting the tokens - maybe a tokens enpoint that also accepts query parameters that indicate the original uri requested so that you can redirect back to that if this is a user facing web application.\r\nIf it is completely programatic then you can achive all of it using the nimbus sdk.\r\n\r\n\r\n\r\nThe has a good summary of the various parts of Authorization Code flow\r\nhttps://rograce.github.io/openid-connect-documentation/explore_auth_code_flow","title":"Simplest way to get current user logged in Keycloak","body":"<p>Looking at the requests you have made you have not completed the OIDC code flow.</p>\n<p>I'm assuming that your java application is acting as the OIDC client, in which case it will need to exchange the authorization code for access, id and refresh tokens by calling the token endpoint of your realm.</p>\n<p>e.g.</p>\n<blockquote>\n<p>POST /auth/realms/mmyrealm/protocol/openid-connect/token HTTP/1.1\nHost: server.example.com\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW</p>\n<p>grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA\n&amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb</p>\n</blockquote>\n<p><a href=\"https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow#token-request\" rel=\"nofollow noreferrer\">A description of the Token Request</a></p>\n<p>The simplest way would be to use a Java OIDC Client or OAuth2 client to do the authorisation and cod exchange for you and provide OAuth2/OIDC token primitives for you to code against.</p>\n<p>Have a look at:\n<a href=\"https://github.com/scribejava/scribejava\" rel=\"nofollow noreferrer\">Scribe Java OAuth2 client</a>\n<a href=\"https://connect2id.com/products/nimbus-oauth-openid-connect-sdk\" rel=\"nofollow noreferrer\">Nimbus OIDC SDK</a></p>\n<p>The details of the user will be in claims within the tokens returned by the token endpoint, if you are including the user claims in your tokens.</p>\n<p>Edit:\nThe OIDC Authorization code flow is one of the OIDC authorisation flows. It provides the benefit of not exposing any of the actual tokens to the user agent - e.g. web browser - and allows the oidc client to authenticate with the token server before exchanging the code for the OIDC tokens</p>\n<p>At a high level the following occurs:</p>\n<ol>\n<li><p>OIDC Client makes an authentication request</p>\n</li>\n<li><p>Client authenticates - this could be an end user</p>\n</li>\n<li><p>Authorisation server returns an Authorisation code - on a redirect - to the client</p>\n</li>\n<li><p>OIDC Client retrieves Access, ID and Refresh Tokens from the authorisation server's token endpoint</p>\n</li>\n<li><p>If needed User info is retrieved from the UserInfo endpoint or thge access token is inspected using the introspect endpoint</p>\n</li>\n</ol>\n<p>Details of the actual user will be in claims with in the ID token, which is a plain JWT.\nKeycloak allows you to embed the claims in the Access token too.</p>\n<p>After authentication with Keycloak you will be redirected back to your web applications redirect URI.</p>\n<p>As <em>per</em> your breakdown</p>\n<pre><code>http://localhost:8080/mypage.html?\nsession_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\ncode=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\n</code></pre>\n<p>Your requst handler will need to extract the code from that request and then make another call to keycloak to exchange the authorisation code for Access, ID and refresh tokens</p>\n<p>e.g.</p>\n<pre><code>POST /auth/realms/myrealm/protocol/openid-connect/token HTTP/1.1\nHost: localhost:8180\nContentType: application/x-www-form-urlencoded\nAuthorization: &lt;whatever method your oidc client is usingL\ngrant_type=authorization_code&amp;\ncode=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b&amp;\nclient_id=myclientid&amp;\nredirect_uri=....\n</code></pre>\n<p>Ideally you have a route handler for accepting the tokens - maybe a tokens enpoint that also accepts query parameters that indicate the original uri requested so that you can redirect back to that if this is a user facing web application.\nIf it is completely programatic then you can achive all of it using the nimbus sdk.</p>\n<p>The has a good summary of the various parts of Authorization Code flow\n<a href=\"https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow\" rel=\"nofollow noreferrer\">https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow</a></p>\n"}],"owner":{"account_id":20674154,"reputation":75,"user_id":15179181,"display_name":"Frank333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3031,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66128103,"answer_count":1,"score":3,"last_activity_date":1643236069,"creation_date":1612906931,"question_id":66127605,"body_markdown":"I have implemented a really simple keycloak integration on my maven java web app. \r\nAssuming I am calling a url directly for the keycloak log in page .\r\n\r\n    http://localhost:8180/auth/realms/myrealm/protocol/openid-connect/auth?client_id=myclientid&amp;response_type=code&amp;scope=openid&amp;redirect_uri=http//localhost:8080/mypage.html\r\n\r\nAfter entering my username &amp; password on success i am being redirected on mypage.html , the url is like this\r\n\r\n    http://localhost:8080/mypage.html?session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\r\n\r\nIf I break this down its \r\n\r\n    http://localhost:8080/mypage.html?\r\n    session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\r\n    code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\r\n\r\nWhat would be the simplest - easiest way to get the user currently logged so i can display it&#39;s name ?\r\n\r\n\r\n","title":"Simplest way to get current user logged in Keycloak","body":"<p>I have implemented a really simple keycloak integration on my maven java web app.\nAssuming I am calling a url directly for the keycloak log in page .</p>\n<pre><code>http://localhost:8180/auth/realms/myrealm/protocol/openid-connect/auth?client_id=myclientid&amp;response_type=code&amp;scope=openid&amp;redirect_uri=http//localhost:8080/mypage.html\n</code></pre>\n<p>After entering my username &amp; password on success i am being redirected on mypage.html , the url is like this</p>\n<pre><code>http://localhost:8080/mypage.html?session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\n</code></pre>\n<p>If I break this down its</p>\n<pre><code>http://localhost:8080/mypage.html?\nsession_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\ncode=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\n</code></pre>\n<p>What would be the simplest - easiest way to get the user currently logged so i can display it's name ?</p>\n"},{"tags":["java","apache","http","httpclient"],"answers":[{"tags":[],"owner":{"account_id":7362792,"reputation":417,"user_id":5605525,"display_name":"Mr. Skip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557912034,"creation_date":1557912034,"answer_id":56145778,"question_id":55385180,"body_markdown":"You would need to override the `SSLConnectionSocketFactory` for your `ConnectionManager`, for example, on the example below will be created default `SSLConnectionSocketFactory` if you would use `useSystemProperties`\r\n\r\n        DefaultHostnameVerifier hostnameVerifier = new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault());\r\n        SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\r\n                (SSLSocketFactory) SSLSocketFactory.getDefault(), null, null, hostnameVerifier\r\n        );\r\n\r\n        final PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager(\r\n                RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                        .register(&quot;http&quot;, PlainConnectionSocketFactory.getSocketFactory())\r\n                        .register(&quot;https&quot;, sslConnectionSocketFactory)\r\n                        .build()\r\n        );\r\n\r\n        connManager.setDefaultMaxPerRoute(20);\r\n        connManager.setMaxTotal(20);\r\n\r\n\r\n        final HttpClientBuilder builder = HttpClientBuilder\r\n                .create()\r\n                .setConnectionManager(connManager);","title":"create HttpClient using useSystemProperties()","body":"<p>You would need to override the <code>SSLConnectionSocketFactory</code> for your <code>ConnectionManager</code>, for example, on the example below will be created default <code>SSLConnectionSocketFactory</code> if you would use <code>useSystemProperties</code></p>\n\n<pre><code>    DefaultHostnameVerifier hostnameVerifier = new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault());\n    SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\n            (SSLSocketFactory) SSLSocketFactory.getDefault(), null, null, hostnameVerifier\n    );\n\n    final PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager(\n            RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n                    .register(\"http\", PlainConnectionSocketFactory.getSocketFactory())\n                    .register(\"https\", sslConnectionSocketFactory)\n                    .build()\n    );\n\n    connManager.setDefaultMaxPerRoute(20);\n    connManager.setMaxTotal(20);\n\n\n    final HttpClientBuilder builder = HttpClientBuilder\n            .create()\n            .setConnectionManager(connManager);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24064638,"reputation":11,"user_id":18041401,"display_name":"Ruks Shetty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643235861,"creation_date":1643226636,"answer_id":70869409,"question_id":55385180,"body_markdown":"You can also set `useSystemProperties()` as below to your `HttpClient`:\r\n\r\n    HttpClient httpClient = HttpClientBuilder.create()\r\n                .setConnectionManager(connectionManager)\r\n                .useSystemProperties()\r\n                .setDefaultRequestConfig(requestConfig).build();","title":"create HttpClient using useSystemProperties()","body":"<p>You can also set <code>useSystemProperties()</code> as below to your <code>HttpClient</code>:</p>\n<pre><code>HttpClient httpClient = HttpClientBuilder.create()\n            .setConnectionManager(connectionManager)\n            .useSystemProperties()\n            .setDefaultRequestConfig(requestConfig).build();\n</code></pre>\n"}],"owner":{"account_id":15193830,"reputation":25,"user_id":10963805,"display_name":"Sree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643235861,"creation_date":1553715281,"question_id":55385180,"body_markdown":"I am trying to create one http client using useSystemProperties() as i need to default the ssl properties to that of WAS [like to get the WAS ciphers in runtime ]. And I have to set some max connections and connection manager also to the httpclient. This is a very high traffic rest call.\r\n\r\nI have tried 3 ways,\r\n\r\n     -- This did not set the WAS ssl properties and thus the connection got failed.\r\n  \thttpclient = HttpClients.custom().useSystemProperties()\r\n                            .setConnectionManager(&quot;some value&quot;)\r\n                            .setMaxConnPerRoute(&quot;some value&quot;)\r\n                            .setMaxConnTotal(&quot;some value&quot;)\r\n                            .setUserAgent(&quot;Custom Browser&quot;)\r\n                            .disableCookieManagement().build();\r\n\r\n     -- This did not set the WAS ssl properties and thus the connection failed.\r\n    httpclient1 = HttpClientBuilder.create().useSystemProperties()\r\n                                   .setConnectionManager(connManager)\r\n                                   .setMaxConnPerRoute(maxConnPerRoute)\r\n                                   .setMaxConnTotal(maxConnTotal)\r\n                                   .setUserAgent(&quot;Custom Browser&quot;)\r\n                                   .disableCookieManagement().build();\r\n    \r\n    -- This one defaulted to WAS ssl configurations and connection was fine but other params are missing here.\r\n    httpclient2 = HttpClientBuilder.create().useSystemProperties().build();\r\n\r\nCan I really achieve both these options?\r\n\r\n\r\n\r\n","title":"create HttpClient using useSystemProperties()","body":"<p>I am trying to create one http client using useSystemProperties() as i need to default the ssl properties to that of WAS [like to get the WAS ciphers in runtime ]. And I have to set some max connections and connection manager also to the httpclient. This is a very high traffic rest call.</p>\n<p>I have tried 3 ways,</p>\n<pre><code> -- This did not set the WAS ssl properties and thus the connection got failed.\nhttpclient = HttpClients.custom().useSystemProperties()\n                        .setConnectionManager(&quot;some value&quot;)\n                        .setMaxConnPerRoute(&quot;some value&quot;)\n                        .setMaxConnTotal(&quot;some value&quot;)\n                        .setUserAgent(&quot;Custom Browser&quot;)\n                        .disableCookieManagement().build();\n\n -- This did not set the WAS ssl properties and thus the connection failed.\nhttpclient1 = HttpClientBuilder.create().useSystemProperties()\n                               .setConnectionManager(connManager)\n                               .setMaxConnPerRoute(maxConnPerRoute)\n                               .setMaxConnTotal(maxConnTotal)\n                               .setUserAgent(&quot;Custom Browser&quot;)\n                               .disableCookieManagement().build();\n\n-- This one defaulted to WAS ssl configurations and connection was fine but other params are missing here.\nhttpclient2 = HttpClientBuilder.create().useSystemProperties().build();\n</code></pre>\n<p>Can I really achieve both these options?</p>\n"},{"tags":["java","eclipse","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":1535286,"reputation":553,"user_id":1431510,"display_name":"Yaza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643235828,"creation_date":1643235828,"answer_id":70871021,"question_id":70815571,"body_markdown":"There is no such tool AFAIK. The next thing is to place the program in Debug mode add a refresh button to redraw the widget and hope for the best (the JVM might or might not be able to re-initialize your class).\r\n\r\nAlternatively, you can create a class that monitors the filesystem for recompiles and then restarts your application. \r\n\r\nAll bleh...\r\n\r\nThe best tip I can give you is to redesign your application in a way that Windowbuilder can understand. \r\n\r\nI assume you have refactored your UI into multiple modular parts. If your UI consists of e.g. a Customer Detail panel and a Customer List panel, you might want to develop each of these separately. This is something WB can handle fine.\r\n\r\nCreate your modular UI classes in such a way that WB can understand them by subclassing a Widget (preferably Composite). The class below can be added to the palette of Windowbuilder and dragged into your &#39;composite&#39; application.\r\n\r\n        public class MyCustomerDetail extends Composite {\r\n    \r\n    \tpublic MyCustomerDetail(Composite pParent, int pStyle) {\r\n    \t\tsuper(pParent, pStyle);\r\n    \r\n    \t\tGridLayout gridLayout = new GridLayout(2, false);\r\n    \t\tsetLayout(gridLayout);\r\n    \r\n    \t\tLabel label = new Label(this, SWT.NONE);\r\n    \t\tlabel.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\r\n    \t\tlabel.setText(&quot;Customer Name&quot;);\r\n    \r\n    \t\tText name = new Text(this, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\r\n    \t\tname.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n    \t}\r\n    }\r\n\r\n\r\nDon&#39;t make a POJO class with a GUI method. The following class cannot be handled by WB and is of bad taste altogether.\r\n\r\n    public class MyCustomerDetail {\r\n    \r\n    \tpublic void createUI(Composite pParent) {\r\n    \r\n    \t\tLabel label = new Label(pParent, SWT.NONE);\r\n    \t\tlabel.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\r\n    \t\tlabel.setText(&quot;Customer Name&quot;);\r\n    \r\n    \t\tText name = new Text(pParent, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\r\n    \t\tname.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Is there any tool or plugin availabe in eclipse to recompile a Java GUI application","body":"<p>There is no such tool AFAIK. The next thing is to place the program in Debug mode add a refresh button to redraw the widget and hope for the best (the JVM might or might not be able to re-initialize your class).</p>\n<p>Alternatively, you can create a class that monitors the filesystem for recompiles and then restarts your application.</p>\n<p>All bleh...</p>\n<p>The best tip I can give you is to redesign your application in a way that Windowbuilder can understand.</p>\n<p>I assume you have refactored your UI into multiple modular parts. If your UI consists of e.g. a Customer Detail panel and a Customer List panel, you might want to develop each of these separately. This is something WB can handle fine.</p>\n<p>Create your modular UI classes in such a way that WB can understand them by subclassing a Widget (preferably Composite). The class below can be added to the palette of Windowbuilder and dragged into your 'composite' application.</p>\n<pre><code>    public class MyCustomerDetail extends Composite {\n\n    public MyCustomerDetail(Composite pParent, int pStyle) {\n        super(pParent, pStyle);\n\n        GridLayout gridLayout = new GridLayout(2, false);\n        setLayout(gridLayout);\n\n        Label label = new Label(this, SWT.NONE);\n        label.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\n        label.setText(&quot;Customer Name&quot;);\n\n        Text name = new Text(this, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\n        name.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n    }\n}\n</code></pre>\n<p>Don't make a POJO class with a GUI method. The following class cannot be handled by WB and is of bad taste altogether.</p>\n<pre><code>public class MyCustomerDetail {\n\n    public void createUI(Composite pParent) {\n\n        Label label = new Label(pParent, SWT.NONE);\n        label.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\n        label.setText(&quot;Customer Name&quot;);\n\n        Text name = new Text(pParent, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\n        name.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23615568,"reputation":73,"user_id":17649724,"display_name":"Rob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70871021,"answer_count":1,"score":1,"last_activity_date":1643235828,"creation_date":1642874003,"question_id":70815571,"body_markdown":"I&#39;m working in a GUI Java Application in Eclipse IDE. I&#39;m using Window Builder to speed the UI design. \r\nAs a part of refactoring, I&#39;ve changed the sequential and repetitive code to encapsulated versions in other packages, this breaks the &quot;Design&quot; view, but does not affect the application itself.\r\nThe problem is that any change made to the ui needs to be seen through the compiled app, (after compile and run the app I mean), and I need to manually relaunch app any time I make a change.\r\n\r\nSo, my question is:\r\n\r\nIs there any plugin or tool that detects changes and automatically relaunches the application, as nodemon does in Nodejs applications.\r\n\r\nThanks in advance.","title":"Is there any tool or plugin availabe in eclipse to recompile a Java GUI application","body":"<p>I'm working in a GUI Java Application in Eclipse IDE. I'm using Window Builder to speed the UI design.\nAs a part of refactoring, I've changed the sequential and repetitive code to encapsulated versions in other packages, this breaks the &quot;Design&quot; view, but does not affect the application itself.\nThe problem is that any change made to the ui needs to be seen through the compiled app, (after compile and run the app I mean), and I need to manually relaunch app any time I make a change.</p>\n<p>So, my question is:</p>\n<p>Is there any plugin or tool that detects changes and automatically relaunches the application, as nodemon does in Nodejs applications.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643162927,"creation_date":1643162927,"answer_id":70857953,"question_id":70857018,"body_markdown":"`th:text` overwrites the contents of everything inside it.  Something like this is will work for you:\r\n\r\n    &lt;h4&gt;\r\n      &lt;span th:text=&quot;${dish.name}&quot;&gt;chicken fried salad&lt;/span&gt;\r\n      &lt;span th:text=&quot;${dish.price}&quot;&gt;45&lt;/span&gt;\r\n    &lt;/h4&gt;","title":"Thymeleaf, nested th:text does not show","body":"<p><code>th:text</code> overwrites the contents of everything inside it.  Something like this is will work for you:</p>\n<pre><code>&lt;h4&gt;\n  &lt;span th:text=&quot;${dish.name}&quot;&gt;chicken fried salad&lt;/span&gt;\n  &lt;span th:text=&quot;${dish.price}&quot;&gt;45&lt;/span&gt;\n&lt;/h4&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15917181,"reputation":35,"user_id":11485409,"display_name":"Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643235785,"creation_date":1643229701,"answer_id":70869997,"question_id":70857018,"body_markdown":"First as the previous user told you, `th:text=${dish.name}` will overwrite whatever text you put inside the tag and it will place the value of `dish.name` instead.\r\n\r\nSecond - instead of `dish.getPrice()` you need to call just `dish.price` in order to view value of the `.price` attribute.","title":"Thymeleaf, nested th:text does not show","body":"<p>First as the previous user told you, <code>th:text=${dish.name}</code> will overwrite whatever text you put inside the tag and it will place the value of <code>dish.name</code> instead.</p>\n<p>Second - instead of <code>dish.getPrice()</code> you need to call just <code>dish.price</code> in order to view value of the <code>.price</code> attribute.</p>\n"}],"owner":{"display_name":"user16722881"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70857953,"answer_count":2,"score":1,"last_activity_date":1643235785,"creation_date":1643153538,"question_id":70857018,"body_markdown":"Nested span with price does not show, only the one with h4. How to solve this out?\r\n\r\n    &lt;h4 th:text=&quot;${dish.name}&quot;&gt;chicken fried salad &lt;span th:text=&quot;${dish.getPrice()}&quot;&gt;45&lt;/span&gt;&lt;/h4&gt;\r\n\r\n","title":"Thymeleaf, nested th:text does not show","body":"<p>Nested span with price does not show, only the one with h4. How to solve this out?</p>\n<pre><code>&lt;h4 th:text=&quot;${dish.name}&quot;&gt;chicken fried salad &lt;span th:text=&quot;${dish.getPrice()}&quot;&gt;45&lt;/span&gt;&lt;/h4&gt;\n</code></pre>\n"},{"tags":["java","hyperledger-fabric","blockchain","hyperledger"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1526279479,"post_id":50323127,"comment_id":87664178,"body_markdown":"Did you check the source code? [Channel.java](https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/Channel.java)","body":"Did you check the source code? <a href=\"https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/Channel.java\" rel=\"nofollow noreferrer\">Channel.java</a>"},{"owner":{"account_id":12640497,"reputation":709,"user_id":9188188,"display_name":"Skadoosh"},"score":0,"creation_date":1526285204,"post_id":50323127,"comment_id":87666955,"body_markdown":"i did . in joinPeer() it says peer is &#39;added&#39; with roles . I am not able to get the clear picture though .","body":"i did . in joinPeer() it says peer is &#39;added&#39; with roles . I am not able to get the clear picture though ."}],"answers":[{"tags":[],"owner":{"account_id":2336152,"reputation":1185,"user_id":2048454,"display_name":"Nicolae Natea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643235691,"creation_date":1643235691,"answer_id":70871005,"question_id":50323127,"body_markdown":"When you join peers you actually update the &#39;channel&#39;.\r\nBut, when you add peers, you are basically just updating a local copy of the &#39;channel object&#39;, and assume that the peers had already &#39;joined&#39;.\r\n\r\nIf you would look at the &#39;joinPeer&#39; method, you would see that it calls &#39;addPeer&#39;, and it gets the genesis block from a random orderer.\r\nOn the other hand addPeer updates some internal maps.\r\n\r\nWith enough mental gymnastics it starts to make sense.\r\n\r\nSource code:\r\nhttps://github.com/hyperledger/fabric-sdk-java/blob/f11f197852d4596d2ab6e4c88eb4fe861d3765c4/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L837","title":"Difference between channel.addPeer() and channel.joinPeer()","body":"<p>When you join peers you actually update the 'channel'.\nBut, when you add peers, you are basically just updating a local copy of the 'channel object', and assume that the peers had already 'joined'.</p>\n<p>If you would look at the 'joinPeer' method, you would see that it calls 'addPeer', and it gets the genesis block from a random orderer.\nOn the other hand addPeer updates some internal maps.</p>\n<p>With enough mental gymnastics it starts to make sense.</p>\n<p>Source code:\n<a href=\"https://github.com/hyperledger/fabric-sdk-java/blob/f11f197852d4596d2ab6e4c88eb4fe861d3765c4/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L837\" rel=\"nofollow noreferrer\">https://github.com/hyperledger/fabric-sdk-java/blob/f11f197852d4596d2ab6e4c88eb4fe861d3765c4/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L837</a></p>\n"}],"owner":{"account_id":12640497,"reputation":709,"user_id":9188188,"display_name":"Skadoosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70871005,"answer_count":1,"score":1,"last_activity_date":1643235691,"creation_date":1526272272,"question_id":50323127,"body_markdown":"I am studying **Hyperledger Fabric** and running samples from the Hyperledger fabric samples . \r\nI have run th **BYFN** network http://hyperledger-fabric.readthedocs.io/en/release-1.0/build_network.html\r\n\r\nAnd i am able to access the peers , invoke and query chaincode using the Fabric Java SDK .\r\n\r\n I add the peers to the channel using channel.addPeer() function and initilaize.\r\n\r\nThere is also a method joinPeer() in channel class . \r\n\r\nI want to know the difference between **channel.addPeer()** and **channel.joinPeer()**\r\n\r\nThanks","title":"Difference between channel.addPeer() and channel.joinPeer()","body":"<p>I am studying <strong>Hyperledger Fabric</strong> and running samples from the Hyperledger fabric samples . \nI have run th <strong>BYFN</strong> network <a href=\"http://hyperledger-fabric.readthedocs.io/en/release-1.0/build_network.html\" rel=\"nofollow noreferrer\">http://hyperledger-fabric.readthedocs.io/en/release-1.0/build_network.html</a></p>\n\n<p>And i am able to access the peers , invoke and query chaincode using the Fabric Java SDK .</p>\n\n<p>I add the peers to the channel using channel.addPeer() function and initilaize.</p>\n\n<p>There is also a method joinPeer() in channel class . </p>\n\n<p>I want to know the difference between <strong>channel.addPeer()</strong> and <strong>channel.joinPeer()</strong></p>\n\n<p>Thanks</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643232894,"post_id":70870238,"comment_id":125288538,"body_markdown":"Which version of Jackson is used?","body":"Which version of Jackson is used?"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":1,"creation_date":1643233496,"post_id":70870238,"comment_id":125288721,"body_markdown":"@SergeyVyacheslavovichBrunov I use ```2.10.2``` version.","body":"@SergeyVyacheslavovichBrunov I use <code>2.10.2</code> version."},{"owner":{"account_id":12502107,"reputation":81,"user_id":9100243,"display_name":"Augusto Souza"},"score":0,"creation_date":1685372538,"post_id":70870238,"comment_id":134647726,"body_markdown":"try to add this to your AbstractData class\n\n@JsonSubTypes.Type(value = DefaultData.class, name = &quot;unknown&quot;)","body":"try to add this to your AbstractData class  @JsonSubTypes.Type(value = DefaultData.class, name = &quot;unknown&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643235279,"creation_date":1643234512,"answer_id":70870826,"question_id":70870238,"body_markdown":"# Summary\r\nRight now it is not clear what is the **exact** root cause of the problem, because your example works for me with several corrections.\r\n\r\nStill, please, consider the corrections as a draft.\r\n\r\n# Corrections\r\n## Data class for root object: Introduced\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.Arrays;\r\nimport java.util.StringJoiner;\r\n\r\npublic class RootData {\r\n    public final AbstractData[] data;\r\n\r\n    @JsonCreator\r\n    public RootData(@JsonProperty(&quot;data&quot;) final AbstractData[] data) {\r\n        this.data = data;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new StringJoiner(&quot;, &quot;, RootData.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n            .add(&quot;data=&quot; + Arrays.toString(data))\r\n            .toString();\r\n    }\r\n}\r\n```\r\n\r\n## `AbstractData` data class: Updated to deserialize `type` property\r\nPlease, see [the Javadoc](https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.10.1/com/fasterxml/jackson/annotation/JsonTypeInfo.html):\r\n\r\n&gt; Note on visibility of type identifier: by default, deserialization (use during reading of JSON) of type identifier is completely handled by Jackson, and is **not passed to** deserializers. However, if so desired, it is possible to define property `visible = true` in which case property will be passed as-is to deserializers (and set via setter or field) on deserialization.\r\n\r\nUpdated annotation by adding `visible = true`:\r\n\r\n```\r\n@JsonTypeInfo(\r\n    use = JsonTypeInfo.Id.NAME,\r\n    property = &quot;type&quot;,\r\n    visible = true,\r\n    defaultImpl = DefaultData.class\r\n)\r\n```\r\n\r\nAdditionally, please, see the related question: [java - Jackson - @JsonTypeInfo property is being mapped as null?](https://stackoverflow.com/questions/33611199/jackson-jsontypeinfo-property-is-being-mapped-as-null).\r\n\r\n## Data classes: Implemented `toString()` method\r\n(Omitted.)\r\n\r\n## Main: Updated to use root data class\r\nPlease, note that I have corrected the JSON document: added the missing comma after `&quot;type&quot;: &quot;type1&quot;`.\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class Main {\r\n    public static void main(String... args) throws JsonProcessingException {\r\n        final String jsonDocumentString =\r\n            &quot;&quot;&quot;\r\n            {\r\n              &quot;data&quot;: [{\r\n                &quot;id&quot;: &quot;id1&quot;,\r\n                &quot;type&quot;: &quot;type1&quot;,\r\n                &quot;name&quot;: &quot;John&quot;\r\n              },\r\n              {\r\n                &quot;id&quot;: &quot;id2&quot;,\r\n                &quot;type&quot;: &quot;type2&quot;,\r\n                &quot;name&quot;: &quot;Rebecca&quot;\r\n              },\r\n              {\r\n                &quot;id&quot;: &quot;id3&quot;,\r\n                &quot;type&quot;: &quot;unknown&quot;,\r\n                &quot;name&quot;: &quot;Peter&quot;\r\n              }]\r\n            }\r\n            &quot;&quot;&quot;;\r\n\r\n        final ObjectMapper mapper = new ObjectMapper();\r\n        final RootData rootData = mapper.readValue(jsonDocumentString, RootData.class);\r\n        System.out.println(rootData);\r\n    }\r\n}\r\n```\r\n\r\nThe program completes successfully, i.e. without an exception being thrown.  \r\nThe program outputs:\r\n\r\n```\r\nRootData[data=[Type1Data[id=&#39;id1&#39;, type=&#39;type1&#39;, name=&#39;John&#39;], Type2Data[id=&#39;id2&#39;, type=&#39;type2&#39;, name=&#39;Rebecca&#39;], AbstractData[id=&#39;id3&#39;, type=&#39;unknown&#39;, name=&#39;Peter&#39;]]]\r\n```\r\n\r\nThe actual result (output) is the same as the expected result.","title":"How to deserialize JSON via JsonTypeInfo with unknown property","body":"<h1>Summary</h1>\n<p>Right now it is not clear what is the <strong>exact</strong> root cause of the problem, because your example works for me with several corrections.</p>\n<p>Still, please, consider the corrections as a draft.</p>\n<h1>Corrections</h1>\n<h2>Data class for root object: Introduced</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.Arrays;\nimport java.util.StringJoiner;\n\npublic class RootData {\n    public final AbstractData[] data;\n\n    @JsonCreator\n    public RootData(@JsonProperty(&quot;data&quot;) final AbstractData[] data) {\n        this.data = data;\n    }\n\n    @Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, RootData.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n            .add(&quot;data=&quot; + Arrays.toString(data))\n            .toString();\n    }\n}\n</code></pre>\n<h2><code>AbstractData</code> data class: Updated to deserialize <code>type</code> property</h2>\n<p>Please, see <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.10.1/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n<blockquote>\n<p>Note on visibility of type identifier: by default, deserialization (use during reading of JSON) of type identifier is completely handled by Jackson, and is <strong>not passed to</strong> deserializers. However, if so desired, it is possible to define property <code>visible = true</code> in which case property will be passed as-is to deserializers (and set via setter or field) on deserialization.</p>\n</blockquote>\n<p>Updated annotation by adding <code>visible = true</code>:</p>\n<pre><code>@JsonTypeInfo(\n    use = JsonTypeInfo.Id.NAME,\n    property = &quot;type&quot;,\n    visible = true,\n    defaultImpl = DefaultData.class\n)\n</code></pre>\n<p>Additionally, please, see the related question: <a href=\"https://stackoverflow.com/questions/33611199/jackson-jsontypeinfo-property-is-being-mapped-as-null\">java - Jackson - @JsonTypeInfo property is being mapped as null?</a>.</p>\n<h2>Data classes: Implemented <code>toString()</code> method</h2>\n<p>(Omitted.)</p>\n<h2>Main: Updated to use root data class</h2>\n<p>Please, note that I have corrected the JSON document: added the missing comma after <code>&quot;type&quot;: &quot;type1&quot;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Main {\n    public static void main(String... args) throws JsonProcessingException {\n        final String jsonDocumentString =\n            &quot;&quot;&quot;\n            {\n              &quot;data&quot;: [{\n                &quot;id&quot;: &quot;id1&quot;,\n                &quot;type&quot;: &quot;type1&quot;,\n                &quot;name&quot;: &quot;John&quot;\n              },\n              {\n                &quot;id&quot;: &quot;id2&quot;,\n                &quot;type&quot;: &quot;type2&quot;,\n                &quot;name&quot;: &quot;Rebecca&quot;\n              },\n              {\n                &quot;id&quot;: &quot;id3&quot;,\n                &quot;type&quot;: &quot;unknown&quot;,\n                &quot;name&quot;: &quot;Peter&quot;\n              }]\n            }\n            &quot;&quot;&quot;;\n\n        final ObjectMapper mapper = new ObjectMapper();\n        final RootData rootData = mapper.readValue(jsonDocumentString, RootData.class);\n        System.out.println(rootData);\n    }\n}\n</code></pre>\n<p>The program completes successfully, i.e. without an exception being thrown.<br />\nThe program outputs:</p>\n<pre><code>RootData[data=[Type1Data[id='id1', type='type1', name='John'], Type2Data[id='id2', type='type2', name='Rebecca'], AbstractData[id='id3', type='unknown', name='Peter']]]\n</code></pre>\n<p>The actual result (output) is the same as the expected result.</p>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70870826,"answer_count":1,"score":1,"last_activity_date":1643235279,"creation_date":1643231144,"question_id":70870238,"body_markdown":"I need to deserialize JSON looks like the following:\r\n```\r\n{\r\n  &quot;data&quot;: [{\r\n    &quot;id&quot;: &quot;id1&quot;,\r\n    &quot;type&quot;: &quot;type1&quot;\r\n    &quot;name&quot;: &quot;John&quot;,\r\n    ...\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;id2&quot;,\r\n    &quot;type&quot;: &quot;type2&quot;,\r\n    &quot;name&quot;: &quot;Rebecca&quot;,\r\n    ...\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;id3&quot;,\r\n    &quot;type&quot;: &quot;unknown&quot;,\r\n    &quot;name&quot;: &quot;Peter&quot;,\r\n    ...\r\n  }]\r\n}\r\n```\r\nFor deserializing JSON which I have written above I have created a couple of classes:\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;,\r\n        defaultImpl = DefaultData.class\r\n)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Type1Data.class, name = &quot;type1&quot;),\r\n        @JsonSubTypes.Type(value = Type2Data.class, name = &quot;type2&quot;)\r\n})\r\npublic class AbstractData {\r\n    public final String id;\r\n    public final String type;\r\n    public final String name;\r\n    public AbstractData(String id, String type, String name) {\r\n        this.id = id;\r\n        this.type = type;\r\n        this.name = name;\r\n    }\r\n}\r\n\r\npublic class Type1Data extends AbstractData {\r\n    @JsonCreator\r\n    public Type1Data(@JsonProperty(&quot;id&quot;) String id,\r\n                     @JsonProperty(&quot;name&quot;) String name\r\n    ) {\r\n        super(id, &quot;type1&quot;, name);\r\n    }\r\n}\r\n\r\npublic class DefaultData extends AbstractData {\r\n    @JsonCreator\r\n    public DefaultData(@JsonProperty(&quot;id&quot;) String id, \r\n                       @JsonProperty(&quot;type&quot;) String type,\r\n                       @JsonProperty(&quot;name&quot;) String name\r\n    ) {\r\n        super(id, type, name);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String... args) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        AbstractData data = mapper.readValue(json, AbstractData.class);\r\n    }\r\n}\r\n```\r\nI get an exception if I use default implementation:\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;unknown&#39; as a type\r\n```\r\nThe class ```DefaultData``` I need to avoid a deserialization exception if I will get the unknown type.\r\n\r\nHow can I fix this issue?","title":"How to deserialize JSON via JsonTypeInfo with unknown property","body":"<p>I need to deserialize JSON looks like the following:</p>\n<pre><code>{\n  &quot;data&quot;: [{\n    &quot;id&quot;: &quot;id1&quot;,\n    &quot;type&quot;: &quot;type1&quot;\n    &quot;name&quot;: &quot;John&quot;,\n    ...\n  },\n  {\n    &quot;id&quot;: &quot;id2&quot;,\n    &quot;type&quot;: &quot;type2&quot;,\n    &quot;name&quot;: &quot;Rebecca&quot;,\n    ...\n  },\n  {\n    &quot;id&quot;: &quot;id3&quot;,\n    &quot;type&quot;: &quot;unknown&quot;,\n    &quot;name&quot;: &quot;Peter&quot;,\n    ...\n  }]\n}\n</code></pre>\n<p>For deserializing JSON which I have written above I have created a couple of classes:</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;,\n        defaultImpl = DefaultData.class\n)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Type1Data.class, name = &quot;type1&quot;),\n        @JsonSubTypes.Type(value = Type2Data.class, name = &quot;type2&quot;)\n})\npublic class AbstractData {\n    public final String id;\n    public final String type;\n    public final String name;\n    public AbstractData(String id, String type, String name) {\n        this.id = id;\n        this.type = type;\n        this.name = name;\n    }\n}\n\npublic class Type1Data extends AbstractData {\n    @JsonCreator\n    public Type1Data(@JsonProperty(&quot;id&quot;) String id,\n                     @JsonProperty(&quot;name&quot;) String name\n    ) {\n        super(id, &quot;type1&quot;, name);\n    }\n}\n\npublic class DefaultData extends AbstractData {\n    @JsonCreator\n    public DefaultData(@JsonProperty(&quot;id&quot;) String id, \n                       @JsonProperty(&quot;type&quot;) String type,\n                       @JsonProperty(&quot;name&quot;) String name\n    ) {\n        super(id, type, name);\n    }\n}\n\npublic class Main {\n    public static void main(String... args) {\n        ObjectMapper mapper = new ObjectMapper();\n        AbstractData data = mapper.readValue(json, AbstractData.class);\n    }\n}\n</code></pre>\n<p>I get an exception if I use default implementation:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'unknown' as a type\n</code></pre>\n<p>The class <code>DefaultData</code> I need to avoid a deserialization exception if I will get the unknown type.</p>\n<p>How can I fix this issue?</p>\n"},{"tags":["java","android","android-mediaprojection","image-reader"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643230825,"post_id":70869332,"comment_id":125287896,"body_markdown":"`image` ? Where does that image come from? Please start your code with instantiating that image variable.","body":"<code>image</code> ? Where does that image come from? Please start your code with instantiating that image variable."},{"owner":{"account_id":17020889,"reputation":13,"user_id":12313499,"display_name":"seanfir"},"score":0,"creation_date":1643234758,"post_id":70869332,"comment_id":125289098,"body_markdown":"@blackapps I added an edit to my post to make that more clear.","body":"@blackapps I added an edit to my post to make that more clear."}],"owner":{"account_id":17020889,"reputation":13,"user_id":12313499,"display_name":"seanfir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643234702,"creation_date":1643226231,"question_id":70869332,"body_markdown":"I have been working to capture images of the phone screen using ImageReader. The JPEG&#39;s I am receiving are not valid. With this setting:\r\n\r\n```\r\nImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 10);\r\n```\r\n\r\nI get this in onImageAvailable:\r\n\r\n```\r\n\r\nW/AndroidMediaUtils: Image_getBlobSize: No JPEG/HEIC header detected, defaulting to size=width=2662272\r\n2022-01-26 11:23:36.495 22708-22857/com.artistol.phonekast D/skia: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\n```\r\n\r\nIf I try to extract a bitmap, the bitmap is null:\r\n\r\n```\r\nByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\r\n            myBuffer.rewind();\r\n            int mySize = myBuffer.remaining();\r\n\r\n            frame = new byte[mySize];\r\n            myBuffer.get(frame, 0, mySize);\r\n\r\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\r\n            if (bitmap==null)\r\n                Log.d(TAG, &quot;bitmap is null&quot;);\r\n```\r\n\r\nIf I set things such that the height != width, I will see the following exception:\r\n\r\n```\r\n2022-01-26 11:30:29.251 23141-23194/com.name.subname A/AndroidMediaUtils: RGBA override BLOB format buffer should have height == width\r\n2022-01-26 11:30:29.376 23141-23194/com.name.subname A/my_process: runtime.cc:655] Runtime aborting...\r\n    runtime.cc:655] Dumping all threads without mutator lock held\r\n    runtime.cc:655] All threads:\r\n    runtime.cc:655] DALVIK THREADS (27):\r\n    runtime.cc:655] &quot;com.name.subname.MyService&quot; prio=5 tid=23 Runnable\r\n    runtime.cc:655]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x12e4cce8 self=0xb40000773250af00\r\n    runtime.cc:655]   | sysTid=23194 nice=0 cgrp=default sched=0/0 handle=0x75b062bcc0\r\n    runtime.cc:655]   | state=R schedstat=( 5329217 1502500 2 ) utm=0 stm=0 core=7 HZ=100\r\n    runtime.cc:655]   | stack=0x75b0528000-0x75b052a000 stackSize=1043KB\r\n    runtime.cc:655]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n    runtime.cc:655]   native: #00 pc 000000000049ee3c  /apex/com.android.art/lib64/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, BacktraceMap*, char const*, art::ArtMethod*, void*, bool)+140)\r\n    runtime.cc:655]   native: #01 pc 00000000005abff8  /apex/com.android.art/lib64/libart.so (art::Thread::DumpStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool, BacktraceMap*, bool) const+376)\r\n    runtime.cc:655]   native: #02 pc 00000000005c9130  /apex/com.android.art/lib64/libart.so (art::DumpCheckpoint::Run(art::Thread*)+924)\r\n    runtime.cc:655]   native: #03 pc 00000000005c3070  /apex/com.android.art/lib64/libart.so (art::ThreadList::RunCheckpoint(art::Closure*, art::Closure*)+528)\r\n    runtime.cc:655]   native: #04 pc 00000000005c223c  /apex/com.android.art/lib64/libart.so (art::ThreadList::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool)+1920)\r\n    runtime.cc:655]   native: #05 pc 000000000055cec4  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+1864)\r\n    runtime.cc:655]   native: #06 pc 0000000000013978  /system/lib64/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_3::__invoke(char const*)+76)\r\n    runtime.cc:655]   native: #07 pc 0000000000006e18  /system/lib64/liblog.so (__android_log_assert+336)\r\n    runtime.cc:655]   native: #08 pc 0000000000001644  /system/lib64/libmedia_jni_utils.so (android::getLockedImageInfo(android::CpuConsumer::LockedBuffer*, int, int, unsigned char**, unsigned int*, int*, int*)+1284)\r\n    runtime.cc:655]   native: #09 pc 000000000003c66c  /system/lib64/libmedia_jni.so (Image_createSurfacePlanes(_JNIEnv*, _jobject*, int, int)+616)\r\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.nativeCreatePlanes(Native method)\r\n    runtime.cc:655]   - locked &lt;0x004f434f&gt; (a android.media.ImageReader$SurfaceImage)\r\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.getPlanes(ImageReader.java:912)\r\n    runtime.cc:655]   at com.name.subname.MyService.processImage(MyService.java:341)\r\n    runtime.cc:655]   at com.name.subname.MyService.access$600(MyService.java:60)\r\n    runtime.cc:655]   at com.name.subname.MyService$2.onImageAvailable(MyService.java:293)\r\n```\r\n\r\n\r\nI have spent considerable time looking at this. I have experimented with changing my ImageReader setting to produce formats other than JPEG. Each time I get an exception such as the following when I use ImageFormat.FLEX_RGBA_8888 instead of ImageFormat.JPEG:\r\n\r\n\r\n```\r\njava.lang.UnsupportedOperationException: Invalid format specified 42\r\n        at android.media.ImageUtils.getNumPlanesForFormat(ImageUtils.java:73)\r\n        at android.media.ImageReader.&lt;init&gt;(ImageReader.java:274)\r\n        at android.media.ImageReader.newInstance(ImageReader.java:135) \r\n```\r\n\r\nI see that ImageFormat.FLEX_RGBA_8888 is defined as 0x29 (42) in ImageFormat.java. I reviewed ImageUtils.java code I found here: \r\n\r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/java/android/media/ImageUtils.java;l=55;bpv=1;bpt=0\r\n\r\nIndeed FLEX_RGBA_8888 is not one of the codes that getNumPlanesForFormat recognizes, so I can see why this is being rejected. I am an Android novice and could be missing the obvious, but why would ImageFormat provide values that are rejected by ImageReader? Put another way, if I enter some of the codes I see as valid in the ImageUtils case statement, such as PixelFormat.RGBA_8888, my code won&#39;t even compile. I&#39;m told:\r\n\r\n```\r\nMust be one of: ImageFormat.UNKNOWN, ImageFormat.RGB_565, ImageFormat.YV12, ImageFormat.Y8, ImageFormat.NV16, ImageFormat.NV21, ImageFormat.YUY2, ImageFormat.JPEG, ImageFormat.DEPTH_JPEG, ImageFormat.YUV_420_888, ImageFormat.YUV_422_888, ImageFormat.YUV_444_888, ImageFormat.FLEX_RGB_888, ImageFormat.FLEX_RGBA_8888, ImageFormat.RAW_SENSOR, ImageFormat.RAW_PRIVATE, ImageFormat.RAW10, ImageFormat.RAW12, ImageFormat.DEPTH16, ImageFormat.DEPTH_POINT_CLOUD, ImageFormat.PRIVATE, ImageFormat.HEIC\r\n```\r\n\r\nHere is how I am setting things up:\r\n\r\n```\r\nImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.FLEX_RGBA_8888, 10);\r\n        \r\n        mImageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\r\n            @Override\r\n            public void onImageAvailable(ImageReader reader) {\r\n                processImage(reader);\r\n\r\n            }\r\n        }, mImageReaderCallbackHandler);\r\n\r\n\r\n        MediaProjectionManager mediaProjectionManager = (MediaProjectionManager) getSystemService(MEDIA_PROJECTION_SERVICE);\r\n        mMediaProjection =  mediaProjectionManager.getMediaProjection(Activity.RESULT_OK, mIntent);\r\n        mMediaProjection.registerCallback(mMediaProjectionCallback, mMediaProjectionCallbackHandler);\r\n\r\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(&quot;ScreenCapture&quot;,\r\n                width, height, density,\r\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\r\n                mImageReader.getSurface(), mVirtualDisplayCallback, mVirtualDisplayCallbackHandler);\r\n```\r\n\r\nI am running this as a remote service and have been testing on a Samsung Note 8 and and Pixel 4a, both physical devices.\r\n\r\nEdit 1:\r\n\r\nIn ImageReader&#39;s onImageAvailable, I have the following:\r\n\r\n```\r\nprivate void processImage(ImageReader reader){\r\n        byte[] frame;\r\n\r\n        Image image = reader.acquireLatestImage();\r\n        if(image!=null) {\r\n         \r\n            ByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\r\n            myBuffer.rewind();\r\n            int mySize = myBuffer.remaining();\r\n\r\n            frame = new byte[mySize];\r\n            myBuffer.get(frame, 0, mySize);\r\n\r\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\r\n            if (bitmap==null)\r\n                Log.d(TAG, &quot;bitmap is null&quot;);\r\n\r\n            image.close();\r\n        }\r\n\r\n    }\r\n```\r\n\r\n ","title":"Android ImageReader - Invalid format specified 42","body":"<p>I have been working to capture images of the phone screen using ImageReader. The JPEG's I am receiving are not valid. With this setting:</p>\n<pre><code>ImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 10);\n</code></pre>\n<p>I get this in onImageAvailable:</p>\n<pre><code>\nW/AndroidMediaUtils: Image_getBlobSize: No JPEG/HEIC header detected, defaulting to size=width=2662272\n2022-01-26 11:23:36.495 22708-22857/com.artistol.phonekast D/skia: --- Failed to create image decoder with message 'unimplemented'\n</code></pre>\n<p>If I try to extract a bitmap, the bitmap is null:</p>\n<pre><code>ByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\n            myBuffer.rewind();\n            int mySize = myBuffer.remaining();\n\n            frame = new byte[mySize];\n            myBuffer.get(frame, 0, mySize);\n\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\n            if (bitmap==null)\n                Log.d(TAG, &quot;bitmap is null&quot;);\n</code></pre>\n<p>If I set things such that the height != width, I will see the following exception:</p>\n<pre><code>2022-01-26 11:30:29.251 23141-23194/com.name.subname A/AndroidMediaUtils: RGBA override BLOB format buffer should have height == width\n2022-01-26 11:30:29.376 23141-23194/com.name.subname A/my_process: runtime.cc:655] Runtime aborting...\n    runtime.cc:655] Dumping all threads without mutator lock held\n    runtime.cc:655] All threads:\n    runtime.cc:655] DALVIK THREADS (27):\n    runtime.cc:655] &quot;com.name.subname.MyService&quot; prio=5 tid=23 Runnable\n    runtime.cc:655]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x12e4cce8 self=0xb40000773250af00\n    runtime.cc:655]   | sysTid=23194 nice=0 cgrp=default sched=0/0 handle=0x75b062bcc0\n    runtime.cc:655]   | state=R schedstat=( 5329217 1502500 2 ) utm=0 stm=0 core=7 HZ=100\n    runtime.cc:655]   | stack=0x75b0528000-0x75b052a000 stackSize=1043KB\n    runtime.cc:655]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\n    runtime.cc:655]   native: #00 pc 000000000049ee3c  /apex/com.android.art/lib64/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, BacktraceMap*, char const*, art::ArtMethod*, void*, bool)+140)\n    runtime.cc:655]   native: #01 pc 00000000005abff8  /apex/com.android.art/lib64/libart.so (art::Thread::DumpStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool, BacktraceMap*, bool) const+376)\n    runtime.cc:655]   native: #02 pc 00000000005c9130  /apex/com.android.art/lib64/libart.so (art::DumpCheckpoint::Run(art::Thread*)+924)\n    runtime.cc:655]   native: #03 pc 00000000005c3070  /apex/com.android.art/lib64/libart.so (art::ThreadList::RunCheckpoint(art::Closure*, art::Closure*)+528)\n    runtime.cc:655]   native: #04 pc 00000000005c223c  /apex/com.android.art/lib64/libart.so (art::ThreadList::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool)+1920)\n    runtime.cc:655]   native: #05 pc 000000000055cec4  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+1864)\n    runtime.cc:655]   native: #06 pc 0000000000013978  /system/lib64/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_3::__invoke(char const*)+76)\n    runtime.cc:655]   native: #07 pc 0000000000006e18  /system/lib64/liblog.so (__android_log_assert+336)\n    runtime.cc:655]   native: #08 pc 0000000000001644  /system/lib64/libmedia_jni_utils.so (android::getLockedImageInfo(android::CpuConsumer::LockedBuffer*, int, int, unsigned char**, unsigned int*, int*, int*)+1284)\n    runtime.cc:655]   native: #09 pc 000000000003c66c  /system/lib64/libmedia_jni.so (Image_createSurfacePlanes(_JNIEnv*, _jobject*, int, int)+616)\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.nativeCreatePlanes(Native method)\n    runtime.cc:655]   - locked &lt;0x004f434f&gt; (a android.media.ImageReader$SurfaceImage)\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.getPlanes(ImageReader.java:912)\n    runtime.cc:655]   at com.name.subname.MyService.processImage(MyService.java:341)\n    runtime.cc:655]   at com.name.subname.MyService.access$600(MyService.java:60)\n    runtime.cc:655]   at com.name.subname.MyService$2.onImageAvailable(MyService.java:293)\n</code></pre>\n<p>I have spent considerable time looking at this. I have experimented with changing my ImageReader setting to produce formats other than JPEG. Each time I get an exception such as the following when I use ImageFormat.FLEX_RGBA_8888 instead of ImageFormat.JPEG:</p>\n<pre><code>java.lang.UnsupportedOperationException: Invalid format specified 42\n        at android.media.ImageUtils.getNumPlanesForFormat(ImageUtils.java:73)\n        at android.media.ImageReader.&lt;init&gt;(ImageReader.java:274)\n        at android.media.ImageReader.newInstance(ImageReader.java:135) \n</code></pre>\n<p>I see that ImageFormat.FLEX_RGBA_8888 is defined as 0x29 (42) in ImageFormat.java. I reviewed ImageUtils.java code I found here:</p>\n<p><a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/java/android/media/ImageUtils.java;l=55;bpv=1;bpt=0\" rel=\"nofollow noreferrer\">https://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/java/android/media/ImageUtils.java;l=55;bpv=1;bpt=0</a></p>\n<p>Indeed FLEX_RGBA_8888 is not one of the codes that getNumPlanesForFormat recognizes, so I can see why this is being rejected. I am an Android novice and could be missing the obvious, but why would ImageFormat provide values that are rejected by ImageReader? Put another way, if I enter some of the codes I see as valid in the ImageUtils case statement, such as PixelFormat.RGBA_8888, my code won't even compile. I'm told:</p>\n<pre><code>Must be one of: ImageFormat.UNKNOWN, ImageFormat.RGB_565, ImageFormat.YV12, ImageFormat.Y8, ImageFormat.NV16, ImageFormat.NV21, ImageFormat.YUY2, ImageFormat.JPEG, ImageFormat.DEPTH_JPEG, ImageFormat.YUV_420_888, ImageFormat.YUV_422_888, ImageFormat.YUV_444_888, ImageFormat.FLEX_RGB_888, ImageFormat.FLEX_RGBA_8888, ImageFormat.RAW_SENSOR, ImageFormat.RAW_PRIVATE, ImageFormat.RAW10, ImageFormat.RAW12, ImageFormat.DEPTH16, ImageFormat.DEPTH_POINT_CLOUD, ImageFormat.PRIVATE, ImageFormat.HEIC\n</code></pre>\n<p>Here is how I am setting things up:</p>\n<pre><code>ImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.FLEX_RGBA_8888, 10);\n        \n        mImageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\n            @Override\n            public void onImageAvailable(ImageReader reader) {\n                processImage(reader);\n\n            }\n        }, mImageReaderCallbackHandler);\n\n\n        MediaProjectionManager mediaProjectionManager = (MediaProjectionManager) getSystemService(MEDIA_PROJECTION_SERVICE);\n        mMediaProjection =  mediaProjectionManager.getMediaProjection(Activity.RESULT_OK, mIntent);\n        mMediaProjection.registerCallback(mMediaProjectionCallback, mMediaProjectionCallbackHandler);\n\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(&quot;ScreenCapture&quot;,\n                width, height, density,\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n                mImageReader.getSurface(), mVirtualDisplayCallback, mVirtualDisplayCallbackHandler);\n</code></pre>\n<p>I am running this as a remote service and have been testing on a Samsung Note 8 and and Pixel 4a, both physical devices.</p>\n<p>Edit 1:</p>\n<p>In ImageReader's onImageAvailable, I have the following:</p>\n<pre><code>private void processImage(ImageReader reader){\n        byte[] frame;\n\n        Image image = reader.acquireLatestImage();\n        if(image!=null) {\n         \n            ByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\n            myBuffer.rewind();\n            int mySize = myBuffer.remaining();\n\n            frame = new byte[mySize];\n            myBuffer.get(frame, 0, mySize);\n\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\n            if (bitmap==null)\n                Log.d(TAG, &quot;bitmap is null&quot;);\n\n            image.close();\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","big-o","coding-efficiency"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1643233806,"post_id":70870639,"comment_id":125288822,"body_markdown":"4n + 2 is O(n). The significant point is just that your loop runs n times. If you doubled n, the loop would run twice as many times. That makes it O(n).","body":"4n + 2 is O(n). The significant point is just that your loop runs n times. If you doubled n, the loop would run twice as many times. That makes it O(n)."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":1,"creation_date":1643233847,"post_id":70870639,"comment_id":125288836,"body_markdown":"Refer to the definition of &quot;big O&quot; notation.","body":"Refer to the definition of &quot;big O&quot; notation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643233851,"post_id":70870639,"comment_id":125288843,"body_markdown":"Do you have a reference for the notion of a &quot;precise&quot; big O?","body":"Do you have a reference for the notion of a &quot;precise&quot; big O?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1643234219,"post_id":70870639,"comment_id":125288965,"body_markdown":"The point of big-O is to be imprecise.","body":"The point of big-O is to be imprecise."},{"owner":{"account_id":14836546,"reputation":31,"user_id":10714478,"display_name":"PrometheusAurelius"},"score":0,"creation_date":1643234270,"post_id":70870639,"comment_id":125288979,"body_markdown":"I understand that it acts as O(n), and that this is the whole point of Big oh. But for my class we have to come up with a &quot;Presice&quot; number and are graded on it. I know how to get the normal Big oh, and not the one that requires counting the executions.","body":"I understand that it acts as O(n), and that this is the whole point of Big oh. But for my class we have to come up with a &quot;Presice&quot; number and are graded on it. I know how to get the normal Big oh, and not the one that requires counting the executions."},{"owner":{"account_id":23710598,"reputation":59302,"user_id":17732522,"display_name":"user17732522"},"score":1,"creation_date":1643234450,"post_id":70870639,"comment_id":125289023,"body_markdown":"@PrometheusAurelius Then you should ask your teacher what exactly you are supposed to count as an operation. There is no obvious answer to that. But I suspect that it isn&#39;t meant to be that precise. I would for example accept if you said that the number of instructions in the loop body is some constant, call it `c`, and the loop is executed `n` times, so the total number of instructions is `c*n`. Then add that the `int i = 0;` and the last `i &lt; n` are another constant `d1` and `d2` giving a total of `c*n + d1 + d2`, which is `O(n)` without it mattering what `c` and `d1` and `d2` are.","body":"@PrometheusAurelius Then you should ask your teacher what exactly you are supposed to count as an operation. There is no obvious answer to that. But I suspect that it isn&#39;t meant to be that precise. I would for example accept if you said that the number of instructions in the loop body is some constant, call it <code>c</code>, and the loop is executed <code>n</code> times, so the total number of instructions is <code>c*n</code>. Then add that the <code>int i = 0;</code> and the last <code>i &lt; n</code> are another constant <code>d1</code> and <code>d2</code> giving a total of <code>c*n + d1 + d2</code>, which is <code>O(n)</code> without it mattering what <code>c</code> and <code>d1</code> and <code>d2</code> are."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1643234608,"post_id":70870639,"comment_id":125289063,"body_markdown":"I don&#39;t think you should ask a teacher or the &quot;not a homework site.&quot; Your counting does not appear off.","body":"I don&#39;t think you should ask a teacher or the &quot;not a homework site.&quot; Your counting does not appear off."}],"owner":{"account_id":14836546,"reputation":31,"user_id":10714478,"display_name":"PrometheusAurelius"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1643234542,"creation_date":1643233393,"question_id":70870639,"body_markdown":"I need help understanding how each line is calculated for a &quot;precise&quot; big o notation. \r\n\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n    sum += i;\r\n    }\r\n\r\nTo my understanding this is the breakdown.\r\n```\r\nint i = 0;  --&gt; 1\r\ni &lt; n;      --&gt; n + 1\r\ni++;        --&gt; n\r\nsum += i;   --&gt; n (should I be thinking of this as a simple addition and assignment n times?)\r\nJUMP to top --&gt; n\r\n```\r\nthus, adding up to    **4n + 2** \r\n\r\nIm unsure of how I&#39;m approaching it, and it seems like there are many ways to do it. Any help is appreciated.\r\n\r\nEDIT: I know this is silly because it defeats the purpose of Big Oh in the first place, but it is required for my class and my teacher has not been helpful in explaining how we are to calculate the executions line by line.","title":"Counting executions for a precise Big(O)","body":"<p>I need help understanding how each line is calculated for a &quot;precise&quot; big o notation.</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\nsum += i;\n}\n</code></pre>\n<p>To my understanding this is the breakdown.</p>\n<pre><code>int i = 0;  --&gt; 1\ni &lt; n;      --&gt; n + 1\ni++;        --&gt; n\nsum += i;   --&gt; n (should I be thinking of this as a simple addition and assignment n times?)\nJUMP to top --&gt; n\n</code></pre>\n<p>thus, adding up to    <strong>4n + 2</strong></p>\n<p>Im unsure of how I'm approaching it, and it seems like there are many ways to do it. Any help is appreciated.</p>\n<p>EDIT: I know this is silly because it defeats the purpose of Big Oh in the first place, but it is required for my class and my teacher has not been helpful in explaining how we are to calculate the executions line by line.</p>\n"},{"tags":["java","while-loop","bufferedreader","filereader","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625768629,"creation_date":1625768629,"answer_id":68306910,"question_id":68306664,"body_markdown":"Since it is a queue of `String`s it is sorted alphabetically. If you want to keep it as `String`s, you can use a custom comparator that converts the `String`s to `int`s and compares those:\r\n```\r\n// This constructor requires an initial capacity before the comparator\r\nQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(100, new Comparator&lt;String&gt;() {\r\n\tpublic int compare(String s1, String s2) {\r\n    \treturn Integer.parseInt(s1) - Integer.parseInt(s2);\r\n\t}\r\n});\r\n```\r\nAnother option is to change the type of the queue to `Integer` and convert the input:\r\n```\r\nQueue&lt;Integer&gt; queue = new PriorityQueue&lt;Integer&gt;();\r\n...\r\nwhile ((strLine = br.readLine()) != null)   {\r\n    queue.offer(Integer.parseInt(strLine));\r\n}\r\n```","title":"Using priority queue with File Reader","body":"<p>Since it is a queue of <code>String</code>s it is sorted alphabetically. If you want to keep it as <code>String</code>s, you can use a custom comparator that converts the <code>String</code>s to <code>int</code>s and compares those:</p>\n<pre><code>// This constructor requires an initial capacity before the comparator\nQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(100, new Comparator&lt;String&gt;() {\n    public int compare(String s1, String s2) {\n        return Integer.parseInt(s1) - Integer.parseInt(s2);\n    }\n});\n</code></pre>\n<p>Another option is to change the type of the queue to <code>Integer</code> and convert the input:</p>\n<pre><code>Queue&lt;Integer&gt; queue = new PriorityQueue&lt;Integer&gt;();\n...\nwhile ((strLine = br.readLine()) != null)   {\n    queue.offer(Integer.parseInt(strLine));\n}\n</code></pre>\n"}],"owner":{"account_id":22162434,"reputation":3,"user_id":16409205,"display_name":"Ahmet G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68306910,"answer_count":1,"score":0,"last_activity_date":1643234283,"creation_date":1625767393,"question_id":68306664,"body_markdown":"I want to order numbers between the range of 1-100 with File Reader. It&#39;s very weird otput. My code:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class Main {\r\n    public static String strLine;\r\n    public static int order = 1;\r\n    public static void main(String[] args) {\r\n        Queue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;();\r\n        try{\r\n            FileReader fr = new FileReader(&quot;File.txt&quot;);\r\n            BufferedReader br = new BufferedReader(fr);\r\n            while ((strLine = br.readLine()) != null)   {\r\n                queue.offer(strLine);\r\n            }\r\n            br.close();\r\n        } catch (IOException e){\r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n         while (!queue.isEmpty()){\r\n            System.out.println(order + &quot;.Number: &quot; + queue.poll());\r\n            order++;\r\n        }\r\n    } }\r\nFile.txt: \r\n```\r\n81\r\n56\r\n42\r\n3\r\n49\r\n100\r\n61\r\n76\r\n74\r\n79\r\n6\r\n90\r\n34\r\n93\r\n22\r\n71\r\n72\r\n63\r\n67\r\n18\r\n14\r\n5\r\n91\r\n39\r\n53\r\n86\r\n40\r\n45\r\n60\r\n55\r\n48\r\n62\r\n8\r\n4\r\n80\r\n11\r\n87\r\n47\r\n15\r\n46\r\n97\r\n66\r\n43\r\n58\r\n41\r\n54\r\n33\r\n96\r\n82\r\n44\r\n98\r\n27\r\n85\r\n10\r\n32\r\n95\r\n35\r\n24\r\n7\r\n30\r\n83\r\n9\r\n31\r\n99\r\n25\r\n29\r\n57\r\n36\r\n69\r\n50\r\n28\r\n59\r\n12\r\n37\r\n78\r\n73\r\n70\r\n89\r\n65\r\n51\r\n77\r\n88\r\n20\r\n17\r\n21\r\n94\r\n64\r\n19\r\n26\r\n23\r\n92\r\n52\r\n2\r\n16\r\n68\r\n75\r\n38\r\n1\r\n84\r\n13\r\n```\r\noutput:\r\n```\r\n1.Number: 1\r\n2.Number: 10\r\n3.Number: 100\r\n4.Number: 11\r\n5.Number: 12\r\n6.Number: 13\r\n7.Number: 14\r\n8.Number: 15\r\n9.Number: 16\r\n10.Number: 17\r\n11.Number: 18\r\n12.Number: 19\r\n13.Number: 2\r\n14.Number: 20\r\n15.Number: 21\r\n16.Number: 22\r\n17.Number: 23\r\n18.Number: 24\r\n19.Number: 25\r\n20.Number: 26\r\n21.Number: 27\r\n22.Number: 28\r\n23.Number: 29\r\n24.Number: 3\r\n25.Number: 30\r\n26.Number: 31\r\n27.Number: 32\r\n28.Number: 33\r\n29.Number: 34\r\n30.Number: 35\r\n31.Number: 36\r\n32.Number: 37\r\n33.Number: 38\r\n34.Number: 39\r\n35.Number: 4\r\n36.Number: 40\r\n37.Number: 41\r\n38.Number: 42\r\n39.Number: 43\r\n40.Number: 44\r\n41.Number: 45\r\n42.Number: 46\r\n43.Number: 47\r\n44.Number: 48\r\n45.Number: 49\r\n46.Number: 5\r\n47.Number: 50\r\n48.Number: 51\r\n49.Number: 52\r\n50.Number: 53\r\n51.Number: 54\r\n52.Number: 55\r\n53.Number: 56\r\n54.Number: 57\r\n55.Number: 58\r\n56.Number: 59\r\n57.Number: 6\r\n58.Number: 60\r\n59.Number: 61\r\n60.Number: 62\r\n61.Number: 63\r\n62.Number: 64\r\n63.Number: 65\r\n64.Number: 66\r\n65.Number: 67\r\n66.Number: 68\r\n67.Number: 69\r\n68.Number: 7\r\n69.Number: 70\r\n70.Number: 71\r\n71.Number: 72\r\n72.Number: 73\r\n73.Number: 74\r\n74.Number: 75\r\n75.Number: 76\r\n76.Number: 77\r\n77.Number: 78\r\n78.Number: 79\r\n79.Number: 8\r\n80.Number: 80\r\n81.Number: 81\r\n82.Number: 82\r\n83.Number: 83\r\n84.Number: 84\r\n85.Number: 85\r\n86.Number: 86\r\n87.Number: 87\r\n88.Number: 88\r\n89.Number: 89\r\n90.Number: 9\r\n91.Number: 90\r\n92.Number: 91\r\n93.Number: 92\r\n94.Number: 93\r\n95.Number: 94\r\n96.Number: 95\r\n97.Number: 96\r\n98.Number: 97\r\n99.Number: 98\r\n100.Number: 99\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n","title":"Using priority queue with File Reader","body":"<p>I want to order numbers between the range of 1-100 with File Reader. It's very weird otput. My code:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class Main {\npublic static String strLine;\npublic static int order = 1;\npublic static void main(String[] args) {\n    Queue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;();\n    try{\n        FileReader fr = new FileReader(&quot;File.txt&quot;);\n        BufferedReader br = new BufferedReader(fr);\n        while ((strLine = br.readLine()) != null)   {\n            queue.offer(strLine);\n        }\n        br.close();\n    } catch (IOException e){\n        System.out.println(&quot;File not found&quot;);\n    }\n     while (!queue.isEmpty()){\n        System.out.println(order + &quot;.Number: &quot; + queue.poll());\n        order++;\n    }\n} }\n</code></pre>\n<p>File.txt:</p>\n<pre><code>81\n56\n42\n3\n49\n100\n61\n76\n74\n79\n6\n90\n34\n93\n22\n71\n72\n63\n67\n18\n14\n5\n91\n39\n53\n86\n40\n45\n60\n55\n48\n62\n8\n4\n80\n11\n87\n47\n15\n46\n97\n66\n43\n58\n41\n54\n33\n96\n82\n44\n98\n27\n85\n10\n32\n95\n35\n24\n7\n30\n83\n9\n31\n99\n25\n29\n57\n36\n69\n50\n28\n59\n12\n37\n78\n73\n70\n89\n65\n51\n77\n88\n20\n17\n21\n94\n64\n19\n26\n23\n92\n52\n2\n16\n68\n75\n38\n1\n84\n13\n</code></pre>\n<p>output:</p>\n<pre><code>1.Number: 1\n2.Number: 10\n3.Number: 100\n4.Number: 11\n5.Number: 12\n6.Number: 13\n7.Number: 14\n8.Number: 15\n9.Number: 16\n10.Number: 17\n11.Number: 18\n12.Number: 19\n13.Number: 2\n14.Number: 20\n15.Number: 21\n16.Number: 22\n17.Number: 23\n18.Number: 24\n19.Number: 25\n20.Number: 26\n21.Number: 27\n22.Number: 28\n23.Number: 29\n24.Number: 3\n25.Number: 30\n26.Number: 31\n27.Number: 32\n28.Number: 33\n29.Number: 34\n30.Number: 35\n31.Number: 36\n32.Number: 37\n33.Number: 38\n34.Number: 39\n35.Number: 4\n36.Number: 40\n37.Number: 41\n38.Number: 42\n39.Number: 43\n40.Number: 44\n41.Number: 45\n42.Number: 46\n43.Number: 47\n44.Number: 48\n45.Number: 49\n46.Number: 5\n47.Number: 50\n48.Number: 51\n49.Number: 52\n50.Number: 53\n51.Number: 54\n52.Number: 55\n53.Number: 56\n54.Number: 57\n55.Number: 58\n56.Number: 59\n57.Number: 6\n58.Number: 60\n59.Number: 61\n60.Number: 62\n61.Number: 63\n62.Number: 64\n63.Number: 65\n64.Number: 66\n65.Number: 67\n66.Number: 68\n67.Number: 69\n68.Number: 7\n69.Number: 70\n70.Number: 71\n71.Number: 72\n72.Number: 73\n73.Number: 74\n74.Number: 75\n75.Number: 76\n76.Number: 77\n77.Number: 78\n78.Number: 79\n79.Number: 8\n80.Number: 80\n81.Number: 81\n82.Number: 82\n83.Number: 83\n84.Number: 84\n85.Number: 85\n86.Number: 86\n87.Number: 87\n88.Number: 88\n89.Number: 89\n90.Number: 9\n91.Number: 90\n92.Number: 91\n93.Number: 92\n94.Number: 93\n95.Number: 94\n96.Number: 95\n97.Number: 96\n98.Number: 97\n99.Number: 98\n100.Number: 99\n\nProcess finished with exit code 0\n\n</code></pre>\n"},{"tags":["java","email","outlook","calendar"],"comments":[{"owner":{"account_id":10056368,"reputation":500,"user_id":7434553,"display_name":"IQV"},"score":0,"creation_date":1485509952,"post_id":41890741,"comment_id":70963709,"body_markdown":"Have you tried to export an original Outlook-invitation to ICS and checked its attributes?","body":"Have you tried to export an original Outlook-invitation to ICS and checked its attributes?"},{"owner":{"account_id":2577658,"reputation":426,"user_id":2234974,"display_name":"Mahesh Gosemath"},"score":0,"creation_date":1485511176,"post_id":41890741,"comment_id":70964479,"body_markdown":"Yes, did that too. Didn&#39;t work. Also manually created an event with google calendar and sent invitation to email configured on outlook. Outlook could recognize that invitation so hardcoded the gmail ics in code and tried but that too didn&#39;t work.","body":"Yes, did that too. Didn&#39;t work. Also manually created an event with google calendar and sent invitation to email configured on outlook. Outlook could recognize that invitation so hardcoded the gmail ics in code and tried but that too didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":6822324,"reputation":321,"user_id":5249090,"display_name":"swaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537533806,"creation_date":1537533806,"answer_id":52444077,"question_id":41890741,"body_markdown":"Modifying content type as below did trick for me.\r\n\r\n    messageBodyPart.setContent(inviteMessage, &quot;text/calendar;method=REQUEST&quot;);\r\n\r\n","title":"Java: ics not read in outlook","body":"<p>Modifying content type as below did trick for me.</p>\n\n<pre><code>messageBodyPart.setContent(inviteMessage, \"text/calendar;method=REQUEST\");\n</code></pre>\n"}],"owner":{"account_id":2577658,"reputation":426,"user_id":2234974,"display_name":"Mahesh Gosemath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643234273,"creation_date":1485509684,"question_id":41890741,"body_markdown":"I have written java code to send calendar invite. It works good with gmail, thunderbird. The clients read the ics and show the invitation properly.\r\n\r\nBut the same mail doesn&#39;t seem to be working on Microsoft Outlook. Outlook doesn&#39;t recognize the mail as calendar invite and hence no accept, reject buttons are shown.\r\n\r\nFollowing is the code snippet used:\r\n\r\n    MimeMessage message = new MimeMessage(session);\r\n    message.addHeaderLine(&quot;method=REQUEST&quot;);\r\n    message.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n    message.addHeaderLine(&quot;component=VEVENT&quot;); \r\n\r\n    BodyPart textBodyPart = new MimeBodyPart();\r\n    textBodyPart.setContent(&quot;Invitation for an event.&quot;, &quot;text/plain&quot;);\r\n\r\n    BodyPart messageBodyPart = new MimeBodyPart();\r\n    messageBodyPart.addHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\r\n    messageBodyPart.addHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n    messageBodyPart.setContent(inviteMessage, &quot;text/calendar&quot;);\r\n\r\n    Multipart multipart = new MimeMultipart(&quot;alternative&quot;);\r\n    multipart.addBodyPart(textBodyPart);\r\n    multipart.addBodyPart(messageBodyPart);\r\n    message.setContent(multipart);\r\n\r\nThe ics file that I&#39;m sending is:\r\n\r\n\r\n`BEGIN:VCALENDAR\r\nVERSION:1.0\r\nPRODID:-//Michael Angstadt//biweekly 0.6.0//EN\r\nMETHOD:REQUEST\r\nBEGIN:VEVENT\r\nDTSTAMP:20170123T115919Z\r\nORGANIZER:mailto:x@y.com\r\nUID:12345678\r\nCOMMENT:Event Invitation\r\nDTSTART:20170123T120319Z\r\nSUMMARY;LANGUAGE=en-us:Event Invitation\r\nDURATION:PT30M\r\nATTENDEE;RSVP=TRUE;ROLE=CHAIR;PARTSTAT=NEEDS-ACTION;CN=XY:mail\r\n to:x.y@gmail.com\r\nEND:VEVENT\r\nEND:VCALENDAR`\r\n\r\nFound similar problems on stackoverflow, tried the mentioned solutions but nothing helped.\r\nhttps://stackoverflow.com/questions/19523861/multipart-email-with-text-and-calendar-outlook-doesnt-recognize-ics\r\n\r\nhttps://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook?noredirect=1&amp;lq=1\r\n\r\nhttps://stackoverflow.com/questions/32506065/java-ics-calendar-format-not-showing-time-when-imported-in-outlook-or-thunderbi\r\n\r\n\r\n ","title":"Java: ics not read in outlook","body":"<p>I have written java code to send calendar invite. It works good with gmail, thunderbird. The clients read the ics and show the invitation properly.</p>\n\n<p>But the same mail doesn't seem to be working on Microsoft Outlook. Outlook doesn't recognize the mail as calendar invite and hence no accept, reject buttons are shown.</p>\n\n<p>Following is the code snippet used:</p>\n\n<pre><code>MimeMessage message = new MimeMessage(session);\nmessage.addHeaderLine(\"method=REQUEST\");\nmessage.addHeaderLine(\"charset=UTF-8\");\nmessage.addHeaderLine(\"component=VEVENT\"); \n\nBodyPart textBodyPart = new MimeBodyPart();\ntextBodyPart.setContent(\"Invitation for an event.\", \"text/plain\");\n\nBodyPart messageBodyPart = new MimeBodyPart();\nmessageBodyPart.addHeader(\"Content-Class\", \"urn:content-classes:calendarmessage\");\nmessageBodyPart.addHeader(\"Content-ID\", \"calendar_message\");\nmessageBodyPart.setContent(inviteMessage, \"text/calendar\");\n\nMultipart multipart = new MimeMultipart(\"alternative\");\nmultipart.addBodyPart(textBodyPart);\nmultipart.addBodyPart(messageBodyPart);\nmessage.setContent(multipart);\n</code></pre>\n\n<p>The ics file that I'm sending is:</p>\n\n<p><code>BEGIN:VCALENDAR\nVERSION:1.0\nPRODID:-//Michael Angstadt//biweekly 0.6.0//EN\nMETHOD:REQUEST\nBEGIN:VEVENT\nDTSTAMP:20170123T115919Z\nORGANIZER:mailto:x@y.com\nUID:12345678\nCOMMENT:Event Invitation\nDTSTART:20170123T120319Z\nSUMMARY;LANGUAGE=en-us:Event Invitation\nDURATION:PT30M\nATTENDEE;RSVP=TRUE;ROLE=CHAIR;PARTSTAT=NEEDS-ACTION;CN=XY:mail\n to:x.y@gmail.com\nEND:VEVENT\nEND:VCALENDAR</code></p>\n\n<p>Found similar problems on stackoverflow, tried the mentioned solutions but nothing helped.\n<a href=\"https://stackoverflow.com/questions/19523861/multipart-email-with-text-and-calendar-outlook-doesnt-recognize-ics\">Multipart email with text and calendar: Outlook doesn&#39;t recognize ics</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook?noredirect=1&amp;lq=1\">Sending Outlook meeting requests without Outlook?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/32506065/java-ics-calendar-format-not-showing-time-when-imported-in-outlook-or-thunderbi\">Java, ICS calendar format not showing time when imported in Outlook or Thunderbird</a></p>\n"},{"tags":["java","sockets","zip","serversocket","zip4j"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643235248,"post_id":70870764,"comment_id":125289251,"body_markdown":"I would make use of [`ZipOutputStream#write(byte[], int, int)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/zip/ZipOutputStream.html#write(byte%5B%5D,int,int)) instead of `write(byte[])`.  `write(byte[])` is going to write ALL the bytes in the array, but the array may not be full (hence the use of `readLen`)","body":"I would make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/zip/ZipOutputStream.html#write(byte%5B%5D,int,int)\" rel=\"nofollow noreferrer\"><code>ZipOutputStream#write(byte[], int, int)</code></a> instead of <code>write(byte[])</code>.  <code>write(byte[])</code> is going to write ALL the bytes in the array, but the array may not be full (hence the use of <code>readLen</code>)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643235309,"post_id":70870764,"comment_id":125289261,"body_markdown":"I&#39;d also be making a lot more use of [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","body":"I&#39;d also be making a lot more use of <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643235622,"post_id":70870764,"comment_id":125289361,"body_markdown":"You might consider having a look at [How to zip the content of a directory in Java](https://stackoverflow.com/questions/51833423/how-to-zip-the-content-of-a-directory-in-java/51833575#51833575) - forget about the socket for now, get the zip workflow to work","body":"You might consider having a look at <a href=\"https://stackoverflow.com/questions/51833423/how-to-zip-the-content-of-a-directory-in-java/51833575#51833575\">How to zip the content of a directory in Java</a> - forget about the socket for now, get the zip workflow to work"},{"owner":{"account_id":18246452,"reputation":11,"user_id":14171758,"display_name":"Xenu"},"score":0,"creation_date":1643289945,"post_id":70870764,"comment_id":125303465,"body_markdown":"@MadProgrammer so I should use java standard zip library instead of external and then try to do something with sockets","body":"@MadProgrammer so I should use java standard zip library instead of external and then try to do something with sockets"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643315761,"post_id":70870764,"comment_id":125314196,"body_markdown":"You ca use zip4j, but you need to be sure you&#39;re managing the buffer correctly","body":"You ca use zip4j, but you need to be sure you&#39;re managing the buffer correctly"},{"owner":{"account_id":18246452,"reputation":11,"user_id":14171758,"display_name":"Xenu"},"score":0,"creation_date":1643750097,"post_id":70870764,"comment_id":125421794,"body_markdown":"Hymmm, for some reason it works with standard java zipping library so I think I&#39;ll just stick with it as it actually has all the stuff that I need thanks to @MadProgrammer for giving me some directions on how to tackle the problem :)","body":"Hymmm, for some reason it works with standard java zipping library so I think I&#39;ll just stick with it as it actually has all the stuff that I need thanks to @MadProgrammer for giving me some directions on how to tackle the problem :)"}],"owner":{"account_id":18246452,"reputation":11,"user_id":14171758,"display_name":"Xenu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643234101,"creation_date":1643234101,"question_id":70870764,"body_markdown":"So I have this thing that I&#39;m making and the problem is that I think that some bytes are lost while the file is compressed and send to server as well as saved locally. I was able to send data while not using ``ByteArrayOutputStream`` but I have to use it and can&#39;t just use socket&#39;s ``OutputStream`` directly as I need each sent file to have somwhat unique ID. Also sizes of out.zip and out2.zip are different by around 10kB (out2.zip is smaller)\r\nhere is Log dump: https://pastebin.com/UyTqnRYc\r\n\r\n\r\nFunction that sends data in chunks\r\n```public static void addMultipleNestedDirectoriesToZipFileUsingPacketsSingle(List&lt;File&gt; pathsToDirectories, CompressionMethod compressionMethod,OutputStream outputStream, String rootDirectoryName) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ZipOutputStream zos = new ZipOutputStream(baos);\r\n        ZipParameters zipParameters = buildZipParameters(compressionMethod);\r\n        ObjectOutputStream objOS = new ObjectOutputStream(outputStream);\r\n        File f = new File(&quot;out2.zip&quot;);\r\n        FileOutputStream fos = new FileOutputStream(f);\r\n        for (File directory:pathsToDirectories) {\r\n            String relativeRootDirectory = directory.getName();\r\n            List&lt;File&gt; filesAndDirectories = Arrays.stream(Objects.requireNonNull(directory.listFiles())).toList();\r\n            for (File somefile:filesAndDirectories) {\r\n\r\n                if(somefile.isDirectory()){\r\n                    addDirectoryToZip(zos,somefile,zipParameters,relativeRootDirectory,rootDirectoryName);\r\n                }\r\n                else\r\n                {\r\n                    if (zipParameters.getCompressionMethod() == CompressionMethod.STORE) {\r\n                        zipParameters.setEntrySize(somefile.length());\r\n                    }\r\n                    byte[] buff = new byte[4096];\r\n                    zipParameters.setFileNameInZip(rootDirectoryName+ &quot;/&quot;+somefile.getName()); //YIKES\r\n                    zos.putNextEntry(zipParameters);\r\n                    try(InputStream inputStream = new FileInputStream(somefile)) {\r\n                        int readLen;\r\n                        while (((readLen = inputStream.read(buff)) != -1)) {\r\n                            zos.write(buff);\r\n                            byte[] b = baos.toByteArray();\r\n                            System.out.println(&quot;written :&quot;+baos.toByteArray().length);\r\n                            objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\r\n                            fos.write(baos.toByteArray());\r\n                            baos.reset();\r\n                            baos.flush();\r\n                        }\r\n                    }\r\n                    zos.closeEntry();\r\n                }\r\n\r\n            }\r\n        }\r\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\r\n        zos.flush();\r\n\r\n\r\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\r\n        System.out.println(baos.toByteArray().length);\r\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\r\n\r\n        fos.write(baos.toByteArray());\r\n        baos.reset();\r\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\r\n        fos.flush();\r\n        fos.close();\r\n        objOS.writeObject(new TransportDataModel((byte) -1,new byte[0]));\r\n\r\n        zos.close();\r\n\r\n    }\r\n```\r\n\r\nRecord used as a packet\r\n```\r\n\r\nimport java.io.Serializable;\r\n\r\npublic record TransportDataModel(byte id, byte[] data) implements Serializable {\r\n}\r\n\r\n```\r\n\r\nServer code: \r\n```\r\npublic Server(int port)\r\n    {\r\n        // starts server and waits for a connection\r\n        try\r\n        {\r\n            server = new ServerSocket(port);\r\n            System.out.println(&quot;Server started&quot;);\r\n\r\n            System.out.println(&quot;Waiting for a client ...&quot;);\r\n\r\n            socket = server.accept();\r\n            System.out.println(&quot;Client accepted&quot;);\r\n\r\n            \r\n            in = new ObjectInputStream(socket.getInputStream());\r\n            File f = new File(&quot;out.zip&quot;);\r\n            FileOutputStream outputStream = new FileOutputStream(f);\r\n            \r\n\r\n            TransportDataModel transportDataModel;\r\n            while (true) {\r\n                transportDataModel= (TransportDataModel) in.readObject();\r\n                    if (transportDataModel.id() == -1) {\r\n                        break;\r\n                    }\r\n                    if(transportDataModel.data().length != 0)\r\n                    {\r\n                        //System.out.println(transportDataModel.id());\r\n                        outputStream.write(transportDataModel.data());\r\n                    }\r\n\r\n\r\n            }\r\n            outputStream.flush();\r\n            outputStream.close();\r\n            System.out.println(&quot;Closing connection&quot;);\r\n\r\n            // close connection\r\n            socket.close();\r\n            in.close();\r\n            ZipFile zipFile = new ZipFile(&quot;out.zip&quot;);\r\n            zipFile.extractAll(&quot;/home/xenu/IdeaProjects/BBT-BasicBackupTool&quot;);\r\n        }\r\n        catch(IOException i)\r\n        {\r\n            i.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```","title":"Using Zip4J ZipOutputStream to send data to server socket","body":"<p>So I have this thing that I'm making and the problem is that I think that some bytes are lost while the file is compressed and send to server as well as saved locally. I was able to send data while not using <code>ByteArrayOutputStream</code> but I have to use it and can't just use socket's <code>OutputStream</code> directly as I need each sent file to have somwhat unique ID. Also sizes of out.zip and out2.zip are different by around 10kB (out2.zip is smaller)\nhere is Log dump: <a href=\"https://pastebin.com/UyTqnRYc\" rel=\"nofollow noreferrer\">https://pastebin.com/UyTqnRYc</a></p>\n<p>Function that sends data in chunks</p>\n<pre><code>        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ZipOutputStream zos = new ZipOutputStream(baos);\n        ZipParameters zipParameters = buildZipParameters(compressionMethod);\n        ObjectOutputStream objOS = new ObjectOutputStream(outputStream);\n        File f = new File(&quot;out2.zip&quot;);\n        FileOutputStream fos = new FileOutputStream(f);\n        for (File directory:pathsToDirectories) {\n            String relativeRootDirectory = directory.getName();\n            List&lt;File&gt; filesAndDirectories = Arrays.stream(Objects.requireNonNull(directory.listFiles())).toList();\n            for (File somefile:filesAndDirectories) {\n\n                if(somefile.isDirectory()){\n                    addDirectoryToZip(zos,somefile,zipParameters,relativeRootDirectory,rootDirectoryName);\n                }\n                else\n                {\n                    if (zipParameters.getCompressionMethod() == CompressionMethod.STORE) {\n                        zipParameters.setEntrySize(somefile.length());\n                    }\n                    byte[] buff = new byte[4096];\n                    zipParameters.setFileNameInZip(rootDirectoryName+ &quot;/&quot;+somefile.getName()); //YIKES\n                    zos.putNextEntry(zipParameters);\n                    try(InputStream inputStream = new FileInputStream(somefile)) {\n                        int readLen;\n                        while (((readLen = inputStream.read(buff)) != -1)) {\n                            zos.write(buff);\n                            byte[] b = baos.toByteArray();\n                            System.out.println(&quot;written :&quot;+baos.toByteArray().length);\n                            objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\n                            fos.write(baos.toByteArray());\n                            baos.reset();\n                            baos.flush();\n                        }\n                    }\n                    zos.closeEntry();\n                }\n\n            }\n        }\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\n        zos.flush();\n\n\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\n        System.out.println(baos.toByteArray().length);\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\n\n        fos.write(baos.toByteArray());\n        baos.reset();\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\n        fos.flush();\n        fos.close();\n        objOS.writeObject(new TransportDataModel((byte) -1,new byte[0]));\n\n        zos.close();\n\n    }\n</code></pre>\n<p>Record used as a packet</p>\n<pre><code>\nimport java.io.Serializable;\n\npublic record TransportDataModel(byte id, byte[] data) implements Serializable {\n}\n\n</code></pre>\n<p>Server code:</p>\n<pre><code>public Server(int port)\n    {\n        // starts server and waits for a connection\n        try\n        {\n            server = new ServerSocket(port);\n            System.out.println(&quot;Server started&quot;);\n\n            System.out.println(&quot;Waiting for a client ...&quot;);\n\n            socket = server.accept();\n            System.out.println(&quot;Client accepted&quot;);\n\n            \n            in = new ObjectInputStream(socket.getInputStream());\n            File f = new File(&quot;out.zip&quot;);\n            FileOutputStream outputStream = new FileOutputStream(f);\n            \n\n            TransportDataModel transportDataModel;\n            while (true) {\n                transportDataModel= (TransportDataModel) in.readObject();\n                    if (transportDataModel.id() == -1) {\n                        break;\n                    }\n                    if(transportDataModel.data().length != 0)\n                    {\n                        //System.out.println(transportDataModel.id());\n                        outputStream.write(transportDataModel.data());\n                    }\n\n\n            }\n            outputStream.flush();\n            outputStream.close();\n            System.out.println(&quot;Closing connection&quot;);\n\n            // close connection\n            socket.close();\n            in.close();\n            ZipFile zipFile = new ZipFile(&quot;out.zip&quot;);\n            zipFile.extractAll(&quot;/home/xenu/IdeaProjects/BBT-BasicBackupTool&quot;);\n        }\n        catch(IOException i)\n        {\n            i.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","react-native","google-play-console","prelaunch"],"comments":[{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":1,"creation_date":1646424208,"post_id":70870543,"comment_id":126128059,"body_markdown":"Did you learn anything else about this? I got the same error on the exact same test device. It looks like it crashed while in a `WebView`. The bot clicked a button that adjusted the website layout and this led to the crash: https://streamable.com/7k8irj","body":"Did you learn anything else about this? I got the same error on the exact same test device. It looks like it crashed while in a <code>WebView</code>. The bot clicked a button that adjusted the website layout and this led to the crash: <a href=\"https://streamable.com/7k8irj\" rel=\"nofollow noreferrer\">streamable.com/7k8irj</a>"},{"owner":{"account_id":1429043,"reputation":2724,"user_id":1351873,"accept_rate":66,"display_name":"Sergio Viudes"},"score":0,"creation_date":1666029725,"post_id":70870543,"comment_id":130833919,"body_markdown":"Same issue here. Did you find the problem?","body":"Same issue here. Did you find the problem?"}],"owner":{"account_id":24065285,"reputation":31,"user_id":18041948,"display_name":"noorboeing777"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643233976,"creation_date":1643232834,"question_id":70870543,"body_markdown":"I&#39;m getting this error in pre-lauch report and have looked everywhere on the internet but haven&#39;t found a solution. I&#39;m not sure how to correct this error. Our application is written in react-native. Please I would really appreciate any help\r\n\r\n**Error in Pre-launch report:**\r\n\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.nuba.mobile.android, PID: 18007\r\njava.lang.IllegalStateException: Cannot perform this action on a sealed instance.\r\n\tat android.view.accessibility.AccessibilityNodeInfo.enforceNotSealed(AccessibilityNodeInfo.java:2992)\r\n\tat android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:818)\r\n\tat android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:795)\r\n\tat android.view.accessibility.AccessibilityNodeInfo.obtain(AccessibilityNodeInfo.java:3008)\r\n\tat android.view.View.createAccessibilityNodeInfoInternal(View.java:7897)\r\n\tat android.view.View.createAccessibilityNodeInfo(View.java:7883)\r\n\tat android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchDescendantsOfRealNode(AccessibilityInteractionController.java:1051)\r\n\tat android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchAccessibilityNodeInfos(AccessibilityInteractionController.java:876)\r\n\tat android.view.AccessibilityInteractionController.findAccessibilityNodeInfoByAccessibilityIdUiThread(AccessibilityInteractionController.java:199)\r\n\tat android.view.AccessibilityInteractionController.-wrap1(Unknown Source:0)\r\n\tat android.view.AccessibilityInteractionController$PrivateHandler.handleMessage(AccessibilityInteractionController.java:1225)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:105)\r\n\tat android.os.Looper.loop(Looper.java:164)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6938)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n```\r\n\r\n**They tested it on this device for example.**\r\n[enter image description here][1]\r\n\r\n**I have attached the logcat**\r\nhttps://codeshare.io/78O6Z1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dCq1N.png","title":"How to solve: java.lang.IllegalStateException: Cannot perform this action on a sealed instance","body":"<p>I'm getting this error in pre-lauch report and have looked everywhere on the internet but haven't found a solution. I'm not sure how to correct this error. Our application is written in react-native. Please I would really appreciate any help</p>\n<p><strong>Error in Pre-launch report:</strong></p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.nuba.mobile.android, PID: 18007\njava.lang.IllegalStateException: Cannot perform this action on a sealed instance.\n    at android.view.accessibility.AccessibilityNodeInfo.enforceNotSealed(AccessibilityNodeInfo.java:2992)\n    at android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:818)\n    at android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:795)\n    at android.view.accessibility.AccessibilityNodeInfo.obtain(AccessibilityNodeInfo.java:3008)\n    at android.view.View.createAccessibilityNodeInfoInternal(View.java:7897)\n    at android.view.View.createAccessibilityNodeInfo(View.java:7883)\n    at android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchDescendantsOfRealNode(AccessibilityInteractionController.java:1051)\n    at android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchAccessibilityNodeInfos(AccessibilityInteractionController.java:876)\n    at android.view.AccessibilityInteractionController.findAccessibilityNodeInfoByAccessibilityIdUiThread(AccessibilityInteractionController.java:199)\n    at android.view.AccessibilityInteractionController.-wrap1(Unknown Source:0)\n    at android.view.AccessibilityInteractionController$PrivateHandler.handleMessage(AccessibilityInteractionController.java:1225)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6938)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n</code></pre>\n<p><strong>They tested it on this device for example.</strong>\n<a href=\"https://i.stack.imgur.com/dCq1N.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>I have attached the logcat</strong>\n<a href=\"https://codeshare.io/78O6Z1\" rel=\"nofollow noreferrer\">https://codeshare.io/78O6Z1</a></p>\n"},{"tags":["java","google-chrome","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643270750,"post_id":70870252,"comment_id":125296223,"body_markdown":"_... I am aware that credentials **prior to** the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method..._: The new method (AES/GCM) is not used prior to, but **from incl.** v80. In v79 and before the old method (DPAPI) was used.","body":"<i>... I am aware that credentials <b>prior to</b> the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method...</i>: The new method (AES/GCM) is not used prior to, but <b>from incl.</b> v80. In v79 and before the old method (DPAPI) was used."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643270995,"post_id":70870252,"comment_id":125296300,"body_markdown":"_...all my old credentials when attempting to decrypt them through the old process (**despite having the v10 prefix**)..._: Why are you trying to decrypt credentials with the v10 prefix using DPAPI (old method)? v10 refers to credentials encrypted with AES/GCM (new method).","body":"<i>...all my old credentials when attempting to decrypt them through the old process (<b>despite having the v10 prefix</b>)...</i>: Why are you trying to decrypt credentials with the v10 prefix using DPAPI (old method)? v10 refers to credentials encrypted with AES/GCM (new method)."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643271093,"post_id":70870252,"comment_id":125296338,"body_markdown":"I&#39;m not sure if I&#39;m just misunderstanding the question or if you&#39;re confusing something, I recommend that you read: http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/","body":"I&#39;m not sure if I&#39;m just misunderstanding the question or if you&#39;re confusing something, I recommend that you read: <a href=\"http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/\" rel=\"nofollow noreferrer\">xenarmor.com/how-to-recover-saved-passwords-google-chrome</a>"},{"owner":{"account_id":24065062,"reputation":17,"user_id":18041750,"display_name":"Xefer"},"score":0,"creation_date":1643303563,"post_id":70870252,"comment_id":125309770,"body_markdown":"The crypt32util thing is the DPAPI, i just forgot what it was called, but pretty much I am checking whether it has the v10 prefix, and if it does it means it is v80+ meaning that I try the AES/GCM method, however my old passwords still have the v10 prefix, but when i try to decrypt through aes/gcm i get the AEADBadTagException\n\nAlso, thanks for this resource [ http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/ ]  but this is also one of the ones I have used but it still only works sometimes","body":"The crypt32util thing is the DPAPI, i just forgot what it was called, but pretty much I am checking whether it has the v10 prefix, and if it does it means it is v80+ meaning that I try the AES/GCM method, however my old passwords still have the v10 prefix, but when i try to decrypt through aes/gcm i get the AEADBadTagException  Also, thanks for this resource [ <a href=\"http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/\" rel=\"nofollow noreferrer\">xenarmor.com/how-to-recover-saved-passwords-google-chrome</a> ]  but this is also one of the ones I have used but it still only works sometimes"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643355197,"post_id":70870252,"comment_id":125322168,"body_markdown":"Passwords with v10 prefix are generated with the new method (the old method does not prepend a v10). Since decryption seems to work for some passwords with v10 prefix, the implementation itself seems to work. And since the processing of ciphertext, nonce and tag has not changed since v80 to my knowledge, I would guess a problem with the master key. Perhaps the master key for the passwords that can&#39;t be decrypted is different than the current master key.","body":"Passwords with v10 prefix are generated with the new method (the old method does not prepend a v10). Since decryption seems to work for some passwords with v10 prefix, the implementation itself seems to work. And since the processing of ciphertext, nonce and tag has not changed since v80 to my knowledge, I would guess a problem with the master key. Perhaps the master key for the passwords that can&#39;t be decrypted is different than the current master key."}],"owner":{"account_id":24065062,"reputation":17,"user_id":18041750,"display_name":"Xefer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643233506,"creation_date":1643231208,"question_id":70870252,"body_markdown":"[The following thread is posted under the same tags as a similar thread to which I will make a reference: https://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies ]\r\n\r\nHello everyone, as you have read in the title, I am getting a AEADBadTagException whilst attempting to decrypt my credentials, I am aware that credentials prior to the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method. I have done some reading into the new ways chrome deals with and figured out they were encrypted with aes-256. And i figured out how to decrypt that too.\r\nHowever, this only works for recently saved credentials, all my old credentials when attempting to decrypt them through the old process (despite having the v10 prefix) throw the AEADBadTagException\r\n\r\nhttps://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies\r\nThis is where i sourced the base for my code ( I am aware it is pretty much a copy paste but i do credit the author within my code )\r\n```\r\nHashMap&lt;String, String&gt; dataMap = new HashMap&lt;&gt;();\r\nif (new String(encryptedCred).contains(&quot;v10&quot;)) {\r\n    try {\r\n        byte[] nonce = Arrays.copyOfRange(encryptedCred, 3, 3 + 12);\r\n        byte[] ciphertextTag = Arrays.copyOfRange(encryptedCred, 3 + 12, encryptedCred.length);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, nonce);\r\n        assert masterKey != null;\r\n        SecretKeySpec keySpec = new SecretKeySpec(masterKey, &quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec);\r\n        byte[] decryptedCred = cipher.doFinal(ciphertextTag);\r\n        dataMap.put(&quot;origin_url&quot;, resultSet.getString(&quot;origin_url&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\r\n        dataMap.put(&quot;username_value&quot;, resultSet.getString(&quot;username_value&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\r\n        dataMap.put(&quot;password_value&quot;, new String(decryptedCred).replace(&quot;\\\\/&quot;, &quot;/&quot;));\r\n    } catch (AEADBadTagException e){\r\n        e.printStackTrace();\r\n        bad_counter++;\r\n    }\r\nelse {\r\n    Crypt32Util.blablabla()\r\n}\r\n```\r\n\r\nWhat else have I tried:\r\nAES/GCM/PKCS5Padding\r\nAES/GCM/NoPadding\r\n\r\nAttempt to decrypt the result with cryptutilunprtectedtata\r\nAttempt to decrypt with cryptutilunprtectedtata and then aes-256\r\n\r\nSo now I am starting to wonder whether or not it is possible to decrypt previously stored credentials that are still past chrome v80","title":"AEADBadTagException whilst decrypting my chrome credentials","body":"<p>[The following thread is posted under the same tags as a similar thread to which I will make a reference: https://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies ]</p>\n<p>Hello everyone, as you have read in the title, I am getting a AEADBadTagException whilst attempting to decrypt my credentials, I am aware that credentials prior to the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method. I have done some reading into the new ways chrome deals with and figured out they were encrypted with aes-256. And i figured out how to decrypt that too.\nHowever, this only works for recently saved credentials, all my old credentials when attempting to decrypt them through the old process (despite having the v10 prefix) throw the AEADBadTagException</p>\n<p><a href=\"https://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies\">Java - How do I decrypt Chrome cookies?</a>\nThis is where i sourced the base for my code ( I am aware it is pretty much a copy paste but i do credit the author within my code )</p>\n<pre><code>HashMap&lt;String, String&gt; dataMap = new HashMap&lt;&gt;();\nif (new String(encryptedCred).contains(&quot;v10&quot;)) {\n    try {\n        byte[] nonce = Arrays.copyOfRange(encryptedCred, 3, 3 + 12);\n        byte[] ciphertextTag = Arrays.copyOfRange(encryptedCred, 3 + 12, encryptedCred.length);\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, nonce);\n        assert masterKey != null;\n        SecretKeySpec keySpec = new SecretKeySpec(masterKey, &quot;AES&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec);\n        byte[] decryptedCred = cipher.doFinal(ciphertextTag);\n        dataMap.put(&quot;origin_url&quot;, resultSet.getString(&quot;origin_url&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\n        dataMap.put(&quot;username_value&quot;, resultSet.getString(&quot;username_value&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\n        dataMap.put(&quot;password_value&quot;, new String(decryptedCred).replace(&quot;\\\\/&quot;, &quot;/&quot;));\n    } catch (AEADBadTagException e){\n        e.printStackTrace();\n        bad_counter++;\n    }\nelse {\n    Crypt32Util.blablabla()\n}\n</code></pre>\n<p>What else have I tried:\nAES/GCM/PKCS5Padding\nAES/GCM/NoPadding</p>\n<p>Attempt to decrypt the result with cryptutilunprtectedtata\nAttempt to decrypt with cryptutilunprtectedtata and then aes-256</p>\n<p>So now I am starting to wonder whether or not it is possible to decrypt previously stored credentials that are still past chrome v80</p>\n"},{"tags":["java","sonarqube"],"answers":[{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615707953,"creation_date":1615707953,"answer_id":66622193,"question_id":66622142,"body_markdown":"Try this.\r\n\r\n    if (splitStrings.length == 2\r\n        &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\r\n            || Integer.parseInt(splitStrings[1]) &gt; 100\r\n            || Integer.parseInt(splitStrings[1]) &lt; 1)) {\r\n        throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n    }\r\n","title":"Merge this if statement with the enclosing one","body":"<p>Try this.</p>\n<pre><code>if (splitStrings.length == 2\n    &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\n        || Integer.parseInt(splitStrings[1]) &gt; 100\n        || Integer.parseInt(splitStrings[1]) &lt; 1)) {\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615708008,"creation_date":1615708008,"answer_id":66622198,"question_id":66622142,"body_markdown":"You should merge them by &amp;&amp; between them and wrap the second with brackets, like:\r\n```\r\nif(splitStrings.length == 2 &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) || Integer.parseInt(splitStrings[1]) &gt; 100 || Integer.parseInt(splitStrings[1]) &lt; 1)){\r\n    //code here\r\n}\r\n```","title":"Merge this if statement with the enclosing one","body":"<p>You should merge them by &amp;&amp; between them and wrap the second with brackets, like:</p>\n<pre><code>if(splitStrings.length == 2 &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) || Integer.parseInt(splitStrings[1]) &gt; 100 || Integer.parseInt(splitStrings[1]) &lt; 1)){\n    //code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615709285,"creation_date":1615709285,"answer_id":66622320,"question_id":66622142,"body_markdown":"You could do three things:\r\n 1. Either you need to chain the conditions as below:\r\n```java\r\nif (splitStrings.length == 2\r\n    &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\r\n        || Integer.parseInt(splitStrings[1]) &gt; 100\r\n        || Integer.parseInt(splitStrings[1]) &lt; 1)) {\r\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n}\r\n```\r\n\r\n 2. You could declare local variable for `Integer.parseInt(splitStrings[1])` inside the first `if` after adding the matches condition in it.\r\n```java\r\nif (splitStrings.length == 2 &amp;&amp; splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)) {\r\n    int val = Integer.parseInt(splitStrings[1]);\r\n    if (val &gt; 100 || val &lt; 1)) {\r\n        throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n    }\r\n}\r\n```\r\n\r\n3. Even though i won&#39;t recommend it, you could also suppress the warning using `//NOSONAR` in the line in which warning is displayed or add `@SuppressWarnings(&quot;squid:S1066&quot;)` at the method level.","title":"Merge this if statement with the enclosing one","body":"<p>You could do three things:</p>\n<ol>\n<li>Either you need to chain the conditions as below:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (splitStrings.length == 2\n    &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\n        || Integer.parseInt(splitStrings[1]) &gt; 100\n        || Integer.parseInt(splitStrings[1]) &lt; 1)) {\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n}\n</code></pre>\n<ol start=\"2\">\n<li>You could declare local variable for <code>Integer.parseInt(splitStrings[1])</code> inside the first <code>if</code> after adding the matches condition in it.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (splitStrings.length == 2 &amp;&amp; splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)) {\n    int val = Integer.parseInt(splitStrings[1]);\n    if (val &gt; 100 || val &lt; 1)) {\n        throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Even though i won't recommend it, you could also suppress the warning using <code>//NOSONAR</code> in the line in which warning is displayed or add <code>@SuppressWarnings(&quot;squid:S1066&quot;)</code> at the method level.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615716991,"creation_date":1615716991,"answer_id":66623274,"question_id":66622142,"body_markdown":"`Integer.parseInt` may be skipped altogether if a better regexp is provided to check for the digits in the range [1..100], thus the conditions could be simplified:\r\n```java\r\nif (splitStrings.length == 2 &amp;&amp; !splitStrings[1].matches(&quot;(?!0)\\\\d{1,2}|100&quot;)) {\r\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n}\r\n```\r\n\r\n[Online demo](https://www.regexplanet.com/share/index.html?share=yyyydqxyjar) of the regexp: `(?!0)\\d{1,2}|100` validating _positive_ cases `0 &lt; x &lt;= 100`\r\n* `(?!0)\\d{1,2}` - 1 or 2 digit numbers except `0` excluded with negative lookahead `(?!0)`: 1 - 99\r\n* `|100` - OR `100`","title":"Merge this if statement with the enclosing one","body":"<p><code>Integer.parseInt</code> may be skipped altogether if a better regexp is provided to check for the digits in the range [1..100], thus the conditions could be simplified:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (splitStrings.length == 2 &amp;&amp; !splitStrings[1].matches(&quot;(?!0)\\\\d{1,2}|100&quot;)) {\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n}\n</code></pre>\n<p><a href=\"https://www.regexplanet.com/share/index.html?share=yyyydqxyjar\" rel=\"nofollow noreferrer\">Online demo</a> of the regexp: <code>(?!0)\\d{1,2}|100</code> validating <em>positive</em> cases <code>0 &lt; x &lt;= 100</code></p>\n<ul>\n<li><code>(?!0)\\d{1,2}</code> - 1 or 2 digit numbers except <code>0</code> excluded with negative lookahead <code>(?!0)</code>: 1 - 99</li>\n<li><code>|100</code> - OR <code>100</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17433686,"reputation":5225,"user_id":12637193,"display_name":"T N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643233409,"creation_date":1643233409,"answer_id":70870643,"question_id":66622142,"body_markdown":"In my opinion the assertion that combining if statements makes code more readable is flawed. Often it makes sense to ask a series of questions in sequence, especially when each part is asking an essentially independent question.\r\n\r\nThis can (in direct opposition of the SonarQube assertion) make each part more readable. It also allows for correct placement of useful comments in cases where the meaning is not stupidly obvious.\r\n\r\nAnother valid reason for nested if statements would be to follow certain easily recognized coding patterns. An example would be in ASP.Net applications where Page_Load methods may often have an if (!PostBack) block, which can then contain additional logic that may include additional nested conditions. If there is only one nested condition and it is combined, later changes may need to undo that merge. (There may be a case at that point for refactoring the logic into a separate method at that point, but that is a different subject.)\r\n\r\nThe question of whether or not to combine nested if statements should be left to the discretion and good judgement of the author (and code reviewer) based on which form is more readable and/or maintainable.\r\n\r\nIn your particular case, your logic is asking two questions: (1) &quot;Does the input have two parts?&quot; and (2) &quot;Is the second part valid&quot;?\r\n\r\nSo yes, your nested if statements can be combined into a single (but logically more complex) statement, but this is not necessarily better.","title":"Merge this if statement with the enclosing one","body":"<p>In my opinion the assertion that combining if statements makes code more readable is flawed. Often it makes sense to ask a series of questions in sequence, especially when each part is asking an essentially independent question.</p>\n<p>This can (in direct opposition of the SonarQube assertion) make each part more readable. It also allows for correct placement of useful comments in cases where the meaning is not stupidly obvious.</p>\n<p>Another valid reason for nested if statements would be to follow certain easily recognized coding patterns. An example would be in ASP.Net applications where Page_Load methods may often have an if (!PostBack) block, which can then contain additional logic that may include additional nested conditions. If there is only one nested condition and it is combined, later changes may need to undo that merge. (There may be a case at that point for refactoring the logic into a separate method at that point, but that is a different subject.)</p>\n<p>The question of whether or not to combine nested if statements should be left to the discretion and good judgement of the author (and code reviewer) based on which form is more readable and/or maintainable.</p>\n<p>In your particular case, your logic is asking two questions: (1) &quot;Does the input have two parts?&quot; and (2) &quot;Is the second part valid&quot;?</p>\n<p>So yes, your nested if statements can be combined into a single (but logically more complex) statement, but this is not necessarily better.</p>\n"}],"owner":{"account_id":13848005,"reputation":57,"user_id":15003265,"display_name":"user572490"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2151,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":5,"score":-2,"last_activity_date":1643233409,"creation_date":1615707522,"question_id":66622142,"body_markdown":"I&#39;m running my code on sonarqube, but it shows there&#39;s an issue with my code, saying&quot;Merge this if statement with the enclosing one.&quot; I tried it, but still have no idea how to solve it.\r\n```\r\nif (splitStrings.length == 2) {\r\n    if (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) \r\n        || Integer.parseInt(splitStrings[1]) &gt; 100 \r\n        || Integer.parseInt(splitStrings[1]) &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n    }\r\n}\r\n```","title":"Merge this if statement with the enclosing one","body":"<p>I'm running my code on sonarqube, but it shows there's an issue with my code, saying&quot;Merge this if statement with the enclosing one.&quot; I tried it, but still have no idea how to solve it.</p>\n<pre><code>if (splitStrings.length == 2) {\n    if (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) \n        || Integer.parseInt(splitStrings[1]) &gt; 100 \n        || Integer.parseInt(splitStrings[1]) &lt; 1) {\n            throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643222778,"creation_date":1643222778,"answer_id":70868734,"question_id":70865875,"body_markdown":"Order matters. The first ant pattern that matches decides the access. So in your case:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    http\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\r\n            .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\r\n            .antMatchers(&quot;/sa/**&quot;).authenticated()\r\n\r\nNote that the least specific path is last.","title":"AntMatchers are not working in Spring Security","body":"<p>Order matters. The first ant pattern that matches decides the access. So in your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n    .authorizeRequests()\n        .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\n        .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\n        .antMatchers(&quot;/sa/**&quot;).authenticated()\n</code></pre>\n<p>Note that the least specific path is last.</p>\n"}],"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643620883,"answer_count":1,"score":0,"last_activity_date":1643233162,"creation_date":1643210558,"question_id":70865875,"body_markdown":"I&#39;ve two URLs in my application:\r\n\r\n- `/sa/abc` (which should be accessible to role - ABC)\r\n- `/sa/practice` (which should be accessible to role - ADMIN)\r\n\r\n\r\nFor this I&#39;ve configured:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/sa/**&quot;).authenticated()\r\n            .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\r\n            .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\r\n\r\n\r\nI was expecting user with role `ABC` will not be able to access `/sa/practices/link1`, but he is able to.\r\n\r\nAlso I want to know what will happen to the links which are not mentioned in `antMatchers`. My guess is they can be accessed without any issue regardless of the role.\r\n\r\nAm I correct?\r\n","title":"AntMatchers are not working in Spring Security","body":"<p>I've two URLs in my application:</p>\n<ul>\n<li><code>/sa/abc</code> (which should be accessible to role - ABC)</li>\n<li><code>/sa/practice</code> (which should be accessible to role - ADMIN)</li>\n</ul>\n<p>For this I've configured:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n    .authorizeRequests()\n        .antMatchers(&quot;/sa/**&quot;).authenticated()\n        .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\n        .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\n</code></pre>\n<p>I was expecting user with role <code>ABC</code> will not be able to access <code>/sa/practices/link1</code>, but he is able to.</p>\n<p>Also I want to know what will happen to the links which are not mentioned in <code>antMatchers</code>. My guess is they can be accessed without any issue regardless of the role.</p>\n<p>Am I correct?</p>\n"},{"tags":["java","security","encryption"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1323161443,"post_id":8397047,"comment_id":10368110,"body_markdown":"Actually I&#39;m getting this exception when trying to use jasypt library. I posted a problem to their forum already: http://forum.jasypt.org/PBEWithMD5AndDES-SecretKeyFactory-not-available-td5051447.html","body":"Actually I&#39;m getting this exception when trying to use jasypt library. I posted a problem to their forum already: <a href=\"http://forum.jasypt.org/PBEWithMD5AndDES-SecretKeyFactory-not-available-td5051447.html\" rel=\"nofollow noreferrer\">forum.jasypt.org/&hellip;</a>"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1323163409,"post_id":8397047,"comment_id":10368529,"body_markdown":"Have you installed the policy files as stated on this page? http://www.jasypt.org/dependencies.html","body":"Have you installed the policy files as stated on this page? <a href=\"http://www.jasypt.org/dependencies.html\" rel=\"nofollow noreferrer\">jasypt.org/dependencies.html</a>"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1323163727,"post_id":8397047,"comment_id":10368601,"body_markdown":"No, I didn&#39;t. Do you know how to add them to Maven project?","body":"No, I didn&#39;t. Do you know how to add them to Maven project?"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1323163786,"post_id":8397047,"comment_id":10368615,"body_markdown":"You need to add them to the jdk itself","body":"You need to add them to the jdk itself"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1323163879,"post_id":8397047,"comment_id":10368634,"body_markdown":"Actually when reading: http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html#SunJCEProvider it sais that SunJCEProvider is optional. You need PBEWithMD5AndDES and this is the provider responsible.","body":"Actually when reading: <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html#SunJCEProvider\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/guides/security/&hellip;</a> it sais that SunJCEProvider is optional. You need PBEWithMD5AndDES and this is the provider responsible."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1323164465,"post_id":8397047,"comment_id":10368764,"body_markdown":"`PBEWithMD5AndDES SecretKeyFactory not available`","body":"<code>PBEWithMD5AndDES SecretKeyFactory not available</code>"},{"owner":{"account_id":226759,"reputation":6029,"user_id":487980,"accept_rate":76,"display_name":"Flethuseo"},"score":0,"creation_date":1520867352,"post_id":8397047,"comment_id":85480354,"body_markdown":"For Java 1.8, I was getting the same error until I found a workaround mentioned in JDK-8185292. I added the following property in code and that fixed the problem:\nSystem.setProperty(&quot;jdk.crypto.KeyAgreement.legacyKDF&quot;,&quot;true&quot;);","body":"For Java 1.8, I was getting the same error until I found a workaround mentioned in JDK-8185292. I added the following property in code and that fixed the problem: System.setProperty(&quot;jdk.crypto.KeyAgreement.legacyKDF&quot;,&quot;true&zwnj;&#8203;&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643233032,"creation_date":1323160123,"answer_id":8397072,"question_id":8397047,"body_markdown":"This is a verified java bug. See https://bugs.openjdk.java.net/browse/JDK-7022467\r\n\r\nEDIT: Different java versions support different algorithms, you can also extend it with custom providers and so on. Oracle has a list for java 6 here http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html . For KeyFactory this is DSA.","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>This is a verified java bug. See <a href=\"https://bugs.openjdk.java.net/browse/JDK-7022467\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-7022467</a></p>\n<p>EDIT: Different java versions support different algorithms, you can also extend it with custom providers and so on. Oracle has a list for java 6 here <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html</a> . For KeyFactory this is DSA.</p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1323165247,"creation_date":1323165247,"answer_id":8397993,"question_id":8397047,"body_markdown":"You don&#39;t really need to use `SecretKeyFactory`. You can create an AES key with the following;\r\n\r\n    byte[] keyData = ........ \r\n    SecretKeySpec key = new SecretKeySpec(keyData, &quot;AES&quot;);\r\n\r\nIf you want to do password based encryption (PBE) then simply choose a secure hashing algorithm that gives you a hash the same size as the required key. For example, if you want a 256 bit key for AES, here is a method to build the key;\r\n\r\n    private Key buildKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n      MessageDigest digester = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n      digester.update(password.getBytes(&quot;UTF-8&quot;));\r\n      byte[] key = digester.digest();\r\n      SecretKeySpec spec = new SecretKeySpec(key, &quot;AES&quot;);\r\n      return spec;\r\n    }\r\n\r\n**Edit:**  \r\nI would recommend against using MD5 and DES unless this is a play project, both have weaknesses and are considered obsolete.","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>You don't really need to use <code>SecretKeyFactory</code>. You can create an AES key with the following;</p>\n\n<pre><code>byte[] keyData = ........ \nSecretKeySpec key = new SecretKeySpec(keyData, \"AES\");\n</code></pre>\n\n<p>If you want to do password based encryption (PBE) then simply choose a secure hashing algorithm that gives you a hash the same size as the required key. For example, if you want a 256 bit key for AES, here is a method to build the key;</p>\n\n<pre><code>private Key buildKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\n  MessageDigest digester = MessageDigest.getInstance(\"SHA-256\");\n  digester.update(password.getBytes(\"UTF-8\"));\n  byte[] key = digester.digest();\n  SecretKeySpec spec = new SecretKeySpec(key, \"AES\");\n  return spec;\n}\n</code></pre>\n\n<p><strong>Edit:</strong><br>\nI would recommend against using MD5 and DES unless this is a play project, both have weaknesses and are considered obsolete.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363466730,"creation_date":1363466730,"answer_id":15454536,"question_id":8397047,"body_markdown":"Not all versions of Java provide a `SecretKeyFactory` for &quot;AES&quot; in their default providers.\r\n\r\nIf you want to generate a new key, choose the desired number of bits (128, 192, or 256) from a `SecureRandom` instance, and use that random number to initialize a `SecretKeySpec` instance.\r\n\r\nIf you are using password-based encryption, create a `SecretKeyFactory` for the &quot;PBKDF2WithHmacSHA1&quot; algorithm, and use it to initialize a `SecretKeySpec` instance as [illustrated here.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/992413/3474","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>Not all versions of Java provide a <code>SecretKeyFactory</code> for \"AES\" in their default providers.</p>\n\n<p>If you want to generate a new key, choose the desired number of bits (128, 192, or 256) from a <code>SecureRandom</code> instance, and use that random number to initialize a <code>SecretKeySpec</code> instance.</p>\n\n<p>If you are using password-based encryption, create a <code>SecretKeyFactory</code> for the \"PBKDF2WithHmacSHA1\" algorithm, and use it to initialize a <code>SecretKeySpec</code> instance as <a href=\"https://stackoverflow.com/a/992413/3474\">illustrated here.</a></p>\n"},{"tags":[],"owner":{"account_id":993401,"reputation":679,"user_id":1009994,"accept_rate":70,"display_name":"Aerox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642004784,"creation_date":1642004784,"answer_id":70685024,"question_id":8397047,"body_markdown":"If you try to print all your providers, you probably missed the one that you need.\r\nTry to call this method and see what it prints out.\r\n\r\n    for (Object obj : java.security.Security.getProviders()) {\r\n        System.out.println(obj);\r\n    }\r\n\r\nIn case for example you need a specific provider (like the Bouncy Castle one), add the dependency to your App and add it on Security Providers as follows:\r\n\r\n    java.security.Security.addProvider(new BouncyCastleProvider());\r\n\r\nand then see again your provider list.\r\n\r\nGive a try with all of your algorithm and see which one are supported. An example can be done with jasypt encryption\r\n\r\n    import org.jasypt.encryption.pbe.StandardPBEStringEncryptor;\r\n    import org.jasypt.encryption.pbe.config.SimpleStringPBEConfig;\r\n    import org.jasypt.exceptions.EncryptionOperationNotPossibleException;\r\n    import org.jasypt.registry.AlgorithmRegistry;\r\n\r\nwith the following code:\r\n\r\n    Set&lt;String&gt; supported = new TreeSet&lt;&gt;();\r\n\tSet&lt;String&gt; unsupported = new TreeSet&lt;&gt;();\r\n\tfor (Object oAlgorithm : AlgorithmRegistry.getAllPBEAlgorithms()) {\r\n\t\tString algorithm = (String) oAlgorithm;\r\n\t\ttry {\r\n\t\t\tSimpleStringPBEConfig pbeConfig = new SimpleStringPBEConfig();\r\n\t\t\tpbeConfig.setAlgorithm(algorithm);\r\n\t\t\tpbeConfig.setPassword(&quot;changeme&quot;);\r\n\t\t\tStandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();\r\n\t\t\tencryptor.setConfig(pbeConfig);\r\n\t\t\tString encrypted = encryptor.encrypt(&quot;foo&quot;);\r\n\t\t\tString decrypted = encryptor.decrypt(encrypted);\r\n\t\t\tsupported.add(algorithm);\r\n\t\t} catch (EncryptionOperationNotPossibleException e) {\r\n\t\t\tunsupported.add(algorithm);\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;Supported&quot;);\r\n\tsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));\r\n\tSystem.out.println(&quot;Unsupported&quot;);\r\n\tunsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>If you try to print all your providers, you probably missed the one that you need.\nTry to call this method and see what it prints out.</p>\n<pre><code>for (Object obj : java.security.Security.getProviders()) {\n    System.out.println(obj);\n}\n</code></pre>\n<p>In case for example you need a specific provider (like the Bouncy Castle one), add the dependency to your App and add it on Security Providers as follows:</p>\n<pre><code>java.security.Security.addProvider(new BouncyCastleProvider());\n</code></pre>\n<p>and then see again your provider list.</p>\n<p>Give a try with all of your algorithm and see which one are supported. An example can be done with jasypt encryption</p>\n<pre><code>import org.jasypt.encryption.pbe.StandardPBEStringEncryptor;\nimport org.jasypt.encryption.pbe.config.SimpleStringPBEConfig;\nimport org.jasypt.exceptions.EncryptionOperationNotPossibleException;\nimport org.jasypt.registry.AlgorithmRegistry;\n</code></pre>\n<p>with the following code:</p>\n<pre><code>Set&lt;String&gt; supported = new TreeSet&lt;&gt;();\nSet&lt;String&gt; unsupported = new TreeSet&lt;&gt;();\nfor (Object oAlgorithm : AlgorithmRegistry.getAllPBEAlgorithms()) {\n    String algorithm = (String) oAlgorithm;\n    try {\n        SimpleStringPBEConfig pbeConfig = new SimpleStringPBEConfig();\n        pbeConfig.setAlgorithm(algorithm);\n        pbeConfig.setPassword(&quot;changeme&quot;);\n        StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();\n        encryptor.setConfig(pbeConfig);\n        String encrypted = encryptor.encrypt(&quot;foo&quot;);\n        String decrypted = encryptor.decrypt(encrypted);\n        supported.add(algorithm);\n    } catch (EncryptionOperationNotPossibleException e) {\n        unsupported.add(algorithm);\n    }\n}\nSystem.out.println(&quot;Supported&quot;);\nsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));\nSystem.out.println(&quot;Unsupported&quot;);\nunsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55586,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1643233032,"creation_date":1323159958,"question_id":8397047,"body_markdown":"What&#39;s wrong with this?\r\n\r\n    for (Object obj : java.security.Security.getAlgorithms(&quot;Cipher&quot;)) {\r\n      System.out.println(obj);\r\n    }\r\n    javax.crypto.SecretKeyFactory.getInstance(&quot;AES&quot;);\r\n\r\nThis is the output (JDK 1.6 on Mac OS 10.6):\r\n\r\n\tBLOWFISH\r\n\tARCFOUR\r\n\tPBEWITHMD5ANDDES\r\n\tRC2\r\n\tRSA\r\n\tPBEWITHMD5ANDTRIPLEDES\r\n\tPBEWITHSHA1ANDDESEDE\r\n\tDESEDE\r\n\tAESWRAP\r\n\tAES\r\n\tDES\r\n\tDESEDEWRAP\r\n\tPBEWITHSHA1ANDRC2_40\r\n\r\n\tjava.security.NoSuchAlgorithmException: AES SecretKeyFactory not available\r\n\t at javax.crypto.SecretKeyFactory.&lt;init&gt;(DashoA13*..)\r\n\t at javax.crypto.SecretKeyFactory.getInstance(DashoA13*..)\r\n     ...\r\n","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>What's wrong with this?</p>\n\n<pre><code>for (Object obj : java.security.Security.getAlgorithms(\"Cipher\")) {\n  System.out.println(obj);\n}\njavax.crypto.SecretKeyFactory.getInstance(\"AES\");\n</code></pre>\n\n<p>This is the output (JDK 1.6 on Mac OS 10.6):</p>\n\n<pre><code>BLOWFISH\nARCFOUR\nPBEWITHMD5ANDDES\nRC2\nRSA\nPBEWITHMD5ANDTRIPLEDES\nPBEWITHSHA1ANDDESEDE\nDESEDE\nAESWRAP\nAES\nDES\nDESEDEWRAP\nPBEWITHSHA1ANDRC2_40\n\njava.security.NoSuchAlgorithmException: AES SecretKeyFactory not available\n at javax.crypto.SecretKeyFactory.&lt;init&gt;(DashoA13*..)\n at javax.crypto.SecretKeyFactory.getInstance(DashoA13*..)\n ...\n</code></pre>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643229646,"post_id":70869930,"comment_id":125287446,"body_markdown":"Look at the pattern you&#39;re passing into `DateTimeFormatter.ofPattern`. It looks *nothing* like the value you&#39;re asking it to parse.","body":"Look at the pattern you&#39;re passing into <code>DateTimeFormatter.ofPattern</code>. It looks <i>nothing</i> like the value you&#39;re asking it to parse."},{"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"score":0,"creation_date":1643229766,"post_id":70869930,"comment_id":125287497,"body_markdown":"Apologies if I have it backwards, but I thought that was the output format I wanted to receive?","body":"Apologies if I have it backwards, but I thought that was the output format I wanted to receive?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643229850,"post_id":70869930,"comment_id":125287524,"body_markdown":"No. You&#39;re trying to parse to a `LocalDateTime`. That&#39;s just a value - it doesn&#39;t *have* a format. (If you want to convert it to a string other than in the default format, you need to specify the format at that point.) You&#39;re asking the `DateTimeFormatter` to be used to *parse* the incoming value, which means its pattern has to match the incoming value.","body":"No. You&#39;re trying to parse to a <code>LocalDateTime</code>. That&#39;s just a value - it doesn&#39;t <i>have</i> a format. (If you want to convert it to a string other than in the default format, you need to specify the format at that point.) You&#39;re asking the <code>DateTimeFormatter</code> to be used to <i>parse</i> the incoming value, which means its pattern has to match the incoming value."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643229894,"post_id":70869930,"comment_id":125287544,"body_markdown":"(If you can affect the format that is stored in MongoDB, I would do so - that&#39;s a horrible date/time format. But that&#39;s a different matter.)","body":"(If you can affect the format that is stored in MongoDB, I would do so - that&#39;s a horrible date/time format. But that&#39;s a different matter.)"},{"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"score":0,"creation_date":1643230139,"post_id":70869930,"comment_id":125287636,"body_markdown":"Hmmm gotcha! I&#39;ll look into useing RFC_1123_DATE_TIME as the formatter instead. Looks like I had it all backwards in my mind.","body":"Hmmm gotcha! I&#39;ll look into useing RFC_1123_DATE_TIME as the formatter instead. Looks like I had it all backwards in my mind."},{"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"score":0,"creation_date":1643230189,"post_id":70869930,"comment_id":125287657,"body_markdown":"And trust me, already making that push! All future updates to that DB will be in ISO_DATE_TIME format hopefully. Much thanks for the input!","body":"And trust me, already making that push! All future updates to that DB will be in ISO_DATE_TIME format hopefully. Much thanks for the input!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643234744,"post_id":70869930,"comment_id":125289095,"body_markdown":"Yes, use [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats for exchanging date-time values as text. That is why the standard was invented.","body":"Yes, use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for exchanging date-time values as text. That is why the standard was invented."}],"answers":[{"tags":[],"owner":{"account_id":11241181,"reputation":143,"user_id":9670502,"display_name":"Ihor Horovyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643233009,"creation_date":1643233009,"answer_id":70870573,"question_id":70869930,"body_markdown":"You have the wrong date format pattern to parse your date string.\r\n\r\n    String parsePattern = &quot;EEE MMM dd yyyy HH:mm:ss O (zzzz)&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(parsePattern);\r\n\r\n\r\n    String dateString = &quot;Wed Jan 26 2022 22:33:07 GMT+1 (Central European Standard Time)&quot;;\r\n    LocalDateTime dateTime = LocalDateTime.parse(dateString, formatter);\r\n    System.out.println(dateTime); // result 2022-01-26T22:33:07","title":"How to parse Javascript Date to Java LocalDateTime with day of the week","body":"<p>You have the wrong date format pattern to parse your date string.</p>\n<pre><code>String parsePattern = &quot;EEE MMM dd yyyy HH:mm:ss O (zzzz)&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(parsePattern);\n\n\nString dateString = &quot;Wed Jan 26 2022 22:33:07 GMT+1 (Central European Standard Time)&quot;;\nLocalDateTime dateTime = LocalDateTime.parse(dateString, formatter);\nSystem.out.println(dateTime); // result 2022-01-26T22:33:07\n</code></pre>\n"}],"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643233009,"creation_date":1643229333,"question_id":70869930,"body_markdown":"I am trying to convert a Javascript Date that is stored in a mongoDb to a Java LocalDateTime ISO_DATE_TIME and I keep hitting a ParseException and I can not figure out why my code is slipping up. First off, the code:\r\n\r\nParser: \r\n```\r\npublic static final class StringToLocalDateTimeConverter implements Converter&lt;String, LocalDateTime&gt; {\r\n\r\n        public static final StringToLocalDateTimeConverter INSTANCE = new StringToLocalDateTimeConverter();\r\n\r\n        private StringToLocalDateTimeConverter() {}\r\n\r\n        @Override\r\n        public LocalDateTime convert(String source) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;);\r\n            return StringUtil.isNullOrEmpty(source) ? null : LocalDateTime.parse(source, formatter);\r\n        }\r\n    }\r\n```\r\n\r\nThe date that is being passed in is in the format of &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39;\r\n\r\n\r\nThe error I am receiving is:\r\n\r\n *Exception in getUserById() with cause = &#39;java.time.format.DateTimeParseException: Text &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39; could not be parsed at index 0&#39; and exception = &#39;Failed to convert from type [java.lang.String] to type [java.time.LocalDateTime] for value &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39;; nested exception is java.time.format.DateTimeParseException: Text &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39; could not be parsed at index 0&#39;*\r\n\r\nIt seems that the parser does not know what to do with the leading day of the week. Any advice would be appreciated!","title":"How to parse Javascript Date to Java LocalDateTime with day of the week","body":"<p>I am trying to convert a Javascript Date that is stored in a mongoDb to a Java LocalDateTime ISO_DATE_TIME and I keep hitting a ParseException and I can not figure out why my code is slipping up. First off, the code:</p>\n<p>Parser:</p>\n<pre><code>public static final class StringToLocalDateTimeConverter implements Converter&lt;String, LocalDateTime&gt; {\n\n        public static final StringToLocalDateTimeConverter INSTANCE = new StringToLocalDateTimeConverter();\n\n        private StringToLocalDateTimeConverter() {}\n\n        @Override\n        public LocalDateTime convert(String source) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;);\n            return StringUtil.isNullOrEmpty(source) ? null : LocalDateTime.parse(source, formatter);\n        }\n    }\n</code></pre>\n<p>The date that is being passed in is in the format of 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)'</p>\n<p>The error I am receiving is:</p>\n<p><em>Exception in getUserById() with cause = 'java.time.format.DateTimeParseException: Text 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)' could not be parsed at index 0' and exception = 'Failed to convert from type [java.lang.String] to type [java.time.LocalDateTime] for value 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)'; nested exception is java.time.format.DateTimeParseException: Text 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)' could not be parsed at index 0'</em></p>\n<p>It seems that the parser does not know what to do with the leading day of the week. Any advice would be appreciated!</p>\n"},{"tags":["java","spring-boot","azure","spring-cloud"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1642877797,"post_id":70787483,"comment_id":125191758,"body_markdown":"How about `spring-cloud-config-client` &amp; `spring.cloud.config.enabled=true`?\nhttps://learn.microsoft.com/en-us/azure/spring-cloud/how-to-prepare-app-deployment?pivots=programming-language-java","body":"How about <code>spring-cloud-config-client</code> &amp; <code>spring.cloud.config.enabled=true</code>? <a href=\"https://learn.microsoft.com/en-us/azure/spring-cloud/how-to-prepare-app-deployment?pivots=programming-language-java\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/spring-cloud/&hellip;</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1642965471,"post_id":70787483,"comment_id":125208519,"body_markdown":"@MartinZeitler This is about Azure Spring Cloud, which is a resource where you can deploy your Spring Boot applications to and that already hosts a Spring Cloud Config Server. Unfortunately, we are not using that. We are using [Azure App Service](https://learn.microsoft.com/en-us/azure/app-service/overview) for our Spring Boot deployments. And now we are trying to use [Azure App Configuration](https://learn.microsoft.com/en-us/azure/azure-app-configuration/overview) as an external config provider (which is a bit like a Spring Cloud Config server).","body":"@MartinZeitler This is about Azure Spring Cloud, which is a resource where you can deploy your Spring Boot applications to and that already hosts a Spring Cloud Config Server. Unfortunately, we are not using that. We are using <a href=\"https://learn.microsoft.com/en-us/azure/app-service/overview\" rel=\"nofollow noreferrer\">Azure App Service</a> for our Spring Boot deployments. And now we are trying to use <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/overview\" rel=\"nofollow noreferrer\">Azure App Configuration</a> as an external config provider (which is a bit like a Spring Cloud Config server)."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1642984827,"post_id":70787483,"comment_id":125212495,"body_markdown":"As I understand it, the one is configuration on deployment, and the other a config service. I&#39;ve just thought, because the namespace is quite similar; it might still be worth an attempt.","body":"As I understand it, the one is configuration on deployment, and the other a config service. I&#39;ve just thought, because the namespace is quite similar; it might still be worth an attempt."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1643012966,"post_id":70787483,"comment_id":125217623,"body_markdown":"@MartinZeitler I will try that out ... Actually, it seems as if the mentioned library (`azure-spring-cloud-appconfiguration-config`) itself depends on some Spring cloud dependencies.","body":"@MartinZeitler I will try that out ... Actually, it seems as if the mentioned library (<code>azure-spring-cloud-appconfiguration-config</code>) itself depends on some Spring cloud dependencies."}],"answers":[{"tags":[],"owner":{"account_id":9205935,"reputation":1683,"user_id":6841224,"display_name":"Mr Patience"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643232902,"creation_date":1643232902,"answer_id":70870555,"question_id":70787483,"body_markdown":"The whole point of using Azure App Configuration is to store your config in one place and easily manage it without redeploying / restarting the app. Therefore I don&#39;t think this is should be even possible.   \r\n  \r\nI would recommend to use labels to load specific version of your `prop` based on labels data. Few cases:\r\n 1. If you need this property only locally, don&#39;t specify it in App Configuration. \r\n 2. If you need multiple versions of it, then just create same property with multiple labels and use your `spring.profile` (or other conf-property) to distinguish the version. \r\n 3. If you need to load multiple versions of it, load multiple labels:  \r\n As described here: https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-starter-appconfiguration-config-readme?view=azure-java-stable#load-from-multiple-labels\r\n\r\n\r\nYou can use this sample to see how it works:\r\nhttps://github.com/Azure/azure-sdk-for-java/tree/azure-spring-boot_3.6.0/sdk/appconfiguration/spring-cloud-starter-azure-appconfiguration-config   ","title":"Override properties from Azure App Configuration Store","body":"<p>The whole point of using Azure App Configuration is to store your config in one place and easily manage it without redeploying / restarting the app. Therefore I don't think this is should be even possible.</p>\n<p>I would recommend to use labels to load specific version of your <code>prop</code> based on labels data. Few cases:</p>\n<ol>\n<li>If you need this property only locally, don't specify it in App Configuration.</li>\n<li>If you need multiple versions of it, then just create same property with multiple labels and use your <code>spring.profile</code> (or other conf-property) to distinguish the version.</li>\n<li>If you need to load multiple versions of it, load multiple labels:<br />\nAs described here: <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-starter-appconfiguration-config-readme?view=azure-java-stable#load-from-multiple-labels\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-starter-appconfiguration-config-readme?view=azure-java-stable#load-from-multiple-labels</a></li>\n</ol>\n<p>You can use this sample to see how it works:\n<a href=\"https://github.com/Azure/azure-sdk-for-java/tree/azure-spring-boot_3.6.0/sdk/appconfiguration/spring-cloud-starter-azure-appconfiguration-config\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/tree/azure-spring-boot_3.6.0/sdk/appconfiguration/spring-cloud-starter-azure-appconfiguration-config</a></p>\n"}],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70870555,"answer_count":1,"score":1,"last_activity_date":1643232902,"creation_date":1642686926,"question_id":70787483,"body_markdown":"**TL;DR**\r\n\r\nHow to have system properties on CLI or environment variables override properties that are provided by an Azure App Configuration Store? Or is this maybe not possible at all?\r\n\r\n**Longer story**\r\n\r\nLet us assume a property named `app.prop`. Let us further assume the following entry in `application.yml` or in `application-&lt;profile&gt;.yml`:\r\n\r\n    app:\r\n        prop: Default\r\n\r\nUsually, you are able to start the Spring Boot application and provide a system property (e.g. `-Dapp.prop=SYS`) or an environment variable (e.g. `export APP_PROP=ENV`) with the effect that the latter overrides the value of the YML config files. If you - for example - provided the environment variable, your application has the value `ENV` for the property `app.prop`.\r\n\r\nWhen reading the same property from an Azure App Configuration Store, you can provide a system property or an environment variable as you like. But the value is not overridden anymore; it is the value that is stored in the Azure App Configuration Store.\r\n\r\nSome code\r\n\r\nI am using Spring Boot version 2.5.7:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.7&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nFurther, I am using the following library for accessing the Azure App Configuration Store:\r\n\r\n    &lt;properties&gt;\r\n        &lt;azure-spring-cloud.version&gt;2.7.0&lt;/azure-spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${azure-spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAdditionally, for starting the application, I am providing the following property:\r\n\r\n    spring.cloud.azure.appconfiguration.stores[0].connection-string = ...\r\n\r\nThis all works very well. In the Azure App Configuration Store, I have the following property:\r\n\r\n    app.prop = Azure\r\n\r\nIf now starting the application with the following environment variable `APP_PROP = ENV`, the value of the property `app.prop` is still `Azure`, and not `ENV`.\r\n\r\nIs there any setting missing, so that I can have the same behavior that I had without the above mentioned library?\r\n\r\nActually, I searched a lot, but did not find anything except for some statements regarding [overriding values of remote properties in the Spring Cloud documentation][1], which is not really my case (I am using Azure App Configuration Store).\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-static/spring-cloud.html#overriding-bootstrap-properties","title":"Override properties from Azure App Configuration Store","body":"<p><strong>TL;DR</strong></p>\n<p>How to have system properties on CLI or environment variables override properties that are provided by an Azure App Configuration Store? Or is this maybe not possible at all?</p>\n<p><strong>Longer story</strong></p>\n<p>Let us assume a property named <code>app.prop</code>. Let us further assume the following entry in <code>application.yml</code> or in <code>application-&lt;profile&gt;.yml</code>:</p>\n<pre><code>app:\n    prop: Default\n</code></pre>\n<p>Usually, you are able to start the Spring Boot application and provide a system property (e.g. <code>-Dapp.prop=SYS</code>) or an environment variable (e.g. <code>export APP_PROP=ENV</code>) with the effect that the latter overrides the value of the YML config files. If you - for example - provided the environment variable, your application has the value <code>ENV</code> for the property <code>app.prop</code>.</p>\n<p>When reading the same property from an Azure App Configuration Store, you can provide a system property or an environment variable as you like. But the value is not overridden anymore; it is the value that is stored in the Azure App Configuration Store.</p>\n<p>Some code</p>\n<p>I am using Spring Boot version 2.5.7:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.7&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Further, I am using the following library for accessing the Azure App Configuration Store:</p>\n<pre><code>&lt;properties&gt;\n    &lt;azure-spring-cloud.version&gt;2.7.0&lt;/azure-spring-cloud.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${azure-spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Additionally, for starting the application, I am providing the following property:</p>\n<pre><code>spring.cloud.azure.appconfiguration.stores[0].connection-string = ...\n</code></pre>\n<p>This all works very well. In the Azure App Configuration Store, I have the following property:</p>\n<pre><code>app.prop = Azure\n</code></pre>\n<p>If now starting the application with the following environment variable <code>APP_PROP = ENV</code>, the value of the property <code>app.prop</code> is still <code>Azure</code>, and not <code>ENV</code>.</p>\n<p>Is there any setting missing, so that I can have the same behavior that I had without the above mentioned library?</p>\n<p>Actually, I searched a lot, but did not find anything except for some statements regarding <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud.html#overriding-bootstrap-properties\" rel=\"nofollow noreferrer\">overriding values of remote properties in the Spring Cloud documentation</a>, which is not really my case (I am using Azure App Configuration Store).</p>\n"},{"tags":["java","session","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1641761201,"post_id":70645164,"comment_id":124884943,"body_markdown":"See [JSch to add private key from a string](https://stackoverflow.com/q/33637481/850848).","body":"See <a href=\"https://stackoverflow.com/q/33637481/850848\">JSch to add private key from a string</a>."}],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643232422,"creation_date":1643232422,"answer_id":70870465,"question_id":70645164,"body_markdown":"&gt; Now I want to store the content of this pem key into a String privateKey...\r\n\r\nYou do not have to, as [`addIdentity(privateKey)`][1] takes as string parameter &quot;*the file name of the private key file*&quot;. That is the reason you get the following error: `java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--`. You are passing the contents of the file instead of the file name/path, and `JSch` attempts to read a file using the string that you gave (i.e., *&quot;-----BEGIN RSA PRIVATE KEY--...&quot;*), but such a file cannot be found. So, instead, you need to pass the path/name of your private key file. For instance, &quot;/path-to-the-file/myKey.pem&quot;, or if the key is in the project&#39;s root dir, just use &quot;myKey.pem&quot;. If the file is encrypted with a passphrase then use `addIdentity(&quot;myKey.pem&quot;, &quot;passphrase&quot;)`.\r\n\r\nI see that you already have a private key in the format that JSch supports. If, however, you happen to generate the key in new OpenSSH that starts with *&quot;-----BEGIN OPENSSH PRIVATE KEY-----&quot;*, or if, for any reason, you get the following error: `invalid privatekey: [B@59c40796`, then use [ssh-keygen][2] to convert the key to PEM format, as decribed [here][3].\r\n\r\n    ssh-keygen -p -f &lt;filename&gt; -m pem\r\n\r\nIf you are creating new keys with ssh-keygen, just add &quot;-m pem&quot; to generate the keys.\r\n\r\n    ssh-keygen -m pem\r\n\r\nThe following has been tested (using Rebex SFTP Server) and works as expected:\r\n\r\n    import com.jcraft.jsch.*;\r\n    \r\n    public class JScheExample {\r\n    \r\n    \tpublic void go() throws JSchException, SftpException {\r\n    \t\tChannelSftp channelSftp = setupJsch(&quot;tester&quot;, &quot;password&quot;, &quot;id_rsa&quot;, &quot;127.0.0.1&quot;, 2222);\r\n    \t\t//ChannelSftp channelSftp = setupJsch(&quot;username&quot;, &quot;password&quot;, &quot;myKey.pem&quot;, &quot;127.0.0.1&quot;, 22);\r\n    \t\tchannelSftp.connect();\r\n    \r\n    \t\t// transfer file from local to remote server\r\n    \t\tchannelSftp.put(&quot;clientTestFile.txt&quot;, &quot;clientTestFile.txt&quot;);\r\n    \r\n    \t\t// download file from remote server to local\r\n    \t\tchannelSftp.get(&quot;testfile.txt&quot;, &quot;testfile.txt&quot;);\r\n    \t}\r\n    \r\n    \tprivate ChannelSftp setupJsch(String username, String password, String pvKeyPath, String hostname, int port) throws JSchException {\r\n    \t\tJSch jsch = new JSch();\r\n    \t\tif (!pvKeyPath.equals(&quot;&quot;) &amp;&amp; pvKeyPath != null)\r\n    \t\t\tjsch.addIdentity(pvKeyPath);\r\n    \r\n    \t\tSession jschSession = jsch.getSession(username, hostname, port);\r\n    \t\tif (!password.equals(&quot;&quot;) &amp;&amp; password != null)\r\n    \t\t\tjschSession.setPassword(password);\r\n\r\n    \t\tjschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \t\tjschSession.connect();\r\n    \t\treturn (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)  throws JSchException, SftpException{\r\n    \t\tnew JScheExample().go();\r\n    \t}\r\n    }\r\n\r\n  [1]: https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#addIdentity-java.lang.String-\r\n  [2]: https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key\r\n  [3]: https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch\r\n","title":"Connection with server using private key Jsch","body":"<blockquote>\n<p>Now I want to store the content of this pem key into a String privateKey...</p>\n</blockquote>\n<p>You do not have to, as <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#addIdentity-java.lang.String-\" rel=\"nofollow noreferrer\"><code>addIdentity(privateKey)</code></a> takes as string parameter &quot;<em>the file name of the private key file</em>&quot;. That is the reason you get the following error: <code>java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--</code>. You are passing the contents of the file instead of the file name/path, and <code>JSch</code> attempts to read a file using the string that you gave (i.e., <em>&quot;-----BEGIN RSA PRIVATE KEY--...&quot;</em>), but such a file cannot be found. So, instead, you need to pass the path/name of your private key file. For instance, &quot;/path-to-the-file/myKey.pem&quot;, or if the key is in the project's root dir, just use &quot;myKey.pem&quot;. If the file is encrypted with a passphrase then use <code>addIdentity(&quot;myKey.pem&quot;, &quot;passphrase&quot;)</code>.</p>\n<p>I see that you already have a private key in the format that JSch supports. If, however, you happen to generate the key in new OpenSSH that starts with <em>&quot;-----BEGIN OPENSSH PRIVATE KEY-----&quot;</em>, or if, for any reason, you get the following error: <code>invalid privatekey: [B@59c40796</code>, then use <a href=\"https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key\" rel=\"nofollow noreferrer\">ssh-keygen</a> to convert the key to PEM format, as decribed <a href=\"https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch\">here</a>.</p>\n<pre><code>ssh-keygen -p -f &lt;filename&gt; -m pem\n</code></pre>\n<p>If you are creating new keys with ssh-keygen, just add &quot;-m pem&quot; to generate the keys.</p>\n<pre><code>ssh-keygen -m pem\n</code></pre>\n<p>The following has been tested (using Rebex SFTP Server) and works as expected:</p>\n<pre><code>import com.jcraft.jsch.*;\n\npublic class JScheExample {\n\n    public void go() throws JSchException, SftpException {\n        ChannelSftp channelSftp = setupJsch(&quot;tester&quot;, &quot;password&quot;, &quot;id_rsa&quot;, &quot;127.0.0.1&quot;, 2222);\n        //ChannelSftp channelSftp = setupJsch(&quot;username&quot;, &quot;password&quot;, &quot;myKey.pem&quot;, &quot;127.0.0.1&quot;, 22);\n        channelSftp.connect();\n\n        // transfer file from local to remote server\n        channelSftp.put(&quot;clientTestFile.txt&quot;, &quot;clientTestFile.txt&quot;);\n\n        // download file from remote server to local\n        channelSftp.get(&quot;testfile.txt&quot;, &quot;testfile.txt&quot;);\n    }\n\n    private ChannelSftp setupJsch(String username, String password, String pvKeyPath, String hostname, int port) throws JSchException {\n        JSch jsch = new JSch();\n        if (!pvKeyPath.equals(&quot;&quot;) &amp;&amp; pvKeyPath != null)\n            jsch.addIdentity(pvKeyPath);\n\n        Session jschSession = jsch.getSession(username, hostname, port);\n        if (!password.equals(&quot;&quot;) &amp;&amp; password != null)\n            jschSession.setPassword(password);\n\n        jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        jschSession.connect();\n        return (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\n    }\n\n    public static void main(String[] args)  throws JSchException, SftpException{\n        new JScheExample().go();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643232422,"creation_date":1641759525,"question_id":70645164,"body_markdown":"I am able to connect with a remote server using the `myKey.pem` . Now I want to store the content of this **pem** key into a `String privateKey` and then connect using Jsch.\r\n\r\n````\r\n        JSch jsch = new JSch();\r\n        Session session;\r\n        session = jsch.getSession(username, host, 22);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        if (StringUtils.hasText(password)) {\r\n            session.setPassword(password);\r\n        } else {\r\n            jsch.addIdentity(privateKey);\r\n        }\r\n        session.connect();\r\n        return session;\r\n````\r\n\r\nwhereas the `myKey.pem` have the data like following \r\n\r\n`````\r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIIEpQIBAAKCAQEA3Tz2mr7SZiAMfQyuvBjM9Oi..Z1BjP5CE/Wm/Rr500P\r\nRK+Lh9x5eJPo5CAZ3/ANBE0sTK0ZsDGMak2m1g7..3VHqIxFTz0Ta1d+NAj\r\nwnLe4nOb7/eEJbDPkk05ShhBrJGBKKxb8n104o/..PdzbFMIyNjJzBM2o5y\r\n5A13wiLitEO7nco2WfyYkQzaxCw0AwzlkVHiIyC..71pSzkv6sv+4IDMbT/\r\nXpCo8L6wTarzrywnQsh+etLD6FtTjYbbrvZ8RQM..Hg2qxraAV++HNBYmNW\r\ns0duEdjUbJK+ZarypXI9TtnS4o1Ckj7POfljiQI..IBAFyidxtqRQyv5KrD\r\nkbJ+q+rsJxQlaipn2M4lGuQJEfIxELFDyd3XpxP..Un/82NZNXlPmRIopXs\r\n2T91jiLZEUKQw+n73j26adTbteuEaPGSrTZxBLR..yssO0wWomUyILqVeti\r\n6AkL0NJAuKcucHGqWVgUIa4g1haE0ilcm6dWUDo..fd+PpzdCJf1s4NdUWK\r\nYV2GJcutGQb+jqT5DTUqAgST7N8M28rwjK6nVMI..BUpP0xpPnuYDyPOw6x\r\n4hBt8DZQYyduzIXBXRBKNiNdv8fum68/5klHxp6..4HRkMUL958UVeljUsT\r\nBFQlO9UCgYEA/VqzXVzlz8K36VSTMPEhB5zBATV..PRiXtYK1YpYV4/jSUj\r\nvvT4hP8uoYNC+BlEMi98LtnxZIh0V4rqHDsScAq..VyeSLH0loKMZgpwFEm\r\nbEIDnEOD0nKrfT/9K9sPYgvB43wsLEtUujaYw3W..Liy0WKmB8CgYEA34xn\r\n1QlOOhHBn9Z8qYjoDYhvcj+a89tD9eMPhesfQFw..rsfGcXIonFmWdVygbe\r\n6Doihc+GIYIq/QP4jgMksE1ADvczJSke92ZfE2i..fitBpQERNJO0BlabfP\r\nALs5NssKNmLkWS2U2BHCbv4DzDXwiQB37KPOL1c..kBHfF2/htIs20d1UVL\r\n+PK+aXKwguI6bxLGZ3of0UH+mGsSl0mkp7kYZCm..OTQtfeRqP8rDSC7DgA\r\nkHc5ajYqh04AzNFaxjRo+M3IGICUaOdKnXd0Fda..QwfoaX4QlRTgLqb7AN\r\nZTzM9WbmnYoXrx17kZlT3lsCgYEAm757XI3WJVj..WoLj1+v48WyoxZpcai\r\nuv9bT4Cj+lXRS+gdKHK+SH7J3x2CRHVS+WH/SVC..DxuybvebDoT0TkKiCj\r\nBWQaGzCaJqZa+POHK0klvS+9ln0/6k539p95tfX..X4TCzbVG6+gJiX0ysz\r\nYfehn5MCgYEAkMiKuWHCsVyCab3RUf6XA9gd3qY..fCTIGtS1tR5PgFIV+G\r\nengiVoWc/hkj8SBHZz1n1xLN7KDf8ySU06MDggB..hJ+gXJKy+gf3mF5Kmj\r\nDtkpjGHQzPF6vOe907y5NQLvVFGXUq/FIJZxB8k..fJdHEm2M4=\r\n-----END RSA PRIVATE KEY-----\r\n`````\r\n\r\n\r\nBut I am facing the excpetion `java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--`\r\n\r\nAnyone please guide how I can do that? ","title":"Connection with server using private key Jsch","body":"<p>I am able to connect with a remote server using the <code>myKey.pem</code> . Now I want to store the content of this <strong>pem</strong> key into a <code>String privateKey</code> and then connect using Jsch.</p>\n<pre><code>        JSch jsch = new JSch();\n        Session session;\n        session = jsch.getSession(username, host, 22);\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        if (StringUtils.hasText(password)) {\n            session.setPassword(password);\n        } else {\n            jsch.addIdentity(privateKey);\n        }\n        session.connect();\n        return session;\n</code></pre>\n<p>whereas the <code>myKey.pem</code> have the data like following</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nMIIEpQIBAAKCAQEA3Tz2mr7SZiAMfQyuvBjM9Oi..Z1BjP5CE/Wm/Rr500P\nRK+Lh9x5eJPo5CAZ3/ANBE0sTK0ZsDGMak2m1g7..3VHqIxFTz0Ta1d+NAj\nwnLe4nOb7/eEJbDPkk05ShhBrJGBKKxb8n104o/..PdzbFMIyNjJzBM2o5y\n5A13wiLitEO7nco2WfyYkQzaxCw0AwzlkVHiIyC..71pSzkv6sv+4IDMbT/\nXpCo8L6wTarzrywnQsh+etLD6FtTjYbbrvZ8RQM..Hg2qxraAV++HNBYmNW\ns0duEdjUbJK+ZarypXI9TtnS4o1Ckj7POfljiQI..IBAFyidxtqRQyv5KrD\nkbJ+q+rsJxQlaipn2M4lGuQJEfIxELFDyd3XpxP..Un/82NZNXlPmRIopXs\n2T91jiLZEUKQw+n73j26adTbteuEaPGSrTZxBLR..yssO0wWomUyILqVeti\n6AkL0NJAuKcucHGqWVgUIa4g1haE0ilcm6dWUDo..fd+PpzdCJf1s4NdUWK\nYV2GJcutGQb+jqT5DTUqAgST7N8M28rwjK6nVMI..BUpP0xpPnuYDyPOw6x\n4hBt8DZQYyduzIXBXRBKNiNdv8fum68/5klHxp6..4HRkMUL958UVeljUsT\nBFQlO9UCgYEA/VqzXVzlz8K36VSTMPEhB5zBATV..PRiXtYK1YpYV4/jSUj\nvvT4hP8uoYNC+BlEMi98LtnxZIh0V4rqHDsScAq..VyeSLH0loKMZgpwFEm\nbEIDnEOD0nKrfT/9K9sPYgvB43wsLEtUujaYw3W..Liy0WKmB8CgYEA34xn\n1QlOOhHBn9Z8qYjoDYhvcj+a89tD9eMPhesfQFw..rsfGcXIonFmWdVygbe\n6Doihc+GIYIq/QP4jgMksE1ADvczJSke92ZfE2i..fitBpQERNJO0BlabfP\nALs5NssKNmLkWS2U2BHCbv4DzDXwiQB37KPOL1c..kBHfF2/htIs20d1UVL\n+PK+aXKwguI6bxLGZ3of0UH+mGsSl0mkp7kYZCm..OTQtfeRqP8rDSC7DgA\nkHc5ajYqh04AzNFaxjRo+M3IGICUaOdKnXd0Fda..QwfoaX4QlRTgLqb7AN\nZTzM9WbmnYoXrx17kZlT3lsCgYEAm757XI3WJVj..WoLj1+v48WyoxZpcai\nuv9bT4Cj+lXRS+gdKHK+SH7J3x2CRHVS+WH/SVC..DxuybvebDoT0TkKiCj\nBWQaGzCaJqZa+POHK0klvS+9ln0/6k539p95tfX..X4TCzbVG6+gJiX0ysz\nYfehn5MCgYEAkMiKuWHCsVyCab3RUf6XA9gd3qY..fCTIGtS1tR5PgFIV+G\nengiVoWc/hkj8SBHZz1n1xLN7KDf8ySU06MDggB..hJ+gXJKy+gf3mF5Kmj\nDtkpjGHQzPF6vOe907y5NQLvVFGXUq/FIJZxB8k..fJdHEm2M4=\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>But I am facing the excpetion <code>java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--</code></p>\n<p>Anyone please guide how I can do that?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":4,"up_vote_count":42,"is_accepted":false,"score":38,"last_activity_date":1263497943,"creation_date":1263497943,"answer_id":2067016,"question_id":2066946,"body_markdown":"Rewrite your method signature so that it accepts `HttpServletResponse` as a parameter, so that you can call `setStatus(int)` on it.\r\n\r\nhttp://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-arguments","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Rewrite your method signature so that it accepts <code>HttpServletResponse</code> as a parameter, so that you can call <code>setStatus(int)</code> on it.</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-arguments\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-arguments</a></p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":1,"up_vote_count":349,"is_accepted":true,"score":348,"last_activity_date":1291833336,"creation_date":1263498186,"answer_id":2067043,"question_id":2066946,"body_markdown":"Since Spring 3.0 you also can throw an Exception declared with [`@ResponseStatus`][1] annotation:\r\n\r\n    @ResponseStatus(value = HttpStatus.NOT_FOUND)\r\n    public class ResourceNotFoundException extends RuntimeException {\r\n        ...\r\n    }\r\n\r\n    @Controller\r\n    public class SomeController {\r\n        @RequestMapping.....\r\n        public void handleCall() {\r\n            if (isFound()) {\r\n                // whatever\r\n            }\r\n            else {\r\n                throw new ResourceNotFoundException(); \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Since Spring 3.0 you also can throw an Exception declared with <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\" rel=\"noreferrer\"><code>@ResponseStatus</code></a> annotation:</p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.NOT_FOUND)\npublic class ResourceNotFoundException extends RuntimeException {\n    ...\n}\n\n@Controller\npublic class SomeController {\n    @RequestMapping.....\n    public void handleCall() {\n        if (isFound()) {\n            // whatever\n        }\n        else {\n            throw new ResourceNotFoundException(); \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114552,"reputation":12230,"user_id":301153,"accept_rate":88,"display_name":"michal.kreuzman"},"down_vote_count":6,"up_vote_count":31,"is_accepted":false,"score":25,"last_activity_date":1338849129,"creation_date":1338849129,"answer_id":10889332,"question_id":2066946,"body_markdown":"I would like to mention that there&#39;s exception (not only) for 404 by default provided by Spring. See [Spring documentation][1] for details. So if you do not need your own exception you can simply do this:\r\n\r\n     @RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)\r\n\t public ModelAndView show() throws NoSuchRequestHandlingMethodException {\r\n        if(something == null)\r\n\t\t     throw new NoSuchRequestHandlingMethodException(&quot;show&quot;, YourClass.class);\r\n\r\n        ...\r\n\r\n\t  }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-exceptionhandlers","title":"Trigger 404 in Spring-MVC controller?","body":"<p>I would like to mention that there's exception (not only) for 404 by default provided by Spring. See <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-exceptionhandlers\">Spring documentation</a> for details. So if you do not need your own exception you can simply do this:</p>\n\n<pre><code> @RequestMapping(value = \"/**\", method = RequestMethod.GET)\n public ModelAndView show() throws NoSuchRequestHandlingMethodException {\n    if(something == null)\n         throw new NoSuchRequestHandlingMethodException(\"show\", YourClass.class);\n\n    ...\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1611856,"reputation":713,"user_id":1490555,"accept_rate":40,"display_name":"Rajith Delantha"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1352213909,"creation_date":1352213909,"answer_id":13253650,"question_id":2066946,"body_markdown":"Simply you can use web.xml to add error code and 404 error page. But make sure 404 error page must not locate under WEB-INF.\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/404.html&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\nThis is the simplest way to do it but this have some limitation. Suppose if you want to add the same style for this page that you added other pages. In this way you can&#39;t to that. You have to use the `@ResponseStatus(value = HttpStatus.NOT_FOUND)`","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Simply you can use web.xml to add error code and 404 error page. But make sure 404 error page must not locate under WEB-INF.</p>\n\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/404.html&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>This is the simplest way to do it but this have some limitation. Suppose if you want to add the same style for this page that you added other pages. In this way you can't to that. You have to use the <code>@ResponseStatus(value = HttpStatus.NOT_FOUND)</code></p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1363796272,"creation_date":1363796272,"answer_id":15529052,"question_id":2066946,"body_markdown":"If your controller method is for something like file handling then `ResponseEntity` is very handy:\r\n\r\n    @Controller\r\n    public class SomeController {\r\n        @RequestMapping.....\r\n        public ResponseEntity handleCall() {\r\n            if (isFound()) {\r\n                return new ResponseEntity(...);\r\n            }\r\n            else {\r\n                return new ResponseEntity(404);\r\n            }\r\n        }\r\n    }","title":"Trigger 404 in Spring-MVC controller?","body":"<p>If your controller method is for something like file handling then <code>ResponseEntity</code> is very handy:</p>\n\n<pre><code>@Controller\npublic class SomeController {\n    @RequestMapping.....\n    public ResponseEntity handleCall() {\n        if (isFound()) {\n            return new ResponseEntity(...);\n        }\n        else {\n            return new ResponseEntity(404);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910727,"reputation":670,"user_id":944663,"accept_rate":50,"display_name":"Atish Narlawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398720650,"creation_date":1398720650,"answer_id":23351522,"question_id":2066946,"body_markdown":"Configure web.xml with setting\r\n\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;500&lt;/error-code&gt;\r\n        &lt;location&gt;/error/500&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/error/404&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n\r\nCreate new controller \r\n\r\n \r\n\r\n       /**\r\n         * Error Controller. handles the calls for 404, 500 and 401 HTTP Status codes.\r\n         */\r\n        @Controller\r\n        @RequestMapping(value = ErrorController.ERROR_URL, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\r\n        public class ErrorController {\r\n        \r\n        \r\n            /**\r\n             * The constant ERROR_URL.\r\n             */\r\n            public static final String ERROR_URL = &quot;/error&quot;;\r\n        \r\n        \r\n            /**\r\n             * The constant TILE_ERROR.\r\n             */\r\n            public static final String TILE_ERROR = &quot;error.page&quot;;\r\n        \r\n        \r\n            /**\r\n             * Page Not Found.\r\n             *\r\n             * @return Home Page\r\n             */\r\n            @RequestMapping(value = &quot;/404&quot;, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\r\n            public ModelAndView notFound() {\r\n        \r\n                ModelAndView model = new ModelAndView(TILE_ERROR);\r\n                model.addObject(&quot;message&quot;, &quot;The page you requested could not be found. This location may not be current.&quot;);\r\n        \r\n                return model;\r\n            }\r\n        \r\n            /**\r\n             * Error page.\r\n             *\r\n             * @return the model and view\r\n             */\r\n            @RequestMapping(value = &quot;/500&quot;, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\r\n            public ModelAndView errorPage() {\r\n                ModelAndView model = new ModelAndView(TILE_ERROR);\r\n                model.addObject(&quot;message&quot;, &quot;The page you requested could not be found. This location may not be current, due to the recent site redesign.&quot;);\r\n        \r\n                return model;\r\n            }\r\n    }\r\n\r\n","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Configure web.xml with setting</p>\n\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/error/500&lt;/location&gt;\n&lt;/error-page&gt;\n\n&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/error/404&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>Create new controller </p>\n\n<pre><code>   /**\n     * Error Controller. handles the calls for 404, 500 and 401 HTTP Status codes.\n     */\n    @Controller\n    @RequestMapping(value = ErrorController.ERROR_URL, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\n    public class ErrorController {\n\n\n        /**\n         * The constant ERROR_URL.\n         */\n        public static final String ERROR_URL = \"/error\";\n\n\n        /**\n         * The constant TILE_ERROR.\n         */\n        public static final String TILE_ERROR = \"error.page\";\n\n\n        /**\n         * Page Not Found.\n         *\n         * @return Home Page\n         */\n        @RequestMapping(value = \"/404\", produces = MediaType.APPLICATION_XHTML_XML_VALUE)\n        public ModelAndView notFound() {\n\n            ModelAndView model = new ModelAndView(TILE_ERROR);\n            model.addObject(\"message\", \"The page you requested could not be found. This location may not be current.\");\n\n            return model;\n        }\n\n        /**\n         * Error page.\n         *\n         * @return the model and view\n         */\n        @RequestMapping(value = \"/500\", produces = MediaType.APPLICATION_XHTML_XML_VALUE)\n        public ModelAndView errorPage() {\n            ModelAndView model = new ModelAndView(TILE_ERROR);\n            model.addObject(\"message\", \"The page you requested could not be found. This location may not be current, due to the recent site redesign.\");\n\n            return model;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user957654"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1412505686,"creation_date":1412505686,"answer_id":26201824,"question_id":2066946,"body_markdown":"you can use the [@ControllerAdvice][1] to handle your Exceptions ,\r\nThe default behavior the @ControllerAdvice annotated class will assist all known Controllers.\r\n\r\nso it will be called when any Controller you have throws 404 error .\r\n\r\n like the following : \r\n\r\n    @ControllerAdvice\r\n    class GlobalControllerExceptionHandler {\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)  // 404\r\n        @ExceptionHandler(Exception.class)\r\n        public void handleNoTFound() {\r\n            // Nothing to do\r\n        }\r\n    }\r\n\r\nand map this 404 response error in your web.xml , like the following : \r\n\r\n\r\n    &lt;error-page&gt;\r\n            &lt;error-code&gt;404&lt;/error-code&gt;\r\n            &lt;location&gt;/Error404.html&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\nHope that Helps . \r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html","title":"Trigger 404 in Spring-MVC controller?","body":"<p>you can use the <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\">@ControllerAdvice</a> to handle your Exceptions ,\nThe default behavior the @ControllerAdvice annotated class will assist all known Controllers.</p>\n\n<p>so it will be called when any Controller you have throws 404 error .</p>\n\n<p>like the following : </p>\n\n<pre><code>@ControllerAdvice\nclass GlobalControllerExceptionHandler {\n    @ResponseStatus(HttpStatus.NOT_FOUND)  // 404\n    @ExceptionHandler(Exception.class)\n    public void handleNoTFound() {\n        // Nothing to do\n    }\n}\n</code></pre>\n\n<p>and map this 404 response error in your web.xml , like the following : </p>\n\n<pre><code>&lt;error-page&gt;\n        &lt;error-code&gt;404&lt;/error-code&gt;\n        &lt;location&gt;/Error404.html&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>Hope that Helps . </p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1438342746,"creation_date":1438342746,"answer_id":31745276,"question_id":2066946,"body_markdown":"Since Spring 3.0.2 you can return [ResponseEntity&amp;lt;T&amp;gt;][1] as a result of the controller&#39;s method:\r\n\r\n    @RequestMapping.....\r\n    public ResponseEntity&lt;Object&gt; handleCall() {\r\n        if (isFound()) {\r\n            // do what you want\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n        else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n(ResponseEntity&amp;lt;T&amp;gt; is a more flexible than @ResponseBody annotation - see [another question][2])\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html &quot;ResponseEntity&amp;lt;T&amp;gt;&quot;\r\n  [2]: https://stackoverflow.com/questions/22725143/what-is-the-difference-between-responseentityt-and-responsebody","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Since Spring 3.0.2 you can return <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"noreferrer\" title=\"ResponseEntity&lt;T&gt;\">ResponseEntity&lt;T&gt;</a> as a result of the controller's method:</p>\n\n<pre><code>@RequestMapping.....\npublic ResponseEntity&lt;Object&gt; handleCall() {\n    if (isFound()) {\n        // do what you want\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n    else {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n\n<p>(ResponseEntity&lt;T&gt; is a more flexible than @ResponseBody annotation - see <a href=\"https://stackoverflow.com/questions/22725143/what-is-the-difference-between-responseentityt-and-responsebody\">another question</a>)</p>\n"},{"tags":[],"owner":{"account_id":1218209,"reputation":539,"user_id":1185390,"display_name":"mmatczuk"},"down_vote_count":7,"up_vote_count":13,"is_accepted":false,"score":6,"last_activity_date":1450256465,"creation_date":1450256465,"answer_id":34307704,"question_id":2066946,"body_markdown":"I&#39;d recommend throwing **HttpClientErrorException**, like this\r\n\r\n    @RequestMapping(value = &quot;/sample/&quot;)\r\n\tpublic void sample() {\r\n        if (somethingIsWrong()) {\r\n            throw new HttpClientErrorException(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\nYou must remember that this can be done only before anything is written to servlet output stream.","title":"Trigger 404 in Spring-MVC controller?","body":"<p>I'd recommend throwing <strong>HttpClientErrorException</strong>, like this</p>\n\n<pre><code>@RequestMapping(value = \"/sample/\")\npublic void sample() {\n    if (somethingIsWrong()) {\n        throw new HttpClientErrorException(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n\n<p>You must remember that this can be done only before anything is written to servlet output stream.</p>\n"},{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1643232346,"creation_date":1490169775,"answer_id":42945860,"question_id":2066946,"body_markdown":"While the marked answer is correct there is a way of achieving this without exceptions. The service is returning `Optional&lt;T&gt;` of the searched object and this is mapped to `HttpStatus.OK` if found and to  404 if empty. \r\n\r\n    @Controller\r\n    public class SomeController {\r\n\r\n        @RequestMapping.....\r\n        public ResponseEntity&lt;Object&gt; handleCall(@PathVariable String param) {\r\n            return  service.find(param)\r\n                    .map(result -&gt; new ResponseEntity&lt;&gt;(result, HttpStatus.OK))\r\n                    .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Service{\r\n      \r\n        public Optional&lt;Object&gt; find(String param){\r\n            if(!found()){\r\n                return Optional.empty();\r\n            }\r\n            ...\r\n            return Optional.of(data); \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Trigger 404 in Spring-MVC controller?","body":"<p>While the marked answer is correct there is a way of achieving this without exceptions. The service is returning <code>Optional&lt;T&gt;</code> of the searched object and this is mapped to <code>HttpStatus.OK</code> if found and to  404 if empty.</p>\n<pre><code>@Controller\npublic class SomeController {\n\n    @RequestMapping.....\n    public ResponseEntity&lt;Object&gt; handleCall(@PathVariable String param) {\n        return  service.find(param)\n                .map(result -&gt; new ResponseEntity&lt;&gt;(result, HttpStatus.OK))\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\n    }\n}\n\n@Service\npublic class Service{\n  \n    public Optional&lt;Object&gt; find(String param){\n        if(!found()){\n            return Optional.empty();\n        }\n        ...\n        return Optional.of(data); \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9352757,"reputation":483,"user_id":6941879,"display_name":"AbdusSalam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637334021,"creation_date":1504492663,"answer_id":46029597,"question_id":2066946,"body_markdown":"Also if you want to return 404 status from your controller all you need is to do this\r\n\r\n    @RequestMapping(value = &quot;/something&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public HttpStatus doSomething(@RequestBody String employeeId) {\r\n        try {\r\n            return HttpStatus.OK;\r\n        } \r\n        catch (Exception ex) { \r\n             return HttpStatus.NOT_FOUND;\r\n        }\r\n    }\r\n\r\nBy doing this you will receive a 404 error in case when you want to return a 404 from your controller.","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Also if you want to return 404 status from your controller all you need is to do this</p>\n<pre><code>@RequestMapping(value = &quot;/something&quot;, method = RequestMethod.POST)\n@ResponseBody\npublic HttpStatus doSomething(@RequestBody String employeeId) {\n    try {\n        return HttpStatus.OK;\n    } \n    catch (Exception ex) { \n         return HttpStatus.NOT_FOUND;\n    }\n}\n</code></pre>\n<p>By doing this you will receive a 404 error in case when you want to return a 404 from your controller.</p>\n"},{"tags":[],"owner":{"account_id":2530531,"reputation":866,"user_id":2198922,"display_name":"pilot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523886486,"creation_date":1523886486,"answer_id":49858906,"question_id":2066946,"body_markdown":"This is a bit late, but if you are using [Spring Data REST][1] then there is already `org.springframework.data.rest.webmvc.ResourceNotFoundException`\r\nIt also uses `@ResponseStatus` annotation. There is no need to create a custom runtime exception anymore.\r\n\r\n\r\n  [1]: https://projects.spring.io/spring-data-rest/","title":"Trigger 404 in Spring-MVC controller?","body":"<p>This is a bit late, but if you are using <a href=\"https://projects.spring.io/spring-data-rest/\" rel=\"nofollow noreferrer\">Spring Data REST</a> then there is already <code>org.springframework.data.rest.webmvc.ResourceNotFoundException</code>\nIt also uses <code>@ResponseStatus</code> annotation. There is no need to create a custom runtime exception anymore.</p>\n"},{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":1,"up_vote_count":135,"is_accepted":false,"score":134,"last_activity_date":1559422748,"creation_date":1555291454,"answer_id":55681551,"question_id":2066946,"body_markdown":"Starting from Spring 5.0, you don&#39;t necessarily need to create additional exceptions:\r\n\r\n```java\r\nthrow new ResponseStatusException(NOT_FOUND, &quot;Unable to find resource&quot;);\r\n```\r\n\r\nAlso, you can cover multiple scenarios with one, built-in exception and you have more control.\r\n\r\nSee more:\r\n\r\n - [ResponseStatusException (javadoc)][1]\r\n - https://www.baeldung.com/spring-response-status-exception\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Starting from Spring 5.0, you don't necessarily need to create additional exceptions:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>throw new ResponseStatusException(NOT_FOUND, \"Unable to find resource\");\n</code></pre>\n\n<p>Also, you can cover multiple scenarios with one, built-in exception and you have more control.</p>\n\n<p>See more:</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\" rel=\"noreferrer\">ResponseStatusException (javadoc)</a></li>\n<li><a href=\"https://www.baeldung.com/spring-response-status-exception\" rel=\"noreferrer\">https://www.baeldung.com/spring-response-status-exception</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1603284,"reputation":499,"user_id":1483911,"display_name":"Jason DeMorrow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562872521,"creation_date":1562872521,"answer_id":56995938,"question_id":2066946,"body_markdown":"Because it&#39;s always good to have at least ten ways of doing the same thing:\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class Something {\r\n        @RequestMapping(&quot;/path&quot;)\r\n        public ModelAndView somethingPath() {\r\n            return new ModelAndView(&quot;/&quot;, HttpStatus.NOT_FOUND);\r\n        }\r\n    }","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Because it's always good to have at least ten ways of doing the same thing:</p>\n\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class Something {\n    @RequestMapping(\"/path\")\n    public ModelAndView somethingPath() {\n        return new ModelAndView(\"/\", HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":50117,"reputation":6491,"user_id":149374,"accept_rate":72,"display_name":"NA."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193539,"favorite_count":0,"down_vote_count":0,"up_vote_count":232,"accepted_answer_id":2067043,"answer_count":14,"score":232,"last_activity_date":1643232346,"creation_date":1263497413,"question_id":2066946,"body_markdown":"How do I get a [Spring][1] 3.0 controller to trigger a 404?\r\n\r\nI have a controller with `@RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)` and for some [URLs][2] accessing the controller, I want the container to come up with a 404.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spring_Framework\r\n  [2]: http://en.wikipedia.org/wiki/Uniform_Resource_Locator\r\n","title":"Trigger 404 in Spring-MVC controller?","body":"<p>How do I get a <a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"noreferrer\">Spring</a> 3.0 controller to trigger a 404?</p>\n\n<p>I have a controller with <code>@RequestMapping(value = \"/**\", method = RequestMethod.GET)</code> and for some <a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"noreferrer\">URLs</a> accessing the controller, I want the container to come up with a 404.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643232167,"creation_date":1643232167,"answer_id":70870415,"question_id":70869508,"body_markdown":"Sounds like a use case for qualifiers, which enable you to have different implementation beans, and to choose at the injection point which type of bean you prefer:\r\nhttps://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#qualifiers\r\n\r\nAs an alternative, you may also decide to instantiate your service on your own, not using cdi in any way.","title":"&quot;Bypassing&quot; a mock in Quarkus unit testing","body":"<p>Sounds like a use case for qualifiers, which enable you to have different implementation beans, and to choose at the injection point which type of bean you prefer:\n<a href=\"https://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#qualifiers\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#qualifiers</a></p>\n<p>As an alternative, you may also decide to instantiate your service on your own, not using cdi in any way.</p>\n"}],"owner":{"account_id":14046066,"reputation":117,"user_id":10146295,"display_name":"Saddex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70870415,"answer_count":1,"score":1,"last_activity_date":1643232167,"creation_date":1643227131,"question_id":70869508,"body_markdown":"I have a Quarkus project where I have most of the business logic placed in services, aka injectable beans using @ApplicationScoped annotations, where all of the CRUD operations take place. In the JAX-RS resource files themselves, the bulk of the logic is just validation, often using whole validation beans. This has meant that we needed to mock our injected services when we tested the resources, to prevent the unit tests from becoming essentially integration tests. We do this having a structure like this (example project);\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe file MockGreetingService.java in turn looks like this:\r\n\r\n````\r\nimport io.quarkus.test.Mock;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\n@Mock\r\n@ApplicationScoped\r\npublic class MockGreetingService extends GreetingService {\r\n\r\n    @Override\r\n    public String sayHello(String name) {\r\n        return String.format(&quot;Hello %s, your id is %s&quot;, name, &quot;1234&quot;);\r\n    }\r\n}\r\n````\r\n\r\nOur actual project is a bit more sophisticated than this in the way that the mocks always return our DTO classes regardless of input, but the principle is the same as above. They work flawlessly for our JAX-RS resource tests. However, trying to test the actual service beans themselves means problems with this setup. I built a service test, which uses the same annotations and flow as the code below:\r\n\r\n````\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport javax.inject.Inject;\r\n\r\n@QuarkusTest\r\npublic class GreetingServiceTest {\r\n\r\n    @Inject\r\n    GreetingService greetingService;\r\n\r\n    @Test\r\n    void checkReturnsHello () {\r\n\r\n        String result = greetingService.sayHello();\r\n        System.out.println(result);\r\n        Assertions.assertEquals(&quot;hello Martin! Your country is Italy&quot;, result);\r\n    }\r\n}\r\n````\r\n\r\nWith the dependency injection in the class above, which we don&#39;t do in our resource tests, I expected Quarkus to understand that we want to use the original service in this test. How foolish of me. A simple log has shown that the mock service methods indeed still run in the latter test above.\r\n\r\nNow I wonder - is it a way to disable the mock for this latter test? Preferably without having to modify or remove the mock classes, although I realize that might not be possible in the way I imagine it to be. Thanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/qAdLK.png","title":"&quot;Bypassing&quot; a mock in Quarkus unit testing","body":"<p>I have a Quarkus project where I have most of the business logic placed in services, aka injectable beans using @ApplicationScoped annotations, where all of the CRUD operations take place. In the JAX-RS resource files themselves, the bulk of the logic is just validation, often using whole validation beans. This has meant that we needed to mock our injected services when we tested the resources, to prevent the unit tests from becoming essentially integration tests. We do this having a structure like this (example project);</p>\n<p><a href=\"https://i.stack.imgur.com/qAdLK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qAdLK.png\" alt=\"enter image description here\" /></a></p>\n<p>The file MockGreetingService.java in turn looks like this:</p>\n<pre><code>import io.quarkus.test.Mock;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@Mock\n@ApplicationScoped\npublic class MockGreetingService extends GreetingService {\n\n    @Override\n    public String sayHello(String name) {\n        return String.format(&quot;Hello %s, your id is %s&quot;, name, &quot;1234&quot;);\n    }\n}\n</code></pre>\n<p>Our actual project is a bit more sophisticated than this in the way that the mocks always return our DTO classes regardless of input, but the principle is the same as above. They work flawlessly for our JAX-RS resource tests. However, trying to test the actual service beans themselves means problems with this setup. I built a service test, which uses the same annotations and flow as the code below:</p>\n<pre><code>import io.quarkus.test.junit.QuarkusTest;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\n\n@QuarkusTest\npublic class GreetingServiceTest {\n\n    @Inject\n    GreetingService greetingService;\n\n    @Test\n    void checkReturnsHello () {\n\n        String result = greetingService.sayHello();\n        System.out.println(result);\n        Assertions.assertEquals(&quot;hello Martin! Your country is Italy&quot;, result);\n    }\n}\n</code></pre>\n<p>With the dependency injection in the class above, which we don't do in our resource tests, I expected Quarkus to understand that we want to use the original service in this test. How foolish of me. A simple log has shown that the mock service methods indeed still run in the latter test above.</p>\n<p>Now I wonder - is it a way to disable the mock for this latter test? Preferably without having to modify or remove the mock classes, although I realize that might not be possible in the way I imagine it to be. Thanks in advance!</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1643179208,"post_id":70856083,"comment_id":125267977,"body_markdown":"It would help to see the error you get in the ES server logs","body":"It would help to see the error you get in the ES server logs"},{"owner":{"account_id":4050821,"reputation":1003,"user_id":3577482,"accept_rate":70,"display_name":"Ridhwaan Shakeel"},"score":0,"creation_date":1643232170,"post_id":70856083,"comment_id":125288296,"body_markdown":"good point. added new information","body":"good point. added new information"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1643257508,"post_id":70856083,"comment_id":125293413,"body_markdown":"There you go: `No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on`. You need to add this field to your mapping in order to be able to sort on","body":"There you go: <code>No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on</code>. You need to add this field to your mapping in order to be able to sort on"}],"owner":{"account_id":4050821,"reputation":1003,"user_id":3577482,"accept_rate":70,"display_name":"Ridhwaan Shakeel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643232139,"creation_date":1643147195,"question_id":70856083,"body_markdown":"Used the Java RestHighLevelClient 7.4.2 to make an `org.elasticsearch.action.search.SearchRequest` in conjunction with `org.elasticsearch.search.sort.FieldSortBuilder`.\r\nIt returned the following  \r\n\r\n```\r\nElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1727)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1704)\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1467)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\r\n\tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\r\n\tat models.mainModel.searchDocuments(service.java:50)\r\n    at tests.models.mainModelTest(serviceTest.java:75)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:124)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:74)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:202)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:198)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:102)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:82)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:78)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n```\r\nimport org.elasticsearch.search.SearchHit;\r\n// other imports\r\n// import org.elasticsearch.*;\r\n\r\nclass mainModel {\r\n...\r\nFieldSortBuilder instantSort = new FieldSortBuilder(Constants.A_JAVA_INSTANT_FIELD_NAME).order(SortOrder.DESC);\r\nFieldSortBuilder booleanSort = new FieldSortBuilder(Constants.A_JAVA_BOOLEAN_FIELD_NAME).order(SortOrder.DESC);\r\n\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n\r\nsearchSourceBuilder\r\n      .query(buildBoolQuery(esSearchQuery))\r\n      .from(from)\r\n      .size(size)\r\n      .sort(booleanSort)\r\n      .sort(instantSort);\r\n\r\nSearchRequest searchRequest = new SearchRequest(getAliases());\r\nsearchRequest.source(searchSourceBuilder);\r\n\r\nSearchHit[] hits = searchDocuments(searchRequest);\r\n\r\nList&lt;DocumentType&gt; documents = new ArrayList&lt;&gt;();\r\nfor (SearchHit hit : hits) {\r\n   documents.add(esDocumentMapper(hit));\r\n}\r\n\r\nreturn documents;\r\n}\r\n\r\n\r\nprivate SearchHit[] searchDocuments(SearchRequest searchRequest) throws IOException {\r\n    // FAILS AT THE LINE BELOW\r\n    final var response = client.search(searchRequest, RequestOptions.DEFAULT).getHits();\r\n\r\n    return response.getHits();\r\n}\r\n \r\n```\r\n\r\nWhen testing requests with GraphQL locally, the expected result set is returned as a GraphQL response \r\nBut the JavaRestHighLevelClient unit test is where it is failing and the above exception is thrown.  \r\n\r\nMost of the ES documents are a particular type extend from an abstract Document class and contain the two fields for sort as seen above. \r\n\r\nNote that the unit test fails when making the searchRequest to sort by both boolean and instant field, but does not fail if sorting by just the instant field.\r\n\r\nFor null results, does FieldSortBuilder not have a default of nulls last, or `.missing(&quot;_last&quot;)`?\r\nDo I need to provide cluster information or more code?\r\n\r\n**EDIT 1**\r\nLooks like a java client implementation is needed to create the missing mapping.  \r\n```\r\n&quot;stacktrace&quot;: [&quot;org.elasticsearch.transport.RemoteTransportException: [1f52672686e3][172.18.0.2:9300][indices:data/read/search[phase/query]]&quot;,\r\n &quot;Caused by: org.elasticsearch.index.query.QueryShardException: No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on&quot;,\r\n&quot;at org.elasticsearch.search.sort.FieldSortBuilder.build(FieldSortBuilder.java:387) ~[elasticsearch-7.4.2.jar:7.4.2]&quot;,\r\n```\r\nrelated:   \r\nhttps://stackoverflow.com/questions/60916405/elasticsearch-sorts-only-by-a-few-fields-and-throws-an-error-for-others","title":"Getting search_phase_execution_exception when making a SearchRequest with sort options","body":"<p>Used the Java RestHighLevelClient 7.4.2 to make an <code>org.elasticsearch.action.search.SearchRequest</code> in conjunction with <code>org.elasticsearch.search.sort.FieldSortBuilder</code>.\nIt returned the following</p>\n<pre><code>ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177)\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1727)\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1704)\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1467)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\n    at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\n    at models.mainModel.searchDocuments(service.java:50)\n    at tests.models.mainModelTest(serviceTest.java:75)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:124)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:74)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:198)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:102)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:82)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:78)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<pre><code>import org.elasticsearch.search.SearchHit;\n// other imports\n// import org.elasticsearch.*;\n\nclass mainModel {\n...\nFieldSortBuilder instantSort = new FieldSortBuilder(Constants.A_JAVA_INSTANT_FIELD_NAME).order(SortOrder.DESC);\nFieldSortBuilder booleanSort = new FieldSortBuilder(Constants.A_JAVA_BOOLEAN_FIELD_NAME).order(SortOrder.DESC);\n\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n\nsearchSourceBuilder\n      .query(buildBoolQuery(esSearchQuery))\n      .from(from)\n      .size(size)\n      .sort(booleanSort)\n      .sort(instantSort);\n\nSearchRequest searchRequest = new SearchRequest(getAliases());\nsearchRequest.source(searchSourceBuilder);\n\nSearchHit[] hits = searchDocuments(searchRequest);\n\nList&lt;DocumentType&gt; documents = new ArrayList&lt;&gt;();\nfor (SearchHit hit : hits) {\n   documents.add(esDocumentMapper(hit));\n}\n\nreturn documents;\n}\n\n\nprivate SearchHit[] searchDocuments(SearchRequest searchRequest) throws IOException {\n    // FAILS AT THE LINE BELOW\n    final var response = client.search(searchRequest, RequestOptions.DEFAULT).getHits();\n\n    return response.getHits();\n}\n \n</code></pre>\n<p>When testing requests with GraphQL locally, the expected result set is returned as a GraphQL response\nBut the JavaRestHighLevelClient unit test is where it is failing and the above exception is thrown.</p>\n<p>Most of the ES documents are a particular type extend from an abstract Document class and contain the two fields for sort as seen above.</p>\n<p>Note that the unit test fails when making the searchRequest to sort by both boolean and instant field, but does not fail if sorting by just the instant field.</p>\n<p>For null results, does FieldSortBuilder not have a default of nulls last, or <code>.missing(&quot;_last&quot;)</code>?\nDo I need to provide cluster information or more code?</p>\n<p><strong>EDIT 1</strong>\nLooks like a java client implementation is needed to create the missing mapping.</p>\n<pre><code>&quot;stacktrace&quot;: [&quot;org.elasticsearch.transport.RemoteTransportException: [1f52672686e3][172.18.0.2:9300][indices:data/read/search[phase/query]]&quot;,\n &quot;Caused by: org.elasticsearch.index.query.QueryShardException: No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on&quot;,\n&quot;at org.elasticsearch.search.sort.FieldSortBuilder.build(FieldSortBuilder.java:387) ~[elasticsearch-7.4.2.jar:7.4.2]&quot;,\n</code></pre>\n<p>related:<br />\n<a href=\"https://stackoverflow.com/questions/60916405/elasticsearch-sorts-only-by-a-few-fields-and-throws-an-error-for-others\">elasticsearch sorts only by a few fields, and throws an error for others</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8765257,"reputation":1,"user_id":9661526,"display_name":"Leonardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586278855,"creation_date":1586278855,"answer_id":61085374,"question_id":61085056,"body_markdown":"You can use a [Map][1]! Try something like this:\r\n```\r\npublic Map&lt;Integer, Integer&gt; numberOfOrdersOnHold(List&lt;Orders&gt; orders) {\r\n    final Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for (Orders o : orders) {\r\n        int currentNumber = o.getCustomerNumber();\r\n\r\n        // if map doesn&#39;t contain the key to the corresponding customer, were gonna add it\r\n        if (!map.containsKey(currentNumber)) {\r\n            map.put(currentNumber, 0);\r\n        }\r\n\r\n        // if the status is &quot;On hold&quot;, increment the counter to the current customer\r\n        if (&quot;On hold&quot;.equals(o.getStatus())) {\r\n            map.put(currentNumber, map.get(currentNumber) + 1);\r\n        }\r\n    }\r\n    return map;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.html","title":"ArrayList occurance of object type","body":"<p>You can use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a>! Try something like this:</p>\n\n<pre><code>public Map&lt;Integer, Integer&gt; numberOfOrdersOnHold(List&lt;Orders&gt; orders) {\n    final Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    for (Orders o : orders) {\n        int currentNumber = o.getCustomerNumber();\n\n        // if map doesn't contain the key to the corresponding customer, were gonna add it\n        if (!map.containsKey(currentNumber)) {\n            map.put(currentNumber, 0);\n        }\n\n        // if the status is \"On hold\", increment the counter to the current customer\n        if (\"On hold\".equals(o.getStatus())) {\n            map.put(currentNumber, map.get(currentNumber) + 1);\n        }\n    }\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643231910,"creation_date":1586280241,"answer_id":61085783,"question_id":61085056,"body_markdown":"Do it as follows:\r\n\r\n    import java.util.List;\r\n    \r\n    enum OrderStatus {\r\n    \tONHOLD(&quot;On Hold&quot;), APPROVED(&quot;Approved&quot;), DELIVERED(&quot;Delivered&quot;);\r\n    \r\n    \tprivate final String statusCode;\r\n    \r\n    \tprivate OrderStatus(String statusCode) {\r\n    \t\tthis.statusCode = statusCode;\r\n    \t}\r\n    }\r\n    \r\n    class Order {\r\n    \tprivate OrderStatus status = null;\r\n    \tprivate int customerNumber = 0;\r\n    \r\n    \tpublic Order(OrderStatus status, int customerNumber) {\r\n    \t\tthis.status = status;\r\n    \t\tthis.customerNumber = customerNumber;\r\n    \t}\r\n    \r\n    \tpublic OrderStatus getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(OrderStatus status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic int getCustomerNumber() {\r\n    \t\treturn customerNumber;\r\n    \t}\r\n    \r\n    \tpublic void setCustomerNumber(int customerNumber) {\r\n    \t\tthis.customerNumber = customerNumber;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Order [status=&quot; + status + &quot;, customerNumber=&quot; + customerNumber + &quot;]&quot;;\r\n    \t}\r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Order&gt; orders = List.of(new Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.APPROVED, 1234),\r\n    \t\t\t\tnew Order(OrderStatus.ONHOLD, 2345), new Order(OrderStatus.APPROVED, 1234),\r\n    \t\t\t\tnew Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.ONHOLD, 2345));\r\n    \t\tSystem.out.println(&quot;Customer#1234 has &quot; + numberOfOrdersOnHold(orders, 1234) + &quot; order(s) on hold&quot;);\r\n    \t}\r\n    \r\n    \tstatic int numberOfOrdersOnHold(List&lt;Order&gt; orders, int customerNumber) {\r\n    \t\tint count = 0;\r\n    \t\tfor (Order order : orders) {\r\n    \t\t\tif (order.getCustomerNumber() == customerNumber &amp;&amp; order.getStatus() == OrderStatus.ONHOLD) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Customer#1234 has 2 order(s) on hold\r\n\r\n**Notes:**\r\n\r\n 1. Use `enum` for status values as it makes easy for you to write and maintain the code. Check [this][1] to learn more about Java `enum`.\r\n 2. Follow [Java naming conventions][2] e.g. `NumberOfOrdersOnHold` should be named as `numberOfOrdersOnHold`.\r\n 3. The function, `numberOfOrdersOnHold` also requires the customer number whose order status has to be found.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [2]: https://www.oracle.com/technetwork/java/codeconventions-135099.html","title":"ArrayList occurance of object type","body":"<p>Do it as follows:</p>\n<pre><code>import java.util.List;\n\nenum OrderStatus {\n    ONHOLD(&quot;On Hold&quot;), APPROVED(&quot;Approved&quot;), DELIVERED(&quot;Delivered&quot;);\n\n    private final String statusCode;\n\n    private OrderStatus(String statusCode) {\n        this.statusCode = statusCode;\n    }\n}\n\nclass Order {\n    private OrderStatus status = null;\n    private int customerNumber = 0;\n\n    public Order(OrderStatus status, int customerNumber) {\n        this.status = status;\n        this.customerNumber = customerNumber;\n    }\n\n    public OrderStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(OrderStatus status) {\n        this.status = status;\n    }\n\n    public int getCustomerNumber() {\n        return customerNumber;\n    }\n\n    public void setCustomerNumber(int customerNumber) {\n        this.customerNumber = customerNumber;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Order [status=&quot; + status + &quot;, customerNumber=&quot; + customerNumber + &quot;]&quot;;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Order&gt; orders = List.of(new Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.APPROVED, 1234),\n                new Order(OrderStatus.ONHOLD, 2345), new Order(OrderStatus.APPROVED, 1234),\n                new Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.ONHOLD, 2345));\n        System.out.println(&quot;Customer#1234 has &quot; + numberOfOrdersOnHold(orders, 1234) + &quot; order(s) on hold&quot;);\n    }\n\n    static int numberOfOrdersOnHold(List&lt;Order&gt; orders, int customerNumber) {\n        int count = 0;\n        for (Order order : orders) {\n            if (order.getCustomerNumber() == customerNumber &amp;&amp; order.getStatus() == OrderStatus.ONHOLD) {\n                count++;\n            }\n        }\n        return count;\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Customer#1234 has 2 order(s) on hold\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ol>\n<li>Use <code>enum</code> for status values as it makes easy for you to write and maintain the code. Check <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">this</a> to learn more about Java <code>enum</code>.</li>\n<li>Follow <a href=\"https://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> e.g. <code>NumberOfOrdersOnHold</code> should be named as <code>numberOfOrdersOnHold</code>.</li>\n<li>The function, <code>numberOfOrdersOnHold</code> also requires the customer number whose order status has to be found.</li>\n</ol>\n"}],"owner":{"account_id":18208020,"reputation":29,"user_id":13251082,"display_name":"gumecf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61085783,"answer_count":2,"score":2,"last_activity_date":1643231910,"creation_date":1586277860,"question_id":61085056,"body_markdown":"I have a class of orders and I want to see how many times a unique customerNumber will get mapped to a status reading &quot;On Hold&quot;\r\n\r\n  \r\n\r\n   \r\n\r\n    public class Orders {\r\n\tprivate String status = null;\r\n\tprivate int customerNumber = 0;\r\n\r\n\tpublic Orders(String status, int customerNumber) {\r\n\t\tsuper();\r\n\t\tthis.status = status;\r\n\t\tthis.customerNumber = customerNumber;\r\n\t}\r\n    }\r\n    \r\n\r\n\r\n\r\n    public int NumberOfOrdersOnHold(List&lt;Orders&gt; orders) {\r\n\t\tint sum = 0;\r\n\t\tfor (Orders o : orders) {\r\n\t\t\tif(o.getStatus().contentEquals(&quot;On Hold&quot;));\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nI was thinking a counter method would work but it wouldnt. how will i achieve this method.I need numbers of orders in hold for each customerNumber not the total number.  ","title":"ArrayList occurance of object type","body":"<p>I have a class of orders and I want to see how many times a unique customerNumber will get mapped to a status reading \"On Hold\"</p>\n\n<pre><code>public class Orders {\nprivate String status = null;\nprivate int customerNumber = 0;\n\npublic Orders(String status, int customerNumber) {\n    super();\n    this.status = status;\n    this.customerNumber = customerNumber;\n}\n}\n\n\n\n\npublic int NumberOfOrdersOnHold(List&lt;Orders&gt; orders) {\n    int sum = 0;\n    for (Orders o : orders) {\n        if(o.getStatus().contentEquals(\"On Hold\"));\n    }\n\n}\n</code></pre>\n\n<p>I was thinking a counter method would work but it wouldnt. how will i achieve this method.I need numbers of orders in hold for each customerNumber not the total number.  </p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":0,"creation_date":1586346919,"post_id":61100016,"comment_id":108093709,"body_markdown":"Three else-ifs with the same condition (N%2)==0? That&#39;s not working.","body":"Three else-ifs with the same condition (N%2)==0? That&#39;s not working."}],"answers":[{"tags":[],"owner":{"account_id":16962122,"reputation":168,"user_id":13204864,"display_name":"Dejke"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1586347271,"creation_date":1586347071,"answer_id":61100129,"question_id":61100016,"body_markdown":"Since you&#39;re printing ans in every possible case, it can be outside of the if statements.\r\n```java\r\n\r\nif ((N % 2) == 1) {\r\n    ans += &quot;Weird&quot;;\r\n}\r\nelse { //We know N is not odd, so it must be even\r\n    if (N &lt;= 5) {\r\n        ans += &quot;Not Weird&quot;;\r\n    }\r\n    else if (N &lt;= 20) { //We know N&lt;=5 is false, so N&gt;5 must be true\r\n        ans += &quot;Weird&quot;;\r\n    }\r\n    else{ //we know N&lt;=20 is false, so N &gt;20 must be true\r\n        ans += &quot;Not Weird&quot;;\r\n    }\r\n}\r\nSystem.out.println(ans);\r\n```","title":"using if else statement to scan and print odd and even numbers","body":"<p>Since you're printing ans in every possible case, it can be outside of the if statements.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nif ((N % 2) == 1) {\n    ans += \"Weird\";\n}\nelse { //We know N is not odd, so it must be even\n    if (N &lt;= 5) {\n        ans += \"Not Weird\";\n    }\n    else if (N &lt;= 20) { //We know N&lt;=5 is false, so N&gt;5 must be true\n        ans += \"Weird\";\n    }\n    else{ //we know N&lt;=20 is false, so N &gt;20 must be true\n        ans += \"Not Weird\";\n    }\n}\nSystem.out.println(ans);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18216256,"reputation":35,"user_id":13257889,"display_name":"Rahul Nishad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586347861,"creation_date":1586347861,"answer_id":61100369,"question_id":61100016,"body_markdown":"Try this code.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Solution {\r\n        public static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n    \r\n            scanner.close();\r\n    \r\n            String ans = &quot;&quot;;\r\n    \r\n            if ((N % 2) == 1) {\r\n                ans += &quot;Weird&quot;;\r\n            } else {\r\n                if (N &lt;= 5) {\r\n                    ans += &quot;Not Weird&quot;;\r\n                } else if (N &lt;= 20) {\r\n                    ans += &quot;Weird&quot;;\r\n                } else {\r\n                    ans += &quot;Not Weird&quot;;\r\n                }\r\n            }\r\n            System.out.println(ans);\r\n        }\r\n    }","title":"using if else statement to scan and print odd and even numbers","body":"<p>Try this code.</p>\n\n<pre><code>import java.util.*;\n\npublic class Solution {\n    public static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n        scanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\");\n\n        scanner.close();\n\n        String ans = \"\";\n\n        if ((N % 2) == 1) {\n            ans += \"Weird\";\n        } else {\n            if (N &lt;= 5) {\n                ans += \"Not Weird\";\n            } else if (N &lt;= 20) {\n                ans += \"Weird\";\n            } else {\n                ans += \"Not Weird\";\n            }\n        }\n        System.out.println(ans);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643231884,"creation_date":1586348794,"answer_id":61100642,"question_id":61100016,"body_markdown":"Using ternary operators, you can fulfil the criteria in just one line of code:\r\n\r\n    n % 2 != 0 ? &quot;Weird&quot;\r\n    \t\t\t\t: (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)))\r\n\r\n**Demo:**\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Create a list of test integers from 1 to 25\r\n    \t\tList&lt;Integer&gt; testNumbers = IntStream.rangeClosed(1, 25).boxed().collect(Collectors.toList());\r\n    \t\tfor (int n : testNumbers) {\r\n    \t\t\tSystem.out.println(n + &quot; -&gt; &quot; + whatIsIt(n));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic String whatIsIt(int n) {\r\n    \t\treturn n % 2 != 0 ? &quot;Weird&quot;\r\n    \t\t\t\t: (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    1 -&gt; Weird\r\n    2 -&gt; Not Weird\r\n    3 -&gt; Weird\r\n    4 -&gt; Not Weird\r\n    5 -&gt; Weird\r\n    6 -&gt; Weird\r\n    7 -&gt; Weird\r\n    8 -&gt; Weird\r\n    9 -&gt; Weird\r\n    10 -&gt; Weird\r\n    11 -&gt; Weird\r\n    12 -&gt; Weird\r\n    13 -&gt; Weird\r\n    14 -&gt; Weird\r\n    15 -&gt; Weird\r\n    16 -&gt; Weird\r\n    17 -&gt; Weird\r\n    18 -&gt; Weird\r\n    19 -&gt; Weird\r\n    20 -&gt; Weird\r\n    21 -&gt; Weird\r\n    22 -&gt; Not Weird\r\n    23 -&gt; Weird\r\n    24 -&gt; Not Weird\r\n    25 -&gt; Weird\r\n","title":"using if else statement to scan and print odd and even numbers","body":"<p>Using ternary operators, you can fulfil the criteria in just one line of code:</p>\n<pre><code>n % 2 != 0 ? &quot;Weird&quot;\n                : (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)))\n</code></pre>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Create a list of test integers from 1 to 25\n        List&lt;Integer&gt; testNumbers = IntStream.rangeClosed(1, 25).boxed().collect(Collectors.toList());\n        for (int n : testNumbers) {\n            System.out.println(n + &quot; -&gt; &quot; + whatIsIt(n));\n        }\n    }\n\n    static String whatIsIt(int n) {\n        return n % 2 != 0 ? &quot;Weird&quot;\n                : (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>1 -&gt; Weird\n2 -&gt; Not Weird\n3 -&gt; Weird\n4 -&gt; Not Weird\n5 -&gt; Weird\n6 -&gt; Weird\n7 -&gt; Weird\n8 -&gt; Weird\n9 -&gt; Weird\n10 -&gt; Weird\n11 -&gt; Weird\n12 -&gt; Weird\n13 -&gt; Weird\n14 -&gt; Weird\n15 -&gt; Weird\n16 -&gt; Weird\n17 -&gt; Weird\n18 -&gt; Weird\n19 -&gt; Weird\n20 -&gt; Weird\n21 -&gt; Weird\n22 -&gt; Not Weird\n23 -&gt; Weird\n24 -&gt; Not Weird\n25 -&gt; Weird\n</code></pre>\n"}],"owner":{"account_id":13537232,"reputation":127,"user_id":9766032,"display_name":"Jay Dee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61100642,"answer_count":3,"score":1,"last_activity_date":1643231884,"creation_date":1586346727,"question_id":61100016,"body_markdown":"I am having a problem with this if else statement. The requirement is:\r\n\r\n - If n is odd, print Weird \r\n - If n is even and in the inclusive range of 2    to 5, print Not Weird\r\n - If n is even and in the inclusive range of 6 to    20, print Weird\r\n - If n is even and greater than 20, print Not Weird.\r\n\r\nWhen the input number is **18** the output is expected to be **Weird.** Same for the input number **20**.\r\n\r\n        import java.util.*;\r\n    \r\n    public class Solution {\r\n        public static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n    \r\n            scanner.close();\r\n    \r\n            String ans = &quot;&quot;;\r\n    \r\n            if ((N % 2) == 1) {\r\n                ans += &quot;Weird&quot;;\r\n                System.out.println(ans);\r\n            } \r\n            else if ((N % 2) == 0) {\r\n                if (N &gt;= 2 || N &lt;= 5) {\r\n                    ans += &quot;Not Weird&quot;;\r\n                    System.out.println(ans);\r\n                }\r\n            } \r\n            else if ((N % 2) == 0) {\r\n                if (N &gt;= 6 || N &lt;= 20) {\r\n                    ans += &quot;Weird&quot;;\r\n                    System.out.println(ans);\r\n                }\r\n            } \r\n            else if ((N % 2) == 0) {\r\n                if (N &gt; 20) {\r\n                    ans += &quot;Not Weird&quot;;\r\n                    System.out.println(ans);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nEdit: But when I input the number 18 instead of Weird the output comes as **Not Weird.**, same for number 20.","title":"using if else statement to scan and print odd and even numbers","body":"<p>I am having a problem with this if else statement. The requirement is:</p>\n\n<ul>\n<li>If n is odd, print Weird </li>\n<li>If n is even and in the inclusive range of 2    to 5, print Not Weird</li>\n<li>If n is even and in the inclusive range of 6 to    20, print Weird</li>\n<li>If n is even and greater than 20, print Not Weird.</li>\n</ul>\n\n<p>When the input number is <strong>18</strong> the output is expected to be <strong>Weird.</strong> Same for the input number <strong>20</strong>.</p>\n\n<pre><code>    import java.util.*;\n\npublic class Solution {\n    public static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n        scanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\");\n\n        scanner.close();\n\n        String ans = \"\";\n\n        if ((N % 2) == 1) {\n            ans += \"Weird\";\n            System.out.println(ans);\n        } \n        else if ((N % 2) == 0) {\n            if (N &gt;= 2 || N &lt;= 5) {\n                ans += \"Not Weird\";\n                System.out.println(ans);\n            }\n        } \n        else if ((N % 2) == 0) {\n            if (N &gt;= 6 || N &lt;= 20) {\n                ans += \"Weird\";\n                System.out.println(ans);\n            }\n        } \n        else if ((N % 2) == 0) {\n            if (N &gt; 20) {\n                ans += \"Not Weird\";\n                System.out.println(ans);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Edit: But when I input the number 18 instead of Weird the output comes as <strong>Not Weird.</strong>, same for number 20.</p>\n"},{"tags":["java","macos","freeze","macos-catalina","filedialog"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1607905830,"post_id":65281530,"comment_id":115411964,"body_markdown":"Try setting the frame visiable first `frame.setVisible(true);`","body":"Try setting the frame visiable first <code>frame.setVisible(true);</code>"},{"owner":{"account_id":12352731,"reputation":41,"user_id":9010491,"display_name":"Lana Del Slay"},"score":0,"creation_date":1607907020,"post_id":65281530,"comment_id":115412206,"body_markdown":"I actually had tried that before, but just tried it again for good measure, but still no dice!","body":"I actually had tried that before, but just tried it again for good measure, but still no dice!"}],"answers":[{"tags":[],"owner":{"account_id":12352731,"reputation":41,"user_id":9010491,"display_name":"Lana Del Slay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607916258,"creation_date":1607916258,"answer_id":65283187,"question_id":65281530,"body_markdown":"OMG. It only took me all day, but I only needed to make the FileDialog run on it&#39;s own thread. Hopefully this&#39;ll save some other noob&#39;s time lol. My new code looks like this: \r\n```\r\npublic class threadTest extends Thread {\r\n\tpublic void run(){  \r\n\t    JFrame frame = new JFrame();\r\n        System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\r\n        FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\r\n        fd.setVisible(true);\r\n\t\tString filename = fd.getFile();\r\n\t  }    \r\n}\r\n``` \r\nand I called it like this \r\n```\r\n threadTest test=new threadTest();   \r\n test.start(); \r\n```","title":"FileDialog hanging on Mac OS in JFX Application","body":"<p>OMG. It only took me all day, but I only needed to make the FileDialog run on it's own thread. Hopefully this'll save some other noob's time lol. My new code looks like this:</p>\n<pre><code>public class threadTest extends Thread {\n    public void run(){  \n        JFrame frame = new JFrame();\n        System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\n        FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\n        fd.setVisible(true);\n        String filename = fd.getFile();\n      }    \n}\n</code></pre>\n<p>and I called it like this</p>\n<pre><code> threadTest test=new threadTest();   \n test.start(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24065114,"reputation":1,"user_id":18041799,"display_name":"Julie Megan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643231618,"creation_date":1643231618,"answer_id":70870330,"question_id":65281530,"body_markdown":"Execute `dispose()` on the JFrame and FileDialog when finished. e.g.\r\n\r\n    JFrame frame = new JFrame();\r\n    System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\r\n    FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\r\n    fd.setVisible(true);\r\n    String filename = fd.getFile();           \r\n    frame.dispose();\r\n    fd.dispose();\r\n\r\nAlternatively, you can try `System.exit()`. e.g.\r\n\r\n    JFrame frame = new JFrame();\r\n    System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\r\n    FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\r\n    fd.setVisible(true);\r\n    String filename = fd.getFile();           \r\n    System.exit();\r\n\r\n\r\nThere is some debate as to which approach is better [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13360430/jframe-dispose-vs-system-exit","title":"FileDialog hanging on Mac OS in JFX Application","body":"<p>Execute <code>dispose()</code> on the JFrame and FileDialog when finished. e.g.</p>\n<pre><code>JFrame frame = new JFrame();\nSystem.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\nFileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\nfd.setVisible(true);\nString filename = fd.getFile();           \nframe.dispose();\nfd.dispose();\n</code></pre>\n<p>Alternatively, you can try <code>System.exit()</code>. e.g.</p>\n<pre><code>JFrame frame = new JFrame();\nSystem.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\nFileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\nfd.setVisible(true);\nString filename = fd.getFile();           \nSystem.exit();\n</code></pre>\n<p>There is some debate as to which approach is better <a href=\"https://stackoverflow.com/questions/13360430/jframe-dispose-vs-system-exit\">here</a>.</p>\n"}],"owner":{"account_id":12352731,"reputation":41,"user_id":9010491,"display_name":"Lana Del Slay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643231618,"creation_date":1607899922,"question_id":65281530,"body_markdown":"So far, I&#39;ve tried to run this on a fresh Mojave, and my main Catalina installation with the same hanging results. The code snippet to open FileDialog runs fine independently in a separate project, but if I create another class in the same package and call it like that, it&#39;s the same deal - still hanging. It&#39;s being called within the controller if that makes a difference (I&#39;ve tried JFileChooser which also hangs, and seems to have a history of hanging on OS X. To reiterate I also tried extracting the code to open the dialog to a different class aswell.) It hangs when it reaches `fd.setVisible(true);`. I&#39;ve tried disabling iCloud as I&#39;ve heard that can cause issues, I&#39;ve also disabled SIPS as a test. I&#39;m not even sure how I can debug this further now. Any help would be super appreciated!\r\n\r\n```\r\n        \tJFrame frame = new JFrame();\r\n            System.setProperty(&quot;apple.awt.fileDialogForDirectories&quot;, &quot;true&quot;);\r\n    \t\tFileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\r\n    \t\tfd.setVisible(true);\r\n    \t\tString filename = fd.getFile();\r\n    \t\tSystem.out.println(filename);\r\n\r\n```\r\n","title":"FileDialog hanging on Mac OS in JFX Application","body":"<p>So far, I've tried to run this on a fresh Mojave, and my main Catalina installation with the same hanging results. The code snippet to open FileDialog runs fine independently in a separate project, but if I create another class in the same package and call it like that, it's the same deal - still hanging. It's being called within the controller if that makes a difference (I've tried JFileChooser which also hangs, and seems to have a history of hanging on OS X. To reiterate I also tried extracting the code to open the dialog to a different class aswell.) It hangs when it reaches <code>fd.setVisible(true);</code>. I've tried disabling iCloud as I've heard that can cause issues, I've also disabled SIPS as a test. I'm not even sure how I can debug this further now. Any help would be super appreciated!</p>\n<pre><code>            JFrame frame = new JFrame();\n            System.setProperty(&quot;apple.awt.fileDialogForDirectories&quot;, &quot;true&quot;);\n            FileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\n            fd.setVisible(true);\n            String filename = fd.getFile();\n            System.out.println(filename);\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user5398447"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362579627,"creation_date":1362579315,"answer_id":15249625,"question_id":15249578,"body_markdown":"Why is name an integer? `int name;`\r\n\r\nI suspect you are using alpha characters to input your name...and are getting the exception at this line: `name = in.nextInt();`\r\n\r\n`name` **should not** be an integer. It **should** be a string.\r\n\r\nTherefore, `string name;` and `name = in.nextLine();`\r\n\r\n","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>Why is name an integer? <code>int name;</code></p>\n\n<p>I suspect you are using alpha characters to input your name...and are getting the exception at this line: <code>name = in.nextInt();</code></p>\n\n<p><code>name</code> <strong>should not</strong> be an integer. It <strong>should</strong> be a string.</p>\n\n<p>Therefore, <code>string name;</code> and <code>name = in.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1362579655,"creation_date":1362579352,"answer_id":15249638,"question_id":15249578,"body_markdown":"**Issues**\r\n\r\n     int name; //Name should be of type String\r\n     ...\r\n     System.out.println(&quot;Enter in your name&quot;);\r\n     name = in.nextInt(); //It doesn&#39;t handle the string since your using `nextInt`\r\n\r\n**Solution**\r\n\r\n     String name;\r\n     ...\r\n     System.out.println(&quot;Enter in your name&quot;);\r\n     name = in.nextLine();\r\n\r\n","title":"Exception in thread main java.util.InputMismatchException error","body":"<p><strong>Issues</strong></p>\n\n<pre><code> int name; //Name should be of type String\n ...\n System.out.println(\"Enter in your name\");\n name = in.nextInt(); //It doesn't handle the string since your using `nextInt`\n</code></pre>\n\n<p><strong>Solution</strong></p>\n\n<pre><code> String name;\n ...\n System.out.println(\"Enter in your name\");\n name = in.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362580055,"creation_date":1362579379,"answer_id":15249647,"question_id":15249578,"body_markdown":"It means that your program has tried to read a value that as an integer that is not an integer. \r\n\r\n   when using `name = in.nextInt();`\r\n\r\nit should be string.not int","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>It means that your program has tried to read a value that as an integer that is not an integer. </p>\n\n<p>when using <code>name = in.nextInt();</code></p>\n\n<p>it should be string.not int</p>\n"},{"tags":[],"owner":{"account_id":18382490,"reputation":1,"user_id":13390293,"display_name":"user13390293"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1587670911,"creation_date":1587642556,"answer_id":61386534,"question_id":15249578,"body_markdown":"    import java.util.*;\r\n    class Employe\r\n    {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tEmploye(int id,String name)\r\n    \t{\r\n    \t\tthis.id=id;\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n    public class Quarantine {\r\n    public static void main(String[] args) {\r\n    \tEmploye empList[]=new Employe[2];\r\n    \tScanner sc=new Scanner(System.in);\r\n    \tfor(int index=0;index&lt;empList.length;index++) {\r\n    \tint id=sc.nextInt();\r\n    \tString name=sc.nextLine(); \r\n    \tempList[index]=new Employe(id,name);\r\n    \t}\r\n    \tfor(int index=0;index&lt;empList.length;index++) {\r\n    \t\tSystem.out.println(empList[index].getId()+&quot; &quot;+empList[index].getName());\r\n    \t\t}}\r\n    }\r\n    \r\n    \r\nif I give input as 1, a\r\n\r\nit will show error because both are taken as character\r\n\r\nI need to give input as 124, a run","title":"Exception in thread main java.util.InputMismatchException error","body":"<pre><code>import java.util.*;\nclass Employe\n{\n    private int id;\n    private String name;\n    Employe(int id,String name)\n    {\n        this.id=id;\n        this.name=name;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\npublic class Quarantine {\npublic static void main(String[] args) {\n    Employe empList[]=new Employe[2];\n    Scanner sc=new Scanner(System.in);\n    for(int index=0;index&lt;empList.length;index++) {\n    int id=sc.nextInt();\n    String name=sc.nextLine(); \n    empList[index]=new Employe(id,name);\n    }\n    for(int index=0;index&lt;empList.length;index++) {\n        System.out.println(empList[index].getId()+\" \"+empList[index].getName());\n        }}\n}\n</code></pre>\n\n<p>if I give input as 1, a</p>\n\n<p>it will show error because both are taken as character</p>\n\n<p>I need to give input as 124, a run</p>\n"},{"tags":[],"owner":{"account_id":15562223,"reputation":1,"user_id":11227062,"display_name":"Sridhar Reddy Alapati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597830564,"creation_date":1597830564,"answer_id":63484323,"question_id":15249578,"body_markdown":"*name = in.nextInt();*\r\nas you required user name so obviously it will be String type so use either\r\n**name=in.next()** or **name=in.nextLine()**.\r\n i hope it will work now.","title":"Exception in thread main java.util.InputMismatchException error","body":"<p><em>name = in.nextInt();</em>\nas you required user name so obviously it will be String type so use either\n<strong>name=in.next()</strong> or <strong>name=in.nextLine()</strong>.\ni hope it will work now.</p>\n"},{"tags":[],"owner":{"account_id":21124725,"reputation":1,"user_id":15530183,"display_name":"Aman kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635355900,"creation_date":1635355900,"answer_id":69743122,"question_id":15249578,"body_markdown":"Exception in thread &quot;main&quot; java.util.InputMismatchException\r\nat java.util.Scanner.throwFor(Unknown Source)\r\n\r\nLet me explain why you have encountered this type of error\r\nYou defined **name** variable as **int** but in the console you would be giving  **string** as input. So compiler will throw error as InputMismatchException.\r\nBetter to make name variable as string :)\r\n","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>Exception in thread &quot;main&quot; java.util.InputMismatchException\nat java.util.Scanner.throwFor(Unknown Source)</p>\n<p>Let me explain why you have encountered this type of error\nYou defined <strong>name</strong> variable as <strong>int</strong> but in the console you would be giving  <strong>string</strong> as input. So compiler will throw error as InputMismatchException.\nBetter to make name variable as string :)</p>\n"},{"tags":[],"owner":{"account_id":12964319,"reputation":69,"user_id":9372460,"display_name":"vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635496391,"creation_date":1635490704,"answer_id":69764805,"question_id":15249578,"body_markdown":"Corrected Code:\r\n    \r\n    import java.util.*;  \r\n    import java.io.*; \r\n    \r\n    public class Person  { \r\n        public static void main(String[]args)  {\r\n            int age;\r\n            String name;\r\n    \r\n            Scanner scan = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter in your age.&quot;);\r\n            age = scan.nextInt();//for Number input \r\n            System.out.println(&quot;Enter in your name&quot;);\r\n            name = scan.next();//for String Input \r\n\r\n            if (age &lt; 18) \r\n            {\r\n                 System.out.println(&quot;So you&#39;re a kid, huh? That&#39;s fine.&quot;);\r\n            } \r\n    \r\n            else if (age &gt;= 18)\r\n            {\r\n                System.out.println(&quot;Ah, and adult! Good.&quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;So you&#39;re &quot; + age + &quot; years old and your name is &quot; + name);\r\n    \r\n        } \r\n    }","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>Corrected Code:</p>\n<pre><code>import java.util.*;  \nimport java.io.*; \n\npublic class Person  { \n    public static void main(String[]args)  {\n        int age;\n        String name;\n\n        Scanner scan = new Scanner(System.in);\n\n        System.out.println(&quot;Enter in your age.&quot;);\n        age = scan.nextInt();//for Number input \n        System.out.println(&quot;Enter in your name&quot;);\n        name = scan.next();//for String Input \n\n        if (age &lt; 18) \n        {\n             System.out.println(&quot;So you're a kid, huh? That's fine.&quot;);\n        } \n\n        else if (age &gt;= 18)\n        {\n            System.out.println(&quot;Ah, and adult! Good.&quot;);\n        }\n\n        System.out.println(&quot;So you're &quot; + age + &quot; years old and your name is &quot; + name);\n\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":2444392,"reputation":355,"user_id":2132120,"accept_rate":88,"display_name":"Xiam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15249638,"answer_count":7,"score":0,"last_activity_date":1643231519,"creation_date":1362579201,"question_id":15249578,"body_markdown":"I have a question on what&#39;s going on, whenever I try to compile it it keeps giving me an error like this:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    at java.util.Scanner.throwFor(Unknown Source)\r\n    at java.util.Scanner.next(Unknown Source)\r\n    at java.util.Scanner.nextInt(Unknown Source)\r\n    at java.util.Scanner.nextInt(Unknown Source)\r\n    at Person.main(Person.java:38)\r\n\r\nAll I want is for the user to be able to input their age and name and have it stored in the &quot;age&quot; and &quot;name&quot; variables, then have it print it out in the bottom string. And if someone would like to help me clean up my code as well, it wouldn&#39;t hurt..\r\n\r\n\r\n    import java.util.*; \r\n    import java.io.*; \r\n    import java.util.Scanner;\r\n\r\n    public class Person \r\n\r\n    {\r\n\t\r\n\tpublic static void main(String[]args) \r\n\t\t\r\n\t\t{\r\n\r\n\t\tint age;\r\n\t\tint name;\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter in your age.&quot;);\r\n\t\tage = scan.nextInt();\r\n\t\t\r\n\t\t if (age &lt; 18) \r\n\t\t\r\n\t\t {\r\n\t\t\t System.out.println(&quot;So you&#39;re a kid, huh? That&#39;s fine.&quot;);\r\n\t     } \r\n\t\t \r\n\t\t else if (age &gt;= 18)\r\n\t\t \r\n\t\t {\r\n\t        System.out.println(&quot;Ah, and adult! Good.&quot;);\r\n\t     }\r\n\t\t \r\n\t\t @SuppressWarnings(&quot;resource&quot;)\r\n\t\t Scanner in = new Scanner(System.in);\r\n\t\t \r\n\t\t System.out.println(&quot;Enter in your name&quot;);\r\n\t\t name = in.nextInt();\r\n\t\t \r\n\t\t System.out.println(&quot;So you&#39;re &quot; + age + &quot; years old and your name is &quot; + name);\r\n\t\t \r\n\t\t  \r\n\t}\r\n    }","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>I have a question on what's going on, whenever I try to compile it it keeps giving me an error like this:</p>\n\n<pre><code>Exception in thread \"main\" java.util.InputMismatchException\nat java.util.Scanner.throwFor(Unknown Source)\nat java.util.Scanner.next(Unknown Source)\nat java.util.Scanner.nextInt(Unknown Source)\nat java.util.Scanner.nextInt(Unknown Source)\nat Person.main(Person.java:38)\n</code></pre>\n\n<p>All I want is for the user to be able to input their age and name and have it stored in the \"age\" and \"name\" variables, then have it print it out in the bottom string. And if someone would like to help me clean up my code as well, it wouldn't hurt..</p>\n\n<pre><code>import java.util.*; \nimport java.io.*; \nimport java.util.Scanner;\n\npublic class Person \n\n{\n\npublic static void main(String[]args) \n\n    {\n\n    int age;\n    int name;\n\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(\"Enter in your age.\");\n    age = scan.nextInt();\n\n     if (age &lt; 18) \n\n     {\n         System.out.println(\"So you're a kid, huh? That's fine.\");\n     } \n\n     else if (age &gt;= 18)\n\n     {\n        System.out.println(\"Ah, and adult! Good.\");\n     }\n\n     @SuppressWarnings(\"resource\")\n     Scanner in = new Scanner(System.in);\n\n     System.out.println(\"Enter in your name\");\n     name = in.nextInt();\n\n     System.out.println(\"So you're \" + age + \" years old and your name is \" + name);\n\n\n}\n}\n</code></pre>\n"},{"tags":["java","javascript","servlets"],"comments":[{"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"score":0,"creation_date":1370511336,"post_id":16958556,"comment_id":24490022,"body_markdown":"Try this http://www.java2s.com/Code/Java/Servlets/GetCookiefromRequest.htm","body":"Try this <a href=\"http://www.java2s.com/Code/Java/Servlets/GetCookiefromRequest.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Java/Servlets/GetCookiefromRequest.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370511269,"creation_date":1370511269,"answer_id":16958598,"question_id":16958556,"body_markdown":"try this\r\n\r\n\r\n    Cookie[] cookies = request.getCookies();\r\n\r\n\r\n    for (int i = 0; i &lt; cookies.length; i++) {\r\n        Cookie c = cookies[i];\r\n         c.getName()  //cookie name\r\n        c.getValue()   //cookie value\r\n          \r\n      }\r\n\r\n","title":"How to call a javascript cookie in servlet?","body":"<p>try this</p>\n\n<pre><code>Cookie[] cookies = request.getCookies();\n\n\nfor (int i = 0; i &lt; cookies.length; i++) {\n    Cookie c = cookies[i];\n     c.getName()  //cookie name\n    c.getValue()   //cookie value\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226474,"reputation":3182,"user_id":487545,"accept_rate":82,"display_name":"mauretto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370511774,"creation_date":1370511774,"answer_id":16958779,"question_id":16958556,"body_markdown":"    for (Cookie c : request.getCookies()) {\r\n       if(&quot;myCookieName&quot;.equals(c.getName()) {\r\n         System.out.println(c.getValue());\r\n       }\r\n    }","title":"How to call a javascript cookie in servlet?","body":"<pre><code>for (Cookie c : request.getCookies()) {\n   if(\"myCookieName\".equals(c.getName()) {\n     System.out.println(c.getValue());\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":471955,"reputation":2398,"user_id":880094,"accept_rate":44,"display_name":"NamingException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370514169,"creation_date":1370514169,"answer_id":16959642,"question_id":16958556,"body_markdown":"Try this\r\n\r\n\tCookie[] cookie = request.getCookies();\r\n\tif(cookie != null &amp;&amp; cookie.length &gt; 0) {\r\n\t    System.out.println(&quot;CkInfo&quot;);\r\n\t    for(int i = 0;i &lt; cookie.length; ++i) {\r\n\t\tSystem.out.println(&quot;[&quot;+i+&quot;] info&quot;);\r\n\t\tSystem.out.println(&quot;Name: &quot;+cookie[i].getName());\r\n\t\tSystem.out.println(&quot;Comment: &quot;+cookie[i].getComment());\r\n\t\tSystem.out.println(&quot;Domain: &quot;+cookie[i].getDomain());\r\n\t\tSystem.out.println(&quot;MaxAge: &quot;+cookie[i].getMaxAge());\r\n\t\tSystem.out.println(&quot;Path: &quot;+cookie[i].getPath());\r\n\t\tSystem.out.println(&quot;Value: &quot;+cookie[i].getValue());\r\n\t    }\r\n\t}","title":"How to call a javascript cookie in servlet?","body":"<p>Try this</p>\n\n<pre><code>Cookie[] cookie = request.getCookies();\nif(cookie != null &amp;&amp; cookie.length &gt; 0) {\n    System.out.println(\"CkInfo\");\n    for(int i = 0;i &lt; cookie.length; ++i) {\n    System.out.println(\"[\"+i+\"] info\");\n    System.out.println(\"Name: \"+cookie[i].getName());\n    System.out.println(\"Comment: \"+cookie[i].getComment());\n    System.out.println(\"Domain: \"+cookie[i].getDomain());\n    System.out.println(\"MaxAge: \"+cookie[i].getMaxAge());\n    System.out.println(\"Path: \"+cookie[i].getPath());\n    System.out.println(\"Value: \"+cookie[i].getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2864343,"reputation":459,"user_id":2458946,"accept_rate":42,"display_name":"swetha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1526,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1643231211,"creation_date":1370511170,"question_id":16958556,"body_markdown":"I have tried getting cookie from javascript to servlet using \r\n\r\n&gt; request.getcookie()\r\n\r\n method. But I found the value as null. \r\n\r\nIs there any way to get a cookie from javascript to servlet?","title":"How to call a javascript cookie in servlet?","body":"<p>I have tried getting cookie from javascript to servlet using </p>\n\n<blockquote>\n  <p>request.getcookie()</p>\n</blockquote>\n\n<p>method. But I found the value as null. </p>\n\n<p>Is there any way to get a cookie from javascript to servlet?</p>\n"},{"tags":["java","rest","spring-mvc","restful-url"],"comments":[{"owner":{"account_id":10944391,"reputation":249,"user_id":8043039,"accept_rate":100,"display_name":"trim24"},"score":0,"creation_date":1579960359,"post_id":59909658,"comment_id":105944949,"body_markdown":"If both queries are on the same database, you can use &#39;UNION&#39; to join the queries,","body":"If both queries are on the same database, you can use &#39;UNION&#39; to join the queries,"}],"answers":[{"tags":[],"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643231129,"creation_date":1579961442,"answer_id":59910008,"question_id":59909658,"body_markdown":"You should try to prevent clients from assembling the URIs with string operations, because for that the clients would have to have intimate knowledge about server internals.\r\n\r\nNevertheless, elegant URI schemes are often a sign of a reasonable resource structure. When URIs are well designed, it makes life easier for a developer who wants to use a [REST][1] API; clients will appreciate URIs that are easy to remember. The ability to edit URIs manually (e.g., by truncating some of them after the &quot;/&quot;) is a definite advantage.\r\n\r\nAs you&#39;ve already seen: URIs identify resources. Resources are &quot;things&quot;, *nouns*, not actions or verbs! If you have done a corrosive resource design, matching names usually come up by themselves. However, I would like to give an example here that might be an indication of a problem because of its structure or name.\r\n\r\nhttp://example.com/customers/create?name=XYZ\r\n\r\nThere&#39;s been a bit of a mix-up here:\r\nThe verb &quot;create&quot; has no place in the URI, and the structure suggests that the action is identified by the URI, not by the HTTP verb.\r\n\r\nYour URIs should contain nouns. For URIs that identify resources as they are intended, you can also easily imagine how the different HTTP methods work: A [PUT][2] updates a [DELETE][2] deletes, and a [GET][2] fetches information. Here is an example of how the above URI would look better:\r\n\r\nPOST http://example.com/customers/\r\n\r\nAn obvious rule for a transparent and comprehensible URI design is the mapping of hierarchical relationships to the path element structure of the URI.\r\n\r\nExample:\r\nhttp://example.com/organization/it/support/networks\r\n\r\nSo if you are the developer of the server and therefore the designer of the URI, you should make sure that a GET on http://example.com/organization/it/support also returns a useful result. In your client you should not make such an assumption in any case!\r\nThis contributes fundamentally to the stability of a distributed system and is also known as the [robustness principle][3] or Postel&#39;s law.\r\n\r\nFor the design of URIs for Filter they have different possibilities. The most obvious is to use query parameters. For a list of customers under */customers* that you want to filter for all customers from Germany, an example URI might look like this:\r\n\r\nhttp://example.com/customers?country=Germany\r\nSeveral query components can be linked with an &quot;&amp;&quot;:\r\n\r\nhttp://example.com/customers?country=Germany&amp;year=2020\r\n\r\nHere, too, they meet the expectations of the users with such a URI design. If the query string is omitted (*?country=Germany&amp;year=2020*), the users are taken to the unfiltered list of all customers.\r\n\r\nIt is important to have stable URIs, and the cool URIs does not change ([Tim Berners-Lee][4]).\r\n\r\nTo answer your question:\r\n\r\nThe design should not be overrated; it should be useful, but not perfect (which is impossible to achieve anyway).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Representational_state_transfer\r\n  [2]: https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\r\n  [3]: https://en.wikipedia.org/wiki/Robustness_principle\r\n  [4]: https://en.wikipedia.org/wiki/Tim_Berners-Lee\r\n\r\n\r\n\r\n","title":"FInd by ID and Username in RESTful Web Services","body":"<p>You should try to prevent clients from assembling the URIs with string operations, because for that the clients would have to have intimate knowledge about server internals.</p>\n<p>Nevertheless, elegant URI schemes are often a sign of a reasonable resource structure. When URIs are well designed, it makes life easier for a developer who wants to use a <a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow noreferrer\">REST</a> API; clients will appreciate URIs that are easy to remember. The ability to edit URIs manually (e.g., by truncating some of them after the &quot;/&quot;) is a definite advantage.</p>\n<p>As you've already seen: URIs identify resources. Resources are &quot;things&quot;, <em>nouns</em>, not actions or verbs! If you have done a corrosive resource design, matching names usually come up by themselves. However, I would like to give an example here that might be an indication of a problem because of its structure or name.</p>\n<p><a href=\"http://example.com/customers/create?name=XYZ\" rel=\"nofollow noreferrer\">http://example.com/customers/create?name=XYZ</a></p>\n<p>There's been a bit of a mix-up here:\nThe verb &quot;create&quot; has no place in the URI, and the structure suggests that the action is identified by the URI, not by the HTTP verb.</p>\n<p>Your URIs should contain nouns. For URIs that identify resources as they are intended, you can also easily imagine how the different HTTP methods work: A <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\" rel=\"nofollow noreferrer\">PUT</a> updates a <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\" rel=\"nofollow noreferrer\">DELETE</a> deletes, and a <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\" rel=\"nofollow noreferrer\">GET</a> fetches information. Here is an example of how the above URI would look better:</p>\n<p>POST <a href=\"http://example.com/customers/\" rel=\"nofollow noreferrer\">http://example.com/customers/</a></p>\n<p>An obvious rule for a transparent and comprehensible URI design is the mapping of hierarchical relationships to the path element structure of the URI.</p>\n<p>Example:\n<a href=\"http://example.com/organization/it/support/networks\" rel=\"nofollow noreferrer\">http://example.com/organization/it/support/networks</a></p>\n<p>So if you are the developer of the server and therefore the designer of the URI, you should make sure that a GET on <a href=\"http://example.com/organization/it/support\" rel=\"nofollow noreferrer\">http://example.com/organization/it/support</a> also returns a useful result. In your client you should not make such an assumption in any case!\nThis contributes fundamentally to the stability of a distributed system and is also known as the <a href=\"https://en.wikipedia.org/wiki/Robustness_principle\" rel=\"nofollow noreferrer\">robustness principle</a> or Postel's law.</p>\n<p>For the design of URIs for Filter they have different possibilities. The most obvious is to use query parameters. For a list of customers under <em>/customers</em> that you want to filter for all customers from Germany, an example URI might look like this:</p>\n<p><a href=\"http://example.com/customers?country=Germany\" rel=\"nofollow noreferrer\">http://example.com/customers?country=Germany</a>\nSeveral query components can be linked with an &quot;&amp;&quot;:</p>\n<p><a href=\"http://example.com/customers?country=Germany&amp;year=2020\" rel=\"nofollow noreferrer\">http://example.com/customers?country=Germany&amp;year=2020</a></p>\n<p>Here, too, they meet the expectations of the users with such a URI design. If the query string is omitted (<em>?country=Germany&amp;year=2020</em>), the users are taken to the unfiltered list of all customers.</p>\n<p>It is important to have stable URIs, and the cool URIs does not change (<a href=\"https://en.wikipedia.org/wiki/Tim_Berners-Lee\" rel=\"nofollow noreferrer\">Tim Berners-Lee</a>).</p>\n<p>To answer your question:</p>\n<p>The design should not be overrated; it should be useful, but not perfect (which is impossible to achieve anyway).</p>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1580140007,"creation_date":1579964507,"answer_id":59910443,"question_id":59909658,"body_markdown":"Basically, you have two options:\r\n\r\n - You either have two separate endpoints, for example, `/users/byId/{id}` and `/users/byName/{username}` each mapped to a different controller method\r\n```java\r\nclass UserController {\r\n    @GetMapping(&quot;/byId/{id}&quot;)\r\n    Optional&lt;User&gt; findById(@PathVariable(&quot;id&quot;) String id){\r\n       ...\r\n    }\r\n\r\n    @GetMapping(&quot;/byName/{username}&quot;)\r\n    Optional&lt;User&gt; findByUsername(@PathVariable(&quot;username&quot;) String username){\r\n       ...\r\n    }\r\n}\r\n```\r\n - Or one endpoint `/users/{id-or-name}` and you make the union query, so: `findAllByIdOrName()`\r\n\r\nI tend to say that it&#39;s cleaner and more efficient to do it in separate endpoints.\r\n\r\n\r\n----------\r\n**Edit**\r\n\r\nThe RESTful convention would mean that you have 2 endpoints:\r\n```java\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    Optional&lt;User&gt; findById(@PathVariable(&quot;id&quot;) String id){\r\n       ...\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    List&lt;User&gt; findUsers(@RequestParam(&quot;username&quot;) String username){\r\n       // if username is not empty, filter users\r\n       // we could also filter with other user properties according to specs\r\n       ...\r\n    }\r\n```\r\nAnything other than such would be already deviating from the conventions.","title":"FInd by ID and Username in RESTful Web Services","body":"<p>Basically, you have two options:</p>\n\n<ul>\n<li>You either have two separate endpoints, for example, <code>/users/byId/{id}</code> and <code>/users/byName/{username}</code> each mapped to a different controller method</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>class UserController {\n    @GetMapping(\"/byId/{id}\")\n    Optional&lt;User&gt; findById(@PathVariable(\"id\") String id){\n       ...\n    }\n\n    @GetMapping(\"/byName/{username}\")\n    Optional&lt;User&gt; findByUsername(@PathVariable(\"username\") String username){\n       ...\n    }\n}\n</code></pre>\n\n<ul>\n<li>Or one endpoint <code>/users/{id-or-name}</code> and you make the union query, so: <code>findAllByIdOrName()</code></li>\n</ul>\n\n<p>I tend to say that it's cleaner and more efficient to do it in separate endpoints.</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>The RESTful convention would mean that you have 2 endpoints:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(\"/{id}\")\n    Optional&lt;User&gt; findById(@PathVariable(\"id\") String id){\n       ...\n    }\n\n    @GetMapping(\"/\")\n    List&lt;User&gt; findUsers(@RequestParam(\"username\") String username){\n       // if username is not empty, filter users\n       // we could also filter with other user properties according to specs\n       ...\n    }\n</code></pre>\n\n<p>Anything other than such would be already deviating from the conventions.</p>\n"},{"tags":[],"owner":{"account_id":10131694,"reputation":1907,"user_id":7484853,"display_name":"Hasee Amarathunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643230377,"creation_date":1579965174,"answer_id":59910544,"question_id":59909658,"body_markdown":"You cannot use the same endpoint name for one particular mapping. In here you use the same endpoint name for both @GetMapping&#39;s. If you want to do this thing, you should use the parameters for that.\r\n\r\n    class UserController {\r\n       @GetMapping(&quot;/users&quot;)\r\n       Optional&lt;User&gt; findById(@RequestParam(required = false) String id, @RequestParam(required = false) String username){\r\n          if (!username.equals(&quot;&quot;)) {\r\n             // Response using a username\r\n          }\r\n          if (!id.equals(&quot;&quot;)) {\r\n             // Response using an id\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"FInd by ID and Username in RESTful Web Services","body":"<p>You cannot use the same endpoint name for one particular mapping. In here you use the same endpoint name for both @GetMapping's. If you want to do this thing, you should use the parameters for that.</p>\n<pre><code>class UserController {\n   @GetMapping(&quot;/users&quot;)\n   Optional&lt;User&gt; findById(@RequestParam(required = false) String id, @RequestParam(required = false) String username){\n      if (!username.equals(&quot;&quot;)) {\n         // Response using a username\n      }\n      if (!id.equals(&quot;&quot;)) {\n         // Response using an id\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20879683,"reputation":391,"user_id":15337736,"display_name":"Belaid BOUAOUALTEN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643230064,"creation_date":1616060055,"answer_id":66688292,"question_id":59909658,"body_markdown":"I met the same problem. The two endpoints were in conflict, so event */user/{id}* did not want to work, so that is why I did give *findbyusername* a different endpoint, like:\r\n\r\n    @GetMapping(&quot;/user/username/{username}&quot;) \r\n\r\n\r\n\r\n","title":"FInd by ID and Username in RESTful Web Services","body":"<p>I met the same problem. The two endpoints were in conflict, so event <em>/user/{id}</em> did not want to work, so that is why I did give <em>findbyusername</em> a different endpoint, like:</p>\n<pre><code>@GetMapping(&quot;/user/username/{username}&quot;) \n</code></pre>\n"}],"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7009,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59910443,"answer_count":4,"score":3,"last_activity_date":1643231129,"creation_date":1579958824,"question_id":59909658,"body_markdown":"I&#39;m confused as what is the best preference for singleton resource. I want to have endpoint which has user id as:\r\n\r\n`/users/{id}`\r\n\r\nBut I also want `username` as parameter:\r\n\r\n`/users/{username}`\r\n\r\nI&#39;m using Spring MVC (via Spring Boot) and it says the 2 endpoints are in conflict. So I decided to the first for retrieving singleton resource for users. But in order for the client to still use username as parameter, I added username as query parameter for the collection resource of users:\r\n\r\n`/users?username=&lt;username&gt;`\r\n\r\nIn my `repository` and `service` layers, the return is `Optional&lt;User&gt;`, i.e. it&#39;s either `empty` or `one user` result. But in the `controller`, I wrap this in a `list`, either empty or one, to make it consistent with the return of `/users` as list.\r\n\r\nIs this reasonable design? or is there any better design? Thanks.","title":"FInd by ID and Username in RESTful Web Services","body":"<p>I'm confused as what is the best preference for singleton resource. I want to have endpoint which has user id as:</p>\n\n<p><code>/users/{id}</code></p>\n\n<p>But I also want <code>username</code> as parameter:</p>\n\n<p><code>/users/{username}</code></p>\n\n<p>I'm using Spring MVC (via Spring Boot) and it says the 2 endpoints are in conflict. So I decided to the first for retrieving singleton resource for users. But in order for the client to still use username as parameter, I added username as query parameter for the collection resource of users:</p>\n\n<p><code>/users?username=&lt;username&gt;</code></p>\n\n<p>In my <code>repository</code> and <code>service</code> layers, the return is <code>Optional&lt;User&gt;</code>, i.e. it's either <code>empty</code> or <code>one user</code> result. But in the <code>controller</code>, I wrap this in a <code>list</code>, either empty or one, to make it consistent with the return of <code>/users</code> as list.</p>\n\n<p>Is this reasonable design? or is there any better design? Thanks.</p>\n"},{"tags":["java","gradle","netbeans"],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642744459,"creation_date":1642744459,"answer_id":70796970,"question_id":70793348,"body_markdown":"&gt; Unsupported class file major version 61\r\n\r\nIt says that JDK 17 is unsupported. Your Gradle is running on JDK 17. Two solutions for your problem:\r\n\r\n#### 1. Use JDK 16 or lower\r\nGo to your gradle.properties file, and change (or add, if it doesn&#39;t exist) `org.gradle.java.home` to point towards JDK 16 like this:\r\n```\r\norg.gradle.java.home = path/to/JDK/16\r\n```\r\nDon&#39;t add quotation marks to the path\r\n\r\n#### 2. Use Gradle 7.3.3\r\nGradle 7.3.3 has support for JDK 17. Go to your gradle\\wrapper\\gradle-wrapper.properties file and change `distributionUrl` to \r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\n```","title":"Netbeans 12.5 imported older project cannot be loaded - Unsupported class fle major version 61","body":"<blockquote>\n<p>Unsupported class file major version 61</p>\n</blockquote>\n<p>It says that JDK 17 is unsupported. Your Gradle is running on JDK 17. Two solutions for your problem:</p>\n<h4>1. Use JDK 16 or lower</h4>\n<p>Go to your gradle.properties file, and change (or add, if it doesn't exist) <code>org.gradle.java.home</code> to point towards JDK 16 like this:</p>\n<pre><code>org.gradle.java.home = path/to/JDK/16\n</code></pre>\n<p>Don't add quotation marks to the path</p>\n<h4>2. Use Gradle 7.3.3</h4>\n<p>Gradle 7.3.3 has support for JDK 17. Go to your gradle\\wrapper\\gradle-wrapper.properties file and change <code>distributionUrl</code> to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\n</code></pre>\n"}],"owner":{"account_id":87547,"reputation":2032,"user_id":242721,"accept_rate":63,"display_name":"Para"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643230665,"creation_date":1642712508,"question_id":70793348,"body_markdown":"Netbeans 12.5 - It worked in Netbeans 11  \r\nWhen I open the project I get this error\r\n  \r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I tell Netbeans that I want to resolve it it doesn&#39;t work and I get this warning.  \r\n[![enter image description here][2]][2]\r\n\r\n+ Could not run build action using connection to Gradle installation\r\n&#39;C:\\Users\\ff\\.gradle wrap per\\dists\\gradle-7.0-bin\\2p9eb qfab irfozi6 760gco7n\\gradle~\r\n\r\n+ Could not open cp_int generic class cache for intialzation script\r\n&quot;c:\\Program\r\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-toolng.gradie\r\n(C:\\Users\\ffi.gradie\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).\r\n\r\n+ Could not open cp_int generic class cache for intialzation script\r\nc:\\Program\r\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-tooing.gradie\r\n(C:\\Users\\ffi.gradle\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).\r\n\r\n+ BUG! exception in phase &#39;semantic analysis&#39;in source unit BuidScript_&#39;\r\nUnsupported class fle major version 61\r\n\r\n+ Unsupported class fie major version 61\r\n\r\nI tried changing the gradle version in Tools-&gt;Options-&gt;Java-&gt;Gradle to 6 doesn&#39;t seem to change anything because the warning still mentions gradle 7. I tried changing the java version but that doesn&#39;t seem to work either.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI tried deleting the cache both in the project and in the gradle folder `C:\\Users\\&lt;user&gt;\\.gradle`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e9O7N.png\r\n  [2]: https://i.stack.imgur.com/lqar0.png\r\n  [3]: https://i.stack.imgur.com/OGmRr.png","title":"Netbeans 12.5 imported older project cannot be loaded - Unsupported class fle major version 61","body":"<p>Netbeans 12.5 - It worked in Netbeans 11<br />\nWhen I open the project I get this error</p>\n<p><a href=\"https://i.stack.imgur.com/e9O7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9O7N.png\" alt=\"enter image description here\" /></a></p>\n<p>When I tell Netbeans that I want to resolve it it doesn't work and I get this warning.<br />\n<a href=\"https://i.stack.imgur.com/lqar0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqar0.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>Could not run build action using connection to Gradle installation\n'C:\\Users\\ff.gradle wrap per\\dists\\gradle-7.0-bin\\2p9eb qfab irfozi6 760gco7n\\gradle~</p>\n</li>\n<li><p>Could not open cp_int generic class cache for intialzation script\n&quot;c:\\Program\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-toolng.gradie\n(C:\\Users\\ffi.gradie\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).</p>\n</li>\n<li><p>Could not open cp_int generic class cache for intialzation script\nc:\\Program\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-tooing.gradie\n(C:\\Users\\ffi.gradle\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).</p>\n</li>\n<li><p>BUG! exception in phase 'semantic analysis'in source unit BuidScript_'\nUnsupported class fle major version 61</p>\n</li>\n<li><p>Unsupported class fie major version 61</p>\n</li>\n</ul>\n<p>I tried changing the gradle version in Tools-&gt;Options-&gt;Java-&gt;Gradle to 6 doesn't seem to change anything because the warning still mentions gradle 7. I tried changing the java version but that doesn't seem to work either.</p>\n<p><a href=\"https://i.stack.imgur.com/OGmRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGmRr.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried deleting the cache both in the project and in the gradle folder <code>C:\\Users\\&lt;user&gt;\\.gradle</code></p>\n"},{"tags":["java","sql","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1534844516,"post_id":51945791,"comment_id":90841000,"body_markdown":"You can not set the order by as parameter in prepared statement","body":"You can not set the order by as parameter in prepared statement"}],"answers":[{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1534979646,"creation_date":1534889040,"answer_id":51957325,"question_id":51945791,"body_markdown":"## Dynamic sorting in Spring Data JPA\r\n\r\nIf you used a JPA query you could use [Sort][1] as an argument of your query method to define the sorting order:\r\n\r\n    @Query(&quot;select m from Model m&quot;)\r\n    List&lt;Model&gt; getSortedList(Sort sort);\r\n\r\nand then, for example:\r\n    \r\n    List&lt;Model&gt; models = getSortedList(Sort.by(Sort.Direction.DESC, &quot;name&quot;));\r\n    \r\nBut Spring Data JPA [can&#39;t use][2] `Sort` with native queries:\r\n\r\n&gt; Spring Data JPA does not currently support dynamic sorting for native queries, because it would have to manipulate the actual query declared, which it cannot do reliably for native SQL.\r\n\r\nHowever you can use [Pageable][3] and its implementation [PageRequest][4] instead:\r\n\r\n    @Query(value = &quot;select m.name as name from models m&quot;, nativeQuery = true)\r\n    List&lt;ModelProjection&gt; getSortedList(Pageable p);\r\n\r\nand then:\r\n\r\n    List&lt;ModelProjection&gt; modelNames = getSortedList(PageRequest.of(0, 1000, Sort.Direction.DESC, &quot;name&quot;));\r\n\r\nP.S. Instead of array of `Object`s as returned parameters, it&#39;s better to use [projections][5], for example:\r\n\r\n    public interface ModelProjection {\r\n        String getName();\r\n    }\r\n\r\nNote that in this case the good practice is to use aliases in queries (ie `m.name as name`). They must match with correspondent getters in the projection.\r\n\r\nWorking [demo][6] and [test][7].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html\r\n  [4]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\r\n  [5]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\r\n  [6]: https://github.com/Cepr0/native-query-sorting-demo\r\n  [7]: https://github.com/Cepr0/native-query-sorting-demo/blob/master/src/test/java/io/github/cepr0/demo/ModelRepoTest.java","title":"Spring data JPA nativeQuery order by is invalid","body":"<h2>Dynamic sorting in Spring Data JPA</h2>\n\n<p>If you used a JPA query you could use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting\" rel=\"noreferrer\">Sort</a> as an argument of your query method to define the sorting order:</p>\n\n<pre><code>@Query(\"select m from Model m\")\nList&lt;Model&gt; getSortedList(Sort sort);\n</code></pre>\n\n<p>and then, for example:</p>\n\n<pre><code>List&lt;Model&gt; models = getSortedList(Sort.by(Sort.Direction.DESC, \"name\"));\n</code></pre>\n\n<p>But Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\" rel=\"noreferrer\">can't use</a> <code>Sort</code> with native queries:</p>\n\n<blockquote>\n  <p>Spring Data JPA does not currently support dynamic sorting for native queries, because it would have to manipulate the actual query declared, which it cannot do reliably for native SQL.</p>\n</blockquote>\n\n<p>However you can use <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html\" rel=\"noreferrer\">Pageable</a> and its implementation <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\" rel=\"noreferrer\">PageRequest</a> instead:</p>\n\n<pre><code>@Query(value = \"select m.name as name from models m\", nativeQuery = true)\nList&lt;ModelProjection&gt; getSortedList(Pageable p);\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>List&lt;ModelProjection&gt; modelNames = getSortedList(PageRequest.of(0, 1000, Sort.Direction.DESC, \"name\"));\n</code></pre>\n\n<p>P.S. Instead of array of <code>Object</code>s as returned parameters, it's better to use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">projections</a>, for example:</p>\n\n<pre><code>public interface ModelProjection {\n    String getName();\n}\n</code></pre>\n\n<p>Note that in this case the good practice is to use aliases in queries (ie <code>m.name as name</code>). They must match with correspondent getters in the projection.</p>\n\n<p>Working <a href=\"https://github.com/Cepr0/native-query-sorting-demo\" rel=\"noreferrer\">demo</a> and <a href=\"https://github.com/Cepr0/native-query-sorting-demo/blob/master/src/test/java/io/github/cepr0/demo/ModelRepoTest.java\" rel=\"noreferrer\">test</a>.</p>\n"},{"tags":[],"owner":{"account_id":13922821,"reputation":169,"user_id":10052848,"display_name":""},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638803529,"creation_date":1534934365,"answer_id":51965013,"question_id":51945791,"body_markdown":"Thanks everyone!\r\nMy problem has been solved.\r\n\r\nIf you want to use Spring data jpa `nativeQuery` &amp; Sort, you should do like this:\r\n\r\n```\r\n @Query(\r\n          value =&quot;select pb.id,pp.max_borrow_amt from product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code ORDER BY ?#{#pageable}  &quot;,\r\n          countQuery = &quot;select count(*) from product_loan_basic&quot;,\r\n          nativeQuery = true\r\n  )\r\n  Page&lt;Object[]&gt; findAllProductsAndOrderByAndSort(Pageable pageable);\r\n```\r\n`?#{#pageable}` is required and `countQuery` is required. \r\n\r\n    Pageable pageable = new PageRequest(0,1000,Sort.Direction.DESC,&quot;id&quot;);\r\n\r\nthen the result is sorted.\r\n\r\nSee [Spring Data and Native Query with pagination](https://stackoverflow.com/questions/38349930/spring-data-and-native-query-with-pagination).","title":"Spring data JPA nativeQuery order by is invalid","body":"<p>Thanks everyone!\nMy problem has been solved.</p>\n<p>If you want to use Spring data jpa <code>nativeQuery</code> &amp; Sort, you should do like this:</p>\n<pre><code> @Query(\n          value =&quot;select pb.id,pp.max_borrow_amt from product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code ORDER BY ?#{#pageable}  &quot;,\n          countQuery = &quot;select count(*) from product_loan_basic&quot;,\n          nativeQuery = true\n  )\n  Page&lt;Object[]&gt; findAllProductsAndOrderByAndSort(Pageable pageable);\n</code></pre>\n<p><code>?#{#pageable}</code> is required and <code>countQuery</code> is required.</p>\n<pre><code>Pageable pageable = new PageRequest(0,1000,Sort.Direction.DESC,&quot;id&quot;);\n</code></pre>\n<p>then the result is sorted.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/38349930/spring-data-and-native-query-with-pagination\">Spring Data and Native Query with pagination</a>.</p>\n"}],"owner":{"account_id":13922821,"reputation":169,"user_id":10052848,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14318,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1643230644,"creation_date":1534844315,"question_id":51945791,"body_markdown":"The Spring Data Jpa Method like this:\r\n  \r\n\r\n    @Query(&quot;select pb.id,pp.max_borrow_amt,pp.min_borrow_amt\r\n    from product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code \r\n     where pb.code IN(?1) and pb.status=&#39;publish&#39; order by  ?2 &quot;,\r\n    nativeQuery = true)  \r\n    List&lt;Object[]&gt; findByCodesIn(List&lt;String&gt; codes,String orderby);\r\n    \r\nthen order by is &quot; max_borrow_amt desc &quot;, but this is invalid.  \r\nthe List&lt;Object[]&gt; is disordered.\r\n\r\n","title":"Spring data JPA nativeQuery order by is invalid","body":"<p>The Spring Data Jpa Method like this:</p>\n\n<pre><code>@Query(\"select pb.id,pp.max_borrow_amt,pp.min_borrow_amt\nfrom product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code \n where pb.code IN(?1) and pb.status='publish' order by  ?2 \",\nnativeQuery = true)  \nList&lt;Object[]&gt; findByCodesIn(List&lt;String&gt; codes,String orderby);\n</code></pre>\n\n<p>then order by is \" max_borrow_amt desc \", but this is invalid.<br>\nthe List is disordered.</p>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643210001,"post_id":70865673,"comment_id":125279366,"body_markdown":"So you want to convert a `Map&lt;Long,List&lt;Student&gt;&gt;` to a `Map&lt;Long,List&lt;StudentInfo&gt;&gt;`? Are the keys the same?","body":"So you want to convert a <code>Map&lt;Long,List&lt;Student&gt;&gt;</code> to a <code>Map&lt;Long,List&lt;StudentInfo&gt;&gt;</code>? Are the keys the same?"},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643210248,"post_id":70865673,"comment_id":125279465,"body_markdown":"Yes.Keys are same","body":"Yes.Keys are same"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643210525,"post_id":70865673,"comment_id":125279591,"body_markdown":"Why are you doing this? This is totally unnecessary in my opinion. `Student` and `StudentInfo` are basically the same class. This is DEFINITELY a huge code smell.","body":"Why are you doing this? This is totally unnecessary in my opinion. <code>Student</code> and <code>StudentInfo</code> are basically the same class. This is DEFINITELY a huge code smell."},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643210563,"post_id":70865673,"comment_id":125279609,"body_markdown":"Sorry.I updated my question","body":"Sorry.I updated my question"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643210643,"post_id":70865673,"comment_id":125279648,"body_markdown":"@tom No... even with the update, the contents of both classes are virtually the same. One of those classes  is not needed in the first place. So, there is no need to &quot;convert&quot; one instance for another. Since `StudentInfo` is a subset of `Student`, I would eliminate `StudentInfo`.","body":"@tom No... even with the update, the contents of both classes are virtually the same. One of those classes  is not needed in the first place. So, there is no need to &quot;convert&quot; one instance for another. Since <code>StudentInfo</code> is a subset of <code>Student</code>, I would eliminate <code>StudentInfo</code>."},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643210796,"post_id":70865673,"comment_id":125279710,"body_markdown":"I want to group addressNo,code fields and to create a new map because it is new object.Tax is summing field","body":"I want to group addressNo,code fields and to create a new map because it is new object.Tax is summing field"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643210970,"post_id":70865673,"comment_id":125279798,"body_markdown":"You can collect `Student` objects that meet that criteria. You don&#39;t need two virtually identical classes to do this.","body":"You can collect <code>Student</code> objects that meet that criteria. You don&#39;t need two virtually identical classes to do this."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643211439,"post_id":70865673,"comment_id":125279983,"body_markdown":"You need to be somewhat more specific on what you actually want to group - ideally provide an example. Do you basically want to get a sum of tax values for each unique combination of `addressNo` and `code`?","body":"You need to be somewhat more specific on what you actually want to group - ideally provide an example. Do you basically want to get a sum of tax values for each unique combination of <code>addressNo</code> and <code>code</code>?"},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643211632,"post_id":70865673,"comment_id":125280083,"body_markdown":"Yeah.I want to group addressNo and code fields to get a sum of tax values but I  want my key will not be changed","body":"Yeah.I want to group addressNo and code fields to get a sum of tax values but I  want my key will not be changed"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643214912,"creation_date":1643210462,"answer_id":70865843,"question_id":70865673,"body_markdown":"__Converting `Map&lt;K, List&lt;A&gt;&gt;` to `Map&lt;K, List&lt;B&gt;&gt;`__\r\nIf you want to convert a `Map&lt;Long,List&lt;Student&gt;&gt;` to a `Map&lt;Long,List&lt;StudentInfo&gt;&gt;` with the keys being the same, try the following:\r\n\r\n    Map&lt;Long,List&lt;StudentInfo&gt;&gt; convertedMap = \r\n      studentInfoMap.entrySet() //get the entry set to access keys and values\r\n        .stream() \r\n        .collect(Collectors.toMap( //collect the entries into another map\r\n            entry -&gt; entry.getKey(), //use the keys as they are\r\n            entry -&gt; entry.getValue() //get the value list\r\n                          .stream() /\r\n                          .map(student -&gt; new StudentInfo(/*pass in the student parameters you need*/) //create a StudentInfo out of a Student - and entry.getKey() if needed\r\n                          .toList() //collect the StudentInfo elements into a list\r\n         ));\r\n\r\n__Reducing `List&lt;A&gt;` to `List&lt;B&gt;` by grouping A&#39;s based on key values__\r\n\r\n___Create a key class___\r\n\r\nIf you want to collapse/reduce a `List&lt;Student&gt;` into a `List&lt;StudentInfo&gt;` by combining the taxes for each unique combination of `addressNo` and `code`, you&#39;d ideally first define a class that combines those 2 attributes into a key, e.g. \r\n\r\n    class StudentAddressKey {\r\n      private long addressNo;\r\n      private String code;\r\n \r\n      //getters, setters, equals() and hashCode()\r\n    }\r\n\r\nYou could then think about using this in `Student` instead of the individual keys but that&#39;s another topic.\r\n\r\n___Traditional loop___\r\n\r\nThen it comes down to summing tax values by this key. Using a traditional for-loop it could look like this:\r\n\r\n    Map&lt;StudentAddressKey, BigDecimal&gt; taxByKey = new HashMap&lt;&gt;();\r\n\r\n    for( Student student : studentList) {\r\n      taxByKey.merge(student.getAddressKey(), //or build a new one from the individual attributes\r\n                     student.getTax(), //the value to merge into the map\r\n                     BigDecimal::add ); //called if there&#39;s already a value in the map, could also be (e,n) -&gt; e.add(n)\r\n    }\r\n\r\nIf you want a `Map&lt;StudentAddressKey, StudentInfo&gt;` instead, you have 3 options:\r\n\r\n- Create one for each `Student` you want to add, pass it to `merge()` and if there&#39;s already one combine the new and the existing one\r\n- Use `get()` to get an `StudentInfo` already in the map if there is one. If you get `null` put a new one, otherwise just change the tax by adding the student&#39;s value\r\n- Create the `Map&lt;StudentAddressKey, BigDecimal&gt;` and turn it into a `Map&lt;StudentAddressKey, StudentInfo&gt;` in the end, basically using the process I described above.\r\n\r\nTo get a `List&lt;StudentInfo&gt;` (which might not be necessary if you already have a `Map&lt;StudentAddressKey, BigDecimal&gt;`) you again have a couple of options:\r\n- If you have a `Map&lt;StudentAddressKey, BigDecimal&gt;` then stream the entry set, map each entry to a `StudentInfo` and collect to a List.\r\n- If you have a Map&lt;StudentAddressKey, StudentInfo&gt;` just create a new list and pass the map&#39;s `values()` to the list constructor\r\n\r\n___Stream___\r\n\r\nUsing the info above, you can also use a stream to convert `List&lt;Student&gt;` to `List&lt;StudentInfo&gt;`:\r\n\r\n    Map&lt;StudentAddressKey, BigDecimal&gt; taxesMap = studentList.stream()\r\n      .collect( \r\n         Collectors.groupingBy( student -&gt; new StudentAddressKey(student), //create the key to group by\r\n            Collectors.mapping( student -&gt; student.getTax()), //map the student to its tax value\r\n              Collectors.reducing( BigDecimal.ZERO, BigDecimal::add) //reduce the mapped tax values by adding them, starting with 0 (otherwise you&#39;d get an Optional&lt;BigDecimal&gt;\r\n            )\r\n          )\r\n        );\r\n\r\nNote: you could also directly map `Student` to `StudentInfo` but merging them would be more complex and since all you need is a single `BigDecimal` I&#39;d go for the simpler option.\r\n\r\nNow use the approaches above to convert `taxesMap` into a `List&lt;StudentInfo&gt;`:\r\n\r\n    List&lt;StudentInto&gt; taxesList = taxesMap.entrySet().stream()\r\n                    .map( entry -&gt; new StudentInfo(entry.getKey(), entry.getValue)) //map the entry to StudentInfo, provide the necessary constructor or adapt as needed\r\n                    .toList();\r\n","title":"Convert map value to another map object","body":"<p><strong>Converting <code>Map&lt;K, List&lt;A&gt;&gt;</code> to <code>Map&lt;K, List&lt;B&gt;&gt;</code></strong>\nIf you want to convert a <code>Map&lt;Long,List&lt;Student&gt;&gt;</code> to a <code>Map&lt;Long,List&lt;StudentInfo&gt;&gt;</code> with the keys being the same, try the following:</p>\n<pre><code>Map&lt;Long,List&lt;StudentInfo&gt;&gt; convertedMap = \n  studentInfoMap.entrySet() //get the entry set to access keys and values\n    .stream() \n    .collect(Collectors.toMap( //collect the entries into another map\n        entry -&gt; entry.getKey(), //use the keys as they are\n        entry -&gt; entry.getValue() //get the value list\n                      .stream() /\n                      .map(student -&gt; new StudentInfo(/*pass in the student parameters you need*/) //create a StudentInfo out of a Student - and entry.getKey() if needed\n                      .toList() //collect the StudentInfo elements into a list\n     ));\n</code></pre>\n<p><strong>Reducing <code>List&lt;A&gt;</code> to <code>List&lt;B&gt;</code> by grouping A's based on key values</strong></p>\n<p><em><strong>Create a key class</strong></em></p>\n<p>If you want to collapse/reduce a <code>List&lt;Student&gt;</code> into a <code>List&lt;StudentInfo&gt;</code> by combining the taxes for each unique combination of <code>addressNo</code> and <code>code</code>, you'd ideally first define a class that combines those 2 attributes into a key, e.g.</p>\n<pre><code>class StudentAddressKey {\n  private long addressNo;\n  private String code;\n\n  //getters, setters, equals() and hashCode()\n}\n</code></pre>\n<p>You could then think about using this in <code>Student</code> instead of the individual keys but that's another topic.</p>\n<p><em><strong>Traditional loop</strong></em></p>\n<p>Then it comes down to summing tax values by this key. Using a traditional for-loop it could look like this:</p>\n<pre><code>Map&lt;StudentAddressKey, BigDecimal&gt; taxByKey = new HashMap&lt;&gt;();\n\nfor( Student student : studentList) {\n  taxByKey.merge(student.getAddressKey(), //or build a new one from the individual attributes\n                 student.getTax(), //the value to merge into the map\n                 BigDecimal::add ); //called if there's already a value in the map, could also be (e,n) -&gt; e.add(n)\n}\n</code></pre>\n<p>If you want a <code>Map&lt;StudentAddressKey, StudentInfo&gt;</code> instead, you have 3 options:</p>\n<ul>\n<li>Create one for each <code>Student</code> you want to add, pass it to <code>merge()</code> and if there's already one combine the new and the existing one</li>\n<li>Use <code>get()</code> to get an <code>StudentInfo</code> already in the map if there is one. If you get <code>null</code> put a new one, otherwise just change the tax by adding the student's value</li>\n<li>Create the <code>Map&lt;StudentAddressKey, BigDecimal&gt;</code> and turn it into a <code>Map&lt;StudentAddressKey, StudentInfo&gt;</code> in the end, basically using the process I described above.</li>\n</ul>\n<p>To get a <code>List&lt;StudentInfo&gt;</code> (which might not be necessary if you already have a <code>Map&lt;StudentAddressKey, BigDecimal&gt;</code>) you again have a couple of options:</p>\n<ul>\n<li>If you have a <code>Map&lt;StudentAddressKey, BigDecimal&gt;</code> then stream the entry set, map each entry to a <code>StudentInfo</code> and collect to a List.</li>\n<li>If you have a Map&lt;StudentAddressKey, StudentInfo&gt;<code>just create a new list and pass the map's</code>values()` to the list constructor</li>\n</ul>\n<p><em><strong>Stream</strong></em></p>\n<p>Using the info above, you can also use a stream to convert <code>List&lt;Student&gt;</code> to <code>List&lt;StudentInfo&gt;</code>:</p>\n<pre><code>Map&lt;StudentAddressKey, BigDecimal&gt; taxesMap = studentList.stream()\n  .collect( \n     Collectors.groupingBy( student -&gt; new StudentAddressKey(student), //create the key to group by\n        Collectors.mapping( student -&gt; student.getTax()), //map the student to its tax value\n          Collectors.reducing( BigDecimal.ZERO, BigDecimal::add) //reduce the mapped tax values by adding them, starting with 0 (otherwise you'd get an Optional&lt;BigDecimal&gt;\n        )\n      )\n    );\n</code></pre>\n<p>Note: you could also directly map <code>Student</code> to <code>StudentInfo</code> but merging them would be more complex and since all you need is a single <code>BigDecimal</code> I'd go for the simpler option.</p>\n<p>Now use the approaches above to convert <code>taxesMap</code> into a <code>List&lt;StudentInfo&gt;</code>:</p>\n<pre><code>List&lt;StudentInto&gt; taxesList = taxesMap.entrySet().stream()\n                .map( entry -&gt; new StudentInfo(entry.getKey(), entry.getValue)) //map the entry to StudentInfo, provide the necessary constructor or adapt as needed\n                .toList();\n</code></pre>\n"}],"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643230420,"creation_date":1643209785,"question_id":70865673,"body_markdown":"I have a map like this. `Map&lt;long,List&lt;Student&gt;&gt; studentMap`\r\n\r\nKey is a number 1,2,3,4...\r\nStudent object is :\r\n\r\n    public class Student {\r\n     private long addressNo;\r\n     private String code;\r\n     private BigDecimal tax;\r\n     private String name;\r\n     private String city;\r\n\r\n     // getter and setters` \r\n    }\r\n    \r\nWhat i want to do is to convert it `Map&lt;long,List&lt;StudentInfo&gt;&gt; studentInfoMap` object and group id, addressNo and code fields.\r\n\r\nI can group the map by using these codes but summingDouble is not working for BigDecimal.Also I cannot convert my studentMap to studentInfoMap.:(\r\n\r\n    \r\n     studentInfoMap.values().stream()\r\n\t\t\t\t.collect(\r\n                         Collectors.groupingBy(StudentInfo::getCode, \r\n\t\t\t\t\t\t Collectors.groupingBy(StudentInfo::getAddressNo, \r\n                         Collectors.summingDouble(StudentInfo::getTax))));\r\n\r\nMy studentInfo object is :\r\n\r\n    public class StudentInfo {\r\n      private long addressNo;\r\n      private String code;\r\n      private BigDecimal tax;\r\n\r\n      // getter and setters` \r\n    }","title":"Convert map value to another map object","body":"<p>I have a map like this. <code>Map&lt;long,List&lt;Student&gt;&gt; studentMap</code></p>\n<p>Key is a number 1,2,3,4...\nStudent object is :</p>\n<pre><code>public class Student {\n private long addressNo;\n private String code;\n private BigDecimal tax;\n private String name;\n private String city;\n\n // getter and setters` \n}\n</code></pre>\n<p>What i want to do is to convert it <code>Map&lt;long,List&lt;StudentInfo&gt;&gt; studentInfoMap</code> object and group id, addressNo and code fields.</p>\n<p>I can group the map by using these codes but summingDouble is not working for BigDecimal.Also I cannot convert my studentMap to studentInfoMap.:(</p>\n<pre><code> studentInfoMap.values().stream()\n            .collect(\n                     Collectors.groupingBy(StudentInfo::getCode, \n                     Collectors.groupingBy(StudentInfo::getAddressNo, \n                     Collectors.summingDouble(StudentInfo::getTax))));\n</code></pre>\n<p>My studentInfo object is :</p>\n<pre><code>public class StudentInfo {\n  private long addressNo;\n  private String code;\n  private BigDecimal tax;\n\n  // getter and setters` \n}\n</code></pre>\n"},{"tags":["java","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477157423,"creation_date":1477153580,"answer_id":40194411,"question_id":40194017,"body_markdown":"`java.io.IOException: Stream closed` That is probably because you&#39;re calling `temp.readLine()` after `p.destroy()`.\r\n\r\nThe problem seems to be that the process doesn&#39;t add a new line termination after the part that you want to retrieve. To fix that, you can read the output from the program in small chunks instead of line by line.\r\n\r\nHere is an example:\r\n\r\n    try(InputStream is = p.getInputStream()){\r\n        byte[] buffer = new byte[10];\r\n        String content = &quot;&quot;;\r\n        for(int r = 0; (r = is.read(buffer))!=-1;){\r\n            content+=new String(buffer, 0, r);\r\n            if(content.equals(&quot;all content&quot;)){// check if all the necessary data was retrieved.\r\n                p.destroy();\r\n                break;\r\n            }\r\n        }\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nIf you know the exact format of the program&#39;s output, a better solution will be to use a scanner.\r\n     \r\n    try(Scanner sc = new Scanner(p.getInputStream())){\r\n        while(sc.hasNext()){\r\n            String word = sc.next();\r\n        }\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe example above will read the program&#39;s output one word at a time.\r\n\r\n\r\nFrom your comments it seems that the problem is that the process never terminates by itself and your program never exits the `while` loop.\r\n\r\nTo fix that, you can use a timer to destroy the process after a period of time, here is an example:\r\n\r\n    \r\n    Timer t = new Timer();\r\n    t.schedule(new TimerTask() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tp.destroy();\r\n\t\t\tt.cancel();\r\n\t\t\tt.purge();\r\n\t\t}\r\n\t}, 7000);\r\n\r\n    try(BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));){\r\n        while ((inputRead=stdInput.readLine()) != null){\r\n            ...\r\n        }\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n    \r\nKeep in mind that this approach will always cause `stdInput.readLine()` to throw an exception.\r\n","title":"Get the output result of a process with java","body":"<p><code>java.io.IOException: Stream closed</code> That is probably because you're calling <code>temp.readLine()</code> after <code>p.destroy()</code>.</p>\n\n<p>The problem seems to be that the process doesn't add a new line termination after the part that you want to retrieve. To fix that, you can read the output from the program in small chunks instead of line by line.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>try(InputStream is = p.getInputStream()){\n    byte[] buffer = new byte[10];\n    String content = \"\";\n    for(int r = 0; (r = is.read(buffer))!=-1;){\n        content+=new String(buffer, 0, r);\n        if(content.equals(\"all content\")){// check if all the necessary data was retrieved.\n            p.destroy();\n            break;\n        }\n    }\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>If you know the exact format of the program's output, a better solution will be to use a scanner.</p>\n\n<pre><code>try(Scanner sc = new Scanner(p.getInputStream())){\n    while(sc.hasNext()){\n        String word = sc.next();\n    }\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The example above will read the program's output one word at a time.</p>\n\n<p>From your comments it seems that the problem is that the process never terminates by itself and your program never exits the <code>while</code> loop.</p>\n\n<p>To fix that, you can use a timer to destroy the process after a period of time, here is an example:</p>\n\n<pre><code>Timer t = new Timer();\nt.schedule(new TimerTask() {\n    @Override\n    public void run() {\n        p.destroy();\n        t.cancel();\n        t.purge();\n    }\n}, 7000);\n\ntry(BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));){\n    while ((inputRead=stdInput.readLine()) != null){\n        ...\n    }\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Keep in mind that this approach will always cause <code>stdInput.readLine()</code> to throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643230221,"creation_date":1477155087,"answer_id":40194648,"question_id":40194017,"body_markdown":"You don&#39;t want that call to `waitFor()` since it waits until the process is destroyed. You also don&#39;t want to read for as long as the `InputStream` is open, since such a read would terminate only when the process is killed.\r\n\r\nInstead, you can simply start the process, and then wait for 7 seconds. Once 7 seconds have passed, read the available data in the buffer without waiting for the stream to close:\r\n\r\n\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\tThread.sleep(7000); //Sleep for 7 seconds\r\n\twhile (stdInput.ready()) { //While there&#39;s something in the buffer\r\n         //read &amp; print - replace with a buffered read (into an array) if the output doesn&#39;t contain CR/LF\r\n\t\tSystem.out.println(stdInput.readLine()); \r\n\t}\r\n    p.destroy(); //The buffer is now empty, kill the process.\r\n\r\nIf the process keeps printing, so `stdInput.ready()` always returns true you can try something like this:\r\n\r\n\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\tchar[] buffer = new char[16 * 1024]; // 16 KiB buffer, change size if needed\r\n\tlong startedReadingAt = System.currentTimeMillis(); //When did we start reading?\r\n\twhile (System.currentTimeMillis() - startedReadingAt &lt; 7000) { //While we&#39;re waiting\r\n\t\tif (stdInput.ready()){\r\n\t\t\tint charsRead = stdInput.read(buffer); //read into the buffer - don&#39;t use readLine() so we don&#39;t wait for a CR/LF\r\n\t\t\tSystem.out.println(new String(buffer, 0, charsRead));  //print the content we&#39;ve read\r\n\t\t} else {\r\n\t\t\tThread.sleep(100); // Wait for a while before we try again\r\n\t\t}\r\n\t}\r\n\tp.destroy(); //Kill the process\r\n\r\nIn this solution, instead of sleeping, the thread spends the next 7 seconds reading from the `InputStream`, then it closes the process.","title":"Get the output result of a process with java","body":"<p>You don't want that call to <code>waitFor()</code> since it waits until the process is destroyed. You also don't want to read for as long as the <code>InputStream</code> is open, since such a read would terminate only when the process is killed.</p>\n<p>Instead, you can simply start the process, and then wait for 7 seconds. Once 7 seconds have passed, read the available data in the buffer without waiting for the stream to close:</p>\n<pre><code>BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\nThread.sleep(7000); //Sleep for 7 seconds\nwhile (stdInput.ready()) { //While there's something in the buffer\n     //read &amp; print - replace with a buffered read (into an array) if the output doesn't contain CR/LF\n    System.out.println(stdInput.readLine()); \n}\np.destroy(); //The buffer is now empty, kill the process.\n</code></pre>\n<p>If the process keeps printing, so <code>stdInput.ready()</code> always returns true you can try something like this:</p>\n<pre><code>BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\nchar[] buffer = new char[16 * 1024]; // 16 KiB buffer, change size if needed\nlong startedReadingAt = System.currentTimeMillis(); //When did we start reading?\nwhile (System.currentTimeMillis() - startedReadingAt &lt; 7000) { //While we're waiting\n    if (stdInput.ready()){\n        int charsRead = stdInput.read(buffer); //read into the buffer - don't use readLine() so we don't wait for a CR/LF\n        System.out.println(new String(buffer, 0, charsRead));  //print the content we've read\n    } else {\n        Thread.sleep(100); // Wait for a while before we try again\n    }\n}\np.destroy(); //Kill the process\n</code></pre>\n<p>In this solution, instead of sleeping, the thread spends the next 7 seconds reading from the <code>InputStream</code>, then it closes the process.</p>\n"}],"owner":{"account_id":9315196,"reputation":67,"user_id":6915749,"display_name":"sonia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2727,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40194648,"answer_count":2,"score":4,"last_activity_date":1643230221,"creation_date":1477151220,"question_id":40194017,"body_markdown":"I want to execute a process for some time and then get the output and destroy the process. This is my code\r\n\r\n    BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\tBufferedReader temp;\r\n    p.waitFor(7, TimeUnit.SECONDS);\r\n    temp=stdInput;\r\n    p.destroy(); \r\n    System.out.println(temp.readLine());\r\n\r\nbut I get as result \r\n\r\n    java.io.IOException: Stream closed\r\nHow can I copy the result after executing the process 7 seconds? If I use this code \r\n\r\n    p.waitFor(7, TimeUnit.SECONDS);\r\n    while ((inputRead=stdInput.readLine()) != null){\r\n        Helper.log(inputRead);\r\n    }\r\n\r\nthe while loop will never terminate because the process is still alive after the `waitFor`, so I have to destroy it. And If I destroy the process I am not able to get the content of `stdInput` anymore. \r\n\r\n","title":"Get the output result of a process with java","body":"<p>I want to execute a process for some time and then get the output and destroy the process. This is my code</p>\n\n<pre><code>BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\nBufferedReader temp;\np.waitFor(7, TimeUnit.SECONDS);\ntemp=stdInput;\np.destroy(); \nSystem.out.println(temp.readLine());\n</code></pre>\n\n<p>but I get as result </p>\n\n<pre><code>java.io.IOException: Stream closed\n</code></pre>\n\n<p>How can I copy the result after executing the process 7 seconds? If I use this code </p>\n\n<pre><code>p.waitFor(7, TimeUnit.SECONDS);\nwhile ((inputRead=stdInput.readLine()) != null){\n    Helper.log(inputRead);\n}\n</code></pre>\n\n<p>the while loop will never terminate because the process is still alive after the <code>waitFor</code>, so I have to destroy it. And If I destroy the process I am not able to get the content of <code>stdInput</code> anymore. </p>\n"},{"tags":["java","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":24050525,"reputation":486,"user_id":18029062,"display_name":"KafKafOwn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643229531,"creation_date":1643229531,"answer_id":70869967,"question_id":70852503,"body_markdown":"It will map enum to string and vice versa by default without the annotation.","title":"Mapping an enum to String in R2DBC","body":"<p>It will map enum to string and vice versa by default without the annotation.</p>\n"}],"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70869967,"answer_count":1,"score":1,"last_activity_date":1643229531,"creation_date":1643129219,"question_id":70852503,"body_markdown":"Using JPA, I can have a member within my entity that maps an `enum` and persists it as a String:\r\n\r\n```\r\n    @Enumerated(EnumType.STRING)\r\n    private MyEnum myEnum;\r\n```\r\n\r\nAs JPA doesn&#39;t work with R2DBC, I can&#39;t use that nice shorthand. Is there a clean way of effecting this mapping when using R2DBC?","title":"Mapping an enum to String in R2DBC","body":"<p>Using JPA, I can have a member within my entity that maps an <code>enum</code> and persists it as a String:</p>\n<pre><code>    @Enumerated(EnumType.STRING)\n    private MyEnum myEnum;\n</code></pre>\n<p>As JPA doesn't work with R2DBC, I can't use that nice shorthand. Is there a clean way of effecting this mapping when using R2DBC?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1643229276,"post_id":70869890,"comment_id":125287299,"body_markdown":"Do you force debugger options in the build files? Do you run or debug your application? See if running directly instead of using Gradle helps: https://i.imgur.com/HpeUaUE.png.","body":"Do you force debugger options in the build files? Do you run or debug your application? See if running directly instead of using Gradle helps: <a href=\"https://i.imgur.com/HpeUaUE.png\" rel=\"nofollow noreferrer\">i.imgur.com/HpeUaUE.png</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644084289,"post_id":70869890,"comment_id":125513695,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23495321,"reputation":1,"user_id":17545842,"display_name":"venkatesh voruganti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643229084,"creation_date":1643229084,"question_id":70869890,"body_markdown":"Here is the Error:\r\n\r\n\r\n&gt; Task :checkout:bootRun FAILED                                \r\nERROR: transport error 202: bind failed: Address already in use\r\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:checkout:bootRun&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe&#39;&#39; finished with non-zero exit value 2\r\n\r\n","title":"Getting this error when running the application","body":"<p>Here is the Error:</p>\n<blockquote>\n<p>Task :checkout:bootRun FAILED<br />\nERROR: transport error 202: bind failed: Address already in use\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':checkout:bootRun'.</li>\n</ul>\n<blockquote>\n<p>Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe'' finished with non-zero exit value 2</p>\n</blockquote>\n"},{"tags":["java","spring-boot","recursion"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1643227373,"post_id":70869538,"comment_id":125286609,"body_markdown":"What does &quot;break; the recursive call in the loop&quot; mean?","body":"What does &quot;break; the recursive call in the loop&quot; mean?"},{"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"score":0,"creation_date":1643227490,"post_id":70869538,"comment_id":125286647,"body_markdown":"leaving the loop and the recursive method &quot;findFile&quot;.","body":"leaving the loop and the recursive method &quot;findFile&quot;."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1643227584,"post_id":70869538,"comment_id":125286681,"body_markdown":"you can just do a `return` there . . . BTW the return value of the recursive call is not being used at all, probably not intended","body":"you can just do a <code>return</code> there . . . BTW the return value of the recursive call is not being used at all, probably not intended"},{"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"score":0,"creation_date":1643228392,"post_id":70869538,"comment_id":125286964,"body_markdown":"@user16320675 return is not worked if the recursive method findFile has been called several time before finding the matched file.","body":"@user16320675 return is not worked if the recursive method findFile has been called several time before finding the matched file."},{"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"score":0,"creation_date":1643228793,"post_id":70869538,"comment_id":125287116,"body_markdown":"For example the return will not work if the matched file was found in a subdirectory in the validators directory . It would work if the matched file is placed inside the validators directory directly.","body":"For example the return will not work if the matched file was found in a subdirectory in the validators directory . It would work if the matched file is placed inside the validators directory directly."}],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643229006,"creation_date":1643227280,"question_id":70869538,"body_markdown":"I have a service to get the validator content as a string after passing the validator id (name). The validator&#39;s XSL files are placed in the src/main/resources. I am scanning the validator directory in the src/main/resources/de/validators to check if the file is a vailable. I am converting its input to a string and returning it as result fot the service.\r\n\r\nIn the findFile() method I want to leave the recursive call and the loop after finding the match. Is that possiable in my case? \r\nCurrently I am assigning the match to the fileName class attribute which works for me. A better approach would be to break the recursive call if it is possiable in my case.\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.nio.file.Paths;\r\n    import java.util.logging.Logger;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import de.validate.exception.ApiRequestException;\r\n    \r\n    @RequestMapping(&quot;/api/v1/validators&quot;)\r\n    @RestController\r\n    public class ValidateService {\r\n    \r\n    \tprivate String fileName = &quot;&quot;;\r\n    \r\n    \tstatic private Logger LOGGER = Logger.getLogger(ValidateService.class.getName());\r\n    \tfinal static private String VALIDATOR_CONFIGURATION_DIRECTORY = &quot;de&quot; +  File.separator + &quot;validator&quot; + File.separator;\r\n    \tfinal static private String VALIDATOR_TYPE = &quot;.xsl&quot;;\r\n    \tfinal static private String VALIDATOR = &quot;validator&quot;;\r\n    \r\n    \t@GetMapping(path = &quot;{id}&quot;, produces = MediaType.APPLICATION_XML_VALUE)\r\n    \tpublic String getValidator(@PathVariable String id) throws Exception {\r\n    \r\n    \t\tURL resource = this.getClass().getClassLoader().getResource(VALIDATOR_CONFIGURATION_DIRECTORY);\r\n    \t\tFile validatorDirectory = Paths.get(resource.toURI()).toFile();\r\n    \t\tString foundId = this.findFile(id + VALIDATOR_TYPE, validatorDirectory);\r\n    \r\n    \t\tString fileNameTemp = VALIDATOR_CONFIGURATION_DIRECTORY + foundId;\r\n    \r\n    \t\tInputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(fileNameTemp);\r\n    \t\tif (inputStream == null) {\r\n    \t\t\tthrow new ApiRequestException(&quot;Validator id is not availabe!&quot;);\r\n    \t\t}\r\n    \r\n    \t\tString result = new BufferedReader(new InputStreamReader(inputStream)).lines()\r\n    \t\t\t\t.collect(Collectors.joining(&quot;\\n&quot;));\r\n    \t\tLOGGER.info(&quot;---&gt; result: &quot; + result);\r\n    \t\treturn result;\r\n    \r\n    \t}\r\n    \r\n    \r\n    \tpublic String findFile(String name, File file) {\r\n    \r\n    \t\tFile[] list = file.listFiles();\r\n    \t\tif (list != null)\r\n    \t\t\tfor (File fileTemp : list) {\r\n    \t\t\t\tif (fileTemp.isDirectory()) {\r\n    \t\t\t\t\tthis.findFile(name, fileTemp);\r\n    \t\t\t\t} else if (name.equalsIgnoreCase(fileTemp.getName())) {\r\n                        //Is it possible to break the loop here and the recursive invoke?\r\n    \t\t\t\t\tif (fileTemp.getParentFile().getName().equals(VALIDATOR)) {\r\n    \t\t\t\t\t\tfileName = name;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tfileName = fileTemp.getParentFile().getName() + File.separator + name;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\treturn fileName;\r\n    \t}\r\n    }\r\n\r\n","title":"Java: leaving the recursive method call and the loop","body":"<p>I have a service to get the validator content as a string after passing the validator id (name). The validator's XSL files are placed in the src/main/resources. I am scanning the validator directory in the src/main/resources/de/validators to check if the file is a vailable. I am converting its input to a string and returning it as result fot the service.</p>\n<p>In the findFile() method I want to leave the recursive call and the loop after finding the match. Is that possiable in my case?\nCurrently I am assigning the match to the fileName class attribute which works for me. A better approach would be to break the recursive call if it is possiable in my case.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.nio.file.Paths;\nimport java.util.logging.Logger;\nimport java.util.stream.Collectors;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport de.validate.exception.ApiRequestException;\n\n@RequestMapping(&quot;/api/v1/validators&quot;)\n@RestController\npublic class ValidateService {\n\n    private String fileName = &quot;&quot;;\n\n    static private Logger LOGGER = Logger.getLogger(ValidateService.class.getName());\n    final static private String VALIDATOR_CONFIGURATION_DIRECTORY = &quot;de&quot; +  File.separator + &quot;validator&quot; + File.separator;\n    final static private String VALIDATOR_TYPE = &quot;.xsl&quot;;\n    final static private String VALIDATOR = &quot;validator&quot;;\n\n    @GetMapping(path = &quot;{id}&quot;, produces = MediaType.APPLICATION_XML_VALUE)\n    public String getValidator(@PathVariable String id) throws Exception {\n\n        URL resource = this.getClass().getClassLoader().getResource(VALIDATOR_CONFIGURATION_DIRECTORY);\n        File validatorDirectory = Paths.get(resource.toURI()).toFile();\n        String foundId = this.findFile(id + VALIDATOR_TYPE, validatorDirectory);\n\n        String fileNameTemp = VALIDATOR_CONFIGURATION_DIRECTORY + foundId;\n\n        InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(fileNameTemp);\n        if (inputStream == null) {\n            throw new ApiRequestException(&quot;Validator id is not availabe!&quot;);\n        }\n\n        String result = new BufferedReader(new InputStreamReader(inputStream)).lines()\n                .collect(Collectors.joining(&quot;\\n&quot;));\n        LOGGER.info(&quot;---&gt; result: &quot; + result);\n        return result;\n\n    }\n\n\n    public String findFile(String name, File file) {\n\n        File[] list = file.listFiles();\n        if (list != null)\n            for (File fileTemp : list) {\n                if (fileTemp.isDirectory()) {\n                    this.findFile(name, fileTemp);\n                } else if (name.equalsIgnoreCase(fileTemp.getName())) {\n                    //Is it possible to break the loop here and the recursive invoke?\n                    if (fileTemp.getParentFile().getName().equals(VALIDATOR)) {\n                        fileName = name;\n                    } else {\n                        fileName = fileTemp.getParentFile().getName() + File.separator + name;\n                    }\n                }\n            }\n\n        return fileName;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","jdbc"],"comments":[{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1643220877,"post_id":70867032,"comment_id":125284246,"body_markdown":"can you show your `BookDao` code?","body":"can you show your <code>BookDao</code> code?"},{"owner":{"account_id":19916091,"reputation":11,"user_id":14593044,"display_name":"onanmco"},"score":0,"creation_date":1643223898,"post_id":70867032,"comment_id":125285434,"body_markdown":"@fladdimir I&#39;ve added that to the question.","body":"@fladdimir I&#39;ve added that to the question."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1643224614,"post_id":70867032,"comment_id":125285689,"body_markdown":"Should you not have the BookDao transactional in order for things to roll back?","body":"Should you not have the BookDao transactional in order for things to roll back?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644001795,"post_id":70867032,"comment_id":125498096,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643228509,"creation_date":1643227844,"answer_id":70869651,"question_id":70867032,"body_markdown":"The `connection` which is obtained from the `datasource` inside your DAO code [does _not_ participate in the spring-managed transaction](https://rizzodev.blogspot.com/2015/11/database-leak-getconnection-within.html), which was opened before by the `@DataJpaTest`.\r\n\r\nAnd since the new DAO transaction is _finally_ closed, it is [probably committed](https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#close--) (depending on your application code that you did not show..).\r\n\r\n---\r\n\r\nTo fix this, you could make your DAO code participate in the spring-managed transaction by annotating it with `@Transactional`, so that it uses any already opened transaction when being called. This way your code will run within the transaction which is rollbacked by the test.  \r\nhttps://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html\r\n","title":"How to create a transactional context on spring boot test classes using JDBC?","body":"<p>The <code>connection</code> which is obtained from the <code>datasource</code> inside your DAO code <a href=\"https://rizzodev.blogspot.com/2015/11/database-leak-getconnection-within.html\" rel=\"nofollow noreferrer\">does <em>not</em> participate in the spring-managed transaction</a>, which was opened before by the <code>@DataJpaTest</code>.</p>\n<p>And since the new DAO transaction is <em>finally</em> closed, it is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#close--\" rel=\"nofollow noreferrer\">probably committed</a> (depending on your application code that you did not show..).</p>\n<hr />\n<p>To fix this, you could make your DAO code participate in the spring-managed transaction by annotating it with <code>@Transactional</code>, so that it uses any already opened transaction when being called. This way your code will run within the transaction which is rollbacked by the test.<br />\n<a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html</a></p>\n"}],"owner":{"account_id":19916091,"reputation":11,"user_id":14593044,"display_name":"onanmco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643228509,"creation_date":1643215143,"question_id":70867032,"body_markdown":"When I was using hibernate, once I&#39;d made a test, all the changes made were being rolled back once those tests are completed.\r\n\r\nBut when I use JDBC with my DAO implementations instead JpaRepositories, mutations made during tests are not being rolled back.\r\n\r\nHow can I get all the changes are being rolled back?\r\n\r\nHere you can see how one of my test classes looks like:\r\n\r\n    package com.cemonan.bookdb2;\r\n    \r\n    import com.cemonan.bookdb2.dao.BookDao;\r\n    import com.cemonan.bookdb2.domain.Book;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n    \r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @ComponentScan(basePackages = {&quot;com.cemonan.bookdb2.dao&quot;})\r\n    public class BookDaoIntegrationTest {\r\n    \r\n        @Autowired\r\n        BookDao bookDao;\r\n    \r\n        @Test\r\n        void testCreateBook() {\r\n            List&lt;Book&gt; books = bookDao.findAll();\r\n            int countBefore = books.size();\r\n    \r\n            Book book = new Book();\r\n            book.setTitle(&quot;A book&quot;);\r\n            book.setIsbn(&quot;123&quot;);\r\n            book.setPublisher(&quot;Someone&quot;);\r\n    \r\n            Book savedBook = bookDao.save(book);\r\n    \r\n            books = bookDao.findAll();\r\n            int countAfter = books.size();\r\n    \r\n            assertThat(savedBook).isNotNull();\r\n            assertThat(countAfter).isGreaterThan(countBefore);\r\n        }\r\n    }\r\n\r\n\r\n    package com.cemonan.bookdb2.dao;\r\n    \r\n    import com.cemonan.bookdb2.domain.Book;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.sql.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static com.cemonan.bookdb2.dao.utils.Utils.closeAll;\r\n    \r\n    @Component\r\n    public class BookDaoImpl implements BookDao {\r\n    \r\n        @Autowired\r\n        DataSource source;\r\n    \r\n        Book mapRsToBook(ResultSet rs) throws SQLException {\r\n            Book book = new Book();\r\n            book.setId(rs.getLong(&quot;id&quot;));\r\n            book.setTitle(rs.getString(&quot;title&quot;));\r\n            book.setIsbn(rs.getString(&quot;isbn&quot;));\r\n            book.setPublisher(rs.getString(&quot;publisher&quot;));\r\n            return book;\r\n        }\r\n    \r\n        @Override\r\n        public Book findById(Long id) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE id = ?&quot;);\r\n                ps.setLong(1, id);\r\n                rs = ps.executeQuery();\r\n    \r\n                if (rs.next()) {\r\n                    return mapRsToBook(rs);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Book save(Book book) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;INSERT INTO book (title, isbn, publisher) VALUES (?, ?, ?)&quot;);\r\n                ps.setString(1, book.getTitle());\r\n                ps.setString(2, book.getIsbn());\r\n                ps.setString(3, book.getPublisher());\r\n                ps.execute();\r\n    \r\n                Statement stmt = connection.createStatement();\r\n                rs = stmt.executeQuery(&quot;SELECT LAST_INSERT_ID()&quot;);\r\n    \r\n                if (rs.next()) {\r\n                    return this.findById(rs.getLong(1));\r\n                }\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Book update(Book book) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;UPDATE book SET title = ?, isbn = ?, publisher = ? WHERE id = ?&quot;);\r\n                ps.setString(1, book.getTitle());\r\n                ps.setString(2, book.getIsbn());\r\n                ps.setString(3, book.getPublisher());\r\n                ps.setLong(4, book.getId());\r\n                ps.execute();\r\n    \r\n                if (rs.next()) {\r\n                    return this.findById(book.getId());\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void delete(Book book) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;DELETE FROM book WHERE id = ?&quot;);\r\n                ps.setLong(1, book.getId());\r\n                ps.execute();\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Book findByTitle(String title) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE title = ?&quot;);\r\n                ps.setString(1, title);\r\n                rs = ps.executeQuery();\r\n    \r\n                if (rs.next()) {\r\n                    return this.mapRsToBook(rs);\r\n                }\r\n            } catch(SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Book&gt; findAll() {\r\n            Connection connection = null;\r\n            Statement stmt = null;\r\n            ResultSet rs = null;\r\n            List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                stmt = connection.createStatement();\r\n                rs = stmt.executeQuery(&quot;SELECT * FROM book&quot;);\r\n    \r\n                while(rs.next()) {\r\n                    Book book = this.mapRsToBook(rs);\r\n                    books.add(book);\r\n                }\r\n            } catch(SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, stmt, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return books;\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to create a transactional context on spring boot test classes using JDBC?","body":"<p>When I was using hibernate, once I'd made a test, all the changes made were being rolled back once those tests are completed.</p>\n<p>But when I use JDBC with my DAO implementations instead JpaRepositories, mutations made during tests are not being rolled back.</p>\n<p>How can I get all the changes are being rolled back?</p>\n<p>Here you can see how one of my test classes looks like:</p>\n<pre><code>package com.cemonan.bookdb2;\n\nimport com.cemonan.bookdb2.dao.BookDao;\nimport com.cemonan.bookdb2.domain.Book;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.context.annotation.ComponentScan;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ComponentScan(basePackages = {&quot;com.cemonan.bookdb2.dao&quot;})\npublic class BookDaoIntegrationTest {\n\n    @Autowired\n    BookDao bookDao;\n\n    @Test\n    void testCreateBook() {\n        List&lt;Book&gt; books = bookDao.findAll();\n        int countBefore = books.size();\n\n        Book book = new Book();\n        book.setTitle(&quot;A book&quot;);\n        book.setIsbn(&quot;123&quot;);\n        book.setPublisher(&quot;Someone&quot;);\n\n        Book savedBook = bookDao.save(book);\n\n        books = bookDao.findAll();\n        int countAfter = books.size();\n\n        assertThat(savedBook).isNotNull();\n        assertThat(countAfter).isGreaterThan(countBefore);\n    }\n}\n\n\npackage com.cemonan.bookdb2.dao;\n\nimport com.cemonan.bookdb2.domain.Book;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport javax.sql.DataSource;\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static com.cemonan.bookdb2.dao.utils.Utils.closeAll;\n\n@Component\npublic class BookDaoImpl implements BookDao {\n\n    @Autowired\n    DataSource source;\n\n    Book mapRsToBook(ResultSet rs) throws SQLException {\n        Book book = new Book();\n        book.setId(rs.getLong(&quot;id&quot;));\n        book.setTitle(rs.getString(&quot;title&quot;));\n        book.setIsbn(rs.getString(&quot;isbn&quot;));\n        book.setPublisher(rs.getString(&quot;publisher&quot;));\n        return book;\n    }\n\n    @Override\n    public Book findById(Long id) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE id = ?&quot;);\n            ps.setLong(1, id);\n            rs = ps.executeQuery();\n\n            if (rs.next()) {\n                return mapRsToBook(rs);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public Book save(Book book) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;INSERT INTO book (title, isbn, publisher) VALUES (?, ?, ?)&quot;);\n            ps.setString(1, book.getTitle());\n            ps.setString(2, book.getIsbn());\n            ps.setString(3, book.getPublisher());\n            ps.execute();\n\n            Statement stmt = connection.createStatement();\n            rs = stmt.executeQuery(&quot;SELECT LAST_INSERT_ID()&quot;);\n\n            if (rs.next()) {\n                return this.findById(rs.getLong(1));\n            }\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public Book update(Book book) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;UPDATE book SET title = ?, isbn = ?, publisher = ? WHERE id = ?&quot;);\n            ps.setString(1, book.getTitle());\n            ps.setString(2, book.getIsbn());\n            ps.setString(3, book.getPublisher());\n            ps.setLong(4, book.getId());\n            ps.execute();\n\n            if (rs.next()) {\n                return this.findById(book.getId());\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public void delete(Book book) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;DELETE FROM book WHERE id = ?&quot;);\n            ps.setLong(1, book.getId());\n            ps.execute();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public Book findByTitle(String title) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE title = ?&quot;);\n            ps.setString(1, title);\n            rs = ps.executeQuery();\n\n            if (rs.next()) {\n                return this.mapRsToBook(rs);\n            }\n        } catch(SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public List&lt;Book&gt; findAll() {\n        Connection connection = null;\n        Statement stmt = null;\n        ResultSet rs = null;\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n\n        try {\n            connection = this.source.getConnection();\n            stmt = connection.createStatement();\n            rs = stmt.executeQuery(&quot;SELECT * FROM book&quot;);\n\n            while(rs.next()) {\n                Book book = this.mapRsToBook(rs);\n                books.add(book);\n            }\n        } catch(SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, stmt, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return books;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1643205736,"post_id":70864293,"comment_id":125277355,"body_markdown":"I can&#39;t replicate this using JavaFX 17.0.1 on Windows.  Non-editable text areas with overflowing text scroll vertically fine for me.  You may want to provide a [mcve] if you want debugging help.","body":"I can&#39;t replicate this using JavaFX 17.0.1 on Windows.  Non-editable text areas with overflowing text scroll vertically fine for me.  You may want to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you want debugging help."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643228503,"creation_date":1643228503,"answer_id":70869789,"question_id":70864293,"body_markdown":"Setting the `promptText` attribute when `editable=&quot;false&quot;` seems odd, and the `promptText` by itself doesn&#39;t enable scrolling. As an alternative, for a similar effect, set the `text` attribute and specify a gray text-fill paint:\r\n\r\n```\r\n&lt;TextArea  editable=&quot;false&quot; style=&quot;-fx-text-fill: gray&quot;\r\n    text=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot;/&gt;\r\n```\r\n[![image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cLTa6.png","title":"How to make scrollbar in JavaFX TextArea work?","body":"<p>Setting the <code>promptText</code> attribute when <code>editable=&quot;false&quot;</code> seems odd, and the <code>promptText</code> by itself doesn't enable scrolling. As an alternative, for a similar effect, set the <code>text</code> attribute and specify a gray text-fill paint:</p>\n<pre><code>&lt;TextArea  editable=&quot;false&quot; style=&quot;-fx-text-fill: gray&quot;\n    text=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot;/&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cLTa6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLTa6.png\" alt=\"image\" /></a></p>\n"}],"owner":{"account_id":12092932,"reputation":55,"user_id":8838185,"display_name":"Stijn Klijn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1643245365,"answer_count":1,"score":-1,"last_activity_date":1643228503,"creation_date":1643204218,"question_id":70864293,"body_markdown":"I declare the following `TextArea` in my FXML code, as direct child of an `AnchorPane`.\r\n\r\n```\r\n&lt;TextArea fx:id=&quot;questionArea&quot; layoutX=&quot;14.0&quot; layoutY=&quot;49.0&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;600.0&quot; promptText=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot; text=&quot;&quot; wrapText=&quot;true&quot; editable=&quot;false&quot;/&gt;\r\n```\r\n\r\nIn my controller I add text to this (non editable) `TextArea`, which sometimes exceeds its height. In those cases a scrollbar shows up as expected, but it isn&#39;t working!\r\n\r\nDoes anyone know how to make the scrollbar work appropriately?\r\n","title":"How to make scrollbar in JavaFX TextArea work?","body":"<p>I declare the following <code>TextArea</code> in my FXML code, as direct child of an <code>AnchorPane</code>.</p>\n<pre><code>&lt;TextArea fx:id=&quot;questionArea&quot; layoutX=&quot;14.0&quot; layoutY=&quot;49.0&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;600.0&quot; promptText=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot; text=&quot;&quot; wrapText=&quot;true&quot; editable=&quot;false&quot;/&gt;\n</code></pre>\n<p>In my controller I add text to this (non editable) <code>TextArea</code>, which sometimes exceeds its height. In those cases a scrollbar shows up as expected, but it isn't working!</p>\n<p>Does anyone know how to make the scrollbar work appropriately?</p>\n"},{"tags":["java","gradle","google-drive-api"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1643226651,"post_id":70868806,"comment_id":125286348,"body_markdown":"How do you expect Java 8 to be able to use Java 11 code and produce Java 11 class files? Java 11 didn&#39;t exist when Java 8 was developed. Either install Java 11, or change your `sourceCompatibility` and `targetCompatibility` to 8.","body":"How do you expect Java 8 to be able to use Java 11 code and produce Java 11 class files? Java 11 didn&#39;t exist when Java 8 was developed. Either install Java 11, or change your <code>sourceCompatibility</code> and <code>targetCompatibility</code> to 8."},{"owner":{"account_id":19885240,"reputation":21,"user_id":14568335,"display_name":"o&#224;n Th Ph&#250;c"},"score":0,"creation_date":1643227568,"post_id":70868806,"comment_id":125286677,"body_markdown":"it worked, i almost forgot it, thanks very much","body":"it worked, i almost forgot it, thanks very much"},{"owner":{"account_id":21108153,"reputation":1525,"user_id":15516699,"display_name":"Century Tuna"},"score":0,"creation_date":1643227606,"post_id":70868806,"comment_id":125286690,"body_markdown":"Would it be alright if you can post your comment as an answer so that the author and I can upvote it?  @Robert","body":"Would it be alright if you can post your comment as an answer so that the author and I can upvote it?  @Robert"}],"answers":[{"tags":[],"owner":{"account_id":19885240,"reputation":21,"user_id":14568335,"display_name":"o&#224;n Th Ph&#250;c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643228331,"creation_date":1643228331,"answer_id":70869753,"question_id":70868806,"body_markdown":"i change \r\n```\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n```\r\nto\r\n```\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n```\r\nand it worked, so it depends on your jdk version","title":"Build Gradle Failed","body":"<p>i change</p>\n<pre><code>sourceCompatibility = 11\ntargetCompatibility = 11\n</code></pre>\n<p>to</p>\n<pre><code>sourceCompatibility = 1.8\ntargetCompatibility = 1.8\n</code></pre>\n<p>and it worked, so it depends on your jdk version</p>\n"}],"owner":{"account_id":19885240,"reputation":21,"user_id":14568335,"display_name":"o&#224;n Th Ph&#250;c"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643228331,"creation_date":1643223264,"question_id":70868806,"body_markdown":"I&#39;m following Google Drive API instruction to upload file to google drive with java, when i try to &quot;gradle run&quot; in cmd, it announces that &quot;BUILD FAILED&quot; with &quot;Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;&quot;\r\nI&#39;m using java jre 1.8 and gradle 5.4.1 on Eclipse\r\n\r\nHere is my build.gradle\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nmainClassName = &#39;DriveQuickstart&#39;\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\nversion = &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.api-client:google-api-client:1.33.0&#39;\r\n    implementation &#39;com.google.oauth-client:google-oauth-client-jetty:1.32.1&#39;\r\n    implementation &#39;com.google.apis:google-api-services-drive:v3-rev20211107-1.32.1&#39;\r\n}\r\n```","title":"Build Gradle Failed","body":"<p>I'm following Google Drive API instruction to upload file to google drive with java, when i try to &quot;gradle run&quot; in cmd, it announces that &quot;BUILD FAILED&quot; with &quot;Could not target platform: 'Java SE 11' using tool chain: 'JDK 8 (1.8)'&quot;\nI'm using java jre 1.8 and gradle 5.4.1 on Eclipse</p>\n<p>Here is my build.gradle</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nmainClassName = 'DriveQuickstart'\nsourceCompatibility = 11\ntargetCompatibility = 11\nversion = '1.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.google.api-client:google-api-client:1.33.0'\n    implementation 'com.google.oauth-client:google-oauth-client-jetty:1.32.1'\n    implementation 'com.google.apis:google-api-services-drive:v3-rev20211107-1.32.1'\n}\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":3,"creation_date":1643227792,"post_id":70869611,"comment_id":125286752,"body_markdown":"yes, that&#39;s exactly what happens. `s.split()` returns an array, and `.length` dereferences the returned array. `.split()` _has_ to be evaluated first, because otherwise `.length` would have nothing to dereference. (chained methods will generally evaluate from left to right on each others&#39; returned values - in other words, `s.split(&quot; &quot;).length` is the same as `(s.split(&quot; &quot;)).length`)","body":"yes, that&#39;s exactly what happens. <code>s.split()</code> returns an array, and <code>.length</code> dereferences the returned array. <code>.split()</code> <i>has</i> to be evaluated first, because otherwise <code>.length</code> would have nothing to dereference. (chained methods will generally evaluate from left to right on each others&#39; returned values - in other words, <code>s.split(&quot; &quot;).length</code> is the same as <code>(s.split(&quot; &quot;)).length</code>)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1643227885,"post_id":70869611,"comment_id":125286775,"body_markdown":"I don&#39;t think there&#39;s an &quot;inner function&quot; however.  It&#39;s just order of operations.  It executes left to right.  First `split` is called, then `length` is called.","body":"I don&#39;t think there&#39;s an &quot;inner function&quot; however.  It&#39;s just order of operations.  It executes left to right.  First <code>split</code> is called, then <code>length</code> is called."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1643228137,"post_id":70869611,"comment_id":125286868,"body_markdown":"The array returned by split() is then LOST after the execution of the line. I&#39;d venture to say that most of the time you&#39;d want to use that array somehow in your code. It&#39;s probably a better idea to write it out in separate lines as demonstrated in the post by Mad Physicist.","body":"The array returned by split() is then LOST after the execution of the line. I&#39;d venture to say that most of the time you&#39;d want to use that array somehow in your code. It&#39;s probably a better idea to write it out in separate lines as demonstrated in the post by Mad Physicist."}],"answers":[{"tags":[],"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643228079,"creation_date":1643228079,"answer_id":70869697,"question_id":70869611,"body_markdown":"Dot notation chains left-to-right. Writing out the steps with temporary variables helps you see the intermediate types:\r\n\r\n    String s = &quot;a b c&quot;;\r\n    String[] parts = s.split(&quot; &quot;);\r\n    int n = parts.length;","title":"One function performing two methods","body":"<p>Dot notation chains left-to-right. Writing out the steps with temporary variables helps you see the intermediate types:</p>\n<pre><code>String s = &quot;a b c&quot;;\nString[] parts = s.split(&quot; &quot;);\nint n = parts.length;\n</code></pre>\n"}],"owner":{"account_id":23228613,"reputation":11,"user_id":17319742,"display_name":"NewBieOnTheBlock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643228079,"creation_date":1643227663,"question_id":70869611,"body_markdown":"I am trying to understand what happens in this java method `s.split(&quot; &quot;).length`. In the sense that it does two things. \r\n\r\nThe split method returns an array, does the length get called on that? If so would the inner function always execute first ?","title":"One function performing two methods","body":"<p>I am trying to understand what happens in this java method <code>s.split(&quot; &quot;).length</code>. In the sense that it does two things.</p>\n<p>The split method returns an array, does the length get called on that? If so would the inner function always execute first ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3820680,"reputation":14746,"user_id":3168859,"accept_rate":88,"display_name":"Lal"},"score":1,"creation_date":1643223624,"post_id":70868823,"comment_id":125285328,"body_markdown":"Does this answer your question? [How to sort Date which is in string format in java?](https://stackoverflow.com/questions/14451976/how-to-sort-date-which-is-in-string-format-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14451976/how-to-sort-date-which-is-in-string-format-in-java\">How to sort Date which is in string format in java?</a>"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1643226300,"post_id":70868823,"comment_id":125286220,"body_markdown":"You haven&#39;t really defined an order. How are times without dates compared to those with dates? Should we infer today&#39;s date? Do they always sort before items that include a date? E.g., if today is 26 Jan. 2022 and you have &quot;06:00 AM&quot; and &quot;Jan 26 2022 12:00 PM&quot;, how would you sort them?","body":"You haven&#39;t really defined an order. How are times without dates compared to those with dates? Should we infer today&#39;s date? Do they always sort before items that include a date? E.g., if today is 26 Jan. 2022 and you have &quot;06:00 AM&quot; and &quot;Jan 26 2022 12:00 PM&quot;, how would you sort them?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1643227032,"post_id":70868823,"comment_id":125286470,"body_markdown":"you probably want to create a `LocalDateTime` for each value (using a `DateTimeFormatter`), store it in a list (`ArrayList`) and sort that list as required (`sort()` of `List` or `Collections.sort()`).","body":"you probably want to create a <code>LocalDateTime</code> for each value (using a <code>DateTimeFormatter</code>), store it in a list (<code>ArrayList</code>) and sort that list as required (<code>sort()</code> of <code>List</code> or <code>Collections.sort()</code>)."}],"answers":[{"tags":[],"owner":{"account_id":17978682,"reputation":1,"user_id":13065592,"display_name":"MEHDI BENREFAD"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643225530,"creation_date":1643225530,"answer_id":70869202,"question_id":70868823,"body_markdown":"You can split each line by spaces, and store the results on a collection, and the size of the collection will tell you if it&#39;s the current date, or not, and walking through your collection from the end you can store information in date type objects, and then store these objects a list of dates, and then you can compare them based on the compareTo method of java.util.Date.\r\n\r\n    date1.compareTo(date2)","title":"How to sort Datetime using Java","body":"<p>You can split each line by spaces, and store the results on a collection, and the size of the collection will tell you if it's the current date, or not, and walking through your collection from the end you can store information in date type objects, and then store these objects a list of dates, and then you can compare them based on the compareTo method of java.util.Date.</p>\n<pre><code>date1.compareTo(date2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643227968,"creation_date":1643225938,"answer_id":70869276,"question_id":70868823,"body_markdown":"Here is one way.\r\n```\r\nString vals[] = { &quot;12:00 PM&quot;,\r\n\t\t&quot;10:01 AM&quot;, &quot;Jan 01 2022 09:03 AM&quot;,\r\n\t\t&quot;Dec 31 2021 05:51 PM&quot;, &quot;Dec 30 2021 03:47 PM&quot;,\r\n\t\t&quot;Dec 29 2021 12:05 PM&quot; };\r\n```\r\n- create a comparator and selectively parse the date.  I am simply using if first char of string is a digit or not. There may be better ways.\r\n- then create `LocalDateTime` instance on which to sort.\r\n- then pass the array and comparator to `Arrays.sort`\r\n```\r\nDateTimeFormatter dateTime =DateTimeFormatter\r\n                 .ofPattern(&quot;MMM dd yyyy h:mm a&quot;);\r\nDateTimeFormatter time =DateTimeFormatter.ofPattern(&quot;h:mm a&quot;);\r\n```\r\n- check first digit.\r\n- either create current date with added time\r\n- or parse the supplied String as a a date and time\r\n```\r\nComparator&lt;String&gt; comp = Comparator.comparing(\r\n\t\tstr-&gt;Character.isDigit(str.charAt(0)) ? \t\t\t\t \r\n           LocalDate.now().atTime(LocalTime.parse(str,time)) : \r\n           LocalDateTime.parse(str,dateTime),\r\n\t\t\t\tComparator.naturalOrder());\r\n\r\nArrays.sort(vals, comp);\t\t\r\n\r\nfor (String str : vals) {\r\n\tSystem.out.println(str);\r\n}\r\n```\r\nprints\r\n```\r\nDec 29 2021 12:05 PM\r\nDec 30 2021 03:47 PM\r\nDec 31 2021 05:51 PM\r\nJan 01 2022 09:03 AM\r\n10:01 AM\r\n12:00 PM\r\n```\r\nIf you want the sorting in reverse order then change `Comparator.naturalOrder()` to `Comparator.reverseOrder()` in the defined `Comparator` above.","title":"How to sort Datetime using Java","body":"<p>Here is one way.</p>\n<pre><code>String vals[] = { &quot;12:00 PM&quot;,\n        &quot;10:01 AM&quot;, &quot;Jan 01 2022 09:03 AM&quot;,\n        &quot;Dec 31 2021 05:51 PM&quot;, &quot;Dec 30 2021 03:47 PM&quot;,\n        &quot;Dec 29 2021 12:05 PM&quot; };\n</code></pre>\n<ul>\n<li>create a comparator and selectively parse the date.  I am simply using if first char of string is a digit or not. There may be better ways.</li>\n<li>then create <code>LocalDateTime</code> instance on which to sort.</li>\n<li>then pass the array and comparator to <code>Arrays.sort</code></li>\n</ul>\n<pre><code>DateTimeFormatter dateTime =DateTimeFormatter\n                 .ofPattern(&quot;MMM dd yyyy h:mm a&quot;);\nDateTimeFormatter time =DateTimeFormatter.ofPattern(&quot;h:mm a&quot;);\n</code></pre>\n<ul>\n<li>check first digit.</li>\n<li>either create current date with added time</li>\n<li>or parse the supplied String as a a date and time</li>\n</ul>\n<pre><code>Comparator&lt;String&gt; comp = Comparator.comparing(\n        str-&gt;Character.isDigit(str.charAt(0)) ?                  \n           LocalDate.now().atTime(LocalTime.parse(str,time)) : \n           LocalDateTime.parse(str,dateTime),\n                Comparator.naturalOrder());\n\nArrays.sort(vals, comp);        \n\nfor (String str : vals) {\n    System.out.println(str);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Dec 29 2021 12:05 PM\nDec 30 2021 03:47 PM\nDec 31 2021 05:51 PM\nJan 01 2022 09:03 AM\n10:01 AM\n12:00 PM\n</code></pre>\n<p>If you want the sorting in reverse order then change <code>Comparator.naturalOrder()</code> to <code>Comparator.reverseOrder()</code> in the defined <code>Comparator</code> above.</p>\n"}],"owner":{"account_id":22629856,"reputation":19,"user_id":16807403,"display_name":"thesupremo43"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1643226940,"answer_count":2,"score":1,"last_activity_date":1643227968,"creation_date":1643223333,"question_id":70868823,"body_markdown":"I have a column with data some thing like  below , if its current date then only time will be displayed otherwise entire date will be displayed. How to sort this using Java?\r\n&lt;br&gt;\r\n12:00 PM\r\n&lt;br&gt;\r\n10:01 AM\r\n&lt;br&gt;\r\nJan 01 2022 09:03 AM\r\n&lt;br&gt;\r\nDec 31 2021 05:51 PM\r\n&lt;br&gt;\r\nDec 30 2021 03:47 PM\r\n&lt;br&gt;\r\nDec 29 2021 12:05 PM\r\n&lt;br&gt;\r\n","title":"How to sort Datetime using Java","body":"<p>I have a column with data some thing like  below , if its current date then only time will be displayed otherwise entire date will be displayed. How to sort this using Java?\n<br>\n12:00 PM\n<br>\n10:01 AM\n<br>\nJan 01 2022 09:03 AM\n<br>\nDec 31 2021 05:51 PM\n<br>\nDec 30 2021 03:47 PM\n<br>\nDec 29 2021 12:05 PM\n<br></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":7,"creation_date":1386051693,"post_id":9920080,"comment_id":30367035,"body_markdown":"I had this happen just now even though &quot;Mark Occurrences&quot; was already checked. I thought to myself &quot;Come on we are talking Eclipse here...&quot;. To fix it, I unchecked then clicked `Apply`. I then checked it again and clicked `Apply` followed by `OK`","body":"I had this happen just now even though &quot;Mark Occurrences&quot; was already checked. I thought to myself &quot;Come on we are talking Eclipse here...&quot;. To fix it, I unchecked then clicked <code>Apply</code>. I then checked it again and clicked <code>Apply</code> followed by <code>OK</code>"},{"owner":{"account_id":108510,"reputation":26313,"user_id":287976,"accept_rate":92,"display_name":"brandizzi"},"score":0,"creation_date":1395838265,"post_id":9920080,"comment_id":34518125,"body_markdown":"possible duplicate of [Eclipse problem - doesn&#39;t highlight references anymore](http://stackoverflow.com/questions/919614/eclipse-problem-doesnt-highlight-references-anymore)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/919614/eclipse-problem-doesnt-highlight-references-anymore\">Eclipse problem - doesn&#39;t highlight references anymore</a>"},{"owner":{"account_id":1704219,"reputation":3557,"user_id":1563634,"accept_rate":75,"display_name":"mathheadinclouds"},"score":0,"creation_date":1420972402,"post_id":9920080,"comment_id":44173253,"body_markdown":"after doing what the accepted answer says, you might have to restart eclipse.","body":"after doing what the accepted answer says, you might have to restart eclipse."},{"owner":{"account_id":1498580,"reputation":406,"user_id":1403951,"accept_rate":67,"display_name":"Alex Vargas"},"score":1,"creation_date":1532625585,"post_id":9920080,"comment_id":90056506,"body_markdown":"This actually solved my problem xD","body":"This actually solved my problem xD"},{"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"score":3,"creation_date":1586271544,"post_id":9920080,"comment_id":108064107,"body_markdown":"ALT + SHIFT + O    Try turning int on/off.","body":"ALT + SHIFT + O    Try turning int on/off."},{"owner":{"account_id":15467214,"reputation":431,"user_id":11159476,"display_name":"gluttony"},"score":0,"creation_date":1696926486,"post_id":9920080,"comment_id":136211758,"body_markdown":"For me for C++ `Window -&gt; Preferences -&gt; C++ -&gt; Editor -&gt; Mark Occurrences` works as expected.","body":"For me for C++ <code>Window -&gt; Preferences -&gt; C++ -&gt; Editor -&gt; Mark Occurrences</code> works as expected."}],"answers":[{"tags":[],"owner":{"account_id":1181272,"reputation":11208,"user_id":1544250,"accept_rate":82,"display_name":"Korhan Ozturk"},"down_vote_count":1,"up_vote_count":506,"is_accepted":true,"score":505,"last_activity_date":1404895648,"creation_date":1333002535,"answer_id":9920148,"question_id":9920080,"body_markdown":"Try:\r\n     \r\n    window &gt; preferences &gt; java &gt; editor &gt; mark occurrences \r\n\r\nSelect all options available there.\r\n\r\nAlso go to:\r\n\r\n    Preferences &gt; General &gt; Editors &gt; Text Editors &gt; Annotations\r\n\r\nCompare the settings for &#39;Occurrences&#39; and &#39;Write Occurrences&#39;\r\n\r\nMake sure that you don&#39;t have the &#39;Text as higlighted&#39; option checked for one of them.\r\n\r\nThis should fix it.","title":"Eclipse does not highlight matching variables","body":"<p>Try:</p>\n\n<pre><code>window &gt; preferences &gt; java &gt; editor &gt; mark occurrences \n</code></pre>\n\n<p>Select all options available there.</p>\n\n<p>Also go to:</p>\n\n<pre><code>Preferences &gt; General &gt; Editors &gt; Text Editors &gt; Annotations\n</code></pre>\n\n<p>Compare the settings for 'Occurrences' and 'Write Occurrences'</p>\n\n<p>Make sure that you don't have the 'Text as higlighted' option checked for one of them.</p>\n\n<p>This should fix it.</p>\n"},{"tags":[],"owner":{"account_id":1074601,"reputation":8524,"user_id":1073023,"accept_rate":100,"display_name":"Kshitij"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1333002587,"creation_date":1333002587,"answer_id":9920155,"question_id":9920080,"body_markdown":"maybe because it not supports code highlights inside scriplets. not sure though.\r\n\r\nYou can try using one of the eclipse plugin like **&#39;glance search&#39;** which works great.\r\nHere&#39;s a link for that-\r\nhttp://code.google.com/p/eclipse-glance/\r\n","title":"Eclipse does not highlight matching variables","body":"<p>maybe because it not supports code highlights inside scriplets. not sure though.</p>\n\n<p>You can try using one of the eclipse plugin like <strong>'glance search'</strong> which works great.\nHere's a link for that-\n<a href=\"http://code.google.com/p/eclipse-glance/\" rel=\"nofollow\">http://code.google.com/p/eclipse-glance/</a></p>\n"},{"tags":[],"owner":{"account_id":296058,"reputation":320,"user_id":600796,"display_name":"JReader"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1385404496,"creation_date":1385404496,"answer_id":20200575,"question_id":9920080,"body_markdown":"For others running into this without any of the above solutions working AND you have modified the default theme, you might want to check the highlight color for occurrences.\r\n\r\nPreferences &gt; General &gt; Editors &gt; Text Editors &gt; Annotations\r\n\r\nThen select Occurrences in the Annotation Types, and change the Color Box to something other than your background color in your editor.  You can also change the Highlight to a outline box by Checking &quot;Text as&quot; and selecting &quot;Box&quot; from the drop-down box (which is easier to see various syntax colors then with the highlights)","title":"Eclipse does not highlight matching variables","body":"<p>For others running into this without any of the above solutions working AND you have modified the default theme, you might want to check the highlight color for occurrences.</p>\n\n<p>Preferences > General > Editors > Text Editors > Annotations</p>\n\n<p>Then select Occurrences in the Annotation Types, and change the Color Box to something other than your background color in your editor.  You can also change the Highlight to a outline box by Checking \"Text as\" and selecting \"Box\" from the drop-down box (which is easier to see various syntax colors then with the highlights)</p>\n"},{"tags":[],"owner":{"account_id":3077401,"reputation":633,"user_id":2606417,"accept_rate":83,"display_name":"Devang Bhagdev"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1386916545,"creation_date":1386916545,"answer_id":20560511,"question_id":9920080,"body_markdown":"For **PHP** you can set\r\n\r\n    window &gt; preferences &gt; PHP &gt; editor &gt; mark occurrences \r\n\r\nPlease check first checkbox (Mark occurrences of selected element in the current file)\r\n\r\n\r\n----------\r\n\r\nAnd also check\r\n\r\n    Preferences &gt; General &gt; Editors &gt; Text Editors &gt; Annotations\r\n\r\n&#39;Occurrences&#39; and &#39;Write Occurrences&#39; with different style and color\r\n","title":"Eclipse does not highlight matching variables","body":"<p>For <strong>PHP</strong> you can set</p>\n\n<pre><code>window &gt; preferences &gt; PHP &gt; editor &gt; mark occurrences \n</code></pre>\n\n<p>Please check first checkbox (Mark occurrences of selected element in the current file)</p>\n\n<hr>\n\n<p>And also check</p>\n\n<pre><code>Preferences &gt; General &gt; Editors &gt; Text Editors &gt; Annotations\n</code></pre>\n\n<p>'Occurrences' and 'Write Occurrences' with different style and color</p>\n"},{"tags":[],"owner":{"account_id":2230094,"reputation":1752,"user_id":1967928,"accept_rate":50,"display_name":"jp093121"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1388352856,"creation_date":1388352856,"answer_id":20830301,"question_id":9920080,"body_markdown":"I just unchecked all, applied, checked all again, applied and it worked :) hopefully helps others.","title":"Eclipse does not highlight matching variables","body":"<p>I just unchecked all, applied, checked all again, applied and it worked :) hopefully helps others.</p>\n"},{"tags":[],"owner":{"account_id":1290655,"reputation":1968,"user_id":1242821,"display_name":"Rudolf Real"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1391713426,"creation_date":1391713426,"answer_id":21611704,"question_id":9920080,"body_markdown":"The only that worked for me was:\r\n\r\n    Java &gt; Editor &gt; Mark Occurrences:\r\n    Check &quot;Mark occurrences of te selected element in the current file.&quot;\r\n    ... and maybe all the ones below.","title":"Eclipse does not highlight matching variables","body":"<p>The only that worked for me was:</p>\n\n<pre><code>Java &gt; Editor &gt; Mark Occurrences:\nCheck \"Mark occurrences of te selected element in the current file.\"\n... and maybe all the ones below.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1405376866,"creation_date":1405376866,"answer_id":24747057,"question_id":9920080,"body_markdown":"Eclipse Toolbar &gt; Windows &gt; Preferences &gt; General (Right side) &gt; Editors (Right side) &gt; Text Editors (Right side) &gt; Annotations (Right side)\r\n\r\nFor Occurrences and Write Occurrences, make sure you DO have the &#39;Text as highlighted&#39; option checked for all of them. See screenshot below:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Lw9zl.png\r\n  [2]: http://i.stack.imgur.com/akK3J.png\r\n  [3]: http://i.stack.imgur.com/viQ7H.png","title":"Eclipse does not highlight matching variables","body":"<p>Eclipse Toolbar > Windows > Preferences > General (Right side) > Editors (Right side) > Text Editors (Right side) > Annotations (Right side)</p>\n\n<p>For Occurrences and Write Occurrences, make sure you DO have the 'Text as highlighted' option checked for all of them. See screenshot below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Lw9zl.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/akK3J.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/viQ7H.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":392459,"reputation":491,"user_id":753732,"accept_rate":25,"display_name":"J&#225;n Laz&#225;r"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1427355856,"creation_date":1427355856,"answer_id":29273247,"question_id":9920080,"body_markdown":"If highlighting is not working for large files, scalability mode has to be off.\r\nProperties / (c/c++) / Editor / Scalability","title":"Eclipse does not highlight matching variables","body":"<p>If highlighting is not working for large files, scalability mode has to be off.\nProperties / (c/c++) / Editor / Scalability</p>\n"},{"tags":[],"owner":{"account_id":1430435,"reputation":270,"user_id":1352962,"accept_rate":73,"display_name":"dsingh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1429732766,"creation_date":1429719301,"answer_id":29803356,"question_id":9920080,"body_markdown":"I wish I could have read the response by @J&#225;n Laz&#225;r.\r\n\r\nIn addition to all the configurations mentioned in the accepted answer, below setting solved my misery:\r\n\r\n**For large files the scalability mode must be turned off. Enabling scalability mode will disable reference highlighting**.\r\n\r\n\r\n  ![enter image description here][1]\r\n\r\n[1]: http://i.stack.imgur.com/VJygk.png\r\n\r\n\r\nPS: @Rob Hruska It would be great if this point is added in the accepted answer. Most of the readers do not bother to read the last response.","title":"Eclipse does not highlight matching variables","body":"<p>I wish I could have read the response by @Jn Lazr.</p>\n\n<p>In addition to all the configurations mentioned in the accepted answer, below setting solved my misery:</p>\n\n<p><strong>For large files the scalability mode must be turned off. Enabling scalability mode will disable reference highlighting</strong>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/VJygk.png\" alt=\"enter image description here\"></p>\n\n<p>PS: @Rob Hruska It would be great if this point is added in the accepted answer. Most of the readers do not bother to read the last response.</p>\n"},{"tags":[],"owner":{"account_id":1294805,"reputation":4533,"user_id":1246145,"accept_rate":87,"display_name":"Adil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1430824956,"creation_date":1430824956,"answer_id":30051614,"question_id":9920080,"body_markdown":"Sometimes problems in your `project build path` can cause this, make sure you resolve it first, in my case the prolem was :\r\n\r\n![enter image description here][1]\r\n\r\nAnd when fix it highlights come back.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gas6J.jpg","title":"Eclipse does not highlight matching variables","body":"<p>Sometimes problems in your <code>project build path</code> can cause this, make sure you resolve it first, in my case the prolem was :</p>\n\n<p><img src=\"https://i.stack.imgur.com/gas6J.jpg\" alt=\"enter image description here\"></p>\n\n<p>And when fix it highlights come back.</p>\n"},{"tags":[],"owner":{"account_id":8187032,"reputation":739,"user_id":6162550,"display_name":"D. Smith"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1459874656,"creation_date":1459874656,"answer_id":36432351,"question_id":9920080,"body_markdown":"I was having the same issue and the &quot;make occurrences&quot; and &quot;annotations&quot; solutions above did not help. If you are using Maven, I had to convert the project to a Maven project (right click on it in the Package Explorer and go down to configure), then build the project. Then the syntax coloring and highlighting worked correctly.","title":"Eclipse does not highlight matching variables","body":"<p>I was having the same issue and the \"make occurrences\" and \"annotations\" solutions above did not help. If you are using Maven, I had to convert the project to a Maven project (right click on it in the Package Explorer and go down to configure), then build the project. Then the syntax coloring and highlighting worked correctly.</p>\n"},{"tags":[],"owner":{"account_id":5665832,"reputation":174,"user_id":4482040,"display_name":"Andreas Borg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463063315,"creation_date":1463061464,"answer_id":37189160,"question_id":9920080,"body_markdown":"I had this issue with Eclipse Mars for PHP developers, 64 bit edition for Windows. I now discovered that highlighting works out-of-the-box with the 32 bit version. Even with a fresh download of the equivalent 64 bit build, highlighting does not work. So I will switch back to 32 bit (this is actually not the first problem I observe with Eclipse 64 bit).\r\n\r\n**Edit:** \r\n\r\nI thought this was the solution, so I installed the 32 bit version in C:\\Program Files (x86) and set a shortcut in the &quot;Start&quot; menu. When I started Eclipse from there, highlighting again ceased to work. I now got it working again by deleting the .metadata directory in the workspace (i.e. resetting the workspace settings) and re-importing the projects.","title":"Eclipse does not highlight matching variables","body":"<p>I had this issue with Eclipse Mars for PHP developers, 64 bit edition for Windows. I now discovered that highlighting works out-of-the-box with the 32 bit version. Even with a fresh download of the equivalent 64 bit build, highlighting does not work. So I will switch back to 32 bit (this is actually not the first problem I observe with Eclipse 64 bit).</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>I thought this was the solution, so I installed the 32 bit version in C:\\Program Files (x86) and set a shortcut in the \"Start\" menu. When I started Eclipse from there, highlighting again ceased to work. I now got it working again by deleting the .metadata directory in the workspace (i.e. resetting the workspace settings) and re-importing the projects.</p>\n"},{"tags":[],"owner":{"account_id":147894,"reputation":800,"user_id":359320,"accept_rate":62,"display_name":"Emperorlou"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1478621530,"creation_date":1477926234,"answer_id":40344895,"question_id":9920080,"body_markdown":"**There is a bug in Eclipse Juno (and probably others) but I have a workaround!**\r\n\r\nIf you have already checked all the configurations mentioned in the top answers here and it&#39;s STILL not working try this.\r\n\r\nTo confirm the problem:\r\n\r\n 1. Select a variable\r\n 2. Notice the highlight didn&#39;t work\r\n 3. Click away from eclipse so the editor loses focus.\r\n 4. Click on eclipse&#39;s title bar so it regains focus, your variable should be highlighted.\r\n\r\nIf this is happening for you, you must **close ALL of your open files and reopen them**. This bug seems to also make weird things happen with Ctrl+S saving of an individual file. My guess is that something is happening whereby internally eclipse believes a certain file has focus but it actually doesn&#39;t, and the UI&#39;s state is rendered as though a different file is being edited.\r\n\r\n**Edit: If it&#39;s STILL not working, you might need to restart eclipse, but if you don&#39;t want to, try selecting the item you want to see occurrences of then disable and re-enable the Mark Occurences Toggle button.**\r\n \r\n[![Which looks like this][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WJGEn.jpg","title":"Eclipse does not highlight matching variables","body":"<p><strong>There is a bug in Eclipse Juno (and probably others) but I have a workaround!</strong></p>\n\n<p>If you have already checked all the configurations mentioned in the top answers here and it's STILL not working try this.</p>\n\n<p>To confirm the problem:</p>\n\n<ol>\n<li>Select a variable</li>\n<li>Notice the highlight didn't work</li>\n<li>Click away from eclipse so the editor loses focus.</li>\n<li>Click on eclipse's title bar so it regains focus, your variable should be highlighted.</li>\n</ol>\n\n<p>If this is happening for you, you must <strong>close ALL of your open files and reopen them</strong>. This bug seems to also make weird things happen with Ctrl+S saving of an individual file. My guess is that something is happening whereby internally eclipse believes a certain file has focus but it actually doesn't, and the UI's state is rendered as though a different file is being edited.</p>\n\n<p><strong>Edit: If it's STILL not working, you might need to restart eclipse, but if you don't want to, try selecting the item you want to see occurrences of then disable and re-enable the Mark Occurences Toggle button.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WJGEn.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WJGEn.jpg\" alt=\"Which looks like this\"></a></p>\n"},{"tags":[],"owner":{"account_id":3076714,"reputation":1193,"user_id":2605850,"accept_rate":50,"display_name":"Vinay Sharma"},"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1611061024,"creation_date":1486581180,"answer_id":42121700,"question_id":9920080,"body_markdown":"&lt;b&gt;Alt + Shift + o&lt;/b&gt;&lt;br&gt;\r\nWill solve your problem and agree with @Korhan Ozturk as well :)\r\n\r\nThis is known as Toggle Mark occurrence (Alt + Shift + O), Means will highlight all occurrence of focused variable. \r\nSame thing can be achieved from tool bar as follows \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn same tool bar there is another switch if you turn that on you will see complete path for opened file, That is **Breadcrumb** \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pkjdE.png\r\n  [2]: https://i.stack.imgur.com/CZniC.png\r\n\r\nthere are some more very useful switches like **word wrap, Show white Characters** just after **toggle mark occurrence**\r\n","title":"Eclipse does not highlight matching variables","body":"<p><b>Alt + Shift + o</b><br>\nWill solve your problem and agree with @Korhan Ozturk as well :)</p>\n<p>This is known as Toggle Mark occurrence (Alt + Shift + O), Means will highlight all occurrence of focused variable.\nSame thing can be achieved from tool bar as follows</p>\n<p><a href=\"https://i.stack.imgur.com/pkjdE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pkjdE.png\" alt=\"enter image description here\" /></a></p>\n<p>In same tool bar there is another switch if you turn that on you will see complete path for opened file, That is <strong>Breadcrumb</strong>\n<a href=\"https://i.stack.imgur.com/CZniC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CZniC.png\" alt=\"enter image description here\" /></a></p>\n<p>there are some more very useful switches like <strong>word wrap, Show white Characters</strong> just after <strong>toggle mark occurrence</strong></p>\n"},{"tags":[],"owner":{"account_id":7107289,"reputation":9,"user_id":5436526,"display_name":"jericho"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1489479664,"creation_date":1489479053,"answer_id":42780768,"question_id":9920080,"body_markdown":"This is what worked for me (credit to [YardenST][1] from [another thread][2]):\r\nInstead of double clicking file when opening, right click on file -&gt; Open with -&gt; Java editor \r\n\r\n[![Screenshot][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1178000/yardenst\r\n  [2]: https://stackoverflow.com/questions/13237163/eclipse-syntax-highlighting-disappeared-for-one-of-my-files\r\n  [3]: https://i.stack.imgur.com/uZipD.png","title":"Eclipse does not highlight matching variables","body":"<p>This is what worked for me (credit to <a href=\"https://stackoverflow.com/users/1178000/yardenst\">YardenST</a> from <a href=\"https://stackoverflow.com/questions/13237163/eclipse-syntax-highlighting-disappeared-for-one-of-my-files\">another thread</a>):\nInstead of double clicking file when opening, right click on file -> Open with -> Java editor </p>\n\n<p><a href=\"https://i.stack.imgur.com/uZipD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uZipD.png\" alt=\"Screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1539707175,"creation_date":1539707175,"answer_id":52840011,"question_id":9920080,"body_markdown":"[![Java - Editor - Mark Occurrences in Eclipse Photon][1]][1].\r\n\r\n*Java - Editor - Mark Occurrences* \r\n\r\nEclipse Java EE IDE for Web Developers.\r\nVersion: Photon Release (4.8.0)\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bxxlm.png","title":"Eclipse does not highlight matching variables","body":"<p><a href=\"https://i.stack.imgur.com/bxxlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxxlm.png\" alt=\"Java - Editor - Mark Occurrences in Eclipse Photon\"></a>.</p>\n\n<p><em>Java - Editor - Mark Occurrences</em> </p>\n\n<p>Eclipse Java EE IDE for Web Developers.\nVersion: Photon Release (4.8.0)</p>\n"},{"tags":[],"owner":{"account_id":9008055,"reputation":79,"user_id":6713865,"display_name":"Gim"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1574826227,"creation_date":1574826227,"answer_id":59062676,"question_id":9920080,"body_markdown":"Using Alt + Shift + o\r\nIt works for me!","title":"Eclipse does not highlight matching variables","body":"<p>Using Alt + Shift + o\nIt works for me!</p>\n"},{"tags":[],"owner":{"account_id":24064754,"reputation":1,"user_id":18041490,"display_name":"RokoHroko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643227600,"creation_date":1643227600,"answer_id":70869601,"question_id":9920080,"body_markdown":"In Scala IDE click on this button in the toolbox to activate Mark Occurrences (off by default).\r\n\r\n[link to the screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/coCUI.png","title":"Eclipse does not highlight matching variables","body":"<p>In Scala IDE click on this button in the toolbox to activate Mark Occurrences (off by default).</p>\n<p><a href=\"https://i.stack.imgur.com/coCUI.png\" rel=\"nofollow noreferrer\">link to the screenshot</a></p>\n"}],"owner":{"account_id":1116007,"reputation":4078,"user_id":1105300,"accept_rate":84,"display_name":"Seho Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125546,"favorite_count":0,"down_vote_count":1,"up_vote_count":293,"accepted_answer_id":9920148,"answer_count":18,"score":292,"last_activity_date":1643227600,"creation_date":1333002159,"question_id":9920080,"body_markdown":"Eclipse does not highlight matching variables for me:\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/SFaSD.png\r\n\r\nI&#39;ve already tried to change &quot;Mark occurrences&quot; via\r\n\r\n    Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Mark Occurrences\r\n\r\nbut it didn&#39;t work. I am not sure why this is not working while others \r\nhave been able to fix the problem.\r\n\r\nCan anyone tell me how can I set highlighting matching variables? \r\n\r\nLooking for same variables with my eyes really bothering me too much.","title":"Eclipse does not highlight matching variables","body":"<p>Eclipse does not highlight matching variables for me:</p>\n\n<p><img src=\"https://i.stack.imgur.com/SFaSD.png\" alt=\"enter image description here\"></p>\n\n<p>I've already tried to change \"Mark occurrences\" via</p>\n\n<pre><code>Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Mark Occurrences\n</code></pre>\n\n<p>but it didn't work. I am not sure why this is not working while others \nhave been able to fix the problem.</p>\n\n<p>Can anyone tell me how can I set highlighting matching variables? </p>\n\n<p>Looking for same variables with my eyes really bothering me too much.</p>\n"},{"tags":["java","generics","types"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1643226822,"post_id":70869407,"comment_id":125286405,"body_markdown":"Do you understand that `Foo&lt;Object&gt;` and `Foo&lt;?&gt;` are not the same?","body":"Do you understand that <code>Foo&lt;Object&gt;</code> and <code>Foo&lt;?&gt;</code> are not the same?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1643227002,"post_id":70869407,"comment_id":125286461,"body_markdown":"Generics are not covariant, especially not the wildcard and `Object`. To understand why, try to add an item to the inner list in both cases.","body":"Generics are not covariant, especially not the wildcard and <code>Object</code>. To understand why, try to add an item to the inner list in both cases."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1643227007,"post_id":70869407,"comment_id":125286463,"body_markdown":"You can change the parameter to `List&lt;? extends Foo&lt;?&gt;&gt;` if it&#39;s read-only.","body":"You can change the parameter to <code>List&lt;? extends Foo&lt;?&gt;&gt;</code> if it&#39;s read-only."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643226805,"creation_date":1643226805,"answer_id":70869443,"question_id":70869407,"body_markdown":"You should fix the `&lt;?&gt;`, because `Foo&lt;?&gt;` and `Foo&lt;Object&gt;` are not the same.\r\n\r\n```java\r\nvoid bar(List&lt;Foo&lt;Object&gt;&gt; foos) {}\r\n```","title":"Incompatible types when List of generic objects constructed outside of method call","body":"<p>You should fix the <code>&lt;?&gt;</code>, because <code>Foo&lt;?&gt;</code> and <code>Foo&lt;Object&gt;</code> are not the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void bar(List&lt;Foo&lt;Object&gt;&gt; foos) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13190975,"reputation":36,"user_id":9527256,"display_name":"ToygunU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643227461,"creation_date":1643227461,"answer_id":70869575,"question_id":70869407,"body_markdown":"You might also use a generic type in the method signature other than wildcard, that also still allows any Object type i.e below:\r\n\r\n    &lt;T&gt; void bar(List&lt;Foo&lt;T&gt;&gt; foos)\r\n\r\ninstead of\r\n\r\n    void bar(List&lt;Foo&lt;?&gt;&gt; foos)\r\n\r\n\r\n","title":"Incompatible types when List of generic objects constructed outside of method call","body":"<p>You might also use a generic type in the method signature other than wildcard, that also still allows any Object type i.e below:</p>\n<pre><code>&lt;T&gt; void bar(List&lt;Foo&lt;T&gt;&gt; foos)\n</code></pre>\n<p>instead of</p>\n<pre><code>void bar(List&lt;Foo&lt;?&gt;&gt; foos)\n</code></pre>\n"}],"owner":{"account_id":1529832,"reputation":7281,"user_id":1427295,"accept_rate":83,"display_name":"Brett Y"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643227461,"creation_date":1643226617,"question_id":70869407,"body_markdown":"The following code will not compile\r\n\r\n```java\r\nimport java.util.List;\r\n\r\nclass Scratch {\r\n\r\n  public static void main(String[] args) {\r\n    Foo&lt;Object&gt; foo = new Foo&lt;&gt;();\r\n    Bar bar = new Bar();\r\n\r\n    bar.bar(List.of(foo));  // Okay\r\n\r\n    List&lt;Foo&lt;Object&gt;&gt; foos = List.of(foo);\r\n    bar.bar(foos);  // Error\r\n  }\r\n\r\n  static class Foo&lt;T&gt; {}\r\n\r\n  static class Bar {\r\n    void bar(List&lt;Foo&lt;?&gt;&gt; foos) {}\r\n  }\r\n}\r\n```\r\n\r\nThe line `bar.bar(foos);` casese this error:\r\n\r\n&gt; incompatible types: java.util.List&lt;Scratch.Foo&lt;java.lang.Object&gt;&gt; cannot be converted to java.util.List&lt;Scratch.Foo&lt;?&gt;&gt;\r\n\r\nWhy are the types incompatible when the `List&lt;Foo&lt;?&gt;&gt;` is constructed outside `bar()` method call? ","title":"Incompatible types when List of generic objects constructed outside of method call","body":"<p>The following code will not compile</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nclass Scratch {\n\n  public static void main(String[] args) {\n    Foo&lt;Object&gt; foo = new Foo&lt;&gt;();\n    Bar bar = new Bar();\n\n    bar.bar(List.of(foo));  // Okay\n\n    List&lt;Foo&lt;Object&gt;&gt; foos = List.of(foo);\n    bar.bar(foos);  // Error\n  }\n\n  static class Foo&lt;T&gt; {}\n\n  static class Bar {\n    void bar(List&lt;Foo&lt;?&gt;&gt; foos) {}\n  }\n}\n</code></pre>\n<p>The line <code>bar.bar(foos);</code> casese this error:</p>\n<blockquote>\n<p>incompatible types: java.util.List&lt;Scratch.Foo&lt;java.lang.Object&gt;&gt; cannot be converted to java.util.List&lt;Scratch.Foo&lt;?&gt;&gt;</p>\n</blockquote>\n<p>Why are the types incompatible when the <code>List&lt;Foo&lt;?&gt;&gt;</code> is constructed outside <code>bar()</code> method call?</p>\n"},{"tags":["java","multithreading","oop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1643222504,"post_id":70868644,"comment_id":125284906,"body_markdown":"What the error presumably tells you is that the last argument of your AddComputeThread constructor is supposed to be an array. You&#39;re trying to use an instance of SquareMatrix there instead of an array.","body":"What the error presumably tells you is that the last argument of your AddComputeThread constructor is supposed to be an array. You&#39;re trying to use an instance of SquareMatrix there instead of an array."},{"owner":{"account_id":24064004,"reputation":1,"user_id":18040851,"display_name":"birly"},"score":0,"creation_date":1643223291,"post_id":70868644,"comment_id":125285197,"body_markdown":"@khelwood thank you so much","body":"@khelwood thank you so much"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643235004,"post_id":70868644,"comment_id":125289176,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643227002,"creation_date":1643227002,"answer_id":70869479,"question_id":70868644,"body_markdown":"Here:\r\n\r\n    AddComputeThread trd = new AddComputeThread(1, A, B, minDim, C);\r\n\r\nyou are trying to call this AddComputeThread constructor:\r\n\r\n    AddComputeThread(int threadID, SquareMatrix A, SquareMatrix B, int minDim, SquareMatrix[] results)\r\n\r\nBut C, the fifth argument you give, is an instance of SquareMatrix, not an array as required.","title":"I need help accessing this class","body":"<p>Here:</p>\n<pre><code>AddComputeThread trd = new AddComputeThread(1, A, B, minDim, C);\n</code></pre>\n<p>you are trying to call this AddComputeThread constructor:</p>\n<pre><code>AddComputeThread(int threadID, SquareMatrix A, SquareMatrix B, int minDim, SquareMatrix[] results)\n</code></pre>\n<p>But C, the fifth argument you give, is an instance of SquareMatrix, not an array as required.</p>\n"}],"owner":{"account_id":24064004,"reputation":1,"user_id":18040851,"display_name":"birly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1643227002,"creation_date":1643222314,"question_id":70868644,"body_markdown":"I really need to fix this and I don&#39;t have any idea how, so any kind of help would be much appreciated. I am kind of a newbie to Java, yet I have knowledge in writing code. I want to add a new thread using the class AddComputeThread, but I am not sure how to access it or call the methods in it. Any idea? When trying to create a new instance of the class, it gives me the error that the constructor of the AddComputeThread is not defined.\r\n\r\nHere is the java file\r\n\r\n```\r\npackage pgdp.pingulib.math.matrix;\r\n\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class SquareMatrixAdd {\r\n\r\n\tprivate static final int MIN_DIM = 1 &lt;&lt; 1;\r\n\r\n\t/**\r\n\t * Sequential matrix addition of A and B\r\n\t * \r\n\t * @param A matrix\r\n\t * @param B matrix\r\n\t * @return result of the matrix addition in a new matrix\r\n\t */\r\n\tpublic static SquareMatrix addSequential(SquareMatrix A, SquareMatrix B) {\r\n\t\tif (A == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;A can not be null&quot;);\r\n\t\t}\r\n\t\tif (B == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;B can not be null&quot;);\r\n\t\t}\r\n\t\tif (A.getDimension() != B.getDimension()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;A and B have different dimensions&quot;);\r\n\t\t}\r\n\t\tSquareMatrix C = new SquareMatrix(A.getDimension());\r\n\t\tfor (int i = 1; i &lt;= A.getDimension(); i++) {\r\n\t\t\tfor (int j = 1; j &lt;= A.getDimension(); j++) {\r\n\t\t\t\tC.set(i, j, A.get(i, j).add(B.get(i, j)));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn C;\r\n\t}\r\n\r\n\t/**\r\n\t * Parallel matrix addition of A and B. If the dimensions are smaller or equal\r\n\t * than the default value &lt;MIN_DIM&gt;, the sequential matrix addition will be\r\n\t * applied.\r\n\t * \r\n\t * @param A matrix\r\n\t * @param B matrix\r\n\t * @return result of the matrix addition in a new matrix\r\n\t */\r\n\tpublic static SquareMatrix addParallel(SquareMatrix A, SquareMatrix B) {\r\n\t\treturn addParallel(A, B, MIN_DIM);\r\n\t}\r\n\r\n\t/**\r\n\t * Parallel matrix addition of A and B. If &lt;minDim&gt; is smaller than the default\r\n\t * value &lt;MIN_DIM&gt;, the default value will be used. If the dimensions are\r\n\t * smaller or equal than &lt;minDim&gt;, the sequential matrix addition will be\r\n\t * applied.\r\n\t * \r\n\t * @param A      matrix\r\n\t * @param B      matrix\r\n\t * @param minDim dimension\r\n\t * @return result of the matrix addition in a new matrix\r\n\t */\r\n\tpublic static SquareMatrix addParallel(SquareMatrix A, SquareMatrix B, int minDim) {\r\n\t\t// TODO\r\n\t\tSquareMatrix C = new SquareMatrix(A.getDimension());\r\n\t\tif(minDim &lt; MIN_DIM)\r\n\t\t\tminDim = MIN_DIM;\r\n\t\telse if (A == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;A can not be null&quot;);\r\n\t\t}\r\n\t\tif (B == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;B can not be null&quot;);\r\n\t\t}\r\n\t\tif (A.getDimension() != B.getDimension()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;A and B have different dimensions&quot;);\r\n\t\t}\r\n\t\tif (A.getDimension() &lt;= minDim) {\r\n\t\t\tC = addSequential(A, B);\r\n\t\t} else {\r\n\t\t\tfor( int i = 1; i &lt; A.getDimension()/2; ++i ) {\r\n\t\t\t\tfor( int j = 1; j &lt; A.getDimension()/2; ++j ) {\r\n\t\t\t\t\tAddComputeThread trd = new AddComputeThread(1, A, B, minDim, C);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn C;\r\n\t}\r\n\r\n\tprivate static class AddComputeThread extends ComputeThread {\r\n\r\n\t\tprivate static AtomicInteger computeThreadCounter = new AtomicInteger(0);\r\n\r\n\t\t/**\r\n\t\t * initialize compute thread for matrix addition.\r\n\t\t * \r\n\t\t * @param threadID index where result will be stored\r\n\t\t * @param A        first matrix\r\n\t\t * @param B        second matrix\r\n\t\t * @param minDim   threshold for sequential computation\r\n\t\t * @param results  array reference where the result will be stored\r\n\t\t */\r\n\t\tAddComputeThread(int threadID, SquareMatrix A, SquareMatrix B, int minDim, SquareMatrix[] results) {\r\n\t\t\tsuper(threadID, A, B, minDim, results);\r\n\t\t\tthis.setName(&quot;AddComputeThread-&quot; + computeThreadCounter.incrementAndGet());\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * resets the thread counter\r\n\t\t */\r\n\t\tpublic static synchronized void resetThreadCount() {\r\n\t\t\tcomputeThreadCounter = new AtomicInteger(0);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * retrieves the current thread count\r\n\t\t * \r\n\t\t * @return thread count\r\n\t\t */\r\n\t\tpublic static AtomicInteger getThreadCount() {\r\n\t\t\treturn computeThreadCounter;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\t// TODO\r\n\t\t\tthis.start();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"I need help accessing this class","body":"<p>I really need to fix this and I don't have any idea how, so any kind of help would be much appreciated. I am kind of a newbie to Java, yet I have knowledge in writing code. I want to add a new thread using the class AddComputeThread, but I am not sure how to access it or call the methods in it. Any idea? When trying to create a new instance of the class, it gives me the error that the constructor of the AddComputeThread is not defined.</p>\n<p>Here is the java file</p>\n<pre><code>package pgdp.pingulib.math.matrix;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class SquareMatrixAdd {\n\n    private static final int MIN_DIM = 1 &lt;&lt; 1;\n\n    /**\n     * Sequential matrix addition of A and B\n     * \n     * @param A matrix\n     * @param B matrix\n     * @return result of the matrix addition in a new matrix\n     */\n    public static SquareMatrix addSequential(SquareMatrix A, SquareMatrix B) {\n        if (A == null) {\n            throw new IllegalArgumentException(&quot;A can not be null&quot;);\n        }\n        if (B == null) {\n            throw new IllegalArgumentException(&quot;B can not be null&quot;);\n        }\n        if (A.getDimension() != B.getDimension()) {\n            throw new IllegalArgumentException(&quot;A and B have different dimensions&quot;);\n        }\n        SquareMatrix C = new SquareMatrix(A.getDimension());\n        for (int i = 1; i &lt;= A.getDimension(); i++) {\n            for (int j = 1; j &lt;= A.getDimension(); j++) {\n                C.set(i, j, A.get(i, j).add(B.get(i, j)));\n            }\n        }\n        return C;\n    }\n\n    /**\n     * Parallel matrix addition of A and B. If the dimensions are smaller or equal\n     * than the default value &lt;MIN_DIM&gt;, the sequential matrix addition will be\n     * applied.\n     * \n     * @param A matrix\n     * @param B matrix\n     * @return result of the matrix addition in a new matrix\n     */\n    public static SquareMatrix addParallel(SquareMatrix A, SquareMatrix B) {\n        return addParallel(A, B, MIN_DIM);\n    }\n\n    /**\n     * Parallel matrix addition of A and B. If &lt;minDim&gt; is smaller than the default\n     * value &lt;MIN_DIM&gt;, the default value will be used. If the dimensions are\n     * smaller or equal than &lt;minDim&gt;, the sequential matrix addition will be\n     * applied.\n     * \n     * @param A      matrix\n     * @param B      matrix\n     * @param minDim dimension\n     * @return result of the matrix addition in a new matrix\n     */\n    public static SquareMatrix addParallel(SquareMatrix A, SquareMatrix B, int minDim) {\n        // TODO\n        SquareMatrix C = new SquareMatrix(A.getDimension());\n        if(minDim &lt; MIN_DIM)\n            minDim = MIN_DIM;\n        else if (A == null) {\n            throw new IllegalArgumentException(&quot;A can not be null&quot;);\n        }\n        if (B == null) {\n            throw new IllegalArgumentException(&quot;B can not be null&quot;);\n        }\n        if (A.getDimension() != B.getDimension()) {\n            throw new IllegalArgumentException(&quot;A and B have different dimensions&quot;);\n        }\n        if (A.getDimension() &lt;= minDim) {\n            C = addSequential(A, B);\n        } else {\n            for( int i = 1; i &lt; A.getDimension()/2; ++i ) {\n                for( int j = 1; j &lt; A.getDimension()/2; ++j ) {\n                    AddComputeThread trd = new AddComputeThread(1, A, B, minDim, C);\n                }\n            }\n        }\n\n        return C;\n    }\n\n    private static class AddComputeThread extends ComputeThread {\n\n        private static AtomicInteger computeThreadCounter = new AtomicInteger(0);\n\n        /**\n         * initialize compute thread for matrix addition.\n         * \n         * @param threadID index where result will be stored\n         * @param A        first matrix\n         * @param B        second matrix\n         * @param minDim   threshold for sequential computation\n         * @param results  array reference where the result will be stored\n         */\n        AddComputeThread(int threadID, SquareMatrix A, SquareMatrix B, int minDim, SquareMatrix[] results) {\n            super(threadID, A, B, minDim, results);\n            this.setName(&quot;AddComputeThread-&quot; + computeThreadCounter.incrementAndGet());\n        }\n\n        /**\n         * resets the thread counter\n         */\n        public static synchronized void resetThreadCount() {\n            computeThreadCounter = new AtomicInteger(0);\n        }\n\n        /**\n         * retrieves the current thread count\n         * \n         * @return thread count\n         */\n        public static AtomicInteger getThreadCount() {\n            return computeThreadCounter;\n        }\n\n        @Override\n        public void run() {\n            // TODO\n            this.start();\n            \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","websocket","okhttp","java-websocket"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1643205486,"post_id":70864277,"comment_id":125277251,"body_markdown":"Usually exception stacktraces are much more extensive and contain more information. Please edit the question to include the entire stacktrace for the exception.","body":"Usually exception stacktraces are much more extensive and contain more information. Please edit the question to include the entire stacktrace for the exception."},{"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"score":0,"creation_date":1643206000,"post_id":70864277,"comment_id":125277478,"body_markdown":"@PresidentJamesK.Polk Added the stacktrace :)","body":"@PresidentJamesK.Polk Added the stacktrace :)"}],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643226014,"creation_date":1643226014,"answer_id":70869291,"question_id":70864277,"body_markdown":"Yes, insecurely you can use https://square.github.io/okhttp/4.x/okhttp-tls/okhttp3.tls/-handshake-certificates/-builder/add-insecure-host/\r\n\r\nSee the answer here https://stackoverflow.com/questions/64181090/websocket-secure-error-hostname-not-verified/64182186#64182186\r\n\r\nBut assuming you want it securely, you will need to define the trusted certificates in the client.\r\n\r\nhttps://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java\r\n\r\n```\r\n    HandshakeCertificates certificates = new HandshakeCertificates.Builder()\r\n        .addTrustedCertificate(letsEncryptCertificateAuthority)\r\n        .addTrustedCertificate(entrustRootCertificateAuthority)\r\n        .addTrustedCertificate(comodoRsaCertificationAuthority)\r\n        // Uncomment if standard certificates are also required.\r\n        //.addPlatformTrustedCertificates()\r\n        .build();\r\n\r\n    client = new OkHttpClient.Builder()\r\n            .sslSocketFactory(certificates.sslSocketFactory(), certificates.trustManager())\r\n            .build();\r\n```    ","title":"Possible to create Secure Websocket in Java for localhost only?","body":"<p>Yes, insecurely you can use <a href=\"https://square.github.io/okhttp/4.x/okhttp-tls/okhttp3.tls/-handshake-certificates/-builder/add-insecure-host/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/4.x/okhttp-tls/okhttp3.tls/-handshake-certificates/-builder/add-insecure-host/</a></p>\n<p>See the answer here <a href=\"https://stackoverflow.com/questions/64181090/websocket-secure-error-hostname-not-verified/64182186#64182186\">Websocket Secure error: Hostname not verified</a></p>\n<p>But assuming you want it securely, you will need to define the trusted certificates in the client.</p>\n<p><a href=\"https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java</a></p>\n<pre><code>    HandshakeCertificates certificates = new HandshakeCertificates.Builder()\n        .addTrustedCertificate(letsEncryptCertificateAuthority)\n        .addTrustedCertificate(entrustRootCertificateAuthority)\n        .addTrustedCertificate(comodoRsaCertificationAuthority)\n        // Uncomment if standard certificates are also required.\n        //.addPlatformTrustedCertificates()\n        .build();\n\n    client = new OkHttpClient.Builder()\n            .sslSocketFactory(certificates.sslSocketFactory(), certificates.trustManager())\n            .build();\n</code></pre>\n"}],"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643226014,"creation_date":1643204147,"question_id":70864277,"body_markdown":"Is it possible to create a Java SSL Websocket, so peers can connect using `wss://127.0.0.1`? \r\n\r\nMy current implementation is using `org.java_websocket.server.DefaultSSLWebSocketServerFactory`:\r\n```\r\n        WebSocketServerFactory socketFactory = new DefaultWebSocketServerFactory();\r\n\t\t// Make it secure\r\n\t\tchar[] passphrase = tempPassword.toCharArray();\r\n\t\tKeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\ttry (FileInputStream fis = new FileInputStream(keystoreFile)) {\r\n\t\t\tkeystore.load(fis, passphrase);\r\n\t\t\tKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\t\tkeyManagerFactory.init(keystore, passphrase);\r\n\t\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttrustManagerFactory.init(keystore);\r\n\t\t\tSSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tctx.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\r\n\t\t\tsocketFactory = new DefaultSSLWebSocketServerFactory(ctx);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\tthrow e;\r\n\t\t}\r\n```\r\n\r\nBut when I try to use this, I get the following error from OkHttp3:\r\n`Transport exception caused by javax.net.ssl.SSLHandshakeException: connection closed`. \r\nThis is the full stack-trace: https://pastebin.com/raw/Y3RvqRrt\r\n","title":"Possible to create Secure Websocket in Java for localhost only?","body":"<p>Is it possible to create a Java SSL Websocket, so peers can connect using <code>wss://127.0.0.1</code>?</p>\n<p>My current implementation is using <code>org.java_websocket.server.DefaultSSLWebSocketServerFactory</code>:</p>\n<pre><code>        WebSocketServerFactory socketFactory = new DefaultWebSocketServerFactory();\n        // Make it secure\n        char[] passphrase = tempPassword.toCharArray();\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n        try (FileInputStream fis = new FileInputStream(keystoreFile)) {\n            keystore.load(fis, passphrase);\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            keyManagerFactory.init(keystore, passphrase);\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            trustManagerFactory.init(keystore);\n            SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\n            ctx.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\n            socketFactory = new DefaultSSLWebSocketServerFactory(ctx);\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            throw e;\n        }\n</code></pre>\n<p>But when I try to use this, I get the following error from OkHttp3:\n<code>Transport exception caused by javax.net.ssl.SSLHandshakeException: connection closed</code>.\nThis is the full stack-trace: <a href=\"https://pastebin.com/raw/Y3RvqRrt\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/Y3RvqRrt</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1642979352,"post_id":70827342,"comment_id":125211682,"body_markdown":"I wonder why your actual results differ from your expected results... Maybe if you took the time to [debug](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) your program, you&#39;d have your answer without needing to ask anyone else.","body":"I wonder why your actual results differ from your expected results... Maybe if you took the time to <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> your program, you&#39;d have your answer without needing to ask anyone else."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1642987290,"post_id":70827342,"comment_id":125212865,"body_markdown":"I haven&#39;t read your code logic, but I have an observation.  Your &quot;expected&quot; result is wrong. 1) Cell [0][3] survives as it has two neighbors.  It dies in the next generation. 2) At the bottom right, all the initially &quot;live&quot; cells have two neighbors, so all survive.  The bottom-right cell flips from zero to 1 giving you a block of 4 live cells at the bottom right.  That configuration is stable  so nothing more happens.  So you need to review your understanding of the rules, and then step through the code one line at a time to see where it deviates from your (corrected) expectations.","body":"I haven&#39;t read your code logic, but I have an observation.  Your &quot;expected&quot; result is wrong. 1) Cell [0][3] survives as it has two neighbors.  It dies in the next generation. 2) At the bottom right, all the initially &quot;live&quot; cells have two neighbors, so all survive.  The bottom-right cell flips from zero to 1 giving you a block of 4 live cells at the bottom right.  That configuration is stable  so nothing more happens.  So you need to review your understanding of the rules, and then step through the code one line at a time to see where it deviates from your (corrected) expectations."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642987385,"post_id":70827342,"comment_id":125212889,"body_markdown":"Please visit the [help], take the [tour] and read [ask] to learn how to use this site effectively.","body":"Please visit the <a href=\"https://stackoverflow.com/help\">help center</a>, take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."}],"answers":[{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643225843,"creation_date":1643225843,"answer_id":70869260,"question_id":70827342,"body_markdown":"One of the major flaws with your loops is that Java arrays (like most) have a zero-based index.  However, your loops start with x and y set to 1, so you are not processing the first row at all.  Additionally, your loop conditions stop before you process the last row.  This code corrects that error:\r\n\r\n    public static int[][] nextGeneration(int inputGrid[][]) {\r\n        int height = 10, width = 10;\r\n        int[][] future = new int[height][width];\r\n\r\n        // iterate over each row (start with 0 because an array index is 0 based)\r\n        for (int x = 0; x &lt; height; x++) {\r\n            // iterate over each column (start with 0 as well)\r\n            for (int y = 0; y &lt; width; y++) {\r\n                int aliveNeighbours = 0;\r\n                int rowAbove = Math.max(x -1, 0); // the row above is x-1 but never less than 0 because that row doesn&#39;t exist\r\n                int rowBelow = Math.min(x + 1, height - 1); // the row below is never greater than the last row in the array (height - 1)\r\n                int colLeft = Math.max(y -1, 0); // go to the left one column, unless we are at the edge, then don&#39;t go past 0\r\n                int colRight = Math.min(y + 1, width - 1); // ... continuing the same logic as above\r\n                for (int rowToCheck = rowAbove; rowToCheck &lt;= rowBelow; rowToCheck++)\r\n                    for (int colToCheck = colLeft; colToCheck &lt;= colRight; colToCheck++)\r\n                        aliveNeighbours += inputGrid[rowToCheck][colToCheck];\r\n\r\n                // remove the cell being evaluated from the neighbors count\r\n                aliveNeighbours -= inputGrid[x][y];\r\n\r\n                // simplified logic to remove unnecessary conditions\r\n                // any cell with three neighbors is alive (past value doesn&#39;t matter)\r\n                if (aliveNeighbours == 3)\r\n                    future[x][y] = 1;\r\n                // any cell with fewer than two live neighbors is dead (past value doesn&#39;t matter)\r\n                else if (aliveNeighbours &lt; 2)\r\n                    future[x][y] = 0;\r\n                // any cell with more than three neighbors is dead (past value doesn&#39;t matter)\r\n                else if (aliveNeighbours &gt;= 4)\r\n                    future[x][y] = 0;\r\n                // any cell with two neighbors remains in its present state (regardless of what the past value was)\r\n                else if (aliveNeighbours == 2)\r\n                    future[x][y] = inputGrid[x][y];\r\n                else\r\n                    throw new RuntimeException(&quot;Unhandled neighbor condition&quot;);\r\n            }\r\n        }\r\n        return future;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[][] game =\r\n                {{0, 0, 1, 1, 1, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 1, 1},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 1, 0}\r\n                };\r\n\r\n        var nextGen = nextGeneration(game);\r\n\r\n        for(var row : nextGen)\r\n        {\r\n            for(var cell : row)\r\n            {\r\n                System.out.print(cell);\r\n            }\r\n            System.out.println();\r\n        }","title":"Java Conway Game of life","body":"<p>One of the major flaws with your loops is that Java arrays (like most) have a zero-based index.  However, your loops start with x and y set to 1, so you are not processing the first row at all.  Additionally, your loop conditions stop before you process the last row.  This code corrects that error:</p>\n<pre><code>public static int[][] nextGeneration(int inputGrid[][]) {\n    int height = 10, width = 10;\n    int[][] future = new int[height][width];\n\n    // iterate over each row (start with 0 because an array index is 0 based)\n    for (int x = 0; x &lt; height; x++) {\n        // iterate over each column (start with 0 as well)\n        for (int y = 0; y &lt; width; y++) {\n            int aliveNeighbours = 0;\n            int rowAbove = Math.max(x -1, 0); // the row above is x-1 but never less than 0 because that row doesn't exist\n            int rowBelow = Math.min(x + 1, height - 1); // the row below is never greater than the last row in the array (height - 1)\n            int colLeft = Math.max(y -1, 0); // go to the left one column, unless we are at the edge, then don't go past 0\n            int colRight = Math.min(y + 1, width - 1); // ... continuing the same logic as above\n            for (int rowToCheck = rowAbove; rowToCheck &lt;= rowBelow; rowToCheck++)\n                for (int colToCheck = colLeft; colToCheck &lt;= colRight; colToCheck++)\n                    aliveNeighbours += inputGrid[rowToCheck][colToCheck];\n\n            // remove the cell being evaluated from the neighbors count\n            aliveNeighbours -= inputGrid[x][y];\n\n            // simplified logic to remove unnecessary conditions\n            // any cell with three neighbors is alive (past value doesn't matter)\n            if (aliveNeighbours == 3)\n                future[x][y] = 1;\n            // any cell with fewer than two live neighbors is dead (past value doesn't matter)\n            else if (aliveNeighbours &lt; 2)\n                future[x][y] = 0;\n            // any cell with more than three neighbors is dead (past value doesn't matter)\n            else if (aliveNeighbours &gt;= 4)\n                future[x][y] = 0;\n            // any cell with two neighbors remains in its present state (regardless of what the past value was)\n            else if (aliveNeighbours == 2)\n                future[x][y] = inputGrid[x][y];\n            else\n                throw new RuntimeException(&quot;Unhandled neighbor condition&quot;);\n        }\n    }\n    return future;\n}\n\npublic static void main(String[] args) {\n    int[][] game =\n            {{0, 0, 1, 1, 1, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n            {0, 0, 0, 0, 0, 0, 0, 0, 1, 1},\n            {0, 0, 0, 0, 0, 0, 0, 0, 1, 0}\n            };\n\n    var nextGen = nextGeneration(game);\n\n    for(var row : nextGen)\n    {\n        for(var cell : row)\n        {\n            System.out.print(cell);\n        }\n        System.out.println();\n    }\n</code></pre>\n"}],"owner":{"account_id":22186205,"reputation":121,"user_id":16429072,"display_name":"khetha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1749,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643225843,"creation_date":1642978841,"question_id":70827342,"body_markdown":"My program is Conway Game of life, the rules are: \r\n 1. Any live cell with fewer than two live neighbors dies as if caused by underpopulation.\r\n 2. Any live cell with two or three live neighbors lives on to the next generation.\r\n 3. Any live cell with more than three live neighbors dies, as if by overpopulation.\r\n 4. Any dead cell with exactly three live neighbors becomes a live cell, as if by reproduction.\r\n\r\n I was able to check for alive neighbors in a single row my problem is checking for alive neighbors in the column and to see whether the next generation lives or dies while checking column, my code below demonstrates what I get, Where 1 represent a live cell and 0 represents a dead cell.\r\n\r\n```    \r\npublic static int[][] nextGeneration(int inputGrid[][]) {\r\n                int height = 10, width = 10;\r\n                int[][] future = new int[height][width];     \r\n    \r\n    for (int x = 1; x &lt; height - 1; x++) {\r\n                    for (int y = 1; y &lt; width - 1; y++) {\r\n                        int aliveNeighbours = 0;\r\n                        for (int i = -1; i &lt;= 1; i++)\r\n                            for (int j = -1; j &lt;= 1; j++)\r\n                                aliveNeighbours += inputGrid[x + i][y + j];\r\n        \r\n                        aliveNeighbours -= inputGrid[x][y];\r\n                        if ((inputGrid[x][y] == 1) &amp;&amp; (aliveNeighbours &lt; 2))\r\n                            future[x][y] = 0;\r\n            \r\n                            else if (((inputGrid[x][y] == 1) &amp;&amp; ((aliveNeighbours ==2) || (aliveNeighbours ==3))))\r\n                                future[x][y] = 1;\r\n            \r\n                            else if ((inputGrid[x][y] == 1) &amp;&amp; (aliveNeighbours &gt; 3))\r\n                                future[x][y] = 0;\r\n            \r\n                            else if ((inputGrid[x][y] == 0) &amp;&amp; (aliveNeighbours == 3))\r\n                                future[x][y] = 1;\r\n            \r\n                            else\r\n                                future[x][y] = inputGrid[x][y];\r\n                        }\r\n                    }\r\n                    return future;\r\n                }\r\n            public static void main(String[] args) {\r\n                    int[][] game = \r\n                           {{0, 0, 1, 1, 1, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 1, 1},\r\n                            {0, 0, 0, 0, 0, 0, 0, 0, 1, 0}\r\n                    };\r\n            \r\n                    System.out.println(nextGeneration(game));\r\n                }\r\n```\r\nMy result is :\r\n```\r\n    {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 1, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 1, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}\r\n    };\r\n```\r\nBut the expected result should be:\r\n```\r\n    {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 1, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 1, 0},\r\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 1}\r\n``` \r\n\r\nCell 10*10 in my result should be alive not dead\r\n","title":"Java Conway Game of life","body":"<p>My program is Conway Game of life, the rules are:</p>\n<ol>\n<li>Any live cell with fewer than two live neighbors dies as if caused by underpopulation.</li>\n<li>Any live cell with two or three live neighbors lives on to the next generation.</li>\n<li>Any live cell with more than three live neighbors dies, as if by overpopulation.</li>\n<li>Any dead cell with exactly three live neighbors becomes a live cell, as if by reproduction.</li>\n</ol>\n<p>I was able to check for alive neighbors in a single row my problem is checking for alive neighbors in the column and to see whether the next generation lives or dies while checking column, my code below demonstrates what I get, Where 1 represent a live cell and 0 represents a dead cell.</p>\n<pre><code>public static int[][] nextGeneration(int inputGrid[][]) {\n                int height = 10, width = 10;\n                int[][] future = new int[height][width];     \n    \n    for (int x = 1; x &lt; height - 1; x++) {\n                    for (int y = 1; y &lt; width - 1; y++) {\n                        int aliveNeighbours = 0;\n                        for (int i = -1; i &lt;= 1; i++)\n                            for (int j = -1; j &lt;= 1; j++)\n                                aliveNeighbours += inputGrid[x + i][y + j];\n        \n                        aliveNeighbours -= inputGrid[x][y];\n                        if ((inputGrid[x][y] == 1) &amp;&amp; (aliveNeighbours &lt; 2))\n                            future[x][y] = 0;\n            \n                            else if (((inputGrid[x][y] == 1) &amp;&amp; ((aliveNeighbours ==2) || (aliveNeighbours ==3))))\n                                future[x][y] = 1;\n            \n                            else if ((inputGrid[x][y] == 1) &amp;&amp; (aliveNeighbours &gt; 3))\n                                future[x][y] = 0;\n            \n                            else if ((inputGrid[x][y] == 0) &amp;&amp; (aliveNeighbours == 3))\n                                future[x][y] = 1;\n            \n                            else\n                                future[x][y] = inputGrid[x][y];\n                        }\n                    }\n                    return future;\n                }\n            public static void main(String[] args) {\n                    int[][] game = \n                           {{0, 0, 1, 1, 1, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 1, 1},\n                            {0, 0, 0, 0, 0, 0, 0, 0, 1, 0}\n                    };\n            \n                    System.out.println(nextGeneration(game));\n                }\n</code></pre>\n<p>My result is :</p>\n<pre><code>    {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 1, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 1, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}\n    };\n</code></pre>\n<p>But the expected result should be:</p>\n<pre><code>    {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 1, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 1, 0},\n     {0, 0, 0, 0, 0, 0, 0, 0, 0, 1}\n</code></pre>\n<p>Cell 10*10 in my result should be alive not dead</p>\n"},{"tags":["java","okhttp","http2","tls1.3","alpn"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643225666,"creation_date":1643225666,"answer_id":70869220,"question_id":70849839,"body_markdown":"Something like the following should/could work on JDK9. But it&#39;s hard to test as it&#39;s effectively a broken server.\r\n\r\n```\r\n  val sslSocketFactory = context.socketFactory\r\n  val wrapped = object : DelegatingSSLSocketFactory(sslSocketFactory) {\r\n    override fun configureSocket(sslSocket: SSLSocket): SSLSocket {\r\n      return object : DelegatingSSLSocket(sslSocket) {\r\n        override fun getApplicationProtocol(): String {\r\n          return &quot;h2&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  val client = OkHttpClient.Builder()\r\n    .sslSocketFactory(wrapped, trustManager)\r\n    .build()\r\n\r\n  val response = client.newCall(Request.Builder().url(&quot;https://api.twitter.com/&quot;).build()).execute()\r\n  println(response.protocol)\r\n```\r\n\r\nYou can grab the delegating socket factory here https://github.com/square/okhttp/blob/c1a6dec505a62af07e4c117e777302bd136e107f/okhttp-testing-support/src/main/kotlin/okhttp3/DelegatingSSLSocketFactory.kt\r\n\r\nBut on different JVMs, or different Android versions this may work differently.\r\n\r\nIt&#39;s the reason we have adapters for different socket types like Android10SocketAdapter.kt, ConscryptSocketAdapter.kt etc.\r\n\r\nhttps://github.com/square/okhttp/blob/3ad1912f783e108b3d0ad2c4a5b1b89b827e4db9/okhttp/src/jvmMain/kotlin/okhttp3/internal/platform/android/SocketAdapter.kt#L35","title":"How OkHttpClient can establish TLS connection via http2 with server that does not support ALPN?","body":"<p>Something like the following should/could work on JDK9. But it's hard to test as it's effectively a broken server.</p>\n<pre><code>  val sslSocketFactory = context.socketFactory\n  val wrapped = object : DelegatingSSLSocketFactory(sslSocketFactory) {\n    override fun configureSocket(sslSocket: SSLSocket): SSLSocket {\n      return object : DelegatingSSLSocket(sslSocket) {\n        override fun getApplicationProtocol(): String {\n          return &quot;h2&quot;\n        }\n      }\n    }\n  }\n\n  val client = OkHttpClient.Builder()\n    .sslSocketFactory(wrapped, trustManager)\n    .build()\n\n  val response = client.newCall(Request.Builder().url(&quot;https://api.twitter.com/&quot;).build()).execute()\n  println(response.protocol)\n</code></pre>\n<p>You can grab the delegating socket factory here <a href=\"https://github.com/square/okhttp/blob/c1a6dec505a62af07e4c117e777302bd136e107f/okhttp-testing-support/src/main/kotlin/okhttp3/DelegatingSSLSocketFactory.kt\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/c1a6dec505a62af07e4c117e777302bd136e107f/okhttp-testing-support/src/main/kotlin/okhttp3/DelegatingSSLSocketFactory.kt</a></p>\n<p>But on different JVMs, or different Android versions this may work differently.</p>\n<p>It's the reason we have adapters for different socket types like Android10SocketAdapter.kt, ConscryptSocketAdapter.kt etc.</p>\n<p><a href=\"https://github.com/square/okhttp/blob/3ad1912f783e108b3d0ad2c4a5b1b89b827e4db9/okhttp/src/jvmMain/kotlin/okhttp3/internal/platform/android/SocketAdapter.kt#L35\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/3ad1912f783e108b3d0ad2c4a5b1b89b827e4db9/okhttp/src/jvmMain/kotlin/okhttp3/internal/platform/android/SocketAdapter.kt#L35</a></p>\n"}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643225666,"creation_date":1643118846,"question_id":70849839,"body_markdown":"I&#39;m using OkHttpClient 3.14.9. I need to establish connection using TLSv1.3 and http2 protocols. The problem is that server does not support ALPN (OkHttpClient uses this extention to establish with server which version of http protocol to use).\r\n\r\nOn server side http1.1 is disabled, only http2 enabled. Client does not succeed to establish connection. When server enables http1.1, my client connects to server via http1.1. \r\n\r\nAs I understand, it means that there is no negotiation between client and server about http version: client is trying to negotiate via ALPN -&gt; server does not &quot;understand&quot; client -&gt; client think that server does not support http2 and try to connect with http1.1\r\n\r\nSo, if not ALPN, is there any other way for OkHttpClient to establish TLS connection via http2? (important that connection is TLS, because without TLS `Protocol.H2_PRIOR_KNOWLEDGE` works good)","title":"How OkHttpClient can establish TLS connection via http2 with server that does not support ALPN?","body":"<p>I'm using OkHttpClient 3.14.9. I need to establish connection using TLSv1.3 and http2 protocols. The problem is that server does not support ALPN (OkHttpClient uses this extention to establish with server which version of http protocol to use).</p>\n<p>On server side http1.1 is disabled, only http2 enabled. Client does not succeed to establish connection. When server enables http1.1, my client connects to server via http1.1.</p>\n<p>As I understand, it means that there is no negotiation between client and server about http version: client is trying to negotiate via ALPN -&gt; server does not &quot;understand&quot; client -&gt; client think that server does not support http2 and try to connect with http1.1</p>\n<p>So, if not ALPN, is there any other way for OkHttpClient to establish TLS connection via http2? (important that connection is TLS, because without TLS <code>Protocol.H2_PRIOR_KNOWLEDGE</code> works good)</p>\n"},{"tags":["java","scala","jdbc","doobie"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1643367762,"post_id":70868971,"comment_id":125326575,"body_markdown":"For reference, see the PostgreSQL JDBC documentation, section [Connecting to the Database](https://jdbc.postgresql.org/documentation/head/connect.html).","body":"For reference, see the PostgreSQL JDBC documentation, section <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\">Connecting to the Database</a>."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643224519,"creation_date":1643224519,"answer_id":70869041,"question_id":70868971,"body_markdown":"The port is part of the connection url:\r\n\r\n    val xa = Transactor.fromDriverManager[IO](\r\n      &quot;org.postgresql.Driver&quot;,     // driver classname\r\n      &quot;jdbc:postgresql://localhost:5432/world&quot;,     // connect URL (driver-specific)\r\n      &quot;user&quot;,                  // user\r\n      &quot;password&quot;                           // password\r\n\r\n","title":"How to set port number in doobie database url?","body":"<p>The port is part of the connection url:</p>\n<pre><code>val xa = Transactor.fromDriverManager[IO](\n  &quot;org.postgresql.Driver&quot;,     // driver classname\n  &quot;jdbc:postgresql://localhost:5432/world&quot;,     // connect URL (driver-specific)\n  &quot;user&quot;,                  // user\n  &quot;password&quot;                           // password\n</code></pre>\n"}],"owner":{"account_id":928003,"reputation":811,"user_id":958377,"display_name":"PokerFace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70869041,"answer_count":1,"score":-1,"last_activity_date":1643224519,"creation_date":1643224090,"question_id":70868971,"body_markdown":"My Postgresql-server is running on port 6000 (not the default port 5432).\r\nHow can I set put this port number into doobie jdbc url?\r\n\r\n    val xa = Transactor.fromDriverManager[IO](\r\n      &quot;org.postgresql.Driver&quot;,     // driver classname\r\n      &quot;jdbc:postgresql:databasename&quot;,     // connect URL (driver-specific)\r\n      &quot;user&quot;,                  // user\r\n      &quot;password&quot;                           // password\r\n\r\nThis is the error message:\r\n\r\n    [info] - should success *** FAILED ***\r\n    [info]   org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\r\n","title":"How to set port number in doobie database url?","body":"<p>My Postgresql-server is running on port 6000 (not the default port 5432).\nHow can I set put this port number into doobie jdbc url?</p>\n<pre><code>val xa = Transactor.fromDriverManager[IO](\n  &quot;org.postgresql.Driver&quot;,     // driver classname\n  &quot;jdbc:postgresql:databasename&quot;,     // connect URL (driver-specific)\n  &quot;user&quot;,                  // user\n  &quot;password&quot;                           // password\n</code></pre>\n<p>This is the error message:</p>\n<pre><code>[info] - should success *** FAILED ***\n[info]   org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643224054,"creation_date":1643224054,"answer_id":70868961,"question_id":70866976,"body_markdown":"Spring Boot Actuator&#39;s `/metrics` endpoint does not support percentiles (it uses `SimpleMeterRegistry` under the hood).\r\nThis is mostly because this endpoint is not meant to be used to pull production metrics from it, it is just for informational/debugging purposes.\r\n\r\nYou can add a &quot;real&quot; registry and you should see the percentiles (e.g.: Prometheus: `/actuator/prometheus`).\r\n","title":"Exposing percentile values of micrometer timer in springboot /metrics","body":"<p>Spring Boot Actuator's <code>/metrics</code> endpoint does not support percentiles (it uses <code>SimpleMeterRegistry</code> under the hood).\nThis is mostly because this endpoint is not meant to be used to pull production metrics from it, it is just for informational/debugging purposes.</p>\n<p>You can add a &quot;real&quot; registry and you should see the percentiles (e.g.: Prometheus: <code>/actuator/prometheus</code>).</p>\n"}],"owner":{"account_id":4870541,"reputation":822,"user_id":3992452,"accept_rate":48,"display_name":"user168983"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4089,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1643224054,"creation_date":1643214917,"question_id":70866976,"body_markdown":"I currently have a spring boot 2.4.0 project which exposes metrics with /metrics/custom-timer, I created a custom timer but it only gives some values but not the percentiles.\r\n\r\n```{\r\n    &quot;name&quot;: &quot;custom-timer&quot;,\r\n    &quot;description&quot;: null,\r\n    &quot;base_unit&quot;: &quot;seconds&quot;,\r\n    &quot;measurements&quot;: [\r\n        {\r\n            &quot;statistic&quot;: &quot;COUNT&quot;,\r\n            &quot;value&quot;: 1000.0\r\n        },\r\n        {\r\n            &quot;statistic&quot;: &quot;TOTAL_TIME&quot;,\r\n            &quot;value&quot;: 100000.0\r\n        },\r\n        {\r\n            &quot;statistic&quot;: &quot;MAX&quot;,\r\n            &quot;value&quot;: 100.0\r\n        }\r\n    ],\r\n    &quot;available_tags&quot;: []\r\n}\r\n```\r\n\r\nI initiated the custom timer as \r\n\r\n```        \r\nsummary =  Timer.builder(&quot;custom-timer&quot;)\r\n                .publishPercentileHistogram(true)\r\n                .publishPercentiles(0.3, 0.5, 0.95)\r\n                .register(Metrics.globalRegistry);\r\n```\r\nHow to get the percentile values in metrics endpoint?","title":"Exposing percentile values of micrometer timer in springboot /metrics","body":"<p>I currently have a spring boot 2.4.0 project which exposes metrics with /metrics/custom-timer, I created a custom timer but it only gives some values but not the percentiles.</p>\n<pre><code>    &quot;name&quot;: &quot;custom-timer&quot;,\n    &quot;description&quot;: null,\n    &quot;base_unit&quot;: &quot;seconds&quot;,\n    &quot;measurements&quot;: [\n        {\n            &quot;statistic&quot;: &quot;COUNT&quot;,\n            &quot;value&quot;: 1000.0\n        },\n        {\n            &quot;statistic&quot;: &quot;TOTAL_TIME&quot;,\n            &quot;value&quot;: 100000.0\n        },\n        {\n            &quot;statistic&quot;: &quot;MAX&quot;,\n            &quot;value&quot;: 100.0\n        }\n    ],\n    &quot;available_tags&quot;: []\n}\n</code></pre>\n<p>I initiated the custom timer as</p>\n<pre><code>summary =  Timer.builder(&quot;custom-timer&quot;)\n                .publishPercentileHistogram(true)\n                .publishPercentiles(0.3, 0.5, 0.95)\n                .register(Metrics.globalRegistry);\n</code></pre>\n<p>How to get the percentile values in metrics endpoint?</p>\n"},{"tags":["java","intellij-idea","switch-statement","pattern-matching"],"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1643213098,"post_id":70866406,"comment_id":125280800,"body_markdown":"@OHGODSPIDERS To my knowledge you don&#39;t have to use `break statements` in a `pattern matching switch`. I also read a tutorial about [pattern matching switches](https://www.baeldung.com/java-switch-pattern-matching) from baeldung and he isn&#39;t using any `break` statements in his `switch` examples either.","body":"@OHGODSPIDERS To my knowledge you don&#39;t have to use <code>break statements</code> in a <code>pattern matching switch</code>. I also read a tutorial about <a href=\"https://www.baeldung.com/java-switch-pattern-matching\" rel=\"nofollow noreferrer\">pattern matching switches</a> from baeldung and he isn&#39;t using any <code>break</code> statements in his <code>switch</code> examples either."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1643213338,"post_id":70866406,"comment_id":125280913,"body_markdown":"Ah, yes. Forget what i said. I misread the code.","body":"Ah, yes. Forget what i said. I misread the code."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1643213988,"post_id":70866406,"comment_id":125281222,"body_markdown":"What is `object`?","body":"What is <code>object</code>?"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1643216136,"post_id":70866406,"comment_id":125282284,"body_markdown":"`object` is of type `Object` @Seelenvirtuose","body":"<code>object</code> is of type <code>Object</code> @Seelenvirtuose"},{"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"score":0,"creation_date":1643269013,"post_id":70866406,"comment_id":125295718,"body_markdown":"Please create an issue at the YouTrack: https://youtrack.jetbrains.com/issues/IDEA providing the code sample. Thank you","body":"Please create an issue at the YouTrack: <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> providing the code sample. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":15732107,"reputation":71,"user_id":13718790,"display_name":"Jeremy Dsilva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643223864,"creation_date":1643223864,"answer_id":70868934,"question_id":70866406,"body_markdown":"Your switch statement looks correct. Based solely on the IntelliJ warning, it seems like all your individual cases statements return a null value. As you mention when you change the default to an empty string the warning disappears as now all the case statements do not return null values. \r\n\r\nAdditionally, when dealing with nulls you could always use Optional values.","title":"Switch pattern matching for instanceof returns always null","body":"<p>Your switch statement looks correct. Based solely on the IntelliJ warning, it seems like all your individual cases statements return a null value. As you mention when you change the default to an empty string the warning disappears as now all the case statements do not return null values.</p>\n<p>Additionally, when dealing with nulls you could always use Optional values.</p>\n"}],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643223864,"creation_date":1643212745,"question_id":70866406,"body_markdown":"I am trying to assign the result of the following `instanceof pattern matching switch` to the variable `languageCodeOfReturnValue`.\r\n\r\n        String languageCodeOfReturnValue = switch (object){\r\n                    case PlantGuidePageWrapperDTO plantGuidePageWrapperDTO -&gt; plantGuidePageWrapperDTO.getSeedDetailsDTO().getPageSummaryLanguageCode();\r\n                    case JournalEntryDetailsDTO journalEntryDetailsDTO -&gt; journalEntryDetailsDTO.getLanguageCode();\r\n                    case JournalOverviewDTO journalOverviewDTO -&gt; journalOverviewDTO.getPageSummaryLanguageCode();\r\n                    default -&gt; null;\r\n        };\r\n\r\n\r\nBut this code causes the following warning: \r\n\r\n&gt; Value &#39;switch (object){ case PlantGuidePageWrapperDTO\r\n&gt; plantGuidePageWrapperDTO -&gt; plant...&#39; is always &#39;null&#39;\r\n\r\nWhen i remove the `default` clause the warning disappears but then i&#39;m left with a syntax error because then the `switch` doesn&#39;t cover all possible values. The warning disappears when i replace `null` with and empty string `&#39;&#39;`. However i really want the default value to be `null`.\r\n\r\nSo my question is twofold: **First, why is the switch statement result always null when i return a null value in the default case. And second, What then is the proper way to return a `null` value when none of the patterns match?**\r\n\r\nThank you\r\n\r\nEDIT: I am using Intellij IDEA as IDE. Perhaps its an inellij IDEA bug?","title":"Switch pattern matching for instanceof returns always null","body":"<p>I am trying to assign the result of the following <code>instanceof pattern matching switch</code> to the variable <code>languageCodeOfReturnValue</code>.</p>\n<pre><code>    String languageCodeOfReturnValue = switch (object){\n                case PlantGuidePageWrapperDTO plantGuidePageWrapperDTO -&gt; plantGuidePageWrapperDTO.getSeedDetailsDTO().getPageSummaryLanguageCode();\n                case JournalEntryDetailsDTO journalEntryDetailsDTO -&gt; journalEntryDetailsDTO.getLanguageCode();\n                case JournalOverviewDTO journalOverviewDTO -&gt; journalOverviewDTO.getPageSummaryLanguageCode();\n                default -&gt; null;\n    };\n</code></pre>\n<p>But this code causes the following warning:</p>\n<blockquote>\n<p>Value 'switch (object){ case PlantGuidePageWrapperDTO\nplantGuidePageWrapperDTO -&gt; plant...' is always 'null'</p>\n</blockquote>\n<p>When i remove the <code>default</code> clause the warning disappears but then i'm left with a syntax error because then the <code>switch</code> doesn't cover all possible values. The warning disappears when i replace <code>null</code> with and empty string <code>''</code>. However i really want the default value to be <code>null</code>.</p>\n<p>So my question is twofold: <strong>First, why is the switch statement result always null when i return a null value in the default case. And second, What then is the proper way to return a <code>null</code> value when none of the patterns match?</strong></p>\n<p>Thank you</p>\n<p>EDIT: I am using Intellij IDEA as IDE. Perhaps its an inellij IDEA bug?</p>\n"},{"tags":["java","image","base64","decode","encode"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":91,"is_accepted":true,"score":91,"last_activity_date":1643223737,"creation_date":1388654287,"answer_id":20879694,"question_id":20879639,"body_markdown":"Assuming the image data is already in the format you want, you don&#39;t need `ImageIO` at all - you just need to write the data to the file:\r\n\r\n    // Note preferred way of declaring an array variable\r\n    byte[] data = Base64.decodeBase64(crntImage);\r\n    try (OutputStream stream = new FileOutputStream(&quot;c:/decode/abc.bmp&quot;)) {\r\n        stream.write(data);\r\n    }\r\n\r\n(I&#39;m assuming you&#39;re using Java 7 here - if not, you&#39;ll need to write a manual try/finally statement to close the stream.)\r\n\r\nIf the image data *isn&#39;t* in the format you want, you&#39;ll need to give more details.\r\n","title":"Write Base64-encoded image to file","body":"<p>Assuming the image data is already in the format you want, you don't need <code>ImageIO</code> at all - you just need to write the data to the file:</p>\n<pre><code>// Note preferred way of declaring an array variable\nbyte[] data = Base64.decodeBase64(crntImage);\ntry (OutputStream stream = new FileOutputStream(&quot;c:/decode/abc.bmp&quot;)) {\n    stream.write(data);\n}\n</code></pre>\n<p>(I'm assuming you're using Java 7 here - if not, you'll need to write a manual try/finally statement to close the stream.)</p>\n<p>If the image data <em>isn't</em> in the format you want, you'll need to give more details.</p>\n"},{"tags":[],"owner":{"account_id":2158159,"reputation":200,"user_id":1912922,"display_name":"Jamel ESSOUSSI"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1388654307,"creation_date":1388654307,"answer_id":20879698,"question_id":20879639,"body_markdown":"Try this:\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import javax.imageio.ImageIO;\r\n     \r\n    public class WriteImage \r\n    {\t\r\n        public static void main( String[] args )\r\n        {\r\n        \tBufferedImage image = null;\r\n            try {\r\n     \r\n                URL url = new URL(&quot;URL_IMAGE&quot;);\r\n                image = ImageIO.read(url);\r\n     \r\n                ImageIO.write(image, &quot;jpg&quot;,new File(&quot;C:\\\\out.jpg&quot;));\r\n                ImageIO.write(image, &quot;gif&quot;,new File(&quot;C:\\\\out.gif&quot;));\r\n                ImageIO.write(image, &quot;png&quot;,new File(&quot;C:\\\\out.png&quot;));\r\n     \r\n            } catch (IOException e) {\r\n            \te.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n    }","title":"Write Base64-encoded image to file","body":"<p>Try this:</p>\n\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\nimport javax.imageio.ImageIO;\n\npublic class WriteImage \n{   \n    public static void main( String[] args )\n    {\n        BufferedImage image = null;\n        try {\n\n            URL url = new URL(\"URL_IMAGE\");\n            image = ImageIO.read(url);\n\n            ImageIO.write(image, \"jpg\",new File(\"C:\\\\out.jpg\"));\n            ImageIO.write(image, \"gif\",new File(\"C:\\\\out.gif\"));\n            ImageIO.write(image, \"png\",new File(\"C:\\\\out.png\"));\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"Done\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1353291,"reputation":625,"user_id":1292192,"accept_rate":33,"display_name":"KaviK"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1439476233,"creation_date":1388654793,"answer_id":20879816,"question_id":20879639,"body_markdown":"No need to use BufferedImage, as you already have the image file in a byte array     \r\n \r\n\r\n        byte dearr[] = Base64.decodeBase64(crntImage);\r\n        FileOutputStream fos = new FileOutputStream(new File(&quot;c:/decode/abc.bmp&quot;)); \r\n\t\tfos.write(dearr); \r\n\t\tfos.close();","title":"Write Base64-encoded image to file","body":"<p>No need to use BufferedImage, as you already have the image file in a byte array     </p>\n\n<pre><code>    byte dearr[] = Base64.decodeBase64(crntImage);\n    FileOutputStream fos = new FileOutputStream(new File(\"c:/decode/abc.bmp\")); \n    fos.write(dearr); \n    fos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":86793,"reputation":379,"user_id":2108761,"display_name":"Fabio De Carli"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1451478837,"creation_date":1451478837,"answer_id":34529662,"question_id":20879639,"body_markdown":"Other option using apache-commons:\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n    import org.apache.commons.io.FileUtils;\r\n\r\n    ...\r\n    File file = new File( &quot;path&quot; );\r\n    byte[] bytes = Base64.decodeBase64( &quot;base64&quot; );\r\n    FileUtils.writeByteArrayToFile( file, bytes );","title":"Write Base64-encoded image to file","body":"<p>Other option using apache-commons:</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.io.FileUtils;\n\n...\nFile file = new File( \"path\" );\nbyte[] bytes = Base64.decodeBase64( \"base64\" );\nFileUtils.writeByteArrayToFile( file, bytes );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1561708274,"creation_date":1477162636,"answer_id":40195877,"question_id":20879639,"body_markdown":"# With Java 8&#39;s [`Base64`][1] API\n\n    byte[] decodedImg = Base64.getDecoder()\n                        .decode(encodedImg.getBytes(StandardCharsets.UTF_8));\n    Path destinationFile = Paths.get(&quot;/path/to/imageDir&quot;, &quot;myImage.jpg&quot;);\n    Files.write(destinationFile, decodedImg);\n\n\nIf your encoded image starts with something like `data:image/png;base64,iVBORw0...`, you&#39;ll have to remove the part. See [this answer][2] for an easy way to do that.\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\n  [2]: https://stackoverflow.com/questions/23979842/convert-base64-string-to-image#23979996\n","title":"Write Base64-encoded image to file","body":"<h1>With Java 8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"noreferrer\"><code>Base64</code></a> API</h1>\n<pre><code>byte[] decodedImg = Base64.getDecoder()\n                    .decode(encodedImg.getBytes(StandardCharsets.UTF_8));\nPath destinationFile = Paths.get(&quot;/path/to/imageDir&quot;, &quot;myImage.jpg&quot;);\nFiles.write(destinationFile, decodedImg);\n</code></pre>\n<p>If your encoded image starts with something like <code>data:image/png;base64,iVBORw0...</code>, you'll have to remove the part. See <a href=\"https://stackoverflow.com/questions/23979842/convert-base64-string-to-image#23979996\">this answer</a> for an easy way to do that.</p>\n"},{"tags":[],"owner":{"account_id":2278572,"reputation":1733,"user_id":2004265,"display_name":"DAB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542894127,"creation_date":1542894127,"answer_id":53432305,"question_id":20879639,"body_markdown":"    import java.util.Base64;\r\n\r\n.... Just making it clear that this answer uses the java.util.Base64 package, without using any third-party libraries.\r\n\r\n    String crntImage=&lt;a valid base 64 string&gt;\r\n\r\n    byte[] data = Base64.getDecoder().decode(crntImage);\r\n        \r\n    try( OutputStream stream = new FileOutputStream(&quot;d:/temp/abc.pdf&quot;) ) \r\n    {\r\n       stream.write(data);\r\n    }\r\n    catch (Exception e) \r\n    {\r\n       System.err.println(&quot;Couldn&#39;t write to file...&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Write Base64-encoded image to file","body":"<pre><code>import java.util.Base64;\n</code></pre>\n\n<p>.... Just making it clear that this answer uses the java.util.Base64 package, without using any third-party libraries.</p>\n\n<pre><code>String crntImage=&lt;a valid base 64 string&gt;\n\nbyte[] data = Base64.getDecoder().decode(crntImage);\n\ntry( OutputStream stream = new FileOutputStream(\"d:/temp/abc.pdf\") ) \n{\n   stream.write(data);\n}\ncatch (Exception e) \n{\n   System.err.println(\"Couldn't write to file...\");\n}\n</code></pre>\n"}],"owner":{"account_id":3388387,"reputation":3408,"user_id":2843856,"accept_rate":58,"display_name":"DCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192590,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":20879694,"answer_count":6,"score":60,"last_activity_date":1643223737,"creation_date":1388654039,"question_id":20879639,"body_markdown":"How to write a Base64-encoded image to file?\r\n\r\nI have encoded an image to a string using Base64.\r\nFirst, I read the file, then convert it to a byte array and then apply Base64 encoding to convert the image to a string.\r\n\r\nNow my problem is how to decode it.\r\n\r\n    byte dearr[] = Base64.decodeBase64(crntImage);\r\n    File outF = new File(&quot;c:/decode/abc.bmp&quot;);\r\n    BufferedImage img02 = ImageIO.write(img02, &quot;bmp&quot;, outF); \r\n\r\nThe variable `crntImage` contains the string representation of the image.\r\n","title":"Write Base64-encoded image to file","body":"<p>How to write a Base64-encoded image to file?</p>\n\n<p>I have encoded an image to a string using Base64.\nFirst, I read the file, then convert it to a byte array and then apply Base64 encoding to convert the image to a string.</p>\n\n<p>Now my problem is how to decode it.</p>\n\n<pre><code>byte dearr[] = Base64.decodeBase64(crntImage);\nFile outF = new File(\"c:/decode/abc.bmp\");\nBufferedImage img02 = ImageIO.write(img02, \"bmp\", outF); \n</code></pre>\n\n<p>The variable <code>crntImage</code> contains the string representation of the image.</p>\n"},{"tags":["java","spring-boot","properties","fileoutputstream"],"comments":[{"owner":{"account_id":7523221,"reputation":66,"user_id":10025174,"display_name":"Artem Evdokimov"},"score":1,"creation_date":1643223596,"post_id":70868581,"comment_id":125285318,"body_markdown":"I&#39;ve found similar question. May this helps you https://stackoverflow.com/questions/10699055/how-do-you-escape-colon-in-properties-file","body":"I&#39;ve found similar question. May this helps you <a href=\"https://stackoverflow.com/questions/10699055/how-do-you-escape-colon-in-properties-file\" title=\"how do you escape colon in properties file\">stackoverflow.com/questions/10699055/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1643224591,"post_id":70868581,"comment_id":125285679,"body_markdown":"This is just how Java properties are stored, with the escapes.  If you don&#39;t want the escapes, then using Java properties isn&#39;t the way you should be doing it.","body":"This is just how Java properties are stored, with the escapes.  If you don&#39;t want the escapes, then using Java properties isn&#39;t the way you should be doing it."},{"owner":{"account_id":3311051,"reputation":551,"user_id":2784563,"accept_rate":86,"display_name":"Despotars"},"score":0,"creation_date":1645107083,"post_id":70868581,"comment_id":125786887,"body_markdown":"Hi @Atryom, my problem here is that after adapt my code like you show me in that post, now when saving a property, Java is interpreting the property and if it finds \\n it does a line break and saves a new property , do you know the way to fix that?","body":"Hi @Atryom, my problem here is that after adapt my code like you show me in that post, now when saving a property, Java is interpreting the property and if it finds \\n it does a line break and saves a new property , do you know the way to fix that?"},{"owner":{"account_id":7523221,"reputation":66,"user_id":10025174,"display_name":"Artem Evdokimov"},"score":0,"creation_date":1645123663,"post_id":70868581,"comment_id":125793904,"body_markdown":"I didn&#39;t quite catch. Are you trying to save a property, which name or value contains `\\n` ?\nIf you have updated your code, could you please update the question as well","body":"I didn&#39;t quite catch. Are you trying to save a property, which name or value contains <code>\\n</code> ? If you have updated your code, could you please update the question as well"}],"owner":{"account_id":3311051,"reputation":551,"user_id":2784563,"accept_rate":86,"display_name":"Despotars"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643223359,"creation_date":1643222006,"question_id":70868581,"body_markdown":"I have this function to save in a file my properties:\r\n\r\n     void saveProperties(Properties properties) {\r\n        File file = new File(&quot;C:\\\\Files\\\\new.properties&quot;);\r\n        FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n        properties.store(fileOutputStream, &quot;Properties&quot;);\r\n    }\r\n\r\nMy problem is that when I want to save in a file the properties below using my function:\r\n\r\n    myPropertieTest1=Hi : friend\r\n    myPropertieTest2=#Bye\r\n    myPropertieTest3=!#:\r\n\r\nMy code added an escape character like this:\r\n\r\n    myPropertieTest=Hi \\: friend\r\n    myPropertieTest2=\\#Bye\r\n    myPropertieTest3=\\!\\#\\:\r\n\r\nHow can I fix this? I need to save the properties as the originals (without the escape characters)","title":"properties.store using FileOutputStream is adding an escaping character","body":"<p>I have this function to save in a file my properties:</p>\n<pre><code> void saveProperties(Properties properties) {\n    File file = new File(&quot;C:\\\\Files\\\\new.properties&quot;);\n    FileOutputStream fileOutputStream = new FileOutputStream(file);\n    properties.store(fileOutputStream, &quot;Properties&quot;);\n}\n</code></pre>\n<p>My problem is that when I want to save in a file the properties below using my function:</p>\n<pre><code>myPropertieTest1=Hi : friend\nmyPropertieTest2=#Bye\nmyPropertieTest3=!#:\n</code></pre>\n<p>My code added an escape character like this:</p>\n<pre><code>myPropertieTest=Hi \\: friend\nmyPropertieTest2=\\#Bye\nmyPropertieTest3=\\!\\#\\:\n</code></pre>\n<p>How can I fix this? I need to save the properties as the originals (without the escape characters)</p>\n"},{"tags":["java","latitude-longitude"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1291119436,"post_id":4313618,"comment_id":4684744,"body_markdown":"northing and easting from what point? Are you using http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system , or just what?","body":"northing and easting from what point? Are you using <a href=\"http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a> , or just what?"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1311096552,"creation_date":1291119840,"answer_id":4313695,"question_id":4313618,"body_markdown":"I&#39;m assuming you mean UK OSGB easting and northings. The trigonometry behind this one is hilarious, but you can use the [JCoord][1] library for this, it makes it easy (if quite CPU intensive).\r\n\r\n\r\n----------\r\n\r\nTo follow up on @DD&#39;s comments below, there is a gotcha with JCoord, in that you have to make sure you&#39;re using the correct datum when converting from Easting/Northing to Lat/Long, and vice versa.\r\n\r\nTake @DD&#39;s code:\r\n\r\n    LatLng latLng = new OSRef(394251,806376).toLatLng();\r\n\r\nThis will return a Lat/Long which uses the OSGB36 datum, i.e. the &quot;flat earth&quot; approximation used on UK maps. This is substantially different to the WSG84 datum used in most applications (including Streetmap), which models the world as a sphere (more or less).\r\n\r\nIn order to convert to a WGS84 lat/long, you need to make it explicit:\r\n\r\n    LatLng latLng = new OSRef(394251,806376).toLatLng();\r\n    latLng.toWGS84();\r\n\r\nThis will adjust the lat-long to the correct datum.\r\n\r\nNote that the [javadoc][2] for `OsRef.toLatLng()` is very clear about this:\r\n\r\n&gt;Convert this OSGB grid reference to a latitude/longitude pair using the OSGB36 datum. Note that, the LatLng object may need to be converted to the WGS84 datum depending on the application\r\n\r\nConversion between coordinate datum is not simple. If it looks simple, you&#39;re likely doing it wrong.\r\n\r\n\r\n  [1]: http://www.jstott.me.uk/jcoord/\r\n  [2]: http://www.jstott.me.uk/jcoord/api/1.1-b/uk/me/jstott/jcoord/OSRef.html#toLatLng%28%29","title":"convert latitude and longitude to northing and easting in java?","body":"<p>I'm assuming you mean UK OSGB easting and northings. The trigonometry behind this one is hilarious, but you can use the <a href=\"http://www.jstott.me.uk/jcoord/\">JCoord</a> library for this, it makes it easy (if quite CPU intensive).</p>\n\n<hr>\n\n<p>To follow up on @DD's comments below, there is a gotcha with JCoord, in that you have to make sure you're using the correct datum when converting from Easting/Northing to Lat/Long, and vice versa.</p>\n\n<p>Take @DD's code:</p>\n\n<pre><code>LatLng latLng = new OSRef(394251,806376).toLatLng();\n</code></pre>\n\n<p>This will return a Lat/Long which uses the OSGB36 datum, i.e. the \"flat earth\" approximation used on UK maps. This is substantially different to the WSG84 datum used in most applications (including Streetmap), which models the world as a sphere (more or less).</p>\n\n<p>In order to convert to a WGS84 lat/long, you need to make it explicit:</p>\n\n<pre><code>LatLng latLng = new OSRef(394251,806376).toLatLng();\nlatLng.toWGS84();\n</code></pre>\n\n<p>This will adjust the lat-long to the correct datum.</p>\n\n<p>Note that the <a href=\"http://www.jstott.me.uk/jcoord/api/1.1-b/uk/me/jstott/jcoord/OSRef.html#toLatLng%28%29\">javadoc</a> for <code>OsRef.toLatLng()</code> is very clear about this:</p>\n\n<blockquote>\n  <p>Convert this OSGB grid reference to a latitude/longitude pair using the OSGB36 datum. Note that, the LatLng object may need to be converted to the WGS84 datum depending on the application</p>\n</blockquote>\n\n<p>Conversion between coordinate datum is not simple. If it looks simple, you're likely doing it wrong.</p>\n"},{"tags":[],"owner":{"account_id":90708,"reputation":21648,"user_id":249571,"accept_rate":74,"display_name":"DD."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1311096911,"creation_date":1311095651,"answer_id":6751197,"question_id":4313618,"body_markdown":"Try GeoTools:\r\n\t\r\n\r\n\t       CRSAuthorityFactory crsFac = ReferencingFactoryFinder\r\n\t\t.getCRSAuthorityFactory(&quot;EPSG&quot;, null);\r\n\r\n\t\tCoordinateReferenceSystem wgs84crs = crsFac\r\n\t\t\t\t.createCoordinateReferenceSystem(&quot;4326&quot;);\r\n\t\tCoordinateReferenceSystem osgbCrs = crsFac\r\n\t\t\t\t.createCoordinateReferenceSystem(&quot;27700&quot;);\r\n\r\n\t\tCoordinateOperation op = new DefaultCoordinateOperationFactory()\r\n\t\t\t\t.createOperation(osgbCrs, wgs84crs);\r\n\r\n\t\tDirectPosition eastNorth = new GeneralDirectPosition(easting, northing);\r\n\t\tDirectPosition latLng = op.getMathTransform().transform(eastNorth,\r\n\t\t\t\teastNorth);\r\n\r\n\t\t\r\n\t\tdouble latitude=latLng.getOrdinate(0);\r\n\t\tdouble longitude=latLng.getOrdinate(1);\r\n\t\t\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gt-main&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gt-xml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"convert latitude and longitude to northing and easting in java?","body":"<p>Try GeoTools:</p>\n\n<pre><code>       CRSAuthorityFactory crsFac = ReferencingFactoryFinder\n    .getCRSAuthorityFactory(\"EPSG\", null);\n\n    CoordinateReferenceSystem wgs84crs = crsFac\n            .createCoordinateReferenceSystem(\"4326\");\n    CoordinateReferenceSystem osgbCrs = crsFac\n            .createCoordinateReferenceSystem(\"27700\");\n\n    CoordinateOperation op = new DefaultCoordinateOperationFactory()\n            .createOperation(osgbCrs, wgs84crs);\n\n    DirectPosition eastNorth = new GeneralDirectPosition(easting, northing);\n    DirectPosition latLng = op.getMathTransform().transform(eastNorth,\n            eastNorth);\n\n\n    double latitude=latLng.getOrdinate(0);\n    double longitude=latLng.getOrdinate(1);\n</code></pre>\n\n<hr>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n        &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\n        &lt;version&gt;${geotools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n        &lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt;\n        &lt;version&gt;${geotools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n        &lt;artifactId&gt;gt-xml&lt;/artifactId&gt;\n        &lt;version&gt;${geotools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16902,"reputation":2091,"user_id":37309,"accept_rate":80,"display_name":"Chad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643223094,"creation_date":1643223094,"answer_id":70868783,"question_id":4313618,"body_markdown":"If you don&#39;t feel like pulling in GeoTools and you discover JCoord is no longer available in Maven central, there&#39;s a small library for converting OSGB (UK&#39;s Easting/Northing) into WGS84 from DSTL: https://github.com/dstl/osgb\r\n\r\nAdapted from the README:\r\n\r\n```java\r\nimport uk.gov.dstl.geo.osgb.Constants;\r\nimport uk.gov.dstl.geo.osgb.EastingNorthingConversion;\r\nimport uk.gov.dstl.geo.osgb.OSGB36;\r\n\r\n// ...\r\n\r\n//Convert from Easting and Northing into Cartesian Coordinates (LatLon)\r\ndouble[] latlonOSGB38 = EastingNorthingConversion.toLatLon(\r\n      new double[]{ easting, northing },\r\n      Constants.ELLIPSOID_AIRY1830_MAJORAXIS,\r\n      Constants.ELLIPSOID_AIRY1830_MINORAXIS,\r\n      Constants.NATIONALGRID_N0,\r\n      Constants.NATIONALGRID_E0,\r\n      Constants.NATIONALGRID_F0,\r\n      Constants.NATIONALGRID_LAT0,\r\n      Constants.NATIONALGRID_LON0);\r\n \r\n//Convert from LatLon (OSGB) to WGS84\r\ndouble[] latlonWGS84 = OSGB36.toWGS84(latlonOSGB38[0], latlonOSGB38[1]);\r\n```\r\n\r\n","title":"convert latitude and longitude to northing and easting in java?","body":"<p>If you don't feel like pulling in GeoTools and you discover JCoord is no longer available in Maven central, there's a small library for converting OSGB (UK's Easting/Northing) into WGS84 from DSTL: <a href=\"https://github.com/dstl/osgb\" rel=\"nofollow noreferrer\">https://github.com/dstl/osgb</a></p>\n<p>Adapted from the README:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import uk.gov.dstl.geo.osgb.Constants;\nimport uk.gov.dstl.geo.osgb.EastingNorthingConversion;\nimport uk.gov.dstl.geo.osgb.OSGB36;\n\n// ...\n\n//Convert from Easting and Northing into Cartesian Coordinates (LatLon)\ndouble[] latlonOSGB38 = EastingNorthingConversion.toLatLon(\n      new double[]{ easting, northing },\n      Constants.ELLIPSOID_AIRY1830_MAJORAXIS,\n      Constants.ELLIPSOID_AIRY1830_MINORAXIS,\n      Constants.NATIONALGRID_N0,\n      Constants.NATIONALGRID_E0,\n      Constants.NATIONALGRID_F0,\n      Constants.NATIONALGRID_LAT0,\n      Constants.NATIONALGRID_LON0);\n \n//Convert from LatLon (OSGB) to WGS84\ndouble[] latlonWGS84 = OSGB36.toWGS84(latlonOSGB38[0], latlonOSGB38[1]);\n</code></pre>\n"}],"owner":{"account_id":237568,"reputation":5501,"user_id":505854,"accept_rate":27,"display_name":"Nadhas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8114,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4313695,"answer_count":3,"score":8,"last_activity_date":1643223094,"creation_date":1291119326,"question_id":4313618,"body_markdown":"how to convert latitude and longitude to northing and easting in Java?\r\n","title":"convert latitude and longitude to northing and easting in java?","body":"<p>how to convert latitude and longitude to northing and easting in Java?</p>\n"},{"tags":["java","spring-boot","heroku","scheduler"],"answers":[{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643222311,"creation_date":1643222311,"answer_id":70868642,"question_id":70866041,"body_markdown":"You can develop a simple `REST` endpoint like `/ping` or `/heath-check` to get the status.&lt;br/&gt;\r\n\r\nSample\r\n\r\n    @RestController\r\n    public class PingRestController {\r\n    \r\n      @RequestMapping(method = RequestMethod.GET, path = &quot;/api/ping&quot;)\r\n      public ResponseEntity&lt;String&gt; getPing() {\r\n        return ResponseEntity.ok(&quot;OK&quot;);\r\n      }\r\n    }\r\n\r\nAs `Spring-Boot` has already  `Actuator` support for health metrics, which you can call to check the status as well.\r\n[Example][1]\r\n\r\nI believe you might already configured a scheduler. If not, then you can refer the [link][2]\r\n\r\n\r\n  [1]: https://www.javatpoint.com/spring-boot-actuator\r\n  [2]: https://devcenter.heroku.com/articles/crontogo","title":"Spring Boot Rest API Scheduler Not Working on Heroku","body":"<p>You can develop a simple <code>REST</code> endpoint like <code>/ping</code> or <code>/heath-check</code> to get the status.<br/></p>\n<p>Sample</p>\n<pre><code>@RestController\npublic class PingRestController {\n\n  @RequestMapping(method = RequestMethod.GET, path = &quot;/api/ping&quot;)\n  public ResponseEntity&lt;String&gt; getPing() {\n    return ResponseEntity.ok(&quot;OK&quot;);\n  }\n}\n</code></pre>\n<p>As <code>Spring-Boot</code> has already  <code>Actuator</code> support for health metrics, which you can call to check the status as well.\n<a href=\"https://www.javatpoint.com/spring-boot-actuator\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>I believe you might already configured a scheduler. If not, then you can refer the <a href=\"https://devcenter.heroku.com/articles/crontogo\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":18770777,"reputation":3,"user_id":13687634,"display_name":"braveheartask123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70868642,"answer_count":1,"score":0,"last_activity_date":1643222311,"creation_date":1643211229,"question_id":70866041,"body_markdown":"I have deployed my Spring Boot Rest Api backend on Heroku Free Tier. The app has a Scheduled method that is supposed to be run once a day at 12PM. I know that Heroku free tier Dyno goes to sleep after 30mins of inactivity. So unless the dyno is active, the particular method doesn&#39;t run. I have confirmed that the method runs the way it is supposed to when the Dyno is active. I did a bit of a reasearch and found somewhat relavant answer here:\r\n\r\nhttps://stackoverflow.com/a/69683216/13687634\r\n\r\nThe answer suggests that, &quot;Define a logic and call the application&#39;s own endpoint in every 30 minutes. The scheduler will start working when the application is launched. Therefore you would guarantee that the application runs all the time.&quot;\r\nI have a couple of questions on this:\r\n1. What exactly the logic would be to call the end point? I believe Spring Boot Scheduling using Cron on a random controller method is not the right way?\r\n2. Heroku provides its own free Scheduler, but it doesn&#39;t guarrentee the Scheduler would run. So I am looking for the way to resolve it in the Api itself.\r\nAny help would be appreciated. ","title":"Spring Boot Rest API Scheduler Not Working on Heroku","body":"<p>I have deployed my Spring Boot Rest Api backend on Heroku Free Tier. The app has a Scheduled method that is supposed to be run once a day at 12PM. I know that Heroku free tier Dyno goes to sleep after 30mins of inactivity. So unless the dyno is active, the particular method doesn't run. I have confirmed that the method runs the way it is supposed to when the Dyno is active. I did a bit of a reasearch and found somewhat relavant answer here:</p>\n<p><a href=\"https://stackoverflow.com/a/69683216/13687634\">https://stackoverflow.com/a/69683216/13687634</a></p>\n<p>The answer suggests that, &quot;Define a logic and call the application's own endpoint in every 30 minutes. The scheduler will start working when the application is launched. Therefore you would guarantee that the application runs all the time.&quot;\nI have a couple of questions on this:</p>\n<ol>\n<li>What exactly the logic would be to call the end point? I believe Spring Boot Scheduling using Cron on a random controller method is not the right way?</li>\n<li>Heroku provides its own free Scheduler, but it doesn't guarrentee the Scheduler would run. So I am looking for the way to resolve it in the Api itself.\nAny help would be appreciated.</li>\n</ol>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1471919484,"post_id":39090815,"comment_id":65530468,"body_markdown":"how do you import the support library in your project?","body":"how do you import the support library in your project?"},{"owner":{"account_id":9058207,"reputation":11,"user_id":6745655,"display_name":"Yasmine Mohamed"},"score":0,"creation_date":1471957413,"post_id":39090815,"comment_id":65550546,"body_markdown":"Do you mean the path ? @njzk2","body":"Do you mean the path ? @njzk2"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1471959651,"post_id":39090815,"comment_id":65552313,"body_markdown":"what path? I mean what method do you use to include the support library in your build?","body":"what path? I mean what method do you use to include the support library in your build?"},{"owner":{"account_id":9058207,"reputation":11,"user_id":6745655,"display_name":"Yasmine Mohamed"},"score":0,"creation_date":1471963498,"post_id":39090815,"comment_id":65555441,"body_markdown":"import android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\nimport android.widget.TextView;","body":"import android.os.Bundle; import android.support.v7.app.AppCompatActivity; import android.view.View; import android.widget.TextView;"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1471966476,"post_id":39090815,"comment_id":65557601,"body_markdown":"not that part. How is the library included in your project?","body":"not that part. How is the library included in your project?"},{"owner":{"account_id":9058207,"reputation":11,"user_id":6745655,"display_name":"Yasmine Mohamed"},"score":0,"creation_date":1471968044,"post_id":39090815,"comment_id":65558728,"body_markdown":"sorry, i&#39;m very new to android. so, i don&#39;t understand what do you mean excactly :)","body":"sorry, i&#39;m very new to android. so, i don&#39;t understand what do you mean excactly :)"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1471970237,"post_id":39090815,"comment_id":65560104,"body_markdown":"do you use `compile` in gradle?","body":"do you use <code>compile</code> in gradle?"},{"owner":{"account_id":9058207,"reputation":11,"user_id":6745655,"display_name":"Yasmine Mohamed"},"score":0,"creation_date":1472084886,"post_id":39090815,"comment_id":65615090,"body_markdown":"@njzk2 \t\nyes, now i understand :). i use dependencies { compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;) compile &#39;com.android.support:appcompat-v7:24.1.1&#39;}","body":"@njzk2 \t yes, now i understand :). i use dependencies { compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;) compile &#39;com.android.support:appcompat-v7:24.1.1&#39;}"}],"answers":[{"tags":[],"owner":{"account_id":174038,"reputation":7931,"user_id":403146,"accept_rate":71,"display_name":"ShadowGod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471914697,"creation_date":1471914697,"answer_id":39090873,"question_id":39090815,"body_markdown":"The problem is that it&#39;s looking for a file named &quot;abc_ic_ab_back_material.xml&quot; in your res/drawable/ directory and it&#39;s not finding it. Make sure you have that file in that location.","title":"Android app unable to start activity componentinfo android.content.res.Resources$NotFound","body":"<p>The problem is that it's looking for a file named \"abc_ic_ab_back_material.xml\" in your res/drawable/ directory and it's not finding it. Make sure you have that file in that location.</p>\n"},{"tags":[],"owner":{"account_id":3333478,"reputation":186,"user_id":2801776,"display_name":"Cobain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471918734,"creation_date":1471918734,"answer_id":39091346,"question_id":39090815,"body_markdown":"The code you have pasted here did not have referenced the \r\n    \r\n    abc_ic_ab_back_material\r\n\r\n1. If you have used it in the other code, so find if you have the resource named **abc_ic_ab_back_material** under **res/drawable/**, if not found, just get one.\r\n2. If you did not have used it anywhere, just **clean** you project and **rebuild**.","title":"Android app unable to start activity componentinfo android.content.res.Resources$NotFound","body":"<p>The code you have pasted here did not have referenced the </p>\n\n<pre><code>abc_ic_ab_back_material\n</code></pre>\n\n<ol>\n<li>If you have used it in the other code, so find if you have the resource named <strong>abc_ic_ab_back_material</strong> under <strong>res/drawable/</strong>, if not found, just get one.</li>\n<li>If you did not have used it anywhere, just <strong>clean</strong> you project and <strong>rebuild</strong>.</li>\n</ol>\n"}],"owner":{"account_id":9058207,"reputation":11,"user_id":6745655,"display_name":"Yasmine Mohamed"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643222255,"creation_date":1471914029,"question_id":39090815,"body_markdown":"Here&#39;s the entire logcat stack trace:\r\n\r\n    08-23 02:19:52.826  20628-20628/com.example.sham_tech.lastchance E/AndroidRuntime FATAL EXCEPTION: main\r\n    Process: com.example.sham_tech.lastchance, PID: 20628\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sham_tech.lastchance/com.example.sham_tech.lastchance.MainActivity}: android.content.res.Resources$NotFoundException: File res/drawable/abc_ic_ab_back_material.xml from drawable resource ID #0x7f020013\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2389)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2441)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:151)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\r\n            at android.os.Handler.dispatchMessage(Handler.java:110)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5345)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:515)\r\n            at   com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:824)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:640)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n     Caused by: android.content.res.Resources$NotFoundException: File    res/drawable/abc_ic_ab_back_material.xml from drawable resource ID #0x7f020013\r\n            at android.content.res.Resources.loadDrawable(Resources.java:2152)\r\n            at android.content.res.Resources.getDrawable(Resources.java:710)\r\n            at   android.support.v4.content.ContextCompat.getDrawable(ContextCompat.java:354)\r\n            at   android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:193)\r\n            at   android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawable Manager.java:181)\r\n             at android.support.v7.widget.AppCompatDrawableManager.checkVectorDrawableSetup(AppCompatDrawableManager.java:689)\r\n            at   android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:186)\r\n            at android.support.v7.widget.TintTypedArray.getDrawableIfKnown(TintTypedArray.java:  77)\r\n            at android.support.v7.app.AppCompatDelegateImplBase.&lt;init&gt;  (AppCompatDelegateImplBase.java:83)\r\n            at android.support.v7.app.AppCompatDelegateImplV7.&lt;init&gt;(AppCompatDelegateImplV7.java:146)\r\n            at android.support.v7.app.AppCompatDelegateImplV11.&lt;init&gt;(AppCompatDelegateImplV11.java:28)\r\n            at android.support.v7.app.AppCompatDelegateImplV14.&lt;init&gt;(AppCompatDelegateImplV14.java:41)\r\n            at android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:193)\r\n            at android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:173)\r\n            at android.support.v7.app.AppCompatActivity.getDelegate(AppCompatActivity.java:511)\r\n            at android.support.v7.app.AppCompatActivity.onCreate(AppCompatActivity.java:71)\r\n            at \r\n    com.example.sham_tech.lastchance.MainActivity.onCreate(MainActivity.java:16)\r\n            at android.app.Activity.performCreate(Activity.java:5343)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\r\n            at   android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2343)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\nI cannot understand what&#39;s the problem!.\r\n\r\nHere&#39;s the activity_main.xml \r\n     \r\n      &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingLeft=&quot;16dp&quot;\r\n    android:paddingRight=&quot;16dp&quot;\r\n    android:paddingTop=&quot;16dp&quot;\r\n    android:paddingBottom=&quot;16dp&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView android:text=&quot;Quantity&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/quantity_text_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;0&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        /&gt;\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        android:onClick=&quot;SubmitOrder&quot;\r\n        /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nIs there anything wrong in the code?\r\n\r\nMainActivity.java\r\n\r\n    package com.example.sham_tech.lastchance;\r\n\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n\r\n    /**\r\n     * This app displays an order form to order coffee.\r\n     */\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    /**\r\n     * This method is called when the order button is clicked.\r\n     */\r\n    public void submitOrder(View view) {\r\n        display(1);\r\n    }\r\n\r\n    /**\r\n     * This method displays the given quantity value on the screen.\r\n     */\r\n    private void display(int number) {\r\n        TextView quantityTextView = (TextView) findViewById(R.id.quantity_text_view);\r\n        quantityTextView.setText(&quot;&quot; + number);\r\n    }\r\n    }\r\n\r\nI have tried to solve it for more than 4 days and there is no result. Please help me!\r\n","title":"Android app unable to start activity componentinfo android.content.res.Resources$NotFound","body":"<p>Here's the entire logcat stack trace:</p>\n<pre><code>08-23 02:19:52.826  20628-20628/com.example.sham_tech.lastchance E/AndroidRuntime FATAL EXCEPTION: main\nProcess: com.example.sham_tech.lastchance, PID: 20628\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sham_tech.lastchance/com.example.sham_tech.lastchance.MainActivity}: android.content.res.Resources$NotFoundException: File res/drawable/abc_ic_ab_back_material.xml from drawable resource ID #0x7f020013\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2389)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2441)\n        at android.app.ActivityThread.access$900(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:5345)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at   com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:824)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:640)\n        at dalvik.system.NativeStart.main(Native Method)\n Caused by: android.content.res.Resources$NotFoundException: File    res/drawable/abc_ic_ab_back_material.xml from drawable resource ID #0x7f020013\n        at android.content.res.Resources.loadDrawable(Resources.java:2152)\n        at android.content.res.Resources.getDrawable(Resources.java:710)\n        at   android.support.v4.content.ContextCompat.getDrawable(ContextCompat.java:354)\n        at   android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:193)\n        at   android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawable Manager.java:181)\n         at android.support.v7.widget.AppCompatDrawableManager.checkVectorDrawableSetup(AppCompatDrawableManager.java:689)\n        at   android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:186)\n        at android.support.v7.widget.TintTypedArray.getDrawableIfKnown(TintTypedArray.java:  77)\n        at android.support.v7.app.AppCompatDelegateImplBase.&lt;init&gt;  (AppCompatDelegateImplBase.java:83)\n        at android.support.v7.app.AppCompatDelegateImplV7.&lt;init&gt;(AppCompatDelegateImplV7.java:146)\n        at android.support.v7.app.AppCompatDelegateImplV11.&lt;init&gt;(AppCompatDelegateImplV11.java:28)\n        at android.support.v7.app.AppCompatDelegateImplV14.&lt;init&gt;(AppCompatDelegateImplV14.java:41)\n        at android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:193)\n        at android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:173)\n        at android.support.v7.app.AppCompatActivity.getDelegate(AppCompatActivity.java:511)\n        at android.support.v7.app.AppCompatActivity.onCreate(AppCompatActivity.java:71)\n        at \ncom.example.sham_tech.lastchance.MainActivity.onCreate(MainActivity.java:16)\n        at android.app.Activity.performCreate(Activity.java:5343)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\n        at   android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2343)\n</code></pre>\n<p>I cannot understand what's the problem!.</p>\n<p>Here's the activity_main.xml</p>\n<pre><code>  &lt;LinearLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingLeft=&quot;16dp&quot;\nandroid:paddingRight=&quot;16dp&quot;\nandroid:paddingTop=&quot;16dp&quot;\nandroid:paddingBottom=&quot;16dp&quot;\ntools:context=&quot;.MainActivity&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n&lt;TextView android:text=&quot;Quantity&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/quantity_text_view&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;0&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    /&gt;\n&lt;Button\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Button&quot;\n    android:onClick=&quot;SubmitOrder&quot;\n    /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Is there anything wrong in the code?</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.sham_tech.lastchance;\n\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\nimport android.widget.TextView;\n\n/**\n * This app displays an order form to order coffee.\n */\npublic class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n}\n\n/**\n * This method is called when the order button is clicked.\n */\npublic void submitOrder(View view) {\n    display(1);\n}\n\n/**\n * This method displays the given quantity value on the screen.\n */\nprivate void display(int number) {\n    TextView quantityTextView = (TextView) findViewById(R.id.quantity_text_view);\n    quantityTextView.setText(&quot;&quot; + number);\n}\n}\n</code></pre>\n<p>I have tried to solve it for more than 4 days and there is no result. Please help me!</p>\n"},{"tags":["java","multithreading","recursion"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1643222659,"post_id":70868269,"comment_id":125284961,"body_markdown":"Re, &quot;if something is unclear...&quot; You haven&#39;t shown the code that makes the &quot;root&quot; call to `recursiveMethod()`, and you haven&#39;t shown what it does after that &quot;root&quot; call returns. Also, you say you are running it in an IDE, but you haven&#39;t said _which_ IDE, or what command you use to run the program. Also, is it possible that your program calls any GUI framework routine that could create an event dispatch thread or a timer thread?","body":"Re, &quot;if something is unclear...&quot; You haven&#39;t shown the code that makes the &quot;root&quot; call to <code>recursiveMethod()</code>, and you haven&#39;t shown what it does after that &quot;root&quot; call returns. Also, you say you are running it in an IDE, but you haven&#39;t said <i>which</i> IDE, or what command you use to run the program. Also, is it possible that your program calls any GUI framework routine that could create an event dispatch thread or a timer thread?"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643222248,"creation_date":1643221858,"answer_id":70868548,"question_id":70868269,"body_markdown":"This is not an answer. I can&#39;t answer because you haven&#39;t shown enough code for anybody to be able to know what&#39;s really going on in your program, but I have a suggestion for you.\r\n\r\nHalf of the threads in your program do nothing but create other threads and then wait. Creating threads is expensive. Why not put those threads to work? Instead of creating a new thread to do the work of `child2` while the calling thread does nothing but wait, Let the calling thread do the work. E.g., Like this:\r\n\r\n``` lang-java\r\n   Thread child1 = new Thread(new Task(...));\r\n// Thread child2 = new Thread(new Task(...));   // Don&#39;t do this.\r\n   Task    task2 = new Task(...);               // Do this instead.\r\n\r\n   child1.start();\r\n// child2.start();    // And, Don&#39;t do this.\r\n   task2.run();       // Do this instead.\r\n\r\n   try {\r\n       child1.join();\r\n   } catch (...) {\r\n       ...\r\n   }\r\n```\r\n\r\nYour program should produce the same result, using only half as many threads.\r\n\r\n---------------------\r\n\r\nP.S.; For extra credit, instead of using bare `Thread`s, consider whether your program could be made to work with a [_thread pool_](https://en.wikipedia.org/wiki/Thread_pool).\r\n\r\nhttps://www.baeldung.com/thread-pool-java-and-guava","title":"Threads and termination of main","body":"<p>This is not an answer. I can't answer because you haven't shown enough code for anybody to be able to know what's really going on in your program, but I have a suggestion for you.</p>\n<p>Half of the threads in your program do nothing but create other threads and then wait. Creating threads is expensive. Why not put those threads to work? Instead of creating a new thread to do the work of <code>child2</code> while the calling thread does nothing but wait, Let the calling thread do the work. E.g., Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   Thread child1 = new Thread(new Task(...));\n// Thread child2 = new Thread(new Task(...));   // Don't do this.\n   Task    task2 = new Task(...);               // Do this instead.\n\n   child1.start();\n// child2.start();    // And, Don't do this.\n   task2.run();       // Do this instead.\n\n   try {\n       child1.join();\n   } catch (...) {\n       ...\n   }\n</code></pre>\n<p>Your program should produce the same result, using only half as many threads.</p>\n<hr />\n<p>P.S.; For extra credit, instead of using bare <code>Thread</code>s, consider whether your program could be made to work with a <a href=\"https://en.wikipedia.org/wiki/Thread_pool\" rel=\"nofollow noreferrer\"><em>thread pool</em></a>.</p>\n<p><a href=\"https://www.baeldung.com/thread-pool-java-and-guava\" rel=\"nofollow noreferrer\">https://www.baeldung.com/thread-pool-java-and-guava</a></p>\n"}],"owner":{"account_id":23247074,"reputation":35,"user_id":17335513,"display_name":"Jonas Walcher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643222248,"creation_date":1643220566,"question_id":70868269,"body_markdown":"I have a small question regarding Threads.\r\n\r\n(That code is just for illustration for my question and does not make real sense)\r\n\r\n\r\n    public int recursiveMethod(int val, int depth){\r\n    \r\n    if ( depth &lt; 0}{\r\n    return sequentialMethod(val)\r\n    }\r\n    \r\n    Integer []&#160;buffer = new Integer [2]; \r\n    \r\n    Thread child1 = new Thread(new Task(val,buffer, 0, depth -1))\r\n    Thread child2 = new Thread(new Task(val,buffer, 1, depth -1))\r\n    \r\n    try{\r\n    child1.join(); \r\n    child2.join(); }\r\n    catch(InterruptException e){\r\n    ..}\r\n    \r\n    return buffer[0] + buffer[1]\r\n    }\r\n    \r\n    \r\n    public class Task implements Runnable {\r\n    public Task(val, buffer, index, depth){\r\n    constructor... \r\n    }\r\n    \r\n    public void run{\r\n     buffer[index] = recursiveMethod(val, depth)\r\n    return; }\r\n\r\n \r\n\r\nThis is just a small code example (does not have a sense but illustration)  with which I want to illustrate what I have been working one. (It is actually not that important but it is just splitting up a calculation into subparts, storing the result of these in buffers) \r\n\r\nSo in my code from a root thread I recursively call the `recursiveMethod()` that again creates other threads that again call that same method... All parent threads are joined to their child threads. \r\n\r\nFor my real code which is a bit heavier ( parallel matrix multiplication of square matrices)  I get a correct result at the end pretty fast but I face a problem that I think is weird:\r\n\r\nEven though I join all parent Threads to their children the program in my IDE still runs for a couple second ( 0.5s - 1.5s ) after the final result ( so the one call of the recursive method that has the original depth) is returned. So there is something still running. \r\n\r\nI just do not understand since, as I understood it the join method just takes care of that first all Threads have to dead until the final result can be returned. \r\n\r\nIf something is unclear I am happy to answer and clarify\r\n\r\nWould be very happy for an answer \r\n\r\nThanks in advance \r\nJonas \r\n\r\n\r\n","title":"Threads and termination of main","body":"<p>I have a small question regarding Threads.</p>\n<p>(That code is just for illustration for my question and does not make real sense)</p>\n<pre><code>public int recursiveMethod(int val, int depth){\n\nif ( depth &lt; 0}{\nreturn sequentialMethod(val)\n}\n\nInteger []buffer = new Integer [2]; \n\nThread child1 = new Thread(new Task(val,buffer, 0, depth -1))\nThread child2 = new Thread(new Task(val,buffer, 1, depth -1))\n\ntry{\nchild1.join(); \nchild2.join(); }\ncatch(InterruptException e){\n..}\n\nreturn buffer[0] + buffer[1]\n}\n\n\npublic class Task implements Runnable {\npublic Task(val, buffer, index, depth){\nconstructor... \n}\n\npublic void run{\n buffer[index] = recursiveMethod(val, depth)\nreturn; }\n</code></pre>\n<p>This is just a small code example (does not have a sense but illustration)  with which I want to illustrate what I have been working one. (It is actually not that important but it is just splitting up a calculation into subparts, storing the result of these in buffers)</p>\n<p>So in my code from a root thread I recursively call the <code>recursiveMethod()</code> that again creates other threads that again call that same method... All parent threads are joined to their child threads.</p>\n<p>For my real code which is a bit heavier ( parallel matrix multiplication of square matrices)  I get a correct result at the end pretty fast but I face a problem that I think is weird:</p>\n<p>Even though I join all parent Threads to their children the program in my IDE still runs for a couple second ( 0.5s - 1.5s ) after the final result ( so the one call of the recursive method that has the original depth) is returned. So there is something still running.</p>\n<p>I just do not understand since, as I understood it the join method just takes care of that first all Threads have to dead until the final result can be returned.</p>\n<p>If something is unclear I am happy to answer and clarify</p>\n<p>Would be very happy for an answer</p>\n<p>Thanks in advance\nJonas</p>\n"},{"tags":["java","spring","websphere","vaadin"],"comments":[{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":1,"creation_date":1643266603,"post_id":70868609,"comment_id":125295060,"body_markdown":"You might want to run your JVM with the `-Dsun.io.serialization.extendedDebugInfo=true` parameter to make it print some extra debugging info to help pinpoint exactly which class it is that isn&#39;t serializable.","body":"You might want to run your JVM with the <code>-Dsun.io.serialization.extendedDebugInfo=true</code> parameter to make it print some extra debugging info to help pinpoint exactly which class it is that isn&#39;t serializable."}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643222140,"creation_date":1643222140,"question_id":70868609,"body_markdown":"i&#39;ve moved from 7.7.9 to 7.7.30 and in the log I see a series of:\r\n\r\n    2022-01-26T18:55:20.767;W;com.vaadin.spring.internal.BeanStore;Storing non-serializable bean [it.SearchMoldel@7a80a602] \r\n    with name [searchMoldel] in [UIBeanStore[id=db40ec6a, name=UI:0]]\r\n\r\nIt is a warning but I&#39;m asking why and also what does it means?\r\nAlso I use vaadin-spring-1.0.2.jar, is that right? Or I have to move to a recent version?","title":"Storing non-serializable bean vaadin","body":"<p>i've moved from 7.7.9 to 7.7.30 and in the log I see a series of:</p>\n<pre><code>2022-01-26T18:55:20.767;W;com.vaadin.spring.internal.BeanStore;Storing non-serializable bean [it.SearchMoldel@7a80a602] \nwith name [searchMoldel] in [UIBeanStore[id=db40ec6a, name=UI:0]]\n</code></pre>\n<p>It is a warning but I'm asking why and also what does it means?\nAlso I use vaadin-spring-1.0.2.jar, is that right? Or I have to move to a recent version?</p>\n"},{"tags":["java","intellij-idea","java-8","java-6"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":3,"creation_date":1528401316,"post_id":50747473,"comment_id":88505996,"body_markdown":"Did you click the &quot;Attach annotations&quot; link over there on the right?","body":"Did you click the &quot;Attach annotations&quot; link over there on the right?"},{"owner":{"account_id":12460192,"reputation":221,"user_id":9109169,"display_name":"Felay"},"score":0,"creation_date":1528451493,"post_id":50747473,"comment_id":88523374,"body_markdown":"@Makoto Nothing happened","body":"@Makoto Nothing happened"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1528455348,"post_id":50747473,"comment_id":88525506,"body_markdown":"Does File -&gt; Invalidate Caches / Restart... help?","body":"Does File -&gt; Invalidate Caches / Restart... help?"},{"owner":{"account_id":12460192,"reputation":221,"user_id":9109169,"display_name":"Felay"},"score":0,"creation_date":1528456386,"post_id":50747473,"comment_id":88526099,"body_markdown":"@y.bedrov No. But I have reinstall studio for 3 times and this is working!","body":"@y.bedrov No. But I have reinstall studio for 3 times and this is working!"},{"owner":{"account_id":11316641,"reputation":311,"user_id":8298195,"display_name":"btmcmahan"},"score":1,"creation_date":1538252551,"post_id":50747473,"comment_id":92080927,"body_markdown":"I&#39;m stuck on this too. Updated to Android Studio 3.2 and this warning occurs. Tried Invalidate Caches / Restart, tried clicking Attach annotations. Can&#39;t figure it out. Also, getting IDE exceptions about the androidAnnotations.jar file.","body":"I&#39;m stuck on this too. Updated to Android Studio 3.2 and this warning occurs. Tried Invalidate Caches / Restart, tried clicking Attach annotations. Can&#39;t figure it out. Also, getting IDE exceptions about the androidAnnotations.jar file."},{"owner":{"account_id":5727357,"reputation":409,"user_id":4523982,"display_name":"fidudidu"},"score":0,"creation_date":1556806631,"post_id":50747473,"comment_id":98560745,"body_markdown":"No Idea! are you mixing Jdk versions? I see Java 8 and Jdk 1.6 in your tags.","body":"No Idea! are you mixing Jdk versions? I see Java 8 and Jdk 1.6 in your tags."}],"answers":[{"tags":[],"owner":{"account_id":404804,"reputation":1016,"user_id":773334,"accept_rate":100,"display_name":"JACH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643221289,"creation_date":1589904534,"answer_id":61895663,"question_id":50747473,"body_markdown":"I had the same question. \r\n\r\nThe solution is somewhat obvious, just click on the banner and the message would go away. But of course, we want to know what does this do. Someone already asked this in the intelliJ community:\r\n\r\n\r\n*It adds jdkAnnotations.jar to the JDK configuration*\r\n\r\n*This JAR provides external annotations for JDK methods.\r\nMagic Constant is one of the inspections using these annotations*\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/360002764859-No-IDEA-Annotations-attached-to-the-JDK-1-8-Some-Issues-Will-Not-be-Found\r\n\r\nUnfortunately, I was unable to find out where that can be manually added (or at least reviewed) in a newer version of intelliJ","title":"No idea annotations attached to the jdk","body":"<p>I had the same question.</p>\n<p>The solution is somewhat obvious, just click on the banner and the message would go away. But of course, we want to know what does this do. Someone already asked this in the intelliJ community:</p>\n<p><em>It adds jdkAnnotations.jar to the JDK configuration</em></p>\n<p><em>This JAR provides external annotations for JDK methods.\nMagic Constant is one of the inspections using these annotations</em></p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360002764859-No-IDEA-Annotations-attached-to-the-JDK-1-8-Some-Issues-Will-Not-be-Found\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360002764859-No-IDEA-Annotations-attached-to-the-JDK-1-8-Some-Issues-Will-Not-be-Found</a></p>\n<p>Unfortunately, I was unable to find out where that can be manually added (or at least reviewed) in a newer version of intelliJ</p>\n"}],"owner":{"account_id":12460192,"reputation":221,"user_id":9109169,"display_name":"Felay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6526,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1643221289,"creation_date":1528394295,"question_id":50747473,"body_markdown":"I have installed Java 8 to my IntelliJ Idea. I have added path to jdk in Idea. And when I start my project I see that message:\r\n\r\n&gt; no idea annotations attached to the jdk\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ihUJc.png\r\nWhat I need to do to fix that?","title":"No idea annotations attached to the jdk","body":"<p>I have installed Java 8 to my IntelliJ Idea. I have added path to jdk in Idea. And when I start my project I see that message:</p>\n\n<blockquote>\n  <p>no idea annotations attached to the jdk\n  <a href=\"https://i.stack.imgur.com/ihUJc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ihUJc.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<p>What I need to do to fix that?</p>\n"},{"tags":["java","jar","runtime"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1458154082,"post_id":36044107,"comment_id":59737470,"body_markdown":"There must be a typo in your classpath. How do you run your program?","body":"There must be a typo in your classpath. How do you run your program?"},{"owner":{"account_id":3919147,"reputation":146,"user_id":3242157,"display_name":"Gerhard"},"score":0,"creation_date":1458154325,"post_id":36044107,"comment_id":59737610,"body_markdown":"Use java -verbose to see where all classes are loaded from. Those errors also sometimes mask an error in the initializer or another dependency that could not be found like a super class.","body":"Use java -verbose to see where all classes are loaded from. Those errors also sometimes mask an error in the initializer or another dependency that could not be found like a super class."}],"answers":[{"tags":[],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459520223,"creation_date":1459520223,"answer_id":36358664,"question_id":36044107,"body_markdown":"I figured out what was wrong.\r\n\r\nIt turns out that the environment I am using (Eclipse!) does not properly update the manifest file when you export your code to a JAR file. Without the proper manifest entries, the application cannot &quot;find&quot; the dependent jar files.\r\n\r\nThis is, in my opinion, a serious oversight on the part of the Eclipse folks -- especially when you have an application that depends on a lot of jar files. In order to make my application run, I had the following choices:\r\n\r\n1. Create a script that runs the jvm and has a list of parameters pointing to every needed jar file, or:\r\n\r\n2: Manually enter each required jar file into the Manifest file\r\n\r\nTo my knowledge, there is no way to automatically update the manifest file. This is a serious PITA (Pain In The A**)...\r\n\r\nAnyway, sorry for bothering people about this problem. Hopefully, posting this answer will help others avoid similar problems...\r\n","title":"Class not found even when in Jar in the classpath","body":"<p>I figured out what was wrong.</p>\n\n<p>It turns out that the environment I am using (Eclipse!) does not properly update the manifest file when you export your code to a JAR file. Without the proper manifest entries, the application cannot \"find\" the dependent jar files.</p>\n\n<p>This is, in my opinion, a serious oversight on the part of the Eclipse folks -- especially when you have an application that depends on a lot of jar files. In order to make my application run, I had the following choices:</p>\n\n<ol>\n<li>Create a script that runs the jvm and has a list of parameters pointing to every needed jar file, or:</li>\n</ol>\n\n<p>2: Manually enter each required jar file into the Manifest file</p>\n\n<p>To my knowledge, there is no way to automatically update the manifest file. This is a serious PITA (Pain In The A**)...</p>\n\n<p>Anyway, sorry for bothering people about this problem. Hopefully, posting this answer will help others avoid similar problems...</p>\n"}],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643221227,"creation_date":1458153066,"question_id":36044107,"body_markdown":"I am trying to deploy an application that is using Jackson, JUnit, and Commons-IO. I have the following Jars in my application&#39;s classpath:\r\n\r\n    commons-io-2.4.jar\r\n    jackson-databind-2.7.0.jar\r\n    jackson-annotations-2.7.0.jar\r\n    log4j-api-2.4.1.jar\r\n    wsdiscovery-0.2.jar\r\n    jackson-core-2.7.0.jar\r\n    log4j-core-2.4.1.jar\r\n\r\nThis application works within my development environment, and I have deployed all of the above Jars with the main application jar. I can run the application without problems, but every time I try to use it I get the following failure:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\r\n\t    at com.oncam.hware.app.OnvifApp.formatOutput(OnvifApp.java:356)\r\n\t    at com.oncam.hware.app.OnvifApp.dispatchCommand(OnvifApp.java:271)\r\n\t    at com.oncam.hware.app.OnvifApp.loopSocket(OnvifApp.java:130)\r\n\t    at com.oncam.hware.app.OnvifApp.useSocket(OnvifApp.java:216)\r\n\t    at com.oncam.hware.app.OnvifApp.main(OnvifApp.java:473)\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\t    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\t    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\t    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t    ... 5 more\r\n\r\nThe ObjectMapper class is in the jackson-databind-2.7.0.jar file. Furthermore, I have no problems accessing the classes in the other jar files (including the JUnit jars!). For some reason, it is as if the classloader is loading every Jar except jackson-databind-2.7.0.jar.\r\n\r\nDoes anyone know what is causing this and how I can fix it?\r\n\r\nSomeone please advise...\r\n\r\n","title":"Class not found even when in Jar in the classpath","body":"<p>I am trying to deploy an application that is using Jackson, JUnit, and Commons-IO. I have the following Jars in my application's classpath:</p>\n\n<pre><code>commons-io-2.4.jar\njackson-databind-2.7.0.jar\njackson-annotations-2.7.0.jar\nlog4j-api-2.4.1.jar\nwsdiscovery-0.2.jar\njackson-core-2.7.0.jar\nlog4j-core-2.4.1.jar\n</code></pre>\n\n<p>This application works within my development environment, and I have deployed all of the above Jars with the main application jar. I can run the application without problems, but every time I try to use it I get the following failure:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\n    at com.oncam.hware.app.OnvifApp.formatOutput(OnvifApp.java:356)\n    at com.oncam.hware.app.OnvifApp.dispatchCommand(OnvifApp.java:271)\n    at com.oncam.hware.app.OnvifApp.loopSocket(OnvifApp.java:130)\n    at com.oncam.hware.app.OnvifApp.useSocket(OnvifApp.java:216)\n    at com.oncam.hware.app.OnvifApp.main(OnvifApp.java:473)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 5 more\n</code></pre>\n\n<p>The ObjectMapper class is in the jackson-databind-2.7.0.jar file. Furthermore, I have no problems accessing the classes in the other jar files (including the JUnit jars!). For some reason, it is as if the classloader is loading every Jar except jackson-databind-2.7.0.jar.</p>\n\n<p>Does anyone know what is causing this and how I can fix it?</p>\n\n<p>Someone please advise...</p>\n"},{"tags":["java","maven","plugins","websphere","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1642429100,"post_id":70741951,"comment_id":125061651,"body_markdown":"The number is just a cache-breaker. Check your build process to make sure that the compilation of the widget set results in the missing artifactrs.  Then make sure, the file is contained in your WAR. If that all seems fine, compare the locations of the file with your previous build.","body":"The number is just a cache-breaker. Check your build process to make sure that the compilation of the widget set results in the missing artifactrs.  Then make sure, the file is contained in your WAR. If that all seems fine, compare the locations of the file with your previous build."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1642433112,"post_id":70741951,"comment_id":125063416,"body_markdown":"I just changed the plugin and vaadin version from 7.7.12 to 7.7.24; nothing else;","body":"I just changed the plugin and vaadin version from 7.7.12 to 7.7.24; nothing else;"},{"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"score":0,"creation_date":1642435925,"post_id":70741951,"comment_id":125064527,"body_markdown":"Do you have the extended maintenance subscription? If you don&#39;t, the license check will fail for any version above 7.7.17 https://vaadin.com/support/vaadin-7-extended-maintenance . If you do have the subscription, check whether there are any errors when you build the widgetset. You can get more details if you set `&lt;style&gt;DETAILED&lt;/style&gt;` in your gwt-maven-plugin&#39;s `&lt;configuration&gt;` section in your pom.xml.","body":"Do you have the extended maintenance subscription? If you don&#39;t, the license check will fail for any version above 7.7.17 <a href=\"https://vaadin.com/support/vaadin-7-extended-maintenance\" rel=\"nofollow noreferrer\">vaadin.com/support/vaadin-7-extended-maintenance</a> . If you do have the subscription, check whether there are any errors when you build the widgetset. You can get more details if you set <code>&lt;style&gt;DETAILED&lt;&#47;style&gt;</code> in your gwt-maven-plugin&#39;s <code>&lt;configuration&gt;</code> section in your pom.xml."},{"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"score":0,"creation_date":1642435993,"post_id":70741951,"comment_id":125064554,"body_markdown":"Note that the widgetset build can pass even if there are errors, check the entire log, not just the end results.","body":"Note that the widgetset build can pass even if there are errors, check the entire log, not just the end results."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1642445426,"post_id":70741951,"comment_id":125067760,"body_markdown":"@Anna Koskinen thanks for your help;  I&#39;ve changed from &lt;style&gt;OBF&lt;/style&gt; to &lt;style&gt;DETAILED&lt;/style&gt;; But see anything that seems an error in all log, there are warning:  [WARNING] Vaadin plugin could not find any themes [WARNING] GWT plugin is configured to detect modules, but none were found.","body":"@Anna Koskinen thanks for your help;  I&#39;ve changed from &lt;style&gt;OBF&lt;/style&gt; to &lt;style&gt;DETAILED&lt;/style&gt;; But see anything that seems an error in all log, there are warning:  [WARNING] Vaadin plugin could not find any themes [WARNING] GWT plugin is configured to detect modules, but none were found."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1642445510,"post_id":70741951,"comment_id":125067788,"body_markdown":"there is a widgetset compilation: [INFO] --- vaadin-maven-plugin:7.7.24:compile (default) @ WIDGETSETPORTLET ---\n[INFO] auto discovered modules [AppWidgetset]\n[INFO] Using com.vaadin:vaadin-client version 7.7.24\n[INFO] Using com.vaadin:vaadin-client-compiler version 7.7.24\n[INFO] Compiling module AppWidgetset\n[INFO]    Computing all possible rebind results for &#39;com.vaadin.client.metadata.ConnectorBundleLoader&#39;\n[INFO]       Rebinding com.vaadin.client.metadata.ConnectorBundleLoader","body":"there is a widgetset compilation: [INFO] --- vaadin-maven-plugin:7.7.24:compile (default) @ WIDGETSETPORTLET --- [INFO] auto discovered modules [AppWidgetset] [INFO] Using com.vaadin:vaadin-client version 7.7.24 [INFO] Using com.vaadin:vaadin-client-compiler version 7.7.24 [INFO] Compiling module AppWidgetset [INFO]    Computing all possible rebind results for &#39;com.vaadin.client.metadata.ConnectorBundleLoader&#39; [INFO]       Rebinding com.vaadin.client.metadata.ConnectorBundleLoader"},{"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"score":0,"creation_date":1642508002,"post_id":70741951,"comment_id":125084206,"body_markdown":"And it all works as expected if you do the same things with 7.7.12 ? Is that &#39;could not find any themes&#39; warning present there?","body":"And it all works as expected if you do the same things with 7.7.12 ? Is that &#39;could not find any themes&#39; warning present there?"},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1642517022,"post_id":70741951,"comment_id":125087901,"body_markdown":"I do not know how, I&#39;ve just recompiled and the pop up disappear","body":"I do not know how, I&#39;ve just recompiled and the pop up disappear"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1643191408,"post_id":70741951,"comment_id":125271964,"body_markdown":"Could you write that in answer so that it is clearly visible for the others that case is closed. It is part of code of conduct in SO.","body":"Could you write that in answer so that it is clearly visible for the others that case is closed. It is part of code of conduct in SO."}],"answers":[{"tags":[],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643221099,"creation_date":1643221099,"answer_id":70868386,"question_id":70741951,"body_markdown":"I&#39;ve recompiled again and also I correct a mistake (I&#39;ve copied the folder AppWidgetset in two path, deleted the wrong one and the message disapppered;","title":"Vaadin fail to load Failed to load the widgetset","body":"<p>I've recompiled again and also I correct a mistake (I've copied the folder AppWidgetset in two path, deleted the wrong one and the message disapppered;</p>\n"}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643221099,"creation_date":1642425168,"question_id":70741951,"body_markdown":"I have changed from vaadin 7.7.12 to 7.7.24, on IBM websphere 8.5; I&#39;ve compiled the widgetset with vaadin plugin 7.7.24; I install the ear on IBM Was;\r\nThe compilation give me no problem and I can istall the ear correctely on IBM WAS;\r\nBut when I try to load the page a pop up tell me:\r\n\r\n    Failed to load the widgetset: /wps/TEM_COMP_STACO/themes/TEM_COMP/VAADIN/widgetsets/AppWidgetset/AppWidgetset.nocache.js?1642423338694\r\n\r\nI&#39;ve checked that on the server side there is a file called AppWidgetset.nocache.js, but for some reason it cannot be loaded on the page;\r\n\r\nTrying more than on time, and the number at the end change 1642423338694, I cannot figure out what that number means;\r\n\r\nI cannot change to any vaadin version greater than 7.x.x;\r\nI cannot figure out where is the issue.\r\nany help is appreciated.\r\nFrancesco\r\n\r\n\r\n\r\n\r\n","title":"Vaadin fail to load Failed to load the widgetset","body":"<p>I have changed from vaadin 7.7.12 to 7.7.24, on IBM websphere 8.5; I've compiled the widgetset with vaadin plugin 7.7.24; I install the ear on IBM Was;\nThe compilation give me no problem and I can istall the ear correctely on IBM WAS;\nBut when I try to load the page a pop up tell me:</p>\n<pre><code>Failed to load the widgetset: /wps/TEM_COMP_STACO/themes/TEM_COMP/VAADIN/widgetsets/AppWidgetset/AppWidgetset.nocache.js?1642423338694\n</code></pre>\n<p>I've checked that on the server side there is a file called AppWidgetset.nocache.js, but for some reason it cannot be loaded on the page;</p>\n<p>Trying more than on time, and the number at the end change 1642423338694, I cannot figure out what that number means;</p>\n<p>I cannot change to any vaadin version greater than 7.x.x;\nI cannot figure out where is the issue.\nany help is appreciated.\nFrancesco</p>\n"},{"tags":["java","nlp","extract","keyword","stemming"],"answers":[{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1480275688,"creation_date":1372868301,"answer_id":17453157,"question_id":17447045,"body_markdown":"Here is a possible solution using [Apache Lucene](http://lucene.apache.org/). I didn&#39;t use the last version but the [3.6.2 one](http://archive.apache.org/dist/lucene/java/3.6.2/), since this is the one I know the best. Besides the `/lucene-core-x.x.x.jar`, don&#39;t forget to add the `/contrib/analyzers/common/lucene-analyzers-x.x.x.jar` from the downloaded archive to your project: it contains the language-specific analyzers (especially the English one in your case).\r\n\r\nNote that this will *only* find the frequencies of the input text words based on their respective stem. Comparing these frequencies with the English language statistics shall be done afterwards ([this answer](https://stackoverflow.com/a/7248868/1225328) may help by the way).\r\n\r\n---\r\n\r\nThe data model\r\n=\r\n\r\nOne keyword for one stem. Different words may have the same stem, hence the `terms` set. The keyword frequency is incremented every time a new term is found (even if it has been already found - a set automatically removes duplicates).\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Keyword implements Comparable&lt;Keyword&gt; {\r\n    \r\n      private final String stem;\r\n      private final Set&lt;String&gt; terms = new HashSet&lt;String&gt;();\r\n      private int frequency = 0;\r\n    \r\n      public Keyword(String stem) {\r\n        this.stem = stem;\r\n      }\r\n    \r\n      public void add(String term) {\r\n        terms.add(term);\r\n        frequency++;\r\n      }\r\n    \r\n      @Override\r\n      public int compareTo(Keyword o) {\r\n        // descending order\r\n        return Integer.valueOf(o.frequency).compareTo(frequency);\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n          return true;\r\n        } else if (!(obj instanceof Keyword)) {\r\n          return false;\r\n        } else {\r\n          return stem.equals(((Keyword) obj).stem);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Arrays.hashCode(new Object[] { stem });\r\n      }\r\n    \r\n      public String getStem() {\r\n        return stem;\r\n      }\r\n    \r\n      public Set&lt;String&gt; getTerms() {\r\n        return terms;\r\n      }\r\n    \r\n      public int getFrequency() {\r\n        return frequency;\r\n      }\r\n    \r\n    }\r\n\r\n---\r\n\r\nUtilities\r\n=\r\n\r\nTo stem a word:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String stem(String term) throws IOException {\r\n    \r\n      TokenStream tokenStream = null;\r\n      try {\r\n    \r\n        // tokenize\r\n        tokenStream = new ClassicTokenizer(Version.LUCENE_36, new StringReader(term));\r\n        // stem\r\n        tokenStream = new PorterStemFilter(tokenStream);\r\n    \r\n        // add each token in a set, so that duplicates are removed\r\n        Set&lt;String&gt; stems = new HashSet&lt;String&gt;();\r\n        CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\r\n        tokenStream.reset();\r\n        while (tokenStream.incrementToken()) {\r\n          stems.add(token.toString());\r\n        }\r\n    \r\n        // if no stem or 2+ stems have been found, return null\r\n        if (stems.size() != 1) {\r\n          return null;\r\n        }\r\n        String stem = stems.iterator().next();\r\n        // if the stem has non-alphanumerical chars, return null\r\n        if (!stem.matches(&quot;[a-zA-Z0-9-]+&quot;)) {\r\n          return null;\r\n        }\r\n    \r\n        return stem;\r\n    \r\n      } finally {\r\n        if (tokenStream != null) {\r\n          tokenStream.close();\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nTo search into a collection (will be used by the list of potential keywords):\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static &lt;T&gt; T find(Collection&lt;T&gt; collection, T example) {\r\n      for (T element : collection) {\r\n        if (element.equals(example)) {\r\n          return element;\r\n        }\r\n      }\r\n      collection.add(example);\r\n      return example;\r\n    }\r\n\r\n---\r\n\r\nCore\r\n=\r\n\r\nHere is the main input method:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static List&lt;Keyword&gt; guessFromString(String input) throws IOException {\r\n    \r\n      TokenStream tokenStream = null;\r\n      try {\r\n    \r\n        // hack to keep dashed words (e.g. &quot;non-specific&quot; rather than &quot;non&quot; and &quot;specific&quot;)\r\n        input = input.replaceAll(&quot;-+&quot;, &quot;-0&quot;);\r\n        // replace any punctuation char but apostrophes and dashes by a space\r\n        input = input.replaceAll(&quot;[\\\\p{Punct}&amp;&amp;[^&#39;-]]+&quot;, &quot; &quot;);\r\n        // replace most common english contractions\r\n        input = input.replaceAll(&quot;(?:&#39;(?:[tdsm]|[vr]e|ll))+\\\\b&quot;, &quot;&quot;);\r\n    \r\n        // tokenize input\r\n        tokenStream = new ClassicTokenizer(Version.LUCENE_36, new StringReader(input));\r\n        // to lowercase\r\n        tokenStream = new LowerCaseFilter(Version.LUCENE_36, tokenStream);\r\n        // remove dots from acronyms (and &quot;&#39;s&quot; but already done manually above)\r\n        tokenStream = new ClassicFilter(tokenStream);\r\n        // convert any char to ASCII\r\n        tokenStream = new ASCIIFoldingFilter(tokenStream);\r\n        // remove english stop words\r\n        tokenStream = new StopFilter(Version.LUCENE_36, tokenStream, EnglishAnalyzer.getDefaultStopSet());\r\n    \r\n        List&lt;Keyword&gt; keywords = new LinkedList&lt;Keyword&gt;();\r\n        CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\r\n        tokenStream.reset();\r\n        while (tokenStream.incrementToken()) {\r\n          String term = token.toString();\r\n          // stem each term\r\n          String stem = stem(term);\r\n          if (stem != null) {\r\n            // create the keyword or get the existing one if any\r\n            Keyword keyword = find(keywords, new Keyword(stem.replaceAll(&quot;-0&quot;, &quot;-&quot;)));\r\n            // add its corresponding initial token\r\n            keyword.add(term.replaceAll(&quot;-0&quot;, &quot;-&quot;));\r\n          }\r\n        }\r\n    \r\n        // reverse sort by frequency\r\n        Collections.sort(keywords);\r\n    \r\n        return keywords;\r\n    \r\n      } finally {\r\n        if (tokenStream != null) {\r\n          tokenStream.close();\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n---\r\n\r\nExample\r\n=\r\n\r\nUsing the `guessFromString` method on the [Java wikipedia article introduction part](https://en.wikipedia.org/wiki/Java_(programming_language)), here are the first 10 most frequent keywords (i.e. stems) that were found:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java         x12    [java]\r\n    compil       x5     [compiled, compiler, compilers]\r\n    sun          x5     [sun]\r\n    develop      x4     [developed, developers]\r\n    languag      x3     [languages, language]\r\n    implement    x3     [implementation, implementations]\r\n    applic       x3     [application, applications]\r\n    run          x3     [run]\r\n    origin       x3     [originally, original]\r\n    gnu          x3     [gnu]\r\n\r\nIterate over the output list to know which were the *original found words* for each stem by getting the `terms` sets (displayed between brackets `[...]` in the above example).\r\n\r\n---\r\n\r\nWhat&#39;s next\r\n=\r\n\r\nCompare the *stem frequency / frequencies sum* ratios with the English language statistics ones, and keep me in the loop if your managed it: I could be quite interested too `:)`","title":"Java library for keywords extraction from input text","body":"<p>Here is a possible solution using <a href=\"http://lucene.apache.org/\" rel=\"noreferrer\">Apache Lucene</a>. I didn't use the last version but the <a href=\"http://archive.apache.org/dist/lucene/java/3.6.2/\" rel=\"noreferrer\">3.6.2 one</a>, since this is the one I know the best. Besides the <code>/lucene-core-x.x.x.jar</code>, don't forget to add the <code>/contrib/analyzers/common/lucene-analyzers-x.x.x.jar</code> from the downloaded archive to your project: it contains the language-specific analyzers (especially the English one in your case).</p>\n\n<p>Note that this will <em>only</em> find the frequencies of the input text words based on their respective stem. Comparing these frequencies with the English language statistics shall be done afterwards (<a href=\"https://stackoverflow.com/a/7248868/1225328\">this answer</a> may help by the way).</p>\n\n<hr>\n\n<h1>The data model</h1>\n\n<p>One keyword for one stem. Different words may have the same stem, hence the <code>terms</code> set. The keyword frequency is incremented every time a new term is found (even if it has been already found - a set automatically removes duplicates).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Keyword implements Comparable&lt;Keyword&gt; {\n\n  private final String stem;\n  private final Set&lt;String&gt; terms = new HashSet&lt;String&gt;();\n  private int frequency = 0;\n\n  public Keyword(String stem) {\n    this.stem = stem;\n  }\n\n  public void add(String term) {\n    terms.add(term);\n    frequency++;\n  }\n\n  @Override\n  public int compareTo(Keyword o) {\n    // descending order\n    return Integer.valueOf(o.frequency).compareTo(frequency);\n  }\n\n  @Override\n  public boolean equals(Object obj) {\n    if (this == obj) {\n      return true;\n    } else if (!(obj instanceof Keyword)) {\n      return false;\n    } else {\n      return stem.equals(((Keyword) obj).stem);\n    }\n  }\n\n  @Override\n  public int hashCode() {\n    return Arrays.hashCode(new Object[] { stem });\n  }\n\n  public String getStem() {\n    return stem;\n  }\n\n  public Set&lt;String&gt; getTerms() {\n    return terms;\n  }\n\n  public int getFrequency() {\n    return frequency;\n  }\n\n}\n</code></pre>\n\n<hr>\n\n<h1>Utilities</h1>\n\n<p>To stem a word:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String stem(String term) throws IOException {\n\n  TokenStream tokenStream = null;\n  try {\n\n    // tokenize\n    tokenStream = new ClassicTokenizer(Version.LUCENE_36, new StringReader(term));\n    // stem\n    tokenStream = new PorterStemFilter(tokenStream);\n\n    // add each token in a set, so that duplicates are removed\n    Set&lt;String&gt; stems = new HashSet&lt;String&gt;();\n    CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\n    tokenStream.reset();\n    while (tokenStream.incrementToken()) {\n      stems.add(token.toString());\n    }\n\n    // if no stem or 2+ stems have been found, return null\n    if (stems.size() != 1) {\n      return null;\n    }\n    String stem = stems.iterator().next();\n    // if the stem has non-alphanumerical chars, return null\n    if (!stem.matches(\"[a-zA-Z0-9-]+\")) {\n      return null;\n    }\n\n    return stem;\n\n  } finally {\n    if (tokenStream != null) {\n      tokenStream.close();\n    }\n  }\n\n}\n</code></pre>\n\n<p>To search into a collection (will be used by the list of potential keywords):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T find(Collection&lt;T&gt; collection, T example) {\n  for (T element : collection) {\n    if (element.equals(example)) {\n      return element;\n    }\n  }\n  collection.add(example);\n  return example;\n}\n</code></pre>\n\n<hr>\n\n<h1>Core</h1>\n\n<p>Here is the main input method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Keyword&gt; guessFromString(String input) throws IOException {\n\n  TokenStream tokenStream = null;\n  try {\n\n    // hack to keep dashed words (e.g. \"non-specific\" rather than \"non\" and \"specific\")\n    input = input.replaceAll(\"-+\", \"-0\");\n    // replace any punctuation char but apostrophes and dashes by a space\n    input = input.replaceAll(\"[\\\\p{Punct}&amp;&amp;[^'-]]+\", \" \");\n    // replace most common english contractions\n    input = input.replaceAll(\"(?:'(?:[tdsm]|[vr]e|ll))+\\\\b\", \"\");\n\n    // tokenize input\n    tokenStream = new ClassicTokenizer(Version.LUCENE_36, new StringReader(input));\n    // to lowercase\n    tokenStream = new LowerCaseFilter(Version.LUCENE_36, tokenStream);\n    // remove dots from acronyms (and \"'s\" but already done manually above)\n    tokenStream = new ClassicFilter(tokenStream);\n    // convert any char to ASCII\n    tokenStream = new ASCIIFoldingFilter(tokenStream);\n    // remove english stop words\n    tokenStream = new StopFilter(Version.LUCENE_36, tokenStream, EnglishAnalyzer.getDefaultStopSet());\n\n    List&lt;Keyword&gt; keywords = new LinkedList&lt;Keyword&gt;();\n    CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\n    tokenStream.reset();\n    while (tokenStream.incrementToken()) {\n      String term = token.toString();\n      // stem each term\n      String stem = stem(term);\n      if (stem != null) {\n        // create the keyword or get the existing one if any\n        Keyword keyword = find(keywords, new Keyword(stem.replaceAll(\"-0\", \"-\")));\n        // add its corresponding initial token\n        keyword.add(term.replaceAll(\"-0\", \"-\"));\n      }\n    }\n\n    // reverse sort by frequency\n    Collections.sort(keywords);\n\n    return keywords;\n\n  } finally {\n    if (tokenStream != null) {\n      tokenStream.close();\n    }\n  }\n\n}\n</code></pre>\n\n<hr>\n\n<h1>Example</h1>\n\n<p>Using the <code>guessFromString</code> method on the <a href=\"https://en.wikipedia.org/wiki/Java_(programming_language)\" rel=\"noreferrer\">Java wikipedia article introduction part</a>, here are the first 10 most frequent keywords (i.e. stems) that were found:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java         x12    [java]\ncompil       x5     [compiled, compiler, compilers]\nsun          x5     [sun]\ndevelop      x4     [developed, developers]\nlanguag      x3     [languages, language]\nimplement    x3     [implementation, implementations]\napplic       x3     [application, applications]\nrun          x3     [run]\norigin       x3     [originally, original]\ngnu          x3     [gnu]\n</code></pre>\n\n<p>Iterate over the output list to know which were the <em>original found words</em> for each stem by getting the <code>terms</code> sets (displayed between brackets <code>[...]</code> in the above example).</p>\n\n<hr>\n\n<h1>What's next</h1>\n\n<p>Compare the <em>stem frequency / frequencies sum</em> ratios with the English language statistics ones, and keep me in the loop if your managed it: I could be quite interested too <code>:)</code></p>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479768862,"creation_date":1459009573,"answer_id":36237769,"question_id":17447045,"body_markdown":"An updated and ready-to-use version of the code proposed above.  \r\nThis code is compatible with `Apache Lucene` 5.x6.x.\r\n\r\n***CardKeyword*** class:\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    /**\r\n     * Keyword card with stem form, terms dictionary and frequency rank\r\n     */\r\n    class CardKeyword implements Comparable&lt;CardKeyword&gt; {\r\n    \r\n    \t/**\r\n    \t * Stem form of the keyword\r\n    \t */\r\n    \tprivate final String stem;\r\n    \r\n    \t/**\r\n    \t * Terms dictionary\r\n    \t */\r\n    \tprivate final Set&lt;String&gt; terms = new HashSet&lt;&gt;();\r\n    \r\n    \t/**\r\n    \t * Frequency rank\r\n    \t */\r\n    \tprivate int frequency;\r\n    \r\n    \t/**\r\n    \t * Build keyword card with stem form\r\n    \t *\r\n    \t * @param stem\r\n    \t */\r\n    \tpublic CardKeyword(String stem) {\r\n    \t\tthis.stem = stem;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Add term to the dictionary and update its frequency rank\r\n    \t *\r\n    \t * @param term\r\n    \t */\r\n    \tpublic void add(String term) {\r\n    \t\tthis.terms.add(term);\r\n    \t\tthis.frequency++;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Compare two keywords by frequency rank\r\n    \t *\r\n    \t * @param keyword\r\n    \t * @return int, which contains comparison results\r\n    \t */\r\n    \t@Override\r\n    \tpublic int compareTo(CardKeyword keyword) {\r\n    \t\treturn Integer.valueOf(keyword.frequency).compareTo(this.frequency);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Get stem&#39;s hashcode\r\n    \t *\r\n    \t * @return int, which contains stem&#39;s hashcode\r\n    \t */\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn this.getStem().hashCode();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Check if two stems are equal\r\n    \t *\r\n    \t * @param o\r\n    \t * @return boolean, true if two stems are equal\r\n    \t */\r\n    \t@Override\r\n    \tpublic boolean equals(Object o) {\r\n    \r\n    \t\tif (this == o) return true;\r\n    \r\n    \t\tif (!(o instanceof CardKeyword)) return false;\r\n    \r\n    \t\tCardKeyword that = (CardKeyword) o;\r\n    \r\n    \t\treturn this.getStem().equals(that.getStem());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Get stem form of keyword\r\n    \t *\r\n    \t * @return String, which contains getStemForm form\r\n    \t */\r\n    \tpublic String getStem() {\r\n    \t\treturn this.stem;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Get terms dictionary of the stem\r\n    \t *\r\n    \t * @return Set&lt;String&gt;, which contains set of terms of the getStemForm\r\n    \t */\r\n    \tpublic Set&lt;String&gt; getTerms() {\r\n    \t\treturn this.terms;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Get stem frequency rank\r\n    \t *\r\n    \t * @return int, which contains getStemForm frequency\r\n    \t */\r\n    \tpublic int getFrequency() {\r\n    \t\treturn this.frequency;\r\n    \t}\r\n    }\r\n\r\n***KeywordsExtractor*** class:\r\n\r\n    import org.apache.lucene.analysis.TokenStream;\r\n    import org.apache.lucene.analysis.core.LowerCaseFilter;\r\n    import org.apache.lucene.analysis.core.StopFilter;\r\n    import org.apache.lucene.analysis.en.EnglishAnalyzer;\r\n    import org.apache.lucene.analysis.en.PorterStemFilter;\r\n    import org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilter;\r\n    import org.apache.lucene.analysis.standard.ClassicFilter;\r\n    import org.apache.lucene.analysis.standard.StandardTokenizer;\r\n    import org.apache.lucene.analysis.tokenattributes.CharTermAttribute;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    import java.util.*;\r\n    \r\n    /**\r\n     * Keywords extractor functionality handler\r\n     */\r\n    class KeywordsExtractor {\r\n    \r\n    \t/**\r\n    \t * Get list of keywords with stem form, frequency rank, and terms dictionary\r\n    \t *\r\n    \t * @param fullText\r\n    \t * @return List&lt;CardKeyword&gt;, which contains keywords cards\r\n    \t * @throws IOException\r\n    \t */\r\n    \tstatic List&lt;CardKeyword&gt; getKeywordsList(String fullText) throws IOException {\r\n    \r\n    \t\tTokenStream tokenStream = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\t// treat the dashed words, don&#39;t let separate them during the processing\r\n    \t\t\tfullText = fullText.replaceAll(&quot;-+&quot;, &quot;-0&quot;);\r\n    \r\n    \t\t\t// replace any punctuation char but apostrophes and dashes with a space\r\n    \t\t\tfullText = fullText.replaceAll(&quot;[\\\\p{Punct}&amp;&amp;[^&#39;-]]+&quot;, &quot; &quot;);\r\n    \r\n    \t\t\t// replace most common English contractions\r\n    \t\t\tfullText = fullText.replaceAll(&quot;(?:&#39;(?:[tdsm]|[vr]e|ll))+\\\\b&quot;, &quot;&quot;);\r\n    \r\n    \t\t\tStandardTokenizer stdToken = new StandardTokenizer();\r\n    \t\t\tstdToken.setReader(new StringReader(fullText));\r\n    \r\n    \t\t\ttokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\r\n    \t\t\ttokenStream.reset();\r\n    \r\n    \t\t\tList&lt;CardKeyword&gt; cardKeywords = new LinkedList&lt;&gt;();\r\n    \r\n    \t\t\tCharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\r\n    \r\n    \t\t\twhile (tokenStream.incrementToken()) {\r\n    \r\n    \t\t\t\tString term = token.toString();\r\n    \t\t\t\tString stem = getStemForm(term);\r\n    \r\n    \t\t\t\tif (stem != null) {\r\n    \t\t\t\t\tCardKeyword cardKeyword = find(cardKeywords, new CardKeyword(stem.replaceAll(&quot;-0&quot;, &quot;-&quot;)));\r\n    \t\t\t\t\t// treat the dashed words back, let look them pretty\r\n    \t\t\t\t\tcardKeyword.add(term.replaceAll(&quot;-0&quot;, &quot;-&quot;));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t// reverse sort by frequency\r\n    \t\t\tCollections.sort(cardKeywords);\r\n    \r\n    \t\t\treturn cardKeywords;\r\n    \t\t} finally {\r\n    \t\t\tif (tokenStream != null) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\ttokenStream.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Get stem form of the term\r\n    \t *\r\n    \t * @param term\r\n    \t * @return String, which contains the stemmed form of the term\r\n    \t * @throws IOException\r\n    \t */\r\n    \tprivate static String getStemForm(String term) throws IOException {\r\n    \r\n    \t\tTokenStream tokenStream = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tStandardTokenizer stdToken = new StandardTokenizer();\r\n    \t\t\tstdToken.setReader(new StringReader(term));\r\n    \r\n    \t\t\ttokenStream = new PorterStemFilter(stdToken);\r\n    \t\t\ttokenStream.reset();\r\n    \r\n    \t\t\t// eliminate duplicate tokens by adding them to a set\r\n    \t\t\tSet&lt;String&gt; stems = new HashSet&lt;&gt;();\r\n    \r\n    \t\t\tCharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\r\n    \r\n    \t\t\twhile (tokenStream.incrementToken()) {\r\n    \t\t\t\tstems.add(token.toString());\r\n    \t\t\t}\r\n    \r\n    \t\t\t// if stem form was not found or more than 2 stems have been found, return null\r\n    \t\t\tif (stems.size() != 1) {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\tString stem = stems.iterator().next();\r\n    \r\n    \t\t\t// if the stem form has non-alphanumerical chars, return null\r\n    \t\t\tif (!stem.matches(&quot;[a-zA-Z0-9-]+&quot;)) {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn stem;\r\n    \t\t} finally {\r\n    \t\t\tif (tokenStream != null) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\ttokenStream.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Find sample in collection\r\n    \t *\r\n    \t * @param collection\r\n    \t * @param sample\r\n    \t * @param &lt;T&gt;\r\n    \t * @return &lt;T&gt; T, which contains the found object within collection if exists, otherwise the initially searched object\r\n    \t */\r\n    \tprivate static &lt;T&gt; T find(Collection&lt;T&gt; collection, T sample) {\r\n    \r\n    \t\tfor (T element : collection) {\r\n    \t\t\tif (element.equals(sample)) {\r\n    \t\t\t\treturn element;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tcollection.add(sample);\r\n    \r\n    \t\treturn sample;\r\n    \t}\r\n    }\r\n\r\nThe call of function:\r\n\r\n    String text = &quot;&quot;;\r\n    List&lt;CardKeyword&gt; keywordsList = KeywordsExtractor.getKeywordsList(text);","title":"Java library for keywords extraction from input text","body":"<p>An updated and ready-to-use version of the code proposed above.<br>\nThis code is compatible with <code>Apache Lucene</code> 5.x6.x.</p>\n\n<p><strong><em>CardKeyword</em></strong> class:</p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\n/**\n * Keyword card with stem form, terms dictionary and frequency rank\n */\nclass CardKeyword implements Comparable&lt;CardKeyword&gt; {\n\n    /**\n     * Stem form of the keyword\n     */\n    private final String stem;\n\n    /**\n     * Terms dictionary\n     */\n    private final Set&lt;String&gt; terms = new HashSet&lt;&gt;();\n\n    /**\n     * Frequency rank\n     */\n    private int frequency;\n\n    /**\n     * Build keyword card with stem form\n     *\n     * @param stem\n     */\n    public CardKeyword(String stem) {\n        this.stem = stem;\n    }\n\n    /**\n     * Add term to the dictionary and update its frequency rank\n     *\n     * @param term\n     */\n    public void add(String term) {\n        this.terms.add(term);\n        this.frequency++;\n    }\n\n    /**\n     * Compare two keywords by frequency rank\n     *\n     * @param keyword\n     * @return int, which contains comparison results\n     */\n    @Override\n    public int compareTo(CardKeyword keyword) {\n        return Integer.valueOf(keyword.frequency).compareTo(this.frequency);\n    }\n\n    /**\n     * Get stem's hashcode\n     *\n     * @return int, which contains stem's hashcode\n     */\n    @Override\n    public int hashCode() {\n        return this.getStem().hashCode();\n    }\n\n    /**\n     * Check if two stems are equal\n     *\n     * @param o\n     * @return boolean, true if two stems are equal\n     */\n    @Override\n    public boolean equals(Object o) {\n\n        if (this == o) return true;\n\n        if (!(o instanceof CardKeyword)) return false;\n\n        CardKeyword that = (CardKeyword) o;\n\n        return this.getStem().equals(that.getStem());\n    }\n\n    /**\n     * Get stem form of keyword\n     *\n     * @return String, which contains getStemForm form\n     */\n    public String getStem() {\n        return this.stem;\n    }\n\n    /**\n     * Get terms dictionary of the stem\n     *\n     * @return Set&lt;String&gt;, which contains set of terms of the getStemForm\n     */\n    public Set&lt;String&gt; getTerms() {\n        return this.terms;\n    }\n\n    /**\n     * Get stem frequency rank\n     *\n     * @return int, which contains getStemForm frequency\n     */\n    public int getFrequency() {\n        return this.frequency;\n    }\n}\n</code></pre>\n\n<p><strong><em>KeywordsExtractor</em></strong> class:</p>\n\n<pre><code>import org.apache.lucene.analysis.TokenStream;\nimport org.apache.lucene.analysis.core.LowerCaseFilter;\nimport org.apache.lucene.analysis.core.StopFilter;\nimport org.apache.lucene.analysis.en.EnglishAnalyzer;\nimport org.apache.lucene.analysis.en.PorterStemFilter;\nimport org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilter;\nimport org.apache.lucene.analysis.standard.ClassicFilter;\nimport org.apache.lucene.analysis.standard.StandardTokenizer;\nimport org.apache.lucene.analysis.tokenattributes.CharTermAttribute;\n\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.util.*;\n\n/**\n * Keywords extractor functionality handler\n */\nclass KeywordsExtractor {\n\n    /**\n     * Get list of keywords with stem form, frequency rank, and terms dictionary\n     *\n     * @param fullText\n     * @return List&lt;CardKeyword&gt;, which contains keywords cards\n     * @throws IOException\n     */\n    static List&lt;CardKeyword&gt; getKeywordsList(String fullText) throws IOException {\n\n        TokenStream tokenStream = null;\n\n        try {\n            // treat the dashed words, don't let separate them during the processing\n            fullText = fullText.replaceAll(\"-+\", \"-0\");\n\n            // replace any punctuation char but apostrophes and dashes with a space\n            fullText = fullText.replaceAll(\"[\\\\p{Punct}&amp;&amp;[^'-]]+\", \" \");\n\n            // replace most common English contractions\n            fullText = fullText.replaceAll(\"(?:'(?:[tdsm]|[vr]e|ll))+\\\\b\", \"\");\n\n            StandardTokenizer stdToken = new StandardTokenizer();\n            stdToken.setReader(new StringReader(fullText));\n\n            tokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\n            tokenStream.reset();\n\n            List&lt;CardKeyword&gt; cardKeywords = new LinkedList&lt;&gt;();\n\n            CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\n\n            while (tokenStream.incrementToken()) {\n\n                String term = token.toString();\n                String stem = getStemForm(term);\n\n                if (stem != null) {\n                    CardKeyword cardKeyword = find(cardKeywords, new CardKeyword(stem.replaceAll(\"-0\", \"-\")));\n                    // treat the dashed words back, let look them pretty\n                    cardKeyword.add(term.replaceAll(\"-0\", \"-\"));\n                }\n            }\n\n            // reverse sort by frequency\n            Collections.sort(cardKeywords);\n\n            return cardKeywords;\n        } finally {\n            if (tokenStream != null) {\n                try {\n                    tokenStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    /**\n     * Get stem form of the term\n     *\n     * @param term\n     * @return String, which contains the stemmed form of the term\n     * @throws IOException\n     */\n    private static String getStemForm(String term) throws IOException {\n\n        TokenStream tokenStream = null;\n\n        try {\n            StandardTokenizer stdToken = new StandardTokenizer();\n            stdToken.setReader(new StringReader(term));\n\n            tokenStream = new PorterStemFilter(stdToken);\n            tokenStream.reset();\n\n            // eliminate duplicate tokens by adding them to a set\n            Set&lt;String&gt; stems = new HashSet&lt;&gt;();\n\n            CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\n\n            while (tokenStream.incrementToken()) {\n                stems.add(token.toString());\n            }\n\n            // if stem form was not found or more than 2 stems have been found, return null\n            if (stems.size() != 1) {\n                return null;\n            }\n\n            String stem = stems.iterator().next();\n\n            // if the stem form has non-alphanumerical chars, return null\n            if (!stem.matches(\"[a-zA-Z0-9-]+\")) {\n                return null;\n            }\n\n            return stem;\n        } finally {\n            if (tokenStream != null) {\n                try {\n                    tokenStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    /**\n     * Find sample in collection\n     *\n     * @param collection\n     * @param sample\n     * @param &lt;T&gt;\n     * @return &lt;T&gt; T, which contains the found object within collection if exists, otherwise the initially searched object\n     */\n    private static &lt;T&gt; T find(Collection&lt;T&gt; collection, T sample) {\n\n        for (T element : collection) {\n            if (element.equals(sample)) {\n                return element;\n            }\n        }\n\n        collection.add(sample);\n\n        return sample;\n    }\n}\n</code></pre>\n\n<p>The call of function:</p>\n\n<pre><code>String text = \"\";\nList&lt;CardKeyword&gt; keywordsList = KeywordsExtractor.getKeywordsList(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643220662,"creation_date":1593550478,"answer_id":62666000,"question_id":17447045,"body_markdown":"A relatively simple approach based on the RAKE algorithm and [opennlp models][1] wrapped by the [rapidrake-java][2] library.\r\n\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\nimport org.apache.commons.io.IOUtils;\r\n\r\nimport io.github.crew102.rapidrake.RakeAlgorithm;\r\nimport io.github.crew102.rapidrake.model.RakeParams;\r\nimport io.github.crew102.rapidrake.model.Result;\r\n\r\npublic class KeywordExtractor {\r\n\r\n    private static String delims = &quot;[-,.?():;\\&quot;!/]&quot;;\r\n    private static String posUrl = &quot;model-bin/en-pos-maxent.bin&quot;;\r\n    private static String sentUrl = &quot;model-bin/en-sent.bin&quot;;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        InputStream stopWordsStream = KeywordExtractor.class.getResourceAsStream(&quot;/stopword-list.txt&quot;);\r\n        String[] stopWords = IOUtils.readLines(stopWordsStream, &quot;UTF-8&quot;).toArray(new String[0]);\r\n        String[] stopPOS = {&quot;VBD&quot;};\r\n        RakeParams params = new RakeParams(stopWords, stopPOS, 0, true, delims);\r\n        RakeAlgorithm rakeAlg = new RakeAlgorithm(params, posUrl, sentUrl);\r\n        Result aRes = rakeAlg.rake(&quot;I&#39;m looking for a Java library to extract keywords from a block of text.&quot;);\r\n        System.out.println(aRes);\r\n        // OUTPUT:\r\n        // [looking (1), java library (4), extract keywords (4), block (1), text (1)]\r\n    }\r\n}\r\n```\r\n\r\nAs you can see from the sample output you get a map of keywords with their relative weights.\r\n\r\n&lt;sup&gt;As explained at https://github.com/crew102/rapidrake-java you need to download the files `en-pos-maxent.bin` and `en-sent.bin` from the [opennlp download page][1], and put them into the `model-bin` folder in your project root (must be a sibling of your `src` folder if using the maven project structure). The stopwords file should go under `src/main/resources/stopword-list.txt` (assuming maven structure), can be downloaded for example from https://github.com/terrier-org/terrier-desktop/blob/master/share/stopword-list.txt.\r\n&lt;/sup&gt;\r\n\r\n  [1]: http://opennlp.sourceforge.net/models-1.5/\r\n  [2]: https://github.com/crew102/rapidrake-java","title":"Java library for keywords extraction from input text","body":"<p>A relatively simple approach based on the RAKE algorithm and <a href=\"http://opennlp.sourceforge.net/models-1.5/\" rel=\"nofollow noreferrer\">opennlp models</a> wrapped by the <a href=\"https://github.com/crew102/rapidrake-java\" rel=\"nofollow noreferrer\">rapidrake-java</a> library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\n\nimport org.apache.commons.io.IOUtils;\n\nimport io.github.crew102.rapidrake.RakeAlgorithm;\nimport io.github.crew102.rapidrake.model.RakeParams;\nimport io.github.crew102.rapidrake.model.Result;\n\npublic class KeywordExtractor {\n\n    private static String delims = &quot;[-,.?():;\\&quot;!/]&quot;;\n    private static String posUrl = &quot;model-bin/en-pos-maxent.bin&quot;;\n    private static String sentUrl = &quot;model-bin/en-sent.bin&quot;;\n\n    public static void main(String[] args) throws IOException {\n        InputStream stopWordsStream = KeywordExtractor.class.getResourceAsStream(&quot;/stopword-list.txt&quot;);\n        String[] stopWords = IOUtils.readLines(stopWordsStream, &quot;UTF-8&quot;).toArray(new String[0]);\n        String[] stopPOS = {&quot;VBD&quot;};\n        RakeParams params = new RakeParams(stopWords, stopPOS, 0, true, delims);\n        RakeAlgorithm rakeAlg = new RakeAlgorithm(params, posUrl, sentUrl);\n        Result aRes = rakeAlg.rake(&quot;I'm looking for a Java library to extract keywords from a block of text.&quot;);\n        System.out.println(aRes);\n        // OUTPUT:\n        // [looking (1), java library (4), extract keywords (4), block (1), text (1)]\n    }\n}\n</code></pre>\n<p>As you can see from the sample output you get a map of keywords with their relative weights.</p>\n<p><sup>As explained at <a href=\"https://github.com/crew102/rapidrake-java\" rel=\"nofollow noreferrer\">https://github.com/crew102/rapidrake-java</a> you need to download the files <code>en-pos-maxent.bin</code> and <code>en-sent.bin</code> from the <a href=\"http://opennlp.sourceforge.net/models-1.5/\" rel=\"nofollow noreferrer\">opennlp download page</a>, and put them into the <code>model-bin</code> folder in your project root (must be a sibling of your <code>src</code> folder if using the maven project structure). The stopwords file should go under <code>src/main/resources/stopword-list.txt</code> (assuming maven structure), can be downloaded for example from <a href=\"https://github.com/terrier-org/terrier-desktop/blob/master/share/stopword-list.txt\" rel=\"nofollow noreferrer\">https://github.com/terrier-org/terrier-desktop/blob/master/share/stopword-list.txt</a>.\n</sup></p>\n"}],"owner":{"account_id":2329099,"reputation":507,"user_id":2042929,"accept_rate":20,"display_name":"Shay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24919,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"closed_date":1593557352,"accepted_answer_id":17453157,"answer_count":3,"score":34,"last_activity_date":1643220662,"creation_date":1372851786,"question_id":17447045,"body_markdown":"I&#39;m looking for a Java library to extract keywords from a block of text.\r\n\r\nThe process should be as follows:\r\n\r\nstop word cleaning -&gt; stemming -&gt; searching for keywords based on English linguistics statistical information - meaning if a word appears more times in the text than in the English language in terms of probability than it&#39;s a keyword candidate.\r\n\r\nIs there a library that performs this task?","title":"Java library for keywords extraction from input text","body":"<p>I'm looking for a Java library to extract keywords from a block of text.</p>\n\n<p>The process should be as follows:</p>\n\n<p>stop word cleaning -> stemming -> searching for keywords based on English linguistics statistical information - meaning if a word appears more times in the text than in the English language in terms of probability than it's a keyword candidate.</p>\n\n<p>Is there a library that performs this task?</p>\n"},{"tags":["java","frontend"],"answers":[{"tags":[],"owner":{"display_name":"user14385290"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643220589,"creation_date":1643220589,"answer_id":70868272,"question_id":70868113,"body_markdown":"I think it&#39;s better one API for fetching multiple data together between frontend and backend. Afterwards you can manage the data as you want in the frontend. If you want I try to get you a small demo if you give me more details. What frontend and backend framework do you use? ","title":"One api for fetching one data or one api for fetching multiple data togetter?","body":"<p>I think it's better one API for fetching multiple data together between frontend and backend. Afterwards you can manage the data as you want in the frontend. If you want I try to get you a small demo if you give me more details. What frontend and backend framework do you use?</p>\n"}],"owner":{"account_id":2198274,"reputation":332,"user_id":1943394,"accept_rate":88,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643220589,"creation_date":1643219809,"question_id":70868113,"body_markdown":"I got a problem on how design the webpage api as the image I attached.there is 8 sections(as red boxes marked) of data should being displayed in one webpage . how to design api for this page? One api for fetching one data or one api for fetching multiple data togetter between frontend and backend?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MTdwC.png","title":"One api for fetching one data or one api for fetching multiple data togetter?","body":"<p>I got a problem on how design the webpage api as the image I attached.there is 8 sections(as red boxes marked) of data should being displayed in one webpage . how to design api for this page? One api for fetching one data or one api for fetching multiple data togetter between frontend and backend?\n<a href=\"https://i.stack.imgur.com/MTdwC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MTdwC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","kotlin","calendar"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643143397,"post_id":70855240,"comment_id":125260969,"body_markdown":"The reason what you did didn&#39;t work is that your `val day` is the result of calling `calendar.add` which doesn&#39;t return anything, so it just has a value of `kotlin.Unit`. But I  don&#39;t understand from your description exactly what you&#39;re trying to do so I&#39;m not sure what else to tell you. The Calendar class is obsolete and you should use LocalDate instead. You got bitten because Calendar is a mutable class, one of its numerous shortcomings.","body":"The reason what you did didn&#39;t work is that your <code>val day</code> is the result of calling <code>calendar.add</code> which doesn&#39;t return anything, so it just has a value of <code>kotlin.Unit</code>. But I  don&#39;t understand from your description exactly what you&#39;re trying to do so I&#39;m not sure what else to tell you. The Calendar class is obsolete and you should use LocalDate instead. You got bitten because Calendar is a mutable class, one of its numerous shortcomings."},{"owner":{"account_id":18698467,"reputation":15,"user_id":13631197,"display_name":"helciohjr"},"score":0,"creation_date":1643207670,"post_id":70855240,"comment_id":125278314,"body_markdown":"Basically what I want to do is take the days of the week and add them to a weekly calendar on a mobile screen. For example, today is the 26th, so I want to take &#39;26&#39; and put it inside the textView according to the day of the week.","body":"Basically what I want to do is take the days of the week and add them to a weekly calendar on a mobile screen. For example, today is the 26th, so I want to take &#39;26&#39; and put it inside the textView according to the day of the week."},{"owner":{"account_id":18698467,"reputation":15,"user_id":13631197,"display_name":"helciohjr"},"score":0,"creation_date":1643207777,"post_id":70855240,"comment_id":125278373,"body_markdown":"add every day of the week to the weekly calendar https://i.stack.imgur.com/jw89K.jpg","body":"add every day of the week to the weekly calendar <a href=\"https://i.stack.imgur.com/jw89K.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/jw89K.jpg</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643209758,"post_id":70855240,"comment_id":125279255,"body_markdown":"Maybe it would be easier to explain by taking a step back and just describing the exact data you need. For example, &quot;I want to determine what day of the week is the first day of a month in a given year.&quot;","body":"Maybe it would be easier to explain by taking a step back and just describing the exact data you need. For example, &quot;I want to determine what day of the week is the first day of a month in a given year.&quot;"},{"owner":{"account_id":18698467,"reputation":15,"user_id":13631197,"display_name":"helciohjr"},"score":0,"creation_date":1643212146,"post_id":70855240,"comment_id":125280353,"body_markdown":"it&#39;s a weekly calendar I only look for the days of the current week, for example, this week it goes from the 23rd to the 29th, so I want to display: 23, 24, 25, 26, 27, 28, 29, using native mobile resources","body":"it&#39;s a weekly calendar I only look for the days of the current week, for example, this week it goes from the 23rd to the 29th, so I want to display: 23, 24, 25, 26, 27, 28, 29, using native mobile resources"}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643216697,"creation_date":1643143386,"answer_id":70855408,"question_id":70855240,"body_markdown":"    val day = Calendar.DAY_OF_MONTH.toString()\r\n    binding.txtNumeroTerca.text = day","title":"how do i get the days of the week using kotlin in android studio?","body":"<pre><code>val day = Calendar.DAY_OF_MONTH.toString()\nbinding.txtNumeroTerca.text = day\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16661732,"reputation":66,"user_id":12041519,"display_name":"Karol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643144431,"creation_date":1643144431,"answer_id":70855617,"question_id":70855240,"body_markdown":"It is because add() method returns nothing. If you want to get day of month, try something like that:\r\n\r\n    val calendar: Calendar = Calendar.getInstance()\r\n\r\n    calendar.add(Calendar.DAY_OF_MONTH, Calendar.TUESDAY)\r\n    val day= calendar.get(Calendar.DAY_OF_MONTH)\r\n\r\n    binding.txtNumeroTerca.text = day.toString()\r\nAnd I recommend using numbers in add() method than code of week days.","title":"how do i get the days of the week using kotlin in android studio?","body":"<p>It is because add() method returns nothing. If you want to get day of month, try something like that:</p>\n<pre><code>val calendar: Calendar = Calendar.getInstance()\n\ncalendar.add(Calendar.DAY_OF_MONTH, Calendar.TUESDAY)\nval day= calendar.get(Calendar.DAY_OF_MONTH)\n\nbinding.txtNumeroTerca.text = day.toString()\n</code></pre>\n<p>And I recommend using numbers in add() method than code of week days.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643220565,"creation_date":1643219081,"answer_id":70867946,"question_id":70855240,"body_markdown":"You can do this with LocalDate. From a given date (I set it to today by default in the example code), find the first day of the week by using `TemporalAdjusters.previousOrSame` to get the most recent Sunday. Then use another TemporalAdjuster to get next occurrence of the input day of the week.\r\n\r\n```\r\nfun DayOfWeek.dayOfMonth(dateInWeek: LocalDate = LocalDate.now()): Int {\r\n    val firstDateOfWeek = dateInWeek.with(TemporalAdjusters.previousOrSame(DayOfWeek.SUNDAY))\r\n    val dateOfDayOfWeek = firstDateOfWeek.with(TemporalAdjusters.nextOrSame(this))\r\n    return dateOfDayOfWeek.dayOfMonth\r\n}\r\n\r\n// ...\r\n\r\nbinding.txtNumeroQuarta = DayOfWeek.THURSDAY.dayOfMonth().toString()","title":"how do i get the days of the week using kotlin in android studio?","body":"<p>You can do this with LocalDate. From a given date (I set it to today by default in the example code), find the first day of the week by using <code>TemporalAdjusters.previousOrSame</code> to get the most recent Sunday. Then use another TemporalAdjuster to get next occurrence of the input day of the week.</p>\n<pre><code>fun DayOfWeek.dayOfMonth(dateInWeek: LocalDate = LocalDate.now()): Int {\n    val firstDateOfWeek = dateInWeek.with(TemporalAdjusters.previousOrSame(DayOfWeek.SUNDAY))\n    val dateOfDayOfWeek = firstDateOfWeek.with(TemporalAdjusters.nextOrSame(this))\n    return dateOfDayOfWeek.dayOfMonth\n}\n\n// ...\n\nbinding.txtNumeroQuarta = DayOfWeek.THURSDAY.dayOfMonth().toString()\n</code></pre>\n"}],"owner":{"account_id":18698467,"reputation":15,"user_id":13631197,"display_name":"helciohjr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70867946,"answer_count":3,"score":1,"last_activity_date":1643220565,"creation_date":1643142305,"question_id":70855240,"body_markdown":"I&#39;m trying to get the day number to put that number in a textView. for example, we know that today is Wednesday the 26th, knowing this information, I want to take this number &quot;26&quot; and put it inside a textView that will be displayed inside a screen that has a weekly calendar. so I try to help create a logic that tells me if it&#39;s Wednesday it returns the current day of the week (26), if I tell Thursday, it returns me (27) and so on for the entire week. tks. ;) \r\n\r\n    val diaDaSemana: DayOfWeek\r\n        diaDaSemana.get(DayOfWeek.THURSDAY)\r\n        binding.txtNumeroQuarta = diaDaSemana.toString()\r\n\r\nI&#39;m trying this way to get the day.\r\n\r\ncalender image : \r\n\r\n[![calender image][1]][1]\r\n\r\nbasically I just want the number informing the week, for example, I inform you that it&#39;s Wednesday, then you have to return me on the 26th so I can put it in the textView.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KtXecm.png","title":"how do i get the days of the week using kotlin in android studio?","body":"<p>I'm trying to get the day number to put that number in a textView. for example, we know that today is Wednesday the 26th, knowing this information, I want to take this number &quot;26&quot; and put it inside a textView that will be displayed inside a screen that has a weekly calendar. so I try to help create a logic that tells me if it's Wednesday it returns the current day of the week (26), if I tell Thursday, it returns me (27) and so on for the entire week. tks. ;)</p>\n<pre><code>val diaDaSemana: DayOfWeek\n    diaDaSemana.get(DayOfWeek.THURSDAY)\n    binding.txtNumeroQuarta = diaDaSemana.toString()\n</code></pre>\n<p>I'm trying this way to get the day.</p>\n<p>calender image :</p>\n<p><a href=\"https://i.stack.imgur.com/KtXecm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KtXecm.png\" alt=\"calender image\" /></a></p>\n<p>basically I just want the number informing the week, for example, I inform you that it's Wednesday, then you have to return me on the 26th so I can put it in the textView.</p>\n"},{"tags":["java","java-stream","groupingby"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":2,"creation_date":1643210847,"post_id":70865743,"comment_id":125279736,"body_markdown":"`groupingBy` will put each student into a group. It can&#39;t put them into multiple groups if they match multiple criteria. How can it, right? `checkFunction` returns a single `String` group name, not a list of names.","body":"<code>groupingBy</code> will put each student into a group. It can&#39;t put them into multiple groups if they match multiple criteria. How can it, right? <code>checkFunction</code> returns a single <code>String</code> group name, not a list of names."},{"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"score":0,"creation_date":1643212975,"post_id":70865743,"comment_id":125280760,"body_markdown":"Yes @JohnKugelman I understood. It is very much possible by iterating the List 3 times and fetch data individually. I was attempting an optimal solution","body":"Yes @JohnKugelman I understood. It is very much possible by iterating the List 3 times and fetch data individually. I was attempting an optimal solution"},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1643213187,"post_id":70865743,"comment_id":125280843,"body_markdown":"Do you need to build the per-group lists? The most direct approach is to iterate over `students` once, check each student against the three conditions, and do the applicable actions, without building up any sub-lists.","body":"Do you need to build the per-group lists? The most direct approach is to iterate over <code>students</code> once, check each student against the three conditions, and do the applicable actions, without building up any sub-lists."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1643213204,"post_id":70865743,"comment_id":125280849,"body_markdown":"Does this answer your question? [Java 8 group by String](https://stackoverflow.com/questions/50411257/java-8-group-by-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50411257/java-8-group-by-string\">Java 8 group by String</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643213247,"post_id":70865743,"comment_id":125280874,"body_markdown":"Also [Java stream and groupping: put object to multiple groups](https://stackoverflow.com/q/59968420/525036), which is also a duplicate of the former.","body":"Also <a href=\"https://stackoverflow.com/q/59968420/525036\">Java stream and groupping: put object to multiple groups</a>, which is also a duplicate of the former."},{"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"score":0,"creation_date":1643218056,"post_id":70865743,"comment_id":125283109,"body_markdown":"@DidierL I did something like,\nMap&lt;String, List&lt;Student&gt;&gt; result = students.stream()\n\t\t\t\t.collect(Collectors.groupingBy(checkFunction, Collectors.mapping(e -&gt; e, Collectors.toList())));\nbut same result! In my case, there is no collection of data inside the object. So I think flatmap is not relevant here","body":"@DidierL I did something like, Map&lt;String, List&lt;Student&gt;&gt; result = students.stream() \t\t\t\t.collect(Collectors.groupingBy(checkFunction, Collectors.mapping(e -&gt; e, Collectors.toList()))); but same result! In my case, there is no collection of data inside the object. So I think flatmap is not relevant here"},{"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"score":0,"creation_date":1643220786,"post_id":70865743,"comment_id":125284209,"body_markdown":"Thanks @DidierL that solves my case :-)","body":"Thanks @DidierL that solves my case :-)"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643220388,"creation_date":1643220388,"answer_id":70868229,"question_id":70865743,"body_markdown":"This can be handled like in [Java 8 group by String](https://stackoverflow.com/questions/50411257/java-8-group-by-string) but you will have to adapt `checkFunction` to actually return the groups of each `Student`.\r\n\r\n\tprivate Stream&lt;String&gt; mapToGroups(Student e) {\r\n\t\tBuilder&lt;String&gt; builder = Stream.builder();\r\n\t\tboolean isException = false;\r\n\t\tif (e.getName().startsWith(&quot;A&quot;)) {\r\n\t\t\tbuilder.add(&quot;A-List&quot;);\r\n\t\t} else if (e.getName().startsWith(&quot;P&quot;)) {\r\n\t\t\tbuilder.add(&quot;P-List&quot;);\r\n\t\t} else {\r\n\t\t\tisException = true;\r\n\t\t}\r\n\t\tif (e.getAge() &gt;= 30) {\r\n\t\t\tbuilder.add(&quot;30&#39;s-List&quot;);\r\n\t\t} else if (isException) {\r\n\t\t\tbuilder.add(&quot;Exception-List&quot;);\r\n\t\t}\r\n\t\treturn builder.build();\r\n\t}\r\n\r\nHowever, if we were to use this function in a `flatMap()` call, we would loose the `Student` in the process. So what we really want is having this method return `String&lt;Map.Entry&lt;String, Student&gt;&gt;` so that we can later user the key for grouping and the value for collecting the groups:\r\n\r\n\tprivate Stream&lt;Entry&lt;String, Student&gt;&gt; mapToGroupEntries(Student e) {\r\n\t\tBuilder&lt;Entry&lt;String, Student&gt;&gt; builder = Stream.builder();\r\n\t\tboolean isException = false;\r\n\t\tif (e.getName().startsWith(&quot;A&quot;)) {\r\n\t\t\tbuilder.add(new SimpleEntry&lt;&gt;(&quot;A-List&quot;, e));\r\n\t\t} else if (e.getName().startsWith(&quot;P&quot;)) {\r\n\t\t\tbuilder.add(new SimpleEntry&lt;&gt;(&quot;P-List&quot;, e));\r\n\t\t} else {\r\n\t\t\tisException = true;\r\n\t\t}\r\n\t\tif (e.getAge() &gt;= 30) {\r\n\t\t\tbuilder.add(new SimpleEntry&lt;&gt;(&quot;30&#39;s-List&quot;, e));\r\n\t\t} else if (isException) {\r\n\t\t\tbuilder.add(new SimpleEntry&lt;&gt;(&quot;Exception-List&quot;, e));\r\n\t\t}\r\n\t\treturn builder.build();\r\n\t}\r\n\r\nWe can now use this function as part of a `flatMap()` call to convert our `Stream&lt;Student&gt;` to a `Stream&lt;Entry&lt;String, Student&gt;&gt;` and then group them:\r\n\r\n\tMap&lt;String, List&lt;Student&gt;&gt; result = students.stream()\r\n\t\t\t.flatMap(s -&gt; mapToGroupEntries(s))\r\n\t\t\t.collect(Collectors.groupingBy(Entry::getKey,\r\n\t\t\t\t\tCollectors.mapping(Entry::getValue, Collectors.toList())));\r\n\r\n","title":"Group a list of objects with multiple conditions","body":"<p>This can be handled like in <a href=\"https://stackoverflow.com/questions/50411257/java-8-group-by-string\">Java 8 group by String</a> but you will have to adapt <code>checkFunction</code> to actually return the groups of each <code>Student</code>.</p>\n<pre><code>private Stream&lt;String&gt; mapToGroups(Student e) {\n    Builder&lt;String&gt; builder = Stream.builder();\n    boolean isException = false;\n    if (e.getName().startsWith(&quot;A&quot;)) {\n        builder.add(&quot;A-List&quot;);\n    } else if (e.getName().startsWith(&quot;P&quot;)) {\n        builder.add(&quot;P-List&quot;);\n    } else {\n        isException = true;\n    }\n    if (e.getAge() &gt;= 30) {\n        builder.add(&quot;30's-List&quot;);\n    } else if (isException) {\n        builder.add(&quot;Exception-List&quot;);\n    }\n    return builder.build();\n}\n</code></pre>\n<p>However, if we were to use this function in a <code>flatMap()</code> call, we would loose the <code>Student</code> in the process. So what we really want is having this method return <code>String&lt;Map.Entry&lt;String, Student&gt;&gt;</code> so that we can later user the key for grouping and the value for collecting the groups:</p>\n<pre><code>private Stream&lt;Entry&lt;String, Student&gt;&gt; mapToGroupEntries(Student e) {\n    Builder&lt;Entry&lt;String, Student&gt;&gt; builder = Stream.builder();\n    boolean isException = false;\n    if (e.getName().startsWith(&quot;A&quot;)) {\n        builder.add(new SimpleEntry&lt;&gt;(&quot;A-List&quot;, e));\n    } else if (e.getName().startsWith(&quot;P&quot;)) {\n        builder.add(new SimpleEntry&lt;&gt;(&quot;P-List&quot;, e));\n    } else {\n        isException = true;\n    }\n    if (e.getAge() &gt;= 30) {\n        builder.add(new SimpleEntry&lt;&gt;(&quot;30's-List&quot;, e));\n    } else if (isException) {\n        builder.add(new SimpleEntry&lt;&gt;(&quot;Exception-List&quot;, e));\n    }\n    return builder.build();\n}\n</code></pre>\n<p>We can now use this function as part of a <code>flatMap()</code> call to convert our <code>Stream&lt;Student&gt;</code> to a <code>Stream&lt;Entry&lt;String, Student&gt;&gt;</code> and then group them:</p>\n<pre><code>Map&lt;String, List&lt;Student&gt;&gt; result = students.stream()\n        .flatMap(s -&gt; mapToGroupEntries(s))\n        .collect(Collectors.groupingBy(Entry::getKey,\n                Collectors.mapping(Entry::getValue, Collectors.toList())));\n</code></pre>\n"}],"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643222503,"accepted_answer_id":70868229,"answer_count":1,"score":0,"last_activity_date":1643220388,"creation_date":1643210040,"question_id":70865743,"body_markdown":"    public class Student {\r\n    \tString name;\r\n    \tint age;\r\n    }\r\n\r\nI have a list of `Student` objects and I need to group them according to specific logic:\r\n\r\n1. Group all students whose name starts with &quot;A&quot;\r\n2. Group all students whose name starts with &quot;P&quot;\r\n3. Group all students whose age is greater than or equal to 30\r\n\r\nSo far I what I have done:\r\n\r\n    List&lt;Student&gt; students = List.of(\r\n         new Student(&quot;Alex&quot;, 31), \r\n         new Student(&quot;Peter&quot;, 33), \r\n         new Student(&quot;Antony&quot;, 32),\r\n         new Student(&quot;Pope&quot;, 40), \r\n         new Student(&quot;Michel&quot;, 30));\r\n    \r\n\tFunction&lt;Student, String&gt; checkFunction = e -&gt; {\r\n\t\tif (e.getName().startsWith(&quot;A&quot;)) {\r\n\t\t\treturn &quot;A-List&quot;;\r\n\t\t} else if (e.getName().startsWith(&quot;P&quot;)) {\r\n\t\t\treturn &quot;P-List&quot;;\r\n\t\t} else if (e.getAge() &gt;= 30) {\r\n\t\t\treturn &quot;30&#39;s-List&quot;;\r\n\t\t} else {\r\n\t\t\treturn &quot;Exception-List&quot;;\r\n\t\t}\r\n\t};\r\n\r\n\tMap&lt;String, List&lt;Student&gt;&gt; result = students.stream().collect(Collectors.groupingBy(checkFunction));\r\n\r\n\tfor (var entry : result.entrySet()) {\r\n\t\tSystem.out.println(entry.getKey() + &quot;---&quot;);\r\n\t\tfor (Student std : entry.getValue()) {\r\n\t\t\tSystem.out.println(std.getName());\r\n\t\t}\r\n\t}\r\n\r\noutput\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    A-List---\r\n    Alex\r\n    Antony\r\n    P-List---\r\n    Peter\r\n    Pope\r\n    30&#39;s-List---\r\n    Michel\r\n\r\nI understand this logic what I am following is wrong, that is why the 30&#39;s list is not populated correctly. Is it really possible with `groupingBy()`?","title":"Group a list of objects with multiple conditions","body":"<pre><code>public class Student {\n    String name;\n    int age;\n}\n</code></pre>\n<p>I have a list of <code>Student</code> objects and I need to group them according to specific logic:</p>\n<ol>\n<li>Group all students whose name starts with &quot;A&quot;</li>\n<li>Group all students whose name starts with &quot;P&quot;</li>\n<li>Group all students whose age is greater than or equal to 30</li>\n</ol>\n<p>So far I what I have done:</p>\n<pre><code>List&lt;Student&gt; students = List.of(\n     new Student(&quot;Alex&quot;, 31), \n     new Student(&quot;Peter&quot;, 33), \n     new Student(&quot;Antony&quot;, 32),\n     new Student(&quot;Pope&quot;, 40), \n     new Student(&quot;Michel&quot;, 30));\n\nFunction&lt;Student, String&gt; checkFunction = e -&gt; {\n    if (e.getName().startsWith(&quot;A&quot;)) {\n        return &quot;A-List&quot;;\n    } else if (e.getName().startsWith(&quot;P&quot;)) {\n        return &quot;P-List&quot;;\n    } else if (e.getAge() &gt;= 30) {\n        return &quot;30's-List&quot;;\n    } else {\n        return &quot;Exception-List&quot;;\n    }\n};\n\nMap&lt;String, List&lt;Student&gt;&gt; result = students.stream().collect(Collectors.groupingBy(checkFunction));\n\nfor (var entry : result.entrySet()) {\n    System.out.println(entry.getKey() + &quot;---&quot;);\n    for (Student std : entry.getValue()) {\n        System.out.println(std.getName());\n    }\n}\n</code></pre>\n<p>output</p>\n<pre class=\"lang-none prettyprint-override\"><code>A-List---\nAlex\nAntony\nP-List---\nPeter\nPope\n30's-List---\nMichel\n</code></pre>\n<p>I understand this logic what I am following is wrong, that is why the 30's list is not populated correctly. Is it really possible with <code>groupingBy()</code>?</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643220255,"creation_date":1643220255,"answer_id":70868204,"question_id":70843838,"body_markdown":"I&#39;m going to assume these models (irrelevant bits omitted; assume getters and setters):\r\n\r\n```\r\nclass User {\r\n  private Name name; // Name model not shown, not relevant to this question\r\n  private Phone phone;\r\n  private String dob;\r\n}\r\nclass Phone {\r\n  private String phoneType;\r\n  private String phoneNumber;\r\n}\r\n\r\n```\r\n\r\nWe can then write a rule like this:\r\n\r\n\r\n```\r\nrule &quot;Invalid Phone Number&quot;\r\nwhen\r\n  $user: User( $phoneNumbers: phone )\r\n  exists( Phone( phoneNumber not matches &quot;^([0-9]{3})[0-9]{3}-[0-9]{4}$&quot; ) from $phoneNumbers)\r\nthen\r\n  // $user has at least 1 phone number which doesn&#39;t match the pattern\r\nend\r\n```\r\n\r\nThis rule is useful when we only need to know that there exists a bad value. It gets a little more interesting if we actually need to get those bad values (eg. if we want to report out a better error message.)\r\n\r\nIf we want to trigger the consequences for _each_ bad phone number (eg. if there are 3 phone numbers and 2 are bad, we want to trigger the &quot;then&quot; twice) we could do like this:\r\n\r\n```\r\nrule &quot;Invalid Phone Number - trigger for each&quot;\r\nwhen\r\n  $user: User( $phoneNumbers: phone )\r\n  $badPhone: Phone( phoneNumber not matches &quot;^([0-9]{3})[0-9]{3}-[0-9]{4}$&quot;) from $phoneNumbers\r\nthen\r\n  // here $badPhone will be a phone number for $user that doesn&#39;t match the pattern\r\nend\r\n```\r\n\r\nYou might want to write a rule like this if you want to do something for each bad phone number individually. Consider maybe if we were doing &quot;verified&quot; phone numbers -- for example, they text you passcode that you have to use to verify your phone number; in this case you could text each phone number, one-by-one, to go through this verification process.\r\n\r\nAlternatively we could just collect up all of the bad phone numbers and trigger the consequences once for all of those numbers, collectively.\r\n\r\n```\r\nrule &quot;Invalid Phone Number - trigger once for all&quot;\r\nwhen\r\n  $user: User( $phoneNumbers: phone )\r\n  $badNumbers: List( size &gt; 0 ) from collect (\r\n      Phone( phoneNumber not matches &quot;^([0-9]{3})[0-9]{3}-[0-9]{4}$&quot;) from $phoneNumbers\r\n  )\r\nthen\r\n  // $badNumbers is a list of all of the Phone objects that don&#39;t match\r\n  // the pattern and belong to $user\r\nend\r\n```","title":"Loop through a list on Drool rules","body":"<p>I'm going to assume these models (irrelevant bits omitted; assume getters and setters):</p>\n<pre><code>class User {\n  private Name name; // Name model not shown, not relevant to this question\n  private Phone phone;\n  private String dob;\n}\nclass Phone {\n  private String phoneType;\n  private String phoneNumber;\n}\n\n</code></pre>\n<p>We can then write a rule like this:</p>\n<pre><code>rule &quot;Invalid Phone Number&quot;\nwhen\n  $user: User( $phoneNumbers: phone )\n  exists( Phone( phoneNumber not matches &quot;^([0-9]{3})[0-9]{3}-[0-9]{4}$&quot; ) from $phoneNumbers)\nthen\n  // $user has at least 1 phone number which doesn't match the pattern\nend\n</code></pre>\n<p>This rule is useful when we only need to know that there exists a bad value. It gets a little more interesting if we actually need to get those bad values (eg. if we want to report out a better error message.)</p>\n<p>If we want to trigger the consequences for <em>each</em> bad phone number (eg. if there are 3 phone numbers and 2 are bad, we want to trigger the &quot;then&quot; twice) we could do like this:</p>\n<pre><code>rule &quot;Invalid Phone Number - trigger for each&quot;\nwhen\n  $user: User( $phoneNumbers: phone )\n  $badPhone: Phone( phoneNumber not matches &quot;^([0-9]{3})[0-9]{3}-[0-9]{4}$&quot;) from $phoneNumbers\nthen\n  // here $badPhone will be a phone number for $user that doesn't match the pattern\nend\n</code></pre>\n<p>You might want to write a rule like this if you want to do something for each bad phone number individually. Consider maybe if we were doing &quot;verified&quot; phone numbers -- for example, they text you passcode that you have to use to verify your phone number; in this case you could text each phone number, one-by-one, to go through this verification process.</p>\n<p>Alternatively we could just collect up all of the bad phone numbers and trigger the consequences once for all of those numbers, collectively.</p>\n<pre><code>rule &quot;Invalid Phone Number - trigger once for all&quot;\nwhen\n  $user: User( $phoneNumbers: phone )\n  $badNumbers: List( size &gt; 0 ) from collect (\n      Phone( phoneNumber not matches &quot;^([0-9]{3})[0-9]{3}-[0-9]{4}$&quot;) from $phoneNumbers\n  )\nthen\n  // $badNumbers is a list of all of the Phone objects that don't match\n  // the pattern and belong to $user\nend\n</code></pre>\n"}],"owner":{"account_id":10371966,"reputation":491,"user_id":7649369,"accept_rate":75,"display_name":"DoArNa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643220268,"creation_date":1643088732,"question_id":70843838,"body_markdown":"I  need to write a rule using Drool that will validate that the phone number is valid US number (for the sake of this answer we can use this regex &quot;^\\([0-9]{3}\\)[0-9]{3}-[0-9]{4}$&quot;)\r\n\r\nThe object structure is like this: \r\n\r\n    {\r\n      &quot;name&quot;: {&quot;firstName&quot;:&quot;John&quot;, &quot;lastName&quot;:&quot;Smith&quot;},\r\n      &quot;phone&quot;: [{&quot;phoneType&quot;: &quot;mobile&quot;, &quot;phoneNumber&quot;:&quot;123456789&quot;}],\r\n      &quot;dob&quot;:&quot;01/01/2000&quot;\r\n    }\r\n\r\nBecause phone is a list, I don&#39;t know how to loop and validate this object. For instance the validation for &quot;dob&quot; field looks something like this:\r\n\r\n    rule &quot;RuleId: Drool01, Validate dob&quot;\r\n      when\r\n         $user: user(dob != null)\r\n         user(dob not matches &quot;(?:0[1-9]|1[012])&quot; from $user\r\n      then\r\n        modify($user){setDob(null)};\r\n\r\nI appreciate any help on this. I apologize if this is very basic but I literally just started to use Drools.","title":"Loop through a list on Drool rules","body":"<p>I  need to write a rule using Drool that will validate that the phone number is valid US number (for the sake of this answer we can use this regex &quot;^([0-9]{3})[0-9]{3}-[0-9]{4}$&quot;)</p>\n<p>The object structure is like this:</p>\n<pre><code>{\n  &quot;name&quot;: {&quot;firstName&quot;:&quot;John&quot;, &quot;lastName&quot;:&quot;Smith&quot;},\n  &quot;phone&quot;: [{&quot;phoneType&quot;: &quot;mobile&quot;, &quot;phoneNumber&quot;:&quot;123456789&quot;}],\n  &quot;dob&quot;:&quot;01/01/2000&quot;\n}\n</code></pre>\n<p>Because phone is a list, I don't know how to loop and validate this object. For instance the validation for &quot;dob&quot; field looks something like this:</p>\n<pre><code>rule &quot;RuleId: Drool01, Validate dob&quot;\n  when\n     $user: user(dob != null)\n     user(dob not matches &quot;(?:0[1-9]|1[012])&quot; from $user\n  then\n    modify($user){setDob(null)};\n</code></pre>\n<p>I appreciate any help on this. I apologize if this is very basic but I literally just started to use Drools.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1644017909,"post_id":70867771,"comment_id":125502525,"body_markdown":"Please &quot;upvote&quot; and &quot;accept&quot; WJS&#39;s answer below.  You *DON&#39;T* need (or want!) &quot;two scanners&quot;.  You simply want to read two subsequent inputs from the *SAME* scanner.","body":"Please &quot;upvote&quot; and &quot;accept&quot; WJS&#39;s answer below.  You <i>DON&#39;T</i> need (or want!) &quot;two scanners&quot;.  You simply want to read two subsequent inputs from the <i>SAME</i> scanner."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643220012,"creation_date":1643219660,"answer_id":70868080,"question_id":70867771,"body_markdown":"Don&#39;t use two Scanners.  It isn&#39;t necessary. Try the following (which you may need to adjust for your specific application).\r\n- this will continue to prompt until a valid double is entered.\r\n- then it will break out of the while loop.\r\n```\r\nScanner scan = new Scanner(System.in);\r\ndouble d = 0;\r\nwhile (true) {\r\n\tSystem.out.print(&quot;Enter a double value: &quot;);\r\n\tString possibleDouble = scan.next();\r\n\ttry {\r\n\t\td = Double.parseDouble(possibleDouble);\r\n\t\tbreak;\r\n    } catch (NumberFormatException ne) {\r\n\t\tSystem.out.printf(&quot;bad input (%s) - try again!%n&quot;, \r\n                         possibleDouble);\r\n\t}\r\n}\r\nSystem.out.println(d);\r\n```\r\nYou could put the above in a method with specific args to validate input.","title":"How to make a single input satisfy 2 scanners at the same time","body":"<p>Don't use two Scanners.  It isn't necessary. Try the following (which you may need to adjust for your specific application).</p>\n<ul>\n<li>this will continue to prompt until a valid double is entered.</li>\n<li>then it will break out of the while loop.</li>\n</ul>\n<pre><code>Scanner scan = new Scanner(System.in);\ndouble d = 0;\nwhile (true) {\n    System.out.print(&quot;Enter a double value: &quot;);\n    String possibleDouble = scan.next();\n    try {\n        d = Double.parseDouble(possibleDouble);\n        break;\n    } catch (NumberFormatException ne) {\n        System.out.printf(&quot;bad input (%s) - try again!%n&quot;, \n                         possibleDouble);\n    }\n}\nSystem.out.println(d);\n</code></pre>\n<p>You could put the above in a method with specific args to validate input.</p>\n"}],"owner":{"account_id":23775493,"reputation":1,"user_id":17789014,"display_name":"Shaia Schlie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643220012,"creation_date":1643218283,"question_id":70867771,"body_markdown":"So I&#39;m making a calculator app, and I&#39;m stucked in this one, I&#39;m wondering if there&#39;s a way to make a single input from the user for two scanners at the same time. Because I&#39;m planning to create a **Double** (*scanner.nextDouble()*) variable while also checking if it&#39;s **true** or **false** that it is  containing a number (*scanner.hasNextDouble()*). \r\n\r\n\r\nbtw, I&#39;m a beginner so I&#39;m sorry if my question is hard to understand.\r\n\r\n\r\n----------\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Actions {\r\n    static Scanner scanner = new Scanner(System.in);\r\n    private final double x;\r\n    private final double y;\r\n    private final int operation;\r\n\r\n    Actions() {\r\n        this.x = getDoubleX();\r\n        this.y = getDoubleY();\r\n        this.operation = getOperation();\r\n        showAnswer();\r\n    }\r\n\r\n    public static double getDoubleX() {\r\n        double temp = 0;\r\n        String temp1;\r\n        boolean temp2 = true;\r\n\r\n        System.out.println(&quot;input your first number: &quot;);\r\n\r\n        while (temp2) {\r\n             /*\r\n        I tried a solution like this. but it didn&#39;t work out.\r\n         */\r\n            temp1 = scanner.nextLine();\r\n            temp = Double.parseDouble(temp1);\r\n            if (Double.isNaN(temp)) {\r\n                System.out.println(&quot;try again! &quot;);\r\n            } else {\r\n                temp2 = false;\r\n            }\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    public static double getDoubleY() {\r\n        double temp = 0;\r\n        boolean temp1 = true;\r\n        boolean temp2 = false;       //I&#39;m talking about this\r\n        System.out.println(&quot;input your second number: &quot;);\r\n        while (temp1) {\r\n            temp = scanner.nextDouble();\r\n            if (!Double.isNaN(temp)){\r\n                temp1=false;\r\n            } else {\r\n                System.out.println(&quot;try again!&quot;);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    public static int getOperation() {\r\n        int temp = 0;\r\n        boolean temp1 = true;\r\n\r\n        System.out.println(&quot;input your desired operation, \\n&quot; +\r\n                &quot;1 = addition, 2 = subtraction, 3 = multiplication, 4 = division&quot;);\r\n        while (temp1) {\r\n            temp = scanner.nextInt();\r\n            if (temp &gt;= 1 &amp;&amp; temp &lt;= 4) {\r\n                temp1 = false;\r\n            } else {\r\n                System.out.println(&quot;try again&quot;);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    public void showAnswer() {\r\n        if (x % 1 == 0 &amp; y % 1 == 0) {\r\n            if (operation == 1) {\r\n                System.out.println(&quot;the sum is: &quot; + Math.round(x + y));\r\n            } else if (operation == 2) {\r\n                System.out.println(&quot;the difference is: &quot; + Math.round(x - y));\r\n            } else if (operation == 3) {\r\n                System.out.println(&quot;the product is: &quot; + Math.round(x * y));\r\n            } else {\r\n                System.out.println(&quot;the quotient is: &quot; + Math.round(x / y));\r\n            }\r\n        } else {\r\n            if (operation == 1) {\r\n                System.out.println(&quot;the sum is: &quot; + (x + y));\r\n            } else if (operation == 2) {\r\n                System.out.println(&quot;the difference is: &quot; + (x - y));\r\n            } else if (operation == 3) {\r\n                System.out.println(&quot;the product is: &quot; + (x * y));\r\n            } else {\r\n                System.out.println(&quot;the quotient is: &quot; + (x / y));\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"How to make a single input satisfy 2 scanners at the same time","body":"<p>So I'm making a calculator app, and I'm stucked in this one, I'm wondering if there's a way to make a single input from the user for two scanners at the same time. Because I'm planning to create a <strong>Double</strong> (<em>scanner.nextDouble()</em>) variable while also checking if it's <strong>true</strong> or <strong>false</strong> that it is  containing a number (<em>scanner.hasNextDouble()</em>).</p>\n<p>btw, I'm a beginner so I'm sorry if my question is hard to understand.</p>\n<hr />\n<pre><code>import java.util.Scanner;\n\npublic class Actions {\nstatic Scanner scanner = new Scanner(System.in);\nprivate final double x;\nprivate final double y;\nprivate final int operation;\n\nActions() {\n    this.x = getDoubleX();\n    this.y = getDoubleY();\n    this.operation = getOperation();\n    showAnswer();\n}\n\npublic static double getDoubleX() {\n    double temp = 0;\n    String temp1;\n    boolean temp2 = true;\n\n    System.out.println(&quot;input your first number: &quot;);\n\n    while (temp2) {\n         /*\n    I tried a solution like this. but it didn't work out.\n     */\n        temp1 = scanner.nextLine();\n        temp = Double.parseDouble(temp1);\n        if (Double.isNaN(temp)) {\n            System.out.println(&quot;try again! &quot;);\n        } else {\n            temp2 = false;\n        }\n    }\n\n    return temp;\n}\n\npublic static double getDoubleY() {\n    double temp = 0;\n    boolean temp1 = true;\n    boolean temp2 = false;       //I'm talking about this\n    System.out.println(&quot;input your second number: &quot;);\n    while (temp1) {\n        temp = scanner.nextDouble();\n        if (!Double.isNaN(temp)){\n            temp1=false;\n        } else {\n            System.out.println(&quot;try again!&quot;);\n        }\n    }\n    return temp;\n}\n\npublic static int getOperation() {\n    int temp = 0;\n    boolean temp1 = true;\n\n    System.out.println(&quot;input your desired operation, \\n&quot; +\n            &quot;1 = addition, 2 = subtraction, 3 = multiplication, 4 = division&quot;);\n    while (temp1) {\n        temp = scanner.nextInt();\n        if (temp &gt;= 1 &amp;&amp; temp &lt;= 4) {\n            temp1 = false;\n        } else {\n            System.out.println(&quot;try again&quot;);\n        }\n    }\n    return temp;\n}\n\npublic void showAnswer() {\n    if (x % 1 == 0 &amp; y % 1 == 0) {\n        if (operation == 1) {\n            System.out.println(&quot;the sum is: &quot; + Math.round(x + y));\n        } else if (operation == 2) {\n            System.out.println(&quot;the difference is: &quot; + Math.round(x - y));\n        } else if (operation == 3) {\n            System.out.println(&quot;the product is: &quot; + Math.round(x * y));\n        } else {\n            System.out.println(&quot;the quotient is: &quot; + Math.round(x / y));\n        }\n    } else {\n        if (operation == 1) {\n            System.out.println(&quot;the sum is: &quot; + (x + y));\n        } else if (operation == 2) {\n            System.out.println(&quot;the difference is: &quot; + (x - y));\n        } else if (operation == 3) {\n            System.out.println(&quot;the product is: &quot; + (x * y));\n        } else {\n            System.out.println(&quot;the quotient is: &quot; + (x / y));\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643212276,"creation_date":1643212276,"answer_id":70866294,"question_id":70865882,"body_markdown":"You can use [cron4j](https://www.sauronsoftware.it/projects/cron4j/). Or overload your method with signature `(delay)` with another one with signature `(date,delay)` that will get the current date, wait until the first occurrence and then call the already defined method with `(delay)` signature... aka using `schedule(TimerTask task, Date firstTime, long period)` of the class [Timer](https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html).","title":"Create a scheduled or Cron Job that runs at a specific time of day","body":"<p>You can use <a href=\"https://www.sauronsoftware.it/projects/cron4j/\" rel=\"nofollow noreferrer\">cron4j</a>. Or overload your method with signature <code>(delay)</code> with another one with signature <code>(date,delay)</code> that will get the current date, wait until the first occurrence and then call the already defined method with <code>(delay)</code> signature... aka using <code>schedule(TimerTask task, Date firstTime, long period)</code> of the class <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">Timer</a>.</p>\n"},{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643219744,"creation_date":1643219436,"answer_id":70868031,"question_id":70865882,"body_markdown":"When I listen something like &quot;execute something at that precise time with Java&quot;, I am thinking about Timer or Quartz Scheduling. They have pro and cons, but you can use them safely.\r\n\r\nYou have an example of scheduled task inside [that Quart Official Guide][1] :\r\n\r\n    package org.acme.quartz;\r\n\r\n    import javax.enterprise.context.ApplicationScoped;\r\n    import javax.transaction.Transactional;\r\n    import io.quarkus.scheduler.Scheduled;\r\n\r\n    @ApplicationScoped \r\n    public class TaskBean {\r\n\r\n        @Transactional\r\n        @Scheduled(every = &quot;10s&quot;, identity = &quot;task-job&quot;) \r\n        void schedule() {\r\n            Task task = new Task(); \r\n            task.persist(); \r\n        }\r\n    }\r\n\r\nAnother way is this one, for the repeating period part :\r\n\r\n    Trigger trigger = TriggerBuilder.newTrigger().withSchedule(SimpleScheduleBuilder.simpleSchedule().withIntervalInSeconds(60).repeatForever()).build();\r\n\r\nAnother way again, is the ability to use CronExpression :\r\n\r\n    Trigger trigger = TriggerBuilder.newTrigger().startNow()\r\n              .withSchedule(CronScheduleBuilder.cronSchedule(expression))\r\n              .build();\r\nWhere expression is a [CRON expression][2].\r\n\r\nIf you do not know Quartz, you can look at their [Cookbook][3].\r\n\r\n\r\n  [1]: https://quarkus.io/guides/quartz\r\n  [2]: http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html\r\n  [3]: http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/index.html","title":"Create a scheduled or Cron Job that runs at a specific time of day","body":"<p>When I listen something like &quot;execute something at that precise time with Java&quot;, I am thinking about Timer or Quartz Scheduling. They have pro and cons, but you can use them safely.</p>\n<p>You have an example of scheduled task inside <a href=\"https://quarkus.io/guides/quartz\" rel=\"nofollow noreferrer\">that Quart Official Guide</a> :</p>\n<pre><code>package org.acme.quartz;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.transaction.Transactional;\nimport io.quarkus.scheduler.Scheduled;\n\n@ApplicationScoped \npublic class TaskBean {\n\n    @Transactional\n    @Scheduled(every = &quot;10s&quot;, identity = &quot;task-job&quot;) \n    void schedule() {\n        Task task = new Task(); \n        task.persist(); \n    }\n}\n</code></pre>\n<p>Another way is this one, for the repeating period part :</p>\n<pre><code>Trigger trigger = TriggerBuilder.newTrigger().withSchedule(SimpleScheduleBuilder.simpleSchedule().withIntervalInSeconds(60).repeatForever()).build();\n</code></pre>\n<p>Another way again, is the ability to use CronExpression :</p>\n<pre><code>Trigger trigger = TriggerBuilder.newTrigger().startNow()\n          .withSchedule(CronScheduleBuilder.cronSchedule(expression))\n          .build();\n</code></pre>\n<p>Where expression is a <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html\" rel=\"nofollow noreferrer\">CRON expression</a>.</p>\n<p>If you do not know Quartz, you can look at their <a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/index.html\" rel=\"nofollow noreferrer\">Cookbook</a>.</p>\n"}],"owner":{"account_id":17299840,"reputation":41,"user_id":12529743,"display_name":"RPN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643219744,"creation_date":1643210596,"question_id":70865882,"body_markdown":"I need to create a scheduled job or Cron job in Java to run every morning at 6am.\r\nIs there a simple way to do it. I have tried to use Timer class with the scheduledAtFixedRate  method but it takes a only a delay.\r\n\r\nThere is a method that can take a day as first time and then period\r\n\r\nHow will you create a specific date and time to start the scheduler?\r\n\r\nMy Class that needs to run the job is already extended with TimerTask.","title":"Create a scheduled or Cron Job that runs at a specific time of day","body":"<p>I need to create a scheduled job or Cron job in Java to run every morning at 6am.\nIs there a simple way to do it. I have tried to use Timer class with the scheduledAtFixedRate  method but it takes a only a delay.</p>\n<p>There is a method that can take a day as first time and then period</p>\n<p>How will you create a specific date and time to start the scheduler?</p>\n<p>My Class that needs to run the job is already extended with TimerTask.</p>\n"},{"tags":["java","json","jackson","response","netflix-feign"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1492761954,"post_id":43536921,"comment_id":74126469,"body_markdown":"Where in the JSON specification does it say dashes aren&#39;t allowed?","body":"Where in the JSON specification does it say dashes aren&#39;t allowed?"},{"owner":{"account_id":8428380,"reputation":1057,"user_id":6324924,"accept_rate":100,"display_name":"Robert van der Spek"},"score":1,"creation_date":1492762096,"post_id":43536921,"comment_id":74126553,"body_markdown":"What do you mean with a JSON specification? I know the JSON response has a - in its key (&quot;customer-id&quot;). The problem is to create a Java property field with a similar name (so it can be mapped).","body":"What do you mean with a JSON specification? I know the JSON response has a - in its key (&quot;customer-id&quot;). The problem is to create a Java property field with a similar name (so it can be mapped)."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1492762327,"post_id":43536921,"comment_id":74126703,"body_markdown":"There&#39;s a standard definition for valid JSON keys http://json.org... I&#39;m not sure what the error is, but the answer below suggests that the dash isn&#39;t the issue, so can you try to create a [mcve] like they have?","body":"There&#39;s a standard definition for valid JSON keys <a href=\"http://json.org\" rel=\"nofollow noreferrer\">json.org</a>... I&#39;m not sure what the error is, but the answer below suggests that the dash isn&#39;t the issue, so can you try to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> like they have?"},{"owner":{"account_id":1903698,"reputation":765,"user_id":1718982,"display_name":"MaNn"},"score":1,"creation_date":1586525997,"post_id":43536921,"comment_id":108165019,"body_markdown":"Thank God, we have StackOverflow. It saves me always","body":"Thank God, we have StackOverflow. It saves me always"}],"answers":[{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492761579,"creation_date":1492761579,"answer_id":43537092,"question_id":43536921,"body_markdown":"It works fine.  Here is a minimal example:\r\n\r\n      public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\r\n        SomeClass sc = new ObjectMapper().readValue(&quot;{\\&quot;property-with-dash\\&quot;: 5}&quot;, SomeClass.class);\r\n    \r\n        System.out.println(sc.propertyWithDash);\r\n      }\r\n    \r\n      public static class SomeClass {\r\n        @JsonProperty(&quot;property-with-dash&quot;)\r\n        private int propertyWithDash;\r\n      }\r\n    \r\nThis prints `5` as expected.  No complaints.","title":"JSON response with dash in the key-name","body":"<p>It works fine.  Here is a minimal example:</p>\n\n<pre><code>  public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\n    SomeClass sc = new ObjectMapper().readValue(\"{\\\"property-with-dash\\\": 5}\", SomeClass.class);\n\n    System.out.println(sc.propertyWithDash);\n  }\n\n  public static class SomeClass {\n    @JsonProperty(\"property-with-dash\")\n    private int propertyWithDash;\n  }\n</code></pre>\n\n<p>This prints <code>5</code> as expected.  No complaints.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1492762861,"creation_date":1492762861,"answer_id":43537503,"question_id":43536921,"body_markdown":"&gt; com.google.gson.GsonDecoder\r\n\r\n\r\nNot sure why `JsonProperty` is on your classpath, but see &quot;field naming support&quot; https://github.com/google/gson/blob/master/UserGuide.md#json-field-naming-support\r\n\r\n`@SerializedName` is the Gson annotation you&#39;ll want \r\n\r\nOr switch entirely to using the `feign-jackson` dependency with a `JacksonDecoder`","title":"JSON response with dash in the key-name","body":"<blockquote>\n  <p>com.google.gson.GsonDecoder</p>\n</blockquote>\n\n<p>Not sure why <code>JsonProperty</code> is on your classpath, but see \"field naming support\" <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#json-field-naming-support\" rel=\"noreferrer\">https://github.com/google/gson/blob/master/UserGuide.md#json-field-naming-support</a></p>\n\n<p><code>@SerializedName</code> is the Gson annotation you'll want </p>\n\n<p>Or switch entirely to using the <code>feign-jackson</code> dependency with a <code>JacksonDecoder</code></p>\n"},{"tags":[],"owner":{"account_id":9664593,"reputation":391,"user_id":7171454,"accept_rate":61,"display_name":"codehacker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492768149,"creation_date":1492768149,"answer_id":43539448,"question_id":43536921,"body_markdown":"Using JsonObjects and JsonArrays will allow you to get keys and values as Strings","title":"JSON response with dash in the key-name","body":"<p>Using JsonObjects and JsonArrays will allow you to get keys and values as Strings</p>\n"},{"tags":[],"owner":{"account_id":7772709,"reputation":1,"user_id":5881695,"display_name":"Tushar Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643219619,"creation_date":1643219619,"answer_id":70868074,"question_id":43536921,"body_markdown":"You can use @JsonAlias.\r\n\r\nIt  defines one or more alternative names for a property to be accepted during deserialization i.e. setting JSON data to Java object.\r\n\r\n@JsonAlias(&quot;customer-id&quot;)\r\n\r\nprivate String customerId;","title":"JSON response with dash in the key-name","body":"<p>You can use @JsonAlias.</p>\n<p>It  defines one or more alternative names for a property to be accepted during deserialization i.e. setting JSON data to Java object.</p>\n<p>@JsonAlias(&quot;customer-id&quot;)</p>\n<p>private String customerId;</p>\n"}],"owner":{"account_id":8428380,"reputation":1057,"user_id":6324924,"accept_rate":100,"display_name":"Robert van der Spek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12039,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":43537503,"answer_count":4,"score":9,"last_activity_date":1643219619,"creation_date":1492760984,"question_id":43536921,"body_markdown":"I am using feign for my rest-calls. Unfortunately one of the responses I get looks something like this:\r\n\r\n    {\r\n        &quot;customer-id&quot; : &quot;0123&quot;\r\n    }\r\n\r\nThe JSON response automatically gets mapped to one of my POJO&#39;s. This response object can not have a property field with the name &quot;customer-id&quot;, as the dash (-) is not allowed in the name of an identifier. \r\n\r\nI tried the following:\r\n\r\n    public class LookUpAccountsResponse {\r\n            @JsonProperty(&quot;customer-id&quot;)\r\n            private String customerId;\r\n    }\r\n\r\nBut unfortunately this doesn&#39;t work. Does anyone have a suggestion on how to fix this?\r\n","title":"JSON response with dash in the key-name","body":"<p>I am using feign for my rest-calls. Unfortunately one of the responses I get looks something like this:</p>\n\n<pre><code>{\n    \"customer-id\" : \"0123\"\n}\n</code></pre>\n\n<p>The JSON response automatically gets mapped to one of my POJO's. This response object can not have a property field with the name \"customer-id\", as the dash (-) is not allowed in the name of an identifier. </p>\n\n<p>I tried the following:</p>\n\n<pre><code>public class LookUpAccountsResponse {\n        @JsonProperty(\"customer-id\")\n        private String customerId;\n}\n</code></pre>\n\n<p>But unfortunately this doesn't work. Does anyone have a suggestion on how to fix this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webclient"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":2,"creation_date":1643224140,"post_id":70867963,"comment_id":125285527,"body_markdown":"Does this answer your question? [How to extract response header &amp; status code from Spring 5 WebClient ClientResponse](https://stackoverflow.com/questions/50223891/how-to-extract-response-header-status-code-from-spring-5-webclient-clientrespo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50223891/how-to-extract-response-header-status-code-from-spring-5-webclient-clientrespo\">How to extract response header &amp; status code from Spring 5 WebClient ClientResponse</a>"},{"owner":{"account_id":6482300,"reputation":57,"user_id":5018932,"display_name":"lungu"},"score":0,"creation_date":1643227523,"post_id":70867963,"comment_id":125286656,"body_markdown":"I saw this. None of them worked.","body":"I saw this. None of them worked."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643227676,"post_id":70867963,"comment_id":125286710,"body_markdown":"What did you try and what errors did you get?","body":"What did you try and what errors did you get?"}],"owner":{"account_id":6482300,"reputation":57,"user_id":5018932,"display_name":"lungu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3973,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643219559,"creation_date":1643219159,"question_id":70867963,"body_markdown":"I am consuming an API and this one in particular response with nothing but status code 201 in postman. In my code, how do I extract the status code using WebClient? \r\n\r\n      public HttpStatus createUser(String uuid) throws Exception {\r\n    \r\n            MultiValueMap&lt;String, String&gt; bodyValues = new LinkedMultiValueMap&lt;&gt;();\r\n            bodyValues.add(&quot;providerCallbackHost&quot;, &quot;https://webhook.site/c6c0a388-2af5-41e1-8d6d-c280820affad&quot;);\r\n    \r\n            try {\r\n                HttpStatus response = webClient.post()\r\n                        .uri(&quot;https://sandbox.momodeveloper.mtn.com/v1_0/apiuser&quot;)\r\n                        .header(&quot;X-Reference-Id&quot;, uuid)\r\n                        .header(&quot;Ocp-Apim-Subscription-Key&quot;, SUBSCRIPTION_KEY_SECONDARY)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .body(BodyInserters.fromValue(bodyValues))\r\n                        .retrieve()\r\n                        .bodyToMono(HttpStatus.class)\r\n                        .block();\r\n    \r\n                return response;\r\n    \r\n            } catch (Exception exception) {\r\n                throw new Exception(exception.getMessage());\r\n            }\r\n        }","title":"How do I get the response status code from this WebClient Call?","body":"<p>I am consuming an API and this one in particular response with nothing but status code 201 in postman. In my code, how do I extract the status code using WebClient?</p>\n<pre><code>  public HttpStatus createUser(String uuid) throws Exception {\n\n        MultiValueMap&lt;String, String&gt; bodyValues = new LinkedMultiValueMap&lt;&gt;();\n        bodyValues.add(&quot;providerCallbackHost&quot;, &quot;https://webhook.site/c6c0a388-2af5-41e1-8d6d-c280820affad&quot;);\n\n        try {\n            HttpStatus response = webClient.post()\n                    .uri(&quot;https://sandbox.momodeveloper.mtn.com/v1_0/apiuser&quot;)\n                    .header(&quot;X-Reference-Id&quot;, uuid)\n                    .header(&quot;Ocp-Apim-Subscription-Key&quot;, SUBSCRIPTION_KEY_SECONDARY)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .body(BodyInserters.fromValue(bodyValues))\n                    .retrieve()\n                    .bodyToMono(HttpStatus.class)\n                    .block();\n\n            return response;\n\n        } catch (Exception exception) {\n            throw new Exception(exception.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":1754092,"reputation":1909,"user_id":1602517,"display_name":"Mihai Cicu"},"score":0,"creation_date":1559372864,"post_id":56391260,"comment_id":99407112,"body_markdown":"I am giving a wild guess, but maybe the objects are not stored yet in the database if you are in a transaction, and the events are propagating after calling save but before the actual commit.","body":"I am giving a wild guess, but maybe the objects are not stored yet in the database if you are in a transaction, and the events are propagating after calling save but before the actual commit."},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1559385419,"post_id":56391260,"comment_id":99409405,"body_markdown":"Thank you @Mihai but we don&#39;t use transactions. And the events are actually handled in another thread without any external synchronization applied, so there is no way to guarantee the order (I debugged this through the code).","body":"Thank you @Mihai but we don&#39;t use transactions. And the events are actually handled in another thread without any external synchronization applied, so there is no way to guarantee the order (I debugged this through the code)."}],"answers":[{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560106563,"creation_date":1560106563,"answer_id":56517507,"question_id":56391260,"body_markdown":"Here is `SimpleApplicationEventMulticaster` extension that allows to achieve &#39;sync handling for spring-data-mongodb events&#39; policy:\r\n\r\n    public class SystemEventsAreSyncronousMulticaster extends SimpleApplicationEventMulticaster {\r\n        @Override\r\n        public void multicastEvent(ApplicationEvent event, ResolvableType eventType) {\r\n            ResolvableType type = (eventType != null ? eventType : resolveDefaultEventType(event));\r\n            for (final ApplicationListener&lt;?&gt; listener : getApplicationListeners(event, type)) {\r\n                Executor executor = getTaskExecutor();\r\n                if (executor == null || eventMustBeProcessedSynchronously(event)) {\r\n                    invokeListener(listener, event);\r\n                } else {\r\n                    executor.execute(() -&gt; invokeListener(listener, event));\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean eventMustBeProcessedSynchronously(ApplicationEvent event) {\r\n            return event instanceof MongoMappingEvent;\r\n        }\r\n    \r\n        private ResolvableType resolveDefaultEventType(ApplicationEvent event) {\r\n            return ResolvableType.forInstance(event);\r\n        }\r\n    }\r\n","title":"Spring Data MongoDB Lifecycle events: is it possible to always handle them synchronously?","body":"<p>Here is <code>SimpleApplicationEventMulticaster</code> extension that allows to achieve 'sync handling for spring-data-mongodb events' policy:</p>\n\n<pre><code>public class SystemEventsAreSyncronousMulticaster extends SimpleApplicationEventMulticaster {\n    @Override\n    public void multicastEvent(ApplicationEvent event, ResolvableType eventType) {\n        ResolvableType type = (eventType != null ? eventType : resolveDefaultEventType(event));\n        for (final ApplicationListener&lt;?&gt; listener : getApplicationListeners(event, type)) {\n            Executor executor = getTaskExecutor();\n            if (executor == null || eventMustBeProcessedSynchronously(event)) {\n                invokeListener(listener, event);\n            } else {\n                executor.execute(() -&gt; invokeListener(listener, event));\n            }\n        }\n    }\n\n    private boolean eventMustBeProcessedSynchronously(ApplicationEvent event) {\n        return event instanceof MongoMappingEvent;\n    }\n\n    private ResolvableType resolveDefaultEventType(ApplicationEvent event) {\n        return ResolvableType.forInstance(event);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643219486,"creation_date":1599467723,"answer_id":63774073,"question_id":56391260,"body_markdown":"If you need execution ordering guarantees, a more suitable mechanism is `EntityCallback`s: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#entity-callbacks\r\n\r\nThey do not rely on application event publishing, and they do guarantee that a &#39;before-load&#39; callback will be called before loading.\r\n\r\nFor the example presented in the original question, this is how it would look like using entity callbacks:\r\n\r\n    public class MyMongoDbLifecycleCallbacks implements AfterSaveCallback&lt;MyModel&gt; {\r\n        @Override\r\n        public MyModel onAfterSave(MyModel entity, Document document, String collection) {\r\n            entity.computeValueFromTheAssignedId();\r\n            return entity;\r\n        }\r\n    }\r\n","title":"Spring Data MongoDB Lifecycle events: is it possible to always handle them synchronously?","body":"<p>If you need execution ordering guarantees, a more suitable mechanism is <code>EntityCallback</code>s: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#entity-callbacks\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#entity-callbacks</a></p>\n<p>They do not rely on application event publishing, and they do guarantee that a 'before-load' callback will be called before loading.</p>\n<p>For the example presented in the original question, this is how it would look like using entity callbacks:</p>\n<pre><code>public class MyMongoDbLifecycleCallbacks implements AfterSaveCallback&lt;MyModel&gt; {\n    @Override\n    public MyModel onAfterSave(MyModel entity, Document document, String collection) {\n        entity.computeValueFromTheAssignedId();\n        return entity;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4598,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1643219486,"creation_date":1559290592,"question_id":56391260,"body_markdown":"I&#39;m trying to use Spring Data MongoDB lifecycle events to compute a field &#39;after save&#39; based on the ID that was generated by MongoDB when inserting. [Reference documentation][1] says the following about a different event, &#39;before save&#39;:\r\n\r\n&gt; To intercept an object before it goes into the database, you can register a subclass of org.springframework.data.mongodb.core.mapping.event.AbstractMongoEventListener that overrides the onBeforeSave method. When the event is dispatched, your listener is called and passed the domain object and the converted com.mongodb.Document. The following example shows how to do so:\r\n\r\nThen they provide an example.\r\n\r\nI did something similar for &#39;after save&#39;:\r\n\r\n    public class MyMongoDbLifecycleListener extends AbstractMongoEventListener&lt;MyModel&gt; {\r\n        @Override\r\n        public void onAfterSave(AfterSaveEvent&lt;MyModel&gt; event) {\r\n            super.onAfterSave(event);\r\n            \r\n            MyModel model = event.getSource();\r\n    \r\n            model.computeValueFromTheAssignedId();\r\n        }\r\n    }\r\n\r\nThis works in tests, but in pre-production testing we stumbled upon a problem: sometimes (actually, quite often) the value is not precomputed to the moment when the object is returned from a `Repository`&#39;s `save()` method.\r\n\r\nThe problem is that application events are processed asynchronously in our application. We have the following in our configuration:\r\n\r\n    &lt;bean id=&quot;simpleAsyncTaskExecutor&quot; class=&quot;org.springframework.core.task.SimpleAsyncTaskExecutor&quot;&gt;\r\n         ...\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;applicationEventMulticaster&quot; class=&quot;org.springframework.context.event.SimpleApplicationEventMulticaster&quot;&gt;\r\n        &lt;property name=&quot;taskExecutor&quot; ref=&quot;simpleAsyncTaskExecutor&quot; /&gt;\r\n        ...\r\n    &lt;/bean&gt;\r\n\r\nIn `SimpleApplicationEventMulticaster` there is the following code that actually does the multicasting:\r\n\r\n\tpublic void multicastEvent(final ApplicationEvent event, @Nullable ResolvableType eventType) {\r\n\t\tResolvableType type = (eventType != null ? eventType : resolveDefaultEventType(event));\r\n\t\tfor (final ApplicationListener&lt;?&gt; listener : getApplicationListeners(event, type)) {\r\n\t\t\tExecutor executor = getTaskExecutor();\r\n\t\t\tif (executor != null) {\r\n\t\t\t\texecutor.execute(() -&gt; invokeListener(listener, event));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tinvokeListener(listener, event);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nSo our application context multicasts **all** events asynchronously and invokes the listeners in a thread that is different from the thread in which we call `save()`, so we have no guarantee to see the effect of a listener after the save.\r\n\r\nI&#39;m confused. The documentation wording (&#39;To intercept an object before ...&#39;) clearly indicates that this happens **strictly before** convertion/save/whatever. But a simple (and natural) configuration change breaks these guarantees. I suspect I do something wrong, but how should I do it correctly?\r\n\r\nThe only idea I have now is to write an extension of a multicaster that would specifically handle all MongoDB-related events synchronously. That should work, but should it be so easy to break a system behavior?\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.mapping-usage.events","title":"Spring Data MongoDB Lifecycle events: is it possible to always handle them synchronously?","body":"<p>I'm trying to use Spring Data MongoDB lifecycle events to compute a field 'after save' based on the ID that was generated by MongoDB when inserting. <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.mapping-usage.events\" rel=\"nofollow noreferrer\">Reference documentation</a> says the following about a different event, 'before save':</p>\n\n<blockquote>\n  <p>To intercept an object before it goes into the database, you can register a subclass of org.springframework.data.mongodb.core.mapping.event.AbstractMongoEventListener that overrides the onBeforeSave method. When the event is dispatched, your listener is called and passed the domain object and the converted com.mongodb.Document. The following example shows how to do so:</p>\n</blockquote>\n\n<p>Then they provide an example.</p>\n\n<p>I did something similar for 'after save':</p>\n\n<pre><code>public class MyMongoDbLifecycleListener extends AbstractMongoEventListener&lt;MyModel&gt; {\n    @Override\n    public void onAfterSave(AfterSaveEvent&lt;MyModel&gt; event) {\n        super.onAfterSave(event);\n\n        MyModel model = event.getSource();\n\n        model.computeValueFromTheAssignedId();\n    }\n}\n</code></pre>\n\n<p>This works in tests, but in pre-production testing we stumbled upon a problem: sometimes (actually, quite often) the value is not precomputed to the moment when the object is returned from a <code>Repository</code>'s <code>save()</code> method.</p>\n\n<p>The problem is that application events are processed asynchronously in our application. We have the following in our configuration:</p>\n\n<pre><code>&lt;bean id=\"simpleAsyncTaskExecutor\" class=\"org.springframework.core.task.SimpleAsyncTaskExecutor\"&gt;\n     ...\n&lt;/bean&gt;\n&lt;bean id=\"applicationEventMulticaster\" class=\"org.springframework.context.event.SimpleApplicationEventMulticaster\"&gt;\n    &lt;property name=\"taskExecutor\" ref=\"simpleAsyncTaskExecutor\" /&gt;\n    ...\n&lt;/bean&gt;\n</code></pre>\n\n<p>In <code>SimpleApplicationEventMulticaster</code> there is the following code that actually does the multicasting:</p>\n\n<pre><code>public void multicastEvent(final ApplicationEvent event, @Nullable ResolvableType eventType) {\n    ResolvableType type = (eventType != null ? eventType : resolveDefaultEventType(event));\n    for (final ApplicationListener&lt;?&gt; listener : getApplicationListeners(event, type)) {\n        Executor executor = getTaskExecutor();\n        if (executor != null) {\n            executor.execute(() -&gt; invokeListener(listener, event));\n        }\n        else {\n            invokeListener(listener, event);\n        }\n    }\n}\n</code></pre>\n\n<p>So our application context multicasts <strong>all</strong> events asynchronously and invokes the listeners in a thread that is different from the thread in which we call <code>save()</code>, so we have no guarantee to see the effect of a listener after the save.</p>\n\n<p>I'm confused. The documentation wording ('To intercept an object before ...') clearly indicates that this happens <strong>strictly before</strong> convertion/save/whatever. But a simple (and natural) configuration change breaks these guarantees. I suspect I do something wrong, but how should I do it correctly?</p>\n\n<p>The only idea I have now is to write an extension of a multicaster that would specifically handle all MongoDB-related events synchronously. That should work, but should it be so easy to break a system behavior?</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1643219354,"post_id":70867613,"comment_id":125283671,"body_markdown":"Stack Overflow is a notoriously inefficient interactive debugger, so I recommend you do some more troubleshooting and tell us the results. The best way to figure out what exactly is going on is to set a breakpoint on the first line of every method, running the code in a debugger, and then stepping through the code checking the values of each variable on each line. If you do this, which is the first line of your code that doesn&#39;t do what you expected?","body":"Stack Overflow is a notoriously inefficient interactive debugger, so I recommend you do some more troubleshooting and tell us the results. The best way to figure out what exactly is going on is to set a breakpoint on the first line of every method, running the code in a debugger, and then stepping through the code checking the values of each variable on each line. If you do this, which is the first line of your code that doesn&#39;t do what you expected?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1643285709,"post_id":70867613,"comment_id":125301853,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond with @.","body":"Please edit your question and add the information Frank asked for, and please also respond with @."}],"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643219269,"creation_date":1643217637,"question_id":70867613,"body_markdown":"I was creating an app for my semester project to upload songs from mobile storage to firebase&#39;s realtime database. app run correctly but when i select the songs to upload nothing happens and the app also does not crash. my main activity code is:\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n    private boolean checkPermission = false;\r\n    Uri uri;\r\n    String songName, songUrl;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    \r\n        }\r\n        //Create 2 function\r\n        //onCreate option menu to initialize menu\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.custom_menu , menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n        //2nd function is onoption item selected (button sy reloated sari coding yaha hogi\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n            if (item.getItemId()==R.id.nav_upload){\r\n                if (validatePermission()){\r\n    \r\n                   picksongs();\r\n                }\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n    \r\n    \r\n        private void picksongs() {\r\n            Intent intent_upload = new Intent();\r\n            intent_upload.setType(&quot;audio/*&quot;);\r\n            intent_upload.setAction(Intent.ACTION_GET_CONTENT);\r\n    \r\n            startActivityForResult(intent_upload , 1);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            if(requestCode == 1){\r\n                if (requestCode==RESULT_OK){\r\n                    uri = data.getData();\r\n                    Cursor mcursor = getApplicationContext().getContentResolver().query(uri , null, null, null , null);\r\n                    int indexName = mcursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\r\n                    songName = mcursor.getString(indexName);\r\n                    mcursor.close();\r\n                    uploadSong();\r\n                }\r\n            }\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n        }\r\n    \r\n        private void uploadSong() {\r\n            StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Songs&quot;).child(uri.getLastPathSegment());\r\n            ProgressDialog progressDialog = new ProgressDialog(this);\r\n            progressDialog.show();\r\n            //upload files to firebase\r\n            \r\n            storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                    while (!uriTask.isComplete());\r\n                    Uri urlSong  =uriTask.getResult();\r\n                    songUrl = urlSong.toString();\r\n                    uploadtoDataBase();\r\n                    progressDialog.dismiss();\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(MainActivity.this, e.getMessage().toString(), Toast.LENGTH_SHORT).show();\r\n                    progressDialog.dismiss();\r\n                }\r\n            }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onProgress(@NonNull UploadTask.TaskSnapshot tasksnapshot) {\r\n                    double progress = (100.0*tasksnapshot.getBytesTransferred())/tasksnapshot.getTotalByteCount();\r\n                    int currentProgress = (int)progress;\r\n                    progressDialog.setMessage(&quot;Uploaded &quot;+ currentProgress+&quot;%&quot;);\r\n                }\r\n            });\r\n        }\r\n    private void uploadtoDataBase(){\r\n    \r\n            Song songobj = new Song(songName , songUrl);\r\n        FirebaseDatabase.getInstance().getReference(&quot;Songs&quot;).push().setValue(songobj).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if (task.isSuccessful()){\r\n                    Toast.makeText(MainActivity.this, &quot;Uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(MainActivity.this, e.getMessage().toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    \r\n    }\r\n        private boolean validatePermission(){\r\n            Dexter.withActivity(this)\r\n            //Dexter.withActivity(MainActivity.this)\r\n            .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                    .withListener(new PermissionListener() {\r\n                        @Override\r\n                        public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                            checkPermission=true;\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                             checkPermission=false;\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                            permissionToken.continuePermissionRequest();\r\n                        }\r\n                    }).check();\r\n            return checkPermission;\r\n        }\r\n    }\r\n\r\nplease help me to find where i made a mistake. but their is 1 problem startActivityForResult(android.content.Intent, int)&#39; is deprecated is that cause the problem? if yes then how can i solve this","title":"nothing happen when i select the song to upload from my android app to firebase realtime database","body":"<p>I was creating an app for my semester project to upload songs from mobile storage to firebase's realtime database. app run correctly but when i select the songs to upload nothing happens and the app also does not crash. my main activity code is:</p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\nprivate boolean checkPermission = false;\nUri uri;\nString songName, songUrl;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n    }\n    //Create 2 function\n    //onCreate option menu to initialize menu\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.custom_menu , menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n    //2nd function is onoption item selected (button sy reloated sari coding yaha hogi\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        if (item.getItemId()==R.id.nav_upload){\n            if (validatePermission()){\n\n               picksongs();\n            }\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n\n\n    private void picksongs() {\n        Intent intent_upload = new Intent();\n        intent_upload.setType(&quot;audio/*&quot;);\n        intent_upload.setAction(Intent.ACTION_GET_CONTENT);\n\n        startActivityForResult(intent_upload , 1);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if(requestCode == 1){\n            if (requestCode==RESULT_OK){\n                uri = data.getData();\n                Cursor mcursor = getApplicationContext().getContentResolver().query(uri , null, null, null , null);\n                int indexName = mcursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\n                songName = mcursor.getString(indexName);\n                mcursor.close();\n                uploadSong();\n            }\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    private void uploadSong() {\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Songs&quot;).child(uri.getLastPathSegment());\n        ProgressDialog progressDialog = new ProgressDialog(this);\n        progressDialog.show();\n        //upload files to firebase\n        \n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\n                while (!uriTask.isComplete());\n                Uri urlSong  =uriTask.getResult();\n                songUrl = urlSong.toString();\n                uploadtoDataBase();\n                progressDialog.dismiss();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(MainActivity.this, e.getMessage().toString(), Toast.LENGTH_SHORT).show();\n                progressDialog.dismiss();\n            }\n        }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onProgress(@NonNull UploadTask.TaskSnapshot tasksnapshot) {\n                double progress = (100.0*tasksnapshot.getBytesTransferred())/tasksnapshot.getTotalByteCount();\n                int currentProgress = (int)progress;\n                progressDialog.setMessage(&quot;Uploaded &quot;+ currentProgress+&quot;%&quot;);\n            }\n        });\n    }\nprivate void uploadtoDataBase(){\n\n        Song songobj = new Song(songName , songUrl);\n    FirebaseDatabase.getInstance().getReference(&quot;Songs&quot;).push().setValue(songobj).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            if (task.isSuccessful()){\n                Toast.makeText(MainActivity.this, &quot;Uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Toast.makeText(MainActivity.this, e.getMessage().toString(), Toast.LENGTH_SHORT).show();\n        }\n    });\n\n}\n    private boolean validatePermission(){\n        Dexter.withActivity(this)\n        //Dexter.withActivity(MainActivity.this)\n        .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                .withListener(new PermissionListener() {\n                    @Override\n                    public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                        checkPermission=true;\n                    }\n\n                    @Override\n                    public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                         checkPermission=false;\n                    }\n\n                    @Override\n                    public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                        permissionToken.continuePermissionRequest();\n                    }\n                }).check();\n        return checkPermission;\n    }\n}\n</code></pre>\n<p>please help me to find where i made a mistake. but their is 1 problem startActivityForResult(android.content.Intent, int)' is deprecated is that cause the problem? if yes then how can i solve this</p>\n"},{"tags":["java","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643219231,"creation_date":1643218894,"answer_id":70867913,"question_id":70867824,"body_markdown":"There are two types of Firebase SDKs (including those for Java):\r\n\r\n1. SDKs for use in untrusted clients, which are integrated into the app/site your users access. The Firebase Authentication SDK for Android is an example of this, and it allows the user to sign in to Firebase with many providers, including email+password.\r\n2. Admin SDKs for use in trusted environments, such as your development machine, a server you control, or Cloud Functions. These Admin SDKs access the Firebase project with administrative privileges (hence their name), meaning that they have full access to the entire project. These SDKs, including the Firebase Authentication Admin SDK for Java, do not have a way to sign in to Firebase (as they&#39;re already authorized to access all resources), but do for example allow you [verify ID tokens](https://firebase.google.com/docs/auth/admin/verify-id-tokens), [create, update, and delete user profiles](https://firebase.google.com/docs/auth/admin/manage-users#create_a_user), and many more actions.\r\n\r\nThe Admin SDKs cannot be used from client-side application code, so you will have to find a way to fit your use-case into one of the SDKs, or use a combination of both SDK types, by setting up a custom API that your client-side application code calls into.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/46939765/retrieving-a-list-of-users-who-have-registered-using-firebase-auth/46947495#46947495","title":"FirebaseAuth Java is only android applications?","body":"<p>There are two types of Firebase SDKs (including those for Java):</p>\n<ol>\n<li>SDKs for use in untrusted clients, which are integrated into the app/site your users access. The Firebase Authentication SDK for Android is an example of this, and it allows the user to sign in to Firebase with many providers, including email+password.</li>\n<li>Admin SDKs for use in trusted environments, such as your development machine, a server you control, or Cloud Functions. These Admin SDKs access the Firebase project with administrative privileges (hence their name), meaning that they have full access to the entire project. These SDKs, including the Firebase Authentication Admin SDK for Java, do not have a way to sign in to Firebase (as they're already authorized to access all resources), but do for example allow you <a href=\"https://firebase.google.com/docs/auth/admin/verify-id-tokens\" rel=\"nofollow noreferrer\">verify ID tokens</a>, <a href=\"https://firebase.google.com/docs/auth/admin/manage-users#create_a_user\" rel=\"nofollow noreferrer\">create, update, and delete user profiles</a>, and many more actions.</li>\n</ol>\n<p>The Admin SDKs cannot be used from client-side application code, so you will have to find a way to fit your use-case into one of the SDKs, or use a combination of both SDK types, by setting up a custom API that your client-side application code calls into.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46939765/retrieving-a-list-of-users-who-have-registered-using-firebase-auth/46947495#46947495\">Retrieving a list of users who have registered using Firebase Auth</a></li>\n</ul>\n"}],"owner":{"account_id":23752406,"reputation":1,"user_id":17768978,"display_name":"Nayara Dias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643219231,"creation_date":1643218487,"question_id":70867824,"body_markdown":"I would like to use firebaseAuth as my authenticator api.\r\n\r\nI created user, but there is no possibility to login with email and password.\r\nI found an endpoint to access and login, but I wish there was a method in Firebase Auth to do that. \r\n\r\nany suggestion?\r\n\r\n","title":"FirebaseAuth Java is only android applications?","body":"<p>I would like to use firebaseAuth as my authenticator api.</p>\n<p>I created user, but there is no possibility to login with email and password.\nI found an endpoint to access and login, but I wish there was a method in Firebase Auth to do that.</p>\n<p>any suggestion?</p>\n"},{"tags":["java","arrays","string","arraylist","java-7"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1643213974,"post_id":70866317,"comment_id":125281216,"body_markdown":"It&#39;s very unclear what you are doing. Certainly the comparison with `&quot;0&quot;` will never match since that isn&#39;t in your input. There is no reason to create new ArrayLists just to immediately overwrite them with the results of calling Arrays.asList. I would suggest you try to debug your code and find out what it is doing. [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"It&#39;s very unclear what you are doing. Certainly the comparison with <code>&quot;0&quot;</code> will never match since that isn&#39;t in your input. There is no reason to create new ArrayLists just to immediately overwrite them with the results of calling Arrays.asList. I would suggest you try to debug your code and find out what it is doing. <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"},{"owner":{"account_id":1719335,"reputation":101,"user_id":1575667,"display_name":"Ashwin Kumar"},"score":0,"creation_date":1643214208,"post_id":70866317,"comment_id":125281337,"body_markdown":"I have now edited my sample program. I am trying to group them into a list","body":"I have now edited my sample program. I am trying to group them into a list"}],"answers":[{"tags":[],"owner":{"account_id":3965589,"reputation":734,"user_id":3271648,"display_name":"Umakanth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643214971,"creation_date":1643214616,"answer_id":70866914,"question_id":70866317,"body_markdown":"I have just modified the nested for loop in your sample code to a single for loop&lt;br&gt;\r\nOf course there are few un-knows such as &lt;br&gt;Does your Source string always follow same pattern as you have displayed &lt;br&gt;The length of the lists **groupedV** and **groupedT** are they always of same length etc. which is not considered\r\n```\r\nString splitStringNeeded = &quot;ABC:DONE:07JAN90:1352:00009279:U:1234567:9632587:4561230:EC:GB:4815263:3621547:0314783&quot;;\r\n\r\n/* Additional code for dynamic allocation of indexes\r\nint indexU = splitStringNeeded.indexOf(&quot;U:&quot;);\r\nint indexOfGb = splitStringNeeded.indexOf(&quot;EC:GB:&quot;);\r\nSystem.out.println(&quot;Index of U &quot;+indexU);\r\nSystem.out.println(&quot;Index of GB &quot;+indexOfGb);\r\nString sub1 = splitStringNeeded.substring(indexU+2, indexOfGb-1);\r\nSystem.out.println(&quot;Substring 1 = &quot;+sub1);\r\nString sub2 = splitStringNeeded.substring(indexOfGb+6, splitStringNeeded.length());\r\nSystem.out.println(&quot;Substring 2 = &quot;+sub2);\r\n\t//Additional code for dynamic allocation of indexes\r\n*/\r\n\r\nString[] vElements = splitStringNeeded.split(&quot;:&quot;);\r\n\r\nString[] grpV = Arrays.copyOfRange(vElements, 6, 9);\r\nString[] grpT = Arrays.copyOfRange(vElements, 11, vElements.length);\r\n\r\nList&lt;String&gt; groupedV = Arrays.asList(grpV);\r\nList&lt;String&gt; groupedT = Arrays.asList(grpT);\r\n\r\nif(groupedV.size() == groupedT.size()) {\r\n\tfor(int i=0; i&lt;groupedV.size(); i++){\r\n\t\tSystem.out.println(groupedV.get(i));\r\n\t\tSystem.out.println(groupedT.get(i));\r\n\t}\r\n}\r\n/*for (String splitV : groupedV) {\r\n\tfor (String splitT : groupedT) {\r\n\t\tif (!splitV.equals(&quot;0&quot;)) {\r\n\t\t\tSystem.out.println(splitV);\r\n\t\t\tSystem.out.println(splitT);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}*/\r\n```\r\n\r\nI have added the commented code to dynamically pick the index values instead of hard coding like 6,10,12\r\n\r\nif you un-comment the first commented block the output will be like below\r\n```\r\nIndex of U 31\r\nIndex of GB 57\r\nSubstring 1 = 1234567:9632587:4561230\r\nSubstring 2 = 4815263:3621547:0314783\r\n1234567\r\n4815263\r\n9632587\r\n3621547\r\n4561230\r\n0314783\r\n```","title":"String Split and save into ArrayList in JAVA7","body":"<p>I have just modified the nested for loop in your sample code to a single for loop<br>\nOf course there are few un-knows such as <br>Does your Source string always follow same pattern as you have displayed <br>The length of the lists <strong>groupedV</strong> and <strong>groupedT</strong> are they always of same length etc. which is not considered</p>\n<pre><code>String splitStringNeeded = &quot;ABC:DONE:07JAN90:1352:00009279:U:1234567:9632587:4561230:EC:GB:4815263:3621547:0314783&quot;;\n\n/* Additional code for dynamic allocation of indexes\nint indexU = splitStringNeeded.indexOf(&quot;U:&quot;);\nint indexOfGb = splitStringNeeded.indexOf(&quot;EC:GB:&quot;);\nSystem.out.println(&quot;Index of U &quot;+indexU);\nSystem.out.println(&quot;Index of GB &quot;+indexOfGb);\nString sub1 = splitStringNeeded.substring(indexU+2, indexOfGb-1);\nSystem.out.println(&quot;Substring 1 = &quot;+sub1);\nString sub2 = splitStringNeeded.substring(indexOfGb+6, splitStringNeeded.length());\nSystem.out.println(&quot;Substring 2 = &quot;+sub2);\n    //Additional code for dynamic allocation of indexes\n*/\n\nString[] vElements = splitStringNeeded.split(&quot;:&quot;);\n\nString[] grpV = Arrays.copyOfRange(vElements, 6, 9);\nString[] grpT = Arrays.copyOfRange(vElements, 11, vElements.length);\n\nList&lt;String&gt; groupedV = Arrays.asList(grpV);\nList&lt;String&gt; groupedT = Arrays.asList(grpT);\n\nif(groupedV.size() == groupedT.size()) {\n    for(int i=0; i&lt;groupedV.size(); i++){\n        System.out.println(groupedV.get(i));\n        System.out.println(groupedT.get(i));\n    }\n}\n/*for (String splitV : groupedV) {\n    for (String splitT : groupedT) {\n        if (!splitV.equals(&quot;0&quot;)) {\n            System.out.println(splitV);\n            System.out.println(splitT);\n            break;\n        }\n    }\n}*/\n</code></pre>\n<p>I have added the commented code to dynamically pick the index values instead of hard coding like 6,10,12</p>\n<p>if you un-comment the first commented block the output will be like below</p>\n<pre><code>Index of U 31\nIndex of GB 57\nSubstring 1 = 1234567:9632587:4561230\nSubstring 2 = 4815263:3621547:0314783\n1234567\n4815263\n9632587\n3621547\n4561230\n0314783\n</code></pre>\n"}],"owner":{"account_id":1719335,"reputation":101,"user_id":1575667,"display_name":"Ashwin Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643218352,"answer_count":1,"score":0,"last_activity_date":1643218519,"creation_date":1643212355,"question_id":70866317,"body_markdown":"I have a string wherein I need to split it and store in an ArrayList as seen below; All these using Java7.\r\n\r\nThe below is the input for my program;\r\n\r\n    String inputStr = &quot;ABC:DONE:07JAN90:1234:00001111:U:1234567:9632587:4561230:EC:IN:4815263:3621547:0314783)&quot;;\r\n\r\nWhat I am trying to achieve here is an ArrayList as seen below after its grouped.\r\n\r\n       &quot;List&quot; : [ \r\n        {\r\n        1234567,\r\n        4815263\r\n        },\r\n        {\r\n         9632587,\r\n        3621547\r\n        },\r\n         {\r\n         4561230,\r\n         0314783\r\n         }\r\n        ]\r\n        \r\n\r\nI have a sample code written but that doesn&#39;t seem to group the elementB into the list. How can we do the grouping of both the elements into a List.\r\n\r\nSample Code:\r\n\r\n        String splitStringNeeded = &quot;ABC:DONE:07JAN90:1352:00009279:U:1234567:9632587:4561230:EC:GB:4815263:3621547:0314783)&quot;;\r\n\t\t\t\t\r\n\t\tString[] vElements = splitStringNeeded.split(&quot;:&quot;);\r\n\t\tString[] grpV = Arrays.copyOfRange(vElements, 6,10 );\r\n\t\tString[] grpT = Arrays.copyOfRange(vElements, 12, vElements.length);\r\n\t\t\t\r\n\t\tList&lt;String&gt; groupedV = Arrays.asList(grpV);\r\n\t\tList&lt;String&gt; groupedT = Arrays.asList(grpT);\r\n\t\t\r\n\t\tfor(String splitV : groupedV){\r\n\t\t\tfor(String splitT : groupedT){\r\n\t\t\t\r\n\t\t\t\tSystem.out.println(splitV);\r\n\t\t\t\tSystem.out.println(splitT);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\nI am getting the below output where elementB does not change but repeats itself. Can someone please guide\r\n\r\n    &quot;List&quot; : [ \r\n        {\r\n        1234567,\r\n        4815263\r\n        },\r\n        {\r\n         9632587,\r\n        4815263\r\n        },\r\n         {\r\n         4561230,\r\n         4815263\r\n         }\r\n        ]\r\n        \r\n \r\n\r\nWe can consider even the below inputs:\r\n\r\n    ABC:DONE:07JAN90:1352:00009279:U:1234567:9632587:0:EC:GB:4815263:3621547\r\n \r\n    ABC:DONE:07JAN90:1352:00009279:U:1234567:0:0:EC:GB:4815263","title":"String Split and save into ArrayList in JAVA7","body":"<p>I have a string wherein I need to split it and store in an ArrayList as seen below; All these using Java7.</p>\n<p>The below is the input for my program;</p>\n<pre><code>String inputStr = &quot;ABC:DONE:07JAN90:1234:00001111:U:1234567:9632587:4561230:EC:IN:4815263:3621547:0314783)&quot;;\n</code></pre>\n<p>What I am trying to achieve here is an ArrayList as seen below after its grouped.</p>\n<pre><code>   &quot;List&quot; : [ \n    {\n    1234567,\n    4815263\n    },\n    {\n     9632587,\n    3621547\n    },\n     {\n     4561230,\n     0314783\n     }\n    ]\n    \n</code></pre>\n<p>I have a sample code written but that doesn't seem to group the elementB into the list. How can we do the grouping of both the elements into a List.</p>\n<p>Sample Code:</p>\n<pre><code>    String splitStringNeeded = &quot;ABC:DONE:07JAN90:1352:00009279:U:1234567:9632587:4561230:EC:GB:4815263:3621547:0314783)&quot;;\n            \n    String[] vElements = splitStringNeeded.split(&quot;:&quot;);\n    String[] grpV = Arrays.copyOfRange(vElements, 6,10 );\n    String[] grpT = Arrays.copyOfRange(vElements, 12, vElements.length);\n        \n    List&lt;String&gt; groupedV = Arrays.asList(grpV);\n    List&lt;String&gt; groupedT = Arrays.asList(grpT);\n    \n    for(String splitV : groupedV){\n        for(String splitT : groupedT){\n        \n            System.out.println(splitV);\n            System.out.println(splitT);\n            break;\n        \n        }\n    }\n    \n</code></pre>\n<p>I am getting the below output where elementB does not change but repeats itself. Can someone please guide</p>\n<pre><code>&quot;List&quot; : [ \n    {\n    1234567,\n    4815263\n    },\n    {\n     9632587,\n    4815263\n    },\n     {\n     4561230,\n     4815263\n     }\n    ]\n    \n</code></pre>\n<p>We can consider even the below inputs:</p>\n<pre><code>ABC:DONE:07JAN90:1352:00009279:U:1234567:9632587:0:EC:GB:4815263:3621547\n\nABC:DONE:07JAN90:1352:00009279:U:1234567:0:0:EC:GB:4815263\n</code></pre>\n"},{"tags":["java","io","java-2d"],"answers":[{"tags":[],"owner":{"account_id":21945935,"reputation":24,"user_id":16225784,"display_name":"lumin0u"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643218495,"creation_date":1643218495,"answer_id":70867826,"question_id":70867651,"body_markdown":"The `ImageIO#read(InputStream)` method does return a `java.awt.image.BufferedImage` (which extends from `java.awt.Image`).\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#read-java.io.InputStream-","title":"Java : read an image inside a binary file (or maybe more generally, from a stream)","body":"<p>The <code>ImageIO#read(InputStream)</code> method does return a <code>java.awt.image.BufferedImage</code> (which extends from <code>java.awt.Image</code>).</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#read-java.io.InputStream-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#read-java.io.InputStream-</a></p>\n"}],"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70867826,"answer_count":1,"score":-1,"last_activity_date":1643218495,"creation_date":1643217756,"question_id":70867651,"body_markdown":"I am making a java program that reads a binary file, which contains multiple images (in PNG format), and some binary data.  \r\n\r\nHow can i load the images (specifically, as `java.awt.Image`&#39;s) ? So far the only way i have found to load an image is via functions that just take a file. How can i do it from, say, an InputStream ?","title":"Java : read an image inside a binary file (or maybe more generally, from a stream)","body":"<p>I am making a java program that reads a binary file, which contains multiple images (in PNG format), and some binary data.</p>\n<p>How can i load the images (specifically, as <code>java.awt.Image</code>'s) ? So far the only way i have found to load an image is via functions that just take a file. How can i do it from, say, an InputStream ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":2,"creation_date":1643188826,"post_id":70861017,"comment_id":125270857,"body_markdown":"There doesn&#39;t seem to be a problem, AFAICS, the second try yielded a proper output. So you should tell us, what problem you have.","body":"There doesn&#39;t seem to be a problem, AFAICS, the second try yielded a proper output. So you should tell us, what problem you have."},{"owner":{"account_id":20666243,"reputation":19,"user_id":15173026,"display_name":"WoodPecker"},"score":0,"creation_date":1643189136,"post_id":70861017,"comment_id":125270987,"body_markdown":"I would like to know why ``` java HelloWorld``` occur **java.lang.ClassNotFoundException: HelloWorld**. Because in my opinion it should works.","body":"I would like to know why ``` java HelloWorld``` occur <b>java.lang.ClassNotFoundException: HelloWorld</b>. Because in my opinion it should works."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1643189319,"post_id":70861017,"comment_id":125271047,"body_markdown":"Because in your first command, you didn&#39;t set a classpath (as you did in your second command with the `-cp` option) and the current directory is not in your default classpath.","body":"Because in your first command, you didn&#39;t set a classpath (as you did in your second command with the <code>-cp</code> option) and the current directory is not in your default classpath."}],"answers":[{"tags":[],"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643197074,"creation_date":1643197074,"answer_id":70862825,"question_id":70861017,"body_markdown":"You cannot run just `java HelloWorld` because in Linux, current directory &quot;.&quot; is not in `$CLASSPATH`. (You can observe by running command `echo $CLASSPATH`)\r\n\r\nBecause of that, when you are specifying class path with `-cp .`; you are basically saying &quot;When running that class, look for that class path.&quot;\r\n\r\nThus, you can run the command with second way.\r\n\r\nFor further information, you can check out [Oracle&#39;s documentation][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/paths.html","title":"Compile java file in linux","body":"<p>You cannot run just <code>java HelloWorld</code> because in Linux, current directory &quot;.&quot; is not in <code>$CLASSPATH</code>. (You can observe by running command <code>echo $CLASSPATH</code>)</p>\n<p>Because of that, when you are specifying class path with <code>-cp .</code>; you are basically saying &quot;When running that class, look for that class path.&quot;</p>\n<p>Thus, you can run the command with second way.</p>\n<p>For further information, you can check out <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">Oracle's documentation</a>.</p>\n"}],"owner":{"account_id":20666243,"reputation":19,"user_id":15173026,"display_name":"WoodPecker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1643218365,"accepted_answer_id":70862825,"answer_count":1,"score":-3,"last_activity_date":1643218323,"creation_date":1643188565,"question_id":70861017,"body_markdown":"I have added environment variables in /etc/profile and the compiled file has no package name. **Why ```java Hello ``` can not work and appear** *java.lang.ClassNotFoundException: HelloWorld.* I would like to know where is the problem, thanks. \r\n\r\n[![compile java file in linux][1]][1]\r\nHere is the code.\r\n```\r\npublic class HelloWorld {\r\n\tpublic static void main(String args[]) {\r\n\t\tSystem.out.println(&quot;Hello world on Linux.&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/SuKQf.png\r\n\r\n---\r\n\r\n&gt; [Linux execute java command Error: Main class not found or loaded](https://blog.csdn.net/shepherd_dirk/article/details/90514982)  \r\n&gt; java  \r\n&gt; [JavaCentOS](https://www.cnblogs.com/ycyzharry/p/13934880.html)  \r\n\r\n[](https://q.cnblogs.com/q/137984/)  ycyzharry ","title":"Compile java file in linux","body":"<p>I have added environment variables in /etc/profile and the compiled file has no package name. <strong>Why <code>java Hello </code> can not work and appear</strong> <em>java.lang.ClassNotFoundException: HelloWorld.</em> I would like to know where is the problem, thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/SuKQf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SuKQf.png\" alt=\"compile java file in linux\" /></a>\nHere is the code.</p>\n<pre><code>public class HelloWorld {\n    public static void main(String args[]) {\n        System.out.println(&quot;Hello world on Linux.&quot;);\n    }\n}\n</code></pre>\n<hr />\n<blockquote>\n<p><a href=\"https://blog.csdn.net/shepherd_dirk/article/details/90514982\" rel=\"nofollow noreferrer\">Linux execute java command Error: Main class not found or loaded</a><br />\njava<br />\n<a href=\"https://www.cnblogs.com/ycyzharry/p/13934880.html\" rel=\"nofollow noreferrer\">JavaCentOS</a></p>\n</blockquote>\n<p><a href=\"https://q.cnblogs.com/q/137984/\" rel=\"nofollow noreferrer\"></a>  ycyzharry</p>\n"},{"tags":["java","path","nio","java-7"],"answers":[{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":1,"up_vote_count":110,"is_accepted":true,"score":109,"last_activity_date":1321973773,"creation_date":1321969077,"answer_id":8227728,"question_id":8227499,"body_markdown":"**Use the [`resolve`][1] method on [`Path`][2].**\r\n\r\nThere are two methods with this name. [One][3] takes a relative `Path` and [the other][4] a `String`.  It uses the `Path` on which it is called as a parent and appends the `String` or relative `Path` appropriately.\r\n\r\n    Path parent = Paths.get(&quot;c:\\\\tmp&quot;);\r\n    Path child = parent.resolve(&quot;child&quot;);\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html#resolve%28java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html\r\n  [3]: http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html#resolve%28java.nio.file.Path%29\r\n  [4]: http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html#resolve%28java.lang.String%29","title":"How to access a sub-file/folder in Java 7 java.nio.file.Path?","body":"<p><strong>Use the <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html#resolve%28java.lang.String%29\" rel=\"noreferrer\"><code>resolve</code></a> method on <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"noreferrer\"><code>Path</code></a>.</strong></p>\n\n<p>There are two methods with this name. <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html#resolve%28java.nio.file.Path%29\" rel=\"noreferrer\">One</a> takes a relative <code>Path</code> and <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html#resolve%28java.lang.String%29\" rel=\"noreferrer\">the other</a> a <code>String</code>.  It uses the <code>Path</code> on which it is called as a parent and appends the <code>String</code> or relative <code>Path</code> appropriately.</p>\n\n<pre><code>Path parent = Paths.get(\"c:\\\\tmp\");\nPath child = parent.resolve(\"child\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643218128,"creation_date":1643218128,"answer_id":70867732,"question_id":8227499,"body_markdown":"To anyone finding this question looking **specifically** only for files that are within the specified path, you must be aware of path traversal attacks.\r\n\r\nSee: https://stackoverflow.com/questions/33083397/filtering-upwards-path-traversal-in-java-or-scala/33084369#33084369\r\n\r\nIt is **critical** that you check that the path starts with the root.\r\n\r\n    Path parent = Paths.get(&quot;C:\\\\tmp&quot;);\r\n    Path child = parent.resolve(&quot;chlid&quot;).normalize();\r\n    if (!child.startsWith(parent)) {\r\n        throw new IllegalArgumentException(&quot;Potential Path Traversal Attack&quot;);\r\n    }\r\n\r\n","title":"How to access a sub-file/folder in Java 7 java.nio.file.Path?","body":"<p>To anyone finding this question looking <strong>specifically</strong> only for files that are within the specified path, you must be aware of path traversal attacks.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/33083397/filtering-upwards-path-traversal-in-java-or-scala/33084369#33084369\">Filtering upwards path traversal in Java (or Scala)</a></p>\n<p>It is <strong>critical</strong> that you check that the path starts with the root.</p>\n<pre><code>Path parent = Paths.get(&quot;C:\\\\tmp&quot;);\nPath child = parent.resolve(&quot;chlid&quot;).normalize();\nif (!child.startsWith(parent)) {\n    throw new IllegalArgumentException(&quot;Potential Path Traversal Attack&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29072,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":8227728,"answer_count":2,"score":75,"last_activity_date":1643218128,"creation_date":1321968138,"question_id":8227499,"body_markdown":"Java 7 introduced [java.nio.file.Path][1] as a [possible replacement][2] for java.io.File.\r\n\r\nWith File, when I access a file under a specific, I would do:\r\n\r\n    File parent = new File(&quot;c:\\\\tmp&quot;);\r\n    File child = new File(parent, &quot;child&quot;); // this accesses c:\\tmp\\child\r\n\r\nWhat&#39;s the way to do this with Path?\r\n\r\nI supposed this will work:\r\n\r\n    Path parent = Paths.get(&quot;c:\\\\tmp&quot;);\r\n    Path child = Paths.get(parent.toString(), &quot;child&quot;);\r\n\r\nBut calling `parent.toString()` seems ugly. Is there a better way?\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\r\n  [2]: https://stackoverflow.com/questions/6903335/java-7-path-vs-file","title":"How to access a sub-file/folder in Java 7 java.nio.file.Path?","body":"<p>Java 7 introduced <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"noreferrer\">java.nio.file.Path</a> as a <a href=\"https://stackoverflow.com/questions/6903335/java-7-path-vs-file\">possible replacement</a> for java.io.File.</p>\n\n<p>With File, when I access a file under a specific, I would do:</p>\n\n<pre><code>File parent = new File(\"c:\\\\tmp\");\nFile child = new File(parent, \"child\"); // this accesses c:\\tmp\\child\n</code></pre>\n\n<p>What's the way to do this with Path?</p>\n\n<p>I supposed this will work:</p>\n\n<pre><code>Path parent = Paths.get(\"c:\\\\tmp\");\nPath child = Paths.get(parent.toString(), \"child\");\n</code></pre>\n\n<p>But calling <code>parent.toString()</code> seems ugly. Is there a better way?</p>\n"},{"tags":["java","spring-boot","listener"],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643218126,"creation_date":1643218126,"answer_id":70867731,"question_id":70867534,"body_markdown":"Here&#39;s a collection of links which are providing some details about `@EntityListeners` with JPA in Spring Boot webapplications :\r\n\r\n - [JPA Entity Lifecycle Events][1]\r\n - [A gist of a php-coder][2]\r\n - [Spring Data JPA Entity Auditing using EntityListeners\r\n][3]\r\n - [Spring JPA Auditing in Official Documentation][4]\r\n - [StackOverflow: How to use an @Autowired @EntityListener][5]\r\n - [StackOverflow: How to inject a dependency into a JPA @EntityListener][6]\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-entity-lifecycle-events\r\n  [2]: https://gist.github.com/php-coder/1391084/be97af0feb19620fe2a6d2e0276d9b4c638069c6\r\n  [3]: https://roytuts.com/spring-data-jpa-entity-auditing-using-entitylisteners/\r\n  [4]: https://docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/reference/html/#jpa.auditing\r\n  [5]: https://stackoverflow.com/q/56225449/390462\r\n  [6]: https://stackoverflow.com/q/12155632/390462\r\n\r\nI think you&#39;ll have common paths to seek the information you need with all that links. And maybe other people will help you more.","title":"How Spring Boot Application to listen for a CRUD operations","body":"<p>Here's a collection of links which are providing some details about <code>@EntityListeners</code> with JPA in Spring Boot webapplications :</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">JPA Entity Lifecycle Events</a></li>\n<li><a href=\"https://gist.github.com/php-coder/1391084/be97af0feb19620fe2a6d2e0276d9b4c638069c6\" rel=\"nofollow noreferrer\">A gist of a php-coder</a></li>\n<li><a href=\"https://roytuts.com/spring-data-jpa-entity-auditing-using-entitylisteners/\" rel=\"nofollow noreferrer\">Spring Data JPA Entity Auditing using EntityListeners\n</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/reference/html/#jpa.auditing\" rel=\"nofollow noreferrer\">Spring JPA Auditing in Official Documentation</a></li>\n<li><a href=\"https://stackoverflow.com/q/56225449/390462\">StackOverflow: How to use an @Autowired @EntityListener</a></li>\n<li><a href=\"https://stackoverflow.com/q/12155632/390462\">StackOverflow: How to inject a dependency into a JPA @EntityListener</a></li>\n</ul>\n<p>I think you'll have common paths to seek the information you need with all that links. And maybe other people will help you more.</p>\n"}],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643218126,"creation_date":1643217245,"question_id":70867534,"body_markdown":"I am just starting with Spring boot Web Applications, and I am in this point now I need to issue notification in the app ecosystem after CRUD Operation in database (I am using MySQL)\r\nHow can I set up a listener and based on the operation to create a new notification. From my search, I land on `@EntityListeners(AuditTrailListener.class)` but not sure how to use it, I will be happy to share with me some examples or to redirect me to the right place to see how to set up that kind of listener.","title":"How Spring Boot Application to listen for a CRUD operations","body":"<p>I am just starting with Spring boot Web Applications, and I am in this point now I need to issue notification in the app ecosystem after CRUD Operation in database (I am using MySQL)\nHow can I set up a listener and based on the operation to create a new notification. From my search, I land on <code>@EntityListeners(AuditTrailListener.class)</code> but not sure how to use it, I will be happy to share with me some examples or to redirect me to the right place to see how to set up that kind of listener.</p>\n"},{"tags":["java","grpc","quarkus","grpc-java","quarkus-grpc"],"comments":[{"owner":{"account_id":24061273,"reputation":9,"user_id":18038486,"display_name":"xaverinho"},"score":0,"creation_date":1643286468,"post_id":70864697,"comment_id":125302150,"body_markdown":"I find the answer https://github.com/grpc/grpc-kotlin/issues/141","body":"I find the answer <a href=\"https://github.com/grpc/grpc-kotlin/issues/141\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-kotlin/issues/141</a>"}],"owner":{"account_id":24061273,"reputation":9,"user_id":18038486,"display_name":"xaverinho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643218060,"creation_date":1643205895,"question_id":70864697,"body_markdown":"I&#39;m trying to make a grpc interceptor with java and quarkus but it&#39;s not capturing the rumtimeExcpetions, could anyone shed some light ?\r\n\r\n@GlobalInterceptor\r\n@ApplicationScoped\r\n\r\npublic class TestHandlingInterceptor implements ServerInterceptor {\r\n\r\n    @Override\r\n    public &lt;T, R&gt; ServerCall.Listener&lt;T&gt; interceptCall(\r\n            ServerCall&lt;T, R&gt; serverCall, Metadata metadata, ServerCallHandler&lt;T, R&gt; serverCallHandler) {\r\n            ServerCall.Listener&lt;T&gt; delegate = serverCallHandler.startCall(serverCall, metadata);\r\n            return new TestForwardingServerCallListener&lt;&gt;(delegate, serverCall, metadata);\r\n    }\r\n    private static class TestForwardingServerCallListener&lt;T, R&gt;\r\n            extends ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;T&gt; {\r\n        private final ServerCall&lt;T, R&gt; delegate;\r\n        private final Metadata metadata;\r\n\r\n        public TestForwardingServerCallListener(\r\n                ServerCall.Listener&lt;T&gt; listener, ServerCall&lt;T, R&gt; serverCall, Metadata metadata) {\r\n            super(listener);\r\n            this.delegate = serverCall;\r\n            this.metadata = metadata;\r\n        }\r\n\r\n        @Override\r\n        public void onHalfClose() {\r\n            try {\r\n                super.onHalfClose();\r\n            } catch (RuntimeException ex) {\r\n                handlerException(ex, delegate, metadata);\r\n                throw ex;\r\n            }\r\n        }\r\n        @Override\r\n        public void onReady() {\r\n            try {\r\n                super.onReady();\r\n            } catch (RuntimeException ex) {\r\n                handlerException(ex, delegate, metadata);\r\n                throw ex;\r\n            }\r\n        }\r\n     \r\n    private void handlerException(\r\n                RuntimeException exception, ServerCall&lt;T, R&gt; serverCall, Metadata header) {\r\n            if (exception instanceof RuntimeException) {\r\n                serverCall.close(Status.NOT_FOUND.withDescription(exception.getMessage()),metadata);\r\n                \r\n            } else {\r\n                serverCall.close(Status.UNKNOWN, header);\r\n            }\r\n        }\r\n    }\r\n}","title":"grpc interceptor does not catch runtimeException","body":"<p>I'm trying to make a grpc interceptor with java and quarkus but it's not capturing the rumtimeExcpetions, could anyone shed some light ?</p>\n<p>@GlobalInterceptor\n@ApplicationScoped</p>\n<p>public class TestHandlingInterceptor implements ServerInterceptor {</p>\n<pre><code>@Override\npublic &lt;T, R&gt; ServerCall.Listener&lt;T&gt; interceptCall(\n        ServerCall&lt;T, R&gt; serverCall, Metadata metadata, ServerCallHandler&lt;T, R&gt; serverCallHandler) {\n        ServerCall.Listener&lt;T&gt; delegate = serverCallHandler.startCall(serverCall, metadata);\n        return new TestForwardingServerCallListener&lt;&gt;(delegate, serverCall, metadata);\n}\nprivate static class TestForwardingServerCallListener&lt;T, R&gt;\n        extends ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;T&gt; {\n    private final ServerCall&lt;T, R&gt; delegate;\n    private final Metadata metadata;\n\n    public TestForwardingServerCallListener(\n            ServerCall.Listener&lt;T&gt; listener, ServerCall&lt;T, R&gt; serverCall, Metadata metadata) {\n        super(listener);\n        this.delegate = serverCall;\n        this.metadata = metadata;\n    }\n\n    @Override\n    public void onHalfClose() {\n        try {\n            super.onHalfClose();\n        } catch (RuntimeException ex) {\n            handlerException(ex, delegate, metadata);\n            throw ex;\n        }\n    }\n    @Override\n    public void onReady() {\n        try {\n            super.onReady();\n        } catch (RuntimeException ex) {\n            handlerException(ex, delegate, metadata);\n            throw ex;\n        }\n    }\n \nprivate void handlerException(\n            RuntimeException exception, ServerCall&lt;T, R&gt; serverCall, Metadata header) {\n        if (exception instanceof RuntimeException) {\n            serverCall.close(Status.NOT_FOUND.withDescription(exception.getMessage()),metadata);\n            \n        } else {\n            serverCall.close(Status.UNKNOWN, header);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","intellij-idea","jar","executable-jar"],"comments":[{"owner":{"account_id":2481390,"reputation":1190,"user_id":2160802,"accept_rate":62,"display_name":"Piotr Chowaniec"},"score":0,"creation_date":1643214734,"post_id":70866816,"comment_id":125281603,"body_markdown":"Try this: https://maven.apache.org/plugins/maven-assembly-plugin/","body":"Try this: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-assembly-plugin</a>"},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1643215300,"post_id":70866816,"comment_id":125281884,"body_markdown":"This doesn&#39;t work either. Similarly to the other method, I get: CP:benchmark.jar, and nothing happens. I&#39;ll edit the original post with the config of this plugin.","body":"This doesn&#39;t work either. Similarly to the other method, I get: CP:benchmark.jar, and nothing happens. I&#39;ll edit the original post with the config of this plugin."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1643216831,"post_id":70866816,"comment_id":125282623,"body_markdown":"If you have a spring boot project you should use spring-boot-maven-plugin nothing else...that does everything which is needed ....","body":"If you have a spring boot project you should use spring-boot-maven-plugin nothing else...that does everything which is needed ...."},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1643217921,"post_id":70866816,"comment_id":125283047,"body_markdown":"It is not. I edited the post, to extend the info.","body":"It is not. I edited the post, to extend the info."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1643218066,"post_id":70866816,"comment_id":125283118,"body_markdown":"It would be much easier to help with your problem if you could share a small sample project to reproduce this issue on GitHub, just one class and one dependency used in this class should probably be enough.","body":"It would be much easier to help with your problem if you could share a small sample project to reproduce this issue on GitHub, just one class and one dependency used in this class should probably be enough."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643219747,"post_id":70866816,"comment_id":125283810,"body_markdown":"You should use maven-shade-plugin to create such thing. The main class you have defined is without a package which means the default package that is wrong. Create a package where you should move your main class to...","body":"You should use maven-shade-plugin to create such thing. The main class you have defined is without a package which means the default package that is wrong. Create a package where you should move your main class to..."},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1643219984,"post_id":70866816,"comment_id":125283910,"body_markdown":"The project structure is:\nsrc -&gt; main -&gt; java, and in the java directory I have some packages and the main class:\npackage1\npackage2\npackage3\nMain\n@CrazyCoder: I will modify my project a lil bit, and I will post a link to git in an hour.","body":"The project structure is: src -&gt; main -&gt; java, and in the java directory I have some packages and the main class: package1 package2 package3 Main @CrazyCoder: I will modify my project a lil bit, and I will post a link to git in an hour."}],"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643217896,"creation_date":1643214273,"question_id":70866816,"body_markdown":"I want to create an executable jar with all dependencies so that I can deploy it later on AWS.\r\n\r\nI tried out several different methods. They all produce a jar file, but executing it yields nothing (see below).\r\n\r\nThe first method involved using IntelliJ. I did the following: File -&gt; Project Structure -&gt; Artifacts -&gt; Added jar -&gt; Selected Main Class -&gt; Build -&gt; Build Artifacts -&gt; Build.\r\nAfterwards, I executed the created JAR. I received the following error: `no main manifest attribute, in benchmark.JAR`.\r\n\r\nSo I decided to add the MANIFEST.MF manually:\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: Benchmark\r\nClass-Path: .\r\n```\r\n...and built the JAR using IntelliJ. I ended up having about 30 different jars. After I have executed benchmark.JAR, I got: `CP:/Users/.../benchmark.jar`.\r\n\r\nI decided to try something else, namely the maven-jar-plugin. \r\nI added the following configuration to the pom.xml:\r\n```\r\n    &lt;plugin&gt;\r\n      &lt;!-- Build an executable JAR --&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.2&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n            &lt;mainClass&gt;Benchmark&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\nThis didn&#39;t work either. I executed `jar:jar` and found the following error:\r\n`Error: Unable to initialize main class Benchmark\r\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory`\r\n\r\nUndismayed I tried another option which is the spring-boot-maven-plugin:\r\nPlease note: my project is **not** a spring-boot project.\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;executable&gt;true&lt;/executable&gt;\r\n                &lt;classifier&gt;spring-boot&lt;/classifier&gt;\r\n                &lt;mainClass&gt;Benchmark&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nI executed *clean*, *install*, and *repackage*. I obtained the JAR, executed it, received: `CP:benchmark.jar.`\r\n\r\nThen came the turn for the maven-shade-plugin. I executed shade, package+shade, package - unfortunately to no avail. I have: `CP:benchmark.jar%`\r\n\r\n```\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                &lt;transformers&gt;\r\n                    &lt;transformer implementation=\r\n                                            &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                        &lt;mainClass&gt;Benchmark&lt;/mainClass&gt;\r\n                    &lt;/transformer&gt;\r\n                &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\nEDIT:\r\n\r\nAccording to the comment, I also tried with the maven-assemble-plugin. It doesn&#39;t work either. It gives me: CP:benchmark.jar\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;\r\n                                        Benchmark\r\n                                    &lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n ","title":"Can&#39;t create an executable jar with all dependencies","body":"<p>I want to create an executable jar with all dependencies so that I can deploy it later on AWS.</p>\n<p>I tried out several different methods. They all produce a jar file, but executing it yields nothing (see below).</p>\n<p>The first method involved using IntelliJ. I did the following: File -&gt; Project Structure -&gt; Artifacts -&gt; Added jar -&gt; Selected Main Class -&gt; Build -&gt; Build Artifacts -&gt; Build.\nAfterwards, I executed the created JAR. I received the following error: <code>no main manifest attribute, in benchmark.JAR</code>.</p>\n<p>So I decided to add the MANIFEST.MF manually:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: Benchmark\nClass-Path: .\n</code></pre>\n<p>...and built the JAR using IntelliJ. I ended up having about 30 different jars. After I have executed benchmark.JAR, I got: <code>CP:/Users/.../benchmark.jar</code>.</p>\n<p>I decided to try something else, namely the maven-jar-plugin.\nI added the following configuration to the pom.xml:</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;!-- Build an executable JAR --&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;Benchmark&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>This didn't work either. I executed <code>jar:jar</code> and found the following error:\n<code>Error: Unable to initialize main class Benchmark Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory</code></p>\n<p>Undismayed I tried another option which is the spring-boot-maven-plugin:\nPlease note: my project is <strong>not</strong> a spring-boot project.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;true&lt;/executable&gt;\n                &lt;classifier&gt;spring-boot&lt;/classifier&gt;\n                &lt;mainClass&gt;Benchmark&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I executed <em>clean</em>, <em>install</em>, and <em>repackage</em>. I obtained the JAR, executed it, received: <code>CP:benchmark.jar.</code></p>\n<p>Then came the turn for the maven-shade-plugin. I executed shade, package+shade, package - unfortunately to no avail. I have: <code>CP:benchmark.jar%</code></p>\n<pre><code>\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                &lt;transformers&gt;\n                    &lt;transformer implementation=\n                                            &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                        &lt;mainClass&gt;Benchmark&lt;/mainClass&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>EDIT:</p>\n<p>According to the comment, I also tried with the maven-assemble-plugin. It doesn't work either. It gives me: CP:benchmark.jar</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;\n                                    Benchmark\n                                &lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","selenium","automation"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1643229045,"post_id":70867669,"comment_id":125287216,"body_markdown":"You can get some options by typing &quot;chrome://version/&quot; in the location bar and hitting enter.  (you might also use Selenium to .get() that...)  This should show any flags used at startup.","body":"You can get some options by typing &quot;chrome://version/&quot; in the location bar and hitting enter.  (you might also use Selenium to .get() that...)  This should show any flags used at startup."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1643268609,"post_id":70867669,"comment_id":125295583,"body_markdown":"If you need to recognize the incognito mode only (not all the options ang args) see https://stackoverflow.com/questions/2909367/can-you-determine-if-chrome-is-in-incognito-mode-via-a-script","body":"If you need to recognize the incognito mode only (not all the options ang args) see <a href=\"https://stackoverflow.com/questions/2909367/can-you-determine-if-chrome-is-in-incognito-mode-via-a-script\" title=\"can you determine if chrome is in incognito mode via a script\">stackoverflow.com/questions/2909367/&hellip;</a>"}],"owner":{"account_id":9556754,"reputation":103,"user_id":7098982,"accept_rate":43,"display_name":"Daredevi1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643217851,"creation_date":1643217851,"question_id":70867669,"body_markdown":"In my projects ScenarioSetup.java I am setting a few options via ChromeOptions and one of them is to open up the browser in incognito;\r\n\r\n    options.addArguments(&quot;--incognito&quot;);\r\n\r\nNow I wanted to know if its possible to check ChromeOptions for within another class. Someone suggested to do the following, however it just throws a null pointer. \r\n\r\n    if (System.getProperty(&quot;chromeoptions.args&quot;).equals(&quot;--incognito&quot;)) {\r\n      do something;\r\n    } else {\r\n      do something else;\r\n    }","title":"Get ChromeOptions arguments after they have been set","body":"<p>In my projects ScenarioSetup.java I am setting a few options via ChromeOptions and one of them is to open up the browser in incognito;</p>\n<pre><code>options.addArguments(&quot;--incognito&quot;);\n</code></pre>\n<p>Now I wanted to know if its possible to check ChromeOptions for within another class. Someone suggested to do the following, however it just throws a null pointer.</p>\n<pre><code>if (System.getProperty(&quot;chromeoptions.args&quot;).equals(&quot;--incognito&quot;)) {\n  do something;\n} else {\n  do something else;\n}\n</code></pre>\n"},{"tags":["java","android","hook","frida"],"comments":[{"owner":{"account_id":1450311,"reputation":23602,"user_id":1367454,"display_name":"eshirvana"},"score":0,"creation_date":1643206672,"post_id":70864854,"comment_id":125277778,"body_markdown":"why are you tagging python","body":"why are you tagging python"},{"owner":{"account_id":24061406,"reputation":11,"user_id":18038595,"display_name":"DST"},"score":0,"creation_date":1643206770,"post_id":70864854,"comment_id":125277831,"body_markdown":"Sorry I make a mistake but this hook is include in python script with the Frida Python Bindings. Sorry","body":"Sorry I make a mistake but this hook is include in python script with the Frida Python Bindings. Sorry"}],"owner":{"account_id":24061406,"reputation":11,"user_id":18038595,"display_name":"DST"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643217772,"creation_date":1643206546,"question_id":70864854,"body_markdown":"Hy everyone.\r\nI try to hook an not loaded class on android apk with adb and frida. To do that, I try to load the class include in the dex file, with unusual way. I create a new class with Java.registerClass() to load the original with the implemented targeted class.\r\n\r\nHowever when I run the code I should to deal with problems :\r\n\r\n1. Firstly, with the all script I receive this following message :\r\n```\r\n{&#39;type&#39;: &#39;error&#39;, &#39;description&#39;: &quot;TypeError: cannot read property &#39;replace&#39; of undefined&quot;, &#39;stack&#39;: &quot;TypeError: cannot read property &#39;replace&#39; of undefined\r\n    at w (frida/node_modules/frida-java-bridge/lib/types.js:334)\r\n    at registerClass (frida/node_modules/frida-java-bridge/lib/class-factory.js:153)\r\n    at registerClass (frida/node_modules/frida-java-bridge/index.js:271)\r\n    at bend4 (/script1.js:42)\r\n    at &lt;eval&gt; (/script1.js:48)&quot;, &#39;fileName&#39;: &#39;frida/node_modules/frida-java-bridge/lib/types.js&#39;, &#39;lineNumber&#39;: 334, &#39;columnNumber&#39;: 1}\r\n```\r\n\r\n2. When I run only the first line, system send a refusal for needed permission to do the task. The following refusal :\r\n\r\n```\r\n{&#39;type&#39;: &#39;error&#39;, &#39;description&#39;: &#39;Error: java.io.IOException: Permission denied&#39;, &#39;stack&#39;: &#39;Error: java.io.IOException: Permission denied\r\n    at &lt;anonymous&gt; (frida/node_modules/frida-java-bridge/lib/env.js:124)\r\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:1058)\r\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:580)\r\n    at apply (native)\r\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:963)\r\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:547)\r\n    at ue (frida/node_modules/frida-java-bridge/lib/class-factory.js:1190)\r\n    at fromBuffer (frida/node_modules/frida-java-bridge/lib/class-factory.js:1168)\r\n    at registerClass (frida/node_modules/frida-java-bridge/lib/class-factory.js:216)\r\n    at registerClass (frida/node_modules/frida-java-bridge/index.js:271)\r\n    at bend4 (/script1.js:42)\r\n    at &lt;eval&gt; (/script1.js:48)&#39;, &#39;fileName&#39;: &#39;frida/node_modules/frida-java-bridge/lib/env.js&#39;, &#39;lineNumber&#39;: 124, &#39;columnNumber&#39;: 1}\r\n```\r\n\r\nI specify I run the hook with root privilege on Android VM based on virtualbox devices.\r\n\r\nThe hook script :\r\n```\r\nfunction bend4(){\r\n    const p2 = Java.registerClass({\r\n\r\n        name:&quot;com.example.orl&quot;,\r\n        // implements: [],\r\n        // superClass: targeted_class,\r\n\r\n    });\r\n\r\n    const p3 = p2.$new();\r\n    send(p3);\r\n};\r\nJava.perform(bend4());\r\n```\r\nThank you in advance for your help.","title":"Frida - NotLoaded Class Hooking - Java.registerClass not working","body":"<p>Hy everyone.\nI try to hook an not loaded class on android apk with adb and frida. To do that, I try to load the class include in the dex file, with unusual way. I create a new class with Java.registerClass() to load the original with the implemented targeted class.</p>\n<p>However when I run the code I should to deal with problems :</p>\n<ol>\n<li>Firstly, with the all script I receive this following message :</li>\n</ol>\n<pre><code>{'type': 'error', 'description': &quot;TypeError: cannot read property 'replace' of undefined&quot;, 'stack': &quot;TypeError: cannot read property 'replace' of undefined\n    at w (frida/node_modules/frida-java-bridge/lib/types.js:334)\n    at registerClass (frida/node_modules/frida-java-bridge/lib/class-factory.js:153)\n    at registerClass (frida/node_modules/frida-java-bridge/index.js:271)\n    at bend4 (/script1.js:42)\n    at &lt;eval&gt; (/script1.js:48)&quot;, 'fileName': 'frida/node_modules/frida-java-bridge/lib/types.js', 'lineNumber': 334, 'columnNumber': 1}\n</code></pre>\n<ol start=\"2\">\n<li>When I run only the first line, system send a refusal for needed permission to do the task. The following refusal :</li>\n</ol>\n<pre><code>{'type': 'error', 'description': 'Error: java.io.IOException: Permission denied', 'stack': 'Error: java.io.IOException: Permission denied\n    at &lt;anonymous&gt; (frida/node_modules/frida-java-bridge/lib/env.js:124)\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:1058)\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:580)\n    at apply (native)\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:963)\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:547)\n    at ue (frida/node_modules/frida-java-bridge/lib/class-factory.js:1190)\n    at fromBuffer (frida/node_modules/frida-java-bridge/lib/class-factory.js:1168)\n    at registerClass (frida/node_modules/frida-java-bridge/lib/class-factory.js:216)\n    at registerClass (frida/node_modules/frida-java-bridge/index.js:271)\n    at bend4 (/script1.js:42)\n    at &lt;eval&gt; (/script1.js:48)', 'fileName': 'frida/node_modules/frida-java-bridge/lib/env.js', 'lineNumber': 124, 'columnNumber': 1}\n</code></pre>\n<p>I specify I run the hook with root privilege on Android VM based on virtualbox devices.</p>\n<p>The hook script :</p>\n<pre><code>function bend4(){\n    const p2 = Java.registerClass({\n\n        name:&quot;com.example.orl&quot;,\n        // implements: [],\n        // superClass: targeted_class,\n\n    });\n\n    const p3 = p2.$new();\n    send(p3);\n};\nJava.perform(bend4());\n</code></pre>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","export-to-csv"],"comments":[{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1643190296,"post_id":70860963,"comment_id":125271471,"body_markdown":"So each item in `BerufeList` must be a separate row in target CSV file, right?","body":"So each item in <code>BerufeList</code> must be a separate row in target CSV file, right?"},{"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"score":0,"creation_date":1643190807,"post_id":70860963,"comment_id":125271715,"body_markdown":"Yes thats right","body":"Yes thats right"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643191950,"post_id":70860963,"comment_id":125272167,"body_markdown":"There is nothing complex about this.  Simply create a File with .csv extension in Java, then loop over your list, and write to a file using https://howtodoinjava.com/java11/write-string-to-file/  You need to write the Headers first.  Then loop over your List.   Please actually attempt something.","body":"There is nothing complex about this.  Simply create a File with .csv extension in Java, then loop over your list, and write to a file using <a href=\"https://howtodoinjava.com/java11/write-string-to-file/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java11/write-string-to-file</a>  You need to write the Headers first.  Then loop over your List.   Please actually attempt something."},{"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"score":0,"creation_date":1643192359,"post_id":70860963,"comment_id":125272332,"body_markdown":"Can&#39;t use it bc I am using java 8","body":"Can&#39;t use it bc I am using java 8"}],"answers":[{"tags":[],"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643193943,"creation_date":1643193943,"answer_id":70862197,"question_id":70860963,"body_markdown":"**Solution**\r\n\r\nWrite line for line in the file with StringBuidler.append. To this add your comma and a new line after each row. ","title":"Write ResultList from DB into a CSV file in Java","body":"<p><strong>Solution</strong></p>\n<p>Write line for line in the file with StringBuidler.append. To this add your comma and a new line after each row.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643201640,"creation_date":1643198426,"answer_id":70863112,"question_id":70860963,"body_markdown":"You can use something like\r\n```java\r\nQuery q = em.createNamedQuery(&quot;getalljobs&quot;);\r\nList&lt;Job&gt; jobList = q.getResultList();\r\nString csvHeader = getHeader();\r\n\r\ntry (PrintWriter fw = new PrintWriter(new FileWriter(&quot;output.csv&quot;))) {\r\n  fw.println(csvHeader);\r\n  for(String line : jobList){\r\n    fw.println(line);\r\n  }\r\n}\r\n```","title":"Write ResultList from DB into a CSV file in Java","body":"<p>You can use something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query q = em.createNamedQuery(&quot;getalljobs&quot;);\nList&lt;Job&gt; jobList = q.getResultList();\nString csvHeader = getHeader();\n\ntry (PrintWriter fw = new PrintWriter(new FileWriter(&quot;output.csv&quot;))) {\n  fw.println(csvHeader);\n  for(String line : jobList){\n    fw.println(line);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70863112,"answer_count":2,"score":-1,"last_activity_date":1643217605,"creation_date":1643188295,"question_id":70860963,"body_markdown":"I need to write my `query.getResultList()` into a `.CSV` file.\r\n\r\nI call the query over this: \r\n\r\n        final Query q = em.createNamedQuery(&quot;getalljobs&quot;);\r\n        final List&lt;Job&gt; joblist = q.getResultList();\r\n\r\nand the Namequery just do `SELECT * FROM TABLE`, the result of `query.getResultList()` looks like this:\r\n````\r\n[id;name, id;name, ... ]\r\n````\r\n\r\nI can&#39;t use OpenCSV.\r\n\r\nThe CSV file needs to have headers. \r\n","title":"Write ResultList from DB into a CSV file in Java","body":"<p>I need to write my <code>query.getResultList()</code> into a <code>.CSV</code> file.</p>\n<p>I call the query over this:</p>\n<pre><code>    final Query q = em.createNamedQuery(&quot;getalljobs&quot;);\n    final List&lt;Job&gt; joblist = q.getResultList();\n</code></pre>\n<p>and the Namequery just do <code>SELECT * FROM TABLE</code>, the result of <code>query.getResultList()</code> looks like this:</p>\n<pre><code>[id;name, id;name, ... ]\n</code></pre>\n<p>I can't use OpenCSV.</p>\n<p>The CSV file needs to have headers.</p>\n"},{"tags":["java","slf4j"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1643199955,"post_id":70863330,"comment_id":125275150,"body_markdown":"You&#39;re looking in the wrong place. This is not something you address through slf4j, you address this through the configuration of the actual logging implementation you&#39;re using.","body":"You&#39;re looking in the wrong place. This is not something you address through slf4j, you address this through the configuration of the actual logging implementation you&#39;re using."},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1643216675,"post_id":70863330,"comment_id":125282546,"body_markdown":"I figured slf4j is more relevant than actual backend, because I assumed backend would have lost the context by the time it gets a message, it would only have a logger name and logged objects. And it seems the assumption was at least in part warranted, the solution is to use what slf4j calls Mapped Diagnostic Context","body":"I figured slf4j is more relevant than actual backend, because I assumed backend would have lost the context by the time it gets a message, it would only have a logger name and logged objects. And it seems the assumption was at least in part warranted, the solution is to use what slf4j calls Mapped Diagnostic Context"}],"answers":[{"tags":[],"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643217192,"creation_date":1643217192,"answer_id":70867521,"question_id":70863330,"body_markdown":"It seems my googling abilities had let me down. The solution was to use Mapped Diagnostic Context, which allows associating bits of information with the thread. I put current module value into MDC by making a high priority filter, which which extracts and saves first segment of the path. How that bit of information in MDC is used to direct to specific file is logging backend-specific, but in a case with logback it&#39;s through SiftingAppender.","title":"Directing logging depending on call context in modular monolith web application","body":"<p>It seems my googling abilities had let me down. The solution was to use Mapped Diagnostic Context, which allows associating bits of information with the thread. I put current module value into MDC by making a high priority filter, which which extracts and saves first segment of the path. How that bit of information in MDC is used to direct to specific file is logging backend-specific, but in a case with logback it's through SiftingAppender.</p>\n"}],"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70867521,"answer_count":1,"score":0,"last_activity_date":1643217192,"creation_date":1643199589,"question_id":70863330,"body_markdown":"For some story, we used to have an application in microservices architecture, and all services included and used a common dependency library. It was later decided, the microservices approach wasn&#39;t justified and had more overhead than benefit, and eventually was refactored into a modular monolith. Everything is nice and solid, except for one problem. Now everything is being logged into one place, and log entries from common module are less obvious wrt which part of code called it. If previously (microservices) the structure was\r\n\r\n```\r\nservice-a.log:\r\n----\r\nServiceA: doing this\r\nCommon DB service: calling DB with x  &lt;-- obviously called by service A\r\n```\r\n\r\n```\r\nservice-b.log:\r\n----\r\nServiceB: doing that\r\nCommon DB service: calling DB with y &lt;-- obviously called by service B\r\n```\r\n\r\nnow (with monolith) we have everything in one heap\r\n\r\n```\r\nwebapp.log:\r\n----\r\nServiceA: doing this\r\nServiceB: doing that\r\nCommon DB service: calling DB with x  &lt;-- called by what?\r\nCommon DB service: calling DB with y &lt;-- called by what?\r\n```\r\n\r\nand this isn&#39;t ideal. Yes, I know I can track around using thread names, but it would be much more pleasant if the separation was done on file level. It&#39;s obvious how to direct service A and service B logs to separate files. But how to do it with Common DB service? Is this feasible? I&#39;m looking for a solution that wouldn&#39;t be intrusive to the services themselves, ie that I could still keep having something simple like \r\n\r\n```java\r\n@Slf4j\r\n@Service\r\npublic class CommonDBService { ... }\r\n```\r\nwith no extra logging configuration logic in the service","title":"Directing logging depending on call context in modular monolith web application","body":"<p>For some story, we used to have an application in microservices architecture, and all services included and used a common dependency library. It was later decided, the microservices approach wasn't justified and had more overhead than benefit, and eventually was refactored into a modular monolith. Everything is nice and solid, except for one problem. Now everything is being logged into one place, and log entries from common module are less obvious wrt which part of code called it. If previously (microservices) the structure was</p>\n<pre><code>service-a.log:\n----\nServiceA: doing this\nCommon DB service: calling DB with x  &lt;-- obviously called by service A\n</code></pre>\n<pre><code>service-b.log:\n----\nServiceB: doing that\nCommon DB service: calling DB with y &lt;-- obviously called by service B\n</code></pre>\n<p>now (with monolith) we have everything in one heap</p>\n<pre><code>webapp.log:\n----\nServiceA: doing this\nServiceB: doing that\nCommon DB service: calling DB with x  &lt;-- called by what?\nCommon DB service: calling DB with y &lt;-- called by what?\n</code></pre>\n<p>and this isn't ideal. Yes, I know I can track around using thread names, but it would be much more pleasant if the separation was done on file level. It's obvious how to direct service A and service B logs to separate files. But how to do it with Common DB service? Is this feasible? I'm looking for a solution that wouldn't be intrusive to the services themselves, ie that I could still keep having something simple like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class CommonDBService { ... }\n</code></pre>\n<p>with no extra logging configuration logic in the service</p>\n"},{"tags":["java","android","flutter","assets","flutter-plugin"],"comments":[{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1642824209,"post_id":70809816,"comment_id":125181213,"body_markdown":"what about using FlutterPluginBinding.getFlutterAssets() and use methods there?","body":"what about using FlutterPluginBinding.getFlutterAssets() and use methods there?"}],"answers":[{"tags":[],"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1643216832,"creation_date":1642893259,"answer_id":70817917,"question_id":70809816,"body_markdown":"Add another field next to the method channel, to keep hold of the binding;\r\n\r\n    private MethodChannel channel;\r\n    \r\n    private FlutterPluginBinding binding;\r\n\r\nIn `onAttachedToEngine` set it:\r\n\r\n    channel.setMethodCallHandler(this);\r\n    binding = flutterPluginBinding;\r\n\r\nAnd clear it in `onDetached`\r\n\r\n    channel.setMethodCallHandler(null);\r\n    binding = null;\r\n\r\nThen use it like this (for the purposes of this I added an asset to the plugin (not the example app) called `assets/foo.bin`, and my plugin name is `plugin1`)\r\n\r\n            String assetPath = binding\r\n                    .getFlutterAssets()\r\n                    .getAssetFilePathBySubpath(&quot;assets/foo.bin&quot;, &quot;plugin1&quot;);\r\n            try {\r\n                InputStream is = binding.getApplicationContext().getAssets().open(assetPath);\r\n                // todo - read the asset into memory or whatever\r\n                is.close();\r\n            } catch (IOException e) {\r\n                Log.e(&quot;plugin1&quot;, e.getMessage());\r\n            }\r\n\r\nThe pubspec.yaml of the plugin project needs extra lines to package the asset as follows, after the `plugin` section:\r\n\r\n      plugin:\r\n        platforms:\r\n          android:\r\n            package: io.swhh.plugin1\r\n            pluginClass: Plugin1Plugin\r\n          ios:\r\n            pluginClass: Plugin1Plugin\r\n    \r\n      assets:\r\n        - assets/foo.bin\r\n\r\nYou may be interested in the equivalent in iOS (excuse the lack of error handling)\r\n\r\n      let key = FlutterDartProject.lookupKey(forAsset: &quot;assets/foo.bin&quot;, fromPackage: &quot;plugin1&quot;)\r\n      let path = Bundle.main.path(forResource: key, ofType: nil, inDirectory: nil)\r\n      let url = URL(fileURLWithPath: path!)\r\n      // use url to load the resource\r\n","title":"How *Exactly* to Access Flutter Assets From Within Android Java *Plugin* Platform Code?","body":"<p>Add another field next to the method channel, to keep hold of the binding;</p>\n<pre><code>private MethodChannel channel;\n\nprivate FlutterPluginBinding binding;\n</code></pre>\n<p>In <code>onAttachedToEngine</code> set it:</p>\n<pre><code>channel.setMethodCallHandler(this);\nbinding = flutterPluginBinding;\n</code></pre>\n<p>And clear it in <code>onDetached</code></p>\n<pre><code>channel.setMethodCallHandler(null);\nbinding = null;\n</code></pre>\n<p>Then use it like this (for the purposes of this I added an asset to the plugin (not the example app) called <code>assets/foo.bin</code>, and my plugin name is <code>plugin1</code>)</p>\n<pre><code>        String assetPath = binding\n                .getFlutterAssets()\n                .getAssetFilePathBySubpath(&quot;assets/foo.bin&quot;, &quot;plugin1&quot;);\n        try {\n            InputStream is = binding.getApplicationContext().getAssets().open(assetPath);\n            // todo - read the asset into memory or whatever\n            is.close();\n        } catch (IOException e) {\n            Log.e(&quot;plugin1&quot;, e.getMessage());\n        }\n</code></pre>\n<p>The pubspec.yaml of the plugin project needs extra lines to package the asset as follows, after the <code>plugin</code> section:</p>\n<pre><code>  plugin:\n    platforms:\n      android:\n        package: io.swhh.plugin1\n        pluginClass: Plugin1Plugin\n      ios:\n        pluginClass: Plugin1Plugin\n\n  assets:\n    - assets/foo.bin\n</code></pre>\n<p>You may be interested in the equivalent in iOS (excuse the lack of error handling)</p>\n<pre><code>  let key = FlutterDartProject.lookupKey(forAsset: &quot;assets/foo.bin&quot;, fromPackage: &quot;plugin1&quot;)\n  let path = Bundle.main.path(forResource: key, ofType: nil, inDirectory: nil)\n  let url = URL(fileURLWithPath: path!)\n  // use url to load the resource\n</code></pre>\n"}],"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70817917,"answer_count":1,"score":5,"last_activity_date":1643216832,"creation_date":1642822742,"question_id":70809816,"body_markdown":"We want to define a Flutter asset that can be accessed from the Android platform code within the same plugin.  The documentation for this is purported to be [here][1].\r\n\r\nPlease note we are NOT talking about custom platform code within a flutter app -- we are talking about flutter plugin code from the perspective of the plugin author.\r\n\r\nSo, following the docs, we start with the pubspec.yaml file for our plugin which exists at [your_plugin_root_dir]\\pubspec.yaml, and we add the asset definition:\r\n\r\n      assets:\r\n        - assets/sound.wav\r\n\r\nThis points to an existing file at [your_plugin_root_dir]\\assets\\sound.wav\r\n\r\nAll good so far, but then we have a problem:\r\n\r\nWhen you create a new Flutter *Plugin* project in Android studio, the Android Java file for the plugin looks like this:\r\n\r\n    public class PluginTestPlugin implements FlutterPlugin, MethodCallHandler {\r\n      /// The MethodChannel that will the communication between Flutter and native Android\r\n      ///\r\n      /// This local reference serves to register the plugin with the Flutter Engine and unregister it\r\n      /// when the Flutter Engine is detached from the Activity\r\n      private MethodChannel channel;\r\n    \r\n      @Override\r\n      public void onAttachedToEngine(@NonNull FlutterPluginBinding flutterPluginBinding) {\r\n        channel = new MethodChannel(flutterPluginBinding.getBinaryMessenger(), &quot;plugin_test&quot;);\r\n        channel.setMethodCallHandler(this);\r\n      }\r\n    \r\n      @Override\r\n      public void onMethodCall(@NonNull MethodCall call, @NonNull Result result) {\r\n        if (call.method.equals(&quot;getPlatformVersion&quot;)) {\r\n          result.success(&quot;Android &quot; + android.os.Build.VERSION.RELEASE);\r\n        } else {\r\n          result.notImplemented();\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void onDetachedFromEngine(@NonNull FlutterPluginBinding binding) {\r\n        channel.setMethodCallHandler(null);\r\n      }\r\n    }\r\n\r\nAnd in order to access your asset from within that code, the docs suggest adding this code:\r\n\r\n    AssetManager assetManager = registrar.context().getAssets();\r\n    String key = registrar.lookupKeyForAsset(&quot;assets/sound.wav&quot;);\r\n    AssetFileDescriptor fd = assetManager.openFd(key);\r\n\r\n**But since there is no &quot;registrar&quot; instance that exists in that code, and the documentation doesn&#39;t describe how it was created or how to access it, I&#39;m lost.**\r\n\r\nWhat am I missing here????\r\n\r\n  [1]: https://docs.flutter.dev/development/ui/assets-and-images#loading-flutter-assets-in-android","title":"How *Exactly* to Access Flutter Assets From Within Android Java *Plugin* Platform Code?","body":"<p>We want to define a Flutter asset that can be accessed from the Android platform code within the same plugin.  The documentation for this is purported to be <a href=\"https://docs.flutter.dev/development/ui/assets-and-images#loading-flutter-assets-in-android\" rel=\"noreferrer\">here</a>.</p>\n<p>Please note we are NOT talking about custom platform code within a flutter app -- we are talking about flutter plugin code from the perspective of the plugin author.</p>\n<p>So, following the docs, we start with the pubspec.yaml file for our plugin which exists at [your_plugin_root_dir]\\pubspec.yaml, and we add the asset definition:</p>\n<pre><code>  assets:\n    - assets/sound.wav\n</code></pre>\n<p>This points to an existing file at [your_plugin_root_dir]\\assets\\sound.wav</p>\n<p>All good so far, but then we have a problem:</p>\n<p>When you create a new Flutter <em>Plugin</em> project in Android studio, the Android Java file for the plugin looks like this:</p>\n<pre><code>public class PluginTestPlugin implements FlutterPlugin, MethodCallHandler {\n  /// The MethodChannel that will the communication between Flutter and native Android\n  ///\n  /// This local reference serves to register the plugin with the Flutter Engine and unregister it\n  /// when the Flutter Engine is detached from the Activity\n  private MethodChannel channel;\n\n  @Override\n  public void onAttachedToEngine(@NonNull FlutterPluginBinding flutterPluginBinding) {\n    channel = new MethodChannel(flutterPluginBinding.getBinaryMessenger(), &quot;plugin_test&quot;);\n    channel.setMethodCallHandler(this);\n  }\n\n  @Override\n  public void onMethodCall(@NonNull MethodCall call, @NonNull Result result) {\n    if (call.method.equals(&quot;getPlatformVersion&quot;)) {\n      result.success(&quot;Android &quot; + android.os.Build.VERSION.RELEASE);\n    } else {\n      result.notImplemented();\n    }\n  }\n\n  @Override\n  public void onDetachedFromEngine(@NonNull FlutterPluginBinding binding) {\n    channel.setMethodCallHandler(null);\n  }\n}\n</code></pre>\n<p>And in order to access your asset from within that code, the docs suggest adding this code:</p>\n<pre><code>AssetManager assetManager = registrar.context().getAssets();\nString key = registrar.lookupKeyForAsset(&quot;assets/sound.wav&quot;);\nAssetFileDescriptor fd = assetManager.openFd(key);\n</code></pre>\n<p><strong>But since there is no &quot;registrar&quot; instance that exists in that code, and the documentation doesn't describe how it was created or how to access it, I'm lost.</strong></p>\n<p>What am I missing here????</p>\n"},{"tags":["java","macos","applet","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643203105,"creation_date":1643203105,"answer_id":70864051,"question_id":70862406,"body_markdown":"That class, now obsolete, was the mechanism by which a Java app could integrate into macOS. Specifically, to hook into Open, Preferences, About, Quit menu items / events.\r\n\r\nThat class was deprecated and then eventually removed from the modern versions of Java. \r\n\r\nIf you have the source code, you can replace those calls with calls to `com.apple.eawt.Application.set*Handler()` APIs.\r\n\r\nSee [this Answer](https://stackoverflow.com/a/28090946/642706) on Question [*What is the alternative for deprecated com.apple.eawt.ApplicationListener*](https://stackoverflow.com/q/9239287/642706).","title":"Java Applet won&#39;t launch under macOS","body":"<p>That class, now obsolete, was the mechanism by which a Java app could integrate into macOS. Specifically, to hook into Open, Preferences, About, Quit menu items / events.</p>\n<p>That class was deprecated and then eventually removed from the modern versions of Java.</p>\n<p>If you have the source code, you can replace those calls with calls to <code>com.apple.eawt.Application.set*Handler()</code> APIs.</p>\n<p>See <a href=\"https://stackoverflow.com/a/28090946/642706\">this Answer</a> on Question <a href=\"https://stackoverflow.com/q/9239287/642706\"><em>What is the alternative for deprecated com.apple.eawt.ApplicationListener</em></a>.</p>\n"}],"owner":{"account_id":21596332,"reputation":1,"user_id":15925235,"display_name":"DeEskalator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643216507,"creation_date":1643194887,"question_id":70862406,"body_markdown":"I&#39;m attempting to start a Java applet under macOS with `java -jar HuffmanShannonFano.jar` and get this error message:\r\n\r\n```\r\njakob@Jakobs-MacBook-Air ~ % java -jar /Users/jakob/Downloads/Hufmann\\ Shannon-Fano/HuffmanShannonFano.jar \r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/apple/eawt/ApplicationListener\r\n\tat de.tillwiebke.util.MacIntegration.integrate(MacIntegration.java:42)\r\n\tat HuffmanShannonFano.main(HuffmanShannonFano.java:53)\r\nCaused by: java.lang.ClassNotFoundException: com.apple.eawt.ApplicationListener\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 2 more\r\n```\r\nUnder [Linux][1] the Applet launches just fine. What can I do?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xSMIK.jpg","title":"Java Applet won&#39;t launch under macOS","body":"<p>I'm attempting to start a Java applet under macOS with <code>java -jar HuffmanShannonFano.jar</code> and get this error message:</p>\n<pre><code>jakob@Jakobs-MacBook-Air ~ % java -jar /Users/jakob/Downloads/Hufmann\\ Shannon-Fano/HuffmanShannonFano.jar \nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/apple/eawt/ApplicationListener\n    at de.tillwiebke.util.MacIntegration.integrate(MacIntegration.java:42)\n    at HuffmanShannonFano.main(HuffmanShannonFano.java:53)\nCaused by: java.lang.ClassNotFoundException: com.apple.eawt.ApplicationListener\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 2 more\n</code></pre>\n<p>Under <a href=\"https://i.stack.imgur.com/xSMIK.jpg\" rel=\"nofollow noreferrer\">Linux</a> the Applet launches just fine. What can I do?</p>\n"},{"tags":["java","json","localdatetime"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1643214770,"post_id":70866905,"comment_id":125281620,"body_markdown":"What does this represent?  It looks like [Epoch Time](https://en.wikipedia.org/wiki/Unix_time) and a fraction of a second.  Is that what it is?  Do you care about the milliseconds?","body":"What does this represent?  It looks like <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">Epoch Time</a> and a fraction of a second.  Is that what it is?  Do you care about the milliseconds?"}],"answers":[{"tags":[],"owner":{"account_id":1215707,"reputation":562,"user_id":1183352,"accept_rate":72,"display_name":"PDoria"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643215442,"creation_date":1643215126,"answer_id":70867026,"question_id":70866905,"body_markdown":"Assuming that number represents an Epoch Time, have you tried (in Java 8+) rounding it up and using \r\n    \r\n\r\n    LocalDateTime myLocalDateTime = Instant.ofEpochMilli(yourTimeHere).atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n\r\nfor example?\r\n\r\nYou might want to replace `ZoneId.systemDefault()` with the `ZoneID` that is relevant to you.","title":"Java - Get LocalDateTime from Double","body":"<p>Assuming that number represents an Epoch Time, have you tried (in Java 8+) rounding it up and using</p>\n<pre><code>LocalDateTime myLocalDateTime = Instant.ofEpochMilli(yourTimeHere).atZone(ZoneId.systemDefault()).toLocalDateTime();\n</code></pre>\n<p>for example?</p>\n<p>You might want to replace <code>ZoneId.systemDefault()</code> with the <code>ZoneID</code> that is relevant to you.</p>\n"},{"tags":[],"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643216121,"creation_date":1643216121,"answer_id":70867291,"question_id":70866905,"body_markdown":"Since there&#39;s no timezone / offset information available in your source, you can convert it to an `Instant` and convert that to a `ZonedDateTime` or `OffsetDateTime` later.\r\n\r\nA double like yours can be converted to an Instant using this method:\r\n```java\r\n    public static Instant toInstant(double value) {\r\n        final long epochSecond = (long) Math.floor(value);\r\n        final long nanoAdjustment = (long) ((value % 1.0) * 1000_000_000.0);\r\n\r\n        return Instant.ofEpochSecond(epochSecond, nanoAdjustment);\r\n    }\r\n```\r\n\r\nYou can then later convert it to a `ZonedDateTime` like this:\r\n\r\n```java\r\n        Instant yourInstant = ...;\r\n        ZonedDateTime zdt = yourInstant.atZone(ZoneId.systemDefault());\r\n```","title":"Java - Get LocalDateTime from Double","body":"<p>Since there's no timezone / offset information available in your source, you can convert it to an <code>Instant</code> and convert that to a <code>ZonedDateTime</code> or <code>OffsetDateTime</code> later.</p>\n<p>A double like yours can be converted to an Instant using this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Instant toInstant(double value) {\n        final long epochSecond = (long) Math.floor(value);\n        final long nanoAdjustment = (long) ((value % 1.0) * 1000_000_000.0);\n\n        return Instant.ofEpochSecond(epochSecond, nanoAdjustment);\n    }\n</code></pre>\n<p>You can then later convert it to a <code>ZonedDateTime</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Instant yourInstant = ...;\n        ZonedDateTime zdt = yourInstant.atZone(ZoneId.systemDefault());\n</code></pre>\n"}],"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643216160,"creation_date":1643214584,"question_id":70866905,"body_markdown":"I am receiving this value in a Json format:\r\n\r\n     {&quot;time&quot;: 1643213994.7369497}\r\n\r\nThis time value is supposed to produce a DateTime value like this: \r\n\r\n     2021-08-12T03:03:31.656050+00:00\r\n\r\nHow can I get this value parsed into a `LocalDateTime` object or the format above?","title":"Java - Get LocalDateTime from Double","body":"<p>I am receiving this value in a Json format:</p>\n<pre><code> {&quot;time&quot;: 1643213994.7369497}\n</code></pre>\n<p>This time value is supposed to produce a DateTime value like this:</p>\n<pre><code> 2021-08-12T03:03:31.656050+00:00\n</code></pre>\n<p>How can I get this value parsed into a <code>LocalDateTime</code> object or the format above?</p>\n"},{"tags":["java","python","tomcat","jmx","jolokia"],"answers":[{"tags":[],"owner":{"account_id":71815,"reputation":2507,"user_id":207604,"accept_rate":50,"display_name":"Roland Hu&#223;"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1520790363,"creation_date":1426667723,"answer_id":29117276,"question_id":29116942,"body_markdown":"First of all, Jolokia by passes the JSR-160 connector stuff completely, so there is no need for any JMX/RMI authentication. The whole purpose of Jolokia is to provide a bridge over HTTP/JSON to the *internal* JMX subsystem. Depending on the agent, you can secure Jolokia quite easily. For the WAR agent, securing is the same as for any Java EE web app: Setup some roles and users for tomcat (e.g. in `tomcat-users.xml`) and reference the role in the security contstraints within the `jolokia.war`&#39;s `/WEB-INF/web.xml`.\r\n\r\nTo your questions:\r\n\r\n1. Yes, you can. If you don&#39;t have any specific authentication needs, simply drop the jolokia.war into tomcat&#39;s `/webapps` directory. I suggest to try this first before adding security. For deinstalling the agent, simply remove the war.\r\n\r\n2. As an alternative, you could also use the JVM agent, which opens an own HTTP server on an extra port (default: 8778). More on this in the [reference manual](http://www.jolokia.org/reference/html/index.html)\r\n\r\n3. There is no need for a dedicated connection to the web app since MBeans are registered globally and are accesible from anywhere in the JVM. A webapp should of course select carefully the management information it exposes. So, there is no extra step needed and you can access the MBeans for the WEB app directly (except when it does something unusual with Java security, but I don&#39;t think so).\r\n\r\nTo test the installation, simply connect to the Tomcat with your browser and the context `/jolokia` (e.g. &quot;http://localhost:8080/jolokia&quot;). You should see the version information about the agent itself. \r\n\r\nThe next step would be to explore the JMX namespace, either with the browser (and operation &quot;list&quot; like in http://localhost:8080/jolokia/list , but that&#39;s tedious) or with a client like [j4psh](http://search.cpan.org/~roland/jmx4perl/scripts/j4psh) or [hawt.io](http://hawt.io). Hopefully you will find the MBeans of your webapp you are looking for.\r\n","title":"Use Jolokia to monitor JMX endpoint of webapp on same Tomcat server","body":"<p>First of all, Jolokia by passes the JSR-160 connector stuff completely, so there is no need for any JMX/RMI authentication. The whole purpose of Jolokia is to provide a bridge over HTTP/JSON to the <em>internal</em> JMX subsystem. Depending on the agent, you can secure Jolokia quite easily. For the WAR agent, securing is the same as for any Java EE web app: Setup some roles and users for tomcat (e.g. in <code>tomcat-users.xml</code>) and reference the role in the security contstraints within the <code>jolokia.war</code>'s <code>/WEB-INF/web.xml</code>.</p>\n\n<p>To your questions:</p>\n\n<ol>\n<li><p>Yes, you can. If you don't have any specific authentication needs, simply drop the jolokia.war into tomcat's <code>/webapps</code> directory. I suggest to try this first before adding security. For deinstalling the agent, simply remove the war.</p></li>\n<li><p>As an alternative, you could also use the JVM agent, which opens an own HTTP server on an extra port (default: 8778). More on this in the <a href=\"http://www.jolokia.org/reference/html/index.html\" rel=\"nofollow noreferrer\">reference manual</a></p></li>\n<li><p>There is no need for a dedicated connection to the web app since MBeans are registered globally and are accesible from anywhere in the JVM. A webapp should of course select carefully the management information it exposes. So, there is no extra step needed and you can access the MBeans for the WEB app directly (except when it does something unusual with Java security, but I don't think so).</p></li>\n</ol>\n\n<p>To test the installation, simply connect to the Tomcat with your browser and the context <code>/jolokia</code> (e.g. \"<a href=\"http://localhost:8080/jolokia\" rel=\"nofollow noreferrer\">http://localhost:8080/jolokia</a>\"). You should see the version information about the agent itself. </p>\n\n<p>The next step would be to explore the JMX namespace, either with the browser (and operation \"list\" like in <a href=\"http://localhost:8080/jolokia/list\" rel=\"nofollow noreferrer\">http://localhost:8080/jolokia/list</a> , but that's tedious) or with a client like <a href=\"http://search.cpan.org/~roland/jmx4perl/scripts/j4psh\" rel=\"nofollow noreferrer\">j4psh</a> or <a href=\"http://hawt.io\" rel=\"nofollow noreferrer\">hawt.io</a>. Hopefully you will find the MBeans of your webapp you are looking for.</p>\n"}],"owner":{"account_id":3755548,"reputation":8177,"user_id":3165737,"accept_rate":91,"display_name":"DocZer&#248;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29117276,"answer_count":1,"score":1,"last_activity_date":1643215566,"creation_date":1426666314,"question_id":29116942,"body_markdown":"[Jolokia][1] is uncharted territory for me, and after having read the documentation, I&#39;m still not sure if it&#39;ll work with the scenario I have in mind.\r\n\r\n**Setup:**\r\n\r\n - Tomcat application server (version ranges from 6.x to 7.x), usually on a Windows platform, occasionally a flavour of Linux.\r\n - Deployed third-party Java web application (SAP BusinessObjects) with JMX monitoring enabled (accessible through RMI).\r\n\r\n**Possible gotcha&#39;s:**\r\n\r\n - The Java web application to be monitored is commercial and closed source, so modifications are not possible. The only thing that can be changed is the JMX port number\r\n - The JMX endpoint is a custom one, thus not the default `jmxrmi` endpoint.\r\n - The JMX connection requires authentication.\r\n\r\n**Goal:**\r\n\r\nWhat I&#39;d like to do is to deploy the Jolokia WAR file onto the Tomcat server and then configure it so that I can read the MBean attributes from the other web application.\r\n\r\nI would code the client myself using Python (version 3) and the [Requests][2] HTTP library.\r\n\r\nI&#39;ve been reading through the Jolokia documentation (again, I&#39;m a complete newbie at this point), but can&#39;t figure out if this would be possible or not (as I can&#39;t seem to find where to enter the JMX/RMI url or the authentication information).\r\n\r\n**Questions:**\r\n\r\n1. Can I use the WAR agent for this setup? \r\n2. If not, can you please explain why (so I can understand, not because I don&#39;t believe you). Also, is there another agent that&#39;s more suited for this scenario?\r\n3. If yes, can you point me in the right direction how to configure the Jolokia to the web application to connect to?\r\n\r\n\r\n  [1]: http://jolokia.org\r\n  [2]: http://docs.python-requests.org/en/latest/","title":"Use Jolokia to monitor JMX endpoint of webapp on same Tomcat server","body":"<p><a href=\"http://jolokia.org\" rel=\"nofollow\">Jolokia</a> is uncharted territory for me, and after having read the documentation, I'm still not sure if it'll work with the scenario I have in mind.</p>\n\n<p><strong>Setup:</strong></p>\n\n<ul>\n<li>Tomcat application server (version ranges from 6.x to 7.x), usually on a Windows platform, occasionally a flavour of Linux.</li>\n<li>Deployed third-party Java web application (SAP BusinessObjects) with JMX monitoring enabled (accessible through RMI).</li>\n</ul>\n\n<p><strong>Possible gotcha's:</strong></p>\n\n<ul>\n<li>The Java web application to be monitored is commercial and closed source, so modifications are not possible. The only thing that can be changed is the JMX port number</li>\n<li>The JMX endpoint is a custom one, thus not the default <code>jmxrmi</code> endpoint.</li>\n<li>The JMX connection requires authentication.</li>\n</ul>\n\n<p><strong>Goal:</strong></p>\n\n<p>What I'd like to do is to deploy the Jolokia WAR file onto the Tomcat server and then configure it so that I can read the MBean attributes from the other web application.</p>\n\n<p>I would code the client myself using Python (version 3) and the <a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\">Requests</a> HTTP library.</p>\n\n<p>I've been reading through the Jolokia documentation (again, I'm a complete newbie at this point), but can't figure out if this would be possible or not (as I can't seem to find where to enter the JMX/RMI url or the authentication information).</p>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li>Can I use the WAR agent for this setup? </li>\n<li>If not, can you please explain why (so I can understand, not because I don't believe you). Also, is there another agent that's more suited for this scenario?</li>\n<li>If yes, can you point me in the right direction how to configure the Jolokia to the web application to connect to?</li>\n</ol>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1302182066,"creation_date":1302180907,"answer_id":5581387,"question_id":5581341,"body_markdown":"There is very good framework [JAXB][1] for this also there is [Simple][2]  \r\n\r\n\r\nBut I have used this  [`XStream`][3] \r\n\r\n    Person joe = new Person(&quot;Joe&quot;, &quot;Walnes&quot;);\r\n    joe.setPhone(new PhoneNumber(123, &quot;1234-456&quot;));\r\n    joe.setFax(new PhoneNumber(123, &quot;9999-999&quot;));\r\n\r\nNow, to convert it to XML, all you have to do is make a simple call to XStream:\r\n\r\n    String xml = xstream.toXML(joe);\r\n\r\nThe resulting XML looks like this:\r\n\r\n    &lt;person&gt;\r\n      &lt;firstname&gt;Joe&lt;/firstname&gt;\r\n      &lt;lastname&gt;Walnes&lt;/lastname&gt;\r\n      &lt;phone&gt;\r\n        &lt;code&gt;123&lt;/code&gt;\r\n        &lt;number&gt;1234-456&lt;/number&gt;\r\n      &lt;/phone&gt;\r\n      &lt;fax&gt;\r\n        &lt;code&gt;123&lt;/code&gt;\r\n        &lt;number&gt;9999-999&lt;/number&gt;\r\n      &lt;/fax&gt;\r\n    &lt;/person&gt;\r\n\r\n\r\n**Also See**\r\n\r\n - [JA][4][XB][5]\r\n - [where-i-can-find-a-detailed-comparison-of-java-xml-frameworks][6]\r\n\r\n\r\n  [1]: http://jaxb.dev.net\r\n  [2]: http://simple.sourceforge.net/\r\n  [3]: http://xstream.codehaus.org/tutorial.html\r\n  [4]: https://stackoverflow.com/questions/4803861/what-is-fastest-xml-serialization-framework\r\n  [5]: https://stackoverflow.com/questions/4735842/should-i-consider-the-simple-xml-framework-for-java\r\n  [6]: https://stackoverflow.com/questions/3855324/where-i-can-find-a-detailed-comparison-of-java-xml-frameworks","title":"Save data in an XML file","body":"<p>There is very good framework <a href=\"http://jaxb.dev.net\" rel=\"nofollow noreferrer\">JAXB</a> for this also there is <a href=\"http://simple.sourceforge.net/\" rel=\"nofollow noreferrer\">Simple</a>  </p>\n\n<p>But I have used this  <a href=\"http://xstream.codehaus.org/tutorial.html\" rel=\"nofollow noreferrer\"><code>XStream</code></a> </p>\n\n<pre><code>Person joe = new Person(\"Joe\", \"Walnes\");\njoe.setPhone(new PhoneNumber(123, \"1234-456\"));\njoe.setFax(new PhoneNumber(123, \"9999-999\"));\n</code></pre>\n\n<p>Now, to convert it to XML, all you have to do is make a simple call to XStream:</p>\n\n<pre><code>String xml = xstream.toXML(joe);\n</code></pre>\n\n<p>The resulting XML looks like this:</p>\n\n<pre><code>&lt;person&gt;\n  &lt;firstname&gt;Joe&lt;/firstname&gt;\n  &lt;lastname&gt;Walnes&lt;/lastname&gt;\n  &lt;phone&gt;\n    &lt;code&gt;123&lt;/code&gt;\n    &lt;number&gt;1234-456&lt;/number&gt;\n  &lt;/phone&gt;\n  &lt;fax&gt;\n    &lt;code&gt;123&lt;/code&gt;\n    &lt;number&gt;9999-999&lt;/number&gt;\n  &lt;/fax&gt;\n&lt;/person&gt;\n</code></pre>\n\n<p><strong>Also See</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4803861/what-is-fastest-xml-serialization-framework\">JA</a><a href=\"https://stackoverflow.com/questions/4735842/should-i-consider-the-simple-xml-framework-for-java\">XB</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3855324/where-i-can-find-a-detailed-comparison-of-java-xml-frameworks\">where-i-can-find-a-detailed-comparison-of-java-xml-frameworks</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472466983,"creation_date":1302180920,"answer_id":5581390,"question_id":5581341,"body_markdown":"I would start by looking at the [XStream][1] library.  It&#39;s very simple to convert POJOs (plain old java objects) to and from XML.  I have a [blog post][2] detailing some of the gotchas.  \r\n\r\n\r\n  [1]: http://x-stream.github.io/\r\n  [2]: http://developmentality.wordpress.com/2010/07/13/xstream-introduction-and-java-collections-serialization-problem-workaround/","title":"Save data in an XML file","body":"<p>I would start by looking at the <a href=\"http://x-stream.github.io/\" rel=\"nofollow\">XStream</a> library.  It's very simple to convert POJOs (plain old java objects) to and from XML.  I have a <a href=\"http://developmentality.wordpress.com/2010/07/13/xstream-introduction-and-java-collections-serialization-problem-workaround/\" rel=\"nofollow\">blog post</a> detailing some of the gotchas.  </p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302180972,"creation_date":1302180972,"answer_id":5581406,"question_id":5581341,"body_markdown":"There are many open source libraries, but I would simply use [JAXB][1], the standard. Although I have to say the XStream library suggested by other answerers looks very promising, too!\r\n\r\n\r\n  [1]: http://jaxb.java.net/","title":"Save data in an XML file","body":"<p>There are many open source libraries, but I would simply use <a href=\"http://jaxb.java.net/\" rel=\"nofollow\">JAXB</a>, the standard. Although I have to say the XStream library suggested by other answerers looks very promising, too!</p>\n"},{"tags":[],"owner":{"account_id":259521,"reputation":4921,"user_id":542461,"display_name":"Joseph Ottinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472466499,"creation_date":1302180993,"answer_id":5581413,"question_id":5581341,"body_markdown":"Consider using xstream ([http://x-stream.github.io/][1]). XStream&#39;s API is very simple:\r\n\r\n    YourObjectGraph yourData=buildYourData();\r\n    XStream xstream=new XStream();\r\n    String yourXML=xstream.toXml(yourData);\r\n    // do something with your shiny XML\r\n\r\nImporting is just as easy:\r\n\r\n    YourObjectGraph yourData=(YourObjectGraph)xstream.fromXml(yourXml);\r\n\r\n\r\n  [1]: http://x-stream.github.io/","title":"Save data in an XML file","body":"<p>Consider using xstream (<a href=\"http://x-stream.github.io/\" rel=\"nofollow\">http://x-stream.github.io/</a>). XStream's API is very simple:</p>\n\n<pre><code>YourObjectGraph yourData=buildYourData();\nXStream xstream=new XStream();\nString yourXML=xstream.toXml(yourData);\n// do something with your shiny XML\n</code></pre>\n\n<p>Importing is just as easy:</p>\n\n<pre><code>YourObjectGraph yourData=(YourObjectGraph)xstream.fromXml(yourXml);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21224642,"reputation":26,"user_id":15610551,"display_name":"Amir Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643215319,"creation_date":1643215319,"answer_id":70867088,"question_id":5581341,"body_markdown":"You can also use the [java.util.Properties][1] to save and load properties as XML file\r\n\r\nto save xml :\r\n\r\n```\r\nstoreToXML(OutputStream os, String comment);\r\nstoreToXML(OutputStream os, String comment, String encoding);\r\n```\r\n\r\nto load xml :\r\n\r\n```\r\nloadFromXML(InputStream in)\r\n```\r\n\r\nhere is an example :\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.InvalidPropertiesFormatException;\r\nimport java.util.Properties;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tFile file = new File(getPath());\r\n\t\tif (!file.exists()) {\r\n\t\t\tProperties p1 = new Properties();\r\n\t\t\tp1.setProperty(&quot;A&quot;, &quot;Amir Ali&quot;);\r\n\t\t\ttry {\r\n\t\t\t\twriteXML(p1);\r\n\t\t\t\tSystem.out.println(&quot;xml saved to &quot; + getPath());\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\ttry {\r\n\t\t\t\tProperties p2 = readXML();\r\n\t\t\t\tSystem.out.println(p2.getProperty(&quot;A&quot;));\r\n\t\t\t} catch (InvalidPropertiesFormatException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void writeXML(Properties properties) throws IOException {\r\n\t\tif (properties != null) {\r\n\t\t\tOutputStream os = new FileOutputStream(getPath());\r\n\t\t\tproperties.storeToXML(os, null);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Properties readXML() throws InvalidPropertiesFormatException, IOException {\r\n\t\tInputStream is = new FileInputStream(getPath());\r\n\t\tProperties p = new Properties();\r\n\t\tp.loadFromXML(is);\r\n\t\treturn p;\r\n\t}\r\n\t\r\n\tprivate static String getPath() {\r\n\t\treturn System.getProperty(&quot;user.home&quot;) + File.separator + &quot;properties.xml&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html","title":"Save data in an XML file","body":"<p>You can also use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">java.util.Properties</a> to save and load properties as XML file</p>\n<p>to save xml :</p>\n<pre><code>storeToXML(OutputStream os, String comment);\nstoreToXML(OutputStream os, String comment, String encoding);\n</code></pre>\n<p>to load xml :</p>\n<pre><code>loadFromXML(InputStream in)\n</code></pre>\n<p>here is an example :</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.InvalidPropertiesFormatException;\nimport java.util.Properties;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        File file = new File(getPath());\n        if (!file.exists()) {\n            Properties p1 = new Properties();\n            p1.setProperty(&quot;A&quot;, &quot;Amir Ali&quot;);\n            try {\n                writeXML(p1);\n                System.out.println(&quot;xml saved to &quot; + getPath());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }else {\n            try {\n                Properties p2 = readXML();\n                System.out.println(p2.getProperty(&quot;A&quot;));\n            } catch (InvalidPropertiesFormatException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    \n    public static void writeXML(Properties properties) throws IOException {\n        if (properties != null) {\n            OutputStream os = new FileOutputStream(getPath());\n            properties.storeToXML(os, null);\n        }\n    }\n\n    public static Properties readXML() throws InvalidPropertiesFormatException, IOException {\n        InputStream is = new FileInputStream(getPath());\n        Properties p = new Properties();\n        p.loadFromXML(is);\n        return p;\n    }\n    \n    private static String getPath() {\n        return System.getProperty(&quot;user.home&quot;) + File.separator + &quot;properties.xml&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":170385,"reputation":2911,"user_id":397049,"accept_rate":58,"display_name":"Flash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19945,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5581387,"answer_count":5,"score":9,"last_activity_date":1643215319,"creation_date":1302180721,"question_id":5581341,"body_markdown":"I have an application where in i need to save the data input by a user in a form in an XML file at a specified location and i need to perform this using Java . I am relatively very new to XML handling in java. I would like some suggestions as to how to start the task .\r\n\r\nAny code snippets and links will be helpful ... \r\n\r\n\r\nThank You","title":"Save data in an XML file","body":"<p>I have an application where in i need to save the data input by a user in a form in an XML file at a specified location and i need to perform this using Java . I am relatively very new to XML handling in java. I would like some suggestions as to how to start the task .</p>\n\n<p>Any code snippets and links will be helpful ... </p>\n\n<p>Thank You</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":363391,"reputation":219556,"user_id":707111,"accept_rate":100,"display_name":"Ry-"},"score":1,"creation_date":1324319464,"post_id":8565708,"comment_id":10618496,"body_markdown":"Things like `com.sun.mail.smtp` and `com.sun.net.httpserver`, I suppose. http://www.google.ca/search?q=java+com.sun&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a","body":"Things like <code>com.sun.mail.smtp</code> and <code>com.sun.net.httpserver</code>, I suppose. <a href=\"http://www.google.ca/search?q=java+com.sun&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a\" rel=\"nofollow noreferrer\">google.ca/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1324319671,"creation_date":1324319671,"answer_id":8565776,"question_id":8565708,"body_markdown":"Packages for internal use which you are not supposed to need access to directly.  They can be changed or dropped in any version of Java.  You can find the source for all sun.* and com.sun.* packages in the OpenJDK.\r\n","title":"What is inside com.sun package?","body":"<p>Packages for internal use which you are not supposed to need access to directly.  They can be changed or dropped in any version of Java.  You can find the source for all sun.* and com.sun.* packages in the OpenJDK.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1643214296,"creation_date":1324319716,"answer_id":8565783,"question_id":8565708,"body_markdown":"It contains &lt;s&gt;Sun&lt;/s&gt; Oracle reference implementations of the standard Java (EE) APIs. Among others [Mojarra][1] (the reference JSF implementation of Oracle) and [Glassfish][2] (the reference Java EE implementation of Oracle) use this package. It&#39;s preferable to not use those classes directly in your code as it would make your code tight coupled to the implementation. Coding against the `java(x)` API directly enables you to change the implementation without changing your code (e.g. MyFaces instead of Mojarra and JBoss AS instead of Glassfish). Also JDK&#39;s own `HttpServer` sits in the `com.sun.*` package, see https://stackoverflow.com/questions/3732109/simple-http-server-in-java-using-only-java-se-api/3732328#3732328.\r\n\r\nPlease note that the `com.sun.*` package should not be confused with `sun.*` package which are the internal classes behind Oracle JRE which you should [absolutely not][3] import/use in your code as it would make your code tight coupled to the JRE make/version. Not using `sun.*` package at all enables you to run your code on all other JRE implementations (OpenJDK, GCJ, etc).\r\n\r\n\r\n  [1]: https://github.com/javaee/mojarra\r\n  [2]: https://github.com/javaee/glassfish\r\n  [3]: https://www.oracle.com/java/technologies/faq-sun-packages.html","title":"What is inside com.sun package?","body":"<p>It contains <s>Sun</s> Oracle reference implementations of the standard Java (EE) APIs. Among others <a href=\"https://github.com/javaee/mojarra\" rel=\"nofollow noreferrer\">Mojarra</a> (the reference JSF implementation of Oracle) and <a href=\"https://github.com/javaee/glassfish\" rel=\"nofollow noreferrer\">Glassfish</a> (the reference Java EE implementation of Oracle) use this package. It's preferable to not use those classes directly in your code as it would make your code tight coupled to the implementation. Coding against the <code>java(x)</code> API directly enables you to change the implementation without changing your code (e.g. MyFaces instead of Mojarra and JBoss AS instead of Glassfish). Also JDK's own <code>HttpServer</code> sits in the <code>com.sun.*</code> package, see <a href=\"https://stackoverflow.com/questions/3732109/simple-http-server-in-java-using-only-java-se-api/3732328#3732328\">Simple HTTP server in Java using only Java SE API</a>.</p>\n<p>Please note that the <code>com.sun.*</code> package should not be confused with <code>sun.*</code> package which are the internal classes behind Oracle JRE which you should <a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">absolutely not</a> import/use in your code as it would make your code tight coupled to the JRE make/version. Not using <code>sun.*</code> package at all enables you to run your code on all other JRE implementations (OpenJDK, GCJ, etc).</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425754714,"creation_date":1425754714,"answer_id":28918759,"question_id":8565708,"body_markdown":"There are many places which use `com.sun` packages (some of which are mentioned in other answers).   This answer just specifically addresses the use of `com.sun` within JavaFX.  [JavaFX is a UI library which is part of OpenJDK][1].\r\n\r\nA lot of the [JavaFX implementation is in `com.sun` classes][2].  When JavaFX was open sourced, the [following comment][3] was made by the JavaFX developers regarding the use of `com.sun` classes within JavaFX:\r\n\r\n&gt; As always, non-public API (or rather, unsupported API, meaning anything that is not in the javafx namespace such as `com.sun.*`) cannot be depended on from release to release.  But for those of you wondering how things work, there is some very important stuff buried in the unsupported packages, and for those of you wanting to actually hack on OpenJFX, this will be of even greater interest. \r\n\r\n  [1]: http://openjdk.java.net/projects/openjfx/\r\n  [2]: http://hg.openjdk.java.net/openjfx/8u-dev/rt/file/tip/modules/graphics/src/main/java/com/sun\r\n  [3]: http://fxexperience.com/2012/02/a-short-tour-through-javafx-ui-common/","title":"What is inside com.sun package?","body":"<p>There are many places which use <code>com.sun</code> packages (some of which are mentioned in other answers).   This answer just specifically addresses the use of <code>com.sun</code> within JavaFX.  <a href=\"http://openjdk.java.net/projects/openjfx/\" rel=\"nofollow\">JavaFX is a UI library which is part of OpenJDK</a>.</p>\n\n<p>A lot of the <a href=\"http://hg.openjdk.java.net/openjfx/8u-dev/rt/file/tip/modules/graphics/src/main/java/com/sun\" rel=\"nofollow\">JavaFX implementation is in <code>com.sun</code> classes</a>.  When JavaFX was open sourced, the <a href=\"http://fxexperience.com/2012/02/a-short-tour-through-javafx-ui-common/\" rel=\"nofollow\">following comment</a> was made by the JavaFX developers regarding the use of <code>com.sun</code> classes within JavaFX:</p>\n\n<blockquote>\n  <p>As always, non-public API (or rather, unsupported API, meaning anything that is not in the javafx namespace such as <code>com.sun.*</code>) cannot be depended on from release to release.  But for those of you wondering how things work, there is some very important stuff buried in the unsupported packages, and for those of you wanting to actually hack on OpenJFX, this will be of even greater interest. </p>\n</blockquote>\n"}],"owner":{"account_id":74830,"reputation":1528,"user_id":214849,"accept_rate":75,"display_name":"hari_sree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16703,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":8565783,"answer_count":3,"score":20,"last_activity_date":1643214296,"creation_date":1324319352,"question_id":8565708,"body_markdown":"Like `javax` contains the extensions, what is the `com.sun` package supposed to contain? ","title":"What is inside com.sun package?","body":"<p>Like <code>javax</code> contains the extensions, what is the <code>com.sun</code> package supposed to contain? </p>\n"},{"tags":["java","testing","mockito","refactoring"],"answers":[{"tags":[],"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643212132,"creation_date":1643212132,"answer_id":70866257,"question_id":70865839,"body_markdown":"If you are sure that this code \r\n```\r\nrtvEnhancer.getLookupCodes(\r\n    &lt;any&gt;,\r\n    &lt;any&gt;,\r\n    [CodeTypeRequest.EventCode(codeType=FromDisposition, codeValue=ATS), CodeTypeRequest.EventCode(codeType=ToDisposition, codeValue=DIST), CodeTypeRequest.EventCode(codeType=ReasonCode, codeValue=DRT)],\r\n    RTV);\r\n```\r\nis called then probably one of the argument does not overrides `equals()` and mockito cant match actual arguments with stubbed ones. Without equals they are matched by Object.equals() which is memory address.\r\nMy guess is `CodeTypeRequest.EventCode`","title":"Mockito verify fails with Wanted but not invoked but it actually works","body":"<p>If you are sure that this code</p>\n<pre><code>rtvEnhancer.getLookupCodes(\n    &lt;any&gt;,\n    &lt;any&gt;,\n    [CodeTypeRequest.EventCode(codeType=FromDisposition, codeValue=ATS), CodeTypeRequest.EventCode(codeType=ToDisposition, codeValue=DIST), CodeTypeRequest.EventCode(codeType=ReasonCode, codeValue=DRT)],\n    RTV);\n</code></pre>\n<p>is called then probably one of the argument does not overrides <code>equals()</code> and mockito cant match actual arguments with stubbed ones. Without equals they are matched by Object.equals() which is memory address.\nMy guess is <code>CodeTypeRequest.EventCode</code></p>\n"}],"owner":{"account_id":19203139,"reputation":3,"user_id":14030648,"display_name":"Juan Pablo Tobon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643214160,"creation_date":1643210441,"question_id":70865839,"body_markdown":"I&#39;m trying to do a refactor of some ifs that sonar os crying about. Before the refactor, the code looks like this:\r\n\r\n```\r\nif (isRTVCreatedEventType(eventType)) {\r\n      schemaName = RTV_CREATE_SYSTEM_SCHEMA_MAP.get(alfredEventHeader.getSource());\r\n      if (MerchandiseReturnToVendorCreateConfirmed.getClassSchema().getName().equals(schemaName)) {\r\n        return buildMerchandiseReturnToVendorCreate(alfredInventoryEvent);\r\n      }\r\n      if (StoreReturnToVendorCreated.getClassSchema().getName().equals(schemaName)) {\r\n        return buildStoreReturnToVendorCreate(alfredInventoryEvent);\r\n      }\r\n}\r\n```\r\n\r\nSo I added the methods to a map and call it like this\r\n\r\n```\r\n private final Map&lt;String, Function&lt;AlfredInventoryEvent, SpecificRecordBase&gt;&gt; rtvEventBuilders = Map.ofEntries(\r\n      Map.entry(MerchandiseReturnToVendorCreateConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorCreate),\r\n      Map.entry(MerchandiseReturnToVendorCancelConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorCancel),\r\n      Map.entry(MerchandiseReturnToVendorShipmentConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorShipment),\r\n      Map.entry(MerchandiseReturnToVendorUpdateConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorUpdate),\r\n      Map.entry(StoreReturnToVendorCreated.getClassSchema().getName(), this::buildStoreReturnToVendorCreate),\r\n      Map.entry(StoreReturnToVendorCanceled.getClassSchema().getName(), this::buildStoreReturnToVendorCancel),\r\n      Map.entry(StoreReturnToVendorShipped.getClassSchema().getName(), this::buildStoreReturnToVendorShipment),\r\n      Map.entry(StoreReturnToVendorUpdated.getClassSchema().getName(), this::buildStoreReturnToVendorUpdate)\r\n  );\r\n\r\nif (isRTVCreatedEventType(eventType)) {\r\n      schemaName = RTV_CREATE_SYSTEM_SCHEMA_MAP.get(alfredEventHeader.getSource());\r\n      return rtvEventBuilders.get(schemaName).apply(alfredInventoryEvent);\r\n}\r\n```\r\n\r\nI didn&#39;t modify anything in the test class, but I&#39;m getting this error:\r\n\r\nWanted but not invoked:\r\n\r\n    rtvEnhancer.getLookupCodes(\r\n        &lt;any&gt;,\r\n        &lt;any&gt;,\r\n        [CodeTypeRequest.EventCode(codeType=FromDisposition, codeValue=ATS), CodeTypeRequest.EventCode(codeType=ToDisposition, codeValue=DIST), CodeTypeRequest.EventCode(codeType=ReasonCode, codeValue=DRT)],\r\n        RTV\r\n    );\r\n\r\n-&gt; at com.inventory.alfred.enhancement.AbstractEnhancerMapper.getLookupCodes(AbstractEnhancerMapper.java:172)\r\n\r\nBut debbuging it, it actually works and the assertion is correct. What could be the reason?\r\n","title":"Mockito verify fails with Wanted but not invoked but it actually works","body":"<p>I'm trying to do a refactor of some ifs that sonar os crying about. Before the refactor, the code looks like this:</p>\n<pre><code>if (isRTVCreatedEventType(eventType)) {\n      schemaName = RTV_CREATE_SYSTEM_SCHEMA_MAP.get(alfredEventHeader.getSource());\n      if (MerchandiseReturnToVendorCreateConfirmed.getClassSchema().getName().equals(schemaName)) {\n        return buildMerchandiseReturnToVendorCreate(alfredInventoryEvent);\n      }\n      if (StoreReturnToVendorCreated.getClassSchema().getName().equals(schemaName)) {\n        return buildStoreReturnToVendorCreate(alfredInventoryEvent);\n      }\n}\n</code></pre>\n<p>So I added the methods to a map and call it like this</p>\n<pre><code> private final Map&lt;String, Function&lt;AlfredInventoryEvent, SpecificRecordBase&gt;&gt; rtvEventBuilders = Map.ofEntries(\n      Map.entry(MerchandiseReturnToVendorCreateConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorCreate),\n      Map.entry(MerchandiseReturnToVendorCancelConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorCancel),\n      Map.entry(MerchandiseReturnToVendorShipmentConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorShipment),\n      Map.entry(MerchandiseReturnToVendorUpdateConfirmed.getClassSchema().getName(), this::buildMerchandiseReturnToVendorUpdate),\n      Map.entry(StoreReturnToVendorCreated.getClassSchema().getName(), this::buildStoreReturnToVendorCreate),\n      Map.entry(StoreReturnToVendorCanceled.getClassSchema().getName(), this::buildStoreReturnToVendorCancel),\n      Map.entry(StoreReturnToVendorShipped.getClassSchema().getName(), this::buildStoreReturnToVendorShipment),\n      Map.entry(StoreReturnToVendorUpdated.getClassSchema().getName(), this::buildStoreReturnToVendorUpdate)\n  );\n\nif (isRTVCreatedEventType(eventType)) {\n      schemaName = RTV_CREATE_SYSTEM_SCHEMA_MAP.get(alfredEventHeader.getSource());\n      return rtvEventBuilders.get(schemaName).apply(alfredInventoryEvent);\n}\n</code></pre>\n<p>I didn't modify anything in the test class, but I'm getting this error:</p>\n<p>Wanted but not invoked:</p>\n<pre><code>rtvEnhancer.getLookupCodes(\n    &lt;any&gt;,\n    &lt;any&gt;,\n    [CodeTypeRequest.EventCode(codeType=FromDisposition, codeValue=ATS), CodeTypeRequest.EventCode(codeType=ToDisposition, codeValue=DIST), CodeTypeRequest.EventCode(codeType=ReasonCode, codeValue=DRT)],\n    RTV\n);\n</code></pre>\n<p>-&gt; at com.inventory.alfred.enhancement.AbstractEnhancerMapper.getLookupCodes(AbstractEnhancerMapper.java:172)</p>\n<p>But debbuging it, it actually works and the assertion is correct. What could be the reason?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643974037,"post_id":70865877,"comment_id":125487235,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643213745,"creation_date":1643211178,"answer_id":70866025,"question_id":70865877,"body_markdown":"You need to add @Service\r\n\r\n    package com.springmvc.student.configuration.service;\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.springmvc.student.configuration.DAO.StudentDao;\r\n    import com.springmvc.student.configuration.model.Student;\r\n    \r\n        @Service //Tell Spring to put an instance of this class in spring context\r\n        public class StudentServiceImpl implements StudentService {\r\n        \r\n            @Autowired\r\n            private StudentDao studentDao;\r\n        \r\n         //A lot of code removed for brevity\r\n        \r\n        }\r\n\r\n\r\nThere are different types of stereotypes that can be used:\r\n\r\n&gt; Spring Framework Stereotype Annotations \r\n&gt;\r\n&gt; **@Component**\r\n&gt; \r\n&gt; This annotation is used on classes to indicate a Spring component. The\r\n&gt; @Component annotation marks the Java class as a bean or say component\r\n&gt; so that the component-scanning mechanism of Spring can add into the\r\n&gt; application context. \r\n&gt;\r\n&gt; **@Controller**\r\n&gt; \r\n&gt; The @Controller annotation is used to indicate the class is a Spring\r\n&gt; controller. This annotation can be used to identify controllers for\r\n&gt; Spring MVC or Spring WebFlux. \r\n&gt;\r\n&gt; **@Service**\r\n&gt; \r\n&gt; This annotation is used on a class. The @Service marks a Java class\r\n&gt; that performs some service, such as execute business logic, perform\r\n&gt; calculations and call external APIs. This annotation is a specialized\r\n&gt; form of the @Component annotation intended to be used in the service\r\n&gt; layer. \r\n&gt;\r\n&gt; **@Repository**\r\n&gt; \r\n&gt; This annotation is used on Java classes which directly access the\r\n&gt; database. The @Repository annotation works as marker for any class\r\n&gt; that fulfills the role of repository or Data Access Object.\r\n&gt; \r\n&gt; This annotation has a automatic translation feature. For example, when\r\n&gt; an exception occurs in the @Repository there is a handler for that\r\n&gt; exception and there is no need to add a try catch block.\r\n\r\n[https://springframework.guru/spring-framework-annotations/][1]\r\n\r\n\r\nThe message `&quot;No qualifying bean of type &#39;com.springmvc.student.configuration.service.StudentService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}&quot;` indicates that there are no bean of type StudentService in the spring context. So you need to add `@Service` to the class, or manually create the bean in the same way that you do in `MyAppConfig` with your two other beans.\r\n\r\n  [1]: https://springframework.guru/spring-framework-annotations/","title":"How to Solve Servlet, Unsatisfied Dependency, No Such Bean Definition Exceptions?","body":"<p>You need to add @Service</p>\n<pre><code>package com.springmvc.student.configuration.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.springmvc.student.configuration.DAO.StudentDao;\nimport com.springmvc.student.configuration.model.Student;\n\n    @Service //Tell Spring to put an instance of this class in spring context\n    public class StudentServiceImpl implements StudentService {\n    \n        @Autowired\n        private StudentDao studentDao;\n    \n     //A lot of code removed for brevity\n    \n    }\n</code></pre>\n<p>There are different types of stereotypes that can be used:</p>\n<blockquote>\n<p>Spring Framework Stereotype Annotations</p>\n<p><strong>@Component</strong></p>\n<p>This annotation is used on classes to indicate a Spring component. The\n@Component annotation marks the Java class as a bean or say component\nso that the component-scanning mechanism of Spring can add into the\napplication context.</p>\n<p><strong>@Controller</strong></p>\n<p>The @Controller annotation is used to indicate the class is a Spring\ncontroller. This annotation can be used to identify controllers for\nSpring MVC or Spring WebFlux.</p>\n<p><strong>@Service</strong></p>\n<p>This annotation is used on a class. The @Service marks a Java class\nthat performs some service, such as execute business logic, perform\ncalculations and call external APIs. This annotation is a specialized\nform of the @Component annotation intended to be used in the service\nlayer.</p>\n<p><strong>@Repository</strong></p>\n<p>This annotation is used on Java classes which directly access the\ndatabase. The @Repository annotation works as marker for any class\nthat fulfills the role of repository or Data Access Object.</p>\n<p>This annotation has a automatic translation feature. For example, when\nan exception occurs in the @Repository there is a handler for that\nexception and there is no need to add a try catch block.</p>\n</blockquote>\n<p><a href=\"https://springframework.guru/spring-framework-annotations/\" rel=\"nofollow noreferrer\">https://springframework.guru/spring-framework-annotations/</a></p>\n<p>The message <code>&quot;No qualifying bean of type 'com.springmvc.student.configuration.service.StudentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}&quot;</code> indicates that there are no bean of type StudentService in the spring context. So you need to add <code>@Service</code> to the class, or manually create the bean in the same way that you do in <code>MyAppConfig</code> with your two other beans.</p>\n"}],"owner":{"account_id":23822064,"reputation":9,"user_id":17829615,"display_name":"Mohit Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643213745,"creation_date":1643210576,"question_id":70865877,"body_markdown":"I&#39;m New On Spring I just Start a Spring MVC CRUD Program but I&#39;m Facing the Same Errors Again and Again After Try many ways.\r\n\r\nThis is the First Exception Which Printing HTTP Status 500  Internal Server Error.\r\n\r\n**ServletException**\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n\r\n**UnsatisfiedDependency**\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appController&#39;: Unsatisfied dependency expressed through field &#39;studentService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.springmvc.student.configuration.service.StudentService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n\r\n**NoSuchBean**\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.springmvc.student.configuration.service.StudentService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n\r\n**Pom**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.java.spring&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;student-application-MVC&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;student-application-MVC Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Hibernate --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- jsr303 validation --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- MySQL --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.16&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Servlet+JSP+JSTL --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\r\n    \t\t\t\t\t&lt;warName&gt;student-application-MVC&lt;/warName&gt;\r\n    \t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t\t&lt;finalName&gt;student-application-MVC&lt;/finalName&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nI Also Changed the Dependency Versions but Still It&#39;s Not Working here is My Code\r\n\r\n**Config-Class**\r\n\r\n    package com.springmvc.student.configuration;\r\n    \r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.support.ResourceBundleMessageSource;\r\n    import org.springframework.web.servlet.ViewResolver;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n    import org.springframework.web.servlet.view.JstlView;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages=&quot;com.springmvc.student&quot;)\r\n    public class MyAppConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic ViewResolver viewResolver() {\r\n    \t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n    \t\tviewResolver.setViewClass(JstlView.class);\r\n    \t\tviewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\treturn viewResolver;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic MessageSource messageSource() {\r\n    \t\tResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n    \t\tmessageSource.setBasename(&quot;messages&quot;);\r\n    \t\treturn messageSource;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Config-Initializer**\r\n\r\n   \r\n\r\n     package com.springmvc.student.configuration;\r\n        \r\n        import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n        \r\n        public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n        \r\n        \t@Override\r\n        \tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        \r\n        \t\treturn null;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        \r\n        \t\treturn new Class[] { MyAppConfig.class };\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tprotected String[] getServletMappings() {\r\n        \t\t\r\n        \t\treturn new String[] { &quot;/&quot; };\r\n        \t}\r\n        \r\n        }\r\n\r\nI\r\n**DatabaseConfiguration**\r\n\r\n    package com.springmvc.student.configuration;\r\n    \r\n    import java.util.Properties;\r\n    import javax.sql.DataSource;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement // Used to enable transactional support: Annotations can be recognized by spring\r\n    \t\t\t\t\t\t\t\t// container\r\n    @PropertySource(value = { &quot;classpath:application.properties&quot; })\r\n    public class DatabaseConfig {\r\n    \r\n    \t @Autowired\r\n    \t private Environment environment;\r\n    \t\r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic HibernateTransactionManager transactionManager(SessionFactory s) {\r\n    \t\tHibernateTransactionManager txManager = new HibernateTransactionManager();\r\n    \t\ttxManager.setSessionFactory(s);\r\n    \t\treturn txManager;\r\n    \t}\r\n    \r\n    \t// @Bean\r\n    \tpublic DataSource dataSource() {// Declare information of DB connection by using a Datasource\r\n    \t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\tdataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driver&quot;));\r\n    \t\tdataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\r\n    \t\tdataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.username&quot;));\r\n    \t\tdataSource.setPassword(environment.getRequiredProperty(&quot;jdbc.password&quot;));\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \r\n    \tprivate Properties hibernateProperties() {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n    \t\tproperties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n    \t\tproperties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n    \t\treturn properties;\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;sessionFactory&quot;)\r\n    \tpublic LocalSessionFactoryBean sessionFactory() {\r\n    \t\tLocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n    \t\tsessionFactory.setDataSource(dataSource());\r\n    \t\tsessionFactory.setPackagesToScan(&quot;com.spring.student.model&quot;);\r\n    \t\tsessionFactory.setHibernateProperties(hibernateProperties());\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    \r\n    }\r\n\r\nI used Hibernate For Database\r\n\r\n**ModelClass**\r\n\r\n    package com.springmvc.student.configuration.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;student_hub&quot;)\r\n    public class Student {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t@Column(name = &quot;fistName&quot;, nullable = false)\r\n    \tprivate String firstName;\r\n    \t@Column(name = &quot;lastName&quot;, nullable = false)\r\n    \tprivate String lastName;\r\n    \t@Column(name = &quot;grades&quot;, nullable = false)\r\n    \tprivate Integer grade;\r\n    \r\n    \tpublic Student() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic Integer getGrade() {\r\n    \t\treturn grade;\r\n    \t}\r\n    \r\n    \tpublic void setGrade(Integer grade) {\r\n    \t\tthis.grade = grade;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Student [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, grade=&quot; + grade + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nServiceClass\r\n**ServiceClass**\r\n\r\n    package com.springmvc.student.configuration.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.springmvc.student.configuration.DAO.StudentDao;\r\n    import com.springmvc.student.configuration.model.Student;\r\n    \r\n    public class StudentServiceImpl implements StudentService {\r\n    \r\n    \t@Autowired\r\n    \tprivate StudentDao studentDao;\r\n    \r\n    \tpublic Student getStudent(Long id) {\r\n    \r\n    \t\treturn studentDao.getStudent(id);\r\n    \t}\r\n    \r\n    \tpublic Long saveStudent(Student std) {\r\n    \r\n    \t\treturn studentDao.saveStudent(std);\r\n    \t}\r\n    \r\n    \tpublic List&lt;Student&gt; listAllStudent() {\r\n    \r\n    \t\treturn studentDao.listAllStudent();\r\n    \t}\r\n    \r\n    \tpublic void update(Long id, Student std) {\r\n    \r\n    \t\tStudent stEntity = studentDao.getStudent(id);\r\n    \t\tif (stEntity != null) {\r\n    \t\t\tstEntity.setFirstName(std.getFirstName());\r\n    \t\t\tstEntity.setLastName(std.getLastName());\r\n    \t\t\tstEntity.setGrade(std.getGrade());\r\n    \t\t\tstudentDao.updateStudent(stEntity);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic void delete(Long id) {\r\n    \t\tStudent stEntity = studentDao.getStudent(id);\r\n    \t\tif (stEntity != null) {\r\n    \t\t\tstudentDao.deleteStudent(stEntity);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic boolean isStudentUnique(Long id) {\r\n    \t\tStudent student = studentDao.getStudent(id);\r\n    \t\treturn (student == null || (id != null &amp; !id.equals(student.getId())));\r\n    \t}\r\n    \r\n    }\r\n\r\nAbstractDao \r\n**AbstractDaoClass**\r\n\r\n    package com.springmvc.student.configuration.DAO;\r\n    \r\n    import java.io.Serializable;\r\n    import java.lang.reflect.ParameterizedType;\r\n    \r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    public class AbstractDao &lt;PK extends Serializable, T&gt;{\r\n    \r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \t\r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tprivate final Class persistentClass;\r\n    \t\r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tpublic AbstractDao() {\r\n    \t\tthis.persistentClass = (Class) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[1];\r\n    \t}\r\n    \t\r\n    \tprotected Session getSession() {\r\n    \t\treturn sessionFactory.getCurrentSession();\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic T getByKey(PK key) {\r\n    \t\treturn (T) getSession().get(persistentClass, key);\r\n    \t}\r\n    \t\r\n    \tpublic void persist(T entity) {\r\n    \t\tgetSession().persist(entity);\r\n    \t}\r\n    \t\r\n    \tpublic void update(T entity) {\r\n    \t\tgetSession().update(entity);\r\n    \t}\r\n    \t\r\n    \tpublic void delete(T entity) {\r\n    \t\tgetSession().delete(entity);\r\n    \t}\r\n    \t\r\n    \tprotected Criteria createEntityCriteria() {\r\n    \t\treturn getSession().createCriteria(persistentClass);\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\nI Used Abstract Dao For the First Time Please Let me Know I did Something Wrong!!\r\n\r\n**DaoImplementationClass**\r\n\r\n    package com.springmvc.student.configuration.DAO;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.hibernate.Criteria;\r\n    \r\n    import com.springmvc.student.configuration.model.Student;\r\n    \r\n    public class StudentDaoImpl extends AbstractDao&lt;Long, Student&gt; implements StudentDao {\r\n    \r\n    \tpublic Student getStudent(Long id) {\r\n    \r\n    \t\treturn getByKey(id);\r\n    \t}\r\n    \r\n    \tpublic Long saveStudent(Student std) {\r\n    \t\tpersist(std);\r\n    \t\treturn std.getId();\r\n    \t}\r\n    \r\n    \t@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    \tpublic List&lt;Student&gt; listAllStudent() {\r\n    \t\tCriteria criteria = createEntityCriteria();\r\n    \t\treturn (List) criteria.list();\r\n    \t}\r\n    \r\n    \tpublic void updateStudent(Student std) {\r\n    \t\tupdate(std);\r\n    \r\n    \t}\r\n    \r\n    \tpublic void deleteStudent(Student std) {\r\n    \t\tdelete(std);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to Solve Servlet, Unsatisfied Dependency, No Such Bean Definition Exceptions?","body":"<p>I'm New On Spring I just Start a Spring MVC CRUD Program but I'm Facing the Same Errors Again and Again After Try many ways.</p>\n<p>This is the First Exception Which Printing HTTP Status 500  Internal Server Error.</p>\n<p><strong>ServletException</strong></p>\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p><strong>UnsatisfiedDependency</strong></p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appController': Unsatisfied dependency expressed through field 'studentService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.springmvc.student.configuration.service.StudentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p><strong>NoSuchBean</strong></p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.springmvc.student.configuration.service.StudentService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p><strong>Pom</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.java.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;student-application-MVC&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;student-application-MVC Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hibernate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jsr303 validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;5.3.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- MySQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.16&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Servlet+JSP+JSTL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\n                    &lt;warName&gt;student-application-MVC&lt;/warName&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;student-application-MVC&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I Also Changed the Dependency Versions but Still It's Not Working here is My Code</p>\n<p><strong>Config-Class</strong></p>\n<pre><code>package com.springmvc.student.configuration;\n\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.support.ResourceBundleMessageSource;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages=&quot;com.springmvc.student&quot;)\npublic class MyAppConfig {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        viewResolver.setSuffix(&quot;.jsp&quot;);\n        return viewResolver;\n    }\n\n    @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(&quot;messages&quot;);\n        return messageSource;\n    }\n\n}\n</code></pre>\n<p><strong>Config-Initializer</strong></p>\n<pre><code> package com.springmvc.student.configuration;\n    \n    import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n    \n    public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    \n        @Override\n        protected Class&lt;?&gt;[] getRootConfigClasses() {\n    \n            return null;\n        }\n    \n        @Override\n        protected Class&lt;?&gt;[] getServletConfigClasses() {\n    \n            return new Class[] { MyAppConfig.class };\n        }\n    \n        @Override\n        protected String[] getServletMappings() {\n            \n            return new String[] { &quot;/&quot; };\n        }\n    \n    }\n</code></pre>\n<p>I\n<strong>DatabaseConfiguration</strong></p>\n<pre><code>package com.springmvc.student.configuration;\n\nimport java.util.Properties;\nimport javax.sql.DataSource;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement // Used to enable transactional support: Annotations can be recognized by spring\n                                // container\n@PropertySource(value = { &quot;classpath:application.properties&quot; })\npublic class DatabaseConfig {\n\n     @Autowired\n     private Environment environment;\n    \n    @Bean\n    @Autowired\n    public HibernateTransactionManager transactionManager(SessionFactory s) {\n        HibernateTransactionManager txManager = new HibernateTransactionManager();\n        txManager.setSessionFactory(s);\n        return txManager;\n    }\n\n    // @Bean\n    public DataSource dataSource() {// Declare information of DB connection by using a Datasource\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driver&quot;));\n        dataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\n        dataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.username&quot;));\n        dataSource.setPassword(environment.getRequiredProperty(&quot;jdbc.password&quot;));\n        return dataSource;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\n        properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\n        properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\n        return properties;\n    }\n\n    @Bean(name = &quot;sessionFactory&quot;)\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(&quot;com.spring.student.model&quot;);\n        sessionFactory.setHibernateProperties(hibernateProperties());\n        return sessionFactory;\n    }\n\n}\n</code></pre>\n<p>I used Hibernate For Database</p>\n<p><strong>ModelClass</strong></p>\n<pre><code>package com.springmvc.student.configuration.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;student_hub&quot;)\npublic class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;fistName&quot;, nullable = false)\n    private String firstName;\n    @Column(name = &quot;lastName&quot;, nullable = false)\n    private String lastName;\n    @Column(name = &quot;grades&quot;, nullable = false)\n    private Integer grade;\n\n    public Student() {\n        super();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public Integer getGrade() {\n        return grade;\n    }\n\n    public void setGrade(Integer grade) {\n        this.grade = grade;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, grade=&quot; + grade + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>ServiceClass\n<strong>ServiceClass</strong></p>\n<pre><code>package com.springmvc.student.configuration.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.springmvc.student.configuration.DAO.StudentDao;\nimport com.springmvc.student.configuration.model.Student;\n\npublic class StudentServiceImpl implements StudentService {\n\n    @Autowired\n    private StudentDao studentDao;\n\n    public Student getStudent(Long id) {\n\n        return studentDao.getStudent(id);\n    }\n\n    public Long saveStudent(Student std) {\n\n        return studentDao.saveStudent(std);\n    }\n\n    public List&lt;Student&gt; listAllStudent() {\n\n        return studentDao.listAllStudent();\n    }\n\n    public void update(Long id, Student std) {\n\n        Student stEntity = studentDao.getStudent(id);\n        if (stEntity != null) {\n            stEntity.setFirstName(std.getFirstName());\n            stEntity.setLastName(std.getLastName());\n            stEntity.setGrade(std.getGrade());\n            studentDao.updateStudent(stEntity);\n\n        }\n\n    }\n\n    public void delete(Long id) {\n        Student stEntity = studentDao.getStudent(id);\n        if (stEntity != null) {\n            studentDao.deleteStudent(stEntity);\n        }\n\n    }\n\n    public boolean isStudentUnique(Long id) {\n        Student student = studentDao.getStudent(id);\n        return (student == null || (id != null &amp; !id.equals(student.getId())));\n    }\n\n}\n</code></pre>\n<p>AbstractDao\n<strong>AbstractDaoClass</strong></p>\n<pre><code>package com.springmvc.student.configuration.DAO;\n\nimport java.io.Serializable;\nimport java.lang.reflect.ParameterizedType;\n\nimport org.hibernate.Criteria;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class AbstractDao &lt;PK extends Serializable, T&gt;{\n\n    @Autowired\n    private SessionFactory sessionFactory;\n    \n    @SuppressWarnings(&quot;rawtypes&quot;)\n    private final Class persistentClass;\n    \n    @SuppressWarnings(&quot;rawtypes&quot;)\n    public AbstractDao() {\n        this.persistentClass = (Class) ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments()[1];\n    }\n    \n    protected Session getSession() {\n        return sessionFactory.getCurrentSession();\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public T getByKey(PK key) {\n        return (T) getSession().get(persistentClass, key);\n    }\n    \n    public void persist(T entity) {\n        getSession().persist(entity);\n    }\n    \n    public void update(T entity) {\n        getSession().update(entity);\n    }\n    \n    public void delete(T entity) {\n        getSession().delete(entity);\n    }\n    \n    protected Criteria createEntityCriteria() {\n        return getSession().createCriteria(persistentClass);\n    }\n    \n    \n}\n</code></pre>\n<p>I Used Abstract Dao For the First Time Please Let me Know I did Something Wrong!!</p>\n<p><strong>DaoImplementationClass</strong></p>\n<pre><code>package com.springmvc.student.configuration.DAO;\n\nimport java.util.List;\n\nimport org.hibernate.Criteria;\n\nimport com.springmvc.student.configuration.model.Student;\n\npublic class StudentDaoImpl extends AbstractDao&lt;Long, Student&gt; implements StudentDao {\n\n    public Student getStudent(Long id) {\n\n        return getByKey(id);\n    }\n\n    public Long saveStudent(Student std) {\n        persist(std);\n        return std.getId();\n    }\n\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\n    public List&lt;Student&gt; listAllStudent() {\n        Criteria criteria = createEntityCriteria();\n        return (List) criteria.list();\n    }\n\n    public void updateStudent(Student std) {\n        update(std);\n\n    }\n\n    public void deleteStudent(Student std) {\n        delete(std);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit4"],"comments":[{"owner":{"account_id":24047604,"reputation":1,"user_id":18026459,"display_name":"Ketan Prabhu"},"score":0,"creation_date":1643106562,"post_id":70847027,"comment_id":125246091,"body_markdown":"yes it is imported, using an ide","body":"yes it is imported, using an ide"},{"owner":{"account_id":24047604,"reputation":1,"user_id":18026459,"display_name":"Ketan Prabhu"},"score":0,"creation_date":1643106778,"post_id":70847027,"comment_id":125246193,"body_markdown":"did everything as mentioned in spring-boot documentation.","body":"did everything as mentioned in spring-boot documentation."},{"owner":{"account_id":24047604,"reputation":1,"user_id":18026459,"display_name":"Ketan Prabhu"},"score":0,"creation_date":1643107228,"post_id":70847027,"comment_id":125246373,"body_markdown":"no the logger or the Sys-out are not printing from the @Before","body":"no the logger or the Sys-out are not printing from the @Before"},{"owner":{"account_id":24047604,"reputation":1,"user_id":18026459,"display_name":"Ketan Prabhu"},"score":0,"creation_date":1643124702,"post_id":70847027,"comment_id":125253440,"body_markdown":"please provide me with some snippets or blog for refrence","body":"please provide me with some snippets or blog for refrence"},{"owner":{"account_id":14301534,"reputation":1358,"user_id":10330735,"display_name":"Thomas Escolan"},"score":0,"creation_date":1643304996,"post_id":70847027,"comment_id":125310352,"body_markdown":"Please detail your original question with more context. Put as much as possible of the relevant class if you want to have proper answers. Yet, the standard nowadays would be to use Junit 5 (Jupiter)","body":"Please detail your original question with more context. Put as much as possible of the relevant class if you want to have proper answers. Yet, the standard nowadays would be to use Junit 5 (Jupiter)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643886978,"post_id":70847027,"comment_id":125460907,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24047604,"reputation":1,"user_id":18026459,"display_name":"Ketan Prabhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643213705,"creation_date":1643106292,"question_id":70847027,"body_markdown":"I just started to learn to test and wanted to test my method in my project. I&#39;m not getting why the before annotation is not working\r\n\r\n    @Before\r\n    public void setup() {\r\n        setData();\r\n    }\r\n\r\n","title":"in spring boot while testing with junit4 how to check if the @Before is working","body":"<p>I just started to learn to test and wanted to test my method in my project. I'm not getting why the before annotation is not working</p>\n<pre><code>@Before\npublic void setup() {\n    setData();\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":1,"creation_date":1643211307,"post_id":70865945,"comment_id":125279928,"body_markdown":"when you are doing `ArrayList&lt;Integer&gt; evens = Rando;` you need to do `ArrayList&lt;Integer&gt; evens = new ArrayList&lt;Integer&gt;(Rando);`, and same with `odds`. the problem is that if you do `list1 = list2` then these list are the same object, if you change one, you change the other. for more information look on https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"when you are doing <code>ArrayList&lt;Integer&gt; evens = Rando;</code> you need to do <code>ArrayList&lt;Integer&gt; evens = new ArrayList&lt;Integer&gt;(Rando);</code>, and same with <code>odds</code>. the problem is that if you do <code>list1 = list2</code> then these list are the same object, if you change one, you change the other. for more information look on <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643211512,"post_id":70865945,"comment_id":125280027,"body_markdown":"Do you not know the syntax for the enhanced [for](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) loop? `for (Integer number : evens) {`","body":"Do you not know the syntax for the enhanced <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">for</a> loop? <code>for (Integer number : evens) {</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1643216141,"post_id":70865945,"comment_id":125282287,"body_markdown":"Are you allowed to do everything in a single loop?  It would be easier.","body":"Are you allowed to do everything in a single loop?  It would be easier."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643213668,"creation_date":1643211546,"answer_id":70866114,"question_id":70865945,"body_markdown":"The way you are doing it now you won&#39;t have anything left in the list.\r\n\r\n    ArrayList&lt;Integer&gt; evens = Rando;\r\n    ... \r\n    ArrayList&lt;Integer&gt; odds = Rando;\r\n\r\nThis will *modify* the original list.  You won&#39;t have anything left in the list after the first two loops, which remove the even numbers and then the odd.  I think instead you should create a new list.\r\n\r\n      ArrayList&lt;Integer&gt; evens = new ArrayList&lt;&gt;();\r\n      for (int i = 0; i &lt; Rando.size(); i++)\r\n      {      \r\n        if (Rando.get(i)%2 == 0) \r\n        {\r\n            evens.add(Rando.get(i));\r\n           \r\n        }    \r\n      }\r\n\r\nNow using the `for-each` loop becomes easier.\r\n\r\n      ArrayList&lt;Integer&gt; evens = new ArrayList&lt;&gt;();\r\n      for (int x : Rando )\r\n      {      \r\n        if (x%2 == 0) \r\n        {\r\n            evens.add(x);\r\n           \r\n        }    \r\n      }\r\n\r\nRemember you need to modify the loops you have now.  `Rando` will contain no elements at all the way you have it, so you have to change the existing code or re-create the random number list each time.","title":"How to Output the Number of Odd Numbers in an Array List Using an Enhanced For Loop","body":"<p>The way you are doing it now you won't have anything left in the list.</p>\n<pre><code>ArrayList&lt;Integer&gt; evens = Rando;\n... \nArrayList&lt;Integer&gt; odds = Rando;\n</code></pre>\n<p>This will <em>modify</em> the original list.  You won't have anything left in the list after the first two loops, which remove the even numbers and then the odd.  I think instead you should create a new list.</p>\n<pre><code>  ArrayList&lt;Integer&gt; evens = new ArrayList&lt;&gt;();\n  for (int i = 0; i &lt; Rando.size(); i++)\n  {      \n    if (Rando.get(i)%2 == 0) \n    {\n        evens.add(Rando.get(i));\n       \n    }    \n  }\n</code></pre>\n<p>Now using the <code>for-each</code> loop becomes easier.</p>\n<pre><code>  ArrayList&lt;Integer&gt; evens = new ArrayList&lt;&gt;();\n  for (int x : Rando )\n  {      \n    if (x%2 == 0) \n    {\n        evens.add(x);\n       \n    }    \n  }\n</code></pre>\n<p>Remember you need to modify the loops you have now.  <code>Rando</code> will contain no elements at all the way you have it, so you have to change the existing code or re-create the random number list each time.</p>\n"}],"owner":{"account_id":24062201,"reputation":1,"user_id":18039285,"display_name":"AloVera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643213668,"creation_date":1643210859,"question_id":70865945,"body_markdown":"//I need to ask the user for the size of the list they want, then generate random numbers with an array list for the size list they want, and output the list. These steps I have done but then I have to output the number of odd numbers in the list using an enhanced for loop and then reprint the list without even numbers.//\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n\r\n    public class MyProgram\r\n    {\r\n    public static void main(String[] args)\r\n    {\r\n      Scanner scan = new Scanner(System.in);\r\n      System.out.println(&quot;How big would you like your list?&quot;);\r\n      int decision = scan.nextInt();\r\n      \r\n      \r\n      \r\n      ArrayList&lt;Integer&gt; Rando = new ArrayList&lt;Integer&gt;();\r\n      for (int i = 1; i &lt;= decision; i++)\r\n      {\r\n          Rando.add((int)(Math.random()*100 + 1));\r\n      }\r\n      System.out.println();\r\n      System.out.println(Rando);\r\n      \r\n      \r\n      \r\n      ArrayList&lt;Integer&gt; evens = Rando;\r\n      for (int i = 0; i &lt; evens.size(); i++)\r\n      {      \r\n        if (evens.get(i)%2 != 0) \r\n        {\r\n            evens.remove(i);\r\n           \r\n        }    \r\n      }\r\n       \r\n        \r\n    ArrayList&lt;Integer&gt; odds = Rando;\r\n      for (int i = 0; i &lt; odds.size(); i++)\r\n      {      \r\n        if (odds.get(i)%2 != 0) \r\n        {\r\n            evens.remove(i);\r\n        }    \r\n      }\r\n      System.out.println();\r\n      System.out.println(odds);\r\n      \r\n      for(Integer number: Rando)\r\n      {\r\n          System.out.println();\r\n          System.out.println(&quot;# of Odd Numbers: &quot;+ odds.size());\r\n          System.out.println();\r\n          break;\r\n      }\r\n     \r\n      System.out.println(&quot;List Without Evens: &quot; + evens.remove);\r\n      System.out.println();\r\n      \r\n      \r\n    }\r\n      \r\n    }","title":"How to Output the Number of Odd Numbers in an Array List Using an Enhanced For Loop","body":"<p>//I need to ask the user for the size of the list they want, then generate random numbers with an array list for the size list they want, and output the list. These steps I have done but then I have to output the number of odd numbers in the list using an enhanced for loop and then reprint the list without even numbers.//</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class MyProgram\n{\npublic static void main(String[] args)\n{\n  Scanner scan = new Scanner(System.in);\n  System.out.println(&quot;How big would you like your list?&quot;);\n  int decision = scan.nextInt();\n  \n  \n  \n  ArrayList&lt;Integer&gt; Rando = new ArrayList&lt;Integer&gt;();\n  for (int i = 1; i &lt;= decision; i++)\n  {\n      Rando.add((int)(Math.random()*100 + 1));\n  }\n  System.out.println();\n  System.out.println(Rando);\n  \n  \n  \n  ArrayList&lt;Integer&gt; evens = Rando;\n  for (int i = 0; i &lt; evens.size(); i++)\n  {      \n    if (evens.get(i)%2 != 0) \n    {\n        evens.remove(i);\n       \n    }    \n  }\n   \n    \nArrayList&lt;Integer&gt; odds = Rando;\n  for (int i = 0; i &lt; odds.size(); i++)\n  {      \n    if (odds.get(i)%2 != 0) \n    {\n        evens.remove(i);\n    }    \n  }\n  System.out.println();\n  System.out.println(odds);\n  \n  for(Integer number: Rando)\n  {\n      System.out.println();\n      System.out.println(&quot;# of Odd Numbers: &quot;+ odds.size());\n      System.out.println();\n      break;\n  }\n \n  System.out.println(&quot;List Without Evens: &quot; + evens.remove);\n  System.out.println();\n  \n  \n}\n  \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","controller-advice"],"comments":[{"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"score":0,"creation_date":1643193423,"post_id":70861924,"comment_id":125272798,"body_markdown":"I also tried using in my application.properties\n`\nspring.mvc.static-path-pattern= /**\nspring.web.resources.add-mappings=false\nserver.error.whitelabel.enabled=false\n`","body":"I also tried using in my application.properties ` spring.mvc.static-path-pattern= /** spring.web.resources.add-mappings=false server.error.whitelabel.enabled=false `"}],"answers":[{"tags":[],"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643213536,"creation_date":1643213536,"answer_id":70866605,"question_id":70861924,"body_markdown":"So it seems that MockMvc has trouble with building MockHttpServletRequest when using exception handlers thus the empty content.\r\nWhen I run my springboot application and try calling an unknown url in my navigator, **It works**. I have the expected ```error 404; with body : No handler found``` using the **override method**.\r\n\r\nsee more here, stack accepted answer with 100+ usefulness score -&gt; https://stackoverflow.com/questions/61455449/unit-test-mockhttpservletrequest-not-returning-content-type","title":"Spring Boot 404 : no handler found exception in Controller Advice isn&#39;t catched","body":"<p>So it seems that MockMvc has trouble with building MockHttpServletRequest when using exception handlers thus the empty content.\nWhen I run my springboot application and try calling an unknown url in my navigator, <strong>It works</strong>. I have the expected <code>error 404; with body : No handler found</code> using the <strong>override method</strong>.</p>\n<p>see more here, stack accepted answer with 100+ usefulness score -&gt; <a href=\"https://stackoverflow.com/questions/61455449/unit-test-mockhttpservletrequest-not-returning-content-type\">Unit test MockHttpServletRequest not returning content type</a></p>\n"}],"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70866605,"answer_count":1,"score":1,"last_activity_date":1643213536,"creation_date":1643192642,"question_id":70861924,"body_markdown":"So I am trying to send a customized answer when user is trying to call an url unknown to my application. To do that I first added to my **application.properties** (in both main and test folders)\r\n```\r\nspring.mvc.throw-exception-if-no-handler-found=true\r\nspring.web.resources.add-mappings=false\r\n```\r\nSo that if no handler is found an exception is thrown. This exception should be of type **NoHandlerFoundException**\r\n\r\nThen I added in my controller advice a custom exception handler\r\nmy controller advice (simplified)\r\n```java\r\n@EnableWebMvc // (I tried with and without it doesn&#39;t change the error)\r\n@ControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE) // (I tried with and without it doesn&#39;t change the error)\r\npublic class ExceptionsHandler extends ResponseEntityExceptionHandler {\r\n    // invalid route handler\r\n    @Override\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    @ResponseBody\r\n    protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(\r\n    NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        String error = &quot;No handler found for &quot; + ex.getHttpMethod() + &quot; &quot; + ex.getRequestURL();\r\n\r\n        ApiError apiError = new ApiError(HttpStatus.NOT_FOUND, ex.getLocalizedMessage(), error);\r\n        return new ResponseEntity&lt;&gt;(apiError.getErrors(), new HttpHeaders(), apiError.getStatus());\r\n    }\r\n}\r\n```\r\nUsing this, when calling an unknown url in my test using : \r\n```java\r\nthis.mvc.perform(get(&quot;/ttt&quot;))\r\n        .andDo(print())\r\n        .andExpect(status().isNotFound())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(jsonPath(&quot;$.error&quot;).value(&quot;No Handler found for GET /ttt&quot;));\r\n```\r\nI get in my debug console :\r\n```o.s.web.servlet.PageNotFound : No mapping for GET /ttt```\r\nThough, answer doesn&#39;t have my custom error message as I also get in my debug console : \r\n```\r\nMockHttpServletResponse:\r\n           Status = 404\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n```\r\n\r\n**I then tried**\r\n```java\r\n    @ExceptionHandler({NoHandlerFoundException.class})\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Object&gt; handleNoHandler(HttpServletRequest request, Exception ex) {\r\n        String error = ex.getMessage();\r\n        return new ResponseEntity&lt;&gt;(error, new HttpHeaders(), HttpStatus.NOT_FOUND);\r\n    }\r\n```\r\nBut then a **Illegal state exception : Failed to load application context** is thrown with cause\r\n\r\n```IllegalStateException:Ambiguous @ExceptionHandler method mapped for [class org.framework.web.servlet.NoHandlerFoundException]```\r\n\r\n**ALso**, When I put breakpoints in my handlers and debug my test, the execution never stops at any breakpoint.","title":"Spring Boot 404 : no handler found exception in Controller Advice isn&#39;t catched","body":"<p>So I am trying to send a customized answer when user is trying to call an url unknown to my application. To do that I first added to my <strong>application.properties</strong> (in both main and test folders)</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.web.resources.add-mappings=false\n</code></pre>\n<p>So that if no handler is found an exception is thrown. This exception should be of type <strong>NoHandlerFoundException</strong></p>\n<p>Then I added in my controller advice a custom exception handler\nmy controller advice (simplified)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebMvc // (I tried with and without it doesn't change the error)\n@ControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE) // (I tried with and without it doesn't change the error)\npublic class ExceptionsHandler extends ResponseEntityExceptionHandler {\n    // invalid route handler\n    @Override\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ResponseBody\n    protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(\n    NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        String error = &quot;No handler found for &quot; + ex.getHttpMethod() + &quot; &quot; + ex.getRequestURL();\n\n        ApiError apiError = new ApiError(HttpStatus.NOT_FOUND, ex.getLocalizedMessage(), error);\n        return new ResponseEntity&lt;&gt;(apiError.getErrors(), new HttpHeaders(), apiError.getStatus());\n    }\n}\n</code></pre>\n<p>Using this, when calling an unknown url in my test using :</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.mvc.perform(get(&quot;/ttt&quot;))\n        .andDo(print())\n        .andExpect(status().isNotFound())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(jsonPath(&quot;$.error&quot;).value(&quot;No Handler found for GET /ttt&quot;));\n</code></pre>\n<p>I get in my debug console :\n<code>o.s.web.servlet.PageNotFound : No mapping for GET /ttt</code>\nThough, answer doesn't have my custom error message as I also get in my debug console :</p>\n<pre><code>MockHttpServletResponse:\n           Status = 404\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p><strong>I then tried</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExceptionHandler({NoHandlerFoundException.class})\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ResponseBody\n    public ResponseEntity&lt;Object&gt; handleNoHandler(HttpServletRequest request, Exception ex) {\n        String error = ex.getMessage();\n        return new ResponseEntity&lt;&gt;(error, new HttpHeaders(), HttpStatus.NOT_FOUND);\n    }\n</code></pre>\n<p>But then a <strong>Illegal state exception : Failed to load application context</strong> is thrown with cause</p>\n<p><code>IllegalStateException:Ambiguous @ExceptionHandler method mapped for [class org.framework.web.servlet.NoHandlerFoundException]</code></p>\n<p><strong>ALso</strong>, When I put breakpoints in my handlers and debug my test, the execution never stops at any breakpoint.</p>\n"},{"tags":["java","android-studio","tensorflow","tensorflow-lite"],"comments":[{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1643259425,"post_id":70866467,"comment_id":125293692,"body_markdown":"Possible duplicate to this https://stackoverflow.com/questions/62866577/android-tflite-od-cannot-copy-to-a-tensorflowlite-tensor-normalized-input-i/62888294#62888294","body":"Possible duplicate to this <a href=\"https://stackoverflow.com/questions/62866577/android-tflite-od-cannot-copy-to-a-tensorflowlite-tensor-normalized-input-i/62888294#62888294\" title=\"android tflite od cannot copy to a tensorflowlite tensor normalized input i\">stackoverflow.com/questions/62866577/&hellip;</a>"}],"owner":{"account_id":24062565,"reputation":11,"user_id":18039591,"display_name":"Salmen JALLELI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643212965,"creation_date":1643212965,"question_id":70866467,"body_markdown":"[I was trying to convert a TensorFlow model into the TFlite model and integrate it into an app using android studio. When I run the app the following error pops up, I think it&#39;s related to the compatibility of the size of the java buffer in my app and the tensor size in my model.. I tried changing the size of the input images in the model but it didn&#39;t work ]\r\n\r\nerror: java.lang.IllegalArgumentException: Cannot copy to TensorflowLite tensor (serving_default_conv2d_input:0) with 9216 bytes from a Java buffer with 110592 bytes.\r\n\r\n  [1]: https://i.stack.imgur.com/J2Q5J.png","title":"Cannot copy to TensorflowLite tensor (serving_default_conv2d_input:0) with 9216 bytes from a Java buffer with 110592 bytes","body":"<p>[I was trying to convert a TensorFlow model into the TFlite model and integrate it into an app using android studio. When I run the app the following error pops up, I think it's related to the compatibility of the size of the java buffer in my app and the tensor size in my model.. I tried changing the size of the input images in the model but it didn't work ]</p>\n<p>error: java.lang.IllegalArgumentException: Cannot copy to TensorflowLite tensor (serving_default_conv2d_input:0) with 9216 bytes from a Java buffer with 110592 bytes.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1643190926,"post_id":70861171,"comment_id":125271766,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **600 (six hundred)** lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>600 (six hundred)</b> lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1643315368,"post_id":70861171,"comment_id":125314067,"body_markdown":"I think you are looking for a multi-location update. Here&#39;s an answer in Swift but it&#39;s pretty simple to convert to android [update multiple locations](https://stackoverflow.com/questions/38462074/using-updatechildvalues-to-delete-from-firebase/38466959#38466959)","body":"I think you are looking for a multi-location update. Here&#39;s an answer in Swift but it&#39;s pretty simple to convert to android <a href=\"https://stackoverflow.com/questions/38462074/using-updatechildvalues-to-delete-from-firebase/38466959#38466959\">update multiple locations</a>"},{"owner":{"account_id":23996198,"reputation":31,"user_id":17981674,"display_name":"e_kart shop"},"score":0,"creation_date":1643356700,"post_id":70861171,"comment_id":125322543,"body_markdown":"Exactly!!!!\nI have a node called products\nunder that I have some nodes(each node under product is a product details) \nas per requirement, I need particular number of nodes to get updated with it&#39;s corresponding values. \nhow to convert the thing which is in swift to android ....","body":"Exactly!!!! I have a node called products under that I have some nodes(each node under product is a product details)  as per requirement, I need particular number of nodes to get updated with it&#39;s corresponding values.  how to convert the thing which is in swift to android ...."}],"owner":{"account_id":23996198,"reputation":31,"user_id":17981674,"display_name":"e_kart shop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643212927,"creation_date":1643189223,"question_id":70861171,"body_markdown":"I&#39;m working in a grocery app. I have a field called product stock in all products. It holds the available stock of a particular product. the flow is user add some products into the cart. when he press the order now button, the quantity of each product should get subracted from product stock and update the resulting stock in product stock field. \r\nBelow is my code. My problem is if user adds more than 1 product in cart, only the last added product&#39;s quantity is getting subracted from stock value and updating that 1 product&#39;s value to all the products in cart. It is not updating it&#39;s corresponding value. How to make it update it&#39;s corresponding value..... \r\n\r\n````\r\npackage com.shopping.grocery_ekart.Activities;\r\n\r\nimport android.app.Dialog;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.database.Cursor;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.shopping.grocery_ekart.Adapters.AdapterCartItem;\r\nimport com.shopping.grocery_ekart.Models.ModelCartItem;\r\nimport com.shopping.grocery_ekart.Models.ModelOrderedItem;\r\nimport com.shopping.grocery_ekart.R;\r\nimport com.shopping.grocery_ekart.category_Constants;\r\n\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport p32929.androideasysql_library.Column;\r\nimport p32929.androideasysql_library.EasyDB;\r\n\r\npublic class CartActivity extends AppCompatActivity {\r\n\r\n    private static final String cod = &quot;Cash on Delivery&quot;;\r\n    private static final String op = &quot;Online Payment&quot;;\r\n\r\n    private ProgressDialog progressDialog;\r\n    private FirebaseAuth firebaseAuth;\r\n    //cart\r\n    private ArrayList&lt;ModelCartItem&gt; cartItemList;\r\n    private AdapterCartItem adapterCartItem;\r\n\r\n    private EasyDB easyDB;\r\n\r\n    private Dialog dialog1, dialog2;\r\n    private String shopUid, myLatitude, myLongitude, myPhone, shopname;\r\n    public String deliveryFee;\r\n    public TextView sTotalTv, dFeeTv, allTotalPriceTv, shopNameTv, dummy;\r\n    private RecyclerView cartItemsRv;\r\n    private Button checkOutBtn;\r\n    private ImageButton backBtn;\r\n\r\n    public int allTotalPrice = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart);\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setTitle(&quot;Please wait&quot;);\r\n        progressDialog.setCanceledOnTouchOutside(false);\r\n\r\n        shopNameTv = findViewById(R.id.shopNameTv);\r\n        cartItemsRv  = findViewById(R.id.cartItemsRv);\r\n        sTotalTv = findViewById(R.id.sTotalTv);\r\n        dFeeTv = findViewById(R.id.dFeeTv);\r\n        allTotalPriceTv = findViewById(R.id.allTotalPriceTv);\r\n        checkOutBtn = findViewById(R.id.checkOutBtn);\r\n        dummy = findViewById(R.id.dummy);\r\n        backBtn = findViewById(R.id.backBtn);\r\n\r\n        shopUid = getIntent().getStringExtra(&quot;shopUid&quot;);\r\n        myLatitude = getIntent().getStringExtra(&quot;latitude&quot;);\r\n        myLongitude = getIntent().getStringExtra(&quot;longitude&quot;);\r\n        myPhone = getIntent().getStringExtra(&quot;phone&quot;);\r\n        deliveryFee = getIntent().getStringExtra(&quot;delivery&quot;);\r\n        shopname = getIntent().getStringExtra(&quot;shopname&quot;);\r\n\r\n        dFeeTv.setText(&quot;&quot; + deliveryFee);\r\n        sTotalTv.setText(&quot;&quot; +  allTotalPrice);\r\n        allTotalPriceTv.setText(&quot;&quot; + (allTotalPrice + (deliveryFee.replace(&quot;&quot;, &quot;&quot;))));\r\n\r\n        LoadCart();\r\n\r\n        easyDB = EasyDB.init(this, &quot;ITEMS_DB&quot;)\r\n                .setTableName(&quot;ITEMS_TABLE&quot;)\r\n                .addColumn(new Column(&quot;Item_Id&quot;, new String[]{&quot;text&quot;, &quot;unique&quot;}))\r\n                .addColumn(new Column(&quot;Item_PID&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Name&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Price_Each&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Price&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Quantity&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Available_Stock&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .doneTableColumn();\r\n\r\n        //each shop have its own products and orders so if user add items to cart and go to andother shop&#39;s cart , it should be different\r\n        //so delete cart data whenever user open this activity\r\n        //deleteCartData();\r\n        //cartCount();\r\n\r\n        backBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n        //place order\r\n        checkOutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //validate delivery address\r\n                if (myLatitude.equals(&quot;&quot;) || myLatitude.equals(&quot;null&quot;) || myLongitude.equals(&quot;&quot;) || myLongitude.equals(&quot;null&quot;)) {\r\n\r\n                    Toast.makeText(CartActivity.this, &quot;Please enter your address in your profile before placing order... &quot;, Toast.LENGTH_SHORT).show();\r\n                    return;//don&#39;t proceed further\r\n                }\r\n                if (myPhone.equals(&quot;&quot;) || myPhone.equals(&quot;null&quot;)) {\r\n                    Toast.makeText(CartActivity.this, &quot;Please enter your phone number in your profile before placing order... &quot;, Toast.LENGTH_SHORT).show();\r\n                    return;//don&#39;t proceed further\r\n                }\r\n                if (cartItemList.size() == 0) {\r\n                    //cart list is empty\r\n                    Toast.makeText(CartActivity.this, &quot;No item in cart&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;//don&#39;t proceed further\r\n\r\n                }\r\n\r\n                if (allTotalPrice&lt;500) {\r\n                    dialog1.show();\r\n                }\r\n                else {\r\n                    dialog2.show();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        dialog1 = new Dialog(this);\r\n        dialog1.setContentView(R.layout.checkout_warning_dialog);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            dialog1.getWindow().setBackgroundDrawable(getDrawable(R.drawable.custom_dialog));\r\n        }\r\n        dialog1.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        dialog1.setCancelable(false); //Optional\r\n        dialog1.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation; //Setting the animations to dialog\r\n\r\n        Button continue_shop = dialog1.findViewById(R.id.continue_shop);\r\n\r\n        continue_shop.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                dialog1.dismiss();\r\n            }\r\n        });\r\n\r\n        dialog2 = new Dialog(this);\r\n        dialog2.setContentView(R.layout.paymentmode_dialog);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            dialog2.getWindow().setBackgroundDrawable(getDrawable(R.drawable.custom_dialog));\r\n        }\r\n\r\n        dialog2.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        dialog2.setCancelable(false); //Optional\r\n        dialog2.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation; //Setting the animations to dialog\r\n\r\n        ImageButton backBtn = dialog2.findViewById(R.id.backBtn);\r\n        Button clear = dialog2.findViewById(R.id.clear);\r\n        Button pay_now = dialog2.findViewById(R.id.pay_now);\r\n        Button place_order = dialog2.findViewById(R.id.place_order);\r\n        RadioGroup radioGroup = dialog2.findViewById(R.id.groupradio);\r\n        RadioButton radia_id1 = dialog2.findViewById(R.id.radia_id1);\r\n        RadioButton radia_id2 = dialog2.findViewById(R.id.radia_id2);\r\n        TextView status = dialog2.findViewById(R.id.status);\r\n\r\n        radioGroup.clearCheck();\r\n\r\n        backBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                radioGroup.clearCheck();\r\n                pay_now.setVisibility(View.INVISIBLE);\r\n                place_order.setVisibility(View.INVISIBLE);\r\n                status.setVisibility(View.INVISIBLE);\r\n                dialog2.dismiss();\r\n            }\r\n        });\r\n        pay_now.setVisibility(View.INVISIBLE);\r\n        place_order.setVisibility(View.INVISIBLE);\r\n        status.setVisibility(View.INVISIBLE);\r\n\r\n        // Uncheck or reset the radio buttons initially\r\n\r\n        // Add the Listener to the RadioGroup\r\n        //assert radioGroup != null;\r\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            // The flow will come here when\r\n            // any of the radio buttons in the radioGroup\r\n            // has been clicked\r\n\r\n            // Check which radio button has been clicked\r\n            public void onCheckedChanged(RadioGroup group, int checkedId)\r\n            {\r\n                // Get the selected Radio Button\r\n                RadioButton radia_id2 = dialog2.findViewById(R.id.radia_id2);\r\n                RadioButton radia_id1 = dialog2.findViewById(R.id.radia_id1);\r\n\r\n                if (radia_id1.isChecked()) {\r\n                    pay_now.setVisibility(View.VISIBLE);\r\n                    place_order.setVisibility(View.GONE);\r\n                    status.setVisibility(View.VISIBLE);\r\n                    status.setText(op);\r\n                    dummy.setText(op);\r\n\r\n                }\r\n                if (radia_id2.isChecked()) {\r\n                    place_order.setVisibility(View.VISIBLE);\r\n                    pay_now.setVisibility(View.GONE);\r\n                    status.setVisibility(View.VISIBLE);\r\n                    status.setText(cod);\r\n                    dummy.setText(cod);\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        // Add the Listener to the Submit Button\r\n        pay_now.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                // When submit button is clicked,\r\n                // Ge the Radio Button which is set\r\n                // If no Radio Button is set, -1 will be returned\r\n                int selectedId = radioGroup.getCheckedRadioButtonId();\r\n                if (selectedId == -1) {\r\n                    Toast.makeText(CartActivity.this, &quot;Please select any one option&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    RadioButton radia_id2 = (RadioButton)radioGroup.findViewById(selectedId);\r\n                    submitOrder();\r\n                    deleteCartData();\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n        place_order.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                // When submit button is clicked,\r\n                // Ge the Radio Button which is set\r\n                // If no Radio Button is set, -1 will be returned\r\n                int selectedId = radioGroup.getCheckedRadioButtonId();\r\n                if (selectedId == -1) {\r\n                    Toast.makeText(CartActivity.this, &quot;Please select any one option&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    RadioButton radia_id1 = (RadioButton)radioGroup.findViewById(selectedId);\r\n                    submitOrder();\r\n                    deleteCartData();\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n        // Add the Listener to the Submit Button\r\n        clear.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                // Clear RadioGroup\r\n                // i.e. reset all the Radio Buttons\r\n                int selectedId = radioGroup.getCheckedRadioButtonId();\r\n                if (selectedId != -1) {\r\n                    radioGroup.clearCheck();\r\n                    pay_now.setVisibility(View.INVISIBLE);\r\n                    place_order.setVisibility(View.INVISIBLE);\r\n                    status.setVisibility(View.INVISIBLE);\r\n                }\r\n                else {\r\n                    Toast.makeText(CartActivity.this, &quot;No option is selected&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void LoadCart() {\r\n\r\n        cartItemList = new ArrayList&lt;&gt;();\r\n\r\n        shopNameTv.setText(shopname);\r\n\r\n        EasyDB easyDB = EasyDB.init(this, &quot;ITEMS_DB&quot;)\r\n                .setTableName(&quot;ITEMS_TABLE&quot;)\r\n                .addColumn(new Column(&quot;Item_Id&quot;, new String[]{&quot;text&quot;, &quot;unique&quot;}))\r\n                .addColumn(new Column(&quot;Item_PID&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Name&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Price_Each&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Price&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Item_Quantity&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .addColumn(new Column(&quot;Available_Stock&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\r\n                .doneTableColumn();\r\n\r\n        //get all records from db\r\n        Cursor res = easyDB.getAllData();\r\n        while (res.moveToNext()) {\r\n            String id = res.getString(1);\r\n            String pId = res.getString(2);\r\n            String name = res.getString(3);\r\n            String price = res.getString(4);\r\n            String cost = res.getString(5);\r\n            String quantity = res.getString(6);\r\n            String availablestock = res.getString(7);\r\n\r\n            allTotalPrice = allTotalPrice + Integer.parseInt(cost);\r\n\r\n            ModelCartItem modelCartItem = new ModelCartItem(\r\n                    &quot;&quot; + id,\r\n                    &quot;&quot; + pId,\r\n                    &quot;&quot; + name,\r\n                    &quot;&quot; + price,\r\n                    &quot;&quot; + cost,\r\n                    &quot;&quot; + quantity,\r\n                    &quot;&quot; + availablestock\r\n            );\r\n\r\n            cartItemList.add(modelCartItem);\r\n        }\r\n\r\n        LinearLayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\r\n        cartItemsRv.setLayoutManager(mLayoutManager);\r\n        //setup adapter\r\n        adapterCartItem = new AdapterCartItem(this, cartItemList);\r\n        //set to recyclerview\r\n        cartItemsRv.setAdapter(adapterCartItem);\r\n\r\n        dFeeTv.setText(&quot;&quot; + deliveryFee);\r\n        sTotalTv.setText(&quot;&quot; +  allTotalPrice);\r\n        allTotalPriceTv.setText(&quot;&quot; + (allTotalPrice + Integer.parseInt(deliveryFee.replace(&quot;&quot;, &quot;&quot;))));\r\n\r\n    }\r\n\r\n    private void deleteCartData() {\r\n        easyDB.deleteAllDataFromTable(); //delete all records from cart\r\n    }\r\n\r\n\r\n    String quantity, availablestock;\r\n    String productId;\r\n    private void submitOrder() {\r\n        progressDialog.setMessage(&quot;Placing order...&quot;);\r\n        progressDialog.show();\r\n\r\n        //for order id and order time\r\n        final String timestamp = &quot;&quot; + System.currentTimeMillis();\r\n        String cost = allTotalPriceTv.getText().toString().trim().replace(&quot;&quot;, &quot;&quot;);// remove  if contains\r\n        String paystatus = dummy.getText().toString();\r\n\r\n        //setup order data\r\n        HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(&quot;orderId&quot;, &quot;&quot;+timestamp);\r\n        hashMap.put(&quot;orderTime&quot;, &quot;&quot;+timestamp);\r\n        hashMap.put(&quot;orderStatus&quot;, &quot;In Progress&quot;); //In Progress/Completed/Cancelled\r\n        hashMap.put(&quot;orderCost&quot;, &quot;&quot;+cost);\r\n        hashMap.put(&quot;orderBy&quot;, &quot;&quot;+firebaseAuth.getUid());\r\n        hashMap.put(&quot;orderTo&quot;, &quot;&quot;+shopUid);\r\n        hashMap.put(&quot;latitude&quot;, &quot;&quot;+myLatitude);\r\n        hashMap.put(&quot;longitude&quot;, &quot;&quot;+myLongitude);\r\n        hashMap.put(&quot;PaymentMode&quot;, &quot;&quot;+paystatus);\r\n\r\n        //add to db\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(shopUid).child(&quot;Orders&quot;);\r\n        ref.child(timestamp).setValue(hashMap)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        //order info added now add order items\r\n                        for (int i = 0; i &lt; cartItemList.size(); i++) {\r\n                            productId = cartItemList.get(i).getpId();\r\n                            String id = cartItemList.get(i).getId();\r\n                            String cost = cartItemList.get(i).getCost();\r\n                            String name = cartItemList.get(i).getName();\r\n                            String price = cartItemList.get(i).getPrice();\r\n                            quantity = cartItemList.get(i).getQuantity();\r\n                            availablestock = cartItemList.get(i).getAvailablestock();\r\n\r\n                            HashMap&lt;String, String&gt; hashMap1 = new HashMap&lt;&gt;();\r\n                            hashMap1.put(&quot;pId&quot;, productId);\r\n                            hashMap1.put(&quot;name&quot;, name);\r\n                            hashMap1.put(&quot;cost&quot;, cost);\r\n                            hashMap1.put(&quot;price&quot;, price);\r\n                            hashMap1.put(&quot;quantity&quot;, quantity);\r\n                            hashMap1.put(&quot;ProductStock&quot;, availablestock);\r\n\r\n                            ref.child(timestamp).child(&quot;Items&quot;).child(productId).setValue(hashMap1);\r\n\r\n                        }\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(CartActivity.this, &quot;Please wait.....&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                        prepareNotificationMessage(timestamp);\r\n                        updateStock(quantity, availablestock);\r\n\r\n                    }\r\n\r\n\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        //failed placing order\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(CartActivity.this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    private void updateStock(String quantity, String availablestock) {\r\n\r\n        int qty = Integer.parseInt(quantity);\r\n        int stk_avl = Integer.parseInt(availablestock);\r\n\r\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n        //update to database\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        reference.child(shopUid).child(&quot;Products&quot;).child(productId)\r\n                .updateChildren(hashMap)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n\r\n                        for (int i = 0; i &lt; cartItemList.size(); i++) {\r\n                            //reference.orderByChild(productId).equalTo(&quot;Products&quot;);\r\n\r\n                            int stk = stk_avl - qty;\r\n                            productId = cartItemList.get(i).getpId();\r\n\r\n                            hashMap.put(&quot;ProductStock&quot;, &quot;&quot;+stk);\r\n                            reference.child(shopUid).child(&quot;Products&quot;).child(productId).updateChildren(hashMap);\r\n\r\n                        }\r\n                        //update success\r\n                        progressDialog.dismiss();\r\n\r\n                        Toast.makeText(CartActivity.this, &quot;Updated...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(CartActivity.this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void prepareNotificationMessage(String orderId) {\r\n        //which user place order , send notification to admin\r\n        //prepare data for notification\r\n        String NOTIFICATION_TOPIC = &quot;/topics/&quot; + category_Constants.FCM_TOPIC;\r\n        String NOTIFICATION_TITLE = &quot;New Order &quot;+ orderId;\r\n        String NOTIFICATION_MESSAGE = &quot;Your customer has placed a new order!&quot;;\r\n        String NOTIFICATION_TYPE = &quot;NewOrder&quot;;\r\n\r\n        //prepare json (what and where to send)\r\n        JSONObject notificationJo = new JSONObject();\r\n        JSONObject notificationBodyJo = new JSONObject();\r\n        try {\r\n            //what to send\r\n            notificationBodyJo.put(&quot;notificationType&quot;, NOTIFICATION_TYPE);\r\n            notificationBodyJo.put(&quot;buyerUid&quot;, firebaseAuth.getUid());\r\n            notificationBodyJo.put(&quot;sellerUid&quot;, shopUid);\r\n            notificationBodyJo.put(&quot;orderId&quot;, orderId);\r\n            notificationBodyJo.put(&quot;notificationTitle&quot;, NOTIFICATION_TITLE);\r\n            notificationBodyJo.put(&quot;notificationMessage&quot;, NOTIFICATION_MESSAGE);\r\n            //where to send\r\n            notificationJo.put(&quot;to&quot;, NOTIFICATION_TOPIC);\r\n            notificationJo.put(&quot;data&quot;, notificationBodyJo);\r\n\r\n        }\r\n        catch (Exception e) {\r\n            Toast.makeText(this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n        sendFcmNotification(notificationJo, orderId);\r\n    }\r\n\r\n    private void sendFcmNotification(JSONObject notificationJo, String orderId) {\r\n        //send volley request\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(&quot;https://fcm.googleapis.com/fcm/send&quot;, notificationJo, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                //after sending fcm, start order details activity\r\n                //after placing order open order details page\r\n                Intent intent = new Intent(CartActivity.this, OrdersDetailsUsersActivity.class);\r\n                intent.putExtra(&quot;orderTo&quot;, shopUid);\r\n                intent.putExtra(&quot;orderId&quot;, orderId);\r\n                intent.putExtra(&quot;ProductStock&quot;, availablestock);\r\n\r\n                startActivity(intent);\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                //if failed sending fcm, still start order details activity\r\n                // Intent intent = new Intent(ShopDetailsActivity.this, OrdersDetailsUsersActivity.class);\r\n                // intent.putExtra(&quot;orderTo&quot;, shopUid);\r\n                // intent.putExtra(&quot;orderId&quot;, orderId);\r\n                //startActivity(intent);\r\n            }\r\n        }){\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n\r\n                //put required headers\r\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                headers.put(&quot;Authorization&quot;, &quot;key=&quot; + category_Constants.FCM_KEY);\r\n\r\n                return headers;\r\n            }\r\n        };\r\n        //enque the volley request\r\n        Volley.newRequestQueue(this).add(jsonObjectRequest);\r\n\r\n    }\r\n\r\n}","title":"How to update a certain value in multiple nodes in firebase?","body":"<p>I'm working in a grocery app. I have a field called product stock in all products. It holds the available stock of a particular product. the flow is user add some products into the cart. when he press the order now button, the quantity of each product should get subracted from product stock and update the resulting stock in product stock field.\nBelow is my code. My problem is if user adds more than 1 product in cart, only the last added product's quantity is getting subracted from stock value and updating that 1 product's value to all the products in cart. It is not updating it's corresponding value. How to make it update it's corresponding value.....</p>\n<pre><code>package com.shopping.grocery_ekart.Activities;\n\nimport android.app.Dialog;\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.volley.AuthFailureError;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.shopping.grocery_ekart.Adapters.AdapterCartItem;\nimport com.shopping.grocery_ekart.Models.ModelCartItem;\nimport com.shopping.grocery_ekart.Models.ModelOrderedItem;\nimport com.shopping.grocery_ekart.R;\nimport com.shopping.grocery_ekart.category_Constants;\n\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport p32929.androideasysql_library.Column;\nimport p32929.androideasysql_library.EasyDB;\n\npublic class CartActivity extends AppCompatActivity {\n\n    private static final String cod = &quot;Cash on Delivery&quot;;\n    private static final String op = &quot;Online Payment&quot;;\n\n    private ProgressDialog progressDialog;\n    private FirebaseAuth firebaseAuth;\n    //cart\n    private ArrayList&lt;ModelCartItem&gt; cartItemList;\n    private AdapterCartItem adapterCartItem;\n\n    private EasyDB easyDB;\n\n    private Dialog dialog1, dialog2;\n    private String shopUid, myLatitude, myLongitude, myPhone, shopname;\n    public String deliveryFee;\n    public TextView sTotalTv, dFeeTv, allTotalPriceTv, shopNameTv, dummy;\n    private RecyclerView cartItemsRv;\n    private Button checkOutBtn;\n    private ImageButton backBtn;\n\n    public int allTotalPrice = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_cart);\n\n        firebaseAuth = FirebaseAuth.getInstance();\n\n        progressDialog = new ProgressDialog(this);\n        progressDialog.setTitle(&quot;Please wait&quot;);\n        progressDialog.setCanceledOnTouchOutside(false);\n\n        shopNameTv = findViewById(R.id.shopNameTv);\n        cartItemsRv  = findViewById(R.id.cartItemsRv);\n        sTotalTv = findViewById(R.id.sTotalTv);\n        dFeeTv = findViewById(R.id.dFeeTv);\n        allTotalPriceTv = findViewById(R.id.allTotalPriceTv);\n        checkOutBtn = findViewById(R.id.checkOutBtn);\n        dummy = findViewById(R.id.dummy);\n        backBtn = findViewById(R.id.backBtn);\n\n        shopUid = getIntent().getStringExtra(&quot;shopUid&quot;);\n        myLatitude = getIntent().getStringExtra(&quot;latitude&quot;);\n        myLongitude = getIntent().getStringExtra(&quot;longitude&quot;);\n        myPhone = getIntent().getStringExtra(&quot;phone&quot;);\n        deliveryFee = getIntent().getStringExtra(&quot;delivery&quot;);\n        shopname = getIntent().getStringExtra(&quot;shopname&quot;);\n\n        dFeeTv.setText(&quot;&quot; + deliveryFee);\n        sTotalTv.setText(&quot;&quot; +  allTotalPrice);\n        allTotalPriceTv.setText(&quot;&quot; + (allTotalPrice + (deliveryFee.replace(&quot;&quot;, &quot;&quot;))));\n\n        LoadCart();\n\n        easyDB = EasyDB.init(this, &quot;ITEMS_DB&quot;)\n                .setTableName(&quot;ITEMS_TABLE&quot;)\n                .addColumn(new Column(&quot;Item_Id&quot;, new String[]{&quot;text&quot;, &quot;unique&quot;}))\n                .addColumn(new Column(&quot;Item_PID&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Name&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Price_Each&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Price&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Quantity&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Available_Stock&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .doneTableColumn();\n\n        //each shop have its own products and orders so if user add items to cart and go to andother shop's cart , it should be different\n        //so delete cart data whenever user open this activity\n        //deleteCartData();\n        //cartCount();\n\n        backBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onBackPressed();\n                finish();\n            }\n        });\n\n\n        //place order\n        checkOutBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //validate delivery address\n                if (myLatitude.equals(&quot;&quot;) || myLatitude.equals(&quot;null&quot;) || myLongitude.equals(&quot;&quot;) || myLongitude.equals(&quot;null&quot;)) {\n\n                    Toast.makeText(CartActivity.this, &quot;Please enter your address in your profile before placing order... &quot;, Toast.LENGTH_SHORT).show();\n                    return;//don't proceed further\n                }\n                if (myPhone.equals(&quot;&quot;) || myPhone.equals(&quot;null&quot;)) {\n                    Toast.makeText(CartActivity.this, &quot;Please enter your phone number in your profile before placing order... &quot;, Toast.LENGTH_SHORT).show();\n                    return;//don't proceed further\n                }\n                if (cartItemList.size() == 0) {\n                    //cart list is empty\n                    Toast.makeText(CartActivity.this, &quot;No item in cart&quot;, Toast.LENGTH_SHORT).show();\n                    return;//don't proceed further\n\n                }\n\n                if (allTotalPrice&lt;500) {\n                    dialog1.show();\n                }\n                else {\n                    dialog2.show();\n                }\n\n            }\n        });\n\n        dialog1 = new Dialog(this);\n        dialog1.setContentView(R.layout.checkout_warning_dialog);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            dialog1.getWindow().setBackgroundDrawable(getDrawable(R.drawable.custom_dialog));\n        }\n        dialog1.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        dialog1.setCancelable(false); //Optional\n        dialog1.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation; //Setting the animations to dialog\n\n        Button continue_shop = dialog1.findViewById(R.id.continue_shop);\n\n        continue_shop.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dialog1.dismiss();\n            }\n        });\n\n        dialog2 = new Dialog(this);\n        dialog2.setContentView(R.layout.paymentmode_dialog);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            dialog2.getWindow().setBackgroundDrawable(getDrawable(R.drawable.custom_dialog));\n        }\n\n        dialog2.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        dialog2.setCancelable(false); //Optional\n        dialog2.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation; //Setting the animations to dialog\n\n        ImageButton backBtn = dialog2.findViewById(R.id.backBtn);\n        Button clear = dialog2.findViewById(R.id.clear);\n        Button pay_now = dialog2.findViewById(R.id.pay_now);\n        Button place_order = dialog2.findViewById(R.id.place_order);\n        RadioGroup radioGroup = dialog2.findViewById(R.id.groupradio);\n        RadioButton radia_id1 = dialog2.findViewById(R.id.radia_id1);\n        RadioButton radia_id2 = dialog2.findViewById(R.id.radia_id2);\n        TextView status = dialog2.findViewById(R.id.status);\n\n        radioGroup.clearCheck();\n\n        backBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                radioGroup.clearCheck();\n                pay_now.setVisibility(View.INVISIBLE);\n                place_order.setVisibility(View.INVISIBLE);\n                status.setVisibility(View.INVISIBLE);\n                dialog2.dismiss();\n            }\n        });\n        pay_now.setVisibility(View.INVISIBLE);\n        place_order.setVisibility(View.INVISIBLE);\n        status.setVisibility(View.INVISIBLE);\n\n        // Uncheck or reset the radio buttons initially\n\n        // Add the Listener to the RadioGroup\n        //assert radioGroup != null;\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            // The flow will come here when\n            // any of the radio buttons in the radioGroup\n            // has been clicked\n\n            // Check which radio button has been clicked\n            public void onCheckedChanged(RadioGroup group, int checkedId)\n            {\n                // Get the selected Radio Button\n                RadioButton radia_id2 = dialog2.findViewById(R.id.radia_id2);\n                RadioButton radia_id1 = dialog2.findViewById(R.id.radia_id1);\n\n                if (radia_id1.isChecked()) {\n                    pay_now.setVisibility(View.VISIBLE);\n                    place_order.setVisibility(View.GONE);\n                    status.setVisibility(View.VISIBLE);\n                    status.setText(op);\n                    dummy.setText(op);\n\n                }\n                if (radia_id2.isChecked()) {\n                    place_order.setVisibility(View.VISIBLE);\n                    pay_now.setVisibility(View.GONE);\n                    status.setVisibility(View.VISIBLE);\n                    status.setText(cod);\n                    dummy.setText(cod);\n\n                }\n\n            }\n        });\n\n        // Add the Listener to the Submit Button\n        pay_now.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                // When submit button is clicked,\n                // Ge the Radio Button which is set\n                // If no Radio Button is set, -1 will be returned\n                int selectedId = radioGroup.getCheckedRadioButtonId();\n                if (selectedId == -1) {\n                    Toast.makeText(CartActivity.this, &quot;Please select any one option&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    RadioButton radia_id2 = (RadioButton)radioGroup.findViewById(selectedId);\n                    submitOrder();\n                    deleteCartData();\n\n                }\n            }\n        });\n\n        place_order.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                // When submit button is clicked,\n                // Ge the Radio Button which is set\n                // If no Radio Button is set, -1 will be returned\n                int selectedId = radioGroup.getCheckedRadioButtonId();\n                if (selectedId == -1) {\n                    Toast.makeText(CartActivity.this, &quot;Please select any one option&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    RadioButton radia_id1 = (RadioButton)radioGroup.findViewById(selectedId);\n                    submitOrder();\n                    deleteCartData();\n\n                }\n            }\n        });\n\n        // Add the Listener to the Submit Button\n        clear.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                // Clear RadioGroup\n                // i.e. reset all the Radio Buttons\n                int selectedId = radioGroup.getCheckedRadioButtonId();\n                if (selectedId != -1) {\n                    radioGroup.clearCheck();\n                    pay_now.setVisibility(View.INVISIBLE);\n                    place_order.setVisibility(View.INVISIBLE);\n                    status.setVisibility(View.INVISIBLE);\n                }\n                else {\n                    Toast.makeText(CartActivity.this, &quot;No option is selected&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        });\n\n\n    }\n\n    private void LoadCart() {\n\n        cartItemList = new ArrayList&lt;&gt;();\n\n        shopNameTv.setText(shopname);\n\n        EasyDB easyDB = EasyDB.init(this, &quot;ITEMS_DB&quot;)\n                .setTableName(&quot;ITEMS_TABLE&quot;)\n                .addColumn(new Column(&quot;Item_Id&quot;, new String[]{&quot;text&quot;, &quot;unique&quot;}))\n                .addColumn(new Column(&quot;Item_PID&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Name&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Price_Each&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Price&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Item_Quantity&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .addColumn(new Column(&quot;Available_Stock&quot;, new String[]{&quot;text&quot;, &quot;not null&quot;}))\n                .doneTableColumn();\n\n        //get all records from db\n        Cursor res = easyDB.getAllData();\n        while (res.moveToNext()) {\n            String id = res.getString(1);\n            String pId = res.getString(2);\n            String name = res.getString(3);\n            String price = res.getString(4);\n            String cost = res.getString(5);\n            String quantity = res.getString(6);\n            String availablestock = res.getString(7);\n\n            allTotalPrice = allTotalPrice + Integer.parseInt(cost);\n\n            ModelCartItem modelCartItem = new ModelCartItem(\n                    &quot;&quot; + id,\n                    &quot;&quot; + pId,\n                    &quot;&quot; + name,\n                    &quot;&quot; + price,\n                    &quot;&quot; + cost,\n                    &quot;&quot; + quantity,\n                    &quot;&quot; + availablestock\n            );\n\n            cartItemList.add(modelCartItem);\n        }\n\n        LinearLayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\n        cartItemsRv.setLayoutManager(mLayoutManager);\n        //setup adapter\n        adapterCartItem = new AdapterCartItem(this, cartItemList);\n        //set to recyclerview\n        cartItemsRv.setAdapter(adapterCartItem);\n\n        dFeeTv.setText(&quot;&quot; + deliveryFee);\n        sTotalTv.setText(&quot;&quot; +  allTotalPrice);\n        allTotalPriceTv.setText(&quot;&quot; + (allTotalPrice + Integer.parseInt(deliveryFee.replace(&quot;&quot;, &quot;&quot;))));\n\n    }\n\n    private void deleteCartData() {\n        easyDB.deleteAllDataFromTable(); //delete all records from cart\n    }\n\n\n    String quantity, availablestock;\n    String productId;\n    private void submitOrder() {\n        progressDialog.setMessage(&quot;Placing order...&quot;);\n        progressDialog.show();\n\n        //for order id and order time\n        final String timestamp = &quot;&quot; + System.currentTimeMillis();\n        String cost = allTotalPriceTv.getText().toString().trim().replace(&quot;&quot;, &quot;&quot;);// remove  if contains\n        String paystatus = dummy.getText().toString();\n\n        //setup order data\n        HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(&quot;orderId&quot;, &quot;&quot;+timestamp);\n        hashMap.put(&quot;orderTime&quot;, &quot;&quot;+timestamp);\n        hashMap.put(&quot;orderStatus&quot;, &quot;In Progress&quot;); //In Progress/Completed/Cancelled\n        hashMap.put(&quot;orderCost&quot;, &quot;&quot;+cost);\n        hashMap.put(&quot;orderBy&quot;, &quot;&quot;+firebaseAuth.getUid());\n        hashMap.put(&quot;orderTo&quot;, &quot;&quot;+shopUid);\n        hashMap.put(&quot;latitude&quot;, &quot;&quot;+myLatitude);\n        hashMap.put(&quot;longitude&quot;, &quot;&quot;+myLongitude);\n        hashMap.put(&quot;PaymentMode&quot;, &quot;&quot;+paystatus);\n\n        //add to db\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(shopUid).child(&quot;Orders&quot;);\n        ref.child(timestamp).setValue(hashMap)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        //order info added now add order items\n                        for (int i = 0; i &lt; cartItemList.size(); i++) {\n                            productId = cartItemList.get(i).getpId();\n                            String id = cartItemList.get(i).getId();\n                            String cost = cartItemList.get(i).getCost();\n                            String name = cartItemList.get(i).getName();\n                            String price = cartItemList.get(i).getPrice();\n                            quantity = cartItemList.get(i).getQuantity();\n                            availablestock = cartItemList.get(i).getAvailablestock();\n\n                            HashMap&lt;String, String&gt; hashMap1 = new HashMap&lt;&gt;();\n                            hashMap1.put(&quot;pId&quot;, productId);\n                            hashMap1.put(&quot;name&quot;, name);\n                            hashMap1.put(&quot;cost&quot;, cost);\n                            hashMap1.put(&quot;price&quot;, price);\n                            hashMap1.put(&quot;quantity&quot;, quantity);\n                            hashMap1.put(&quot;ProductStock&quot;, availablestock);\n\n                            ref.child(timestamp).child(&quot;Items&quot;).child(productId).setValue(hashMap1);\n\n                        }\n                        progressDialog.dismiss();\n                        Toast.makeText(CartActivity.this, &quot;Please wait.....&quot;, Toast.LENGTH_SHORT).show();\n\n                        prepareNotificationMessage(timestamp);\n                        updateStock(quantity, availablestock);\n\n                    }\n\n\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        //failed placing order\n                        progressDialog.dismiss();\n                        Toast.makeText(CartActivity.this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n    }\n\n    private void updateStock(String quantity, String availablestock) {\n\n        int qty = Integer.parseInt(quantity);\n        int stk_avl = Integer.parseInt(availablestock);\n\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n\n        //update to database\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n        reference.child(shopUid).child(&quot;Products&quot;).child(productId)\n                .updateChildren(hashMap)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n\n                        for (int i = 0; i &lt; cartItemList.size(); i++) {\n                            //reference.orderByChild(productId).equalTo(&quot;Products&quot;);\n\n                            int stk = stk_avl - qty;\n                            productId = cartItemList.get(i).getpId();\n\n                            hashMap.put(&quot;ProductStock&quot;, &quot;&quot;+stk);\n                            reference.child(shopUid).child(&quot;Products&quot;).child(productId).updateChildren(hashMap);\n\n                        }\n                        //update success\n                        progressDialog.dismiss();\n\n                        Toast.makeText(CartActivity.this, &quot;Updated...&quot;, Toast.LENGTH_SHORT).show();\n\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        progressDialog.dismiss();\n                        Toast.makeText(CartActivity.this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n    private void prepareNotificationMessage(String orderId) {\n        //which user place order , send notification to admin\n        //prepare data for notification\n        String NOTIFICATION_TOPIC = &quot;/topics/&quot; + category_Constants.FCM_TOPIC;\n        String NOTIFICATION_TITLE = &quot;New Order &quot;+ orderId;\n        String NOTIFICATION_MESSAGE = &quot;Your customer has placed a new order!&quot;;\n        String NOTIFICATION_TYPE = &quot;NewOrder&quot;;\n\n        //prepare json (what and where to send)\n        JSONObject notificationJo = new JSONObject();\n        JSONObject notificationBodyJo = new JSONObject();\n        try {\n            //what to send\n            notificationBodyJo.put(&quot;notificationType&quot;, NOTIFICATION_TYPE);\n            notificationBodyJo.put(&quot;buyerUid&quot;, firebaseAuth.getUid());\n            notificationBodyJo.put(&quot;sellerUid&quot;, shopUid);\n            notificationBodyJo.put(&quot;orderId&quot;, orderId);\n            notificationBodyJo.put(&quot;notificationTitle&quot;, NOTIFICATION_TITLE);\n            notificationBodyJo.put(&quot;notificationMessage&quot;, NOTIFICATION_MESSAGE);\n            //where to send\n            notificationJo.put(&quot;to&quot;, NOTIFICATION_TOPIC);\n            notificationJo.put(&quot;data&quot;, notificationBodyJo);\n\n        }\n        catch (Exception e) {\n            Toast.makeText(this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n        sendFcmNotification(notificationJo, orderId);\n    }\n\n    private void sendFcmNotification(JSONObject notificationJo, String orderId) {\n        //send volley request\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(&quot;https://fcm.googleapis.com/fcm/send&quot;, notificationJo, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                //after sending fcm, start order details activity\n                //after placing order open order details page\n                Intent intent = new Intent(CartActivity.this, OrdersDetailsUsersActivity.class);\n                intent.putExtra(&quot;orderTo&quot;, shopUid);\n                intent.putExtra(&quot;orderId&quot;, orderId);\n                intent.putExtra(&quot;ProductStock&quot;, availablestock);\n\n                startActivity(intent);\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                //if failed sending fcm, still start order details activity\n                // Intent intent = new Intent(ShopDetailsActivity.this, OrdersDetailsUsersActivity.class);\n                // intent.putExtra(&quot;orderTo&quot;, shopUid);\n                // intent.putExtra(&quot;orderId&quot;, orderId);\n                //startActivity(intent);\n            }\n        }){\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n\n                //put required headers\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n                headers.put(&quot;Authorization&quot;, &quot;key=&quot; + category_Constants.FCM_KEY);\n\n                return headers;\n            }\n        };\n        //enque the volley request\n        Volley.newRequestQueue(this).add(jsonObjectRequest);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":2,"creation_date":1643208603,"post_id":70865324,"comment_id":125278724,"body_markdown":"Can you not just raise an exception?","body":"Can you not just raise an exception?"},{"owner":{"account_id":12730571,"reputation":55,"user_id":11485212,"display_name":"kertal"},"score":0,"creation_date":1643208801,"post_id":70865324,"comment_id":125278814,"body_markdown":"Friend has a beginner course. They didn&#39;t learn exceptions yet. \nOther ways to do that?\nAccording to exercise, it&#39;s logical to return null. If they can&#39;t make a child.\nIn exercise it&#39;s not specified to return one of the parent&#39;s Classes. \nNeither they learn exceptions. That&#39;s why I&#39;m asking. \nIs there a way to return an Empty class instance? The type would match, but it wouldn&#39;t have anything inside?","body":"Friend has a beginner course. They didn&#39;t learn exceptions yet.  Other ways to do that? According to exercise, it&#39;s logical to return null. If they can&#39;t make a child. In exercise it&#39;s not specified to return one of the parent&#39;s Classes.  Neither they learn exceptions. That&#39;s why I&#39;m asking.  Is there a way to return an Empty class instance? The type would match, but it wouldn&#39;t have anything inside?"},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1643209661,"post_id":70865324,"comment_id":125279207,"body_markdown":"Your code already returns null to signal something, so that&#39;s out.  You could insert a class into the &#39;animal&#39; inheritance branch that included an error flag/message for the caller to check or....learn about exceptions:)","body":"Your code already returns null to signal something, so that&#39;s out.  You could insert a class into the &#39;animal&#39; inheritance branch that included an error flag/message for the caller to check or....learn about exceptions:)"}],"answers":[{"tags":[],"owner":{"account_id":2881635,"reputation":2419,"user_id":2472398,"display_name":"gru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643209494,"creation_date":1643208575,"answer_id":70865369,"question_id":70865324,"body_markdown":"If something goes wrong you should throw an exception. \r\n\r\n```java\r\nthrow new Exception(&quot;Something went wrong.&quot;)\r\n```\r\n\r\nI would recommend you to get familiar with exception handling here: https://www.baeldung.com/java-exceptions","title":"How to return differet value from specified in the method?","body":"<p>If something goes wrong you should throw an exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new Exception(&quot;Something went wrong.&quot;)\n</code></pre>\n<p>I would recommend you to get familiar with exception handling here: <a href=\"https://www.baeldung.com/java-exceptions\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-exceptions</a></p>\n"},{"tags":[],"owner":{"account_id":13393537,"reputation":303,"user_id":9665229,"display_name":"studs-need-help"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643209309,"creation_date":1643209309,"answer_id":70865546,"question_id":70865324,"body_markdown":"I would suggest using exception handling for this type of issue, here is a link https://www.javatpoint.com/exception-handling-in-java, but if you don&#39;t want to use it, you can just return null as you did in your exception above. When you will call the method and the answer will be null, you will be able to make the difference between the right Animal and the wrong one. As example:\r\n\r\n    //do you really want this method static?\r\n        public static Animal make_child(Animal a, Animal b) {\r\n             // Create a child if both animals of different male\r\n               Animal c;\r\n               if (a.male == b.male) {\r\n                  return null;\r\n               }\r\n               c = new Animal(...);\r\n            }\r\n         public static void isNewbornBoyOrGirl(Animal a, Animal b) {\r\n            Animal newborn = make_child(a,b);\r\n            if(newborn == null)\r\n            {\r\n              System.out.println(&quot;An error has occured!&quot;);\r\n              return;\r\n    //if the newborn is null, a print will be displayed and afterward it will exit the current method \r\n            }\r\n            // do stuff with newborn as it is not null after calling the method above\r\n        \r\n        }\r\n\r\n","title":"How to return differet value from specified in the method?","body":"<p>I would suggest using exception handling for this type of issue, here is a link <a href=\"https://www.javatpoint.com/exception-handling-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/exception-handling-in-java</a>, but if you don't want to use it, you can just return null as you did in your exception above. When you will call the method and the answer will be null, you will be able to make the difference between the right Animal and the wrong one. As example:</p>\n<pre><code>//do you really want this method static?\n    public static Animal make_child(Animal a, Animal b) {\n         // Create a child if both animals of different male\n           Animal c;\n           if (a.male == b.male) {\n              return null;\n           }\n           c = new Animal(...);\n        }\n     public static void isNewbornBoyOrGirl(Animal a, Animal b) {\n        Animal newborn = make_child(a,b);\n        if(newborn == null)\n        {\n          System.out.println(&quot;An error has occured!&quot;);\n          return;\n//if the newborn is null, a print will be displayed and afterward it will exit the current method \n        }\n        // do stuff with newborn as it is not null after calling the method above\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864881,"reputation":1,"user_id":2459397,"display_name":"Anton Sinkevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643212721,"creation_date":1643210708,"answer_id":70865910,"question_id":70865324,"body_markdown":"dd in class Animal a class field which will indicate if something goes wrong.\r\n\r\nOr you can create a subclass EmptyAnimal which extends Animal, create and return this type, and check return value like this\r\n\r\n    Animal newborn = make_child(a,b);\r\n    if (newbor instanceof EmptyAnimal){\r\n        System.out.println(&quot;something goes wrong&quot;);\r\n    }","title":"How to return differet value from specified in the method?","body":"<p>dd in class Animal a class field which will indicate if something goes wrong.</p>\n<p>Or you can create a subclass EmptyAnimal which extends Animal, create and return this type, and check return value like this</p>\n<pre><code>Animal newborn = make_child(a,b);\nif (newbor instanceof EmptyAnimal){\n    System.out.println(&quot;something goes wrong&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":12730571,"reputation":55,"user_id":11485212,"display_name":"kertal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70865546,"answer_count":3,"score":0,"last_activity_date":1643212721,"creation_date":1643208413,"question_id":70865324,"body_markdown":"The method should return the value of type Animal. In case something goes wrong, and i want to indicate that there is an error, what is the right technique?\r\nIn case i don&#39;t want to raise an error. What can i return instead of type Animal?\r\n```\r\npublic static Animal make_child(Animal a, Animal b) {\r\n   // Create a child if both animals of different male\r\n   Animal c;\r\n   if (a.male == b.male) {\r\n      return null;\r\n   }\r\n   c = new Animal(...);\r\n}\r\n```","title":"How to return differet value from specified in the method?","body":"<p>The method should return the value of type Animal. In case something goes wrong, and i want to indicate that there is an error, what is the right technique?\nIn case i don't want to raise an error. What can i return instead of type Animal?</p>\n<pre><code>public static Animal make_child(Animal a, Animal b) {\n   // Create a child if both animals of different male\n   Animal c;\n   if (a.male == b.male) {\n      return null;\n   }\n   c = new Animal(...);\n}\n</code></pre>\n"},{"tags":["java","access-control","xacml","balana"],"answers":[{"tags":[],"owner":{"account_id":6754173,"reputation":91,"user_id":5203251,"display_name":"Mark Berg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643209344,"creation_date":1643209344,"answer_id":70865560,"question_id":70857380,"body_markdown":"First of all the supplied policy is incomplete.  It is missing the closing &lt;/Policy&gt; tag and the Permit rule.  In my testing I added these and it &quot;works for me&quot; but since we do not know exactly what you have it is possible you have other mistakes.\r\n\r\nYour issue seems to be that you copy/pasted the attributes in the policy and are using the wrong category for subject-id.  It should be:\r\n\r\n&gt; urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\r\n\r\ninstead of:\r\n\r\n&gt; urn:oasis:names:tc:xacml:3.0:subject-category:access-subject\r\n\r\nSo yes the request is missing the required subject-id attribute since the request is using a different category for subject-id than what is defined in the policy.\r\n\r\nWhen I use the below corrected policy and request I do get a Permit.  Note that I am not using Balana but you should see the same results.\r\n\r\nPolicy:\r\n\r\n    &lt;xacml3:Policy xmlns:xacml3=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot; PolicyId=&quot;NormalMode&quot; Version=&quot;1&quot; RuleCombiningAlgId=&quot;urn:oasis:names:tc:xacml:3.0:rule-combining-algorithm:deny-overrides&quot;&gt;\r\n      &lt;xacml3:Description&gt;Medical Records access control policy in Normal operational Mode&lt;/xacml3:Description&gt;\r\n      &lt;xacml3:PolicyDefaults&gt;\r\n        &lt;xacml3:XPathVersion&gt;http://www.w3.org/TR/1999/REC-xpath-19991116&lt;/xacml3:XPathVersion&gt;\r\n      &lt;/xacml3:PolicyDefaults&gt;\r\n      &lt;xacml3:Target/&gt;\r\n      &lt;xacml3:Rule RuleId=&quot;doctors&quot; Effect=&quot;Deny&quot;&gt;\r\n        &lt;xacml3:Target&gt;\r\n          &lt;xacml3:AnyOf&gt;\r\n            &lt;xacml3:AllOf&gt;\r\n              &lt;xacml3:Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\r\n                &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;PersonalData&lt;/xacml3:AttributeValue&gt;\r\n                &lt;xacml3:AttributeDesignator Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot;/&gt;\r\n              &lt;/xacml3:Match&gt;\r\n              &lt;xacml3:Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\r\n                &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/xacml3:AttributeValue&gt;\r\n                &lt;xacml3:AttributeDesignator Category=&quot;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;false&quot;/&gt;\r\n              &lt;/xacml3:Match&gt;\r\n              &lt;xacml3:Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\r\n                &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/xacml3:AttributeValue&gt;\r\n                &lt;xacml3:AttributeDesignator Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot;/&gt;\r\n              &lt;/xacml3:Match&gt;\r\n            &lt;/xacml3:AllOf&gt;\r\n          &lt;/xacml3:AnyOf&gt;\r\n        &lt;/xacml3:Target&gt;\r\n        &lt;xacml3:AdviceExpressions&gt;\r\n          &lt;xacml3:AdviceExpression AdviceId=&quot;doctors_advice&quot; AppliesTo=&quot;Deny&quot;&gt;\r\n            &lt;xacml3:AttributeAssignmentExpression AttributeId=&quot;urn:oasis:names:tc:xacml:2.0:example:attribute:text&quot; Category=&quot;http://axiomatics.com/ObligationAndAdvice/DefaultCategory&quot;&gt;\r\n              &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;Doctors are not allowed to see Personal Data&lt;/xacml3:AttributeValue&gt;\r\n            &lt;/xacml3:AttributeAssignmentExpression&gt;\r\n          &lt;/xacml3:AdviceExpression&gt;\r\n        &lt;/xacml3:AdviceExpressions&gt;\r\n      &lt;/xacml3:Rule&gt;\r\n      &lt;xacml3:Rule RuleId=&quot;d3a90374-79e6-47e6-9cfd-f3e23f737c99&quot; Effect=&quot;Permit&quot;&gt;\r\n        &lt;xacml3:Description&gt;Rule description&lt;/xacml3:Description&gt;\r\n        &lt;xacml3:Target/&gt;\r\n      &lt;/xacml3:Rule&gt;\r\n    &lt;/xacml3:Policy&gt;\r\n    \r\nRequest:\r\n\r\n    &lt;xacml-ctx:Request ReturnPolicyIdList=&quot;true&quot; CombinedDecision=&quot;false&quot; xmlns:xacml-ctx=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot;&gt;\r\n      &lt;xacml-ctx:RequestDefaults&gt;\r\n        &lt;xacml-ctx:XPathVersion&gt;http://www.w3.org/TR/1999/REC-xpath-19991116&lt;/xacml-ctx:XPathVersion&gt;\r\n      &lt;/xacml-ctx:RequestDefaults&gt;\r\n      &lt;xacml-ctx:Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot;&gt;\r\n        &lt;xacml-ctx:Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; IncludeInResult=&quot;false&quot;&gt;\r\n          &lt;xacml-ctx:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;NameSurname&lt;/xacml-ctx:AttributeValue&gt;\r\n        &lt;/xacml-ctx:Attribute&gt;\r\n      &lt;/xacml-ctx:Attributes&gt;\r\n      &lt;xacml-ctx:Attributes Category=&quot;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&quot;&gt;\r\n        &lt;xacml-ctx:Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; IncludeInResult=&quot;false&quot;&gt;\r\n          &lt;xacml-ctx:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/xacml-ctx:AttributeValue&gt;\r\n        &lt;/xacml-ctx:Attribute&gt;\r\n      &lt;/xacml-ctx:Attributes&gt;\r\n      &lt;xacml-ctx:Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot;&gt;\r\n        &lt;xacml-ctx:Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; IncludeInResult=&quot;false&quot;&gt;\r\n          &lt;xacml-ctx:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/xacml-ctx:AttributeValue&gt;\r\n        &lt;/xacml-ctx:Attribute&gt;\r\n      &lt;/xacml-ctx:Attributes&gt;\r\n    &lt;/xacml-ctx:Request&gt;","title":"How does missing-attribute work in XACML?","body":"<p>First of all the supplied policy is incomplete.  It is missing the closing  tag and the Permit rule.  In my testing I added these and it &quot;works for me&quot; but since we do not know exactly what you have it is possible you have other mistakes.</p>\n<p>Your issue seems to be that you copy/pasted the attributes in the policy and are using the wrong category for subject-id.  It should be:</p>\n<blockquote>\n<p>urn:oasis:names:tc:xacml:1.0:subject-category:access-subject</p>\n</blockquote>\n<p>instead of:</p>\n<blockquote>\n<p>urn:oasis:names:tc:xacml:3.0:subject-category:access-subject</p>\n</blockquote>\n<p>So yes the request is missing the required subject-id attribute since the request is using a different category for subject-id than what is defined in the policy.</p>\n<p>When I use the below corrected policy and request I do get a Permit.  Note that I am not using Balana but you should see the same results.</p>\n<p>Policy:</p>\n<pre><code>&lt;xacml3:Policy xmlns:xacml3=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot; PolicyId=&quot;NormalMode&quot; Version=&quot;1&quot; RuleCombiningAlgId=&quot;urn:oasis:names:tc:xacml:3.0:rule-combining-algorithm:deny-overrides&quot;&gt;\n  &lt;xacml3:Description&gt;Medical Records access control policy in Normal operational Mode&lt;/xacml3:Description&gt;\n  &lt;xacml3:PolicyDefaults&gt;\n    &lt;xacml3:XPathVersion&gt;http://www.w3.org/TR/1999/REC-xpath-19991116&lt;/xacml3:XPathVersion&gt;\n  &lt;/xacml3:PolicyDefaults&gt;\n  &lt;xacml3:Target/&gt;\n  &lt;xacml3:Rule RuleId=&quot;doctors&quot; Effect=&quot;Deny&quot;&gt;\n    &lt;xacml3:Target&gt;\n      &lt;xacml3:AnyOf&gt;\n        &lt;xacml3:AllOf&gt;\n          &lt;xacml3:Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\n            &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;PersonalData&lt;/xacml3:AttributeValue&gt;\n            &lt;xacml3:AttributeDesignator Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot;/&gt;\n          &lt;/xacml3:Match&gt;\n          &lt;xacml3:Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\n            &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/xacml3:AttributeValue&gt;\n            &lt;xacml3:AttributeDesignator Category=&quot;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;false&quot;/&gt;\n          &lt;/xacml3:Match&gt;\n          &lt;xacml3:Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\n            &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/xacml3:AttributeValue&gt;\n            &lt;xacml3:AttributeDesignator Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot; AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot;/&gt;\n          &lt;/xacml3:Match&gt;\n        &lt;/xacml3:AllOf&gt;\n      &lt;/xacml3:AnyOf&gt;\n    &lt;/xacml3:Target&gt;\n    &lt;xacml3:AdviceExpressions&gt;\n      &lt;xacml3:AdviceExpression AdviceId=&quot;doctors_advice&quot; AppliesTo=&quot;Deny&quot;&gt;\n        &lt;xacml3:AttributeAssignmentExpression AttributeId=&quot;urn:oasis:names:tc:xacml:2.0:example:attribute:text&quot; Category=&quot;http://axiomatics.com/ObligationAndAdvice/DefaultCategory&quot;&gt;\n          &lt;xacml3:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;Doctors are not allowed to see Personal Data&lt;/xacml3:AttributeValue&gt;\n        &lt;/xacml3:AttributeAssignmentExpression&gt;\n      &lt;/xacml3:AdviceExpression&gt;\n    &lt;/xacml3:AdviceExpressions&gt;\n  &lt;/xacml3:Rule&gt;\n  &lt;xacml3:Rule RuleId=&quot;d3a90374-79e6-47e6-9cfd-f3e23f737c99&quot; Effect=&quot;Permit&quot;&gt;\n    &lt;xacml3:Description&gt;Rule description&lt;/xacml3:Description&gt;\n    &lt;xacml3:Target/&gt;\n  &lt;/xacml3:Rule&gt;\n&lt;/xacml3:Policy&gt;\n</code></pre>\n<p>Request:</p>\n<pre><code>&lt;xacml-ctx:Request ReturnPolicyIdList=&quot;true&quot; CombinedDecision=&quot;false&quot; xmlns:xacml-ctx=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot;&gt;\n  &lt;xacml-ctx:RequestDefaults&gt;\n    &lt;xacml-ctx:XPathVersion&gt;http://www.w3.org/TR/1999/REC-xpath-19991116&lt;/xacml-ctx:XPathVersion&gt;\n  &lt;/xacml-ctx:RequestDefaults&gt;\n  &lt;xacml-ctx:Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot;&gt;\n    &lt;xacml-ctx:Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; IncludeInResult=&quot;false&quot;&gt;\n      &lt;xacml-ctx:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;NameSurname&lt;/xacml-ctx:AttributeValue&gt;\n    &lt;/xacml-ctx:Attribute&gt;\n  &lt;/xacml-ctx:Attributes&gt;\n  &lt;xacml-ctx:Attributes Category=&quot;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&quot;&gt;\n    &lt;xacml-ctx:Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; IncludeInResult=&quot;false&quot;&gt;\n      &lt;xacml-ctx:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/xacml-ctx:AttributeValue&gt;\n    &lt;/xacml-ctx:Attribute&gt;\n  &lt;/xacml-ctx:Attributes&gt;\n  &lt;xacml-ctx:Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot;&gt;\n    &lt;xacml-ctx:Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; IncludeInResult=&quot;false&quot;&gt;\n      &lt;xacml-ctx:AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/xacml-ctx:AttributeValue&gt;\n    &lt;/xacml-ctx:Attribute&gt;\n  &lt;/xacml-ctx:Attributes&gt;\n&lt;/xacml-ctx:Request&gt;\n</code></pre>\n"}],"owner":{"account_id":15831166,"reputation":33,"user_id":11422437,"display_name":"enrico_steez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70865560,"answer_count":1,"score":0,"last_activity_date":1643212546,"creation_date":1643156764,"question_id":70857380,"body_markdown":"I am doing an access control application using XACML and, specifically, the Balana implementation for the PDP.\r\n\r\nIn this application, specific types of user accounts can access only determinate resources.\r\nThis is a reduced version of the Policy:\r\n```xml\r\n&lt;Policy xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot; PolicyId=&quot;NormalMode&quot; RuleCombiningAlgId=&quot;urn:oasis:names:tc:xacml:3.0:rule-combining-algorithm:deny-overrides&quot; Version=&quot;1.0&quot;&gt;\r\n    &lt;Description&gt;Medical Records access control policy in Normal operational Mode&lt;/Description&gt;\r\n    &lt;Target /&gt;\r\n    &lt;Rule Effect=&quot;Deny&quot; RuleId=&quot;doctors&quot;&gt;\r\n        &lt;Target&gt;\r\n            &lt;AnyOf&gt;\r\n                &lt;AllOf&gt;\r\n                    &lt;Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\r\n                        &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;PersonalData&lt;/AttributeValue&gt;\r\n                        &lt;AttributeDesignator AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot; /&gt;\r\n                    &lt;/Match&gt;\r\n                    &lt;Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\r\n                        &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/AttributeValue&gt;\r\n                        &lt;AttributeDesignator AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:access-subject&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot; /&gt;\r\n                    &lt;/Match&gt;\r\n                    &lt;Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\r\n                        &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/AttributeValue&gt;\r\n                        &lt;AttributeDesignator AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot; /&gt;\r\n                    &lt;/Match&gt;\r\n                &lt;/AllOf&gt;\r\n            &lt;/AnyOf&gt;\r\n        &lt;/Target&gt;\r\n        &lt;AdviceExpressions&gt;\r\n            &lt;AdviceExpression AdviceId=&quot;doctors_advice&quot; AppliesTo=&quot;Deny&quot;&gt;\r\n                &lt;AttributeAssignmentExpression AttributeId=&quot;urn:oasis:names:tc:xacml:2.0:example:attribute:text&quot;&gt;\r\n                    &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;Doctors are not allowed to see Personal Data&lt;/AttributeValue&gt;\r\n                &lt;/AttributeAssignmentExpression&gt;\r\n            &lt;/AdviceExpression&gt;\r\n        &lt;/AdviceExpressions&gt;\r\n    &lt;/Rule&gt;\r\n&lt;Rule RuleId=&quot;permit-rule&quot; Effect=&quot;Permit&quot; /&gt;\r\n&lt;/Policy&gt;\r\n```\r\nIn reality there are many more rules that cover all account types and all resource types, but they all have the same structure: the target is a subject-id (type of account), trying to access one [or more] resource[s] through an action. All the rules are with &quot;Deny&quot; effect, since the combining algorithm is &quot;Deny-Overrides&quot;.\r\nAt the end of all the rules, there is a general rule that grants access to everyone to anything with any action (I know this is not the best approach and in the future I will switch to a &quot;least privilege&quot; approach).\r\nIf a request matches any of the deny rules (along with the last &quot;Permit&quot; rule), the final decision will be &quot;Deny&quot;, otherwise only the last rule will be a match and the decision will be &quot;Permit&quot;, instead.\r\n\r\nThe following is a request generated by the PEP to the Balana PDP:\r\n```xml\r\n    &lt;Request xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot; CombinedDecision=&quot;false&quot; ReturnPolicyIdList=&quot;false&quot;&gt;\r\n        &lt;Attributes Category=&quot;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&quot;&gt;\r\n            &lt;Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; IncludeInResult=&quot;false&quot;&gt;\r\n                &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/AttributeValue&gt;\r\n            &lt;/Attribute&gt;\r\n        &lt;/Attributes&gt;\r\n        &lt;Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot;&gt;\r\n            &lt;Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; IncludeInResult=&quot;false&quot;&gt;\r\n                &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;NameSurname&lt;/AttributeValue&gt;\r\n            &lt;/Attribute&gt;\r\n        &lt;/Attributes&gt;\r\n        &lt;Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot;&gt;\r\n            &lt;Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; IncludeInResult=&quot;false&quot;&gt;\r\n                &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/AttributeValue&gt;\r\n            &lt;/Attribute&gt;\r\n        &lt;/Attributes&gt;\r\n    &lt;/Request&gt;\r\n```\r\n\r\nThe decision of the PDP with this specific request should be &quot;Permit&quot;, since it does not match the first rule due to the requested resource-id and it will match only the last Permit rule.\r\n\r\nNow, the issue is that, regardless of the request I send, the outcome of the PDP decision is the following:\r\n\r\n```xml\r\n    &lt;Response xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot;&gt;\r\n    &lt;Result&gt;\r\n        &lt;Decision&gt;Indeterminate&lt;/Decision&gt;\r\n        &lt;Status&gt;\r\n            &lt;StatusCode Value=&quot;urn:oasis:names:tc:xacml:1.0:status:missing-attribute&quot; /&gt;\r\n            &lt;StatusMessage&gt;Couldn&#39;t find AttributeDesignator attribute&lt;/StatusMessage&gt;\r\n            &lt;StatusDetail&gt;\r\n                &lt;MissingAttributeDetail AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:access-subject&quot;&gt;&lt;/MissingAttributeDetail&gt;\r\n            &lt;/StatusDetail&gt;\r\n        &lt;/Status&gt;\r\n    &lt;/Result&gt;\r\n&lt;/Response&gt;\r\n```\r\nAnd I have no clue why.\r\n\r\nhttps://docs.oasis-open.org/xacml/3.0/xacml-3.0-core-spec-cd-1-en.html\r\n\r\n\r\nThe XACML docs say that it&#39;s due to &quot;The absence of matching attributes in the request context for any of the attribute designators attribute or selectors that are found in the policy&quot; but I don&#39;t see why, since the last rule should always be a match.\r\n(This policy &quot;format&quot; is taken by the official Balana Github repository:\r\nhttps://github.com/wso2/balana/blob/master/modules/balana-samples/kmarket-trading-sample/resources/kmarket-blue-policy.xml)","title":"How does missing-attribute work in XACML?","body":"<p>I am doing an access control application using XACML and, specifically, the Balana implementation for the PDP.</p>\n<p>In this application, specific types of user accounts can access only determinate resources.\nThis is a reduced version of the Policy:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Policy xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot; PolicyId=&quot;NormalMode&quot; RuleCombiningAlgId=&quot;urn:oasis:names:tc:xacml:3.0:rule-combining-algorithm:deny-overrides&quot; Version=&quot;1.0&quot;&gt;\n    &lt;Description&gt;Medical Records access control policy in Normal operational Mode&lt;/Description&gt;\n    &lt;Target /&gt;\n    &lt;Rule Effect=&quot;Deny&quot; RuleId=&quot;doctors&quot;&gt;\n        &lt;Target&gt;\n            &lt;AnyOf&gt;\n                &lt;AllOf&gt;\n                    &lt;Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\n                        &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;PersonalData&lt;/AttributeValue&gt;\n                        &lt;AttributeDesignator AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot; /&gt;\n                    &lt;/Match&gt;\n                    &lt;Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\n                        &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/AttributeValue&gt;\n                        &lt;AttributeDesignator AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:access-subject&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot; /&gt;\n                    &lt;/Match&gt;\n                    &lt;Match MatchId=&quot;urn:oasis:names:tc:xacml:1.0:function:string-equal&quot;&gt;\n                        &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/AttributeValue&gt;\n                        &lt;AttributeDesignator AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; MustBePresent=&quot;true&quot; /&gt;\n                    &lt;/Match&gt;\n                &lt;/AllOf&gt;\n            &lt;/AnyOf&gt;\n        &lt;/Target&gt;\n        &lt;AdviceExpressions&gt;\n            &lt;AdviceExpression AdviceId=&quot;doctors_advice&quot; AppliesTo=&quot;Deny&quot;&gt;\n                &lt;AttributeAssignmentExpression AttributeId=&quot;urn:oasis:names:tc:xacml:2.0:example:attribute:text&quot;&gt;\n                    &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;Doctors are not allowed to see Personal Data&lt;/AttributeValue&gt;\n                &lt;/AttributeAssignmentExpression&gt;\n            &lt;/AdviceExpression&gt;\n        &lt;/AdviceExpressions&gt;\n    &lt;/Rule&gt;\n&lt;Rule RuleId=&quot;permit-rule&quot; Effect=&quot;Permit&quot; /&gt;\n&lt;/Policy&gt;\n</code></pre>\n<p>In reality there are many more rules that cover all account types and all resource types, but they all have the same structure: the target is a subject-id (type of account), trying to access one [or more] resource[s] through an action. All the rules are with &quot;Deny&quot; effect, since the combining algorithm is &quot;Deny-Overrides&quot;.\nAt the end of all the rules, there is a general rule that grants access to everyone to anything with any action (I know this is not the best approach and in the future I will switch to a &quot;least privilege&quot; approach).\nIf a request matches any of the deny rules (along with the last &quot;Permit&quot; rule), the final decision will be &quot;Deny&quot;, otherwise only the last rule will be a match and the decision will be &quot;Permit&quot;, instead.</p>\n<p>The following is a request generated by the PEP to the Balana PDP:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;Request xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot; CombinedDecision=&quot;false&quot; ReturnPolicyIdList=&quot;false&quot;&gt;\n        &lt;Attributes Category=&quot;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&quot;&gt;\n            &lt;Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; IncludeInResult=&quot;false&quot;&gt;\n                &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;DOCTOR&lt;/AttributeValue&gt;\n            &lt;/Attribute&gt;\n        &lt;/Attributes&gt;\n        &lt;Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&quot;&gt;\n            &lt;Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:resource:resource-id&quot; IncludeInResult=&quot;false&quot;&gt;\n                &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;NameSurname&lt;/AttributeValue&gt;\n            &lt;/Attribute&gt;\n        &lt;/Attributes&gt;\n        &lt;Attributes Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:action&quot;&gt;\n            &lt;Attribute AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:action:action-id&quot; IncludeInResult=&quot;false&quot;&gt;\n                &lt;AttributeValue DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot;&gt;read&lt;/AttributeValue&gt;\n            &lt;/Attribute&gt;\n        &lt;/Attributes&gt;\n    &lt;/Request&gt;\n</code></pre>\n<p>The decision of the PDP with this specific request should be &quot;Permit&quot;, since it does not match the first rule due to the requested resource-id and it will match only the last Permit rule.</p>\n<p>Now, the issue is that, regardless of the request I send, the outcome of the PDP decision is the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;Response xmlns=&quot;urn:oasis:names:tc:xacml:3.0:core:schema:wd-17&quot;&gt;\n    &lt;Result&gt;\n        &lt;Decision&gt;Indeterminate&lt;/Decision&gt;\n        &lt;Status&gt;\n            &lt;StatusCode Value=&quot;urn:oasis:names:tc:xacml:1.0:status:missing-attribute&quot; /&gt;\n            &lt;StatusMessage&gt;Couldn't find AttributeDesignator attribute&lt;/StatusMessage&gt;\n            &lt;StatusDetail&gt;\n                &lt;MissingAttributeDetail AttributeId=&quot;urn:oasis:names:tc:xacml:1.0:subject:subject-id&quot; DataType=&quot;http://www.w3.org/2001/XMLSchema#string&quot; Category=&quot;urn:oasis:names:tc:xacml:3.0:attribute-category:access-subject&quot;&gt;&lt;/MissingAttributeDetail&gt;\n            &lt;/StatusDetail&gt;\n        &lt;/Status&gt;\n    &lt;/Result&gt;\n&lt;/Response&gt;\n</code></pre>\n<p>And I have no clue why.</p>\n<p><a href=\"https://docs.oasis-open.org/xacml/3.0/xacml-3.0-core-spec-cd-1-en.html\" rel=\"nofollow noreferrer\">https://docs.oasis-open.org/xacml/3.0/xacml-3.0-core-spec-cd-1-en.html</a></p>\n<p>The XACML docs say that it's due to &quot;The absence of matching attributes in the request context for any of the attribute designators attribute or selectors that are found in the policy&quot; but I don't see why, since the last rule should always be a match.\n(This policy &quot;format&quot; is taken by the official Balana Github repository:\n<a href=\"https://github.com/wso2/balana/blob/master/modules/balana-samples/kmarket-trading-sample/resources/kmarket-blue-policy.xml\" rel=\"nofollow noreferrer\">https://github.com/wso2/balana/blob/master/modules/balana-samples/kmarket-trading-sample/resources/kmarket-blue-policy.xml</a>)</p>\n"},{"tags":["java","android","button","crash"],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643212212,"creation_date":1643153354,"answer_id":70856997,"question_id":70853999,"body_markdown":"Caused by: java.lang.ClassCastException: androidx.gridlayout.widget.GridLayout cannot be cast to android.widget.GridLayout\r\n        at com.example.tictactoe.MainActivity.playAgain(MainActivity.java:95)\r\n\r\nFix this class cast exception.\r\n\r\n\r\nedit:\r\n\r\n    GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\r\n                                             ^\r\n                                         This thing\r\n\r\nI don&#39;t work with this framework.\r\n\r\nIf you&#39;ve written `findViewById` ... maybe it&#39;s returning the wrong type somehow ... like maybe that thing returns `andoidX.bladibla.gridLayout` instead of `android.bladibla.gridlayout` so check that.\r\n\r\nthere&#39;s also \r\n\r\n`import androidx.appcompat.app.AppCompatActivity;`\r\n\r\nwhich is at the top of your example. it has an X in it... so maybe see what&#39;s up with that.\r\n\r\nAt any rate... that there is your problem... the class cast. that&#39;s what you have to look into.\r\n\r\n","title":"Whenever i click on playAgain button the app get crashed","body":"<p>Caused by: java.lang.ClassCastException: androidx.gridlayout.widget.GridLayout cannot be cast to android.widget.GridLayout\nat com.example.tictactoe.MainActivity.playAgain(MainActivity.java:95)</p>\n<p>Fix this class cast exception.</p>\n<p>edit:</p>\n<pre><code>GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\n                                         ^\n                                     This thing\n</code></pre>\n<p>I don't work with this framework.</p>\n<p>If you've written <code>findViewById</code> ... maybe it's returning the wrong type somehow ... like maybe that thing returns <code>andoidX.bladibla.gridLayout</code> instead of <code>android.bladibla.gridlayout</code> so check that.</p>\n<p>there's also</p>\n<p><code>import androidx.appcompat.app.AppCompatActivity;</code></p>\n<p>which is at the top of your example. it has an X in it... so maybe see what's up with that.</p>\n<p>At any rate... that there is your problem... the class cast. that's what you have to look into.</p>\n"}],"owner":{"account_id":22311223,"reputation":3,"user_id":16535181,"display_name":"Sarang Deshmukh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70856997,"answer_count":1,"score":0,"last_activity_date":1643212212,"creation_date":1643136083,"question_id":70853999,"body_markdown":"**Java**\r\nI am new to Android Development and I am developing simple tic Tac Toe game. When I click on button the app get crashed. It is a cross and circle game, one who matches three continuous crosses or circles wins. After completion of a game the Textview and Button shows up. The aim is after tapping on play again button the game should restart. Here is the code in Java.\r\n\r\n    package com.example.tictactoe;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.GridLayout;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        int[] gameState = {2, 2, 2, 2, 2, 2, 2, 2, 2};\r\n    \r\n        int[][] winningPositions = {{0, 1, 2}, {3, 4, 5}, {6, 7, 8}, {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, {0, 4, 8}, {2, 4, 6}};\r\n    \r\n        int activePlayer = 0;\r\n    \r\n        boolean gameActive = true;\r\n    \r\n        public void dropIn(View view) {\r\n    \r\n            ImageView counter = (ImageView) view;\r\n    \r\n            int tappedCounter = Integer.parseInt(counter.getTag().toString());\r\n    \r\n            if (gameState[tappedCounter] == 2 &amp;&amp; gameActive) {\r\n    \r\n                gameState[tappedCounter] = activePlayer;\r\n    \r\n                counter.setTranslationY(-1500);\r\n    \r\n                if (activePlayer == 0) {\r\n    \r\n                    counter.setImageResource(R.drawable.o);\r\n                    activePlayer = 1;\r\n    \r\n                } else {\r\n                    counter.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                }\r\n    \r\n                counter.animate().translationYBy(1500).rotation(3600).setDuration(300);\r\n    \r\n                for (int[] winningPosition : winningPositions) {\r\n    \r\n                    if (gameState[winningPosition[0]] == gameState[winningPosition[1]] &amp;&amp; gameState[winningPosition[1]] == gameState[winningPosition[2]] &amp;&amp; gameState[winningPosition[0]] != 2) {\r\n    \r\n                        // Somone has won!\r\n    \r\n                        gameActive = false;\r\n    \r\n                        String winner = &quot;&quot;;\r\n    \r\n                        if (activePlayer == 1) {\r\n    \r\n                            winner = &quot;Circle&quot;;\r\n    \r\n                        } else {\r\n    \r\n                            winner = &quot;Cross&quot;;\r\n    \r\n                        }\r\n    \r\n                        Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\r\n    \r\n                        TextView winnerTextView = (TextView) findViewById(R.id.winnerTextView);\r\n    \r\n                        winnerTextView.setText(winner + &quot; has won!&quot;);\r\n    \r\n                        playAgainButton.setVisibility(View.VISIBLE);\r\n    \r\n                        winnerTextView.setVisibility(View.VISIBLE);\r\n    \r\n                    }\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n        public void playAgain(View view) {\r\n    \r\n            Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\r\n    \r\n            TextView winnerTextView = (TextView) findViewById(R.id.winnerTextView);\r\n    \r\n            playAgainButton.setVisibility(View.INVISIBLE);\r\n    \r\n            winnerTextView.setVisibility(View.INVISIBLE);\r\n    \r\n            GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\r\n    \r\n            for(int i=0; i&lt;gridLayout.getChildCount(); i++) {\r\n    \r\n                ImageView counter = (ImageView) gridLayout.getChildAt(i);\r\n    \r\n                counter.setImageDrawable(null);\r\n    \r\n            }\r\n    \r\n            for (int i=0; i&lt;gameState.length; i++) {\r\n    \r\n                gameState[i] = 2;\r\n    \r\n            }\r\n    \r\n            activePlayer = 0;\r\n    \r\n            gameActive = true;\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\nLogcat when button is clicked.\r\n\r\n    2022-01-26 00:03:53.763 11101-11101/com.example.tictactoe E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.tictactoe, PID: 11101\r\n        java.lang.IllegalStateException: Could not execute method for android:onClick\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:446)\r\n            at android.view.View.performClick(View.java:7448)\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n            at android.view.View.performClickInternal(View.java:7425)\r\n            at android.view.View.access$3600(View.java:810)\r\n            at android.view.View$PerformClick.run(View.java:28305)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)\r\n            at android.view.View.performClick(View.java:7448)&#160;\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n            at android.view.View.performClickInternal(View.java:7425)&#160;\r\n            at android.view.View.access$3600(View.java:810)&#160;\r\n            at android.view.View$PerformClick.run(View.java:28305)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n            at android.os.Looper.loop(Looper.java:223)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n         Caused by: java.lang.ClassCastException: androidx.gridlayout.widget.GridLayout cannot be cast to android.widget.GridLayout\r\n            at com.example.tictactoe.MainActivity.playAgain(MainActivity.java:95)\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)&#160;\r\n            at android.view.View.performClick(View.java:7448)&#160;\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n            at android.view.View.performClickInternal(View.java:7425)&#160;\r\n            at android.view.View.access$3600(View.java:810)&#160;\r\n            at android.view.View$PerformClick.run(View.java:28305)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n            at android.os.Looper.loop(Looper.java:223)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n\r\nAnd here is the XML for button.\r\n\r\n    &lt;Button\r\n            android:id=&quot;@+id/playAgainButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;162dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginEnd=&quot;162dp&quot;\r\n            android:layout_marginBottom=&quot;21dp&quot;\r\n            android:onClick=&quot;playAgain&quot;\r\n            android:text=&quot;Play Again&quot;\r\n            android:visibility=&quot;invisible&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/gridLayout&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/winnerTextView&quot; /&gt;\r\n\r\n\r\nI&#39;m not sure how to go about fixing this, after tapping on Play Again button the game should restart. so hopefully someone can help. Thanks.\r\n","title":"Whenever i click on playAgain button the app get crashed","body":"<p><strong>Java</strong>\nI am new to Android Development and I am developing simple tic Tac Toe game. When I click on button the app get crashed. It is a cross and circle game, one who matches three continuous crosses or circles wins. After completion of a game the Textview and Button shows up. The aim is after tapping on play again button the game should restart. Here is the code in Java.</p>\n<pre><code>package com.example.tictactoe;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.GridLayout;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    int[] gameState = {2, 2, 2, 2, 2, 2, 2, 2, 2};\n\n    int[][] winningPositions = {{0, 1, 2}, {3, 4, 5}, {6, 7, 8}, {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, {0, 4, 8}, {2, 4, 6}};\n\n    int activePlayer = 0;\n\n    boolean gameActive = true;\n\n    public void dropIn(View view) {\n\n        ImageView counter = (ImageView) view;\n\n        int tappedCounter = Integer.parseInt(counter.getTag().toString());\n\n        if (gameState[tappedCounter] == 2 &amp;&amp; gameActive) {\n\n            gameState[tappedCounter] = activePlayer;\n\n            counter.setTranslationY(-1500);\n\n            if (activePlayer == 0) {\n\n                counter.setImageResource(R.drawable.o);\n                activePlayer = 1;\n\n            } else {\n                counter.setImageResource(R.drawable.x);\n                activePlayer = 0;\n            }\n\n            counter.animate().translationYBy(1500).rotation(3600).setDuration(300);\n\n            for (int[] winningPosition : winningPositions) {\n\n                if (gameState[winningPosition[0]] == gameState[winningPosition[1]] &amp;&amp; gameState[winningPosition[1]] == gameState[winningPosition[2]] &amp;&amp; gameState[winningPosition[0]] != 2) {\n\n                    // Somone has won!\n\n                    gameActive = false;\n\n                    String winner = &quot;&quot;;\n\n                    if (activePlayer == 1) {\n\n                        winner = &quot;Circle&quot;;\n\n                    } else {\n\n                        winner = &quot;Cross&quot;;\n\n                    }\n\n                    Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\n\n                    TextView winnerTextView = (TextView) findViewById(R.id.winnerTextView);\n\n                    winnerTextView.setText(winner + &quot; has won!&quot;);\n\n                    playAgainButton.setVisibility(View.VISIBLE);\n\n                    winnerTextView.setVisibility(View.VISIBLE);\n\n                }\n\n            }\n        }\n    }\n\n    public void playAgain(View view) {\n\n        Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\n\n        TextView winnerTextView = (TextView) findViewById(R.id.winnerTextView);\n\n        playAgainButton.setVisibility(View.INVISIBLE);\n\n        winnerTextView.setVisibility(View.INVISIBLE);\n\n        GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\n\n        for(int i=0; i&lt;gridLayout.getChildCount(); i++) {\n\n            ImageView counter = (ImageView) gridLayout.getChildAt(i);\n\n            counter.setImageDrawable(null);\n\n        }\n\n        for (int i=0; i&lt;gameState.length; i++) {\n\n            gameState[i] = 2;\n\n        }\n\n        activePlayer = 0;\n\n        gameActive = true;\n\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p>Logcat when button is clicked.</p>\n<pre><code>2022-01-26 00:03:53.763 11101-11101/com.example.tictactoe E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.tictactoe, PID: 11101\n    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:446)\n        at android.view.View.performClick(View.java:7448)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)\n        at android.view.View.performClick(View.java:7448)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.ClassCastException: androidx.gridlayout.widget.GridLayout cannot be cast to android.widget.GridLayout\n        at com.example.tictactoe.MainActivity.playAgain(MainActivity.java:95)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)\n        at android.view.View.performClick(View.java:7448)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>And here is the XML for button.</p>\n<pre><code>&lt;Button\n        android:id=&quot;@+id/playAgainButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;162dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;162dp&quot;\n        android:layout_marginBottom=&quot;21dp&quot;\n        android:onClick=&quot;playAgain&quot;\n        android:text=&quot;Play Again&quot;\n        android:visibility=&quot;invisible&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/gridLayout&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/winnerTextView&quot; /&gt;\n</code></pre>\n<p>I'm not sure how to go about fixing this, after tapping on Play Again button the game should restart. so hopefully someone can help. Thanks.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8346,"page":1646,"page_size":100}
