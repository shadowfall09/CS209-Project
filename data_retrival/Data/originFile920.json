{"items":[{"tags":["java","inheritance","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667183952,"creation_date":1667183952,"answer_id":74258262,"question_id":74258230,"body_markdown":"If you have Guava, you can get a mapped view like this:\r\n\r\n    Maps.transformValues(SuperClass:copyOf)\r\n\r\nOtherwise, I&#39;d say your way is fine. Or you might prefer this:\r\n\r\n    Map&lt;String, SuperClass&gt; superClassMap = new HashMap&lt;&gt;();\r\n    subclass.forEach((k, v) -&gt; superClassMap.put(k, SuperClass.copyOf(v)));","title":"Converting a Map of subclass values to map of SuperClass values","body":"<p>If you have Guava, you can get a mapped view like this:</p>\n<pre><code>Maps.transformValues(SuperClass:copyOf)\n</code></pre>\n<p>Otherwise, I'd say your way is fine. Or you might prefer this:</p>\n<pre><code>Map&lt;String, SuperClass&gt; superClassMap = new HashMap&lt;&gt;();\nsubclass.forEach((k, v) -&gt; superClassMap.put(k, SuperClass.copyOf(v)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667215154,"creation_date":1667185536,"answer_id":74258376,"question_id":74258230,"body_markdown":"To modify all the values of the map, you can use Java 8 method [`Map.replaceAll()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replaceAll(java.util.function.BiFunction)), which expects a `BiFunction` generating a *new value* based on the *previous value* and a *key*:\r\n\r\n```\r\nMap&lt;String, SuperClass&gt; superClass = new HashMap&lt;&gt;(subclass);\r\n\r\nsuperClass.replaceAll((k, v) -&gt; SuperClass.copyOf(v));\r\n```\r\n\r\n**Note:** [`HashMap`&#39;s copy-constructor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html#%3Cinit%3E(java.util.Map)) expects an argument of type `Map&lt;? extends K, ? extends V&gt;`, therefore we can provide a Map having *values* of **subtype** without issues owing to upper-bounded wild card.","title":"Converting a Map of subclass values to map of SuperClass values","body":"<p>To modify all the values of the map, you can use Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replaceAll(java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Map.replaceAll()</code></a>, which expects a <code>BiFunction</code> generating a <em>new value</em> based on the <em>previous value</em> and a <em>key</em>:</p>\n<pre><code>Map&lt;String, SuperClass&gt; superClass = new HashMap&lt;&gt;(subclass);\n\nsuperClass.replaceAll((k, v) -&gt; SuperClass.copyOf(v));\n</code></pre>\n<p><strong>Note:</strong> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html#%3Cinit%3E(java.util.Map)\" rel=\"nofollow noreferrer\"><code>HashMap</code>'s copy-constructor</a> expects an argument of type <code>Map&lt;? extends K, ? extends V&gt;</code>, therefore we can provide a Map having <em>values</em> of <strong>subtype</strong> without issues owing to upper-bounded wild card.</p>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74258262,"answer_count":2,"score":1,"last_activity_date":1667215154,"creation_date":1667183627,"question_id":74258230,"body_markdown":"I am converting a map containing sub class values to a map of super class values using the below listed approach. Is there a better / recommended way to achieve the same?\r\n\r\n    class SuperClass{\r\n        private String name;\r\n        // getters, setters and copyOf\r\n    }\r\n\r\n    class SubClass extends SuperClass {\r\n        private String id;\r\n        // getters and setters\r\n    }\r\n\r\n    Map&lt;String, SuperClass&gt; superClassMap = subclass\r\n      .entrySet()\r\n      .stream()\r\n      .collect(\r\n        Collectors.toMap(Entry::getKey, entry -&gt; SuperClass.copyOf(entry.getValue()))\r\n      );\r\n\r\n\r\nEDIT:\r\n\r\nBelow is the reverse operation that I am performing -\r\n\r\n```\r\nsuperClassMap\r\n      .entrySet()\r\n      .stream()\r\n      .collect(\r\n        Collectors.toMap(\r\n          Entry::getKey,\r\n          entry -&gt;\r\n            SubClass\r\n              .builder()\r\n              .setName(entry.getValue().getName())\r\n              .setId(anotherMap.get(entry.getKey()).getId())\r\n              .build()\r\n        )\r\n      );\r\n\r\n```","title":"Converting a Map of subclass values to map of SuperClass values","body":"<p>I am converting a map containing sub class values to a map of super class values using the below listed approach. Is there a better / recommended way to achieve the same?</p>\n<pre><code>class SuperClass{\n    private String name;\n    // getters, setters and copyOf\n}\n\nclass SubClass extends SuperClass {\n    private String id;\n    // getters and setters\n}\n\nMap&lt;String, SuperClass&gt; superClassMap = subclass\n  .entrySet()\n  .stream()\n  .collect(\n    Collectors.toMap(Entry::getKey, entry -&gt; SuperClass.copyOf(entry.getValue()))\n  );\n</code></pre>\n<p>EDIT:</p>\n<p>Below is the reverse operation that I am performing -</p>\n<pre><code>superClassMap\n      .entrySet()\n      .stream()\n      .collect(\n        Collectors.toMap(\n          Entry::getKey,\n          entry -&gt;\n            SubClass\n              .builder()\n              .setName(entry.getValue().getName())\n              .setId(anotherMap.get(entry.getKey()).getId())\n              .build()\n        )\n      );\n\n</code></pre>\n"},{"tags":["java","spring","pcf"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666949828,"post_id":74233282,"comment_id":131060542,"body_markdown":"It looks like you are copying records from a source to a destination. Do it in batches instead of all at once.","body":"It looks like you are copying records from a source to a destination. Do it in batches instead of all at once."},{"owner":{"account_id":26482932,"reputation":1,"user_id":20121916,"display_name":"QueenOfCode"},"score":0,"creation_date":1666950446,"post_id":74233282,"comment_id":131060765,"body_markdown":"Im copying data in batches of 500 records , Im getting error when fetching the records .","body":"Im copying data in batches of 500 records , Im getting error when fetching the records ."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666955692,"post_id":74233282,"comment_id":131062400,"body_markdown":"You are not copying in batches -- you are retrieving all the records at once.","body":"You are not copying in batches -- you are retrieving all the records at once."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667214934,"creation_date":1666950238,"answer_id":74233483,"question_id":74233282,"body_markdown":"Judging by method names, you copy from one table to another. Do it in batches using `LIMIT` and `OFFSET`. Simplified example:\r\n```\r\nSELECT *\r\nFROM table\r\nWHERE condition\r\nORDER BY column_which_ensures_last_added_data_is_fetched_last\r\nLIMIT 5\r\nOFFSET 0;\r\n```\r\nFor the next batch change the offset using the number of processed records. Refer to the [documentation][1] for more examples. `ORDER BY` a column so you get oldest data first, newest last to ensure you won&#39;t get duplicates. If primary key is auto incremented id, it&#39;s good choice for this purpose.\r\n\r\nIf you need the count for logging purposes either use `COUNT` function, or calculate number of processed entities using count of batches.\r\n```\r\nSELECT COUNT(*)\r\nFROM table\r\nWHERE condition;\r\n```\r\n\r\nAlgorithm pseudo code:\r\n```\r\nint processed = 0;\r\nList&lt;Map&lt;String, Object&gt;&gt; list = //fetch using above query, replace offset with processed\r\nwhile(!list.isEmpty()) {\r\n  //copy contents of list to target\r\n  //handle exceptions, data not inserted in target, etc.\r\n  processed += list.size();\r\n  list = //fetch using above query, replace offset with processed\r\n}\r\n```\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/select.html","title":"Resource exhaustion event: the JVM was unable to allocate memory from the heap","body":"<p>Judging by method names, you copy from one table to another. Do it in batches using <code>LIMIT</code> and <code>OFFSET</code>. Simplified example:</p>\n<pre><code>SELECT *\nFROM table\nWHERE condition\nORDER BY column_which_ensures_last_added_data_is_fetched_last\nLIMIT 5\nOFFSET 0;\n</code></pre>\n<p>For the next batch change the offset using the number of processed records. Refer to the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/select.html\" rel=\"nofollow noreferrer\">documentation</a> for more examples. <code>ORDER BY</code> a column so you get oldest data first, newest last to ensure you won't get duplicates. If primary key is auto incremented id, it's good choice for this purpose.</p>\n<p>If you need the count for logging purposes either use <code>COUNT</code> function, or calculate number of processed entities using count of batches.</p>\n<pre><code>SELECT COUNT(*)\nFROM table\nWHERE condition;\n</code></pre>\n<p>Algorithm pseudo code:</p>\n<pre><code>int processed = 0;\nList&lt;Map&lt;String, Object&gt;&gt; list = //fetch using above query, replace offset with processed\nwhile(!list.isEmpty()) {\n  //copy contents of list to target\n  //handle exceptions, data not inserted in target, etc.\n  processed += list.size();\n  list = //fetch using above query, replace offset with processed\n}\n</code></pre>\n"}],"owner":{"account_id":26482932,"reputation":1,"user_id":20121916,"display_name":"QueenOfCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667214934,"creation_date":1666949313,"question_id":74233282,"body_markdown":"\r\nI&#39;m trying to fetch more than 1 million records in the microservices. I&#39;m getting an error. I need to keep increasing the app memory for the service in order to fetch a huge amount of data. Is there any method I can use to fetch huge data instead of increasing the app memory.\r\n\r\n2022-10-11T11:22:04.898+08:00 [APP/PROC/WEB/0] [ERR] Resource exhaustion event: the JVM was unable to allocate memory from the heap.\r\n2022-10-11T11:22:04.898+08:00 [APP/PROC/WEB/0] [ERR] ResourceExhausted! (1/0)\r\n\r\n\r\n```\r\n\r\n\r\n    \t@Value(&quot;${batch-size}&quot;)\r\n    \tprivate int batchSize;\r\n    \r\n    public void archiveTableRecords(JdbcTemplate sourceDbTemplate, JdbcTemplate targetDbTemplate,\r\n    \tArchiveConfigDTO archiveObj) {\r\n    \t\ttry {\r\n    \t\t\tString sourceTable = archiveObj.getSourceTable();\r\n    \t\t\tString archive_months =archiveObj.getArchiveCriteriaMonths();\r\n    \t\t\tList&lt;Object&gt; primaryKeyValueList = new ArrayList&lt;&gt;();\r\n    \t\t\tString compareDate1 = getCSTDateNew(archive_months);\r\n    \t\t\tlogger.info(&quot;Archive criteria date: {}&quot;, compareDate1);\r\n    \t\t\tList&lt;Map&lt;String, Object&gt;&gt; sourceRecords = sourceDbTemplate\r\n    \t\t\t\t\t.queryForList(ArchiveSQLQueries.buildSQLQueryToFetchSourceRecords(sourceTable), compareDate1);\r\n    \t\t\tint sourceRecordsSize = sourceRecords.size();\r\n    \t\t\tlogger.info(&quot;Fetched {} {} record(s)&quot;, sourceRecords.size(), sourceTable);\r\n    \t\t\tif (sourceRecordsSize &gt; 0) {\r\n    \t\t\t\tint recordsInserted = copySourceRecords(targetDbTemplate, archiveObj.getTargetTable(),\r\n    \t\t\t\t\t\tarchiveObj.getPrimaryKeyColumn(), sourceRecords, primaryKeyValueList);\r\n    \t\t\t\tif (recordsInserted &gt; 0)\r\n    \t\t\t\t\tdeleteSourceRecords(sourceDbTemplate, sourceTable, archiveObj.getPrimaryKeyColumn(),\r\n    \t\t\t\t\t\t\tprimaryKeyValueList);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;Exception in archiveTableRecords: {} {}&quot;, e.getMessage(), e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    public static String buildSQLQueryToFetchSourceRecords(String sourceTable) {\r\n    \t\tStringBuilder sb = new StringBuilder(&quot;SELECT * FROM &quot; + sourceTable + &quot; where update_dts &lt;= ?&quot;);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \r\n    \tpublic int copySourceRecords(JdbcTemplate targetDbTemplate, String targetTable, String primaryKeyColumn,\r\n    \t\t\tList&lt;Map&lt;String, Object&gt;&gt; sourceRecords, List&lt;Object&gt; primaryKeyValueList) {\r\n    \t\tint result = 0;\r\n    \t\tlogger.info(&quot;Copying records to {}&quot;, targetTable);\r\n    \t\tint[][] insertResult = targetDbTemplate.batchUpdate(\r\n    \t\t\t\tArchiveSQLQueries.buildSQLTargetRecordInsertionQuery(targetTable, sourceRecords.get(0),\r\n    \t\t\t\t\t\tprimaryKeyColumn),\r\n    \t\t\t\tsourceRecords, batchSize, new ParameterizedPreparedStatementSetter&lt;Map&lt;String, Object&gt;&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void setValues(PreparedStatement ps, Map&lt;String, Object&gt; argument) throws SQLException {\r\n    \t\t\t\t\t\tint index = 1;\r\n    \r\n    \t\t\t\t\t\tfor (Entry&lt;String, Object&gt; obj : argument.entrySet()) {\r\n    \t\t\t\t\t\t\tif (obj.getKey().equals(primaryKeyColumn))\r\n    \t\t\t\t\t\t\t\tprimaryKeyValueList.add(obj.getValue());\r\n    \t\t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\t\tps.setObject(index++, obj.getValue());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\tresult = getSumOfArray(insertResult);\r\n    \t\tlogger.info(&quot;Inserted {} record(s) in {}&quot;, result, targetTable);\r\n    \t\treturn result;\r\n    \t}\r\n\r\nI have tried above code when fetching the data somehow i’m getting error .\r\n","title":"Resource exhaustion event: the JVM was unable to allocate memory from the heap","body":"<p>I'm trying to fetch more than 1 million records in the microservices. I'm getting an error. I need to keep increasing the app memory for the service in order to fetch a huge amount of data. Is there any method I can use to fetch huge data instead of increasing the app memory.</p>\n<p>2022-10-11T11:22:04.898+08:00 [APP/PROC/WEB/0] [ERR] Resource exhaustion event: the JVM was unable to allocate memory from the heap.\n2022-10-11T11:22:04.898+08:00 [APP/PROC/WEB/0] [ERR] ResourceExhausted! (1/0)</p>\n<pre><code>\n\n        @Value(&quot;${batch-size}&quot;)\n        private int batchSize;\n    \n    public void archiveTableRecords(JdbcTemplate sourceDbTemplate, JdbcTemplate targetDbTemplate,\n        ArchiveConfigDTO archiveObj) {\n            try {\n                String sourceTable = archiveObj.getSourceTable();\n                String archive_months =archiveObj.getArchiveCriteriaMonths();\n                List&lt;Object&gt; primaryKeyValueList = new ArrayList&lt;&gt;();\n                String compareDate1 = getCSTDateNew(archive_months);\n                logger.info(&quot;Archive criteria date: {}&quot;, compareDate1);\n                List&lt;Map&lt;String, Object&gt;&gt; sourceRecords = sourceDbTemplate\n                        .queryForList(ArchiveSQLQueries.buildSQLQueryToFetchSourceRecords(sourceTable), compareDate1);\n                int sourceRecordsSize = sourceRecords.size();\n                logger.info(&quot;Fetched {} {} record(s)&quot;, sourceRecords.size(), sourceTable);\n                if (sourceRecordsSize &gt; 0) {\n                    int recordsInserted = copySourceRecords(targetDbTemplate, archiveObj.getTargetTable(),\n                            archiveObj.getPrimaryKeyColumn(), sourceRecords, primaryKeyValueList);\n                    if (recordsInserted &gt; 0)\n                        deleteSourceRecords(sourceDbTemplate, sourceTable, archiveObj.getPrimaryKeyColumn(),\n                                primaryKeyValueList);\n                }\n            } catch (Exception e) {\n                logger.error(&quot;Exception in archiveTableRecords: {} {}&quot;, e.getMessage(), e);\n            }\n        }\n    \n    \n    public static String buildSQLQueryToFetchSourceRecords(String sourceTable) {\n            StringBuilder sb = new StringBuilder(&quot;SELECT * FROM &quot; + sourceTable + &quot; where update_dts &lt;= ?&quot;);\n            return sb.toString();\n        }\n    \n    \n        public int copySourceRecords(JdbcTemplate targetDbTemplate, String targetTable, String primaryKeyColumn,\n                List&lt;Map&lt;String, Object&gt;&gt; sourceRecords, List&lt;Object&gt; primaryKeyValueList) {\n            int result = 0;\n            logger.info(&quot;Copying records to {}&quot;, targetTable);\n            int[][] insertResult = targetDbTemplate.batchUpdate(\n                    ArchiveSQLQueries.buildSQLTargetRecordInsertionQuery(targetTable, sourceRecords.get(0),\n                            primaryKeyColumn),\n                    sourceRecords, batchSize, new ParameterizedPreparedStatementSetter&lt;Map&lt;String, Object&gt;&gt;() {\n                        @Override\n                        public void setValues(PreparedStatement ps, Map&lt;String, Object&gt; argument) throws SQLException {\n                            int index = 1;\n    \n                            for (Entry&lt;String, Object&gt; obj : argument.entrySet()) {\n                                if (obj.getKey().equals(primaryKeyColumn))\n                                    primaryKeyValueList.add(obj.getValue());\n                                else\n                                    ps.setObject(index++, obj.getValue());\n                            }\n                        }\n                    });\n    \n            result = getSumOfArray(insertResult);\n            logger.info(&quot;Inserted {} record(s) in {}&quot;, result, targetTable);\n            return result;\n        }\n\nI have tried above code when fetching the data somehow i’m getting error .\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","asynchronous","assertj"],"answers":[{"tags":[],"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568128729,"creation_date":1568119996,"answer_id":57871263,"question_id":57869463,"body_markdown":"Ok, I have a solution. The problem is not in async method, the problem is in wrong assertions. I didn&#39;t know AssertJ is able to test CompletableFuture.\r\n\r\nSo my solution is this:\r\n\r\n    @Test\r\n    public void user_null_expect_NullPointerException() {\r\n        final CompletableFuture&lt;Boolean&gt; result = getCompletedResult(null);\r\n\r\n        assertThat(result)\r\n                .isCompletedExceptionally()\r\n                .hasFailedWithThrowableThat()\r\n                .isInstanceOf(NullPointerException.class)\r\n                .hasMessage(&quot;user must not be null&quot;);\r\n    }\r\n\r\n    private CompletableFuture&lt;Boolean&gt; getCompletedResult(User user) {\r\n        final CompletableFuture&lt;Boolean&gt; result = tested.process(user);\r\n        await().atMost(10, TimeUnit.SECONDS).until(result::isDone);\r\n        return result;\r\n    }\r\n\r\nIf you have a better solution, let me know.","title":"Testing @Async annotated method in @SpringBootTest","body":"<p>Ok, I have a solution. The problem is not in async method, the problem is in wrong assertions. I didn't know AssertJ is able to test CompletableFuture.</p>\n\n<p>So my solution is this:</p>\n\n<pre><code>@Test\npublic void user_null_expect_NullPointerException() {\n    final CompletableFuture&lt;Boolean&gt; result = getCompletedResult(null);\n\n    assertThat(result)\n            .isCompletedExceptionally()\n            .hasFailedWithThrowableThat()\n            .isInstanceOf(NullPointerException.class)\n            .hasMessage(\"user must not be null\");\n}\n\nprivate CompletableFuture&lt;Boolean&gt; getCompletedResult(User user) {\n    final CompletableFuture&lt;Boolean&gt; result = tested.process(user);\n    await().atMost(10, TimeUnit.SECONDS).until(result::isDone);\n    return result;\n}\n</code></pre>\n\n<p>If you have a better solution, let me know.</p>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568518525,"creation_date":1568518525,"answer_id":57940945,"question_id":57869463,"body_markdown":"As you are unit testing your service class, there is no need to start a Spring context but you can instantiate your class directly, avoiding the proxying due to `@Async`. The test will be easier and faster.\r\n\r\n`@Async` belongs to the framework and usually framework features should not be in scope for unit testing (while they could be for component/integration testing).\r\n\r\nAlso suggested by a [Spring blog post][1]:\r\n\r\n&gt; The easiest way to unit test any Spring `@Component` is to not involve Spring at all! It’s always best to try and structure your code so that classes can be instantiated and tested directly. Usually that boils down to a few things:\r\n&gt;\r\n&gt;  *  Structure your code with clean separation of concerns so that individual parts can be unit tested. TDD is a good way to achieve this.\r\n&gt;  *  Use constructor injection to ensure that objects can be instantiated directly. Don’t use field injection as it just makes your tests harder to write.\r\n\r\n  [1]: https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4#testing-without-spring","title":"Testing @Async annotated method in @SpringBootTest","body":"<p>As you are unit testing your service class, there is no need to start a Spring context but you can instantiate your class directly, avoiding the proxying due to <code>@Async</code>. The test will be easier and faster.</p>\n\n<p><code>@Async</code> belongs to the framework and usually framework features should not be in scope for unit testing (while they could be for component/integration testing).</p>\n\n<p>Also suggested by a <a href=\"https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4#testing-without-spring\" rel=\"nofollow noreferrer\">Spring blog post</a>:</p>\n\n<blockquote>\n  <p>The easiest way to unit test any Spring <code>@Component</code> is to not involve Spring at all! It’s always best to try and structure your code so that classes can be instantiated and tested directly. Usually that boils down to a few things:</p>\n  \n  <ul>\n  <li>Structure your code with clean separation of concerns so that individual parts can be unit tested. TDD is a good way to achieve this.</li>\n  <li>Use constructor injection to ensure that objects can be instantiated directly. Don’t use field injection as it just makes your tests harder to write.</li>\n  </ul>\n</blockquote>\n"}],"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57871263,"answer_count":2,"score":2,"last_activity_date":1667214799,"creation_date":1568113437,"question_id":57869463,"body_markdown":"I have a service SomeService with one method to do some logic.\r\n\r\n    @Override\r\n    public CompletableFuture&lt;Boolean&gt; process(User user) {\r\n        Objects.requiredNonNull(user, &quot;user must not be null&quot;);\r\n        // other logic...\r\n    }\r\n\r\nThen I have a test for this.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { SomeService.class })\r\n    public class SomeServiceTest {\r\n        @Autowired private SomeService tested;\r\n        @Test\r\n        public void user_null_expect_NullPointerException() {\r\n            assertThatThrownBy(() -&gt; tested.process(null))\r\n                    .isInstanceOf(NullPointerException.class)\r\n                    .hasMessage(&quot;user must not be null&quot;);\r\n        }\r\n    }\r\n\r\nIt worked fine until I decided to make that method asynchronous.\r\n\r\n    @Async\r\n    @Override\r\n    public CompletableFuture&lt;Boolean&gt; process(User user) {\r\n        Objects.requiredNonNull(user, &quot;user must not be null&quot;);\r\n        // other logic...\r\n    }\r\n\r\nSo, now it doesn&#39;t work because of Spring proxies.\r\nDoes anyone have an idea how I must configure my test to make it work again?","title":"Testing @Async annotated method in @SpringBootTest","body":"<p>I have a service SomeService with one method to do some logic.</p>\n\n<pre><code>@Override\npublic CompletableFuture&lt;Boolean&gt; process(User user) {\n    Objects.requiredNonNull(user, \"user must not be null\");\n    // other logic...\n}\n</code></pre>\n\n<p>Then I have a test for this.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { SomeService.class })\npublic class SomeServiceTest {\n    @Autowired private SomeService tested;\n    @Test\n    public void user_null_expect_NullPointerException() {\n        assertThatThrownBy(() -&gt; tested.process(null))\n                .isInstanceOf(NullPointerException.class)\n                .hasMessage(\"user must not be null\");\n    }\n}\n</code></pre>\n\n<p>It worked fine until I decided to make that method asynchronous.</p>\n\n<pre><code>@Async\n@Override\npublic CompletableFuture&lt;Boolean&gt; process(User user) {\n    Objects.requiredNonNull(user, \"user must not be null\");\n    // other logic...\n}\n</code></pre>\n\n<p>So, now it doesn't work because of Spring proxies.\nDoes anyone have an idea how I must configure my test to make it work again?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1423809800,"post_id":28493856,"comment_id":45308006,"body_markdown":"which `id` do you want to convert from int to String?","body":"which <code>id</code> do you want to convert from int to String?"},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1423810006,"post_id":28493856,"comment_id":45308067,"body_markdown":"possible duplicate of http://stackoverflow.com/q/4105331/3898076","body":"possible duplicate of <a href=\"http://stackoverflow.com/q/4105331/3898076\">stackoverflow.com/q/4105331/3898076</a>"},{"owner":{"account_id":5751003,"reputation":51,"user_id":4540698,"accept_rate":80,"display_name":"KirbyD"},"score":0,"creation_date":1423810052,"post_id":28493856,"comment_id":45308089,"body_markdown":"aw okey ill try it later","body":"aw okey ill try it later"},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1423810206,"post_id":28493856,"comment_id":45308145,"body_markdown":"You can define another setter in your class which takes String as input and convert it to int and set the value of id. Same way create a getter which converts int into String (Integer.toString(id)) and return it.","body":"You can define another setter in your class which takes String as input and convert it to int and set the value of id. Same way create a getter which converts int into String (Integer.toString(id)) and return it."},{"owner":{"account_id":5751003,"reputation":51,"user_id":4540698,"accept_rate":80,"display_name":"KirbyD"},"score":0,"creation_date":1423810234,"post_id":28493856,"comment_id":45308151,"body_markdown":"i thought i can use int id=request.getParameter(&quot;userId&quot;); im wrong ...","body":"i thought i can use int id=request.getParameter(&quot;userId&quot;); im wrong ..."},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":1,"creation_date":1423810274,"post_id":28493856,"comment_id":45308160,"body_markdown":"You can not change the predefined methods such as request.getParameter(&quot;userId&quot;), you need to caste the result such as `Integer.parseInt(&quot;2&quot;);` (Need to handle the exceptions).","body":"You can not change the predefined methods such as request.getParameter(&quot;userId&quot;), you need to caste the result such as <code>Integer.parseInt(&quot;2&quot;);</code> (Need to handle the exceptions)."}],"answers":[{"tags":[],"owner":{"account_id":5302089,"reputation":96,"user_id":4231317,"display_name":"Cat Snacks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667214773,"creation_date":1423809862,"answer_id":28493942,"question_id":28493856,"body_markdown":"If you just need to use the int as a String\r\n\r\n    String s = String.valueOf(id);\r\n\r\nis what you want\r\n\r\n[`String.valueOf(int i)`][1] Returns the string representation of the int argument. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#valueOf(int)","title":"How to convert int to String?","body":"<p>If you just need to use the int as a String</p>\n<pre><code>String s = String.valueOf(id);\n</code></pre>\n<p>is what you want</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#valueOf(int)\" rel=\"nofollow noreferrer\"><code>String.valueOf(int i)</code></a> Returns the string representation of the int argument.</p>\n"},{"tags":[],"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1423811102,"creation_date":1423811102,"answer_id":28494219,"question_id":28493856,"body_markdown":"**Approach 1:**\r\nYou can caste the String in your controller\r\n\r\n\tString searchId = request.getParameter(&quot;userId&quot;);\r\n\tint id = Integer.parseInt(searchId); //Null check and NumberFormatException to be handled.\r\n\tsearchProduct.setPid(id);\r\n\r\n**Approach 2:**\r\nYou create methods in your entity class which takes String as input.\r\n\r\n\tprivate int id;\r\n\t\r\n\t/*Default getter setter*/\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n\t/*String based getter setter*/\r\n\tpublic String getIdStr() {\r\n\t\treturn Integer.toString(id);\r\n\t}\r\n\tpublic void setId(String id) throws NumberFormatException {\r\n\t\tthis.id = Integer.parseInt(id); // Null check to be added \r\n\t}\r\n\r\nUse it in your controller.\r\n\r\n    searchProduct.setId(searchId);  //searchId is String","title":"How to convert int to String?","body":"<p><strong>Approach 1:</strong>\nYou can caste the String in your controller</p>\n\n<pre><code>String searchId = request.getParameter(\"userId\");\nint id = Integer.parseInt(searchId); //Null check and NumberFormatException to be handled.\nsearchProduct.setPid(id);\n</code></pre>\n\n<p><strong>Approach 2:</strong>\nYou create methods in your entity class which takes String as input.</p>\n\n<pre><code>private int id;\n\n/*Default getter setter*/\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\n\n/*String based getter setter*/\npublic String getIdStr() {\n    return Integer.toString(id);\n}\npublic void setId(String id) throws NumberFormatException {\n    this.id = Integer.parseInt(id); // Null check to be added \n}\n</code></pre>\n\n<p>Use it in your controller.</p>\n\n<pre><code>searchProduct.setId(searchId);  //searchId is String\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5775406,"reputation":917,"user_id":4557595,"accept_rate":61,"display_name":"Charles Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423814104,"creation_date":1423813318,"answer_id":28494701,"question_id":28493856,"body_markdown":"From top, there are three replies.\r\n\r\n1st, `String s = String.valueOf(int)`. This is correct.\r\n\r\n2nd, `String z = &quot;&quot; + myInt`. This is workable but take more memory. (Not a good practice)\r\n\r\n3rd, `return Integer.toString(id);` Better use String.valueOf instead.\r\n\r\nSee \r\nhttps://stackoverflow.com/questions/5071040/java-convert-integer-to-string\r\n\r\nhttps://stackoverflow.com/questions/3335737/integer-tostringint-i-vs-string-valueofint-i\r\n\r\nThank you.","title":"How to convert int to String?","body":"<p>From top, there are three replies.</p>\n\n<p>1st, <code>String s = String.valueOf(int)</code>. This is correct.</p>\n\n<p>2nd, <code>String z = \"\" + myInt</code>. This is workable but take more memory. (Not a good practice)</p>\n\n<p>3rd, <code>return Integer.toString(id);</code> Better use String.valueOf instead.</p>\n\n<p>See \n<a href=\"https://stackoverflow.com/questions/5071040/java-convert-integer-to-string\">Java - Convert integer to string</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3335737/integer-tostringint-i-vs-string-valueofint-i\">Integer.toString(int i) vs String.valueOf(int i)</a></p>\n\n<p>Thank you.</p>\n"}],"owner":{"account_id":5751003,"reputation":51,"user_id":4540698,"accept_rate":80,"display_name":"KirbyD"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2826,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":28494219,"answer_count":3,"score":2,"last_activity_date":1667214773,"creation_date":1423809455,"question_id":28493856,"body_markdown":"how can i convert int to String so that i can getparameter?\r\n\r\nMy Controller\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/searchUsers&quot;)\r\n\tpublic String searchUsers(HttpServletRequest request, ModelMap map, \r\n\t\t\t@RequestParam(value = &quot;page&quot;, required = false) Integer page,\r\n\t\t\t@RequestParam(value = &quot;size&quot;, required = false) Integer size) {\r\n\t\tString searchId = request.getParameter(&quot;userId&quot;);\r\n\r\n\t\tString searchProductName = request.getParameter(&quot;productName&quot;);\r\n\t\tString searchQuantity = request.getParameter(&quot;quantity&quot;);\r\n\t\tString searchStock = request.getParameter(&quot;stock&quot;);\r\n\t\tString searchDate = request.getParameter(&quot;date&quot;);\r\n\r\n\t\t\r\n\t\tProduct searchProduct = new Product();\r\n\t\tsearchProduct.setPid(searchId);\r\n\t\tsearchProduct.setPname(searchProductName);\r\n\t\tsearchProduct.setPquantity(searchQuantity);\r\n\t\tsearchProduct.setPstock(searchStock);\r\n\t\tsearchProduct.setPdate(searchDate);\r\n\r\nMyClass\r\n\r\n    private int id;\r\n\t\r\n\t@Column(name=&quot;p_name&quot;)\r\n\tprivate String pname;\r\n\t\r\n\t@Column(name=&quot;p_quantity&quot;)\r\n\tprivate String pquantity;\r\n\r\n\r\nas you can see in my class i have int id use for autoincrement in my db.\r\nhow can i convert my Id to String without changing String Id in my class so that i can request.getParameter it in my controller??\r\n\r\nas you can see in my controller\r\nString searchId \r\nIt can not store in my database because it is set to String.\r\n\r\nso how can i convert my int Id to String?can someone help me. thanks in advance","title":"How to convert int to String?","body":"<p>how can i convert int to String so that i can getparameter?</p>\n\n<p>My Controller</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = \"/searchUsers\")\npublic String searchUsers(HttpServletRequest request, ModelMap map, \n        @RequestParam(value = \"page\", required = false) Integer page,\n        @RequestParam(value = \"size\", required = false) Integer size) {\n    String searchId = request.getParameter(\"userId\");\n\n    String searchProductName = request.getParameter(\"productName\");\n    String searchQuantity = request.getParameter(\"quantity\");\n    String searchStock = request.getParameter(\"stock\");\n    String searchDate = request.getParameter(\"date\");\n\n\n    Product searchProduct = new Product();\n    searchProduct.setPid(searchId);\n    searchProduct.setPname(searchProductName);\n    searchProduct.setPquantity(searchQuantity);\n    searchProduct.setPstock(searchStock);\n    searchProduct.setPdate(searchDate);\n</code></pre>\n\n<p>MyClass</p>\n\n<pre><code>private int id;\n\n@Column(name=\"p_name\")\nprivate String pname;\n\n@Column(name=\"p_quantity\")\nprivate String pquantity;\n</code></pre>\n\n<p>as you can see in my class i have int id use for autoincrement in my db.\nhow can i convert my Id to String without changing String Id in my class so that i can request.getParameter it in my controller??</p>\n\n<p>as you can see in my controller\nString searchId \nIt can not store in my database because it is set to String.</p>\n\n<p>so how can i convert my int Id to String?can someone help me. thanks in advance</p>\n"},{"tags":["java","struts2"],"comments":[{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":0,"creation_date":1374130393,"post_id":17716458,"comment_id":25821783,"body_markdown":"Have you tried debugging? Can you verify the file is being read from disk and indeed sent back to the response?","body":"Have you tried debugging? Can you verify the file is being read from disk and indeed sent back to the response?"},{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":1,"creation_date":1374130502,"post_id":17716458,"comment_id":25821838,"body_markdown":"Besides, it might be interesting to work with a `byte[]` instead of reading / writing one byte at a time, in order to increase performance.","body":"Besides, it might be interesting to work with a <code>byte[]</code> instead of reading / writing one byte at a time, in order to increase performance."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1374130593,"post_id":17716458,"comment_id":25821886,"body_markdown":"You should close your input stream in a finally block. If there is an I/O error for one reason or another and close() is not reached, you leak the file descriptor","body":"You should close your input stream in a finally block. If there is an I/O error for one reason or another and close() is not reached, you leak the file descriptor"},{"owner":{"account_id":3061746,"reputation":47,"user_id":2594235,"display_name":"user2594235"},"score":0,"creation_date":1374130811,"post_id":17716458,"comment_id":25821990,"body_markdown":"i have tried debugging, but nothing is there, no error","body":"i have tried debugging, but nothing is there, no error"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1374131077,"post_id":17716458,"comment_id":25822128,"body_markdown":"Are you using Java 7 or Java 6?","body":"Are you using Java 7 or Java 6?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1374229031,"post_id":17716458,"comment_id":25868824,"body_markdown":"possible duplicate of [ERROR: application/pdf is not a supported mime type](http://stackoverflow.com/questions/17721094/error-application-pdf-is-not-a-supported-mime-type)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/17721094/error-application-pdf-is-not-a-supported-mime-type\">ERROR: application/pdf is not a supported mime type</a>"}],"answers":[{"tags":[],"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374130969,"creation_date":1374130969,"answer_id":17716702,"question_id":17716458,"body_markdown":"try changing your code to something like this:\r\n\r\n    response.setContentType(&quot;application/force-download&quot;);\r\n    File f = new File (&quot;D:\\\\abc.pdf&quot;);\r\n    response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;abc.pdf\\&quot;&quot;);\r\n    InputStream inputStream = new FileInputStream(f);\r\n    BufferedOutputStream out =\r\n                    new BufferedOutputStream(response.getOutputStream());\r\n    byte by[] = new byte[32768];\r\n    int index;\r\n    if (inputStream != null) {\r\n        index = inputStream.read(by, 0, 32768);\r\n    } else {\r\n        index = -1;\r\n    }\r\n    while (index != -1) {\r\n        out.write(by, 0, index);\r\n        index = inputStream.read(by, 0, 32768);\r\n    }\r\n    out.flush();","title":"File is not downloading from server","body":"<p>try changing your code to something like this:</p>\n\n<pre><code>response.setContentType(\"application/force-download\");\nFile f = new File (\"D:\\\\abc.pdf\");\nresponse.addHeader(\"Content-Disposition\", \"attachment; filename=\\\"abc.pdf\\\"\");\nInputStream inputStream = new FileInputStream(f);\nBufferedOutputStream out =\n                new BufferedOutputStream(response.getOutputStream());\nbyte by[] = new byte[32768];\nint index;\nif (inputStream != null) {\n    index = inputStream.read(by, 0, 32768);\n} else {\n    index = -1;\n}\nwhile (index != -1) {\n    out.write(by, 0, index);\n    index = inputStream.read(by, 0, 32768);\n}\nout.flush();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374131249,"creation_date":1374131249,"answer_id":17716810,"question_id":17716458,"body_markdown":"Change to this code. Note the handling of the input stream: it is correctly closed in the event of an I/O error:\r\n\r\n    final byte[] buf = new byte[16384];\r\n    int count;\r\n    \r\n    final InputStream in = new FileInputStream(...);\r\n    final OutputStream out = servlet.getOutputStream();\r\n    \r\n    try {\r\n        while ((count = in.read(buf)) != -1)\r\n            out.write(buf, 0, count);\r\n        out.flush();\r\n    } catch (...) {\r\n    } finally {\r\n        in.close();\r\n    }\r\n\r\nIf you can afford it, use Guava and its `Closer` to handle I/O resources.\r\n\r\n","title":"File is not downloading from server","body":"<p>Change to this code. Note the handling of the input stream: it is correctly closed in the event of an I/O error:</p>\n\n<pre><code>final byte[] buf = new byte[16384];\nint count;\n\nfinal InputStream in = new FileInputStream(...);\nfinal OutputStream out = servlet.getOutputStream();\n\ntry {\n    while ((count = in.read(buf)) != -1)\n        out.write(buf, 0, count);\n    out.flush();\n} catch (...) {\n} finally {\n    in.close();\n}\n</code></pre>\n\n<p>If you can afford it, use Guava and its <code>Closer</code> to handle I/O resources.</p>\n"},{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374227922,"creation_date":1374227922,"answer_id":17743269,"question_id":17716458,"body_markdown":"There&#39;s a [sample-struts portlet][1] for Liferay which contains a downloaded custom type that is not embedded in the full portal page - e.g. the content type can be something different than the usual portal&#39;s HTML. In [this example][2] it&#39;s image/jpeg. Apply this according to your problem.\r\n\r\n\r\n  [1]: https://github.com/liferay/liferay-plugins/blob/master/portlets/sample-struts-portlet\r\n  [2]: https://github.com/liferay/liferay-plugins/blob/master/portlets/sample-struts-portlet/docroot/WEB-INF/src/com/liferay/samplestruts/struts/action/ViewChartAction.java","title":"File is not downloading from server","body":"<p>There's a <a href=\"https://github.com/liferay/liferay-plugins/blob/master/portlets/sample-struts-portlet\" rel=\"nofollow\">sample-struts portlet</a> for Liferay which contains a downloaded custom type that is not embedded in the full portal page - e.g. the content type can be something different than the usual portal's HTML. In <a href=\"https://github.com/liferay/liferay-plugins/blob/master/portlets/sample-struts-portlet/docroot/WEB-INF/src/com/liferay/samplestruts/struts/action/ViewChartAction.java\" rel=\"nofollow\">this example</a> it's image/jpeg. Apply this according to your problem.</p>\n"}],"owner":{"account_id":3061746,"reputation":47,"user_id":2594235,"display_name":"user2594235"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2663,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1667214430,"creation_date":1374130156,"question_id":17716458,"body_markdown":"I want to download a pdf file from the server. I am using tomcat. and developing the application in struts2.\r\n\r\nIn my JSP code the link for download is as below:\r\n\r\n    &lt;td&gt;\r\n        &lt;a href=&#39;&lt;s:url action=&#39;downloadPdf&#39;&gt; &lt;/s:url&gt;&#39;&gt;\r\n    \t\tDownload PDF&lt;/a&gt;\r\n    &lt;/td&gt;\r\n\r\nMy struts.xml is:\r\n\r\n    &lt;action name=&quot;downloadPdf&quot; class=&quot;com.stp.portal.view.SearchServicePortlet&quot; method=&quot;downloadPdf&quot;&gt;\r\n    &lt;/action&gt;\r\n\r\nAction class is:\r\n\r\n       \tpublic void downloadPdf() throws Exception\r\n    \t{\r\n    \t\tHttpServletResponse response = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tresponse.setContentType (&quot;application/pdf&quot;);\r\n    \t\t\tFile f = new File (&quot;D:\\\\abc.pdf&quot;);\r\n    \t\t\tresponse.setHeader (&quot;Content-Disposition&quot;, &quot;attachment;filename=abc.pdf&quot;);\r\n    \t\t\tInputStream inputStream = new FileInputStream(f);\r\n    \t\t\tServletOutputStream servletOutputStream = response.getOutputStream();\r\n    \t\t\tint bit = 256;\r\n    \t\t\tint i = 0;\r\n    \t\t\ttry \r\n    \t\t\t{\r\n    \t\t\t\twhile ((bit) &gt;= 0) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tbit = inputStream.read();\r\n    \t\t\t\t\tservletOutputStream.write(bit);\r\n    \t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch (Exception ioe) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tioe.printStackTrace(System.out);\r\n    \t\t\t\t}\r\n    \t\t\t\tservletOutputStream.flush();\r\n    \t\t\t\tinputStream.close();\t\r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\t\t\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic String generateGraph() throws Exception\r\n    \t{\r\n    \t\treturn &quot;success&quot;;\r\n    \t}\r\n    }\r\n\r\nMy problem is when i click on the download link the file is not downloaded. abc.pdf file is inside the local disk D. Dont know what is wrong. Would really appreciate if someone could help me on this.\r\n\r\nThanks in advance.","title":"File is not downloading from server","body":"<p>I want to download a pdf file from the server. I am using tomcat. and developing the application in struts2.</p>\n<p>In my JSP code the link for download is as below:</p>\n<pre><code>&lt;td&gt;\n    &lt;a href='&lt;s:url action='downloadPdf'&gt; &lt;/s:url&gt;'&gt;\n        Download PDF&lt;/a&gt;\n&lt;/td&gt;\n</code></pre>\n<p>My struts.xml is:</p>\n<pre><code>&lt;action name=&quot;downloadPdf&quot; class=&quot;com.stp.portal.view.SearchServicePortlet&quot; method=&quot;downloadPdf&quot;&gt;\n&lt;/action&gt;\n</code></pre>\n<p>Action class is:</p>\n<pre><code>    public void downloadPdf() throws Exception\n    {\n        HttpServletResponse response = null;\n        try\n        {\n            response.setContentType (&quot;application/pdf&quot;);\n            File f = new File (&quot;D:\\\\abc.pdf&quot;);\n            response.setHeader (&quot;Content-Disposition&quot;, &quot;attachment;filename=abc.pdf&quot;);\n            InputStream inputStream = new FileInputStream(f);\n            ServletOutputStream servletOutputStream = response.getOutputStream();\n            int bit = 256;\n            int i = 0;\n            try \n            {\n                while ((bit) &gt;= 0) \n                {\n                    bit = inputStream.read();\n                    servletOutputStream.write(bit);\n                }\n                }\n                catch (Exception ioe) \n                {\n                    ioe.printStackTrace(System.out);\n                }\n                servletOutputStream.flush();\n                inputStream.close();    \n        }\n        catch(Exception e)\n        {\n                    \n        }\n    }\n    \n    public String generateGraph() throws Exception\n    {\n        return &quot;success&quot;;\n    }\n}\n</code></pre>\n<p>My problem is when i click on the download link the file is not downloaded. abc.pdf file is inside the local disk D. Dont know what is wrong. Would really appreciate if someone could help me on this.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1445329962,"post_id":33231511,"comment_id":54266948,"body_markdown":"No, you should have a local path, which reflects a location on your disk, something like C:\\Users\\{your user name}\\Downloads","body":"No, you should have a local path, which reflects a location on your disk, something like C:\\Users\\{your user name}\\Downloads"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":0,"creation_date":1445347766,"post_id":33231511,"comment_id":54278735,"body_markdown":"related: http://stackoverflow.com/questions/43157/easy-way-to-write-contents-of-a-java-inputstream-to-an-outputstream/51753#51753","body":"related: <a href=\"http://stackoverflow.com/questions/43157/easy-way-to-write-contents-of-a-java-inputstream-to-an-outputstream/51753#51753\" title=\"easy way to write contents of a java inputstream to an outputstream\">stackoverflow.com/questions/43157/&hellip;</a>"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":2,"creation_date":1445348156,"post_id":33231511,"comment_id":54279023,"body_markdown":"Possible duplicate of [How to download and save a file from Internet using Java?](http://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\">How to download and save a file from Internet using Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445360187,"creation_date":1445329938,"answer_id":33231728,"question_id":33231511,"body_markdown":"**Code to DownloadFile from URL**\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class DownloadFile {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tInputStream in = null;\r\n    \t\tFileOutputStream out = null;\r\n    \t\ttry {\r\n    \t\t\t// URL(&quot;http://downloadplugins.verify.com/Windows/SubAngle.exe&quot;);\r\n    \t\t\tSystem.out.println(&quot;Starting download&quot;);\r\n    \t\t\tlong t1 = System.currentTimeMillis();\r\n    \t\t\tURL url = new URL(args[0]);\r\n    \t\t\t// Open the input and out files for the streams\r\n    \t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n    \t\t\tin = conn.getInputStream();\r\n    \t\t\tout = new FileOutputStream(&quot;YourFile.exe&quot;);\r\n    \t\t\t// Read data into buffer and then write to the output file\r\n    \t\t\tbyte[] buffer = new byte[8192];\r\n    \t\t\tint bytesRead;\r\n    \t\t\twhile ((bytesRead = in.read(buffer)) != -1) {\r\n    \t\t\t\tout.write(buffer, 0, bytesRead);\r\n    \t\t\t}\r\n    \t\t\tlong t2 = System.currentTimeMillis();\r\n    \t\t\tSystem.out.println(&quot;Time for download &amp; save file in millis:&quot;+(t2-t1));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// Display or throw the error\r\n    \t\t\tSystem.out.println(&quot;Erorr while execting the program: &quot;\r\n    \t\t\t\t\t+ e.getMessage());\r\n    \t\t} finally {\r\n    \t\t\t// Close the resources correctly\r\n    \t\t\tif (in != null) {\r\n    \t\t\t\tin.close();\r\n    \t\t\t}\r\n    \t\t\tif (out != null) {\r\n    \t\t\t\tout.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**Configure the value of fileName properly to know where the file is getting stored.**\r\n Source: http://www.devmanuals.com/tutorials/java/corejava/files/java-read-large-file-efficiently.html\r\n\r\n**The source was modified to replace local file with http URL**\r\n\r\nOutput:\r\n\r\n&gt; java DownloadFile http://download.springsource.com/release/TOOLS/update/3.7.1.RELEASE/e4.5/springsource-tool-suite-3.7.1.RELEASE-e4.5.1-updatesite.zip\r\n\r\n**Starting download**\r\n\r\n**Time for download &amp; save file in millis:100184**\r\n\r\n  [1]: http://code.runnable.com/Uu83dm5vSScIAACw/download-a-file-from-the-web-for-java-files-and-save\r\n","title":"How to download a file and get the path location locally","body":"<p><strong>Code to DownloadFile from URL</strong></p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class DownloadFile {\n    public static void main(String[] args) throws IOException {\n        InputStream in = null;\n        FileOutputStream out = null;\n        try {\n            // URL(\"http://downloadplugins.verify.com/Windows/SubAngle.exe\");\n            System.out.println(\"Starting download\");\n            long t1 = System.currentTimeMillis();\n            URL url = new URL(args[0]);\n            // Open the input and out files for the streams\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            in = conn.getInputStream();\n            out = new FileOutputStream(\"YourFile.exe\");\n            // Read data into buffer and then write to the output file\n            byte[] buffer = new byte[8192];\n            int bytesRead;\n            while ((bytesRead = in.read(buffer)) != -1) {\n                out.write(buffer, 0, bytesRead);\n            }\n            long t2 = System.currentTimeMillis();\n            System.out.println(\"Time for download &amp; save file in millis:\"+(t2-t1));\n        } catch (Exception e) {\n            // Display or throw the error\n            System.out.println(\"Erorr while execting the program: \"\n                    + e.getMessage());\n        } finally {\n            // Close the resources correctly\n            if (in != null) {\n                in.close();\n            }\n            if (out != null) {\n                out.close();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Configure the value of fileName properly to know where the file is getting stored.</strong>\n Source: <a href=\"http://www.devmanuals.com/tutorials/java/corejava/files/java-read-large-file-efficiently.html\" rel=\"nofollow\">http://www.devmanuals.com/tutorials/java/corejava/files/java-read-large-file-efficiently.html</a></p>\n\n<p><strong>The source was modified to replace local file with http URL</strong></p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>java DownloadFile <a href=\"http://download.springsource.com/release/TOOLS/update/3.7.1.RELEASE/e4.5/springsource-tool-suite-3.7.1.RELEASE-e4.5.1-updatesite.zip\" rel=\"nofollow\">http://download.springsource.com/release/TOOLS/update/3.7.1.RELEASE/e4.5/springsource-tool-suite-3.7.1.RELEASE-e4.5.1-updatesite.zip</a></p>\n</blockquote>\n\n<p><strong>Starting download</strong></p>\n\n<p><strong>Time for download &amp; save file in millis:100184</strong></p>\n"},{"tags":[],"owner":{"account_id":7797669,"reputation":228,"user_id":5898205,"display_name":"Varshney P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487149103,"creation_date":1487149103,"answer_id":42244724,"question_id":33231511,"body_markdown":"Instead of writing this huge code, go for **Apache&#39;s commons.io**\r\nTry this:\r\n\r\n    URL ipURL = new URL(&quot;inputURL&quot;);\r\n    File opFile = new File(&quot;outputFile&quot;);\r\n    FileUtils.copyURLToFile(ipURL, opFile);","title":"How to download a file and get the path location locally","body":"<p>Instead of writing this huge code, go for <strong>Apache's commons.io</strong>\nTry this:</p>\n\n<pre><code>URL ipURL = new URL(\"inputURL\");\nFile opFile = new File(\"outputFile\");\nFileUtils.copyURLToFile(ipURL, opFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7115429,"reputation":39,"user_id":5441908,"display_name":"Gal Levy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550401312,"creation_date":1550400186,"answer_id":54732411,"question_id":33231511,"body_markdown":"easy and general function that im using:\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    public static void downLoadFile(String fromFile, String toFile) throws MalformedURLException, IOException {\r\n    \t\ttry {\r\n    \t\t\tFileUtils.copyURLToFile(new URL(fromFile), new File(toFile), 60000, 60000);\r\n    \r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tSystem.out.println(&quot;exception on: downLoadFile() function: &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}","title":"How to download a file and get the path location locally","body":"<p>easy and general function that im using:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\n\npublic static void downLoadFile(String fromFile, String toFile) throws MalformedURLException, IOException {\n        try {\n            FileUtils.copyURLToFile(new URL(fromFile), new File(toFile), 60000, 60000);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n            System.out.println(\"exception on: downLoadFile() function: \" + e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1687705,"reputation":1106,"user_id":1550643,"accept_rate":51,"display_name":"Little bird"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21990,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1667214328,"creation_date":1445329213,"question_id":33231511,"body_markdown":"I have a URL i.e http://downloadplugins.verify.com/Windows/SubAngle.exe .\r\nIf I paste it on the tab and press enter then the file (SubAngle.exe) is getting downloaded and saved in the download folder. This is a manual process. But it can be done with java code.\r\nI wrote the code for getting the absolute path with the help of the file name i.e SubAngle.exe.\r\n\r\nRequirement:- With the help of the URL file gets downloaded,Verify the file has been downloaded and returns the absolute path of the file.\r\n\r\n    where  locfile is &quot;http://downloadplugins.verify.com/Windows/SubAngle.exe&quot;\t\r\n\r\n      public String downloadAndVerifyFile(String locfile) {\r\n\t\t File fileLocation = new File(locfile); \r\n\t     File fileLocation1 = new File(fileLocation.getName());\r\n\t     String fileLocationPath = null;\r\n\t     if(fileLocation.exists()){\r\n          fileLocationPath = fileLocation1.getAbsolutePath();\r\n      \r\n\t     }\r\n\t     else{\r\n\t    \t throw new FileNotFoundException(&quot;File with name &quot;+locFile+&quot; may not exits at the location&quot;);\r\n\t     }\r\n\t\t return fileLocationPath;\r\n\t}","title":"How to download a file and get the path location locally","body":"<p>I have a URL i.e <a href=\"http://downloadplugins.verify.com/Windows/SubAngle.exe\" rel=\"nofollow noreferrer\">http://downloadplugins.verify.com/Windows/SubAngle.exe</a> .\nIf I paste it on the tab and press enter then the file (SubAngle.exe) is getting downloaded and saved in the download folder. This is a manual process. But it can be done with java code.\nI wrote the code for getting the absolute path with the help of the file name i.e SubAngle.exe.</p>\n<p>Requirement:- With the help of the URL file gets downloaded,Verify the file has been downloaded and returns the absolute path of the file.</p>\n<pre><code>where  locfile is &quot;http://downloadplugins.verify.com/Windows/SubAngle.exe&quot;  \n\n  public String downloadAndVerifyFile(String locfile) {\n     File fileLocation = new File(locfile); \n     File fileLocation1 = new File(fileLocation.getName());\n     String fileLocationPath = null;\n     if(fileLocation.exists()){\n      fileLocationPath = fileLocation1.getAbsolutePath();\n  \n     }\n     else{\n         throw new FileNotFoundException(&quot;File with name &quot;+locFile+&quot; may not exits at the location&quot;);\n     }\n     return fileLocationPath;\n}\n</code></pre>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537338221,"creation_date":1456126798,"answer_id":35548168,"question_id":35533825,"body_markdown":"In general you should use an &quot;exec&quot; channel for this. The &quot;shell&quot; channel should not be used to automate a command execution.\r\n\r\nBut I understand that your server does not support the &quot;exec&quot; channel. *I&#39;ve added the above comment for the other readers, not to try to use this solution, unless they really have to.*\r\n\r\n---\r\n\r\nAs @Yair Harel already commented, if you have to use the &quot;shell&quot; channel, you have to use shell techniques.\r\n\r\nSo in your particular case, you may want to have the remote shell print some unique string and the exit code after the command finishes:\r\n\r\n    out.println(command + &quot; ; echo Command-has-finished-with-code-$?&quot;);\r\n\r\nThen you keep reading the output until you find a line starting `&quot;Command-has-finished-with-code-&quot;`. You parse the exit code and decide how to proceed.\r\n\r\nNote that the command syntax (particularly the command separator character `;` and exit code variable `$?`) is OS- and shell-specific. As your server is not of a standard kind, the syntax may be different.\r\n\r\n---\r\n\r\nSide notes:\r\n\r\n- The `&quot;#!/bin/bash&quot;` is a pure nonsense. The shell ignores all commands starting with `#` (it&#39;s comment). There&#39;s no point sending it. \r\n- Do not use `StrictHostKeyChecking=no`. See https://stackoverflow.com/q/30178936/850848#30182652","title":"JSch Shell channel execute commands one by one testing result before proceeding","body":"<p>In general you should use an \"exec\" channel for this. The \"shell\" channel should not be used to automate a command execution.</p>\n\n<p>But I understand that your server does not support the \"exec\" channel. <em>I've added the above comment for the other readers, not to try to use this solution, unless they really have to.</em></p>\n\n<hr>\n\n<p>As @Yair Harel already commented, if you have to use the \"shell\" channel, you have to use shell techniques.</p>\n\n<p>So in your particular case, you may want to have the remote shell print some unique string and the exit code after the command finishes:</p>\n\n<pre><code>out.println(command + \" ; echo Command-has-finished-with-code-$?\");\n</code></pre>\n\n<p>Then you keep reading the output until you find a line starting <code>\"Command-has-finished-with-code-\"</code>. You parse the exit code and decide how to proceed.</p>\n\n<p>Note that the command syntax (particularly the command separator character <code>;</code> and exit code variable <code>$?</code>) is OS- and shell-specific. As your server is not of a standard kind, the syntax may be different.</p>\n\n<hr>\n\n<p>Side notes:</p>\n\n<ul>\n<li>The <code>\"#!/bin/bash\"</code> is a pure nonsense. The shell ignores all commands starting with <code>#</code> (it's comment). There's no point sending it. </li>\n<li>Do not use <code>StrictHostKeyChecking=no</code>. See <a href=\"https://stackoverflow.com/q/30178936/850848#30182652\">JSch SFTP security with session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);</a></li>\n</ul>\n"}],"owner":{"account_id":7885952,"reputation":29,"user_id":5958016,"display_name":"Monica Bing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3215,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1667214243,"creation_date":1456042500,"question_id":35533825,"body_markdown":"I have a program for connecting to an SSH shell. I was able to execute the commands and read output from them.\r\n\r\nBut I have a new requirement. Now I need to execute a command and read the output if successful execute the next command.\r\n\r\nI have used the program from this question: https://stackoverflow.com/questions/35502600/jsch-issue-cannot-retrieve-full-command-output\r\n\r\n\r\n    public class SshConnectionManager {\r\n    \r\n        private static Session session;\r\n        private static ChannelShell channel;\r\n        private static String username = &quot;&quot;;\r\n        private static String password = &quot;&quot;;\r\n        private static String hostname = &quot;&quot;;\r\n    \r\n    \r\n        private static Session getSession(){\r\n            if(session == null || !session.isConnected()){\r\n                session = connect(hostname,username,password);\r\n            }\r\n            return session;\r\n        }\r\n    \r\n        private static Channel getChannel(){\r\n            if(channel == null || !channel.isConnected()){\r\n                try{\r\n                    channel = (ChannelShell)getSession().openChannel(&quot;shell&quot;);\r\n                    channel.setPty(false);\r\n                    channel.connect();\r\n    \r\n                }catch(Exception e){\r\n                    System.out.println(&quot;Error while opening channel: &quot;+ e);\r\n                }\r\n            }\r\n            return channel;\r\n        }\r\n    \r\n        private static Session connect(String hostname, String username, String password){\r\n    \r\n            JSch jSch = new JSch();\r\n    \r\n            try {\r\n    \r\n                session = jSch.getSession(username, hostname, 22);\r\n                Properties config = new Properties(); \r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setConfig(config);\r\n                session.setPassword(password);\r\n    \r\n                System.out.println(&quot;Connecting SSH to &quot; + hostname + &quot; - Please wait for few seconds... &quot;);\r\n                session.connect();\r\n                System.out.println(&quot;Connected!&quot;);\r\n            }catch(Exception e){\r\n                System.out.println(&quot;An error occurred while connecting to &quot;+hostname+&quot;: &quot;+e);\r\n            }\r\n    \r\n            return session;\r\n    \r\n        }\r\n    \r\n        private static void executeCommands(List&lt;String&gt; commands){\r\n    \r\n            try{\r\n                Channel channel=getChannel();\r\n    \r\n                System.out.println(&quot;Sending commands...&quot;);\r\n                sendCommands(channel, commands);\r\n    \r\n                readChannelOutput(channel);\r\n                System.out.println(&quot;Finished sending commands!&quot;);\r\n    \r\n            }catch(Exception e){\r\n                System.out.println(&quot;An error ocurred during executeCommands: &quot;+e);\r\n            }\r\n        }\r\n    \r\n        private static void sendCommands(Channel channel, List&lt;String&gt; commands){\r\n    \r\n            try{\r\n                PrintStream out = new PrintStream(channel.getOutputStream());\r\n    \r\n                out.println(&quot;#!/bin/bash&quot;);\r\n                for(String command : commands){\r\n                    out.println(command);\r\n                }\r\n                out.println(&quot;exit&quot;);\r\n    \r\n                out.flush();\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Error while sending commands: &quot;+ e);\r\n            }\r\n    \r\n        }\r\n    \r\n        private static void readChannelOutput(Channel channel){\r\n    \r\n            byte[] buffer = new byte[1024];\r\n    \r\n            try{\r\n                InputStream in = channel.getInputStream();\r\n                String line = &quot;&quot;;\r\n                while (true){\r\n                    while (in.available() &gt; 0) {\r\n                        int i = in.read(buffer, 0, 1024);\r\n                        if (i &lt; 0) {\r\n                            break;\r\n                        }\r\n                        line = new String(buffer, 0, i);\r\n                        System.out.println(line);\r\n                    }\r\n    \r\n                    if(line.contains(&quot;logout&quot;)){\r\n                        break;\r\n                    }\r\n    \r\n                    if (channel.isClosed()){\r\n                        break;\r\n                    }\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (Exception ee){}\r\n                }\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Error while reading channel output: &quot;+ e);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void close(){\r\n            channel.disconnect();\r\n            session.disconnect();\r\n            System.out.println(&quot;Disconnected channel and session&quot;);\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args){\r\n            List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n            commands.add(&quot;ls -l&quot;);\r\n    \r\n            executeCommands(commands);\r\n            close();\r\n        }\r\n    }\r\n\r\nI need to use &quot;shell&quot; channel instead of &quot;exec&quot; because the server does not allow the &quot;exec&quot; channel: [link][1]\r\n\r\n\r\n  [1]: http://www.tembria.com/forums/viewtopic.php?t=477&amp;sid=8f2a82ec30e89ba44d184a3b2a65ec69","title":"JSch Shell channel execute commands one by one testing result before proceeding","body":"<p>I have a program for connecting to an SSH shell. I was able to execute the commands and read output from them.</p>\n<p>But I have a new requirement. Now I need to execute a command and read the output if successful execute the next command.</p>\n<p>I have used the program from this question: <a href=\"https://stackoverflow.com/questions/35502600/jsch-issue-cannot-retrieve-full-command-output\">JSch issue - Cannot retrieve full command output</a></p>\n<pre><code>public class SshConnectionManager {\n\n    private static Session session;\n    private static ChannelShell channel;\n    private static String username = &quot;&quot;;\n    private static String password = &quot;&quot;;\n    private static String hostname = &quot;&quot;;\n\n\n    private static Session getSession(){\n        if(session == null || !session.isConnected()){\n            session = connect(hostname,username,password);\n        }\n        return session;\n    }\n\n    private static Channel getChannel(){\n        if(channel == null || !channel.isConnected()){\n            try{\n                channel = (ChannelShell)getSession().openChannel(&quot;shell&quot;);\n                channel.setPty(false);\n                channel.connect();\n\n            }catch(Exception e){\n                System.out.println(&quot;Error while opening channel: &quot;+ e);\n            }\n        }\n        return channel;\n    }\n\n    private static Session connect(String hostname, String username, String password){\n\n        JSch jSch = new JSch();\n\n        try {\n\n            session = jSch.getSession(username, hostname, 22);\n            Properties config = new Properties(); \n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.setConfig(config);\n            session.setPassword(password);\n\n            System.out.println(&quot;Connecting SSH to &quot; + hostname + &quot; - Please wait for few seconds... &quot;);\n            session.connect();\n            System.out.println(&quot;Connected!&quot;);\n        }catch(Exception e){\n            System.out.println(&quot;An error occurred while connecting to &quot;+hostname+&quot;: &quot;+e);\n        }\n\n        return session;\n\n    }\n\n    private static void executeCommands(List&lt;String&gt; commands){\n\n        try{\n            Channel channel=getChannel();\n\n            System.out.println(&quot;Sending commands...&quot;);\n            sendCommands(channel, commands);\n\n            readChannelOutput(channel);\n            System.out.println(&quot;Finished sending commands!&quot;);\n\n        }catch(Exception e){\n            System.out.println(&quot;An error ocurred during executeCommands: &quot;+e);\n        }\n    }\n\n    private static void sendCommands(Channel channel, List&lt;String&gt; commands){\n\n        try{\n            PrintStream out = new PrintStream(channel.getOutputStream());\n\n            out.println(&quot;#!/bin/bash&quot;);\n            for(String command : commands){\n                out.println(command);\n            }\n            out.println(&quot;exit&quot;);\n\n            out.flush();\n        }catch(Exception e){\n            System.out.println(&quot;Error while sending commands: &quot;+ e);\n        }\n\n    }\n\n    private static void readChannelOutput(Channel channel){\n\n        byte[] buffer = new byte[1024];\n\n        try{\n            InputStream in = channel.getInputStream();\n            String line = &quot;&quot;;\n            while (true){\n                while (in.available() &gt; 0) {\n                    int i = in.read(buffer, 0, 1024);\n                    if (i &lt; 0) {\n                        break;\n                    }\n                    line = new String(buffer, 0, i);\n                    System.out.println(line);\n                }\n\n                if(line.contains(&quot;logout&quot;)){\n                    break;\n                }\n\n                if (channel.isClosed()){\n                    break;\n                }\n                try {\n                    Thread.sleep(1000);\n                } catch (Exception ee){}\n            }\n        }catch(Exception e){\n            System.out.println(&quot;Error while reading channel output: &quot;+ e);\n        }\n\n    }\n\n    public static void close(){\n        channel.disconnect();\n        session.disconnect();\n        System.out.println(&quot;Disconnected channel and session&quot;);\n    }\n\n\n    public static void main(String[] args){\n        List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n        commands.add(&quot;ls -l&quot;);\n\n        executeCommands(commands);\n        close();\n    }\n}\n</code></pre>\n<p>I need to use &quot;shell&quot; channel instead of &quot;exec&quot; because the server does not allow the &quot;exec&quot; channel: <a href=\"http://www.tembria.com/forums/viewtopic.php?t=477&amp;sid=8f2a82ec30e89ba44d184a3b2a65ec69\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":["java","eclipse","java-8","wildfly-8"],"answers":[{"tags":[],"owner":{"account_id":431269,"reputation":981,"user_id":815218,"accept_rate":83,"display_name":"sprockets"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1438084634,"creation_date":1438084634,"answer_id":31675616,"question_id":31672778,"body_markdown":"You need to remove this argument from the &quot;launch configuration&quot; in your Wildfly server configuration in eclipse. It is no longer required when you are using java 8. \r\n\r\n1) open server overview\r\n\r\n2) click &quot;open launch configuration&quot; \r\n\r\n3) edit &quot;VM arguments&quot; remove the &quot; -XX:MaxPermSize=256m &quot; argument. \r\n\r\n4) save everything and start your wildfly via eclipse.  \r\n\r\nMessage should be gone. \r\n\r\n\r\n","title":"MaxPermSize Warning in Eclipse WildFly 8 and Java 8","body":"<p>You need to remove this argument from the \"launch configuration\" in your Wildfly server configuration in eclipse. It is no longer required when you are using java 8. </p>\n\n<p>1) open server overview</p>\n\n<p>2) click \"open launch configuration\" </p>\n\n<p>3) edit \"VM arguments\" remove the \" -XX:MaxPermSize=256m \" argument. </p>\n\n<p>4) save everything and start your wildfly via eclipse.  </p>\n\n<p>Message should be gone. </p>\n"},{"tags":[],"owner":{"account_id":3479224,"reputation":41,"user_id":6938295,"display_name":"Foncu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1475857446,"creation_date":1475857446,"answer_id":39921892,"question_id":31672778,"body_markdown":"In Java8 the Perm partition of memory has changed to Metaspace. In this way, the parameters has changed from &quot;-XX:PermSize&quot; and &quot;-XX:MaxPermSize&quot; to &quot;-XX:MetaspaceSize&quot; and &quot;-XX:MaxMetaspaceSize&quot;.\r\n\r\nInstead of removing the parameter, change it for bla","title":"MaxPermSize Warning in Eclipse WildFly 8 and Java 8","body":"<p>In Java8 the Perm partition of memory has changed to Metaspace. In this way, the parameters has changed from \"-XX:PermSize\" and \"-XX:MaxPermSize\" to \"-XX:MetaspaceSize\" and \"-XX:MaxMetaspaceSize\".</p>\n\n<p>Instead of removing the parameter, change it for bla</p>\n"},{"tags":[],"owner":{"account_id":16283276,"reputation":11,"user_id":11758620,"display_name":"bassam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667214059,"creation_date":1667214059,"answer_id":74262265,"question_id":31672778,"body_markdown":"I have the same problem when WildFly lunch from e-clips in Java 11.\r\nI started server from standalone.bat  at startup you get VM arguments which are suitable for Java version.\r\nCopy the arguments and \r\n\r\n1) open server overview\r\n\r\n2) click &quot;open launch configuration&quot;\r\n\r\n3) edit &quot;VM arguments&quot; past arguments value[![enter image description here][1]][1]\r\n\r\n4) save everything and start your wildfly via eclipse.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EMD2a.png","title":"MaxPermSize Warning in Eclipse WildFly 8 and Java 8","body":"<p>I have the same problem when WildFly lunch from e-clips in Java 11.\nI started server from standalone.bat  at startup you get VM arguments which are suitable for Java version.\nCopy the arguments and</p>\n<ol>\n<li><p>open server overview</p>\n</li>\n<li><p>click &quot;open launch configuration&quot;</p>\n</li>\n<li><p>edit &quot;VM arguments&quot; past arguments value<a href=\"https://i.stack.imgur.com/EMD2a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMD2a.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>save everything and start your wildfly via eclipse.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1260000,"reputation":1532,"user_id":1218554,"accept_rate":57,"display_name":"Johnny2012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26263,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":31675616,"answer_count":3,"score":8,"last_activity_date":1667214059,"creation_date":1438076848,"question_id":31672778,"body_markdown":"i have upgraded to `WildFly 8.2.0` from `JBoss 7` and to `Java 8` from `Java 7`.\r\n\r\nI get everytime I stop the `server` in `Eclipse` this warning:\r\n\r\n&gt; Java HotSpot(TM) 64-Bit Server VM warning: ignoring option\r\n&gt; MaxPermSize=256m; support was removed in 8.0\r\n\r\nIf I start and stop the Server from the `CMD` there is no warning like this, just in `Eclipse`. I have removed all MaxPermSize Settings from `WildFly` and can&#39;t find any setting about that in my Project. It just happens in `Eclipse`.\r\n\r\nI have already checked this questions:\r\n\r\nhttps://stackoverflow.com/questions/27932002/where-to-find-all-the-maxpermsize-in-eclipse-wildfly-system\r\n\r\nhttps://stackoverflow.com/questions/22634644/java-hotspottm-64-bit-server-vm-warning-ignoring-option-maxpermsize\r\n\r\nhttps://stackoverflow.com/questions/24706544/how-do-i-make-the-java-hot-spot-maxpermsize-warning-go-away-when-using-intelli\r\n\r\nand this page\r\n\r\nhttps://stackoverflow.com/questions/24706544/how-do-i-make-the-java-hot-spot-maxpermsize-warning-go-away-when-using-intelli\r\n\r\n\r\n","title":"MaxPermSize Warning in Eclipse WildFly 8 and Java 8","body":"<p>i have upgraded to <code>WildFly 8.2.0</code> from <code>JBoss 7</code> and to <code>Java 8</code> from <code>Java 7</code>.</p>\n\n<p>I get everytime I stop the <code>server</code> in <code>Eclipse</code> this warning:</p>\n\n<blockquote>\n  <p>Java HotSpot(TM) 64-Bit Server VM warning: ignoring option\n  MaxPermSize=256m; support was removed in 8.0</p>\n</blockquote>\n\n<p>If I start and stop the Server from the <code>CMD</code> there is no warning like this, just in <code>Eclipse</code>. I have removed all MaxPermSize Settings from <code>WildFly</code> and can't find any setting about that in my Project. It just happens in <code>Eclipse</code>.</p>\n\n<p>I have already checked this questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27932002/where-to-find-all-the-maxpermsize-in-eclipse-wildfly-system\">Where to find all the MaxPermSize in Eclipse-WildFly system?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/22634644/java-hotspottm-64-bit-server-vm-warning-ignoring-option-maxpermsize\">Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/24706544/how-do-i-make-the-java-hot-spot-maxpermsize-warning-go-away-when-using-intelli\">How do I make the &quot;Java Hot Spot MaxPermSize&quot; warning go away when using IntelliJ or Play?</a></p>\n\n<p>and this page</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24706544/how-do-i-make-the-java-hot-spot-maxpermsize-warning-go-away-when-using-intelli\">How do I make the &quot;Java Hot Spot MaxPermSize&quot; warning go away when using IntelliJ or Play?</a></p>\n"},{"tags":["java","json","mongodb","rename","insert-update"],"answers":[{"tags":[],"owner":{"account_id":15996494,"reputation":65,"user_id":11544293,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667214037,"creation_date":1666944995,"answer_id":74232436,"question_id":74232435,"body_markdown":"Oh, the rename should be after the insert is done.\r\n\r\n````\r\ndocumentMongo.insertOne(document);\r\ndocumentMongo.updateMany(document, Updates.rename(&quot;Country&quot;, &quot;Occupation&quot;));\r\n````\r\nAnyway, it could help others which are searching for easy way to change field names.\r\n\r\nSadly, when I try rename more fields it works only for the first one.\r\nFinal solution:\r\n````\r\ndocumentMongoCollection.insertOne(document);\r\n            BasicDBObject searchQuery = new BasicDBObject();\r\n            BasicDBObject updateQuery = new BasicDBObject();\r\n            updateQuery.append(&quot;$rename&quot;,new BasicDBObject().append(&quot;oldField&quot;, &quot;newField&quot;).append(&quot;oldField1&quot;, &quot;newField1&quot;).append(&quot;oldField2&quot;, &quot;newField2&quot;));\r\n            documentMongoCollection.updateMany(searchQuery,updateQuery);\r\n````","title":"How to change name of a field in MongoDB with java for each document in the collection?","body":"<p>Oh, the rename should be after the insert is done.</p>\n<pre><code>documentMongo.insertOne(document);\ndocumentMongo.updateMany(document, Updates.rename(&quot;Country&quot;, &quot;Occupation&quot;));\n</code></pre>\n<p>Anyway, it could help others which are searching for easy way to change field names.</p>\n<p>Sadly, when I try rename more fields it works only for the first one.\nFinal solution:</p>\n<pre><code>documentMongoCollection.insertOne(document);\n            BasicDBObject searchQuery = new BasicDBObject();\n            BasicDBObject updateQuery = new BasicDBObject();\n            updateQuery.append(&quot;$rename&quot;,new BasicDBObject().append(&quot;oldField&quot;, &quot;newField&quot;).append(&quot;oldField1&quot;, &quot;newField1&quot;).append(&quot;oldField2&quot;, &quot;newField2&quot;));\n            documentMongoCollection.updateMany(searchQuery,updateQuery);\n</code></pre>\n"}],"owner":{"account_id":15996494,"reputation":65,"user_id":11544293,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74232436,"answer_count":1,"score":0,"last_activity_date":1667214037,"creation_date":1666944995,"question_id":74232435,"body_markdown":"Due to some decisions I will have to change the name of some fields in all documents in a single collection. For purpose of automation testing I am inserting documents and then checking some logics.\r\nLets assume that after the insert method I have the following objects:\r\n````{\r\n    &quot;_id&quot; : ObjectId(&quot;60c10042d&quot;),\r\n    &quot;Name&quot; : Mike,\r\n    &quot;years&quot; : 25,\r\n    &quot;Country&quot; : England\r\n},\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;40r10042t&quot;),\r\n    &quot;Name&quot; : Smith,\r\n    &quot;years&quot; : 32,\r\n    &quot;Country&quot; : England\r\n}\r\n\r\n````\r\nWhen inserting the document/documents I want to change the field &quot;Country&quot; to &quot;Occupation&quot; using Java. Here is example of the code I&#39;m using:\r\n````\r\nMongoCollection&lt;Document&gt; documentMongo = MongoDb.getCollection(&quot;collectionName&quot;);\r\nDocument document = Document.parse(readJsonFile(json));\r\n\r\n//I&#39;ve tried this way:\r\n//documentMongo.updateMany(document, Updates.rename(&quot;Country&quot;, &quot;Occupation&quot;));\r\n//didn&#39;t work\r\n\r\ndocumentMongo.insertOne(document);\r\n````","title":"How to change name of a field in MongoDB with java for each document in the collection?","body":"<p>Due to some decisions I will have to change the name of some fields in all documents in a single collection. For purpose of automation testing I am inserting documents and then checking some logics.\nLets assume that after the insert method I have the following objects:</p>\n<pre><code>    &quot;_id&quot; : ObjectId(&quot;60c10042d&quot;),\n    &quot;Name&quot; : Mike,\n    &quot;years&quot; : 25,\n    &quot;Country&quot; : England\n},\n{\n    &quot;_id&quot; : ObjectId(&quot;40r10042t&quot;),\n    &quot;Name&quot; : Smith,\n    &quot;years&quot; : 32,\n    &quot;Country&quot; : England\n}\n\n</code></pre>\n<p>When inserting the document/documents I want to change the field &quot;Country&quot; to &quot;Occupation&quot; using Java. Here is example of the code I'm using:</p>\n<pre><code>MongoCollection&lt;Document&gt; documentMongo = MongoDb.getCollection(&quot;collectionName&quot;);\nDocument document = Document.parse(readJsonFile(json));\n\n//I've tried this way:\n//documentMongo.updateMany(document, Updates.rename(&quot;Country&quot;, &quot;Occupation&quot;));\n//didn't work\n\ndocumentMongo.insertOne(document);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1667208482,"post_id":74261161,"comment_id":131107790,"body_markdown":"An array can easily be replaced by just using lots of separate variables. So instead of `userNumber[]` to save the numbers the user inputs just use `userNumber1`, `userNumber2` etc. pp.","body":"An array can easily be replaced by just using lots of separate variables. So instead of <code>userNumber[]</code> to save the numbers the user inputs just use <code>userNumber1</code>, <code>userNumber2</code> etc. pp."},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":4,"creation_date":1667208740,"post_id":74261161,"comment_id":131107852,"body_markdown":"At the very least you can add your current code to the question. How are you generating 6 different random numbers without arrays and loops?","body":"At the very least you can add your current code to the question. How are you generating 6 different random numbers without arrays and loops?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667208754,"post_id":74261161,"comment_id":131107855,"body_markdown":"`if ((userinput1 == system1 || userinput1 == system2 || userinput1 == system3 || …) &amp;&amp; (userinput2 == system1 || userinput2 == system2 || …`","body":"<code>if ((userinput1 == system1 || userinput1 == system2 || userinput1 == system3 || …) &amp;&amp; (userinput2 == system1 || userinput2 == system2 || …</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667209094,"post_id":74261161,"comment_id":131107944,"body_markdown":"*You Win!* Not very likely is it?","body":"<i>You Win!</i> Not very likely is it?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667209174,"post_id":74261161,"comment_id":131107968,"body_markdown":"If we can assume that the random numbers are distinct, you can write a function which compares a single number to each of them, return true if any match, then call that once for each guess and and the results together.","body":"If we can assume that the random numbers are distinct, you can write a function which compares a single number to each of them, return true if any match, then call that once for each guess and and the results together."},{"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"score":0,"creation_date":1667210967,"post_id":74261161,"comment_id":131108551,"body_markdown":"Perhaps he wants you to use recursion?","body":"Perhaps he wants you to use recursion?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1667212924,"post_id":74261161,"comment_id":131109120,"body_markdown":"It sounds like a lot of busy work, at the end is he going to be &quot;see how much easier it is to use arrays&quot;.","body":"It sounds like a lot of busy work, at the end is he going to be &quot;see how much easier it is to use arrays&quot;."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1667213437,"post_id":74261161,"comment_id":131109291,"body_markdown":"you can sort both arrays and compare numbers one by one","body":"you can sort both arrays and compare numbers one by one"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667215882,"post_id":74261161,"comment_id":131110035,"body_markdown":"@dimirsenZ: note that the question is explicitly about not using arrays.","body":"@dimirsenZ: note that the question is explicitly about not using arrays."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1667221661,"post_id":74261161,"comment_id":131112076,"body_markdown":"Ok. Sort the list or whichever else collection you deal with and compare the elements one after one","body":"Ok. Sort the list or whichever else collection you deal with and compare the elements one after one"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667212615,"creation_date":1667209168,"answer_id":74261338,"question_id":74261161,"body_markdown":"```java\r\npublic class LottoGame {\r\n\r\n    public static void main(String... args) {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Input 6 numbers [1-55] separated with space: &quot;);\r\n        NumberSet userNumberSet = new NumberSet();\r\n        userNumberSet.a = new AtomicInteger(scan.nextInt());\r\n        userNumberSet.b = new AtomicInteger(scan.nextInt());\r\n        userNumberSet.c = new AtomicInteger(scan.nextInt());\r\n        userNumberSet.d = new AtomicInteger(scan.nextInt());\r\n        userNumberSet.e = new AtomicInteger(scan.nextInt());\r\n        userNumberSet.f = new AtomicInteger(scan.nextInt());\r\n\r\n        System.out.format(&quot;User: %d,%d,%d,%d,%d,%d\\n&quot;, userNumberSet.a.get(), userNumberSet.b.get(),\r\n                          userNumberSet.c.get(), userNumberSet.d.get(), userNumberSet.e.get(), userNumberSet.f.get());\r\n\r\n        userNumberSet.sort();\r\n\r\n        NumberSet randomNumberSet = getRandomNumberSet();\r\n\r\n        System.out.format(&quot;Randome Number: %d,%d,%d,%d,%d,%d\\n&quot;, randomNumberSet.a.get(), randomNumberSet.b.get(),\r\n                          randomNumberSet.c.get(), randomNumberSet.d.get(), randomNumberSet.e.get(),\r\n                          randomNumberSet.f.get());\r\n\r\n        randomNumberSet.sort();\r\n\r\n        boolean win = userNumberSet.a.get() == randomNumberSet.a.get();\r\n        win &amp;= userNumberSet.b.get() == randomNumberSet.b.get();\r\n        win &amp;= userNumberSet.c.get() == randomNumberSet.c.get();\r\n        win &amp;= userNumberSet.d.get() == randomNumberSet.d.get();\r\n        win &amp;= userNumberSet.e.get() == randomNumberSet.e.get();\r\n        win &amp;= userNumberSet.f.get() == randomNumberSet.f.get();\r\n\r\n        System.out.println(&quot;System: &quot; + (win ? &quot;You Win!&quot; : &quot;You Lose&quot;));\r\n    }\r\n\r\n    private static NumberSet getRandomNumberSet() {\r\n        Random random = new Random();\r\n        NumberSet numberSet = new NumberSet();\r\n        numberSet.a = new AtomicInteger(random.nextInt(55) + 1);\r\n        numberSet.b = new AtomicInteger(random.nextInt(55) + 1);\r\n        numberSet.c = new AtomicInteger(random.nextInt(55) + 1);\r\n        numberSet.d = new AtomicInteger(random.nextInt(55) + 1);\r\n        numberSet.e = new AtomicInteger(random.nextInt(55) + 1);\r\n        numberSet.f = new AtomicInteger(random.nextInt(55) + 1);\r\n        return numberSet;\r\n    }\r\n\r\n    private static final class NumberSet {\r\n\r\n        private AtomicInteger a;\r\n        private AtomicInteger b;\r\n        private AtomicInteger c;\r\n        private AtomicInteger d;\r\n        private AtomicInteger e;\r\n        private AtomicInteger f;\r\n\r\n        public void sort() {\r\n            sort(a, b);\r\n            sort(b, c);\r\n            sort(c, d);\r\n            sort(d, e);\r\n            sort(e, f);\r\n        }\r\n\r\n        private void sort(AtomicInteger one, AtomicInteger two) {\r\n            if (one.get() &gt; two.get()) {\r\n                int tmp = one.get();\r\n                one.set(two.get());\r\n                two.set(tmp);\r\n            }\r\n\r\n            if (two == b) {\r\n                sort(one, c);\r\n            } else if (two == c) {\r\n                sort(one, d);\r\n            } else if (two == d) {\r\n                sort(one, e);\r\n            } else if (two == e) {\r\n                sort(one, f);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n***P.S.** I think you are able to update a bit this snippte to check that `NumberSet` contains only unique numbers.*","title":"How to do a lotto program without using loops and array statements?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class LottoGame {\n\n    public static void main(String... args) {\n        Scanner scan = new Scanner(System.in);\n\n        System.out.print(&quot;Input 6 numbers [1-55] separated with space: &quot;);\n        NumberSet userNumberSet = new NumberSet();\n        userNumberSet.a = new AtomicInteger(scan.nextInt());\n        userNumberSet.b = new AtomicInteger(scan.nextInt());\n        userNumberSet.c = new AtomicInteger(scan.nextInt());\n        userNumberSet.d = new AtomicInteger(scan.nextInt());\n        userNumberSet.e = new AtomicInteger(scan.nextInt());\n        userNumberSet.f = new AtomicInteger(scan.nextInt());\n\n        System.out.format(&quot;User: %d,%d,%d,%d,%d,%d\\n&quot;, userNumberSet.a.get(), userNumberSet.b.get(),\n                          userNumberSet.c.get(), userNumberSet.d.get(), userNumberSet.e.get(), userNumberSet.f.get());\n\n        userNumberSet.sort();\n\n        NumberSet randomNumberSet = getRandomNumberSet();\n\n        System.out.format(&quot;Randome Number: %d,%d,%d,%d,%d,%d\\n&quot;, randomNumberSet.a.get(), randomNumberSet.b.get(),\n                          randomNumberSet.c.get(), randomNumberSet.d.get(), randomNumberSet.e.get(),\n                          randomNumberSet.f.get());\n\n        randomNumberSet.sort();\n\n        boolean win = userNumberSet.a.get() == randomNumberSet.a.get();\n        win &amp;= userNumberSet.b.get() == randomNumberSet.b.get();\n        win &amp;= userNumberSet.c.get() == randomNumberSet.c.get();\n        win &amp;= userNumberSet.d.get() == randomNumberSet.d.get();\n        win &amp;= userNumberSet.e.get() == randomNumberSet.e.get();\n        win &amp;= userNumberSet.f.get() == randomNumberSet.f.get();\n\n        System.out.println(&quot;System: &quot; + (win ? &quot;You Win!&quot; : &quot;You Lose&quot;));\n    }\n\n    private static NumberSet getRandomNumberSet() {\n        Random random = new Random();\n        NumberSet numberSet = new NumberSet();\n        numberSet.a = new AtomicInteger(random.nextInt(55) + 1);\n        numberSet.b = new AtomicInteger(random.nextInt(55) + 1);\n        numberSet.c = new AtomicInteger(random.nextInt(55) + 1);\n        numberSet.d = new AtomicInteger(random.nextInt(55) + 1);\n        numberSet.e = new AtomicInteger(random.nextInt(55) + 1);\n        numberSet.f = new AtomicInteger(random.nextInt(55) + 1);\n        return numberSet;\n    }\n\n    private static final class NumberSet {\n\n        private AtomicInteger a;\n        private AtomicInteger b;\n        private AtomicInteger c;\n        private AtomicInteger d;\n        private AtomicInteger e;\n        private AtomicInteger f;\n\n        public void sort() {\n            sort(a, b);\n            sort(b, c);\n            sort(c, d);\n            sort(d, e);\n            sort(e, f);\n        }\n\n        private void sort(AtomicInteger one, AtomicInteger two) {\n            if (one.get() &gt; two.get()) {\n                int tmp = one.get();\n                one.set(two.get());\n                two.set(tmp);\n            }\n\n            if (two == b) {\n                sort(one, c);\n            } else if (two == c) {\n                sort(one, d);\n            } else if (two == d) {\n                sort(one, e);\n            } else if (two == e) {\n                sort(one, f);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p><em><strong>P.S.</strong> I think you are able to update a bit this snippte to check that <code>NumberSet</code> contains only unique numbers.</em></p>\n"}],"owner":{"account_id":26783194,"reputation":7,"user_id":20377747,"display_name":"hope"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1667213920,"creation_date":1667208258,"question_id":74261161,"body_markdown":"Our professor tasked us to create a lotto program that will generate 6 random numbers ranging from 1-55 without us using the arrays and loops, we can only use &quot;if else&quot; statements. We also have to put scanner in which the user/better will input his 6 numbers also ranging from 1-55. The user&#39;s numbers should win as long as the 6 of the numbers match regardless of arrangements. For example\r\n\r\n```none\r\nUser: 1,2,3,4,5,6\r\nRandom Number:6,3,4,2,1,5\r\nSystem: You Win!\r\n```\r\n\r\nI created a lotto program but my program requires every numbers to match with regards to their arrangement \r\n\r\n```\r\nUser: 1,2,3,4,5,6\r\nRandom:6,5,4,3,2,1 \r\nSystem: You Lose \r\n```\r\n\r\nI don&#39;t have any idea how to ignore the arrangements. I tried search for a lot of thing in the internet and they mostly use arrays and loops.","title":"How to do a lotto program without using loops and array statements?","body":"<p>Our professor tasked us to create a lotto program that will generate 6 random numbers ranging from 1-55 without us using the arrays and loops, we can only use &quot;if else&quot; statements. We also have to put scanner in which the user/better will input his 6 numbers also ranging from 1-55. The user's numbers should win as long as the 6 of the numbers match regardless of arrangements. For example</p>\n<pre class=\"lang-none prettyprint-override\"><code>User: 1,2,3,4,5,6\nRandom Number:6,3,4,2,1,5\nSystem: You Win!\n</code></pre>\n<p>I created a lotto program but my program requires every numbers to match with regards to their arrangement</p>\n<pre><code>User: 1,2,3,4,5,6\nRandom:6,5,4,3,2,1 \nSystem: You Lose \n</code></pre>\n<p>I don't have any idea how to ignore the arrangements. I tried search for a lot of thing in the internet and they mostly use arrays and loops.</p>\n"},{"tags":["java","android","api","kotlin","retrofit"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667212106,"post_id":74261766,"comment_id":131108898,"body_markdown":"%22 is the encoded value of double quotes.","body":"%22 is the encoded value of double quotes."},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667213073,"post_id":74261766,"comment_id":131109161,"body_markdown":"please check you are utf decoding.","body":"please check you are utf decoding."}],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667213622,"creation_date":1667213622,"answer_id":74262180,"question_id":74261766,"body_markdown":"In your build.gradle(:app)add below dependency:\r\n```\r\nimplementation &#39;com.google.code.gson:gson:2.8.9&#39;\r\n```\r\nAnd create your json object like below:\r\n```\r\n    var filters = JSONObject()\r\n    filters.put(&quot;field&quot;,&quot;user_id&quot;)\r\n    filters.put(&quot;value&quot;,&quot;633a71e6644de2ad5123c57b&quot;)\r\n    System.out.println(filters.toString())\r\n```\r\nThis will print the output as you wanted.","title":"not able to decode the params in @GET api","body":"<p>In your build.gradle(:app)add below dependency:</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.9'\n</code></pre>\n<p>And create your json object like below:</p>\n<pre><code>    var filters = JSONObject()\n    filters.put(&quot;field&quot;,&quot;user_id&quot;)\n    filters.put(&quot;value&quot;,&quot;633a71e6644de2ad5123c57b&quot;)\n    System.out.println(filters.toString())\n</code></pre>\n<p>This will print the output as you wanted.</p>\n"}],"owner":{"account_id":26783733,"reputation":1,"user_id":20378220,"display_name":"VIKAS SOLANKI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667213622,"creation_date":1667211323,"question_id":74261766,"body_markdown":"trying to send this ?filters=[{&quot;field&quot;:&quot;user_id&quot;,&quot;value&quot;:&quot;633a71e6644de2ad5123c57b&quot;}]\r\nbut it is not going the way want it is going like this \r\n\r\n\r\nfilters=[{%22field%22:%22user_id%22,%22value%22:%22633a71e6644de2ad5123c57b%22}]  already did the encoded= true","title":"not able to decode the params in @GET api","body":"<p>trying to send this ?filters=[{&quot;field&quot;:&quot;user_id&quot;,&quot;value&quot;:&quot;633a71e6644de2ad5123c57b&quot;}]\nbut it is not going the way want it is going like this</p>\n<p>filters=[{%22field%22:%22user_id%22,%22value%22:%22633a71e6644de2ad5123c57b%22}]  already did the encoded= true</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19546649,"reputation":44,"user_id":14303257,"display_name":"Asith Madushan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667213382,"creation_date":1667213382,"answer_id":74262139,"question_id":74180456,"body_markdown":"Insert your sdk path environment variable\r\n\r\nHow- Search Bar type- environment variable - edit the system environment variable\r\n\r\n02- advanced - environment variable\r\n03- look at down - system variables- path - edit -new - paste your sdk location\r\n04 - press ok\r\n\r\n#android_environment_variable","title":"Why is Android Studio updating the wrong jre/bin/java?","body":"<p>Insert your sdk path environment variable</p>\n<p>How- Search Bar type- environment variable - edit the system environment variable</p>\n<p>02- advanced - environment variable\n03- look at down - system variables- path - edit -new - paste your sdk location\n04 - press ok</p>\n<p>#android_environment_variable</p>\n"}],"owner":{"account_id":19343601,"reputation":435,"user_id":14142605,"display_name":"Richard Parkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667213382,"creation_date":1666610988,"question_id":74180456,"body_markdown":"Updating Android Studio 212.5712.43.2112.8512546 to 213.7172.25.2113.9123335\r\n\r\nsays\r\n\r\nSome conflicts were found in the installation area.\r\n\r\nSome of the conflicts below do not have a solution, so the patch cannot be applied. Please download this version from the developer Web site and reinstall it from scratch. Press &#39;Cancel&#39; to exit.\r\n\r\nThe error reported is Access denied to jre/bin/java.\r\n\r\nAndroid Studio&#39;s own copy of jre/bin/java in ~/Android/android-studio is writeable - I tried touching it. I suspect it&#39;s trying to update the operating system&#39;s version, which of course is none of its business, and it shouldn&#39;t expect a user to be able to change that.\r\n\r\nHow do I get round this?","title":"Why is Android Studio updating the wrong jre/bin/java?","body":"<p>Updating Android Studio 212.5712.43.2112.8512546 to 213.7172.25.2113.9123335</p>\n<p>says</p>\n<p>Some conflicts were found in the installation area.</p>\n<p>Some of the conflicts below do not have a solution, so the patch cannot be applied. Please download this version from the developer Web site and reinstall it from scratch. Press 'Cancel' to exit.</p>\n<p>The error reported is Access denied to jre/bin/java.</p>\n<p>Android Studio's own copy of jre/bin/java in ~/Android/android-studio is writeable - I tried touching it. I suspect it's trying to update the operating system's version, which of course is none of its business, and it shouldn't expect a user to be able to change that.</p>\n<p>How do I get round this?</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667218594,"post_id":74262055,"comment_id":131110915,"body_markdown":"Well you don&#39;t. You create a processor that returns the object you want to save.","body":"Well you don&#39;t. You create a processor that returns the object you want to save."},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1667227645,"post_id":74262055,"comment_id":131114386,"body_markdown":"Yes you need a processor to create new Product with the same information of the initial product to do this.","body":"Yes you need a processor to create new Product with the same information of the initial product to do this."},{"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"score":0,"creation_date":1667306916,"post_id":74262055,"comment_id":131132861,"body_markdown":"I tried , But its updating the current records with New PO_id  which I mention above .","body":"I tried , But its updating the current records with New PO_id  which I mention above ."},{"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"score":0,"creation_date":1667307130,"post_id":74262055,"comment_id":131132936,"body_markdown":"I am having T_product Table from where I am reading data for PO_id 1001 and now I want to copy all corresponding data for po_id 1001 and insert same records with po_id=1002","body":"I am having T_product Table from where I am reading data for PO_id 1001 and now I want to copy all corresponding data for po_id 1001 and insert same records with po_id=1002"},{"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"score":0,"creation_date":1667307161,"post_id":74262055,"comment_id":131132952,"body_markdown":"Please help me , how can I achieve  this ?","body":"Please help me , how can I achieve  this ?"},{"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"score":0,"creation_date":1667327646,"post_id":74262055,"comment_id":131140316,"body_markdown":"I got the solution , I avoid mapping primary key in Item Processor-- and new records are been inserted in Table with new Po_id","body":"I got the solution , I avoid mapping primary key in Item Processor-- and new records are been inserted in Table with new Po_id"}],"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667213176,"creation_date":1667212900,"question_id":74262055,"body_markdown":"I am using Spring Batch ,  from Below Table I am trying to read data from PRODUCT table where po_id=1001 and then trying to insert in same Table but with different po_id (for example 1002). \r\n\r\nTable Structure \r\n\r\nORDER TABLE \r\n[enter image description here][1]\r\nPRODUCT TABLE\r\n[enter image description here][2]\r\n\r\nJpaCursorItemReader :- is reading data from PRODUCT Table  for Po_id=1001\r\n\r\n\r\n```\r\npublic JpaCursorItemReader&lt;Product&gt; jpaCursorItemReader() {\r\n\t\tJpaCursorItemReader&lt;Product&gt; jpaCursorItemReader = \r\n\t\t\t\tnew JpaCursorItemReader&lt;Product&gt;();\r\n\t\t\r\n\t\tjpaCursorItemReader.setEntityManagerFactory(postgresqlEntityManagerFactory);\r\n\t\t\r\n\t\tjpaCursorItemReader.setQueryString(&quot;From Product where po_id= 1001&quot;);\r\n\r\n\t\tjpaCursorItemReader.setSaveState(true);\r\n\t\t\r\n\t\treturn jpaCursorItemReader;\r\n\t}\r\n\t\r\n```\r\nJpaItemWriter :- I need help to insert Date in PRODUCT Table with Po_id=1002? HOW CAN I DO THAT with below code.\r\n\r\n```\r\npublic JpaItemWriter&lt;Product&gt; jpaItemWriter()\r\n\t{\r\n\t\tJpaItemWriter&lt;Product&gt; jpaItemWriter = new JpaItemWriter&lt;Product&gt;();\r\n\t\r\n\t\tjpaItemWriter.setEntityManagerFactory(postgresqlEntityManagerFactory);\r\n\t\treturn jpaItemWriter;\r\n\t\t\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TuDKu.png\r\n  [2]: https://i.stack.imgur.com/i6xu2.png","title":"JpaItemWriter (inserting data with where clause ) - Spring Batch","body":"<p>I am using Spring Batch ,  from Below Table I am trying to read data from PRODUCT table where po_id=1001 and then trying to insert in same Table but with different po_id (for example 1002).</p>\n<p>Table Structure</p>\n<p>ORDER TABLE\n<a href=\"https://i.stack.imgur.com/TuDKu.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nPRODUCT TABLE\n<a href=\"https://i.stack.imgur.com/i6xu2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>JpaCursorItemReader :- is reading data from PRODUCT Table  for Po_id=1001</p>\n<pre><code>public JpaCursorItemReader&lt;Product&gt; jpaCursorItemReader() {\n        JpaCursorItemReader&lt;Product&gt; jpaCursorItemReader = \n                new JpaCursorItemReader&lt;Product&gt;();\n        \n        jpaCursorItemReader.setEntityManagerFactory(postgresqlEntityManagerFactory);\n        \n        jpaCursorItemReader.setQueryString(&quot;From Product where po_id= 1001&quot;);\n\n        jpaCursorItemReader.setSaveState(true);\n        \n        return jpaCursorItemReader;\n    }\n    \n</code></pre>\n<p>JpaItemWriter :- I need help to insert Date in PRODUCT Table with Po_id=1002? HOW CAN I DO THAT with below code.</p>\n<pre><code>public JpaItemWriter&lt;Product&gt; jpaItemWriter()\n    {\n        JpaItemWriter&lt;Product&gt; jpaItemWriter = new JpaItemWriter&lt;Product&gt;();\n    \n        jpaItemWriter.setEntityManagerFactory(postgresqlEntityManagerFactory);\n        return jpaItemWriter;\n        \n    }\n</code></pre>\n"},{"tags":["java","cluster-computing","vert.x"],"answers":[{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667213102,"creation_date":1667213102,"answer_id":74262092,"question_id":74262091,"body_markdown":"From reading the source code ([For example, for the current 4.3.4 version](https://github.com/eclipse-vertx/vert.x/blob/4.3.4/src/main/java/io/vertx/core/shareddata/impl/SharedDataImpl.java#L53)), it can be seen that the code to handle the &quot;cluster manager&quot; API is identical. The only difference between `getClusterWideMap()` and `getAsyncMap()` is that the former throws an exception if there is no &quot;cluster manager&quot; while the latter will return a local async map for the same configuration. Compare with `getLocalAsyncMap()` that always returns a local map, regardless of the existence of a &quot;cluster manager&quot;.\r\n\r\nI&#39;m assuming the extra latency warning for `getAsyncMap()` is there to warn users about the difference in performance between &quot;development mode&quot; (where clustering is likely not enabled) and &quot;production mode&quot; (where clustering is probably enabled), while users of `getClusterWideMap()` can only test their code in a clustering environment and should therefor already be aware of the latency behvior.","title":"In Vert.x `SharedData`, what is the difference between `getClusterWideMap(String name)` and `getAsyncMap(String name)`?","body":"<p>From reading the source code (<a href=\"https://github.com/eclipse-vertx/vert.x/blob/4.3.4/src/main/java/io/vertx/core/shareddata/impl/SharedDataImpl.java#L53\" rel=\"nofollow noreferrer\">For example, for the current 4.3.4 version</a>), it can be seen that the code to handle the &quot;cluster manager&quot; API is identical. The only difference between <code>getClusterWideMap()</code> and <code>getAsyncMap()</code> is that the former throws an exception if there is no &quot;cluster manager&quot; while the latter will return a local async map for the same configuration. Compare with <code>getLocalAsyncMap()</code> that always returns a local map, regardless of the existence of a &quot;cluster manager&quot;.</p>\n<p>I'm assuming the extra latency warning for <code>getAsyncMap()</code> is there to warn users about the difference in performance between &quot;development mode&quot; (where clustering is likely not enabled) and &quot;production mode&quot; (where clustering is probably enabled), while users of <code>getClusterWideMap()</code> can only test their code in a clustering environment and should therefor already be aware of the latency behvior.</p>\n"}],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667213102,"creation_date":1667213102,"question_id":74262091,"body_markdown":"The two APIs, [`getClusterWideMap(String)`](https://vertx.io/docs/apidocs/io/vertx/core/shareddata/SharedData.html#getClusterWideMap-java.lang.String-) and [`getAsyncMap(String)`](https://vertx.io/docs/apidocs/io/vertx/core/shareddata/SharedData.html#getAsyncMap-java.lang.String-) look identical in their requirements and the result type, and the documentation is also similar - though slightly different in a confusing way, for example the warning on cluster latency appears only for `getAsyncMap()` and not for `getClusterWideMap()`.","title":"In Vert.x `SharedData`, what is the difference between `getClusterWideMap(String name)` and `getAsyncMap(String name)`?","body":"<p>The two APIs, <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/shareddata/SharedData.html#getClusterWideMap-java.lang.String-\" rel=\"nofollow noreferrer\"><code>getClusterWideMap(String)</code></a> and <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/shareddata/SharedData.html#getAsyncMap-java.lang.String-\" rel=\"nofollow noreferrer\"><code>getAsyncMap(String)</code></a> look identical in their requirements and the result type, and the documentation is also similar - though slightly different in a confusing way, for example the warning on cluster latency appears only for <code>getAsyncMap()</code> and not for <code>getClusterWideMap()</code>.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667253532,"post_id":74262067,"comment_id":131122135,"body_markdown":"What do you mean &quot;works&quot;? What error are you getting?","body":"What do you mean &quot;works&quot;? What error are you getting?"}],"owner":{"account_id":1635471,"reputation":166,"user_id":1509097,"display_name":"ranban282"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667212969,"creation_date":1667212969,"question_id":74262067,"body_markdown":"I&#39;m experimenting with compression with Kafka because my records are getting too large. This is what my Kafka configuration looks like - \r\n\r\n``` \r\npublic Map&lt;String, Object&gt; producerConfigs(int blockTime ) {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        //spring.kafka.producer.request.timeout.ms\r\n        props.put(ProducerConfig.MAX_BLOCK_MS_CONFIG,blockTime);\r\n        props.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,10000);\r\n        props.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG,10000);\r\n        props.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG,1048576);\r\n        props.put(ProducerConfig.COMPRESSION_TYPE_CONFIG,&quot;snappy&quot; );\r\n        props.put(ProducerConfig.LINGER_MS_CONFIG,5 );\r\n        //ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG\r\n        log.info(&quot;Created producer config kafka &quot;);\r\n        return props;\r\n    }\r\n\r\n    public ProducerFactory&lt;String, String&gt; finalproducerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs(10));\r\n    }\r\n\r\n    @Bean(name = &quot;commonKafkaTemplate&quot;)\r\n    public KafkaTemplate&lt;String, String&gt; getFinalKafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(finalproducerFactory());\r\n    }\r\n```\r\n\r\nIf I comment out the line with    LINGER_MS_CONFIG\r\n, the code works.  \r\n\r\nI saw LINGER_MS_CONFIG being used in an example, which said that compression was more &quot;effective&quot;. What is it about LINGER_MS_CONFIG which causes an error? Is there some conflict with any of the other properties? ","title":"Using Spring Kafka with LINGER_MS_CONFIG causes error","body":"<p>I'm experimenting with compression with Kafka because my records are getting too large. This is what my Kafka configuration looks like -</p>\n<pre><code>public Map&lt;String, Object&gt; producerConfigs(int blockTime ) {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        //spring.kafka.producer.request.timeout.ms\n        props.put(ProducerConfig.MAX_BLOCK_MS_CONFIG,blockTime);\n        props.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,10000);\n        props.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG,10000);\n        props.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG,1048576);\n        props.put(ProducerConfig.COMPRESSION_TYPE_CONFIG,&quot;snappy&quot; );\n        props.put(ProducerConfig.LINGER_MS_CONFIG,5 );\n        //ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG\n        log.info(&quot;Created producer config kafka &quot;);\n        return props;\n    }\n\n    public ProducerFactory&lt;String, String&gt; finalproducerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs(10));\n    }\n\n    @Bean(name = &quot;commonKafkaTemplate&quot;)\n    public KafkaTemplate&lt;String, String&gt; getFinalKafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(finalproducerFactory());\n    }\n</code></pre>\n<p>If I comment out the line with    LINGER_MS_CONFIG\n, the code works.</p>\n<p>I saw LINGER_MS_CONFIG being used in an example, which said that compression was more &quot;effective&quot;. What is it about LINGER_MS_CONFIG which causes an error? Is there some conflict with any of the other properties?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667207509,"post_id":74260923,"comment_id":131107481,"body_markdown":"See https://stackoverflow.com/questions/42135102/how-to-set-autowired-constructor-params-as-required-false-individually","body":"See <a href=\"https://stackoverflow.com/questions/42135102/how-to-set-autowired-constructor-params-as-required-false-individually\" title=\"how to set autowired constructor params as required false individually\">stackoverflow.com/questions/42135102/&hellip;</a>"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1667217817,"post_id":74260923,"comment_id":131110651,"body_markdown":"Have you taken a look at `ConditionalOnProperty` ? You&#39;d add this to all the beans that you only want present if the `another.service.enabled` property is present in your yml.","body":"Have you taken a look at <code>ConditionalOnProperty</code> ? You&#39;d add this to all the beans that you only want present if the <code>another.service.enabled</code> property is present in your yml."}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667212583,"creation_date":1667207050,"question_id":74260923,"body_markdown":"I have a standard rest-api spring-boot application.\r\n\r\nController with injected service\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/foo&quot;)\r\n@AllArgsConstructor\r\npublic class SomeController {\r\n\r\n    private final SomeService someService;\r\n    \r\n    public void someMethod(){\r\n         someService.toDoSomething();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand service with injected other beans\r\n\r\n```\r\n@Setter\r\npublic class SomeService {\r\n    private AnotherVeryImportantBean anotherVeryImportantBean;\r\n    private RestTemplateBuilder restTemplate;\r\n\r\n    public void toDoSomething() {\r\n         anotherVeryImportantBean.someAction();\r\n    }\r\n```\r\n\r\nIn my case, the bean AnotherVeryImportantBean is created in another dependency, which I connect to the spring-boot application. Whether to create a bean or not is decided by a variable in the application.yml file.\r\n\r\nlike this:\r\n\r\n```\r\nanother.service.enabled: true\r\n```\r\n\r\nOf course I have config class for service\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class SomeConfig {\r\n    private final AnotherVeryImportantBean anotherVeryImportantBean;\r\n\r\n    @Bean\r\n    public SomeService someService(RestTemplateBuilder restTemplate) {\r\n         SomeService foo = new SomeService();\r\n         foo.setAnotherVeryImportantBean(anotherVeryImportantBean);\r\n         foo.setRestTemplate(restTemplate);\r\n         return foo;\r\n    }\r\n```\r\n\r\nThe problem is that this controller and service are not the only ones in the application. I would like the application not to crash completely if this particular controller and service are not formed. If the bean is not created for some reason, I just don&#39;t use that functionality (this controller).\r\n\r\nAt this point, the application crashes because AnotherService cannot be injected into someService (In case where, for some reason, it was not created).\r\n\r\nI tried adding an annotation to config class\r\n\r\n@ConditionalOnBean(AnotherVeryImportantBean.class)\r\n\r\nlike this:\r\n\r\n```\r\n@ConditionalOnBean(AnotherVeryImportantBean.class)\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class SomeConfig {\r\n    private AnotherVeryImportantBean anotherVeryImportantBean;\r\n\r\n    @Bean\r\n    public SomeService someService(RestTemplateBuilder restTemplate) {\r\n         SomeService foo = new SomeService();\r\n         foo.setAnotherVeryImportantBean(anotherVeryImportantBean);\r\n         foo.setRestTemplate(restTemplate);\r\n         return foo;\r\n    }\r\n```\r\n\r\nBut the problem is that conditional in SomeConfig checks if the bean is in the container before it is created.\r\n\r\nHow can I handle an error when a bean cannot inject another dependency into itself?","title":"How to handle an error when a bean does not exist and could not inject in Spring-boot?","body":"<p>I have a standard rest-api spring-boot application.</p>\n<p>Controller with injected service</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/foo&quot;)\n@AllArgsConstructor\npublic class SomeController {\n\n    private final SomeService someService;\n    \n    public void someMethod(){\n         someService.toDoSomething();\n    }\n\n}\n</code></pre>\n<p>and service with injected other beans</p>\n<pre><code>@Setter\npublic class SomeService {\n    private AnotherVeryImportantBean anotherVeryImportantBean;\n    private RestTemplateBuilder restTemplate;\n\n    public void toDoSomething() {\n         anotherVeryImportantBean.someAction();\n    }\n</code></pre>\n<p>In my case, the bean AnotherVeryImportantBean is created in another dependency, which I connect to the spring-boot application. Whether to create a bean or not is decided by a variable in the application.yml file.</p>\n<p>like this:</p>\n<pre><code>another.service.enabled: true\n</code></pre>\n<p>Of course I have config class for service</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class SomeConfig {\n    private final AnotherVeryImportantBean anotherVeryImportantBean;\n\n    @Bean\n    public SomeService someService(RestTemplateBuilder restTemplate) {\n         SomeService foo = new SomeService();\n         foo.setAnotherVeryImportantBean(anotherVeryImportantBean);\n         foo.setRestTemplate(restTemplate);\n         return foo;\n    }\n</code></pre>\n<p>The problem is that this controller and service are not the only ones in the application. I would like the application not to crash completely if this particular controller and service are not formed. If the bean is not created for some reason, I just don't use that functionality (this controller).</p>\n<p>At this point, the application crashes because AnotherService cannot be injected into someService (In case where, for some reason, it was not created).</p>\n<p>I tried adding an annotation to config class</p>\n<p>@ConditionalOnBean(AnotherVeryImportantBean.class)</p>\n<p>like this:</p>\n<pre><code>@ConditionalOnBean(AnotherVeryImportantBean.class)\n@Configuration\n@RequiredArgsConstructor\npublic class SomeConfig {\n    private AnotherVeryImportantBean anotherVeryImportantBean;\n\n    @Bean\n    public SomeService someService(RestTemplateBuilder restTemplate) {\n         SomeService foo = new SomeService();\n         foo.setAnotherVeryImportantBean(anotherVeryImportantBean);\n         foo.setRestTemplate(restTemplate);\n         return foo;\n    }\n</code></pre>\n<p>But the problem is that conditional in SomeConfig checks if the bean is in the container before it is created.</p>\n<p>How can I handle an error when a bean cannot inject another dependency into itself?</p>\n"},{"tags":["java","get","set","getter-setter"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666969997,"post_id":74237370,"comment_id":131067304,"body_markdown":"*&quot;...but the problem is, that I have to create a Player-Object in the Sphere-class...&quot;* -- no, that is not true at all and in fact will mess things up, since in all likelihood, that newly created Player will not be the same Player instance that is acting in the Game class. Better instead to have Game see where Player and Sphere are located and to either observe for collisions and report and control the effects or to have Game notify all objects of the locations of other objects.","body":"<i>&quot;...but the problem is, that I have to create a Player-Object in the Sphere-class...&quot;</i> -- no, that is not true at all and in fact will mess things up, since in all likelihood, that newly created Player will not be the same Player instance that is acting in the Game class. Better instead to have Game see where Player and Sphere are located and to either observe for collisions and report and control the effects or to have Game notify all objects of the locations of other objects."}],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666971498,"creation_date":1666971128,"answer_id":74237634,"question_id":74237370,"body_markdown":"Think who is the responsibility to check for collision. It can be confusing but logically you need a Game class where you will have access to both Player and a Sphere objects. There you can have update method (which is executed in some time frame in a loop) and there you can check the positions of the two objects if they collide. So this mean that the positions must be kept inside in Player for player object and in Sphere for Sphere object.","title":"How do you get a value of a variable of an other object of the same class?","body":"<p>Think who is the responsibility to check for collision. It can be confusing but logically you need a Game class where you will have access to both Player and a Sphere objects. There you can have update method (which is executed in some time frame in a loop) and there you can check the positions of the two objects if they collide. So this mean that the positions must be kept inside in Player for player object and in Sphere for Sphere object.</p>\n"},{"tags":[],"owner":{"account_id":26746510,"reputation":1,"user_id":20346502,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667212485,"creation_date":1666971223,"answer_id":74237657,"question_id":74237370,"body_markdown":"add a reference to the player object to the sphere object\r\n\r\n        class Main {\r\n          public static void main(String[] args) {\r\n            Player player = new Player();\r\n            Sphere sphere = new Sphere();\r\n            sphere.setPlayer(player);\r\n        \r\n            Game game = new Game(player, sphere);\r\n            game.start();\r\n          }\r\n        } \r\n    \r\n   Inside the sphere object you can now access the players position using the reference\r\n    \r\nOr you do something like this.\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tGame game = new Game();\r\n    \t\tgame.start();\r\n    \t}\r\n    }\r\n    \r\n    class Game {\r\n    \tprivate Player player;\r\n    \tprivate Sphere sphere;\r\n    \t\r\n    \tpublic Game(){\r\n    \t\tplayer = new Player();\r\n    \t\tsphere = new Sphere();\r\n    \t}\r\n    \t\r\n    \tpublic void start() {\r\n    \t\t// implement game loop or whatever\r\n    \t\t// to find out about the colliding state use isColliding\r\n    \t}\r\n    \t\r\n    \tprivate boolean isColliding() {\r\n    \t\t// implement logic to calculate colliding state using player.getPosition() and sphere.getPosition()\r\n    \t}\r\n    }\r\n\r\n","title":"How do you get a value of a variable of an other object of the same class?","body":"<p>add a reference to the player object to the sphere object</p>\n<pre><code>    class Main {\n      public static void main(String[] args) {\n        Player player = new Player();\n        Sphere sphere = new Sphere();\n        sphere.setPlayer(player);\n    \n        Game game = new Game(player, sphere);\n        game.start();\n      }\n    } \n</code></pre>\n<p>Inside the sphere object you can now access the players position using the reference</p>\n<p>Or you do something like this.</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Game game = new Game();\n        game.start();\n    }\n}\n\nclass Game {\n    private Player player;\n    private Sphere sphere;\n    \n    public Game(){\n        player = new Player();\n        sphere = new Sphere();\n    }\n    \n    public void start() {\n        // implement game loop or whatever\n        // to find out about the colliding state use isColliding\n    }\n    \n    private boolean isColliding() {\n        // implement logic to calculate colliding state using player.getPosition() and sphere.getPosition()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26537230,"reputation":1,"user_id":20168570,"display_name":"TillRohlFingMann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667212485,"creation_date":1666969867,"question_id":74237370,"body_markdown":"I&#39;m working on a little game to learn java.\r\nCurrently I created a Sphere, a Player and a Game class ( + Main class to run).\r\nI want the shpere to know, whether it collides with the player or not.\r\n\r\n\r\n\r\nFirst thing I tried was the Get and Set thing, but the problem is, that I have to create a Player-Object\r\nin the Sphere-class to acces the Get-Method of the Players Position.\r\n\r\nAs it&#39;s a new object, it&#39;s not the same as the Object in my Game-Class, so it doesn&#39;t change when moving.\r\n","title":"How do you get a value of a variable of an other object of the same class?","body":"<p>I'm working on a little game to learn java.\nCurrently I created a Sphere, a Player and a Game class ( + Main class to run).\nI want the shpere to know, whether it collides with the player or not.</p>\n<p>First thing I tried was the Get and Set thing, but the problem is, that I have to create a Player-Object\nin the Sphere-class to acces the Get-Method of the Players Position.</p>\n<p>As it's a new object, it's not the same as the Object in my Game-Class, so it doesn't change when moving.</p>\n"},{"tags":["java","android","java-11"],"comments":[{"owner":{"account_id":2500372,"reputation":5641,"user_id":2175658,"accept_rate":53,"display_name":"Eenvincible"},"score":0,"creation_date":1666979708,"post_id":74239121,"comment_id":131070629,"body_markdown":"Is dex enabled in your build.gradle?","body":"Is dex enabled in your build.gradle?"},{"owner":{"account_id":26762936,"reputation":1,"user_id":20360579,"display_name":"Moayed Alayaseh"},"score":0,"creation_date":1666980169,"post_id":74239121,"comment_id":131070780,"body_markdown":"what you mean with dex ? and how to enable it ?","body":"what you mean with dex ? and how to enable it ?"}],"answers":[{"tags":[],"owner":{"account_id":19546649,"reputation":44,"user_id":14303257,"display_name":"Asith Madushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667212451,"creation_date":1667212451,"answer_id":74261972,"question_id":74239121,"body_markdown":"01 - file-invalidate cache and restart\r\n\r\n02 - Clean project and Rebuild\r\n\r\n03 - now check your internet is working fine poxy setting.\r\n\r\n04- then try.\r\n\r\n#Android_studio ","title":"Android generate APK issue","body":"<p>01 - file-invalidate cache and restart</p>\n<p>02 - Clean project and Rebuild</p>\n<p>03 - now check your internet is working fine poxy setting.</p>\n<p>04- then try.</p>\n<p>#Android_studio</p>\n"}],"owner":{"account_id":26762936,"reputation":1,"user_id":20360579,"display_name":"Moayed Alayaseh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667212451,"creation_date":1666979255,"question_id":74239121,"body_markdown":"android studio appear this issue when trying to generate singed APK \r\n\r\n\r\n&gt; Task :app:dexguardApkRelease FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:dexguardApkRelease&#39;.\r\n&gt; Process &#39;command &#39;/usr/local/Cellar/openjdk@17/17.0.5/libexec/openjdk.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n\r\nany advise ? \r\n\r\ntrying to generate signed APK ","title":"Android generate APK issue","body":"<p>android studio appear this issue when trying to generate singed APK</p>\n<blockquote>\n<p>Task :app:dexguardApkRelease FAILED</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:dexguardApkRelease'.</li>\n</ul>\n<blockquote>\n<p>Process 'command '/usr/local/Cellar/openjdk@17/17.0.5/libexec/openjdk.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n<p>any advise ?</p>\n<p>trying to generate signed APK</p>\n"},{"tags":["java","rest","spring-boot","tensorflow-serving"],"answers":[{"tags":[],"owner":{"account_id":5791341,"reputation":680,"user_id":4568702,"display_name":"z-star"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1535006285,"creation_date":1535006285,"answer_id":51979686,"question_id":51705349,"body_markdown":"tensorflow serving is a service, so treat as such. there is no need for anything special. since 1.8 tensorflow serving offers a REST API so simply send an http request from you java application to the REST tensorflow serving service. \r\n\r\nThere is a simple example for how to set up a REST tensorflow serving service for MNIST (but can be used with any model) in a blog post a recently posted: “Tensorflow serving: REST vs gRPC” https://medium.com/@avidaneran/tensorflow-serving-rest-vs-grpc-e8cef9d4ff62\r\n\r\nAll that is left for you to do is create the REST request according to your model (inception) signature.\r\n\r\n","title":"Consume tensor-flow serving inception model using java client","body":"<p>tensorflow serving is a service, so treat as such. there is no need for anything special. since 1.8 tensorflow serving offers a REST API so simply send an http request from you java application to the REST tensorflow serving service. </p>\n\n<p>There is a simple example for how to set up a REST tensorflow serving service for MNIST (but can be used with any model) in a blog post a recently posted: “Tensorflow serving: REST vs gRPC” <a href=\"https://medium.com/@avidaneran/tensorflow-serving-rest-vs-grpc-e8cef9d4ff62\" rel=\"nofollow noreferrer\">https://medium.com/@avidaneran/tensorflow-serving-rest-vs-grpc-e8cef9d4ff62</a></p>\n\n<p>All that is left for you to do is create the REST request according to your model (inception) signature.</p>\n"},{"tags":[],"owner":{"account_id":1533,"reputation":9939,"user_id":2050,"accept_rate":71,"display_name":"Eric Platon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538359163,"creation_date":1538359163,"answer_id":52583724,"question_id":51705349,"body_markdown":"Assuming Tensorflow Serving `1.11.0-rc1` (it does not work in `1.10.1`), the form of the request JSON payload is:\r\n\r\n    {\r\n      &quot;inputs&quot;: {\r\n        &quot;images&quot;: [{ &quot;b64&quot;: &quot;IMAGE_BASE64&quot; }]\r\n      }\r\n    }\r\n\r\nWhere `IMAGE_BASE64` is the Base64 encoding on the image to predict on (typically a long string, so not shown here). The Java client library needs to build this payload for an input image.\r\n\r\nThen, the Java client would submit the request to the following endpoint:\r\n\r\n    POST /v1/models/inception:predict\r\n\r\nYou may have to replace `inception` for the name of the model deployed on the server.\r\n\r\n---\r\n\r\nTo try from a shell (either from a Linux running on Docker, or with an equivalent PowerShell command) against the server available on `localhost` (mapping to the port exposed by your Docker Serving container, here `8501`):\r\n\r\n    curl -d &quot;@request.json&quot; -X POST http://localhost:8501/v1/models/inception:predict\r\n\r\nThe `request.json` file contains the request JSON payload at the beginning of this post. A typical response:\r\n\r\n    {\r\n      &quot;outputs&quot;: {\r\n        &quot;classes&quot;: [\r\n          &quot;class1&quot;,\r\n          &quot;class2&quot;,\r\n          ...\r\n        ],\r\n        &quot;scores&quot;: [\r\n          [\r\n            0.0321035,\r\n            0.905796,\r\n            ...\r\n          ]\r\n        ]\r\n      }\r\n    }\r\n\r\n---\r\n\r\nImportant note: The above runs come from a deployment of an old Inception v3 model (2015), exported at the time of Serving `0.4.1`. It works very well with Serving `1.11.0-rc1`, though. If you have exported your model with the latest export script, there might be small differences (the `1.11.0-rc1` [export script](https://github.com/tensorflow/serving/blob/1.11.0-rc1/tensorflow_serving/example/inception_saved_model.py) does not seem to differ in terms of signature). So this answer may not work as is for you, but just put you on the way to solve the problem.","title":"Consume tensor-flow serving inception model using java client","body":"<p>Assuming Tensorflow Serving <code>1.11.0-rc1</code> (it does not work in <code>1.10.1</code>), the form of the request JSON payload is:</p>\n\n<pre><code>{\n  \"inputs\": {\n    \"images\": [{ \"b64\": \"IMAGE_BASE64\" }]\n  }\n}\n</code></pre>\n\n<p>Where <code>IMAGE_BASE64</code> is the Base64 encoding on the image to predict on (typically a long string, so not shown here). The Java client library needs to build this payload for an input image.</p>\n\n<p>Then, the Java client would submit the request to the following endpoint:</p>\n\n<pre><code>POST /v1/models/inception:predict\n</code></pre>\n\n<p>You may have to replace <code>inception</code> for the name of the model deployed on the server.</p>\n\n<hr>\n\n<p>To try from a shell (either from a Linux running on Docker, or with an equivalent PowerShell command) against the server available on <code>localhost</code> (mapping to the port exposed by your Docker Serving container, here <code>8501</code>):</p>\n\n<pre><code>curl -d \"@request.json\" -X POST http://localhost:8501/v1/models/inception:predict\n</code></pre>\n\n<p>The <code>request.json</code> file contains the request JSON payload at the beginning of this post. A typical response:</p>\n\n<pre><code>{\n  \"outputs\": {\n    \"classes\": [\n      \"class1\",\n      \"class2\",\n      ...\n    ],\n    \"scores\": [\n      [\n        0.0321035,\n        0.905796,\n        ...\n      ]\n    ]\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>Important note: The above runs come from a deployment of an old Inception v3 model (2015), exported at the time of Serving <code>0.4.1</code>. It works very well with Serving <code>1.11.0-rc1</code>, though. If you have exported your model with the latest export script, there might be small differences (the <code>1.11.0-rc1</code> <a href=\"https://github.com/tensorflow/serving/blob/1.11.0-rc1/tensorflow_serving/example/inception_saved_model.py\" rel=\"nofollow noreferrer\">export script</a> does not seem to differ in terms of signature). So this answer may not work as is for you, but just put you on the way to solve the problem.</p>\n"}],"owner":{"account_id":11784500,"reputation":101,"user_id":8622785,"display_name":"Nikhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667212449,"creation_date":1533550600,"question_id":51705349,"body_markdown":"What I did is, I have deployed tensor-flow serving using Docker on Windows. I am using inception model inside the tensor-flow serving. It is up and running. \r\nNow, using **java**, I want to upload the image from browser to this inception model running in tensorflow serving and in response I should get the class name.\r\n\r\nAny sample example would help.","title":"Consume tensor-flow serving inception model using java client","body":"<p>What I did is, I have deployed tensor-flow serving using Docker on Windows. I am using inception model inside the tensor-flow serving. It is up and running. \nNow, using <strong>java</strong>, I want to upload the image from browser to this inception model running in tensorflow serving and in response I should get the class name.</p>\n\n<p>Any sample example would help.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1433765370,"post_id":30707277,"comment_id":49474801,"body_markdown":"Could you please explain what your code is supposed to do. I don&#39;t understand your description of the problem or your code.","body":"Could you please explain what your code is supposed to do. I don&#39;t understand your description of the problem or your code."},{"owner":{"account_id":6414698,"reputation":145,"user_id":4973273,"accept_rate":60,"display_name":"Akshay chauhan"},"score":0,"creation_date":1433767482,"post_id":30707277,"comment_id":49476270,"body_markdown":"see, i set background color, it being set finely. but whenever i scrolls the colors changes positions. and i have an image for take input like(this item is my favorite) its a find as clip, if its clicked its turns in blue color, working fine. whenever i scrolls this icons shuffles, i wanted to fix these background color and the image issue. like the color must be the same as its assigned when view is being created.","body":"see, i set background color, it being set finely. but whenever i scrolls the colors changes positions. and i have an image for take input like(this item is my favorite) its a find as clip, if its clicked its turns in blue color, working fine. whenever i scrolls this icons shuffles, i wanted to fix these background color and the image issue. like the color must be the same as its assigned when view is being created."},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1433768738,"post_id":30707277,"comment_id":49477139,"body_markdown":"I understand, you should read up on view recycling. To fix your issue you just have to set the color in `onBindViewHolder()` and not `onCreateViewHolder()`.","body":"I understand, you should read up on view recycling. To fix your issue you just have to set the color in <code>onBindViewHolder()</code> and not <code>onCreateViewHolder()</code>."},{"owner":{"account_id":6414698,"reputation":145,"user_id":4973273,"accept_rate":60,"display_name":"Akshay chauhan"},"score":0,"creation_date":1433769121,"post_id":30707277,"comment_id":49477440,"body_markdown":"I written in `onBindViewHolder()` but doesnt working.","body":"I written in <code>onBindViewHolder()</code> but doesnt working."},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1433769155,"post_id":30707277,"comment_id":49477475,"body_markdown":"&quot;doesn&#39;t working&quot; is not a problem description.","body":"&quot;doesn&#39;t working&quot; is not a problem description."},{"owner":{"account_id":6414698,"reputation":145,"user_id":4973273,"accept_rate":60,"display_name":"Akshay chauhan"},"score":0,"creation_date":1433769650,"post_id":30707277,"comment_id":49477843,"body_markdown":"its same yet. what i can say more. problem still the same. color shuffles.","body":"its same yet. what i can say more. problem still the same. color shuffles."}],"answers":[{"tags":[],"owner":{"account_id":2706257,"reputation":25,"user_id":2335805,"display_name":"Snehasis Maity"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433761829,"creation_date":1433761829,"answer_id":30707602,"question_id":30707277,"body_markdown":"I got the same problem ,when i used the radioButton in my listView row, I solved it. As in every scrolling the Cache is cleared, you have to store the changed data in every row. just check my code \r\n\r\n    @Override\r\n    \tpublic View getView(final int position, View convertView, ViewGroup parent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    //\t\tif(position==0)\r\n    //\t\tToast.makeText(context, &quot;&quot;+QuestionViewPageAdapter.mRadioGroupData, Toast.LENGTH_SHORT).show();\r\n    \t\t\r\n    \t\tfinal ViewHolder viewHolder;\r\n    \t\tView row=convertView;\r\n    \t\t\r\n    \t\tradioButton=new RadioButton[Integer.parseInt(mNoOfCategoryGreading)];\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\t\tLayoutInflater inflater =LayoutInflater.from(context);//(LayoutInflater)context.getSystemService(Activity.LAYOUT_INFLATER_SERVICE);\r\n    \t\t\trow = inflater.inflate(R.layout.question_row, parent, false);\r\n    \t\t\t\r\n    \t\t\tviewHolder=new ViewHolder();\r\n    \t\t\t\r\n    \t\t\tviewHolder.tv_qContent=(TextView)row.findViewById(R.id.tv_question);\r\n    \t\t\tviewHolder.rg=(RadioGroup)row.findViewById(R.id.rgrp);\r\n    \t\t\t\r\n    \t\t\tfor(int i=0;i&lt;Integer.parseInt(mNoOfCategoryGreading);i++)\r\n    \t\t\t{\r\n    \t\t\t\tradioButton[i]=new RadioButton(context);\r\n    \t\t\t\tradioButton[i].setLayoutParams(new RadioGroup.LayoutParams(0, LayoutParams.WRAP_CONTENT,1f));\r\n    \t\t\t\t//1f for layout_weight=&quot;1&quot;\r\n    \t\t\t\tradioButton[i].setId(i);\r\n    \t\t\t\tradioButton[i].setText(&quot;&quot;+(i+1));\r\n    \t\t\t\t\r\n    \t\t\t\tviewHolder.rg.addView(radioButton[i]);\r\n    \t\t\t}\r\n    \t\t\trow.setTag(viewHolder);\r\n    \r\n    \t\t\t\r\n    \t\t\tfor(int i=0;i&lt;QuestionViewPageAdapter.mRadioGroupData.size();i++){\r\n    \t\t\t\tint p=Integer.parseInt(&quot;&quot;+QuestionViewPageAdapter.mRadioGroupData.get(i).get(&quot;position&quot;));\r\n    \t\t\t\tString id=QuestionViewPageAdapter.mRadioGroupData.get(i).get(&quot;Id&quot;);\r\n    \t\t\t\tif(p!=-1 &amp;&amp; id.equals(&quot;&quot;+data.get(position).get(AppData.question_Set_category_QuestionID)))\r\n    \t\t\t\t{//radioButton[p].setSelected(true);\r\n    \t\t\t\t\tviewHolder.rg.check(p-1);}\r\n    \t\t\t\t//Toast.makeText(context, &quot;Yes &quot;+p, Toast.LENGTH_LONG).show();}\r\n    \t\t\t}\r\n    \t\t\r\n    \t\tviewHolder.tv_qContent.setText((position+1)+&quot;. &quot;+data.get(position).get(AppData.question_Set_category_QuestionContent));\r\n    \t\tviewHolder.tv_qContent.setTypeface(typeface_muso_regular300);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tviewHolder.rg.setOnCheckedChangeListener(new OnCheckedChangeListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onCheckedChanged(RadioGroup group, int checkedId) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t\tString s=data.get(position).get(AppData.question_Set_category_QuestionID);\r\n    \t\t\t\tisAvailabel(s);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\t\tint radioButtonID = viewHolder.rg.getCheckedRadioButtonId();\r\n    \t\t\t\t\t\tView radioButton = viewHolder.rg.findViewById(radioButtonID);\r\n    \t\t\t\t\t\tint idx = viewHolder.rg.indexOfChild(radioButton);\r\n    \t\t\t\t\t\tHashMap&lt;String, String&gt; map=new HashMap&lt;String, String&gt;();\r\n    \t\t\t\t\t\tmap.put(&quot;position&quot;, &quot;&quot;+(idx+1));\r\n    \t\t\t\t\t\tmap.put(&quot;Id&quot;, &quot;&quot;+data.get(position).get(AppData.question_Set_category_QuestionID));\r\n    \t\t\t\t\t\tmap.put(&quot;CategoryId&quot;, &quot;&quot;+mCategoryId);\r\n    \t\t\t\t\t\tQuestionViewPageAdapter.mRadioGroupData.add(map);\r\n    \t\t\t\t}\r\n    \t\t\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\treturn row;\r\n    \t}\r\n    \t\r\n    \tprivate void isAvailabel(String qId){\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;QuestionViewPageAdapter.mRadioGroupData.size();i++){\r\n    \t\t\tif(qId.equals(QuestionViewPageAdapter.mRadioGroupData.get(i).get(&quot;Id&quot;))){\r\n    \t\t\t\tposition=i;\r\n    \t\t\t\t\r\n    \t\t\t\tQuestionViewPageAdapter.mRadioGroupData.remove(i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t class ViewHolder {\r\n    \t\t TextView tv_qContent ,tv_1,tv_2,tv_3;\r\n    \t\t\tRadioGroup rg;\r\n    \t\t\tRadioButton rBtn1,rBtn2,rBtn3,rBtn4,rBtn5;\r\n         }\r\n\r\n","title":"Background color or Images shuffling on scrolling in recyclerview?","body":"<p>I got the same problem ,when i used the radioButton in my listView row, I solved it. As in every scrolling the Cache is cleared, you have to store the changed data in every row. just check my code </p>\n\n<pre><code>@Override\n    public View getView(final int position, View convertView, ViewGroup parent) {\n        // TODO Auto-generated method stub\n//      if(position==0)\n//      Toast.makeText(context, \"\"+QuestionViewPageAdapter.mRadioGroupData, Toast.LENGTH_SHORT).show();\n\n        final ViewHolder viewHolder;\n        View row=convertView;\n\n        radioButton=new RadioButton[Integer.parseInt(mNoOfCategoryGreading)];\n\n\n\n            LayoutInflater inflater =LayoutInflater.from(context);//(LayoutInflater)context.getSystemService(Activity.LAYOUT_INFLATER_SERVICE);\n            row = inflater.inflate(R.layout.question_row, parent, false);\n\n            viewHolder=new ViewHolder();\n\n            viewHolder.tv_qContent=(TextView)row.findViewById(R.id.tv_question);\n            viewHolder.rg=(RadioGroup)row.findViewById(R.id.rgrp);\n\n            for(int i=0;i&lt;Integer.parseInt(mNoOfCategoryGreading);i++)\n            {\n                radioButton[i]=new RadioButton(context);\n                radioButton[i].setLayoutParams(new RadioGroup.LayoutParams(0, LayoutParams.WRAP_CONTENT,1f));\n                //1f for layout_weight=\"1\"\n                radioButton[i].setId(i);\n                radioButton[i].setText(\"\"+(i+1));\n\n                viewHolder.rg.addView(radioButton[i]);\n            }\n            row.setTag(viewHolder);\n\n\n            for(int i=0;i&lt;QuestionViewPageAdapter.mRadioGroupData.size();i++){\n                int p=Integer.parseInt(\"\"+QuestionViewPageAdapter.mRadioGroupData.get(i).get(\"position\"));\n                String id=QuestionViewPageAdapter.mRadioGroupData.get(i).get(\"Id\");\n                if(p!=-1 &amp;&amp; id.equals(\"\"+data.get(position).get(AppData.question_Set_category_QuestionID)))\n                {//radioButton[p].setSelected(true);\n                    viewHolder.rg.check(p-1);}\n                //Toast.makeText(context, \"Yes \"+p, Toast.LENGTH_LONG).show();}\n            }\n\n        viewHolder.tv_qContent.setText((position+1)+\". \"+data.get(position).get(AppData.question_Set_category_QuestionContent));\n        viewHolder.tv_qContent.setTypeface(typeface_muso_regular300);\n\n\n\n        viewHolder.rg.setOnCheckedChangeListener(new OnCheckedChangeListener() {\n\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                // TODO Auto-generated method stub\n\n                String s=data.get(position).get(AppData.question_Set_category_QuestionID);\n                isAvailabel(s);\n\n\n                        int radioButtonID = viewHolder.rg.getCheckedRadioButtonId();\n                        View radioButton = viewHolder.rg.findViewById(radioButtonID);\n                        int idx = viewHolder.rg.indexOfChild(radioButton);\n                        HashMap&lt;String, String&gt; map=new HashMap&lt;String, String&gt;();\n                        map.put(\"position\", \"\"+(idx+1));\n                        map.put(\"Id\", \"\"+data.get(position).get(AppData.question_Set_category_QuestionID));\n                        map.put(\"CategoryId\", \"\"+mCategoryId);\n                        QuestionViewPageAdapter.mRadioGroupData.add(map);\n                }\n\n\n        });\n\n\n\n\n\n        return row;\n    }\n\n    private void isAvailabel(String qId){\n\n        for(int i=0;i&lt;QuestionViewPageAdapter.mRadioGroupData.size();i++){\n            if(qId.equals(QuestionViewPageAdapter.mRadioGroupData.get(i).get(\"Id\"))){\n                position=i;\n\n                QuestionViewPageAdapter.mRadioGroupData.remove(i);\n            }\n        }\n\n    }\n\n     class ViewHolder {\n         TextView tv_qContent ,tv_1,tv_2,tv_3;\n            RadioGroup rg;\n            RadioButton rBtn1,rBtn2,rBtn3,rBtn4,rBtn5;\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1436251520,"creation_date":1433770569,"answer_id":30710604,"question_id":30707277,"body_markdown":"I have created a working example of what you are trying to accomplish. The source of the errors you experience is mostly that you don&#39;t understand view recycling. I am not going to explain the whole thing to you now, but anyway here is the example:\r\n\r\n---\r\n\r\nFor the example I used this layout for each row:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/background&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;80dp&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;/&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\nI used this model:\r\n\r\n    public class ExampleModel {\r\n    \r\n        private final int mColor;\r\n        private final String mText;\r\n    \r\n        public ExampleModel(int color, String text) {\r\n            mColor = color;\r\n            mText = text;\r\n        }\r\n    \r\n        public int getColor() {\r\n            return mColor;\r\n        }\r\n\r\n        public String getText() {\r\n            return mText;\r\n        }\r\n    }\r\n\r\nAnd this view holder:\r\n\r\n    public class ExampleViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        private final FrameLayout mBackground;\r\n        private final TextView mTextView;\r\n    \r\n        public ExampleViewHolder(View itemView) {\r\n            super(itemView);\r\n    \r\n            mBackground = (FrameLayout) itemView.findViewById(R.id.background);\r\n            mTextView = (TextView) itemView.findViewById(R.id.textView);\r\n        }\r\n    \r\n        public void bind(ExampleModel model) {\r\n            mBackground.setBackgroundColor(model.getColor());\r\n            mTextView.setText(model.getText());\r\n        }\r\n    }\r\n\r\nAs you can see nothing special, the `Adapter` implementation is equally simple:\r\n\r\n    public class ExampleAdapter extends RecyclerView.Adapter&lt;ExampleViewHolder&gt; {\r\n    \r\n        private final LayoutInflater mInflater;\r\n        private final List&lt;ExampleModel&gt; mModels;\r\n    \r\n        public ExampleAdapter(Context context, List&lt;ExampleModel&gt; models) {\r\n            mInflater = LayoutInflater.from(context);\r\n            mModels = models;\r\n        }\r\n    \r\n        @Override\r\n        public ExampleViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            final View itemView = mInflater.inflate(R.layout.item_example, parent, false);\r\n            return new ExampleViewHolder(itemView);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(ExampleViewHolder holder, int position) {\r\n            final ExampleModel model = mModels.get(position);\r\n            holder.bind(model);\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mModels.size();\r\n        }\r\n    }\r\n\r\nAnd you use the whole thing like this:\r\n\r\n    final Random mRandom = new Random(System.currentTimeMillis());\r\n\r\n    @Override\r\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\n        final List&lt;ExampleModel&gt; models = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            final int randomColor = generateRandomPastelColor();\r\n            models.add(new ExampleModel(randomColor, String.valueOf(i)));\r\n        }\r\n\r\n        final ExampleAdapter adapter = new ExampleAdapter(getActivity(), models);\r\n        recyclerView.setAdapter(adapter);\r\n    }\r\n\r\n    public int generateRandomPastelColor() {\r\n        final int baseColor = Color.WHITE;\r\n\r\n        final int red = (Color.red(baseColor) + mRandom.nextInt(256)) / 2;\r\n        final int green = (Color.green(baseColor) + mRandom.nextInt(256)) / 2;\r\n        final int blue = (Color.blue(baseColor) + mRandom.nextInt(256)) / 2;\r\n\r\n        return Color.rgb(red, green, blue);\r\n    }\r\n\r\n---\r\n\r\nThis should do what you are looking for and you can use it as an example of how to implement your `Adapter`.","title":"Background color or Images shuffling on scrolling in recyclerview?","body":"<p>I have created a working example of what you are trying to accomplish. The source of the errors you experience is mostly that you don't understand view recycling. I am not going to explain the whole thing to you now, but anyway here is the example:</p>\n\n<hr>\n\n<p>For the example I used this layout for each row:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout\n    android:id=\"@+id/background\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"80dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>I used this model:</p>\n\n<pre><code>public class ExampleModel {\n\n    private final int mColor;\n    private final String mText;\n\n    public ExampleModel(int color, String text) {\n        mColor = color;\n        mText = text;\n    }\n\n    public int getColor() {\n        return mColor;\n    }\n\n    public String getText() {\n        return mText;\n    }\n}\n</code></pre>\n\n<p>And this view holder:</p>\n\n<pre><code>public class ExampleViewHolder extends RecyclerView.ViewHolder {\n\n    private final FrameLayout mBackground;\n    private final TextView mTextView;\n\n    public ExampleViewHolder(View itemView) {\n        super(itemView);\n\n        mBackground = (FrameLayout) itemView.findViewById(R.id.background);\n        mTextView = (TextView) itemView.findViewById(R.id.textView);\n    }\n\n    public void bind(ExampleModel model) {\n        mBackground.setBackgroundColor(model.getColor());\n        mTextView.setText(model.getText());\n    }\n}\n</code></pre>\n\n<p>As you can see nothing special, the <code>Adapter</code> implementation is equally simple:</p>\n\n<pre><code>public class ExampleAdapter extends RecyclerView.Adapter&lt;ExampleViewHolder&gt; {\n\n    private final LayoutInflater mInflater;\n    private final List&lt;ExampleModel&gt; mModels;\n\n    public ExampleAdapter(Context context, List&lt;ExampleModel&gt; models) {\n        mInflater = LayoutInflater.from(context);\n        mModels = models;\n    }\n\n    @Override\n    public ExampleViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        final View itemView = mInflater.inflate(R.layout.item_example, parent, false);\n        return new ExampleViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(ExampleViewHolder holder, int position) {\n        final ExampleModel model = mModels.get(position);\n        holder.bind(model);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mModels.size();\n    }\n}\n</code></pre>\n\n<p>And you use the whole thing like this:</p>\n\n<pre><code>final Random mRandom = new Random(System.currentTimeMillis());\n\n@Override\npublic void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n\n    final List&lt;ExampleModel&gt; models = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; 100; i++) {\n        final int randomColor = generateRandomPastelColor();\n        models.add(new ExampleModel(randomColor, String.valueOf(i)));\n    }\n\n    final ExampleAdapter adapter = new ExampleAdapter(getActivity(), models);\n    recyclerView.setAdapter(adapter);\n}\n\npublic int generateRandomPastelColor() {\n    final int baseColor = Color.WHITE;\n\n    final int red = (Color.red(baseColor) + mRandom.nextInt(256)) / 2;\n    final int green = (Color.green(baseColor) + mRandom.nextInt(256)) / 2;\n    final int blue = (Color.blue(baseColor) + mRandom.nextInt(256)) / 2;\n\n    return Color.rgb(red, green, blue);\n}\n</code></pre>\n\n<hr>\n\n<p>This should do what you are looking for and you can use it as an example of how to implement your <code>Adapter</code>.</p>\n"},{"tags":[],"owner":{"account_id":5032089,"reputation":1129,"user_id":4041980,"display_name":"Jaspinder Kaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457881624,"creation_date":1457881624,"answer_id":35971856,"question_id":30707277,"body_markdown":"In my case overriding `getItemId` and setting `sethasStableIds` to true solved the shuffling issue.\r\n\r\nin adapter:\r\n\r\n        @Override\r\n        public long getItemId(int position) {\r\n        Object listItem = feeds.get(position);\r\n        return listItem.hashCode();\r\n        }\r\n\r\nin main activity/fragment :\r\n\r\n        adapter = new FeedAdapter(feeds, getContext());\r\n        adapter.setHasStableIds(true);","title":"Background color or Images shuffling on scrolling in recyclerview?","body":"<p>In my case overriding <code>getItemId</code> and setting <code>sethasStableIds</code> to true solved the shuffling issue.</p>\n\n<p>in adapter:</p>\n\n<pre><code>    @Override\n    public long getItemId(int position) {\n    Object listItem = feeds.get(position);\n    return listItem.hashCode();\n    }\n</code></pre>\n\n<p>in main activity/fragment :</p>\n\n<pre><code>    adapter = new FeedAdapter(feeds, getContext());\n    adapter.setHasStableIds(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12599480,"reputation":111,"user_id":9162733,"display_name":"Priyavrat Talyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667212161,"creation_date":1667212161,"answer_id":74261929,"question_id":30707277,"body_markdown":"After days of struggle and headache, i have found a very simple solution.\r\nIn your adapter you just need to override 2 methods.\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\nHelped me resolve the shuffling issue of recycler view.","title":"Background color or Images shuffling on scrolling in recyclerview?","body":"<p>After days of struggle and headache, i have found a very simple solution.\nIn your adapter you just need to override 2 methods.</p>\n<pre><code>@Override\npublic int getItemViewType(int position) {\n    return position;\n}\n\n@Override\npublic long getItemId(int position) {\n    return position;\n}\n</code></pre>\n<p>Helped me resolve the shuffling issue of recycler view.</p>\n"}],"owner":{"account_id":6414698,"reputation":145,"user_id":4973273,"accept_rate":60,"display_name":"Akshay chauhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5395,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30710604,"answer_count":4,"score":4,"last_activity_date":1667212161,"creation_date":1433760811,"question_id":30707277,"body_markdown":"I am wondering that my images and color of layouts shuffling when i scrolls downwards or upwards, I created cardview using recyclerview. and set an image(changes color on click like to know if its user&#39;s favourite item) and setbackgroundcolor(randomly chossen) to the parent layout to make cardview attractive. but when i scrolls\r\n1. the image that image changes position,\r\n2. the layout background changes color automatically.\r\n\r\nI am posting my adapter&#39;s code here.\r\n\r\n    public class TOAdapter extends RecyclerView.Adapter&lt;TOAdapter.ViewHolder&gt; {\r\n    JSONArray jsonArray;\r\n    private String title;\r\n    private String image;\r\n    private ImageLoader imageLoader;\r\n    private String subtitle;\r\n    private String subti;\r\n    private Context context;\r\n    private ImageView clip;\r\n\r\n    public TOAdapter(JSONArray jsonArray) {\r\n        this.jsonArray = jsonArray;\r\n    }\r\n\r\n    // Create new views (invoked by the layout manager)\r\n    @Override\r\n    public TOAdapter.ViewHolder onCreateViewHolder(final ViewGroup parent,\r\n                                                   int viewType) {\r\n        // create a new view\r\n        View itemLayoutView = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.top_twenty_list, parent, false);\r\n        final ViewHolder viewHolder = new ViewHolder(itemLayoutView);\r\n\r\n\r\n        final Random random = new Random(System.currentTimeMillis());// We add 155 since we want at least 155 in each channel.// Then we add to it a random number between 0 and 100.\r\n        int r = 155 + random.nextInt(101);\r\n        int g = 155 + random.nextInt(101);\r\n        int b = 155 + random.nextInt(101);\r\n        int color = Color.rgb(r, g, b);\r\n\r\n        viewHolder.frame.setBackgroundColor(color);\r\n        viewHolder.layer.setBackgroundColor(color);\r\n        clip = (ImageView) itemLayoutView.findViewById(R.id.ic_clip);\r\n        clip.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int iColor = Color.parseColor(&quot;#0000FF&quot;);\r\n\r\n                int red = (iColor &amp; 0xFF0000) / 0xFFFF;\r\n                int green = (iColor &amp; 0xFF00) / 0xFF;\r\n                int blue = iColor &amp; 0xFF;\r\n\r\n                float[] matrix = {0, 0, 0, 0, red\r\n                        , 0, 0, 0, 0, green\r\n                        , 0, 0, 0, 0, blue\r\n                        , 0, 0, 0, 1, 0};\r\n\r\n                ColorFilter colorFilter = new ColorMatrixColorFilter(matrix);\r\n                clip.setColorFilter(colorFilter);\r\n            }\r\n        });\r\n\r\n\r\n        return viewHolder;\r\n    }\r\n\r\n    // Replace the contents of a view (invoked by the layout manager)\r\n    @Override\r\n    public void onBindViewHolder(final ViewHolder viewHolder, int position) {\r\n\r\n        // - get data from your itemsData at this position\r\n        // - replace the contents of the view with that itemsData\r\n        // myTypeface = Typeface.createFromAsset(context.getAssets(), &quot;fonts/RobotoCondensedBoldItalic.ttf&quot;);\r\n\r\n\r\n        try {\r\n            JSONObject obj = jsonArray.getJSONObject(position);\r\n            title = obj.getString(&quot;title&quot;);\r\n            image = obj.getString(&quot;brand_logo&quot;);\r\n            subtitle = obj.getString(&quot;sub_title&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        viewHolder.txtViewTitle.setText(subtitle);\r\n        viewHolder.subtitle.setText(title);\r\n\r\n\r\n        if (imageLoader == null)\r\n            imageLoader = AppController.getInstance().getImageLoader();\r\n        String full_Url = &quot;http://mycompany/assets/new&quot; + image;\r\n        viewHolder.thumbnail.setImageUrl(full_Url, imageLoader);\r\n        viewHolder.btn_get_deal.setTag(position);\r\n\r\n        viewHolder.btn_get_deal.setOnClickListener(new View.OnClickListener() {\r\n            public JSONObject obj;\r\n            public ArrayList&lt;String&gt; offerlist = new ArrayList();\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent offerpage = new Intent(AppController.getInstance().getApplicationContext(), OfferDetails.class);\r\n                Integer pos = (Integer) view.getTag();\r\n                try {\r\n                    obj = jsonArray.getJSONObject(pos);\r\n                    offerpage.putExtra(&quot;jsonObj&quot;, obj.toString());\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                //offerpage.getParcelableArrayListExtra(offerlist);\r\n                offerpage.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                AppController.getInstance().getApplicationContext().startActivity(offerpage);\r\n            }\r\n        });\r\n\r\n\r\n        //viewHolder.txtViewTitle.setTypeface(myTypeface);\r\n\r\n\r\n    }\r\n\r\n    // inner class to hold a reference to each item of RecyclerView\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private final NetworkImageView thumbnail;\r\n        private final RelativeLayout frame;\r\n        private final RelativeLayout layer;\r\n        public TextView txtViewTitle;\r\n        public TextView subtitle;\r\n        public ImageView clip;\r\n        public CardView btn_get_deal;\r\n\r\n\r\n        public ViewHolder(View itemLayoutView) {\r\n            super(itemLayoutView);\r\n            txtViewTitle = (TextView) itemLayoutView.findViewById(R.id.txttitle_toptwenty);\r\n            subtitle = (TextView) itemLayoutView.findViewById(R.id.sub_title_toptwenty);\r\n            thumbnail = (NetworkImageView) itemLayoutView.findViewById(R.id.thumbnail_topwenty);\r\n            frame = (RelativeLayout) itemLayoutView.findViewById(R.id.frame);\r\n            layer = (RelativeLayout) itemLayoutView.findViewById(R.id.layer);\r\n            btn_get_deal = (CardView) itemLayoutView.findViewById(R.id.card_view);\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // Return the size of your itemsData (invoked by the layout manager)\r\n    @Override\r\n    public int getItemCount() {\r\n        return jsonArray.length();\r\n    }\r\n}","title":"Background color or Images shuffling on scrolling in recyclerview?","body":"<p>I am wondering that my images and color of layouts shuffling when i scrolls downwards or upwards, I created cardview using recyclerview. and set an image(changes color on click like to know if its user's favourite item) and setbackgroundcolor(randomly chossen) to the parent layout to make cardview attractive. but when i scrolls\n1. the image that image changes position,\n2. the layout background changes color automatically.</p>\n\n<p>I am posting my adapter's code here.</p>\n\n<pre><code>public class TOAdapter extends RecyclerView.Adapter&lt;TOAdapter.ViewHolder&gt; {\nJSONArray jsonArray;\nprivate String title;\nprivate String image;\nprivate ImageLoader imageLoader;\nprivate String subtitle;\nprivate String subti;\nprivate Context context;\nprivate ImageView clip;\n\npublic TOAdapter(JSONArray jsonArray) {\n    this.jsonArray = jsonArray;\n}\n\n// Create new views (invoked by the layout manager)\n@Override\npublic TOAdapter.ViewHolder onCreateViewHolder(final ViewGroup parent,\n                                               int viewType) {\n    // create a new view\n    View itemLayoutView = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.top_twenty_list, parent, false);\n    final ViewHolder viewHolder = new ViewHolder(itemLayoutView);\n\n\n    final Random random = new Random(System.currentTimeMillis());// We add 155 since we want at least 155 in each channel.// Then we add to it a random number between 0 and 100.\n    int r = 155 + random.nextInt(101);\n    int g = 155 + random.nextInt(101);\n    int b = 155 + random.nextInt(101);\n    int color = Color.rgb(r, g, b);\n\n    viewHolder.frame.setBackgroundColor(color);\n    viewHolder.layer.setBackgroundColor(color);\n    clip = (ImageView) itemLayoutView.findViewById(R.id.ic_clip);\n    clip.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int iColor = Color.parseColor(\"#0000FF\");\n\n            int red = (iColor &amp; 0xFF0000) / 0xFFFF;\n            int green = (iColor &amp; 0xFF00) / 0xFF;\n            int blue = iColor &amp; 0xFF;\n\n            float[] matrix = {0, 0, 0, 0, red\n                    , 0, 0, 0, 0, green\n                    , 0, 0, 0, 0, blue\n                    , 0, 0, 0, 1, 0};\n\n            ColorFilter colorFilter = new ColorMatrixColorFilter(matrix);\n            clip.setColorFilter(colorFilter);\n        }\n    });\n\n\n    return viewHolder;\n}\n\n// Replace the contents of a view (invoked by the layout manager)\n@Override\npublic void onBindViewHolder(final ViewHolder viewHolder, int position) {\n\n    // - get data from your itemsData at this position\n    // - replace the contents of the view with that itemsData\n    // myTypeface = Typeface.createFromAsset(context.getAssets(), \"fonts/RobotoCondensedBoldItalic.ttf\");\n\n\n    try {\n        JSONObject obj = jsonArray.getJSONObject(position);\n        title = obj.getString(\"title\");\n        image = obj.getString(\"brand_logo\");\n        subtitle = obj.getString(\"sub_title\");\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n    viewHolder.txtViewTitle.setText(subtitle);\n    viewHolder.subtitle.setText(title);\n\n\n    if (imageLoader == null)\n        imageLoader = AppController.getInstance().getImageLoader();\n    String full_Url = \"http://mycompany/assets/new\" + image;\n    viewHolder.thumbnail.setImageUrl(full_Url, imageLoader);\n    viewHolder.btn_get_deal.setTag(position);\n\n    viewHolder.btn_get_deal.setOnClickListener(new View.OnClickListener() {\n        public JSONObject obj;\n        public ArrayList&lt;String&gt; offerlist = new ArrayList();\n\n        @Override\n        public void onClick(View view) {\n\n            Intent offerpage = new Intent(AppController.getInstance().getApplicationContext(), OfferDetails.class);\n            Integer pos = (Integer) view.getTag();\n            try {\n                obj = jsonArray.getJSONObject(pos);\n                offerpage.putExtra(\"jsonObj\", obj.toString());\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n            //offerpage.getParcelableArrayListExtra(offerlist);\n            offerpage.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            AppController.getInstance().getApplicationContext().startActivity(offerpage);\n        }\n    });\n\n\n    //viewHolder.txtViewTitle.setTypeface(myTypeface);\n\n\n}\n\n// inner class to hold a reference to each item of RecyclerView\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n\n    private final NetworkImageView thumbnail;\n    private final RelativeLayout frame;\n    private final RelativeLayout layer;\n    public TextView txtViewTitle;\n    public TextView subtitle;\n    public ImageView clip;\n    public CardView btn_get_deal;\n\n\n    public ViewHolder(View itemLayoutView) {\n        super(itemLayoutView);\n        txtViewTitle = (TextView) itemLayoutView.findViewById(R.id.txttitle_toptwenty);\n        subtitle = (TextView) itemLayoutView.findViewById(R.id.sub_title_toptwenty);\n        thumbnail = (NetworkImageView) itemLayoutView.findViewById(R.id.thumbnail_topwenty);\n        frame = (RelativeLayout) itemLayoutView.findViewById(R.id.frame);\n        layer = (RelativeLayout) itemLayoutView.findViewById(R.id.layer);\n        btn_get_deal = (CardView) itemLayoutView.findViewById(R.id.card_view);\n\n\n    }\n\n}\n\n\n// Return the size of your itemsData (invoked by the layout manager)\n@Override\npublic int getItemCount() {\n    return jsonArray.length();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":18842952,"reputation":16,"user_id":13743964,"display_name":"Roman Meromerow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667157872,"creation_date":1667157872,"answer_id":74256081,"question_id":74255783,"body_markdown":"On getting collection reference it is possible to apply [orderBy][1] method and then add a snapshot listener. Probably, Firebase stores the entities in different order rather than you expect and order by creation date should be declared explicitly.\r\n\r\n    firebaseFirestore.collection(&quot;Chats&quot;).document(senderroom)\r\n            .collection(&quot;Messages&quot;)\r\n            .orderBy(&quot;${dateField}&quot;)\r\n            .addSnapshotListener(...)\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/js/v8/firebase.firestore.CollectionReference#orderby","title":"Messages are showing randomly in my chat app not in sequence in firebase android","body":"<p>On getting collection reference it is possible to apply <a href=\"https://firebase.google.com/docs/reference/js/v8/firebase.firestore.CollectionReference#orderby\" rel=\"nofollow noreferrer\">orderBy</a> method and then add a snapshot listener. Probably, Firebase stores the entities in different order rather than you expect and order by creation date should be declared explicitly.</p>\n<pre><code>firebaseFirestore.collection(&quot;Chats&quot;).document(senderroom)\n        .collection(&quot;Messages&quot;)\n        .orderBy(&quot;${dateField}&quot;)\n        .addSnapshotListener(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9464974,"reputation":409,"user_id":7037663,"display_name":"amm965"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667212051,"creation_date":1667158344,"answer_id":74256137,"question_id":74255783,"body_markdown":"documents in Firebase Firestore are not stored in the order of there creation time, they are ordered by there id name. which in your case is a random ID generated by Firebase itself. \r\n\r\nYou have two options, the first one is to generate the documents IDs by yourself, by tracking the last ID number in that collection and incrementing it (1, 2, 3...etc), the second option (which I would recommend) is to combine your date and time fields into one fields by simply adding the timestamp values and call it something like dateTime for example, and then using the `orderby(&#39;dateTime&#39;)` method that Firebase provide while querying from the collection, for more info on how to use it check out the documentation [here][1]\r\n\r\nEdit: As pointed out by @AlexMamo in the comments, apparently sequential IDs are bad practice in Firestore, so your only option is to add a timestamp value and use the `orderby()` method to arrange you messages.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/order-limit-data","title":"Messages are showing randomly in my chat app not in sequence in firebase android","body":"<p>documents in Firebase Firestore are not stored in the order of there creation time, they are ordered by there id name. which in your case is a random ID generated by Firebase itself.</p>\n<p>You have two options, the first one is to generate the documents IDs by yourself, by tracking the last ID number in that collection and incrementing it (1, 2, 3...etc), the second option (which I would recommend) is to combine your date and time fields into one fields by simply adding the timestamp values and call it something like dateTime for example, and then using the <code>orderby('dateTime')</code> method that Firebase provide while querying from the collection, for more info on how to use it check out the documentation <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Edit: As pointed out by @AlexMamo in the comments, apparently sequential IDs are bad practice in Firestore, so your only option is to add a timestamp value and use the <code>orderby()</code> method to arrange you messages.</p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667212051,"creation_date":1667155263,"question_id":74255783,"body_markdown":"I have built a chat app in firebase android everything is working fine the only problem is that when users are chatting with each other the messages are not showing in order or sequence they are just showing randomly. Image should be shown in proper sequence but it is not working please check it guide me why this is happning? thank you in adnvace\r\n\r\n\r\n**image here**\r\n\r\n[![enter image description here][1]][1]\r\nI have no idea why is this happening\r\n\r\n**this is Adapter**\r\n\r\n    public class MessageAdapter extends RecyclerView.Adapter {\r\n\r\n    Context context;\r\n    ArrayList&lt;Message&gt; messageArrayList;\r\n\r\n    int ITEM_SENT = 1;\r\n    int ITEM_RECEIVE = 2;\r\n\r\n    String senderRoom;\r\n    String receiverRoom;\r\n\r\n    public MessageAdapter()\r\n    {\r\n\r\n    }\r\n\r\n    public MessageAdapter(Context context, ArrayList&lt;Message&gt; messageArrayList, String senderRoom, String receiverRoom) {\r\n        this.context = context;\r\n        this.messageArrayList = messageArrayList;\r\n        this.senderRoom = senderRoom;\r\n        this.receiverRoom = receiverRoom;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        if (viewType==ITEM_SENT)\r\n        {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.senderchatlayout, parent, false);\r\n            return new SenderViewHolder(view);\r\n        }else\r\n        {\r\n\r\n            View view = LayoutInflater.from(context).inflate(R.layout.receiverchatlayout, parent, false);\r\n            return new RecieverViewHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n\r\n        Message message = messageArrayList.get(position);\r\n        if (holder.getClass() == SenderViewHolder.class)\r\n        {\r\n\r\n            SenderViewHolder viewHolder = (SenderViewHolder) holder;\r\n            viewHolder.textViewMessage.setText(message.getMessage());\r\n            viewHolder.timeofmessage.setText(message.getCurrenttime());\r\n        }else\r\n        {\r\n            RecieverViewHolder viewHolder = (RecieverViewHolder) holder;\r\n            viewHolder.textViewMessage.setText(message.getMessage());\r\n            viewHolder.timeofmessage.setText(message.getCurrenttime());\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n\r\n        Message message = messageArrayList.get(position);\r\n        if (FirebaseAuth.getInstance().getCurrentUser().getUid().equals(message.getSenderId()))\r\n        {\r\n            return ITEM_SENT;\r\n        }else\r\n        {\r\n            return ITEM_RECEIVE;\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return messageArrayList.size();\r\n    }\r\n\r\n      public class SenderViewHolder extends RecyclerView.ViewHolder\r\n      {\r\n\r\n       TextView textViewMessage;\r\n       TextView timeofmessage;\r\n\r\n       public SenderViewHolder(@NonNull View itemView) {\r\n           super(itemView);\r\n\r\n           textViewMessage = itemView.findViewById(R.id.senderMessage);\r\n           timeofmessage = itemView.findViewById(R.id.senderTime);\r\n       }\r\n     }\r\n\r\n    public class RecieverViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n\r\n        TextView textViewMessage;\r\n        TextView timeofmessage;\r\n        public RecieverViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            textViewMessage = itemView.findViewById(R.id.receiverMessage);\r\n            timeofmessage = itemView.findViewById(R.id.receiverTime);\r\n        }\r\n    }\r\n\r\n  }\r\n\r\n\r\n**CODE TO GET MESSAGES IN ChatActivity**\r\n\r\n    public class SpecificChatActivity extends AppCompatActivity {\r\n\r\n    ActivitySpecificChatBinding binding;\r\n    private FirebaseAuth auth;\r\n    FirebaseFirestore firebaseFirestore;\r\n    private String enteredMessage;\r\n    String mreceiveruid, msenderuid;\r\n    String senderroom, receiverroom;\r\n    String currenttime;\r\n    Calendar calendar;\r\n    String conversionId;\r\n    ArrayList&lt;Message&gt; messageArrayList;\r\n    MessageAdapter adapter;\r\n    SimpleDateFormat simpleDateFormat;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivitySpecificChatBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        firebaseFirestore = FirebaseFirestore.getInstance();\r\n        calendar = Calendar.getInstance();\r\n        simpleDateFormat = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n        setSupportActionBar(binding.specificToolbar);\r\n\r\n        messageArrayList = new ArrayList&lt;&gt;();\r\n\r\n        String id = UUID.randomUUID().toString();\r\n\r\n        Intent intent = getIntent();\r\n        String name = intent.getStringExtra(&quot;name&quot;);\r\n        String image = intent.getStringExtra(&quot;profileImage&quot;);\r\n\r\n        msenderuid = auth.getUid();\r\n        mreceiveruid = intent.getStringExtra(&quot;receiverUid&quot;);\r\n\r\n        senderroom = msenderuid+mreceiveruid;\r\n        receiverroom = mreceiveruid+msenderuid;\r\n\r\n\r\n        binding.specificUserName.setText(name);\r\n        if (!image.isEmpty())\r\n        {\r\n            Glide.with(getApplicationContext())\r\n                    .load(image)\r\n                    .placeholder(R.drawable.userchaticon)\r\n                    .into(binding.specificUserImage);\r\n\r\n        }\r\n\r\n\r\n        binding.sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                enteredMessage = binding.messageBox.getText().toString();\r\n                if (enteredMessage.isEmpty())\r\n                {\r\n                    Toast.makeText(SpecificChatActivity.this, &quot;Entered some message&quot;, Toast.LENGTH_SHORT).show();\r\n                }else\r\n                {\r\n\r\n                    Date date = new Date();\r\n                    currenttime = simpleDateFormat.format(calendar.getTime());\r\n                    Message message = new Message(enteredMessage, auth.getUid(), mreceiveruid,  date.getTime(), currenttime, name, image);\r\n                    firebaseFirestore.collection(&quot;Chats&quot;)\r\n                            .document(senderroom)\r\n                            .collection(&quot;Messages&quot;)\r\n                            .document()\r\n                            .set(message).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n\r\n                            firebaseFirestore.collection(&quot;Chats&quot;)\r\n                                    .document(receiverroom)\r\n                                    .collection(&quot;Messages&quot;)\r\n                                    .document()\r\n                                    .set(message).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    binding.messageBox.setText(null);\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        binding.specificUserRecycler.setLayoutManager(linearLayoutManager);\r\n        adapter = new MessageAdapter(SpecificChatActivity.this, messageArrayList, senderroom, receiverroom);\r\n        binding.specificUserRecycler.setAdapter(adapter);\r\n\r\n        CollectionReference collectionReference = firebaseFirestore.collection(&quot;Chats&quot;).document(senderroom)\r\n                .collection(&quot;Messages&quot;);\r\n        collectionReference.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                messageArrayList.clear();\r\n\r\n                for (DocumentSnapshot snapshots : value.getDocuments())\r\n                {\r\n                    Message message = snapshots.toObject(Message.class);\r\n                    messageArrayList.add(message);\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n        \r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qi8bH.jpg","title":"Messages are showing randomly in my chat app not in sequence in firebase android","body":"<p>I have built a chat app in firebase android everything is working fine the only problem is that when users are chatting with each other the messages are not showing in order or sequence they are just showing randomly. Image should be shown in proper sequence but it is not working please check it guide me why this is happning? thank you in adnvace</p>\n<p><strong>image here</strong></p>\n<p><a href=\"https://i.stack.imgur.com/qi8bH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qi8bH.jpg\" alt=\"enter image description here\" /></a>\nI have no idea why is this happening</p>\n<p><strong>this is Adapter</strong></p>\n<pre><code>public class MessageAdapter extends RecyclerView.Adapter {\n\nContext context;\nArrayList&lt;Message&gt; messageArrayList;\n\nint ITEM_SENT = 1;\nint ITEM_RECEIVE = 2;\n\nString senderRoom;\nString receiverRoom;\n\npublic MessageAdapter()\n{\n\n}\n\npublic MessageAdapter(Context context, ArrayList&lt;Message&gt; messageArrayList, String senderRoom, String receiverRoom) {\n    this.context = context;\n    this.messageArrayList = messageArrayList;\n    this.senderRoom = senderRoom;\n    this.receiverRoom = receiverRoom;\n}\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    if (viewType==ITEM_SENT)\n    {\n        View view = LayoutInflater.from(context).inflate(R.layout.senderchatlayout, parent, false);\n        return new SenderViewHolder(view);\n    }else\n    {\n\n        View view = LayoutInflater.from(context).inflate(R.layout.receiverchatlayout, parent, false);\n        return new RecieverViewHolder(view);\n    }\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n\n    Message message = messageArrayList.get(position);\n    if (holder.getClass() == SenderViewHolder.class)\n    {\n\n        SenderViewHolder viewHolder = (SenderViewHolder) holder;\n        viewHolder.textViewMessage.setText(message.getMessage());\n        viewHolder.timeofmessage.setText(message.getCurrenttime());\n    }else\n    {\n        RecieverViewHolder viewHolder = (RecieverViewHolder) holder;\n        viewHolder.textViewMessage.setText(message.getMessage());\n        viewHolder.timeofmessage.setText(message.getCurrenttime());\n    }\n\n}\n\n@Override\npublic int getItemViewType(int position) {\n\n    Message message = messageArrayList.get(position);\n    if (FirebaseAuth.getInstance().getCurrentUser().getUid().equals(message.getSenderId()))\n    {\n        return ITEM_SENT;\n    }else\n    {\n        return ITEM_RECEIVE;\n    }\n\n}\n\n@Override\npublic int getItemCount() {\n    return messageArrayList.size();\n}\n\n  public class SenderViewHolder extends RecyclerView.ViewHolder\n  {\n\n   TextView textViewMessage;\n   TextView timeofmessage;\n\n   public SenderViewHolder(@NonNull View itemView) {\n       super(itemView);\n\n       textViewMessage = itemView.findViewById(R.id.senderMessage);\n       timeofmessage = itemView.findViewById(R.id.senderTime);\n   }\n }\n\npublic class RecieverViewHolder extends RecyclerView.ViewHolder\n{\n\n    TextView textViewMessage;\n    TextView timeofmessage;\n    public RecieverViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        textViewMessage = itemView.findViewById(R.id.receiverMessage);\n        timeofmessage = itemView.findViewById(R.id.receiverTime);\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>CODE TO GET MESSAGES IN ChatActivity</strong></p>\n<pre><code>public class SpecificChatActivity extends AppCompatActivity {\n\nActivitySpecificChatBinding binding;\nprivate FirebaseAuth auth;\nFirebaseFirestore firebaseFirestore;\nprivate String enteredMessage;\nString mreceiveruid, msenderuid;\nString senderroom, receiverroom;\nString currenttime;\nCalendar calendar;\nString conversionId;\nArrayList&lt;Message&gt; messageArrayList;\nMessageAdapter adapter;\nSimpleDateFormat simpleDateFormat;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ActivitySpecificChatBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    auth = FirebaseAuth.getInstance();\n    firebaseFirestore = FirebaseFirestore.getInstance();\n    calendar = Calendar.getInstance();\n    simpleDateFormat = new SimpleDateFormat(&quot;hh:mm a&quot;);\n    setSupportActionBar(binding.specificToolbar);\n\n    messageArrayList = new ArrayList&lt;&gt;();\n\n    String id = UUID.randomUUID().toString();\n\n    Intent intent = getIntent();\n    String name = intent.getStringExtra(&quot;name&quot;);\n    String image = intent.getStringExtra(&quot;profileImage&quot;);\n\n    msenderuid = auth.getUid();\n    mreceiveruid = intent.getStringExtra(&quot;receiverUid&quot;);\n\n    senderroom = msenderuid+mreceiveruid;\n    receiverroom = mreceiveruid+msenderuid;\n\n\n    binding.specificUserName.setText(name);\n    if (!image.isEmpty())\n    {\n        Glide.with(getApplicationContext())\n                .load(image)\n                .placeholder(R.drawable.userchaticon)\n                .into(binding.specificUserImage);\n\n    }\n\n\n    binding.sendBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            enteredMessage = binding.messageBox.getText().toString();\n            if (enteredMessage.isEmpty())\n            {\n                Toast.makeText(SpecificChatActivity.this, &quot;Entered some message&quot;, Toast.LENGTH_SHORT).show();\n            }else\n            {\n\n                Date date = new Date();\n                currenttime = simpleDateFormat.format(calendar.getTime());\n                Message message = new Message(enteredMessage, auth.getUid(), mreceiveruid,  date.getTime(), currenttime, name, image);\n                firebaseFirestore.collection(&quot;Chats&quot;)\n                        .document(senderroom)\n                        .collection(&quot;Messages&quot;)\n                        .document()\n                        .set(message).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n\n                        firebaseFirestore.collection(&quot;Chats&quot;)\n                                .document(receiverroom)\n                                .collection(&quot;Messages&quot;)\n                                .document()\n                                .set(message).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                            }\n                        });\n                    }\n                });\n\n                binding.messageBox.setText(null);\n\n            }\n\n        }\n    });\n\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    linearLayoutManager.setStackFromEnd(true);\n    binding.specificUserRecycler.setLayoutManager(linearLayoutManager);\n    adapter = new MessageAdapter(SpecificChatActivity.this, messageArrayList, senderroom, receiverroom);\n    binding.specificUserRecycler.setAdapter(adapter);\n\n    CollectionReference collectionReference = firebaseFirestore.collection(&quot;Chats&quot;).document(senderroom)\n            .collection(&quot;Messages&quot;);\n    collectionReference.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n            messageArrayList.clear();\n\n            for (DocumentSnapshot snapshots : value.getDocuments())\n            {\n                Message message = snapshots.toObject(Message.class);\n                messageArrayList.add(message);\n            }\n            adapter.notifyDataSetChanged();\n        }\n    });\n    \n}\n}\n</code></pre>\n"},{"tags":["java","rtp"],"owner":{"account_id":25573726,"reputation":11,"user_id":19618136,"display_name":"Massimiliano Caruso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667211914,"creation_date":1667211798,"question_id":74261853,"body_markdown":"I&#39;m implementing conference voip in java.\r\nIn practice, each client (softtone sip implemented by me) receives RTP audio streams coming from different sources (in any case the same sampling 8000Hz 20 ms) and must merge them and then be sent to the playback device (eg speakers).\r\nIn java there is no possibility to open more than one audio stream on the same device (at least that&#39;s what I have read, understood and even experienced personally). Consequently, as I have read on various forums including Stackoverflow itself, it is necessary to merge the rtp streams by buffering the sampling blocks (in my case 160 kb) and then merge them together, when they collide as a timestamp.\r\nGiven that the implementation of the buffering and the merging of 2 RTP buffers that collide as timestamps are implemented, what still does not work for me is the synchronization, or how to calculate the right timeslot for each RTP coming from 2 or more sources.\r\nAfter countless failures (bad or degraded sound) and several readings on the forums, articles and thesis I realized that the timestamp must be unique and therefore the RTCP protocol must be used which sends the NTP timestamp which is (clearly) common to all sources at stake. Despite this it still doesn&#39;t work so I went ahead with my studies and found another source an article by CISCO\r\n\r\n[https://www.ciscopress.com/articles/article.asp?p=705533&amp;seqNum=6](https://www.stackoverflow.com/)\r\n\r\nwhich argues that the sources must be correlated with each other (I have interpreted that all sources must be re-adapted to a single appropriately chosen time flow, applying the following formulas:\r\n\r\n(1) RTP_B = RTP_A / (audio sample rate) + AtoV\r\n\r\n This equation converts the RTP_B of the time base of the local audio device into units of seconds by dividing the timestamp of the audio device by the sample rate of the audio. The receiver determines the AtoV offset by simultaneously observing RTP_A_time, the RTP_B real-time clock value, and RTP_A_time, the real-time audio device clock value. Therefore\r\n\r\n(2) AtoV = RTP_B_time - RTP_A_Time / (audio sample rate)\r\n\r\nSo the steps I thought:\r\n1) I choose the RTCP timestamp that comes first.\r\n2) Atov calculation with formula (2)\r\n3) with formula (1) I readjust each RTP packet to the time flow chosen in step 1 and calculate the slot\r\n4) I buffer the packet in the slot calculated in point 3, merging it in the event of a collision.\r\n\r\nAll this lacks the jitter calculated as:\r\n\r\nJ (i) = J (i-1) + ((| D ((i-1), i) | -J (i-1)) / 16\r\n\r\nwhere D = packets sent - packets received\r\n| D ((i-1), i) | = | D (i-1) - D (i) |\r\n\r\ncan I add it after the hiccup in point 3) increasing the slot of the jitter value or do I always have to reapply the formula (1) to readjust it to the reference time stream?\r\n\r\nAre the steps right?\r\nam I doing something wrong?\r\nis there something ready on the net?\r\n\r\nthanks everyone in advance for the help\r\nMaximilian\r\n\r\nAre the steps right?\r\nam I doing something wrong?\r\nis there something ready on the net?\r\n","title":"Join RTP streams in java","body":"<p>I'm implementing conference voip in java.\nIn practice, each client (softtone sip implemented by me) receives RTP audio streams coming from different sources (in any case the same sampling 8000Hz 20 ms) and must merge them and then be sent to the playback device (eg speakers).\nIn java there is no possibility to open more than one audio stream on the same device (at least that's what I have read, understood and even experienced personally). Consequently, as I have read on various forums including Stackoverflow itself, it is necessary to merge the rtp streams by buffering the sampling blocks (in my case 160 kb) and then merge them together, when they collide as a timestamp.\nGiven that the implementation of the buffering and the merging of 2 RTP buffers that collide as timestamps are implemented, what still does not work for me is the synchronization, or how to calculate the right timeslot for each RTP coming from 2 or more sources.\nAfter countless failures (bad or degraded sound) and several readings on the forums, articles and thesis I realized that the timestamp must be unique and therefore the RTCP protocol must be used which sends the NTP timestamp which is (clearly) common to all sources at stake. Despite this it still doesn't work so I went ahead with my studies and found another source an article by CISCO</p>\n<p><a href=\"https://www.stackoverflow.com/\">https://www.ciscopress.com/articles/article.asp?p=705533&amp;seqNum=6</a></p>\n<p>which argues that the sources must be correlated with each other (I have interpreted that all sources must be re-adapted to a single appropriately chosen time flow, applying the following formulas:</p>\n<p>(1) RTP_B = RTP_A / (audio sample rate) + AtoV</p>\n<p>This equation converts the RTP_B of the time base of the local audio device into units of seconds by dividing the timestamp of the audio device by the sample rate of the audio. The receiver determines the AtoV offset by simultaneously observing RTP_A_time, the RTP_B real-time clock value, and RTP_A_time, the real-time audio device clock value. Therefore</p>\n<p>(2) AtoV = RTP_B_time - RTP_A_Time / (audio sample rate)</p>\n<p>So the steps I thought:</p>\n<ol>\n<li>I choose the RTCP timestamp that comes first.</li>\n<li>Atov calculation with formula (2)</li>\n<li>with formula (1) I readjust each RTP packet to the time flow chosen in step 1 and calculate the slot</li>\n<li>I buffer the packet in the slot calculated in point 3, merging it in the event of a collision.</li>\n</ol>\n<p>All this lacks the jitter calculated as:</p>\n<p>J (i) = J (i-1) + ((| D ((i-1), i) | -J (i-1)) / 16</p>\n<p>where D = packets sent - packets received\n| D ((i-1), i) | = | D (i-1) - D (i) |</p>\n<p>can I add it after the hiccup in point 3) increasing the slot of the jitter value or do I always have to reapply the formula (1) to readjust it to the reference time stream?</p>\n<p>Are the steps right?\nam I doing something wrong?\nis there something ready on the net?</p>\n<p>thanks everyone in advance for the help\nMaximilian</p>\n<p>Are the steps right?\nam I doing something wrong?\nis there something ready on the net?</p>\n"},{"tags":["java","cucumber","gherkin","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667211813,"creation_date":1667211813,"answer_id":74261857,"question_id":74261507,"body_markdown":"You are not using Cucumber to generate your step definitions but rather InteliJ IDEA. You should create a bug report on their issue tracker.\r\n\r\nNow your setup looks more complicated then it should be. At a glance you are not following Maven conventions w.r.t test names, mixing different versions of Cucumber, adding test execution plugins as test dependencies, ect, ect, ect.\r\n\r\nYou may want to start over with the https://github.com/cucumber/cucumber-java-skeleton so you&#39;ve got the bare minimum example that works.\r\n\r\nWhen you use this, and you run your tests either with `mvn test` or by running the `RunCucumberTest` class through IDEA you should see:\r\n\r\n```text\r\nThe step &#39;there are 12 cucumbers&#39; and 2 other step(s) are undefined.\r\nYou can implement these steps using the snippet(s) below:\r\n\r\n@Given(&quot;there are {int} cucumbers&quot;)\r\npublic void there_are_cucumbers(Integer int1) {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n}\r\n@When(&quot;I eat {int} cucumbers&quot;)\r\npublic void i_eat_cucumbers(Integer int1) {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n}\r\n@Then(&quot;I should have {int} cucumbers&quot;)\r\npublic void i_should_have_cucumbers(Integer int1) {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n}\r\n```\r\n\r\n","title":"Cucumber cannot generate tests for scenario outline","body":"<p>You are not using Cucumber to generate your step definitions but rather InteliJ IDEA. You should create a bug report on their issue tracker.</p>\n<p>Now your setup looks more complicated then it should be. At a glance you are not following Maven conventions w.r.t test names, mixing different versions of Cucumber, adding test execution plugins as test dependencies, ect, ect, ect.</p>\n<p>You may want to start over with the <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-java-skeleton</a> so you've got the bare minimum example that works.</p>\n<p>When you use this, and you run your tests either with <code>mvn test</code> or by running the <code>RunCucumberTest</code> class through IDEA you should see:</p>\n<pre><code>The step 'there are 12 cucumbers' and 2 other step(s) are undefined.\nYou can implement these steps using the snippet(s) below:\n\n@Given(&quot;there are {int} cucumbers&quot;)\npublic void there_are_cucumbers(Integer int1) {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n@When(&quot;I eat {int} cucumbers&quot;)\npublic void i_eat_cucumbers(Integer int1) {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n@Then(&quot;I should have {int} cucumbers&quot;)\npublic void i_should_have_cucumbers(Integer int1) {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n</code></pre>\n"}],"owner":{"account_id":26076909,"reputation":19,"user_id":19775732,"display_name":"Daniel Kozak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667211813,"creation_date":1667210048,"question_id":74261507,"body_markdown":"I&#39;m currently writing some tests usig cucumber, and I would like to use scenario outlines. However, I did not manage to make them work, as cucumber simply cannot generate the test bodies properly.\r\n\r\nAn example from official gherkin dokumentation https://cucumber.io/docs/gherkin/reference/\r\n\r\n```\r\nScenario Outline: eating\r\n  Given there are &lt;start&gt; cucumbers\r\n  When I eat &lt;eat&gt; cucumbers\r\n  Then I should have &lt;left&gt; cucumbers\r\n\r\n  Examples:\r\n    | start | eat | left |\r\n    |    12 |   5 |    7 |\r\n    |    20 |   5 |   15 |\r\n```\r\n\r\nWhat cucumber generated:\r\n\r\n```\r\npublic class SomeFeature { \r\n    @Given(&quot;there are &lt;start&gt; cucumbers&quot;) \r\n    public void thereAreStartCucumbers() { \r\n    }\r\n    \r\n    @When(&quot;I eat &lt;eat&gt; cucumbers&quot;)\r\n    public void iEatEatCucumbers() {\r\n    }\r\n    \r\n    @Then(&quot;I should have &lt;left&gt; cucumbers&quot;)\r\n    public void iShouldHaveLeftCucumbers() {\r\n    }\r\n}\r\n```\r\n\r\nNo arguments in any of the functions, and moreover, in .feature file the lines are still marked as undefined step references.\r\n\r\nI tried to write something similar at first, didn&#39;t work either:\r\n\r\n    Feature: Test a numbers addition \r\n        Scenario Outline: Java can add numbers properly \r\n            When &lt;add1&gt; gets added to &lt;add2&gt; \r\n            Then expect the result to be &lt;sum&gt;\r\n    \r\n            Examples:\r\n              | add1 | add2 | sum |\r\n              | 2    | 2    | 4   |\r\n              | 4    | 5    | 9   |\r\n    \r\n    public class MyStepdefs { \r\n        @When(&quot;&lt;add{int}&gt; gets added to &lt;add{int}&gt;&quot;) \r\n        public void addGetsAddedToAdd(int arg0, int arg1) { \r\n        }\r\n        \r\n        @Then(&quot;expect the result to be &lt;sum&gt;&quot;)\r\n        public void expectTheResultToBeSum() {\r\n        }\r\n\r\nNo clue why that happens - usual scenarios are being generated and run by me perfectly, but scenario outlines seem to be broken.  \r\n  \r\nMy pom: \r\n\r\n```\r\n&lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit5spring&lt;/artifactId&gt;\r\n      &lt;version&gt;${pact.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit5&lt;/artifactId&gt;\r\n      &lt;version&gt;${pact.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit5&lt;/artifactId&gt;\r\n      &lt;version&gt;${pact.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt; &lt;!-- zum senden von Requests an den Mock-Server --&gt;\r\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.3&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.3&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;${logback.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${logback.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n      &lt;version&gt;4.4.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n      &lt;artifactId&gt;wiremock-jre8-standalone&lt;/artifactId&gt;\r\n      &lt;version&gt;2.31.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.6&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.6&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n      &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\r\n      &lt;version&gt;2.22.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n      &lt;version&gt;7.2.3&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n   &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n            &lt;properties&gt;\r\n               &lt;configurationParameters&gt;\r\n                  cucumber.junit-platform.naming-strategy=long\r\n               &lt;/configurationParameters&gt;\r\n            &lt;/properties&gt;\r\n            &lt;includes&gt;\r\n               &lt;include&gt;**/*Tests.java&lt;/include&gt;\r\n               &lt;include&gt;**/*TestRunner.java&lt;/include&gt;\r\n               &lt;include&gt;**/*MyStepDefs.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven&lt;/artifactId&gt;\r\n         &lt;version&gt;${pact.version}&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n            &lt;pactDirectory&gt;${project.build.directory}/pacts&lt;/pactDirectory&gt;\r\n            &lt;pactBrokerUrl&gt;http://pact.datev.de&lt;/pactBrokerUrl&gt;\r\n            &lt;projectVersion&gt;${project.version}&lt;/projectVersion&gt;\r\n            &lt;tags&gt;\r\n               &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n               &lt;tag&gt;${pact.tag}&lt;/tag&gt;\r\n            &lt;/tags&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n   &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Cucumber cannot generate tests for scenario outline","body":"<p>I'm currently writing some tests usig cucumber, and I would like to use scenario outlines. However, I did not manage to make them work, as cucumber simply cannot generate the test bodies properly.</p>\n<p>An example from official gherkin dokumentation <a href=\"https://cucumber.io/docs/gherkin/reference/\" rel=\"nofollow noreferrer\">https://cucumber.io/docs/gherkin/reference/</a></p>\n<pre><code>Scenario Outline: eating\n  Given there are &lt;start&gt; cucumbers\n  When I eat &lt;eat&gt; cucumbers\n  Then I should have &lt;left&gt; cucumbers\n\n  Examples:\n    | start | eat | left |\n    |    12 |   5 |    7 |\n    |    20 |   5 |   15 |\n</code></pre>\n<p>What cucumber generated:</p>\n<pre><code>public class SomeFeature { \n    @Given(&quot;there are &lt;start&gt; cucumbers&quot;) \n    public void thereAreStartCucumbers() { \n    }\n    \n    @When(&quot;I eat &lt;eat&gt; cucumbers&quot;)\n    public void iEatEatCucumbers() {\n    }\n    \n    @Then(&quot;I should have &lt;left&gt; cucumbers&quot;)\n    public void iShouldHaveLeftCucumbers() {\n    }\n}\n</code></pre>\n<p>No arguments in any of the functions, and moreover, in .feature file the lines are still marked as undefined step references.</p>\n<p>I tried to write something similar at first, didn't work either:</p>\n<pre><code>Feature: Test a numbers addition \n    Scenario Outline: Java can add numbers properly \n        When &lt;add1&gt; gets added to &lt;add2&gt; \n        Then expect the result to be &lt;sum&gt;\n\n        Examples:\n          | add1 | add2 | sum |\n          | 2    | 2    | 4   |\n          | 4    | 5    | 9   |\n\npublic class MyStepdefs { \n    @When(&quot;&lt;add{int}&gt; gets added to &lt;add{int}&gt;&quot;) \n    public void addGetsAddedToAdd(int arg0, int arg1) { \n    }\n    \n    @Then(&quot;expect the result to be &lt;sum&gt;&quot;)\n    public void expectTheResultToBeSum() {\n    }\n</code></pre>\n<p>No clue why that happens - usual scenarios are being generated and run by me perfectly, but scenario outlines seem to be broken.</p>\n<p>My pom:</p>\n<pre><code>&lt;dependencies&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\n      &lt;artifactId&gt;junit5spring&lt;/artifactId&gt;\n      &lt;version&gt;${pact.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\n      &lt;artifactId&gt;junit5&lt;/artifactId&gt;\n      &lt;version&gt;${pact.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\n      &lt;artifactId&gt;junit5&lt;/artifactId&gt;\n      &lt;version&gt;${pact.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt; &lt;!-- zum senden von Requests an den Mock-Server --&gt;\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n      &lt;version&gt;5.1.3&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n      &lt;version&gt;2.7.3&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;${logback.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n      &lt;version&gt;${logback.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;4.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n      &lt;artifactId&gt;wiremock-jre8-standalone&lt;/artifactId&gt;\n      &lt;version&gt;2.31.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n      &lt;version&gt;1.9.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n      &lt;version&gt;5.6.6&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n      &lt;version&gt;5.6.6&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n      &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\n      &lt;version&gt;2.22.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n      &lt;version&gt;7.2.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n   &lt;plugins&gt;\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.0.0-M4&lt;/version&gt;\n         &lt;configuration&gt;\n            &lt;properties&gt;\n               &lt;configurationParameters&gt;\n                  cucumber.junit-platform.naming-strategy=long\n               &lt;/configurationParameters&gt;\n            &lt;/properties&gt;\n            &lt;includes&gt;\n               &lt;include&gt;**/*Tests.java&lt;/include&gt;\n               &lt;include&gt;**/*TestRunner.java&lt;/include&gt;\n               &lt;include&gt;**/*MyStepDefs.java&lt;/include&gt;\n            &lt;/includes&gt;\n         &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n         &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;\n         &lt;artifactId&gt;maven&lt;/artifactId&gt;\n         &lt;version&gt;${pact.version}&lt;/version&gt;\n         &lt;configuration&gt;\n            &lt;pactDirectory&gt;${project.build.directory}/pacts&lt;/pactDirectory&gt;\n            &lt;pactBrokerUrl&gt;http://pact.datev.de&lt;/pactBrokerUrl&gt;\n            &lt;projectVersion&gt;${project.version}&lt;/projectVersion&gt;\n            &lt;tags&gt;\n               &lt;!--suppress UnresolvedMavenProperty --&gt;\n               &lt;tag&gt;${pact.tag}&lt;/tag&gt;\n            &lt;/tags&gt;\n         &lt;/configuration&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android-edittext"],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667211746,"creation_date":1667211026,"question_id":74261703,"body_markdown":"In my fragment, I have a layout contain several button, and this layout will change format when I focus and lose focus on editText.\r\nhere are images:\r\n[![not focus](https://i.stack.imgur.com/Karp1.png)](https://i.stack.imgur.com/Karp1.png)\r\n\r\n\r\n[![focused](https://i.stack.imgur.com/buD1k.png)](https://i.stack.imgur.com/buD1k.png)\r\n\r\nThe problem is when editText is focused, I click those button or try to scroll the layout that contain buttons, editText lose focus directly, this make me can&#39;t scroll view also(because layout become not focus status).\r\n\r\nAnd I don&#39;t want to use requestFocus at editTexts&#39; onFocusChange, this will make other problem for me(like the soft keyboard will close and open again every time i click button, I want soft keyboard keep open and editText keep focus).\r\n\r\nIs there any method to keep my editText focus? thanks.\r\n","title":"How to keep edittext focus when click other view or decide whether to change focus status before lose focus?","body":"<p>In my fragment, I have a layout contain several button, and this layout will change format when I focus and lose focus on editText.\nhere are images:\n<a href=\"https://i.stack.imgur.com/Karp1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Karp1.png\" alt=\"not focus\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/buD1k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/buD1k.png\" alt=\"focused\" /></a></p>\n<p>The problem is when editText is focused, I click those button or try to scroll the layout that contain buttons, editText lose focus directly, this make me can't scroll view also(because layout become not focus status).</p>\n<p>And I don't want to use requestFocus at editTexts' onFocusChange, this will make other problem for me(like the soft keyboard will close and open again every time i click button, I want soft keyboard keep open and editText keep focus).</p>\n<p>Is there any method to keep my editText focus? thanks.</p>\n"},{"tags":["java","spring","spring-boot","media-type"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667211809,"post_id":74261808,"comment_id":131108806,"body_markdown":"I&#39;m confused: you say you fixed it by using exchange instead of postForEntity, then you ask why it worked with postForEntity and now doesn&#39;t?","body":"I&#39;m confused: you say you fixed it by using exchange instead of postForEntity, then you ask why it worked with postForEntity and now doesn&#39;t?"},{"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"score":0,"creation_date":1667211940,"post_id":74261808,"comment_id":131108844,"body_markdown":"Hi @tgdavies. Yep, because this error appears in several places in the project and I was wondering why it doesn&#39;t work all of a sudden.","body":"Hi @tgdavies. Yep, because this error appears in several places in the project and I was wondering why it doesn&#39;t work all of a sudden."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667211957,"post_id":74261808,"comment_id":131108852,"body_markdown":"&quot;Could it be due to some dependencies?&quot; ..only if you changed(upgrade?) them!;)","body":"&quot;Could it be due to some dependencies?&quot; ..only if you changed(upgrade?) them!;)"},{"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"score":0,"creation_date":1667211972,"post_id":74261808,"comment_id":131108854,"body_markdown":"Sorry for the confusion","body":"Sorry for the confusion"},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667212955,"post_id":74261808,"comment_id":131109130,"body_markdown":"postForEntity second parameter is HTTP entity, but you have given pojo class object.","body":"postForEntity second parameter is HTTP entity, but you have given pojo class object."}],"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667211627,"creation_date":1667211581,"question_id":74261808,"body_markdown":"In our project, we call an external API with postForEntity and receive the following: **error:org.springframework.web.server.ResponseStatusException: 415 UNSUPPORTED_MEDIA_TYPE &quot;Could not determine reason or message. Plain body: &quot;&quot;**\r\n\r\n```\r\nfinal ActionDto actionDto = new ActionDto ().setRequestId(requestId);\r\nfinal ResponseEntity&lt;ActionResponseDto&gt; response = restTemplate.postForEntity(url, actionDto, ActionResponseDto.class);\r\n```\r\n\r\n\r\nI managed to fix this error by using exchange instead of postForEntity and adding a media type: \r\n\r\n\r\n```\r\nfinal HttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_JSON);\r\nval entity = new HttpEntity(actionDto , headers);\r\nfinal ResponseEntity&lt;ActionResponseDto&gt; response =\r\n        restTemplate.exchange(\r\n                url,\r\n                HttpMethod.POST,\r\n                entity,\r\n                ActionResponseDto.class);\r\n```\r\n\r\n\r\nMy question is the following, could you give me some hints why before with postForEntity it worked and now suddenly it doesn&#39;t?\r\nI also checked the external API and the method looks like bellow, and nothing has changed:\r\n\r\n\r\n```\r\n@PostMapping(&quot;/action/start&quot;)\r\n@ResponseStatus(HttpStatus.OK)\r\n@Operation(summary = &quot;Start the action&quot;)\r\npublic ResponseEntity&lt;ActionResponseDto&gt; startAction(@RequestBody final ActionDto requestDto) {\r\n    .....\r\n}\r\n```\r\n\r\nCould it be due to some dependencies? This error is very strange...\r\nThank you! :)\r\n\r\n\r\n","title":"PostForEntity: 415 Unsupported Media Type","body":"<p>In our project, we call an external API with postForEntity and receive the following: <strong>error:org.springframework.web.server.ResponseStatusException: 415 UNSUPPORTED_MEDIA_TYPE &quot;Could not determine reason or message. Plain body: &quot;&quot;</strong></p>\n<pre><code>final ActionDto actionDto = new ActionDto ().setRequestId(requestId);\nfinal ResponseEntity&lt;ActionResponseDto&gt; response = restTemplate.postForEntity(url, actionDto, ActionResponseDto.class);\n</code></pre>\n<p>I managed to fix this error by using exchange instead of postForEntity and adding a media type:</p>\n<pre><code>final HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nval entity = new HttpEntity(actionDto , headers);\nfinal ResponseEntity&lt;ActionResponseDto&gt; response =\n        restTemplate.exchange(\n                url,\n                HttpMethod.POST,\n                entity,\n                ActionResponseDto.class);\n</code></pre>\n<p>My question is the following, could you give me some hints why before with postForEntity it worked and now suddenly it doesn't?\nI also checked the external API and the method looks like bellow, and nothing has changed:</p>\n<pre><code>@PostMapping(&quot;/action/start&quot;)\n@ResponseStatus(HttpStatus.OK)\n@Operation(summary = &quot;Start the action&quot;)\npublic ResponseEntity&lt;ActionResponseDto&gt; startAction(@RequestBody final ActionDto requestDto) {\n    .....\n}\n</code></pre>\n<p>Could it be due to some dependencies? This error is very strange...\nThank you! :)</p>\n"},{"tags":["java","appium"],"comments":[{"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"score":2,"creation_date":1667029755,"post_id":74234773,"comment_id":131078030,"body_markdown":"Did you try `http://127.0.0.1:4723/wd/hub`?","body":"Did you try <code>http:&#47;&#47;127.0.0.1:4723&#47;wd&#47;hub</code>?"},{"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"score":0,"creation_date":1667195848,"post_id":74234773,"comment_id":131104772,"body_markdown":"java.lang.reflect.InvocationTargetException\norg.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: You must include a platformName capability (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 102 milliseconds","body":"java.lang.reflect.InvocationTargetException org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: You must include a platformName capability (WARNING: The server did not provide any stacktrace information) Command duration or timeout: 102 milliseconds"},{"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"score":0,"creation_date":1667195860,"post_id":74234773,"comment_id":131104775,"body_markdown":"This issue is comming","body":"This issue is comming"},{"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"score":2,"creation_date":1667195907,"post_id":74234773,"comment_id":131104778,"body_markdown":"This is quite obvious, you are supplying `platformname` instead of `platformName` capability key :)","body":"This is quite obvious, you are supplying <code>platformname</code> instead of <code>platformName</code> capability key :)"},{"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"score":0,"creation_date":1667197448,"post_id":74234773,"comment_id":131105026,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n\tat appiumtests.Calculator.openCalculator(Calculator.java:49)\n\tat appiumtests.Calculator.main(Calculator.java:23)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n\tat java.net.URLClassLoader.findClass(Unknown Source)","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverte&zwnj;&#8203;r \tat appiumtests.Calculator.openCalculator(Calculator.java:49) \tat appiumtests.Calculator.main(Calculator.java:23) Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverte&zwnj;&#8203;r \tat java.net.URLClassLoader.findClass(Unknown Source)"},{"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"score":0,"creation_date":1667197459,"post_id":74234773,"comment_id":131105029,"body_markdown":"This issue is coming","body":"This issue is coming"},{"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"score":2,"creation_date":1667197947,"post_id":74234773,"comment_id":131105125,"body_markdown":"This seems no longer relevant to the initial question and code, you should probably open a new one or at least update the question with more code and latest exception","body":"This seems no longer relevant to the initial question and code, you should probably open a new one or at least update the question with more code and latest exception"},{"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"score":0,"creation_date":1667198342,"post_id":74234773,"comment_id":131105218,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n\tat appiumtests.Calculator.openCalculator(Calculator.java:49)\n\tat appiumtests.Calculator.main(Calculator.java:22)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n\tat java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\t... 2 more","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverte&zwnj;&#8203;r \tat appiumtests.Calculator.openCalculator(Calculator.java:49) \tat appiumtests.Calculator.main(Calculator.java:22) Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverte&zwnj;&#8203;r \tat java.net.URLClassLoader.findClass(Unknown Source) \tat java.lang.ClassLoader.loadClass(Unknown Source) \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) \tat java.lang.ClassLoader.loadClass(Unknown Source) \t... 2 more"},{"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"score":0,"creation_date":1667198384,"post_id":74234773,"comment_id":131105235,"body_markdown":"The code is same as upper but when i run the code . this error is coming and also not connect with appium","body":"The code is same as upper but when i run the code . this error is coming and also not connect with appium"},{"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"score":2,"creation_date":1667199521,"post_id":74234773,"comment_id":131105460,"body_markdown":"Looks like you are probably working with Appium java-client that is version 8.x.x, if you move back to version 7.x.x it will resolve this error I guess. Alternatively you can look for migration guides for the newer version","body":"Looks like you are probably working with Appium java-client that is version 8.x.x, if you move back to version 7.x.x it will resolve this error I guess. Alternatively you can look for migration guides for the newer version"},{"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"score":1,"creation_date":1667199685,"post_id":74234773,"comment_id":131105491,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249181/discussion-between-sachin-soni-and-drunkencheetah).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249181/discussion-between-sachin-soni-and-drunkencheetah\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":23716392,"reputation":346,"user_id":17737469,"display_name":"Montek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667211558,"creation_date":1667210847,"answer_id":74261673,"question_id":74234773,"body_markdown":"Concluding @drunkencheetah and @Sachin Soni discussion above,\r\n\r\n# Short description of the converstion:\r\n\r\n## The calculator app package was not being detected so @drunkencheetah suggested changing it to chrome as it was easy and no extra installation was required.\r\n\r\n    DesiredCapabilities cap = new DesiredCapabilities();\r\n    \t\t\r\n    \t\tcap.setCapability(&quot;deviceName&quot;,&quot;Galaxy M21&quot;);\r\n    \t\tcap.setCapability(&quot;udid&quot;, &quot;RZ8N224NG1L&quot;);\r\n    \t\tcap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n    \t\tcap.setCapability(&quot;platformVersion&quot;, &quot;12&quot;);\r\n    \t\tcap.setCapability(&quot;waitForAppLaunch&quot;, &quot;false&quot;);\r\n    \t\tcap.setCapability(&quot;uiautomator2ServerInstallTimeout&quot;, &quot;60000&quot;);\r\n    \t\tcap.setCapability(&quot;noReset&quot;, &quot;true&quot;);\r\n    \t\t\r\n    \t\t\r\n            cap.setCapability(&quot;appPackage&quot;, &quot;com.android.chrome&quot;);\r\n            cap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.apps.chrome.Main&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tURL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\t\r\n    \t\t\r\n    \t\tdriver = new AppiumDriver&lt;WebElement&gt;(url, cap);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Application Started....&quot;);\r\n\r\nas @drunkencheetah suggested:\r\n\r\n&gt; cap.setCapability(&quot;appActivity&quot;, &quot;com.android.chrome.Main&quot;);\r\n&gt; \r\n&gt; or \r\n\r\n&gt;cap.setCapability(&quot;appActivity&quot;,\r\n&gt; &quot;com.google.android.apps.chrome.Main&quot;);    might work\r\n\r\n@Sachin Soni tried `cap.setCapability(&quot;appActivity&quot;, &quot;com.android.chrome.Main&quot;);`\r\n\r\nbut it gave error.\r\n\r\n## Eventually `cap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.apps.chrome.Main&quot;);` worked!\r\n\r\n\r\n### Extra\r\n\r\nTo do this with another app try installing `Apk Analyzer` which will help in displaying `appPackage` and `appActivity` for an App.","title":"Appium java giving null as output","body":"<p>Concluding @drunkencheetah and @Sachin Soni discussion above,</p>\n<h1>Short description of the converstion:</h1>\n<h2>The calculator app package was not being detected so @drunkencheetah suggested changing it to chrome as it was easy and no extra installation was required.</h2>\n<pre><code>DesiredCapabilities cap = new DesiredCapabilities();\n        \n        cap.setCapability(&quot;deviceName&quot;,&quot;Galaxy M21&quot;);\n        cap.setCapability(&quot;udid&quot;, &quot;RZ8N224NG1L&quot;);\n        cap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n        cap.setCapability(&quot;platformVersion&quot;, &quot;12&quot;);\n        cap.setCapability(&quot;waitForAppLaunch&quot;, &quot;false&quot;);\n        cap.setCapability(&quot;uiautomator2ServerInstallTimeout&quot;, &quot;60000&quot;);\n        cap.setCapability(&quot;noReset&quot;, &quot;true&quot;);\n        \n        \n        cap.setCapability(&quot;appPackage&quot;, &quot;com.android.chrome&quot;);\n        cap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.apps.chrome.Main&quot;);\n        \n        \n        URL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);  \n        \n        driver = new AppiumDriver&lt;WebElement&gt;(url, cap);\n        \n        System.out.println(&quot;Application Started....&quot;);\n</code></pre>\n<p>as @drunkencheetah suggested:</p>\n<blockquote>\n<p>cap.setCapability(&quot;appActivity&quot;, &quot;com.android.chrome.Main&quot;);</p>\n<p>or</p>\n</blockquote>\n<blockquote>\n<p>cap.setCapability(&quot;appActivity&quot;,\n&quot;com.google.android.apps.chrome.Main&quot;);    might work</p>\n</blockquote>\n<p>@Sachin Soni tried <code>cap.setCapability(&quot;appActivity&quot;, &quot;com.android.chrome.Main&quot;);</code></p>\n<p>but it gave error.</p>\n<h2>Eventually <code>cap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.apps.chrome.Main&quot;);</code> worked!</h2>\n<h3>Extra</h3>\n<p>To do this with another app try installing <code>Apk Analyzer</code> which will help in displaying <code>appPackage</code> and <code>appActivity</code> for an App.</p>\n"}],"owner":{"account_id":26667301,"reputation":47,"user_id":20279204,"display_name":"Sachin Soni"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74261673,"answer_count":1,"score":2,"last_activity_date":1667211558,"creation_date":1666956872,"question_id":74234773,"body_markdown":"I am trying to open a calculator app in android using appium.\r\nBut I am getting this error,\r\nThis is the function:\r\n```\r\n\t\r\n\tpublic static void openCalculator() throws Exception{\r\n\t\t\r\n\t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n\t\t\r\n\t\tcap.setCapability(&quot;deviceName&quot;,&quot;Redmi Note 7S&quot;);\r\n\t\tcap.setCapability(&quot;udid&quot;, &quot;39aded9&quot;);\r\n\t\tcap.setCapability(&quot;platformname&quot;, &quot;Android&quot;);\r\n\t\tcap.setCapability(&quot;platformVersion&quot;, &quot;10 QKQ1.190910.002&quot;);\r\n\t\tcap.setCapability(&quot;appPackage&quot;, &quot;com.miui.calculator12.3.16&quot;);\r\n\t\tcap.setCapability(&quot;appActivity&quot;, &quot;com.miui.calculator.cal.CalculatorActivity&quot;);\r\n\t\t\r\n\t\t\r\n\t\tdriver = new AndroidDriver(new URL(&quot;127.0.0.1:4723/wd/hub&quot;), cap);\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Application Started....&quot;);\r\n\t\t\r\n\t}\r\n```\r\n\r\nI am getting this error, followed a youtube video, but still getting this.\r\n\r\n```\r\nnull\r\nno protocol: 127.0.0.1:4723/wd/hub\r\njava.net.MalformedURLException: no protocol: 127.0.0.1:4723/wd/hub\r\n\tat java.net.URL.&lt;init&gt;(Unknown Source)\r\n\tat java.net.URL.&lt;init&gt;(Unknown Source)\r\n\tat java.net.URL.&lt;init&gt;(Unknown Source)\r\n\tat appiumtests.calculatorTest.openCalculator(calculatorTest.java:46)\r\n\tat appiumtests.calculatorTest.main(calculatorTest.java:23)\r\n```","title":"Appium java giving null as output","body":"<p>I am trying to open a calculator app in android using appium.\nBut I am getting this error,\nThis is the function:</p>\n<pre><code>    \n    public static void openCalculator() throws Exception{\n        \n        DesiredCapabilities cap = new DesiredCapabilities();\n        \n        cap.setCapability(&quot;deviceName&quot;,&quot;Redmi Note 7S&quot;);\n        cap.setCapability(&quot;udid&quot;, &quot;39aded9&quot;);\n        cap.setCapability(&quot;platformname&quot;, &quot;Android&quot;);\n        cap.setCapability(&quot;platformVersion&quot;, &quot;10 QKQ1.190910.002&quot;);\n        cap.setCapability(&quot;appPackage&quot;, &quot;com.miui.calculator12.3.16&quot;);\n        cap.setCapability(&quot;appActivity&quot;, &quot;com.miui.calculator.cal.CalculatorActivity&quot;);\n        \n        \n        driver = new AndroidDriver(new URL(&quot;127.0.0.1:4723/wd/hub&quot;), cap);  \n        \n        System.out.println(&quot;Application Started....&quot;);\n        \n    }\n</code></pre>\n<p>I am getting this error, followed a youtube video, but still getting this.</p>\n<pre><code>null\nno protocol: 127.0.0.1:4723/wd/hub\njava.net.MalformedURLException: no protocol: 127.0.0.1:4723/wd/hub\n    at java.net.URL.&lt;init&gt;(Unknown Source)\n    at java.net.URL.&lt;init&gt;(Unknown Source)\n    at java.net.URL.&lt;init&gt;(Unknown Source)\n    at appiumtests.calculatorTest.openCalculator(calculatorTest.java:46)\n    at appiumtests.calculatorTest.main(calculatorTest.java:23)\n</code></pre>\n"},{"tags":["java","spring-boot","maven","plugins"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1666638854,"post_id":74185737,"comment_id":130980360,"body_markdown":"You may want to start by giving steps to reproduce. Please check [ask] and edit your question with a [mcve]","body":"You may want to start by giving steps to reproduce. Please check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and edit your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":24862703,"reputation":13,"user_id":18738231,"display_name":"A. Ravindu Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667211254,"creation_date":1667211254,"answer_id":74261754,"question_id":74185737,"body_markdown":"Only add the version.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n \r\n    &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\r\n \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n\r\nNow its working.\r\n","title":"Plugins not found in sprinboot and maven","body":"<p>Only add the version.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${project.parent.version}&lt;/version&gt;\n&lt;/plugin&gt;\n\n&lt;version&gt;${project.parent.version}&lt;/version&gt;\n\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n</code></pre>\n<p>Now its working.</p>\n"}],"owner":{"account_id":24862703,"reputation":13,"user_id":18738231,"display_name":"A. Ravindu Silva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74261754,"answer_count":1,"score":0,"last_activity_date":1667211254,"creation_date":1666638666,"question_id":74185737,"body_markdown":"I have a new error in my project that is in the pom.xml file. How can I fix it?\r\n\r\nThe error below is \r\nshown in IntelliJ idea:\r\n\r\n    Plugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n    Plugin &#39;org.apache.maven.plugins:maven-compiler-plugin:&#39; not found\r\n    Plugin &#39;org.apache.maven.plugins:maven-compiler-plugin:&#39; not found\r\n\r\n\r\n\r\n","title":"Plugins not found in sprinboot and maven","body":"<p>I have a new error in my project that is in the pom.xml file. How can I fix it?</p>\n<p>The error below is\nshown in IntelliJ idea:</p>\n<pre><code>Plugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\nPlugin 'org.apache.maven.plugins:maven-compiler-plugin:' not found\nPlugin 'org.apache.maven.plugins:maven-compiler-plugin:' not found\n</code></pre>\n"},{"tags":["java","mongodb","mqtt","paho"],"comments":[{"owner":{"account_id":3151238,"reputation":3086,"user_id":2664649,"accept_rate":60,"display_name":"Amey Jadiye"},"score":0,"creation_date":1452254864,"post_id":34676273,"comment_id":57098298,"body_markdown":"why `connect()` is being called from connect() ? is it calling recursion ?","body":"why <code>connect()</code> is being called from connect() ? is it calling recursion ?"},{"owner":{"account_id":6671551,"reputation":1151,"user_id":5147553,"accept_rate":52,"display_name":"Phoste"},"score":0,"creation_date":1452256305,"post_id":34676273,"comment_id":57099237,"body_markdown":"To try a reconnection if there was an exception","body":"To try a reconnection if there was an exception"},{"owner":{"account_id":3151238,"reputation":3086,"user_id":2664649,"accept_rate":60,"display_name":"Amey Jadiye"},"score":0,"creation_date":1452256874,"post_id":34676273,"comment_id":57099629,"body_markdown":"can you try `ExecutorService` with fixThreadPool that could likly solve your problem, do you see frequent disconnect exceptions ?","body":"can you try <code>ExecutorService</code> with fixThreadPool that could likly solve your problem, do you see frequent disconnect exceptions ?"},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1452264676,"post_id":34676273,"comment_id":57104812,"body_markdown":"More info, please. How many connections (most drivers maintain an own connection pool)? Versions?","body":"More info, please. How many connections (most drivers maintain an own connection pool)? Versions?"},{"owner":{"account_id":5847688,"reputation":11485,"user_id":4607349,"accept_rate":74,"display_name":"Michal Foksa"},"score":0,"creation_date":1452507698,"post_id":34676273,"comment_id":57183842,"body_markdown":"You might find useful my `Mqtt2InfluxDB` project: https://github.com/MichalFoksa/Mqtt2InfluxDB . The project supports InfluxDB out of the box, but it was written with support of other DB backbends in mind. You would have to create Mongo db connector by implementing `net.michalfoksa.mqtt2influxdb.dao.Destination` interface.  The tool gives you topic/message filtering and maybe parsing (depends on your payload structure) out of the box.","body":"You might find useful my <code>Mqtt2InfluxDB</code> project: <a href=\"https://github.com/MichalFoksa/Mqtt2InfluxDB\" rel=\"nofollow noreferrer\">github.com/MichalFoksa/Mqtt2InfluxDB</a> . The project supports InfluxDB out of the box, but it was written with support of other DB backbends in mind. You would have to create Mongo db connector by implementing <code>net.michalfoksa.mqtt2influxdb.dao.Destination</code> interface.  The tool gives you topic/message filtering and maybe parsing (depends on your payload structure) out of the box."},{"owner":{"account_id":6671551,"reputation":1151,"user_id":5147553,"accept_rate":52,"display_name":"Phoste"},"score":0,"creation_date":1452589418,"post_id":34676273,"comment_id":57224424,"body_markdown":"I am using mongo-java-driver-3.2.0 api to connect to mongodb. But I read that the MongoClient class manage itself the connection to the database, so I don&#39;t understand why there are so many... (about 70 I think, the amount of MQTT publication received by the application).","body":"I am using mongo-java-driver-3.2.0 api to connect to mongodb. But I read that the MongoClient class manage itself the connection to the database, so I don&#39;t understand why there are so many... (about 70 I think, the amount of MQTT publication received by the application)."}],"owner":{"account_id":6671551,"reputation":1151,"user_id":5147553,"accept_rate":52,"display_name":"Phoste"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667211211,"creation_date":1452253282,"question_id":34676273,"body_markdown":"I wrote a program which connects to a MQTT Broker and stores every MQTT message to a Mongo database. It works fine but I&#39;m really not sure I&#39;ve done it the right way. It opens lots of connections to the mongo server.\r\n\r\nHere is the code :\r\n\r\n    public class MqttConnection {\r\n    \r\n    private static final String BROKER_IP = Preferences.getProperty(&quot;mqttbroker-ip&quot;);\r\n    private static final String BROKER_PORT = Preferences.getProperty(&quot;mqttbroker-port&quot;);\r\n    private static final String BROKER_URI = &quot;tcp://&quot; + BROKER_IP + &quot;:&quot; + BROKER_PORT;\r\n    \r\n    private static final String CLIENT_ID = Preferences.getProperty(&quot;mqttbroker-clientid&quot;);\r\n    \r\n    private static final String USERNAME = Preferences.getProperty(&quot;mqttbroker-username&quot;);\r\n    private static final String PASSWORD = Preferences.getProperty(&quot;mqttbroker-password&quot;);\r\n    \r\n    private static final String TOPIC = Preferences.getProperty(&quot;mqttbroker-topic&quot;);\r\n    \r\n    private static final SimpleDateFormat SDF = new SimpleDateFormat(&quot;YYYYMMddHH:mm:ss&quot;);\r\n    \r\n    private static MqttClient client;\r\n    private static final MqttConnectOptions options;\r\n    \r\n    private static final MongoClient mongoClient;\r\n \r\n    public enum Type {\r\n        Double, Boolean, String;\r\n    }\r\n    static {\r\n        mongoClient = MongoConnection.getInstance();\r\n        try {\r\n            client = new MqttClient(BROKER_URI, CLIENT_ID);\r\n        } catch (MqttException ex) {\r\n            Logger.getLogger(MqttConnection.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        options = new MqttConnectOptions();\r\n        options.setUserName(USERNAME);\r\n        options.setPassword(PASSWORD.toCharArray());\r\n    }\r\n    \r\n    public static void connect() {\r\n        try {\r\n            if (Preferences.getProperty(&quot;mqttbroker-isAuth&quot;).equalsIgnoreCase(&quot;true&quot;)) {\r\n                client.connect(options);\r\n            } else {\r\n                client.connect();\r\n            }\r\n            System.out.println(SDF.format(new Date()) + &quot; - MQTT - Connect&#233; au broker&quot;);\r\n            client.setCallback(new ConnectionCallback());\r\n            client.subscribe(TOPIC);\r\n        } catch (MqttException ex) {\r\n            System.out.println(SDF.format(new Date()) + &quot; - MQTT - Erreur de connexion... Nouvelle tentative dans 5 secondes...&quot;);\r\n            if (!client.isConnected()) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                } catch (InterruptedException ex1) {\r\n                    Logger.getLogger(MqttConnection.class.getName()).log(Level.SEVERE, null, ex1);\r\n                }\r\n                connect();\r\n            }\r\n        }\r\n    }\r\n    \r\n    static class ConnectionCallback implements MqttCallback {\r\n\r\n        @Override\r\n        public void connectionLost(Throwable thrwbl) {\r\n            System.out.println(SDF.format(new Date()) + &quot; - MQTT - Perte de connexion... Tentative de reconnexion...&quot;);\r\n            connect();\r\n        }\r\n\r\n        @Override\r\n        public void messageArrived(String topic, MqttMessage message) throws Exception {\r\n            new Thread(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    String[] tab = topic.split(&quot;/&quot;, 2);\r\n                    String dbName = tab[0];\r\n                    String collName = (tab.length &gt; 1) ? tab[1] : tab[0];\r\n                    MongoDatabase db = mongoClient.getDatabase(dbName);\r\n                    MongoCollection collection = db.getCollection(collName);\r\n                    Document doc = (Document) collection.find().sort(Sorts.descending(&quot;date&quot;)).first();\r\n                    Object value = (doc != null) ? doc.get(&quot;value&quot;) : null;\r\n                    Type type = checkType(message.toString());\r\n                    switch (type) {\r\n                        case Double :\r\n                            if (doc == null || !((Double) value).equals(Double.valueOf(message.toString()))) {\r\n                                collection.insertOne(new Document()\r\n                                    .append(&quot;date&quot;, SDF.format(new Date()))\r\n                                    .append(&quot;value&quot;, Double.valueOf(message.toString())));\r\n                            }\r\n                            break;\r\n                        case Boolean :\r\n                            if (doc == null || !((Boolean) value).equals(Boolean.valueOf(message.toString()))) {\r\n                                collection.insertOne(new Document()\r\n                                    .append(&quot;date&quot;, SDF.format(new Date()))\r\n                                    .append(&quot;value&quot;, Boolean.valueOf(message.toString())));\r\n                            }\r\n                            break;\r\n                        case String :\r\n                            if (doc == null || !((String) value).equals(message.toString())) {\r\n                                collection.insertOne(new Document()\r\n                                    .append(&quot;date&quot;, SDF.format(new Date()))\r\n                                    .append(&quot;value&quot;, message.toString()));\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n                \r\n                private Type checkType(String str) {\r\n                    if (str.equalsIgnoreCase(&quot;true&quot;) || str.equalsIgnoreCase(&quot;false&quot;))\r\n                        return Type.Boolean;\r\n                    else {\r\n                        try {\r\n                            Double.valueOf(str);\r\n                            return Type.Double;\r\n                        } catch (NumberFormatException e) {\r\n                            return Type.String;\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            }).start();\r\n        }\r\n\r\n        @Override\r\n        public void deliveryComplete(IMqttDeliveryToken imdt) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n        }\r\n\r\n    }\r\n    \r\nThanks","title":"Storing MQTT data into a Mongo database","body":"<p>I wrote a program which connects to a MQTT Broker and stores every MQTT message to a Mongo database. It works fine but I'm really not sure I've done it the right way. It opens lots of connections to the mongo server.</p>\n\n<p>Here is the code :</p>\n\n<pre><code>public class MqttConnection {\n\nprivate static final String BROKER_IP = Preferences.getProperty(\"mqttbroker-ip\");\nprivate static final String BROKER_PORT = Preferences.getProperty(\"mqttbroker-port\");\nprivate static final String BROKER_URI = \"tcp://\" + BROKER_IP + \":\" + BROKER_PORT;\n\nprivate static final String CLIENT_ID = Preferences.getProperty(\"mqttbroker-clientid\");\n\nprivate static final String USERNAME = Preferences.getProperty(\"mqttbroker-username\");\nprivate static final String PASSWORD = Preferences.getProperty(\"mqttbroker-password\");\n\nprivate static final String TOPIC = Preferences.getProperty(\"mqttbroker-topic\");\n\nprivate static final SimpleDateFormat SDF = new SimpleDateFormat(\"YYYYMMddHH:mm:ss\");\n\nprivate static MqttClient client;\nprivate static final MqttConnectOptions options;\n\nprivate static final MongoClient mongoClient;\n\npublic enum Type {\n    Double, Boolean, String;\n}\nstatic {\n    mongoClient = MongoConnection.getInstance();\n    try {\n        client = new MqttClient(BROKER_URI, CLIENT_ID);\n    } catch (MqttException ex) {\n        Logger.getLogger(MqttConnection.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    options = new MqttConnectOptions();\n    options.setUserName(USERNAME);\n    options.setPassword(PASSWORD.toCharArray());\n}\n\npublic static void connect() {\n    try {\n        if (Preferences.getProperty(\"mqttbroker-isAuth\").equalsIgnoreCase(\"true\")) {\n            client.connect(options);\n        } else {\n            client.connect();\n        }\n        System.out.println(SDF.format(new Date()) + \" - MQTT - Connecté au broker\");\n        client.setCallback(new ConnectionCallback());\n        client.subscribe(TOPIC);\n    } catch (MqttException ex) {\n        System.out.println(SDF.format(new Date()) + \" - MQTT - Erreur de connexion... Nouvelle tentative dans 5 secondes...\");\n        if (!client.isConnected()) {\n            try {\n                Thread.sleep(5000);\n            } catch (InterruptedException ex1) {\n                Logger.getLogger(MqttConnection.class.getName()).log(Level.SEVERE, null, ex1);\n            }\n            connect();\n        }\n    }\n}\n\nstatic class ConnectionCallback implements MqttCallback {\n\n    @Override\n    public void connectionLost(Throwable thrwbl) {\n        System.out.println(SDF.format(new Date()) + \" - MQTT - Perte de connexion... Tentative de reconnexion...\");\n        connect();\n    }\n\n    @Override\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\n        new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                String[] tab = topic.split(\"/\", 2);\n                String dbName = tab[0];\n                String collName = (tab.length &gt; 1) ? tab[1] : tab[0];\n                MongoDatabase db = mongoClient.getDatabase(dbName);\n                MongoCollection collection = db.getCollection(collName);\n                Document doc = (Document) collection.find().sort(Sorts.descending(\"date\")).first();\n                Object value = (doc != null) ? doc.get(\"value\") : null;\n                Type type = checkType(message.toString());\n                switch (type) {\n                    case Double :\n                        if (doc == null || !((Double) value).equals(Double.valueOf(message.toString()))) {\n                            collection.insertOne(new Document()\n                                .append(\"date\", SDF.format(new Date()))\n                                .append(\"value\", Double.valueOf(message.toString())));\n                        }\n                        break;\n                    case Boolean :\n                        if (doc == null || !((Boolean) value).equals(Boolean.valueOf(message.toString()))) {\n                            collection.insertOne(new Document()\n                                .append(\"date\", SDF.format(new Date()))\n                                .append(\"value\", Boolean.valueOf(message.toString())));\n                        }\n                        break;\n                    case String :\n                        if (doc == null || !((String) value).equals(message.toString())) {\n                            collection.insertOne(new Document()\n                                .append(\"date\", SDF.format(new Date()))\n                                .append(\"value\", message.toString()));\n                        }\n                        break;\n                }\n            }\n\n            private Type checkType(String str) {\n                if (str.equalsIgnoreCase(\"true\") || str.equalsIgnoreCase(\"false\"))\n                    return Type.Boolean;\n                else {\n                    try {\n                        Double.valueOf(str);\n                        return Type.Double;\n                    } catch (NumberFormatException e) {\n                        return Type.String;\n                    }\n                }\n            }\n\n        }).start();\n    }\n\n    @Override\n    public void deliveryComplete(IMqttDeliveryToken imdt) {\n        throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n    }\n\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["javascript","python","java","base64","websphere"],"owner":{"account_id":13819162,"reputation":201,"user_id":9975064,"display_name":"Simone Ceccarelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667211208,"creation_date":1666795607,"question_id":74209741,"body_markdown":"I am trying to insert an image inside an anx file to be able to view it in IBM i2 or their Chart reader.\r\nReading the documentation (openly available, downloading the Chart reader) I see this\r\n[![enter image description here][1]][1]\r\n\r\nI go to insert the required fields and I do not receive any error, but the displayed image is transparent.\r\n\r\nIs there anyone who has an anx file in which there is an image so that I can understand where am I wrong?\r\n\r\nCan someone give me an example of how to fill in these fields?\r\n\r\n  [1]: https://i.stack.imgur.com/AsfFs.png","title":"Insert an image into ANX format, IBM Chart Reader and I2 Analyst","body":"<p>I am trying to insert an image inside an anx file to be able to view it in IBM i2 or their Chart reader.\nReading the documentation (openly available, downloading the Chart reader) I see this\n<a href=\"https://i.stack.imgur.com/AsfFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AsfFs.png\" alt=\"enter image description here\" /></a></p>\n<p>I go to insert the required fields and I do not receive any error, but the displayed image is transparent.</p>\n<p>Is there anyone who has an anx file in which there is an image so that I can understand where am I wrong?</p>\n<p>Can someone give me an example of how to fill in these fields?</p>\n"},{"tags":["java","arrays","spring-boot","variables"],"answers":[{"tags":[],"owner":{"account_id":26646938,"reputation":29,"user_id":20261750,"display_name":"peetahGriffin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667202782,"creation_date":1667202782,"answer_id":74260195,"question_id":74259148,"body_markdown":"it doesn&#39;t work that way . You can&#39;t use a parameter as an object in a request body . Instead , you should extract the list in your code and then send message accordingly in code only . ","title":"How to send array as parameter in API Call?","body":"<p>it doesn't work that way . You can't use a parameter as an object in a request body . Instead , you should extract the list in your code and then send message accordingly in code only .</p>\n"},{"tags":[],"owner":{"account_id":14237221,"reputation":21,"user_id":10284709,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667211048,"creation_date":1667210062,"answer_id":74261510,"question_id":74259148,"body_markdown":"Your question seems to be a bit unclear.\r\n\r\nIf you just want to set the values during runtime, before sending the request, [you need to set the environment and add these as the variables in the postman][1].\r\n\r\nOr if you&#39;re trying to build the whole list dynamically, then you can write the complete code for that in the request script and simply use that while sending the request. [This][2] can help you with the same.\r\n\r\n\r\n  [1]: https://community.postman.com/t/using-environment-variables-in-a-request-body/34169/2\r\n  [2]: https://www.postman.com/postman/workspace/postman-answers/documentation/9215231-b9133e48-73c3-4aa4-b189-e038ee4c5e00","title":"How to send array as parameter in API Call?","body":"<p>Your question seems to be a bit unclear.</p>\n<p>If you just want to set the values during runtime, before sending the request, <a href=\"https://community.postman.com/t/using-environment-variables-in-a-request-body/34169/2\" rel=\"nofollow noreferrer\">you need to set the environment and add these as the variables in the postman</a>.</p>\n<p>Or if you're trying to build the whole list dynamically, then you can write the complete code for that in the request script and simply use that while sending the request. <a href=\"https://www.postman.com/postman/workspace/postman-answers/documentation/9215231-b9133e48-73c3-4aa4-b189-e038ee4c5e00\" rel=\"nofollow noreferrer\">This</a> can help you with the same.</p>\n"}],"owner":{"account_id":17934612,"reputation":1,"user_id":13031185,"display_name":"Abhishek Shrivastav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667211048,"creation_date":1667194862,"question_id":74259148,"body_markdown":"How to send array as parameter in API Call?\r\n\r\n\r\nI just want to know how can I pass and array as parameter in Java,\r\n\r\n\r\nLike:- \r\n\r\n\r\n```\r\n &quot;list&quot;:[\r\n              {\r\n                 &quot;name&quot;:{{$randomFullName}}, \r\n                 &quot;account&quot;:{{$randomAlphaNumeric}},\r\n                 &quot;accountbalance&quot;:{{$$randomInt}}\r\n                  \r\n              }\r\n\r\n    &quot;Message&quot;:  &quot;Dear {{name}}, your {{$accountnumber}} has been credited with Rs.{{($accountbalance)}}.\r\n\r\n}\r\n\r\nI just want to pass name, account, account-balance in the message body.\r\n\r\n\r\n\r\n","title":"How to send array as parameter in API Call?","body":"<p>How to send array as parameter in API Call?</p>\n<p>I just want to know how can I pass and array as parameter in Java,</p>\n<p>Like:-</p>\n<pre><code> &quot;list&quot;:[\n              {\n                 &quot;name&quot;:{{$randomFullName}}, \n                 &quot;account&quot;:{{$randomAlphaNumeric}},\n                 &quot;accountbalance&quot;:{{$$randomInt}}\n                  \n              }\n\n    &quot;Message&quot;:  &quot;Dear {{name}}, your {{$accountnumber}} has been credited with Rs.{{($accountbalance)}}.\n\n}\n\nI just want to pass name, account, account-balance in the message body.\n\n\n\n</code></pre>\n"},{"tags":["java","json","algorithm","traveling-salesman"],"comments":[{"owner":{"account_id":334118,"reputation":584,"user_id":2731588,"accept_rate":77,"display_name":"Sureshkumar Panneerselvan"},"score":0,"creation_date":1389076036,"post_id":20965229,"comment_id":31494413,"body_markdown":"try gson api https://code.google.com/p/google-gson/","body":"try gson api <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">code.google.com/p/google-gson</a>"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1389076059,"post_id":20965229,"comment_id":31494421,"body_markdown":"possible duplicate of [A better Java JSON library?](http://stackoverflow.com/questions/338586/a-better-java-json-library)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/338586/a-better-java-json-library\">A better Java JSON library?</a>"}],"answers":[{"tags":[],"owner":{"account_id":373773,"reputation":5879,"user_id":723618,"accept_rate":54,"display_name":"ddoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389076368,"creation_date":1389076368,"answer_id":20965321,"question_id":20965229,"body_markdown":"When working with JSON we usually use libraries to make it easier, someone else has done the hard work to parse all that information.\r\n\r\nGSON is one https://code.google.com/p/google-gson/ and there are plenty others if you look around.\r\n\r\nOnce you have a library, give it your json and then you can start manipulating it. You will be able to get rows -&gt; element -&gt; duration -&gt; text quite easily.\r\n\r\nThis should get your started: http://www.javacreed.com/simple-gson-example/\r\n\r\nFrom there you should write code to take your GSON and put in a datas tructure that makes it easy to work with like a binary tree or something similar.\r\n\r\nRemember libraries are your friend.\r\n\r\n\r\n","title":"How to use JSON output in java","body":"<p>When working with JSON we usually use libraries to make it easier, someone else has done the hard work to parse all that information.</p>\n\n<p>GSON is one <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow\">https://code.google.com/p/google-gson/</a> and there are plenty others if you look around.</p>\n\n<p>Once you have a library, give it your json and then you can start manipulating it. You will be able to get rows -> element -> duration -> text quite easily.</p>\n\n<p>This should get your started: <a href=\"http://www.javacreed.com/simple-gson-example/\" rel=\"nofollow\">http://www.javacreed.com/simple-gson-example/</a></p>\n\n<p>From there you should write code to take your GSON and put in a datas tructure that makes it easy to work with like a binary tree or something similar.</p>\n\n<p>Remember libraries are your friend.</p>\n"},{"tags":[],"owner":{"account_id":3141416,"reputation":4796,"user_id":2656811,"accept_rate":60,"display_name":"Sujith PS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389346702,"creation_date":1389076389,"answer_id":20965329,"question_id":20965229,"body_markdown":"You can use [**org.codehaus.jettison.json.JSONArray**][2] for the same ([**Download jar**][1]).\r\n\r\nExample Code :\r\n  \r\n\r\n       JSONObject json = new JSONObject(result_string);\r\n       JSONArray rows  = json .getJSONArray(&quot;rows&quot;);\r\n\r\n\r\n**Creating distance matrix for TCP problem :**\r\n\r\nYou can use the following code :\r\n\r\n\r\n                JSONObject json1 = new JSONObject(json);\r\n    \t\t\tString places[] ={&quot;Paris&quot;   ,    &quot;Toulon&quot;  ,   &quot;Nantes&quot;    ,     &quot;Marseille&quot; };\r\n    \t\t\tString[][] result=new String[places.length][places.length];\r\n    \t\t\tJSONArray rows  = json1.getJSONArray(&quot;rows&quot;);\r\n    \t\t\t//JSONObject[] elements=new JSONObject[places.length];\r\n    \t\t\tfor (int i = 0; i &lt; rows.length(); i++) {\r\n    \t\t\t\tJSONObject obj=rows.getJSONObject(i);\r\n    \t\t\t\tJSONArray elements=obj.getJSONArray(&quot;elements&quot;);\r\n    \t\t\t\tfor (int j = 0; j &lt; elements.length(); j++) {\r\n    \t\t\t\t\tJSONObject elem=elements.getJSONObject(j);\r\n    \t\t\t\t\tJSONObject distance = elem.getJSONObject(&quot;distance&quot;);\r\n    \t\t\t\t\tresult[i][j]=distance.getString(&quot;value&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tfor (int i = 0; i &lt; result.length; i++) {\r\n    \t\t\t\tString row[]=result[i];\r\n    \t\t\t\tfor (int j = 0; j &lt; row.length; j++) {\r\n    \t\t\t\t\tSystem.out.print(&quot;  &quot; +row[j] + &quot; , &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n\r\n   \r\nLike this you can get values of json string .\r\n\r\n  [1]: http://repo1.maven.org/maven2/org/codehaus/jettison/jettison/1.3.3/jettison-1.3.3.jar\r\n  [2]: http://jettison.codehaus.org/apidocs/org/codehaus/jettison/json/JSONArray.html","title":"How to use JSON output in java","body":"<p>You can use <a href=\"http://jettison.codehaus.org/apidocs/org/codehaus/jettison/json/JSONArray.html\" rel=\"nofollow\"><strong>org.codehaus.jettison.json.JSONArray</strong></a> for the same (<a href=\"http://repo1.maven.org/maven2/org/codehaus/jettison/jettison/1.3.3/jettison-1.3.3.jar\" rel=\"nofollow\"><strong>Download jar</strong></a>).</p>\n\n<p>Example Code :</p>\n\n<pre><code>   JSONObject json = new JSONObject(result_string);\n   JSONArray rows  = json .getJSONArray(\"rows\");\n</code></pre>\n\n<p><strong>Creating distance matrix for TCP problem :</strong></p>\n\n<p>You can use the following code :</p>\n\n<pre><code>            JSONObject json1 = new JSONObject(json);\n            String places[] ={\"Paris\"   ,    \"Toulon\"  ,   \"Nantes\"    ,     \"Marseille\" };\n            String[][] result=new String[places.length][places.length];\n            JSONArray rows  = json1.getJSONArray(\"rows\");\n            //JSONObject[] elements=new JSONObject[places.length];\n            for (int i = 0; i &lt; rows.length(); i++) {\n                JSONObject obj=rows.getJSONObject(i);\n                JSONArray elements=obj.getJSONArray(\"elements\");\n                for (int j = 0; j &lt; elements.length(); j++) {\n                    JSONObject elem=elements.getJSONObject(j);\n                    JSONObject distance = elem.getJSONObject(\"distance\");\n                    result[i][j]=distance.getString(\"value\");\n                }\n\n            }\n            for (int i = 0; i &lt; result.length; i++) {\n                String row[]=result[i];\n                for (int j = 0; j &lt; row.length; j++) {\n                    System.out.print(\"  \" +row[j] + \" , \");\n                }\n                System.out.println();\n            }\n</code></pre>\n\n<p>Like this you can get values of json string .</p>\n"},{"tags":[],"owner":{"account_id":1841505,"reputation":68,"user_id":1670809,"display_name":"djavaphp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389077329,"creation_date":1389077329,"answer_id":20965586,"question_id":20965229,"body_markdown":"you can use Java Api for JSON.\r\n\r\nyou can start with : http://www.oracle.com/technetwork/articles/java/json-1973242.html \r\n","title":"How to use JSON output in java","body":"<p>you can use Java Api for JSON.</p>\n\n<p>you can start with : <a href=\"http://www.oracle.com/technetwork/articles/java/json-1973242.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/java/json-1973242.html</a> </p>\n"},{"tags":[],"owner":{"account_id":26320282,"reputation":11,"user_id":19982382,"display_name":"Pranali Kurumkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667210952,"creation_date":1667210952,"answer_id":74261690,"question_id":20965229,"body_markdown":"\r\n\r\n \r\n\r\ndownload and install &quot;json.simple&quot;.\r\n\r\nadd maven dependency in pom.xml file.\r\n\r\n  \r\n\r\n      &lt;dependency&gt;  \r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;  \r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;  \r\n            &lt;version&gt;1.1&lt;/version&gt;  \r\n          &lt;/dependency&gt;\r\n\r\n\r\n\r\nYou can also refer [this site][1]\r\n  \r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-json-example","title":"How to use JSON output in java","body":"<p>download and install &quot;json.simple&quot;.</p>\n<p>add maven dependency in pom.xml file.</p>\n<pre><code>  &lt;dependency&gt;  \n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;  \n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;  \n        &lt;version&gt;1.1&lt;/version&gt;  \n      &lt;/dependency&gt;\n</code></pre>\n<p>You can also refer <a href=\"https://www.javatpoint.com/java-json-example\" rel=\"nofollow noreferrer\">this site</a></p>\n"}],"owner":{"account_id":3806525,"reputation":1,"user_id":3158797,"display_name":"Inemzireno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1667210952,"creation_date":1389075940,"question_id":20965229,"body_markdown":"I am making a program which gets the Json distance matrix from Google Maps API. So far i wrote the program can get the json it looks as below\r\n \r\n\r\n      {\r\n       &quot;destination_addresses&quot; : [\r\n          &quot;Paris, France&quot;,\r\n          &quot;Toulon, France&quot;,\r\n          &quot;Nantes, France&quot;,\r\n          &quot;Marseille, France&quot;\r\n       ],\r\n       &quot;origin_addresses&quot; : [\r\n          &quot;Paris, France&quot;,\r\n          &quot;Toulon, France&quot;,\r\n          &quot;Nantes, France&quot;,\r\n          &quot;Marseille, France&quot;\r\n       ],\r\n       &quot;rows&quot; : [\r\n          {\r\n             &quot;elements&quot; : [\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;1 m&quot;,\r\n                      &quot;value&quot; : 0\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;1 min&quot;,\r\n                      &quot;value&quot; : 0\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                },\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;839 km&quot;,\r\n                      &quot;value&quot; : 838906\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;7 hours 21 mins&quot;,\r\n                      &quot;value&quot; : 26476\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                },\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;384 km&quot;,\r\n                      &quot;value&quot; : 384421\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;3 hours 34 mins&quot;,\r\n                      &quot;value&quot; : 12823\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                },\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;774 km&quot;,\r\n                      &quot;value&quot; : 774398\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;6 hours 48 mins&quot;,\r\n                      &quot;value&quot; : 24490\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                }\r\n             ]\r\n          },\r\n     \r\n\r\nNow what i want to do is to create a distance matrix as this \r\n   \r\n\r\n           [ Paris        Toulon     Nantes         Marseille ]\r\n    [Paris       0           838906     384421           774398 ]\r\n    [Toulon    value            0       value            value]\r\n    [Nantes    value          value       0              value] \r\n    [Marseille value          value      value             0 ]\r\n\r\n** The values stands for distance between the cities.\r\n\r\n(in java form of course) and later i will use it in solving the TSP. I need the values from Elements --&gt; Distance --&gt; Values. Any help would be appreciated. Thanks in advance.","title":"How to use JSON output in java","body":"<p>I am making a program which gets the Json distance matrix from Google Maps API. So far i wrote the program can get the json it looks as below</p>\n\n<pre><code>  {\n   \"destination_addresses\" : [\n      \"Paris, France\",\n      \"Toulon, France\",\n      \"Nantes, France\",\n      \"Marseille, France\"\n   ],\n   \"origin_addresses\" : [\n      \"Paris, France\",\n      \"Toulon, France\",\n      \"Nantes, France\",\n      \"Marseille, France\"\n   ],\n   \"rows\" : [\n      {\n         \"elements\" : [\n            {\n               \"distance\" : {\n                  \"text\" : \"1 m\",\n                  \"value\" : 0\n               },\n               \"duration\" : {\n                  \"text\" : \"1 min\",\n                  \"value\" : 0\n               },\n               \"status\" : \"OK\"\n            },\n            {\n               \"distance\" : {\n                  \"text\" : \"839 km\",\n                  \"value\" : 838906\n               },\n               \"duration\" : {\n                  \"text\" : \"7 hours 21 mins\",\n                  \"value\" : 26476\n               },\n               \"status\" : \"OK\"\n            },\n            {\n               \"distance\" : {\n                  \"text\" : \"384 km\",\n                  \"value\" : 384421\n               },\n               \"duration\" : {\n                  \"text\" : \"3 hours 34 mins\",\n                  \"value\" : 12823\n               },\n               \"status\" : \"OK\"\n            },\n            {\n               \"distance\" : {\n                  \"text\" : \"774 km\",\n                  \"value\" : 774398\n               },\n               \"duration\" : {\n                  \"text\" : \"6 hours 48 mins\",\n                  \"value\" : 24490\n               },\n               \"status\" : \"OK\"\n            }\n         ]\n      },\n</code></pre>\n\n<p>Now what i want to do is to create a distance matrix as this </p>\n\n<pre><code>       [ Paris        Toulon     Nantes         Marseille ]\n[Paris       0           838906     384421           774398 ]\n[Toulon    value            0       value            value]\n[Nantes    value          value       0              value] \n[Marseille value          value      value             0 ]\n</code></pre>\n\n<p>** The values stands for distance between the cities.</p>\n\n<p>(in java form of course) and later i will use it in solving the TSP. I need the values from Elements --> Distance --> Values. Any help would be appreciated. Thanks in advance.</p>\n"},{"tags":["java","pact"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667188224,"post_id":74257139,"comment_id":131103741,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667210930,"creation_date":1667210930,"answer_id":74261687,"question_id":74257139,"body_markdown":"No, Pact is not designed this way. Even if it were, it would miss out on a key benefit of contract testing: full visibility into the actual used surface area of the API.\r\n\r\nIf you were to only employ record/replay style tests here, we would not know what the consumer actually uses in the **response** from a given Provider.\r\n\r\nThis would now mean the Provider must assume that for a given endpoint, all of the fields are important to a Consumer.\r\n\r\nNow if a Provider wants to modify or delete a field, it must assume every consumer relies on it and now must version their API.\r\n\r\nBut if the Provider knew that their consumers only needed a subset of the fields, it would be safe to remove/change the ones that weren&#39;t currently in use, without needing to version the API or indeed communicate that change outside of their team.\r\n\r\nFurthermore, Pact is very much intended to be a unit testing tool. Hitting real endpoints adds a lot more indeterminism into the equation and makes it harder to be very specific and targeted with your testing.","title":"Is there a way for the pact consumer to hit the live provider service instead of Mock and generate the contract file?","body":"<p>No, Pact is not designed this way. Even if it were, it would miss out on a key benefit of contract testing: full visibility into the actual used surface area of the API.</p>\n<p>If you were to only employ record/replay style tests here, we would not know what the consumer actually uses in the <strong>response</strong> from a given Provider.</p>\n<p>This would now mean the Provider must assume that for a given endpoint, all of the fields are important to a Consumer.</p>\n<p>Now if a Provider wants to modify or delete a field, it must assume every consumer relies on it and now must version their API.</p>\n<p>But if the Provider knew that their consumers only needed a subset of the fields, it would be safe to remove/change the ones that weren't currently in use, without needing to version the API or indeed communicate that change outside of their team.</p>\n<p>Furthermore, Pact is very much intended to be a unit testing tool. Hitting real endpoints adds a lot more indeterminism into the equation and makes it harder to be very specific and targeted with your testing.</p>\n"}],"owner":{"account_id":26779648,"reputation":1,"user_id":20374707,"display_name":"Veda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667210930,"creation_date":1667168130,"question_id":74257139,"body_markdown":"I&#39;m trying to generate a pact contract file from my consumer API test by hitting the live provider service (dev) instead of using the provider mock.\r\nHowever, I&#39;m getting the below error. Anyone knows how to resolve this or is this actually feasible to hit the provider from consumer test? Thanks\r\n\r\n```\r\nau.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:\r\n\tmethod: GET\r\n\tpath: &lt;API path&gt;\r\n\tquery: {}\r\n\theaders: &lt;headers&gt;\r\n\tmatchers: MatchingRules(rules={})\r\n\tgenerators: Generators(categories={})\r\n\tbody: MISSING\r\n\r\n\tat au.com.dius.pact.consumer.junit.JUnitTestSupport.validateMockServerResult(JUnitTestSupport.kt:60)\r\n\tat au.com.dius.pact.consumer.junit5.PactConsumerTestExt.afterTestExecution(PactConsumerTestExt.kt:367)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterTestExecutionCallbacks$9(TestMethodTestDescriptor.java:233)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:273)\r\n\t.....\r\norg.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\n","title":"Is there a way for the pact consumer to hit the live provider service instead of Mock and generate the contract file?","body":"<p>I'm trying to generate a pact contract file from my consumer API test by hitting the live provider service (dev) instead of using the provider mock.\nHowever, I'm getting the below error. Anyone knows how to resolve this or is this actually feasible to hit the provider from consumer test? Thanks</p>\n<pre><code>au.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:\n    method: GET\n    path: &lt;API path&gt;\n    query: {}\n    headers: &lt;headers&gt;\n    matchers: MatchingRules(rules={})\n    generators: Generators(categories={})\n    body: MISSING\n\n    at au.com.dius.pact.consumer.junit.JUnitTestSupport.validateMockServerResult(JUnitTestSupport.kt:60)\n    at au.com.dius.pact.consumer.junit5.PactConsumerTestExt.afterTestExecution(PactConsumerTestExt.kt:367)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterTestExecutionCallbacks$9(TestMethodTestDescriptor.java:233)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:273)\n    .....\norg.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n\n</code></pre>\n"},{"tags":["java","swing","rotation","bufferedimage","graphics2d"],"answers":[{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1621796064,"creation_date":1297059633,"answer_id":4918576,"question_id":4918482,"body_markdown":"Maybe you should try using `AffineTransform` like this:\r\n```java\r\nAffineTransform transform = new AffineTransform();\r\ntransform.rotate(radians, bufferedImage.getWidth() / 2, bufferedImage.getHeight() / 2);\r\nAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\r\nbufferedImage = op.filter(bufferedImage, null);\r\n```\r\nHope this helps.","title":"Rotating BufferedImage instances","body":"<p>Maybe you should try using <code>AffineTransform</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AffineTransform transform = new AffineTransform();\ntransform.rotate(radians, bufferedImage.getWidth() / 2, bufferedImage.getHeight() / 2);\nAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\nbufferedImage = op.filter(bufferedImage, null);\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1297067130,"creation_date":1297067130,"answer_id":4919238,"question_id":4918482,"body_markdown":"You are rotating the graphics for drawing into your image, not the image. Thats why you see no effect. Apply the rotation to the graphics you are painting on and it will draw the image rotated:\r\n\r\n    public void paintComponent(Graphics g) {\r\n        g.clearRect(0, 0, getWidth(), getHeight());\r\n        g.rotate(Math.toRadians(rotation), img.getWidth() / 2, img.getHeight() / 2);\r\n        g.drawImage(img, imgx, imgy, null);\r\n        this.repaint();\r\n    }\r\n\r\nThis will probably not draw entirely what you expect, the rotation will revolve around the coordinate origin. For the image to be rotate around its center you need to apply a coordinate translation before the rotation, for example:\r\n\r\n    g.translate(imgx &gt;&gt; 1, imgy &gt;&gt; 1);\r\n\r\nThe &lt;a href=&quot;http://download.oracle.com/javase/tutorial/2d/advanced/transforming.html/&quot;&gt;Graphics2D Tutorial&lt;/a&gt; has some more examples.","title":"Rotating BufferedImage instances","body":"<p>You are rotating the graphics for drawing into your image, not the image. Thats why you see no effect. Apply the rotation to the graphics you are painting on and it will draw the image rotated:</p>\n\n<pre><code>public void paintComponent(Graphics g) {\n    g.clearRect(0, 0, getWidth(), getHeight());\n    g.rotate(Math.toRadians(rotation), img.getWidth() / 2, img.getHeight() / 2);\n    g.drawImage(img, imgx, imgy, null);\n    this.repaint();\n}\n</code></pre>\n\n<p>This will probably not draw entirely what you expect, the rotation will revolve around the coordinate origin. For the image to be rotate around its center you need to apply a coordinate translation before the rotation, for example:</p>\n\n<pre><code>g.translate(imgx &gt;&gt; 1, imgy &gt;&gt; 1);\n</code></pre>\n\n<p>The <a href=\"http://download.oracle.com/javase/tutorial/2d/advanced/transforming.html/\" rel=\"noreferrer\">Graphics2D Tutorial</a> has some more examples.</p>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1621793577,"creation_date":1297072241,"answer_id":4919880,"question_id":4918482,"body_markdown":"I would use [`Graphics2D.drawImage(image, affinetranform, imageobserver)`][1].\r\n\r\nThe code example below rotates and translates an image to the center of the component. This is a screenshot of the result:\r\n\r\n![screenshot][2]\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    JFrame frame = new JFrame(&quot;Test&quot;);\r\n\r\n    frame.add(new JComponent() {\r\n        BufferedImage image = ImageIO.read(\r\n                new URL(&quot;http://upload.wikimedia.org/wikipedia/en/2/24/Lenna.png&quot;));\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n\r\n            // create the transform, note that the transformations happen\r\n            // in reversed order (so check them backwards)\r\n            AffineTransform at = new AffineTransform();\r\n\r\n            // 4. translate it to the center of the component\r\n            at.translate(getWidth() / 2, getHeight() / 2);\r\n\r\n            // 3. do the actual rotation\r\n            at.rotate(Math.PI / 4);\r\n\r\n            // 2. just a scale because this image is big\r\n            at.scale(0.5, 0.5);\r\n\r\n            // 1. translate the object so that you rotate it around the \r\n            //    center (easier :))\r\n            at.translate(-image.getWidth() / 2, -image.getHeight() / 2);\r\n\r\n            // draw the image\r\n            Graphics2D g2d = (Graphics2D) g;\r\n            g2d.drawImage(image, at, null);\r\n\r\n            // continue drawing other stuff (non-transformed)\r\n            //...\r\n        }\r\n    });\r\n\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    frame.setSize(400, 400);\r\n    frame.setVisible(true);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/awt/Graphics2D.html#drawImage(java.awt.Image,%20java.awt.geom.AffineTransform,%20java.awt.image.ImageObserver)\r\n  [2]: http://i.stack.imgur.com/WGlYu.png","title":"Rotating BufferedImage instances","body":"<p>I would use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/awt/Graphics2D.html#drawImage(java.awt.Image,%20java.awt.geom.AffineTransform,%20java.awt.image.ImageObserver)\" rel=\"nofollow noreferrer\"><code>Graphics2D.drawImage(image, affinetranform, imageobserver)</code></a>.</p>\n<p>The code example below rotates and translates an image to the center of the component. This is a screenshot of the result:</p>\n<p><img src=\"https://i.stack.imgur.com/WGlYu.png\" alt=\"screenshot\" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    JFrame frame = new JFrame(&quot;Test&quot;);\n\n    frame.add(new JComponent() {\n        BufferedImage image = ImageIO.read(\n                new URL(&quot;http://upload.wikimedia.org/wikipedia/en/2/24/Lenna.png&quot;));\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            // create the transform, note that the transformations happen\n            // in reversed order (so check them backwards)\n            AffineTransform at = new AffineTransform();\n\n            // 4. translate it to the center of the component\n            at.translate(getWidth() / 2, getHeight() / 2);\n\n            // 3. do the actual rotation\n            at.rotate(Math.PI / 4);\n\n            // 2. just a scale because this image is big\n            at.scale(0.5, 0.5);\n\n            // 1. translate the object so that you rotate it around the \n            //    center (easier :))\n            at.translate(-image.getWidth() / 2, -image.getHeight() / 2);\n\n            // draw the image\n            Graphics2D g2d = (Graphics2D) g;\n            g2d.drawImage(image, at, null);\n\n            // continue drawing other stuff (non-transformed)\n            //...\n        }\n    });\n\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(400, 400);\n    frame.setVisible(true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2432392,"reputation":755,"user_id":2123025,"accept_rate":25,"display_name":"Claude Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667210874,"creation_date":1649773699,"answer_id":71844467,"question_id":4918482,"body_markdown":"I know this question is old but I came up with a solution that has some advantages:\r\n\r\n - creates image of correct size.\r\n - correct offset.\r\n - does not unnecessarily rotate by 0&#176; or 360&#176;.\r\n - works for negative angles (e.g. -90&#176;).\r\n - works when input is `BufferedImage.TYPE_CUSTOM`.\r\n\r\nAs it is, it is assumed that the angle is a multiple of 90&#176;. The only improvement that one might need is to use an Enum for `angle` instead of just `int`.\r\n\r\nHere&#39;s my code:\r\n\r\n    public static BufferedImage rotateBufferedImage(BufferedImage img, int angle) {\r\n\t\tif (angle &lt; 0) {\r\n\t\t\tangle = 360 + (angle % 360);\r\n\t\t}\r\n\t\tangle %= 360;\r\n\t\tif (angle == 0) {\r\n\t\t\treturn img;\r\n\t\t}\r\n\t\tfinal boolean r180 = angle == 180;\r\n\t\tif (angle != 90 &amp;&amp; !r180 &amp;&amp; angle != 270)\r\n\t\t\tthrow new IllegalArgumentException(&quot;Invalid angle.&quot;);\r\n\t\tfinal int w = r180 ? img.getWidth() : img.getHeight();\r\n\t\tfinal int h = r180 ? img.getHeight() : img.getWidth();\r\n\t\tfinal int type = img.getType() == BufferedImage.TYPE_CUSTOM ? BufferedImage.TYPE_INT_ARGB : img.getType();\r\n\t\tfinal BufferedImage rotated = new BufferedImage(w, h, type);\r\n\t\tfinal Graphics2D graphic = rotated.createGraphics();\r\n\t\tgraphic.rotate(Math.toRadians(angle), w / 2d, h / 2d);\r\n\t\tfinal int offset = r180 ? 0 : (w - h) / 2;\r\n\t\tgraphic.drawImage(img, null, offset, -offset);\r\n\t\tgraphic.dispose();\r\n\t\treturn rotated;\r\n\t}\r\n\tpublic static BufferedImage rotateBufferedImage(String img, int angle) throws IOException {\r\n\t\treturn rotateBufferedImage(Paths.get(img), angle);\r\n\t}\r\n\tpublic static BufferedImage rotateBufferedImage(Path img, int angle) throws IOException {\r\n\t\treturn rotateBufferedImage(ImageIO.read(img.toFile()), angle);\r\n\t}","title":"Rotating BufferedImage instances","body":"<p>I know this question is old but I came up with a solution that has some advantages:</p>\n<ul>\n<li>creates image of correct size.</li>\n<li>correct offset.</li>\n<li>does not unnecessarily rotate by 0° or 360°.</li>\n<li>works for negative angles (e.g. -90°).</li>\n<li>works when input is <code>BufferedImage.TYPE_CUSTOM</code>.</li>\n</ul>\n<p>As it is, it is assumed that the angle is a multiple of 90°. The only improvement that one might need is to use an Enum for <code>angle</code> instead of just <code>int</code>.</p>\n<p>Here's my code:</p>\n<pre><code>public static BufferedImage rotateBufferedImage(BufferedImage img, int angle) {\n    if (angle &lt; 0) {\n        angle = 360 + (angle % 360);\n    }\n    angle %= 360;\n    if (angle == 0) {\n        return img;\n    }\n    final boolean r180 = angle == 180;\n    if (angle != 90 &amp;&amp; !r180 &amp;&amp; angle != 270)\n        throw new IllegalArgumentException(&quot;Invalid angle.&quot;);\n    final int w = r180 ? img.getWidth() : img.getHeight();\n    final int h = r180 ? img.getHeight() : img.getWidth();\n    final int type = img.getType() == BufferedImage.TYPE_CUSTOM ? BufferedImage.TYPE_INT_ARGB : img.getType();\n    final BufferedImage rotated = new BufferedImage(w, h, type);\n    final Graphics2D graphic = rotated.createGraphics();\n    graphic.rotate(Math.toRadians(angle), w / 2d, h / 2d);\n    final int offset = r180 ? 0 : (w - h) / 2;\n    graphic.drawImage(img, null, offset, -offset);\n    graphic.dispose();\n    return rotated;\n}\npublic static BufferedImage rotateBufferedImage(String img, int angle) throws IOException {\n    return rotateBufferedImage(Paths.get(img), angle);\n}\npublic static BufferedImage rotateBufferedImage(Path img, int angle) throws IOException {\n    return rotateBufferedImage(ImageIO.read(img.toFile()), angle);\n}\n</code></pre>\n"}],"owner":{"display_name":"user577304"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56237,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":4919880,"answer_count":4,"score":21,"last_activity_date":1667210874,"creation_date":1297058681,"question_id":4918482,"body_markdown":"I am having trouble getting a rotated `BufferedImage` to display. I think the rotation is working just fine, but I can&#39;t actually draw it to the screen. My code:\r\n\r\n    Class extends JPanel {\r\n        BufferedImage img;\r\n        int rotation = 0;\r\n    \r\n        public void paintComponent(Graphics g) {\r\n            g.clearRect(0, 0, getWidth(), getHeight());\r\n            img2d = img.createGraphics();\r\n            img2d.rotate(Math.toRadians(rotation), img.getWidth() / 2, img.getHeight() / 2);\r\n            g.drawImage(img, imgx, imgy, null);\r\n            this.repaint();\r\n        }\r\n    }\r\n\r\nThis is not working for me. I could not find any way to draw the rotated `img2d` onto `g`.\r\n\r\nEDIT: I have multiple objects that are being drawn onto `g`, so I can&#39;t rotate that. I need to be able to rotate things individually.","title":"Rotating BufferedImage instances","body":"<p>I am having trouble getting a rotated <code>BufferedImage</code> to display. I think the rotation is working just fine, but I can't actually draw it to the screen. My code:</p>\n\n<pre><code>Class extends JPanel {\n    BufferedImage img;\n    int rotation = 0;\n\n    public void paintComponent(Graphics g) {\n        g.clearRect(0, 0, getWidth(), getHeight());\n        img2d = img.createGraphics();\n        img2d.rotate(Math.toRadians(rotation), img.getWidth() / 2, img.getHeight() / 2);\n        g.drawImage(img, imgx, imgy, null);\n        this.repaint();\n    }\n}\n</code></pre>\n\n<p>This is not working for me. I could not find any way to draw the rotated <code>img2d</code> onto <code>g</code>.</p>\n\n<p>EDIT: I have multiple objects that are being drawn onto <code>g</code>, so I can't rotate that. I need to be able to rotate things individually.</p>\n"},{"tags":["java","algorithm","sorting","data-structures","stack"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667215876,"post_id":74246669,"comment_id":131110033,"body_markdown":"`move one value` leaves too much room for interpretation: Move arbitrarily within stack? Move to a second stack? Just push &amp; pop &quot;the&quot; (one&amp;only) stack?","body":"<code>move one value</code> leaves too much room for interpretation: Move arbitrarily within stack? Move to a second stack? Just push &amp; pop &quot;the&quot; (one&amp;only) stack?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667210783,"creation_date":1667059323,"answer_id":74246762,"question_id":74246669,"body_markdown":"You&#39;re reinventing the [Counting sort algorithm](https://en.wikipedia.org/wiki/Counting_sort), which runs in linear time **O(n)**.\r\n\r\nInstead of a `HashMap` you can use a plain array. And you definitely **don&#39;t** need this swarm of redundant `while`-loops.\r\n\r\nHere&#39;s the description of the algorithm in pseudocode:\r\n\r\n&gt; `function CountingSort(input, k)`\r\n&gt; \r\n&gt;  \r\n&gt;     count ← array of k + 1 zeros\r\n&gt;     output ← array of same length as input\r\n&gt;     \r\n&gt;     for i = 0 to length(input) - 1 do      // STEP 1\r\n&gt;         j = key(input[i])\r\n&gt;         count[j] = count[j] + 1\r\n&gt; \r\n&gt;     for i = 1 to k do                      // we don&#39;t need this step\r\n&gt;         count[i] = count[i] + count[i - 1]\r\n&gt; \r\n&gt;     for i = length(input) - 1 down to 0 do // STEP 2\r\n&gt;         j = key(input[i])\r\n&gt;         count[j] = count[j] - 1\r\n&gt;         output[count[j]] = input[i]\r\n&gt; \r\n&gt;     return output\r\n\r\nFor your use-case you don&#39;t need the second `for`-loop where there the cumulative frequency is being calculated.\r\n\r\nSo to address the problem, we need to take the following step:\r\n\r\n* STEP 1 is to generate a histogram of frequencies.\r\n\r\n* STEP 2 is to iterate over frequencies backwards (i.e. starting from the very last index of the array) and push the values equal to `index` + `minValue` (in this case 1). Each value should be pushed the number of times equal to its frequency.\r\n\r\nHere&#39;s an implementation:\r\n\r\n```\r\nfinal int min = 1;\r\nfinal int max = 4;\r\n\r\nint[] freq = new int[max - min + 1]; // histogram, i.e. array of frequencies of values in range [min, max]\r\n        \r\n// STEP 1: generating a histogram\r\n\r\nwhile (!stack.isEmpty()) {\r\n    int next = stack.pop();\r\n    if (next &gt;= min &amp;&amp; next &lt;= max) freq[next - min]++; // calculating the frequency of each element\r\n}\r\n    \r\n// STEP 2: populating the stack in sorted order\r\n        \r\nfor (int i = freq.length - 1; i &gt;= 0; i--) {\r\n    while (freq[i] &gt; 0) {\r\n        stack.push(i + min);\r\n        freq[i]--;\r\n    }\r\n}\r\n\r\nreturn stack;\r\n```\r\n\r\nIf you want to use the `HashMap`, fine, you can apply the **same algorithm**, just don&#39;t create redundant loops.\r\n\r\nRegarding the time complexity in both cases it would be **linear** as I&#39;ve said before. Array would perform slightly better, but more importantly it gives you a better feeling of the internal mechanics of the algorithm.\r\n\r\n```\r\nfinal int min = 1;\r\nfinal int max = 4;\r\n        \r\nMap&lt;Integer, Integer&gt; freq = new HashMap&lt;&gt;(); // histogram, i.e. array of frequencies of values in range [min, max]\r\n\r\n// STEP 1: generating a histogram\r\n        \r\nwhile (!stack.isEmpty()) {\r\n    int next = stack.pop();\r\n    if (next &gt;= min &amp;&amp; next &lt;= max) \r\n        freq.merge(next, 1, Integer::sum); // calculating the frequency of each element\r\n}\r\n    \r\n// STEP 2: populating the stack in sorted order\r\n    \r\nfor (int i = max; i &gt;= min; i--) {\r\n    int count = freq.get(i);\r\n    while (count &gt; 0) {\r\n        stack.push(i + min);\r\n        count--;\r\n    }\r\n}\r\n        \r\nreturn stack;\r\n```\r\n\r\n***Sidenote:*** class `java.util.Stack` is legacy and **not** encouraged to be used. When you need an implementation of Stack data structure in Java, use classes that implement [`Deque`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html) interface.","title":"Better way to sort a stack / algorithm improvement + space &amp; time reasoning","body":"<p>You're reinventing the <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">Counting sort algorithm</a>, which runs in linear time <strong>O(n)</strong>.</p>\n<p>Instead of a <code>HashMap</code> you can use a plain array. And you definitely <strong>don't</strong> need this swarm of redundant <code>while</code>-loops.</p>\n<p>Here's the description of the algorithm in pseudocode:</p>\n<blockquote>\n<p><code>function CountingSort(input, k)</code></p>\n<pre><code>count ← array of k + 1 zeros\noutput ← array of same length as input\n\nfor i = 0 to length(input) - 1 do      // STEP 1\n    j = key(input[i])\n    count[j] = count[j] + 1\n\nfor i = 1 to k do                      // we don't need this step\n    count[i] = count[i] + count[i - 1]\n\nfor i = length(input) - 1 down to 0 do // STEP 2\n    j = key(input[i])\n    count[j] = count[j] - 1\n    output[count[j]] = input[i]\n\nreturn output\n</code></pre>\n</blockquote>\n<p>For your use-case you don't need the second <code>for</code>-loop where there the cumulative frequency is being calculated.</p>\n<p>So to address the problem, we need to take the following step:</p>\n<ul>\n<li><p>STEP 1 is to generate a histogram of frequencies.</p>\n</li>\n<li><p>STEP 2 is to iterate over frequencies backwards (i.e. starting from the very last index of the array) and push the values equal to <code>index</code> + <code>minValue</code> (in this case 1). Each value should be pushed the number of times equal to its frequency.</p>\n</li>\n</ul>\n<p>Here's an implementation:</p>\n<pre><code>final int min = 1;\nfinal int max = 4;\n\nint[] freq = new int[max - min + 1]; // histogram, i.e. array of frequencies of values in range [min, max]\n        \n// STEP 1: generating a histogram\n\nwhile (!stack.isEmpty()) {\n    int next = stack.pop();\n    if (next &gt;= min &amp;&amp; next &lt;= max) freq[next - min]++; // calculating the frequency of each element\n}\n    \n// STEP 2: populating the stack in sorted order\n        \nfor (int i = freq.length - 1; i &gt;= 0; i--) {\n    while (freq[i] &gt; 0) {\n        stack.push(i + min);\n        freq[i]--;\n    }\n}\n\nreturn stack;\n</code></pre>\n<p>If you want to use the <code>HashMap</code>, fine, you can apply the <strong>same algorithm</strong>, just don't create redundant loops.</p>\n<p>Regarding the time complexity in both cases it would be <strong>linear</strong> as I've said before. Array would perform slightly better, but more importantly it gives you a better feeling of the internal mechanics of the algorithm.</p>\n<pre><code>final int min = 1;\nfinal int max = 4;\n        \nMap&lt;Integer, Integer&gt; freq = new HashMap&lt;&gt;(); // histogram, i.e. array of frequencies of values in range [min, max]\n\n// STEP 1: generating a histogram\n        \nwhile (!stack.isEmpty()) {\n    int next = stack.pop();\n    if (next &gt;= min &amp;&amp; next &lt;= max) \n        freq.merge(next, 1, Integer::sum); // calculating the frequency of each element\n}\n    \n// STEP 2: populating the stack in sorted order\n    \nfor (int i = max; i &gt;= min; i--) {\n    int count = freq.get(i);\n    while (count &gt; 0) {\n        stack.push(i + min);\n        count--;\n    }\n}\n        \nreturn stack;\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> class <code>java.util.Stack</code> is legacy and <strong>not</strong> encouraged to be used. When you need an implementation of Stack data structure in Java, use classes that implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\"><code>Deque</code></a> interface.</p>\n"}],"owner":{"account_id":24453861,"reputation":19,"user_id":18375727,"display_name":"riverside96"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667210783,"creation_date":1667058492,"question_id":74246669,"body_markdown":"I am trying to figure out an optimal solution for the following problem:\r\n\r\n&gt; Given a stack of `20` integers, sort the stack so that only\r\n&gt; values in range from `1` to `4` would remain in ascending order. You may only move one value\r\n&gt; at a time.\r\n\r\nI have implemented an iterative &amp; a recursive quick sort &amp; now I&#39;m looking for more optimal solutions. I have come up with the following so far, which runs on average approx 10x faster over 10k iterations. I am struggling to reason about space &amp; time complexity &amp; I&#39;m sure there&#39;s plenty of room for a better solution. \r\n\r\nWhich sorts should I be considering? Which data types should I be considering? What&#39;s the best possible worse case time complexity **O(?)** for the given problem? \r\n\r\n```\r\nStack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\nstack.push(5);\r\nstack.push(3);\r\nstack.push(2);\r\nstack.push(1);\r\nstack.push(3);\r\nstack.push(5);\r\nstack.push(3);\r\nstack.push(1);\r\nstack.push(4);\r\nstack.push(7);\r\n        \r\nHashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(1, 0);\r\nmap.put(2, 0);\r\nmap.put(3, 0);\r\nmap.put(4, 0);\r\n        \r\nint popped;\r\n        \r\nwhile (!stack.isEmpty()) {\r\n    popped = stack.pop();\r\n            \r\n    if (map.containsKey(popped)) {\r\n        map.put(popped, map.get(popped) + 1);\r\n    }\r\n}\r\n        \r\nwhile (map.get(4) &gt; 0) {\r\n    stack.push(4);\r\n    map.put(4, map.get(4) - 1);\r\n}\r\n        \r\nwhile (map.get(3) &gt; 0) {\r\n    stack.push(3);\r\n    map.put(3, map.get(3) - 1);\r\n}\r\n        \r\nwhile (map.get(2) &gt; 0) {\r\n    stack.push(2);\r\n    map.put(2, map.get(2) - 1);\r\n}\r\n        \r\nwhile (map.get(1) &gt; 0) {\r\n    stack.push(1);\r\n    map.put(1, map.get(1) - 1);\r\n}\r\n``` ","title":"Better way to sort a stack / algorithm improvement + space &amp; time reasoning","body":"<p>I am trying to figure out an optimal solution for the following problem:</p>\n<blockquote>\n<p>Given a stack of <code>20</code> integers, sort the stack so that only\nvalues in range from <code>1</code> to <code>4</code> would remain in ascending order. You may only move one value\nat a time.</p>\n</blockquote>\n<p>I have implemented an iterative &amp; a recursive quick sort &amp; now I'm looking for more optimal solutions. I have come up with the following so far, which runs on average approx 10x faster over 10k iterations. I am struggling to reason about space &amp; time complexity &amp; I'm sure there's plenty of room for a better solution.</p>\n<p>Which sorts should I be considering? Which data types should I be considering? What's the best possible worse case time complexity <strong>O(?)</strong> for the given problem?</p>\n<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\nstack.push(5);\nstack.push(3);\nstack.push(2);\nstack.push(1);\nstack.push(3);\nstack.push(5);\nstack.push(3);\nstack.push(1);\nstack.push(4);\nstack.push(7);\n        \nHashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(1, 0);\nmap.put(2, 0);\nmap.put(3, 0);\nmap.put(4, 0);\n        \nint popped;\n        \nwhile (!stack.isEmpty()) {\n    popped = stack.pop();\n            \n    if (map.containsKey(popped)) {\n        map.put(popped, map.get(popped) + 1);\n    }\n}\n        \nwhile (map.get(4) &gt; 0) {\n    stack.push(4);\n    map.put(4, map.get(4) - 1);\n}\n        \nwhile (map.get(3) &gt; 0) {\n    stack.push(3);\n    map.put(3, map.get(3) - 1);\n}\n        \nwhile (map.get(2) &gt; 0) {\n    stack.push(2);\n    map.put(2, map.get(2) - 1);\n}\n        \nwhile (map.get(1) &gt; 0) {\n    stack.push(1);\n    map.put(1, map.get(1) - 1);\n}\n</code></pre>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":10999814,"reputation":597,"user_id":8498513,"display_name":"donquih0te"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572766636,"creation_date":1572766636,"answer_id":58678268,"question_id":58678072,"body_markdown":"The HttpRequest type provide factory method for creating request publisher for handling body type such as file:\r\n\r\n    HttpRequest.BodyPublishers::ofFile(Path)\r\n\r\nYou can update your method:\r\n\r\n    public HttpResponse&lt;String&gt; post(String url, Path file, String... headers) throws IOException, InterruptedException {\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(url))\r\n                .headers(headers)\r\n                .POST(null == file ? HttpRequest.BodyPublishers.noBody() : \r\n                    HttpRequest.BodyPublishers.ofFile(file))\r\n                .build();\r\n\r\n            log.debug(&quot;Execute HttpClient Method:『{}』, Url:『{}』&quot;, request.method(), \r\n                request.uri().toString());\r\n            return client.send(request, HttpResponse.BodyHandlers.ofString());\r\n    }","title":"How to upload files using JDK 11 java.net.http.HttpClient?","body":"<p>The HttpRequest type provide factory method for creating request publisher for handling body type such as file:</p>\n\n<pre><code>HttpRequest.BodyPublishers::ofFile(Path)\n</code></pre>\n\n<p>You can update your method:</p>\n\n<pre><code>public HttpResponse&lt;String&gt; post(String url, Path file, String... headers) throws IOException, InterruptedException {\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(url))\n            .headers(headers)\n            .POST(null == file ? HttpRequest.BodyPublishers.noBody() : \n                HttpRequest.BodyPublishers.ofFile(file))\n            .build();\n\n        log.debug(\"Execute HttpClient Method:『{}』, Url:『{}』\", request.method(), \n            request.uri().toString());\n        return client.send(request, HttpResponse.BodyHandlers.ofString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572958599,"creation_date":1572957739,"answer_id":58711609,"question_id":58678072,"body_markdown":"The `java.net.http.HttpClient` handles bytes supplied through the `BodyPublisher` as raw body data, without any interpretation. Whether you use `HttpRequest.BodyPublishers::ofFile(Path)` or `HttpRequest.BodyPublishers::ofByteArray(byte[])` is therefore semantically irrelevant: what changes is simply how the bytes that will be transmitted are obtained. \r\nIn case of file upload - your server probably expects that the request body will be formatted in certain ways. It might also expect some specific headers to be transmitted with the request (such as `Content-Type` etc). The `HttpClient` will not do that magically for you. This is something you need to implement at the caller level.","title":"How to upload files using JDK 11 java.net.http.HttpClient?","body":"<p>The <code>java.net.http.HttpClient</code> handles bytes supplied through the <code>BodyPublisher</code> as raw body data, without any interpretation. Whether you use <code>HttpRequest.BodyPublishers::ofFile(Path)</code> or <code>HttpRequest.BodyPublishers::ofByteArray(byte[])</code> is therefore semantically irrelevant: what changes is simply how the bytes that will be transmitted are obtained. \nIn case of file upload - your server probably expects that the request body will be formatted in certain ways. It might also expect some specific headers to be transmitted with the request (such as <code>Content-Type</code> etc). The <code>HttpClient</code> will not do that magically for you. This is something you need to implement at the caller level.</p>\n"},{"tags":[],"owner":{"account_id":7981150,"reputation":1,"user_id":6022441,"display_name":"qi shan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652368459,"creation_date":1652368459,"answer_id":72218146,"question_id":58678072,"body_markdown":"you may use the method by:\r\n\r\n\tpublic void uploadLocalFileToRemote(String notEncodedUrlStr, String remoteFilename, String localSourceDir, String localFilename) {\r\n\t\t\r\n\t\tPath sourcePath = Path.of(localSourceDir, localFilename);\r\n\t\tif(!sourcePath.toFile().canRead())\r\n\t\t{\r\n\t\t\tSystem.err.println(&quot;please check the local file existance/readability: &quot; + sourcePath.toAbsolutePath());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tFileInputStream ins = null;\r\n\t\ttry {\r\n\t\t\tins = new FileInputStream(sourcePath.toFile());//FileNotFoundException extends IOException\r\n\t\t\tBufferedInputStream buf_ins = new BufferedInputStream(ins);\r\n\t\t\tSupplier&lt;? extends InputStream&gt; streamSupplier = new Supplier&lt;BufferedInputStream&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic BufferedInputStream get() {\r\n\t\t\t\t\treturn buf_ins;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t//HttpResponse&lt;String&gt; response = post(notEncodedUrlStr, streamSupplier, \r\n\t\t\tHttpResponse&lt;String&gt; response = post(notEncodedUrlStr, () -&gt; buf_ins, \r\n\t\t\t\t\t&quot;User-Agent&quot;, &quot;Java 11 HttpClient Bot&quot;, &quot;Content-type&quot;, &quot;application/octet-stream&quot;,\r\n\t\t\t\t\t&quot;accept&quot;, &quot;*/*&quot;, &quot;fileName&quot;, remoteFilename);\r\n\t\t\t\r\n\t\t\t// print response:\r\n\t\t\tSystem.out.println(response.version().name() + &quot; &quot; + response.statusCode());\r\n\t        // print response headers\r\n\t        HttpHeaders headers = response.headers();\r\n\t        headers.map().forEach((k, v) -&gt; System.out.println(k + &quot;:&quot; + v));\r\n\t        \r\n\t        // print response body\r\n\t        String body = response.body();\r\n\t        System.out.println(body);\r\n\t\t} catch (IOException | InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nanother consideration is how your server side is implemented. here assume the server side will using http 1.1 &quot;chunked&quot;. and configured a directory for remoteFilename. ","title":"How to upload files using JDK 11 java.net.http.HttpClient?","body":"<p>you may use the method by:</p>\n<pre><code>public void uploadLocalFileToRemote(String notEncodedUrlStr, String remoteFilename, String localSourceDir, String localFilename) {\n    \n    Path sourcePath = Path.of(localSourceDir, localFilename);\n    if(!sourcePath.toFile().canRead())\n    {\n        System.err.println(&quot;please check the local file existance/readability: &quot; + sourcePath.toAbsolutePath());\n        return;\n    }\n    \n    FileInputStream ins = null;\n    try {\n        ins = new FileInputStream(sourcePath.toFile());//FileNotFoundException extends IOException\n        BufferedInputStream buf_ins = new BufferedInputStream(ins);\n        Supplier&lt;? extends InputStream&gt; streamSupplier = new Supplier&lt;BufferedInputStream&gt;() {\n            @Override\n            public BufferedInputStream get() {\n                return buf_ins;\n            }\n        };\n        \n        //HttpResponse&lt;String&gt; response = post(notEncodedUrlStr, streamSupplier, \n        HttpResponse&lt;String&gt; response = post(notEncodedUrlStr, () -&gt; buf_ins, \n                &quot;User-Agent&quot;, &quot;Java 11 HttpClient Bot&quot;, &quot;Content-type&quot;, &quot;application/octet-stream&quot;,\n                &quot;accept&quot;, &quot;*/*&quot;, &quot;fileName&quot;, remoteFilename);\n        \n        // print response:\n        System.out.println(response.version().name() + &quot; &quot; + response.statusCode());\n        // print response headers\n        HttpHeaders headers = response.headers();\n        headers.map().forEach((k, v) -&gt; System.out.println(k + &quot;:&quot; + v));\n        \n        // print response body\n        String body = response.body();\n        System.out.println(body);\n    } catch (IOException | InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>another consideration is how your server side is implemented. here assume the server side will using http 1.1 &quot;chunked&quot;. and configured a directory for remoteFilename.</p>\n"}],"owner":{"account_id":17004994,"reputation":99,"user_id":12301392,"display_name":"Muscidae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6025,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":58711609,"answer_count":3,"score":9,"last_activity_date":1667210286,"creation_date":1572764418,"question_id":58678072,"body_markdown":"I recently encountered some problems with java.net.http.HttpClient that comes with JDK 11. I don&#39;t know how to use file upload. Found the ofInputStream() in java.net.http.BodyPublishers. I don&#39;t know if I using this method file upload.\r\nHere are the examples I wrote.\r\n```\r\n    public HttpResponse&lt;String&gt; post(String url, Supplier&lt;? extends InputStream&gt; streamSupplier, String... headers) throws IOException, InterruptedException {\r\n        HttpRequest.Builder builder = HttpRequest.newBuilder()\r\n                .uri(URI.create(url))\r\n                .headers(headers)\r\n                .POST(null == streamSupplier ?\r\n                        HttpRequest.BodyPublishers.noBody() : HttpRequest.BodyPublishers.ofInputStream(streamSupplier));\r\n        HttpRequest request = builder.build();\r\n        log.debug(&quot;Execute HttpClient Method:『{}』, Url:『{}』&quot;, request.method(), request.uri().toString());\r\n        return client.send(request, HttpResponse.BodyHandlers.ofString());\r\n    }\r\n```","title":"How to upload files using JDK 11 java.net.http.HttpClient?","body":"<p>I recently encountered some problems with java.net.http.HttpClient that comes with JDK 11. I don't know how to use file upload. Found the ofInputStream() in java.net.http.BodyPublishers. I don't know if I using this method file upload.\nHere are the examples I wrote.</p>\n\n<pre><code>    public HttpResponse&lt;String&gt; post(String url, Supplier&lt;? extends InputStream&gt; streamSupplier, String... headers) throws IOException, InterruptedException {\n        HttpRequest.Builder builder = HttpRequest.newBuilder()\n                .uri(URI.create(url))\n                .headers(headers)\n                .POST(null == streamSupplier ?\n                        HttpRequest.BodyPublishers.noBody() : HttpRequest.BodyPublishers.ofInputStream(streamSupplier));\n        HttpRequest request = builder.build();\n        log.debug(\"Execute HttpClient Method:『{}』, Url:『{}』\", request.method(), request.uri().toString());\n        return client.send(request, HttpResponse.BodyHandlers.ofString());\n    }\n</code></pre>\n"},{"tags":["java","servlets","paypal","vpn","sslhandshakeexception"],"comments":[{"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"score":1,"creation_date":1329828063,"post_id":6659360,"comment_id":11844126,"body_markdown":"what I would like to know, which exact target was in thath case... You get an exception, but you get no information about target, which might be different of what you expect.. I have such case, I am sure my link has certificate, and I am still getting this exception","body":"what I would like to know, which exact target was in thath case... You get an exception, but you get no information about target, which might be different of what you expect.. I have such case, I am sure my link has certificate, and I am still getting this exception"}],"answers":[{"tags":[],"owner":{"account_id":441736,"reputation":1442,"user_id":832000,"accept_rate":92,"display_name":"Osama Javed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1310666016,"creation_date":1310666016,"answer_id":6697733,"question_id":6659360,"body_markdown":"I believe that you are trying to connect to a something using SSL but that something is providing a certificate which is not verified by root certification authorities such as verisign.. In essence by default secure connections can only be established if the person trying to connect knows the counterparties keys or some other verndor such as verisign can step in and say that the public key being provided is indeed right..\r\n\r\nALL OS&#39;s trust a handful of certification authorities and smaller certificate issuers need to be certified by one of the large certifiers making a chain of certifiers if you get what I mean...\r\n\r\nAnyways coming back to the point.. I had a similiar problem when programming a java applet and a java server ( Hopefully some day I will write a complete blogpost about how I got all the security to work :) ) \r\n\r\nIn essence what I had to do was to extract the public keys from the server and store it in a keystore inside my applet and when I connected to the server I used this key store to create a trust factory and that trust factory to create the ssl connection. There are alterante procedures as well such as adding the key to the JVM&#39;s trusted host and modifying the default trust store on start up.. \r\n\r\nI did this around two months back and dont have source code on me right now.. use google and you should be able to solve this problem. If you cant message me back and I can provide you the relevent source code for the project .. Dont know if this solves your problem since you havent provided the code which causes these exceptions. Furthermore I was working wiht applets thought I cant see why it wont work on Serverlets...\r\n\r\nP.S I cant get source code before the weekend since external SSH is disabled in my office :(","title":"How to solve javax.net.ssl.SSLHandshakeException Error?","body":"<p>I believe that you are trying to connect to a something using SSL but that something is providing a certificate which is not verified by root certification authorities such as verisign.. In essence by default secure connections can only be established if the person trying to connect knows the counterparties keys or some other verndor such as verisign can step in and say that the public key being provided is indeed right..</p>\n\n<p>ALL OS's trust a handful of certification authorities and smaller certificate issuers need to be certified by one of the large certifiers making a chain of certifiers if you get what I mean...</p>\n\n<p>Anyways coming back to the point.. I had a similiar problem when programming a java applet and a java server ( Hopefully some day I will write a complete blogpost about how I got all the security to work :) ) </p>\n\n<p>In essence what I had to do was to extract the public keys from the server and store it in a keystore inside my applet and when I connected to the server I used this key store to create a trust factory and that trust factory to create the ssl connection. There are alterante procedures as well such as adding the key to the JVM's trusted host and modifying the default trust store on start up.. </p>\n\n<p>I did this around two months back and dont have source code on me right now.. use google and you should be able to solve this problem. If you cant message me back and I can provide you the relevent source code for the project .. Dont know if this solves your problem since you havent provided the code which causes these exceptions. Furthermore I was working wiht applets thought I cant see why it wont work on Serverlets...</p>\n\n<p>P.S I cant get source code before the weekend since external SSH is disabled in my office :(</p>\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":179,"is_accepted":true,"score":179,"last_activity_date":1549446010,"creation_date":1311048524,"answer_id":6742204,"question_id":6659360,"body_markdown":"First, you need to obtain the public certificate from the server you&#39;re trying to connect to. That can be done in a variety of ways, such as contacting the server admin and asking for it, [using OpenSSL to download it][1], or, since this appears to be an HTTP server, connecting to it with any browser, viewing the page&#39;s security info, and saving a copy of the certificate. (Google should be able to tell you exactly what to do for your specific browser.)\r\n\r\nNow that you have the certificate saved in a file, you need to add it to your JVM&#39;s trust store. At `$JAVA_HOME/jre/lib/security/` for JREs or `$JAVA_HOME/lib/security` for JDKs, there&#39;s a file named `cacerts`, which comes with Java and contains the public certificates of the well-known Certifying Authorities. To import the new cert, run keytool as a user who has permission to write to cacerts:\r\n\r\n    keytool -import -file &lt;the cert file&gt; -alias &lt;some meaningful name&gt; -keystore &lt;path to cacerts file&gt;\r\n\r\nIt will most likely ask you for a password. The default password as shipped with Java is `changeit`. Almost nobody changes it. After you complete these relatively simple steps, you&#39;ll be communicating securely and with the assurance that you&#39;re talking to the right server and only the right server (as long as they don&#39;t lose their private key).\r\n\r\n\r\n  [1]: http://www.madboa.com/geek/openssl/#cert-retrieve","title":"How to solve javax.net.ssl.SSLHandshakeException Error?","body":"<p>First, you need to obtain the public certificate from the server you're trying to connect to. That can be done in a variety of ways, such as contacting the server admin and asking for it, <a href=\"http://www.madboa.com/geek/openssl/#cert-retrieve\" rel=\"noreferrer\">using OpenSSL to download it</a>, or, since this appears to be an HTTP server, connecting to it with any browser, viewing the page's security info, and saving a copy of the certificate. (Google should be able to tell you exactly what to do for your specific browser.)</p>\n\n<p>Now that you have the certificate saved in a file, you need to add it to your JVM's trust store. At <code>$JAVA_HOME/jre/lib/security/</code> for JREs or <code>$JAVA_HOME/lib/security</code> for JDKs, there's a file named <code>cacerts</code>, which comes with Java and contains the public certificates of the well-known Certifying Authorities. To import the new cert, run keytool as a user who has permission to write to cacerts:</p>\n\n<pre><code>keytool -import -file &lt;the cert file&gt; -alias &lt;some meaningful name&gt; -keystore &lt;path to cacerts file&gt;\n</code></pre>\n\n<p>It will most likely ask you for a password. The default password as shipped with Java is <code>changeit</code>. Almost nobody changes it. After you complete these relatively simple steps, you'll be communicating securely and with the assurance that you're talking to the right server and only the right server (as long as they don't lose their private key).</p>\n"},{"tags":[],"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"down_vote_count":5,"up_vote_count":19,"is_accepted":false,"score":14,"last_activity_date":1503578812,"creation_date":1395294895,"answer_id":22524546,"question_id":6659360,"body_markdown":"Whenever we are trying to connect to URL, \r\n   \r\n\r\n if server at the other site is running on https protocol and is mandating that we should communicate via information provided in certificate then \r\n      we have following option:\r\n      \r\n   1) ask for the certificate(download the certificate), import this certificate in trustore. Default trustore java uses can be found in \\Java\\jdk1.6.0_29\\jre\\lib\\security\\cacerts, then if we retry to connect to the URL connection would be accepted.\r\n      \r\n   2) In normal business cases, we might be connecting to internal URLS in organizations and we know that they are correct.\r\n         In such cases, you trust that it is the correct URL, In such cases above, code can be used which will not mandate to store the certificate to connect to particular URL.\r\n    \t \r\n**for the point no 2 we have to follow below steps :**\r\n\r\n   1) write below method which sets  HostnameVerifier for  HttpsURLConnection which returns true for all cases meaning we are trusting the trustStore.\r\n\r\n      // trusting all certificate \r\n     public void doTrustToCertificates() throws Exception {\r\n            Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\r\n            TrustManager[] trustAllCerts = new TrustManager[]{\r\n                    new X509TrustManager() {\r\n                        public X509Certificate[] getAcceptedIssuers() {\r\n                            return null;\r\n                        }\r\n     \r\n                        public void checkServerTrusted(X509Certificate[] certs, String authType) throws CertificateException {\r\n                            return;\r\n                        }\r\n     \r\n                        public void checkClientTrusted(X509Certificate[] certs, String authType) throws CertificateException {\r\n                            return;\r\n                        }\r\n                    }\r\n            };\r\n     \r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n            HostnameVerifier hv = new HostnameVerifier() {\r\n                public boolean verify(String urlHostName, SSLSession session) {\r\n                    if (!urlHostName.equalsIgnoreCase(session.getPeerHost())) {\r\n                        System.out.println(&quot;Warning: URL host &#39;&quot; + urlHostName + &quot;&#39; is different to SSLSession host &#39;&quot; + session.getPeerHost() + &quot;&#39;.&quot;);\r\n                    }\r\n                    return true;\r\n                }\r\n            };\r\n            HttpsURLConnection.setDefaultHostnameVerifier(hv);\r\n        }\r\n    \r\n2) write below method, which calls doTrustToCertificates before trying to connect to URL\r\n\r\n        // connecting to URL\r\n    \tpublic void connectToUrl(){\r\n         doTrustToCertificates();//  \r\n         URL url = new URL(&quot;https://www.example.com&quot;);\r\n    \t HttpURLConnection conn = (HttpURLConnection)url.openConnection(); \r\n         System.out.println(&quot;ResponseCode =&quot;+conn.getResponseCode());\r\n       }\r\n   \r\n\r\nThis call will return response code = 200 means connection is successful.\r\n   \r\nFor more detail and sample example you can refer to [URL][1].\r\n   \r\n\r\n\r\n  [1]: http://blog.hexican.com/2010/12/sending-soap-messages-through-https-using-saaj/","title":"How to solve javax.net.ssl.SSLHandshakeException Error?","body":"<p>Whenever we are trying to connect to URL, </p>\n\n<p>if server at the other site is running on https protocol and is mandating that we should communicate via information provided in certificate then \n      we have following option:</p>\n\n<p>1) ask for the certificate(download the certificate), import this certificate in trustore. Default trustore java uses can be found in \\Java\\jdk1.6.0_29\\jre\\lib\\security\\cacerts, then if we retry to connect to the URL connection would be accepted.</p>\n\n<p>2) In normal business cases, we might be connecting to internal URLS in organizations and we know that they are correct.\n         In such cases, you trust that it is the correct URL, In such cases above, code can be used which will not mandate to store the certificate to connect to particular URL.</p>\n\n<p><strong>for the point no 2 we have to follow below steps :</strong></p>\n\n<p>1) write below method which sets  HostnameVerifier for  HttpsURLConnection which returns true for all cases meaning we are trusting the trustStore.</p>\n\n<pre><code>  // trusting all certificate \n public void doTrustToCertificates() throws Exception {\n        Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n        TrustManager[] trustAllCerts = new TrustManager[]{\n                new X509TrustManager() {\n                    public X509Certificate[] getAcceptedIssuers() {\n                        return null;\n                    }\n\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) throws CertificateException {\n                        return;\n                    }\n\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) throws CertificateException {\n                        return;\n                    }\n                }\n        };\n\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, trustAllCerts, new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n        HostnameVerifier hv = new HostnameVerifier() {\n            public boolean verify(String urlHostName, SSLSession session) {\n                if (!urlHostName.equalsIgnoreCase(session.getPeerHost())) {\n                    System.out.println(\"Warning: URL host '\" + urlHostName + \"' is different to SSLSession host '\" + session.getPeerHost() + \"'.\");\n                }\n                return true;\n            }\n        };\n        HttpsURLConnection.setDefaultHostnameVerifier(hv);\n    }\n</code></pre>\n\n<p>2) write below method, which calls doTrustToCertificates before trying to connect to URL</p>\n\n<pre><code>    // connecting to URL\n    public void connectToUrl(){\n     doTrustToCertificates();//  \n     URL url = new URL(\"https://www.example.com\");\n     HttpURLConnection conn = (HttpURLConnection)url.openConnection(); \n     System.out.println(\"ResponseCode =\"+conn.getResponseCode());\n   }\n</code></pre>\n\n<p>This call will return response code = 200 means connection is successful.</p>\n\n<p>For more detail and sample example you can refer to <a href=\"http://blog.hexican.com/2010/12/sending-soap-messages-through-https-using-saaj/\" rel=\"nofollow noreferrer\">URL</a>.</p>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1489629899,"creation_date":1489629899,"answer_id":42824048,"question_id":6659360,"body_markdown":"SSLHandshakeException can be resolved 2 ways.\r\n\r\n 1. Incorporating SSL \r\n \r\n - Get the SSL (by asking the source system administrator, can also\r\n   be downloaded by openssl command, or any browsers downloads the\r\n   certificates)\r\n   \r\n - Add the certificate into truststore (cacerts) located at\r\n   JRE/lib/security \r\n   \r\n - provide the truststore location in vm arguments as\r\n   &quot;-Djavax.net.ssl.trustStore=&quot;\r\n \r\n 2. Ignoring SSL\r\n\r\n    For this #2, please visit my other answer on another stackoverflow website:\r\n[How to ingore SSL verification ][1]https://stackoverflow.com/questions/12060250/ignore-ssl-certificate-errors-with-java/42823950#42823950\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12060250/ignore-ssl-certificate-errors-with-java/42823950#42823950","title":"How to solve javax.net.ssl.SSLHandshakeException Error?","body":"<p>SSLHandshakeException can be resolved 2 ways.</p>\n\n<ol>\n<li><p>Incorporating SSL </p>\n\n<ul>\n<li><p>Get the SSL (by asking the source system administrator, can also\nbe downloaded by openssl command, or any browsers downloads the\ncertificates)</p></li>\n<li><p>Add the certificate into truststore (cacerts) located at\nJRE/lib/security </p></li>\n<li><p>provide the truststore location in vm arguments as\n\"-Djavax.net.ssl.trustStore=\"</p></li>\n</ul></li>\n<li><p>Ignoring SSL</p>\n\n<p>For this #2, please visit my other answer on another stackoverflow website:\n<a href=\"https://stackoverflow.com/questions/12060250/ignore-ssl-certificate-errors-with-java/42823950#42823950\">How to ingore SSL verification </a><a href=\"https://stackoverflow.com/questions/12060250/ignore-ssl-certificate-errors-with-java/42823950#42823950\">Ignore SSL Certificate Errors with Java</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2701754,"reputation":2904,"user_id":2332337,"display_name":"Max Barrass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667210153,"creation_date":1667210153,"answer_id":74261530,"question_id":6659360,"body_markdown":"This is what I did to POST a JSON to a URL with insecure/invalid SSL certs using latest JDK 11 HttpClient:\r\n\r\n        // Create a trust manager that does not validate certificate chains\r\n        TrustManager[] trustAllCerts = new TrustManager[]{\r\n                new X509TrustManager() {\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                        return null;\r\n                    }\r\n                    public void checkClientTrusted(\r\n                            java.security.cert.X509Certificate[] certs, String authType) {\r\n                    }\r\n                    public void checkServerTrusted(\r\n                            java.security.cert.X509Certificate[] certs, String authType) {\r\n                    }\r\n                }\r\n        };\r\n\r\n        try {\r\n\r\n            // Install the all-trusting trust manager\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n            // Creat HttpClient with new SSLContext.\r\n            HttpClient httpClient = HttpClient.newBuilder()\r\n                    .connectTimeout(Duration.ofMillis(3 * 1000))\r\n                    .sslContext(sc) // SSL context &#39;sc&#39; initialised as earlier\r\n                    .build();\r\n\r\n            // Create request.\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(URI.create(&lt;URL&gt;))\r\n                    .timeout(Duration.ofMinutes(1))\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                    .POST(HttpRequest.BodyPublishers.ofString(&lt;PAYLOAD JSON STRING&gt;))\r\n                    .build();\r\n\r\n            //Send Request\r\n            HttpResponse&lt;String&gt; response =\r\n                    httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n            //Access response JSON\r\n            String responseJson = response.body();\r\n\r\n       } catch (Exception e) {\r\n         throw new Exception(e);\r\n       }\r\n\r\n\r\n","title":"How to solve javax.net.ssl.SSLHandshakeException Error?","body":"<p>This is what I did to POST a JSON to a URL with insecure/invalid SSL certs using latest JDK 11 HttpClient:</p>\n<pre><code>    // Create a trust manager that does not validate certificate chains\n    TrustManager[] trustAllCerts = new TrustManager[]{\n            new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n                public void checkClientTrusted(\n                        java.security.cert.X509Certificate[] certs, String authType) {\n                }\n                public void checkServerTrusted(\n                        java.security.cert.X509Certificate[] certs, String authType) {\n                }\n            }\n    };\n\n    try {\n\n        // Install the all-trusting trust manager\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n        // Creat HttpClient with new SSLContext.\n        HttpClient httpClient = HttpClient.newBuilder()\n                .connectTimeout(Duration.ofMillis(3 * 1000))\n                .sslContext(sc) // SSL context 'sc' initialised as earlier\n                .build();\n\n        // Create request.\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&lt;URL&gt;))\n                .timeout(Duration.ofMinutes(1))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(&lt;PAYLOAD JSON STRING&gt;))\n                .build();\n\n        //Send Request\n        HttpResponse&lt;String&gt; response =\n                httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n\n        //Access response JSON\n        String responseJson = response.body();\n\n   } catch (Exception e) {\n     throw new Exception(e);\n   }\n</code></pre>\n"}],"owner":{"account_id":236559,"reputation":6601,"user_id":504130,"accept_rate":70,"display_name":"selladurai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751208,"favorite_count":0,"down_vote_count":1,"up_vote_count":123,"accepted_answer_id":6742204,"answer_count":5,"score":122,"last_activity_date":1667210153,"creation_date":1310443389,"question_id":6659360,"body_markdown":"I connected with VPN to setup the inventory API to get product list and it works fine. Once I get the result from the web-service and i bind to UI. And also I integrated PayPal with my application for make Express checkout when I make a call for payment I&#39;m facing this error. I use servlet for back-end process. Can any one say how to fix this issue?\r\n\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: \r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\r\n    unable to find valid certification path to requested target","title":"How to solve javax.net.ssl.SSLHandshakeException Error?","body":"<p>I connected with VPN to setup the inventory API to get product list and it works fine. Once I get the result from the web-service and i bind to UI. And also I integrated PayPal with my application for make Express checkout when I make a call for payment I'm facing this error. I use servlet for back-end process. Can any one say how to fix this issue?</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: \nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667181071,"creation_date":1667179005,"answer_id":74257895,"question_id":74257815,"body_markdown":"The version you&#39;re using is not the latest one (3.4.1), and the `&lt;configuration&gt;` tag should be outside of the `&lt;executions&gt;` tag.\r\n\r\nTake a look at the official documentation on how to configure the _maven-shade-plugin_ here:\r\nhttps://maven.apache.org/plugins/maven-shade-plugin/usage.html\r\n\r\n","title":"maven-shade-plugin:pom:3.2.4 failed to transfer from http://repo.maven.apache.org/maven2 during previous attempt error","body":"<p>The version you're using is not the latest one (3.4.1), and the <code>&lt;configuration&gt;</code> tag should be outside of the <code>&lt;executions&gt;</code> tag.</p>\n<p>Take a look at the official documentation on how to configure the <em>maven-shade-plugin</em> here:\n<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/usage.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/usage.html</a></p>\n"}],"owner":{"account_id":26780281,"reputation":13,"user_id":20375228,"display_name":"Jay Chung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74257895,"answer_count":1,"score":1,"last_activity_date":1667209717,"creation_date":1667177668,"question_id":74257815,"body_markdown":"I was importing a project that has been developed by someone.\r\n\r\nHowever, when I import the project, I kept getting this error in pom.xml:\r\n\r\n&gt; org.apache.maven.plugins:maven-shade-plugin:pom:3.2.4 failed to\r\n&gt; transfer from https://repo.maven.apache.org/maven2 during a previous\r\n&gt; attempt. This failure was cached in the local repository and\r\n&gt; resolution is not reattempt untill the update interval of central has\r\n&gt; elapsed or updates are forced. Original error: Could not transfer\r\n&gt; artifact org.apache.maven.plugin...\r\n\r\nHow can I solve this issue?\r\n\r\nThis is the project&#39;s pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;eLoki2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;eLoki2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.6.0&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.36.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.github.joonasvali.naturalmouse&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;naturalmouse&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;eLoki2&lt;/finalName&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- fix for Selenium 4 https://github.com/SeleniumHQ/selenium/issues/10132#issuecomment-1035028801 --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;core.Main&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n            &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;l4j-clui&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;launch4j&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;headerType&gt;console&lt;/headerType&gt;\r\n                        &lt;jar&gt;${project.build.directory}/${project.artifactId}.jar&lt;/jar&gt;\r\n                        &lt;outfile&gt;${project.build.directory}/eLoki2.exe&lt;/outfile&gt;\r\n                        &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\r\n                        &lt;classPath&gt;\r\n                            &lt;mainClass&gt;core.Main&lt;/mainClass&gt;\r\n                            &lt;preCp&gt;anything&lt;/preCp&gt;\r\n                        &lt;/classPath&gt;\r\n                        &lt;jre&gt;\r\n                            &lt;minVersion&gt;1.8.0&lt;/minVersion&gt;\r\n                            &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\r\n                        &lt;/jre&gt;\r\n                        &lt;versionInfo&gt;\r\n                            &lt;fileVersion&gt;1.0.0.0&lt;/fileVersion&gt;\r\n                            &lt;txtFileVersion&gt;${project.version}&lt;/txtFileVersion&gt;\r\n                            &lt;fileDescription&gt;${project.name}&lt;/fileDescription&gt;\r\n                            &lt;copyright&gt;2021 Chonglun Chen&lt;/copyright&gt;\r\n                            &lt;productVersion&gt;1.0.0.0&lt;/productVersion&gt;\r\n                            &lt;txtProductVersion&gt;1.0.0.0&lt;/txtProductVersion&gt;\r\n                            &lt;productName&gt;${project.name}&lt;/productName&gt;\r\n                            &lt;companyName&gt;York University&lt;/companyName&gt;\r\n                            &lt;internalName&gt;eLoki2&lt;/internalName&gt;\r\n                            &lt;originalFilename&gt;eLoki2.exe&lt;/originalFilename&gt;\r\n                        &lt;/versionInfo&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nI have tried the smart import, and imported manually and kept getting the same error. ","title":"maven-shade-plugin:pom:3.2.4 failed to transfer from http://repo.maven.apache.org/maven2 during previous attempt error","body":"<p>I was importing a project that has been developed by someone.</p>\n<p>However, when I import the project, I kept getting this error in pom.xml:</p>\n<blockquote>\n<p>org.apache.maven.plugins:maven-shade-plugin:pom:3.2.4 failed to\ntransfer from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous\nattempt. This failure was cached in the local repository and\nresolution is not reattempt untill the update interval of central has\nelapsed or updates are forced. Original error: Could not transfer\nartifact org.apache.maven.plugin...</p>\n</blockquote>\n<p>How can I solve this issue?</p>\n<p>This is the project's pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;eLoki2&lt;/groupId&gt;\n&lt;artifactId&gt;eLoki2&lt;/artifactId&gt;\n&lt;version&gt;0.6.0&lt;/version&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\n        &lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n        &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.36.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n            \n    &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.14.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.joonasvali.naturalmouse&lt;/groupId&gt;\n      &lt;artifactId&gt;naturalmouse&lt;/artifactId&gt;\n      &lt;version&gt;2.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;eLoki2&lt;/finalName&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- fix for Selenium 4 https://github.com/SeleniumHQ/selenium/issues/10132#issuecomment-1035028801 --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;core.Main&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;l4j-clui&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;launch4j&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;headerType&gt;console&lt;/headerType&gt;\n                    &lt;jar&gt;${project.build.directory}/${project.artifactId}.jar&lt;/jar&gt;\n                    &lt;outfile&gt;${project.build.directory}/eLoki2.exe&lt;/outfile&gt;\n                    &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\n                    &lt;classPath&gt;\n                        &lt;mainClass&gt;core.Main&lt;/mainClass&gt;\n                        &lt;preCp&gt;anything&lt;/preCp&gt;\n                    &lt;/classPath&gt;\n                    &lt;jre&gt;\n                        &lt;minVersion&gt;1.8.0&lt;/minVersion&gt;\n                        &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\n                    &lt;/jre&gt;\n                    &lt;versionInfo&gt;\n                        &lt;fileVersion&gt;1.0.0.0&lt;/fileVersion&gt;\n                        &lt;txtFileVersion&gt;${project.version}&lt;/txtFileVersion&gt;\n                        &lt;fileDescription&gt;${project.name}&lt;/fileDescription&gt;\n                        &lt;copyright&gt;2021 Chonglun Chen&lt;/copyright&gt;\n                        &lt;productVersion&gt;1.0.0.0&lt;/productVersion&gt;\n                        &lt;txtProductVersion&gt;1.0.0.0&lt;/txtProductVersion&gt;\n                        &lt;productName&gt;${project.name}&lt;/productName&gt;\n                        &lt;companyName&gt;York University&lt;/companyName&gt;\n                        &lt;internalName&gt;eLoki2&lt;/internalName&gt;\n                        &lt;originalFilename&gt;eLoki2.exe&lt;/originalFilename&gt;\n                    &lt;/versionInfo&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I have tried the smart import, and imported manually and kept getting the same error.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"score":0,"creation_date":1482909086,"post_id":41357037,"comment_id":69915712,"body_markdown":"what you wrote so far?","body":"what you wrote so far?"},{"owner":{"account_id":8855998,"reputation":117,"user_id":6613761,"accept_rate":75,"display_name":"Ijaz"},"score":0,"creation_date":1482909184,"post_id":41357037,"comment_id":69915759,"body_markdown":"Can I mock the UtilClass in my unit test? @Jobin","body":"Can I mock the UtilClass in my unit test? @Jobin"},{"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"score":0,"creation_date":1482909339,"post_id":41357037,"comment_id":69915835,"body_markdown":"without mocking that static call you can write the test..\nyou dont need to mock the util class, just mock `recordService.findById`","body":"without mocking that static call you can write the test.. you dont need to mock the util class, just mock <code>recordService.findById</code>"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1482909224,"creation_date":1482909224,"answer_id":41357124,"question_id":41357037,"body_markdown":"The answer: it *depends*. \r\n\r\nI guess your first problem is that this **static** method call `UtilClass.getHeaderValue()` doesn&#39;t function correctly in your unit test?\r\n\r\nYou see, because if it would function ... what would you care about it? Meaning: you want to test that `findSomeRecord()` returns either true or false. So, in a **perfect** setup, you would only have two tests like:\r\n\r\n    assertThat(objectUnderTest.findSomeRecord(someRecordThatCanBeFound), is(true));\r\n\r\nresp.\r\n\r\n    assertThat(objectUnderTest.findSomeRecord(someRecordThatCanNotBeFound), is(false));\r\n\r\nBut probably that **static** method doesn&#39;t work that way in your unit test setup. Then you have two choices:\r\n\r\n 1. You turn to PowerMock(ito); which allows you to **mock** static methods\r\n 2. You change your design; for example by **giving** up on the idea that this util method is a **static** method. Because when you are not calling a static method, you can (almost) always use **dependency injection** to give your production code a **mocked** object to to call its methods on.\r\n\r\n","title":"Test a method with mockito, which uses some utility methods of some other class","body":"<p>The answer: it <em>depends</em>. </p>\n\n<p>I guess your first problem is that this <strong>static</strong> method call <code>UtilClass.getHeaderValue()</code> doesn't function correctly in your unit test?</p>\n\n<p>You see, because if it would function ... what would you care about it? Meaning: you want to test that <code>findSomeRecord()</code> returns either true or false. So, in a <strong>perfect</strong> setup, you would only have two tests like:</p>\n\n<pre><code>assertThat(objectUnderTest.findSomeRecord(someRecordThatCanBeFound), is(true));\n</code></pre>\n\n<p>resp.</p>\n\n<pre><code>assertThat(objectUnderTest.findSomeRecord(someRecordThatCanNotBeFound), is(false));\n</code></pre>\n\n<p>But probably that <strong>static</strong> method doesn't work that way in your unit test setup. Then you have two choices:</p>\n\n<ol>\n<li>You turn to PowerMock(ito); which allows you to <strong>mock</strong> static methods</li>\n<li>You change your design; for example by <strong>giving</strong> up on the idea that this util method is a <strong>static</strong> method. Because when you are not calling a static method, you can (almost) always use <strong>dependency injection</strong> to give your production code a <strong>mocked</strong> object to to call its methods on.</li>\n</ol>\n"}],"owner":{"account_id":8855998,"reputation":117,"user_id":6613761,"accept_rate":75,"display_name":"Ijaz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2986,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41357124,"answer_count":1,"score":4,"last_activity_date":1667209659,"creation_date":1482908846,"question_id":41357037,"body_markdown":"I have a method which receive a message of from a queue and I need to write the unit test for this method with `Mockito`. The method uses a utility class `UtilClass`. I am confused about how to write the unit test for this method\r\n\r\n\tpublic boolean findSomeRecord(Message&lt;?&gt; message){\r\n        Details details = UtilClass.getHeaderValue(Constants.DETAILS, message, Details.class);\r\n\r\n        Record record = recordService.findById(details.getDetailsId());\r\n\r\n        if(record == null ){\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n","title":"Test a method with mockito, which uses some utility methods of some other class","body":"<p>I have a method which receive a message of from a queue and I need to write the unit test for this method with <code>Mockito</code>. The method uses a utility class <code>UtilClass</code>. I am confused about how to write the unit test for this method</p>\n<pre><code>public boolean findSomeRecord(Message&lt;?&gt; message){\n    Details details = UtilClass.getHeaderValue(Constants.DETAILS, message, Details.class);\n\n    Record record = recordService.findById(details.getDetailsId());\n\n    if(record == null ){\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":1,"creation_date":1416480540,"post_id":27037662,"comment_id":42595149,"body_markdown":"does HomeFragment extends Fragment ?","body":"does HomeFragment extends Fragment ?"},{"owner":{"account_id":3345505,"reputation":5072,"user_id":2810741,"accept_rate":50,"display_name":"Mohammad Rahchamani"},"score":0,"creation_date":1416480574,"post_id":27037662,"comment_id":42595168,"body_markdown":"does `HomeFragment` extends `Fragment` ?","body":"does <code>HomeFragment</code> extends <code>Fragment</code> ?"},{"owner":{"account_id":3968635,"reputation":2800,"user_id":3273766,"accept_rate":62,"display_name":"Jigar Shekh"},"score":0,"creation_date":1416480676,"post_id":27037662,"comment_id":42595220,"body_markdown":"change from FragmentActivity to Activity.","body":"change from FragmentActivity to Activity."},{"owner":{"account_id":5333229,"reputation":393,"user_id":4253214,"display_name":"Lior"},"score":0,"creation_date":1416481073,"post_id":27037662,"comment_id":42595423,"body_markdown":"Yes, HomeFragment extends Fragment and I&#39;ve changed FragmentActivity to Activity, yet it doesn&#39;t work.","body":"Yes, HomeFragment extends Fragment and I&#39;ve changed FragmentActivity to Activity, yet it doesn&#39;t work."},{"owner":{"account_id":1060138,"reputation":15246,"user_id":1061944,"accept_rate":41,"display_name":"Murtaza Khursheed Hussain"},"score":0,"creation_date":1416482089,"post_id":27037662,"comment_id":42596018,"body_markdown":"DrawerLayout also uses fragment, in your case it is using from support.v4 library, and you are also using Fragment of base android sdk (which are not same). Take these as v4.Fragment != android.app.Fragment","body":"DrawerLayout also uses fragment, in your case it is using from support.v4 library, and you are also using Fragment of base android sdk (which are not same). Take these as v4.Fragment != android.app.Fragment"},{"owner":{"account_id":5333229,"reputation":393,"user_id":4253214,"display_name":"Lior"},"score":0,"creation_date":1416482561,"post_id":27037662,"comment_id":42596303,"body_markdown":"So... What to do, I&#39;m new in this...","body":"So... What to do, I&#39;m new in this..."}],"answers":[{"tags":[],"owner":{"account_id":2890348,"reputation":3776,"user_id":2479292,"accept_rate":86,"display_name":"zozelfelfo"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1501960608,"creation_date":1416481224,"answer_id":27037935,"question_id":27037662,"body_markdown":"This seems to be an `import` problem.\r\n\r\nWhen using `getFragmentMangager()`, make sure that your `Fragment` classes extend `android.app.Fragment` class. \r\n\r\nIf by any chance you are using `android.support.v4.app.Fragment` (see your imports), then you need to use `getSupportFragmentManager()` instead\r\n\r\nHope it helps","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>This seems to be an <code>import</code> problem.</p>\n\n<p>When using <code>getFragmentMangager()</code>, make sure that your <code>Fragment</code> classes extend <code>android.app.Fragment</code> class. </p>\n\n<p>If by any chance you are using <code>android.support.v4.app.Fragment</code> (see your imports), then you need to use <code>getSupportFragmentManager()</code> instead</p>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":5363339,"reputation":260,"user_id":4273973,"display_name":"ramuta"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1416481395,"creation_date":1416481395,"answer_id":27037992,"question_id":27037662,"body_markdown":"Try changing \r\n\r\n`import android.app.Fragment;` \r\n\r\nto \r\n\r\n`import android.support.v4.app.Fragment;`\r\n\r\nUse classes from that support lib for all other imports too. Also `getSupportFragmentManager()` as mentioned in the other answer.","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>Try changing </p>\n\n<p><code>import android.app.Fragment;</code> </p>\n\n<p>to </p>\n\n<p><code>import android.support.v4.app.Fragment;</code></p>\n\n<p>Use classes from that support lib for all other imports too. Also <code>getSupportFragmentManager()</code> as mentioned in the other answer.</p>\n"},{"tags":[],"owner":{"account_id":4775045,"reputation":75,"user_id":3858486,"display_name":"Ammar Rajab"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471872296,"creation_date":1425808349,"answer_id":28925141,"question_id":27037662,"body_markdown":"In your `HomeFragment` class \r\n\r\nreplace: \r\n\r\n    import android.app.Fragment;\r\n\r\nwith: \r\n\r\n    import android.support.v4.app.Fragment;\r\n","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>In your <code>HomeFragment</code> class </p>\n\n<p>replace: </p>\n\n<pre><code>import android.app.Fragment;\n</code></pre>\n\n<p>with: </p>\n\n<pre><code>import android.support.v4.app.Fragment;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3318757,"reputation":937,"user_id":2790416,"accept_rate":0,"display_name":"Harunduet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471872304,"creation_date":1468294417,"answer_id":38319600,"question_id":27037662,"body_markdown":"In my case i have changed line-1 with line-2\r\n\r\nLine-1: `import android.app.Fragment`;\r\n\r\nLine-2: `import android.support.v4.app.Fragment`;\r\n\r\nIts working\r\n\r\n","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>In my case i have changed line-1 with line-2</p>\n\n<p>Line-1: <code>import android.app.Fragment</code>;</p>\n\n<p>Line-2: <code>import android.support.v4.app.Fragment</code>;</p>\n\n<p>Its working</p>\n"},{"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491725397,"creation_date":1490188570,"answer_id":42952765,"question_id":27037662,"body_markdown":"use `getSupportFragmentManager()` Instead of `getFragmentManager()`\r\n\r\n    getSupportFragmentManager()\r\n        .beginTransaction()\r\n        .replace(in.jama.app.R.id.container, new Fragment())\r\n        .commit();","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>use <code>getSupportFragmentManager()</code> Instead of <code>getFragmentManager()</code></p>\n\n<pre><code>getSupportFragmentManager()\n    .beginTransaction()\n    .replace(in.jama.app.R.id.container, new Fragment())\n    .commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10826117,"reputation":1,"user_id":7961973,"display_name":"Negatu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493888013,"creation_date":1493886934,"answer_id":43777797,"question_id":27037662,"body_markdown":"import `android.app.Fragment;` works with `getFragmentManager()` method but before you have to remove the import `android.support.v4.app.Fragment;`\r\n","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>import <code>android.app.Fragment;</code> works with <code>getFragmentManager()</code> method but before you have to remove the import <code>android.support.v4.app.Fragment;</code></p>\n"},{"tags":[],"owner":{"account_id":11183307,"reputation":21,"user_id":8206603,"display_name":"Mehul Raj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504120031,"creation_date":1504120031,"answer_id":45968049,"question_id":27037662,"body_markdown":"you just have to import android.support.v4.app.Fragment; in the all the FragmentClass();.\r\nthat&#39;s it.","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>you just have to import android.support.v4.app.Fragment; in the all the FragmentClass();.\nthat's it.</p>\n"},{"tags":[],"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525332685,"creation_date":1525332685,"answer_id":50149308,"question_id":27037662,"body_markdown":"In Android Studio 2.3 getSupportFragmentManager works with  android.support.v4.app but android studio 3.1 you have to use getFragmentManager [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/53Pmz.png","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>In Android Studio 2.3 getSupportFragmentManager works with  android.support.v4.app but android studio 3.1 you have to use getFragmentManager <a href=\"https://i.stack.imgur.com/53Pmz.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":362448,"reputation":6346,"user_id":705642,"display_name":"Shripada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542341764,"creation_date":1542341764,"answer_id":53331362,"question_id":27037662,"body_markdown":"If you are using support library, you should ensure to import both Fragment and FragmentManager from the support library. You will also need to ensure to load the support fragment manager.\r\n\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.FragmentManager;\r\n    //other imports here...\r\n    \r\n    public class SomeActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_some);\r\n    \r\n            FragmentManager fm = getSupportFragmentManager();\r\n            Fragment fragment = fm.findFragmentById(R.id.fragment_container);\r\n    \r\n            if(fragment == null) {\r\n                fragment = new SomeFragment();\r\n                fm.beginTransaction().add(R.id.fragment_container, fragment).commit();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>If you are using support library, you should ensure to import both Fragment and FragmentManager from the support library. You will also need to ensure to load the support fragment manager.</p>\n\n<pre><code>import android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\n//other imports here...\n\npublic class SomeActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_some);\n\n        FragmentManager fm = getSupportFragmentManager();\n        Fragment fragment = fm.findFragmentById(R.id.fragment_container);\n\n        if(fragment == null) {\n            fragment = new SomeFragment();\n            fm.beginTransaction().add(R.id.fragment_container, fragment).commit();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19367899,"reputation":437,"user_id":14161743,"display_name":"BugsCreator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667209543,"creation_date":1667209543,"answer_id":74261422,"question_id":27037662,"body_markdown":"i having same issue\r\nso i updated\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39; \r\nto\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0-beta01&#39;\r\n\r\nit is working fine now","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>i having same issue\nso i updated</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.2.0' \n</code></pre>\n<p>to</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.3.0-beta01'\n</code></pre>\n<p>it is working fine now</p>\n"}],"owner":{"account_id":5333229,"reputation":393,"user_id":4253214,"display_name":"Lior"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67295,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":27037935,"answer_count":10,"score":37,"last_activity_date":1667209543,"creation_date":1416480493,"question_id":27037662,"body_markdown":"\r\nI&#39;m getting an error in this part of code:\r\n\r\n    private void displayView(int position) {\r\n        // update the main content by replacing fragments\r\n        Fragment fragment = null;\r\n        switch (position) {\r\n            case 0:\r\n                fragment = new HomeFragment();\r\n                break;\r\n            case 1:\r\n                fragment =new FindPeopleFragment();\r\n                break;\r\n            case 2:\r\n                fragment = new PhotosFragment();\r\n                break;\r\n            case 3:\r\n                fragment = new CommunityFragment();\r\n                break;\r\n            case 4:\r\n                fragment = new PagesFragment();\r\n                break;\r\n            case 5:\r\n                fragment = new WhatsHotFragment();\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (fragment != null) {\r\n            FragmentManager fragmentManager = getFragmentManager();\r\n            fragmentManager.beginTransaction()\r\n                    .replace(R.id.frame_container, fragment).commit();\r\n\r\n            // update selected item and title, then close the drawer\r\n            mDrawerList.setItemChecked(position, true);\r\n            mDrawerList.setSelection(position);\r\n            setTitle(navMenuTitles[position]);\r\n            mDrawerLayout.closeDrawer(mDrawerList);\r\n        } else {\r\n            // error in creating fragment\r\n            Log.e(&quot;MainActivity&quot;, &quot;Error in creating fragment&quot;);\r\n        }\r\n    }\r\n\r\nI get\r\n\r\n&gt; error: incompatible types: HomeFragment cannot be converted to Fragment\r\n\r\nthis is the imports:\r\n\r\n    package liorsiag.lgbt;\r\n    import android.app.FragmentManager;\r\n    import android.content.res.Configuration;\r\n    import android.content.res.TypedArray;\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.ActionBarDrawerToggle;\r\n    import android.app.Fragment;\r\n    import android.support.v4.app.FragmentActivity;\r\n    import android.support.v4.widget.DrawerLayout;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ListView;\r\n    import java.util.ArrayList;\r\n\r\nand this is the class title:\r\n\r\n    public class MainActivity extends FragmentActivity {\r\n        private DrawerLayout mDrawerLayout;\r\n        private ListView mDrawerList;\r\n        private ActionBarDrawerToggle mDrawerToggle;\r\n\r\nNo matter what I&#39;ve tried I still get this error\r\n\r\nI&#39;ve tried a lot of navigation drawer tutorials, but none of them seem to work.","title":"incompatible types: HomeFragment cannot be converted to Fragment in Android","body":"<p>I'm getting an error in this part of code:</p>\n\n<pre><code>private void displayView(int position) {\n    // update the main content by replacing fragments\n    Fragment fragment = null;\n    switch (position) {\n        case 0:\n            fragment = new HomeFragment();\n            break;\n        case 1:\n            fragment =new FindPeopleFragment();\n            break;\n        case 2:\n            fragment = new PhotosFragment();\n            break;\n        case 3:\n            fragment = new CommunityFragment();\n            break;\n        case 4:\n            fragment = new PagesFragment();\n            break;\n        case 5:\n            fragment = new WhatsHotFragment();\n            break;\n\n        default:\n            break;\n    }\n\n    if (fragment != null) {\n        FragmentManager fragmentManager = getFragmentManager();\n        fragmentManager.beginTransaction()\n                .replace(R.id.frame_container, fragment).commit();\n\n        // update selected item and title, then close the drawer\n        mDrawerList.setItemChecked(position, true);\n        mDrawerList.setSelection(position);\n        setTitle(navMenuTitles[position]);\n        mDrawerLayout.closeDrawer(mDrawerList);\n    } else {\n        // error in creating fragment\n        Log.e(\"MainActivity\", \"Error in creating fragment\");\n    }\n}\n</code></pre>\n\n<p>I get</p>\n\n<blockquote>\n  <p>error: incompatible types: HomeFragment cannot be converted to Fragment</p>\n</blockquote>\n\n<p>this is the imports:</p>\n\n<pre><code>package liorsiag.lgbt;\nimport android.app.FragmentManager;\nimport android.content.res.Configuration;\nimport android.content.res.TypedArray;\nimport android.os.Bundle;\nimport android.support.v4.app.ActionBarDrawerToggle;\nimport android.app.Fragment;\nimport android.support.v4.app.FragmentActivity;\nimport android.support.v4.widget.DrawerLayout;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ListView;\nimport java.util.ArrayList;\n</code></pre>\n\n<p>and this is the class title:</p>\n\n<pre><code>public class MainActivity extends FragmentActivity {\n    private DrawerLayout mDrawerLayout;\n    private ListView mDrawerList;\n    private ActionBarDrawerToggle mDrawerToggle;\n</code></pre>\n\n<p>No matter what I've tried I still get this error</p>\n\n<p>I've tried a lot of navigation drawer tutorials, but none of them seem to work.</p>\n"},{"tags":["java","string","command"],"comments":[{"owner":{"account_id":7970581,"reputation":375,"user_id":6015444,"display_name":"Touniouk"},"score":0,"creation_date":1667209489,"post_id":74261323,"comment_id":131108069,"body_markdown":"What&#39;s your error?","body":"What&#39;s your error?"},{"owner":{"account_id":7970581,"reputation":375,"user_id":6015444,"display_name":"Touniouk"},"score":2,"creation_date":1667209567,"post_id":74261323,"comment_id":131108096,"body_markdown":"Just remove the proxy array str and pass the Strings from args dircetly, the rest seems correct","body":"Just remove the proxy array str and pass the Strings from args dircetly, the rest seems correct"},{"owner":{"account_id":25263490,"reputation":3,"user_id":19094058,"display_name":"shousan"},"score":1,"creation_date":1667210060,"post_id":74261323,"comment_id":131108250,"body_markdown":"Wow it works, i didnt even know it was that simple I thought that I need to change the whole program. Thanks a lot.","body":"Wow it works, i didnt even know it was that simple I thought that I need to change the whole program. Thanks a lot."}],"owner":{"account_id":25263490,"reputation":3,"user_id":19094058,"display_name":"shousan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667209179,"creation_date":1667209121,"question_id":74261323,"body_markdown":"I&#39;m still new to Java and I was assigned a program to change the entire string into lower case or upper case depending on the first character of the string. I&#39;ve done the program to read one string from the command line and for the next assignment, instead of only one string, I need to read multiple strings from command line argument and input it into another class from main class. The problem is I don&#39;t know how to do it because it changes my variable from str to str[]. Is there anyone can help me.\r\n\r\nHere&#39;s my program\r\n\r\n\r\n\r\n```\r\nclass Strcov{\r\n\t\r\n\tstatic String toULCase(String str) {\r\n\t\t\r\n\t\t//Converting string into ASCII value\r\n\t\tchar word = str.charAt(0);\r\n\t\tint ascii = word;\r\n\t\t\r\n\t\t//If string start with uppercase, then the whole string turn to uppercase\r\n\t\t//[65,90] is the range for uppercase letter in ASCII\r\n\t\tif(ascii&lt;=90 &amp;&amp; ascii &gt;= 65) {\r\n\t\t\tstr = str.toUpperCase();\r\n\t\t}\r\n\t\t\r\n\t\t//If string start with lowercase, then the whole string turn to lowercase\r\n\t\t//[97,122]is the range for lowercase letter in ASCII\r\n\t\telse if(ascii&lt;=122&amp;&amp; ascii&gt;=97) {\r\n\t\t\tstr=str.toLowerCase();\r\n\t\t}\r\n\t\t\r\n\t\t//If does not match, return string value as it is\r\n\t\treturn str;\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tStrcov obj= new Strcov();\r\n\t\tString str= args[0];\r\n\t\t\t\r\n\t\tSystem.out.print(obj.toULCase(str));\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nand here what I do to make it able to read multiple strings from command line argument,\r\n\r\n\r\n\r\n```\r\nclass Strcov{\r\n\t\r\n\tstatic String toULCase(String str[]) {\r\n\t\t\r\n\t\t//Converting string into ASCII value\r\n\t\tchar word = str.charAt(0);\r\n\t\tint ascii = word;\r\n\t\t\r\n\t\t//If string start with uppercase, then the whole string turn to uppercase\r\n\t\t//[65,90] is the range for uppercase letter in ASCII\r\n\t\tif(ascii&lt;=90 &amp;&amp; ascii &gt;= 65) {\r\n\t\t\tstr = str.toUpperCase();\r\n\t\t}\r\n\t\t\r\n\t\t//If string start with lowercase, then the whole string turn to lowercase\r\n\t\t//[97,122]is the range for lowercase letter in ASCII\r\n\t\telse if(ascii&lt;=122&amp;&amp; ascii&gt;=97) {\r\n\t\t\tstr=str.toLowerCase();\r\n\t\t}\r\n\t\t\r\n\t\t//If does not match, return string value as it is\r\n\t\treturn str;\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tStrcov obj= new Strcov();\r\n\t\tString str[];\r\n\t\t\r\n\t\tfor(int i =0; i&lt;args.length; i++) {\r\n\t\t\tstr[i]=args[i];\r\n\t\t\tSystem.out.print(obj.toULCase(str[i]));\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThis require some changes in the Strcov class and I dont know how to.\r\n","title":"Input multiple strings in command line argument and call it into another class in Java","body":"<p>I'm still new to Java and I was assigned a program to change the entire string into lower case or upper case depending on the first character of the string. I've done the program to read one string from the command line and for the next assignment, instead of only one string, I need to read multiple strings from command line argument and input it into another class from main class. The problem is I don't know how to do it because it changes my variable from str to str[]. Is there anyone can help me.</p>\n<p>Here's my program</p>\n<pre><code>class Strcov{\n    \n    static String toULCase(String str) {\n        \n        //Converting string into ASCII value\n        char word = str.charAt(0);\n        int ascii = word;\n        \n        //If string start with uppercase, then the whole string turn to uppercase\n        //[65,90] is the range for uppercase letter in ASCII\n        if(ascii&lt;=90 &amp;&amp; ascii &gt;= 65) {\n            str = str.toUpperCase();\n        }\n        \n        //If string start with lowercase, then the whole string turn to lowercase\n        //[97,122]is the range for lowercase letter in ASCII\n        else if(ascii&lt;=122&amp;&amp; ascii&gt;=97) {\n            str=str.toLowerCase();\n        }\n        \n        //If does not match, return string value as it is\n        return str;\n        \n    }\n    \n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Strcov obj= new Strcov();\n        String str= args[0];\n            \n        System.out.print(obj.toULCase(str));\n    }\n\n}\n\n</code></pre>\n<p>and here what I do to make it able to read multiple strings from command line argument,</p>\n<pre><code>class Strcov{\n    \n    static String toULCase(String str[]) {\n        \n        //Converting string into ASCII value\n        char word = str.charAt(0);\n        int ascii = word;\n        \n        //If string start with uppercase, then the whole string turn to uppercase\n        //[65,90] is the range for uppercase letter in ASCII\n        if(ascii&lt;=90 &amp;&amp; ascii &gt;= 65) {\n            str = str.toUpperCase();\n        }\n        \n        //If string start with lowercase, then the whole string turn to lowercase\n        //[97,122]is the range for lowercase letter in ASCII\n        else if(ascii&lt;=122&amp;&amp; ascii&gt;=97) {\n            str=str.toLowerCase();\n        }\n        \n        //If does not match, return string value as it is\n        return str;\n        \n    }\n    \n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Strcov obj= new Strcov();\n        String str[];\n        \n        for(int i =0; i&lt;args.length; i++) {\n            str[i]=args[i];\n            System.out.print(obj.toULCase(str[i]));\n        }\n    }\n\n}\n\n</code></pre>\n<p>This require some changes in the Strcov class and I dont know how to.</p>\n"},{"tags":["java","video","youtube"],"answers":[{"tags":[],"owner":{"account_id":6539511,"reputation":115,"user_id":5057650,"display_name":"Howard Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436247472,"creation_date":1436247472,"answer_id":31260525,"question_id":30410410,"body_markdown":"I had the exact same problem as you did, and I figured it out. You can find the answer at [YouTube API v3 Java authorization][1]\r\n\r\nEdit\r\n----\r\n\r\nSorry, didn&#39;t realize link-only answers were discouraged. Just was so pleased that I solved the problem. Adding the details below :\r\n\r\n\r\n----------\r\n\r\n\r\nI looked for ways to accomplish this and found it. I followed the instructions at https://developers.google.com/identity/protocols/OAuth2ServiceAccount\r\n\r\nYou need a new OAuth Client ID and set it up as an &quot;Service account&quot; in the Developers Console - APIs &amp; auth - Credentials, and then download the P12 key.\r\n\r\nYou also need to change the Permissions of the service account to &quot;Is owner&quot; from the Developers Console.\r\n\r\nThen change the code\r\n\r\n    Credential credential = Auth.authorize(scopes, &quot;uploadvideo&quot;);\r\n\r\nto\r\n\r\n    GoogleCredential credential = new GoogleCredential.Builder()\r\n    .setTransport(httpTransport)\r\n    .setJsonFactory(JSON_FACTORY)\r\n    .setServiceAccountId(emailAddress)\r\n    .setServiceAccountPrivateKeyFromP12File(new File(&quot;MyProject.p12&quot;))\r\n    .setServiceAccountScopes(Collections.singleton(SQLAdminScopes.SQLSERVICE_ADMIN))\r\n    .setServiceAccountUser(&quot;user@example.com&quot;)\r\n    .build();\r\n\r\nas specified in the URL above. emailAddress is the email address from the service account, the P12 filename must be changed, Collections.~~~ should be changed to scopes (the premade one in the original example), finally the serviceAccountUser should be your original Gmail ID.\r\n\r\nI succeeded with the above method, hope it helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31097266/youtube-api-v3-java-authorization/31202922#31202922","title":"Youtube API V3 Java Any possible without invoking browser to upload video","body":"<p>I had the exact same problem as you did, and I figured it out. You can find the answer at <a href=\"https://stackoverflow.com/questions/31097266/youtube-api-v3-java-authorization/31202922#31202922\">YouTube API v3 Java authorization</a></p>\n\n<h2>Edit</h2>\n\n<p>Sorry, didn't realize link-only answers were discouraged. Just was so pleased that I solved the problem. Adding the details below :</p>\n\n<hr>\n\n<p>I looked for ways to accomplish this and found it. I followed the instructions at <a href=\"https://developers.google.com/identity/protocols/OAuth2ServiceAccount\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/protocols/OAuth2ServiceAccount</a></p>\n\n<p>You need a new OAuth Client ID and set it up as an \"Service account\" in the Developers Console - APIs &amp; auth - Credentials, and then download the P12 key.</p>\n\n<p>You also need to change the Permissions of the service account to \"Is owner\" from the Developers Console.</p>\n\n<p>Then change the code</p>\n\n<pre><code>Credential credential = Auth.authorize(scopes, \"uploadvideo\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>GoogleCredential credential = new GoogleCredential.Builder()\n.setTransport(httpTransport)\n.setJsonFactory(JSON_FACTORY)\n.setServiceAccountId(emailAddress)\n.setServiceAccountPrivateKeyFromP12File(new File(\"MyProject.p12\"))\n.setServiceAccountScopes(Collections.singleton(SQLAdminScopes.SQLSERVICE_ADMIN))\n.setServiceAccountUser(\"user@example.com\")\n.build();\n</code></pre>\n\n<p>as specified in the URL above. emailAddress is the email address from the service account, the P12 filename must be changed, Collections.~~~ should be changed to scopes (the premade one in the original example), finally the serviceAccountUser should be your original Gmail ID.</p>\n\n<p>I succeeded with the above method, hope it helps.</p>\n"}],"owner":{"account_id":6353074,"reputation":31,"user_id":4931406,"display_name":"Thangadurai Murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667209082,"creation_date":1432368246,"question_id":30410410,"body_markdown":"Hi I hope someone can help me out here.\r\n\r\nI have a Java Application on my local machine,I am trying to upload video to YouTube. \r\n\r\nUpload a video to the authenticated user&#39;s channel. Use OAuth 2.0 to authorize the request.\r\n\r\nIt was working good. \r\n\r\nThe source code getting from Youtube API V3.\r\nThe class name is com.google.api.services.samples.youtube.cmdline.data.UploadVideo\r\n\r\nWhile I run the application everyday asking very first time invoking default browser once i click approve after that video upload to youtube. Second time not invoking default browser. It was working good.\r\n\r\nBut I want without invoking browser, Need to upload video to youtube.\r\n\r\nAny Idea ? Please share me.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Youtube API V3 Java Any possible without invoking browser to upload video","body":"<p>Hi I hope someone can help me out here.</p>\n\n<p>I have a Java Application on my local machine,I am trying to upload video to YouTube. </p>\n\n<p>Upload a video to the authenticated user's channel. Use OAuth 2.0 to authorize the request.</p>\n\n<p>It was working good. </p>\n\n<p>The source code getting from Youtube API V3.\nThe class name is com.google.api.services.samples.youtube.cmdline.data.UploadVideo</p>\n\n<p>While I run the application everyday asking very first time invoking default browser once i click approve after that video upload to youtube. Second time not invoking default browser. It was working good.</p>\n\n<p>But I want without invoking browser, Need to upload video to youtube.</p>\n\n<p>Any Idea ? Please share me.</p>\n"},{"tags":["java","jpa","one-to-many"],"comments":[{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1667122927,"post_id":74251877,"comment_id":131092142,"body_markdown":"Try adding @JoinColumn at your manytoone side and give a column and check. Please let me know whether it is working or not.","body":"Try adding @JoinColumn at your manytoone side and give a column and check. Please let me know whether it is working or not."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667160788,"post_id":74251877,"comment_id":131099844,"body_markdown":"Adding @JoinColumn doesn&#39;t change the outcome, just the column name (from PARENT to the name given by JoinColumn).","body":"Adding @JoinColumn doesn&#39;t change the outcome, just the column name (from PARENT to the name given by JoinColumn)."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667209030,"creation_date":1667202998,"answer_id":74260231,"question_id":74251877,"body_markdown":"Yes.\r\n\r\nIn Hibernate, the developer is responsible for keeping the [bidirectional associations in sync on both sides][1]:\r\n\r\n&gt; Whenever a bidirectional association is formed, the application developer must make sure both sides are in-sync at all times.\r\n\r\nThis doesn&#39;t change if you are setting the cascade option. This option make sure that an entity in the association gets updated when the parent gets updated, but it doesn&#39;t keep the association in sync.\r\n\r\nYou can change this behaviour [enabling byte-code enhancements][2]:\r\nHibernate will manage the association and make sure that both sides stay in sync whenever one side is updated.\r\n\r\nPersonally, I prefer to have a method `.addChild` (without the `@PrePersist`) and make sure that the associations are in-sync at all time and not just before a persist.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-bidirectional\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#BytecodeEnhancement-dirty-tracking-bidirectional","title":"Do I need to set &quot;mappedBy&quot; field on target entity by myself?","body":"<p>Yes.</p>\n<p>In Hibernate, the developer is responsible for keeping the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-bidirectional\" rel=\"nofollow noreferrer\">bidirectional associations in sync on both sides</a>:</p>\n<blockquote>\n<p>Whenever a bidirectional association is formed, the application developer must make sure both sides are in-sync at all times.</p>\n</blockquote>\n<p>This doesn't change if you are setting the cascade option. This option make sure that an entity in the association gets updated when the parent gets updated, but it doesn't keep the association in sync.</p>\n<p>You can change this behaviour <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#BytecodeEnhancement-dirty-tracking-bidirectional\" rel=\"nofollow noreferrer\">enabling byte-code enhancements</a>:\nHibernate will manage the association and make sure that both sides stay in sync whenever one side is updated.</p>\n<p>Personally, I prefer to have a method <code>.addChild</code> (without the <code>@PrePersist</code>) and make sure that the associations are in-sync at all time and not just before a persist.</p>\n"}],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667209030,"creation_date":1667122206,"question_id":74251877,"body_markdown":"Given the following &quot;parent&quot; JPA entity:\r\n\r\n```java\r\n@Entity\r\npublic class Parent {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE })\r\n    private List&lt;Child&gt; children;\r\n\r\n}\r\n```\r\n\r\nand the following &quot;child&quot; JPA entity:\r\n\r\n```java\r\n@Entity\r\npublic class Child {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(optional = false)\r\n    private Parent parent;\r\n\r\n    private String name;\r\n}\r\n```\r\n\r\nI would have expected, that when persisting a Parent instance with Children, the `parent` field of the Child instance would automatically be set to the Parent instance (or the Parent&#39;s instance ID on SQL level) - but that&#39;s not the case.\r\n\r\nIs that the documented behaviour or am I missing something?\r\n\r\nTo make it work, I have to explicitly set the `parent` field in every linked Child instance, e.g. using @PrePersist:\r\n\r\n\r\n```java\r\n@PrePersist\r\npublic void assignChildren() {\r\n    this.children.forEach(c -&gt; c.setParent(this));\r\n}\r\n```\r\n","title":"Do I need to set &quot;mappedBy&quot; field on target entity by myself?","body":"<p>Given the following &quot;parent&quot; JPA entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE })\n    private List&lt;Child&gt; children;\n\n}\n</code></pre>\n<p>and the following &quot;child&quot; JPA entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Child {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(optional = false)\n    private Parent parent;\n\n    private String name;\n}\n</code></pre>\n<p>I would have expected, that when persisting a Parent instance with Children, the <code>parent</code> field of the Child instance would automatically be set to the Parent instance (or the Parent's instance ID on SQL level) - but that's not the case.</p>\n<p>Is that the documented behaviour or am I missing something?</p>\n<p>To make it work, I have to explicitly set the <code>parent</code> field in every linked Child instance, e.g. using @PrePersist:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PrePersist\npublic void assignChildren() {\n    this.children.forEach(c -&gt; c.setParent(this));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amazon-dynamodb"],"comments":[{"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"score":1,"creation_date":1667149129,"post_id":74254234,"comment_id":131097255,"body_markdown":"I can&#39;t understand why someone downvoted without event saying why!! that&#39;s really unprofessional","body":"I can&#39;t understand why someone downvoted without event saying why!! that&#39;s really unprofessional"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1667157414,"post_id":74254234,"comment_id":131099136,"body_markdown":"that&#39;s the problem of stackoverflow unfortunately.","body":"that&#39;s the problem of stackoverflow unfortunately."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1667158166,"post_id":74254234,"comment_id":131099296,"body_markdown":"it looks like your unconvert process is wrong, use it like this -&gt;  `LocalDate.ofEpochDay(Duration.ofMillis(epochMillis).toDays());`","body":"it looks like your unconvert process is wrong, use it like this -&gt;  <code>LocalDate.ofEpochDay(Duration.ofMillis(epochMillis).toDays()&zwnj;&#8203;);</code>"},{"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"score":0,"creation_date":1667161947,"post_id":74254234,"comment_id":131100071,"body_markdown":"@muhammedozbilici I don&#39;t think so, I am trying to uncovert to days and not Millis!","body":"@muhammedozbilici I don&#39;t think so, I am trying to uncovert to days and not Millis!"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1667204537,"post_id":74254234,"comment_id":131106629,"body_markdown":"exception log is bit strange because it indicates `convert()` method and log says `Long cannot be cast to class java.time.LocalDate`, but `convert()` method is opposite, `LocalDate` to `Long`.","body":"exception log is bit strange because it indicates <code>convert()</code> method and log says <code>Long cannot be cast to class java.time.LocalDate</code>, but <code>convert()</code> method is opposite, <code>LocalDate</code> to <code>Long</code>."}],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667208822,"creation_date":1667208822,"answer_id":74261266,"question_id":74254234,"body_markdown":"I think you need to convert from String to LocalDate.\r\n\r\n    public class LocalDateConverter implements DynamoDBTypeConverter&lt;String, LocalDate&gt;\r\n\r\nAlso, it seems such a converter might already exist and you don&#39;t need to implement your own.\r\n\r\nhttps://github.com/sijakubo/dynamo-db-spring-boot/blob/master/src/main/java/de/sja/model/converter/LocalDateConverter.java","title":"DynamoDBTypeConverted not working and returning java.lang.ClassCastException while fetching data","body":"<p>I think you need to convert from String to LocalDate.</p>\n<pre><code>public class LocalDateConverter implements DynamoDBTypeConverter&lt;String, LocalDate&gt;\n</code></pre>\n<p>Also, it seems such a converter might already exist and you don't need to implement your own.</p>\n<p><a href=\"https://github.com/sijakubo/dynamo-db-spring-boot/blob/master/src/main/java/de/sja/model/converter/LocalDateConverter.java\" rel=\"nofollow noreferrer\">https://github.com/sijakubo/dynamo-db-spring-boot/blob/master/src/main/java/de/sja/model/converter/LocalDateConverter.java</a></p>\n"}],"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1667208822,"creation_date":1667142889,"question_id":74254234,"body_markdown":"In my Spring boot project, I am using the following custom converter for my DynamoDB model attribute:\r\n\r\n    public class LocalDateConverter implements DynamoDBTypeConverter&lt;Long, LocalDate&gt; {\r\n    \r\n        @Override\r\n        public Long convert(LocalDate date) {\r\n            return date == null ? null : date.toEpochDay();\r\n        }\r\n    \r\n        @Override\r\n        public LocalDate unconvert(final Long days) {\r\n            return days == null ? null : LocalDate.ofEpochDay(days);\r\n        }\r\n        }\r\n\r\nHere is my model attribute getter method:\r\n\r\n     @DynamoDBRangeKey(attributeName = &quot;dateTimestamp&quot;)\r\n        @DynamoDBTypeConverted(converter = LocalDateConverter.class)\r\n        public LocalDate getSortKey() {\r\n            return priceCalendarIdentity != null ? priceCalendarIdentity.getSortKey() : null;\r\n        }\r\n\r\nBut once I try to fecth my data, I get the folowing error:\r\n\r\n\r\n    java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.time.LocalDate (java.lang.Long and java.time.LocalDate are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat com.test.myapp.model.converter.LocalDateConverter.convert(LocalDateConverter.java:7) ~[classes/:na]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCriteria.getPropertyAttributeValue(AbstractDynamoDBQueryCriteria.java:484) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCriteria.createCollectionCondition(AbstractDynamoDBQueryCriteria.java:670) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCriteria.withPropertyBetween(AbstractDynamoDBQueryCriteria.java:409) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.addCriteria(AbstractDynamoDBQueryCreator.java:111) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.and(AbstractDynamoDBQueryCreator.java:150) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.and(AbstractDynamoDBQueryCreator.java:42) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:122) ~[spring-data-commons-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n\r\n\r\n","title":"DynamoDBTypeConverted not working and returning java.lang.ClassCastException while fetching data","body":"<p>In my Spring boot project, I am using the following custom converter for my DynamoDB model attribute:</p>\n<pre><code>public class LocalDateConverter implements DynamoDBTypeConverter&lt;Long, LocalDate&gt; {\n\n    @Override\n    public Long convert(LocalDate date) {\n        return date == null ? null : date.toEpochDay();\n    }\n\n    @Override\n    public LocalDate unconvert(final Long days) {\n        return days == null ? null : LocalDate.ofEpochDay(days);\n    }\n    }\n</code></pre>\n<p>Here is my model attribute getter method:</p>\n<pre><code> @DynamoDBRangeKey(attributeName = &quot;dateTimestamp&quot;)\n    @DynamoDBTypeConverted(converter = LocalDateConverter.class)\n    public LocalDate getSortKey() {\n        return priceCalendarIdentity != null ? priceCalendarIdentity.getSortKey() : null;\n    }\n</code></pre>\n<p>But once I try to fecth my data, I get the folowing error:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.time.LocalDate (java.lang.Long and java.time.LocalDate are in module java.base of loader 'bootstrap')\n    at com.test.myapp.model.converter.LocalDateConverter.convert(LocalDateConverter.java:7) ~[classes/:na]\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCriteria.getPropertyAttributeValue(AbstractDynamoDBQueryCriteria.java:484) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCriteria.createCollectionCondition(AbstractDynamoDBQueryCriteria.java:670) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCriteria.withPropertyBetween(AbstractDynamoDBQueryCriteria.java:409) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.addCriteria(AbstractDynamoDBQueryCreator.java:111) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.and(AbstractDynamoDBQueryCreator.java:150) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.and(AbstractDynamoDBQueryCreator.java:42) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:122) ~[spring-data-commons-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667205312,"post_id":74260598,"comment_id":131106860,"body_markdown":"Reactive isn&#39;t about speed but about smarter use of resources (unless you start doing things in parallel that you before weren&#39;t doing in parallel). Reactive also makes only sense if you can be reactive from front to back. If you are using JDBC or JPA in there it still is blocking as those technologies are blocking. So in short with this little information this question will be impossible to answer.","body":"Reactive isn&#39;t about speed but about smarter use of resources (unless you start doing things in parallel that you before weren&#39;t doing in parallel). Reactive also makes only sense if you can be reactive from front to back. If you are using JDBC or JPA in there it still is blocking as those technologies are blocking. So in short with this little information this question will be impossible to answer."},{"owner":{"account_id":17672852,"reputation":11,"user_id":12828573,"display_name":"Anothereno"},"score":0,"creation_date":1667207853,"post_id":74260598,"comment_id":131107566,"body_markdown":"Thanks for you answer! I use jpa repository for blocking api and R2DBC (with reactive postgres driver) for Reactor","body":"Thanks for you answer! I use jpa repository for blocking api and R2DBC (with reactive postgres driver) for Reactor"},{"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"score":0,"creation_date":1675716018,"post_id":74260598,"comment_id":132985136,"body_markdown":"This seems like a very common question we all had in our brains about reactive but never dared to ask on stackoverflow, hence my damn nickname.. joking aside, the reactive way will be less likely to be thread starved than your usual mvc app (unless you explicitly block). Another thing about reactive is that r2dbc is still very nascent and may not have enough driver magic to optimize and batch requests as opposed to any other jdbc that has been around for more that 20 years. All in all, test it on some limited resource node, it will outperform mvc counterpart in stability and throughput.","body":"This seems like a very common question we all had in our brains about reactive but never dared to ask on stackoverflow, hence my damn nickname.. joking aside, the reactive way will be less likely to be thread starved than your usual mvc app (unless you explicitly block). Another thing about reactive is that r2dbc is still very nascent and may not have enough driver magic to optimize and batch requests as opposed to any other jdbc that has been around for more that 20 years. All in all, test it on some limited resource node, it will outperform mvc counterpart in stability and throughput."}],"owner":{"account_id":17672852,"reputation":11,"user_id":12828573,"display_name":"Anothereno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667208668,"creation_date":1667205168,"question_id":74260598,"body_markdown":"guys!\r\n\r\nI want to compare project reactor&#39;s performance with standart blocking API\r\n\r\nI created for that purpose 2 simple applications. Both application have same model, controller, service and repository.\r\n\r\nAfter that I prepared simple JMeter test, with 400 threads and loop count is 40. I expected, that standart blocking api to die with NoSpaceLeftException or be much slower than reactive application. But it turned out the opposite. Blocking API&#39;s read from database is much faster: 3 seconds (blocking API) VS 9 seconds (Reactor). In db are only 10 records. With inserts similar situation.\r\n\r\nBlocking Api results\r\n[![Blocking API results](https://i.stack.imgur.com/cRITw.png)](https://i.stack.imgur.com/cRITw.png)\r\n\r\nProject reactor results\r\n[![Project reactor](https://i.stack.imgur.com/Z3OBt.png)](https://i.stack.imgur.com/Z3OBt.png)\r\n\r\nCould someone explain to me where am i wrong?\r\n\r\nI want to know why reactor so slow? Maybe my test case is not good for this purpose. Maybe my expects about Project Reactor advantages is not correct. Tell me please.","title":"Why spring boot blocking api faster then project reactor?","body":"<p>guys!</p>\n<p>I want to compare project reactor's performance with standart blocking API</p>\n<p>I created for that purpose 2 simple applications. Both application have same model, controller, service and repository.</p>\n<p>After that I prepared simple JMeter test, with 400 threads and loop count is 40. I expected, that standart blocking api to die with NoSpaceLeftException or be much slower than reactive application. But it turned out the opposite. Blocking API's read from database is much faster: 3 seconds (blocking API) VS 9 seconds (Reactor). In db are only 10 records. With inserts similar situation.</p>\n<p>Blocking Api results\n<a href=\"https://i.stack.imgur.com/cRITw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cRITw.png\" alt=\"Blocking API results\" /></a></p>\n<p>Project reactor results\n<a href=\"https://i.stack.imgur.com/Z3OBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3OBt.png\" alt=\"Project reactor\" /></a></p>\n<p>Could someone explain to me where am i wrong?</p>\n<p>I want to know why reactor so slow? Maybe my test case is not good for this purpose. Maybe my expects about Project Reactor advantages is not correct. Tell me please.</p>\n"},{"tags":["java","if-statement","boolean-operations"],"comments":[{"owner":{"display_name":"user395760"},"score":4,"creation_date":1295805602,"post_id":4775379,"comment_id":5286602,"body_markdown":"&quot;`if (...)` is better than `if (!...)`&quot; - Wait, wat?","body":"&quot;<code>if (...)</code> is better than <code>if (!...)</code>&quot; - Wait, wat?"},{"owner":{"account_id":170920,"reputation":59446,"user_id":397991,"accept_rate":89,"display_name":"Eugene"},"score":0,"creation_date":1295805993,"post_id":4775379,"comment_id":5286660,"body_markdown":"Question has been slightly extended to make it more clear.","body":"Question has been slightly extended to make it more clear."},{"owner":{"account_id":7078904,"reputation":345,"user_id":5417974,"display_name":"Luis Carlos"},"score":0,"creation_date":1497336027,"post_id":4775379,"comment_id":76020517,"body_markdown":"For me isn&#39;t the fact of one be better than another, simply you must use which be appropriate in every situation, the conditional world is very wide and diverse.","body":"For me isn&#39;t the fact of one be better than another, simply you must use which be appropriate in every situation, the conditional world is very wide and diverse."},{"owner":{"account_id":1526542,"reputation":1395,"user_id":1424828,"display_name":"MXMLLN"},"score":0,"creation_date":1672556779,"post_id":4775379,"comment_id":132305479,"body_markdown":"Additional suggestion: Readability might be increase if a space is added between the not operator(!) and the boolean, i.e., if (! bool).","body":"Additional suggestion: Readability might be increase if a space is added between the not operator(!) and the boolean, i.e., if (! bool)."}],"answers":[{"tags":[],"owner":{"account_id":36288,"reputation":25061,"user_id":103385,"accept_rate":81,"display_name":"Kyle Rosendo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1295805522,"creation_date":1295805522,"answer_id":4775392,"question_id":4775379,"body_markdown":"No, there is absolutely nothing wrong with using the `!` operator in `if..then..else` statements.\r\n\r\nThe naming of variables, and in your example, methods is what is important. If you are using:\r\n\r\n    if(!isPerson()) { ... } // Nothing wrong with this\r\n\r\nHowever:\r\n\r\n    if(!balloons()) { ... } // method is named badly\r\n\r\nIt all comes down to readability. Always aim for what is the most readable and you won&#39;t go wrong. Always try to keep your code continuous as well, for instance, look at Bill the Lizards [answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4775379/using-not-operator-in-if-conditions/4775413#4775413","title":"Using NOT operator in IF conditions","body":"<p>No, there is absolutely nothing wrong with using the <code>!</code> operator in <code>if..then..else</code> statements.</p>\n\n<p>The naming of variables, and in your example, methods is what is important. If you are using:</p>\n\n<pre><code>if(!isPerson()) { ... } // Nothing wrong with this\n</code></pre>\n\n<p>However:</p>\n\n<pre><code>if(!balloons()) { ... } // method is named badly\n</code></pre>\n\n<p>It all comes down to readability. Always aim for what is the most readable and you won't go wrong. Always try to keep your code continuous as well, for instance, look at Bill the Lizards <a href=\"https://stackoverflow.com/questions/4775379/using-not-operator-in-if-conditions/4775413#4775413\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295805595,"creation_date":1295805595,"answer_id":4775398,"question_id":4775379,"body_markdown":"I never heard of this one before.\r\n\r\nHow is \r\n   \r\n    if (doSomething()) {\r\n    } else {\r\n       // blah\r\n    }\r\n\r\nbetter than\r\n\r\n    if (!doSomething()) {\r\n       // blah\r\n    }\r\n\r\nThe later is more clear and concise.\r\n\r\nBesides the ! operator can appear in complex conditions such as (!a || b). How do you avoid it then?\r\n\r\nUse the ! operator when you need.","title":"Using NOT operator in IF conditions","body":"<p>I never heard of this one before.</p>\n\n<p>How is </p>\n\n<pre><code>if (doSomething()) {\n} else {\n   // blah\n}\n</code></pre>\n\n<p>better than</p>\n\n<pre><code>if (!doSomething()) {\n   // blah\n}\n</code></pre>\n\n<p>The later is more clear and concise.</p>\n\n<p>Besides the ! operator can appear in complex conditions such as (!a || b). How do you avoid it then?</p>\n\n<p>Use the ! operator when you need.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1295805688,"creation_date":1295805688,"answer_id":4775413,"question_id":4775379,"body_markdown":"It really depends on what you&#39;re trying to accomplish.  If you have no else clause then `if(!doSomething())` seems fine.  However, if you have\r\n\r\n    if(!doSomething()) {\r\n        ...\r\n    }\r\n    else {\r\n        // do something else\r\n    }\r\n\r\nI&#39;d probably reverse that logic to remove the `!` operator and make the `if` clause slightly more clear.","title":"Using NOT operator in IF conditions","body":"<p>It really depends on what you're trying to accomplish.  If you have no else clause then <code>if(!doSomething())</code> seems fine.  However, if you have</p>\n\n<pre><code>if(!doSomething()) {\n    ...\n}\nelse {\n    // do something else\n}\n</code></pre>\n\n<p>I'd probably reverse that logic to remove the <code>!</code> operator and make the <code>if</code> clause slightly more clear.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1475624375,"creation_date":1295805825,"answer_id":4775428,"question_id":4775379,"body_markdown":"As a general statement, its good to make your if conditionals as readable as possible.  For your example, using ! is ok.  the problem is when things look like\r\n\r\n\r\n    if ((a.b &amp;&amp; c.d.e) || !f)\r\n\r\nyou might want to do something like\r\n\r\n    bool isOk = a.b;\r\n    bool isStillOk = c.d.e\r\n    bool alternateOk = !f\r\n\r\nthen your if statement is simplified to\r\n\r\n    if ( (isOk &amp;&amp; isStillOk) || alternateOk)\r\n\r\nIt just makes the code more readable.  And if you have to debug, you can debug the isOk set of vars instead of having to dig through the variables in scope.  It is also helpful for dealing with NPEs -- breaking code out into simpler chunks is always good.","title":"Using NOT operator in IF conditions","body":"<p>As a general statement, its good to make your if conditionals as readable as possible.  For your example, using ! is ok.  the problem is when things look like</p>\n\n<pre><code>if ((a.b &amp;&amp; c.d.e) || !f)\n</code></pre>\n\n<p>you might want to do something like</p>\n\n<pre><code>bool isOk = a.b;\nbool isStillOk = c.d.e\nbool alternateOk = !f\n</code></pre>\n\n<p>then your if statement is simplified to</p>\n\n<pre><code>if ( (isOk &amp;&amp; isStillOk) || alternateOk)\n</code></pre>\n\n<p>It just makes the code more readable.  And if you have to debug, you can debug the isOk set of vars instead of having to dig through the variables in scope.  It is also helpful for dealing with NPEs -- breaking code out into simpler chunks is always good.</p>\n"},{"tags":[],"owner":{"account_id":287130,"reputation":273,"user_id":586760,"display_name":"FabianB"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1301694533,"creation_date":1295825334,"answer_id":4777282,"question_id":4775379,"body_markdown":"It is generally not a bad idea to avoid the !-operator if you have the choice. One simple reason is that it can be a source of errors, because it is possible to overlook it. More readable can be: if(conditionA==false) in some cases. This mainly plays a role if you skip the else part. \r\nIf you have an else-block anyway you should not use the negation in the if-condition. \r\n\r\nExcept for composed-conditions like this:\r\n\r\n\r\n    if(!isA() &amp;&amp; isB() &amp;&amp; !isNotC())\r\n\r\nHere you have to use some sort of negation to get the desired logic.\r\nIn this case, what really is worth thinking about is the naming of the functions or variables.\r\nTry to name them so you can often use them in simple conditions without negation.\r\n\r\nIn this case you should think about the logic of isNotC() and if it could be replaced by a method isC() if it makes sense.\r\n\r\n\r\nFinally your example has another problem when it comes to readability which is even more serious than the question whether to use negation or not: Does the reader of the code really knows when doSomething() returns true and when false?\r\nIf it was false was it done anyway? This is a very common problem, which ends in the reader trying to find out what the return values of functions really mean.\r\n","title":"Using NOT operator in IF conditions","body":"<p>It is generally not a bad idea to avoid the !-operator if you have the choice. One simple reason is that it can be a source of errors, because it is possible to overlook it. More readable can be: if(conditionA==false) in some cases. This mainly plays a role if you skip the else part. \nIf you have an else-block anyway you should not use the negation in the if-condition. </p>\n\n<p>Except for composed-conditions like this:</p>\n\n<pre><code>if(!isA() &amp;&amp; isB() &amp;&amp; !isNotC())\n</code></pre>\n\n<p>Here you have to use some sort of negation to get the desired logic.\nIn this case, what really is worth thinking about is the naming of the functions or variables.\nTry to name them so you can often use them in simple conditions without negation.</p>\n\n<p>In this case you should think about the logic of isNotC() and if it could be replaced by a method isC() if it makes sense.</p>\n\n<p>Finally your example has another problem when it comes to readability which is even more serious than the question whether to use negation or not: Does the reader of the code really knows when doSomething() returns true and when false?\nIf it was false was it done anyway? This is a very common problem, which ends in the reader trying to find out what the return values of functions really mean.</p>\n"},{"tags":[],"owner":{"account_id":5149634,"reputation":4956,"user_id":4124574,"accept_rate":45,"display_name":"Mig82"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421681186,"creation_date":1421681186,"answer_id":28028025,"question_id":4775379,"body_markdown":"In general, ! is a perfectly good and readable boolean logic operator. No reason not to use it unless you&#39;re simplifying by removing double negatives or applying Morgan&#39;s law.\r\n\r\n    !(!A) = A\r\nor\r\n\r\n    !(!A | !B) = A &amp; B\r\n\r\nAs a rule of thumb, keep the signature of your boolean return methods mnemonic and in line with convention. The problem with the scenario that @hvgotcodes proposes is that of course a.b and c.d.e are not very friendly examples to begin with. Suppose you have a Flight and a Seat class for a flight booking application. Then the condition for booking a flight could perfectly be something like\r\n\r\n    if(flight.isActive() &amp;&amp; !seat.isTaken())\r\n    {\r\n        //book the seat\r\n    }\r\n\r\nThis perfectly readable and understandable code. You could re-define your boolean logic for the Seat class and rephrase the condition to this, though.\r\n\r\n    if(flight.isActive() &amp;&amp; seat.isVacant())\r\n    {\r\n        //book the seat\r\n    }\r\n\r\nThus removing the ! operator if it really bothers you, but you&#39;ll see that it all depends on what your boolean methods mean.","title":"Using NOT operator in IF conditions","body":"<p>In general, ! is a perfectly good and readable boolean logic operator. No reason not to use it unless you're simplifying by removing double negatives or applying Morgan's law.</p>\n\n<pre><code>!(!A) = A\n</code></pre>\n\n<p>or</p>\n\n<pre><code>!(!A | !B) = A &amp; B\n</code></pre>\n\n<p>As a rule of thumb, keep the signature of your boolean return methods mnemonic and in line with convention. The problem with the scenario that @hvgotcodes proposes is that of course a.b and c.d.e are not very friendly examples to begin with. Suppose you have a Flight and a Seat class for a flight booking application. Then the condition for booking a flight could perfectly be something like</p>\n\n<pre><code>if(flight.isActive() &amp;&amp; !seat.isTaken())\n{\n    //book the seat\n}\n</code></pre>\n\n<p>This perfectly readable and understandable code. You could re-define your boolean logic for the Seat class and rephrase the condition to this, though.</p>\n\n<pre><code>if(flight.isActive() &amp;&amp; seat.isVacant())\n{\n    //book the seat\n}\n</code></pre>\n\n<p>Thus removing the ! operator if it really bothers you, but you'll see that it all depends on what your boolean methods mean.</p>\n"},{"tags":[],"owner":{"account_id":9160939,"reputation":71,"user_id":6812261,"display_name":"Jae Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476154271,"creation_date":1476154271,"answer_id":39969802,"question_id":4775379,"body_markdown":"try like this\r\n\r\n    if (!(a | b)) {\r\n        //blahblah\r\n    }\r\n\r\nIt&#39;s same with\r\n\r\n    if (a | b) {}\r\n    else {\r\n        // blahblah\r\n    }\r\n         ","title":"Using NOT operator in IF conditions","body":"<p>try like this</p>\n\n<pre><code>if (!(a | b)) {\n    //blahblah\n}\n</code></pre>\n\n<p>It's same with</p>\n\n<pre><code>if (a | b) {}\nelse {\n    // blahblah\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667208580,"creation_date":1667208580,"answer_id":74261208,"question_id":4775379,"body_markdown":"I think a good example of a case of when to use `if (!doSomething())` would be using `Optional` before Java 11. Java 11 added `isEmpty`, but before that there was only `isPresent`. Image you are trying to return early from a function ( a common programming best practice)\r\n\r\n```java\r\nif (!option.isPresent()){\r\n  return -1;\r\n}\r\n```\r\n\r\nwould be a very common practice. Alternatively you could introduce a temporary variable yourself if you really want to avoid the `!` inside the `if`\r\n\r\n\r\n\r\n```java\r\nvar isEmpty = !option.isPresent();\r\nif (isEmpty){\r\n  return -1;\r\n}\r\n```","title":"Using NOT operator in IF conditions","body":"<p>I think a good example of a case of when to use <code>if (!doSomething())</code> would be using <code>Optional</code> before Java 11. Java 11 added <code>isEmpty</code>, but before that there was only <code>isPresent</code>. Image you are trying to return early from a function ( a common programming best practice)</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!option.isPresent()){\n  return -1;\n}\n</code></pre>\n<p>would be a very common practice. Alternatively you could introduce a temporary variable yourself if you really want to avoid the <code>!</code> inside the <code>if</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>var isEmpty = !option.isPresent();\nif (isEmpty){\n  return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":170920,"reputation":59446,"user_id":397991,"accept_rate":89,"display_name":"Eugene"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285246,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":4775413,"answer_count":8,"score":33,"last_activity_date":1667208580,"creation_date":1295805369,"question_id":4775379,"body_markdown":"Is it really a good practice to avoid using NOT operator in IF conditions in order to make your code better readable? I heard the `if (doSomething())` is better then `if (!doSomething()).`","title":"Using NOT operator in IF conditions","body":"<p>Is it really a good practice to avoid using NOT operator in IF conditions in order to make your code better readable? I heard the <code>if (doSomething())</code> is better then <code>if (!doSomething()).</code></p>\n"},{"tags":["java","logging","glassfish","glassfish-4","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409234744,"creation_date":1409166516,"answer_id":25535150,"question_id":25532155,"body_markdown":"From the [SimpleFormatter][1] docs you have to test for the following conditions:\r\n\r\n 1. If this property is not defined or the given format string is illegal, the default format is implementation-specific.\r\n 2. If this property is set in both the logging properties and system properties, the format string specified in the system property will be used.\r\n 3. This property can be defined in the logging properties configuration file.\r\n\r\nHere is a sample test case that you can convert and run under GlassFish.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final String format = &quot;%1$tY:%1$tm:%1$td %1$tH:%1$tM:%1$tS|%4$s: %2$s%n%5$s%n%6$s%n&quot;;\r\n        final String key = &quot;java.util.logging.SimpleFormatter.format&quot;;\r\n        test(format);\r\n        test(System.getProperty(key, format));\r\n        test(LogManager.getLogManager().getProperty(key));\r\n        FileHandler f = new FileHandler();\r\n        System.out.println(f.getFormatter());\r\n        f.close();\r\n    }\r\n    \r\n    private static void test(String format) {\r\n        LogRecord record = new LogRecord(Level.INFO, &quot;&quot;);\r\n        System.out.println(String.format(format,\r\n                             new java.util.Date(record.getMillis()),\r\n                             record.getSourceClassName(),\r\n                             record.getLoggerName(),\r\n                             record.getLevel().getLocalizedName(),\r\n                             record.getMessage(),\r\n                             String.valueOf(record.getThrown())));\r\n    }\r\n\r\nYou also need to check if GlassFish replaced your SimpleFormatter with the &#39;com.sun.enterprise.server.logging.UniformLogFormatter&#39;.\r\n\r\n    private static void findFormatters() {\r\n        final ArrayList&lt;Handler&gt; handlers = new ArrayList&lt;&gt;();\r\n        final LogManager manager = LogManager.getLogManager();\r\n        synchronized (manager) {\r\n            final Enumeration&lt;String&gt; e = manager.getLoggerNames();\r\n            while (e.hasMoreElements()) {\r\n                final Logger l = manager.getLogger(e.nextElement());\r\n                if (l != null) {\r\n                    Collections.addAll(handlers, l.getHandlers());\r\n                }\r\n            }\r\n        }\r\n\r\n        for (Handler h : handlers) {\r\n            Formatter f = h.getFormatter();\r\n            System.out.println(h.getClass().getName() + &quot;=&quot; + (f == null ? &quot;&quot; : f.getClass().getName()));\r\n        }\r\n    }\r\n\r\nIf you need to check access when the system properties are set you can install a security manager with the [-Djava.security.debug=access,stack][2] options to trace when the property is set.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/logging/SimpleFormatter.html\r\n  [2]: http://www.onjava.com/pub/a/onjava/excerpt/java_security_ch1/?page=5","title":"SimpleFormatter ignoring the java.util.logging.SimpleFormatter.format property","body":"<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/logging/SimpleFormatter.html\" rel=\"nofollow\">SimpleFormatter</a> docs you have to test for the following conditions:</p>\n\n<ol>\n<li>If this property is not defined or the given format string is illegal, the default format is implementation-specific.</li>\n<li>If this property is set in both the logging properties and system properties, the format string specified in the system property will be used.</li>\n<li>This property can be defined in the logging properties configuration file.</li>\n</ol>\n\n<p>Here is a sample test case that you can convert and run under GlassFish.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final String format = \"%1$tY:%1$tm:%1$td %1$tH:%1$tM:%1$tS|%4$s: %2$s%n%5$s%n%6$s%n\";\n    final String key = \"java.util.logging.SimpleFormatter.format\";\n    test(format);\n    test(System.getProperty(key, format));\n    test(LogManager.getLogManager().getProperty(key));\n    FileHandler f = new FileHandler();\n    System.out.println(f.getFormatter());\n    f.close();\n}\n\nprivate static void test(String format) {\n    LogRecord record = new LogRecord(Level.INFO, \"\");\n    System.out.println(String.format(format,\n                         new java.util.Date(record.getMillis()),\n                         record.getSourceClassName(),\n                         record.getLoggerName(),\n                         record.getLevel().getLocalizedName(),\n                         record.getMessage(),\n                         String.valueOf(record.getThrown())));\n}\n</code></pre>\n\n<p>You also need to check if GlassFish replaced your SimpleFormatter with the 'com.sun.enterprise.server.logging.UniformLogFormatter'.</p>\n\n<pre><code>private static void findFormatters() {\n    final ArrayList&lt;Handler&gt; handlers = new ArrayList&lt;&gt;();\n    final LogManager manager = LogManager.getLogManager();\n    synchronized (manager) {\n        final Enumeration&lt;String&gt; e = manager.getLoggerNames();\n        while (e.hasMoreElements()) {\n            final Logger l = manager.getLogger(e.nextElement());\n            if (l != null) {\n                Collections.addAll(handlers, l.getHandlers());\n            }\n        }\n    }\n\n    for (Handler h : handlers) {\n        Formatter f = h.getFormatter();\n        System.out.println(h.getClass().getName() + \"=\" + (f == null ? \"\" : f.getClass().getName()));\n    }\n}\n</code></pre>\n\n<p>If you need to check access when the system properties are set you can install a security manager with the <a href=\"http://www.onjava.com/pub/a/onjava/excerpt/java_security_ch1/?page=5\" rel=\"nofollow\">-Djava.security.debug=access,stack</a> options to trace when the property is set.</p>\n"},{"tags":[],"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1409762745,"creation_date":1409219930,"answer_id":25545956,"question_id":25532155,"body_markdown":"I was assuming that the System Property `java.util.logging.config.file` is set by GF from the beginning. This is not the case.\r\n\r\nAfter some investigation I realized that the `LogManager` is initialized two times. In the first time that property doesn&#39;t exist, the second time it does. \r\n\r\nI was getting an error on the first initialization because I was counting on that property, therefore I didn&#39;t initialize the `LogManager` properly, causing the `SimpleFormatter` to use the default format.\r\n\r\nI fixed this by changing my code and no longer counting on that System property. This solved the issue.\r\n\r\nGF still sets the System property `java.util.logging.config.file` later.","title":"SimpleFormatter ignoring the java.util.logging.SimpleFormatter.format property","body":"<p>I was assuming that the System Property <code>java.util.logging.config.file</code> is set by GF from the beginning. This is not the case.</p>\n\n<p>After some investigation I realized that the <code>LogManager</code> is initialized two times. In the first time that property doesn't exist, the second time it does. </p>\n\n<p>I was getting an error on the first initialization because I was counting on that property, therefore I didn't initialize the <code>LogManager</code> properly, causing the <code>SimpleFormatter</code> to use the default format.</p>\n\n<p>I fixed this by changing my code and no longer counting on that System property. This solved the issue.</p>\n\n<p>GF still sets the System property <code>java.util.logging.config.file</code> later.</p>\n"},{"tags":[],"owner":{"account_id":3645133,"reputation":11,"user_id":3038343,"display_name":"remmons"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418322741,"creation_date":1418322741,"answer_id":27429960,"question_id":25532155,"body_markdown":"I had a similar problem, but it is fixed. I was running my code from an Ant build.xml, and my \r\njava.util.logging.FileHandler.formatter.format property was not being applied from my myLogging.properties file, although other properties were read and applied.\r\n\r\nAre you using a JRE version &lt; 1.6.32? Java Bug 55052 indicates that the java.util.logging.FileHandler.formatter.format property is not properly read from the properties file and applied for earlier versions of the JRE.\r\n\r\nSee: https://issues.apache.org/bugzilla/show_bug.cgi?id=55052\r\n\r\nI still compile that project with JDK 1.6.24, but run it with JDK 1.7.0.6, and the formatting is properly read and applied to my logger.","title":"SimpleFormatter ignoring the java.util.logging.SimpleFormatter.format property","body":"<p>I had a similar problem, but it is fixed. I was running my code from an Ant build.xml, and my \njava.util.logging.FileHandler.formatter.format property was not being applied from my myLogging.properties file, although other properties were read and applied.</p>\n\n<p>Are you using a JRE version &lt; 1.6.32? Java Bug 55052 indicates that the java.util.logging.FileHandler.formatter.format property is not properly read from the properties file and applied for earlier versions of the JRE.</p>\n\n<p>See: <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=55052\" rel=\"nofollow\">https://issues.apache.org/bugzilla/show_bug.cgi?id=55052</a></p>\n\n<p>I still compile that project with JDK 1.6.24, but run it with JDK 1.7.0.6, and the formatting is properly read and applied to my logger.</p>\n"},{"tags":[],"owner":{"account_id":26737686,"reputation":11,"user_id":20338979,"display_name":"Dariusz Pazdzior"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667208279,"creation_date":1666784371,"answer_id":74207145,"question_id":25532155,"body_markdown":"As I can see this post is very old, but I had the same problem and I made some discovery regarding this issue.\r\n\r\nSimpleFormatter class stores the format property in a static field, so it initialized only once while calling log(…) method. If you call log(…) method before read the configuration, SimpleFormatter class format field is initialized with default values.\r\n\r\nThe code below works fine:\r\n\r\n    LogManager.getLogManager().readConfiguration(configurationStream);\r\n    \r\n    Logger.getLogger(“logger name”).info(“message”);\r\n\r\nBut code below uses a default formatting (ignores the configuration):\r\n\r\n    Logger.getLogger(“logger name”).info(“message”);\r\n    \r\n    LogManager.getLogManager().readConfiguration(configurationStream);\r\n    \r\n    Logger.getLogger(“logger name”).info(“message”);\r\n    \r\n    Logger.getLogger(“logger name”).info(“message”);\r\n\r\n","title":"SimpleFormatter ignoring the java.util.logging.SimpleFormatter.format property","body":"<p>As I can see this post is very old, but I had the same problem and I made some discovery regarding this issue.</p>\n<p>SimpleFormatter class stores the format property in a static field, so it initialized only once while calling log(…) method. If you call log(…) method before read the configuration, SimpleFormatter class format field is initialized with default values.</p>\n<p>The code below works fine:</p>\n<pre><code>LogManager.getLogManager().readConfiguration(configurationStream);\n\nLogger.getLogger(“logger name”).info(“message”);\n</code></pre>\n<p>But code below uses a default formatting (ignores the configuration):</p>\n<pre><code>Logger.getLogger(“logger name”).info(“message”);\n\nLogManager.getLogManager().readConfiguration(configurationStream);\n\nLogger.getLogger(“logger name”).info(“message”);\n\nLogger.getLogger(“logger name”).info(“message”);\n</code></pre>\n"}],"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25545956,"answer_count":4,"score":2,"last_activity_date":1667208279,"creation_date":1409156124,"question_id":25532155,"body_markdown":"I&#39;m using java.util.logging on GlassFish 4.\r\n\r\nI&#39;m defining my own class to initialize the `LogManager` by defining the System property: \r\n`-Djava.util.logging.config.class`.\r\n\r\nMy class loads the `logging.properties` file, merges it with some other property file and does some custom replacement.\r\n\r\nThe following is the relevant part of my `logging.properties` file:\r\n\r\n    java.util.logging.FileHandler.pattern=C:/Work/server/glassfish/domains/domain1/logs/JMSFileHandler%g.log\r\n    java.util.logging.FileHandler.limit=2000000\r\n    java.util.logging.FileHandler.count=20\r\n    java.util.logging.FileHandler.append=true\r\n    java.util.logging.FileHandler.level=ALL\r\n    java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter\r\n    java.util.logging.SimpleFormatter.format=%1$tY:%1$tm:%1$td %1$tH:%1$tM:%1$tS|%4$s: %2$s%n%5$s%n%6$s%n\r\n\r\nI&#39;m using the standard `FileHandler` and configuring it to use the `SimpleFormatter` as the formatter.\r\n\r\nBut the `java.util.logging.SimpleFormatter.format` String is being totally ignored. Instead SimpleFormatter uses its default format.\r\n\r\nWhere did I go wrong?","title":"SimpleFormatter ignoring the java.util.logging.SimpleFormatter.format property","body":"<p>I'm using java.util.logging on GlassFish 4.</p>\n\n<p>I'm defining my own class to initialize the <code>LogManager</code> by defining the System property: \n<code>-Djava.util.logging.config.class</code>.</p>\n\n<p>My class loads the <code>logging.properties</code> file, merges it with some other property file and does some custom replacement.</p>\n\n<p>The following is the relevant part of my <code>logging.properties</code> file:</p>\n\n<pre><code>java.util.logging.FileHandler.pattern=C:/Work/server/glassfish/domains/domain1/logs/JMSFileHandler%g.log\njava.util.logging.FileHandler.limit=2000000\njava.util.logging.FileHandler.count=20\njava.util.logging.FileHandler.append=true\njava.util.logging.FileHandler.level=ALL\njava.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter\njava.util.logging.SimpleFormatter.format=%1$tY:%1$tm:%1$td %1$tH:%1$tM:%1$tS|%4$s: %2$s%n%5$s%n%6$s%n\n</code></pre>\n\n<p>I'm using the standard <code>FileHandler</code> and configuring it to use the <code>SimpleFormatter</code> as the formatter.</p>\n\n<p>But the <code>java.util.logging.SimpleFormatter.format</code> String is being totally ignored. Instead SimpleFormatter uses its default format.</p>\n\n<p>Where did I go wrong?</p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1666341210,"post_id":74145945,"comment_id":130918725,"body_markdown":"For what type of operator(s) do you want to clear the state?","body":"For what type of operator(s) do you want to clear the state?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666362445,"post_id":74145945,"comment_id":130926060,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1666377187,"post_id":74145945,"comment_id":130930899,"body_markdown":"Would it be enough to restart the job (thereby dropping all the state) every day at 00:00?","body":"Would it be enough to restart the job (thereby dropping all the state) every day at 00:00?"},{"owner":{"account_id":15163625,"reputation":35,"user_id":10941865,"display_name":"Alexey Lvov"},"score":0,"creation_date":1667076158,"post_id":74145945,"comment_id":131086586,"body_markdown":"Hi David! Thank you for your answers. The problem is I have to keep some data in state that defined in (co)process operator. This data expire every 24h. I heard about TTL config for state description but I didn&#39;t found any related parameters for my problem. Hope I was clear.","body":"Hi David! Thank you for your answers. The problem is I have to keep some data in state that defined in (co)process operator. This data expire every 24h. I heard about TTL config for state description but I didn&#39;t found any related parameters for my problem. Hope I was clear."},{"owner":{"account_id":15163625,"reputation":35,"user_id":10941865,"display_name":"Alexey Lvov"},"score":0,"creation_date":1667151164,"post_id":74145945,"comment_id":131097741,"body_markdown":"There is another case: let&#39;s suppose we want to catch some event twice within 24 hours, for example, user log in. At first user is logging in at 14:00 then he&#39;s logging in at 21:00. That&#39;s the trigger. But if we just restart the job every day at 18:00 all our state is dropping and we will not catch that trigger.","body":"There is another case: let&#39;s suppose we want to catch some event twice within 24 hours, for example, user log in. At first user is logging in at 14:00 then he&#39;s logging in at 21:00. That&#39;s the trigger. But if we just restart the job every day at 18:00 all our state is dropping and we will not catch that trigger."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667207926,"creation_date":1667207926,"answer_id":74261103,"question_id":74145945,"body_markdown":"Flink provides two mechanisms that can be used to clear state. One is to rely on the [state time-to-live](https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/fault-tolerance/state/#state-time-to-live-ttl) mechanism, and the other is to use timers with a keyed(co)process function.\r\n\r\nPerhaps the following would meet your needs:\r\n\r\n* set a processing-time timer every time state is created\r\n* clear the state when the timer fires\r\n\r\nThe problem with this idea is that you&#39;ll have a timer storm if all of the timers fire at the same time (e.g., midnight). This could cause operational headaches, such as checkpoint timeouts. It might be better to stagger the state expiry somewhat, by adding some per-key jitter to the timers.\r\n\r\nAnother solution would be to take a savepoint, and run a state-cleanup job that uses the [state processor api](https://nightlies.apache.org/flink/flink-docs-stable/docs/libs/state_processor_api/) to selectively drop state from the savepoint, and then restart the primary job from the modified savepoint.","title":"How to clean up Flink state at specific time?","body":"<p>Flink provides two mechanisms that can be used to clear state. One is to rely on the <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/fault-tolerance/state/#state-time-to-live-ttl\" rel=\"nofollow noreferrer\">state time-to-live</a> mechanism, and the other is to use timers with a keyed(co)process function.</p>\n<p>Perhaps the following would meet your needs:</p>\n<ul>\n<li>set a processing-time timer every time state is created</li>\n<li>clear the state when the timer fires</li>\n</ul>\n<p>The problem with this idea is that you'll have a timer storm if all of the timers fire at the same time (e.g., midnight). This could cause operational headaches, such as checkpoint timeouts. It might be better to stagger the state expiry somewhat, by adding some per-key jitter to the timers.</p>\n<p>Another solution would be to take a savepoint, and run a state-cleanup job that uses the <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/libs/state_processor_api/\" rel=\"nofollow noreferrer\">state processor api</a> to selectively drop state from the savepoint, and then restart the primary job from the modified savepoint.</p>\n"}],"owner":{"account_id":15163625,"reputation":35,"user_id":10941865,"display_name":"Alexey Lvov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74261103,"answer_count":1,"score":0,"last_activity_date":1667207926,"creation_date":1666297527,"question_id":74145945,"body_markdown":"Is there any way to clean up the state at specific time in Flink? For example, I need to renew state at 0:00 every day. Some elements come earlier, some later. But all of this should be erased at the end of day. \r\nDoes provide API some schedule mechanism to do so? \r\nOr how to clean up whole operator state manually at the worst?\r\n","title":"How to clean up Flink state at specific time?","body":"<p>Is there any way to clean up the state at specific time in Flink? For example, I need to renew state at 0:00 every day. Some elements come earlier, some later. But all of this should be erased at the end of day.\nDoes provide API some schedule mechanism to do so?\nOr how to clean up whole operator state manually at the worst?</p>\n"},{"tags":["java","android","bitmap","base64"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1600029775,"post_id":63875222,"comment_id":112952433,"body_markdown":"please provide a full example of your data, I would like to try your code by myself","body":"please provide a full example of your data, I would like to try your code by myself"},{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":1,"creation_date":1600030144,"post_id":63875222,"comment_id":112952540,"body_markdown":"You might need to convert `data:[...]` array to characters then use it","body":"You might need to convert <code>data:[...]</code> array to characters then use it"},{"owner":{"account_id":13627286,"reputation":91,"user_id":9830226,"display_name":"Benjamin Kararic"},"score":0,"creation_date":1600030516,"post_id":63875222,"comment_id":112952646,"body_markdown":"I cant print the full data array since its far to long and only a part of it shows up. i think its up to 32k bytes. I will convert the array into a string of chars then and then decode","body":"I cant print the full data array since its far to long and only a part of it shows up. i think its up to 32k bytes. I will convert the array into a string of chars then and then decode"},{"owner":{"account_id":13627286,"reputation":91,"user_id":9830226,"display_name":"Benjamin Kararic"},"score":0,"creation_date":1600031735,"post_id":63875222,"comment_id":112952928,"body_markdown":"Solved, you needed to convert the byte array into a string of chars and it works","body":"Solved, you needed to convert the byte array into a string of chars and it works"}],"answers":[{"tags":[],"owner":{"account_id":25905807,"reputation":66,"user_id":19630914,"display_name":"Azmal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667207534,"creation_date":1667207534,"answer_id":74261023,"question_id":63875222,"body_markdown":"    decode base_64 string Imgae in codigneter\r\n    $\r\n\r\n    aadharcard_front = image name(database)\r\n\r\n     if(!empty($aadharcard_front))\r\n        {\r\n            $aadharcard_front = base64_decode($aadharcard_front);\r\n            $aadharcard_front_time = time().&#39;.png&#39;;\r\n            file_put_contents(APPPATH.&#39;../media/uploads/&#39;.$aadharcard_front_time,$aadharcard_front);\r\n            $user_data[&#39;aadharcard_front&#39;] = $aadharcard_front_time;\r\n        }","title":"Trying to display image retrived from server with base64 encoding but cant display the correct image","body":"<pre><code>decode base_64 string Imgae in codigneter\n$\n\naadharcard_front = image name(database)\n\n if(!empty($aadharcard_front))\n    {\n        $aadharcard_front = base64_decode($aadharcard_front);\n        $aadharcard_front_time = time().'.png';\n        file_put_contents(APPPATH.'../media/uploads/'.$aadharcard_front_time,$aadharcard_front);\n        $user_data['aadharcard_front'] = $aadharcard_front_time;\n    }\n</code></pre>\n"}],"owner":{"account_id":13627286,"reputation":91,"user_id":9830226,"display_name":"Benjamin Kararic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667207534,"creation_date":1600028606,"question_id":63875222,"body_markdown":"These are my encoding and decoding methods.\r\n\r\n   \r\n    public String encodeBase64(Bitmap bit){\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        bit.compress(Bitmap.CompressFormat.PNG, 100, baos); // Could be Bitmap.CompressFormat.PNG or Bitmap.CompressFormat.WEBP\r\n        byte[] bai = baos.toByteArray();\r\n\r\n        return Base64.encodeToString(bai, Base64.DEFAULT);\r\n    }\r\n    public Bitmap decodeBase64(String base64Image){\r\n        byte[] data = Base64.decode(base64Image, Base64.DEFAULT);\r\n        Bitmap bm;\r\n        BitmapFactory.Options opt = new BitmapFactory.Options();\r\n        opt.inMutable = true;\r\n        bm = BitmapFactory.decodeByteArray(data, 0, data.length, opt);\r\n        return bm;\r\n    }\r\n\r\n\r\nThis is encoded data from a bitmap\r\n\r\n    iVBORw0KGgoAAAANSUhEUgAABLAAAAdcCAYAAAC7T3KrAAAABHNCSVQICAgIfAhkiAAAIABJREFU\r\n    eJzswQEBAAAAgJD+r+4ICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\n    AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\n    AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\n    AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA.... etc\r\n\r\nBut the data i get from the server looks like this\r\n\r\n    {&quot;type&quot;:&quot;Buffer&quot;,&quot;data&quot;:[105,86,66,79,82,119,48,75,71,103,111,65,65,65,... etc\r\n\r\nI can get pure data or the type and data json object. Ive tried to decode both. When i try to decode with the type and data it gives me a null bitmap, when i decode the raw data only the image is not displayed, but nothing seems to crash.\r\n\r\nDo i need to retrive all those array numbers and convert them to chars before decoding? Ive read other post and it sounded very straigtforward, just encode and then decode.","title":"Trying to display image retrived from server with base64 encoding but cant display the correct image","body":"<p>These are my encoding and decoding methods.</p>\n<pre><code>public String encodeBase64(Bitmap bit){\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    bit.compress(Bitmap.CompressFormat.PNG, 100, baos); // Could be Bitmap.CompressFormat.PNG or Bitmap.CompressFormat.WEBP\n    byte[] bai = baos.toByteArray();\n\n    return Base64.encodeToString(bai, Base64.DEFAULT);\n}\npublic Bitmap decodeBase64(String base64Image){\n    byte[] data = Base64.decode(base64Image, Base64.DEFAULT);\n    Bitmap bm;\n    BitmapFactory.Options opt = new BitmapFactory.Options();\n    opt.inMutable = true;\n    bm = BitmapFactory.decodeByteArray(data, 0, data.length, opt);\n    return bm;\n}\n</code></pre>\n<p>This is encoded data from a bitmap</p>\n<pre><code>iVBORw0KGgoAAAANSUhEUgAABLAAAAdcCAYAAAC7T3KrAAAABHNCSVQICAgIfAhkiAAAIABJREFU\neJzswQEBAAAAgJD+r+4ICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA.... etc\n</code></pre>\n<p>But the data i get from the server looks like this</p>\n<pre><code>{&quot;type&quot;:&quot;Buffer&quot;,&quot;data&quot;:[105,86,66,79,82,119,48,75,71,103,111,65,65,65,... etc\n</code></pre>\n<p>I can get pure data or the type and data json object. Ive tried to decode both. When i try to decode with the type and data it gives me a null bitmap, when i decode the raw data only the image is not displayed, but nothing seems to crash.</p>\n<p>Do i need to retrive all those array numbers and convert them to chars before decoding? Ive read other post and it sounded very straigtforward, just encode and then decode.</p>\n"},{"tags":["java","runtime-error"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":1,"creation_date":1667164443,"post_id":74256258,"comment_id":131100583,"body_markdown":"It would help if you told us what DiscordUtils package you&#39;re using and is throwing the error or how you determined that part of the code is the issue.","body":"It would help if you told us what DiscordUtils package you&#39;re using and is throwing the error or how you determined that part of the code is the issue."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667207315,"creation_date":1667207315,"answer_id":74260978,"question_id":74256258,"body_markdown":"Repeated invocations of array&#39;s `length` seem to occur in the loop:\r\n```java\r\n    for (byte[] bytes : userBytes) {\r\n        length += bytes.length;\r\n    }\r\n```\r\nIt is likely that the list `userBytes` contains some `null` values therefore you should just add a null check when calculating the `length` and populating `decodedData`:\r\n```\r\n    for (byte[] bytes : userBytes) {\r\n        if (null != bytes) {\r\n            length += bytes.length;\r\n        }\r\n    }\r\n\r\n    byte[] decodedData = new byte[length];\r\n\r\n    int i = 0;\r\n\r\n    for (byte[] bytes : userBytes) {\r\n        if (null != bytes) {\r\n            for (byte sampleByte : bytes) {\r\n                decodedData[i++] = sampleByte;\r\n            }\r\n        }\r\n    }\r\n```","title":"Java Strange error while running the program","body":"<p>Repeated invocations of array's <code>length</code> seem to occur in the loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (byte[] bytes : userBytes) {\n        length += bytes.length;\n    }\n</code></pre>\n<p>It is likely that the list <code>userBytes</code> contains some <code>null</code> values therefore you should just add a null check when calculating the <code>length</code> and populating <code>decodedData</code>:</p>\n<pre><code>    for (byte[] bytes : userBytes) {\n        if (null != bytes) {\n            length += bytes.length;\n        }\n    }\n\n    byte[] decodedData = new byte[length];\n\n    int i = 0;\n\n    for (byte[] bytes : userBytes) {\n        if (null != bytes) {\n            for (byte sampleByte : bytes) {\n                decodedData[i++] = sampleByte;\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667207315,"creation_date":1667159305,"question_id":74256258,"body_markdown":"I ran into a strange error. I don&#39;t know why it occurs. It doesn&#39;t crash the program, it just returns some strange messages to the console. It usually shows up when the program is running for the first time (I mean: the method where the error occurs is executed the first time). I have never experienced anything like this, I will be grateful for your help!\r\n\r\nError message in console:\r\n\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/WARN]: Nag author(s): &#39;[Adixe]&#39; of &#39;DiscordUtils&#39; about their usage of System.out/err.print. Please use your plugin&#39;s logger instead (JavaPlugin#getLogger).\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n    [20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n\r\nProblematic code fragment:\r\n\r\n```java\r\n\r\nArrayList&lt;byte[]&gt; userBytes = userAudioData.getBytes();\r\n\r\nif (userBytes.size() &lt;=\r\n        settings.getInt(&quot;MaxLength&quot;) * 50) {\r\n    User user = userAudioData.getUser();\r\n\r\n    int length = 0;\r\n\r\n    for (byte[] bytes : userBytes) {\r\n        length += bytes.length;\r\n    }\r\n\r\n    byte[] decodedData = new byte[length];\r\n\r\n    int i = 0;\r\n\r\n    for (byte[] bytes : userBytes) {\r\n        for (byte sampleByte : bytes) {\r\n            decodedData[i++] = sampleByte;\r\n        }\r\n    }\r\n\r\n    File file = new File(instance.getDataFolder().getAbsolutePath() + &quot;/temp/&quot; + user.getId() + &quot;.wav&quot;);\r\n\r\n    try {\r\n        AudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData),\r\n                        AudioReceiveHandler.OUTPUT_FORMAT, decodedData.length),\r\n                AudioFileFormat.Type.WAVE, file);\r\n    } catch (IOException exception) {\r\n        exception.printStackTrace();\r\n    }\r\n\r\n    //By deduction I figured out that an error could appear on this line:\r\n    SpeechConfig speechConfig = SpeechConfig.fromSubscription(\r\n            settings.getString(&quot;ApiKey&quot;),\r\n            settings.getString(&quot;ApiRegion&quot;));\r\n\r\n    speechConfig.setSpeechRecognitionLanguage(\r\n            settings.getString(&quot;Language&quot;));\r\n\r\n    AudioConfig audioConfig = AudioConfig.fromWavFileInput(file.getAbsolutePath());\r\n\r\n    SpeechRecognizer recognizer = new SpeechRecognizer(speechConfig, audioConfig);\r\n\r\n    try {\r\n        SpeechRecognitionResult result = recognizer.recognizeOnceAsync().get();\r\n\r\n        Logger.info(&quot;RECOGNIZED: &quot; + result.getText());\r\n\r\n        if (!file.delete())\r\n            Logger.warn(&quot;Cannot delete temporary file &quot; + file.getName() + &quot;.&quot;);\r\n    } catch (Exception exception) {\r\n        exception.printStackTrace();\r\n    }\r\n}\r\n\r\nuserAudioData.clear();\r\n```\r\n\r\nHow to fix it?","title":"Java Strange error while running the program","body":"<p>I ran into a strange error. I don't know why it occurs. It doesn't crash the program, it just returns some strange messages to the console. It usually shows up when the program is running for the first time (I mean: the method where the error occurs is executed the first time). I have never experienced anything like this, I will be grateful for your help!</p>\n<p>Error message in console:</p>\n<pre><code>[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/WARN]: Nag author(s): '[Adixe]' of 'DiscordUtils' about their usage of System.out/err.print. Please use your plugin's logger instead (JavaPlugin#getLogger).\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n[20:19:01] [Craft Scheduler Thread - 696 - DiscordUtils/ERROR]: [DiscordUtils] [STDERR] Could not detect EOL Linux Distribution because of the following error: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n</code></pre>\n<p>Problematic code fragment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nArrayList&lt;byte[]&gt; userBytes = userAudioData.getBytes();\n\nif (userBytes.size() &lt;=\n        settings.getInt(&quot;MaxLength&quot;) * 50) {\n    User user = userAudioData.getUser();\n\n    int length = 0;\n\n    for (byte[] bytes : userBytes) {\n        length += bytes.length;\n    }\n\n    byte[] decodedData = new byte[length];\n\n    int i = 0;\n\n    for (byte[] bytes : userBytes) {\n        for (byte sampleByte : bytes) {\n            decodedData[i++] = sampleByte;\n        }\n    }\n\n    File file = new File(instance.getDataFolder().getAbsolutePath() + &quot;/temp/&quot; + user.getId() + &quot;.wav&quot;);\n\n    try {\n        AudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData),\n                        AudioReceiveHandler.OUTPUT_FORMAT, decodedData.length),\n                AudioFileFormat.Type.WAVE, file);\n    } catch (IOException exception) {\n        exception.printStackTrace();\n    }\n\n    //By deduction I figured out that an error could appear on this line:\n    SpeechConfig speechConfig = SpeechConfig.fromSubscription(\n            settings.getString(&quot;ApiKey&quot;),\n            settings.getString(&quot;ApiRegion&quot;));\n\n    speechConfig.setSpeechRecognitionLanguage(\n            settings.getString(&quot;Language&quot;));\n\n    AudioConfig audioConfig = AudioConfig.fromWavFileInput(file.getAbsolutePath());\n\n    SpeechRecognizer recognizer = new SpeechRecognizer(speechConfig, audioConfig);\n\n    try {\n        SpeechRecognitionResult result = recognizer.recognizeOnceAsync().get();\n\n        Logger.info(&quot;RECOGNIZED: &quot; + result.getText());\n\n        if (!file.delete())\n            Logger.warn(&quot;Cannot delete temporary file &quot; + file.getName() + &quot;.&quot;);\n    } catch (Exception exception) {\n        exception.printStackTrace();\n    }\n}\n\nuserAudioData.clear();\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1666876526,"post_id":74222620,"comment_id":131042460,"body_markdown":"Just iterate through the string (or use `indexOf`) while keeping track how many `.` you have already encountered, then save the start and end index you need for the call to `substring` - that shouldn&#39;t be more than a few lines of code to do","body":"Just iterate through the string (or use <code>indexOf</code>) while keeping track how many <code>.</code> you have already encountered, then save the start and end index you need for the call to <code>substring</code> - that shouldn&#39;t be more than a few lines of code to do"},{"owner":{"account_id":26674289,"reputation":13,"user_id":20285291,"display_name":"Aashi "},"score":0,"creation_date":1666877468,"post_id":74222620,"comment_id":131042833,"body_markdown":"yes you are correct but the problem is after 3 dots(.) the name starts and in some cases there is (.) present in names also, so by this it would be difficult to determine the name. I have added some more examples. i need something like after 3 dots and before dom/cdc/int.","body":"yes you are correct but the problem is after 3 dots(.) the name starts and in some cases there is (.) present in names also, so by this it would be difficult to determine the name. I have added some more examples. i need something like after 3 dots and before dom/cdc/int."},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1666878073,"post_id":74222620,"comment_id":131043081,"body_markdown":"That doesn&#39;t really make it that much more complicated, you just need to have a different condition to find the end index after you found the first 3 dots for the start index. So then you&#39;d continue iterating until you find one of `.dom`/`.cdc`/whatever else you use as delimiter","body":"That doesn&#39;t really make it that much more complicated, you just need to have a different condition to find the end index after you found the first 3 dots for the start index. So then you&#39;d continue iterating until you find one of <code>.dom</code>/<code>.cdc</code>/whatever else you use as delimiter"},{"owner":{"account_id":26674289,"reputation":13,"user_id":20285291,"display_name":"Aashi "},"score":0,"creation_date":1666944844,"post_id":74222620,"comment_id":131058940,"body_markdown":"Thanks @UnholySheep I used your approach with Bentaye approach of suffix, I think it can work now I just have to run some test cases.","body":"Thanks @UnholySheep I used your approach with Bentaye approach of suffix, I think it can work now I just have to run some test cases."}],"answers":[{"tags":[],"owner":{"account_id":12886241,"reputation":657,"user_id":9319615,"display_name":"Waxhaw"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666878284,"creation_date":1666877816,"answer_id":74223015,"question_id":74222620,"body_markdown":"If it were me, I would use the split function that returns an array of elements like so:\r\n\r\n    String target = &quot;dev.ca.ind.clientaddress-completed-events.dom.0.ind-isl-clientaddress-completed.dlq&quot;    \r\n    String keyTokens = target.split(&quot;.&quot;)\r\n\r\nThat will give you a keyTokens array of items like so:\r\n&quot;dev&quot;\r\n&quot;ca&quot;\r\n&quot;ind&quot;\r\n&quot;clientaddress-completed-events&quot;\r\n&quot;dom&quot;\r\n&quot;0&quot;\r\n&quot;ind-isl-clientaddress-completed&quot;\r\n&quot;dlq&quot;\r\n\r\nThen walk the array looking for the first String where &quot;isInteger&quot; returns true.\r\n","title":"Getting substring from a string after and before particular characters","body":"<p>If it were me, I would use the split function that returns an array of elements like so:</p>\n<pre><code>String target = &quot;dev.ca.ind.clientaddress-completed-events.dom.0.ind-isl-clientaddress-completed.dlq&quot;    \nString keyTokens = target.split(&quot;.&quot;)\n</code></pre>\n<p>That will give you a keyTokens array of items like so:\n&quot;dev&quot;\n&quot;ca&quot;\n&quot;ind&quot;\n&quot;clientaddress-completed-events&quot;\n&quot;dom&quot;\n&quot;0&quot;\n&quot;ind-isl-clientaddress-completed&quot;\n&quot;dlq&quot;</p>\n<p>Then walk the array looking for the first String where &quot;isInteger&quot; returns true.</p>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667207232,"creation_date":1666878851,"answer_id":74223257,"question_id":74222620,"body_markdown":"remove `dev.ca.` then everything up to the next dot, included:\r\n\r\n    private static String removePrefix(String s) {\r\n        String noPrefix = s.substring(7); // remove `dev.ca.`\r\n        return noPrefix.substring(noPrefix.indexOf(&#39;.&#39;)+1);\r\n    }\r\n\r\nThen get the substring of the remaining string up to one the expected end token:\r\n\r\n    private static String removeSuffix(String s) {\r\n        return Stream.of(&quot;.dom.&quot;, &quot;.raw.&quot;, &quot;.cdc.&quot;, &quot;.int.&quot;)\r\n                .filter(s::contains)\r\n                .findFirst()\r\n                .map(p -&gt; s.substring(0, s.indexOf(p)))\r\n                .orElseThrow(() -&gt; new IllegalStateException(&quot;Invalid String &#39;&quot; + s + &quot;&#39; - suffix not found&quot;));\r\n    }\r\n\r\nand do \r\n```\r\nremoveSuffix(removePrefix(s))\r\n```","title":"Getting substring from a string after and before particular characters","body":"<p>remove <code>dev.ca.</code> then everything up to the next dot, included:</p>\n<pre><code>private static String removePrefix(String s) {\n    String noPrefix = s.substring(7); // remove `dev.ca.`\n    return noPrefix.substring(noPrefix.indexOf('.')+1);\n}\n</code></pre>\n<p>Then get the substring of the remaining string up to one the expected end token:</p>\n<pre><code>private static String removeSuffix(String s) {\n    return Stream.of(&quot;.dom.&quot;, &quot;.raw.&quot;, &quot;.cdc.&quot;, &quot;.int.&quot;)\n            .filter(s::contains)\n            .findFirst()\n            .map(p -&gt; s.substring(0, s.indexOf(p)))\n            .orElseThrow(() -&gt; new IllegalStateException(&quot;Invalid String '&quot; + s + &quot;' - suffix not found&quot;));\n}\n</code></pre>\n<p>and do</p>\n<pre><code>removeSuffix(removePrefix(s))\n</code></pre>\n"}],"owner":{"account_id":26674289,"reputation":13,"user_id":20285291,"display_name":"Aashi "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667207232,"creation_date":1666876276,"question_id":74222620,"body_markdown":"I have a string of some random length (not specified as requirement).\r\n\r\nExample:\r\n\r\n```none\r\ndev.ca.ind.clientaddress-completed-events.dom.0.ind-isl-clientaddress-completed.dlq\r\n```\r\n\r\nHere, I have to skip three strings, i.e. `dev.ca.ind.` (I want what is after these strings and before this) `.dom`, i.e. `clientaddress-completed-events` (I want to fetch this string from that whole string)\r\n\r\nSecond example:\r\n\r\n```none\r\ndev.ca.ind.insurance.client.insurance.dom.0\r\n```\r\n\r\nI want to fetch `insurance.client.insurance` after `ind` and before `dom` and also this `ind` can also be `gb`,`grs`,`all`,`ind`. And `dom` can also be `raw`,`cdc`.\r\n\r\nHow do I do this? I am unable to get idea on how to do this.\r\n\r\nI have tried splitting these string with &quot;.&quot; but pattern is different for some string as shown in example and this is creating some bugs, so I thought of this way, but wasn&#39;t able to implement. \r\n\r\n```\r\nString[] splitName = topics.get(PROJECT+i).get(TOPIC_NAME).split(&quot;\\\\.&quot;);\r\n```\r\nbut it was not good as I have to assign substrings using hardcoded index values, e.g. `ss.set(splitName[2]+splitName[3])`.\r\n\r\n\r\nSome more examples:\r\n\r\n```none\r\ndev.ca.xfunc.cxo.rawleads.dom.0 - get &quot;cxo.rawleads&quot;\r\ndev.ca.epm.ceapm.zab.dom.0 - get &quot;ceapm.zab&quot;\r\ndev.ca.ind.cx.talas.cdc.0 - get &quot;cx.talas&quot;\r\ndev.ca.cif.source-system-client.dom.0 -get &quot;source-system-client&quot;\r\n\r\ndev.ca.gb.claim.providers.int.0 -get &quot;claim.providers&quot;\r\n```\r\n","title":"Getting substring from a string after and before particular characters","body":"<p>I have a string of some random length (not specified as requirement).</p>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>dev.ca.ind.clientaddress-completed-events.dom.0.ind-isl-clientaddress-completed.dlq\n</code></pre>\n<p>Here, I have to skip three strings, i.e. <code>dev.ca.ind.</code> (I want what is after these strings and before this) <code>.dom</code>, i.e. <code>clientaddress-completed-events</code> (I want to fetch this string from that whole string)</p>\n<p>Second example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>dev.ca.ind.insurance.client.insurance.dom.0\n</code></pre>\n<p>I want to fetch <code>insurance.client.insurance</code> after <code>ind</code> and before <code>dom</code> and also this <code>ind</code> can also be <code>gb</code>,<code>grs</code>,<code>all</code>,<code>ind</code>. And <code>dom</code> can also be <code>raw</code>,<code>cdc</code>.</p>\n<p>How do I do this? I am unable to get idea on how to do this.</p>\n<p>I have tried splitting these string with &quot;.&quot; but pattern is different for some string as shown in example and this is creating some bugs, so I thought of this way, but wasn't able to implement.</p>\n<pre><code>String[] splitName = topics.get(PROJECT+i).get(TOPIC_NAME).split(&quot;\\\\.&quot;);\n</code></pre>\n<p>but it was not good as I have to assign substrings using hardcoded index values, e.g. <code>ss.set(splitName[2]+splitName[3])</code>.</p>\n<p>Some more examples:</p>\n<pre class=\"lang-none prettyprint-override\"><code>dev.ca.xfunc.cxo.rawleads.dom.0 - get &quot;cxo.rawleads&quot;\ndev.ca.epm.ceapm.zab.dom.0 - get &quot;ceapm.zab&quot;\ndev.ca.ind.cx.talas.cdc.0 - get &quot;cx.talas&quot;\ndev.ca.cif.source-system-client.dom.0 -get &quot;source-system-client&quot;\n\ndev.ca.gb.claim.providers.int.0 -get &quot;claim.providers&quot;\n</code></pre>\n"},{"tags":["java","graphics2d"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667207669,"post_id":74260957,"comment_id":131107519,"body_markdown":"If you are developing for Android, then your question is answered by this: https://stackoverflow.com/questions/33210065.  If not, perhaps you have somehow managed to accidentally select / configure an Android &quot;JDK&quot;?   Or perhaps you need to reset your IDE?","body":"If you are developing for Android, then your question is answered by this: <a href=\"https://stackoverflow.com/questions/33210065\">stackoverflow.com/questions/33210065</a>.  If not, perhaps you have somehow managed to accidentally select / configure an Android &quot;JDK&quot;?   Or perhaps you need to reset your IDE?"},{"owner":{"account_id":23478412,"reputation":11,"user_id":17823020,"display_name":"aLaskevic"},"score":0,"creation_date":1667208187,"post_id":74260957,"comment_id":131107672,"body_markdown":"First, thanks for your answer. :)\nI dont develope for android. I created a &quot;Dynamic Web Project&quot; and I&#39;m not sure if i missconfigure something.","body":"First, thanks for your answer. :) I dont develope for android. I created a &quot;Dynamic Web Project&quot; and I&#39;m not sure if i missconfigure something."}],"owner":{"account_id":23478412,"reputation":11,"user_id":17823020,"display_name":"aLaskevic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667207202,"creation_date":1667207202,"question_id":74260957,"body_markdown":"I&#39;m trying to use the BufferedImage datatype.\r\nThe normal path would be &quot;java.awt.image.BufferedImage&quot; but im finding only &quot;java.awt&quot;.\r\nI&#39;m using eclipse 2021-09 as my IDE with the JDK11 version.\r\n\r\n\r\n","title":"Java error &quot;BufferedImage cannot be resolved to a type&quot;","body":"<p>I'm trying to use the BufferedImage datatype.\nThe normal path would be &quot;java.awt.image.BufferedImage&quot; but im finding only &quot;java.awt&quot;.\nI'm using eclipse 2021-09 as my IDE with the JDK11 version.</p>\n"},{"tags":["java","xml","xsd"],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667206948,"creation_date":1667206948,"answer_id":74260906,"question_id":74221350,"body_markdown":"In order to validate an XML using namespaces, that XML must be parsed with namespaces in mind. Here, this means that `DocumentBuilderFactory` must be set to be aware of namespaces.\r\n\r\n```java\r\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\nfactory.setNamespaceAware(true); // default is &#39;false&#39;\r\n```\r\n\r\nOtherwise I guess the parser simply ignores this information, which in turn makes them unavailable for the schema validator.","title":"cvc-elt.1.a: Cannot find the declaration of element &#39;core:configuration&#39;","body":"<p>In order to validate an XML using namespaces, that XML must be parsed with namespaces in mind. Here, this means that <code>DocumentBuilderFactory</code> must be set to be aware of namespaces.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setNamespaceAware(true); // default is 'false'\n</code></pre>\n<p>Otherwise I guess the parser simply ignores this information, which in turn makes them unavailable for the schema validator.</p>\n"}],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74260906,"answer_count":1,"score":0,"last_activity_date":1667206948,"creation_date":1666870194,"question_id":74221350,"body_markdown":"# Abstract\r\n\r\nIn the project I am currently working on, I have multiple modules, each defining an XSD file. When loading a configuration I plan to locate these XSD files programmatically and then validate the configuration using [`SchemaFactory.newSchema(Source[])`](https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/validation/SchemaFactory.html#newSchema(javax.xml.transform.Source%5B%5D)), for example\r\n\r\n```\r\npublic void validate(Document document, InputStream... schemas) throws Exception {\r\n    Source[] sources = new Source[schemas.length];\r\n    for (int i = 0; i &lt; schemas.length; i++) {\r\n        sources[i] = new StreamSource(schemas[i]);\r\n    }\r\n    SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n    Schema schema = factory.newSchema(sources);\r\n    schema.newValidator().validate(new DOMSource(document.getDocumentElement()));\r\n}\r\n```\r\n\r\nUp until now I followed [this](https://stackoverflow.com/q/20169251/7525132) Stack Overflow post, but in order to use the aforementioned method, I think I need to build the references using different namespaces.\r\n\r\n&gt; The resulting schema contains components from the specified sources. The same result would be achieved if all these sources were imported, using appropriate values for schemaLocation and namespace, into a single schema document with a different targetNamespace and no components of its own, if the import elements were given in the same order as the sources.\r\n\r\n# Test\r\n\r\nWith **core.xsd** I define the static structure of the configuration.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsd:schema \r\n        xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:core=&quot;http://web.com/core&quot;\r\n        targetNamespace=&quot;http://web.com/core&quot;&gt;\r\n    &lt;xsd:element name=&quot;configuration&quot; type=&quot;core:configuration&quot; /&gt;\r\n    &lt;xsd:complexType name=&quot;configuration&quot;&gt;\r\n        &lt;xsd:sequence&gt;\r\n            &lt;!-- other elements --&gt;\r\n            &lt;xsd:element maxOccurs=&quot;unbounded&quot; name=&quot;agent&quot; type=&quot;core:agent&quot; /&gt;\r\n        &lt;/xsd:sequence&gt;\r\n    &lt;/xsd:complexType&gt;\r\n    &lt;xsd:complexType name=&quot;agent&quot;&gt;\r\n        &lt;xsd:sequence&gt;\r\n            &lt;!-- other elements --&gt;\r\n            &lt;xsd:element ref=&quot;core:agentImpl&quot; /&gt;\r\n        &lt;/xsd:sequence&gt;\r\n        &lt;!--  attributes --&gt;\r\n    &lt;/xsd:complexType&gt;\r\n    &lt;xsd:element name=&quot;agentImpl&quot; type=&quot;core:agentImpl&quot; /&gt;\r\n    &lt;xsd:complexType name=&quot;agentImpl&quot; abstract=&quot;true&quot; /&gt;\r\n&lt;/xsd:schema&gt;\r\n```\r\n\r\nWith **ext.xsd** I add implementations for the child element under `agent`. In this example, I add two agents using one XSD file, but later on, such agent definitions should be separated into several `ext-*.xsd` files.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsd:schema\r\n        xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:core=&quot;http://web.com/core&quot;\r\n        xmlns:ext=&quot;http://web.com/ext&quot;\r\n        targetNamespace=&quot;http://web.com/ext&quot;&gt;\r\n    &lt;xsd:import namespace=&quot;http://web.com/core&quot; schemaLocation=&quot;core.xsd&quot; /&gt;\r\n    &lt;xsd:element name=&quot;file-mover&quot; type=&quot;ext:file-mover&quot; substitutionGroup=&quot;core:agentImpl&quot; /&gt;\r\n    &lt;xsd:complexType name=&quot;file-mover&quot;&gt;\r\n        &lt;xsd:complexContent&gt;\r\n            &lt;xsd:extension base=&quot;core:agentImpl&quot;&gt;\r\n                &lt;!-- implementation-specific stuff --&gt;\r\n            &lt;/xsd:extension&gt;\r\n        &lt;/xsd:complexContent&gt;\r\n    &lt;/xsd:complexType&gt;\r\n    &lt;xsd:element name=&quot;junction&quot; type=&quot;ext:junction&quot; substitutionGroup=&quot;core:agentImpl&quot; /&gt;\r\n    &lt;xsd:complexType name=&quot;junction&quot;&gt;\r\n        &lt;xsd:complexContent&gt;\r\n            &lt;xsd:extension base=&quot;core:agentImpl&quot;&gt;\r\n                &lt;!-- implementation-specific stuff --&gt;\r\n            &lt;/xsd:extension&gt;\r\n        &lt;/xsd:complexContent&gt;\r\n    &lt;/xsd:complexType&gt;\r\n&lt;/xsd:schema&gt;\r\n```\r\n\r\n---\r\n\r\nHowever, when testing this setup with\r\n\r\n```\r\n@Test\r\nvoid singleExtension() throws Exception {\r\n    try (InputStream docIn = getClass().getResourceAsStream(&quot;configuration.xml&quot;);\r\n         InputStream coreIn = getClass().getResourceAsStream(&quot;core.xsd&quot;);\r\n         InputStream extIn = getClass().getResourceAsStream(&quot;ext.xsd&quot;)) {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        Document document = builder.parse(new StreamSource(docIn));\r\n        validate(document, coreIn, extIn);\r\n    }\r\n}\r\n```\r\n\r\nand **configuration.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;core:configuration xmlns:core=&quot;http://web.com/core&quot; xmlns:ext=&quot;http://web.com/ext&quot;&gt;\r\n    &lt;agent&gt;\r\n        &lt;ext:file-mover /&gt;\r\n    &lt;/agent&gt;\r\n    &lt;agent&gt;\r\n        &lt;ext:junction /&gt;\r\n    &lt;/agent&gt;\r\n&lt;/core:configuration&gt;\r\n```\r\n\r\nI get\r\n\r\n```\r\norg.xml.sax.SAXParseException; cvc-elt.1.a: Cannot find the declaration of element &#39;core:configuration&#39;.\r\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2132)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:829)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.beginNode(DOMValidatorHelper.java:276)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.validate(DOMValidatorHelper.java:243)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.validate(DOMValidatorHelper.java:189)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(ValidatorImpl.java:108)\r\n\tat java.xml/javax.xml.validation.Validator.validate(Validator.java:124)\r\n\tat com.spell.moreen.core.xsd.so.StackOverflowTest.validate(StackOverflowTest.java:27)\r\n\tat com.spell.moreen.core.xsd.so.StackOverflowTest.singleExtension(StackOverflowTest.java:38)\r\n    ... (only jupiter stuff from here on)\r\n```\r\n\r\n# Conclusion\r\n\r\nThe posts I found on Stack Overflow regarding this specific exception all resolved to some namespace declaration being wrong plus one instance where the root element was not declared but only its type.\r\n\r\nIf I add `xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;` and `xsi:schemaLocation=&quot;http://web.com/core core.xsd http://web.com/ext ext.xsd&quot;` to `configuration.xml`, eclipse can validate it just fine, so I assume the namespaces to be correct.\r\n\r\nThe root element is present with `&lt;xsd:element name=&quot;configuration&quot; type=&quot;core:configuration&quot; /&gt;` in `core.xsd`, which is always bound via `xmlns:core=&quot;...&quot;`, so I can&#39;t see anything wrong there, too.\r\n\r\nWhat am I overlooking or understanding wrong?","title":"cvc-elt.1.a: Cannot find the declaration of element &#39;core:configuration&#39;","body":"<h1>Abstract</h1>\n<p>In the project I am currently working on, I have multiple modules, each defining an XSD file. When loading a configuration I plan to locate these XSD files programmatically and then validate the configuration using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/validation/SchemaFactory.html#newSchema(javax.xml.transform.Source%5B%5D)\" rel=\"nofollow noreferrer\"><code>SchemaFactory.newSchema(Source[])</code></a>, for example</p>\n<pre><code>public void validate(Document document, InputStream... schemas) throws Exception {\n    Source[] sources = new Source[schemas.length];\n    for (int i = 0; i &lt; schemas.length; i++) {\n        sources[i] = new StreamSource(schemas[i]);\n    }\n    SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n    Schema schema = factory.newSchema(sources);\n    schema.newValidator().validate(new DOMSource(document.getDocumentElement()));\n}\n</code></pre>\n<p>Up until now I followed <a href=\"https://stackoverflow.com/q/20169251/7525132\">this</a> Stack Overflow post, but in order to use the aforementioned method, I think I need to build the references using different namespaces.</p>\n<blockquote>\n<p>The resulting schema contains components from the specified sources. The same result would be achieved if all these sources were imported, using appropriate values for schemaLocation and namespace, into a single schema document with a different targetNamespace and no components of its own, if the import elements were given in the same order as the sources.</p>\n</blockquote>\n<h1>Test</h1>\n<p>With <strong>core.xsd</strong> I define the static structure of the configuration.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsd:schema \n        xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:core=&quot;http://web.com/core&quot;\n        targetNamespace=&quot;http://web.com/core&quot;&gt;\n    &lt;xsd:element name=&quot;configuration&quot; type=&quot;core:configuration&quot; /&gt;\n    &lt;xsd:complexType name=&quot;configuration&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;!-- other elements --&gt;\n            &lt;xsd:element maxOccurs=&quot;unbounded&quot; name=&quot;agent&quot; type=&quot;core:agent&quot; /&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:complexType name=&quot;agent&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;!-- other elements --&gt;\n            &lt;xsd:element ref=&quot;core:agentImpl&quot; /&gt;\n        &lt;/xsd:sequence&gt;\n        &lt;!--  attributes --&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:element name=&quot;agentImpl&quot; type=&quot;core:agentImpl&quot; /&gt;\n    &lt;xsd:complexType name=&quot;agentImpl&quot; abstract=&quot;true&quot; /&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>With <strong>ext.xsd</strong> I add implementations for the child element under <code>agent</code>. In this example, I add two agents using one XSD file, but later on, such agent definitions should be separated into several <code>ext-*.xsd</code> files.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsd:schema\n        xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:core=&quot;http://web.com/core&quot;\n        xmlns:ext=&quot;http://web.com/ext&quot;\n        targetNamespace=&quot;http://web.com/ext&quot;&gt;\n    &lt;xsd:import namespace=&quot;http://web.com/core&quot; schemaLocation=&quot;core.xsd&quot; /&gt;\n    &lt;xsd:element name=&quot;file-mover&quot; type=&quot;ext:file-mover&quot; substitutionGroup=&quot;core:agentImpl&quot; /&gt;\n    &lt;xsd:complexType name=&quot;file-mover&quot;&gt;\n        &lt;xsd:complexContent&gt;\n            &lt;xsd:extension base=&quot;core:agentImpl&quot;&gt;\n                &lt;!-- implementation-specific stuff --&gt;\n            &lt;/xsd:extension&gt;\n        &lt;/xsd:complexContent&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:element name=&quot;junction&quot; type=&quot;ext:junction&quot; substitutionGroup=&quot;core:agentImpl&quot; /&gt;\n    &lt;xsd:complexType name=&quot;junction&quot;&gt;\n        &lt;xsd:complexContent&gt;\n            &lt;xsd:extension base=&quot;core:agentImpl&quot;&gt;\n                &lt;!-- implementation-specific stuff --&gt;\n            &lt;/xsd:extension&gt;\n        &lt;/xsd:complexContent&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<hr />\n<p>However, when testing this setup with</p>\n<pre><code>@Test\nvoid singleExtension() throws Exception {\n    try (InputStream docIn = getClass().getResourceAsStream(&quot;configuration.xml&quot;);\n         InputStream coreIn = getClass().getResourceAsStream(&quot;core.xsd&quot;);\n         InputStream extIn = getClass().getResourceAsStream(&quot;ext.xsd&quot;)) {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        Document document = builder.parse(new StreamSource(docIn));\n        validate(document, coreIn, extIn);\n    }\n}\n</code></pre>\n<p>and <strong>configuration.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;core:configuration xmlns:core=&quot;http://web.com/core&quot; xmlns:ext=&quot;http://web.com/ext&quot;&gt;\n    &lt;agent&gt;\n        &lt;ext:file-mover /&gt;\n    &lt;/agent&gt;\n    &lt;agent&gt;\n        &lt;ext:junction /&gt;\n    &lt;/agent&gt;\n&lt;/core:configuration&gt;\n</code></pre>\n<p>I get</p>\n<pre><code>org.xml.sax.SAXParseException; cvc-elt.1.a: Cannot find the declaration of element 'core:configuration'.\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2132)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:829)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.beginNode(DOMValidatorHelper.java:276)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.validate(DOMValidatorHelper.java:243)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.DOMValidatorHelper.validate(DOMValidatorHelper.java:189)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(ValidatorImpl.java:108)\n    at java.xml/javax.xml.validation.Validator.validate(Validator.java:124)\n    at com.spell.moreen.core.xsd.so.StackOverflowTest.validate(StackOverflowTest.java:27)\n    at com.spell.moreen.core.xsd.so.StackOverflowTest.singleExtension(StackOverflowTest.java:38)\n    ... (only jupiter stuff from here on)\n</code></pre>\n<h1>Conclusion</h1>\n<p>The posts I found on Stack Overflow regarding this specific exception all resolved to some namespace declaration being wrong plus one instance where the root element was not declared but only its type.</p>\n<p>If I add <code>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</code> and <code>xsi:schemaLocation=&quot;http://web.com/core core.xsd http://web.com/ext ext.xsd&quot;</code> to <code>configuration.xml</code>, eclipse can validate it just fine, so I assume the namespaces to be correct.</p>\n<p>The root element is present with <code>&lt;xsd:element name=&quot;configuration&quot; type=&quot;core:configuration&quot; /&gt;</code> in <code>core.xsd</code>, which is always bound via <code>xmlns:core=&quot;...&quot;</code>, so I can't see anything wrong there, too.</p>\n<p>What am I overlooking or understanding wrong?</p>\n"},{"tags":["java","spring","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667206894,"creation_date":1667206894,"answer_id":74260898,"question_id":74241164,"body_markdown":"**A DynamoDBMapperConfig.TableNameOverride** object—Instructs the mapper instance to ignore the table name specified by a class&#39;s DynamoDBTable annotation, and instead use a different table name that you supply. This is useful when partitioning your data into multiple tables at runtime.\r\n\r\nAre you dealing with multiple tables? Can you try removing the tableNameOverrider and see if the NPE disappears? ","title":"Error when adding custom DynamoDBMapperConfig bean to a Spring boot project","body":"<p><strong>A DynamoDBMapperConfig.TableNameOverride</strong> object—Instructs the mapper instance to ignore the table name specified by a class's DynamoDBTable annotation, and instead use a different table name that you supply. This is useful when partitioning your data into multiple tables at runtime.</p>\n<p>Are you dealing with multiple tables? Can you try removing the tableNameOverrider and see if the NPE disappears?</p>\n"}],"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667206894,"creation_date":1666993106,"question_id":74241164,"body_markdown":"I have a Spring boot project set up with JPA and Spring Data DynamoDB. I can get items from the DynamoDB table by Partition Key and the Sort key.\r\n\r\nAs the table name will be different depending on the envirnement, I tried to use a costum DynamoDBMapperConfig as below:\r\n\r\n    @Bean\r\n    public DynamoDBMapperConfig dynamoDBMapperConfig() {\r\n        return DynamoDBMapperConfig.builder()\r\n                .withTableNameOverride(tableNameOverrider()).build();\r\n    }\r\n    \r\n    private DynamoDBMapperConfig.TableNameOverride tableNameOverrider() {\r\n        return DynamoDBMapperConfig.TableNameOverride.withTableNameReplacement(&quot;mytable-dev&quot;);\r\n    }\r\n\r\nOnce I use that configuration ( or event when using just `DynamoDBMapperConfig.builder().build()` ) I get the following error:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;Object.hashCode()&quot; because &quot;key&quot; is null\r\n    at java.base/java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936) ~[na:na]\r\n    at java.base/java.util.concurrent.ConcurrentHashMap.containsKey(ConcurrentHashMap.java:964) ~[na:na]\r\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$StandardModelFactory.getTableFactory(StandardModelFactories.java:79) ~[aws-java-sdk-dynamodb-1.11.64.jar:na]\r\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.getTableModel(DynamoDBMapper.java:393) ~[aws-java-sdk-dynamodb-1.11.64.jar:na]\r\n    at org.socialsignin.spring.data.dynamodb.core.DynamoDBTemplate.getTableModel(DynamoDBTemplate.java:223) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.create(AbstractDynamoDBQueryCreator.java:69) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    at org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.create(AbstractDynamoDBQueryCreator.java:42) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n\r\n","title":"Error when adding custom DynamoDBMapperConfig bean to a Spring boot project","body":"<p>I have a Spring boot project set up with JPA and Spring Data DynamoDB. I can get items from the DynamoDB table by Partition Key and the Sort key.</p>\n<p>As the table name will be different depending on the envirnement, I tried to use a costum DynamoDBMapperConfig as below:</p>\n<pre><code>@Bean\npublic DynamoDBMapperConfig dynamoDBMapperConfig() {\n    return DynamoDBMapperConfig.builder()\n            .withTableNameOverride(tableNameOverrider()).build();\n}\n\nprivate DynamoDBMapperConfig.TableNameOverride tableNameOverrider() {\n    return DynamoDBMapperConfig.TableNameOverride.withTableNameReplacement(&quot;mytable-dev&quot;);\n}\n</code></pre>\n<p>Once I use that configuration ( or event when using just <code>DynamoDBMapperConfig.builder().build()</code> ) I get the following error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;Object.hashCode()&quot; because &quot;key&quot; is null\nat java.base/java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936) ~[na:na]\nat java.base/java.util.concurrent.ConcurrentHashMap.containsKey(ConcurrentHashMap.java:964) ~[na:na]\nat com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$StandardModelFactory.getTableFactory(StandardModelFactories.java:79) ~[aws-java-sdk-dynamodb-1.11.64.jar:na]\nat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.getTableModel(DynamoDBMapper.java:393) ~[aws-java-sdk-dynamodb-1.11.64.jar:na]\nat org.socialsignin.spring.data.dynamodb.core.DynamoDBTemplate.getTableModel(DynamoDBTemplate.java:223) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\nat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.create(AbstractDynamoDBQueryCreator.java:69) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\nat org.socialsignin.spring.data.dynamodb.repository.query.AbstractDynamoDBQueryCreator.create(AbstractDynamoDBQueryCreator.java:42) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n</code></pre>\n"},{"tags":["java","android","google-play-core"],"comments":[{"owner":{"account_id":15870958,"reputation":1467,"user_id":11451626,"display_name":"Eyosiyas"},"score":1,"creation_date":1602315454,"post_id":64289638,"comment_id":113686673,"body_markdown":"Use Shared Preference and save the first time when the app is used, check every time if the initial stored date equls 10 days then run the function.","body":"Use Shared Preference and save the first time when the app is used, check every time if the initial stored date equls 10 days then run the function."}],"answers":[{"tags":[],"owner":{"account_id":20023905,"reputation":3036,"user_id":14678216,"display_name":"user14678216"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609264356,"creation_date":1609262097,"answer_id":65496037,"question_id":64289638,"body_markdown":"I would do it like this:\r\n- When the app is first opened, record the date/time and save it in `SharedPreferences`\r\n- Every time the user opens the app do the current date/time - the date/time when the app was first opened.\r\n- If this value is more than 10 days, show the IAP Review dialog. Then you would reset the current date/time stored in `SharedPreferences`","title":"How to call Play API&#39;s in-app review once in 10 days Android?","body":"<p>I would do it like this:</p>\n<ul>\n<li>When the app is first opened, record the date/time and save it in <code>SharedPreferences</code></li>\n<li>Every time the user opens the app do the current date/time - the date/time when the app was first opened.</li>\n<li>If this value is more than 10 days, show the IAP Review dialog. Then you would reset the current date/time stored in <code>SharedPreferences</code></li>\n</ul>\n"}],"owner":{"account_id":19452660,"reputation":197,"user_id":14228678,"display_name":"Saya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667206885,"creation_date":1602300097,"question_id":64289638,"body_markdown":"I implemented Play Core Library&#39;s in-app review but the review pops up when I open the app for the first time.\r\n\r\nIs there a way to open that pop-up box only after the app has been used for 10 days or something?\r\n\r\nI have used this code to implement it:\r\n\r\n        ReviewManager manager;\r\n        ReviewInfo reviewInfo;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.abc);\r\n      \r\n    \r\n            manager = ReviewManagerFactory.create(this);\r\n            Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\r\n            request.addOnCompleteListener(task -&gt; {\r\n                if (task.isSuccessful()) {\r\n                    // We can get the ReviewInfo object\r\n                    reviewInfo = task.getResult();\r\n                    openReview();\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void openReview(){\r\n            if(reviewInfo != null){\r\n                Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\r\n                flow.addOnCompleteListener(task -&gt; {\r\n                    // The flow has finished. The API does not indicate whether the user\r\n                    // reviewed or not, or even whether the review dialog was shown. Thus, no\r\n                    // matter the result, we continue our app flow.\r\n                });\r\n            } ","title":"How to call Play API&#39;s in-app review once in 10 days Android?","body":"<p>I implemented Play Core Library's in-app review but the review pops up when I open the app for the first time.</p>\n<p>Is there a way to open that pop-up box only after the app has been used for 10 days or something?</p>\n<p>I have used this code to implement it:</p>\n<pre><code>    ReviewManager manager;\n    ReviewInfo reviewInfo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.abc);\n  \n\n        manager = ReviewManagerFactory.create(this);\n        Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\n        request.addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                // We can get the ReviewInfo object\n                reviewInfo = task.getResult();\n                openReview();\n            }\n        });\n    }\n\n    public void openReview(){\n        if(reviewInfo != null){\n            Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\n            flow.addOnCompleteListener(task -&gt; {\n                // The flow has finished. The API does not indicate whether the user\n                // reviewed or not, or even whether the review dialog was shown. Thus, no\n                // matter the result, we continue our app flow.\n            });\n        } \n</code></pre>\n"},{"tags":["java","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625949881,"creation_date":1625948756,"answer_id":68331293,"question_id":68331202,"body_markdown":"The synthetic field in the class file representing the local class has a mangled name.\r\n\r\n`javap -c -s` can be used to find out what `javac` has done.\r\n\r\nTake the following simple example class.\r\n\r\n    class Code {\r\n        public static void main(String[] args) throws Throwable {\r\n            class MyLocal {\r\n                void fn() {\r\n                    System.err.println(args.length);\r\n                }\r\n            }\r\n            new MyLocal().fn();\r\n        }\r\n    }\r\n\r\nOnce compiled, `javap -c -s Code\\$1MyLocal.class` gives:\r\n\r\n    class Code$1MyLocal {\r\n      final java.lang.String[] val$args;\r\n        descriptor: [Ljava/lang/String;\r\n    \r\n      Code$1MyLocal();\r\n        descriptor: ([Ljava/lang/String;)V\r\n        Code:\r\n           0: aload_0\r\n           ...\r\n\r\nThe synthetic field for `args` is called `val$args`. I&#39;ve added the `-s` option so we see that the no-args constructor for `MyLocal` actually has an argument when compiled. `javap -c Code.class` shows the bytecode for calling that constructor:\r\n\r\n       0: new           #7                  // class Code$1MyLocal\r\n       3: dup\r\n       4: aload_0\r\n       5: invokespecial #9                  // Method Code$1MyLocal.&quot;&lt;init&gt;&quot;:([Ljava/lang/String;)V\r\n\r\nThere is a slight difference between how the compiler does and how it would work if you did it yourself. If we look further down the disassembly for the local class constructor we see that it is assigning a field before calling the superclass constructor.\r\n\r\n      Code$1MyLocal();\r\n        descriptor: ([Ljava/lang/String;)V\r\n        Code:\r\n           0: aload_0\r\n           1: aload_1\r\n           2: putfield      #1                  // Field val$args:[Ljava/lang/String;\r\n           5: aload_0\r\n           6: invokespecial #7                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           9: return\r\n\r\nThat&#39;s the equivalent of:\r\n\r\n        class MyLocal extends Object {\r\n            private final String[] args;\r\n            MyLocal(String[] args) {\r\n                this.args = args;\r\n                super();\r\n            }\r\n            ...\r\n        }\r\n\r\nThat wont compile in Java. Before Java 1.4 this did not happen. You could end up observing the default value of the synthetic field, often causing a `NullPointerException`.","title":"How does Synthetic Fields within the Method Local Inner Classes are being linked to the values of the Method Local Variables?","body":"<p>The synthetic field in the class file representing the local class has a mangled name.</p>\n<p><code>javap -c -s</code> can be used to find out what <code>javac</code> has done.</p>\n<p>Take the following simple example class.</p>\n<pre><code>class Code {\n    public static void main(String[] args) throws Throwable {\n        class MyLocal {\n            void fn() {\n                System.err.println(args.length);\n            }\n        }\n        new MyLocal().fn();\n    }\n}\n</code></pre>\n<p>Once compiled, <code>javap -c -s Code\\$1MyLocal.class</code> gives:</p>\n<pre><code>class Code$1MyLocal {\n  final java.lang.String[] val$args;\n    descriptor: [Ljava/lang/String;\n\n  Code$1MyLocal();\n    descriptor: ([Ljava/lang/String;)V\n    Code:\n       0: aload_0\n       ...\n</code></pre>\n<p>The synthetic field for <code>args</code> is called <code>val$args</code>. I've added the <code>-s</code> option so we see that the no-args constructor for <code>MyLocal</code> actually has an argument when compiled. <code>javap -c Code.class</code> shows the bytecode for calling that constructor:</p>\n<pre><code>   0: new           #7                  // class Code$1MyLocal\n   3: dup\n   4: aload_0\n   5: invokespecial #9                  // Method Code$1MyLocal.&quot;&lt;init&gt;&quot;:([Ljava/lang/String;)V\n</code></pre>\n<p>There is a slight difference between how the compiler does and how it would work if you did it yourself. If we look further down the disassembly for the local class constructor we see that it is assigning a field before calling the superclass constructor.</p>\n<pre><code>  Code$1MyLocal();\n    descriptor: ([Ljava/lang/String;)V\n    Code:\n       0: aload_0\n       1: aload_1\n       2: putfield      #1                  // Field val$args:[Ljava/lang/String;\n       5: aload_0\n       6: invokespecial #7                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       9: return\n</code></pre>\n<p>That's the equivalent of:</p>\n<pre><code>    class MyLocal extends Object {\n        private final String[] args;\n        MyLocal(String[] args) {\n            this.args = args;\n            super();\n        }\n        ...\n    }\n</code></pre>\n<p>That wont compile in Java. Before Java 1.4 this did not happen. You could end up observing the default value of the synthetic field, often causing a <code>NullPointerException</code>.</p>\n"}],"owner":{"account_id":18625873,"reputation":23,"user_id":16421908,"display_name":"furkan01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68331293,"answer_count":1,"score":2,"last_activity_date":1667206847,"creation_date":1625947826,"question_id":68331202,"body_markdown":"In Java, method local variables live on the Stack as long as the method is being executed, hence for Method Local Inner Classes to access the method local variables, the compiler creates copies of these variables into the Heap, that&#39;s why these variables should be final or effectively final: so that the copies stored in the Heap are holding the actual valid values.\r\n\r\nSo I know Javac creates synthetic fields (fields that do not exist in the source code but are created by the compiler) inside the local inner classes to do so, and the question is how does that actually work, is it like creating a field inside the local inner class with the same as the method local variable which holds the same value as that variable so that inner class accesses that newly created one or is it something else, also what exactly does it mean for an element to be synthetic in general, apart from synthetic fields of method local inner classes? \r\n(I have read [JLS][1], now hoping to find something more clear ?)\n\n [1]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.8","title":"How does Synthetic Fields within the Method Local Inner Classes are being linked to the values of the Method Local Variables?","body":"<p>In Java, method local variables live on the Stack as long as the method is being executed, hence for Method Local Inner Classes to access the method local variables, the compiler creates copies of these variables into the Heap, that's why these variables should be final or effectively final: so that the copies stored in the Heap are holding the actual valid values.</p>\n<p>So I know Javac creates synthetic fields (fields that do not exist in the source code but are created by the compiler) inside the local inner classes to do so, and the question is how does that actually work, is it like creating a field inside the local inner class with the same as the method local variable which holds the same value as that variable so that inner class accesses that newly created one or is it something else, also what exactly does it mean for an element to be synthetic in general, apart from synthetic fields of method local inner classes?\n(I have read <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.8\" rel=\"nofollow noreferrer\">JLS</a>, now hoping to find something more clear ?)</p>\n"},{"tags":["java","gis","geotools"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":1,"creation_date":1567882525,"post_id":57822880,"comment_id":102101596,"body_markdown":"Geotools no longer supports ShapefileFeatureRenderer","body":"Geotools no longer supports ShapefileFeatureRenderer"},{"owner":{"account_id":483698,"reputation":163,"user_id":898917,"display_name":"Yemi Kudaisi"},"score":0,"creation_date":1568043200,"post_id":57822880,"comment_id":102140444,"body_markdown":"So what&#39;s the alternative, specifically how do i get a better rendering ?","body":"So what&#39;s the alternative, specifically how do i get a better rendering ?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1568044282,"post_id":57822880,"comment_id":102140894,"body_markdown":"can you clarify exactly what you think is better from one to the other?","body":"can you clarify exactly what you think is better from one to the other?"},{"owner":{"account_id":483698,"reputation":163,"user_id":898917,"display_name":"Yemi Kudaisi"},"score":0,"creation_date":1568047711,"post_id":57822880,"comment_id":102142477,"body_markdown":"Notice how the roads are wider, the texts are much clearer, on a larger scale, the map is barely readable. My intention was to use uDig for styling and then simply import the SLD as a resource into my project as-is. But, going with what I have now, i usually have to increase widths and fonts here and there after exporting the SLD to my project. Also, the anti-aliasing hint doesn&#39;t appear to work (I suspect this is the issue).","body":"Notice how the roads are wider, the texts are much clearer, on a larger scale, the map is barely readable. My intention was to use uDig for styling and then simply import the SLD as a resource into my project as-is. But, going with what I have now, i usually have to increase widths and fonts here and there after exporting the SLD to my project. Also, the anti-aliasing hint doesn&#39;t appear to work (I suspect this is the issue)."}],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568366900,"creation_date":1568366900,"answer_id":57920887,"question_id":57822880,"body_markdown":"I think you should leave the default renderer in place and simply add to it&#39;s hints, so something like:\r\n\r\n    renderer = frame.getMapPane().getRenderer();\r\n    Map&lt;Object, Object&gt; rendererHints = renderer.getRendererHints();\r\n    rendererHints.put(&quot;optimizedDataLoadingEnabled&quot;, true); \r\n    renderer.setRendererHints(rendererHints);\r\n    RenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING,\r\n        RenderingHints.VALUE_ANTIALIAS_ON);\r\n    renderer.setJava2DHints(hints);\r\n\r\nIf that doesn&#39;t do it then you might want to look at what hints the GeoServer render gets set, for example [here][1]\r\n\r\n\r\n  [1]: https://github.com/geoserver/geoserver/blob/master/src/wms/src/main/java/org/geoserver/wms/map/RenderedImageMapOutputFormat.java#L405","title":"Why does uDig&#39;s rendered map look much better than mine","body":"<p>I think you should leave the default renderer in place and simply add to it's hints, so something like:</p>\n\n<pre><code>renderer = frame.getMapPane().getRenderer();\nMap&lt;Object, Object&gt; rendererHints = renderer.getRendererHints();\nrendererHints.put(\"optimizedDataLoadingEnabled\", true); \nrenderer.setRendererHints(rendererHints);\nRenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING,\n    RenderingHints.VALUE_ANTIALIAS_ON);\nrenderer.setJava2DHints(hints);\n</code></pre>\n\n<p>If that doesn't do it then you might want to look at what hints the GeoServer render gets set, for example <a href=\"https://github.com/geoserver/geoserver/blob/master/src/wms/src/main/java/org/geoserver/wms/map/RenderedImageMapOutputFormat.java#L405\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":483698,"reputation":163,"user_id":898917,"display_name":"Yemi Kudaisi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667206842,"creation_date":1567776144,"question_id":57822880,"body_markdown":"I styled a layer with uDig and exported the style as SLD file. I then applied the same style to the a layer (same shapefile) in my code using Geotools. However, uDig&#39;s rendering of the map looks much better than mine.\r\n\r\nMy project uses geotools version 21.2, Java 1.8 and I&#39;m rendering the map with Geotools&#39;s [JMapPane](https://docs.geotools.org/stable/javadocs/org/geotools/swing/JMapPane.html). Having noticed that the uDig version looks better that mine, I attempted digging into the uDig source to see how the shape files are rendered. I found that shape file are rendered in uDig by  [ShapefileFeatureRenderer][1], or so I think. I then copied and pasted the renderer&#39;s initialization code and applied it in my project but I didn&#39;t notice any difference.\r\n\r\n``` java\r\nrenderer = new StreamingRenderer();\r\nHashMap&lt;String, Object&gt; rendererHints = new HashMap&lt;String, Object&gt;();\r\nrendererHints.put(&quot;optimizedDataLoadingEnabled&quot;, true); //$NON-NLS-1$\r\nrenderer.setRendererHints(rendererHints);\r\n            // renderer.removeRenderListener(StreamingRenderer.DEFAULT_LISTENER);\r\nrenderer.addRenderListener(listener);\r\n\r\n            // JG - these may be overriden by the preferences before use?\r\nRenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING,\r\n                    RenderingHints.VALUE_ANTIALIAS_ON);\r\nrenderer.setJava2DHints(hints)\r\nmapPane.setRenderer(renderer);\r\n```\r\n\r\nHow do I make my map rendering as good as uDig&#39;s (uDig&#39;s rendering is to the left in the screenshot below) ?\r\n![side by side][2]\r\n\r\nI would like some one to point me in the right direction on how to go about this. Any help would be appreciated.\n\n [1]: https://github.com/locationtech/udig-platform/blob/master/plugins/org.locationtech.udig.render.feature.shapefile/src/org/locationtech/udig/render/internal/feature/shapefile/ShapefileFeatureRenderer.java/\n [2]: https://i.stack.imgur.com/JMLc1.png","title":"Why does uDig&#39;s rendered map look much better than mine","body":"<p>I styled a layer with uDig and exported the style as SLD file. I then applied the same style to the a layer (same shapefile) in my code using Geotools. However, uDig's rendering of the map looks much better than mine.</p>\n<p>My project uses geotools version 21.2, Java 1.8 and I'm rendering the map with Geotools's <a href=\"https://docs.geotools.org/stable/javadocs/org/geotools/swing/JMapPane.html\" rel=\"nofollow noreferrer\">JMapPane</a>. Having noticed that the uDig version looks better that mine, I attempted digging into the uDig source to see how the shape files are rendered. I found that shape file are rendered in uDig by  <a href=\"https://github.com/locationtech/udig-platform/blob/master/plugins/org.locationtech.udig.render.feature.shapefile/src/org/locationtech/udig/render/internal/feature/shapefile/ShapefileFeatureRenderer.java/\" rel=\"nofollow noreferrer\">ShapefileFeatureRenderer</a>, or so I think. I then copied and pasted the renderer's initialization code and applied it in my project but I didn't notice any difference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>renderer = new StreamingRenderer();\nHashMap&lt;String, Object&gt; rendererHints = new HashMap&lt;String, Object&gt;();\nrendererHints.put(&quot;optimizedDataLoadingEnabled&quot;, true); //$NON-NLS-1$\nrenderer.setRendererHints(rendererHints);\n            // renderer.removeRenderListener(StreamingRenderer.DEFAULT_LISTENER);\nrenderer.addRenderListener(listener);\n\n            // JG - these may be overriden by the preferences before use?\nRenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING,\n                    RenderingHints.VALUE_ANTIALIAS_ON);\nrenderer.setJava2DHints(hints)\nmapPane.setRenderer(renderer);\n</code></pre>\n<p>How do I make my map rendering as good as uDig's (uDig's rendering is to the left in the screenshot below) ?\n<img src=\"https://i.stack.imgur.com/JMLc1.png\" alt=\"side by side\" /></p>\n<p>I would like some one to point me in the right direction on how to go about this. Any help would be appreciated.</p>\n"},{"tags":["java","iterator","iterable"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1667198724,"post_id":74259573,"comment_id":131105306,"body_markdown":"You have to call `Iterable.iterator()`","body":"You have to call <code>Iterable.iterator()</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1667199357,"post_id":74259573,"comment_id":131105430,"body_markdown":"^ And store the resulting `Iterator` in a variable so you can use it in your while loop.","body":"^ And store the resulting <code>Iterator</code> in a variable so you can use it in your while loop."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1667199803,"post_id":74259573,"comment_id":131105517,"body_markdown":"Also, I don&#39;t know if the method signature was provided for you, but the type parameter (the `&lt;T&gt;`) is not necessary. The method does not rely on the type of the elements in the iterable, so the method parameter could just be `Iterable&lt;?&gt;`.","body":"Also, I don&#39;t know if the method signature was provided for you, but the type parameter (the <code>&lt;T&gt;</code>) is not necessary. The method does not rely on the type of the elements in the iterable, so the method parameter could just be <code>Iterable&lt;?&gt;</code>."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1667200029,"post_id":74259573,"comment_id":131105554,"body_markdown":"Or `for (T dummy : iterable) numEntries++;`.","body":"Or <code>for (T dummy : iterable) numEntries++;</code>."}],"answers":[{"tags":[],"owner":{"account_id":8589938,"reputation":107,"user_id":6434836,"accept_rate":67,"display_name":"Hari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667201115,"creation_date":1667201115,"answer_id":74259958,"question_id":74259573,"body_markdown":"Try this:\r\n\r\n    public static int size(`Iterable` data) {\r\n    \r\n        if (data instanceof Collection) {\r\n            return ((Collection&lt;?&gt;) data).size();\r\n        }\r\n        int counter = 0;\r\n        for (Object i : data) {\r\n            counter++;\r\n        }\r\n        return counter;\r\n    }","title":"Need help understanding how to find getLength() of the iterable","body":"<p>Try this:</p>\n<pre><code>public static int size(`Iterable` data) {\n\n    if (data instanceof Collection) {\n        return ((Collection&lt;?&gt;) data).size();\n    }\n    int counter = 0;\n    for (Object i : data) {\n        counter++;\n    }\n    return counter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667201283,"creation_date":1667201283,"answer_id":74259981,"question_id":74259573,"body_markdown":"This conceptually doesn&#39;t work. The concept of an `Iterable` is __solely__ that you can ask it to make iterators. It is the iterator that has the whole `hasNext` and `next` thing going on. Iterables are not guaranteed to return the same iterator everytime you ask for an iterator; you may call `iterator()` and see 500 items, and then call it again and see 512. You have no particular guarantees, therefore, &#39;ask for the length of an iterable&#39; __is not answerable__. For some specific known iterables, such as `ArrayList`, you can answer the question and it&#39;ll be easy to do so, but there are iterables for which you cannot do this. Various iterables can only be asked for an `iterator()` once, for example, anything representing a streaming concept (let&#39;s say your iterable is a firehose of all telegram messages sent to a telegram channel).\r\n\r\nIn other words, this is silly homework; whomever gave it does not fully understand what these concepts represent. This code will work for __some__ iterables, but will fail for many others, either invalidating the ability to iterate through it after calling this, or crashing, or giving the wrong answer - it&#39;s exactly what you wrote, except, make an iterator first. While we&#39;re at it, lets get rid of that useless `&lt;T&gt;` here, we don&#39;t need it:\r\n\r\n```\r\npublic static int getLength(Iterable&lt;?&gt; iterable) {\r\n  int numEntries = 0;\r\n  var iterator = iterable.iterator();\r\n  while(iterator.hasNext()) {\r\n    numEntries++;\r\n    iterator.next();\r\n  }\r\n  return numEntries;\r\n}\r\n```\r\n\r\n\r\nHowever, given that this doesn&#39;t actually &#39;work&#39;, I&#39;d write something quite different:\r\n\r\n```\r\npublic static int getLength(Iterable&lt;?&gt; iterable) throws IllegalArgumentException {\r\n  if (iterable instanceof Collection&lt;?&gt;) return ((Collection&lt;?&gt;) iterable).size();\r\n  throw new IllegalArgumentException(&quot;I don&#39;t know how to obtain the size for an iterable of type &quot; + iterable.getClass());\r\n}\r\n```\r\n\r\nReally, the error in the whole setup is the argument. It should have been `Collection&lt;?&gt;` all along. Almost all iterables you will ever meet implement `Collection` - the main difference between Iterable and Collection is in fact that you can ask a collection how large it is. Iterable exists specifically _because_ it represents a type where &#39;can I know how large you are&#39; is _not_ a required ability. Further highlighting how very silly this homework is.\r\n\r\nFeel free to direct your teacher to this answer. If it&#39;s a general tutorial or book, toss it and get another one.\r\n","title":"Need help understanding how to find getLength() of the iterable","body":"<p>This conceptually doesn't work. The concept of an <code>Iterable</code> is <strong>solely</strong> that you can ask it to make iterators. It is the iterator that has the whole <code>hasNext</code> and <code>next</code> thing going on. Iterables are not guaranteed to return the same iterator everytime you ask for an iterator; you may call <code>iterator()</code> and see 500 items, and then call it again and see 512. You have no particular guarantees, therefore, 'ask for the length of an iterable' <strong>is not answerable</strong>. For some specific known iterables, such as <code>ArrayList</code>, you can answer the question and it'll be easy to do so, but there are iterables for which you cannot do this. Various iterables can only be asked for an <code>iterator()</code> once, for example, anything representing a streaming concept (let's say your iterable is a firehose of all telegram messages sent to a telegram channel).</p>\n<p>In other words, this is silly homework; whomever gave it does not fully understand what these concepts represent. This code will work for <strong>some</strong> iterables, but will fail for many others, either invalidating the ability to iterate through it after calling this, or crashing, or giving the wrong answer - it's exactly what you wrote, except, make an iterator first. While we're at it, lets get rid of that useless <code>&lt;T&gt;</code> here, we don't need it:</p>\n<pre><code>public static int getLength(Iterable&lt;?&gt; iterable) {\n  int numEntries = 0;\n  var iterator = iterable.iterator();\n  while(iterator.hasNext()) {\n    numEntries++;\n    iterator.next();\n  }\n  return numEntries;\n}\n</code></pre>\n<p>However, given that this doesn't actually 'work', I'd write something quite different:</p>\n<pre><code>public static int getLength(Iterable&lt;?&gt; iterable) throws IllegalArgumentException {\n  if (iterable instanceof Collection&lt;?&gt;) return ((Collection&lt;?&gt;) iterable).size();\n  throw new IllegalArgumentException(&quot;I don't know how to obtain the size for an iterable of type &quot; + iterable.getClass());\n}\n</code></pre>\n<p>Really, the error in the whole setup is the argument. It should have been <code>Collection&lt;?&gt;</code> all along. Almost all iterables you will ever meet implement <code>Collection</code> - the main difference between Iterable and Collection is in fact that you can ask a collection how large it is. Iterable exists specifically <em>because</em> it represents a type where 'can I know how large you are' is <em>not</em> a required ability. Further highlighting how very silly this homework is.</p>\n<p>Feel free to direct your teacher to this answer. If it's a general tutorial or book, toss it and get another one.</p>\n"}],"owner":{"account_id":24531038,"reputation":37,"user_id":18442815,"display_name":"Yousef"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74259981,"answer_count":2,"score":1,"last_activity_date":1667206713,"creation_date":1667198496,"question_id":74259573,"body_markdown":"I am having trouble understanding how I am mean&#39;t to find the getLength() of an iterable in my homework. The class is supposed to be a &quot;toolkit&quot; with useful methods for working on iterables and iterators.\r\n\r\n```\r\n   /** Computes the length of an Iterable.\r\n       The length of an Iterable is the total number of entries it returns.\r\n   public static &lt;T&gt; int getLength(Iterable&lt;T&gt; iterable)\r\n   {\r\n      int numEntries = 0;\r\n      while(iterable.hasNext()) {\r\n         numEntries++;\r\n         iterable.next();\r\n      }\r\n      return numEntries;\r\n   }\r\n```\r\nThis is what I currently have but I am getting this\r\n\r\n```\r\nToolkit.java:30: error: cannot find symbol\r\n      while(iterable.hasNext()) {\r\n                    ^\r\n  symbol:   method hasNext()\r\n  location: variable iterable of type Iterable&lt;T&gt;\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;getLength(Iterable&lt;T&gt;)\r\n```","title":"Need help understanding how to find getLength() of the iterable","body":"<p>I am having trouble understanding how I am mean't to find the getLength() of an iterable in my homework. The class is supposed to be a &quot;toolkit&quot; with useful methods for working on iterables and iterators.</p>\n<pre><code>   /** Computes the length of an Iterable.\n       The length of an Iterable is the total number of entries it returns.\n   public static &lt;T&gt; int getLength(Iterable&lt;T&gt; iterable)\n   {\n      int numEntries = 0;\n      while(iterable.hasNext()) {\n         numEntries++;\n         iterable.next();\n      }\n      return numEntries;\n   }\n</code></pre>\n<p>This is what I currently have but I am getting this</p>\n<pre><code>Toolkit.java:30: error: cannot find symbol\n      while(iterable.hasNext()) {\n                    ^\n  symbol:   method hasNext()\n  location: variable iterable of type Iterable&lt;T&gt;\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;getLength(Iterable&lt;T&gt;)\n</code></pre>\n"},{"tags":["java","android","android-fragments","illegalargumentexception","fragmentmanager"],"comments":[{"owner":{"account_id":8767916,"reputation":368,"user_id":6555714,"accept_rate":53,"display_name":"LecheDeCrema"},"score":1,"creation_date":1667209746,"post_id":74260804,"comment_id":131108154,"body_markdown":"please check this if it can help https://stackoverflow.com/questions/7508044/android-fragment-no-view-found-for-id","body":"please check this if it can help <a href=\"https://stackoverflow.com/questions/7508044/android-fragment-no-view-found-for-id\" title=\"android fragment no view found for id\">stackoverflow.com/questions/7508044/&hellip;</a>"},{"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"score":1,"creation_date":1667211191,"post_id":74260804,"comment_id":131108610,"body_markdown":"Can you add the exception stack trace?","body":"Can you add the exception stack trace?"},{"owner":{"account_id":23825057,"reputation":11,"user_id":17832224,"display_name":"Soumyadeep Paul"},"score":0,"creation_date":1667233984,"post_id":74260804,"comment_id":131116787,"body_markdown":"It occurred on that on click method","body":"It occurred on that on click method"}],"owner":{"account_id":23825057,"reputation":11,"user_id":17832224,"display_name":"Soumyadeep Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667206348,"creation_date":1667206348,"question_id":74260804,"body_markdown":"```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    TextView textview=findViewById(R.id.textView);\r\n    Button button=findViewById(R.id.button);\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            int num=0;\r\n            while(true) {\r\n                num = random.nextInt(7);\r\n                if(num!=0)\r\n                    break;\r\n            }\r\n\r\n            Log.i(&quot;&quot;,&quot;Button Clicked&quot;);\r\n            int finalNum = num;\r\n            textview.setText(Integer.toString(finalNum));\r\n            if(num==1)\r\n               fragmentManager.beginTransaction()\r\n                    .replace(R.id.frag_one, One.class, null)\r\n                    .setReorderingAllowed(true)\r\n                    .addToBackStack(&quot;name&quot;) // name can be null\r\n                    .commit();\r\n            else if(num==2)\r\n                fragmentManager.beginTransaction()\r\n                        .replace(R.id.frag_two, Two.class, null)\r\n                        .setReorderingAllowed(true)\r\n                        .addToBackStack(&quot;name&quot;) // name can be null\r\n                        .commit();\r\n            else if(num==3)\r\n                fragmentManager.beginTransaction()\r\n                        .replace(R.id.frag_three, Three.class, null)\r\n                        .setReorderingAllowed(true)\r\n                        .addToBackStack(&quot;name&quot;) // name can be null\r\n                        .commit();\r\n            else if(num==4)\r\n                fragmentManager.beginTransaction()\r\n                        .replace(R.id.frag_four, Four.class, null)\r\n                        .setReorderingAllowed(true)\r\n                        .addToBackStack(&quot;name&quot;) // name can be null\r\n                        .commit();\r\n            else if(num==5)\r\n                fragmentManager.beginTransaction()\r\n                        .replace(R.id.frag_five, Five.class, null)\r\n                        .setReorderingAllowed(true)\r\n                        .addToBackStack(&quot;name&quot;) // name can be null\r\n                        .commit();\r\n            else if(num==1)\r\n                fragmentManager.beginTransaction()\r\n                        .replace(R.id.frag_six, Six.class, null)\r\n                        .setReorderingAllowed(true)\r\n                        .addToBackStack(&quot;name&quot;) // name can be null\r\n                        .commit();\r\n        }\r\n    });\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m a beginner, I tried to make this simple dice app, created 6 fragments and in each fragment included an imageview that would display the image for every turn of dice....After compiling the code, I am getting errors stating &quot; java.lang.IllegalArgumentException: No view found for id 0x7f0800c4 (com.example.rollingdice:id/frag_three) for fragment Three{cff507d}&quot; and the app is crashing adruptly.","title":"java.lang.IllegalArgumentException: No view found for id 0x7f0800c4","body":"<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    TextView textview=findViewById(R.id.textView);\n    Button button=findViewById(R.id.button);\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            int num=0;\n            while(true) {\n                num = random.nextInt(7);\n                if(num!=0)\n                    break;\n            }\n\n            Log.i(&quot;&quot;,&quot;Button Clicked&quot;);\n            int finalNum = num;\n            textview.setText(Integer.toString(finalNum));\n            if(num==1)\n               fragmentManager.beginTransaction()\n                    .replace(R.id.frag_one, One.class, null)\n                    .setReorderingAllowed(true)\n                    .addToBackStack(&quot;name&quot;) // name can be null\n                    .commit();\n            else if(num==2)\n                fragmentManager.beginTransaction()\n                        .replace(R.id.frag_two, Two.class, null)\n                        .setReorderingAllowed(true)\n                        .addToBackStack(&quot;name&quot;) // name can be null\n                        .commit();\n            else if(num==3)\n                fragmentManager.beginTransaction()\n                        .replace(R.id.frag_three, Three.class, null)\n                        .setReorderingAllowed(true)\n                        .addToBackStack(&quot;name&quot;) // name can be null\n                        .commit();\n            else if(num==4)\n                fragmentManager.beginTransaction()\n                        .replace(R.id.frag_four, Four.class, null)\n                        .setReorderingAllowed(true)\n                        .addToBackStack(&quot;name&quot;) // name can be null\n                        .commit();\n            else if(num==5)\n                fragmentManager.beginTransaction()\n                        .replace(R.id.frag_five, Five.class, null)\n                        .setReorderingAllowed(true)\n                        .addToBackStack(&quot;name&quot;) // name can be null\n                        .commit();\n            else if(num==1)\n                fragmentManager.beginTransaction()\n                        .replace(R.id.frag_six, Six.class, null)\n                        .setReorderingAllowed(true)\n                        .addToBackStack(&quot;name&quot;) // name can be null\n                        .commit();\n        }\n    });\n</code></pre>\n<p>I'm a beginner, I tried to make this simple dice app, created 6 fragments and in each fragment included an imageview that would display the image for every turn of dice....After compiling the code, I am getting errors stating &quot; java.lang.IllegalArgumentException: No view found for id 0x7f0800c4 (com.example.rollingdice:id/frag_three) for fragment Three{cff507d}&quot; and the app is crashing adruptly.</p>\n"},{"tags":["java","jvm","migration","javac","mvn-repo"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667205680,"creation_date":1667205680,"answer_id":74260686,"question_id":74260438,"body_markdown":"The [Download and Installation](https://wiremock.org/docs/download-and-installation/) section of their documentation contains this sentence: \r\n\r\n&gt; Additionally, versions of these JARs are distributed for both Java 7 and Java 8+.\r\n\r\nSo if you are still running Java 1.7 you must use the version for Java 7.\r\n\r\nFor all later versions of Java there is the version for Java 8+ (the version that you use.)\r\n\r\nSince this is an actively supported project any problems related to Java versions later than Java 8 will be properly addressed and resolved (see for example [Build on &amp; fully support JDK 17](https://github.com/wiremock/wiremock/issues/1655) which was resolved in &quot;com.github.tomakehurst:wiremock-jre8:2.32.0&quot;).","title":"Will be using a wiremock-jre-8 dependency within a java 11 project an issue?","body":"<p>The <a href=\"https://wiremock.org/docs/download-and-installation/\" rel=\"nofollow noreferrer\">Download and Installation</a> section of their documentation contains this sentence:</p>\n<blockquote>\n<p>Additionally, versions of these JARs are distributed for both Java 7 and Java 8+.</p>\n</blockquote>\n<p>So if you are still running Java 1.7 you must use the version for Java 7.</p>\n<p>For all later versions of Java there is the version for Java 8+ (the version that you use.)</p>\n<p>Since this is an actively supported project any problems related to Java versions later than Java 8 will be properly addressed and resolved (see for example <a href=\"https://github.com/wiremock/wiremock/issues/1655\" rel=\"nofollow noreferrer\">Build on &amp; fully support JDK 17</a> which was resolved in &quot;com.github.tomakehurst:wiremock-jre8:2.32.0&quot;).</p>\n"}],"owner":{"account_id":22668693,"reputation":33,"user_id":16840680,"display_name":"BorisP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4608,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74260686,"answer_count":1,"score":3,"last_activity_date":1667205680,"creation_date":1667204244,"question_id":74260438,"body_markdown":"## Disclamer\r\n\r\nSorry in advance if this is a stupid question, but my research to clarify this was not as successful as i needed it to be. \r\n\r\n# Problem description\r\n\r\nI am working on a project using jdk 11 and in order get decent testcoverage, i added something to mock calls/answers to/from external services. So i included **wiremock**. \r\nAs suggested on their [setup getting-started section](https://wiremock.org/docs/getting-started/), i included\r\n```\r\ntestImplementation &quot;com.github.tomakehurst:wiremock-jre8:2.34.0&quot;\r\n```\r\nEven though everything works on my machine (and tests run fine on the pipeline), i don&#39;t know if this will potentially cause issues on other machines. The architect involved in the project also stated his concern that we do only use jre 11. \r\n\r\nTherefore i need some more insight to either change things up or argue why this is not an issue.\r\n\r\n## Attempts so far\r\n\r\nI expected there to be an higher version of wiremock on mavencentral, but ther were only two projects:\r\n- [mvnrepository: wiremock](https://mvnrepository.com/artifact/com.github.tomakehurst/wiremock) - last updated Sep, **2020**\r\n- [mvnrepository: wiremock-jre8](https://mvnrepository.com/artifact/com.github.tomakehurst/wiremock-jre8) - last updated Sep, **2022**\r\n\r\nTo my surprise, wiremock-jre8 was the most recent version. I don&#39;t know what the older version was compiled with but i was using annotations that wouldn&#39;t work with the 2020 version either way. So it would be nice to not downgrade the current implementation to a less readable solution.\r\n\r\nI should mention, that i only guess that wiremock-jre8 has been compiled with jdk8 from the naming. I did not find any evidence about what compiler did produce the bytecode for either of those dependencies or clues on how to interpret this.\r\n\r\nWhen trying to figure out how back and forwards combability works with java, the compiler and the produced bytecode, i found this [older post](https://stackoverflow.com/questions/4692626/is-jdk-upward-or-backward-compatible#:~:text=The%20compiler%20is%20not%20backwards,it%20can%20run%20older%20bytecodes.). In short it states:\r\n\r\n&gt; Compatibility from the point of view of javac (as it is the part specific to the JDK), meaning that the bytecode generated can be run in future releases of the jvm (that is more related to the JRE, but also bundled in the JDK).\r\n&gt; - JDK&#39;s are (usually) forward compatible.\r\n&gt; - JRE&#39;s are (usually) backward compatible.\r\n\r\nI do understand that in parts, but not fully concerning my issue. Especially the &quot;usually&quot; part.\r\nSo are there some more insights someone has to spare to enlighten me? :)","title":"Will be using a wiremock-jre-8 dependency within a java 11 project an issue?","body":"<h2>Disclamer</h2>\n<p>Sorry in advance if this is a stupid question, but my research to clarify this was not as successful as i needed it to be.</p>\n<h1>Problem description</h1>\n<p>I am working on a project using jdk 11 and in order get decent testcoverage, i added something to mock calls/answers to/from external services. So i included <strong>wiremock</strong>.\nAs suggested on their <a href=\"https://wiremock.org/docs/getting-started/\" rel=\"nofollow noreferrer\">setup getting-started section</a>, i included</p>\n<pre><code>testImplementation &quot;com.github.tomakehurst:wiremock-jre8:2.34.0&quot;\n</code></pre>\n<p>Even though everything works on my machine (and tests run fine on the pipeline), i don't know if this will potentially cause issues on other machines. The architect involved in the project also stated his concern that we do only use jre 11.</p>\n<p>Therefore i need some more insight to either change things up or argue why this is not an issue.</p>\n<h2>Attempts so far</h2>\n<p>I expected there to be an higher version of wiremock on mavencentral, but ther were only two projects:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/com.github.tomakehurst/wiremock\" rel=\"nofollow noreferrer\">mvnrepository: wiremock</a> - last updated Sep, <strong>2020</strong></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.github.tomakehurst/wiremock-jre8\" rel=\"nofollow noreferrer\">mvnrepository: wiremock-jre8</a> - last updated Sep, <strong>2022</strong></li>\n</ul>\n<p>To my surprise, wiremock-jre8 was the most recent version. I don't know what the older version was compiled with but i was using annotations that wouldn't work with the 2020 version either way. So it would be nice to not downgrade the current implementation to a less readable solution.</p>\n<p>I should mention, that i only guess that wiremock-jre8 has been compiled with jdk8 from the naming. I did not find any evidence about what compiler did produce the bytecode for either of those dependencies or clues on how to interpret this.</p>\n<p>When trying to figure out how back and forwards combability works with java, the compiler and the produced bytecode, i found this <a href=\"https://stackoverflow.com/questions/4692626/is-jdk-upward-or-backward-compatible#:%7E:text=The%20compiler%20is%20not%20backwards,it%20can%20run%20older%20bytecodes.\">older post</a>. In short it states:</p>\n<blockquote>\n<p>Compatibility from the point of view of javac (as it is the part specific to the JDK), meaning that the bytecode generated can be run in future releases of the jvm (that is more related to the JRE, but also bundled in the JDK).</p>\n<ul>\n<li>JDK's are (usually) forward compatible.</li>\n<li>JRE's are (usually) backward compatible.</li>\n</ul>\n</blockquote>\n<p>I do understand that in parts, but not fully concerning my issue. Especially the &quot;usually&quot; part.\nSo are there some more insights someone has to spare to enlighten me? :)</p>\n"},{"tags":["java","sql","spring","ms-access"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1667209342,"post_id":74260684,"comment_id":131108020,"body_markdown":"Why don&#39;t you create the Access file on server side? E.g. you can use [UCanAccess](https://ucanaccess.sourceforge.net/site.html) to connect to an Access DB via Java.","body":"Why don&#39;t you create the Access file on server side? E.g. you can use <a href=\"https://ucanaccess.sourceforge.net/site.html\" rel=\"nofollow noreferrer\">UCanAccess</a> to connect to an Access DB via Java."},{"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"score":1,"creation_date":1667226187,"post_id":74260684,"comment_id":131113794,"body_markdown":"@vanje I tried what you suggested and it&#39;s looking good, I&#39;ll post an update when it&#39;s done","body":"@vanje I tried what you suggested and it&#39;s looking good, I&#39;ll post an update when it&#39;s done"}],"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667205678,"creation_date":1667205678,"question_id":74260684,"body_markdown":"I&#39;m trying to export a SQL database to a mdb file, through my java-spring application, but I haven&#39;t found anything really useful. \r\n\r\nThe idea is to call a controller endpoint, which calls my service. There, I need to:\r\n\r\n1. Execute a SQL query and get the result set\r\n2. Return the mdb file, which contains just a new database with the table generated from the result set above\r\n3. Download the ms-access file from the browser\r\n\r\nHow can this be achieved?\r\nThanks in advance\r\n\r\nI haven&#39;t really tried many things, as the only way I seem to achieve this is by creating the mdb file directly in the client&#39;s computer and then opening a connection to execute a insert with the data, and that is not what I want to do. I&#39;m stuck here","title":"Export SQL database to mdb file (MS Access) using Java-Spring","body":"<p>I'm trying to export a SQL database to a mdb file, through my java-spring application, but I haven't found anything really useful.</p>\n<p>The idea is to call a controller endpoint, which calls my service. There, I need to:</p>\n<ol>\n<li>Execute a SQL query and get the result set</li>\n<li>Return the mdb file, which contains just a new database with the table generated from the result set above</li>\n<li>Download the ms-access file from the browser</li>\n</ol>\n<p>How can this be achieved?\nThanks in advance</p>\n<p>I haven't really tried many things, as the only way I seem to achieve this is by creating the mdb file directly in the client's computer and then opening a connection to execute a insert with the data, and that is not what I want to do. I'm stuck here</p>\n"},{"tags":["java","excel","list","dictionary","collections"],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667205326,"creation_date":1667184461,"answer_id":74258296,"question_id":74255759,"body_markdown":"Quite not sure about the output that you want, and what do you mean `order mixed up`. Is this your expected output?\r\n\r\n    0 = &quot;column1&quot; -&gt; value1\r\n        &quot;column2&quot; -&gt; value2\r\n    1 = &quot;column1&quot; -&gt; value3\r\n        &quot;column2&quot; -&gt; value4\r\n\r\n\r\nIf so, you can try to use [LinkedHashMap][1] or [TreeMap][2] to order your map.\r\n\r\nFor more reading here another [link][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\r\n  [3]: https://www.geeksforgeeks.org/differences-treemap-hashmap-linkedhashmap-java/","title":"When reading excel sheets and storing in list of maps, the columns order is mixed up","body":"<p>Quite not sure about the output that you want, and what do you mean <code>order mixed up</code>. Is this your expected output?</p>\n<pre><code>0 = &quot;column1&quot; -&gt; value1\n    &quot;column2&quot; -&gt; value2\n1 = &quot;column1&quot; -&gt; value3\n    &quot;column2&quot; -&gt; value4\n</code></pre>\n<p>If so, you can try to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a> to order your map.</p>\n<p>For more reading here another <a href=\"https://www.geeksforgeeks.org/differences-treemap-hashmap-linkedhashmap-java/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74258296,"answer_count":1,"score":1,"last_activity_date":1667205326,"creation_date":1667155051,"question_id":74255759,"body_markdown":"I&#39;m reading from excel in the format of XLSX, and storing the data for each sheet in a list of maps.\r\nEach item in the list represents the columns and the values for each row in the sheet.\r\nHowever, the order of columns and values for each map, is not in the right order of the original excel sheet. What I want it the order from left to right, so I could later write to excel using my list of maps. What can I do to make it happen?\r\nAn example of the excel sheet:\r\n\r\n    column 1    column2\r\n    value1      value2\r\n    value3      value4\r\nThe list of maps with the order mixed up:\r\n\r\n     0 = &quot;column2&quot; -&gt; value2\r\n         &quot;column1&quot; -&gt; value1\r\n     1 = &quot;column2&quot; -&gt; value4\r\n         &quot;column1&quot; -&gt; value3\r\n   \r\n \r\nsnippet of my code:\r\n\r\n    public static List&lt;Map&lt;String, String&gt;&gt; readExcelSheet(Sheet sheet) {\r\n\t\tIterator&lt;Row&gt; rows = sheet.iterator();\r\n\r\n\t\tif (!rows.hasNext()) {\r\n\t\t\treturn Collections.emptyList();\r\n\t\t}\r\n\r\n\t\tRow header = rows.next();\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\t\tfor (Cell cell : header) {\r\n\t\t\tString value = cell.getStringCellValue();\r\n\t\t\tif (!value.isEmpty()) {\r\n\t\t\t\tkeys.add(value);\r\n\t\t\t} else {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tList&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n\t\twhile (rows.hasNext()) {\r\n\t\t\tRow row = rows.next();\r\n\t\t\tMap&lt;String, String&gt; rowMap = new HashMap&lt;&gt;();\r\n\t\t\tfor (int i = 0; i &lt; keys.size(); ++i) {\r\n\t\t\t\tCell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n\t\t\t\tString value;\r\n\t\t\t\tvalue = cell.toString();\r\n\t\t\t\trowMap.put(keys.get(i), value);\r\n\t\t\t}\r\n\t\t\t// Only add rows which aren&#39;t empty\r\n\t\t\tif (!rowMap.values().stream().allMatch(String::isEmpty)) {\r\n\t\t\t\tresult.add(rowMap);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}","title":"When reading excel sheets and storing in list of maps, the columns order is mixed up","body":"<p>I'm reading from excel in the format of XLSX, and storing the data for each sheet in a list of maps.\nEach item in the list represents the columns and the values for each row in the sheet.\nHowever, the order of columns and values for each map, is not in the right order of the original excel sheet. What I want it the order from left to right, so I could later write to excel using my list of maps. What can I do to make it happen?\nAn example of the excel sheet:</p>\n<pre><code>column 1    column2\nvalue1      value2\nvalue3      value4\n</code></pre>\n<p>The list of maps with the order mixed up:</p>\n<pre><code> 0 = &quot;column2&quot; -&gt; value2\n     &quot;column1&quot; -&gt; value1\n 1 = &quot;column2&quot; -&gt; value4\n     &quot;column1&quot; -&gt; value3\n</code></pre>\n<p>snippet of my code:</p>\n<pre><code>public static List&lt;Map&lt;String, String&gt;&gt; readExcelSheet(Sheet sheet) {\n    Iterator&lt;Row&gt; rows = sheet.iterator();\n\n    if (!rows.hasNext()) {\n        return Collections.emptyList();\n    }\n\n    Row header = rows.next();\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n    for (Cell cell : header) {\n        String value = cell.getStringCellValue();\n        if (!value.isEmpty()) {\n            keys.add(value);\n        } else {\n            break;\n        }\n    }\n\n    List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\n\n    while (rows.hasNext()) {\n        Row row = rows.next();\n        Map&lt;String, String&gt; rowMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; keys.size(); ++i) {\n            Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n            String value;\n            value = cell.toString();\n            rowMap.put(keys.get(i), value);\n        }\n        // Only add rows which aren't empty\n        if (!rowMap.values().stream().allMatch(String::isEmpty)) {\n            result.add(rowMap);\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jhipster","h2"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1667044271,"post_id":74244793,"comment_id":131080196,"body_markdown":"H2 or Postgres? Please do not add tags for databases not involved","body":"H2 or Postgres? Please do not add tags for databases not involved"},{"owner":{"account_id":10881295,"reputation":370,"user_id":8000111,"display_name":"Jochen Buchholz"},"score":0,"creation_date":1667047417,"post_id":74244793,"comment_id":131080757,"body_markdown":"My productive database is postgresql, in development mode, I use H2. But postgresql and H2 works excellent when I execute the query in the SQL console. So I think it is a hibernate problem. I taged as postgresql to avoid missunderstandings with the window functions and the **with** syntax.","body":"My productive database is postgresql, in development mode, I use H2. But postgresql and H2 works excellent when I execute the query in the SQL console. So I think it is a hibernate problem. I taged as postgresql to avoid missunderstandings with the window functions and the <b>with</b> syntax."},{"owner":{"account_id":10881295,"reputation":370,"user_id":8000111,"display_name":"Jochen Buchholz"},"score":0,"creation_date":1667595930,"post_id":74244793,"comment_id":131212323,"body_markdown":"I opened a hibernate bug https://hibernate.atlassian.net/browse/HHH-15673","body":"I opened a hibernate bug <a href=\"https://hibernate.atlassian.net/browse/HHH-15673\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-15673</a>"}],"owner":{"account_id":10881295,"reputation":370,"user_id":8000111,"display_name":"Jochen Buchholz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667205211,"creation_date":1667042090,"question_id":74244793,"body_markdown":"tl;dr I have a long native query in Hibernate, that is split in multiple queries (with table as ...). This Query use inner joins that not work in hibernate (empty result), but work excellent in the SQL Console. Also if I copy/paste the query from the hibernate logs into the console.\r\n\r\n    with params as (select ca.id as calculation_id, chart_id, range_size, range_size * interval &#39;1&#39; minute as size\r\n                    from calculation ca\r\n                             inner join chart c on c.id = ca.chart_id\r\n                             inner join time_range tr on tr.id = c.time_range_id\r\n                    where ca.id = :calculationid),\r\n         tuple_diff as (select t.calculation_id,\r\n                               t.id,\r\n                               t.ohlc_id,\r\n                               t.time, t.time - lag(t.time, 1) over (order by t.time) as diff\r\n                         from tuple t inner join params p\r\n                           on t.calculation_id = p.calculation_id),\r\n         ohlc_diff as (select o.chart_id,\r\n                              o.id,\r\n                              o.time,\r\n                              o.time - lag(o.time, 1) over (order by o.time) as diff\r\n                       from ohlc o inner join params p on o.chart_id = p.chart_id),\r\n         tuple_filtered as (select id, ohlc_id, time, diff, p.size, p.range_size\r\n                             from tuple_diff t\r\n                                      inner join params p on chart_id = p.chart_id\r\n                             where diff &lt;&gt; p.size),\r\n         ohlc_filtered as (select o.chart_id, o.id as ohlc_id, time\r\n                           from ohlc_diff o\r\n                                    inner join params p on o.chart_id = p.chart_id\r\n                           where o.diff &lt;&gt; p.size)\r\n    select t.time as time, t.range_size as size\r\n    from tuple_filtered t\r\n             left join ohlc_filtered o on t.time = o.time\r\n    where o.ohlc_id is null\r\n    order by t.time;\r\n\r\nThe long version, I have a microservice, generated with jhipster and the project runs productive with PostgreSQL and in development mode with a H2 Database. I have ohlc stockexchange time series and calculate calculations with an other microservice and store the computation in a tuple table. Sometimes I have holes in the timeline and want to recalculate them. I need to get the time difference to the last calculation. This is not an easy SQL Query, because you need to access the previous row like in Excel. I use the [lag function][1] to solve this problem. But the lag function is not the reason.\r\n\r\n[![Datastructure in Jhipster JDL Studio][2]][2]\r\n\r\nI generate a test project with an [integration test][3] to analyze the problem. The Junit Test is ```de.bitc.se.service.CalculationServiceIT``` and run with a [Postgresql Testcontainer][4]. The test also fill the SQL tables with testdata. I start to split the query in small parts.\r\n\r\n    with params as (select ca.id as ca_id, \r\n                           chart_id, range_size, \r\n                           range_size * interval &#39;1&#39; minute as size\r\n                    from calculation ca\r\n                             inner join chart c on c.id = ca.chart_id\r\n                             inner join time_range tr on tr.id = c.time_range_id\r\n                    where ca.id = :calculationid)\r\n    select ca_id, chart_id, range_size\r\n    from params\r\n    order by ca_id;\r\n\r\nThis part works like the console. \r\n\r\n    with tuple_diff as (select t.calculation_id,\r\n                               t.id,\r\n                               t.ohlc_id,\r\n                               t.time,\r\n                               t.time - lag(t.time, 1) over (order by t.time) as diff\r\n                        from tuple t\r\n                        where calculation_id = :calculationid)\r\n    select calculation_id, time\r\n    from tuple_diff\r\n    order by calculation_id;\r\n\r\nThe second query too, but when I try to join the query&#39;s, I got an empty result:\r\n\r\n    with params as (select ca.id as ca_id,\r\n                           chart_id,\r\n                           range_size, range_size * interval &#39;1&#39; minute as size\r\n                    from calculation ca\r\n                             inner join chart c on c.id = ca.chart_id\r\n                             inner join time_range tr on tr.id = c.time_range_id\r\n                    where ca.id = :calculationid),\r\n         tuple_diff as (select t.calculation_id,\r\n                               t.id,\r\n                               t.ohlc_id,\r\n                               t.time,\r\n                               t.time - lag(t.time, 1) over (order by t.time) as diff\r\n                        from tuple t\r\n                                 inner join params p on p.ca_id = t.calculation_id\r\n                        where calculation_id = ca_id)\r\n    select calculation_id\r\n    from tuple_diff\r\n    order by calculation_id;\r\n\r\nWhen I try to join the ```param``` query (one result) with the ```tuple``` table I got no result. In the SQL console I got a result of multiple lines. I used the EntityManager to exclude Spring Data code in the splitted queries in the integration test.\r\n\r\nI have no idea why I got no result. Is it a bug in Hibernate or a mistake? \r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/functions-window.html\r\n  [2]: https://i.stack.imgur.com/bNYZZ.png\r\n  [3]: https://github.com/joe-bookwood/querybug/blob/main/src/test/java/de/bitc/se/service/CalculationServiceIT.java#L173\r\n  [4]: https://www.testcontainers.org/modules/databases/postgres/","title":"Native &quot;with&quot; query works in the SQL console but return no data as native query in hibernate (an inner join fails)","body":"<p>tl;dr I have a long native query in Hibernate, that is split in multiple queries (with table as ...). This Query use inner joins that not work in hibernate (empty result), but work excellent in the SQL Console. Also if I copy/paste the query from the hibernate logs into the console.</p>\n<pre><code>with params as (select ca.id as calculation_id, chart_id, range_size, range_size * interval '1' minute as size\n                from calculation ca\n                         inner join chart c on c.id = ca.chart_id\n                         inner join time_range tr on tr.id = c.time_range_id\n                where ca.id = :calculationid),\n     tuple_diff as (select t.calculation_id,\n                           t.id,\n                           t.ohlc_id,\n                           t.time, t.time - lag(t.time, 1) over (order by t.time) as diff\n                     from tuple t inner join params p\n                       on t.calculation_id = p.calculation_id),\n     ohlc_diff as (select o.chart_id,\n                          o.id,\n                          o.time,\n                          o.time - lag(o.time, 1) over (order by o.time) as diff\n                   from ohlc o inner join params p on o.chart_id = p.chart_id),\n     tuple_filtered as (select id, ohlc_id, time, diff, p.size, p.range_size\n                         from tuple_diff t\n                                  inner join params p on chart_id = p.chart_id\n                         where diff &lt;&gt; p.size),\n     ohlc_filtered as (select o.chart_id, o.id as ohlc_id, time\n                       from ohlc_diff o\n                                inner join params p on o.chart_id = p.chart_id\n                       where o.diff &lt;&gt; p.size)\nselect t.time as time, t.range_size as size\nfrom tuple_filtered t\n         left join ohlc_filtered o on t.time = o.time\nwhere o.ohlc_id is null\norder by t.time;\n</code></pre>\n<p>The long version, I have a microservice, generated with jhipster and the project runs productive with PostgreSQL and in development mode with a H2 Database. I have ohlc stockexchange time series and calculate calculations with an other microservice and store the computation in a tuple table. Sometimes I have holes in the timeline and want to recalculate them. I need to get the time difference to the last calculation. This is not an easy SQL Query, because you need to access the previous row like in Excel. I use the <a href=\"https://www.postgresql.org/docs/current/functions-window.html\" rel=\"nofollow noreferrer\">lag function</a> to solve this problem. But the lag function is not the reason.</p>\n<p><a href=\"https://i.stack.imgur.com/bNYZZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bNYZZ.png\" alt=\"Datastructure in Jhipster JDL Studio\" /></a></p>\n<p>I generate a test project with an <a href=\"https://github.com/joe-bookwood/querybug/blob/main/src/test/java/de/bitc/se/service/CalculationServiceIT.java#L173\" rel=\"nofollow noreferrer\">integration test</a> to analyze the problem. The Junit Test is <code>de.bitc.se.service.CalculationServiceIT</code> and run with a <a href=\"https://www.testcontainers.org/modules/databases/postgres/\" rel=\"nofollow noreferrer\">Postgresql Testcontainer</a>. The test also fill the SQL tables with testdata. I start to split the query in small parts.</p>\n<pre><code>with params as (select ca.id as ca_id, \n                       chart_id, range_size, \n                       range_size * interval '1' minute as size\n                from calculation ca\n                         inner join chart c on c.id = ca.chart_id\n                         inner join time_range tr on tr.id = c.time_range_id\n                where ca.id = :calculationid)\nselect ca_id, chart_id, range_size\nfrom params\norder by ca_id;\n</code></pre>\n<p>This part works like the console.</p>\n<pre><code>with tuple_diff as (select t.calculation_id,\n                           t.id,\n                           t.ohlc_id,\n                           t.time,\n                           t.time - lag(t.time, 1) over (order by t.time) as diff\n                    from tuple t\n                    where calculation_id = :calculationid)\nselect calculation_id, time\nfrom tuple_diff\norder by calculation_id;\n</code></pre>\n<p>The second query too, but when I try to join the query's, I got an empty result:</p>\n<pre><code>with params as (select ca.id as ca_id,\n                       chart_id,\n                       range_size, range_size * interval '1' minute as size\n                from calculation ca\n                         inner join chart c on c.id = ca.chart_id\n                         inner join time_range tr on tr.id = c.time_range_id\n                where ca.id = :calculationid),\n     tuple_diff as (select t.calculation_id,\n                           t.id,\n                           t.ohlc_id,\n                           t.time,\n                           t.time - lag(t.time, 1) over (order by t.time) as diff\n                    from tuple t\n                             inner join params p on p.ca_id = t.calculation_id\n                    where calculation_id = ca_id)\nselect calculation_id\nfrom tuple_diff\norder by calculation_id;\n</code></pre>\n<p>When I try to join the <code>param</code> query (one result) with the <code>tuple</code> table I got no result. In the SQL console I got a result of multiple lines. I used the EntityManager to exclude Spring Data code in the splitted queries in the integration test.</p>\n<p>I have no idea why I got no result. Is it a bug in Hibernate or a mistake?</p>\n"},{"tags":["java","android","kotlin","textview","android-widget"],"owner":{"account_id":22099826,"reputation":93,"user_id":16356467,"display_name":"bic55"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667205050,"creation_date":1667204934,"question_id":74260557,"body_markdown":"I generate dates for the month calendar inside appwidget, using the code fragment below:\r\n\r\n        for (week in 0 until 6) {\r\n    \tval rowRv = RemoteViews(context.packageName, R.layout.w_calendar_row_week_wrapper)\r\n    \t\r\n    \tfor (day in 0..6) {\r\n    \t\r\n    \t...\r\n    \t\r\n    \t// Set date into cell\r\n    \t// I need to distinguish textviews later - to choose the date by the click\r\n            dateTextCellRv.setTextViewText(\r\n                android.R.id.text1,\r\n                cal.get(Calendar.DAY_OF_MONTH).toString()\r\n                )\r\n    \t\t\r\n    \t// For click on the chosen date\r\n    \tval getDateNumber = cal.get(Calendar.DAY_OF_MONTH).toString().toInt()\r\n    \tval clickOnChosenDate: PendingIntent =\r\n            Intent(context, WidgetCalendarProvider::class.java).let { intent -&gt;\r\n                    intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId)\r\n                    intent.putExtra(&quot;passedDate$appWidgetId&quot;, getDateNumber)\r\n                    intent.action = ACTION_CHOSEN_DATE_CLICK_CALENDAR\r\n                    PendingIntent.getBroadcast(\r\n                            context,\r\n                            appWidgetId,\r\n                            intent,\r\n                            PendingIntent.FLAG_IMMUTABLE\r\n                            )\r\n                        }\r\n        dateTextCellRv.setOnClickPendingIntent(\r\n                    android.R.id.text1,\r\n                    clickOnChosenDate\r\n                    )\r\n    \r\n    \trowRv.addView(R.id.row_week_wrapper_w_calendar, cellRv)\r\n        cal.add(Calendar.DAY_OF_MONTH, 1)\t\t\t\r\n    \t}\r\n    \trViews.addView(R.id.calendar_view_w_calendar, rowRv)\r\n    }\r\n\r\n**How to set id for all the textviews with dates programmatically?**\r\n\r\n**Is it possible to distinguish textviews with android.R.id.text1 for getting string values from each of them by click on any TextView?**","title":"How to set id for the views in RemoteViews (appwidget) programmatically?","body":"<p>I generate dates for the month calendar inside appwidget, using the code fragment below:</p>\n<pre><code>    for (week in 0 until 6) {\n    val rowRv = RemoteViews(context.packageName, R.layout.w_calendar_row_week_wrapper)\n    \n    for (day in 0..6) {\n    \n    ...\n    \n    // Set date into cell\n    // I need to distinguish textviews later - to choose the date by the click\n        dateTextCellRv.setTextViewText(\n            android.R.id.text1,\n            cal.get(Calendar.DAY_OF_MONTH).toString()\n            )\n        \n    // For click on the chosen date\n    val getDateNumber = cal.get(Calendar.DAY_OF_MONTH).toString().toInt()\n    val clickOnChosenDate: PendingIntent =\n        Intent(context, WidgetCalendarProvider::class.java).let { intent -&gt;\n                intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId)\n                intent.putExtra(&quot;passedDate$appWidgetId&quot;, getDateNumber)\n                intent.action = ACTION_CHOSEN_DATE_CLICK_CALENDAR\n                PendingIntent.getBroadcast(\n                        context,\n                        appWidgetId,\n                        intent,\n                        PendingIntent.FLAG_IMMUTABLE\n                        )\n                    }\n    dateTextCellRv.setOnClickPendingIntent(\n                android.R.id.text1,\n                clickOnChosenDate\n                )\n\n    rowRv.addView(R.id.row_week_wrapper_w_calendar, cellRv)\n    cal.add(Calendar.DAY_OF_MONTH, 1)           \n    }\n    rViews.addView(R.id.calendar_view_w_calendar, rowRv)\n}\n</code></pre>\n<p><strong>How to set id for all the textviews with dates programmatically?</strong></p>\n<p><strong>Is it possible to distinguish textviews with android.R.id.text1 for getting string values from each of them by click on any TextView?</strong></p>\n"},{"tags":["java","arrays","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667205038,"creation_date":1666970093,"answer_id":74237412,"question_id":74234511,"body_markdown":"You can walk through the attributes of the innermost array(`Users`) by using a **shift** transformation spec while copying the values of the others grabbed from after going two levels up the tree such as \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Users&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;@(2,timestamp)&quot;: &quot;[&amp;1].timestamp&quot;, // go 2 levels up the tree to grab the value of timestamp by using &quot;@(2,timestamp)&quot;, [&amp;1] stands for going 1 level up to reach the level of &quot;Users&quot; array to combine all values at that level \r\n          &quot;@(2,place)&quot;: &quot;[&amp;1].place&quot;,\r\n          &quot;@(2,event)&quot;: &quot;[&amp;1].event&quot;,\r\n          &quot;*&quot;: &quot;[&amp;1].&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Edit** : alternatively you can prefer the below one to make it dynamic :\r\n```json\r\n[\r\n  {\r\n    // separate the attributes into two groups &quot;x&quot; and &quot;y&quot;\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Users&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;@&quot;: &quot;x.&amp;2.&amp;&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;*&quot;: &quot;y.&amp;&quot;\r\n    }\r\n  },\r\n  {\r\n    // combine each attributes under common index values\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;x&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;@(2,y)&quot;: &quot;&amp;2.&amp;&quot;\r\n        },\r\n        &quot;@&quot;: &quot;&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    // dive deep into indexes\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;x&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;*&quot;: &quot;[&amp;2].&amp;&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WLesz.jpg\r\n  [2]: https://i.stack.imgur.com/y3QcZ.jpg","title":"Can I create Multiple arrays dynamically based on a key value with jolt?","body":"<p>You can walk through the attributes of the innermost array(<code>Users</code>) by using a <strong>shift</strong> transformation spec while copying the values of the others grabbed from after going two levels up the tree such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Users&quot;: {\n        &quot;*&quot;: {\n          &quot;@(2,timestamp)&quot;: &quot;[&amp;1].timestamp&quot;, // go 2 levels up the tree to grab the value of timestamp by using &quot;@(2,timestamp)&quot;, [&amp;1] stands for going 1 level up to reach the level of &quot;Users&quot; array to combine all values at that level \n          &quot;@(2,place)&quot;: &quot;[&amp;1].place&quot;,\n          &quot;@(2,event)&quot;: &quot;[&amp;1].event&quot;,\n          &quot;*&quot;: &quot;[&amp;1].&amp;&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/WLesz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLesz.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong> : alternatively you can prefer the below one to make it dynamic :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    // separate the attributes into two groups &quot;x&quot; and &quot;y&quot;\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Users&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;@&quot;: &quot;x.&amp;2.&amp;&quot;\n          }\n        }\n      },\n      &quot;*&quot;: &quot;y.&amp;&quot;\n    }\n  },\n  {\n    // combine each attributes under common index values\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;x&quot;: {\n        &quot;*&quot;: {\n          &quot;@(2,y)&quot;: &quot;&amp;2.&amp;&quot;\n        },\n        &quot;@&quot;: &quot;&amp;&quot;\n      }\n    }\n  },\n  {\n    // dive deep into indexes\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;x&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;*&quot;: &quot;[&amp;2].&amp;&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/y3QcZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y3QcZ.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26268203,"reputation":25,"user_id":19938449,"display_name":"shwetha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74237412,"answer_count":1,"score":0,"last_activity_date":1667205038,"creation_date":1666955505,"question_id":74234511,"body_markdown":"I have a following JSON :\r\n\r\n```json\r\n{\r\n  &quot;timestamp&quot;: 1665923527,\r\n  &quot;place&quot;: &quot;us&quot;,\r\n  &quot;event&quot;: &quot;custom&quot;,\r\n  &quot;Users&quot;: [\r\n    {\r\n      &quot;email&quot;: &quot;test1@test.com&quot;,\r\n      &quot;key1&quot;: &quot;Admin&quot;\r\n    },\r\n    {\r\n      &quot;email&quot;: &quot;test2@test.com&quot;,\r\n      &quot;key1&quot;: &quot;Admin&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nwhich I want to modify it to multiple array based on the users key dynamically. In the above example I have 2 arrays inside user. So I want the output to be:\r\n\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;timestamp&quot;: 1665923527,\r\n    &quot;place&quot;: &quot;us&quot;,\r\n    &quot;event&quot;: &quot;custom&quot;,\r\n    &quot;email&quot;: &quot;test1@test.com&quot;,\r\n    &quot;key1&quot;: &quot;Admin&quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: 1665923527,\r\n    &quot;place&quot;: &quot;us&quot;,\r\n    &quot;event&quot;: &quot;custom&quot;,\r\n    &quot;email&quot;: &quot;test2@test.com&quot;,\r\n    &quot;key1&quot;: &quot;Admin&quot;\r\n  }\r\n]\r\n```\r\n\r\nIs it possible with Jolt?\r\n\r\nI did search in all the documents i found, but no luck","title":"Can I create Multiple arrays dynamically based on a key value with jolt?","body":"<p>I have a following JSON :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;timestamp&quot;: 1665923527,\n  &quot;place&quot;: &quot;us&quot;,\n  &quot;event&quot;: &quot;custom&quot;,\n  &quot;Users&quot;: [\n    {\n      &quot;email&quot;: &quot;test1@test.com&quot;,\n      &quot;key1&quot;: &quot;Admin&quot;\n    },\n    {\n      &quot;email&quot;: &quot;test2@test.com&quot;,\n      &quot;key1&quot;: &quot;Admin&quot;\n    }\n  ]\n}\n</code></pre>\n<p>which I want to modify it to multiple array based on the users key dynamically. In the above example I have 2 arrays inside user. So I want the output to be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;timestamp&quot;: 1665923527,\n    &quot;place&quot;: &quot;us&quot;,\n    &quot;event&quot;: &quot;custom&quot;,\n    &quot;email&quot;: &quot;test1@test.com&quot;,\n    &quot;key1&quot;: &quot;Admin&quot;\n  },\n  {\n    &quot;timestamp&quot;: 1665923527,\n    &quot;place&quot;: &quot;us&quot;,\n    &quot;event&quot;: &quot;custom&quot;,\n    &quot;email&quot;: &quot;test2@test.com&quot;,\n    &quot;key1&quot;: &quot;Admin&quot;\n  }\n]\n</code></pre>\n<p>Is it possible with Jolt?</p>\n<p>I did search in all the documents i found, but no luck</p>\n"},{"tags":["java","jpa","enums","toplink"],"comments":[{"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"score":0,"creation_date":1228827192,"post_id":352586,"comment_id":184986,"body_markdown":"did you omit the @Column attribute for the field intentionally? Without it, it would be hard to persist anything...","body":"did you omit the @Column attribute for the field intentionally? Without it, it would be hard to persist anything..."},{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":0,"creation_date":1228831567,"post_id":352586,"comment_id":185105,"body_markdown":"You need a static hashmap of your enums inside your enum, and a static method &quot;getByRating&quot;","body":"You need a static hashmap of your enums inside your enum, and a static method &quot;getByRating&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1228828723,"creation_date":1228828723,"answer_id":352680,"question_id":352586,"body_markdown":"i don&#39;t know internals of toplink, but my educated guess is the following: it uses the  Rating.valueOf(String s) method to map in the other direction. it is not possible to override valueOf(), so you must stick to the naming convention of java, to allow a correct valueOf method. \r\n\r\n\r\n\r\n    public enum Rating {\r\n    \r\n        UNRATED,\r\n        G, \r\n        PG,\r\n        PG_13 ,\r\n        R ,\r\n        NC_17 ;\r\n     \r\n        public String getRating() {\r\n            return name().replace(&quot;_&quot;,&quot;-&quot;);;\r\n        }\r\n    }\r\n\r\ngetRating produces the &quot;human-readable&quot; rating. note that the &quot;-&quot; chanracter is not allowed in the enum identifier.\r\n\r\nof course you will have to store the values in the DB as NC_17.\r\n","title":"How to use enums with JPA","body":"<p>i don't know internals of toplink, but my educated guess is the following: it uses the  Rating.valueOf(String s) method to map in the other direction. it is not possible to override valueOf(), so you must stick to the naming convention of java, to allow a correct valueOf method. </p>\n\n<pre><code>public enum Rating {\n\n    UNRATED,\n    G, \n    PG,\n    PG_13 ,\n    R ,\n    NC_17 ;\n\n    public String getRating() {\n        return name().replace(\"_\",\"-\");;\n    }\n}\n</code></pre>\n\n<p>getRating produces the \"human-readable\" rating. note that the \"-\" chanracter is not allowed in the enum identifier.</p>\n\n<p>of course you will have to store the values in the DB as NC_17.</p>\n"},{"tags":[],"owner":{"account_id":121553,"reputation":1469,"user_id":314728,"accept_rate":94,"display_name":"Mg."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1228831514,"creation_date":1228831514,"answer_id":352819,"question_id":352586,"body_markdown":"What about this  \r\n\r\n\r\n    public String getRating{  \r\n       return rating.toString();\r\n    }\r\n    \r\n    pubic void setRating(String rating){  \r\n       //parse rating string to rating enum\r\n       //JPA will use this getter to set the values when getting data from DB   \r\n    }  \r\n    \r\n    @Transient  \r\n    public Rating getRatingValue(){  \r\n       return rating;\r\n    }\r\n\r\n    @Transient  \r\n    public Rating setRatingValue(Rating rating){  \r\n       this.rating = rating;\r\n    }\r\n\r\n\r\nwith this you use the ratings as String both on your DB and entity, but use the enum for everything else.","title":"How to use enums with JPA","body":"<p>What about this  </p>\n\n<pre><code>public String getRating{  \n   return rating.toString();\n}\n\npubic void setRating(String rating){  \n   //parse rating string to rating enum\n   //JPA will use this getter to set the values when getting data from DB   \n}  \n\n@Transient  \npublic Rating getRatingValue(){  \n   return rating;\n}\n\n@Transient  \npublic Rating setRatingValue(Rating rating){  \n   this.rating = rating;\n}\n</code></pre>\n\n<p>with this you use the ratings as String both on your DB and entity, but use the enum for everything else.</p>\n"},{"tags":[],"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1228832951,"creation_date":1228832951,"answer_id":352891,"question_id":352586,"body_markdown":"    public enum Rating {\r\n\r\n        UNRATED ( &quot;&quot; ),\r\n        G ( &quot;G&quot; ), \r\n        PG ( &quot;PG&quot; ),\r\n        PG13 ( &quot;PG-13&quot; ),\r\n        R ( &quot;R&quot; ),\r\n        NC17 ( &quot;NC-17&quot; );\r\n\r\n        private String rating;\r\n\r\n        private static Map&lt;String, Rating&gt; ratings = new HashMap&lt;String, Rating&gt;();\r\n        static {\r\n            for (Rating r : EnumSet.allOf(Rating.class)) {\r\n                ratings.put(r.toString(), r);\r\n            }\r\n        }\r\n\r\n        private static Rating getRating(String rating) {\r\n            return ratings.get(rating);\r\n        }\r\n\r\n        private Rating(String rating) {\r\n            this.rating = rating;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return rating;\r\n        }\r\n    }\r\n\r\nI don&#39;t know how to do the mappings in the annotated TopLink side of things however.","title":"How to use enums with JPA","body":"<pre><code>public enum Rating {\n\n    UNRATED ( \"\" ),\n    G ( \"G\" ), \n    PG ( \"PG\" ),\n    PG13 ( \"PG-13\" ),\n    R ( \"R\" ),\n    NC17 ( \"NC-17\" );\n\n    private String rating;\n\n    private static Map&lt;String, Rating&gt; ratings = new HashMap&lt;String, Rating&gt;();\n    static {\n        for (Rating r : EnumSet.allOf(Rating.class)) {\n            ratings.put(r.toString(), r);\n        }\n    }\n\n    private static Rating getRating(String rating) {\n        return ratings.get(rating);\n    }\n\n    private Rating(String rating) {\n        this.rating = rating;\n    }\n\n    @Override\n    public String toString() {\n        return rating;\n    }\n}\n</code></pre>\n\n<p>I don't know how to do the mappings in the annotated TopLink side of things however.</p>\n"},{"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1329352920,"creation_date":1228835157,"answer_id":353042,"question_id":352586,"body_markdown":"Sounds like you need to add support for a custom type:\r\n\r\n[Extending OracleAS TopLink to Support Custom Type Conversions](http://www.oracle.com/technetwork/middleware/ias/index-097678.html)\r\n","title":"How to use enums with JPA","body":"<p>Sounds like you need to add support for a custom type:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/middleware/ias/index-097678.html\" rel=\"nofollow noreferrer\">Extending OracleAS TopLink to Support Custom Type Conversions</a></p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1230013815,"creation_date":1230013815,"answer_id":388303,"question_id":352586,"body_markdown":"You have a problem here and that is the limited capabilities of JPA when it comes to handling enums.  With enums you have two choices:\r\n\r\n 1. Store them as a number equalling `Enum.ordinal()`, which is a terrible idea (imho); or\r\n 2. Store them as a string equalling `Enum.name()`.  **Note:** not `toString()` as you might expect, especially since the default behaviourfor `Enum.toString()` is to return `name()`.\r\n\r\nPersonally I think the best option is (2).\r\n\r\nNow you have a problem in that you&#39;re defining values that don&#39;t represent vailid instance names in Java (namely using a hyphen).  So your choices are:\r\n\r\n  - Change your data;\r\n  - Persist String fields and implicitly convert them to or from enums in your objects; or\r\n  - Use nonstandard extensions like TypeConverters.\r\n\r\nI would do them in that order (first to last) as an order of preference.\r\n\r\nSomeone suggested Oracle TopLink&#39;s converter but you&#39;re probably using Toplink Essentials, being the reference JPA 1.0 implementation, which is a subset of the commercial Oracle Toplink product.\r\n\r\nAs another suggestion, I&#39;d strongly recommend switching to [EclipseLink][1].  It is a far more complete implementation than Toplink Essentials and Eclipselink will be the reference implementation of JPA 2.0 when released (expected by JavaOne mid next year).\r\n\r\n\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/","title":"How to use enums with JPA","body":"<p>You have a problem here and that is the limited capabilities of JPA when it comes to handling enums.  With enums you have two choices:</p>\n\n<ol>\n<li>Store them as a number equalling <code>Enum.ordinal()</code>, which is a terrible idea (imho); or</li>\n<li>Store them as a string equalling <code>Enum.name()</code>.  <strong>Note:</strong> not <code>toString()</code> as you might expect, especially since the default behaviourfor <code>Enum.toString()</code> is to return <code>name()</code>.</li>\n</ol>\n\n<p>Personally I think the best option is (2).</p>\n\n<p>Now you have a problem in that you're defining values that don't represent vailid instance names in Java (namely using a hyphen).  So your choices are:</p>\n\n<ul>\n<li>Change your data;</li>\n<li>Persist String fields and implicitly convert them to or from enums in your objects; or</li>\n<li>Use nonstandard extensions like TypeConverters.</li>\n</ul>\n\n<p>I would do them in that order (first to last) as an order of preference.</p>\n\n<p>Someone suggested Oracle TopLink's converter but you're probably using Toplink Essentials, being the reference JPA 1.0 implementation, which is a subset of the commercial Oracle Toplink product.</p>\n\n<p>As another suggestion, I'd strongly recommend switching to <a href=\"http://www.eclipse.org/eclipselink/\" rel=\"noreferrer\">EclipseLink</a>.  It is a far more complete implementation than Toplink Essentials and Eclipselink will be the reference implementation of JPA 2.0 when released (expected by JavaOne mid next year).</p>\n"},{"tags":[],"owner":{"account_id":21735,"reputation":777,"user_id":53078,"display_name":"aledbf"},"down_vote_count":4,"up_vote_count":37,"is_accepted":false,"score":33,"last_activity_date":1231447452,"creation_date":1231447452,"answer_id":425829,"question_id":352586,"body_markdown":"have you tried to store the ordinal value. Store the string value works fine if you don&#39;t have an associated String to the value:\r\n\r\n    @Enumerated(EnumType.ORDINAL)\r\n\r\n","title":"How to use enums with JPA","body":"<p>have you tried to store the ordinal value. Store the string value works fine if you don't have an associated String to the value:</p>\n\n<pre><code>@Enumerated(EnumType.ORDINAL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189856,"reputation":25,"user_id":429444,"display_name":"Selvaraj Muthiah"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1317716965,"creation_date":1317716965,"answer_id":7645127,"question_id":352586,"body_markdown":"use this annotation\r\n\r\n    @Column(columnDefinition=&quot;ENUM(&#39;User&#39;, &#39;Admin&#39;)&quot;)","title":"How to use enums with JPA","body":"<p>use this annotation</p>\n\n<pre><code>@Column(columnDefinition=\"ENUM('User', 'Admin')\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":751567,"reputation":17,"user_id":901971,"display_name":"pingpong"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1344349925,"creation_date":1344349925,"answer_id":11848235,"question_id":352586,"body_markdown":"Resolved!!!\r\nWhere I found the answer:   http://programming.itags.org/development-tools/65254/\r\n\r\nBriefly, the convertion looks for the name of enum, not the value of attribute &#39;rating&#39;.\r\nIn your case: If you have in the db values &quot;NC-17&quot;, you need to have in your enum:\r\n\r\nenum Rating {&lt;br/&gt;\r\n(...)&lt;br/&gt;\r\n**NC-17** ( &quot;NC-17&quot; );&lt;br/&gt;\r\n(...)&lt;br/&gt;\r\n\r\n","title":"How to use enums with JPA","body":"<p>Resolved!!!\nWhere I found the answer:   <a href=\"http://programming.itags.org/development-tools/65254/\" rel=\"nofollow\">http://programming.itags.org/development-tools/65254/</a></p>\n\n<p>Briefly, the convertion looks for the name of enum, not the value of attribute 'rating'.\nIn your case: If you have in the db values \"NC-17\", you need to have in your enum:</p>\n\n<p>enum Rating {<br/>\n(...)<br/>\n<strong>NC-17</strong> ( \"NC-17\" );<br/>\n(...)<br/></p>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541612631,"creation_date":1372012241,"answer_id":17263955,"question_id":352586,"body_markdown":"The problem is, I think, that JPA was never incepted with the idea in mind that we could have a complex preexisting Schema already in place.\r\n\r\nI think there are two main shortcomings resulting from this, specific to Enum:\r\n\r\n1. The limitation of using name() and ordinal(). Why not just mark a getter with @Id, the way we do with @Entity?\r\n2. Enum&#39;s have usually representation in the database to allow association with all sorts of metadata, including a proper name, a descriptive name, maybe something with localization etc. We need the easy of use of an Enum combined with the flexibility of an Entity.\r\n\r\nHelp my cause and vote on [JPA_SPEC-47][1]\r\n\r\n  [1]: https://github.com/eclipse-ee4j/jpa-api/issues/47","title":"How to use enums with JPA","body":"<p>The problem is, I think, that JPA was never incepted with the idea in mind that we could have a complex preexisting Schema already in place.</p>\n\n<p>I think there are two main shortcomings resulting from this, specific to Enum:</p>\n\n<ol>\n<li>The limitation of using name() and ordinal(). Why not just mark a getter with @Id, the way we do with @Entity?</li>\n<li>Enum's have usually representation in the database to allow association with all sorts of metadata, including a proper name, a descriptive name, maybe something with localization etc. We need the easy of use of an Enum combined with the flexibility of an Entity.</li>\n</ol>\n\n<p>Help my cause and vote on <a href=\"https://github.com/eclipse-ee4j/jpa-api/issues/47\" rel=\"nofollow noreferrer\">JPA_SPEC-47</a></p>\n"},{"tags":[],"owner":{"account_id":4296016,"reputation":407,"user_id":3511090,"display_name":"Jayen Chondigara"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510678381,"creation_date":1510678381,"answer_id":47291178,"question_id":352586,"body_markdown":"Enum\r\npublic enum ParentalControlLevelsEnum {\r\n    U(&quot;U&quot;), PG(&quot;PG&quot;), _12(&quot;12&quot;), _15(&quot;15&quot;), _18(&quot;18&quot;);\r\n\r\n    private final String value;\r\n\r\n    ParentalControlLevelsEnum(final String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public static ParentalControlLevelsEnum fromString(final String value) {\r\n        for (ParentalControlLevelsEnum level : ParentalControlLevelsEnum.values()) {\r\n            if (level.getValue().equalsIgnoreCase(value)) {\r\n                return level;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\ncompare -&gt; Enum\r\n\r\npublic class RatingComparator implements Comparator&lt;ParentalControlLevelsEnum&gt; {\r\n\r\n    public int compare(final ParentalControlLevelsEnum o1, final ParentalControlLevelsEnum o2) {\r\n        if (o1.ordinal() &lt; o2.ordinal()) {\r\n            return -1;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n\r\n} \r\n","title":"How to use enums with JPA","body":"<p>Enum\npublic enum ParentalControlLevelsEnum {\n    U(\"U\"), PG(\"PG\"), _12(\"12\"), _15(\"15\"), _18(\"18\");</p>\n\n<pre><code>private final String value;\n\nParentalControlLevelsEnum(final String value) {\n    this.value = value;\n}\n\npublic String getValue() {\n    return value;\n}\n\npublic static ParentalControlLevelsEnum fromString(final String value) {\n    for (ParentalControlLevelsEnum level : ParentalControlLevelsEnum.values()) {\n        if (level.getValue().equalsIgnoreCase(value)) {\n            return level;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>compare -> Enum</p>\n\n<p>public class RatingComparator implements Comparator {</p>\n\n<pre><code>public int compare(final ParentalControlLevelsEnum o1, final ParentalControlLevelsEnum o2) {\n    if (o1.ordinal() &lt; o2.ordinal()) {\n        return -1;\n    } else {\n        return 1;\n    }\n}\n</code></pre>\n\n<p>} </p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586307358,"creation_date":1586307358,"answer_id":61091709,"question_id":352586,"body_markdown":"Using your existing `enum Rating`.  You can use `AttributeCoverter`s.\r\n\r\n```java\r\n@Converter(autoApply = true)\r\npublic class RatingConverter implements AttributeConverter&lt;Rating, String&gt; {\r\n  \r\n    @Override\r\n    public String convertToDatabaseColumn(Rating rating) {\r\n        if (rating == null) {\r\n            return null;\r\n        }\r\n        return rating.toString();\r\n    }\r\n \r\n    @Override\r\n    public Rating convertToEntityAttribute(String code) {\r\n        if (code == null) {\r\n            return null;\r\n        }\r\n \r\n        return Stream.of(Rating.values())\r\n          .filter(c -&gt; c.toString().equals(code))\r\n          .findFirst()\r\n          .orElseThrow(IllegalArgumentException::new);\r\n    }\r\n}\r\n```","title":"How to use enums with JPA","body":"<p>Using your existing <code>enum Rating</code>.  You can use <code>AttributeCoverter</code>s.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class RatingConverter implements AttributeConverter&lt;Rating, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(Rating rating) {\n        if (rating == null) {\n            return null;\n        }\n        return rating.toString();\n    }\n\n    @Override\n    public Rating convertToEntityAttribute(String code) {\n        if (code == null) {\n            return null;\n        }\n\n        return Stream.of(Rating.values())\n          .filter(c -&gt; c.toString().equals(code))\n          .findFirst()\n          .orElseThrow(IllegalArgumentException::new);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667204947,"creation_date":1667204947,"answer_id":74260561,"question_id":352586,"body_markdown":"In JPA 2.0, a way to persist an `enum` using neither the `name()` nor `ordinal()` can be done by wrapping the `enum` in a `Embeddable` class.\r\n\r\nAssume we have the following `enum`, with a `code` value intended to be stored in the database :\r\n\r\n      public enum ECourseType {\r\n        PACS004(&quot;pacs.004&quot;), PACS008(&quot;pacs.008&quot;);\r\n    \r\n        private String code;\r\n    \r\n        ECourseType(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    }\r\n\r\nPlease note that the `code` values could not be used as names for the `enum` since they contain dots. This remark justifies the workaround we are providing.\r\n\r\nWe can build an immutable class (as a value object) wrapping the `code` value of the enum with a static method `from()` to build it from the `enum`, like this : \r\n\r\n\r\n    @Embeddable\r\n    public class CourseType {\r\n    \r\n    private static Map&lt;String, ECourseType&gt; codeToEnumCache = \r\n    Arrays.stream(ECourseType.values())\r\n                .collect(Collectors.toMap( e -&gt; e.getCode(), e -&gt; e));\r\n    \r\n        private String value;\r\n    \r\n        private CourseType() {};\r\n    \r\n        public static CourseType from(ECourseType en) {\r\n            CourseType toReturn = new CourseType();\r\n            toReturn.value = en.getCode();\r\n            return toReturn;\r\n        }\r\n    \r\n        public ECourseType getEnum() {\r\n            return codeToEnumCache.get(value);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass() ) return false;\r\n    \r\n            CourseType that = (CourseType) o;\r\n            return Objects.equals(value, that.value);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(value);\r\n        }\r\n    }\r\n\r\nWriting proper `equals()` and `hashcode()` is important to insure the &quot;value object&quot; aim of this class. \r\n\r\nIf needed, an equivalence method between the CourseType et ECourseType may be added (but not mixed with equals()) : \r\n\r\n    public boolean isEquiv(ECourseType eCourseType) {\r\n        return Objects.equals(eCourseType, getEnum());\r\n    }\r\n\r\n\r\nThis class can now be embedded in an entity class :\r\n\r\n        public class Course {\r\n        \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;COU_ID&quot;)\r\n        private Long pk;\r\n    \r\n        @Basic\r\n        @Column(name = &quot;COURSE_NAME&quot;)\r\n        private String name;\r\n    \r\n        @Embedded\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;COURSE_TYPE&quot;)),\r\n        })\r\n        private CourseType type;\r\n    \r\n        public void setType(CourseType type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public void setType(ECourseType type) {\r\n            this.type = CourseType.from(type);\r\n        }\r\n    \r\n    }\r\n\r\nPlease note that the setter `setType(ECourseType type)` has been added for convenience. A similar getter could be added to get the `type` as `ECourseType`.\r\n\r\n\r\n\r\nUsing this modeling, hibernate generates (for H2 db) the following SQL table : \r\n\r\n    CREATE TABLE &quot;PUBLIC&quot;.&quot;COU_COURSE&quot;\r\n    (\r\n       COU_ID bigint PRIMARY KEY NOT NULL,\r\n       COURSE_NAME varchar(255),\r\n       COURSE_TYPE varchar(255)\r\n    )\r\n    ;\r\n\r\nThe &quot;code&quot; values of the enum will be stored in the COURSE_TYPE.\r\n\r\nAnd the `Course` entities can be searched with a query as simple as this : \r\n\r\n        public List&lt;Course&gt; findByType(CourseType type) {\r\n        manager.clear();\r\n        Query query = manager.createQuery(&quot;from Course c where c.type = :type&quot;);\r\n        query.setParameter(&quot;type&quot;, type);\r\n        return (List&lt;Course&gt;) query.getResultList();\r\n    }\r\n\r\n**Conclusion:**\r\n\r\nThis shows how to persist an enum using neither the `name` nor the `ordinal` but insure a clean modelling of an entity relying on it.\r\nThis is can be particularly useful for legacy when the values stored in db are not compliant to the java syntax of enum names and ordinals.\r\nIt also allows refactoring the enum names without having to change values in db.\r\n\r\n\r\n\r\n \r\n\r\n","title":"How to use enums with JPA","body":"<p>In JPA 2.0, a way to persist an <code>enum</code> using neither the <code>name()</code> nor <code>ordinal()</code> can be done by wrapping the <code>enum</code> in a <code>Embeddable</code> class.</p>\n<p>Assume we have the following <code>enum</code>, with a <code>code</code> value intended to be stored in the database :</p>\n<pre><code>  public enum ECourseType {\n    PACS004(&quot;pacs.004&quot;), PACS008(&quot;pacs.008&quot;);\n\n    private String code;\n\n    ECourseType(String code) {\n        this.code = code;\n    }\n\n    public String getCode() {\n        return code;\n    }\n}\n</code></pre>\n<p>Please note that the <code>code</code> values could not be used as names for the <code>enum</code> since they contain dots. This remark justifies the workaround we are providing.</p>\n<p>We can build an immutable class (as a value object) wrapping the <code>code</code> value of the enum with a static method <code>from()</code> to build it from the <code>enum</code>, like this :</p>\n<pre><code>@Embeddable\npublic class CourseType {\n\nprivate static Map&lt;String, ECourseType&gt; codeToEnumCache = \nArrays.stream(ECourseType.values())\n            .collect(Collectors.toMap( e -&gt; e.getCode(), e -&gt; e));\n\n    private String value;\n\n    private CourseType() {};\n\n    public static CourseType from(ECourseType en) {\n        CourseType toReturn = new CourseType();\n        toReturn.value = en.getCode();\n        return toReturn;\n    }\n\n    public ECourseType getEnum() {\n        return codeToEnumCache.get(value);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass() ) return false;\n\n        CourseType that = (CourseType) o;\n        return Objects.equals(value, that.value);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(value);\n    }\n}\n</code></pre>\n<p>Writing proper <code>equals()</code> and <code>hashcode()</code> is important to insure the &quot;value object&quot; aim of this class.</p>\n<p>If needed, an equivalence method between the CourseType et ECourseType may be added (but not mixed with equals()) :</p>\n<pre><code>public boolean isEquiv(ECourseType eCourseType) {\n    return Objects.equals(eCourseType, getEnum());\n}\n</code></pre>\n<p>This class can now be embedded in an entity class :</p>\n<pre><code>    public class Course {\n    \n    @Id\n    @GeneratedValue\n    @Column(name = &quot;COU_ID&quot;)\n    private Long pk;\n\n    @Basic\n    @Column(name = &quot;COURSE_NAME&quot;)\n    private String name;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;COURSE_TYPE&quot;)),\n    })\n    private CourseType type;\n\n    public void setType(CourseType type) {\n        this.type = type;\n    }\n\n    public void setType(ECourseType type) {\n        this.type = CourseType.from(type);\n    }\n\n}\n</code></pre>\n<p>Please note that the setter <code>setType(ECourseType type)</code> has been added for convenience. A similar getter could be added to get the <code>type</code> as <code>ECourseType</code>.</p>\n<p>Using this modeling, hibernate generates (for H2 db) the following SQL table :</p>\n<pre><code>CREATE TABLE &quot;PUBLIC&quot;.&quot;COU_COURSE&quot;\n(\n   COU_ID bigint PRIMARY KEY NOT NULL,\n   COURSE_NAME varchar(255),\n   COURSE_TYPE varchar(255)\n)\n;\n</code></pre>\n<p>The &quot;code&quot; values of the enum will be stored in the COURSE_TYPE.</p>\n<p>And the <code>Course</code> entities can be searched with a query as simple as this :</p>\n<pre><code>    public List&lt;Course&gt; findByType(CourseType type) {\n    manager.clear();\n    Query query = manager.createQuery(&quot;from Course c where c.type = :type&quot;);\n    query.setParameter(&quot;type&quot;, type);\n    return (List&lt;Course&gt;) query.getResultList();\n}\n</code></pre>\n<p><strong>Conclusion:</strong></p>\n<p>This shows how to persist an enum using neither the <code>name</code> nor the <code>ordinal</code> but insure a clean modelling of an entity relying on it.\nThis is can be particularly useful for legacy when the values stored in db are not compliant to the java syntax of enum names and ordinals.\nIt also allows refactoring the enum names without having to change values in db.</p>\n"}],"owner":{"account_id":18980,"reputation":597,"user_id":44002,"accept_rate":50,"display_name":"Timo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75631,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":353042,"answer_count":12,"score":37,"last_activity_date":1667204947,"creation_date":1228826101,"question_id":352586,"body_markdown":"I have an existing database of a film rental system. Each film has a has a rating attribute. In SQL they used a constraint to limit the allowed values of this attribute.\r\n\r\n    CONSTRAINT film_rating_check CHECK \r\n        ((((((((rating)::text = &#39;&#39;::text) OR \r\n              ((rating)::text = &#39;G&#39;::text)) OR \r\n              ((rating)::text = &#39;PG&#39;::text)) OR \r\n              ((rating)::text = &#39;PG-13&#39;::text)) OR \r\n              ((rating)::text = &#39;R&#39;::text)) OR \r\n              ((rating)::text = &#39;NC-17&#39;::text)))\r\n\r\nI think it would be nice to use a Java enum to map the constraint into the object world. But it&#39;s not possible to simply take the allowed values because of the special char in &quot;PG-13&quot; and &quot;NC-17&quot;. So I implemented the following enum:\r\n\r\n    public enum Rating {\r\n\r\n        UNRATED ( &quot;&quot; ),\r\n        G ( &quot;G&quot; ), \r\n        PG ( &quot;PG&quot; ),\r\n        PG13 ( &quot;PG-13&quot; ),\r\n        R ( &quot;R&quot; ),\r\n        NC17 ( &quot;NC-17&quot; );\r\n        \r\n        private String rating;\r\n        \r\n        private Rating(String rating) {\r\n            this.rating = rating;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return rating;\r\n        }\r\n    }\r\n\r\n    @Entity\r\n    public class Film {\r\n        ..\r\n        @Enumerated(EnumType.STRING)\r\n        private Rating rating;\r\n        ..\r\n\r\nWith the toString() method the direction enum -&gt; String works fine, but String -&gt; enum does not work. I get the following exception:\r\n\r\n&gt; [TopLink Warning]: 2008.12.09\r\n&gt; 01:30:57.434--ServerSession(4729123)--Exception [TOPLINK-116] (Oracle\r\n&gt; TopLink Essentials - 2.0.1 (Build b09d-fcs (12/06/2007))):\r\n&gt; oracle.toplink.essentials.exceptions.DescriptorException Exception\r\n&gt; Description: No conversion value provided for the value [NC-17] in\r\n&gt; field [FILM.RATING]. Mapping:\r\n&gt; oracle.toplink.essentials.mappings.DirectToFieldMapping[rating--&gt;FILM.RATING]\r\n&gt; Descriptor: RelationalDescriptor(de.fhw.nsdb.entities.Film --&gt;\r\n&gt; [DatabaseTable(FILM)])\r\n\r\ncheers \r\n\r\ntimo\r\n","title":"How to use enums with JPA","body":"<p>I have an existing database of a film rental system. Each film has a has a rating attribute. In SQL they used a constraint to limit the allowed values of this attribute.</p>\n\n<pre><code>CONSTRAINT film_rating_check CHECK \n    ((((((((rating)::text = ''::text) OR \n          ((rating)::text = 'G'::text)) OR \n          ((rating)::text = 'PG'::text)) OR \n          ((rating)::text = 'PG-13'::text)) OR \n          ((rating)::text = 'R'::text)) OR \n          ((rating)::text = 'NC-17'::text)))\n</code></pre>\n\n<p>I think it would be nice to use a Java enum to map the constraint into the object world. But it's not possible to simply take the allowed values because of the special char in \"PG-13\" and \"NC-17\". So I implemented the following enum:</p>\n\n<pre><code>public enum Rating {\n\n    UNRATED ( \"\" ),\n    G ( \"G\" ), \n    PG ( \"PG\" ),\n    PG13 ( \"PG-13\" ),\n    R ( \"R\" ),\n    NC17 ( \"NC-17\" );\n\n    private String rating;\n\n    private Rating(String rating) {\n        this.rating = rating;\n    }\n\n    @Override\n    public String toString() {\n        return rating;\n    }\n}\n\n@Entity\npublic class Film {\n    ..\n    @Enumerated(EnumType.STRING)\n    private Rating rating;\n    ..\n</code></pre>\n\n<p>With the toString() method the direction enum -> String works fine, but String -> enum does not work. I get the following exception:</p>\n\n<blockquote>\n  <p>[TopLink Warning]: 2008.12.09\n  01:30:57.434--ServerSession(4729123)--Exception [TOPLINK-116] (Oracle\n  TopLink Essentials - 2.0.1 (Build b09d-fcs (12/06/2007))):\n  oracle.toplink.essentials.exceptions.DescriptorException Exception\n  Description: No conversion value provided for the value [NC-17] in\n  field [FILM.RATING]. Mapping:\n  oracle.toplink.essentials.mappings.DirectToFieldMapping[rating-->FILM.RATING]\n  Descriptor: RelationalDescriptor(de.fhw.nsdb.entities.Film -->\n  [DatabaseTable(FILM)])</p>\n</blockquote>\n\n<p>cheers </p>\n\n<p>timo</p>\n"},{"tags":["java","swift","firebase","firebase-realtime-database","closures"],"answers":[{"tags":[],"owner":{"account_id":7518659,"reputation":2076,"user_id":5711319,"display_name":"meow2x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667204942,"creation_date":1549521168,"answer_id":54567556,"question_id":54566753,"body_markdown":"You can use [Lambda Expressions][1]. \r\n\r\nHere is an example:\r\n\r\n```java\r\npublic class LambdaExample{\r\n    \r\n    interface OnCompletion {\r\n        void onCompletion(String msg);\r\n    }\r\n\r\n    public static void performAction(String msg, OnCompletion completion){\r\n        completion.onCompletion(msg);\r\n    }\r\n\r\n    public static void main(String []args){\r\n        String msg = &quot;Congratulations! &quot;;\r\n        performAction(\r\n            msg,\r\n            // Implement interface method. Add your own definition.\r\n            (x) -&gt; {\r\n                System.out.println(x + &quot;Code completed.&quot;);\r\n            }\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Escaping closure in swift and how to perform it in Java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expressions</a>.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LambdaExample{\n    \n    interface OnCompletion {\n        void onCompletion(String msg);\n    }\n\n    public static void performAction(String msg, OnCompletion completion){\n        completion.onCompletion(msg);\n    }\n\n    public static void main(String []args){\n        String msg = &quot;Congratulations! &quot;;\n        performAction(\n            msg,\n            // Implement interface method. Add your own definition.\n            (x) -&gt; {\n                System.out.println(x + &quot;Code completed.&quot;);\n            }\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13368203,"reputation":15,"user_id":9647627,"display_name":"Benjamin VanCleave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54567556,"answer_count":1,"score":1,"last_activity_date":1667204942,"creation_date":1549516794,"question_id":54566753,"body_markdown":"I&#39;m developing an app for both iOS and Java and in my swift program I have a function that uses an escaping closure that passes an array of strings. In swift, it&#39;s func definition goes as \r\n\r\n    func foo(uid: String, onComplete: @escaping([String]) -&gt; Void { \r\n        onComplete(someStringArray)\r\n    }\r\n\r\nand its func call is \r\n\r\n    class.foo(uid: player1, onComplete { (stringArray) in {\r\n        do something with stringArray\r\n    }\r\n\r\nMy main focus is now figuring that out for Java. The BIG issue is I&#39;m using Google&#39;s Firebase Database which loads data asynchronously so simply making a return function won&#39;t work since the return will be called before all the data is loaded. I&#39;ve heard of maybe call backs, but I figured I&#39;d ask here first before I spend precious hours on the wrong task. I&#39;m thinking the Java version would be \r\n\r\n    void foo(String uid, onComplete...) { \r\n    onComplete(someStringArray)\r\n    }\r\n\r\nAnyways I hope I was as detailed as possible and appreciate any help at all!\r\n-Ben\r\n\r\n","title":"Escaping closure in swift and how to perform it in Java","body":"<p>I'm developing an app for both iOS and Java and in my swift program I have a function that uses an escaping closure that passes an array of strings. In swift, it's func definition goes as </p>\n\n<pre><code>func foo(uid: String, onComplete: @escaping([String]) -&gt; Void { \n    onComplete(someStringArray)\n}\n</code></pre>\n\n<p>and its func call is </p>\n\n<pre><code>class.foo(uid: player1, onComplete { (stringArray) in {\n    do something with stringArray\n}\n</code></pre>\n\n<p>My main focus is now figuring that out for Java. The BIG issue is I'm using Google's Firebase Database which loads data asynchronously so simply making a return function won't work since the return will be called before all the data is loaded. I've heard of maybe call backs, but I figured I'd ask here first before I spend precious hours on the wrong task. I'm thinking the Java version would be </p>\n\n<pre><code>void foo(String uid, onComplete...) { \nonComplete(someStringArray)\n}\n</code></pre>\n\n<p>Anyways I hope I was as detailed as possible and appreciate any help at all!\n-Ben</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1667204717,"post_id":74260466,"comment_id":131106684,"body_markdown":"Hint: `int` stands for [**int**eger](https://en.wikipedia.org/wiki/Integer).","body":"Hint: <code>int</code> stands for <a href=\"https://en.wikipedia.org/wiki/Integer\" rel=\"nofollow noreferrer\"><b>int</b>eger</a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667204749,"creation_date":1667204749,"answer_id":74260520,"question_id":74260466,"body_markdown":"&quot;Percentage&quot; is just a weird of &quot;this value that generally is between 0 and 1 should be rendered by multiplying by 100 and adding a % symbol afterwards&quot;. In other words, it&#39;s __purely a way to display a thing__. `50%` means `0.5`.\r\n\r\n`int` cannot represent 0.5. `double` sort of can (double and float aren&#39;t perfectly accurate). In addition `/` is integer division if both the left and right side are ints. So, we need to do a few things:\r\n\r\n```\r\nint a = 3;\r\ndouble b = 1.0 * 3 / 2; // without that 1.0 *, it wouldn&#39;t work\r\nSystem.out.println(b); // prints &quot;1.5&quot;\r\ndouble c = a * b;\r\nSystem.out.println(c); // prints 4.5.\r\nint d = ((int) (a * b) + 0.1);\r\nSystem.out.println(d); // prints 4\r\n```\r\n\r\nBecause doubles aren&#39;t entirely accurate, and `(int)` rounds down, adding a small delta (here, 0.1) is a good idea. Otherwise various values will surprise you and go wrong (say, your math ends up at 3.99999999, solely because `double` is not perfectly accurate, then casting that to int gets you a 3).\r\n\r\n\r\n","title":"How to calculate the percentage increasment in java","body":"<p>&quot;Percentage&quot; is just a weird of &quot;this value that generally is between 0 and 1 should be rendered by multiplying by 100 and adding a % symbol afterwards&quot;. In other words, it's <strong>purely a way to display a thing</strong>. <code>50%</code> means <code>0.5</code>.</p>\n<p><code>int</code> cannot represent 0.5. <code>double</code> sort of can (double and float aren't perfectly accurate). In addition <code>/</code> is integer division if both the left and right side are ints. So, we need to do a few things:</p>\n<pre><code>int a = 3;\ndouble b = 1.0 * 3 / 2; // without that 1.0 *, it wouldn't work\nSystem.out.println(b); // prints &quot;1.5&quot;\ndouble c = a * b;\nSystem.out.println(c); // prints 4.5.\nint d = ((int) (a * b) + 0.1);\nSystem.out.println(d); // prints 4\n</code></pre>\n<p>Because doubles aren't entirely accurate, and <code>(int)</code> rounds down, adding a small delta (here, 0.1) is a good idea. Otherwise various values will surprise you and go wrong (say, your math ends up at 3.99999999, solely because <code>double</code> is not perfectly accurate, then casting that to int gets you a 3).</p>\n"}],"owner":{"account_id":26782658,"reputation":1,"user_id":20377285,"display_name":"Random "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667204749,"creation_date":1667204406,"question_id":74260466,"body_markdown":"I want to calculate the increase of percentage of a variable from type int while using another variable from type int for the percentage (50 percent).\r\nthanks in advance for anyone who is willing to help.\r\n\r\n\r\n\r\n\r\n\r\n`\r\n```\r\nint a = 3;\r\nint percentage = 3 / 2;\r\n\r\n// here I get 3 instead of 4 which is the required answer.\r\na = a * percentage;\r\nSystem.out.println(a);\r\n\r\n// but here I get the required answer normally.\r\na = 3;\r\na = a * 3 / 2;\r\nSystem.out.println(a);\r\n\r\n```\r\n`","title":"How to calculate the percentage increasment in java","body":"<p>I want to calculate the increase of percentage of a variable from type int while using another variable from type int for the percentage (50 percent).\nthanks in advance for anyone who is willing to help.</p>\n<p>`</p>\n<pre><code>int a = 3;\nint percentage = 3 / 2;\n\n// here I get 3 instead of 4 which is the required answer.\na = a * percentage;\nSystem.out.println(a);\n\n// but here I get the required answer normally.\na = 3;\na = a * 3 / 2;\nSystem.out.println(a);\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","arrays","json","cucumber-serenity"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1667204388,"post_id":74260373,"comment_id":131106593,"body_markdown":"What is the type of `codeSet2`? Is it an enum? If so, can you show its definition?","body":"What is the type of <code>codeSet2</code>? Is it an enum? If so, can you show its definition?"},{"owner":{"account_id":26782688,"reputation":1,"user_id":20377312,"display_name":"Mahesh Kumar"},"score":0,"creation_date":1667204576,"post_id":74260373,"comment_id":131106638,"body_markdown":"Its a value like N/A which means not available, in run time N/A is changing to N\\/A","body":"Its a value like N/A which means not available, in run time N/A is changing to N\\/A"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1667204725,"post_id":74260373,"comment_id":131106685,"body_markdown":"Well, the JSON does not show that the value &quot;N/A&quot; is any different than the other values. So you need to provide your Java code which unmarshalls this JSON.","body":"Well, the JSON does not show that the value &quot;N/A&quot; is any different than the other values. So you need to provide your Java code which unmarshalls this JSON."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1667204847,"post_id":74260373,"comment_id":131106722,"body_markdown":"Some JSON frameworks escape each `/`. That makes the value _look like_ `N\\/A` to us people, but when the JSON is parsed the value will become `N/A` again.","body":"Some JSON frameworks escape each <code>&#47;</code>. That makes the value <i>look like</i> <code>N\\&#47;A</code> to us people, but when the JSON is parsed the value will become <code>N&#47;A</code> again."},{"owner":{"account_id":26782688,"reputation":1,"user_id":20377312,"display_name":"Mahesh Kumar"},"score":0,"creation_date":1667205228,"post_id":74260373,"comment_id":131106841,"body_markdown":"is it possible to parse N/A value separately.","body":"is it possible to parse N/A value separately."},{"owner":{"account_id":2150391,"reputation":435,"user_id":1906940,"display_name":"Gleb"},"score":0,"creation_date":1667214636,"post_id":74260373,"comment_id":131109667,"body_markdown":"Can you post the code that isn&#39;t working?","body":"Can you post the code that isn&#39;t working?"},{"owner":{"account_id":26782688,"reputation":1,"user_id":20377312,"display_name":"Mahesh Kumar"},"score":0,"creation_date":1667215747,"post_id":74260373,"comment_id":131109987,"body_markdown":"JSONParser jsonParser = new JSONParser();\nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nString path = System.getProperty(&quot;user.dir&quot;);\ntry (FileReader reader = new FileReader(path + &quot;/src/test/resources/TestData/&quot; + jsonFileName + &quot;.json&quot;)) {\n// Read JSON file\nObject obj = jsonParser.parse(reader);\nJSONArray codesetList = (JSONArray) obj;\n// Iterate over the array\nfor (int i = 0; i &lt; codesetList.size(); i++) {\nif (codesetList.get(i).toString().contains(expectedJsonArrayName)) {\nlist = parseJsonObject((JSONObject) codesetList.get(i), expectedJsonArrayName);\n}\n}\nreturn list;\n}","body":"JSONParser jsonParser = new JSONParser(); ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(); String path = System.getProperty(&quot;user.dir&quot;); try (FileReader reader = new FileReader(path + &quot;/src/test/resources/TestData/&quot; + jsonFileName + &quot;.json&quot;)) { // Read JSON file Object obj = jsonParser.parse(reader); JSONArray codesetList = (JSONArray) obj; // Iterate over the array for (int i = 0; i &lt; codesetList.size(); i++) { if (codesetList.get(i).toString().contains(expectedJsonArrayNam&zwnj;&#8203;e)) { list = parseJsonObject((JSONObject) codesetList.get(i), expectedJsonArrayName); } } return list; }"},{"owner":{"account_id":26782688,"reputation":1,"user_id":20377312,"display_name":"Mahesh Kumar"},"score":0,"creation_date":1667215790,"post_id":74260373,"comment_id":131110006,"body_markdown":"actuallist = enbDashboardPage.findElementsTextForCodesetDropdownValues(actualValue);\n\t\t\t\texpectedlist = jsonreader.readJsonFileData(actualValue, JsonFileName);\n\n\t\t\t\tif (expectedlist.equals(actuallist)) {\n\t\t\t\t\tAssert.assertEquals(expectedlist, actuallist,\n\t\t\t\t\t\t\t&quot;Both are equal. &quot; + &quot;Expected List: &quot; + expectedlist + &quot;And Actual List: &quot; + actuallist);\n\t\t\t\t} else {\n\t\t\t\t\tAssert.assertEquals(expectedlist, actuallist, &quot;Both are NOT equal. &quot; + &quot;Expected List: &quot;\n\t\t\t\t\t\t\t+ expectedlist + &quot;But Actual List: &quot; + actuallist);\n\t\t\t\t}","body":"actuallist = enbDashboardPage.findElementsTextForCodesetDropdownValues(ac&zwnj;&#8203;tualValue); \t\t\t\texpectedlist = jsonreader.readJsonFileData(actualValue, JsonFileName);  \t\t\t\tif (expectedlist.equals(actuallist)) { \t\t\t\t\tAssert.assertEquals(expectedlist, actuallist, \t\t\t\t\t\t\t&quot;Both are equal. &quot; + &quot;Expected List: &quot; + expectedlist + &quot;And Actual List: &quot; + actuallist); \t\t\t\t} else { \t\t\t\t\tAssert.assertEquals(expectedlist, actuallist, &quot;Both are NOT equal. &quot; + &quot;Expected List: &quot; \t\t\t\t\t\t\t+ expectedlist + &quot;But Actual List: &quot; + actuallist); \t\t\t\t}"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667226062,"post_id":74260373,"comment_id":131113748,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26782688,"reputation":1,"user_id":20377312,"display_name":"Mahesh Kumar"},"score":0,"creation_date":1667280766,"post_id":74260373,"comment_id":131126087,"body_markdown":"Trying to compare N/A value with json and UI, but json is adding esc(\\) character in the runtime.\nlike N\\/A","body":"Trying to compare N/A value with json and UI, but json is adding esc(&#41; character in the runtime. like N\\/A"}],"owner":{"account_id":26782688,"reputation":1,"user_id":20377312,"display_name":"Mahesh Kumar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667204416,"creation_date":1667203806,"question_id":74260373,"body_markdown":"Comparing lists using java\r\n\r\nI have a dropdown consist of \r\n[Black, N/A, Neutrals, Novelty, Solid Seasonal Colour, White]\r\n\r\nI have a json file which have above values in it\r\n\r\n```\r\n{\r\n\t\t&quot;Colour Bucket&quot;: {\r\n\t\t\t&quot;codeSet1&quot;: &quot;Black&quot;,\r\n            &quot;codeSet2&quot;: &quot;N/A&quot;,\r\n\t\t\t&quot;codeSet2&quot;: &quot;Neutrals&quot;,\r\n\t\t\t&quot;codeSet3&quot;: &quot;Novelty&quot;,\r\n\t\t\t&quot;codeSet4&quot;: &quot;Solid Seasonal Colour&quot;,\r\n\t\t\t&quot;codeSet5&quot;: &quot;White&quot;\r\n\t\t}\r\n\t},\r\n```\r\n\r\n\r\nWhen i tried to compare both lists getting exception because N/A is converted as N\\/A in runtime. \r\n\r\n\r\n\r\nDo you have any solution?","title":"How to compare values like N/A in json","body":"<p>Comparing lists using java</p>\n<p>I have a dropdown consist of\n[Black, N/A, Neutrals, Novelty, Solid Seasonal Colour, White]</p>\n<p>I have a json file which have above values in it</p>\n<pre><code>{\n        &quot;Colour Bucket&quot;: {\n            &quot;codeSet1&quot;: &quot;Black&quot;,\n            &quot;codeSet2&quot;: &quot;N/A&quot;,\n            &quot;codeSet2&quot;: &quot;Neutrals&quot;,\n            &quot;codeSet3&quot;: &quot;Novelty&quot;,\n            &quot;codeSet4&quot;: &quot;Solid Seasonal Colour&quot;,\n            &quot;codeSet5&quot;: &quot;White&quot;\n        }\n    },\n</code></pre>\n<p>When i tried to compare both lists getting exception because N/A is converted as N/A in runtime.</p>\n<p>Do you have any solution?</p>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667152869,"creation_date":1667152869,"answer_id":74255493,"question_id":74254235,"body_markdown":"Firebase Cloud Messaging does not maintain persistent data for the individual messages it sends. At the volume of messages it sends, that would be untenable.\r\n\r\nThe best you can get within the FCM API is [aggregated delivery data](https://firebase.google.com/docs/cloud-messaging/understand-delivery?platform=android#aggregated_delivery_data_via_the_data_api), which shows the overall delivery data - but can&#39;t be used to find details on delivery of individual messages.\r\n\r\nAs you&#39;ve found, you can [export delivery data to BigQuery](https://firebase.google.com/docs/cloud-messaging/understand-delivery?platform=android#bigquery-data-export), which gives you the most details on the delivery of each individual message. If something specific is not clear about that documentation, I recommend asking a specific question about it - showing what you have done already based on the documentation and trying to apply that to your needs.","title":"How to get full statistics on firebase notification using message_id?","body":"<p>Firebase Cloud Messaging does not maintain persistent data for the individual messages it sends. At the volume of messages it sends, that would be untenable.</p>\n<p>The best you can get within the FCM API is <a href=\"https://firebase.google.com/docs/cloud-messaging/understand-delivery?platform=android#aggregated_delivery_data_via_the_data_api\" rel=\"nofollow noreferrer\">aggregated delivery data</a>, which shows the overall delivery data - but can't be used to find details on delivery of individual messages.</p>\n<p>As you've found, you can <a href=\"https://firebase.google.com/docs/cloud-messaging/understand-delivery?platform=android#bigquery-data-export\" rel=\"nofollow noreferrer\">export delivery data to BigQuery</a>, which gives you the most details on the delivery of each individual message. If something specific is not clear about that documentation, I recommend asking a specific question about it - showing what you have done already based on the documentation and trying to apply that to your needs.</p>\n"}],"owner":{"account_id":26186098,"reputation":55,"user_id":19868616,"display_name":"Goro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74255493,"answer_count":1,"score":2,"last_activity_date":1667203826,"creation_date":1667142890,"question_id":74254235,"body_markdown":"When sending a message from the Java FCM SDK, I get a `message_id` from Firebase. It is unclear what to do with it next.\r\nAt the same time, I would like to have statistics on each notification and hope to use this message_id to get all the details\r\n\r\nmessage_id from firebase response = projects/uno-c0edf/messages/4368314790085249035\r\n\r\n\r\nI was surfing the Internet and found out about BigQuery and exporting firebase cloud messaging records to it. Although this is also not all clear.\r\n\r\nAre there any other ways to pull firebase message data by `message_id`?","title":"How to get full statistics on firebase notification using message_id?","body":"<p>When sending a message from the Java FCM SDK, I get a <code>message_id</code> from Firebase. It is unclear what to do with it next.\nAt the same time, I would like to have statistics on each notification and hope to use this message_id to get all the details</p>\n<p>message_id from firebase response = projects/uno-c0edf/messages/4368314790085249035</p>\n<p>I was surfing the Internet and found out about BigQuery and exporting firebase cloud messaging records to it. Although this is also not all clear.</p>\n<p>Are there any other ways to pull firebase message data by <code>message_id</code>?</p>\n"},{"tags":["java","lambda","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1667198820,"post_id":74259436,"comment_id":131105328,"body_markdown":"Using TreeMap for the purpose of finding the closest point is quite inefficient. Just keep track of the smallest known distance and discard points further away than that.","body":"Using TreeMap for the purpose of finding the closest point is quite inefficient. Just keep track of the smallest known distance and discard points further away than that."}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667199110,"creation_date":1667197900,"answer_id":74259496,"question_id":74259436,"body_markdown":"EDIT: the solution is not correct as explained in the comment, still by reading the implementation of toMap() with two arguments in the source code the solution becomes rather obvious with a few minor adjustments.\r\n\r\nThe default Map Implementation the function will use is HashMap, you just need to provide the map implementation you need as last argument like:  \r\n\r\n```\r\n Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point, Treemap::new));\r\n```\r\nIf you chek out the source code you&#39;ll see that the toMap method you used just calls the overload method beneath it with the defaul HashMap implementation:\r\n```\r\n    /**\r\n     * Returns a {@code Collector} that accumulates elements into a\r\n     * {@code Map} whose keys and values are the result of applying the provided\r\n     * mapping functions to the input elements.\r\n     *\r\n     * &lt;p&gt;If the mapped keys contains duplicates (according to\r\n     * {@link Object#equals(Object)}), an {@code IllegalStateException} is\r\n     * thrown when the collection operation is performed.  If the mapped keys\r\n     * may have duplicates, use {@link #toMap(Function, Function, BinaryOperator)}\r\n     * instead.\r\n     *\r\n     * @apiNote\r\n     * It is common for either the key or the value to be the input elements.\r\n     * In this case, the utility method\r\n     * {@link java.util.function.Function#identity()} may be helpful.\r\n     * For example, the following produces a {@code Map} mapping\r\n     * students to their grade point average:\r\n     * &lt;pre&gt;{@code\r\n     *     Map&lt;Student, Double&gt; studentToGPA\r\n     *         students.stream().collect(toMap(Functions.identity(),\r\n     *                                         student -&gt; computeGPA(student)));\r\n     * }&lt;/pre&gt;\r\n     * And the following produces a {@code Map} mapping a unique identifier to\r\n     * students:\r\n     * &lt;pre&gt;{@code\r\n     *     Map&lt;String, Student&gt; studentIdToStudent\r\n     *         students.stream().collect(toMap(Student::getId,\r\n     *                                         Functions.identity());\r\n     * }&lt;/pre&gt;\r\n     *\r\n     * @implNote\r\n     * The returned {@code Collector} is not concurrent.  For parallel stream\r\n     * pipelines, the {@code combiner} function operates by merging the keys\r\n     * from one map into another, which can be an expensive operation.  If it is\r\n     * not required that results are inserted into the {@code Map} in encounter\r\n     * order, using {@link #toConcurrentMap(Function, Function)}\r\n     * may offer better parallel performance.\r\n     *\r\n     * @param &lt;T&gt; the type of the input elements\r\n     * @param &lt;K&gt; the output type of the key mapping function\r\n     * @param &lt;U&gt; the output type of the value mapping function\r\n     * @param keyMapper a mapping function to produce keys\r\n     * @param valueMapper a mapping function to produce values\r\n     * @return a {@code Collector} which collects elements into a {@code Map}\r\n     * whose keys and values are the result of applying mapping functions to\r\n     * the input elements\r\n     *\r\n     * @see #toMap(Function, Function, BinaryOperator)\r\n     * @see #toMap(Function, Function, BinaryOperator, Supplier)\r\n     * @see #toConcurrentMap(Function, Function)\r\n     */\r\n    public static &lt;T, K, U&gt;\r\n    Collector&lt;T, ?, Map&lt;K,U&gt;&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\r\n                                    Function&lt;? super T, ? extends U&gt; valueMapper) {\r\n        return toMap(keyMapper, valueMapper, throwingMerger(), HashMap::new);\r\n    }\r\n```\r\n```\r\n    /**\r\n     * Returns a {@code Collector} that accumulates elements into a\r\n     * {@code Map} whose keys and values are the result of applying the provided\r\n     * mapping functions to the input elements.\r\n     *\r\n     * &lt;p&gt;If the mapped\r\n     * keys contains duplicates (according to {@link Object#equals(Object)}),\r\n     * the value mapping function is applied to each equal element, and the\r\n     * results are merged using the provided merging function.  The {@code Map}\r\n     * is created by a provided supplier function.\r\n     *\r\n     * @implNote\r\n     * The returned {@code Collector} is not concurrent.  For parallel stream\r\n     * pipelines, the {@code combiner} function operates by merging the keys\r\n     * from one map into another, which can be an expensive operation.  If it is\r\n     * not required that results are merged into the {@code Map} in encounter\r\n     * order, using {@link #toConcurrentMap(Function, Function, BinaryOperator, Supplier)}\r\n     * may offer better parallel performance.\r\n     *\r\n     * @param &lt;T&gt; the type of the input elements\r\n     * @param &lt;K&gt; the output type of the key mapping function\r\n     * @param &lt;U&gt; the output type of the value mapping function\r\n     * @param &lt;M&gt; the type of the resulting {@code Map}\r\n     * @param keyMapper a mapping function to produce keys\r\n     * @param valueMapper a mapping function to produce values\r\n     * @param mergeFunction a merge function, used to resolve collisions between\r\n     *                      values associated with the same key, as supplied\r\n     *                      to {@link Map#merge(Object, Object, BiFunction)}\r\n     * @param mapSupplier a function which returns a new, empty {@code Map} into\r\n     *                    which the results will be inserted\r\n     * @return a {@code Collector} which collects elements into a {@code Map}\r\n     * whose keys are the result of applying a key mapping function to the input\r\n     * elements, and whose values are the result of applying a value mapping\r\n     * function to all input elements equal to the key and combining them\r\n     * using the merge function\r\n     *\r\n     * @see #toMap(Function, Function)\r\n     * @see #toMap(Function, Function, BinaryOperator)\r\n     * @see #toConcurrentMap(Function, Function, BinaryOperator, Supplier)\r\n     */\r\n    public static &lt;T, K, U, M extends Map&lt;K, U&gt;&gt;\r\n    Collector&lt;T, ?, M&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\r\n                                Function&lt;? super T, ? extends U&gt; valueMapper,\r\n                                BinaryOperator&lt;U&gt; mergeFunction,\r\n                                Supplier&lt;M&gt; mapSupplier) {\r\n        BiConsumer&lt;M, T&gt; accumulator\r\n                = (map, element) -&gt; map.merge(keyMapper.apply(element),\r\n                                              valueMapper.apply(element), mergeFunction);\r\n        return new CollectorImpl&lt;&gt;(mapSupplier, accumulator, mapMerger(mergeFunction), CH_ID);\r\n    }\r\n```","title":"Java 8 stream API to convert List to TreeMap","body":"<p>EDIT: the solution is not correct as explained in the comment, still by reading the implementation of toMap() with two arguments in the source code the solution becomes rather obvious with a few minor adjustments.</p>\n<p>The default Map Implementation the function will use is HashMap, you just need to provide the map implementation you need as last argument like:</p>\n<pre><code> Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point, Treemap::new));\n</code></pre>\n<p>If you chek out the source code you'll see that the toMap method you used just calls the overload method beneath it with the defaul HashMap implementation:</p>\n<pre><code>    /**\n     * Returns a {@code Collector} that accumulates elements into a\n     * {@code Map} whose keys and values are the result of applying the provided\n     * mapping functions to the input elements.\n     *\n     * &lt;p&gt;If the mapped keys contains duplicates (according to\n     * {@link Object#equals(Object)}), an {@code IllegalStateException} is\n     * thrown when the collection operation is performed.  If the mapped keys\n     * may have duplicates, use {@link #toMap(Function, Function, BinaryOperator)}\n     * instead.\n     *\n     * @apiNote\n     * It is common for either the key or the value to be the input elements.\n     * In this case, the utility method\n     * {@link java.util.function.Function#identity()} may be helpful.\n     * For example, the following produces a {@code Map} mapping\n     * students to their grade point average:\n     * &lt;pre&gt;{@code\n     *     Map&lt;Student, Double&gt; studentToGPA\n     *         students.stream().collect(toMap(Functions.identity(),\n     *                                         student -&gt; computeGPA(student)));\n     * }&lt;/pre&gt;\n     * And the following produces a {@code Map} mapping a unique identifier to\n     * students:\n     * &lt;pre&gt;{@code\n     *     Map&lt;String, Student&gt; studentIdToStudent\n     *         students.stream().collect(toMap(Student::getId,\n     *                                         Functions.identity());\n     * }&lt;/pre&gt;\n     *\n     * @implNote\n     * The returned {@code Collector} is not concurrent.  For parallel stream\n     * pipelines, the {@code combiner} function operates by merging the keys\n     * from one map into another, which can be an expensive operation.  If it is\n     * not required that results are inserted into the {@code Map} in encounter\n     * order, using {@link #toConcurrentMap(Function, Function)}\n     * may offer better parallel performance.\n     *\n     * @param &lt;T&gt; the type of the input elements\n     * @param &lt;K&gt; the output type of the key mapping function\n     * @param &lt;U&gt; the output type of the value mapping function\n     * @param keyMapper a mapping function to produce keys\n     * @param valueMapper a mapping function to produce values\n     * @return a {@code Collector} which collects elements into a {@code Map}\n     * whose keys and values are the result of applying mapping functions to\n     * the input elements\n     *\n     * @see #toMap(Function, Function, BinaryOperator)\n     * @see #toMap(Function, Function, BinaryOperator, Supplier)\n     * @see #toConcurrentMap(Function, Function)\n     */\n    public static &lt;T, K, U&gt;\n    Collector&lt;T, ?, Map&lt;K,U&gt;&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\n                                    Function&lt;? super T, ? extends U&gt; valueMapper) {\n        return toMap(keyMapper, valueMapper, throwingMerger(), HashMap::new);\n    }\n</code></pre>\n<pre><code>    /**\n     * Returns a {@code Collector} that accumulates elements into a\n     * {@code Map} whose keys and values are the result of applying the provided\n     * mapping functions to the input elements.\n     *\n     * &lt;p&gt;If the mapped\n     * keys contains duplicates (according to {@link Object#equals(Object)}),\n     * the value mapping function is applied to each equal element, and the\n     * results are merged using the provided merging function.  The {@code Map}\n     * is created by a provided supplier function.\n     *\n     * @implNote\n     * The returned {@code Collector} is not concurrent.  For parallel stream\n     * pipelines, the {@code combiner} function operates by merging the keys\n     * from one map into another, which can be an expensive operation.  If it is\n     * not required that results are merged into the {@code Map} in encounter\n     * order, using {@link #toConcurrentMap(Function, Function, BinaryOperator, Supplier)}\n     * may offer better parallel performance.\n     *\n     * @param &lt;T&gt; the type of the input elements\n     * @param &lt;K&gt; the output type of the key mapping function\n     * @param &lt;U&gt; the output type of the value mapping function\n     * @param &lt;M&gt; the type of the resulting {@code Map}\n     * @param keyMapper a mapping function to produce keys\n     * @param valueMapper a mapping function to produce values\n     * @param mergeFunction a merge function, used to resolve collisions between\n     *                      values associated with the same key, as supplied\n     *                      to {@link Map#merge(Object, Object, BiFunction)}\n     * @param mapSupplier a function which returns a new, empty {@code Map} into\n     *                    which the results will be inserted\n     * @return a {@code Collector} which collects elements into a {@code Map}\n     * whose keys are the result of applying a key mapping function to the input\n     * elements, and whose values are the result of applying a value mapping\n     * function to all input elements equal to the key and combining them\n     * using the merge function\n     *\n     * @see #toMap(Function, Function)\n     * @see #toMap(Function, Function, BinaryOperator)\n     * @see #toConcurrentMap(Function, Function, BinaryOperator, Supplier)\n     */\n    public static &lt;T, K, U, M extends Map&lt;K, U&gt;&gt;\n    Collector&lt;T, ?, M&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\n                                Function&lt;? super T, ? extends U&gt; valueMapper,\n                                BinaryOperator&lt;U&gt; mergeFunction,\n                                Supplier&lt;M&gt; mapSupplier) {\n        BiConsumer&lt;M, T&gt; accumulator\n                = (map, element) -&gt; map.merge(keyMapper.apply(element),\n                                              valueMapper.apply(element), mergeFunction);\n        return new CollectorImpl&lt;&gt;(mapSupplier, accumulator, mapMerger(mergeFunction), CH_ID);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667198542,"creation_date":1667198542,"answer_id":74259579,"question_id":74259436,"body_markdown":"Your code won&#39;t even compile as the key function is wrong. You also have an intermediate step which isn&#39;t needed, you can directly use the `toMap` function which takes 4 arguments and return a `TreeMap` directly. \r\n\r\nSomething like this should work\r\n\r\n```java\r\nTreeMap &lt;Double, Point3d&gt; distanceMap = points.stream().collect(\r\nCollectors.toMap(\r\n  parentStartVertex::distanceTo,\r\n  Function.identity(),\r\n  (k1, k2) -&gt; k2,\r\n  TreeMap::new));\r\nreturn distanceMap.firstEntry().getValue();\r\n```\r\n\r\nFor what is worth I don&#39;t think there is anything wrong with the `forEach` approach and in this case it might even be easier to read (and might even be faster due to less overhead). \r\n\r\n```java\r\nTreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\r\npoints.forEach( point -&gt; distanceMap.put(parentStartVertex.distanceTo(point), point));\r\nreturn distanceMap.firstEntry().getValue();\r\n```\r\n\r\n","title":"Java 8 stream API to convert List to TreeMap","body":"<p>Your code won't even compile as the key function is wrong. You also have an intermediate step which isn't needed, you can directly use the <code>toMap</code> function which takes 4 arguments and return a <code>TreeMap</code> directly.</p>\n<p>Something like this should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeMap &lt;Double, Point3d&gt; distanceMap = points.stream().collect(\nCollectors.toMap(\n  parentStartVertex::distanceTo,\n  Function.identity(),\n  (k1, k2) -&gt; k2,\n  TreeMap::new));\nreturn distanceMap.firstEntry().getValue();\n</code></pre>\n<p>For what is worth I don't think there is anything wrong with the <code>forEach</code> approach and in this case it might even be easier to read (and might even be faster due to less overhead).</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\npoints.forEach( point -&gt; distanceMap.put(parentStartVertex.distanceTo(point), point));\nreturn distanceMap.firstEntry().getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667199818,"creation_date":1667199818,"answer_id":74259755,"question_id":74259436,"body_markdown":"If you want to find the smallest distance (`min`) between the target `parentStartVertex` and the individual points in the list, then you can use `Stream#min` or `Collections#min` with a custom `Comparator` comparing based on the distance between `parentStartVertex` and the individual items. Pick one of the solutions below:\r\n\r\n```\r\n/**\r\n * Returns null in case the list `points` is empty\r\n */\r\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\r\n\t\treturn points.stream()\r\n\t\t\t\t.min(Comparator.comparingDouble(parentStartVertex::distanceTo))\r\n\t\t\t\t.orElse(null);\r\n}\r\n```\r\n```\r\n/**\r\n * Throws NoSuchElementException in case the list `points` is empty\r\n */\r\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\r\n\t\treturn Collections.min(\r\n                points,\r\n                Comparator.comparingDouble(parentStartVertex::distanceTo));\r\n}\r\n```","title":"Java 8 stream API to convert List to TreeMap","body":"<p>If you want to find the smallest distance (<code>min</code>) between the target <code>parentStartVertex</code> and the individual points in the list, then you can use <code>Stream#min</code> or <code>Collections#min</code> with a custom <code>Comparator</code> comparing based on the distance between <code>parentStartVertex</code> and the individual items. Pick one of the solutions below:</p>\n<pre><code>/**\n * Returns null in case the list `points` is empty\n */\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\n        return points.stream()\n                .min(Comparator.comparingDouble(parentStartVertex::distanceTo))\n                .orElse(null);\n}\n</code></pre>\n<pre><code>/**\n * Throws NoSuchElementException in case the list `points` is empty\n */\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\n        return Collections.min(\n                points,\n                Comparator.comparingDouble(parentStartVertex::distanceTo));\n}\n</code></pre>\n"}],"owner":{"account_id":5047636,"reputation":25,"user_id":4053106,"display_name":"Ambrish Mayank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74259579,"answer_count":3,"score":0,"last_activity_date":1667202184,"creation_date":1667197427,"question_id":74259436,"body_markdown":"Hi i am trying to convert the following code using java 8 stream API.\r\n\r\n    private Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points,Point3d parentStartVertex)\r\n    \t{\r\n    \t\t\r\n    \t\tTreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\r\n    \t\tfor (Point3d point : points) {\r\n    \t\t\tdistanceMap.put(parentStartVertex.distanceTo(point), point);\r\n    \t\t}\r\n    \t\treturn distanceMap.firstEntry().getValue();\r\n    \t}\r\n\r\nI am trying to do something like\r\n\r\n    Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point));\r\n    TreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;&gt;(result);\r\n    return distanceMap.firstEntry().getValue();\r\n","title":"Java 8 stream API to convert List to TreeMap","body":"<p>Hi i am trying to convert the following code using java 8 stream API.</p>\n<pre><code>private Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points,Point3d parentStartVertex)\n    {\n        \n        TreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\n        for (Point3d point : points) {\n            distanceMap.put(parentStartVertex.distanceTo(point), point);\n        }\n        return distanceMap.firstEntry().getValue();\n    }\n</code></pre>\n<p>I am trying to do something like</p>\n<pre><code>Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point));\nTreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;&gt;(result);\nreturn distanceMap.firstEntry().getValue();\n</code></pre>\n"},{"tags":["java","spring","testing","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":6857956,"reputation":76,"user_id":11988137,"display_name":"patrinox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667201915,"creation_date":1666968140,"answer_id":74237032,"question_id":74236820,"body_markdown":"**Edit:** After searching a little bit, I found this thread which could be use as a solution for this topic:\r\n\r\nhttps://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string\r\n\r\nSince the exact type of LocalDate parameter doesn&#39;t match with the one user sending in queryParam, the exceptions is being thrown. Adding `@DateTimeFormat` to the parameters in the controller with the expected type will solve the issue.\r\n\r\n\r\n------------------------\r\n\r\n\r\nCan you try to give your `startDate` and `endDate` parameters with using `LocalDate` object creation? This is a very good guide that you can follow: ~\r\n\r\nhttps://www.baeldung.com/java-creating-localdate-with-values\r\n\r\nThe error occurs due to giving string to that LocalDate fields probably.   ","title":"Mockmcv query param with localdate MethodArgumentTypeMismatchException exception","body":"<p><strong>Edit:</strong> After searching a little bit, I found this thread which could be use as a solution for this topic:</p>\n<p><a href=\"https://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string\">How to use LocalDateTime RequestParam in Spring? I get &quot;Failed to convert String to LocalDateTime&quot;</a></p>\n<p>Since the exact type of LocalDate parameter doesn't match with the one user sending in queryParam, the exceptions is being thrown. Adding <code>@DateTimeFormat</code> to the parameters in the controller with the expected type will solve the issue.</p>\n<hr />\n<p>Can you try to give your <code>startDate</code> and <code>endDate</code> parameters with using <code>LocalDate</code> object creation? This is a very good guide that you can follow: ~</p>\n<p><a href=\"https://www.baeldung.com/java-creating-localdate-with-values\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-creating-localdate-with-values</a></p>\n<p>The error occurs due to giving string to that LocalDate fields probably.</p>\n"}],"owner":{"account_id":14776636,"reputation":113,"user_id":10671367,"display_name":"Mert &#214;zler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74237032,"answer_count":1,"score":-1,"last_activity_date":1667201915,"creation_date":1666967264,"question_id":74236820,"body_markdown":"I&#39;m trying to write an integration test with mockmvc, but I&#39;m getting an error. While startDate and endDate, which I receive as request param, normally work without any problems, I get the following error in the test; MethodArgumentTypeMismatchException\r\n\r\nMy controller\r\n\r\n```\r\n @GetMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;List&lt;TransactionDto&gt;&gt; getTransactionByDateRange(@RequestParam LocalDate startDate,\r\n                                                                          @RequestParam  LocalDate endDate) {\r\n\r\n        logger.info(&quot;Get transaction request received with date range, start date: {} and end date: {}&quot;,\r\n                startDate,\r\n                endDate);\r\n\r\n        List&lt;TransactionDto&gt; transactionDtoList = transactionService.findTransactionByDateRange(startDate,endDate);\r\n\r\n        if(transactionDtoList.isEmpty()){\r\n            throw new TransactionListIsEmptyException(&quot;No transaction data can be found in this date range. &quot; +\r\n                    &quot;Please check the date range you entered.&quot;);\r\n        }\r\n\r\n        return new ResponseEntity(Response.ok().setPayload(transactionDtoList), HttpStatus.OK);\r\n    }\r\n```\r\n\r\nMy Test\r\n```\r\n@Test\r\n    public void testfindTransactionByDateRange_whenTransactionsAreExists_ShouldReturnTransactionDtoList() throws Exception {\r\n        //given\r\n        LocalDate startDate = LocalDate.of(2020,10,5);\r\n        LocalDate endDate = LocalDate.now();\r\n\r\n        Transaction transaction = transactionRepository.save(generateTransaction());\r\n        Transaction transaction2 = transactionRepository.save(generateTransaction());\r\n        Transaction transaction3 = transactionRepository.save(generateTransaction());\r\n        transactionService.createTransaction(transaction);\r\n        transactionService.createTransaction(transaction2);\r\n        transactionService.createTransaction(transaction3);\r\n        List&lt;Transaction&gt; transactionList = new ArrayList&lt;&gt;();\r\n        transactionList.add(transaction);\r\n        transactionList.add(transaction2);\r\n        transactionList.add(transaction3);\r\n        List&lt;TransactionDto&gt; expected = converter.convertList(transactionList);\r\n\r\n\r\n        //when\r\n        //then\r\n        this.mockMvc.perform(get(TRANSACTION_API_ENDPOINT)\r\n                        .queryParam(&quot;startDate&quot;,&quot;10.10.2015&quot;)\r\n                        .queryParam(&quot;endDate&quot;,&quot;10.10.2015&quot;))\r\n                .andExpect(status().is2xxSuccessful())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n\r\n    }\r\n```","title":"Mockmcv query param with localdate MethodArgumentTypeMismatchException exception","body":"<p>I'm trying to write an integration test with mockmvc, but I'm getting an error. While startDate and endDate, which I receive as request param, normally work without any problems, I get the following error in the test; MethodArgumentTypeMismatchException</p>\n<p>My controller</p>\n<pre><code> @GetMapping(&quot;/&quot;)\n    public ResponseEntity&lt;List&lt;TransactionDto&gt;&gt; getTransactionByDateRange(@RequestParam LocalDate startDate,\n                                                                          @RequestParam  LocalDate endDate) {\n\n        logger.info(&quot;Get transaction request received with date range, start date: {} and end date: {}&quot;,\n                startDate,\n                endDate);\n\n        List&lt;TransactionDto&gt; transactionDtoList = transactionService.findTransactionByDateRange(startDate,endDate);\n\n        if(transactionDtoList.isEmpty()){\n            throw new TransactionListIsEmptyException(&quot;No transaction data can be found in this date range. &quot; +\n                    &quot;Please check the date range you entered.&quot;);\n        }\n\n        return new ResponseEntity(Response.ok().setPayload(transactionDtoList), HttpStatus.OK);\n    }\n</code></pre>\n<p>My Test</p>\n<pre><code>@Test\n    public void testfindTransactionByDateRange_whenTransactionsAreExists_ShouldReturnTransactionDtoList() throws Exception {\n        //given\n        LocalDate startDate = LocalDate.of(2020,10,5);\n        LocalDate endDate = LocalDate.now();\n\n        Transaction transaction = transactionRepository.save(generateTransaction());\n        Transaction transaction2 = transactionRepository.save(generateTransaction());\n        Transaction transaction3 = transactionRepository.save(generateTransaction());\n        transactionService.createTransaction(transaction);\n        transactionService.createTransaction(transaction2);\n        transactionService.createTransaction(transaction3);\n        List&lt;Transaction&gt; transactionList = new ArrayList&lt;&gt;();\n        transactionList.add(transaction);\n        transactionList.add(transaction2);\n        transactionList.add(transaction3);\n        List&lt;TransactionDto&gt; expected = converter.convertList(transactionList);\n\n\n        //when\n        //then\n        this.mockMvc.perform(get(TRANSACTION_API_ENDPOINT)\n                        .queryParam(&quot;startDate&quot;,&quot;10.10.2015&quot;)\n                        .queryParam(&quot;endDate&quot;,&quot;10.10.2015&quot;))\n                .andExpect(status().is2xxSuccessful())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667200195,"post_id":74259797,"comment_id":131105591,"body_markdown":"Not very clear, but sounds like you&#39;re looking for [enum](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)?","body":"Not very clear, but sounds like you&#39;re looking for <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a>?"},{"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"score":0,"creation_date":1667200217,"post_id":74259797,"comment_id":131105594,"body_markdown":"It&#39;s been a while since I used Java, but if it were me, I wouldn&#39;t make these variables private.","body":"It&#39;s been a while since I used Java, but if it were me, I wouldn&#39;t make these variables private."},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1667200326,"post_id":74259797,"comment_id":131105619,"body_markdown":"I have not used enum before, how could I use enum that would only have two numbers. Personally, I would like to stick to classes, as I am more comfortable using them as of now","body":"I have not used enum before, how could I use enum that would only have two numbers. Personally, I would like to stick to classes, as I am more comfortable using them as of now"}],"answers":[{"tags":[],"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667200691,"creation_date":1667200691,"answer_id":74259883,"question_id":74259797,"body_markdown":"When using enums you can define custom fields, so in your case you can do for example:\r\n\r\n     public enum CustomNumber {\r\n            PLUS_ONE(1),\r\n            MINUS_ONE(-1);\r\n    \r\n            public final int value;\r\n    \r\n            CustomNumber(int value) {\r\n                this.value = value;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(CustomNumber.MINUS_ONE.value);\r\n            System.out.println(CustomNumber.PLUS_ONE.value);\r\n        }","title":"How to create a class of two integers (a sort of custom type)","body":"<p>When using enums you can define custom fields, so in your case you can do for example:</p>\n<pre><code> public enum CustomNumber {\n        PLUS_ONE(1),\n        MINUS_ONE(-1);\n\n        public final int value;\n\n        CustomNumber(int value) {\n            this.value = value;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(CustomNumber.MINUS_ONE.value);\n        System.out.println(CustomNumber.PLUS_ONE.value);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667200758,"creation_date":1667200758,"answer_id":74259889,"question_id":74259797,"body_markdown":"Java does not let you write your own primitives, and does not have operator overloading. It is therefore simply impossible to have a class such that any expressions that are of that type act like a number. In other words, given:\r\n\r\n```java\r\nPlusOrMinusOne a = ...;\r\nint b = a + 1; // cannot be made to work\r\nif (a == -1) // cannot be made to work\r\n```\r\n\r\nWhat you can do is simply create 2 instances such that they are the __only__ instances of a given class. One of them is the value associated with +1, the other with -1. There is nothing specific about these 2 instances that reflects that they represent -1 or +1 - you can code them however you like.\r\n\r\n`enum` is the general way to do this - it takes care of ensuring nobody can make instances other than the ones you defined, for example.\r\n\r\n```\r\npublic enum PlusOrMinusOne /* horrible name, come up with a better one */ {\r\n  PLUS_ONE(+1),\r\n  MINUS_ONE(-1),\r\n  ;\r\n\r\n  private final int value;\r\n\r\n  PlusOrMinusOne(int value) {\r\n    this.value = value;\r\n  }\r\n\r\n  public static PlusOrMinusOne of(int value) {\r\n    if (value == -1) return MINUS_ONE;\r\n    if (value == +1) return PLUS_ONE;\r\n    throw new IllegalArgumentException(&quot;&quot; + value);\r\n  }\r\n\r\n  public int getValue() {\r\n    return value;\r\n  }\r\n\r\n  public PlusOrMinusOne neg() {\r\n    if (this == PLUS_ONE) return MINUS_ONE;\r\n    return PLUS_ONE;\r\n  }\r\n\r\n  public String toString() {\r\n    return this == PLUS_ONE ? &quot;+1&quot; : &quot;-1&quot;;\r\n  }\r\n}\r\n```\r\n","title":"How to create a class of two integers (a sort of custom type)","body":"<p>Java does not let you write your own primitives, and does not have operator overloading. It is therefore simply impossible to have a class such that any expressions that are of that type act like a number. In other words, given:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PlusOrMinusOne a = ...;\nint b = a + 1; // cannot be made to work\nif (a == -1) // cannot be made to work\n</code></pre>\n<p>What you can do is simply create 2 instances such that they are the <strong>only</strong> instances of a given class. One of them is the value associated with +1, the other with -1. There is nothing specific about these 2 instances that reflects that they represent -1 or +1 - you can code them however you like.</p>\n<p><code>enum</code> is the general way to do this - it takes care of ensuring nobody can make instances other than the ones you defined, for example.</p>\n<pre><code>public enum PlusOrMinusOne /* horrible name, come up with a better one */ {\n  PLUS_ONE(+1),\n  MINUS_ONE(-1),\n  ;\n\n  private final int value;\n\n  PlusOrMinusOne(int value) {\n    this.value = value;\n  }\n\n  public static PlusOrMinusOne of(int value) {\n    if (value == -1) return MINUS_ONE;\n    if (value == +1) return PLUS_ONE;\n    throw new IllegalArgumentException(&quot;&quot; + value);\n  }\n\n  public int getValue() {\n    return value;\n  }\n\n  public PlusOrMinusOne neg() {\n    if (this == PLUS_ONE) return MINUS_ONE;\n    return PLUS_ONE;\n  }\n\n  public String toString() {\n    return this == PLUS_ONE ? &quot;+1&quot; : &quot;-1&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667201114,"creation_date":1667201114,"answer_id":74259956,"question_id":74259797,"body_markdown":"```java\r\nenum PlusOrMinusOne {\r\n    PLUS_ONE(1),\r\n    MINUS_ONE(-1);\r\n\r\n    public final int num;\r\n\r\n    PlusOrMinusOne(int num) {\r\n        this.num = num;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println(CustomNumber.MINUS_ONE.num);\r\n    System.out.println(CustomNumber.PLUS_ONE.num);\r\n}\r\n```","title":"How to create a class of two integers (a sort of custom type)","body":"<pre class=\"lang-java prettyprint-override\"><code>enum PlusOrMinusOne {\n    PLUS_ONE(1),\n    MINUS_ONE(-1);\n\n    public final int num;\n\n    PlusOrMinusOne(int num) {\n        this.num = num;\n    }\n}\n\npublic static void main(String[] args) {\n    System.out.println(CustomNumber.MINUS_ONE.num);\n    System.out.println(CustomNumber.PLUS_ONE.num);\n}\n</code></pre>\n"}],"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667208230,"answer_count":3,"score":0,"last_activity_date":1667201114,"creation_date":1667200087,"question_id":74259797,"body_markdown":"Basically need to create a class which is custom type that has two integers: -1 and 1, instead of all the integers that exist.\r\n\r\nIf you would suggest using enum (never implemented before), could you please suggest how would that work.\r\n\r\n```\r\npublic class PlusOrMinusOne{\r\n    private int plusOne=1;\r\n    private int minusOne=-1;\r\n}\r\n```\r\n","title":"How to create a class of two integers (a sort of custom type)","body":"<p>Basically need to create a class which is custom type that has two integers: -1 and 1, instead of all the integers that exist.</p>\n<p>If you would suggest using enum (never implemented before), could you please suggest how would that work.</p>\n<pre><code>public class PlusOrMinusOne{\n    private int plusOne=1;\n    private int minusOne=-1;\n}\n</code></pre>\n"},{"tags":["python","java","android-studio","tensorflow","tflite"],"comments":[{"owner":{"account_id":12346412,"reputation":69,"user_id":9008599,"accept_rate":100,"display_name":"creative_sh"},"score":0,"creation_date":1659937122,"post_id":73246611,"comment_id":129404410,"body_markdown":"@ Maxim would you please take a look at my question ?","body":"@ Maxim would you please take a look at my question ?"}],"answers":[{"tags":[],"owner":{"account_id":12346412,"reputation":69,"user_id":9008599,"accept_rate":100,"display_name":"creative_sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667201095,"creation_date":1667201095,"answer_id":74259951,"question_id":73246611,"body_markdown":"Finally, I found the answer.\r\n\r\nThere was a problem with my .tflite model. I could not feed input to my model. when I removed some nodes from my graph and added some preprocessing steps to my graph. the problem fixed. ","title":"Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes","body":"<p>Finally, I found the answer.</p>\n<p>There was a problem with my .tflite model. I could not feed input to my model. when I removed some nodes from my graph and added some preprocessing steps to my graph. the problem fixed.</p>\n"}],"owner":{"account_id":12346412,"reputation":69,"user_id":9008599,"accept_rate":100,"display_name":"creative_sh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667201095,"creation_date":1659687061,"question_id":73246611,"body_markdown":"Hi I want to feed an input to my .tflite model in android studio 7.2.1 with below code : \r\n\r\n            val catBitmap = getBitmapFromAsset(&quot;bwr.jpg&quot;)// a 64*64 image \r\n            val output2 = TensorImage(DataType.FLOAT32)\r\n            \r\n            for (y in 0..63) {\r\n                for (x in 0..63) {\r\n                    val px: Int = catBitmap.getPixel(x, y)\r\n\r\n                    // Get channel values from the pixel value.\r\n                    val r: Int = Color.red(px)\r\n                    val g: Int = Color.green(px)\r\n                    val b: Int = Color.blue(px)\r\n\r\n                    // Normalize channel values to [-1.0, 1.0]. This requirement depends\r\n                    // on the model. For example, some models might require values to be\r\n                    // normalized to the range [0.0, 1.0] instead.\r\n                    val rf = (r - 127) / 255.0f\r\n                    val gf = (g - 127) / 255.0f\r\n                    val bf = (b - 127) / 255.0f\r\n                    input.putFloat(rf)\r\n                    input.putFloat(gf)\r\n                    input.putFloat(bf)\r\n                }\r\n            }\r\n            \r\n            tflite.run(input, output2)\r\n\r\nand this is my tflite model properties: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cPcyT.png\r\n\r\n\r\nand it causes this error: \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.tag22, PID: 15184\r\n    java.lang.IllegalArgumentException: Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes.\r\n\r\n\r\nthis is my python interpreter code by which I could successfully get predictions:\r\n\r\n    image_filename=&#39;img.jpeg&#39;\r\n    input_data  = tf.compat.v1.gfile.FastGFile(image_filename, \r\n    &#39;rb&#39;).read()\r\n    cc=[input_data ]\r\n    input_data = np.array([input_data ])\r\n    interpreter.set_tensor(input_details[0][&#39;index&#39;], input_data)\r\n\r\n**can you please help me to fix this ?** I do not know hot to feed input to my model in android. ","title":"Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes","body":"<p>Hi I want to feed an input to my .tflite model in android studio 7.2.1 with below code :</p>\n<pre><code>        val catBitmap = getBitmapFromAsset(&quot;bwr.jpg&quot;)// a 64*64 image \n        val output2 = TensorImage(DataType.FLOAT32)\n        \n        for (y in 0..63) {\n            for (x in 0..63) {\n                val px: Int = catBitmap.getPixel(x, y)\n\n                // Get channel values from the pixel value.\n                val r: Int = Color.red(px)\n                val g: Int = Color.green(px)\n                val b: Int = Color.blue(px)\n\n                // Normalize channel values to [-1.0, 1.0]. This requirement depends\n                // on the model. For example, some models might require values to be\n                // normalized to the range [0.0, 1.0] instead.\n                val rf = (r - 127) / 255.0f\n                val gf = (g - 127) / 255.0f\n                val bf = (b - 127) / 255.0f\n                input.putFloat(rf)\n                input.putFloat(gf)\n                input.putFloat(bf)\n            }\n        }\n        \n        tflite.run(input, output2)\n</code></pre>\n<p>and this is my tflite model properties:</p>\n<p><a href=\"https://i.stack.imgur.com/cPcyT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cPcyT.png\" alt=\"enter image description here\" /></a></p>\n<p>and it causes this error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.tag22, PID: 15184\njava.lang.IllegalArgumentException: Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes.\n</code></pre>\n<p>this is my python interpreter code by which I could successfully get predictions:</p>\n<pre><code>image_filename='img.jpeg'\ninput_data  = tf.compat.v1.gfile.FastGFile(image_filename, \n'rb').read()\ncc=[input_data ]\ninput_data = np.array([input_data ])\ninterpreter.set_tensor(input_details[0]['index'], input_data)\n</code></pre>\n<p><strong>can you please help me to fix this ?</strong> I do not know hot to feed input to my model in android.</p>\n"},{"tags":["java","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1667196091,"post_id":74259267,"comment_id":131104805,"body_markdown":"Have you started by using the much simpler parallel streams instead of completable futures?","body":"Have you started by using the much simpler parallel streams instead of completable futures?"},{"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1667196464,"post_id":74259267,"comment_id":131104854,"body_markdown":"this was my first thought but using parrelStream leads me to out of memory on large dataset. So I moved to Completable future, referring  link\n\nhttps://roytuts.com/difference-between-parallel-stream-and-completablefuture-in-java/#:~:text=One%20of%20the%20advantages%20of,based%20on%20your%20application%20requirements.&amp;text=Now%20it%20took%20just%2010,of%20tasks%20with%2010%20threads.","body":"this was my first thought but using parrelStream leads me to out of memory on large dataset. So I moved to Completable future, referring  link  <a href=\"https://roytuts.com/difference-between-parallel-stream-and-completablefuture-in-java/#:~:text=One%20of%20the%20advantages%20of,based%20on%20your%20application%20requirements.&amp;text=Now%20it%20took%20just%2010,of%20tasks%20with%2010%20threads\" rel=\"nofollow noreferrer\">roytuts.com/&hellip;</a>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667205053,"post_id":74259267,"comment_id":131106782,"body_markdown":"Now if only the stream API had an easy way to do things in parallel... Have you tried `stream().parallel()` instead of shoehorning the completable future API in there. I also doubt the bulk of the processing is in the Java stuff but more or less in the writing (or reading of the whole list). Having 50k things in memory probably isn&#39;t the smart way of doing things (especially if those are also read from a database before hand).","body":"Now if only the stream API had an easy way to do things in parallel... Have you tried <code>stream().parallel()</code> instead of shoehorning the completable future API in there. I also doubt the bulk of the processing is in the Java stuff but more or less in the writing (or reading of the whole list). Having 50k things in memory probably isn&#39;t the smart way of doing things (especially if those are also read from a database before hand)."},{"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1667213873,"post_id":74259267,"comment_id":131109442,"body_markdown":"These list are not read from the database.  This is all read from an csv file and input is expected to be large of-course. I guess parralelStream () and stream().parralel() are the same things right? There is no control of defining your own thread pool hence  I tried experimenting with CompetableFuture.","body":"These list are not read from the database.  This is all read from an csv file and input is expected to be large of-course. I guess parralelStream () and stream().parralel() are the same things right? There is no control of defining your own thread pool hence  I tried experimenting with CompetableFuture."}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667201013,"creation_date":1667201013,"answer_id":74259936,"question_id":74259267,"body_markdown":"The reason why your tasks are being executed sequentially is because you do `.map(CompletableFuture::join)` during the pipeline execution and what actually happens is that the execution will wait for the `CompletableFuture` to join before moving with the next item in the `forEach`. You would need to remove that particular map operation from your stream.\r\n\r\nTo wait for the all the task termination, there are a couple of ways to do it. One is to call `shutdown()` on your ExecutorService and then `awaitTermination(TIMEOUT)`. However this is not efficient if you are going to use that same ExecutorService again during your app lifecycle.\r\n\r\nAnother, would be to do something like the following: \r\n\r\n```java \r\nExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\r\nvar completableFutureList = Lists.partition(list, 500).stream()\r\n                .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service)).flatMap(List::stream).collect(Collectors.toList());\r\n```\r\n...and then:\r\n```java\r\ncompletableFutureList.forEach(CompletableFuture::join);\r\n```\r\nHappy hacking! =)\r\n","title":"Run Completable Future in parallel for an large list with same method","body":"<p>The reason why your tasks are being executed sequentially is because you do <code>.map(CompletableFuture::join)</code> during the pipeline execution and what actually happens is that the execution will wait for the <code>CompletableFuture</code> to join before moving with the next item in the <code>forEach</code>. You would need to remove that particular map operation from your stream.</p>\n<p>To wait for the all the task termination, there are a couple of ways to do it. One is to call <code>shutdown()</code> on your ExecutorService and then <code>awaitTermination(TIMEOUT)</code>. However this is not efficient if you are going to use that same ExecutorService again during your app lifecycle.</p>\n<p>Another, would be to do something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\nvar completableFutureList = Lists.partition(list, 500).stream()\n                .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service)).flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n<p>...and then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>completableFutureList.forEach(CompletableFuture::join);\n</code></pre>\n<p>Happy hacking! =)</p>\n"}],"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1038,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667201013,"creation_date":1667195956,"question_id":74259267,"body_markdown":"I have list contains large amount of data ( e,g 50 k approx). I need to perform some operation on each list item and then have to map the result from processing to java object to write into the csv.  so far the sequential code for this is working fine for me.\r\n\r\n    list.stream().map(listItem-&gt;\r\n               service.methodA(listItem)\r\n                        .map(result -&gt;mapToBean(result, listItem))\r\n        ).flatMap(Optional::stream).collect(Collectors.toList());\r\n\r\nThis operation is slow takes around 4 hr for 2k data processing. So I decided to speedup this by Aysnc Processing using completable future library.( I&#39;m new to Completable future) Here is the code I written for parallel processing.\r\n\r\n \r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\r\n    Lists.partition(list, 500).stream()\r\n                    .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service))\r\n                            .map(CompletableFuture::join).flatMap(List::stream).collect(Collectors.toList());\r\n    \r\n\r\nBut when I run this code, I observed that thread 1 processing the one part of list then wait for it to complete and then Thread2 start processing another part and so on. Hence it seems to execute sequentially (of-course in different thread) hence here no gain for me.  I want to execute the each partition in parallel and finally collect the result of each thread and combine at the last. Can someone let help me to achieve this. \r\n\r\n\r\n","title":"Run Completable Future in parallel for an large list with same method","body":"<p>I have list contains large amount of data ( e,g 50 k approx). I need to perform some operation on each list item and then have to map the result from processing to java object to write into the csv.  so far the sequential code for this is working fine for me.</p>\n<pre><code>list.stream().map(listItem-&gt;\n           service.methodA(listItem)\n                    .map(result -&gt;mapToBean(result, listItem))\n    ).flatMap(Optional::stream).collect(Collectors.toList());\n</code></pre>\n<p>This operation is slow takes around 4 hr for 2k data processing. So I decided to speedup this by Aysnc Processing using completable future library.( I'm new to Completable future) Here is the code I written for parallel processing.</p>\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\nLists.partition(list, 500).stream()\n                .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service))\n                        .map(CompletableFuture::join).flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n<p>But when I run this code, I observed that thread 1 processing the one part of list then wait for it to complete and then Thread2 start processing another part and so on. Hence it seems to execute sequentially (of-course in different thread) hence here no gain for me.  I want to execute the each partition in parallel and finally collect the result of each thread and combine at the last. Can someone let help me to achieve this.</p>\n"},{"tags":["java","google-api","gmail-api"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667200889,"creation_date":1667070483,"answer_id":74248084,"question_id":74248016,"body_markdown":"The only way to access gmail API without user intervention and showing a consent screen is through Google workspace domain accounts and configuring domain wide deligation to a service account\r\n\r\nif the account you are connecting from is a standard gmail google account then you need to authorize the user using oauth2 and display the consent screen.   there is no other way you can store the refresh token in your database and request a new Access token after that the user need only authorize your application once.   unfortunately there is no other option.\r\n\r\nWith the possible exception of going through the smtp / IMAP server using an apps password from a Gmail account with 2fa enabled.   Personally I question the security ramifications of giving third party appliances an apps password to my Gmail account.  that said I thought I should mention the option. \r\n\r\n# Example\r\n\r\nThis is the Google drive sample I have for authorization with a service account using domain wide delegation.\r\n\r\nAgain [domain wide delegation with a service account][1] can only be done though a google workspace account with delegation configured by the workspace admin.\r\n\r\nNote that setServiceAccountUser is the user on your domain which you would like the service account to impersonate.\r\n\r\n\r\n\r\n    private GoogleCredential authorize1() {\r\n    \r\n        GoogleCredential credential = null;\r\n    \r\n        HttpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    \r\n        JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    \r\n        try {\r\n    \r\n          InputStream jsonFileStream =\r\n              DriveSample.class.getClassLoader().getResourceAsStream(&quot;client_secrets.json&quot;);\r\n    \r\n          GoogleCredential readJsonFile = GoogleCredential\r\n              .fromStream(jsonFileStream, httpTransport, JSON_FACTORY).createScoped(DriveScopes.all());\r\n    \r\n          credential = new GoogleCredential.Builder().setTransport(readJsonFile.getTransport())\r\n              .setJsonFactory(readJsonFile.getJsonFactory())\r\n              .setServiceAccountId(readJsonFile.getServiceAccountId())\r\n              .setServiceAccountUser(userEmail)\r\n              .setServiceAccountScopes(readJsonFile.getServiceAccountScopes())\r\n              .setServiceAccountPrivateKey(readJsonFile.getServiceAccountPrivateKey()).build();\r\n        } catch (IOException exception) {\r\n          exception.printStackTrace();\r\n        }\r\n        return credential;\r\n    }\r\n\r\n\r\n  [1]: https://developers.google.com/cloud-search/docs/guides/delegation","title":"Gmail API client credential flow for Java rest service","body":"<p>The only way to access gmail API without user intervention and showing a consent screen is through Google workspace domain accounts and configuring domain wide deligation to a service account</p>\n<p>if the account you are connecting from is a standard gmail google account then you need to authorize the user using oauth2 and display the consent screen.   there is no other way you can store the refresh token in your database and request a new Access token after that the user need only authorize your application once.   unfortunately there is no other option.</p>\n<p>With the possible exception of going through the smtp / IMAP server using an apps password from a Gmail account with 2fa enabled.   Personally I question the security ramifications of giving third party appliances an apps password to my Gmail account.  that said I thought I should mention the option.</p>\n<h1>Example</h1>\n<p>This is the Google drive sample I have for authorization with a service account using domain wide delegation.</p>\n<p>Again <a href=\"https://developers.google.com/cloud-search/docs/guides/delegation\" rel=\"nofollow noreferrer\">domain wide delegation with a service account</a> can only be done though a google workspace account with delegation configured by the workspace admin.</p>\n<p>Note that setServiceAccountUser is the user on your domain which you would like the service account to impersonate.</p>\n<pre><code>private GoogleCredential authorize1() {\n\n    GoogleCredential credential = null;\n\n    HttpTransport = GoogleNetHttpTransport.newTrustedTransport();\n\n    JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n\n    try {\n\n      InputStream jsonFileStream =\n          DriveSample.class.getClassLoader().getResourceAsStream(&quot;client_secrets.json&quot;);\n\n      GoogleCredential readJsonFile = GoogleCredential\n          .fromStream(jsonFileStream, httpTransport, JSON_FACTORY).createScoped(DriveScopes.all());\n\n      credential = new GoogleCredential.Builder().setTransport(readJsonFile.getTransport())\n          .setJsonFactory(readJsonFile.getJsonFactory())\n          .setServiceAccountId(readJsonFile.getServiceAccountId())\n          .setServiceAccountUser(userEmail)\n          .setServiceAccountScopes(readJsonFile.getServiceAccountScopes())\n          .setServiceAccountPrivateKey(readJsonFile.getServiceAccountPrivateKey()).build();\n    } catch (IOException exception) {\n      exception.printStackTrace();\n    }\n    return credential;\n}\n</code></pre>\n"}],"owner":{"account_id":8589938,"reputation":107,"user_id":6434836,"accept_rate":67,"display_name":"Hari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667200889,"creation_date":1667069915,"question_id":74248016,"body_markdown":"I am really trying hard to find a solution for this.\r\n\r\nMine is a notification service application which send email to multiple clients. \r\nSome of our clients are using Outlook accounts and some of our clients are using Google accounts. \r\nFor outlook clients, we have implemented client credential flow(Which does not have any human intervention for authorisation) thorough MS graph and it works very well\r\n\r\nNow we need to use Google API for Google client. I am not able to get the proper guide and document to setup the same. Could any one please help me on this. Please find my requirement summary below\r\n\r\n - its a Java rest API\r\n   \r\n  \r\n - we have around 100 different clients, currently we are keeping   \r\n   credentials in DB and using it accordingly\r\n\r\n  \r\n\r\n - We have get the tokens from client one time and we need to use it   \r\n   through the java application without any manual intervention\r\n\r\nPlease help me with the configuration and java implementation sample for the same.","title":"Gmail API client credential flow for Java rest service","body":"<p>I am really trying hard to find a solution for this.</p>\n<p>Mine is a notification service application which send email to multiple clients.\nSome of our clients are using Outlook accounts and some of our clients are using Google accounts.\nFor outlook clients, we have implemented client credential flow(Which does not have any human intervention for authorisation) thorough MS graph and it works very well</p>\n<p>Now we need to use Google API for Google client. I am not able to get the proper guide and document to setup the same. Could any one please help me on this. Please find my requirement summary below</p>\n<ul>\n<li><p>its a Java rest API</p>\n</li>\n<li><p>we have around 100 different clients, currently we are keeping<br />\ncredentials in DB and using it accordingly</p>\n</li>\n<li><p>We have get the tokens from client one time and we need to use it<br />\nthrough the java application without any manual intervention</p>\n</li>\n</ul>\n<p>Please help me with the configuration and java implementation sample for the same.</p>\n"},{"tags":["java","base64","itext"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1666954987,"post_id":74234242,"comment_id":131062186,"body_markdown":"Base64 is not an image format but just encoding. Decode the base64 string to the original image format, manipulate the image and reencode it to base64.","body":"Base64 is not an image format but just encoding. Decode the base64 string to the original image format, manipulate the image and reencode it to base64."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666956157,"post_id":74234242,"comment_id":131062555,"body_markdown":"Also you have tagged your question [tag:itext]. This points towards PDF as format. And your screenshot looks like from a PDF with signatures applied using DocuSign. So, is this about changing signature stroke images?","body":"Also you have tagged your question <a href=\"https://stackoverflow.com/questions/tagged/itext\">itext</a>. This points towards PDF as format. And your screenshot looks like from a PDF with signatures applied using DocuSign. So, is this about changing signature stroke images?"},{"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"score":0,"creation_date":1666956720,"post_id":74234242,"comment_id":131062768,"body_markdown":"@mkl thanks for replying. I was previously using com.itextpdf.signatures.PdfSignatureAppearance to add some metadata about signatures. that is why i tagged iText. but i now feel, as jps suggested, i should first perform modifications and then just provide the updated image to iText.","body":"@mkl thanks for replying. I was previously using com.itextpdf.signatures.PdfSignatureAppearance to add some metadata about signatures. that is why i tagged iText. but i now feel, as jps suggested, i should first perform modifications and then just provide the updated image to iText."},{"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"score":0,"creation_date":1666957007,"post_id":74234242,"comment_id":131062854,"body_markdown":"just curious, do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance ? @mkl","body":"just curious, do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance ? @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666974713,"post_id":74234242,"comment_id":131069007,"body_markdown":"*&quot;do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance&quot;* - Well, it isn&#39;t the default design created by `PdfSignatureAppearance`. But as you can provide arbitrary own designs (see [Digital Signing with iText 7 / Part IV - Appearances](https://kb.itextpdf.com/home/it7kb/examples/digital-signing-with-itext-7/part-iv-appearances)), it&#39;s achievable.","body":"<i>&quot;do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance&quot;</i> - Well, it isn&#39;t the default design created by <code>PdfSignatureAppearance</code>. But as you can provide arbitrary own designs (see <a href=\"https://kb.itextpdf.com/home/it7kb/examples/digital-signing-with-itext-7/part-iv-appearances\" rel=\"nofollow noreferrer\">Digital Signing with iText 7 / Part IV - Appearances</a>), it&#39;s achievable."},{"owner":{"account_id":3941825,"reputation":12902,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1666974790,"post_id":74234242,"comment_id":131069023,"body_markdown":"If there&#39;s a question about DocuSign - please update the question. Not clear how this is related to DocuSign except the image, so not sure how to help.","body":"If there&#39;s a question about DocuSign - please update the question. Not clear how this is related to DocuSign except the image, so not sure how to help."},{"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"score":0,"creation_date":1667200220,"post_id":74234242,"comment_id":131105595,"body_markdown":"nothing except the design @InbarGazit, removing the docusignapi tag. couldnt find a design tag so added this one.","body":"nothing except the design @InbarGazit, removing the docusignapi tag. couldnt find a design tag so added this one."}],"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667200266,"creation_date":1666953931,"question_id":74234242,"body_markdown":"I am using base64 as signatures in my project and I need to modify the existing base64 to add some lines and designs. How do we do that?\r\n\r\n[![sign right now][1]][1]\r\n[![target sign (my source image will be inside instead of the text)][2]]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lssyd.png\r\n  [2]: https://i.stack.imgur.com/jpfvk.jpg","title":"modify / beautify / edit base64 images in Java","body":"<p>I am using base64 as signatures in my project and I need to modify the existing base64 to add some lines and designs. How do we do that?</p>\n<p><a href=\"https://i.stack.imgur.com/lssyd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lssyd.png\" alt=\"sign right now\" /></a>\n[<img src=\"https://i.stack.imgur.com/jpfvk.jpg\" alt=\"target sign (my source image will be inside instead of the text)\" />]</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1495594129,"post_id":44148107,"comment_id":75313582,"body_markdown":"Look at the stack trace to determine the cause of the crash. https://stackoverflow.com/questions/23353173","body":"Look at the stack trace to determine the cause of the crash. <a href=\"https://stackoverflow.com/questions/23353173\">stackoverflow.com/questions/23353173</a>"},{"owner":{"account_id":10858344,"reputation":15,"user_id":7983943,"display_name":"Jeff"},"score":0,"creation_date":1495594515,"post_id":44148107,"comment_id":75313683,"body_markdown":"I have added in the stack trace. Could you explain to me the reason for the crash?","body":"I have added in the stack trace. Could you explain to me the reason for the crash?"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1495594571,"creation_date":1495594571,"answer_id":44148194,"question_id":44148107,"body_markdown":"You want to change\r\n\r\n    no1 = Integer.parseInt(first.toString());\r\n\r\nto\r\n\r\n    no1 = Integer.parseInt(first.getText ().toString());\r\n\r\nsame for `second`\r\n","title":"Android simple calculator crash","body":"<p>You want to change</p>\n\n<pre><code>no1 = Integer.parseInt(first.toString());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>no1 = Integer.parseInt(first.getText ().toString());\n</code></pre>\n\n<p>same for <code>second</code></p>\n"},{"tags":[],"owner":{"account_id":1631551,"reputation":945,"user_id":1505969,"accept_rate":0,"display_name":"Durgesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516280309,"creation_date":1516280309,"answer_id":48321953,"question_id":44148107,"body_markdown":"you are getting the value from editText in wrong way\r\n    `no1 = Integer.parseInt(first.toString());\r\n    no2 = Integer.parseInt(second.toString());\r\n    answer = no1 + no2;\r\n    textview3.setText(&quot;Answer: &quot; + answer);`\r\n    \r\nit should be `first.getText().toString();`\r\n\r\n\r\n","title":"Android simple calculator crash","body":"<p>you are getting the value from editText in wrong way\n    <code>no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 + no2;\n    textview3.setText(\"Answer: \" + answer);</code></p>\n\n<p>it should be <code>first.getText().toString();</code></p>\n"}],"owner":{"account_id":10858344,"reputation":15,"user_id":7983943,"display_name":"Jeff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":44148194,"answer_count":2,"score":-1,"last_activity_date":1667200233,"creation_date":1495594049,"question_id":44148107,"body_markdown":"I am new to android developing and made a simple calculator project. However, my app keeps crashing and I have no idea why\r\n\r\n**Java Codes:**\r\n\r\n    package com.example.zhiwen.calculator;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    Button plus,minus,times,divide;\r\n    TextView textview3;\r\n    EditText first, second;\r\n    double no1 = 0, no2 = 0;\r\n    double answer = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        plus = (Button) findViewById(R.id.plus);\r\n        minus = (Button) findViewById(R.id.minus);\r\n        times = (Button) findViewById(R.id.times);\r\n        divide = (Button) findViewById(R.id.divide);\r\n        textview3 = (TextView) findViewById(R.id.textview3);\r\n        first = (EditText) findViewById(R.id.editText);\r\n        second = (EditText) findViewById(R.id.editText2);\r\n    }\r\n\r\n    public void ClickMeButton(View view){\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 + no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }\r\n    public void ClickMeButton2(View view) {\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 - no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }\r\n    public void ClickMeButton3(View view) {\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 * no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }\r\n    public void ClickMeButton4(View view) {\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 / no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }}\r\n\r\n\r\n\r\n**Stack Trace:**\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;                                                                              Process: com.example.zhiwen.calculator, PID: 2027\r\n&gt;                                                                              java.lang.IllegalStateException: Could not execute method for\r\n&gt; android:onClick\r\n&gt;                                                                                  at\r\n&gt; android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\r\n&gt;                                                                                  at android.view.View.performClick(View.java:6207)\r\n&gt;                                                                                  at android.widget.TextView.performClick(TextView.java:11094)\r\n&gt;                                                                                  at android.view.View$PerformClick.run(View.java:23639)\r\n&gt;                                                                                  at android.os.Handler.handleCallback(Handler.java:751)\r\n&gt;                                                                                  at android.os.Handler.dispatchMessage(Handler.java:95)\r\n&gt;                                                                                  at android.os.Looper.loop(Looper.java:154)\r\n&gt;                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6688)\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                  at\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)\r\n&gt;                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)\r\n&gt;                                                                               Caused by: java.lang.reflect.InvocationTargetException\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                  at\r\n&gt; android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\r\n&gt;                                                                                  at android.view.View.performClick(View.java:6207)&#160;\r\n&gt;                                                                                  at android.widget.TextView.performClick(TextView.java:11094)&#160;\r\n&gt;                                                                                  at android.view.View$PerformClick.run(View.java:23639)&#160;\r\n&gt;                                                                                  at android.os.Handler.handleCallback(Handler.java:751)&#160;\r\n&gt;                                                                                  at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n&gt;                                                                                  at android.os.Looper.loop(Looper.java:154)&#160;\r\n&gt;                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6688)&#160;\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n&gt;                                                                                  at\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)&#160;\r\n&gt;                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)&#160;\r\n&gt;                                                                               Caused by: java.lang.NumberFormatException: For input string:\r\n&gt; &quot;android.support.v7.widget.AppCompatEditText{271441f VFED..CL.\r\n&gt; ........ 0,57-441,193 #7f0b0063 app:id/editText}&quot;\r\n&gt;                                                                                  at java.lang.Integer.parseInt(Integer.java:521)\r\n&gt;                                                                                  at java.lang.Integer.parseInt(Integer.java:556)\r\n&gt;                                                                                  at\r\n&gt; com.example.zhiwen.calculator.MainActivity.ClickMeButton(MainActivity.java:33)\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n&gt;                                                                                  at\r\n&gt; android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)&#160;\r\n&gt;                                                                                  at android.view.View.performClick(View.java:6207)&#160;\r\n&gt;                                                                                  at android.widget.TextView.performClick(TextView.java:11094)&#160;\r\n&gt;                                                                                  at android.view.View$PerformClick.run(View.java:23639)&#160;\r\n&gt;                                                                                  at android.os.Handler.handleCallback(Handler.java:751)&#160;\r\n&gt;                                                                                  at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n&gt;                                                                                  at android.os.Looper.loop(Looper.java:154)&#160;\r\n&gt;                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6688)&#160;\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n&gt;                                                                                  at\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)&#160;\r\n&gt;                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)","title":"Android simple calculator crash","body":"<p>I am new to android developing and made a simple calculator project. However, my app keeps crashing and I have no idea why</p>\n<p><strong>Java Codes:</strong></p>\n<pre><code>package com.example.zhiwen.calculator;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\nButton plus,minus,times,divide;\nTextView textview3;\nEditText first, second;\ndouble no1 = 0, no2 = 0;\ndouble answer = 0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    plus = (Button) findViewById(R.id.plus);\n    minus = (Button) findViewById(R.id.minus);\n    times = (Button) findViewById(R.id.times);\n    divide = (Button) findViewById(R.id.divide);\n    textview3 = (TextView) findViewById(R.id.textview3);\n    first = (EditText) findViewById(R.id.editText);\n    second = (EditText) findViewById(R.id.editText2);\n}\n\npublic void ClickMeButton(View view){\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 + no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}\npublic void ClickMeButton2(View view) {\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 - no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}\npublic void ClickMeButton3(View view) {\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 * no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}\npublic void ClickMeButton4(View view) {\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 / no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}}\n</code></pre>\n<p><strong>Stack Trace:</strong></p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.zhiwen.calculator, PID: 2027\njava.lang.IllegalStateException: Could not execute method for\nandroid:onClick\nat\nandroid.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\nat android.view.View.performClick(View.java:6207)\nat android.widget.TextView.performClick(TextView.java:11094)\nat android.view.View$PerformClick.run(View.java:23639)\nat android.os.Handler.handleCallback(Handler.java:751)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6688)\nat java.lang.reflect.Method.invoke(Native Method)\nat\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)\nCaused by: java.lang.reflect.InvocationTargetException\nat java.lang.reflect.Method.invoke(Native Method)\nat\nandroid.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\nat android.view.View.performClick(View.java:6207) \nat android.widget.TextView.performClick(TextView.java:11094) \nat android.view.View$PerformClick.run(View.java:23639) \nat android.os.Handler.handleCallback(Handler.java:751) \nat android.os.Handler.dispatchMessage(Handler.java:95) \nat android.os.Looper.loop(Looper.java:154) \nat android.app.ActivityThread.main(ActivityThread.java:6688) \nat java.lang.reflect.Method.invoke(Native Method) \nat\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358) \nCaused by: java.lang.NumberFormatException: For input string:\n&quot;android.support.v7.widget.AppCompatEditText{271441f VFED..CL.\n........ 0,57-441,193 #7f0b0063 app:id/editText}&quot;\nat java.lang.Integer.parseInt(Integer.java:521)\nat java.lang.Integer.parseInt(Integer.java:556)\nat\ncom.example.zhiwen.calculator.MainActivity.ClickMeButton(MainActivity.java:33)\nat java.lang.reflect.Method.invoke(Native Method) \nat\nandroid.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288) \nat android.view.View.performClick(View.java:6207) \nat android.widget.TextView.performClick(TextView.java:11094) \nat android.view.View$PerformClick.run(View.java:23639) \nat android.os.Handler.handleCallback(Handler.java:751) \nat android.os.Handler.dispatchMessage(Handler.java:95) \nat android.os.Looper.loop(Looper.java:154) \nat android.app.ActivityThread.main(ActivityThread.java:6688) \nat java.lang.reflect.Method.invoke(Native Method) \nat\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)</p>\n</blockquote>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":1219770,"reputation":3961,"user_id":1186624,"display_name":"relent95"},"score":0,"creation_date":1667091722,"post_id":74248997,"comment_id":131088735,"body_markdown":"See [ask]. This is impossible technically. And ```automation``` means automating an application simulating user inputs such as keyboard and mouse events. Remove that tag.","body":"See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. This is impossible technically. And <code>automation</code> means automating an application simulating user inputs such as keyboard and mouse events. Remove that tag."},{"owner":{"account_id":25943400,"reputation":1,"user_id":19662477,"display_name":"Hector"},"score":0,"creation_date":1667116698,"post_id":74248997,"comment_id":131091248,"body_markdown":"Thanks for your comment @relent95 I have updated the tags. And good to know that it’s impossible from your knowledge. \n\nI will wait to see if anyone else can suggest any solution.","body":"Thanks for your comment @relent95 I have updated the tags. And good to know that it’s impossible from your knowledge.   I will wait to see if anyone else can suggest any solution."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667199414,"creation_date":1667117679,"answer_id":74251456,"question_id":74248997,"body_markdown":"It is not possible to reliably identify the country for a phone number if the number doesn&#39;t include the standard country code prefix.  Numbers (as dialed) are only unambiguous when you know *where* they were dialed.\r\n\r\nTherefore you won&#39;t find library that can do this (reliably).\r\n\r\nNote that someone suggested this library:\r\n\r\n  - https://pypi.org/project/phonenumbers/\r\n\r\nHowever, if you read the documentation carefully, you will see that if the number doesn&#39;t have a `+nnn` international prefix, you need to give a 2nd parameter representing a country in which to (attempt to) understand the number.  Unless you know *that*, the library doesn&#39;t have the context for interpreting the number, and hence to work out the (real) country of the number.\r\n\r\n-----------------\r\n\r\nThe solution to your problem will be to require the user to enter the phone number with a proper international prefix, OR enter the country explicitly as a separate field.\r\n","title":"how to identify any phone number&#39;s Country","body":"<p>It is not possible to reliably identify the country for a phone number if the number doesn't include the standard country code prefix.  Numbers (as dialed) are only unambiguous when you know <em>where</em> they were dialed.</p>\n<p>Therefore you won't find library that can do this (reliably).</p>\n<p>Note that someone suggested this library:</p>\n<ul>\n<li><a href=\"https://pypi.org/project/phonenumbers/\" rel=\"nofollow noreferrer\">https://pypi.org/project/phonenumbers/</a></li>\n</ul>\n<p>However, if you read the documentation carefully, you will see that if the number doesn't have a <code>+nnn</code> international prefix, you need to give a 2nd parameter representing a country in which to (attempt to) understand the number.  Unless you know <em>that</em>, the library doesn't have the context for interpreting the number, and hence to work out the (real) country of the number.</p>\n<hr />\n<p>The solution to your problem will be to require the user to enter the phone number with a proper international prefix, OR enter the country explicitly as a separate field.</p>\n"}],"owner":{"account_id":25943400,"reputation":1,"user_id":19662477,"display_name":"Hector"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667199414,"creation_date":1667079217,"question_id":74248997,"body_markdown":"I want to predict and create a new column named Proposed_Telephone_Country based on the phone number.\r\n\r\nNote:- Phone number may or may not start with ISO code/ Country code. We dont know which phone number belongs to which country, hence if it matches to multiple countries i would need the top 5 matches to be populated in the country column.\r\n\r\n\r\nI have tried using phone numbers library- geocoder and phone-iso 3166 library in python but it only predict numbers where the initials represents country code/iso code. For ex.. +61406034*** will show AU but 0406034*** (local format) will show nothing.\r\n\r\nALSO NOTE:- If you can suggest how to predict if number is from a list of specific country or not(10 specific countries I have). That would be of great help too. ","title":"how to identify any phone number&#39;s Country","body":"<p>I want to predict and create a new column named Proposed_Telephone_Country based on the phone number.</p>\n<p>Note:- Phone number may or may not start with ISO code/ Country code. We dont know which phone number belongs to which country, hence if it matches to multiple countries i would need the top 5 matches to be populated in the country column.</p>\n<p>I have tried using phone numbers library- geocoder and phone-iso 3166 library in python but it only predict numbers where the initials represents country code/iso code. For ex.. +61406034*** will show AU but 0406034*** (local format) will show nothing.</p>\n<p>ALSO NOTE:- If you can suggest how to predict if number is from a list of specific country or not(10 specific countries I have). That would be of great help too.</p>\n"},{"tags":["java","mongodb","upsert","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":1215628,"reputation":52,"user_id":1183288,"display_name":"wvandrunen1982"},"down_vote_count":3,"up_vote_count":3,"is_accepted":true,"score":0,"last_activity_date":1394063469,"creation_date":1394063469,"answer_id":22211965,"question_id":20001627,"body_markdown":"I ran into the same problem. In het current Spring Data MongoDB version no such thing is available. You have to update the seperate fields by hand.\r\n\r\nHowever it is possible with another framework: Morphia.\r\n\r\nThis framework has a wrapper for DAO functionality: https://github.com/mongodb/morphia/wiki/DAOSupport\r\n\r\nYou can use the DAO API to do things like this:\r\n\r\n    SomePojo pojo = daoInstance.findOne(&quot;some-field&quot;, &quot;some-value&quot;);\r\n    pojo.setAProperty(&quot;changing this property&quot;);\r\n    daoInstance.save(pojo);\r\n\r\n","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>I ran into the same problem. In het current Spring Data MongoDB version no such thing is available. You have to update the seperate fields by hand.</p>\n\n<p>However it is possible with another framework: Morphia.</p>\n\n<p>This framework has a wrapper for DAO functionality: <a href=\"https://github.com/mongodb/morphia/wiki/DAOSupport\" rel=\"nofollow\">https://github.com/mongodb/morphia/wiki/DAOSupport</a></p>\n\n<p>You can use the DAO API to do things like this:</p>\n\n<pre><code>SomePojo pojo = daoInstance.findOne(\"some-field\", \"some-value\");\npojo.setAProperty(\"changing this property\");\ndaoInstance.save(pojo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324022,"reputation":63,"user_id":3531321,"accept_rate":25,"display_name":"stoneHah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400060644,"creation_date":1400060644,"answer_id":23651030,"question_id":20001627,"body_markdown":"I think that:\r\nDescription add a property\r\n\r\n    @Id\r\n\tprivate String id;\r\nthen get a document by the query condition,set Description&#39;s id by document&#39;s id.\r\nand save","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>I think that:\nDescription add a property</p>\n\n<pre><code>@Id\nprivate String id;\n</code></pre>\n\n<p>then get a document by the query condition,set Description's id by document's id.\nand save</p>\n"},{"tags":[],"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1450781820,"creation_date":1412670841,"answer_id":26231824,"question_id":20001627,"body_markdown":"you can use save : (if non exist = insert else = upsert)\r\n\r\n&gt; save(Object objectToSave, String collectionName)\r\n\r\nread : [javadoc][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>you can use save : (if non exist = insert else = upsert)</p>\n\n<blockquote>\n  <p>save(Object objectToSave, String collectionName)</p>\n</blockquote>\n\n<p>read : <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-\" rel=\"noreferrer\">javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":1536659,"reputation":904,"user_id":1628839,"accept_rate":80,"display_name":"Vivek Sethi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1438878184,"creation_date":1438878184,"answer_id":31861008,"question_id":20001627,"body_markdown":"This is what I am doing for the time being. Not so much elegant way to do it, but it does save a precious DB call:\r\n\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.mongodb.BasicDBObject;\r\n    import com.mongodb.DB;\r\n    import com.mongodb.DBCollection;\r\n    import com.mongodb.DBObject;\r\n    import com.mongodb.util.JSON;\r\n\r\n    /**\r\n     * Perform an upsert operation to update ALL FIELDS in an object using native mongo driver&#39;s methods\r\n     * since mongoTemplate&#39;s upsert method doesn&#39;t allow it\r\n     * @param upsertQuery\r\n     * @param object\r\n     * @param collectionName\r\n     */\r\n    private void performUpsert(Query upsertQuery, Object object, String collectionName){\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        try {\r\n            String jsonStr = mapper.writeValueAsString(object);\r\n            DB db = mongoTemplate.getDb();\r\n            DBCollection collection = db.getCollection(collectionName);\r\n            DBObject query = upsertQuery.getQueryObject();\r\n            DBObject update = new BasicDBObject(&quot;$set&quot;, JSON.parse(jsonStr));\r\n            collection.update(query, update, true, false);\r\n        } catch (IOException e) {\r\n            LOGGER.error(&quot;Unable to persist the metrics in DB. Error while parsing object: {}&quot;, e);\r\n        }\r\n    }","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>This is what I am doing for the time being. Not so much elegant way to do it, but it does save a precious DB call:</p>\n\n<pre><code>import org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.query.Query;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.mongodb.BasicDBObject;\nimport com.mongodb.DB;\nimport com.mongodb.DBCollection;\nimport com.mongodb.DBObject;\nimport com.mongodb.util.JSON;\n\n/**\n * Perform an upsert operation to update ALL FIELDS in an object using native mongo driver's methods\n * since mongoTemplate's upsert method doesn't allow it\n * @param upsertQuery\n * @param object\n * @param collectionName\n */\nprivate void performUpsert(Query upsertQuery, Object object, String collectionName){\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    try {\n        String jsonStr = mapper.writeValueAsString(object);\n        DB db = mongoTemplate.getDb();\n        DBCollection collection = db.getCollection(collectionName);\n        DBObject query = upsertQuery.getQueryObject();\n        DBObject update = new BasicDBObject(\"$set\", JSON.parse(jsonStr));\n        collection.update(query, update, true, false);\n    } catch (IOException e) {\n        LOGGER.error(\"Unable to persist the metrics in DB. Error while parsing object: {}\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6961990,"reputation":583,"user_id":5341129,"display_name":"PaniniGelato"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1460623445,"creation_date":1453454838,"answer_id":34943183,"question_id":20001627,"body_markdown":"I found a pretty good solution for this question\r\n\r\n    //make a new description here\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setName(&quot;norwegian&quot;);\r\n    d.setNorwegian(&quot;norwegian&quot;);\r\n    d.setEnglish(&quot;english&quot;);\r\n\r\n    //build query\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n\r\n    //build update\r\n    DBObject dbDoc = new BasicDBObject();\r\n    mongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\r\n    Update update = Update.fromDBObject(dbDoc);\r\n\r\n    //run it!\r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\n\r\nPlz note that Update.fromDBObject return an update object with all fields in dbDoc. If you just want to update non-null fields, you should code a new method to exclude null fields.\r\n\r\n\r\nFor example, the front-end post a doc like below:\r\n\r\n    //make a new description here\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setEnglish(&quot;norwegian&quot;);\r\n\r\nWe only need to update the field &#39;language&#39;:\r\n\r\n    //return Update object\r\n    public static Update fromDBObjectExcludeNullFields(DBObject object) {\r\n\t\tUpdate update = new Update();\t\t\r\n\t\tfor (String key : object.keySet()) {\r\n\t\t\tObject value = object.get(key);\r\n\t\t\tif(value!=null){\r\n\t\t\t\tupdate.set(key, value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn update;\r\n\t}\r\n\r\n    //build udpate\r\n    Update update = fromDBObjectExcludeNullFields(dbDoc);","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>I found a pretty good solution for this question</p>\n\n<pre><code>//make a new description here\nDescription d = new Description();\nd.setCode(\"no\");\nd.setName(\"norwegian\");\nd.setNorwegian(\"norwegian\");\nd.setEnglish(\"english\");\n\n//build query\nQuery query = new Query(Criteria.where(\"code\").is(description.getCode()));\n\n//build update\nDBObject dbDoc = new BasicDBObject();\nmongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\nUpdate update = Update.fromDBObject(dbDoc);\n\n//run it!\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>Plz note that Update.fromDBObject return an update object with all fields in dbDoc. If you just want to update non-null fields, you should code a new method to exclude null fields.</p>\n\n<p>For example, the front-end post a doc like below:</p>\n\n<pre><code>//make a new description here\nDescription d = new Description();\nd.setCode(\"no\");\nd.setEnglish(\"norwegian\");\n</code></pre>\n\n<p>We only need to update the field 'language':</p>\n\n<pre><code>//return Update object\npublic static Update fromDBObjectExcludeNullFields(DBObject object) {\n    Update update = new Update();       \n    for (String key : object.keySet()) {\n        Object value = object.get(key);\n        if(value!=null){\n            update.set(key, value);\n        }\n    }\n    return update;\n}\n\n//build udpate\nUpdate update = fromDBObjectExcludeNullFields(dbDoc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8587145,"reputation":1,"user_id":6432862,"display_name":"V. F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465261818,"creation_date":1465261818,"answer_id":37669029,"question_id":20001627,"body_markdown":"Just use `ReflectionDBObject` - if you make `Description` extend it, you should just get your object&#39;s fields transferred to `Update` reflectively, automagically. The note from above about null fields included in the update still holds true.","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>Just use <code>ReflectionDBObject</code> - if you make <code>Description</code> extend it, you should just get your object's fields transferred to <code>Update</code> reflectively, automagically. The note from above about null fields included in the update still holds true.</p>\n"},{"tags":[],"owner":{"account_id":4755420,"reputation":523,"user_id":3844310,"display_name":"schmichri"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1472812862,"creation_date":1472812862,"answer_id":39290410,"question_id":20001627,"body_markdown":"If you want to upsert Pojos incl. property `String id;` you have to exclude the _id field in the fromDBObject method `Update.fromDBObject(dbDoc,&quot;_id&quot;`).\r\n\r\nOtherwise you get the Exception:\r\n\r\n    org.springframework.dao.DuplicateKeyException: { &quot;serverUsed&quot; : &quot;127.0.0.1:27017&quot; , &quot;ok&quot; : 1 , &quot;n&quot; : 0 , &quot;updatedExisting&quot; : false , &quot;err&quot; : &quot;E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }&quot; , &quot;code&quot; : 11000}; nested exception is com.mongodb.MongoException$DuplicateKey: { &quot;serverUsed&quot; : &quot;127.0.0.1:27017&quot; , &quot;ok&quot; : 1 , &quot;n&quot; : 0 , &quot;updatedExisting&quot; : false , &quot;err&quot; : &quot;E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }&quot; , &quot;code&quot; : 11000}\r\n\r\nbecause the _id field of the first is null \r\n\r\n    {\r\n        &quot;_id&quot; : null,\r\n    ...\r\n    \r\n    }\r\n\r\nFullcode based on @PaniniGelato answer would be \r\n\r\n\r\n    public class Description(){\r\n        public String id;\r\n    ...\r\n    }\r\n\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setName(&quot;norwegian&quot;);\r\n    d.setNorwegian(&quot;norwegian&quot;);\r\n    d.setEnglish(&quot;english&quot;);\r\n    \r\n    //build query\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n    \r\n    //build update\r\n    DBObject dbDoc = new BasicDBObject();\r\n    mongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\r\n    Update update = Update.fromDBObject(dbDoc, &quot;_id&quot;);\r\n    \r\n    //run it!\r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\nThen the upsert is working in the cases of insert **and** update. Corrections &amp; thoughts are welcome ;)\r\n\r\n","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>If you want to upsert Pojos incl. property <code>String id;</code> you have to exclude the _id field in the fromDBObject method <code>Update.fromDBObject(dbDoc,\"_id\"</code>).</p>\n\n<p>Otherwise you get the Exception:</p>\n\n<pre><code>org.springframework.dao.DuplicateKeyException: { \"serverUsed\" : \"127.0.0.1:27017\" , \"ok\" : 1 , \"n\" : 0 , \"updatedExisting\" : false , \"err\" : \"E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }\" , \"code\" : 11000}; nested exception is com.mongodb.MongoException$DuplicateKey: { \"serverUsed\" : \"127.0.0.1:27017\" , \"ok\" : 1 , \"n\" : 0 , \"updatedExisting\" : false , \"err\" : \"E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }\" , \"code\" : 11000}\n</code></pre>\n\n<p>because the _id field of the first is null </p>\n\n<pre><code>{\n    \"_id\" : null,\n...\n\n}\n</code></pre>\n\n<p>Fullcode based on @PaniniGelato answer would be </p>\n\n<pre><code>public class Description(){\n    public String id;\n...\n}\n\nDescription d = new Description();\nd.setCode(\"no\");\nd.setName(\"norwegian\");\nd.setNorwegian(\"norwegian\");\nd.setEnglish(\"english\");\n\n//build query\nQuery query = new Query(Criteria.where(\"code\").is(description.getCode()));\n\n//build update\nDBObject dbDoc = new BasicDBObject();\nmongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\nUpdate update = Update.fromDBObject(dbDoc, \"_id\");\n\n//run it!\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>Then the upsert is working in the cases of insert <strong>and</strong> update. Corrections &amp; thoughts are welcome ;)</p>\n"},{"tags":[],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482784975,"creation_date":1482784975,"answer_id":41336110,"question_id":20001627,"body_markdown":"There are two cases here that need to be distinguished:\r\n\r\n 1. Update an item that was previously fetched from the DB.\r\n 2. Update or insert (upsert) an item you created by code.\r\n\r\nIn Case 1) You can simply use [mongoTemplate.save(pojo, &quot;collection&quot;)][1], because your POJO will already have a filled ObjectID in its id field.\r\n\r\nIn case 2) You have to explain to mongo what &quot;already exists&quot; means in case of your domain model: By default the mongoTemplate.save() method updates an existing item, if there is one with that same ObjectId.   But with a newly instantiated POJO you do not have that id. Therefore the mongoTemplate.upsert() method has a query parameter that you can create like this:\r\n\r\n    MyDomainClass pojo = new MyDomainClass(...);\r\n\r\n    Query query = Query.query(Criteria.where(&quot;email&quot;).is(&quot;user1@domain.com&quot;));\r\n\r\n    DBObject dbDoc = new BasicDBObject();\r\n    mongoTemplate.getConverter().write(pojo, dbDoc);   //it is the one spring use for convertions.\r\n    dbDoc.removeField(&quot;_id&quot;);    // just to be sure to not create any duplicates\r\n    Update update = Update.fromDBObject(dbDoc);\r\n\r\n    WriteResult writeResult = mongoTemplate.upsert(query, update, UserModel.class);\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>There are two cases here that need to be distinguished:</p>\n\n<ol>\n<li>Update an item that was previously fetched from the DB.</li>\n<li>Update or insert (upsert) an item you created by code.</li>\n</ol>\n\n<p>In Case 1) You can simply use <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-\" rel=\"nofollow noreferrer\">mongoTemplate.save(pojo, \"collection\")</a>, because your POJO will already have a filled ObjectID in its id field.</p>\n\n<p>In case 2) You have to explain to mongo what \"already exists\" means in case of your domain model: By default the mongoTemplate.save() method updates an existing item, if there is one with that same ObjectId.   But with a newly instantiated POJO you do not have that id. Therefore the mongoTemplate.upsert() method has a query parameter that you can create like this:</p>\n\n<pre><code>MyDomainClass pojo = new MyDomainClass(...);\n\nQuery query = Query.query(Criteria.where(\"email\").is(\"user1@domain.com\"));\n\nDBObject dbDoc = new BasicDBObject();\nmongoTemplate.getConverter().write(pojo, dbDoc);   //it is the one spring use for convertions.\ndbDoc.removeField(\"_id\");    // just to be sure to not create any duplicates\nUpdate update = Update.fromDBObject(dbDoc);\n\nWriteResult writeResult = mongoTemplate.upsert(query, update, UserModel.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879257,"reputation":640,"user_id":2470498,"display_name":"Awanish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521741007,"creation_date":1521741007,"answer_id":49435336,"question_id":20001627,"body_markdown":"       \r\n    public void saveOrUpdate(String json) {\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(json);\r\n            DBObject update1 = new BasicDBObject(&quot;$set&quot;, JSON.parse(json));\r\n            mongoTemplate.getCollection(&quot;collectionName&quot;).update(new Query(Criteria.where(&quot;name&quot;).is(jsonObject.getString(&quot;name&quot;))).getQueryObject(), update1, true, false);\r\n        } catch (Exception e) {\r\n            throw new GenericServiceException(&quot;Error while save/udpate. Error msg: &quot; + e.getMessage(), e);\r\n        }\r\n\r\n    }\r\n\r\nthis is very simple way to save json string into collection using mongodb \r\n and spring.\r\nThis method can be override to use as JSONObject.","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<pre><code>public void saveOrUpdate(String json) {\n    try {\n        JSONObject jsonObject = new JSONObject(json);\n        DBObject update1 = new BasicDBObject(\"$set\", JSON.parse(json));\n        mongoTemplate.getCollection(\"collectionName\").update(new Query(Criteria.where(\"name\").is(jsonObject.getString(\"name\"))).getQueryObject(), update1, true, false);\n    } catch (Exception e) {\n        throw new GenericServiceException(\"Error while save/udpate. Error msg: \" + e.getMessage(), e);\n    }\n\n}\n</code></pre>\n\n<p>this is very simple way to save json string into collection using mongodb \n and spring.\nThis method can be override to use as JSONObject.</p>\n"},{"tags":[],"owner":{"account_id":4273159,"reputation":1154,"user_id":3494508,"display_name":"Dawid Naczke"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1531125109,"creation_date":1531125109,"answer_id":51241118,"question_id":20001627,"body_markdown":"The solution for a new spring-data-mongodb version 2.X.X.\r\n\r\nThe API has evolved, since 2.X.X version there is:\r\n\r\n    Update.fromDocument(org.bson.Document object, String... exclude)\r\ninstead of (1.X.X):\r\n\r\n    Update.fromDBObject(com.mongodb.DBObject object, String... exclude)\r\n\r\nThe full solution:\r\n\r\n    //make a new description here\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setName(&quot;norwegian&quot;);\r\n    d.setNorwegian(&quot;norwegian&quot;);\r\n    d.setEnglish(&quot;english&quot;);\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n    \r\n    Document doc = new Document(); // org.bson.Document\r\n    mongoTemplate.getConverter().write(item, doc);\r\n    Update update = Update.fromDocument(doc);\r\n    \r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\nIt works!","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>The solution for a new spring-data-mongodb version 2.X.X.</p>\n\n<p>The API has evolved, since 2.X.X version there is:</p>\n\n<pre><code>Update.fromDocument(org.bson.Document object, String... exclude)\n</code></pre>\n\n<p>instead of (1.X.X):</p>\n\n<pre><code>Update.fromDBObject(com.mongodb.DBObject object, String... exclude)\n</code></pre>\n\n<p>The full solution:</p>\n\n<pre><code>//make a new description here\nDescription d = new Description();\nd.setCode(\"no\");\nd.setName(\"norwegian\");\nd.setNorwegian(\"norwegian\");\nd.setEnglish(\"english\");\nQuery query = new Query(Criteria.where(\"code\").is(description.getCode()));\n\nDocument doc = new Document(); // org.bson.Document\nmongoTemplate.getConverter().write(item, doc);\nUpdate update = Update.fromDocument(doc);\n\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>It works!</p>\n"},{"tags":[],"owner":{"account_id":14121286,"reputation":11,"user_id":10201705,"display_name":"字云龙"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1540900805,"creation_date":1540900805,"answer_id":53063858,"question_id":20001627,"body_markdown":"    @Override\r\n    public void updateInfo(UpdateObject algorithm) {\r\n        Document document = new Document();\r\n        mongoTemplate.getConverter().write(algorithm, document);\r\n        Update update = Update.fromDocument(document);\r\n        mongoTemplate.updateFirst(query(where(&quot;_id&quot;).is(algorithm.get_id())), update, UpdateObject.class);\r\n    }","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<pre><code>@Override\npublic void updateInfo(UpdateObject algorithm) {\n    Document document = new Document();\n    mongoTemplate.getConverter().write(algorithm, document);\n    Update update = Update.fromDocument(document);\n    mongoTemplate.updateFirst(query(where(\"_id\").is(algorithm.get_id())), update, UpdateObject.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9476982,"reputation":71,"user_id":7046024,"display_name":"arthurdai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1574846843,"creation_date":1574846843,"answer_id":59066951,"question_id":20001627,"body_markdown":"Just like previous answers said, use mongoTemplate.getConverter().write() and Update.fromDocument() functions. But i found Update.fromDocument() won&#39;t add &quot;$set&quot; key and won&#39;t work directly, the solution is to add &quot;$set&quot; yourself, like below (PS: I&#39;m using 2.2.1.RELEASE version):\r\n\r\n    public static Update updateFromObject(Object object, MongoTemplate mongoTemplate) {\r\n        Document doc = new Document();\r\n        mongoTemplate.getConverter().write(object, doc);\r\n        return Update.fromDocument(new Document(&quot;$set&quot;, doc));\r\n    }","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>Just like previous answers said, use mongoTemplate.getConverter().write() and Update.fromDocument() functions. But i found Update.fromDocument() won't add \"$set\" key and won't work directly, the solution is to add \"$set\" yourself, like below (PS: I'm using 2.2.1.RELEASE version):</p>\n\n<pre><code>public static Update updateFromObject(Object object, MongoTemplate mongoTemplate) {\n    Document doc = new Document();\n    mongoTemplate.getConverter().write(object, doc);\n    return Update.fromDocument(new Document(\"$set\", doc));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23646640,"reputation":1,"user_id":17676176,"display_name":"virat suresh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667198689,"creation_date":1667198689,"answer_id":74259597,"question_id":20001627,"body_markdown":"After upsert, I was Tring to fetch same record but it was given me the old one.\r\n\r\nBut in dB I am having new records.\r\n\r\n","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>After upsert, I was Tring to fetch same record but it was given me the old one.</p>\n<p>But in dB I am having new records.</p>\n"}],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73083,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":22211965,"answer_count":13,"score":23,"last_activity_date":1667198689,"creation_date":1384520158,"question_id":20001627,"body_markdown":"Here is a simple pojo:\r\n\r\n    public class Description {\r\n        private String code;\r\n        private String name;\r\n        private String norwegian;\r\n        private String english;\r\n    }\r\n\r\nAnd please see the following code to apply an `upsert` to MongoDb via spring MongoTemplate:\r\n\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n    Update update = new Update().set(&quot;name&quot;, description.getName()).set(&quot;norwegian&quot;, description.getNorwegian()).set(&quot;english&quot;, description.getEnglish());\r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\nThe line to generate the `Update` object specifies every field of the `Item` class manually.\r\n\r\nBut if my `Item` object changes then my Dao layer breaks.\r\n\r\nSo is there a way to avoid doing this, so that all fields from my `Item` class are applied automatically to the update?\r\n\r\nE.g.\r\n\r\n    Update update = new Update().fromObject(item);\r\n\r\nNote that my pojo does not extend `DBObject`.","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>Here is a simple pojo:</p>\n\n<pre><code>public class Description {\n    private String code;\n    private String name;\n    private String norwegian;\n    private String english;\n}\n</code></pre>\n\n<p>And please see the following code to apply an <code>upsert</code> to MongoDb via spring MongoTemplate:</p>\n\n<pre><code>Query query = new Query(Criteria.where(\"code\").is(description.getCode()));\nUpdate update = new Update().set(\"name\", description.getName()).set(\"norwegian\", description.getNorwegian()).set(\"english\", description.getEnglish());\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>The line to generate the <code>Update</code> object specifies every field of the <code>Item</code> class manually.</p>\n\n<p>But if my <code>Item</code> object changes then my Dao layer breaks.</p>\n\n<p>So is there a way to avoid doing this, so that all fields from my <code>Item</code> class are applied automatically to the update?</p>\n\n<p>E.g.</p>\n\n<pre><code>Update update = new Update().fromObject(item);\n</code></pre>\n\n<p>Note that my pojo does not extend <code>DBObject</code>.</p>\n"},{"tags":["java","arrays","for-loop","if-statement","math"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":1,"creation_date":1667183646,"post_id":74258049,"comment_id":131103196,"body_markdown":"Should your solution only work with 4x4 grids?","body":"Should your solution only work with 4x4 grids?"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667185604,"creation_date":1667185604,"answer_id":74258383,"question_id":74258049,"body_markdown":"You can return an array of grid that contains `{topLeft, topRight, bottomLeft, bottomRight}` like this.\r\n\r\n    public static void main(String[] args) {\r\n        double[][] array1 = {\r\n            {1, 5, 6, 2},\r\n            {3, 1, 6, 5},\r\n            {6, 3, 9, 4},\r\n            {3, 8, 4, 2}};\r\n\r\n        double[][][] result = splitGrid(array1);\r\n\r\n        for (double[][] grid : result) {\r\n            for (double[] row : grid)\r\n                System.out.println(Arrays.toString(row));\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static double[][][] splitGrid(double[][] grid) {\r\n        int rows = grid.length, cols = grid[0].length;\r\n        int subRows = rows / 2, subCols = cols / 2;\r\n        double[][][] result = {\r\n            new double[subRows][], new double[subRows][],\r\n            new double[rows - subRows][], new double[rows - subRows][]};\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            if (i &lt; subRows) {\r\n                result[0][i] = Arrays.copyOf(grid[i], subCols);\r\n                result[1][i] = Arrays.copyOfRange(grid[i], subCols, cols);\r\n            } else {\r\n                result[2][i - subRows] = Arrays.copyOf(grid[i], subCols);\r\n                result[3][i - subRows] = Arrays.copyOfRange(grid[i], subCols, cols);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\noutput:\r\n\r\n    [1.0, 5.0]\r\n    [3.0, 1.0]\r\n    \r\n    [6.0, 2.0]\r\n    [6.0, 5.0]\r\n    \r\n    [6.0, 3.0]\r\n    [3.0, 8.0]\r\n    \r\n    [9.0, 4.0]\r\n    [4.0, 2.0]\r\n\r\n","title":"method that splits a 2D array into 4 parts in Java","body":"<p>You can return an array of grid that contains <code>{topLeft, topRight, bottomLeft, bottomRight}</code> like this.</p>\n<pre><code>public static void main(String[] args) {\n    double[][] array1 = {\n        {1, 5, 6, 2},\n        {3, 1, 6, 5},\n        {6, 3, 9, 4},\n        {3, 8, 4, 2}};\n\n    double[][][] result = splitGrid(array1);\n\n    for (double[][] grid : result) {\n        for (double[] row : grid)\n            System.out.println(Arrays.toString(row));\n        System.out.println();\n    }\n}\n\npublic static double[][][] splitGrid(double[][] grid) {\n    int rows = grid.length, cols = grid[0].length;\n    int subRows = rows / 2, subCols = cols / 2;\n    double[][][] result = {\n        new double[subRows][], new double[subRows][],\n        new double[rows - subRows][], new double[rows - subRows][]};\n    for (int i = 0; i &lt; rows; i++) {\n        if (i &lt; subRows) {\n            result[0][i] = Arrays.copyOf(grid[i], subCols);\n            result[1][i] = Arrays.copyOfRange(grid[i], subCols, cols);\n        } else {\n            result[2][i - subRows] = Arrays.copyOf(grid[i], subCols);\n            result[3][i - subRows] = Arrays.copyOfRange(grid[i], subCols, cols);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[1.0, 5.0]\n[3.0, 1.0]\n\n[6.0, 2.0]\n[6.0, 5.0]\n\n[6.0, 3.0]\n[3.0, 8.0]\n\n[9.0, 4.0]\n[4.0, 2.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667198390,"creation_date":1667198390,"answer_id":74259563,"question_id":74258049,"body_markdown":"There are many ways to do this, one of them (and probably the safest!) of course being `copy` methods from the standard lib&#39;s `Arrays` class. However, if you are looking to develop your &quot;manual&quot; algorithmic skills with this one, then something like the following could be appropriate: \r\n```java\r\npublic static void main(String[] args) {\r\n    double[][] fourByFourArray = {{1, 5, 6, 2},\r\n            {3, 1, 6, 5},\r\n            {6, 3, 9, 4},\r\n            {3, 8, 4, 2}};\r\n    System.out.println(&quot;Printing 4x4 array: &quot;);\r\n    splitGridInto4equalParts(fourByFourArray);\r\n    System.out.println(&quot;Printing 6x6 array: &quot;);\r\n    double[][] sixBySixArray = {{1, 5, 7, 6, 8, 2},\r\n            {3, 1, 9, 6, 1, 5},\r\n            {6, 3, 20, 10, 2, 4},\r\n            {3, 8, 31, 2, 5, 2},\r\n            {3, 1, 9, 6, 1, 5},\r\n            {3, 8, 31, 2, 5, 2},\r\n    };\r\n    splitGridInto4equalParts(sixBySixArray);\r\n}\r\n\r\npublic static void splitGridInto4equalParts(double[][] grid) {\r\n    //assuming grid has equal sides\r\n    var gridSide = grid.length;\r\n    //assuming grid side is even number\r\n    var half = gridSide / 2;\r\n    //filling arrays\r\n    double[][] topLeft = getPart(grid, half, 0, 0, half, half);\r\n    double[][] topRight = getPart(grid, half, 0, half, half, gridSide);\r\n    double[][] bottomLeft = getPart(grid, half, half, 0, gridSide, half);\r\n    double[][] bottomRight = getPart(grid, half, half, half, gridSide, gridSide);\r\n    //printing\r\n    printGridPart(half, topLeft);\r\n    printGridPart(half, topRight);\r\n    printGridPart(half, bottomLeft);\r\n    printGridPart(half, bottomRight);\r\n}\r\n\r\nprivate static double[][] getPart(double[][] grid, int partSideLength, int gridRow, int gridCol, int gridRowLimit, int gridColLimit) {\r\n    double[][] gridPart = new double[partSideLength][partSideLength];\r\n    int resRow = 0, resCol = 0;\r\n    //saving original grid column parameter, in order to reset it when execution moves on new grid row\r\n    int origGridCol = gridCol;\r\n    while (gridRow &lt; gridRowLimit) {\r\n        while (gridCol &lt; gridColLimit) {\r\n            gridPart[resRow][resCol] = grid[gridRow][gridCol];\r\n            //checking whether result column has reached limit in order to move to next row and reset column\r\n            if (resCol == partSideLength - 1) {\r\n                resRow++;\r\n                resCol = 0;\r\n                break;\r\n            }\r\n            //moving one column to the right for both result and grid\r\n            resCol++;\r\n            gridCol++;\r\n        }\r\n        //checking whether result row has reached limit, if so exit from traversing rows\r\n        if (resRow == partSideLength) {\r\n            break;\r\n        }\r\n        gridCol = origGridCol;\r\n        gridRow++;\r\n    }\r\n    return gridPart;\r\n}\r\n\r\n\r\nprivate static void printGridPart(int gridLength, double[][] gridPart) {\r\n    for (int i = 0; i &lt; gridLength; i++) {\r\n        for (int j = 0; j &lt; gridLength; j++) {\r\n            System.out.print(gridPart[i][j] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n    System.out.println();\r\n}\r\n```\r\nThis outputs: \r\n```\r\nPrinting 4x4 array: \r\n1.0 5.0 \r\n3.0 1.0 \r\n\r\n6.0 2.0 \r\n6.0 5.0 \r\n\r\n6.0 3.0 \r\n3.0 8.0 \r\n\r\n9.0 4.0 \r\n4.0 2.0 \r\n\r\nPrinting 6x6 array: \r\n1.0 5.0 7.0 \r\n3.0 1.0 9.0 \r\n6.0 3.0 20.0 \r\n\r\n6.0 8.0 2.0 \r\n6.0 1.0 5.0 \r\n10.0 2.0 4.0 \r\n\r\n3.0 8.0 31.0 \r\n3.0 1.0 9.0 \r\n3.0 8.0 31.0 \r\n\r\n2.0 5.0 2.0 \r\n6.0 1.0 5.0 \r\n2.0 5.0 2.0 \r\n```","title":"method that splits a 2D array into 4 parts in Java","body":"<p>There are many ways to do this, one of them (and probably the safest!) of course being <code>copy</code> methods from the standard lib's <code>Arrays</code> class. However, if you are looking to develop your &quot;manual&quot; algorithmic skills with this one, then something like the following could be appropriate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    double[][] fourByFourArray = {{1, 5, 6, 2},\n            {3, 1, 6, 5},\n            {6, 3, 9, 4},\n            {3, 8, 4, 2}};\n    System.out.println(&quot;Printing 4x4 array: &quot;);\n    splitGridInto4equalParts(fourByFourArray);\n    System.out.println(&quot;Printing 6x6 array: &quot;);\n    double[][] sixBySixArray = {{1, 5, 7, 6, 8, 2},\n            {3, 1, 9, 6, 1, 5},\n            {6, 3, 20, 10, 2, 4},\n            {3, 8, 31, 2, 5, 2},\n            {3, 1, 9, 6, 1, 5},\n            {3, 8, 31, 2, 5, 2},\n    };\n    splitGridInto4equalParts(sixBySixArray);\n}\n\npublic static void splitGridInto4equalParts(double[][] grid) {\n    //assuming grid has equal sides\n    var gridSide = grid.length;\n    //assuming grid side is even number\n    var half = gridSide / 2;\n    //filling arrays\n    double[][] topLeft = getPart(grid, half, 0, 0, half, half);\n    double[][] topRight = getPart(grid, half, 0, half, half, gridSide);\n    double[][] bottomLeft = getPart(grid, half, half, 0, gridSide, half);\n    double[][] bottomRight = getPart(grid, half, half, half, gridSide, gridSide);\n    //printing\n    printGridPart(half, topLeft);\n    printGridPart(half, topRight);\n    printGridPart(half, bottomLeft);\n    printGridPart(half, bottomRight);\n}\n\nprivate static double[][] getPart(double[][] grid, int partSideLength, int gridRow, int gridCol, int gridRowLimit, int gridColLimit) {\n    double[][] gridPart = new double[partSideLength][partSideLength];\n    int resRow = 0, resCol = 0;\n    //saving original grid column parameter, in order to reset it when execution moves on new grid row\n    int origGridCol = gridCol;\n    while (gridRow &lt; gridRowLimit) {\n        while (gridCol &lt; gridColLimit) {\n            gridPart[resRow][resCol] = grid[gridRow][gridCol];\n            //checking whether result column has reached limit in order to move to next row and reset column\n            if (resCol == partSideLength - 1) {\n                resRow++;\n                resCol = 0;\n                break;\n            }\n            //moving one column to the right for both result and grid\n            resCol++;\n            gridCol++;\n        }\n        //checking whether result row has reached limit, if so exit from traversing rows\n        if (resRow == partSideLength) {\n            break;\n        }\n        gridCol = origGridCol;\n        gridRow++;\n    }\n    return gridPart;\n}\n\n\nprivate static void printGridPart(int gridLength, double[][] gridPart) {\n    for (int i = 0; i &lt; gridLength; i++) {\n        for (int j = 0; j &lt; gridLength; j++) {\n            System.out.print(gridPart[i][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n    System.out.println();\n}\n</code></pre>\n<p>This outputs:</p>\n<pre><code>Printing 4x4 array: \n1.0 5.0 \n3.0 1.0 \n\n6.0 2.0 \n6.0 5.0 \n\n6.0 3.0 \n3.0 8.0 \n\n9.0 4.0 \n4.0 2.0 \n\nPrinting 6x6 array: \n1.0 5.0 7.0 \n3.0 1.0 9.0 \n6.0 3.0 20.0 \n\n6.0 8.0 2.0 \n6.0 1.0 5.0 \n10.0 2.0 4.0 \n\n3.0 8.0 31.0 \n3.0 1.0 9.0 \n3.0 8.0 31.0 \n\n2.0 5.0 2.0 \n6.0 1.0 5.0 \n2.0 5.0 2.0 \n</code></pre>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74259563,"answer_count":2,"score":0,"last_activity_date":1667198390,"creation_date":1667181140,"question_id":74258049,"body_markdown":"I&#39;m creating a method that splits a 2D array into 4 parts.\r\n\r\nFor example if the grid is:\r\n\r\n    1 5 6 2\r\n    3 1 6 5\r\n    6 3 9 4\r\n    3 8 4 2\r\n\r\nThe method should return this:\r\n\r\n    1 5\r\n    3 1\r\n    \r\n    6 2\r\n    6 5\r\n    \r\n    6 3\r\n    3 8\r\n    \r\n    9 4\r\n    4 2\r\n\r\nThe code I have only prints the 2D array into a grid. What I was thinking was to create 4 new grids in the method and then, with a series of forloops and if statements, print each new grid. that&#39;s why there are 4 2d arrays in the method. Any suggestions?\r\n\r\n```\r\npublic class problem {\r\n    public static void main(String[] args) {\r\n        double[][] array1 = { {1, 5,   6, 2}, \r\n                            { 3, 1,    6, 5}, \r\n                            \r\n                            { 6, 3,    9, 4}, \r\n                            {3, 8,     4, 2} };\r\n        \r\n        splitGrid(array1);\r\n    }\r\n    \r\n    public static void splitGrid( double[][] grid ) {\r\n        //Create four new grids here\r\n        double[][] TopLeft;\r\n        double[][] TopRight;\r\n        double[][] BottomLeft;\r\n        double[][] BottonRight;\r\n        // Filling the top-left grid\r\n        for( int i = 0; i &lt; grid.length; i++) {\r\n            System.out.println();\r\n            for(int j = 0; j &lt; grid[i].length; j++) {\r\n                System.out.print(grid[i][j] + &quot; &quot; );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"method that splits a 2D array into 4 parts in Java","body":"<p>I'm creating a method that splits a 2D array into 4 parts.</p>\n<p>For example if the grid is:</p>\n<pre><code>1 5 6 2\n3 1 6 5\n6 3 9 4\n3 8 4 2\n</code></pre>\n<p>The method should return this:</p>\n<pre><code>1 5\n3 1\n\n6 2\n6 5\n\n6 3\n3 8\n\n9 4\n4 2\n</code></pre>\n<p>The code I have only prints the 2D array into a grid. What I was thinking was to create 4 new grids in the method and then, with a series of forloops and if statements, print each new grid. that's why there are 4 2d arrays in the method. Any suggestions?</p>\n<pre><code>public class problem {\n    public static void main(String[] args) {\n        double[][] array1 = { {1, 5,   6, 2}, \n                            { 3, 1,    6, 5}, \n                            \n                            { 6, 3,    9, 4}, \n                            {3, 8,     4, 2} };\n        \n        splitGrid(array1);\n    }\n    \n    public static void splitGrid( double[][] grid ) {\n        //Create four new grids here\n        double[][] TopLeft;\n        double[][] TopRight;\n        double[][] BottomLeft;\n        double[][] BottonRight;\n        // Filling the top-left grid\n        for( int i = 0; i &lt; grid.length; i++) {\n            System.out.println();\n            for(int j = 0; j &lt; grid[i].length; j++) {\n                System.out.print(grid[i][j] + &quot; &quot; );\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","jsch","sshd","apache-sshd"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667151856,"post_id":74255106,"comment_id":131097905,"body_markdown":"So your server is running on an Android device. Ok. And where is your client running?","body":"So your server is running on an Android device. Ok. And where is your client running?"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667164536,"post_id":74255106,"comment_id":131100601,"body_markdown":"I don&#39;t have two device currently so client run on windows Android studio pixel 3 device emulator","body":"I don&#39;t have two device currently so client run on windows Android studio pixel 3 device emulator"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667168601,"post_id":74255106,"comment_id":131101337,"body_markdown":"And how is a connection established between the &#39;devices&#39;? Wifi? Or mobile connection of Android device? Please explain your setup to the point.","body":"And how is a connection established between the &#39;devices&#39;? Wifi? Or mobile connection of Android device? Please explain your setup to the point."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667168659,"post_id":74255106,"comment_id":131101348,"body_markdown":"Which ip is used by the client to connect to the server? Or how are you trying?","body":"Which ip is used by the client to connect to the server? Or how are you trying?"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667183914,"post_id":74255106,"comment_id":131103226,"body_markdown":"for server i am using mobile network 4G . for client my desktop connected to a broadband connection via ethernet cable","body":"for server i am using mobile network 4G . for client my desktop connected to a broadband connection via ethernet cable"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667184034,"post_id":74255106,"comment_id":131103244,"body_markdown":"Context context = MainActivity.this.getApplicationContext();\n        WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n        String ip = Formatter.formatIpAddress(wm.getConnectionInfo().getIpAddress());","body":"Context context = MainActivity.this.getApplicationContext();         WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);         String ip = Formatter.formatIpAddress(wm.getConnectionInfo().getIpAddres&zwnj;&#8203;s());"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667184295,"post_id":74255106,"comment_id":131103269,"body_markdown":"i am getting the ip of my server mobile by above codeand server port sett to 8888 , then i use that ip and port number 8888 on the client side . i am using the port 8888 because i am not able to connect port 22 getting error any port below 1024  unless both device rooted","body":"i am getting the ip of my server mobile by above codeand server port sett to 8888 , then i use that ip and port number 8888 on the client side . i am using the port 8888 because i am not able to connect port 22 getting error any port below 1024  unless both device rooted"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667184695,"post_id":74255106,"comment_id":131103335,"body_markdown":"File path = getApplicationContext().getDatabasePath(&quot;au.au_1&quot;);                                            \nLog.d(&quot;T&quot;, String.valueOf(path));   i use this line of code to get the path of my storage i don&#39;t know is this the right way","body":"File path = getApplicationContext().getDatabasePath(&quot;au.au_1&quot;);                                             Log.d(&quot;T&quot;, String.valueOf(path));   i use this line of code to get the path of my storage i don&#39;t know is this the right way"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667196799,"post_id":74255106,"comment_id":131104910,"body_markdown":"You should put all code readable in you post. No in a comments.","body":"You should put all code readable in you post. No in a comments."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667196911,"post_id":74255106,"comment_id":131104926,"body_markdown":"That code is messing around with wifi manager and will not give you mobile/public/internet ip of your Android device. So useless. You did not tell which ip you actually got.","body":"That code is messing around with wifi manager and will not give you mobile/public/internet ip of your Android device. So useless. You did not tell which ip you actually got."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667218338,"post_id":74255106,"comment_id":131110832,"body_markdown":"&quot;192.168.1.39&quot; this is the ip i got","body":"&quot;192.168.1.39&quot; this is the ip i got"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667218918,"post_id":74255106,"comment_id":131111030,"body_markdown":"Well you could comment on that ip. Why didn&#39;t you?","body":"Well you could comment on that ip. Why didn&#39;t you?"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667197333,"creation_date":1667197333,"answer_id":74259424,"question_id":74255106,"body_markdown":"To make a long story short:\r\n\r\nEven if you would manage to determine the public internet ip of your Android device that ip would be useless as most mobile providers block incoming connections.\r\n\r\nHence it makes no sense trying your mobile phone to act as a server.\r\n\r\nOnly possible on wifi.","title":"how can i download a file from sshd server to jsch client properly mobile to mobile","body":"<p>To make a long story short:</p>\n<p>Even if you would manage to determine the public internet ip of your Android device that ip would be useless as most mobile providers block incoming connections.</p>\n<p>Hence it makes no sense trying your mobile phone to act as a server.</p>\n<p>Only possible on wifi.</p>\n"}],"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667197333,"creation_date":1667149684,"question_id":74255106,"body_markdown":"i have a sshd server running on my mobile without error i am trying to download a file from my mobile internal storage using jsch as client . getting this errors\r\n\r\n\\*\\* CLIENT \\*\\*\r\n\r\n```\r\n```\r\n\r\n        public void startClient(){\r\n    \r\n       String localFile = &quot;/data/user/0/com.open.jsch/databases/au.au_1&quot;;\r\n        String remoteFile = &quot;/data/user/0/com.open.androidsshd/databases/au.au_1&quot;;\r\n    \r\n        Session jschSession = null;\r\n    \r\n        try {\r\n    \r\n        JSch jsch = new JSch();\r\n        jsch.setKnownHosts(&quot;/home/mkyong/.ssh/known_hosts&quot;);\r\n        jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\r\n    \r\n        // authenticate using private key\r\n        // jsch.addIdentity(&quot;/home/mkyong/.ssh/id_rsa&quot;);\r\n    \r\n        // authenticate using password\r\n        jschSession.setPassword(PASSWORD);\r\n    \r\n        //Missing code\r\n        java.util.Properties config = new java.util.Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        jschSession.setConfig(config);\r\n        //\r\n        System.out.println(&quot;Establishing connection&quot;);\r\n        // 10 seconds session timeout\r\n        jschSession.connect(SESSION_TIMEOUT);\r\n    \r\n        Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\r\n    \r\n        // 5 seconds timeout\r\n        sftp.connect(CHANNEL_TIMEOUT);\r\n    \r\n        ChannelSftp channelSftp = (ChannelSftp) sftp;\r\n    \r\n        // transfer file from local to remote server\r\n        //channelSftp.put(localFile, remoteFile);\r\n    \r\n        // download file from remote server to local\r\n        channelSftp.get(remoteFile, localFile);\r\n        System.out.println(&quot;got the file&quot;);\r\n        channelSftp.exit();\r\n    \r\n        } catch (JSchException | SftpException e) {\r\n    \r\n        e.printStackTrace();\r\n    \r\n        } finally {\r\n        if (jschSession != null) {\r\n            jschSession.disconnect();\r\n        }\r\n        }\r\n    \r\n    \r\n       }\r\n\r\n```\r\n```\r\n\r\n**Client Error**\r\n\r\n```\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err: com.jcraft.jsch.JSchException:     Session.connect: java.net.SocketException: Connection reset\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at  com.jcraft.jsch.Session.connect(Session.java:565)\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.Client.startClient(Client.java:71)\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.MainActivity$2.run(MainActivity.java:78)\r\n    2022-10-30 21:55:59.229 15159-15202/com.allah.jsch W/System.err:     at java.lang.Thread.run(Thread.java:764)\r\n```\r\n\r\n**SERVER**\r\n\r\n```\r\n```\r\n\r\n    int port = 8888;\r\n    SshServer sshd = SshServer.setUpDefaultServer();\r\n    sshd.setPort(port);\r\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\r\n        &quot;src/test/resources/hostkey.ser&quot;));\r\n    sshd.setSubsystemFactories(Arrays\r\n        .&lt;NamedFactory&lt;Command&gt;&gt;asList(new SftpSubsystem.Factory()));\r\n    sshd.setCommandFactory(new ScpCommandFactory());\r\n    sshd.setShellFactory(new EchoShellFactory()); // necessary if you want to type commands over ssh\r\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n    \r\n    @Override\r\n    public boolean authenticate(String u, String p, ServerSession s) {\r\n        return (&quot;sftptest&quot;.equals(u) &amp;&amp; &quot;sftptest&quot;.equals(p));\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    });\r\n    \r\n    \r\n    try {\r\n    sshd.start();\r\n    } catch (IOException e) {\r\n    e.printStackTrace();\r\n    }\r\n\r\n```\r\n```\r\n\r\nfor client side testing. i am running on my android studio emulator .for server i am running on mobile. for the first time i run the code there is a lots of error but i fixed it by adding dependencies and internet permission whatever i can find it online  now the errors i cant fixit there is no answers on the google or stack i an understanding  i need help\r\n\r\n\\*\\*permission \\*\\*\r\n\r\n```\r\n```\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\n```\r\n```\r\n\r\n\\*\\*gradle on client \\*\\*\r\n\r\n```\r\n```\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.sshd/sshd-core\r\n    implementation group: &#39;org.apache.sshd&#39;, name: &#39;sshd-core&#39;, version: &#39;0.6.0&#39;\r\n    // https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\r\n    testImplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-simple&#39;, version: &#39;1.6.2&#39;\r\n    \r\n    // https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk16\r\n    implementation group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk16&#39;, version: &#39;1.46&#39;\r\n\r\n```\r\n    implementation files(&#39;libs\\\\jsch-0.1.55.jar&#39;)\r\n```\r\n\r\n```\r\n```\r\n\r\ni am expecting to download a file from SSHD server to JSCH client/ SSHD Client . i think i am missing some code on server side i need some help with this . i know you guys are very busy please a humble request give me a correct working solution thanks for advance","title":"how can i download a file from sshd server to jsch client properly mobile to mobile","body":"<p>i have a sshd server running on my mobile without error i am trying to download a file from my mobile internal storage using jsch as client . getting this errors</p>\n<p>** CLIENT **</p>\n<pre><code></code></pre>\n<pre><code>    public void startClient(){\n\n   String localFile = &quot;/data/user/0/com.open.jsch/databases/au.au_1&quot;;\n    String remoteFile = &quot;/data/user/0/com.open.androidsshd/databases/au.au_1&quot;;\n\n    Session jschSession = null;\n\n    try {\n\n    JSch jsch = new JSch();\n    jsch.setKnownHosts(&quot;/home/mkyong/.ssh/known_hosts&quot;);\n    jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\n\n    // authenticate using private key\n    // jsch.addIdentity(&quot;/home/mkyong/.ssh/id_rsa&quot;);\n\n    // authenticate using password\n    jschSession.setPassword(PASSWORD);\n\n    //Missing code\n    java.util.Properties config = new java.util.Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    jschSession.setConfig(config);\n    //\n    System.out.println(&quot;Establishing connection&quot;);\n    // 10 seconds session timeout\n    jschSession.connect(SESSION_TIMEOUT);\n\n    Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\n\n    // 5 seconds timeout\n    sftp.connect(CHANNEL_TIMEOUT);\n\n    ChannelSftp channelSftp = (ChannelSftp) sftp;\n\n    // transfer file from local to remote server\n    //channelSftp.put(localFile, remoteFile);\n\n    // download file from remote server to local\n    channelSftp.get(remoteFile, localFile);\n    System.out.println(&quot;got the file&quot;);\n    channelSftp.exit();\n\n    } catch (JSchException | SftpException e) {\n\n    e.printStackTrace();\n\n    } finally {\n    if (jschSession != null) {\n        jschSession.disconnect();\n    }\n    }\n\n\n   }\n</code></pre>\n<pre><code></code></pre>\n<p><strong>Client Error</strong></p>\n<pre><code>    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err: com.jcraft.jsch.JSchException:     Session.connect: java.net.SocketException: Connection reset\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at  com.jcraft.jsch.Session.connect(Session.java:565)\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.Client.startClient(Client.java:71)\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.MainActivity$2.run(MainActivity.java:78)\n    2022-10-30 21:55:59.229 15159-15202/com.allah.jsch W/System.err:     at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n<p><strong>SERVER</strong></p>\n<pre><code></code></pre>\n<pre><code>int port = 8888;\nSshServer sshd = SshServer.setUpDefaultServer();\nsshd.setPort(port);\nsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\n    &quot;src/test/resources/hostkey.ser&quot;));\nsshd.setSubsystemFactories(Arrays\n    .&lt;NamedFactory&lt;Command&gt;&gt;asList(new SftpSubsystem.Factory()));\nsshd.setCommandFactory(new ScpCommandFactory());\nsshd.setShellFactory(new EchoShellFactory()); // necessary if you want to type commands over ssh\nsshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n\n@Override\npublic boolean authenticate(String u, String p, ServerSession s) {\n    return (&quot;sftptest&quot;.equals(u) &amp;&amp; &quot;sftptest&quot;.equals(p));\n\n\n}\n\n\n});\n\n\ntry {\nsshd.start();\n} catch (IOException e) {\ne.printStackTrace();\n}\n</code></pre>\n<pre><code></code></pre>\n<p>for client side testing. i am running on my android studio emulator .for server i am running on mobile. for the first time i run the code there is a lots of error but i fixed it by adding dependencies and internet permission whatever i can find it online  now the errors i cant fixit there is no answers on the google or stack i an understanding  i need help</p>\n<p>**permission **</p>\n<pre><code></code></pre>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n</code></pre>\n<pre><code></code></pre>\n<p>**gradle on client **</p>\n<pre><code></code></pre>\n<pre><code>// https://mvnrepository.com/artifact/org.apache.sshd/sshd-core\nimplementation group: 'org.apache.sshd', name: 'sshd-core', version: '0.6.0'\n// https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\ntestImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '1.6.2'\n\n// https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk16\nimplementation group: 'org.bouncycastle', name: 'bcprov-jdk16', version: '1.46'\n</code></pre>\n<pre><code>    implementation files('libs\\\\jsch-0.1.55.jar')\n</code></pre>\n<pre><code></code></pre>\n<p>i am expecting to download a file from SSHD server to JSCH client/ SSHD Client . i think i am missing some code on server side i need some help with this . i know you guys are very busy please a humble request give me a correct working solution thanks for advance</p>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":26781800,"reputation":1,"user_id":20376537,"display_name":"AppsMaker"},"score":0,"creation_date":1667197411,"post_id":74259419,"comment_id":131105018,"body_markdown":"Also apologies for any errors as I am rookie at this ~ Thanks","body":"Also apologies for any errors as I am rookie at this ~ Thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667199437,"post_id":74259419,"comment_id":131105441,"body_markdown":"If you run a test it will come from `src/test/resourcs` if you run the application normally `src/main/resources`.","body":"If you run a test it will come from <code>src&#47;test&#47;resourcs</code> if you run the application normally <code>src&#47;main&#47;resources</code>."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":2,"creation_date":1667199661,"post_id":74259419,"comment_id":131105485,"body_markdown":"It depends on the order of those folders in your classpath. That is why you should call the test configuration `log4j2-test.xml`, which is looked up before `log4j2.xml`.","body":"It depends on the order of those folders in your classpath. That is why you should call the test configuration <code>log4j2-test.xml</code>, which is looked up before <code>log4j2.xml</code>."},{"owner":{"account_id":26781800,"reputation":1,"user_id":20376537,"display_name":"AppsMaker"},"score":0,"creation_date":1667270993,"post_id":74259419,"comment_id":131124844,"body_markdown":"@PiotrP.Karwasz but if log4j2-test has root level as error it will override the log4j2.xml with root level as info. But I want the main application to run with level as info and tests with level as error. Also is there a default classpath order or is it random?","body":"@PiotrP.Karwasz but if log4j2-test has root level as error it will override the log4j2.xml with root level as info. But I want the main application to run with level as info and tests with level as error. Also is there a default classpath order or is it random?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1667720108,"post_id":74259419,"comment_id":131230538,"body_markdown":"I think I don&#39;t entirely understand what are you trying to achieve: when you are running tests you want the main code to have a different threshold level than the test code? That is hard to achieve (as they probably use the same package names). If you want to see only messages from your code (both main and test code), you can set the root log level to `ERROR` and the level of you own packages to `DEBUG`.","body":"I think I don&#39;t entirely understand what are you trying to achieve: when you are running tests you want the main code to have a different threshold level than the test code? That is hard to achieve (as they probably use the same package names). If you want to see only messages from your code (both main and test code), you can set the root log level to <code>ERROR</code> and the level of you own packages to <code>DEBUG</code>."}],"owner":{"account_id":26781800,"reputation":1,"user_id":20376537,"display_name":"AppsMaker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667197270,"creation_date":1667197270,"question_id":74259419,"body_markdown":"I have a java spring boot application, that needs only the junit test logs to be of error level.\r\n\r\nIf I have a log4j2.xml(with root level as error) in src/test/resources in addition to log4j2.xml (with root level as info) in src/main/resources which log4j2 configuration is chosen when  main application goes up?\r\n\r\nI checked the documentation for apache log4j2 but I couldn&#39;t find any references to which configuration is chosen in this case and would also like to know why?\r\n\r\nhttps://logging.apache.org/log4j/log4j-2.1/manual/configuration.html","title":"Which Log4j2 configuration is taken up if there is a log4j2.xml in src/main/resources and src/test/resources?","body":"<p>I have a java spring boot application, that needs only the junit test logs to be of error level.</p>\n<p>If I have a log4j2.xml(with root level as error) in src/test/resources in addition to log4j2.xml (with root level as info) in src/main/resources which log4j2 configuration is chosen when  main application goes up?</p>\n<p>I checked the documentation for apache log4j2 but I couldn't find any references to which configuration is chosen in this case and would also like to know why?</p>\n<p><a href=\"https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html</a></p>\n"},{"tags":["java","parsing","functional-programming","java-stream","record"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1667082572,"post_id":74249226,"comment_id":131087592,"body_markdown":"It&#39;s returning void, because `forEach` is `public void forEach(Consumer&lt;? super T&gt; action)`.","body":"It&#39;s returning void, because <code>forEach</code> is <code>public void forEach(Consumer&lt;? super T&gt; action)</code>."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667088688,"post_id":74249226,"comment_id":131088398,"body_markdown":"What you want is called CSV parsing.  This is a solved problem and there are multiple open source libraries that do a good job. Do not reinvent the wheel.","body":"What you want is called CSV parsing.  This is a solved problem and there are multiple open source libraries that do a good job. Do not reinvent the wheel."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667198626,"post_id":74249226,"comment_id":131105283,"body_markdown":"What&#39;s a `String&lt;Record&gt;`?","body":"What&#39;s a <code>String&lt;Record&gt;</code>?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1667255691,"post_id":74249226,"comment_id":131122570,"body_markdown":"Using split is not a good way to process csv files (especially when the file contains strings).  How will you parse the following line with three strings using `split(&quot;,&quot;)`? \n `&quot;abc&quot;,&quot;def&quot;,&quot;ghi, jkl&quot;`.","body":"Using split is not a good way to process csv files (especially when the file contains strings).  How will you parse the following line with three strings using <code>split(&quot;,&quot;)</code>?   <code>&quot;abc&quot;,&quot;def&quot;,&quot;ghi, jkl&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1667112737,"creation_date":1667082416,"answer_id":74249288,"question_id":74249226,"body_markdown":"`forEach` doesn&#39;t return anything (it is [declared](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-) as `public void forEach(Consumer&lt;? super T&gt; action)`). You want to use [`Stream#map`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-) instead:\r\n\r\n&gt; Returns a stream consisting of the results of applying the given function to the elements of this stream.\r\n\r\nHowever, `s.split` will return a String array (`String[]`), not any sort of record. If you want to have instances of a class, you need to construct them, for instance with `new Record(s.split(&quot;,&quot;))` or `Record.fromArray(s.split(&quot;,&quot;))`\r\n\r\nThe Record constructor/factory could then parse the array:\r\n\r\n```\r\npublic static Record fromArray(final String[] array) {\r\n  return new Record(\r\n      Integer.parseInt(array[0]),\r\n      array[1],\r\n      array[2],\r\n      array[3],\r\n      Double.parseDouble(array[4]),\r\n      Double.parseDouble(array[5]));\r\n}\r\n```\r\n\r\nBut since you are parsing a CSV file, you are better off using a CSV parser such as [opencsv](https://opencsv.sourceforge.net/).","title":"Converting a Stream&lt;String&gt; to String&lt;Record&gt; is returning void","body":"<p><code>forEach</code> doesn't return anything (it is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">declared</a> as <code>public void forEach(Consumer&lt;? super T&gt; action)</code>). You want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Stream#map</code></a> instead:</p>\n<blockquote>\n<p>Returns a stream consisting of the results of applying the given function to the elements of this stream.</p>\n</blockquote>\n<p>However, <code>s.split</code> will return a String array (<code>String[]</code>), not any sort of record. If you want to have instances of a class, you need to construct them, for instance with <code>new Record(s.split(&quot;,&quot;))</code> or <code>Record.fromArray(s.split(&quot;,&quot;))</code></p>\n<p>The Record constructor/factory could then parse the array:</p>\n<pre><code>public static Record fromArray(final String[] array) {\n  return new Record(\n      Integer.parseInt(array[0]),\n      array[1],\n      array[2],\n      array[3],\n      Double.parseDouble(array[4]),\n      Double.parseDouble(array[5]));\n}\n</code></pre>\n<p>But since you are parsing a CSV file, you are better off using a CSV parser such as <a href=\"https://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">opencsv</a>.</p>\n"},{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667197066,"creation_date":1667196680,"answer_id":74259340,"question_id":74249226,"body_markdown":"Assuming fileToStream is returning each record of the CSV as a stream what you wanna do is probably map to a record and then collect the result.\r\n\r\nForeach only loops throgh the Collection like an iterator, it doesn&#39;t return anything.\r\n\r\n\r\n```\r\nfileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\r\n```\r\nis equivalent to:\r\n```\r\nfor(String s : fileToStream(&quot;data.csv&quot;)) {\r\n s.split(&quot;,&quot;); // note that you are splitting and ignoring the return result\r\n}\r\n```\r\n\r\n (It actually is a bit different as stream uses the default iterator and the collection iterator will use the forEach method of the collection, but in this use case we can ignore this fact for now, the result in this case is the same)\r\n\r\n\r\n```\r\nreturn fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;))\r\n        .map(***your conversion logic***).collect(Collectors.toList()); //or toList() depending on your Java version\r\n```","title":"Converting a Stream&lt;String&gt; to String&lt;Record&gt; is returning void","body":"<p>Assuming fileToStream is returning each record of the CSV as a stream what you wanna do is probably map to a record and then collect the result.</p>\n<p>Foreach only loops throgh the Collection like an iterator, it doesn't return anything.</p>\n<pre><code>fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>for(String s : fileToStream(&quot;data.csv&quot;)) {\n s.split(&quot;,&quot;); // note that you are splitting and ignoring the return result\n}\n</code></pre>\n<p>(It actually is a bit different as stream uses the default iterator and the collection iterator will use the forEach method of the collection, but in this use case we can ignore this fact for now, the result in this case is the same)</p>\n<pre><code>return fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;))\n        .map(***your conversion logic***).collect(Collectors.toList()); //or toList() depending on your Java version\n</code></pre>\n"}],"owner":{"account_id":18313599,"reputation":53,"user_id":13335868,"display_name":"skiboy108"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667197066,"creation_date":1667081644,"question_id":74249226,"body_markdown":"I am trying to write a program that will convert a Stream\\&lt;String\\&gt; into a String\\&lt;Record\\&gt; where everytime there is a comma in the string, it puts that data into one section of the data. My first thought on doing this was to use split() like so:\r\n```\r\nreturn fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\r\n```\r\nThe fileToStream function is simply taking the data.csv and converting it into a Stream&lt;String&gt;\r\nI don&#39;t quite understand why this is returning void, any help would be greatly appreciated.\r\n\r\n\r\nI expected it to take something like 123,hello,hello,hello,123,123 and instead of it all being one string, turning it into a record of int, string, string, string, double, double, etc.","title":"Converting a Stream&lt;String&gt; to String&lt;Record&gt; is returning void","body":"<p>I am trying to write a program that will convert a Stream&lt;String&gt; into a String&lt;Record&gt; where everytime there is a comma in the string, it puts that data into one section of the data. My first thought on doing this was to use split() like so:</p>\n<pre><code>return fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\n</code></pre>\n<p>The fileToStream function is simply taking the data.csv and converting it into a Stream\nI don't quite understand why this is returning void, any help would be greatly appreciated.</p>\n<p>I expected it to take something like 123,hello,hello,hello,123,123 and instead of it all being one string, turning it into a record of int, string, string, string, double, double, etc.</p>\n"},{"tags":["java","arrays","for-loop","if-statement","methods"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667192785,"post_id":74258929,"comment_id":131104358,"body_markdown":"Why would you break on the first non-two?","body":"Why would you break on the first non-two?"},{"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"score":0,"creation_date":1667192915,"post_id":74258929,"comment_id":131104379,"body_markdown":"@shmosel becouse i wanted it to break if there was no 2 in the array.","body":"@shmosel becouse i wanted it to break if there was no 2 in the array."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667193201,"post_id":74258929,"comment_id":131104424,"body_markdown":"That doesn&#39;t make sense. Break implies early termination, and you can&#39;t know there&#39;s no 2 until you&#39;ve scanned the entire array.","body":"That doesn&#39;t make sense. Break implies early termination, and you can&#39;t know there&#39;s no 2 until you&#39;ve scanned the entire array."},{"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"score":0,"creation_date":1667193345,"post_id":74258929,"comment_id":131104443,"body_markdown":"@shmosel so it wouldn&#39;t be possible to see if the four was before two to just stop?","body":"@shmosel so it wouldn&#39;t be possible to see if the four was before two to just stop?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667193597,"post_id":74258929,"comment_id":131104476,"body_markdown":"That&#39;s a separate question. Sure you can. Just break as soon as you hit a 4.","body":"That&#39;s a separate question. Sure you can. Just break as soon as you hit a 4."}],"answers":[{"tags":[],"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667192892,"creation_date":1667192892,"answer_id":74258959,"question_id":74258929,"body_markdown":"You&#39;re breaking the loop execution if `array[i]==two` is false, and it eventually always is, because at position `1` you have a `3`, and you always run the first check.\r\n\r\nYou need to remove the `break` of the `else`.","title":"checking for a specific number in a specific order with arrays and condition checks","body":"<p>You're breaking the loop execution if <code>array[i]==two</code> is false, and it eventually always is, because at position <code>1</code> you have a <code>3</code>, and you always run the first check.</p>\n<p>You need to remove the <code>break</code> of the <code>else</code>.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667196946,"creation_date":1667196946,"answer_id":74259378,"question_id":74258929,"body_markdown":"You need to break when you find a 4, not when you don&#39;t find a 2. Something like this:\r\n\r\n    boolean foundTwo = false;\r\n    for (int x : array) {\r\n        if (x == 2) {\r\n            foundTwo = true;\r\n        } else if (x == 4) {\r\n            break;\r\n        }\r\n    }\r\n    return foundTwo;\r\n\r\nIf you want to make sure there&#39;s both a 2 and a 4, in the correct order, just return on 4 instead of breaking, and default to false otherwise:\r\n\r\n    boolean foundTwo = false;\r\n    for (int x : array) {\r\n        if (x == 2) {\r\n            foundTwo = true;\r\n        } else if (x == 4) {\r\n            return foundTwo;\r\n        }\r\n    }\r\n    return false;","title":"checking for a specific number in a specific order with arrays and condition checks","body":"<p>You need to break when you find a 4, not when you don't find a 2. Something like this:</p>\n<pre><code>boolean foundTwo = false;\nfor (int x : array) {\n    if (x == 2) {\n        foundTwo = true;\n    } else if (x == 4) {\n        break;\n    }\n}\nreturn foundTwo;\n</code></pre>\n<p>If you want to make sure there's both a 2 and a 4, in the correct order, just return on 4 instead of breaking, and default to false otherwise:</p>\n<pre><code>boolean foundTwo = false;\nfor (int x : array) {\n    if (x == 2) {\n        foundTwo = true;\n    } else if (x == 4) {\n        return foundTwo;\n    }\n}\nreturn false;\n</code></pre>\n"}],"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667196946,"creation_date":1667192571,"question_id":74258929,"body_markdown":"what i&#39;m trying to do is to check if 2 is before 4 in a array i used a for loop and condition check and i see that i&#39;m going wrong in my first condition check. i want to make it so that if two is not in the loop it just breaks and if it sees that four is before it breaks as well. \r\n\r\ni put the print statement to see where i was going wrong and it seems to if(array[i] == two and it goes to the else and breaks. i also read that you can do it with another array but that sound off so i also wanted to ask if that was possible.\r\n&lt;br/&gt;\r\n```\r\npublic static void main(String[] args) {\r\n    int[] check = {2, 3, 4, 2, 6};\r\n\r\n    System.out.println(universe42(check));\r\n\r\n\r\n}\r\n\r\n\r\n private static boolean universe42(int[]array){\r\n        boolean check1 = false;\r\n        boolean check2 = false;\r\n        int two = 2;\r\n        int four = 4;\r\n\r\n        for(int i=0; i&lt; array.length; i++) {\r\n            if (array[i] == two) {\r\n                    check1 = true;\r\n                System.out.println(&quot;check1&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;check-------&quot;);\r\n                break;\r\n            }\r\n            if (array[i]== four){\r\n                check2=true;\r\n            }\r\n\r\n\r\n        }\r\n        if(check1==true &amp;&amp; check2== true){\r\n            return true;\r\n        }\r\n\r\n\r\n        return false;\r\n    }\r\n    \r\n}\r\n```\r\n","title":"checking for a specific number in a specific order with arrays and condition checks","body":"<p>what i'm trying to do is to check if 2 is before 4 in a array i used a for loop and condition check and i see that i'm going wrong in my first condition check. i want to make it so that if two is not in the loop it just breaks and if it sees that four is before it breaks as well.</p>\n<p>i put the print statement to see where i was going wrong and it seems to if(array[i] == two and it goes to the else and breaks. i also read that you can do it with another array but that sound off so i also wanted to ask if that was possible.\n<br/></p>\n<pre><code>public static void main(String[] args) {\n    int[] check = {2, 3, 4, 2, 6};\n\n    System.out.println(universe42(check));\n\n\n}\n\n\n private static boolean universe42(int[]array){\n        boolean check1 = false;\n        boolean check2 = false;\n        int two = 2;\n        int four = 4;\n\n        for(int i=0; i&lt; array.length; i++) {\n            if (array[i] == two) {\n                    check1 = true;\n                System.out.println(&quot;check1&quot;);\n            }\n            else {\n                System.out.println(&quot;check-------&quot;);\n                break;\n            }\n            if (array[i]== four){\n                check2=true;\n            }\n\n\n        }\n        if(check1==true &amp;&amp; check2== true){\n            return true;\n        }\n\n\n        return false;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring","mapstruct","mapper"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667140111,"creation_date":1667140111,"answer_id":74253891,"question_id":74253468,"body_markdown":"Since the 1.4 release, MapStruct supports using constructors when instantiating mapping targets. \r\n\r\nOne solution would be marking the parametrized constructor as `@Default`. For more possible solutions and more details on how the Constructor support works have a look at the [reference guide][1].\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/dev/reference/html/#mapping-with-constructors","title":"Spring &amp; mapstruct, generate a mapper using a parameterized constructor?","body":"<p>Since the 1.4 release, MapStruct supports using constructors when instantiating mapping targets.</p>\n<p>One solution would be marking the parametrized constructor as <code>@Default</code>. For more possible solutions and more details on how the Constructor support works have a look at the <a href=\"https://mapstruct.org/documentation/dev/reference/html/#mapping-with-constructors\" rel=\"nofollow noreferrer\">reference guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667196803,"creation_date":1667196803,"answer_id":74259360,"question_id":74253468,"body_markdown":"[ObjectFactory][1] is the way to go.\r\n\r\n&gt; By default beans are created during the mapping process with the\r\n&gt; default constructor. If a factory method with a return type that is\r\n&gt; assignable to the required object type is present, then the factory\r\n&gt; method is used instead.\r\n&gt; \r\n&gt; Factory methods can be defined ***without parameters, with an @TargetType\r\n&gt; parameter, a @Context parameter, or with the mapping source parameter***.\r\n&gt; If any of those parameters are defined, then the mapping method that\r\n&gt; is supposed to use the factory method needs to be declared with an\r\n&gt; assignable result type, assignable context parameter, and/or\r\n&gt; assignable source types.\r\n\r\nI left to you the pleasure of reading documentation and solve the problem :)\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/ObjectFactory.html","title":"Spring &amp; mapstruct, generate a mapper using a parameterized constructor?","body":"<p><a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/ObjectFactory.html\" rel=\"nofollow noreferrer\">ObjectFactory</a> is the way to go.</p>\n<blockquote>\n<p>By default beans are created during the mapping process with the\ndefault constructor. If a factory method with a return type that is\nassignable to the required object type is present, then the factory\nmethod is used instead.</p>\n<p>Factory methods can be defined <em><strong>without parameters, with an @TargetType\nparameter, a @Context parameter, or with the mapping source parameter</strong></em>.\nIf any of those parameters are defined, then the mapping method that\nis supposed to use the factory method needs to be declared with an\nassignable result type, assignable context parameter, and/or\nassignable source types.</p>\n</blockquote>\n<p>I left to you the pleasure of reading documentation and solve the problem :)</p>\n"}],"owner":{"account_id":26776253,"reputation":11,"user_id":20371858,"display_name":"diegombf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667196803,"creation_date":1667136572,"question_id":74253468,"body_markdown":"Mapstruct always generate mappers that use a default empty constructor and setters to construct an object.\r\n\r\nI need mapstruct to construct objects using parameterized constructor instead.\r\n\r\n\r\nI have this mapper configured using maptruct:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface FlightMapper {\r\n        FlightBooking  flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto flightBookingDto);\r\n    }\r\n\r\n\r\nThe implementation that mapstruct generates uses the default constructor without parameters:\r\n\r\n\r\n\r\n    public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto     flightBookingDto) {\r\n        if ( flightBookingDto == null ) {\r\n            return null;\r\n        }\r\n\r\n        FlightBooking flightBooking = new FlightBooking();\r\n\r\n        flightBooking.setFlight_booking_id( flightBookingDto.getBooking_id() );\r\n\r\n        return flightBooking;\r\n    }\r\n\r\n\r\n\r\n\r\nBut I need this implementation with a parameterized constructor instead:\r\n\r\n\r\n    public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto    flightBookingDto) {\r\n        if ( flightBookingDto == null ) {\r\n            return null;\r\n        }\r\n\r\n        FlightBooking flightBooking = new FlightBooking(flightBookingDto.getBooking_id());\r\n\r\n        return flightBooking;\r\n    }\r\n\r\n\r\nHow can I configure mapstruct to achieve this? I haven&#39;t found any responses in the official documentation. Thanks in advance\r\n\r\n","title":"Spring &amp; mapstruct, generate a mapper using a parameterized constructor?","body":"<p>Mapstruct always generate mappers that use a default empty constructor and setters to construct an object.</p>\n<p>I need mapstruct to construct objects using parameterized constructor instead.</p>\n<p>I have this mapper configured using maptruct:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface FlightMapper {\n    FlightBooking  flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto flightBookingDto);\n}\n</code></pre>\n<p>The implementation that mapstruct generates uses the default constructor without parameters:</p>\n<pre><code>public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto     flightBookingDto) {\n    if ( flightBookingDto == null ) {\n        return null;\n    }\n\n    FlightBooking flightBooking = new FlightBooking();\n\n    flightBooking.setFlight_booking_id( flightBookingDto.getBooking_id() );\n\n    return flightBooking;\n}\n</code></pre>\n<p>But I need this implementation with a parameterized constructor instead:</p>\n<pre><code>public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto    flightBookingDto) {\n    if ( flightBookingDto == null ) {\n        return null;\n    }\n\n    FlightBooking flightBooking = new FlightBooking(flightBookingDto.getBooking_id());\n\n    return flightBooking;\n}\n</code></pre>\n<p>How can I configure mapstruct to achieve this? I haven't found any responses in the official documentation. Thanks in advance</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":14355182,"reputation":35,"user_id":10369318,"display_name":"Luciano Marti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667196731,"creation_date":1667196731,"answer_id":74259349,"question_id":74259207,"body_markdown":"I solved this issue by using @JoinFormula annotation from Hibernate, so my student entity looks like this:\r\n\r\n```java\r\n@Entity\r\npublic class Student implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinFormula(&quot;(select t.id from teacher t where t.badge_code = teacher or t.name = teacher)&quot;)\r\n    private Teacher teacher;\r\n\r\n...\r\n```\r\n\r\nIt looks like a native SQL query between parentheses **that returns the target entity id**, is enough to join given two or more conditions with the same column, like in this case.\r\n","title":"JPA join by one value or another","body":"<p>I solved this issue by using @JoinFormula annotation from Hibernate, so my student entity looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Student implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinFormula(&quot;(select t.id from teacher t where t.badge_code = teacher or t.name = teacher)&quot;)\n    private Teacher teacher;\n\n...\n</code></pre>\n<p>It looks like a native SQL query between parentheses <strong>that returns the target entity id</strong>, is enough to join given two or more conditions with the same column, like in this case.</p>\n"}],"owner":{"account_id":14355182,"reputation":35,"user_id":10369318,"display_name":"Luciano Marti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667196731,"creation_date":1667195442,"question_id":74259207,"body_markdown":"I have an example database as a simplification of a real life production environment. In this case, there&#39;s a student table (id, name, **teacher**) and a teacher table (id, name, badge_code). The teacher can be identified by their badge_code or by name, and there is a many-to-one relationship between these two tables, where a teacher corresponds to many students. \r\n\r\nThe thing is that the student table has its **teacher** column, and this column may have either the teacher&#39;s name or badge code. If I want to successfully join these tables, a query like this would be enough:\r\n\r\n```sql\r\nselect * from student s\r\nleft join teacher t on s.teacher = t.badge_code or s.teacher = t.name\r\n```\r\n\r\nIf the first join condition fails, it falls back to the second possible match. This is a left join, so it can be null cases.\r\n\r\nI want to replicate this join in JPA and I don&#39;t know how to do it. It doesn&#39;t matter if it&#39;s by annotations, JPQL or a criteria query; any option will be fine. I know this kind of reference is not ideal between tables, but unfortunately, I&#39;m unable to change how data is related in this case. ","title":"JPA join by one value or another","body":"<p>I have an example database as a simplification of a real life production environment. In this case, there's a student table (id, name, <strong>teacher</strong>) and a teacher table (id, name, badge_code). The teacher can be identified by their badge_code or by name, and there is a many-to-one relationship between these two tables, where a teacher corresponds to many students.</p>\n<p>The thing is that the student table has its <strong>teacher</strong> column, and this column may have either the teacher's name or badge code. If I want to successfully join these tables, a query like this would be enough:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from student s\nleft join teacher t on s.teacher = t.badge_code or s.teacher = t.name\n</code></pre>\n<p>If the first join condition fails, it falls back to the second possible match. This is a left join, so it can be null cases.</p>\n<p>I want to replicate this join in JPA and I don't know how to do it. It doesn't matter if it's by annotations, JPQL or a criteria query; any option will be fine. I know this kind of reference is not ideal between tables, but unfortunately, I'm unable to change how data is related in this case.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1658724608,"post_id":73104111,"comment_id":129113064,"body_markdown":"Take a look at the [link](https://marketplace.visualstudio.com/items?itemName=ms-vscode.vs-keybindings) at the end of this answer on another question about using Visual Studio Keybindings for VS code: [How do you auto remove unused imports - Visual Studio Code](https://stackoverflow.com/a/63312550/1270000)","body":"Take a look at the <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.vs-keybindings\" rel=\"nofollow noreferrer\">link</a> at the end of this answer on another question about using Visual Studio Keybindings for VS code: <a href=\"https://stackoverflow.com/a/63312550/1270000\">How do you auto remove unused imports - Visual Studio Code</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1667196574,"creation_date":1658729918,"answer_id":73104741,"question_id":73104111,"body_markdown":"**UPDATA**\r\n\r\nNow that vs code **Java** has added a code action, you can use `Remove all unused imports` directly in `quickfix` to remove all unused imports.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nYou can use the shortcut key &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;\r\n. This will format your **import code** and of course remove unused imports.\r\n\r\nFor example, the original import code is like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter using the &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; to format the import code\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bxgv4.png\r\n  [2]: https://i.stack.imgur.com/xeJKV.png\r\n  [3]: https://i.stack.imgur.com/xHEKL.png","title":"How to remove all unused imports from a Java file in VS code","body":"<p><strong>UPDATA</strong></p>\n<p>Now that vs code <strong>Java</strong> has added a code action, you can use <code>Remove all unused imports</code> directly in <code>quickfix</code> to remove all unused imports.</p>\n<p><a href=\"https://i.stack.imgur.com/Bxgv4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Bxgv4.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>You can use the shortcut key <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>O</kbd>\n. This will format your <strong>import code</strong> and of course remove unused imports.</p>\n<p>For example, the original import code is like this</p>\n<p><a href=\"https://i.stack.imgur.com/xeJKV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xeJKV.png\" alt=\"enter image description here\" /></a></p>\n<p>After using the <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>O</kbd> to format the import code</p>\n<p><a href=\"https://i.stack.imgur.com/xHEKL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xHEKL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22806068,"reputation":400,"user_id":16958095,"display_name":"Ahmed Hosny"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1658731417,"creation_date":1658731417,"answer_id":73104963,"question_id":73104111,"body_markdown":"**Fix them on just SAVING the file, the easiest way** \r\n\r\nFollow these steps to setup settings in VS Code.\r\n\r\n1. Press [Ctrl + , ] to open setting \r\n2. Click on that top-right icon (Open settings JSON) as shown in the below image marked in red.\r\n[![image][1]][1]\r\n\r\n3. Add this below code in settings.json file.\r\n\r\n    &quot;editor.codeActionsOnSave&quot;: {\r\n        &quot;source.organizeImports&quot;: true\r\n    }\r\n\r\n4. Now just save it and its done\r\n\r\n  [1]: https://i.stack.imgur.com/PbOam.png\r\n","title":"How to remove all unused imports from a Java file in VS code","body":"<p><strong>Fix them on just SAVING the file, the easiest way</strong></p>\n<p>Follow these steps to setup settings in VS Code.</p>\n<ol>\n<li><p>Press [Ctrl + , ] to open setting</p>\n</li>\n<li><p>Click on that top-right icon (Open settings JSON) as shown in the below image marked in red.\n<a href=\"https://i.stack.imgur.com/PbOam.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PbOam.png\" alt=\"image\" /></a></p>\n</li>\n<li><p>Add this below code in settings.json file.</p>\n<p>&quot;editor.codeActionsOnSave&quot;: {\n&quot;source.organizeImports&quot;: true\n}</p>\n</li>\n<li><p>Now just save it and its done</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4022,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73104741,"answer_count":2,"score":5,"last_activity_date":1667196574,"creation_date":1658723871,"question_id":73104111,"body_markdown":"I use VS Code with the Extension Pack for Java.\r\n\r\nWhen I have unused imports like\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.stream.Collectors;\r\n\r\n\r\nin my `.java` file I can remove each import *individually* via the &quot;Quick Fix&quot; action (`Ctrl`+`.`).\r\n\r\nBut how can I remove *all* unused imports from a Java file in VS Code?","title":"How to remove all unused imports from a Java file in VS code","body":"<p>I use VS Code with the Extension Pack for Java.</p>\n<p>When I have unused imports like</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.stream.Collectors;\n</code></pre>\n<p>in my <code>.java</code> file I can remove each import <em>individually</em> via the &quot;Quick Fix&quot; action (<code>Ctrl</code>+<code>.</code>).</p>\n<p>But how can I remove <em>all</em> unused imports from a Java file in VS Code?</p>\n"},{"tags":["java","c","assembly","operating-system"],"comments":[{"owner":{"account_id":16769737,"reputation":1501,"user_id":12122460,"display_name":"kotatsuyaki"},"score":1,"creation_date":1667194412,"post_id":74259068,"comment_id":131104589,"body_markdown":"&quot;where can I find the Linux kernel source code?&quot; - [kernel.org](https://kernel.org/).","body":"&quot;where can I find the Linux kernel source code?&quot; - <a href=\"https://kernel.org/\" rel=\"nofollow noreferrer\">kernel.org</a>."},{"owner":{"account_id":26295545,"reputation":19,"user_id":20116546,"display_name":"Elmo YT"},"score":0,"creation_date":1667194790,"post_id":74259068,"comment_id":131104640,"body_markdown":"thanks, but is it possible?","body":"thanks, but is it possible?"},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":0,"creation_date":1667195513,"post_id":74259068,"comment_id":131104727,"body_markdown":"If you need to ask if it is possible, it means you probably need to spend months to years learning C and kernel programming. Because of course it is possible, JVM is pure software.","body":"If you need to ask if it is possible, it means you probably need to spend months to years learning C and kernel programming. Because of course it is possible, JVM is pure software."},{"owner":{"account_id":26295545,"reputation":19,"user_id":20116546,"display_name":"Elmo YT"},"score":0,"creation_date":1667258669,"post_id":74259068,"comment_id":131123103,"body_markdown":"This is actually a really good idea for making a operating system and because linux is open source, I can just edit ~/.bashrc and add some lines of code that downloads jre or jdk executes some java code.","body":"This is actually a really good idea for making a operating system and because linux is open source, I can just edit ~/.bashrc and add some lines of code that downloads jre or jdk executes some java code."}],"answers":[{"tags":[],"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667195248,"creation_date":1667195248,"answer_id":74259188,"question_id":74259068,"body_markdown":"If you wanted to run Java code from within the kernel, that would end you having to implement a JVM embedded like a module, or launch a java program from within a driver, by making the driver depend on the JVM. That seems not a great idea, as it usually would end with a very fragile system in terms of dependencies, a very heavy image, and a mix of responsibilities in the kernel space.\r\n\r\nYou&#39;re probably mistaking the kernel space, the init sequence and the user space. From your description &quot;so the back end is made on c and assembly and the front end is made on java?&quot; it seems more likely that you want to run some java programs as SysVInit / systemd services that are providing the user with an interface to the OS, not as part of the Kernel.\r\n\r\nWhen done so, the init manager will cascade-run all necessary services from the distribution, giving them appropriate resources and permissions, after the kernel initializes itself, filesystems, virtual memory,... and the hardware.\r\n\r\nRunning a java program as a systemd service is very easy (and from SysVInit, too). From a simple unit service,\r\n```\r\n[Unit]\r\nDescription=Hello Service -- A Service.\r\n# Before and after directives go in this section. \r\n# Example for waiting for the network to start the service:\r\n# After=network.target\r\n\r\n[Service]\r\nUser=user\r\nGroup=group\r\nExecStart=/path/to/start.sh\r\nExecStop=/path/to/stop.sh\r\nType=forking\r\n\r\n[Install]\r\nWantedBy=default.target\r\n```\r\nyou only need to set the appropriate users and groups, according to the privileges of your software, and launch your Java program from `start.sh` and stop it from `stop.sh`, where you can set your java command line, environment variables and checks.\r\n\r\nMake sure you start your Java program with nohup, to avoid interfering with systemd and its logs:\r\n\r\n```bash\r\n#!/bin/bash\r\nnohup java -cp /opt/hello:/opt/hello/* com.package.hello.Start &gt; /tmp/hello.out 2&gt;&amp;1 &amp;\r\n```\r\nProbably you would like to check SysVInit as it usually is lighter, but I hope this answer gives you some ideas.","title":"Is it possible to make a operating system by getting a linux kernel to run java code?","body":"<p>If you wanted to run Java code from within the kernel, that would end you having to implement a JVM embedded like a module, or launch a java program from within a driver, by making the driver depend on the JVM. That seems not a great idea, as it usually would end with a very fragile system in terms of dependencies, a very heavy image, and a mix of responsibilities in the kernel space.</p>\n<p>You're probably mistaking the kernel space, the init sequence and the user space. From your description &quot;so the back end is made on c and assembly and the front end is made on java?&quot; it seems more likely that you want to run some java programs as SysVInit / systemd services that are providing the user with an interface to the OS, not as part of the Kernel.</p>\n<p>When done so, the init manager will cascade-run all necessary services from the distribution, giving them appropriate resources and permissions, after the kernel initializes itself, filesystems, virtual memory,... and the hardware.</p>\n<p>Running a java program as a systemd service is very easy (and from SysVInit, too). From a simple unit service,</p>\n<pre><code>[Unit]\nDescription=Hello Service -- A Service.\n# Before and after directives go in this section. \n# Example for waiting for the network to start the service:\n# After=network.target\n\n[Service]\nUser=user\nGroup=group\nExecStart=/path/to/start.sh\nExecStop=/path/to/stop.sh\nType=forking\n\n[Install]\nWantedBy=default.target\n</code></pre>\n<p>you only need to set the appropriate users and groups, according to the privileges of your software, and launch your Java program from <code>start.sh</code> and stop it from <code>stop.sh</code>, where you can set your java command line, environment variables and checks.</p>\n<p>Make sure you start your Java program with nohup, to avoid interfering with systemd and its logs:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nnohup java -cp /opt/hello:/opt/hello/* com.package.hello.Start &gt; /tmp/hello.out 2&gt;&amp;1 &amp;\n</code></pre>\n<p>Probably you would like to check SysVInit as it usually is lighter, but I hope this answer gives you some ideas.</p>\n"}],"owner":{"account_id":26295545,"reputation":19,"user_id":20116546,"display_name":"Elmo YT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667195779,"answer_count":1,"score":0,"last_activity_date":1667195248,"creation_date":1667194144,"question_id":74259068,"body_markdown":"I have always gotten the idea of getting a kernel to run java code, so the back end is made on c and assembly and the front end is made on java? If so, where can I find the Linux kernel source code?","title":"Is it possible to make a operating system by getting a linux kernel to run java code?","body":"<p>I have always gotten the idea of getting a kernel to run java code, so the back end is made on c and assembly and the front end is made on java? If so, where can I find the Linux kernel source code?</p>\n"},{"tags":["java","git","git-bash","git-merge","git-merge-conflict"],"comments":[{"owner":{"account_id":62041,"reputation":23930,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"score":1,"creation_date":1667185164,"post_id":74258024,"comment_id":131103384,"body_markdown":"Is your intention to setup a Merge Request to merge your feature branch into `master` in GitLab, or are you trying to merge it into `master` locally and push `master`?","body":"Is your intention to setup a Merge Request to merge your feature branch into <code>master</code> in GitLab, or are you trying to merge it into <code>master</code> locally and push <code>master</code>?"}],"answers":[{"tags":[],"owner":{"account_id":244127,"reputation":107,"user_id":3304825,"accept_rate":43,"display_name":"user3304825"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667181468,"creation_date":1667181468,"answer_id":74258072,"question_id":74258024,"body_markdown":"If you git diff each file to be commuted with the main branch you should see only your core changes, not the merged changes. \r\n\r\nFor example: if you are using a tool like IntelliJ, if you right click on an uncommitted file and git compare it with the main branch, only the “new changes” should be highlighted, the merged changes should not be.","title":"After fixing merge conflicts, too many changes to be committed that I didn&#39;t work on showed up","body":"<p>If you git diff each file to be commuted with the main branch you should see only your core changes, not the merged changes.</p>\n<p>For example: if you are using a tool like IntelliJ, if you right click on an uncommitted file and git compare it with the main branch, only the “new changes” should be highlighted, the merged changes should not be.</p>\n"}],"owner":{"account_id":26780452,"reputation":9,"user_id":20375369,"display_name":"Bilal Daher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667194639,"creation_date":1667180810,"question_id":74258024,"body_markdown":"I know this could&#39;ve been a question previously asked, but I am not sure it was answered properly.\r\nI am trying to fix merge conflicts when merging to the master branch. So what I did was, I checked out the master branch, did a git fetch, git pull, then checked out my feature branch, and fixed the merge conflicts I needed to fix.\r\n\r\nNow, all the files I have fixed will need to be manually added, then committed, then pushed to the master branch. That, I understand.\r\nHowever, a lot of files showed up in the Changed to be committed section, that are already on the master branch, when I checked the git lab repo.\r\n\r\nMy question is, am I supposed to keep those and commit them alongside my changes? or should I remove them and just commit and push my changes?\r\n\r\n\r\nI have tried following this https://stackoverflow.com/questions/9189867/after-a-git-merge-conflict-a-lot-of-files-i-didnt-touch-become-changes-to-be-c, but I didn&#39;t find it pretty helpful.\r\n","title":"After fixing merge conflicts, too many changes to be committed that I didn&#39;t work on showed up","body":"<p>I know this could've been a question previously asked, but I am not sure it was answered properly.\nI am trying to fix merge conflicts when merging to the master branch. So what I did was, I checked out the master branch, did a git fetch, git pull, then checked out my feature branch, and fixed the merge conflicts I needed to fix.</p>\n<p>Now, all the files I have fixed will need to be manually added, then committed, then pushed to the master branch. That, I understand.\nHowever, a lot of files showed up in the Changed to be committed section, that are already on the master branch, when I checked the git lab repo.</p>\n<p>My question is, am I supposed to keep those and commit them alongside my changes? or should I remove them and just commit and push my changes?</p>\n<p>I have tried following this <a href=\"https://stackoverflow.com/questions/9189867/after-a-git-merge-conflict-a-lot-of-files-i-didnt-touch-become-changes-to-be-c\">After a Git merge conflict, a lot of files I didn&#39;t touch become changes to be committed</a>, but I didn't find it pretty helpful.</p>\n"},{"tags":["java","spring","list","spring-boot","dto"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666769091,"post_id":74204051,"comment_id":131011822,"body_markdown":"Don&#39;t. Issue a single query to get everything and let JPA do the mapping to a DTO. Also why would you need to save a dto?","body":"Don&#39;t. Issue a single query to get everything and let JPA do the mapping to a DTO. Also why would you need to save a dto?"},{"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"score":0,"creation_date":1666770069,"post_id":74204051,"comment_id":131012109,"body_markdown":"Thanks for the idea, I know it&#39;s the right one. But for some reasons I need to do it this way. So I need an answer that can be done with the logic I mentioned above. It would be really helpful to talk about that","body":"Thanks for the idea, I know it&#39;s the right one. But for some reasons I need to do it this way. So I need an answer that can be done with the logic I mentioned above. It would be really helpful to talk about that"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1666770259,"post_id":74204051,"comment_id":131012184,"body_markdown":"There is no reason to not do it the way described the result is the same with better performance and memory usage. Yours will be slow because you issue x queries, retrieve too much data and do everything in memory. Use the tools you have not around them.","body":"There is no reason to not do it the way described the result is the same with better performance and memory usage. Yours will be slow because you issue x queries, retrieve too much data and do everything in memory. Use the tools you have not around them."},{"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"score":0,"creation_date":1666770678,"post_id":74204051,"comment_id":131012302,"body_markdown":"I understand what you&#39;re saying and I&#39;m sure it&#39;s true. The goal here is not performance, but learning these processes. It&#39;s not about saving dto or performance that matters to me. Understanding the operations in lists is my priority. As you can imagine, I&#39;m a beginner and I asked this question in this way to learn it and to explain it more clearly. Otherwise, I could only ask for the list part. Like I said, I need to learn how to convert the above logic to code. Thanks for the answer.","body":"I understand what you&#39;re saying and I&#39;m sure it&#39;s true. The goal here is not performance, but learning these processes. It&#39;s not about saving dto or performance that matters to me. Understanding the operations in lists is my priority. As you can imagine, I&#39;m a beginner and I asked this question in this way to learn it and to explain it more clearly. Otherwise, I could only ask for the list part. Like I said, I need to learn how to convert the above logic to code. Thanks for the answer."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1666773185,"post_id":74204051,"comment_id":131013140,"body_markdown":"if you are a beginner you should learn the proper way not the wrong way. Yours is the wrong way. But if you really want you should use a stream, twice a map (first the retrieval of the entity, then a map to convert entity to a dto). Then do a toList. But as stated you should really learn the proper way and not the wrong way, if you learn the wrong way you are going to apply it in real projects as well with all consequences.","body":"if you are a beginner you should learn the proper way not the wrong way. Yours is the wrong way. But if you really want you should use a stream, twice a map (first the retrieval of the entity, then a map to convert entity to a dto). Then do a toList. But as stated you should really learn the proper way and not the wrong way, if you learn the wrong way you are going to apply it in real projects as well with all consequences."}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667194390,"creation_date":1667194390,"answer_id":74259092,"question_id":74204051,"body_markdown":"You can achieve that by using java streams like this\r\n\r\n    List&lt;DataDTO&gt; rpaDataList = id.stream().map(x -&gt; repository.findById(x)).filter(Optional::isPresent).map(Optional::get).toList();\r\n    repository.saveAll(rpaDataList);","title":"Iterate through a list of ids, find other attributes on repo and set them into another list","body":"<p>You can achieve that by using java streams like this</p>\n<pre><code>List&lt;DataDTO&gt; rpaDataList = id.stream().map(x -&gt; repository.findById(x)).filter(Optional::isPresent).map(Optional::get).toList();\nrepository.saveAll(rpaDataList);\n</code></pre>\n"}],"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74259092,"answer_count":1,"score":-1,"last_activity_date":1667194390,"creation_date":1666768983,"question_id":74204051,"body_markdown":"I have a function that accepts *List&lt;Long&gt; id* as a @RequestBody parameter.\r\n\r\nI need to find each id&#39;s other variables (message,date,noofp), set them in a list of DTO objects.\r\n\r\n\r\n```\r\npublic class DataDTO {\r\n        private long id;\r\n\r\n\tprivate String message;\r\n\r\n\tprivate Date date;\r\n\r\n\tprivate String noofp;\r\n\r\n\tprivate String meaningofp;\r\n}\r\n```\r\n\r\n```\r\nList&lt;DataDTO&gt; rpaDataList = new ArrayList&lt;&gt;();\r\n\t\t\r\n//this part is where I am confused\r\n\t\t id.forEach(x-&gt; {\r\n\t\t\trepository.findById(x).map( rpa -&gt; {\r\n\t\t\t??????????\r\n\t\t\t})\t\r\n\t\t});\r\n\t\t\r\nreturn repository.saveAll(rpaDataList);\r\n```\r\n\r\nHow can i do it ? \r\n\r\n\r\nThe logic in my head is that I need to iterarte through list of ids, find each id in repository and get other informations. Set them in a DTO object, put these objects into a list and use saveAll method.\r\n\r\nCan&#39;t seem to put it on code.","title":"Iterate through a list of ids, find other attributes on repo and set them into another list","body":"<p>I have a function that accepts <em>List id</em> as a @RequestBody parameter.</p>\n<p>I need to find each id's other variables (message,date,noofp), set them in a list of DTO objects.</p>\n<pre><code>public class DataDTO {\n        private long id;\n\n    private String message;\n\n    private Date date;\n\n    private String noofp;\n\n    private String meaningofp;\n}\n</code></pre>\n<pre><code>List&lt;DataDTO&gt; rpaDataList = new ArrayList&lt;&gt;();\n        \n//this part is where I am confused\n         id.forEach(x-&gt; {\n            repository.findById(x).map( rpa -&gt; {\n            ??????????\n            })  \n        });\n        \nreturn repository.saveAll(rpaDataList);\n</code></pre>\n<p>How can i do it ?</p>\n<p>The logic in my head is that I need to iterarte through list of ids, find each id in repository and get other informations. Set them in a DTO object, put these objects into a list and use saveAll method.</p>\n<p>Can't seem to put it on code.</p>\n"},{"tags":["java","mysql","spring-boot","persistence"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1657981417,"post_id":73003797,"comment_id":128941288,"body_markdown":"You&#39;re creating a user with password, but nowhere in your `DataSource` configuration you&#39;re using that username or password. Can you explain what you&#39;re trying to do there?","body":"You&#39;re creating a user with password, but nowhere in your <code>DataSource</code> configuration you&#39;re using that username or password. Can you explain what you&#39;re trying to do there?"},{"owner":{"display_name":"user18472511"},"score":0,"creation_date":1658383175,"post_id":73003797,"comment_id":129038621,"body_markdown":"Thank you very much. I made this code with some tutorial, and  you know... :)","body":"Thank you very much. I made this code with some tutorial, and  you know... :)"}],"answers":[{"tags":[],"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658567617,"creation_date":1658567617,"answer_id":73089470,"question_id":73003797,"body_markdown":"[If you configure `spring.datasource.*` properties](https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration) Spring will automatically inject an `DataSource` for you, you do not need the `@Bean` producer method using the builder.","title":"SpringBoot: SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39; (using password: NO)","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration\" rel=\"nofollow noreferrer\">If you configure <code>spring.datasource.*</code> properties</a> Spring will automatically inject an <code>DataSource</code> for you, you do not need the <code>@Bean</code> producer method using the builder.</p>\n"},{"tags":[],"owner":{"account_id":18975870,"reputation":153,"user_id":13848366,"display_name":"John Paulo A. Geronimo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667194191,"creation_date":1667194191,"answer_id":74259071,"question_id":73003797,"body_markdown":"In my case, I just remove the port:3306 in my spring.datasource.url. If you are using phpmyadmin as a database management tool.\r\n\r\nHere&#39;s the link for the reference: [DataSource Configuration][1]\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost/test\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration","title":"SpringBoot: SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39; (using password: NO)","body":"<p>In my case, I just remove the port:3306 in my spring.datasource.url. If you are using phpmyadmin as a database management tool.</p>\n<p>Here's the link for the reference: <a href=\"https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration\" rel=\"nofollow noreferrer\">DataSource Configuration</a></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/test\n</code></pre>\n"}],"owner":{"display_name":"user18472511"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667194191,"creation_date":1657970780,"question_id":73003797,"body_markdown":"I have found the same issue here, but it did not help to asker, and it didnt help me too. So  I try it again after three years :)\r\n\r\nI made a Spring Boot app with MySQL database. All CRUD operations works fine, its tested by Postman. When I add Persistance.autoconfiguration.java it makes **SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39;** **(using password: NO)**. User XXX is my Windows user profile.\r\n\r\n**Persistence.configuration.java** is placed in config package, it is placed in conferencedemo2, where  are controller, repository, ect packages.\r\n\r\n    package com.cg.conferencedemo2.config;\r\n    \r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    public class PersistenceConfiguration {\r\n    \r\n    \r\n        @Bean\r\n        public DataSource dataSource(){\r\n            DataSourceBuilder builder = DataSourceBuilder.create();\r\n            builder.url(&quot;jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);\r\n            System.out.println(&quot;My custom datasource hean has benn initialized and  set&quot;);\r\n            return  builder.build();\r\n        }\r\n    }\r\n\r\nI have  tryed  to make  this sql , but with no affect.\r\n\r\n    CREATE USER &#39;XXX&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;     ----&gt;\t0 row(s) affected\t\r\n    GRANT ALL PRIVILEGES ON conference_demo.* TO &#39;XXX&#39;@&#39;localhost&#39;\t -----&gt;0 row(s) affected\r\n\r\n**application.properties**\r\n\r\n     spring.datasource.url=jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n     spring.datasource.username=root\r\n     spring.datasource.password=password\r\n     spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n**Thank you for the any advice.**\r\n","title":"SpringBoot: SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39; (using password: NO)","body":"<p>I have found the same issue here, but it did not help to asker, and it didnt help me too. So  I try it again after three years :)</p>\n<p>I made a Spring Boot app with MySQL database. All CRUD operations works fine, its tested by Postman. When I add Persistance.autoconfiguration.java it makes <strong>SQLException: Access denied for user 'XXX'@'localhost'</strong> <strong>(using password: NO)</strong>. User XXX is my Windows user profile.</p>\n<p><strong>Persistence.configuration.java</strong> is placed in config package, it is placed in conferencedemo2, where  are controller, repository, ect packages.</p>\n<pre><code>package com.cg.conferencedemo2.config;\n\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\n\n@Configuration\npublic class PersistenceConfiguration {\n\n\n    @Bean\n    public DataSource dataSource(){\n        DataSourceBuilder builder = DataSourceBuilder.create();\n        builder.url(&quot;jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);\n        System.out.println(&quot;My custom datasource hean has benn initialized and  set&quot;);\n        return  builder.build();\n    }\n}\n</code></pre>\n<p>I have  tryed  to make  this sql , but with no affect.</p>\n<pre><code>CREATE USER 'XXX'@'localhost' IDENTIFIED BY 'password'     ----&gt;    0 row(s) affected   \nGRANT ALL PRIVILEGES ON conference_demo.* TO 'XXX'@'localhost'   -----&gt;0 row(s) affected\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code> spring.datasource.url=jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n spring.datasource.username=root\n spring.datasource.password=password\n spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p><strong>Thank you for the any advice.</strong></p>\n"},{"tags":["java","apache-arrow"],"owner":{"account_id":68968,"reputation":1758,"user_id":200937,"accept_rate":57,"display_name":"YaOg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667194154,"creation_date":1667194154,"question_id":74259069,"body_markdown":"I am looking for an example of converting a parquet file to csv and vice versa. I am missing things like how to set the delimiter (comma or tab), how to specify date and timestamp formats (when reading from csv) and things like that.\r\n\r\nLooked at arrow source and examples and I can&#39;t find anything for the java implementation.","title":"apache arrow java parquet to csv conversion and vice versa","body":"<p>I am looking for an example of converting a parquet file to csv and vice versa. I am missing things like how to set the delimiter (comma or tab), how to specify date and timestamp formats (when reading from csv) and things like that.</p>\n<p>Looked at arrow source and examples and I can't find anything for the java implementation.</p>\n"},{"tags":["java","algorithm","solution"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1667139652,"post_id":74253652,"comment_id":131095200,"body_markdown":"I recommend you show your attempt and explain the problem you are having.  Also, are you required/permitted to consider duplicate items like 10 of the same item at a cost of 10 = 100?","body":"I recommend you show your attempt and explain the problem you are having.  Also, are you required/permitted to consider duplicate items like 10 of the same item at a cost of 10 = 100?"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667194036,"creation_date":1667192017,"answer_id":74258869,"question_id":74253652,"body_markdown":"Below is example code which demonstrates how this can be accomplished (no sorting is carried out). For the sake of this particular task, the method is named **combinationsEqualTarget()** and it works with a recursive helper method that does the summing named **sumToTargetValue()**. Be sure to read the comments in code:\r\n\r\n    /**\r\n     * This method will take your supplied int[] array and the supplied target\r\n     * value and fill your supplied String List with all the combinations\r\n     * of elements within the int[] array that will equal the supplied target\r\n     * value.\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     * {@code\r\n     *         List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n     *          int myTarget = 53;\r\n     *          int[] a = {1, 2, 5, 10, 10, 25, 25, 25, 50};\r\n     *          CombinationsEqual(myList, a, myTarget, false);\r\n     *          for (String strg : myList) {\r\n     *              System.out.println(strg);\r\n     *          }\r\n     * }\r\n     * Console output will be:  1, 2, 5, 10, 10, 25\r\n     *                          1, 2, 25, 25\r\n     *                          1, 2, 50&lt;/pre&gt;&lt;br&gt;\r\n     *\r\n     * @param array           (String List Interface) A List Interface variable \r\n     *                        you declare and pass to this method. The method \r\n     *                        will fill your ArrayList with the appropriate\r\n     *                        combinations that meet target.&lt;br&gt;\r\n     *\r\n     * @param numbers         (int[] Array) The int[] array to supply which\r\n     *                        contains all the different values which can equal\r\n     *                        the supplied target value when elemental values\r\n     *                        are summed.&lt;br&gt;\r\n     *\r\n     * @param target          (int) The target value to get combinations\r\n     *                        for.&lt;br&gt;\r\n     *\r\n     * @param allowDuplicatesInList (Optional - boolean - Default is &#39;true&#39;) Allow for\r\n     *                              or disallow for duplicate combinations within your\r\n     *                              list.\r\n     */\r\n    public static void combinationsEqualTarget(List&lt;String&gt; list, int[] numbers, \r\n                                   int target, boolean... allowDuplicatesInList) {\r\n        boolean allowDuplicates = true; //Default - We do allow duplicate List elements.\r\n        \r\n        /* Has somethig been supplied to our optional allowDuplicates (varArgs) \r\n           parameter? If so then update the allowDuplicates boolean variable.*/\r\n        if (allowDuplicatesInList.length &gt; 0) {\r\n            allowDuplicates = allowDuplicatesInList[0];\r\n        }\r\n\r\n        /* Recursively sum up array values and add those combinations\r\n           which equals our target value to the supplied List.  */\r\n        sumToTargetValue(list, new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().collect(\r\n                    java.util.stream.Collectors.toList())), target, new ArrayList&lt;&gt;());\r\n\r\n        /* Remove Duplicate elements from the List if asked to do\r\n           so through the optional allowDuplicates parameter (if\r\n           allowDuplicates has been supplied &#39;false&#39;).      */\r\n        if (!allowDuplicates) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                for (int j = i + 1; j &lt; list.size(); j++) {\r\n                    if (list.get(i).equals(list.get(j))) {\r\n                        list.remove(j);\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    /**\r\n     * This recursive method is used in conjunction with the combinationsEqualTarget() \r\n     * method and is not meant to be used alone.&lt;br&gt;\r\n     * \r\n     * @param listToReturn ({@code List&lt;String&gt;})\r\n     * \r\n     * @param numbers ({@code List&lt;Integer&gt;})\r\n     * \r\n     * @param target (int)\r\n     * \r\n     * @param temp ({@code List&lt;Integer&gt;})\r\n     */\r\n    private static void sumToTargetValue(List&lt;String&gt; listToReturn, \r\n                        List&lt;Integer&gt; numbers, int target, List&lt;Integer&gt; temp) {\r\n        int s = 0;\r\n        for (int x : temp) {\r\n            s += x;\r\n        }\r\n        if (s == target) {\r\n            listToReturn.add(temp.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\r\n        }\r\n        if (s &gt;= target) {\r\n            return;\r\n        }\r\n        for (int i = 0; i &lt; numbers.size(); i++) {\r\n            List&lt;Integer&gt; remaining = new ArrayList&lt;&gt;();\r\n            int n = numbers.get(i);\r\n            for (int j = i + 1; j &lt; numbers.size(); j++) {\r\n                remaining.add(numbers.get(j));\r\n            }\r\n            List&lt;Integer&gt; tempRec = new ArrayList&lt;&gt;(temp);\r\n            tempRec.add(n);\r\n            sumToTargetValue(listToReturn, remaining, target, tempRec);\r\n        }\r\n    }\r\n\r\nTo use the **combinationsEqualTarget()** method, you might do something like this:\r\n\r\n    // The example int[] array you provided in your post:\r\n    int[] prices = {10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2};\r\n    int moneyToSpend = 100;  // Target value.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();  // List to hold results...\r\n    combinationsEqualTarget(list, prices, moneyToSpend);\r\n        \r\n    // Display the list of results within the Console Window:\r\n    for (String items : list) {\r\n        System.out.println(items);\r\n    }\r\n\r\nWhen run with the example int[] Array, the Console Window should display:\r\n\r\n```\r\n10, 3, 4, 80, 3\r\n10, 3, 80, 7\r\n10, 3, 80, 5, 2\r\n10, 3, 80, 7\r\n10, 80, 7, 3\r\n10, 80, 5, 3, 2\r\n10, 80, 3, 7\r\n10, 90\r\n15, 3, 80, 2\r\n15, 80, 5\r\n15, 80, 3, 2\r\n3, 4, 90, 3\r\n3, 80, 7, 5, 3, 2\r\n3, 80, 7, 3, 7\r\n3, 80, 5, 3, 7, 2\r\n3, 90, 7\r\n3, 90, 5, 2\r\n3, 90, 7\r\n3, 92, 5\r\n3, 92, 3, 2\r\n4, 80, 7, 7, 2\r\n90, 7, 3\r\n90, 5, 3, 2\r\n90, 3, 7\r\n92, 5, 3\r\n```","title":"Array or products with prices, how to find all possible combinations for a given amount of money","body":"<p>Below is example code which demonstrates how this can be accomplished (no sorting is carried out). For the sake of this particular task, the method is named <strong>combinationsEqualTarget()</strong> and it works with a recursive helper method that does the summing named <strong>sumToTargetValue()</strong>. Be sure to read the comments in code:</p>\n<pre><code>/**\n * This method will take your supplied int[] array and the supplied target\n * value and fill your supplied String List with all the combinations\n * of elements within the int[] array that will equal the supplied target\n * value.\n * &lt;p&gt;\n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n * {@code\n *         List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n *          int myTarget = 53;\n *          int[] a = {1, 2, 5, 10, 10, 25, 25, 25, 50};\n *          CombinationsEqual(myList, a, myTarget, false);\n *          for (String strg : myList) {\n *              System.out.println(strg);\n *          }\n * }\n * Console output will be:  1, 2, 5, 10, 10, 25\n *                          1, 2, 25, 25\n *                          1, 2, 50&lt;/pre&gt;&lt;br&gt;\n *\n * @param array           (String List Interface) A List Interface variable \n *                        you declare and pass to this method. The method \n *                        will fill your ArrayList with the appropriate\n *                        combinations that meet target.&lt;br&gt;\n *\n * @param numbers         (int[] Array) The int[] array to supply which\n *                        contains all the different values which can equal\n *                        the supplied target value when elemental values\n *                        are summed.&lt;br&gt;\n *\n * @param target          (int) The target value to get combinations\n *                        for.&lt;br&gt;\n *\n * @param allowDuplicatesInList (Optional - boolean - Default is 'true') Allow for\n *                              or disallow for duplicate combinations within your\n *                              list.\n */\npublic static void combinationsEqualTarget(List&lt;String&gt; list, int[] numbers, \n                               int target, boolean... allowDuplicatesInList) {\n    boolean allowDuplicates = true; //Default - We do allow duplicate List elements.\n    \n    /* Has somethig been supplied to our optional allowDuplicates (varArgs) \n       parameter? If so then update the allowDuplicates boolean variable.*/\n    if (allowDuplicatesInList.length &gt; 0) {\n        allowDuplicates = allowDuplicatesInList[0];\n    }\n\n    /* Recursively sum up array values and add those combinations\n       which equals our target value to the supplied List.  */\n    sumToTargetValue(list, new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().collect(\n                java.util.stream.Collectors.toList())), target, new ArrayList&lt;&gt;());\n\n    /* Remove Duplicate elements from the List if asked to do\n       so through the optional allowDuplicates parameter (if\n       allowDuplicates has been supplied 'false').      */\n    if (!allowDuplicates) {\n        for (int i = 0; i &lt; list.size(); i++) {\n            for (int j = i + 1; j &lt; list.size(); j++) {\n                if (list.get(i).equals(list.get(j))) {\n                    list.remove(j);\n                    j--;\n                }\n            }\n        }\n    }\n}\n\n\n/**\n * This recursive method is used in conjunction with the combinationsEqualTarget() \n * method and is not meant to be used alone.&lt;br&gt;\n * \n * @param listToReturn ({@code List&lt;String&gt;})\n * \n * @param numbers ({@code List&lt;Integer&gt;})\n * \n * @param target (int)\n * \n * @param temp ({@code List&lt;Integer&gt;})\n */\nprivate static void sumToTargetValue(List&lt;String&gt; listToReturn, \n                    List&lt;Integer&gt; numbers, int target, List&lt;Integer&gt; temp) {\n    int s = 0;\n    for (int x : temp) {\n        s += x;\n    }\n    if (s == target) {\n        listToReturn.add(temp.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\n    }\n    if (s &gt;= target) {\n        return;\n    }\n    for (int i = 0; i &lt; numbers.size(); i++) {\n        List&lt;Integer&gt; remaining = new ArrayList&lt;&gt;();\n        int n = numbers.get(i);\n        for (int j = i + 1; j &lt; numbers.size(); j++) {\n            remaining.add(numbers.get(j));\n        }\n        List&lt;Integer&gt; tempRec = new ArrayList&lt;&gt;(temp);\n        tempRec.add(n);\n        sumToTargetValue(listToReturn, remaining, target, tempRec);\n    }\n}\n</code></pre>\n<p>To use the <strong>combinationsEqualTarget()</strong> method, you might do something like this:</p>\n<pre><code>// The example int[] array you provided in your post:\nint[] prices = {10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2};\nint moneyToSpend = 100;  // Target value.\n\nList&lt;String&gt; list = new ArrayList&lt;&gt;();  // List to hold results...\ncombinationsEqualTarget(list, prices, moneyToSpend);\n    \n// Display the list of results within the Console Window:\nfor (String items : list) {\n    System.out.println(items);\n}\n</code></pre>\n<p>When run with the example int[] Array, the Console Window should display:</p>\n<pre><code>10, 3, 4, 80, 3\n10, 3, 80, 7\n10, 3, 80, 5, 2\n10, 3, 80, 7\n10, 80, 7, 3\n10, 80, 5, 3, 2\n10, 80, 3, 7\n10, 90\n15, 3, 80, 2\n15, 80, 5\n15, 80, 3, 2\n3, 4, 90, 3\n3, 80, 7, 5, 3, 2\n3, 80, 7, 3, 7\n3, 80, 5, 3, 7, 2\n3, 90, 7\n3, 90, 5, 2\n3, 90, 7\n3, 92, 5\n3, 92, 3, 2\n4, 80, 7, 7, 2\n90, 7, 3\n90, 5, 3, 2\n90, 3, 7\n92, 5, 3\n</code></pre>\n"}],"owner":{"account_id":20963054,"reputation":9,"user_id":15402043,"display_name":"katerina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1667239950,"accepted_answer_id":74258869,"answer_count":1,"score":-2,"last_activity_date":1667194036,"creation_date":1667138136,"question_id":74253652,"body_markdown":"So I am given an array of prices of products and a fixed amount of money I have and can spend. The question is to return a list of all given combinations of products that I can buy with the fixed amount of money I have. \r\neg. prices = [10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2.....] (duplicates are allowed cause they represent different products)\r\namountOfMoney = 100\r\nresult = {[90, 10], [90, 5, 3, 2], [90, 5, 3, 2], [....]}\r\n\r\nMy thought was: \r\n1. Sort the array\r\n2. two nested loops, in order to have the outside loop as the first product and then add up to that one\r\n... \r\ndoesn&#39;t really work out the way I thought it...\r\n\r\nAny ideas? Any help? ","title":"Array or products with prices, how to find all possible combinations for a given amount of money","body":"<p>So I am given an array of prices of products and a fixed amount of money I have and can spend. The question is to return a list of all given combinations of products that I can buy with the fixed amount of money I have.\neg. prices = [10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2.....] (duplicates are allowed cause they represent different products)\namountOfMoney = 100\nresult = {[90, 10], [90, 5, 3, 2], [90, 5, 3, 2], [....]}</p>\n<p>My thought was:</p>\n<ol>\n<li>Sort the array</li>\n<li>two nested loops, in order to have the outside loop as the first product and then add up to that one\n...\ndoesn't really work out the way I thought it...</li>\n</ol>\n<p>Any ideas? Any help?</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667193675,"creation_date":1667193675,"answer_id":74259025,"question_id":74258999,"body_markdown":"You need to escape `%` with another `%`, i.e. `%%`.\r\n\r\n```\r\nString format = &quot;Your name is %s, 100%%point&quot;;\r\nString name = String.format(format, &quot;Harry&quot;);\r\n\r\nSystem.out.print(name); // I want to print &quot;Your name is Harry, 100%point&quot;\r\n```","title":"How to use string format %s and &#39;%&#39; in the same line?","body":"<p>You need to escape <code>%</code> with another <code>%</code>, i.e. <code>%%</code>.</p>\n<pre><code>String format = &quot;Your name is %s, 100%%point&quot;;\nString name = String.format(format, &quot;Harry&quot;);\n\nSystem.out.print(name); // I want to print &quot;Your name is Harry, 100%point&quot;\n</code></pre>\n"}],"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1667193833,"accepted_answer_id":74259025,"answer_count":1,"score":0,"last_activity_date":1667193743,"creation_date":1667193334,"question_id":74258999,"body_markdown":"Here is simple string format and it works.\r\n```\r\nString format = &quot;Your name is %s&quot;;\r\nString text = String.format(format, &quot;Harry&quot;);\r\n\r\nSystem.out.print(text);//print &quot;Your name is Harry&quot;\r\n```\r\nBut when I use &quot;%&quot; in the same line \r\n```\r\nString format = &quot;Your name is %s, 100%point&quot;;\r\nString name = String.format(format, &quot;Harry&quot;);\r\n\r\nSystem.out.print(name);// I want to print &quot;Your name is Harry, 100%point&quot;\r\n```\r\nI want to print &quot;Your name is Harry, 100%point&quot;,\r\n\r\nbut it come into runtime error\r\n```\r\n java.util.UnknownFormatConversionException: Conversion = &#39;p&#39;\r\n        at java.util.Formatter$FormatSpecifier.conversion(Formatter.java:2781)\r\n        at java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2811)\r\n        at java.util.Formatter$FormatSpecifierParser.&lt;init&gt;(Formatter.java:2624)\r\n        at java.util.Formatter.parse(Formatter.java:2557)\r\n        at java.util.Formatter.format(Formatter.java:2504)\r\n        at java.util.Formatter.format(Formatter.java:2458)\r\n        at java.lang.String.format(String.java:2842)\r\n```\r\n\r\nHow to solve it.\r\nAny help will be appreciate.\r\n","title":"How to use string format %s and &#39;%&#39; in the same line?","body":"<p>Here is simple string format and it works.</p>\n<pre><code>String format = &quot;Your name is %s&quot;;\nString text = String.format(format, &quot;Harry&quot;);\n\nSystem.out.print(text);//print &quot;Your name is Harry&quot;\n</code></pre>\n<p>But when I use &quot;%&quot; in the same line</p>\n<pre><code>String format = &quot;Your name is %s, 100%point&quot;;\nString name = String.format(format, &quot;Harry&quot;);\n\nSystem.out.print(name);// I want to print &quot;Your name is Harry, 100%point&quot;\n</code></pre>\n<p>I want to print &quot;Your name is Harry, 100%point&quot;,</p>\n<p>but it come into runtime error</p>\n<pre><code> java.util.UnknownFormatConversionException: Conversion = 'p'\n        at java.util.Formatter$FormatSpecifier.conversion(Formatter.java:2781)\n        at java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2811)\n        at java.util.Formatter$FormatSpecifierParser.&lt;init&gt;(Formatter.java:2624)\n        at java.util.Formatter.parse(Formatter.java:2557)\n        at java.util.Formatter.format(Formatter.java:2504)\n        at java.util.Formatter.format(Formatter.java:2458)\n        at java.lang.String.format(String.java:2842)\n</code></pre>\n<p>How to solve it.\nAny help will be appreciate.</p>\n"},{"tags":["java","lombok","builder"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667192873,"creation_date":1667192873,"answer_id":74258954,"question_id":74258923,"body_markdown":"Due to the cavalcade of generics and other trickery to make `@SuperBuilder` work, you can&#39;t just write it yourself. `@SuperBuilder` is more picky, in other words (`@Builder` will let you write various things yourself, SuperBuilder does not). For example, your `FooBuilder` class needs a bevy of generics. Instead of forcing you to read a lot of documentation, or delomboking to know what it should look like, SuperBuilder just doesn&#39;t let you, instead.","title":"How can I customize lombok SuperBuilder&#39;s build method?","body":"<p>Due to the cavalcade of generics and other trickery to make <code>@SuperBuilder</code> work, you can't just write it yourself. <code>@SuperBuilder</code> is more picky, in other words (<code>@Builder</code> will let you write various things yourself, SuperBuilder does not). For example, your <code>FooBuilder</code> class needs a bevy of generics. Instead of forcing you to read a lot of documentation, or delomboking to know what it should look like, SuperBuilder just doesn't let you, instead.</p>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74258954,"answer_count":1,"score":1,"last_activity_date":1667192873,"creation_date":1667192510,"question_id":74258923,"body_markdown":"I want to execute some method after lombok ```builder().build();```.\r\n\r\nBut I don&#39;t want to execute it manually like ```builder().build().someMethod();```\r\n\r\n```@SuperBuilder```&#39;s ```build()``` was different from ```@Builder```.\r\n\r\nHow can I customize it?\r\n\r\n```\r\n@SuperBuilder(buildMethodName = &quot;defaultBuild&quot;)\r\nclass Foo {\r\n    \r\n    ...\r\n\r\n    public static class FooBuilder {\r\n        public FooBuilder build() {\r\n            return defaultBuild().someMethod();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt works in ```@Builder``` but not in ```@SuperBuilder```.","title":"How can I customize lombok SuperBuilder&#39;s build method?","body":"<p>I want to execute some method after lombok <code>builder().build();</code>.</p>\n<p>But I don't want to execute it manually like <code>builder().build().someMethod();</code></p>\n<p><code>@SuperBuilder</code>'s <code>build()</code> was different from <code>@Builder</code>.</p>\n<p>How can I customize it?</p>\n<pre><code>@SuperBuilder(buildMethodName = &quot;defaultBuild&quot;)\nclass Foo {\n    \n    ...\n\n    public static class FooBuilder {\n        public FooBuilder build() {\n            return defaultBuild().someMethod();\n        }\n    }\n}\n</code></pre>\n<p>It works in <code>@Builder</code> but not in <code>@SuperBuilder</code>.</p>\n"},{"tags":["java","php","android","mysql","retrofit2"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":2,"creation_date":1667194040,"post_id":74258947,"comment_id":131104542,"body_markdown":"In MySQL there is no BOOLEAN datatype, it is an alias of TINYINT(1), and it does not provide any constraint to the value. https://dbfiddle.uk/pkUw5onV You may try to use `SELECT !!boolean_column ..` - maybe this will help. If not then you&#39;d define this column as numeric in your model.","body":"In MySQL there is no BOOLEAN datatype, it is an alias of TINYINT(1), and it does not provide any constraint to the value. <a href=\"https://dbfiddle.uk/pkUw5onV\" rel=\"nofollow noreferrer\">dbfiddle.uk/pkUw5onV</a> You may try to use <code>SELECT !!boolean_column ..</code> - maybe this will help. If not then you&#39;d define this column as numeric in your model."},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1667227410,"post_id":74258947,"comment_id":131114301,"body_markdown":"@Akina As I wrote, impossible to change type. And I already know there isn&#39;t boolean type in mysql. I didn&#39;t ask why it happens but how to do other way.","body":"@Akina As I wrote, impossible to change type. And I already know there isn&#39;t boolean type in mysql. I didn&#39;t ask why it happens but how to do other way."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1667233556,"post_id":74258947,"comment_id":131116629,"body_markdown":"*As I wrote, impossible to change type* In the model? you cannot alter in the database - this is clear.. but in your application you cannot do this too?","body":"<i>As I wrote, impossible to change type</i> In the model? you cannot alter in the database - this is clear.. but in your application you cannot do this too?"},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1667244580,"post_id":74258947,"comment_id":131120100,"body_markdown":"@Akina _&quot;I can&#39;t modify the type of the field in the java model.&quot;_ because it&#39;s linked to a local Room database too. I can&#39;t, and/or I don&#39;t want, to modify the model.","body":"@Akina <i>&quot;I can&#39;t modify the type of the field in the java model.&quot;</i> because it&#39;s linked to a local Room database too. I can&#39;t, and/or I don&#39;t want, to modify the model."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1667245791,"post_id":74258947,"comment_id":131120399,"body_markdown":"If you can do nothing then your problem seems to be not solvable...","body":"If you can do nothing then your problem seems to be not solvable..."},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1667257418,"post_id":74258947,"comment_id":131122880,"body_markdown":"Not really, I added a (dirty) solution, so no &quot;not solvable&quot;. Maybe someone else could have another idea. That&#39;s why I ask here... But not you, I understood.","body":"Not really, I added a (dirty) solution, so no &quot;not solvable&quot;. Maybe someone else could have another idea. That&#39;s why I ask here... But not you, I understood."}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667192778,"creation_date":1667192778,"question_id":74258947,"body_markdown":"I have a problem with retrofit in my android app (java) retrieving a boolean field from php/mysql webservice.\r\n\r\nIn my java model, I have a boolean field `selected`, declared as:\r\n\r\n    @SerializedName(&quot;selected&quot;)\r\n    @Expose\r\n    private boolean selected;\r\n\r\nIn my MySQL database, the field is declared as TINYINT\r\n\r\nWhen I upload my object, it is correctly saved in the database (0 or 1).\r\n\r\nBut when I want to download the same object, I get an error:\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\r\n&gt; Expected a boolean but was NUMBER at line 11 column 22 path\r\n&gt; $[0].selected\r\n\r\nphp code:\r\n\r\n    &lt;?php\r\n    \theader(&#39;content-type:application/json&#39;);\r\n    \tif (isset($_GET[&#39;deviceName&#39;]) &amp;&amp; $_GET[&#39;deviceName&#39;] != &quot;&quot;) {\r\n    \t\t$deviceName = $_GET[&#39;deviceName&#39;];\r\n    \t\t$sql = &quot;SELECT * FROM `ComList` WHERE deviceName = &#39;$deviceName&#39; ORDER BY clistId, ord, categOrd ASC;&quot;;\r\n    \r\n    \t\t$pdo_options[PDO::ATTR_ERRMODE] = PDO::ERRMODE_EXCEPTION;\r\n    \t\t$pdo_options[PDO::MYSQL_ATTR_INIT_COMMAND] = &#39;SET NAMES utf8&#39;;\r\n    \t\t$bdd = new PDO(&#39;mysql:host=localhost;dbname=bdd&#39;, &#39;user&#39;, &#39;password&#39;, $pdo_options);\r\n    \t\t$bdd-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\r\n    \t\t$bdd-&gt;setAttribute(PDO::ATTR_STRINGIFY_FETCHES, false);\r\n    \t\t$response = $bdd-&gt;query($sql);\r\n    \t\t$output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\r\n    \t\techo(json_encode($output, JSON_PRETTY_PRINT));\r\n    ?&gt;\r\n\r\nI can&#39;t modify the type of the field in the java model.\r\n\r\nAny idea please?\r\nSomething to modify in the SQL request?\r\nModify the output in PHP?\r\n\r\nThe only way I found that give a good result is:\r\n\r\n    $output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\r\n    $tab = array();\r\n    foreach($output AS $value) {\r\n        $value[&#39;selected&#39;] = $value[&#39;selected&#39;] ? true : false;\r\n        array_push($tab, $value);\r\n    }\r\n    echo(json_encode($tab, JSON_PRETTY_PRINT));\r\n\r\nBut I think it&#39;s such a dirty process.","title":"retrofit get boolean from mysql","body":"<p>I have a problem with retrofit in my android app (java) retrieving a boolean field from php/mysql webservice.</p>\n<p>In my java model, I have a boolean field <code>selected</code>, declared as:</p>\n<pre><code>@SerializedName(&quot;selected&quot;)\n@Expose\nprivate boolean selected;\n</code></pre>\n<p>In my MySQL database, the field is declared as TINYINT</p>\n<p>When I upload my object, it is correctly saved in the database (0 or 1).</p>\n<p>But when I want to download the same object, I get an error:</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\nExpected a boolean but was NUMBER at line 11 column 22 path\n$[0].selected</p>\n</blockquote>\n<p>php code:</p>\n<pre><code>&lt;?php\n    header('content-type:application/json');\n    if (isset($_GET['deviceName']) &amp;&amp; $_GET['deviceName'] != &quot;&quot;) {\n        $deviceName = $_GET['deviceName'];\n        $sql = &quot;SELECT * FROM `ComList` WHERE deviceName = '$deviceName' ORDER BY clistId, ord, categOrd ASC;&quot;;\n\n        $pdo_options[PDO::ATTR_ERRMODE] = PDO::ERRMODE_EXCEPTION;\n        $pdo_options[PDO::MYSQL_ATTR_INIT_COMMAND] = 'SET NAMES utf8';\n        $bdd = new PDO('mysql:host=localhost;dbname=bdd', 'user', 'password', $pdo_options);\n        $bdd-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n        $bdd-&gt;setAttribute(PDO::ATTR_STRINGIFY_FETCHES, false);\n        $response = $bdd-&gt;query($sql);\n        $output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\n        echo(json_encode($output, JSON_PRETTY_PRINT));\n?&gt;\n</code></pre>\n<p>I can't modify the type of the field in the java model.</p>\n<p>Any idea please?\nSomething to modify in the SQL request?\nModify the output in PHP?</p>\n<p>The only way I found that give a good result is:</p>\n<pre><code>$output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\n$tab = array();\nforeach($output AS $value) {\n    $value['selected'] = $value['selected'] ? true : false;\n    array_push($tab, $value);\n}\necho(json_encode($tab, JSON_PRETTY_PRINT));\n</code></pre>\n<p>But I think it's such a dirty process.</p>\n"},{"tags":["java","android","eclipse","automation","appium"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559549565,"creation_date":1559549565,"answer_id":56423425,"question_id":56420993,"body_markdown":"My expectation is that your [PATH][1] variable has `/usr/local/share/android-sdk/emulator/aapt` entry and it is resolved **before** your additions of the `ANDROID_HOME` variable. \r\n\r\nSo either [remove that Android SDK which lives under `/usr/local/share/android-sdk/`][2] from your operating system like:\r\n\r\n    brew cask uninstall android-sdk\r\n\r\nor amend your PATH variable definition so your &quot;good&quot; Android SDK installation goes **before** anything else like:\r\n\r\n    export PATH=$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:$PATH\r\n\r\nSee [Appium Java Code examples][3] for more information regarding proper setup of Appium environment. You might also want to check the integrity of the infrastructure setup using [`appium-doctor`][4]\r\n\r\n    appium-doctor --android\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/PATH_(variable)\r\n  [2]: https://stackoverflow.com/questions/26209083/where-does-homebrew-install-android-sdk\r\n  [3]: https://docs.experitest.com/display/TE/Java\r\n  [4]: https://www.npmjs.com/package/appium-doctor","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>My expectation is that your <a href=\"https://en.wikipedia.org/wiki/PATH_(variable)\" rel=\"nofollow noreferrer\">PATH</a> variable has <code>/usr/local/share/android-sdk/emulator/aapt</code> entry and it is resolved <strong>before</strong> your additions of the <code>ANDROID_HOME</code> variable. </p>\n\n<p>So either <a href=\"https://stackoverflow.com/questions/26209083/where-does-homebrew-install-android-sdk\">remove that Android SDK which lives under <code>/usr/local/share/android-sdk/</code></a> from your operating system like:</p>\n\n<pre><code>brew cask uninstall android-sdk\n</code></pre>\n\n<p>or amend your PATH variable definition so your \"good\" Android SDK installation goes <strong>before</strong> anything else like:</p>\n\n<pre><code>export PATH=$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:$PATH\n</code></pre>\n\n<p>See <a href=\"https://docs.experitest.com/display/TE/Java\" rel=\"nofollow noreferrer\">Appium Java Code examples</a> for more information regarding proper setup of Appium environment. You might also want to check the integrity of the infrastructure setup using <a href=\"https://www.npmjs.com/package/appium-doctor\" rel=\"nofollow noreferrer\"><code>appium-doctor</code></a></p>\n\n<pre><code>appium-doctor --android\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4037768,"reputation":1,"user_id":3321534,"display_name":"ST215"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584120443,"creation_date":1584120443,"answer_id":60674876,"question_id":56420993,"body_markdown":"I just struggled with on MacOS Catalina 10.15.3, Appium 1.10.1, Appium Doctor v.1.13.0 trying to set up Android with Appium.\r\n\r\nMake sure you are changing the correct file. You have 3 possible locations.\r\n\r\n**~/.bash_profile**\r\n\r\n**~/.profile**\r\n\r\n**~/.zshrc**\r\n\r\nI was editing my **~/.bash_profile** instead of **~/.zshrc** you can have a situation where you are setting the correct path but not in the right file.\r\n\r\nIf your trying to get going with Android Appium in Mac here is what I put in my **~/.zshrc** at the bottom\r\n\r\n    # Android Paths for Appium\r\n    export ANDROID_HOME=/Users/**PUT_YOUR_USER_NAME_HERE_WITHOUT_STARS**/Library/Android/sdk\r\n    export PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform_tools\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n    export PATH=${JAVA_HOME}/bin:$PATH\r\n\r\nAlso if you don&#39;t want to edit in a terminal-based editor use the following command to open the files in a text editor.\r\n\r\n`open -e .bash_profile`\r\n\r\n`open -e .zshrc`\r\n\r\n`open -e .profile`\r\n\r\nAfter editing do not forget to save.\r\n \r\nQuit your Terminal.\r\n\r\nRun `Appium_Doctor`\r\n\r\nThe following post helped me out a lot when setting up my Appium\r\n\r\n**appium-workshop/Appium Mac Installation Instructions**\r\n\r\nhttps://github.com/isonic1/appium-workshop/blob/master/Appium%20Mac%20Installation%20Instructions.md\r\n\r\n","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>I just struggled with on MacOS Catalina 10.15.3, Appium 1.10.1, Appium Doctor v.1.13.0 trying to set up Android with Appium.</p>\n\n<p>Make sure you are changing the correct file. You have 3 possible locations.</p>\n\n<p><strong>~/.bash_profile</strong></p>\n\n<p><strong>~/.profile</strong></p>\n\n<p><strong>~/.zshrc</strong></p>\n\n<p>I was editing my <strong>~/.bash_profile</strong> instead of <strong>~/.zshrc</strong> you can have a situation where you are setting the correct path but not in the right file.</p>\n\n<p>If your trying to get going with Android Appium in Mac here is what I put in my <strong>~/.zshrc</strong> at the bottom</p>\n\n<pre><code># Android Paths for Appium\nexport ANDROID_HOME=/Users/**PUT_YOUR_USER_NAME_HERE_WITHOUT_STARS**/Library/Android/sdk\nexport PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform_tools\nexport JAVA_HOME=$(/usr/libexec/java_home)\nexport PATH=${JAVA_HOME}/bin:$PATH\n</code></pre>\n\n<p>Also if you don't want to edit in a terminal-based editor use the following command to open the files in a text editor.</p>\n\n<p><code>open -e .bash_profile</code></p>\n\n<p><code>open -e .zshrc</code></p>\n\n<p><code>open -e .profile</code></p>\n\n<p>After editing do not forget to save.</p>\n\n<p>Quit your Terminal.</p>\n\n<p>Run <code>Appium_Doctor</code></p>\n\n<p>The following post helped me out a lot when setting up my Appium</p>\n\n<p><strong>appium-workshop/Appium Mac Installation Instructions</strong></p>\n\n<p><a href=\"https://github.com/isonic1/appium-workshop/blob/master/Appium%20Mac%20Installation%20Instructions.md\" rel=\"nofollow noreferrer\">https://github.com/isonic1/appium-workshop/blob/master/Appium%20Mac%20Installation%20Instructions.md</a></p>\n"},{"tags":[],"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667192429,"creation_date":1667192429,"answer_id":74258914,"question_id":56420993,"body_markdown":"If you have a system-wide eclipse installation, it usually won&#39;t read your environment variables from your `.bashrc` or `.bashprofile`, but from `/etc/environment`.\r\n\r\nIf you don&#39;t want to modify this file, or if it doesn&#39;t exist on a Mac, then you can always set the variables at a project level. This is done in the &quot;Environment&quot; tab of the configuration (run, debug, external tools,...) you&#39;re running within Eclipse, like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JxFrl.png","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>If you have a system-wide eclipse installation, it usually won't read your environment variables from your <code>.bashrc</code> or <code>.bashprofile</code>, but from <code>/etc/environment</code>.</p>\n<p>If you don't want to modify this file, or if it doesn't exist on a Mac, then you can always set the variables at a project level. This is done in the &quot;Environment&quot; tab of the configuration (run, debug, external tools,...) you're running within Eclipse, like this:</p>\n<p><a href=\"https://i.stack.imgur.com/JxFrl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JxFrl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3972689,"reputation":416,"user_id":3276822,"accept_rate":60,"display_name":"Sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667192429,"creation_date":1559534728,"question_id":56420993,"body_markdown":"I am currently trying to learn about Appium Automated Testing. Everything is setup perfectly on my Mac.\r\n\r\nAll my environmental variables are set up correctly :\r\n\r\n&gt; export ANDROID_HOME=/Users/abc/Library/Android/sdk\r\n&gt; \r\n&gt; export\r\n&gt; PATH=$PATH:$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools\r\n\r\n\r\nHowever when I run the eclipse program, eclipse throws an error saying:\r\n\r\n&gt; remote stacktrace: UnknownError: An unknown server-side error occurred\r\n&gt; while processing the command. Original error: Could not find &#39;aapt&#39; in\r\n&gt; [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;,&quot;/usr/local/share/android-sdk/emulator/aapt&quot;,&quot;/usr/local/share/android-sdk/tools/aapt&quot;,&quot;/usr/local/share/android-sdk/tools/bin/aapt&quot;].\r\n&gt; Do you have Android Build Tools installed at\r\n&gt; &#39;/usr/local/share/android-sdk&#39;?\r\n\r\nSo my question is why eclipse is looking for Android SDK tools in usr/local , my sdk tools are located in \r\n\r\n&gt; /Users/abc/Library/Android/sdk.\r\n\r\nHow can I tell eclipse to look for the appt,adb, etc in my User folder and not the admin usr folder.\r\n","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>I am currently trying to learn about Appium Automated Testing. Everything is setup perfectly on my Mac.</p>\n\n<p>All my environmental variables are set up correctly :</p>\n\n<blockquote>\n  <p>export ANDROID_HOME=/Users/abc/Library/Android/sdk</p>\n  \n  <p>export\n  PATH=$PATH:$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools</p>\n</blockquote>\n\n<p>However when I run the eclipse program, eclipse throws an error saying:</p>\n\n<blockquote>\n  <p>remote stacktrace: UnknownError: An unknown server-side error occurred\n  while processing the command. Original error: Could not find 'aapt' in\n  [\"/usr/local/share/android-sdk/platform-tools/aapt\",\"/usr/local/share/android-sdk/emulator/aapt\",\"/usr/local/share/android-sdk/tools/aapt\",\"/usr/local/share/android-sdk/tools/bin/aapt\"].\n  Do you have Android Build Tools installed at\n  '/usr/local/share/android-sdk'?</p>\n</blockquote>\n\n<p>So my question is why eclipse is looking for Android SDK tools in usr/local , my sdk tools are located in </p>\n\n<blockquote>\n  <p>/Users/abc/Library/Android/sdk.</p>\n</blockquote>\n\n<p>How can I tell eclipse to look for the appt,adb, etc in my User folder and not the admin usr folder.</p>\n"},{"tags":["java","swing","jbutton","setbounds"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1667189659,"post_id":74258672,"comment_id":131103919,"body_markdown":"`setLocation`/`setBounds` is ill advised.  See [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for a better starting point","body":"<code>setLocation</code>/<code>setBounds</code> is ill advised.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for a better starting point"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667192239,"creation_date":1667190194,"answer_id":74258730,"question_id":74258672,"body_markdown":"You need to use an appropriate [layout manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html), one that considers `setLocation` and `setBounds` &amp;ndash; or [not use a layout manager at all](https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html).\r\n\r\nI believe either [SpringLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html) or [GroupLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html) are appropriate.\r\n\r\nAlternatively, you could nest containers and use different layout managers. You would probably also need to manipulate the container sizes when nesting layouts.\r\n\r\nAlso note that after you change the location of a component within a container (after the GUI is displayed) you will probably need to call method [revalidate](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#revalidate()) and possibly, after that, to call method [repaint](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#repaint()).\r\n\r\nRegarding the code in your question. It looks like the method, whose code you posted, is from a class that extends [JFrame](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html). It is not necessary that your GUI application class extends `JFrame`.\r\n\r\nAlso from the code in your question:\r\n```java\r\nsetLayout(new BorderLayout());\r\n```\r\nThis is the [default](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html) so no need to explicitly set it.\r\n```java\r\nbackground.add(btnOk);\r\n```\r\nComponents such as `JButton` should be added to a container like `JPanel` and not to a `JLabel`. You can set a [background image](https://stackoverflow.com/questions/19125707/simplest-way-to-set-image-as-jpanel-background) on a `JPanel`.\r\n","title":"can&#39;t relocate a JButton object in a window","body":"<p>You need to use an appropriate <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout manager</a>, one that considers <code>setLocation</code> and <code>setBounds</code> – or <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html\" rel=\"nofollow noreferrer\">not use a layout manager at all</a>.</p>\n<p>I believe either <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">SpringLayout</a> or <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html\" rel=\"nofollow noreferrer\">GroupLayout</a> are appropriate.</p>\n<p>Alternatively, you could nest containers and use different layout managers. You would probably also need to manipulate the container sizes when nesting layouts.</p>\n<p>Also note that after you change the location of a component within a container (after the GUI is displayed) you will probably need to call method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#revalidate()\" rel=\"nofollow noreferrer\">revalidate</a> and possibly, after that, to call method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#repaint()\" rel=\"nofollow noreferrer\">repaint</a>.</p>\n<p>Regarding the code in your question. It looks like the method, whose code you posted, is from a class that extends <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">JFrame</a>. It is not necessary that your GUI application class extends <code>JFrame</code>.</p>\n<p>Also from the code in your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setLayout(new BorderLayout());\n</code></pre>\n<p>This is the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">default</a> so no need to explicitly set it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>background.add(btnOk);\n</code></pre>\n<p>Components such as <code>JButton</code> should be added to a container like <code>JPanel</code> and not to a <code>JLabel</code>. You can set a <a href=\"https://stackoverflow.com/questions/19125707/simplest-way-to-set-image-as-jpanel-background\">background image</a> on a <code>JPanel</code>.</p>\n"}],"owner":{"account_id":26781171,"reputation":3,"user_id":20375989,"display_name":"Hazzard_09"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74258730,"answer_count":1,"score":0,"last_activity_date":1667192239,"creation_date":1667189461,"question_id":74258672,"body_markdown":"I&#39;ve been trying to resize the button or to use the `setLocation` and `setBounds` methods. It doesn&#39;t matter whatever I put in the args the button just never changes.\r\nI need to learn to relocate whether a button, a label, a textfield, any component in the GUI.\r\n\r\nThanks in advance!\r\n\r\n    private void iniciarComponentes(){\r\n        setTitle(&quot;PARA QUE SIRVE&quot;);\r\n        setSize(1280,800);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(HIDE_ON_CLOSE);\r\n        getRootPane().setWindowDecorationStyle(JRootPane.NONE);\r\n        setUndecorated(true);\r\n        setVisible(true);\r\n        \r\n        setLayout(new BorderLayout());\r\n        JLabel background = new JLabel(new ImageIcon(&quot;C:\\\\...&quot;));\r\n        add(background);\r\n        background.setLayout(new FlowLayout());\r\n        JButton btnOk = new JButton(&quot;OK&quot;);\r\n        Dimension size = btnOk.getPreferredSize();\r\n        btnOk.setBounds(0,0, 10, 10);\r\n        btnOk.addActionListener(this);\r\n        background.add(btnOk);\r\n    }\r\n","title":"can&#39;t relocate a JButton object in a window","body":"<p>I've been trying to resize the button or to use the <code>setLocation</code> and <code>setBounds</code> methods. It doesn't matter whatever I put in the args the button just never changes.\nI need to learn to relocate whether a button, a label, a textfield, any component in the GUI.</p>\n<p>Thanks in advance!</p>\n<pre><code>private void iniciarComponentes(){\n    setTitle(&quot;PARA QUE SIRVE&quot;);\n    setSize(1280,800);\n    setLocationRelativeTo(null);\n    setDefaultCloseOperation(HIDE_ON_CLOSE);\n    getRootPane().setWindowDecorationStyle(JRootPane.NONE);\n    setUndecorated(true);\n    setVisible(true);\n    \n    setLayout(new BorderLayout());\n    JLabel background = new JLabel(new ImageIcon(&quot;C:\\\\...&quot;));\n    add(background);\n    background.setLayout(new FlowLayout());\n    JButton btnOk = new JButton(&quot;OK&quot;);\n    Dimension size = btnOk.getPreferredSize();\n    btnOk.setBounds(0,0, 10, 10);\n    btnOk.addActionListener(this);\n    background.add(btnOk);\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667139127,"post_id":74253749,"comment_id":131095101,"body_markdown":"You cannot keep calling `age()` you have to store the result to a value.","body":"You cannot keep calling <code>age()</code> you have to store the result to a value."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667139237,"post_id":74253749,"comment_id":131095123,"body_markdown":"That is total? `total()=total() -3` is broked. Again you should use an intermediate variable instead of calling the method again and again.","body":"That is total? <code>total()=total() -3</code> is broked. Again you should use an intermediate variable instead of calling the method again and again."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1667139349,"post_id":74253749,"comment_id":131095149,"body_markdown":"Hint: the semi-colon after each of your `if` statement conditions is the complete body for that if statement. Aside from anything else, you should remove those - e.g. the semi-colon in `if (age()&lt;=18);{`. There are various other things wrong though, such as method calls appearing between method declarations.","body":"Hint: the semi-colon after each of your <code>if</code> statement conditions is the complete body for that if statement. Aside from anything else, you should remove those - e.g. the semi-colon in <code>if (age()&lt;=18);{</code>. There are various other things wrong though, such as method calls appearing between method declarations."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667139708,"creation_date":1667139708,"answer_id":74253829,"question_id":74253749,"body_markdown":"First problem, don&#39;t write these isolated statements in the class body `yesornodisability();`, `age();` and `total();` . I doubt they compile. \r\n\r\nSecond store intermediate values. Since age() asks to input the age each time, it will be very inconvenient. Plus the user might enter different values.\r\n\r\n    int userAge = age();\r\n    int totalCost = total();\r\n    boolean disability = yesornodisability();\r\n\r\nI also made a variable for `total()` because you want to update the value, and a variable `yesornodisability()` so the question gets asked immediately.\r\n\r\nYour if statements have valid but incorrect syntax. You need to remove the semi-colons after them otherwise they won&#39;t have a body and the statement following will always be executed.\r\n\r\n","title":"How can I correct this code, so it can work?","body":"<p>First problem, don't write these isolated statements in the class body <code>yesornodisability();</code>, <code>age();</code> and <code>total();</code> . I doubt they compile.</p>\n<p>Second store intermediate values. Since age() asks to input the age each time, it will be very inconvenient. Plus the user might enter different values.</p>\n<pre><code>int userAge = age();\nint totalCost = total();\nboolean disability = yesornodisability();\n</code></pre>\n<p>I also made a variable for <code>total()</code> because you want to update the value, and a variable <code>yesornodisability()</code> so the question gets asked immediately.</p>\n<p>Your if statements have valid but incorrect syntax. You need to remove the semi-colons after them otherwise they won't have a body and the statement following will always be executed.</p>\n"},{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667191389,"creation_date":1667140796,"answer_id":74253988,"question_id":74253749,"body_markdown":"Consider calling your methods from within the `main` method and utilizing the **[BigDecimal][1]** class:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.Scanner;\r\n    \r\n    public class AnonymosDaAnimeViewersSwimmingPriceCalculator {\r\n    \r\n        private static final int MAX_YOUTH_AGE = 18;\r\n        private static final int MIN_SENIOR_CITIZEN_AGE = 65;\r\n        private static final BigDecimal BASE_SWIMMING_PRICE = BigDecimal.TEN;  // ₤10.\r\n        private static final BigDecimal YOUTH_DISCOUNT_PERCENT = BigDecimal.valueOf(0.5);  // 50%.\r\n        private static final BigDecimal SENIOR_CITIZEN_DISCOUNT_POUNDS = BigDecimal.valueOf(3);  // ₤3.\r\n        private static final BigDecimal DISABLED_DISCOUNT_POUNDS = BigDecimal.valueOf(4);  // ₤4.\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int age = getPositiveIntegerInput(&quot;How old are you? &quot;, scanner);\r\n            boolean isDisabled = getYesOrNoInput(&quot;Are you registered disabled (Yes/No)? &quot;, scanner);\r\n            BigDecimal actualSwimmingPrice = getSwimmingPrice(age, isDisabled);\r\n            System.out.printf(&quot;The swimming price for you is ₤%.2f pounds.%n&quot;, actualSwimmingPrice);\r\n        }\r\n    \r\n        public static BigDecimal getSwimmingPrice(int age, boolean isDisabled) {\r\n            BigDecimal actualSwimmingPrice = BASE_SWIMMING_PRICE;\r\n            if (age &lt;= MAX_YOUTH_AGE) {\r\n                actualSwimmingPrice = actualSwimmingPrice.multiply(YOUTH_DISCOUNT_PERCENT);\r\n            } else if (age &gt;= MIN_SENIOR_CITIZEN_AGE) {\r\n                actualSwimmingPrice = actualSwimmingPrice.subtract(SENIOR_CITIZEN_DISCOUNT_POUNDS);\r\n            }\r\n            if (isDisabled) {\r\n                actualSwimmingPrice = actualSwimmingPrice.subtract(DISABLED_DISCOUNT_POUNDS);\r\n            }\r\n            return actualSwimmingPrice;\r\n        }\r\n    \r\n        public static int getIntegerInput(String prompt, Scanner scanner) {\r\n            System.out.print(prompt);\r\n            int validInteger = -1;\r\n            while (scanner.hasNext()) {\r\n                if (scanner.hasNextInt()) {\r\n                    validInteger = scanner.nextInt();\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Error: Invalid input, must be integer, try again...&quot;);\r\n                    System.out.print(prompt);\r\n                    scanner.next();\r\n                }\r\n            }\r\n            return validInteger;\r\n        }\r\n    \r\n        public static int getPositiveIntegerInput(String prompt, Scanner scanner) {\r\n            int validInteger = getIntegerInput(prompt, scanner);\r\n            while (validInteger &lt;= 0) {\r\n                System.out.println(&quot;Error: Integer must be positive.&quot;);\r\n                validInteger = getIntegerInput(prompt, scanner);\r\n            }\r\n            return validInteger;\r\n        }\r\n    \r\n        public static boolean getYesOrNoInput(String prompt, Scanner scanner) {\r\n            System.out.print(prompt);\r\n            String input = scanner.nextLine().toLowerCase();\r\n            while (!input.equals(&quot;yes&quot;) &amp;&amp; !input.equals(&quot;no&quot;)) {\r\n                input = scanner.nextLine().toLowerCase();\r\n            }\r\n            return input.equals(&quot;yes&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n**Example Usage 1:**\r\n\r\n    How old are you? 25\r\n    Are you registered disabled (Yes/No)? No\r\n    The swimming price for you is ₤10.00 pounds.\r\n\r\n**Example Usage 2:**\r\n\r\n    How old are you? 18\r\n    Are you registered disabled (Yes/No)? Yes\r\n    The swimming price for you is ₤1.00 pounds.\r\n\r\n**Example Usage 3:**\r\n\r\n    How old are you? 67\r\n    Are you registered disabled (Yes/No)? YeS\r\n    The swimming price for you is ₤3.00 pounds.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\r\n","title":"How can I correct this code, so it can work?","body":"<p>Consider calling your methods from within the <code>main</code> method and utilizing the <strong><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></strong> class:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.Scanner;\n\npublic class AnonymosDaAnimeViewersSwimmingPriceCalculator {\n\n    private static final int MAX_YOUTH_AGE = 18;\n    private static final int MIN_SENIOR_CITIZEN_AGE = 65;\n    private static final BigDecimal BASE_SWIMMING_PRICE = BigDecimal.TEN;  // ₤10.\n    private static final BigDecimal YOUTH_DISCOUNT_PERCENT = BigDecimal.valueOf(0.5);  // 50%.\n    private static final BigDecimal SENIOR_CITIZEN_DISCOUNT_POUNDS = BigDecimal.valueOf(3);  // ₤3.\n    private static final BigDecimal DISABLED_DISCOUNT_POUNDS = BigDecimal.valueOf(4);  // ₤4.\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int age = getPositiveIntegerInput(&quot;How old are you? &quot;, scanner);\n        boolean isDisabled = getYesOrNoInput(&quot;Are you registered disabled (Yes/No)? &quot;, scanner);\n        BigDecimal actualSwimmingPrice = getSwimmingPrice(age, isDisabled);\n        System.out.printf(&quot;The swimming price for you is ₤%.2f pounds.%n&quot;, actualSwimmingPrice);\n    }\n\n    public static BigDecimal getSwimmingPrice(int age, boolean isDisabled) {\n        BigDecimal actualSwimmingPrice = BASE_SWIMMING_PRICE;\n        if (age &lt;= MAX_YOUTH_AGE) {\n            actualSwimmingPrice = actualSwimmingPrice.multiply(YOUTH_DISCOUNT_PERCENT);\n        } else if (age &gt;= MIN_SENIOR_CITIZEN_AGE) {\n            actualSwimmingPrice = actualSwimmingPrice.subtract(SENIOR_CITIZEN_DISCOUNT_POUNDS);\n        }\n        if (isDisabled) {\n            actualSwimmingPrice = actualSwimmingPrice.subtract(DISABLED_DISCOUNT_POUNDS);\n        }\n        return actualSwimmingPrice;\n    }\n\n    public static int getIntegerInput(String prompt, Scanner scanner) {\n        System.out.print(prompt);\n        int validInteger = -1;\n        while (scanner.hasNext()) {\n            if (scanner.hasNextInt()) {\n                validInteger = scanner.nextInt();\n                break;\n            } else {\n                System.out.println(&quot;Error: Invalid input, must be integer, try again...&quot;);\n                System.out.print(prompt);\n                scanner.next();\n            }\n        }\n        return validInteger;\n    }\n\n    public static int getPositiveIntegerInput(String prompt, Scanner scanner) {\n        int validInteger = getIntegerInput(prompt, scanner);\n        while (validInteger &lt;= 0) {\n            System.out.println(&quot;Error: Integer must be positive.&quot;);\n            validInteger = getIntegerInput(prompt, scanner);\n        }\n        return validInteger;\n    }\n\n    public static boolean getYesOrNoInput(String prompt, Scanner scanner) {\n        System.out.print(prompt);\n        String input = scanner.nextLine().toLowerCase();\n        while (!input.equals(&quot;yes&quot;) &amp;&amp; !input.equals(&quot;no&quot;)) {\n            input = scanner.nextLine().toLowerCase();\n        }\n        return input.equals(&quot;yes&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Example Usage 1:</strong></p>\n<pre><code>How old are you? 25\nAre you registered disabled (Yes/No)? No\nThe swimming price for you is ₤10.00 pounds.\n</code></pre>\n<p><strong>Example Usage 2:</strong></p>\n<pre><code>How old are you? 18\nAre you registered disabled (Yes/No)? Yes\nThe swimming price for you is ₤1.00 pounds.\n</code></pre>\n<p><strong>Example Usage 3:</strong></p>\n<pre><code>How old are you? 67\nAre you registered disabled (Yes/No)? YeS\nThe swimming price for you is ₤3.00 pounds.\n</code></pre>\n"}],"owner":{"account_id":20817037,"reputation":11,"user_id":20372133,"display_name":"Anonymos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1667141287,"answer_count":2,"score":-1,"last_activity_date":1667191389,"creation_date":1667138972,"question_id":74253749,"body_markdown":"```\r\nimport java.util.Scanner; // Needed to make Scanner available\r\n\r\npublic static int age()\r\n{\r\n    int age;\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;How old are you? &quot;);\r\n    age = Integer.parseInt(scanner.nextLine());\r\n    return age;\r\n}\r\n\r\nage();\r\n\r\npublic static void yesornodisability()\r\n{\r\n    String disabled;\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\r\n    disabled = scanner.nextLine();\r\n    return;\r\n}\r\n\r\nyesornodisability();\r\n\r\npublic static int total()\r\n{\r\n    int total;\r\n    total = 10;\r\n    return total;\r\n}\r\n\r\ntotal();\r\n\r\npublic static void swimmingprice()\r\n{\r\n    if (age()&lt;=18);{\r\n    total() = total()/2};\r\n    \r\n    else if (age()&gt;=65);{\r\n        total()=total()-3};\r\n    \r\n    else if (yesornodisability().equals(&quot;Yes&quot;);{\r\n        total() = total()-4};\r\n    \r\n    System.out.println(&quot;The swimming price for you is &quot;+total()+&quot; pounds.&quot;);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI am asking two sets of questions the first question is asking there age, second question is asking if they are registered disabled. Then using both results I put them in a if statement. As if they are younger than 18 they get 50% discount, if they are registered disable they get 4 pounds discount. My inputs are working, but when I put them in the if statement they are class it expected and else without if error.\r\n","title":"How can I correct this code, so it can work?","body":"<pre><code>import java.util.Scanner; // Needed to make Scanner available\n\npublic static int age()\n{\n    int age;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;How old are you? &quot;);\n    age = Integer.parseInt(scanner.nextLine());\n    return age;\n}\n\nage();\n\npublic static void yesornodisability()\n{\n    String disabled;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\n    disabled = scanner.nextLine();\n    return;\n}\n\nyesornodisability();\n\npublic static int total()\n{\n    int total;\n    total = 10;\n    return total;\n}\n\ntotal();\n\npublic static void swimmingprice()\n{\n    if (age()&lt;=18);{\n    total() = total()/2};\n    \n    else if (age()&gt;=65);{\n        total()=total()-3};\n    \n    else if (yesornodisability().equals(&quot;Yes&quot;);{\n        total() = total()-4};\n    \n    System.out.println(&quot;The swimming price for you is &quot;+total()+&quot; pounds.&quot;);\n}\n\n</code></pre>\n<p>I am asking two sets of questions the first question is asking there age, second question is asking if they are registered disabled. Then using both results I put them in a if statement. As if they are younger than 18 they get 50% discount, if they are registered disable they get 4 pounds discount. My inputs are working, but when I put them in the if statement they are class it expected and else without if error.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"score":0,"creation_date":1551459334,"post_id":43773840,"comment_id":96660969,"body_markdown":"FYI you could look into `Clear Site Data` header, you might find this answer useful https://stackoverflow.com/a/54949089/1225551","body":"FYI you could look into <code>Clear Site Data</code> header, you might find this answer useful <a href=\"https://stackoverflow.com/a/54949089/1225551\">stackoverflow.com/a/54949089/1225551</a>"}],"answers":[{"tags":[],"owner":{"account_id":4293398,"reputation":1061,"user_id":3509106,"display_name":"ThrawnCA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1493872471,"creation_date":1493872471,"answer_id":43773961,"question_id":43773840,"body_markdown":"You shouldn&#39;t need to delete the cookie. Once the session has closed on the server, the cookie can&#39;t be used anyway, and it will be replaced if the person returns. Just let it expire normally (by default, when the browser is closed).\r\n","title":"Spring security: Delete cookie for logout","body":"<p>You shouldn't need to delete the cookie. Once the session has closed on the server, the cookie can't be used anyway, and it will be replaced if the person returns. Just let it expire normally (by default, when the browser is closed).</p>\n"},{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493872784,"creation_date":1493872784,"answer_id":43774016,"question_id":43773840,"body_markdown":"Add `JSESSIONID` in the `.deleteCookies(&quot;auth_code&quot;, &quot;JSESSIONID&quot;)`.\r\n        \r\n    logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;auth_code&quot;, &quot;JSESSIONID&quot;).invalidateHttpSession(true)","title":"Spring security: Delete cookie for logout","body":"<p>Add <code>JSESSIONID</code> in the <code>.deleteCookies(\"auth_code\", \"JSESSIONID\")</code>.</p>\n\n<pre><code>logout().logoutUrl(\"/logout\").logoutSuccessUrl(\"/login\").deleteCookies(\"auth_code\", \"JSESSIONID\").invalidateHttpSession(true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4094017,"reputation":355,"user_id":3361311,"display_name":"Rashid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667191083,"creation_date":1616087622,"answer_id":66695895,"question_id":43773840,"body_markdown":"There can be different approaches to delete the cookies using spring security:\r\n\r\n1. You may add the following methods with logout in the spring security configure method.\r\n\r\n    `.logout()`\r\n\r\ndelete cookies method to delete the list of cookies separated by comma(,)\r\n\r\n    `.deleteCookies(&quot;JSESSIONID&quot;,&quot;remember-me&quot;)`\r\n\r\nClear all authentication\r\n\r\n    `.clearAuthentication(true)`\r\n\r\nand then invalidate the session object.\r\n\r\n    `.invalidateHttpSession(true)`\r\n\r\n\r\n2. Expire and remove the cookies explicitly and map that with `/logout` path.\r\n\r\n    `@RequestMapping(path = &quot;/logout&quot;, method = RequestMethod.GET)`\r\n    \r\n`private void removeCookies(HttpServletRequest request, HttpServletResponse response) {`\r\n\r\n     Cookie rememberMeCookie = new Cookie(&quot;remember-me&quot;, &quot;&quot;);\r\n\r\n     rememberMeCookie.setMaxAge(0);\r\n\r\n     response.addCookie(rememberMeCookie);\r\n\r\n     securityService.logoutCurrentUser();\r\n    \t}\r\n\r\n\r\nReference: [https://www.baeldung.com/java-servlet-cookies-session][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-servlet-cookies-session","title":"Spring security: Delete cookie for logout","body":"<p>There can be different approaches to delete the cookies using spring security:</p>\n<ol>\n<li><p>You may add the following methods with logout in the spring security configure method.</p>\n<p><code>.logout()</code></p>\n</li>\n</ol>\n<p>delete cookies method to delete the list of cookies separated by comma(,)</p>\n<pre><code>`.deleteCookies(&quot;JSESSIONID&quot;,&quot;remember-me&quot;)`\n</code></pre>\n<p>Clear all authentication</p>\n<pre><code>`.clearAuthentication(true)`\n</code></pre>\n<p>and then invalidate the session object.</p>\n<pre><code>`.invalidateHttpSession(true)`\n</code></pre>\n<ol start=\"2\">\n<li><p>Expire and remove the cookies explicitly and map that with <code>/logout</code> path.</p>\n<p><code>@RequestMapping(path = &quot;/logout&quot;, method = RequestMethod.GET)</code></p>\n</li>\n</ol>\n<p><code>private void removeCookies(HttpServletRequest request, HttpServletResponse response) {</code></p>\n<pre><code> Cookie rememberMeCookie = new Cookie(&quot;remember-me&quot;, &quot;&quot;);\n\n rememberMeCookie.setMaxAge(0);\n\n response.addCookie(rememberMeCookie);\n\n securityService.logoutCurrentUser();\n    }\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/java-servlet-cookies-session\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-servlet-cookies-session</a></p>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38077,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43773961,"answer_count":3,"score":3,"last_activity_date":1667191083,"creation_date":1493871772,"question_id":43773840,"body_markdown":"I use the following security configuration for my Spring boot app:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp\r\n    \t\t.csrf().disable()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/login&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/signup&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.anyRequest().authenticated()\r\n    \t\t.and()\r\n    \t\t\t.logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;auth_code&quot;).invalidateHttpSession(true)\r\n    \t\t.and()\r\n    \t\t// We filter the api/signup requests\r\n    \t\t.addFilterBefore(\r\n    \t\t\tnew JWTSignupFilter(&quot;/signup&quot;, authenticationManager(),\r\n    \t\t\t\t\taccountRepository, passwordEncoder),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class)\r\n    \t\t// We filter the api/login requests\r\n    \t\t.addFilterBefore(\r\n    \t\t\tnew JWTLoginFilter(&quot;/login&quot;, authenticationManager()),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class)\r\n    \t\t// And filter other requests to check the presence of JWT in\r\n    \t\t// header\r\n    \t\t.addFilterBefore(new JWTAuthenticationFilter(userDetailsServiceBean()),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class);\r\n    } \r\n\r\nWhen I do the logout, I want to delete the cookie which was set during the login. I use `deleteCookie`, but in the header there&#39;s no notion of deleting the cookie which was set during the login. Why ? \r\n\r\nHow should I tell the browser to delete the cookie ? \r\n\r\nRight now, the header for the response contains : \r\n\r\n    Set-Cookie →JSESSIONID=E4060381B435217F7D68EAAE82903BB0;path=/;Secure;HttpOnly\r\n\r\nShould I set the expiration time for the cookie to a date past the current date ?","title":"Spring security: Delete cookie for logout","body":"<p>I use the following security configuration for my Spring boot app:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .authorizeRequests()\n            .antMatchers(\"/login\").permitAll()\n        .and()\n        .authorizeRequests()\n            .antMatchers(\"/signup\").permitAll()\n        .and()\n        .authorizeRequests()\n            .anyRequest().authenticated()\n        .and()\n            .logout().logoutUrl(\"/logout\").logoutSuccessUrl(\"/login\").deleteCookies(\"auth_code\").invalidateHttpSession(true)\n        .and()\n        // We filter the api/signup requests\n        .addFilterBefore(\n            new JWTSignupFilter(\"/signup\", authenticationManager(),\n                    accountRepository, passwordEncoder),\n            UsernamePasswordAuthenticationFilter.class)\n        // We filter the api/login requests\n        .addFilterBefore(\n            new JWTLoginFilter(\"/login\", authenticationManager()),\n            UsernamePasswordAuthenticationFilter.class)\n        // And filter other requests to check the presence of JWT in\n        // header\n        .addFilterBefore(new JWTAuthenticationFilter(userDetailsServiceBean()),\n            UsernamePasswordAuthenticationFilter.class);\n} \n</code></pre>\n\n<p>When I do the logout, I want to delete the cookie which was set during the login. I use <code>deleteCookie</code>, but in the header there's no notion of deleting the cookie which was set during the login. Why ? </p>\n\n<p>How should I tell the browser to delete the cookie ? </p>\n\n<p>Right now, the header for the response contains : </p>\n\n<pre><code>Set-Cookie →JSESSIONID=E4060381B435217F7D68EAAE82903BB0;path=/;Secure;HttpOnly\n</code></pre>\n\n<p>Should I set the expiration time for the cookie to a date past the current date ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9072,"page":920,"page_size":100}
