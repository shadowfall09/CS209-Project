{"items":[{"tags":["java","scala","powershell","terminal","jvm"],"comments":[{"owner":{"account_id":19410276,"reputation":1735,"user_id":14194793,"display_name":"MFerguson"},"score":0,"creation_date":1637815687,"post_id":70105888,"comment_id":123928066,"body_markdown":"Does this answer your question? [Scala project won&#39;t compile in Eclipse; &quot;Could not find the main class.&quot;](https://stackoverflow.com/questions/3953468/scala-project-wont-compile-in-eclipse-could-not-find-the-main-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3953468/scala-project-wont-compile-in-eclipse-could-not-find-the-main-class\">Scala project won&#39;t compile in Eclipse; &quot;Could not find the main class.&quot;</a>"},{"owner":{"account_id":21792165,"reputation":182,"user_id":16092224,"display_name":"Gabriel Santana Paredes"},"score":0,"creation_date":1637882449,"post_id":70105888,"comment_id":123949480,"body_markdown":"@MFerguson not really. I&#39;m not trying to compile anything at all. I&#39;m just typing the command &quot;scala&quot; on the terminal, literally just that, I&#39;m not trying to run or compile any .scala file, just typing that command and presssing enter gives me that error :(","body":"@MFerguson not really. I&#39;m not trying to compile anything at all. I&#39;m just typing the command &quot;scala&quot; on the terminal, literally just that, I&#39;m not trying to run or compile any .scala file, just typing that command and presssing enter gives me that error :("}],"owner":{"account_id":21792165,"reputation":182,"user_id":16092224,"display_name":"Gabriel Santana Paredes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637815160,"creation_date":1637815160,"question_id":70105888,"body_markdown":"I just downloaded and installed Scala 3 from Coursier as the Scala main page suggested.\r\n\r\nThe problem is, each time I type the `scala` command on the terminal, an error show up saying the following:\r\n\r\n    Error: Could not find or load main class y\r\n    Caused by: java.lang.ClassNotFoundException: y\r\n\r\nI also tried to reinstall Java JDK 17 but it didn&#39;t work at all.\r\n\r\nThe command `scalac` does not work either.\r\n\r\nWhat am I doing wrong? I recently carried out the same process on another computer and it worked just fine.\r\n\r\nI look forward to any suggestions or answers you can give me, thank you very much!","title":"Error &quot;Could not find or load main class y&quot; when running &quot;scala&quot; command on terminal","body":"<p>I just downloaded and installed Scala 3 from Coursier as the Scala main page suggested.</p>\n<p>The problem is, each time I type the <code>scala</code> command on the terminal, an error show up saying the following:</p>\n<pre><code>Error: Could not find or load main class y\nCaused by: java.lang.ClassNotFoundException: y\n</code></pre>\n<p>I also tried to reinstall Java JDK 17 but it didn't work at all.</p>\n<p>The command <code>scalac</code> does not work either.</p>\n<p>What am I doing wrong? I recently carried out the same process on another computer and it worked just fine.</p>\n<p>I look forward to any suggestions or answers you can give me, thank you very much!</p>\n"},{"tags":["java","return"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637812432,"post_id":70105574,"comment_id":123927580,"body_markdown":"You&#39;ve declared your `QuadraticFormReturner` method as returning a `double`, so it has to return a `double`.","body":"You&#39;ve declared your <code>QuadraticFormReturner</code> method as returning a <code>double</code>, so it has to return a <code>double</code>."},{"owner":{"account_id":23132593,"reputation":1,"user_id":17237291,"display_name":"hello_world"},"score":0,"creation_date":1637812713,"post_id":70105574,"comment_id":123927629,"body_markdown":"@tgdavies Thank you! Here is one problem, how do I return the string and double?","body":"@tgdavies Thank you! Here is one problem, how do I return the string and double?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637812834,"post_id":70105574,"comment_id":123927651,"body_markdown":"If you want to return both, create a new class which has two fields, a String and a double, and return a new instance of that.","body":"If you want to return both, create a new class which has two fields, a String and a double, and return a new instance of that."}],"answers":[{"tags":[],"owner":{"account_id":22311434,"reputation":43,"user_id":16535368,"display_name":"Rahmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637815041,"creation_date":1637815041,"answer_id":70105874,"question_id":70105574,"body_markdown":"This is a basic syntax problem, you need to change the method to return **void** if you want to display the println, like this :\r\n\r\n    public void QuadraticFormReturner(){\r\n        d =(b*b)-(4*a*c);\r\n        if (d &lt; 0){\r\n            System.out.println(&quot;There are no real solutions for your inputs&quot;);\r\n        }\r\n        else{\r\n            System.out.println(&quot;Your X Value is: &quot; + d);\r\n\r\n        }\r\n    }\r\n\r\nAnd you need to put the d equation inside the method, so that this process can only run when the method is being called.","title":"I have a method to return all real values of a Quadratic formula. Why do I get a compatible conversion error from String to Double?","body":"<p>This is a basic syntax problem, you need to change the method to return <strong>void</strong> if you want to display the println, like this :</p>\n<pre><code>public void QuadraticFormReturner(){\n    d =(b*b)-(4*a*c);\n    if (d &lt; 0){\n        System.out.println(&quot;There are no real solutions for your inputs&quot;);\n    }\n    else{\n        System.out.println(&quot;Your X Value is: &quot; + d);\n\n    }\n}\n</code></pre>\n<p>And you need to put the d equation inside the method, so that this process can only run when the method is being called.</p>\n"}],"owner":{"account_id":23132593,"reputation":1,"user_id":17237291,"display_name":"hello_world"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637815041,"creation_date":1637811999,"question_id":70105574,"body_markdown":"I am working on a Java program and I am encountering a strange error with my method in Java.\r\n\r\nHere is what the block of code looks like:\r\n\r\n    public class Quadratic\r\n    {\r\n        private double a = 0;\r\n        private double b = 0;\r\n        private double c = 0;\r\n        private double d =(b*b)-(4*a*c);\r\n        \r\n                public double QuadraticFormReturner(){\r\n                    if (d &lt; 0){\r\n                        System.out.println(&quot;There are no real solutions for your inputs&quot;);\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Your X Value is: &quot; + d);\r\n    \r\n                    }\r\n                } // I experience a bug on this line. &quot;missing return statement&quot;\r\n    \r\n            public Quadratic(double Number1, double Number2, double Number3, double Number4)\r\n                {\r\n                    a = Number1;\r\n                    b = Number2;\r\n                    c = Number3;\r\n    \r\n        }\r\n    }\r\n\r\nWhen I noticed the bug, I added a return statement to return `&quot;Your X Value is: &quot;` and then print the value `d`. The strange thing is when I do that, I get this error: `&quot;incompatible types, cannot be converted from string to double&quot;`\r\n\r\nThis has me confused, I am not returning a double value but a string when a condition is met. Any advice is greatly appreciated.","title":"I have a method to return all real values of a Quadratic formula. Why do I get a compatible conversion error from String to Double?","body":"<p>I am working on a Java program and I am encountering a strange error with my method in Java.</p>\n<p>Here is what the block of code looks like:</p>\n<pre><code>public class Quadratic\n{\n    private double a = 0;\n    private double b = 0;\n    private double c = 0;\n    private double d =(b*b)-(4*a*c);\n    \n            public double QuadraticFormReturner(){\n                if (d &lt; 0){\n                    System.out.println(&quot;There are no real solutions for your inputs&quot;);\n                }\n                else{\n                    System.out.println(&quot;Your X Value is: &quot; + d);\n\n                }\n            } // I experience a bug on this line. &quot;missing return statement&quot;\n\n        public Quadratic(double Number1, double Number2, double Number3, double Number4)\n            {\n                a = Number1;\n                b = Number2;\n                c = Number3;\n\n    }\n}\n</code></pre>\n<p>When I noticed the bug, I added a return statement to return <code>&quot;Your X Value is: &quot;</code> and then print the value <code>d</code>. The strange thing is when I do that, I get this error: <code>&quot;incompatible types, cannot be converted from string to double&quot;</code></p>\n<p>This has me confused, I am not returning a double value but a string when a condition is met. Any advice is greatly appreciated.</p>\n"},{"tags":["java","jdbc","datasource","spring-jdbc","weblogic12c"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":1,"creation_date":1637826549,"post_id":70105746,"comment_id":123930550,"body_markdown":"Did you check that you datasource is correctly deployed in your server ? Check the JNDI tree in the admin console to see if the datasource is present or not.","body":"Did you check that you datasource is correctly deployed in your server ? Check the JNDI tree in the admin console to see if the datasource is present or not."}],"owner":{"account_id":22477125,"reputation":13,"user_id":16676692,"display_name":"daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637814795,"creation_date":1637813791,"question_id":70105746,"body_markdown":"I&#39;m using WebLogic 12.2.1.4, I have already created the datasource with the name &quot;jdbc/TESTDataSource but still getting the below error. Is there are any additional steps that I&#39;m missing here. Please help.\r\n\r\nCaused by: org.springframework.jdbc.datasource.lookup.DataSourceLookupFailureException: Failed to look up JNDI DataSource with name &#39;java:comp/env/jdbc/TESTDataSource&#39;; nested exception is javax.naming.NameNotFoundException: While trying to look up comp/env/jdbc/TESTDataSource in /app/webapp/TEST.war/1431676420.; remaining name &#39;comp/env/jdbc/TESTDataSource&#39;","title":"Getting error to failed to look up JNDI DataSource in WebLogic","body":"<p>I'm using WebLogic 12.2.1.4, I have already created the datasource with the name &quot;jdbc/TESTDataSource but still getting the below error. Is there are any additional steps that I'm missing here. Please help.</p>\n<p>Caused by: org.springframework.jdbc.datasource.lookup.DataSourceLookupFailureException: Failed to look up JNDI DataSource with name 'java:comp/env/jdbc/TESTDataSource'; nested exception is javax.naming.NameNotFoundException: While trying to look up comp/env/jdbc/TESTDataSource in /app/webapp/TEST.war/1431676420.; remaining name 'comp/env/jdbc/TESTDataSource'</p>\n"},{"tags":["java","object-oriented-analysis"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1637815025,"post_id":70105734,"comment_id":123927935,"body_markdown":"The [model-view-controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) pattern explains one way to create an application model using one or more plain java getter/setter classes.  Application design is often an iterative process.","body":"The <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> pattern explains one way to create an application model using one or more plain java getter/setter classes.  Application design is often an iterative process."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1637817375,"post_id":70105734,"comment_id":123928319,"body_markdown":"Global statics are awful for this reason, among others.  There is basically never a good reason to have mutable statics.","body":"Global statics are awful for this reason, among others.  There is basically never a good reason to have mutable statics."}],"owner":{"account_id":7176269,"reputation":9,"user_id":5482101,"display_name":"zezpwn44"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637813653,"creation_date":1637813653,"question_id":70105734,"body_markdown":"Getting back into programming after many years, and build a simple &quot;blackjack&quot; program in Java. \r\n\r\nI&#39;m wondering if the way I structured the methods/objects is bad, using global static variables. The program seems to work fine, but there&#39;s no way to implement a &quot;split&quot; method without re-writing everything, since you can&#39;t pass the new &quot;split&quot; hands into the &quot;hit&quot; or &quot;stand&quot; functions.\r\n\r\nI&#39;m curious how others would structure this and what the flaws in my methodology were. Thanks!\r\n\r\n___________________________\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class BlackJack {\r\n\t\r\n\tstatic int bankroll = 0;\r\n\tstatic int bet = 1;\r\n\tstatic int index = 0;\r\n\tstatic CardDeck d = new CardDeck();\r\n\tstatic ArrayList&lt;Card&gt; playerCards = new ArrayList&lt;Card&gt;();\r\n\tstatic ArrayList&lt;Card&gt; playerCards2 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\r\n\tstatic ArrayList&lt;Card&gt; playerCards3 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\r\n\tstatic ArrayList&lt;Card&gt; playerCards4 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\r\n\tstatic ArrayList&lt;Card&gt; playerCards5 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\r\n\tstatic ArrayList&lt;Card&gt; playerCards6 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\r\n\tstatic ArrayList&lt;Card&gt; dealerCards = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\r\n\tstatic int playerScore = 0;\r\n\tstatic int dealerScore = 0;\r\n\tstatic String action = &quot;&quot;;\r\n\tstatic Scanner s = new Scanner(System.in);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t    initializeBankroll();\r\n\t\t\r\n\t\twhile (bet != 0) {\r\n\t\t\t\r\n\t\t\tstartRound();\r\n\t\t\tdisplay();\r\n\t\t\tif(checkBlackJacks()) continue;\r\n\t\t\t\r\n\t\t\twhile (playerScore &lt;= 21) {\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;H - hit, S - stand, X - surrender, D - double down&quot;);\r\n\t\t\taction = s.nextLine();\r\n\t\t\tif (action.equals(&quot;H&quot;)) hit();\r\n\t\t\telse if (action.equals(&quot;S&quot;)) {\r\n\t\t\t\tstand();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if (action.equals(&quot;X&quot;)) surrender();\r\n\t\t\telse if (action.equals(&quot;D&quot;)) {\r\n\t\t\t\tdoubleDown();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\teval();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int score (ArrayList&lt;Card&gt; list) {\r\n\t\tint ret = 0;\r\n\t\tint acecounter = 0;\r\n\t\tfor (int i=0; i&lt;list.size(); i++) {\r\n\t\t\tif (list.get(i).getVal()&gt;1) {\r\n\t\t\t\tret += Math.min(10, list.get(i).getVal());\r\n\t\t\t}\r\n\t\t\telse { //An ace\r\n\t\t\t\tret += 11;\r\n\t\t\t\tacecounter++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\twhile(ret &gt;21 &amp;&amp; acecounter &gt;0) {\r\n\t\t\tret -= 10;\r\n\t\t\tacecounter -= 1;\r\n\t\t}\r\n\t\t\r\n\t\treturn ret;\r\n\t}\r\n\t\r\n\tpublic static void dealToPlayer() {\r\n\t\tplayerCards.add(d.getCard(index));\r\n\t\tindex++;\r\n\t}\r\n\t\r\n\tpublic static void dealToDealer() {\r\n\t\tdealerCards.add(d.getCard(index));\r\n\t\tindex++;\r\n\t}\r\n\t\r\n\tpublic static void display() {\r\n\t\tSystem.out.println(&quot;PLAYER CARDS:&quot;);\r\n\t\tString playerCardString = &quot;&quot;;\r\n\t\tfor (int i=0; i&lt;playerCards.size(); i++) {\r\n\t\t\tplayerCardString += playerCards.get(i).toString();\r\n\t\t\tplayerCardString += &quot; &quot;;\r\n\t\t}\r\n\t\tSystem.out.println(playerCardString);\r\n\t\tSystem.out.println(&quot;DEALER CARD:&quot;);\r\n\t\tSystem.out.println(dealerCards.get(0).toString());\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void hit() {\r\n\t\tdealToPlayer();\r\n\t\treScore();\r\n\t\tdisplay();\r\n\t}\r\n\t\r\n\tpublic static void surrender() {\r\n\t\tif(playerCards.size()&gt;2) {\r\n\t\t\tSystem.out.println(&quot;You can&#39;t do that&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tbankroll -= (bet / 2);\r\n\t\tplayerScore = 100; //surrender\r\n\t}\r\n\t\r\n\tpublic static void reScore() {\r\n\t\tplayerScore = score(playerCards);\r\n\t\tdealerScore = score(dealerCards);\r\n\t}\r\n\t\r\n\tpublic static void stand() {\r\n\t\ttry {\r\n\t\tSystem.out.println(&quot;DEALER DOWNCARD: &quot; + dealerCards.get(1).toString());\r\n\t\tThread.sleep(1000);\r\n\t\twhile (dealerScore &lt;17) {\r\n\t\t\tdealToDealer();\r\n\t\t\tSystem.out.println(dealerCards.get(dealerCards.size()-1).toString());\r\n\t\t\treScore(); \r\n\t\t\tSystem.out.println(&quot;DEALER SCORE &quot; + Integer.toString(dealerScore));\r\n\t\t\tThread.sleep(1000);\r\n\t\t}\r\n\t\t}catch(Exception E) {\r\n\t\t\tSystem.out.println(&quot;Exception&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void doubleDown() {\r\n\t\tif(playerCards.size()&gt;2) {\r\n\t\t\tSystem.out.println(&quot;You can&#39;t do that, hitting instead&quot;);\r\n\t\t\thit();\r\n\t\t\tif(playerScore&lt;=21) stand();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( bet * 2 &gt; bankroll) {\r\n\t\t\tSystem.out.println(&quot;Doubling for less...&quot;);\r\n\t\t\tbet = bankroll;\r\n\t\t\thit();\r\n\t\t\tif(playerScore&lt;=21) stand();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tbet *= 2;\r\n\t\thit();\r\n\t\tif(playerScore&lt;=21) stand();\r\n\t}\r\n\t\r\n\tpublic static void split(ArrayList&lt;Card&gt; splitarray, int splitcount) { //INCOMPLETE. How to get this to work?\r\n\t\tif(splitarray.size()&gt;2 || bet * (splitcount+1) &gt; bankroll || splitarray.get(1).getVal() != splitarray.get(0).getVal()) {\r\n\t\t\tSystem.out.println(&quot;Can&#39;t split. Hitting instead&quot;);\r\n\t\t\thit();\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;Card&gt; s1 = new ArrayList&lt;Card&gt;();\r\n\t\tArrayList&lt;Card&gt; s2 = new ArrayList&lt;Card&gt;();\r\n\t\ts1.add(splitarray.get(0));\r\n\t\ts2.add(splitarray.get(1));\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void eval() {\r\n\t\tif (playerScore==100) { //indicates a surrender, and bankroll has already been adjusted\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (playerScore&gt;21) {\r\n\t\t\tSystem.out.println(&quot;BUST&quot;);\r\n\t\t\tbankroll -= bet;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (dealerScore&gt;21) {\r\n\t\t\tSystem.out.println(&quot;DEALER BUST&quot;);\r\n\t\t\tbankroll += bet;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (playerScore &gt; dealerScore) {\r\n\t\t\tSystem.out.println(&quot;WIN&quot;);\r\n\t\t\tbankroll += bet;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (playerScore &lt; dealerScore) {\r\n\t\t\tSystem.out.println(&quot;LOSE&quot;);\r\n\t\t\tbankroll -= bet;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;PUSH&quot;);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tpublic static void newhand() {\r\n\t\td.shuffle();\r\n\t\tplayerCards.clear();\r\n\t\tdealerCards.clear();\r\n\t\tindex = 0;\r\n\t\treScore();\r\n\t}\r\n\t\r\n\tpublic static boolean checkBlackJacks() {\r\n\t\tif(playerScore == 21) {\r\n\t\t\tif(dealerCards.get(0).getVal()==1) {\r\n\t\t\t   System.out.println(&quot;Even money? Y / N&quot;);\r\n\t\t\t   String even = s.nextLine();\r\n\t\t\t   if (even==&quot;Y&quot;){\r\n\t\t\t\t\t   bankroll += bet;\r\n\t\t\t\t\t   newhand();\r\n\t\t\t\t\t   return true;\r\n\t\t\t   }\r\n\t\t\t}\r\n\t\t\tif(dealerScore != 21) {\r\n\t\t\t\tSystem.out.println(&quot;BlackJack&quot;);\r\n\t\t\t\tbankroll += (1.5 * bet);\r\n\t\t\t\tnewhand();\r\n\t\t\t\treturn true;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Push - Mutual Blackjack&quot;);\r\n\t\t\t\tnewhand();\r\n\t\t\t\treturn true;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif(dealerCards.get(0).getVal()==1) { //insurance\r\n\t\t\tSystem.out.println(&quot;Insurance? Type wager or 0, up to half your bet&quot;);\r\n\t\t\tint insuranceBet = s.nextInt();\r\n\t\t\tif (insuranceBet &gt; bankroll) insuranceBet = bankroll;\r\n\t\t\tif (insuranceBet &gt; (bet / 2)) insuranceBet = bet / 2;\r\n\t\t\tif (dealerScore == 21) bankroll += (insuranceBet * 2); \r\n\t\t\telse bankroll -= insuranceBet;\r\n\t\t}\r\n\t\t\r\n\t\tif(dealerScore==21) {\r\n\t\t\tSystem.out.println(&quot;Dealer Blackjack&quot;);\r\n\t\t\tbankroll -= bet;\r\n\t\t\tnewhand();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tpublic static void initializeBankroll() {\r\n\t\tSystem.out.println(&quot;Enter your buy-in&quot;);\r\n\t\tbankroll = s.nextInt();\r\n\t}\r\n\t\r\n\tpublic static void startRound() {\r\n\t\tnewhand();\r\n\t\tSystem.out.println(&quot;Money remaining:&quot; + Integer.toString(bankroll));\r\n\t\tSystem.out.println(&quot;Enter your bet&quot;);\r\n\t\tbet = s.nextInt();\r\n\t\tif (bet&gt;bankroll) bet=0;\r\n\t\t\r\n\t\tdealToPlayer();\r\n\t\tdealToDealer();\r\n\t\tdealToPlayer();\r\n\t\tdealToDealer();\r\n\t\treScore();\r\n\t}\r\n\r\n}\r\n___________________\r\n\r\n\r\npublic class Card {\r\n\t\r\n \tint val; //1 = Ace, 11 = Jack, 12 = Queen, 13 = King\r\n\tint suit; //1 = Club, 2 = Diamond, 3 = Heart, 4 = Spade\r\n\t\r\n\tpublic Card() {\r\n\t\tthis(1,1);\r\n\t}\r\n\t\r\n\tpublic Card(int val, int suit) {\r\n\t\tthis.val = val;\r\n\t\tthis.suit = suit;\r\n\t}\r\n\t\r\n\tpublic int getSuit(){\r\n\t\treturn suit;\r\n\t}\r\n\t\r\n\tpublic int getVal() {\r\n\t\treturn val;\r\n\t}\r\n\t\r\n\tpublic void setVal(int a) {\r\n\t\tif(a&gt;=1 &amp;&amp; a&lt;= 13) val = a;\r\n\t}\r\n\t\r\n\tpublic void setSuit(int a) {\r\n\t\tif (a&gt;=1 &amp;&amp; a&lt;=4) suit = a;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\tString valString = &quot;&quot;;\r\n\t\tString suitString = &quot;&quot;;\r\n\t\tString ret = &quot;&quot;;\r\n\t\t\r\n\t\tswitch(val) {\r\n\t\tcase 1: valString = &quot;A&quot;; break;\r\n\t\tcase 10: valString = &quot;T&quot;; break;\r\n\t\tcase 11: valString = &quot;J&quot;; break;\r\n\t\tcase 12: valString = &quot;Q&quot;; break;\r\n\t\tcase 13: valString = &quot;K&quot;; break;\r\n\t\tdefault: valString = Integer.toString(val);\r\n\t\t}\r\n\t\t\r\n\t\tswitch(suit) {\r\n\t\tcase 1: suitString = &quot;c&quot;; break;\r\n\t\tcase 2: suitString = &quot;d&quot;; break;\r\n\t\tcase 3: suitString = &quot;h&quot;; break;\r\n\t\tcase 4: suitString = &quot;s&quot;; break;\r\n\t\tdefault: suitString = &quot;ERROR&quot;; break;\r\n\t\t}\r\n\t\t\r\n\t\tret = valString + suitString;\r\n\t\treturn ret;\r\n\t\t\r\n\t}\r\n\r\n}\r\n______________________\r\n\r\npublic class CardDeck{\r\n  \r\n  Card[] deck;\r\n  \r\n  public CardDeck(){\r\n    int k=0;\r\n    deck = new Card[52];\r\n    for (int i=0; i&lt;13; i++){\r\n      for (int j=0; j&lt;4; j++){\r\n        Card c = new Card(i+1,j+1);\r\n        deck[k]=c;\r\n        k++;\r\n      } \r\n    }\r\n    shuffle();\r\n  }\r\n  \r\n  public void shuffle(){\r\n    \r\n    Card[] deckCopy = new Card[52];\r\n    boolean[] flags = new boolean[52];\r\n    for (int i=0; i&lt;flags.length; i++) flags[i]=false;\r\n    int numConverted=0;\r\n    \r\n    while(numConverted&lt;52){\r\n        int num = (int)(Math.random() * 52);\r\n        if (flags[num]==false){\r\n          deckCopy[numConverted]=deck[num];\r\n          numConverted++;\r\n          flags[num]=true;\r\n        }\r\n    }\r\n    deck = deckCopy;\r\n    \r\n  } //end shuffle\r\n  \r\n  public String toString() {\r\n\t  String ret = &quot;&quot;;\r\n\t  for (int i = 0; i&lt;deck.length; i++) {\r\n\t\t  ret += deck[i].toString();\r\n\t\t  ret += &quot; &quot;;\r\n\t  }\r\n\t  return ret;\r\n  }\r\n  \r\n  public Card getCard(int a) {\r\n\t  if (a&lt;0 || a &gt; 51) return null;\r\n\t  else return deck[a];\r\n  }\r\n  \r\n  public int getSuit(int a) {\r\n\t  if (a&lt;0 || a &gt; 51) return 0;\r\n\t  else return deck[a].getSuit();\r\n  }\r\n  \r\n  public int getVal(int a) {\r\n\t  if (a&lt;0 || a &gt; 51) return 0;\r\n\t  else return deck[a].getVal();\r\n  }\r\n  \r\n  \r\n  \r\n}\r\n```   \r\n  \r\n  ","title":"Build Blackjack program in Java, but &quot;split&quot; method would require rewriting whole program?","body":"<p>Getting back into programming after many years, and build a simple &quot;blackjack&quot; program in Java.</p>\n<p>I'm wondering if the way I structured the methods/objects is bad, using global static variables. The program seems to work fine, but there's no way to implement a &quot;split&quot; method without re-writing everything, since you can't pass the new &quot;split&quot; hands into the &quot;hit&quot; or &quot;stand&quot; functions.</p>\n<p>I'm curious how others would structure this and what the flaws in my methodology were. Thanks!</p>\n<hr />\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class BlackJack {\n    \n    static int bankroll = 0;\n    static int bet = 1;\n    static int index = 0;\n    static CardDeck d = new CardDeck();\n    static ArrayList&lt;Card&gt; playerCards = new ArrayList&lt;Card&gt;();\n    static ArrayList&lt;Card&gt; playerCards2 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\n    static ArrayList&lt;Card&gt; playerCards3 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\n    static ArrayList&lt;Card&gt; playerCards4 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\n    static ArrayList&lt;Card&gt; playerCards5 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\n    static ArrayList&lt;Card&gt; playerCards6 = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\n    static ArrayList&lt;Card&gt; dealerCards = new ArrayList&lt;Card&gt;(); //unused - was thinking of using for splitting\n    static int playerScore = 0;\n    static int dealerScore = 0;\n    static String action = &quot;&quot;;\n    static Scanner s = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        \n        \n        initializeBankroll();\n        \n        while (bet != 0) {\n            \n            startRound();\n            display();\n            if(checkBlackJacks()) continue;\n            \n            while (playerScore &lt;= 21) {\n                \n            System.out.println(&quot;H - hit, S - stand, X - surrender, D - double down&quot;);\n            action = s.nextLine();\n            if (action.equals(&quot;H&quot;)) hit();\n            else if (action.equals(&quot;S&quot;)) {\n                stand();\n                break;\n            }\n            else if (action.equals(&quot;X&quot;)) surrender();\n            else if (action.equals(&quot;D&quot;)) {\n                doubleDown();\n                break;\n            }\n            \n            }\n            \n            eval();\n        }\n    }\n    \n    public static int score (ArrayList&lt;Card&gt; list) {\n        int ret = 0;\n        int acecounter = 0;\n        for (int i=0; i&lt;list.size(); i++) {\n            if (list.get(i).getVal()&gt;1) {\n                ret += Math.min(10, list.get(i).getVal());\n            }\n            else { //An ace\n                ret += 11;\n                acecounter++;\n            }\n        }\n        \n        while(ret &gt;21 &amp;&amp; acecounter &gt;0) {\n            ret -= 10;\n            acecounter -= 1;\n        }\n        \n        return ret;\n    }\n    \n    public static void dealToPlayer() {\n        playerCards.add(d.getCard(index));\n        index++;\n    }\n    \n    public static void dealToDealer() {\n        dealerCards.add(d.getCard(index));\n        index++;\n    }\n    \n    public static void display() {\n        System.out.println(&quot;PLAYER CARDS:&quot;);\n        String playerCardString = &quot;&quot;;\n        for (int i=0; i&lt;playerCards.size(); i++) {\n            playerCardString += playerCards.get(i).toString();\n            playerCardString += &quot; &quot;;\n        }\n        System.out.println(playerCardString);\n        System.out.println(&quot;DEALER CARD:&quot;);\n        System.out.println(dealerCards.get(0).toString());\n        \n    }\n    \n    public static void hit() {\n        dealToPlayer();\n        reScore();\n        display();\n    }\n    \n    public static void surrender() {\n        if(playerCards.size()&gt;2) {\n            System.out.println(&quot;You can't do that&quot;);\n            return;\n        }\n        bankroll -= (bet / 2);\n        playerScore = 100; //surrender\n    }\n    \n    public static void reScore() {\n        playerScore = score(playerCards);\n        dealerScore = score(dealerCards);\n    }\n    \n    public static void stand() {\n        try {\n        System.out.println(&quot;DEALER DOWNCARD: &quot; + dealerCards.get(1).toString());\n        Thread.sleep(1000);\n        while (dealerScore &lt;17) {\n            dealToDealer();\n            System.out.println(dealerCards.get(dealerCards.size()-1).toString());\n            reScore(); \n            System.out.println(&quot;DEALER SCORE &quot; + Integer.toString(dealerScore));\n            Thread.sleep(1000);\n        }\n        }catch(Exception E) {\n            System.out.println(&quot;Exception&quot;);\n        }\n    }\n    \n    public static void doubleDown() {\n        if(playerCards.size()&gt;2) {\n            System.out.println(&quot;You can't do that, hitting instead&quot;);\n            hit();\n            if(playerScore&lt;=21) stand();\n            return;\n        }\n        if( bet * 2 &gt; bankroll) {\n            System.out.println(&quot;Doubling for less...&quot;);\n            bet = bankroll;\n            hit();\n            if(playerScore&lt;=21) stand();\n            return;\n        }\n        bet *= 2;\n        hit();\n        if(playerScore&lt;=21) stand();\n    }\n    \n    public static void split(ArrayList&lt;Card&gt; splitarray, int splitcount) { //INCOMPLETE. How to get this to work?\n        if(splitarray.size()&gt;2 || bet * (splitcount+1) &gt; bankroll || splitarray.get(1).getVal() != splitarray.get(0).getVal()) {\n            System.out.println(&quot;Can't split. Hitting instead&quot;);\n            hit();\n        }\n        \n        ArrayList&lt;Card&gt; s1 = new ArrayList&lt;Card&gt;();\n        ArrayList&lt;Card&gt; s2 = new ArrayList&lt;Card&gt;();\n        s1.add(splitarray.get(0));\n        s2.add(splitarray.get(1));\n        \n        \n        \n        \n    }\n    \n    public static void eval() {\n        if (playerScore==100) { //indicates a surrender, and bankroll has already been adjusted\n            return;\n        }\n        if (playerScore&gt;21) {\n            System.out.println(&quot;BUST&quot;);\n            bankroll -= bet;\n            return;\n        }\n        if (dealerScore&gt;21) {\n            System.out.println(&quot;DEALER BUST&quot;);\n            bankroll += bet;\n            return;\n        }\n        if (playerScore &gt; dealerScore) {\n            System.out.println(&quot;WIN&quot;);\n            bankroll += bet;\n            return;\n        }\n        if (playerScore &lt; dealerScore) {\n            System.out.println(&quot;LOSE&quot;);\n            bankroll -= bet;\n            return;\n        }\n        System.out.println(&quot;PUSH&quot;);\n        return;\n    }\n    \n    public static void newhand() {\n        d.shuffle();\n        playerCards.clear();\n        dealerCards.clear();\n        index = 0;\n        reScore();\n    }\n    \n    public static boolean checkBlackJacks() {\n        if(playerScore == 21) {\n            if(dealerCards.get(0).getVal()==1) {\n               System.out.println(&quot;Even money? Y / N&quot;);\n               String even = s.nextLine();\n               if (even==&quot;Y&quot;){\n                       bankroll += bet;\n                       newhand();\n                       return true;\n               }\n            }\n            if(dealerScore != 21) {\n                System.out.println(&quot;BlackJack&quot;);\n                bankroll += (1.5 * bet);\n                newhand();\n                return true;\n                \n            }\n            else {\n                System.out.println(&quot;Push - Mutual Blackjack&quot;);\n                newhand();\n                return true;\n                \n            }\n            \n        }\n        if(dealerCards.get(0).getVal()==1) { //insurance\n            System.out.println(&quot;Insurance? Type wager or 0, up to half your bet&quot;);\n            int insuranceBet = s.nextInt();\n            if (insuranceBet &gt; bankroll) insuranceBet = bankroll;\n            if (insuranceBet &gt; (bet / 2)) insuranceBet = bet / 2;\n            if (dealerScore == 21) bankroll += (insuranceBet * 2); \n            else bankroll -= insuranceBet;\n        }\n        \n        if(dealerScore==21) {\n            System.out.println(&quot;Dealer Blackjack&quot;);\n            bankroll -= bet;\n            newhand();\n            return true;\n        }\n        \n        \n        \n        \n        return false;\n    }\n    \n    public static void initializeBankroll() {\n        System.out.println(&quot;Enter your buy-in&quot;);\n        bankroll = s.nextInt();\n    }\n    \n    public static void startRound() {\n        newhand();\n        System.out.println(&quot;Money remaining:&quot; + Integer.toString(bankroll));\n        System.out.println(&quot;Enter your bet&quot;);\n        bet = s.nextInt();\n        if (bet&gt;bankroll) bet=0;\n        \n        dealToPlayer();\n        dealToDealer();\n        dealToPlayer();\n        dealToDealer();\n        reScore();\n    }\n\n}\n___________________\n\n\npublic class Card {\n    \n    int val; //1 = Ace, 11 = Jack, 12 = Queen, 13 = King\n    int suit; //1 = Club, 2 = Diamond, 3 = Heart, 4 = Spade\n    \n    public Card() {\n        this(1,1);\n    }\n    \n    public Card(int val, int suit) {\n        this.val = val;\n        this.suit = suit;\n    }\n    \n    public int getSuit(){\n        return suit;\n    }\n    \n    public int getVal() {\n        return val;\n    }\n    \n    public void setVal(int a) {\n        if(a&gt;=1 &amp;&amp; a&lt;= 13) val = a;\n    }\n    \n    public void setSuit(int a) {\n        if (a&gt;=1 &amp;&amp; a&lt;=4) suit = a;\n    }\n    \n    public String toString() {\n        String valString = &quot;&quot;;\n        String suitString = &quot;&quot;;\n        String ret = &quot;&quot;;\n        \n        switch(val) {\n        case 1: valString = &quot;A&quot;; break;\n        case 10: valString = &quot;T&quot;; break;\n        case 11: valString = &quot;J&quot;; break;\n        case 12: valString = &quot;Q&quot;; break;\n        case 13: valString = &quot;K&quot;; break;\n        default: valString = Integer.toString(val);\n        }\n        \n        switch(suit) {\n        case 1: suitString = &quot;c&quot;; break;\n        case 2: suitString = &quot;d&quot;; break;\n        case 3: suitString = &quot;h&quot;; break;\n        case 4: suitString = &quot;s&quot;; break;\n        default: suitString = &quot;ERROR&quot;; break;\n        }\n        \n        ret = valString + suitString;\n        return ret;\n        \n    }\n\n}\n______________________\n\npublic class CardDeck{\n  \n  Card[] deck;\n  \n  public CardDeck(){\n    int k=0;\n    deck = new Card[52];\n    for (int i=0; i&lt;13; i++){\n      for (int j=0; j&lt;4; j++){\n        Card c = new Card(i+1,j+1);\n        deck[k]=c;\n        k++;\n      } \n    }\n    shuffle();\n  }\n  \n  public void shuffle(){\n    \n    Card[] deckCopy = new Card[52];\n    boolean[] flags = new boolean[52];\n    for (int i=0; i&lt;flags.length; i++) flags[i]=false;\n    int numConverted=0;\n    \n    while(numConverted&lt;52){\n        int num = (int)(Math.random() * 52);\n        if (flags[num]==false){\n          deckCopy[numConverted]=deck[num];\n          numConverted++;\n          flags[num]=true;\n        }\n    }\n    deck = deckCopy;\n    \n  } //end shuffle\n  \n  public String toString() {\n      String ret = &quot;&quot;;\n      for (int i = 0; i&lt;deck.length; i++) {\n          ret += deck[i].toString();\n          ret += &quot; &quot;;\n      }\n      return ret;\n  }\n  \n  public Card getCard(int a) {\n      if (a&lt;0 || a &gt; 51) return null;\n      else return deck[a];\n  }\n  \n  public int getSuit(int a) {\n      if (a&lt;0 || a &gt; 51) return 0;\n      else return deck[a].getSuit();\n  }\n  \n  public int getVal(int a) {\n      if (a&lt;0 || a &gt; 51) return 0;\n      else return deck[a].getVal();\n  }\n  \n  \n  \n}\n</code></pre>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637733865,"post_id":70091315,"comment_id":123902337,"body_markdown":"`tbData` is declared in the while loop, so it&#39;s scope is only within the while loop.  Your sql will throw an error when you get this to compile.  Other `Interface` is not a good name for a Java Object.  `con` `pst` and `rst` are declared but never used.  Why have `getArray` as a `static` method and why bother to interface it?","body":"<code>tbData</code> is declared in the while loop, so it&#39;s scope is only within the while loop.  Your sql will throw an error when you get this to compile.  Other <code>Interface</code> is not a good name for a Java Object.  <code>con</code> <code>pst</code> and <code>rst</code> are declared but never used.  Why have <code>getArray</code> as a <code>static</code> method and why bother to interface it?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1637733989,"post_id":70091315,"comment_id":123902365,"body_markdown":"Connection, Statement and ResultSet are never closed. JOptionPane is used on server side to display error messages.","body":"Connection, Statement and ResultSet are never closed. JOptionPane is used on server side to display error messages."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637734089,"post_id":70091315,"comment_id":123902386,"body_markdown":"Refer to [Java doc for Scope of variables](https://stackoverflow.com/questions/39867972/java-doc-for-scope-of-variables)","body":"Refer to <a href=\"https://stackoverflow.com/questions/39867972/java-doc-for-scope-of-variables\">Java doc for Scope of variables</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637742383,"creation_date":1637741877,"answer_id":70092685,"question_id":70091315,"body_markdown":"Abstract methods in [remote interfaces][1] cannot be static, so you need to change the interface definition to the following.\r\n```java\r\npublic interface Interface extends java.rmi.Remote {\r\n    public String[] getArray() throws RemoteException;\r\n}\r\n```\r\nValues returned by remote methods must be [serializable][2]. Arrays in java are serializable, however arrays have a fixed size and since you are returning the result of a database query you cannot know the size. Hence I suggest that method `getArray` return an [ArrayList][3] or better yet, a [CachedRowSet][4].\r\n```java\r\npublic interface Interface extends Remote {\r\n    public CachedRowSet getArray() throws RemoteException;\r\n}\r\n```\r\n\r\nSince class `TheImplementation` is your RMI server class, it is probably better to [log][5] exceptions rather than display a `JOptionPane` and you should always log the [stack trace][6]. Note that remote methods must declare that they throw `RemoteException` in order to inform the RMI client that the remote method failed. Hence apart from logging the exception, method `getArray` can also throw a `RemoteException`.\r\n\r\nThe following code demonstrates.\r\n```java\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.server.UnicastRemoteObject;\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\nimport javax.sql.rowset.CachedRowSet;\r\nimport javax.sql.rowset.RowSetFactory;\r\nimport javax.sql.rowset.RowSetProvider;\r\n\r\npublic class TheImplementation extends UnicastRemoteObject implements Interface {\r\n\r\n    public TheImplementation() throws RemoteException {\r\n        super();\r\n    }\r\n\r\n    private static final long serialVersionUID = -3763231206310559L;\r\n\r\n    public CachedRowSet getArray() throws RemoteException {\r\n        try (Connection con = ConnectionProvider.getConnection();\r\n             Statement st = con.createStatement();\r\n             ResultSet rs = st.executeQuery(&quot;select * from details&quot;)) {\r\n            RowSetFactory factory = RowSetProvider.newFactory();\r\n            CachedRowSet fruitDetails = factory.createCachedRowSet();\r\n            fruitDetails.populate(rs);\r\n            return fruitDetails;\r\n        }\r\n        catch (SQLException e) {\r\n            throw new RemoteException(&quot;Method &#39;getArray()&#39; failed.&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\nNote that the above code also uses [try-with-resources][7] to ensure that the `ResultSet`, `Statement` and `Connection` are all closed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/rmi/designing.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/jdbc/basics/cachedrowset.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/core/java-logging-overview.html\r\n  [6]: https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\r\n  [7]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to fetch complete data from the database&#39;s table through RMI using the array method?","body":"<p>Abstract methods in <a href=\"https://docs.oracle.com/javase/tutorial/rmi/designing.html\" rel=\"nofollow noreferrer\">remote interfaces</a> cannot be static, so you need to change the interface definition to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Interface extends java.rmi.Remote {\n    public String[] getArray() throws RemoteException;\n}\n</code></pre>\n<p>Values returned by remote methods must be <a href=\"https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\" rel=\"nofollow noreferrer\">serializable</a>. Arrays in java are serializable, however arrays have a fixed size and since you are returning the result of a database query you cannot know the size. Hence I suggest that method <code>getArray</code> return an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> or better yet, a <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/cachedrowset.html\" rel=\"nofollow noreferrer\">CachedRowSet</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Interface extends Remote {\n    public CachedRowSet getArray() throws RemoteException;\n}\n</code></pre>\n<p>Since class <code>TheImplementation</code> is your RMI server class, it is probably better to <a href=\"https://docs.oracle.com/en/java/javase/11/core/java-logging-overview.html\" rel=\"nofollow noreferrer\">log</a> exceptions rather than display a <code>JOptionPane</code> and you should always log the <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">stack trace</a>. Note that remote methods must declare that they throw <code>RemoteException</code> in order to inform the RMI client that the remote method failed. Hence apart from logging the exception, method <code>getArray</code> can also throw a <code>RemoteException</code>.</p>\n<p>The following code demonstrates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.rmi.Remote;\nimport java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport javax.sql.rowset.CachedRowSet;\nimport javax.sql.rowset.RowSetFactory;\nimport javax.sql.rowset.RowSetProvider;\n\npublic class TheImplementation extends UnicastRemoteObject implements Interface {\n\n    public TheImplementation() throws RemoteException {\n        super();\n    }\n\n    private static final long serialVersionUID = -3763231206310559L;\n\n    public CachedRowSet getArray() throws RemoteException {\n        try (Connection con = ConnectionProvider.getConnection();\n             Statement st = con.createStatement();\n             ResultSet rs = st.executeQuery(&quot;select * from details&quot;)) {\n            RowSetFactory factory = RowSetProvider.newFactory();\n            CachedRowSet fruitDetails = factory.createCachedRowSet();\n            fruitDetails.populate(rs);\n            return fruitDetails;\n        }\n        catch (SQLException e) {\n            throw new RemoteException(&quot;Method 'getArray()' failed.&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Note that the above code also uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to ensure that the <code>ResultSet</code>, <code>Statement</code> and <code>Connection</code> are all closed.</p>\n"}],"owner":{"account_id":19522112,"reputation":13,"user_id":14283729,"display_name":"HelloNiceToMeetYou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70092685,"answer_count":1,"score":0,"last_activity_date":1637813587,"creation_date":1637733205,"question_id":70091315,"body_markdown":"I want to fetch complete data from the database&#39;s table through RMI. I used the array method in the Java interface and I have implemented that method in&#160; implementation class. My intention is to take the data in the array via implementation and show it via `JTable` on the client side. I have created a one-column table in the database. I have to get that whole data from that table to the client side.\r\n\r\nI have attached the coding that I did.\r\nI have commented the errors in the code section that I got.\r\n\r\n**interface** \r\n\r\n    public interface Interface extends Remote {\r\n         public static String[] getArray() throws Remote Exception; // Here it shows missing method \r\n                                                                   //  body or declare abstract\r\n    }\r\n\r\n**Implementation**\r\n\r\n    public class TheImplementation extends UnicastRemoteObject implements Interface{\r\n        \r\n        public TheImplementation()throws Remote Exception{\r\n            super();\r\n        }\r\n        \r\n        private static final long serialVersionUID = -3763231206310559L;\r\n        \r\n        Connection con;\r\n        PreparedStatement pst;\r\n        ResultSet rst;\r\n\r\n        public static String[] getArray() throws RemoteException{\r\n            String fruitdetails = null; \r\n            try {\r\n                Connection connection=ConnectionProvider.getConnection();\r\n                Statement st=connection.createStatement();\r\n                ResultSet rs=st.executeQuery(&quot;select *from details&quot;);\r\n                while(rs.next()) { \r\n                    fruitdetails= rs.getString(&quot;fruit&quot;);\r\n                    String tbData[]={fruitdetails};\r\n                }\r\n            }\r\n            catch (SQLException e) {\r\n                JOptionPane.showMessageDialog(null, e);\r\n            }\r\n            return tbData;// Here it shows error. Cannot find symbol.\r\n                               // I tried to declare array at top. But, It didn&#39;t work.\r\n        }\r\n    }\r\n\r\n","title":"How to fetch complete data from the database&#39;s table through RMI using the array method?","body":"<p>I want to fetch complete data from the database's table through RMI. I used the array method in the Java interface and I have implemented that method in implementation class. My intention is to take the data in the array via implementation and show it via <code>JTable</code> on the client side. I have created a one-column table in the database. I have to get that whole data from that table to the client side.</p>\n<p>I have attached the coding that I did.\nI have commented the errors in the code section that I got.</p>\n<p><strong>interface</strong></p>\n<pre><code>public interface Interface extends Remote {\n     public static String[] getArray() throws Remote Exception; // Here it shows missing method \n                                                               //  body or declare abstract\n}\n</code></pre>\n<p><strong>Implementation</strong></p>\n<pre><code>public class TheImplementation extends UnicastRemoteObject implements Interface{\n    \n    public TheImplementation()throws Remote Exception{\n        super();\n    }\n    \n    private static final long serialVersionUID = -3763231206310559L;\n    \n    Connection con;\n    PreparedStatement pst;\n    ResultSet rst;\n\n    public static String[] getArray() throws RemoteException{\n        String fruitdetails = null; \n        try {\n            Connection connection=ConnectionProvider.getConnection();\n            Statement st=connection.createStatement();\n            ResultSet rs=st.executeQuery(&quot;select *from details&quot;);\n            while(rs.next()) { \n                fruitdetails= rs.getString(&quot;fruit&quot;);\n                String tbData[]={fruitdetails};\n            }\n        }\n        catch (SQLException e) {\n            JOptionPane.showMessageDialog(null, e);\n        }\n        return tbData;// Here it shows error. Cannot find symbol.\n                           // I tried to declare array at top. But, It didn't work.\n    }\n}\n</code></pre>\n"},{"tags":["java","couchbase","jenkins-groovy","couchbase-java-api","couchbase-java-client"],"answers":[{"tags":[],"owner":{"account_id":21881516,"reputation":66,"user_id":16531148,"display_name":"Dmitrii Chechetkin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637686384,"creation_date":1637686384,"answer_id":70084749,"question_id":70083292,"body_markdown":"You could use the [cbq][1] tool together with `jq` to prepare a json file with an array of documents that can later be exported with `cbimport`:\r\n\r\n```\r\n./cbq -u Administrator -p password -e &quot;http://localhost:8091&quot; \\\r\n--script=&quot;SELECT * FROM \\`travel-sample\\`.inventory.airline LIMIT 1;&quot; -q | jq &#39;.results&#39; &gt; data.json \r\n```\r\n\r\nYou can then import the generated file using [cbimport][2] (`cbimport json`) with `--format=list`\r\n\r\n\r\n  [1]: https://docs.couchbase.com/server/current/tools/cbq-shell.html\r\n  [2]: https://docs.couchbase.com/server/current/tools/cbimport-json.html#dataset-formats","title":"Couchbase APIs, libraries or curl commands to copy data from one cluster to another","body":"<p>You could use the <a href=\"https://docs.couchbase.com/server/current/tools/cbq-shell.html\" rel=\"nofollow noreferrer\">cbq</a> tool together with <code>jq</code> to prepare a json file with an array of documents that can later be exported with <code>cbimport</code>:</p>\n<pre><code>./cbq -u Administrator -p password -e &quot;http://localhost:8091&quot; \\\n--script=&quot;SELECT * FROM \\`travel-sample\\`.inventory.airline LIMIT 1;&quot; -q | jq '.results' &gt; data.json \n</code></pre>\n<p>You can then import the generated file using <a href=\"https://docs.couchbase.com/server/current/tools/cbimport-json.html#dataset-formats\" rel=\"nofollow noreferrer\">cbimport</a> (<code>cbimport json</code>) with <code>--format=list</code></p>\n"},{"tags":[],"owner":{"account_id":17214508,"reputation":151,"user_id":12462885,"display_name":"Udit Jindal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637813547,"creation_date":1637813547,"answer_id":70105720,"question_id":70083292,"body_markdown":"It is possible to use [available SDKs][1]. You will need to write a script/program and follow the steps:\r\n\r\n```\r\n - Make two DB connections. \r\n - 1st connection to read from the source cluster. Pull data.\r\n - Open 2nd connection to the destination cluster and save the results.\r\n```\r\n\r\nHowever, copying data this way can have a number of complexities, like conflict-resolution, stale data read, CAS mismatch errors, memory overflow etc.\r\n\r\nI would like to suggest an alternate approach here. You can use existing [CB Replication mechanism(XDCR)][2]. It is quite stable and robust.\r\n\r\nYou can try out this approach:\r\n```\r\n - Run N1QL query and store the results in a new bucket(source cluster).\r\n - Use CB&#39;s replication machanism(XDCR) to replicate the new bucket between the source and destination cluster.\r\n```\r\n\r\nThis way you will only need to write a script to run the N1QL and generate docs in a new bucket. All the replication/sync will be handled by CB itself.\r\n\r\n  [1]: https://docs.couchbase.com/server/current/sdk/overview.html\r\n  [2]: https://docs.couchbase.com/server/current/learn/clusters-and-availability/xdcr-overview.html","title":"Couchbase APIs, libraries or curl commands to copy data from one cluster to another","body":"<p>It is possible to use <a href=\"https://docs.couchbase.com/server/current/sdk/overview.html\" rel=\"nofollow noreferrer\">available SDKs</a>. You will need to write a script/program and follow the steps:</p>\n<pre><code> - Make two DB connections. \n - 1st connection to read from the source cluster. Pull data.\n - Open 2nd connection to the destination cluster and save the results.\n</code></pre>\n<p>However, copying data this way can have a number of complexities, like conflict-resolution, stale data read, CAS mismatch errors, memory overflow etc.</p>\n<p>I would like to suggest an alternate approach here. You can use existing <a href=\"https://docs.couchbase.com/server/current/learn/clusters-and-availability/xdcr-overview.html\" rel=\"nofollow noreferrer\">CB Replication mechanism(XDCR)</a>. It is quite stable and robust.</p>\n<p>You can try out this approach:</p>\n<pre><code> - Run N1QL query and store the results in a new bucket(source cluster).\n - Use CB's replication machanism(XDCR) to replicate the new bucket between the source and destination cluster.\n</code></pre>\n<p>This way you will only need to write a script to run the N1QL and generate docs in a new bucket. All the replication/sync will be handled by CB itself.</p>\n"}],"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70084749,"answer_count":2,"score":1,"last_activity_date":1637813547,"creation_date":1637680374,"question_id":70083292,"body_markdown":"I want to copy my data from one cluster of Couchbase to another cluster either via **curl commands** or **using SDK libraries**. Could someone please let me know if is there any libraries/APIs available by which I can be do this.\r\n\r\nWe need to copy the data based on some queries from one cluster to another cluster on same bucket(Source and target bucket name is same). We are looking for solution which we can adopt to copy our data based on some complex query that can be copied to another cluster for availability purpose, debug purpose. We want to do it via **SDK libraries** or some **script which we can run in Jenkins pipeline** etc. ","title":"Couchbase APIs, libraries or curl commands to copy data from one cluster to another","body":"<p>I want to copy my data from one cluster of Couchbase to another cluster either via <strong>curl commands</strong> or <strong>using SDK libraries</strong>. Could someone please let me know if is there any libraries/APIs available by which I can be do this.</p>\n<p>We need to copy the data based on some queries from one cluster to another cluster on same bucket(Source and target bucket name is same). We are looking for solution which we can adopt to copy our data based on some complex query that can be copied to another cluster for availability purpose, debug purpose. We want to do it via <strong>SDK libraries</strong> or some <strong>script which we can run in Jenkins pipeline</strong> etc.</p>\n"},{"tags":["java","spring","spring-mvc","servlets"],"comments":[{"owner":{"account_id":21002251,"reputation":94,"user_id":15432808,"display_name":"Sourabh Kundu"},"score":0,"creation_date":1637823610,"post_id":70105685,"comment_id":123929654,"body_markdown":"try to reload all the dependencies again, that might help you.","body":"try to reload all the dependencies again, that might help you."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637825076,"post_id":70105685,"comment_id":123930054,"body_markdown":"Tomcat10 is JakartaEE not JavaEE and Spring (Boot) isn&#39;t compatible with JakartaEE yet. Use Tomcat 9 (which is the same as Tomcat10 but JavaEE instead of JakartaEE).","body":"Tomcat10 is JakartaEE not JavaEE and Spring (Boot) isn&#39;t compatible with JakartaEE yet. Use Tomcat 9 (which is the same as Tomcat10 but JavaEE instead of JakartaEE)."},{"owner":{"account_id":21872404,"reputation":49,"user_id":16161750,"display_name":"sumit"},"score":0,"creation_date":1637842642,"post_id":70105685,"comment_id":123936757,"body_markdown":"@M.Deinum Thanks! I wasn&#39;t aware about that. Working now.","body":"@M.Deinum Thanks! I wasn&#39;t aware about that. Working now."}],"owner":{"account_id":21872404,"reputation":49,"user_id":16161750,"display_name":"sumit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637825128,"answer_count":0,"score":0,"last_activity_date":1637813124,"creation_date":1637813124,"question_id":70105685,"body_markdown":"I am trying to set up a simple Spring MVC Maven project with `WebApplicationInitializer`, but when I deploy the project on Tomcat 10, the `WebApplicationInitializer` is not getting loaded, it is not coming up in logs and not getting called.\r\n\r\n**pom.xml file**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.springmvc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mvc-app&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;mvc-app Maven Webapp&lt;/name&gt;\r\n    \t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    \t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;mvc-app&lt;/finalName&gt;\r\n    \t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \r\n    \t\t\t\tdefaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n**Initializer**\r\n\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletException;\r\n    import org.springframework.web.WebApplicationInitializer;\r\n    \r\n    public class AppInitializer implements WebApplicationInitializer {\r\n    \r\n    \tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n    \t\tSystem.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;test&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n    \t}\r\n    }\r\n\r\n**Tomcat Logs**\r\n\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version name:   Apache Tomcat/10.0.13\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          Nov 9 2021 22:12:58 UTC\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version number: 10.0.13.0\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Windows 10\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            10.0\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          amd64\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             C:\\Users\\sk464\\Downloads\\eclipse-jee-2021-03-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.1.v20210528-1205\\jre\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           16.0.1+9-24\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         C:\\apache-tomcat-10.0.13\r\n    Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         C:\\apache-tomcat-10.0.13\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=C:\\apache-tomcat-10.0.13\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=C:\\apache-tomcat-10.0.13\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dwtp.deploy=C:\\apache-tomcat-10.0.13\\webapps\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dfile.encoding=Cp1252\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -XX:+ShowCodeDetailsInExceptionMessages\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.core.AprLifecycleListener initializeSSL\r\n    INFO: OpenSSL successfully initialized [OpenSSL 1.1.1l  24 Aug 2021]\r\n    Nov 25, 2021 9:13:09 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.startup.Catalina load\r\n    INFO: Server initialization in [1238] milliseconds\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Catalina]\r\n    Nov 25, 2021 9:13:09 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet engine: [Apache Tomcat/10.0.13]\r\n    Nov 25, 2021 9:13:11 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\docs]\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\docs] has finished in [28] ms\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\examples]\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: ContextListener: contextInitialized()\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: SessionListener: contextInitialized()\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: ContextListener: attributeAdded(&#39;StockTicker&#39;, &#39;async.Stockticker@35f7969d&#39;)\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\examples] has finished in [373] ms\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\host-manager]\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\host-manager] has finished in [45] ms\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\manager]\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\manager] has finished in [39] ms\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\ROOT]\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\ROOT] has finished in [27] ms\r\n    Nov 25, 2021 9:13:11 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Nov 25, 2021 9:13:11 AM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in [2103] milliseconds\r\n\r\n\r\n**Project Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Tomcat Settings**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wxZ5P.png\r\n  [2]: https://i.stack.imgur.com/9UcjE.png\r\n\r\nWhat am I doing wrong here?\r\n\r\nThanks for your help.","title":"Tomcat 10 is not locating WebApplicationInitializer in Spring MVC Maven project at startup","body":"<p>I am trying to set up a simple Spring MVC Maven project with <code>WebApplicationInitializer</code>, but when I deploy the project on Tomcat 10, the <code>WebApplicationInitializer</code> is not getting loaded, it is not coming up in logs and not getting called.</p>\n<p><strong>pom.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.springmvc&lt;/groupId&gt;\n    &lt;artifactId&gt;mvc-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;mvc-app Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.12&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;mvc-app&lt;/finalName&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \n                defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Initializer</strong></p>\n<pre><code>import javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport org.springframework.web.WebApplicationInitializer;\n\npublic class AppInitializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;test&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n    }\n}\n</code></pre>\n<p><strong>Tomcat Logs</strong></p>\n<pre><code>Nov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version name:   Apache Tomcat/10.0.13\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server built:          Nov 9 2021 22:12:58 UTC\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version number: 10.0.13.0\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Name:               Windows 10\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Version:            10.0\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Architecture:          amd64\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Java Home:             C:\\Users\\sk464\\Downloads\\eclipse-jee-2021-03-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.1.v20210528-1205\\jre\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Version:           16.0.1+9-24\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Vendor:            Oracle Corporation\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_BASE:         C:\\apache-tomcat-10.0.13\nNov 25, 2021 9:13:08 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_HOME:         C:\\apache-tomcat-10.0.13\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.base=C:\\apache-tomcat-10.0.13\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.home=C:\\apache-tomcat-10.0.13\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dwtp.deploy=C:\\apache-tomcat-10.0.13\\webapps\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dfile.encoding=Cp1252\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -XX:+ShowCodeDetailsInExceptionMessages\nNov 25, 2021 9:13:09 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\nNov 25, 2021 9:13:09 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\nNov 25, 2021 9:13:09 AM org.apache.catalina.core.AprLifecycleListener initializeSSL\nINFO: OpenSSL successfully initialized [OpenSSL 1.1.1l  24 Aug 2021]\nNov 25, 2021 9:13:09 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nNov 25, 2021 9:13:09 AM org.apache.catalina.startup.Catalina load\nINFO: Server initialization in [1238] milliseconds\nNov 25, 2021 9:13:09 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Catalina]\nNov 25, 2021 9:13:09 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/10.0.13]\nNov 25, 2021 9:13:11 AM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\docs]\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\docs] has finished in [28] ms\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\examples]\nNov 25, 2021 9:13:11 AM org.apache.catalina.core.ApplicationContext log\nINFO: ContextListener: contextInitialized()\nNov 25, 2021 9:13:11 AM org.apache.catalina.core.ApplicationContext log\nINFO: SessionListener: contextInitialized()\nNov 25, 2021 9:13:11 AM org.apache.catalina.core.ApplicationContext log\nINFO: ContextListener: attributeAdded('StockTicker', 'async.Stockticker@35f7969d')\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\examples] has finished in [373] ms\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\host-manager]\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\host-manager] has finished in [45] ms\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\manager]\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\manager] has finished in [39] ms\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory [C:\\apache-tomcat-10.0.13\\webapps\\ROOT]\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deployment of web application directory [C:\\apache-tomcat-10.0.13\\webapps\\ROOT] has finished in [27] ms\nNov 25, 2021 9:13:11 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nNov 25, 2021 9:13:11 AM org.apache.catalina.startup.Catalina start\nINFO: Server startup in [2103] milliseconds\n</code></pre>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wxZ5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxZ5P.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Tomcat Settings</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9UcjE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9UcjE.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong here?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","jvm","concatenation","javac","string-concatenation"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1572792402,"post_id":58681265,"comment_id":103662180,"body_markdown":"Why would you want to turn it off?","body":"Why would you want to turn it off?"},{"owner":{"account_id":13268498,"reputation":333,"user_id":10039586,"display_name":" "},"score":0,"creation_date":1572792708,"post_id":58681265,"comment_id":103662279,"body_markdown":"Because I have to remove all runtime classes generation from our java fork.\nIt is because of our anticheat. We really don&#39;t have any other ways.","body":"Because I have to remove all runtime classes generation from our java fork. It is because of our anticheat. We really don&#39;t have any other ways."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":2,"creation_date":1572793151,"post_id":58681265,"comment_id":103662395,"body_markdown":"I guess you are referring to this change: [jep280](https://openjdk.java.net/jeps/280)","body":"I guess you are referring to this change: <a href=\"https://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">jep280</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1573031747,"post_id":58681265,"comment_id":103744583,"body_markdown":"@ so youre also removing all JDK internal uses of lambda expressions, method references,  Reflection, and `Proxy`? No access to annotations allowed? Even the XML parsers/XSLT processors use runtime class generation and who knows what else uses it as well.","body":"@ so youre also removing all JDK internal uses of lambda expressions, method references,  Reflection, and <code>Proxy</code>? No access to annotations allowed? Even the XML parsers/XSLT processors use runtime class generation and who knows what else uses it as well."},{"owner":{"account_id":13268498,"reputation":333,"user_id":10039586,"display_name":" "},"score":0,"creation_date":1573044340,"post_id":58681265,"comment_id":103751482,"body_markdown":"I generate Proxies and Lambdas at compile time. So we have no got problems with annotations and lambdas.\nReflection generates classes only after 5 calls to method so I just removed this functionality. But I generate accessors for some hardcoded methods.\nAnd about XML. We just don&#39;t use XML parsers.","body":"I generate Proxies and Lambdas at compile time. So we have no got problems with annotations and lambdas. Reflection generates classes only after 5 calls to method so I just removed this functionality. But I generate accessors for some hardcoded methods. And about XML. We just don&#39;t use XML parsers."}],"answers":[{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1580240602,"creation_date":1572795306,"answer_id":58681713,"question_id":58681265,"body_markdown":"There are two parts to the string concatenation feature.\r\n\r\n1.\t**At runtime**\r\n\r\n\tIn Java 9+, at runtime, String concatenation is controlled by the `StringConcatFactory` class ([javadoc][1]). That&#39;s because `javac` generates `invokedynamic` bytecode to `StringConcatFactory::makeConcat` wherever String concatenation is needed.\r\n\r\n\t`StringConcatFactory` defines several strategies for **runtime** concatenation  in the form of a `Strategy` enum ([source code][2]).\r\n\r\n\tYou can change the default strategy from the command line by setting `-Djava.lang.invoke.stringConcat`\r\n\r\n\tTo get the Java-8 behavior at runtime, you need to set it to `BC_SB`, which stands for &quot;Bytecode, StringBuilder&quot;\r\n\r\n\tHere are the other values, for completeness:\r\n\r\n\r\n\t\t/**\r\n\t\t * Bytecode generator, calling into {@link java.lang.StringBuilder}.\r\n\t\t */\r\n\t\tBC_SB,\r\n\r\n\t\t/**\r\n\t\t * Bytecode generator, calling into {@link java.lang.StringBuilder};\r\n\t\t * but trying to estimate the required storage.\r\n\t\t */\r\n\t\tBC_SB_SIZED,\r\n\r\n\t\t/**\r\n\t\t * Bytecode generator, calling into {@link java.lang.StringBuilder};\r\n\t\t * but computing the required storage exactly.\r\n\t\t */\r\n\t\tBC_SB_SIZED_EXACT,\r\n\r\n\t\t/**\r\n\t\t * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\r\n\t\t * This strategy also tries to estimate the required storage.\r\n\t\t */\r\n\t\tMH_SB_SIZED,\r\n\r\n\t\t/**\r\n\t\t * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\r\n\t\t * This strategy also estimate the required storage exactly.\r\n\t\t */\r\n\t\tMH_SB_SIZED_EXACT,\r\n\r\n\t\t/**\r\n\t\t * MethodHandle-based generator, that constructs its own byte[] array from\r\n\t\t * the arguments. It computes the required storage exactly.\r\n\t\t */\r\n\t\tMH_INLINE_SIZED_EXACT\r\n\r\n\r\n2. **At compile time**\r\n\r\n\tAs Kayaman correctly notes, the `StringConcatFactory` affects the program at **runtime** only. The bytecode will still contain an `invokedynamic` to `StringConcatFactory` wherever Strings are concatenated. There are several ways of getting back the calls to `StringBuilder`:\r\n\r\n\t- The most straightforward approach of disabling this behavior is to pass the `--release=8` flag to javac to force the generation of Java-8 compatible code. However, this affects not only string concatenation.\r\n\r\n\t- A more targeted option is to control concatenation specifically, by passing `-XDstringConcat=inline`.\r\n\r\n\t\tLet&#39;s take this piece of code as an example:\r\n\r\n\t\t\tpublic class Print {\t\r\n\t\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\t\tString foo = &quot;a&quot;;\r\n\t\t\t\t\tString bar = &quot;b&quot;;\r\n\t\t\t\t\tSystem.out.println(foo+bar);\r\n\t\t\t\t}\r\n\t\t    }\r\n\r\n\t\tIf we compile it without any flags, we&#39;ll get:\r\n\r\n\t\t\tpublic class Print {\r\n\t\t\t  public Print();\r\n\t\t\t\tCode:\r\n\t\t\t\t   0: aload_0\r\n\t\t\t\t   1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n\t\t\t\t   4: return\r\n\t\t\t\r\n\t\t\t  public static void main(java.lang.String[]);\r\n\t\t\t\tCode:\r\n\t\t\t\t   0: ldc           #2                  // String a\r\n\t\t\t\t   2: astore_1\r\n\t\t\t\t   3: ldc           #3                  // String b\r\n\t\t\t\t   5: astore_2\r\n\t\t\t\t   6: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n\t\t\t\t   9: aload_1\r\n\t\t\t\t  10: aload_2\r\n\t\t\t\t  11: invokedynamic #5,  0              // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\n\t\t\t\t  16: invokevirtual #6                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n\t\t\t\t  19: return\r\n\t\t\t}\r\n\r\n\t\tNote the `invokedynamic` to `makeConcatWithConstants`.\r\n\r\n\t\tHowever, if we run `javac -XDstringConcat=inline Print.java`, we&#39;ll get this:\r\n\r\n\t\t\tpublic class Print {\r\n\t\t\t  public Print();\r\n\t\t\t\tCode:\r\n\t\t\t\t   0: aload_0\r\n\t\t\t\t   1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n\t\t\t\t   4: return\r\n\t\t\t\r\n\t\t\t  public static void main(java.lang.String[]);\r\n\t\t\t\tCode:\r\n\t\t\t\t   0: ldc           #2                  // String a\r\n\t\t\t\t   2: astore_1\r\n\t\t\t\t   3: ldc           #3                  // String b\r\n\t\t\t\t   5: astore_2\r\n\t\t\t\t   6: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n\t\t\t\t   9: new           #5                  // class java/lang/StringBuilder\r\n\t\t\t\t  12: dup\r\n\t\t\t\t  13: invokespecial #6                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n\t\t\t\t  16: aload_1\r\n\t\t\t\t  17: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n\t\t\t\t  20: aload_2\r\n\t\t\t\t  21: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n\t\t\t\t  24: invokevirtual #8                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n\t\t\t\t  27: invokevirtual #9                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n\t\t\t\t  30: return\r\n\t\t\t}\r\n\r\n\t\tHere the `String` concatenation is done using the `StringBuilder`, just like in Java 8.\r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html\r\n[2]: https://github.com/openjdk/jdk/blob/687ce3e7bb6d45ef67037dd77acd58aa48bbd724/src/java.base/share/classes/java/lang/invoke/StringConcatFactory.java#L136\r\n[3]: https://openjdk.java.net/jeps/280","title":"How to turn off string concatenation optimization","body":"<p>There are two parts to the string concatenation feature.</p>\n\n<ol>\n<li><p><strong>At runtime</strong></p>\n\n<p>In Java 9+, at runtime, String concatenation is controlled by the <code>StringConcatFactory</code> class (<a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html\" rel=\"nofollow noreferrer\">javadoc</a>). That's because <code>javac</code> generates <code>invokedynamic</code> bytecode to <code>StringConcatFactory::makeConcat</code> wherever String concatenation is needed.</p>\n\n<p><code>StringConcatFactory</code> defines several strategies for <strong>runtime</strong> concatenation  in the form of a <code>Strategy</code> enum (<a href=\"https://github.com/openjdk/jdk/blob/687ce3e7bb6d45ef67037dd77acd58aa48bbd724/src/java.base/share/classes/java/lang/invoke/StringConcatFactory.java#L136\" rel=\"nofollow noreferrer\">source code</a>).</p>\n\n<p>You can change the default strategy from the command line by setting <code>-Djava.lang.invoke.stringConcat</code></p>\n\n<p>To get the Java-8 behavior at runtime, you need to set it to <code>BC_SB</code>, which stands for \"Bytecode, StringBuilder\"</p>\n\n<p>Here are the other values, for completeness:</p>\n\n<pre><code>/**\n * Bytecode generator, calling into {@link java.lang.StringBuilder}.\n */\nBC_SB,\n\n/**\n * Bytecode generator, calling into {@link java.lang.StringBuilder};\n * but trying to estimate the required storage.\n */\nBC_SB_SIZED,\n\n/**\n * Bytecode generator, calling into {@link java.lang.StringBuilder};\n * but computing the required storage exactly.\n */\nBC_SB_SIZED_EXACT,\n\n/**\n * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\n * This strategy also tries to estimate the required storage.\n */\nMH_SB_SIZED,\n\n/**\n * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\n * This strategy also estimate the required storage exactly.\n */\nMH_SB_SIZED_EXACT,\n\n/**\n * MethodHandle-based generator, that constructs its own byte[] array from\n * the arguments. It computes the required storage exactly.\n */\nMH_INLINE_SIZED_EXACT\n</code></pre></li>\n<li><p><strong>At compile time</strong></p>\n\n<p>As Kayaman correctly notes, the <code>StringConcatFactory</code> affects the program at <strong>runtime</strong> only. The bytecode will still contain an <code>invokedynamic</code> to <code>StringConcatFactory</code> wherever Strings are concatenated. There are several ways of getting back the calls to <code>StringBuilder</code>:</p>\n\n<ul>\n<li><p>The most straightforward approach of disabling this behavior is to pass the <code>--release=8</code> flag to javac to force the generation of Java-8 compatible code. However, this affects not only string concatenation.</p></li>\n<li><p>A more targeted option is to control concatenation specifically, by passing <code>-XDstringConcat=inline</code>.</p>\n\n<p>Let's take this piece of code as an example:</p>\n\n<pre><code>public class Print {    \n    public static void main(String[] args) {\n        String foo = \"a\";\n        String bar = \"b\";\n        System.out.println(foo+bar);\n    }\n}\n</code></pre>\n\n<p>If we compile it without any flags, we'll get:</p>\n\n<pre><code>public class Print {\n  public Print();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: ldc           #2                  // String a\n       2: astore_1\n       3: ldc           #3                  // String b\n       5: astore_2\n       6: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;\n       9: aload_1\n      10: aload_2\n      11: invokedynamic #5,  0              // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\n      16: invokevirtual #6                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      19: return\n}\n</code></pre>\n\n<p>Note the <code>invokedynamic</code> to <code>makeConcatWithConstants</code>.</p>\n\n<p>However, if we run <code>javac -XDstringConcat=inline Print.java</code>, we'll get this:</p>\n\n<pre><code>public class Print {\n  public Print();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: ldc           #2                  // String a\n       2: astore_1\n       3: ldc           #3                  // String b\n       5: astore_2\n       6: getstatic     #4                  // Field java/lang/System.out:Ljava/io/PrintStream;\n       9: new           #5                  // class java/lang/StringBuilder\n      12: dup\n      13: invokespecial #6                  // Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n      16: aload_1\n      17: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n      20: aload_2\n      21: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n      24: invokevirtual #8                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n      27: invokevirtual #9                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      30: return\n}\n</code></pre>\n\n<p>Here the <code>String</code> concatenation is done using the <code>StringBuilder</code>, just like in Java 8.</p></li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11072639,"reputation":9,"user_id":8130293,"display_name":"tema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637812926,"creation_date":1637812258,"answer_id":70105602,"question_id":58681265,"body_markdown":"As of Java 15, `StringConcatFactory` provides no other strategies for concatenation than `MH_INLINE_SIZED_EXACT`. See [this thread][1] in the mailing lists and [this bug][2] for details.\r\n\r\nAs Malt has already pointed out in [his answer][3], you can now only get back to `StringBuilder`s by disabling use of `invokedynamic` at compile time. To do this, pass the `-XDstringConcat=inline` flag to the compiler. More details in the above referenced Malt&#39;s answer.\r\n\r\nIf working with JAR files from Maven Central, [you will need to recompile them yourself][4].\r\n\r\n\r\n  [1]: https://mail.openjdk.java.net/pipermail/core-libs-dev/2020-May/066608.html\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8245455\r\n  [3]: https://stackoverflow.com/a/58681713/8130293\r\n  [4]: https://mail.openjdk.java.net/pipermail/core-libs-dev/2020-May/066614.html","title":"How to turn off string concatenation optimization","body":"<p>As of Java 15, <code>StringConcatFactory</code> provides no other strategies for concatenation than <code>MH_INLINE_SIZED_EXACT</code>. See <a href=\"https://mail.openjdk.java.net/pipermail/core-libs-dev/2020-May/066608.html\" rel=\"nofollow noreferrer\">this thread</a> in the mailing lists and <a href=\"https://bugs.openjdk.java.net/browse/JDK-8245455\" rel=\"nofollow noreferrer\">this bug</a> for details.</p>\n<p>As Malt has already pointed out in <a href=\"https://stackoverflow.com/a/58681713/8130293\">his answer</a>, you can now only get back to <code>StringBuilder</code>s by disabling use of <code>invokedynamic</code> at compile time. To do this, pass the <code>-XDstringConcat=inline</code> flag to the compiler. More details in the above referenced Malt's answer.</p>\n<p>If working with JAR files from Maven Central, <a href=\"https://mail.openjdk.java.net/pipermail/core-libs-dev/2020-May/066614.html\" rel=\"nofollow noreferrer\">you will need to recompile them yourself</a>.</p>\n"}],"owner":{"account_id":13268498,"reputation":333,"user_id":10039586,"display_name":" "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58681713,"answer_count":2,"score":5,"last_activity_date":1637812926,"creation_date":1572792314,"question_id":58681265,"body_markdown":"In Java 9 Oracle improved String concatenation. Now `&quot;&quot; + someBoolean` turns into `invokedynamic` with `StringConcatFabric.makeConcat` as bootstrap method. That fabric generates classes at runtime that concatenate your strings. I want to disable this behaviour and fallback to plain old string builder.  \r\nSo I supposed that javac has flag that do what I want. But I can&#39;t find it. \r\n","title":"How to turn off string concatenation optimization","body":"<p>In Java 9 Oracle improved String concatenation. Now <code>\"\" + someBoolean</code> turns into <code>invokedynamic</code> with <code>StringConcatFabric.makeConcat</code> as bootstrap method. That fabric generates classes at runtime that concatenate your strings. I want to disable this behaviour and fallback to plain old string builder.<br>\nSo I supposed that javac has flag that do what I want. But I can't find it. </p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":0,"creation_date":1591188264,"post_id":62173077,"comment_id":109959635,"body_markdown":"You could try implementing a distinct update operation for this case. Does that solve your issue? https://stackoverflow.com/questions/15436542/mongodb-java-push-into-array","body":"You could try implementing a distinct update operation for this case. Does that solve your issue? <a href=\"https://stackoverflow.com/questions/15436542/mongodb-java-push-into-array\" title=\"mongodb java push into array\">stackoverflow.com/questions/15436542/&hellip;</a>"},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1591188620,"post_id":62173077,"comment_id":109959833,"body_markdown":"no, It is very hard to convert this product object directly into a document. Find a solution that maps attributes automatically","body":"no, It is very hard to convert this product object directly into a document. Find a solution that maps attributes automatically"},{"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"score":0,"creation_date":1591188888,"post_id":62173077,"comment_id":109959979,"body_markdown":"How many `Factory` objects are in your collection `factory`? Is it only one factory holding all the products? If so, you should have collection `products` instead, where you can insert `Product` objects directly.","body":"How many <code>Factory</code> objects are in your collection <code>factory</code>? Is it only one factory holding all the products? If so, you should have collection <code>products</code> instead, where you can insert <code>Product</code> objects directly."},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1591188961,"post_id":62173077,"comment_id":109960041,"body_markdown":"there can be about 1200 factory objects","body":"there can be about 1200 factory objects"},{"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"score":0,"creation_date":1591192033,"post_id":62173077,"comment_id":109961973,"body_markdown":"Aren&#39;t you concerned about concurrent updates? If 2 different threads push products to the same factory at the same time there is a chance to lose one of the updates. $push solves both problems.","body":"Aren&#39;t you concerned about concurrent updates? If 2 different threads push products to the same factory at the same time there is a chance to lose one of the updates. $push solves both problems."},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1591250638,"post_id":62173077,"comment_id":109984969,"body_markdown":"I edited question with trials","body":"I edited question with trials"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1591685593,"post_id":62173077,"comment_id":110141247,"body_markdown":"[Spring Data and MongoDB repository - how to create an update query?](https://stackoverflow.com/questions/24849916/spring-data-and-mongodb-repository-how-to-create-an-update-query)","body":"<a href=\"https://stackoverflow.com/questions/24849916/spring-data-and-mongodb-repository-how-to-create-an-update-query\">Spring Data and MongoDB repository - how to create an update query?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1591370057,"creation_date":1591370057,"answer_id":62218641,"question_id":62173077,"body_markdown":"You should use MongoTemplate to update product with push to add to existing products. Something like\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.ApplicationRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    import org.springframework.data.mongodb.core.query.Criteria;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.query.Update;\r\n    \r\n    import java.util.List;\r\n    \r\n    @SpringBootApplication\r\n    public class So62173077Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So62173077Application.class, args);\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tprivate MongoTemplate mongoTemplate;\r\n    \r\n    \t@Document(collection = &quot;factory&quot;)\r\n    \tpublic class Factory\r\n    \t{\r\n    \t\tprivate Long id;\r\n    \t\tprivate List&lt;Product&gt; products;\r\n    \r\n    \t}\r\n    \r\n    \tpublic Long createFactory() {\r\n    \t\tFactory factory = new Factory();\r\n    \t\tfactory.id = 1L;\r\n    \t\treturn mongoTemplate.insert(factory).id;\r\n    \t}\r\n    \r\n    \tpublic void addProduct(Long id) {\r\n    \t\tQuery query = new Query();\r\n    \t\tquery.addCriteria(Criteria.where(&quot;id&quot;).is(id));\r\n    \t\tUpdate update = new Update();\r\n    \t\tProduct product = new Product();\r\n    \t\tproduct.name = &quot;stackoverflow&quot;;\r\n    \t\tupdate.push(&quot;products&quot;, product);\r\n            mongoTemplate.updateFirst(query, update, Factory.class);\r\n    \t}\r\n    \r\n    \tprivate class Product {\r\n    \t\tprivate String name;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ApplicationRunner runner() {\r\n    \t\treturn args -&gt; {\r\n    \t\t\t//Long id = createFactory();\r\n    \t\t\taddProduct(1L);\r\n    \t\t\t\r\n    \t\t};\r\n    \t}\r\n    \r\n    }","title":"Insert embeded document without reading whole document - spring, mongo","body":"<p>You should use MongoTemplate to update product with push to add to existing products. Something like</p>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.query.Update;\n\nimport java.util.List;\n\n@SpringBootApplication\npublic class So62173077Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So62173077Application.class, args);\n    }\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @Document(collection = \"factory\")\n    public class Factory\n    {\n        private Long id;\n        private List&lt;Product&gt; products;\n\n    }\n\n    public Long createFactory() {\n        Factory factory = new Factory();\n        factory.id = 1L;\n        return mongoTemplate.insert(factory).id;\n    }\n\n    public void addProduct(Long id) {\n        Query query = new Query();\n        query.addCriteria(Criteria.where(\"id\").is(id));\n        Update update = new Update();\n        Product product = new Product();\n        product.name = \"stackoverflow\";\n        update.push(\"products\", product);\n        mongoTemplate.updateFirst(query, update, Factory.class);\n    }\n\n    private class Product {\n        private String name;\n    }\n\n    @Bean\n    public ApplicationRunner runner() {\n        return args -&gt; {\n            //Long id = createFactory();\n            addProduct(1L);\n\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18769240,"reputation":99,"user_id":13686443,"display_name":"Nicolas COSME"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1591630660,"creation_date":1591630660,"answer_id":62265791,"question_id":62173077,"body_markdown":"MongoDB large array may be discouraged (fetching, atomic operations, complex querying).\r\n\r\nDepending on your needs but I would suggest you to deal with Product in a brand new &quot;product&quot; collection. Your current issue will be solved as well.\r\n\r\nRegards.\r\n","title":"Insert embeded document without reading whole document - spring, mongo","body":"<p>MongoDB large array may be discouraged (fetching, atomic operations, complex querying).</p>\n\n<p>Depending on your needs but I would suggest you to deal with Product in a brand new \"product\" collection. Your current issue will be solved as well.</p>\n\n<p>Regards.</p>\n"}],"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":62218641,"answer_count":2,"score":12,"last_activity_date":1637811578,"creation_date":1591188027,"question_id":62173077,"body_markdown":"I have this `factory` collection :\r\n\r\n```java\r\n@Document(collection = &quot;factory&quot;)\r\npublic class Factory\r\n{\r\n    Private List&lt;Product&gt; products;\r\n\r\n}\r\n```\r\n\r\nwhich embeds the `Product` as products. \r\nWhen I have to add a product to an existing factory :\r\n\r\n```java\r\n@Autowired\r\nprivate FactoryRepository factoryRepository;\r\n\r\npublic void addProduct(Long id, Product product) {\r\n    Factory f = factoryRepository.findById(id);\r\n    f.addProduct(product);\r\n    factoryRepository.save(f);\r\n\r\n}\r\n```\r\n\r\nHowever, the issue is that product is a **large object which contains a set of heavy attributes** and the **factory can have 2000 products**. \r\n\r\nSo, the retrieved factory causes large memory consumption although it is not required in this phase. Is there a way to append a new product object directly into the factory document without reading the whole object?\r\n\r\n------------------\r\n\r\n**EDIT:**\r\n\r\nAs for the comments, I tried :\r\n\r\n```java\r\npublic void addProduct(Long id, Product product) {\r\n        Document find = new Document(&quot;_id&quot;,id);\r\n        Document listItem = new Document(&quot;products&quot;,product);\r\n        Document push = new Document(&quot;$push&quot;, listItem);\r\n        collection.updateOne(find,push);\r\n}       \r\n```\r\n\r\nThis gives error :\r\n\r\n```\r\norg.bson.codecs.configuration.CodecConfigurationException: \r\nCan&#39;t find a codec for class product\r\n```\r\n\r\nSo I modified to convert it to a string before push :\r\n\r\n\r\n```java\r\npublic void addProduct(Long id, Product product) {\r\n        Document find = new Document(&quot;_id&quot;,id);\r\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        Document listItem = new Document(&quot;products&quot;,ow.writeValueAsString(product));\r\n        Document push = new Document(&quot;$push&quot;, listItem);\r\n        collection.updateOne(find,push);\r\n}     \r\n```\r\nThis pushed object correctly but when reading :\r\n\r\n```\r\norg.springframework.core.convert.ConverterNotFoundException: \r\nNo converter found capable of converting from type [java.lang.String] to type [Product]\r\n```\r\n\r\nStill, I got **nowhere** here. Any ideas on fixing this issue?\r\n","title":"Insert embeded document without reading whole document - spring, mongo","body":"<p>I have this <code>factory</code> collection :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collection = &quot;factory&quot;)\npublic class Factory\n{\n    Private List&lt;Product&gt; products;\n\n}\n</code></pre>\n<p>which embeds the <code>Product</code> as products.\nWhen I have to add a product to an existing factory :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate FactoryRepository factoryRepository;\n\npublic void addProduct(Long id, Product product) {\n    Factory f = factoryRepository.findById(id);\n    f.addProduct(product);\n    factoryRepository.save(f);\n\n}\n</code></pre>\n<p>However, the issue is that product is a <strong>large object which contains a set of heavy attributes</strong> and the <strong>factory can have 2000 products</strong>.</p>\n<p>So, the retrieved factory causes large memory consumption although it is not required in this phase. Is there a way to append a new product object directly into the factory document without reading the whole object?</p>\n<hr />\n<p><strong>EDIT:</strong></p>\n<p>As for the comments, I tried :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addProduct(Long id, Product product) {\n        Document find = new Document(&quot;_id&quot;,id);\n        Document listItem = new Document(&quot;products&quot;,product);\n        Document push = new Document(&quot;$push&quot;, listItem);\n        collection.updateOne(find,push);\n}       \n</code></pre>\n<p>This gives error :</p>\n<pre><code>org.bson.codecs.configuration.CodecConfigurationException: \nCan't find a codec for class product\n</code></pre>\n<p>So I modified to convert it to a string before push :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addProduct(Long id, Product product) {\n        Document find = new Document(&quot;_id&quot;,id);\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n        Document listItem = new Document(&quot;products&quot;,ow.writeValueAsString(product));\n        Document push = new Document(&quot;$push&quot;, listItem);\n        collection.updateOne(find,push);\n}     \n</code></pre>\n<p>This pushed object correctly but when reading :</p>\n<pre><code>org.springframework.core.convert.ConverterNotFoundException: \nNo converter found capable of converting from type [java.lang.String] to type [Product]\n</code></pre>\n<p>Still, I got <strong>nowhere</strong> here. Any ideas on fixing this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637806558,"post_id":70105032,"comment_id":123926708,"body_markdown":"Have you read the [ResultSet API #getBoolean(String s)](https://docs.oracle.com/javase/10/docs/api/java/sql/ResultSet.html#getBoolean(java.lang.String)) section? If so, is anything unclear about why this *should* be returning false?","body":"Have you read the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/sql/ResultSet.html#getBoolean(java.lang.String)\" rel=\"nofollow noreferrer\">ResultSet API #getBoolean(String s)</a> section? If so, is anything unclear about why this <i>should</i> be returning false?"},{"owner":{"account_id":21764341,"reputation":1,"user_id":16068462,"display_name":"Matt Nguyen"},"score":0,"creation_date":1637807423,"post_id":70105032,"comment_id":123926838,"body_markdown":"Is there a .getBooleanString() or something, so if there is a string present return true but if there is NULL then return false?","body":"Is there a .getBooleanString() or something, so if there is a string present return true but if there is NULL then return false?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637807996,"post_id":70105032,"comment_id":123926924,"body_markdown":"No. If the field is a boolean field and holds a value of TRUE, then it will return true. If there is a CHAR or VARCHAR that holds a value of &quot;1&quot; it will return true, otherwise, if it is not &quot;0&quot; or &quot;1&quot; it may throw an exception. Your SQL doesn&#39;t appear to satisfy any of the requirements that should make it return a boolean value of true. Please re-read the API.","body":"No. If the field is a boolean field and holds a value of TRUE, then it will return true. If there is a CHAR or VARCHAR that holds a value of &quot;1&quot; it will return true, otherwise, if it is not &quot;0&quot; or &quot;1&quot; it may throw an exception. Your SQL doesn&#39;t appear to satisfy any of the requirements that should make it return a boolean value of true. Please re-read the API."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637811053,"creation_date":1637811053,"answer_id":70105480,"question_id":70105032,"body_markdown":"`.getBoolean` is for reading boolean values, hence the name.\r\n\r\nYou seem to believe that the concept of truthy/falsy is universal. It isn&#39;t. First, adjust your thinking, then this becomes much simpler.\r\n\r\n&#39;truthy&#39;/&#39;falsy&#39; is the notion that all expressions, if forcibly interpreted as a boolean, always report one of those two values. Many programming languages and environments are completely truthy/falsy, such as javascript and python.\r\n\r\n__However, java is not__. In java, `true` is true, `false` is false, and __nothing else is__:\r\n\r\n```\r\nString x = &quot;true&quot;;\r\nif (x) {}\r\n```\r\n\r\nsimply fails to compile in java, as `x` is neither the boolean value `true` nor the boolean value `false` (specifically, the type of the expression `x` isn&#39;t boolean, and the compiler immediately calls it at that point and flags an error). You appear to be so used to languages that have this complicated definition of what is considered &#39;true&#39; (truthy) and what is considered &#39;false&#39; (falsy), such as &#39;lists are truthy unless empty, null and undefined are falsy, numbers are truthy unless 0 or NaN, strings are truthy unless empty, nobody can remember if the string &quot;false&quot; or &quot;0&quot; is truthy or falsy, objects are truthy unless they override an operator method to say they are falsy, even a boolean wrapper wrapping the value &#39;false&#39; ends up being truthy because of that, yadayada&#39;. Hopefully you now also know why truthy/falsy is not universally applied: It&#39;s quite confusing at times. Java doesn&#39;t engage in it; java doesn&#39;t ever guess what you intended when you pass a non-boolean to a thing where only booleans are allowed. It just errors and demands you perform an operation that explicitly resolves to a boolean value, such as `a &lt; b` or `a.foo()` where `foo()` has `boolean` as return type, etc.\r\n\r\nNow that you know such systems exist, it should be obvious that the meaning of `getBoolean` is not &#39;act like python or javascript and do the usual: if null or 0 or empty or (yeah this is where truthy/falsy gets tricky doesnt it? Is the string `&quot;Non&quot;` falsy?)&#39;.\r\n\r\nWhat you&#39;re presumably looking for is either:\r\n\r\n```\r\nif (r.isNull(&quot;fldplayersalary&quot;)) {\r\n```\r\n\r\nor possibly:\r\n\r\n```\r\nif (r.getInt(&quot;fldplayersalary&quot;) != 0) {\r\n```\r\n\r\nNote that `.getInt` returns `0` if the value stored for that row is `NULL`, hence, if fldplayersalary is NULL, _or_ it is set to 0, that if would _not_ trigger, otherwise, it would, which sounds like what you wanted.\r\n","title":"Resultset.getBoolean()) not returning true for if condition - row has value","body":"<p><code>.getBoolean</code> is for reading boolean values, hence the name.</p>\n<p>You seem to believe that the concept of truthy/falsy is universal. It isn't. First, adjust your thinking, then this becomes much simpler.</p>\n<p>'truthy'/'falsy' is the notion that all expressions, if forcibly interpreted as a boolean, always report one of those two values. Many programming languages and environments are completely truthy/falsy, such as javascript and python.</p>\n<p><strong>However, java is not</strong>. In java, <code>true</code> is true, <code>false</code> is false, and <strong>nothing else is</strong>:</p>\n<pre><code>String x = &quot;true&quot;;\nif (x) {}\n</code></pre>\n<p>simply fails to compile in java, as <code>x</code> is neither the boolean value <code>true</code> nor the boolean value <code>false</code> (specifically, the type of the expression <code>x</code> isn't boolean, and the compiler immediately calls it at that point and flags an error). You appear to be so used to languages that have this complicated definition of what is considered 'true' (truthy) and what is considered 'false' (falsy), such as 'lists are truthy unless empty, null and undefined are falsy, numbers are truthy unless 0 or NaN, strings are truthy unless empty, nobody can remember if the string &quot;false&quot; or &quot;0&quot; is truthy or falsy, objects are truthy unless they override an operator method to say they are falsy, even a boolean wrapper wrapping the value 'false' ends up being truthy because of that, yadayada'. Hopefully you now also know why truthy/falsy is not universally applied: It's quite confusing at times. Java doesn't engage in it; java doesn't ever guess what you intended when you pass a non-boolean to a thing where only booleans are allowed. It just errors and demands you perform an operation that explicitly resolves to a boolean value, such as <code>a &lt; b</code> or <code>a.foo()</code> where <code>foo()</code> has <code>boolean</code> as return type, etc.</p>\n<p>Now that you know such systems exist, it should be obvious that the meaning of <code>getBoolean</code> is not 'act like python or javascript and do the usual: if null or 0 or empty or (yeah this is where truthy/falsy gets tricky doesnt it? Is the string <code>&quot;Non&quot;</code> falsy?)'.</p>\n<p>What you're presumably looking for is either:</p>\n<pre><code>if (r.isNull(&quot;fldplayersalary&quot;)) {\n</code></pre>\n<p>or possibly:</p>\n<pre><code>if (r.getInt(&quot;fldplayersalary&quot;) != 0) {\n</code></pre>\n<p>Note that <code>.getInt</code> returns <code>0</code> if the value stored for that row is <code>NULL</code>, hence, if fldplayersalary is NULL, <em>or</em> it is set to 0, that if would <em>not</em> trigger, otherwise, it would, which sounds like what you wanted.</p>\n"}],"owner":{"account_id":21764341,"reputation":1,"user_id":16068462,"display_name":"Matt Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637811053,"creation_date":1637806204,"question_id":70105032,"body_markdown":"Resultset.getBoolean()) not returning true, when value is there.\r\n\r\nI&#39;m trying to use a if condition so if there is row value in &quot;fldplayersalary&quot; then enter condition, however it keeps going to else. I have put a breakpoint and there is value for fldplayersalary (15583 for example). \r\n\r\nCan someone explain why the .getBoolean is not returning true, because there is definitely a field &quot;fldplayersalary&quot; in table and data also. I&#39;ve attached a screenshot of MySQL database\r\n\r\n[image of sql table][1]\r\n\r\n```\r\n               ResultSet r = stm.executeQuery(&quot;select * from tblmember&quot;);\r\n                \r\n                //1-int,2-string,3-string,\r\n                \r\n                \r\n                \r\n                while(r.next())\r\n                {\r\n                    \r\n                    if(r.getBoolean(&quot;fldplayersalary&quot;) == true)\r\n                    {\r\n                        System.out.println(&quot;Player - 11 fields&quot;);\r\n                       \r\n                        int id = r.getInt(&quot;fldmemberid&quot;);\r\n                        String first = r.getString(&quot;fldfirstname&quot;);\r\n                        String last = r.getString(&quot;fldlastname&quot;);\r\n                        String email = r.getString(&quot;fldemail&quot;);\r\n                        String mob = r.getString(&quot;fldmobile&quot;);\r\n                        String gender = r.getString(&quot;fldgender&quot;);\r\n                        String dob = r.getString(&quot;flddob&quot;);\r\n                        String debut = r.getString(&quot;flddebut&quot;);\r\n                        String recruited = r.getString(&quot;fldrecruitedfrom&quot;);\r\n                        int salary = r.getInt(&quot;fldplayersalary&quot;);\r\n                        int team =  r.getInt(&quot;fldteamid&quot;);\r\n                        \r\n                        Player pp = new Player(id, first, last, email, mob, gender, dob, debut, recruited, salary, team);\r\n                        plist.add(pp);\r\n                        \r\n                        \r\n                    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qh6xp.png","title":"Resultset.getBoolean()) not returning true for if condition - row has value","body":"<p>Resultset.getBoolean()) not returning true, when value is there.</p>\n<p>I'm trying to use a if condition so if there is row value in &quot;fldplayersalary&quot; then enter condition, however it keeps going to else. I have put a breakpoint and there is value for fldplayersalary (15583 for example).</p>\n<p>Can someone explain why the .getBoolean is not returning true, because there is definitely a field &quot;fldplayersalary&quot; in table and data also. I've attached a screenshot of MySQL database</p>\n<p><a href=\"https://i.stack.imgur.com/Qh6xp.png\" rel=\"nofollow noreferrer\">image of sql table</a></p>\n<pre><code>               ResultSet r = stm.executeQuery(&quot;select * from tblmember&quot;);\n                \n                //1-int,2-string,3-string,\n                \n                \n                \n                while(r.next())\n                {\n                    \n                    if(r.getBoolean(&quot;fldplayersalary&quot;) == true)\n                    {\n                        System.out.println(&quot;Player - 11 fields&quot;);\n                       \n                        int id = r.getInt(&quot;fldmemberid&quot;);\n                        String first = r.getString(&quot;fldfirstname&quot;);\n                        String last = r.getString(&quot;fldlastname&quot;);\n                        String email = r.getString(&quot;fldemail&quot;);\n                        String mob = r.getString(&quot;fldmobile&quot;);\n                        String gender = r.getString(&quot;fldgender&quot;);\n                        String dob = r.getString(&quot;flddob&quot;);\n                        String debut = r.getString(&quot;flddebut&quot;);\n                        String recruited = r.getString(&quot;fldrecruitedfrom&quot;);\n                        int salary = r.getInt(&quot;fldplayersalary&quot;);\n                        int team =  r.getInt(&quot;fldteamid&quot;);\n                        \n                        Player pp = new Player(id, first, last, email, mob, gender, dob, debut, recruited, salary, team);\n                        plist.add(pp);\n                        \n                        \n                    }\n</code></pre>\n"},{"tags":["java","apache-commons","file-watcher","java-nio"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1637751368,"post_id":70076288,"comment_id":123908250,"body_markdown":"Posting a code sample will make it easier to help you. WatchService is verbose and is easier to use if you collate events, not act on every single event - see this [question](https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819)","body":"Posting a code sample will make it easier to help you. WatchService is verbose and is easier to use if you collate events, not act on every single event - see this <a href=\"https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819\">question</a>"}],"answers":[{"tags":[],"owner":{"account_id":6899978,"reputation":206,"user_id":5299919,"display_name":"J-007"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637810998,"creation_date":1637810376,"answer_id":70105422,"question_id":70076288,"body_markdown":"Thank you @DuncG. After going through the sample mentioned, I found my solution to my problem. \r\n\r\nAdding this sample code if someone facing the same problem. \r\n\r\nHere in the example I am adding all the events to a set (this will remove the duplicate events) and process the saved events once the WatchKey is empty. New directories will be registered to WatchService while processing the saved events.\r\n\r\n    package com.filewatcher;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.FileVisitResult;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.LinkOption;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.StandardWatchEventKinds;\r\n    import java.nio.file.WatchEvent;\r\n    import java.nio.file.WatchKey;\r\n    import java.nio.file.WatchService;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class WatchService implements Runnable {\r\n    \r\n    private static final long POLL_DELAY = 3;\r\n    \r\n    private static final Logger LOGGER = LoggerFactory.getLogger(WatchService.class);\r\n    \r\n    private final WatchService watcher;\r\n    \r\n    private final Map&lt;WatchKey, Path&gt; keys;\r\n    \r\n    private final Set&lt;Path&gt; events = new HashSet&lt;Path&gt;();\r\n    \r\n    public WatchService(Path dir) throws IOException {\r\n    \tthis.watcher = FileSystems.getDefault().newWatchService();\r\n    \tthis.keys = new HashMap&lt;WatchKey, Path&gt;();\r\n    \twalkAndRegisterDirectories(dir);\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n    \twhile (true) {\r\n    \t\ttry {\r\n    \t\t\tWatchKey key;\r\n    \t\t\ttry {\r\n    \t\t\t\tkey = watcher.poll(POLL_DELAY, TimeUnit.SECONDS);\r\n    \t\t\t} catch (InterruptedException x) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (key != null) {\r\n    \t\t\t\tPath root = keys.get(key);\r\n    \t\t\t\tfor (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n    \t\t\t\t\tPath eventPath = (Path) event.context();\r\n    \t\t\t\t\tif (eventPath == null) {\r\n    \t\t\t\t\t\tSystem.out.println(event.kind());\r\n    \t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tPath fullPath = root.resolve(eventPath);\r\n    \t\t\t\t\tevents.add(fullPath);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tboolean valid = key.reset();\r\n    \t\t\t\tif (!valid) {\r\n    \t\t\t\t\tkeys.remove(key);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tif (events.size() &gt; 0) {\r\n    \t\t\t\t\tprocessEvents(events);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    /**\r\n     * Process events and register new directory with watch service\r\n     * @param events\r\n     * @throws IOException\r\n     */\r\n    private void processEvents(Set&lt;Path&gt; events) throws IOException {\r\n    \tfor (Path path : events) {\r\n    \t\t// register directory with watch service if its not already registered\r\n    \t\tif (Files.isDirectory(path, LinkOption.NOFOLLOW_LINKS) &amp;&amp; !this.keys.containsValue(path)) {\r\n    \t\t\tregisterDirectory(path);\r\n    \t\t\t// Since new directory was not registered, get all files inside the directory.\r\n    \t\t\t// new/modified files after this will get notified by watch service\r\n    \t\t\tFile[] files = path.toFile().listFiles();\r\n    \t\t\tfor (File file : files) {\r\n    \t\t\t\tLOGGER.info(file.getAbsolutePath());\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tLOGGER.info(path.toString());\r\n    \t\t}\r\n    \t}\r\n    \t// clear events once processed\r\n    \tevents.clear();\r\n    }\r\n    \r\n    /**\r\n     * Register a directory and its sub directories with watch service\r\n     * @param root folder\r\n     * @throws IOException\r\n     */\r\n    private void walkAndRegisterDirectories(final Path root) throws IOException \r\n    {\r\n    \tFiles.walkFileTree(root, new SimpleFileVisitor&lt;Path&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n    \t\t\tregisterDirectory(dir);\r\n    \t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t}\r\n    \t});\r\n    }\r\n    \r\n    /**\r\n     * Register a directory with watch service\r\n     * @param directory\r\n     * @throws IOException\r\n     */\r\n      private void registerDirectory(Path dir) throws IOException {\r\n    \tWatchKey key = dir.register(this.watcher, StandardWatchEventKinds.ENTRY_CREATE,\r\n    \t\t\tStandardWatchEventKinds.ENTRY_MODIFY);\r\n    \tthis.keys.put(key, dir);\r\n      }\r\n    }\r\n\r\n    public class FileWatcherApplication implements CommandLineRunner {\r\n    \t@Value(&quot;${filewatch.folder}&quot;)\r\n    \tprivate String rootPath;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(FileWatcherApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tFile rootFolder = new File(rootPath);\r\n    \t\tif (!rootFolder.exists()) {\r\n    \t\t\trootFolder.mkdirs();\r\n    \t\t}\r\n    \r\n    \t\tnew Thread(new WatchService(Paths.get(rootPath)), &quot;WatchThread&quot;).start();\r\n    \t}\r\n    }","title":"Java Folder/File watch","body":"<p>Thank you @DuncG. After going through the sample mentioned, I found my solution to my problem.</p>\n<p>Adding this sample code if someone facing the same problem.</p>\n<p>Here in the example I am adding all the events to a set (this will remove the duplicate events) and process the saved events once the WatchKey is empty. New directories will be registered to WatchService while processing the saved events.</p>\n<pre><code>package com.filewatcher;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.FileSystems;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Files;\nimport java.nio.file.LinkOption;\nimport java.nio.file.Path;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.StandardWatchEventKinds;\nimport java.nio.file.WatchEvent;\nimport java.nio.file.WatchKey;\nimport java.nio.file.WatchService;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.TimeUnit;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class WatchService implements Runnable {\n\nprivate static final long POLL_DELAY = 3;\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(WatchService.class);\n\nprivate final WatchService watcher;\n\nprivate final Map&lt;WatchKey, Path&gt; keys;\n\nprivate final Set&lt;Path&gt; events = new HashSet&lt;Path&gt;();\n\npublic WatchService(Path dir) throws IOException {\n    this.watcher = FileSystems.getDefault().newWatchService();\n    this.keys = new HashMap&lt;WatchKey, Path&gt;();\n    walkAndRegisterDirectories(dir);\n}\n\n@Override\npublic void run() {\n    while (true) {\n        try {\n            WatchKey key;\n            try {\n                key = watcher.poll(POLL_DELAY, TimeUnit.SECONDS);\n            } catch (InterruptedException x) {\n                return;\n            }\n\n            if (key != null) {\n                Path root = keys.get(key);\n                for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                    Path eventPath = (Path) event.context();\n                    if (eventPath == null) {\n                        System.out.println(event.kind());\n                        continue;\n                    }\n\n                    Path fullPath = root.resolve(eventPath);\n                    events.add(fullPath);\n                }\n\n                boolean valid = key.reset();\n                if (!valid) {\n                    keys.remove(key);\n                }\n            } else {\n                if (events.size() &gt; 0) {\n                    processEvents(events);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n/**\n * Process events and register new directory with watch service\n * @param events\n * @throws IOException\n */\nprivate void processEvents(Set&lt;Path&gt; events) throws IOException {\n    for (Path path : events) {\n        // register directory with watch service if its not already registered\n        if (Files.isDirectory(path, LinkOption.NOFOLLOW_LINKS) &amp;&amp; !this.keys.containsValue(path)) {\n            registerDirectory(path);\n            // Since new directory was not registered, get all files inside the directory.\n            // new/modified files after this will get notified by watch service\n            File[] files = path.toFile().listFiles();\n            for (File file : files) {\n                LOGGER.info(file.getAbsolutePath());\n            }\n        } else {\n            LOGGER.info(path.toString());\n        }\n    }\n    // clear events once processed\n    events.clear();\n}\n\n/**\n * Register a directory and its sub directories with watch service\n * @param root folder\n * @throws IOException\n */\nprivate void walkAndRegisterDirectories(final Path root) throws IOException \n{\n    Files.walkFileTree(root, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n            registerDirectory(dir);\n            return FileVisitResult.CONTINUE;\n        }\n    });\n}\n\n/**\n * Register a directory with watch service\n * @param directory\n * @throws IOException\n */\n  private void registerDirectory(Path dir) throws IOException {\n    WatchKey key = dir.register(this.watcher, StandardWatchEventKinds.ENTRY_CREATE,\n            StandardWatchEventKinds.ENTRY_MODIFY);\n    this.keys.put(key, dir);\n  }\n}\n\npublic class FileWatcherApplication implements CommandLineRunner {\n    @Value(&quot;${filewatch.folder}&quot;)\n    private String rootPath;\n\n    public static void main(String[] args) {\n        SpringApplication.run(FileWatcherApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        File rootFolder = new File(rootPath);\n        if (!rootFolder.exists()) {\n            rootFolder.mkdirs();\n        }\n\n        new Thread(new WatchService(Paths.get(rootPath)), &quot;WatchThread&quot;).start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6899978,"reputation":206,"user_id":5299919,"display_name":"J-007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70105422,"answer_count":1,"score":1,"last_activity_date":1637810998,"creation_date":1637648925,"question_id":70076288,"body_markdown":"I am trying to build a application that watch a folder and its sub folders to detect file creation or modification. Total files to watch will be growing day by day. \r\n\r\nI had tried with java nio WatchService and apache common FileAlterationObserver. WatchService  sometimes missing event when file creation/modification happens after WatchKey is taken and before reset. Since FileAlterationObserver is based on polling, when file count is increasing performance is also degrading. \r\n\r\nWhat will be the best approach to build such an application? ","title":"Java Folder/File watch","body":"<p>I am trying to build a application that watch a folder and its sub folders to detect file creation or modification. Total files to watch will be growing day by day.</p>\n<p>I had tried with java nio WatchService and apache common FileAlterationObserver. WatchService  sometimes missing event when file creation/modification happens after WatchKey is taken and before reset. Since FileAlterationObserver is based on polling, when file count is increasing performance is also degrading.</p>\n<p>What will be the best approach to build such an application?</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":277005,"reputation":1859,"user_id":570724,"accept_rate":40,"display_name":"tianwei"},"score":0,"creation_date":1637810662,"post_id":70105336,"comment_id":123927325,"body_markdown":"what is the difference between logger and LOGGER in your code?","body":"what is the difference between logger and LOGGER in your code?"},{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1637811798,"post_id":70105336,"comment_id":123927483,"body_markdown":"What about other requests: is there always a delay here? I don&#39;t think get header is the problem","body":"What about other requests: is there always a delay here? I don&#39;t think get header is the problem"},{"owner":{"account_id":23447027,"reputation":1,"user_id":17503696,"display_name":"bob"},"score":0,"creation_date":1637816739,"post_id":70105336,"comment_id":123928217,"body_markdown":"logger and LOGGER No difference\nLogger logger = LoggerFactory.getLogger(this.getClass());","body":"logger and LOGGER No difference Logger logger = LoggerFactory.getLogger(this.getClass());"},{"owner":{"account_id":23447027,"reputation":1,"user_id":17503696,"display_name":"bob"},"score":0,"creation_date":1637816862,"post_id":70105336,"comment_id":123928231,"body_markdown":"This is the public interceptorIrregular delayLocating according to the log is the problem of obtaining the header","body":"This is the public interceptorIrregular delayLocating according to the log is the problem of obtaining the header"}],"owner":{"account_id":23447027,"reputation":1,"user_id":17503696,"display_name":"bob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637810699,"creation_date":1637809429,"question_id":70105336,"body_markdown":"Query the log and find that getting the request header parameter will be blocked\r\nThe code is as follows:\r\n\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object \r\n    handler){\r\n        logger.debug(&quot;.........................preHandle start .........................&quot;);\r\n    \tlogger.info(&quot;================== REQUEST IP:{} ==================&quot;,this.getIpAdrress(request));\r\n    \tString languageCode = request.getHeader(&quot;language&quot;);\r\n    \tLOGGER.info(&quot;================== request header languageCode:{} ================== &quot;,languageCode);\r\n    \tLocaleContextHolder.setLocale(new Locale(LanguageEnum.getName(languageCode)));\r\n        return true;\r\n    }\r\nlog image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/gvjuD.png\r\n\r\nI have done some related tests and determined that HttpServletRequest getheader blocking leads to too long time, but I can&#39;t find a solution.\r\n\r\nThe JDK version we use is 1.8 and spring boot 2.3.4\r\n\r\nWe have also tried some solutions of securerandom, but none of them can solve the problems we encounter","title":"HttpServletRequest Get request header parameter block","body":"<p>Query the log and find that getting the request header parameter will be blocked\nThe code is as follows:</p>\n<pre><code>public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object \nhandler){\n    logger.debug(&quot;.........................preHandle start .........................&quot;);\n    logger.info(&quot;================== REQUEST IP:{} ==================&quot;,this.getIpAdrress(request));\n    String languageCode = request.getHeader(&quot;language&quot;);\n    LOGGER.info(&quot;================== request header languageCode:{} ================== &quot;,languageCode);\n    LocaleContextHolder.setLocale(new Locale(LanguageEnum.getName(languageCode)));\n    return true;\n}\n</code></pre>\n<p>log image</p>\n<p><a href=\"https://i.stack.imgur.com/gvjuD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvjuD.png\" alt=\"enter image description here\" /></a></p>\n<p>I have done some related tests and determined that HttpServletRequest getheader blocking leads to too long time, but I can't find a solution.</p>\n<p>The JDK version we use is 1.8 and spring boot 2.3.4</p>\n<p>We have also tried some solutions of securerandom, but none of them can solve the problems we encounter</p>\n"},{"tags":["java","spring","spring-boot","maven","war"],"answers":[{"tags":[],"owner":{"account_id":22261861,"reputation":41,"user_id":16493182,"display_name":"AI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637810520,"creation_date":1637810520,"answer_id":70105433,"question_id":69971776,"body_markdown":"I sequentially run `mvn intall` on my sibling project which solve my problem\r\n\r\nor just export project to war file solve my problem because my project is packaging by war","title":"Failed to execute goal on project XXXX Could not resolve dependencies for project XXXX (sibling module cases)","body":"<p>I sequentially run <code>mvn intall</code> on my sibling project which solve my problem</p>\n<p>or just export project to war file solve my problem because my project is packaging by war</p>\n"}],"owner":{"account_id":22261861,"reputation":41,"user_id":16493182,"display_name":"AI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637810520,"creation_date":1636967008,"question_id":69971776,"body_markdown":"\r\n[Here is my file structure in Eclipse][1]\r\n\r\nWhat I want to do ?\r\n\r\nI want include sibling modules into my spring boot project which called AccountManagementSystem\r\n\r\nI do not have setting.xml in my  ```.m2```  directory \r\n\r\nWhat I have tried\r\n\r\n1.Delete ```.m2``` directory but do not work for me\r\n\r\n\r\n2. run ```mvn clean install -U ``` still do not work for me \r\n\r\n\r\nHere is my error message\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] --------&lt; com.AccountManagementSystem:AccountManagementSystem &gt;---------\r\n[INFO] Building AccountManagementSystem 0.0.1\r\n[INFO] --------------------------------[ war ]---------------------------------\r\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/EncapsulationSystem/EncapsulationSystem/1.0/EncapsulationSystem-1.0.pom\r\n[WARNING] The POM for com.EncapsulationSystem:EncapsulationSystem:jar:1.0 is missing, no dependency information available\r\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/jc/adwords-encapsulation/1.0/adwords-encapsulation-1.0.pom\r\n[WARNING] The POM for jc:adwords-encapsulation:jar:1.0 is missing, no dependency information available\r\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/PermissionSystemApiTool/PermissionSystemApiTool/0.0.1/PermissionSystemApiTool-0.0.1.pom\r\n[WARNING] The POM for com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1 is missing, no dependency information available\r\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/EncapsulationSystem/EncapsulationSystem/1.0/EncapsulationSystem-1.0.jar\r\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/PermissionSystemApiTool/PermissionSystemApiTool/0.0.1/PermissionSystemApiTool-0.0.1.jar\r\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/jc/adwords-encapsulation/1.0/adwords-encapsulation-1.0.jar\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.800 s\r\n[INFO] Finished at: 2021-11-15T16:47:06+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal on project AccountManagementSystem: Could not resolve dependencies for project com.AccountManagementSystem:AccountManagementSystem:war:0.0.1: The following artifacts could not be resolved: com.EncapsulationSystem:EncapsulationSystem:jar:1.0, jc:adwords-encapsulation:jar:1.0, com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1: Could not find artifact com.EncapsulationSystem:EncapsulationSystem:jar:1.0 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\n\r\n```\r\n\r\n\r\n\r\nHere is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.AccountManagementSystem&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;AccountManagementSystem&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;AccountManagementSystem&lt;/name&gt;\r\n\t&lt;description&gt;Account Management System&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.EncapsulationSystem&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;EncapsulationSystem&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;adwords-encapsulation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.32.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.PermissionSystemApiTool&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;PermissionSystemApiTool&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.amven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.19.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI have find some solution\r\n\r\nhttps://stackoverflow.com/questions/33131880/maven-multi-module-project-cannot-find-sibling-module\r\n\r\nhttps://stackoverflow.com/questions/4650460/maven-could-not-resolve-dependencies-artifacts-could-not-be-resolved\r\n\r\nbut when i run ```mvn clean install``` \r\n\r\nI got error message\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] --------&lt; com.AccountManagementSystem:AccountManagementSystem &gt;---------\r\n[INFO] Building AccountManagementSystem 0.0.1\r\n[INFO] --------------------------------[ war ]---------------------------------\r\n[WARNING] The POM for com.EncapsulationSystem:EncapsulationSystem:jar:1.0 is missing, no dependency information available\r\n[WARNING] The POM for jc:adwords-encapsulation:jar:1.0 is missing, no dependency information available\r\n[WARNING] The POM for com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1 is missing, no dependency information available\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.912 s\r\n[INFO] Finished at: 2021-11-15T16:58:46+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal on project AccountManagementSystem: Could not resolve dependencies for project com.AccountManagementSystem:AccountManagementSystem:war:0.0.1: The following artifacts could not be resolved: com.EncapsulationSystem:EncapsulationSystem:jar:1.0, jc:adwords-encapsulation:jar:1.0, com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1: com.EncapsulationSystem:EncapsulationSystem:jar:1.0 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/AnkpK.png","title":"Failed to execute goal on project XXXX Could not resolve dependencies for project XXXX (sibling module cases)","body":"<p><a href=\"https://i.stack.imgur.com/AnkpK.png\" rel=\"nofollow noreferrer\">Here is my file structure in Eclipse</a></p>\n<p>What I want to do ?</p>\n<p>I want include sibling modules into my spring boot project which called AccountManagementSystem</p>\n<p>I do not have setting.xml in my  <code>.m2</code>  directory</p>\n<p>What I have tried</p>\n<p>1.Delete <code>.m2</code> directory but do not work for me</p>\n<ol start=\"2\">\n<li>run <code>mvn clean install -U </code> still do not work for me</li>\n</ol>\n<p>Here is my error message</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] --------&lt; com.AccountManagementSystem:AccountManagementSystem &gt;---------\n[INFO] Building AccountManagementSystem 0.0.1\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/EncapsulationSystem/EncapsulationSystem/1.0/EncapsulationSystem-1.0.pom\n[WARNING] The POM for com.EncapsulationSystem:EncapsulationSystem:jar:1.0 is missing, no dependency information available\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/jc/adwords-encapsulation/1.0/adwords-encapsulation-1.0.pom\n[WARNING] The POM for jc:adwords-encapsulation:jar:1.0 is missing, no dependency information available\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/PermissionSystemApiTool/PermissionSystemApiTool/0.0.1/PermissionSystemApiTool-0.0.1.pom\n[WARNING] The POM for com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1 is missing, no dependency information available\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/EncapsulationSystem/EncapsulationSystem/1.0/EncapsulationSystem-1.0.jar\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/com/PermissionSystemApiTool/PermissionSystemApiTool/0.0.1/PermissionSystemApiTool-0.0.1.jar\n[INFO] Downloading from : https://repo.maven.apache.org/maven2/jc/adwords-encapsulation/1.0/adwords-encapsulation-1.0.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.800 s\n[INFO] Finished at: 2021-11-15T16:47:06+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project AccountManagementSystem: Could not resolve dependencies for project com.AccountManagementSystem:AccountManagementSystem:war:0.0.1: The following artifacts could not be resolved: com.EncapsulationSystem:EncapsulationSystem:jar:1.0, jc:adwords-encapsulation:jar:1.0, com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1: Could not find artifact com.EncapsulationSystem:EncapsulationSystem:jar:1.0 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n\n\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.AccountManagementSystem&lt;/groupId&gt;\n    &lt;artifactId&gt;AccountManagementSystem&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;AccountManagementSystem&lt;/name&gt;\n    &lt;description&gt;Account Management System&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.EncapsulationSystem&lt;/groupId&gt;\n            &lt;artifactId&gt;EncapsulationSystem&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jc&lt;/groupId&gt;\n            &lt;artifactId&gt;adwords-encapsulation&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.32.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.PermissionSystemApiTool&lt;/groupId&gt;\n            &lt;artifactId&gt;PermissionSystemApiTool&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.amven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I have find some solution</p>\n<p><a href=\"https://stackoverflow.com/questions/33131880/maven-multi-module-project-cannot-find-sibling-module\">Maven multi module project cannot find sibling module</a></p>\n<p><a href=\"https://stackoverflow.com/questions/4650460/maven-could-not-resolve-dependencies-artifacts-could-not-be-resolved\">Maven Could not resolve dependencies, artifacts could not be resolved</a></p>\n<p>but when i run <code>mvn clean install</code></p>\n<p>I got error message</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] --------&lt; com.AccountManagementSystem:AccountManagementSystem &gt;---------\n[INFO] Building AccountManagementSystem 0.0.1\n[INFO] --------------------------------[ war ]---------------------------------\n[WARNING] The POM for com.EncapsulationSystem:EncapsulationSystem:jar:1.0 is missing, no dependency information available\n[WARNING] The POM for jc:adwords-encapsulation:jar:1.0 is missing, no dependency information available\n[WARNING] The POM for com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1 is missing, no dependency information available\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.912 s\n[INFO] Finished at: 2021-11-15T16:58:46+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project AccountManagementSystem: Could not resolve dependencies for project com.AccountManagementSystem:AccountManagementSystem:war:0.0.1: The following artifacts could not be resolved: com.EncapsulationSystem:EncapsulationSystem:jar:1.0, jc:adwords-encapsulation:jar:1.0, com.PermissionSystemApiTool:PermissionSystemApiTool:jar:0.0.1: com.EncapsulationSystem:EncapsulationSystem:jar:1.0 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n\n</code></pre>\n"},{"tags":["java","json","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637810470,"creation_date":1637778227,"answer_id":70101171,"question_id":70101035,"body_markdown":"You have made small error in your Model &amp; FeatureType class. I correct as below and it worked for me.\r\n\r\n```\r\n    public class FeatureType2{\r\n        public String code;\r\n        public String desc;\r\n    }\r\n\r\n    public class FeatureType{\r\n        public FeatureType2 feature_type;\r\n    }\r\n\r\n    public class Model2{\r\n        public String code;\r\n        public String type;\r\n        public String source;\r\n        public String name;\r\n        public List&lt;FeatureType&gt; feature_types;\r\n    }\r\n\r\n    public class Model{\r\n        public Model2 model;\r\n    }\r\n\r\n    public class Root{\r\n        public List&lt;Model&gt; models;\r\n    }\r\n```\r\n\r\nLet me know if this solves your issue.","title":"error while mapping json string to model class object","body":"<p>You have made small error in your Model &amp; FeatureType class. I correct as below and it worked for me.</p>\n<pre><code>    public class FeatureType2{\n        public String code;\n        public String desc;\n    }\n\n    public class FeatureType{\n        public FeatureType2 feature_type;\n    }\n\n    public class Model2{\n        public String code;\n        public String type;\n        public String source;\n        public String name;\n        public List&lt;FeatureType&gt; feature_types;\n    }\n\n    public class Model{\n        public Model2 model;\n    }\n\n    public class Root{\n        public List&lt;Model&gt; models;\n    }\n</code></pre>\n<p>Let me know if this solves your issue.</p>\n"}],"owner":{"account_id":5424092,"reputation":587,"user_id":4316933,"accept_rate":50,"display_name":"user222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637810470,"creation_date":1637777522,"question_id":70101035,"body_markdown":"Below is the json which i want to read and map to the class model object.\r\n\r\n    {\r\n        &quot;models&quot;: [\r\n            {\r\n                &quot;model&quot;: {\r\n                    &quot;code&quot;: &quot;YY77A&quot;,\r\n                    &quot;type&quot;: &quot;AUTO&quot;,\r\n                    &quot;source&quot;: &quot;IN&quot;,\r\n                    &quot;name&quot;: &quot;Sams&quot;,\r\n                    &quot;feature_types&quot;: [\r\n                        {\r\n                            &quot;feature_type&quot;: {\r\n                                &quot;code&quot;: &quot;8H&quot;,\r\n                                &quot;desc&quot;: &quot;All Models&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;feature_type&quot;: {\r\n                                &quot;code&quot;: &quot;my20&quot;,\r\n                                &quot;desc&quot;: &quot;MY20&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;feature_type&quot;: {\r\n                                &quot;code&quot;: &quot;my21&quot;,\r\n                                &quot;desc&quot;: &quot;MY21&quot;\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n    \t\t{\r\n                &quot;model&quot;: {\r\n                    &quot;code&quot;: &quot;PPuY&quot;,\r\n                    &quot;type&quot;: &quot;HOM&quot;,\r\n                    &quot;source&quot;: &quot;IN&quot;,\r\n                    &quot;name&quot;: null,\r\n                    &quot;feature_types&quot;: [\r\n                        {\r\n                            &quot;feature_type&quot;: {\r\n                                &quot;code&quot;: &quot;8H&quot;,\r\n                                &quot;desc&quot;: &quot;All Models&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;feature_type&quot;: {\r\n                                &quot;code&quot;: &quot;MY21&quot;,\r\n                                &quot;desc&quot;: &quot;MY21&quot;\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\n**Model class:**\r\n\r\n    class FeatureType2{\r\n        public String code;\r\n        public String desc;\r\n    }\r\n    \r\n    class FeatureType{\r\n        public FeatureType feature_type;\r\n    }\r\n    \r\n    class Model2{\r\n        public String code;\r\n        public String type;\r\n        public String source;\r\n        public String name;\r\n        public List&lt;FeatureType&gt; feature_types;\r\n    }\r\n    \r\n    class Model{\r\n        public Model model;\r\n    }\r\n    \r\n    public class Root{\r\n        public List&lt;Model&gt; models;\r\n    }\r\n\r\n\r\nBelow is the code used to map the json to model (Root.java)\r\n\r\n    // import com.fasterxml.jackson.databind.ObjectMapper; // version 2.11.1\r\n    // import com.fasterxml.jackson.annotation.JsonProperty; // version 2.11.1\r\n    ObjectMapper om = new ObjectMapper();\r\n    Root root = om.readValue(myJsonString), Root.class);  \r\n\r\nBelow is the exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;code&quot; (\r\n    com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;code&quot; (class com.samp.qc.Model), not marked as ignorable (one known property: &quot;model&quot;])\r\n    at [Source: java.io.StringReader@15f53014; line: 1, column: 30] (through reference chain: com.samp.qc.Root[&quot;models&quot;]-&gt;\r\n    com.samp.qc.Model[&quot;model&quot;]-&gt;com.samp.qc.Model[&quot;code&quot;])\r\n\r\nWhen mapping the json string to the model object it is showing the above exception. what would be the better way to map json String to Model class object.","title":"error while mapping json string to model class object","body":"<p>Below is the json which i want to read and map to the class model object.</p>\n<pre><code>{\n    &quot;models&quot;: [\n        {\n            &quot;model&quot;: {\n                &quot;code&quot;: &quot;YY77A&quot;,\n                &quot;type&quot;: &quot;AUTO&quot;,\n                &quot;source&quot;: &quot;IN&quot;,\n                &quot;name&quot;: &quot;Sams&quot;,\n                &quot;feature_types&quot;: [\n                    {\n                        &quot;feature_type&quot;: {\n                            &quot;code&quot;: &quot;8H&quot;,\n                            &quot;desc&quot;: &quot;All Models&quot;\n                        }\n                    },\n                    {\n                        &quot;feature_type&quot;: {\n                            &quot;code&quot;: &quot;my20&quot;,\n                            &quot;desc&quot;: &quot;MY20&quot;\n                        }\n                    },\n                    {\n                        &quot;feature_type&quot;: {\n                            &quot;code&quot;: &quot;my21&quot;,\n                            &quot;desc&quot;: &quot;MY21&quot;\n                        }\n                    }\n                ]\n            }\n        },\n        {\n            &quot;model&quot;: {\n                &quot;code&quot;: &quot;PPuY&quot;,\n                &quot;type&quot;: &quot;HOM&quot;,\n                &quot;source&quot;: &quot;IN&quot;,\n                &quot;name&quot;: null,\n                &quot;feature_types&quot;: [\n                    {\n                        &quot;feature_type&quot;: {\n                            &quot;code&quot;: &quot;8H&quot;,\n                            &quot;desc&quot;: &quot;All Models&quot;\n                        }\n                    },\n                    {\n                        &quot;feature_type&quot;: {\n                            &quot;code&quot;: &quot;MY21&quot;,\n                            &quot;desc&quot;: &quot;MY21&quot;\n                        }\n                    }\n                ]\n            }\n        }\n    ]\n}\n</code></pre>\n<p><strong>Model class:</strong></p>\n<pre><code>class FeatureType2{\n    public String code;\n    public String desc;\n}\n\nclass FeatureType{\n    public FeatureType feature_type;\n}\n\nclass Model2{\n    public String code;\n    public String type;\n    public String source;\n    public String name;\n    public List&lt;FeatureType&gt; feature_types;\n}\n\nclass Model{\n    public Model model;\n}\n\npublic class Root{\n    public List&lt;Model&gt; models;\n}\n</code></pre>\n<p>Below is the code used to map the json to model (Root.java)</p>\n<pre><code>// import com.fasterxml.jackson.databind.ObjectMapper; // version 2.11.1\n// import com.fasterxml.jackson.annotation.JsonProperty; // version 2.11.1\nObjectMapper om = new ObjectMapper();\nRoot root = om.readValue(myJsonString), Root.class);  \n</code></pre>\n<p>Below is the exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;code&quot; (\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;code&quot; (class com.samp.qc.Model), not marked as ignorable (one known property: &quot;model&quot;])\nat [Source: java.io.StringReader@15f53014; line: 1, column: 30] (through reference chain: com.samp.qc.Root[&quot;models&quot;]-&gt;\ncom.samp.qc.Model[&quot;model&quot;]-&gt;com.samp.qc.Model[&quot;code&quot;])\n</code></pre>\n<p>When mapping the json string to the model object it is showing the above exception. what would be the better way to map json String to Model class object.</p>\n"},{"tags":["java","apache-poi","filelock"],"answers":[{"tags":[],"owner":{"account_id":1979686,"reputation":1260,"user_id":1776597,"display_name":"Lorenzo Gatti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1453914216,"creation_date":1453914216,"answer_id":35043606,"question_id":35043382,"body_markdown":"Don&#39;t use `RandomAccessFile`, `FileChannel` and `FileLock` on your actual shared file, try to create and lock a separate dummy file instead. This way the process that succeeds won&#39;t see unusual locks or other activity on the Excel file.","title":"Locking an XLSX file for reading and writing with FileInputStream, FileOutputStream, and RandomAccessFile","body":"<p>Don't use <code>RandomAccessFile</code>, <code>FileChannel</code> and <code>FileLock</code> on your actual shared file, try to create and lock a separate dummy file instead. This way the process that succeeds won't see unusual locks or other activity on the Excel file.</p>\n"}],"owner":{"account_id":7721977,"reputation":13,"user_id":5847920,"display_name":"aoatley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35043606,"answer_count":1,"score":1,"last_activity_date":1637810174,"creation_date":1453913606,"question_id":35043382,"body_markdown":"I have an excel that I want to be locked when each forked process is reading and writing to it.  Apache poi requires me to use `FileInputStream` and `FileOutputStream` for reading and writing to that file, but all the examples I&#39;ve seen for locking a file for reading and writing use `RandomAccessFile` for this, but when I do this, when I call `workbook.write(os);` I get an \r\n`org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException` and the **excel becomes corrupted**.  Here is some of the code: \r\n\r\n    try {\r\n\t\t\tRandomAccessFile raf = new RandomAccessFile(path,&quot;rw&quot;);\r\n\t\t\tFileChannel channel = raf.getChannel();\r\n\t\t\tFileLock lock = channel.lock(0L,Long.MAX_VALUE,true);\r\n\t\t\t\r\n\t\t\tFileInputStream is = new FileInputStream(path);\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook(is);\r\n\t\t\tXSSFSheet sheet = workbook.getSheet(env.toUpperCase());\r\n\t\t        \r\n\t\t\tIterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n\t\t\t//skip headers\r\n\t\t\trowIterator.next();\r\n\t\t\twhile (rowIterator.hasNext())\r\n\t\t\t{\r\n\t\t\t\t//reading and editing values in excel\r\n\t\t\t}\r\n\t\t        \r\n\t\t\tis.close();\r\n\t\t    \r\n\t\t\tFileOutputStream os = new FileOutputStream(path);\t\r\n\t\t\tworkbook.write(os);\r\n\t\t\tworkbook.close();\r\n\t\t    os.close();    \r\n\t\t    \r\n\t\t\tlock.release();\r\n\t\t\tchannel.close();\r\n\t\t\traf.close();\r\n\t\t\t\r\n\t\t}","title":"Locking an XLSX file for reading and writing with FileInputStream, FileOutputStream, and RandomAccessFile","body":"<p>I have an excel that I want to be locked when each forked process is reading and writing to it.  Apache poi requires me to use <code>FileInputStream</code> and <code>FileOutputStream</code> for reading and writing to that file, but all the examples I've seen for locking a file for reading and writing use <code>RandomAccessFile</code> for this, but when I do this, when I call <code>workbook.write(os);</code> I get an \n<code>org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException</code> and the <strong>excel becomes corrupted</strong>.  Here is some of the code: </p>\n\n<pre><code>try {\n        RandomAccessFile raf = new RandomAccessFile(path,\"rw\");\n        FileChannel channel = raf.getChannel();\n        FileLock lock = channel.lock(0L,Long.MAX_VALUE,true);\n\n        FileInputStream is = new FileInputStream(path);\n        XSSFWorkbook workbook = new XSSFWorkbook(is);\n        XSSFSheet sheet = workbook.getSheet(env.toUpperCase());\n\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n        //skip headers\n        rowIterator.next();\n        while (rowIterator.hasNext())\n        {\n            //reading and editing values in excel\n        }\n\n        is.close();\n\n        FileOutputStream os = new FileOutputStream(path);   \n        workbook.write(os);\n        workbook.close();\n        os.close();    \n\n        lock.release();\n        channel.close();\n        raf.close();\n\n    }\n</code></pre>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637810203,"post_id":70105366,"comment_id":123927254,"body_markdown":"Which schema registry?","body":"Which schema registry?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638192119,"post_id":70105366,"comment_id":124014869,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23447084,"reputation":1,"user_id":17503745,"display_name":"samara"},"score":0,"creation_date":1638281035,"post_id":70105366,"comment_id":124042588,"body_markdown":"@tgdavies avro schema","body":"@tgdavies avro schema"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638303290,"post_id":70105366,"comment_id":124051720,"body_markdown":"Have a look at https://avro.apache.org/docs/current/gettingstartedjava.html","body":"Have a look at <a href=\"https://avro.apache.org/docs/current/gettingstartedjava.html\" rel=\"nofollow noreferrer\">avro.apache.org/docs/current/gettingstartedjava.html</a>"}],"owner":{"account_id":23447084,"reputation":1,"user_id":17503745,"display_name":"samara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637810115,"creation_date":1637809741,"question_id":70105366,"body_markdown":"Needed a java code to fetch the schema from the schema registry using the subject and version.\r\n","title":"How to fetch the schema from schema registry using subject and version using java","body":"<p>Needed a java code to fetch the schema from the schema registry using the subject and version.</p>\n"},{"tags":["java","android","android-studio","animation"],"answers":[{"tags":[],"owner":{"account_id":20431724,"reputation":34,"user_id":15826388,"display_name":"Lior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637809869,"creation_date":1637809869,"answer_id":70105384,"question_id":70103316,"body_markdown":"Is it supposed to be a button? If so - you can use the setIcon(icon.png) method, another solution is to set it in your layout file.","title":"Add existing drawable animation onto main_activity.xml","body":"<p>Is it supposed to be a button? If so - you can use the setIcon(icon.png) method, another solution is to set it in your layout file.</p>\n"}],"owner":{"account_id":14854601,"reputation":580,"user_id":10761924,"display_name":"Mark Ezberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70105384,"answer_count":1,"score":0,"last_activity_date":1637809869,"creation_date":1637790327,"question_id":70103316,"body_markdown":"I created animation.xml file in the res/drawable/ in Android Studio.\r\nIt is working fine on that page. However, what I need is too add animation onto activity_main.xml where I have all the stuffs I built. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBeing specific walking man photos(series of) in my `res/drawable/animation.xml` file and I want to import it next to buttons in main activity. \r\n\r\nHow can I import animation.xml in main activity so I can put it right next to the buttons of above UI.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MR9RR.png\r\n  [2]: https://i.stack.imgur.com/IBz0S.png","title":"Add existing drawable animation onto main_activity.xml","body":"<p>I created animation.xml file in the res/drawable/ in Android Studio.\nIt is working fine on that page. However, what I need is too add animation onto activity_main.xml where I have all the stuffs I built.</p>\n<p><a href=\"https://i.stack.imgur.com/MR9RR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MR9RR.png\" alt=\"enter image description here\" /></a></p>\n<p>Being specific walking man photos(series of) in my <code>res/drawable/animation.xml</code> file and I want to import it next to buttons in main activity.</p>\n<p>How can I import animation.xml in main activity so I can put it right next to the buttons of above UI.</p>\n<p><a href=\"https://i.stack.imgur.com/IBz0S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IBz0S.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","installation","project"],"comments":[{"owner":{"account_id":277005,"reputation":1859,"user_id":570724,"accept_rate":40,"display_name":"tianwei"},"score":0,"creation_date":1637811171,"post_id":70105104,"comment_id":123927399,"body_markdown":"A library is identified by both group id and artifact id, name the artifact id freely as you want to.","body":"A library is identified by both group id and artifact id, name the artifact id freely as you want to."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1637813440,"post_id":70105104,"comment_id":123927716,"body_markdown":"https://maven.apache.org/guides/mini/guide-naming-conventions.html","body":"<a href=\"https://maven.apache.org/guides/mini/guide-naming-conventions.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-naming-conventions.html</a>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1637959690,"post_id":70105104,"comment_id":123969661,"body_markdown":"@tianwei There is a third item for building a (unique) identification of an artifact: the version. All three together often called _GAV_.","body":"@tianwei There is a third item for building a (unique) identification of an artifact: the version. All three together often called <i>GAV</i>."}],"owner":{"account_id":21652779,"reputation":15,"user_id":15973129,"display_name":"mrHowareyou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637806903,"creation_date":1637806903,"question_id":70105104,"body_markdown":"I wonder shall I name the Artifact Id freely? Or with the same name of Group Id\r\nwill it be trouble when I develop further?\r\n\r\nI have seen examples on website giving a name like that\r\n&quot;java-web-crawler&quot;","title":"How do I name the Artifact Id in maven project","body":"<p>I wonder shall I name the Artifact Id freely? Or with the same name of Group Id\nwill it be trouble when I develop further?</p>\n<p>I have seen examples on website giving a name like that\n&quot;java-web-crawler&quot;</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14437329,"reputation":1066,"user_id":10429009,"display_name":"Ali Moghadam"},"score":0,"creation_date":1637784482,"post_id":70102232,"comment_id":123921514,"body_markdown":"you can find your answer here -&gt;  https://stackoverflow.com/a/2201999/10429009","body":"you can find your answer here -&gt;  <a href=\"https://stackoverflow.com/a/2201999/10429009\">stackoverflow.com/a/2201999/10429009</a>"}],"answers":[{"tags":[],"owner":{"account_id":16323583,"reputation":3284,"user_id":11788715,"display_name":"Ole Pannier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637806646,"creation_date":1637806646,"answer_id":70105073,"question_id":70102232,"body_markdown":"Best method is to use `Uri.parse` as an `Intent` in your `switch` like this:\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        Intent i;\r\n        switch (v.getId()){\r\n            case R.id.card1:\r\n                i = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://www.google.com&quot;));\r\n                startActivity(i);\r\n                break;\r\n        }\r\n    }\r\n   ","title":"Android Studio with Clickable CardView redirect to website","body":"<p>Best method is to use <code>Uri.parse</code> as an <code>Intent</code> in your <code>switch</code> like this:</p>\n<pre><code>@Override\npublic void onClick(View v) {\n    Intent i;\n    switch (v.getId()){\n        case R.id.card1:\n            i = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://www.google.com&quot;));\n            startActivity(i);\n            break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23444616,"reputation":1,"user_id":17501611,"display_name":"Zeint"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637806646,"creation_date":1637783841,"question_id":70102232,"body_markdown":"i&#39;m new to Android Studio Programming.\r\nI created CardView menu. But all i wanna do is, when you click the cardview it&#39;s redirect you to browser and open url (example, you press the cardview and redirect you to google.com website).\r\nHow to do it ?\r\n\r\nMy current code :\r\n\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.cardview.widget.CardView;\r\n    \r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    public class Activity3 extends AppCompatActivity implements View.OnClickListener {\r\n    \r\n        public CardView menu1, menu2, menu3;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_3);\r\n            menu1 = (CardView) findViewById(R.id.card1);\r\n            menu2 = (CardView) findViewById(R.id.card2);\r\n            menu3 = (CardView) findViewById(R.id.card3);\r\n    \r\n            menu1.setOnClickListener(this);\r\n            menu2.setOnClickListener(this);\r\n         menu3.setOnClickListener(this);\r\n           \r\n        }\r\n        \r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            Intent i;\r\n            switch (v.getId()){\r\n                case R.id.card1:\r\n                    i = new Intent(this, MainActivity.class);\r\n                    startActivity(i);\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nas you can see, on menu1 it redirect you to another activity, but i want to do with menu2 and menu3 to open link. Please help me. Thanks","title":"Android Studio with Clickable CardView redirect to website","body":"<p>i'm new to Android Studio Programming.\nI created CardView menu. But all i wanna do is, when you click the cardview it's redirect you to browser and open url (example, you press the cardview and redirect you to google.com website).\nHow to do it ?</p>\n<p>My current code :</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.cardview.widget.CardView;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\n\npublic class Activity3 extends AppCompatActivity implements View.OnClickListener {\n\n    public CardView menu1, menu2, menu3;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_3);\n        menu1 = (CardView) findViewById(R.id.card1);\n        menu2 = (CardView) findViewById(R.id.card2);\n        menu3 = (CardView) findViewById(R.id.card3);\n\n        menu1.setOnClickListener(this);\n        menu2.setOnClickListener(this);\n     menu3.setOnClickListener(this);\n       \n    }\n    \n\n    @Override\n    public void onClick(View v) {\n        Intent i;\n        switch (v.getId()){\n            case R.id.card1:\n                i = new Intent(this, MainActivity.class);\n                startActivity(i);\n                break;\n        }\n    }\n\n}\n</code></pre>\n<p>as you can see, on menu1 it redirect you to another activity, but i want to do with menu2 and menu3 to open link. Please help me. Thanks</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-mapper"],"owner":{"account_id":6087537,"reputation":2443,"user_id":4750980,"accept_rate":75,"display_name":"10110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637806136,"creation_date":1637806136,"question_id":70105028,"body_markdown":"I&#39;m writing an API endpoint to allow users to list items according to the parameters they pass in on the request body.\r\n\r\nI want the partition key to be the only required parameter; clients will be allowed to pass zero or more key-value pairs to achieve the desired level of granularity in their query.\r\n\r\nMy DynamoDB Table holds items with the following structure:\r\n\r\n    {\r\n      &quot;appName&quot;: { //PARTITION KEY\r\n        &quot;S&quot;: &quot;APP_1&quot;\r\n      },\r\n      &quot;requestId&quot;: { // SORT KEY\r\n        &quot;S&quot;: &quot;request_1224&quot;\r\n      },\r\n      &quot;creationTime&quot;: {\r\n        &quot;N&quot;: &quot;1636332520679&quot;\r\n      },\r\n      &quot;resolver&quot;: {\r\n        &quot;S&quot;: &quot;SOMEONES_ID&quot;\r\n      },\r\n      &quot;status&quot;: {\r\n         &quot;S&quot;: &quot;PENDING&quot;\r\n      }\r\n    }\r\n\r\nI have some working code, where the `DynamoDBQueryExpression` is hard-coded and I do have an idea of how to dynamically put together the Query Expression but I&#39;m thinking of an ugly combination of for-loops and string manipulation. \r\n\r\n\r\nIs there an elegant and clean way of dynamically putting together the `DynamoDBQueryExpression`?\r\n\r\nHere&#39;s the starter code I have, for reference:\r\n\r\n        Map&lt;String, AttributeValue&gt; eav = new HashMap&lt;String, AttributeValue&gt;();\r\n        eav.put(&quot;:val1&quot;, new AttributeValue().withS(requestModel.getAppName()));\r\n        eav.put(&quot;:val2&quot;, new AttributeValue().withS(accessRequestModel.getRequestStatus()));\r\n    \r\n        DynamoDBQueryExpression&lt;RequestModel&gt; queryExpression = new DynamoDBQueryExpression&lt;RequestModel&gt;()\r\n                .withKeyConditionExpression(&quot;appName = :val1&quot;)\r\n                .withFilterExpression(&quot;RequestStatus = :val2&quot;)\r\n                .withExpressionAttributeValues(eav);\r\n\r\nJust to be extra clear, see how I&#39;m doing `put` and passing hard-coded values to `withFilterConditionExpression` I&#39;d like these values being passed dynamically according to client&#39;s input.\r\n\r\n\r\nI&#39;m using Java&#39;s [AWS DynamoDB Mapper](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.htmlhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.htmlhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html).\r\n\r\n","title":"Dynamically compose DynamoDB Query Expression according to user input","body":"<p>I'm writing an API endpoint to allow users to list items according to the parameters they pass in on the request body.</p>\n<p>I want the partition key to be the only required parameter; clients will be allowed to pass zero or more key-value pairs to achieve the desired level of granularity in their query.</p>\n<p>My DynamoDB Table holds items with the following structure:</p>\n<pre><code>{\n  &quot;appName&quot;: { //PARTITION KEY\n    &quot;S&quot;: &quot;APP_1&quot;\n  },\n  &quot;requestId&quot;: { // SORT KEY\n    &quot;S&quot;: &quot;request_1224&quot;\n  },\n  &quot;creationTime&quot;: {\n    &quot;N&quot;: &quot;1636332520679&quot;\n  },\n  &quot;resolver&quot;: {\n    &quot;S&quot;: &quot;SOMEONES_ID&quot;\n  },\n  &quot;status&quot;: {\n     &quot;S&quot;: &quot;PENDING&quot;\n  }\n}\n</code></pre>\n<p>I have some working code, where the <code>DynamoDBQueryExpression</code> is hard-coded and I do have an idea of how to dynamically put together the Query Expression but I'm thinking of an ugly combination of for-loops and string manipulation.</p>\n<p>Is there an elegant and clean way of dynamically putting together the <code>DynamoDBQueryExpression</code>?</p>\n<p>Here's the starter code I have, for reference:</p>\n<pre><code>    Map&lt;String, AttributeValue&gt; eav = new HashMap&lt;String, AttributeValue&gt;();\n    eav.put(&quot;:val1&quot;, new AttributeValue().withS(requestModel.getAppName()));\n    eav.put(&quot;:val2&quot;, new AttributeValue().withS(accessRequestModel.getRequestStatus()));\n\n    DynamoDBQueryExpression&lt;RequestModel&gt; queryExpression = new DynamoDBQueryExpression&lt;RequestModel&gt;()\n            .withKeyConditionExpression(&quot;appName = :val1&quot;)\n            .withFilterExpression(&quot;RequestStatus = :val2&quot;)\n            .withExpressionAttributeValues(eav);\n</code></pre>\n<p>Just to be extra clear, see how I'm doing <code>put</code> and passing hard-coded values to <code>withFilterConditionExpression</code> I'd like these values being passed dynamically according to client's input.</p>\n<p>I'm using Java's <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.htmlhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.htmlhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\" rel=\"nofollow noreferrer\">AWS DynamoDB Mapper</a>.</p>\n"},{"tags":["java","spring-boot","uwp","windows-store","in-app-subscription"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638151451,"post_id":70097667,"comment_id":124003843,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":11521911,"reputation":8298,"user_id":8443430,"display_name":"Roy Li - MSFT"},"score":0,"creation_date":1638412756,"post_id":70097667,"comment_id":124083893,"body_markdown":"Any updates about your issue?","body":"Any updates about your issue?"},{"owner":{"account_id":9285031,"reputation":13,"user_id":6895203,"display_name":"Ashutosh Tripathy"},"score":0,"creation_date":1638439968,"post_id":70097667,"comment_id":124090375,"body_markdown":"Thanks for the Response @RoyLi-MSFT ; it&#39;s resolved now.","body":"Thanks for the Response @RoyLi-MSFT ; it&#39;s resolved now."}],"answers":[{"tags":[],"owner":{"account_id":11521911,"reputation":8298,"user_id":8443430,"display_name":"Roy Li - MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637805878,"creation_date":1637805878,"answer_id":70105003,"question_id":70097667,"body_markdown":"You can use the *Microsoft Store collection API* and *Microsoft Store purchase API* to access entitlement information for these products from your services. These APIs consist of REST methods that are designed to be used by developers with add-on catalogs that are supported by cross-platform services.  For example, *Microsoft Store collection API* could **query for products owned by a user** and *Microsoft Store purchase API* could **get subscriptions for a user**. \r\n\r\nYou could learn the full process about how to use the **Microsoft Store collection API** and **Microsoft Store purchase API** here:  **[Manage product entitlements from a service][1]**. And if you want to get the subscription information of the user, you could take a look at **[Get subscriptions for a user][2]**, which contains the full request example and response body.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/uwp/monetize/view-and-grant-products-from-a-service\r\n  [2]: https://learn.microsoft.com/en-us/windows/uwp/monetize/get-subscriptions-for-a-user\r\n\r\n","title":"Getting subscription &amp; in-app purchase information from an App hosted in Microsoft store","body":"<p>You can use the <em>Microsoft Store collection API</em> and <em>Microsoft Store purchase API</em> to access entitlement information for these products from your services. These APIs consist of REST methods that are designed to be used by developers with add-on catalogs that are supported by cross-platform services.  For example, <em>Microsoft Store collection API</em> could <strong>query for products owned by a user</strong> and <em>Microsoft Store purchase API</em> could <strong>get subscriptions for a user</strong>.</p>\n<p>You could learn the full process about how to use the <strong>Microsoft Store collection API</strong> and <strong>Microsoft Store purchase API</strong> here:  <strong><a href=\"https://learn.microsoft.com/en-us/windows/uwp/monetize/view-and-grant-products-from-a-service\" rel=\"nofollow noreferrer\">Manage product entitlements from a service</a></strong>. And if you want to get the subscription information of the user, you could take a look at <strong><a href=\"https://learn.microsoft.com/en-us/windows/uwp/monetize/get-subscriptions-for-a-user\" rel=\"nofollow noreferrer\">Get subscriptions for a user</a></strong>, which contains the full request example and response body.</p>\n"}],"owner":{"account_id":9285031,"reputation":13,"user_id":6895203,"display_name":"Ashutosh Tripathy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70105003,"answer_count":1,"score":0,"last_activity_date":1637805878,"creation_date":1637763251,"question_id":70097667,"body_markdown":"We have an app hosted in Microsoft store.\r\nWe want to,\r\n\r\n1. Access the subscription/in-app purchase information of the app from backend using java/springboot\r\n\r\n2. What are the MS Store Rest APIs that we can use to validate or communicate.\r\n\r\nAs we are doing this for first time any pointers or code sample will be absolutely halpful.\r\nThanks in advance.","title":"Getting subscription &amp; in-app purchase information from an App hosted in Microsoft store","body":"<p>We have an app hosted in Microsoft store.\nWe want to,</p>\n<ol>\n<li><p>Access the subscription/in-app purchase information of the app from backend using java/springboot</p>\n</li>\n<li><p>What are the MS Store Rest APIs that we can use to validate or communicate.</p>\n</li>\n</ol>\n<p>As we are doing this for first time any pointers or code sample will be absolutely halpful.\nThanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2906812,"reputation":21459,"user_id":2491900,"display_name":"shree.pat18"},"score":0,"creation_date":1611835681,"post_id":65936771,"comment_id":116581002,"body_markdown":"Wherr do you intend to use the square variable? It is defined but not used","body":"Wherr do you intend to use the square variable? It is defined but not used"}],"answers":[{"tags":[],"owner":{"account_id":13804005,"reputation":657,"user_id":9963355,"display_name":"xxMrPHDxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611835680,"creation_date":1611835680,"answer_id":65936828,"question_id":65936771,"body_markdown":"You didn&#39;t use the `square`. Should be\r\n```java\r\n    double square = Math.pow(heightinmeter, 2);\r\n    bmi = weightinkg / square;\r\n```","title":"my java bmi calculator giving the same answer","body":"<p>You didn't use the <code>square</code>. Should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>    double square = Math.pow(heightinmeter, 2);\n    bmi = weightinkg / square;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8531952,"reputation":131,"user_id":6395262,"display_name":"Jalaj Varshney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611836179,"creation_date":1611836179,"answer_id":65936940,"question_id":65936771,"body_markdown":"You are not using `square`.\r\n\r\n`bmi` should be `weightinkg/square`\r\n\r\nAlso use the OR operator instead of AND. You can remove the negative check in the end.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        double bmi = 0;\r\n        double weightinkg = 0;\r\n        double heightinmeter = 0;\r\n        String status = &quot;&quot;;\r\n        System.out.println(&quot;Enter the weight in Kg :&quot;);\r\n        weightinkg = sc.nextDouble();\r\n        System.out.println(&quot;Enter the height in Meter : &quot;);  //enter the age\r\n        heightinmeter = sc.nextDouble();\r\n        if ((weightinkg &lt;= 0) || (heightinmeter &lt;= 0)) { //Replace &amp;&amp; with ||\r\n            System.out.println(&quot;ERROR: Negative number&quot;);\r\n            return;\r\n        }\r\n        double square = Math.pow(heightinmeter, 2);\r\n        bmi = weightinkg / square;\r\n        if (bmi &gt;= 0 &amp;&amp; bmi &lt;= 24) {\r\n            status = &quot;Under Weight&quot;;\r\n        } else if (bmi &gt;= 25 &amp;&amp; bmi &lt;= 29) {\r\n            status = &quot;Healthy&quot;;\r\n        } else if (bmi &gt;= 30 &amp;&amp; bmi &lt;= 34) {\r\n            status = &quot;Overweight&quot;;\r\n        } else\r\n            status = &quot;Obese&quot;;\r\n\r\n        System.out.printf(&quot;Hello, your status is %s ! Please come again!&quot;, status);\r\n    }\r\n}\r\n```","title":"my java bmi calculator giving the same answer","body":"<p>You are not using <code>square</code>.</p>\n<p><code>bmi</code> should be <code>weightinkg/square</code></p>\n<p>Also use the OR operator instead of AND. You can remove the negative check in the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        double bmi = 0;\n        double weightinkg = 0;\n        double heightinmeter = 0;\n        String status = &quot;&quot;;\n        System.out.println(&quot;Enter the weight in Kg :&quot;);\n        weightinkg = sc.nextDouble();\n        System.out.println(&quot;Enter the height in Meter : &quot;);  //enter the age\n        heightinmeter = sc.nextDouble();\n        if ((weightinkg &lt;= 0) || (heightinmeter &lt;= 0)) { //Replace &amp;&amp; with ||\n            System.out.println(&quot;ERROR: Negative number&quot;);\n            return;\n        }\n        double square = Math.pow(heightinmeter, 2);\n        bmi = weightinkg / square;\n        if (bmi &gt;= 0 &amp;&amp; bmi &lt;= 24) {\n            status = &quot;Under Weight&quot;;\n        } else if (bmi &gt;= 25 &amp;&amp; bmi &lt;= 29) {\n            status = &quot;Healthy&quot;;\n        } else if (bmi &gt;= 30 &amp;&amp; bmi &lt;= 34) {\n            status = &quot;Overweight&quot;;\n        } else\n            status = &quot;Obese&quot;;\n\n        System.out.printf(&quot;Hello, your status is %s ! Please come again!&quot;, status);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20570142,"reputation":39,"user_id":15098657,"display_name":"Z3R0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1637805339,"creation_date":1611835431,"question_id":65936771,"body_markdown":"i&#39;m trying to make a bmi calculator but the answer keeps being the same.\r\n\r\ni tried putting numbers height=1.50 meter weight=100 kg\r\nbut the answer was underweigth\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        double bmi = 0;\r\n        double weightinkg = 0;\r\n        double heightinmeter = 0;\r\n        String status = &quot;&quot;;\r\n        System.out.println(&quot;Enter the weight in Kg :&quot;);\r\n        weightinkg = sc.nextDouble();\r\n        System.out.println(&quot;Enter the height in Meter : &quot;);  //enter the age\r\n        heightinmeter = sc.nextDouble();\r\n        if ((weightinkg &lt;= 0) &amp;&amp; (heightinmeter &lt;= 0))\r\n            System.out.println(&quot;ERROR: Negative number&quot;);\r\n        double square = Math.pow(heightinmeter, 2);\r\n        bmi = weightinkg / heightinmeter;\r\n        if (bmi &gt;= 0) {\r\n            if (bmi &gt;= 0 &amp;&amp; bmi &lt;= 24) {\r\n                status = &quot;Under Weight&quot;;\r\n            } else if (bmi &gt;= 25 &amp;&amp; bmi &lt;= 29) {\r\n                status = &quot;Healthy&quot;;\r\n            } else if (bmi &gt;= 30 &amp;&amp; bmi &lt;= 34) {\r\n                status = &quot;Overweight&quot;;\r\n            } else\r\n                status = &quot;Obese&quot;;\r\n        }\r\n        else\r\n            System.out.println(&quot;Invalid BMI (number must be positive&quot;);\r\n        System.out.printf(&quot;Hello, your status is %s ! Please come again!&quot;, status);\r\n    }\r\n","title":"my java bmi calculator giving the same answer","body":"<p>i'm trying to make a bmi calculator but the answer keeps being the same.</p>\n<p>i tried putting numbers height=1.50 meter weight=100 kg\nbut the answer was underweigth</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    double bmi = 0;\n    double weightinkg = 0;\n    double heightinmeter = 0;\n    String status = &quot;&quot;;\n    System.out.println(&quot;Enter the weight in Kg :&quot;);\n    weightinkg = sc.nextDouble();\n    System.out.println(&quot;Enter the height in Meter : &quot;);  //enter the age\n    heightinmeter = sc.nextDouble();\n    if ((weightinkg &lt;= 0) &amp;&amp; (heightinmeter &lt;= 0))\n        System.out.println(&quot;ERROR: Negative number&quot;);\n    double square = Math.pow(heightinmeter, 2);\n    bmi = weightinkg / heightinmeter;\n    if (bmi &gt;= 0) {\n        if (bmi &gt;= 0 &amp;&amp; bmi &lt;= 24) {\n            status = &quot;Under Weight&quot;;\n        } else if (bmi &gt;= 25 &amp;&amp; bmi &lt;= 29) {\n            status = &quot;Healthy&quot;;\n        } else if (bmi &gt;= 30 &amp;&amp; bmi &lt;= 34) {\n            status = &quot;Overweight&quot;;\n        } else\n            status = &quot;Obese&quot;;\n    }\n    else\n        System.out.println(&quot;Invalid BMI (number must be positive&quot;);\n    System.out.printf(&quot;Hello, your status is %s ! Please come again!&quot;, status);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose","redis"],"comments":[{"owner":{"account_id":11666701,"reputation":2049,"user_id":8543203,"display_name":"Ali Tou"},"score":0,"creation_date":1637836301,"post_id":70104867,"comment_id":123934289,"body_markdown":"Can you show us your Dockerfile? Do you have only this `application.properties` file?","body":"Can you show us your Dockerfile? Do you have only this <code>application.properties</code> file?"}],"answers":[{"tags":[],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637805114,"creation_date":1637805114,"answer_id":70104941,"question_id":70104867,"body_markdown":"as per logs it clearly says that web application is not able to connect to redis port 6379.  Can you try expose 6379 in Dockerfile? , please check first are you able to pint 6379 from your local machine. Seems network issue.\r\n\r\nSee is this helps.\r\n\r\nhttps://stackoverflow.com/questions/50818146/docker-cant-connect-to-redis-from-another-service/58891367#58891367","title":"Redis refuses connection to Spring Boot via Docker Compose","body":"<p>as per logs it clearly says that web application is not able to connect to redis port 6379.  Can you try expose 6379 in Dockerfile? , please check first are you able to pint 6379 from your local machine. Seems network issue.</p>\n<p>See is this helps.</p>\n<p><a href=\"https://stackoverflow.com/questions/50818146/docker-cant-connect-to-redis-from-another-service/58891367#58891367\">Docker can&#39;t connect to redis from another service</a></p>\n"}],"owner":{"account_id":23446458,"reputation":1,"user_id":17503209,"display_name":"pls_help"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637805114,"creation_date":1637804073,"question_id":70104867,"body_markdown":"I developed a spring boot application to store login information via redis. I have following docker-compose.yml:\r\n\r\n```\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  web:\r\n    build: .\r\n    ports:\r\n      - &quot;8082:8082&quot;\r\n    links:\r\n      - redis\r\n  redis:\r\n    image: redis\r\n    container_name: redis\r\n    hostname: redis-db\r\n    ports:\r\n      - &quot;6379:6379&quot;\r\n    command: redis-server --port 6379 --bind 0.0.0.0 --protected-mode no\r\n```\r\n\r\nDockerfile:\r\n\r\n```\r\nFROM openjdk:8-jre-alpine\r\nVOLUME /tmp\r\nCOPY app.jar app.jar\r\nEXPOSE 8082\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,  &quot;app.jar&quot;]\r\n```\r\n\r\nIn the Spring Boot Application, I just use following application.properties to setup the Redis Connection:\r\n\r\n```\r\nserver.port = 8082\r\n\r\nspring.redis.host=redis-db\r\nspring.redis.port=6379\r\n```\r\n\r\nI access the repository via CrudRepository and QueryByExampleExecutor. Every time I try to access the data, I get the following error:\r\n\r\n```\r\nsgartner-web-1  | 2021-11-25 01:22:53.600 ERROR 1 --- [nio-8082-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379] with root cause\r\nsgartner-web-1  | \r\nsgartner-web-1  | java.net.ConnectException: Connection refused\r\nsgartner-web-1  |       at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:1.8.0_212]\r\nsgartner-web-1  |       at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[na:1.8.0_212]\r\nsgartner-web-1  |       at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.69.Final.jar!/:4.1.69.Final]\r\nsgartner-web-1  |       at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\r\n\r\n```\r\n\r\nI already have tested the application &quot;normal&quot; instances of redis and the application. What seems odd to me is the &quot;Unable to connect to localhost:6379]&quot;, even though I&#39;m not trying to connect to localhost.\r\n\r\nTesting this behavior while running the application outside of a container shows, that it recognises the changed hostname and doesn&#39;t try to connect to localhost...  \r\n\r\nThe specified redis command also doesn&#39;t seem to be the problem: tested this with running redis outside of a container with the same command and trying to connect to it via a VM.\r\n\r\nI would really appreciate a solution or another possible cause to look into. Thanks to whoever replies to this!\r\n\r\n\r\n","title":"Redis refuses connection to Spring Boot via Docker Compose","body":"<p>I developed a spring boot application to store login information via redis. I have following docker-compose.yml:</p>\n<pre><code>version: &quot;3.9&quot;\nservices:\n  web:\n    build: .\n    ports:\n      - &quot;8082:8082&quot;\n    links:\n      - redis\n  redis:\n    image: redis\n    container_name: redis\n    hostname: redis-db\n    ports:\n      - &quot;6379:6379&quot;\n    command: redis-server --port 6379 --bind 0.0.0.0 --protected-mode no\n</code></pre>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk:8-jre-alpine\nVOLUME /tmp\nCOPY app.jar app.jar\nEXPOSE 8082\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,  &quot;app.jar&quot;]\n</code></pre>\n<p>In the Spring Boot Application, I just use following application.properties to setup the Redis Connection:</p>\n<pre><code>server.port = 8082\n\nspring.redis.host=redis-db\nspring.redis.port=6379\n</code></pre>\n<p>I access the repository via CrudRepository and QueryByExampleExecutor. Every time I try to access the data, I get the following error:</p>\n<pre><code>sgartner-web-1  | 2021-11-25 01:22:53.600 ERROR 1 --- [nio-8082-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379] with root cause\nsgartner-web-1  | \nsgartner-web-1  | java.net.ConnectException: Connection refused\nsgartner-web-1  |       at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:1.8.0_212]\nsgartner-web-1  |       at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[na:1.8.0_212]\nsgartner-web-1  |       at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.69.Final.jar!/:4.1.69.Final]\nsgartner-web-1  |       at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\n\n</code></pre>\n<p>I already have tested the application &quot;normal&quot; instances of redis and the application. What seems odd to me is the &quot;Unable to connect to localhost:6379]&quot;, even though I'm not trying to connect to localhost.</p>\n<p>Testing this behavior while running the application outside of a container shows, that it recognises the changed hostname and doesn't try to connect to localhost...</p>\n<p>The specified redis command also doesn't seem to be the problem: tested this with running redis outside of a container with the same command and trying to connect to it via a VM.</p>\n<p>I would really appreciate a solution or another possible cause to look into. Thanks to whoever replies to this!</p>\n"},{"tags":["java","mysql","hibernate","hql"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1556862067,"post_id":55963636,"comment_id":98578566,"body_markdown":"Given your database tables, the inheritance strategy you chose is not TABLE_PER_CLASS, but JOINED: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-joined-table","body":"Given your database tables, the inheritance strategy you chose is not TABLE_PER_CLASS, but JOINED: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-joined-table\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/current/userguide/html_single/&hellip;</a>"},{"owner":{"account_id":11167810,"reputation":335,"user_id":8195882,"accept_rate":55,"display_name":"Paul Buciuman"},"score":0,"creation_date":1556876849,"post_id":55963636,"comment_id":98585332,"body_markdown":"thanks, found useful info and for now looks good","body":"thanks, found useful info and for now looks good"}],"owner":{"account_id":11167810,"reputation":335,"user_id":8195882,"accept_rate":55,"display_name":"Paul Buciuman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637804966,"creation_date":1556860293,"question_id":55963636,"body_markdown":"I&#39;m working on a student management app, I&#39;m confused with how to map different types of users that I have in my database with classes in Java, using inheritance. I have the tables &quot;User&quot;, &quot;Student&quot; and &quot;Teacher&quot; as it follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI created the abstract class User:\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    @Table(name = &quot;user&quot;)\r\n    public abstract class User {\r\n\t\r\n\t@Id\r\n\tprivate int id;\r\n\tprivate String fname;\r\n\tprivate String lname;\r\n\tprivate String email;\r\n\tprivate String password;\r\n\tprivate String address;\r\n\tprivate String phone;\r\n\tprivate String userType;\r\n\tprivate boolean isAdmin;\r\n\t\r\n\t\r\n\tpublic User(String fname, String lname, String email, String password, String address, String phone,\r\n\t\t\tString userType, boolean isAdmin) {\r\n\t\t//super();\r\n\t\t\r\n\t\tthis.fname = fname;\r\n\t\tthis.lname = lname;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.address = address;\r\n\t\tthis.phone = phone;\r\n\t\tthis.userType = userType;\r\n\t\tthis.isAdmin = isAdmin;\r\n\t}   \r\n\r\n\r\nThe child class Student: \r\n\r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student extends User  {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;user_id&quot;)\r\n\tprivate int id;\r\n\tprivate int grade;\r\n\r\n\tpublic Student(int id, String fname, String lname, String email, String password, String address, String phone,\r\n\t\t\tString userType, int grade, boolean isAdmin) \r\n\t{\r\n\t\tsuper(fname, lname, email, password, address, phone, userType, isAdmin);\r\n\t\t\r\n\t\tthis.grade=grade;\r\n\t\tthis.id = id;\r\n\t}\r\n   \r\nThe class &quot;Teacher&quot; is in the same manner as &quot;Student&quot;.\r\n\r\nI got stuck on how to actually model the relationships using hibernate in order to do create, read, update or delete students from the database.\r\n\r\nSo far I have tried this method in a StudentDAO class, but it&#39;s not working and I&#39;m really not confident if my modeling is alright: \r\n\r\n    @Transactional\t\r\n\t   public void listStudent( int id ){\r\n\t\t \r\n\t\tStudent myStudent =null;\r\n\t\t\r\n\t\tConfiguration con = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Student.class);\r\n\t\t \r\n\t\t SessionFactory sf = con.buildSessionFactory();\r\n\t\t \r\n\t\t Session session = sf.openSession();\r\n\t\t \r\n\t\t Transaction tx = session.beginTransaction();\r\n\t\t \r\n\t\t myStudent = (Student)session.get(Student.class, id);\r\n\t\t \r\n\t\t System.out.println(myStudent);\r\n\r\nI&#39;m confused about how to use One-to-Many relationships as I&#39;m seeing it as an inheritance. \r\n\r\nHow could I model this in the best way and how can I use hibernate to just use these basic operations on the database?\r\n\r\n  [1]: https://i.stack.imgur.com/DVnaW.png","title":"How to map inherited classes on database table with hibernate?","body":"<p>I'm working on a student management app, I'm confused with how to map different types of users that I have in my database with classes in Java, using inheritance. I have the tables \"User\", \"Student\" and \"Teacher\" as it follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DVnaW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DVnaW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I created the abstract class User:</p>\n\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@Table(name = \"user\")\npublic abstract class User {\n\n@Id\nprivate int id;\nprivate String fname;\nprivate String lname;\nprivate String email;\nprivate String password;\nprivate String address;\nprivate String phone;\nprivate String userType;\nprivate boolean isAdmin;\n\n\npublic User(String fname, String lname, String email, String password, String address, String phone,\n        String userType, boolean isAdmin) {\n    //super();\n\n    this.fname = fname;\n    this.lname = lname;\n    this.email = email;\n    this.password = password;\n    this.address = address;\n    this.phone = phone;\n    this.userType = userType;\n    this.isAdmin = isAdmin;\n}   \n</code></pre>\n\n<p>The child class Student: </p>\n\n<pre><code>@Entity\n@Table(name = \"student\")\npublic class Student extends User  {\n\n@Id\n@Column(name = \"user_id\")\nprivate int id;\nprivate int grade;\n\npublic Student(int id, String fname, String lname, String email, String password, String address, String phone,\n        String userType, int grade, boolean isAdmin) \n{\n    super(fname, lname, email, password, address, phone, userType, isAdmin);\n\n    this.grade=grade;\n    this.id = id;\n}\n</code></pre>\n\n<p>The class \"Teacher\" is in the same manner as \"Student\".</p>\n\n<p>I got stuck on how to actually model the relationships using hibernate in order to do create, read, update or delete students from the database.</p>\n\n<p>So far I have tried this method in a StudentDAO class, but it's not working and I'm really not confident if my modeling is alright: </p>\n\n<pre><code>@Transactional  \n   public void listStudent( int id ){\n\n    Student myStudent =null;\n\n    Configuration con = new Configuration().configure(\"hibernate.cfg.xml\").addAnnotatedClass(Student.class);\n\n     SessionFactory sf = con.buildSessionFactory();\n\n     Session session = sf.openSession();\n\n     Transaction tx = session.beginTransaction();\n\n     myStudent = (Student)session.get(Student.class, id);\n\n     System.out.println(myStudent);\n</code></pre>\n\n<p>I'm confused about how to use One-to-Many relationships as I'm seeing it as an inheritance. </p>\n\n<p>How could I model this in the best way and how can I use hibernate to just use these basic operations on the database?</p>\n"},{"tags":["java","gradle","syntax","runtime-error","importerror"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637721988,"post_id":70090152,"comment_id":123900353,"body_markdown":"what are you running?  *The syntax errors refer to a Javadoc comment* - what do you mean?","body":"what are you running?  <i>The syntax errors refer to a Javadoc comment</i> - what do you mean?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1637722445,"post_id":70090152,"comment_id":123900431,"body_markdown":"Have you tried ***compiling*** this source code?","body":"Have you tried <b><i>compiling</i></b> this source code?"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1637722655,"post_id":70090152,"comment_id":123900455,"body_markdown":"I think could be something about your classpath. What do you use for building ( maven, Gradle ). Does your error come from ide or some command bash?","body":"I think could be something about your classpath. What do you use for building ( maven, Gradle ). Does your error come from ide or some command bash?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1637724089,"post_id":70090152,"comment_id":123900654,"body_markdown":"You are trying to execute a `.java` file directly, and the errors you see come from the shell. You need to compile your code with `javac` and run it with `java`. Please read a basic tutorial.","body":"You are trying to execute a <code>.java</code> file directly, and the errors you see come from the shell. You need to compile your code with <code>javac</code> and run it with <code>java</code>. Please read a basic tutorial."},{"owner":{"account_id":23435551,"reputation":1,"user_id":17493692,"display_name":"sun23456"},"score":0,"creation_date":1637810003,"post_id":70090152,"comment_id":123927230,"body_markdown":"@DilermandoLima I used Gradle and the error is coming from ide(IntelliJ) terminal","body":"@DilermandoLima I used Gradle and the error is coming from ide(IntelliJ) terminal"}],"owner":{"account_id":23435551,"reputation":1,"user_id":17493692,"display_name":"sun23456"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637804631,"creation_date":1637721694,"question_id":70090152,"body_markdown":"Every time I try to run my project I get these error messages and I cannot figure out what is wrong. I checked the encoding on all files and it is correct and have tried dos2unix. I have no idea what the problem could be. \r\n\r\n    src/main/java/prj02/HuffmanCoding.java: line 1: package: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 3: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 4: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 5: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 6: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 7: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 8: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 10: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 11: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 12: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 13: import: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 16: /Applications: is a directory\r\n    src/main/java/prj02/HuffmanCoding.java: line 17: README.md: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 18: README.md: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 19: README.md: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 20: README.md: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 21: README.md: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 22: README.md: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 23: README.md: command not found\r\n    src/main/java/prj02/HuffmanCoding.java: line 24: syntax error near unexpected token `(&#39; \r\n\r\n\r\nCode the errors are referring to:\r\n\r\n    package prj02;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.text.DecimalFormat;\r\n\r\nThe syntax errors refer to a Javadoc comment(line 24):\r\n\r\n    /**\r\n     * The Huffman Encoding Algorithm\r\n     *\r\n     * This is a data compression algorithm designed by David A. Huffman and published in 1952\r\n     *\r\n     * What it does is it takes a string and by constructing a special binary tree with the frequencies of each character.\r\n     * This tree generates special prefix codes that make the size of each string encoded a lot smaller, thus saving space.\r\n     *(Implementation)\r\n     * @version 2.0\r\n     * @since 10/16/2021\r\n     */\r\n\r\n\r\nI am using gradle to build this project. The errors are from bash. And yes, I have compiled the project.  \r\n\r\n","title":"How to fix import:command not found in java","body":"<p>Every time I try to run my project I get these error messages and I cannot figure out what is wrong. I checked the encoding on all files and it is correct and have tried dos2unix. I have no idea what the problem could be.</p>\n<pre><code>src/main/java/prj02/HuffmanCoding.java: line 1: package: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 3: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 4: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 5: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 6: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 7: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 8: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 10: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 11: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 12: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 13: import: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 16: /Applications: is a directory\nsrc/main/java/prj02/HuffmanCoding.java: line 17: README.md: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 18: README.md: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 19: README.md: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 20: README.md: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 21: README.md: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 22: README.md: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 23: README.md: command not found\nsrc/main/java/prj02/HuffmanCoding.java: line 24: syntax error near unexpected token `(' \n</code></pre>\n<p>Code the errors are referring to:</p>\n<pre><code>package prj02;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.text.DecimalFormat;\n</code></pre>\n<p>The syntax errors refer to a Javadoc comment(line 24):</p>\n<pre><code>/**\n * The Huffman Encoding Algorithm\n *\n * This is a data compression algorithm designed by David A. Huffman and published in 1952\n *\n * What it does is it takes a string and by constructing a special binary tree with the frequencies of each character.\n * This tree generates special prefix codes that make the size of each string encoded a lot smaller, thus saving space.\n *(Implementation)\n * @version 2.0\n * @since 10/16/2021\n */\n</code></pre>\n<p>I am using gradle to build this project. The errors are from bash. And yes, I have compiled the project.</p>\n"},{"tags":["java","css","javafx","fxml"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":3,"creation_date":1637774093,"post_id":70100182,"comment_id":123917813,"body_markdown":"What error do you get? Can you add the stacktrace?","body":"What error do you get? Can you add the stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637803401,"creation_date":1637803401,"answer_id":70104823,"question_id":70100182,"body_markdown":"As @n247s and @kleopatra suggested, you need to provide what error you are getting and have a better naming conventions so that the readers can get the logic easily.\r\n\r\nHaving said that, one thing I can easily notice is the way you assign the stylesheet. First you are assigning the stylesheet to the scene and then you are creating or initiating it, which either it causes a NullPointerExecption or the stylesheet has no impact on the scene. You need modify that line to assign it after the scene creation.\r\n\r\nSomething like in below code:\r\n\r\n    public class SceneController {\r\n    \r\n    \tprivate Stage stage;\r\n    \tprivate Scene scene;\r\n    \tprivate Parent parent;\r\n    \r\n    \tpublic void switchToApp(ActionEvent event) throws IOException {\r\n    \t\tparent = FXMLLoader.load(getClass().getResource(&quot;App.fxml&quot;));\r\n    \t\taddScene(event);\r\n    \t}\r\n    \r\n    \tpublic void switchToApp2(ActionEvent event) throws IOException {\r\n    \t\tparent = FXMLLoader.load(getClass().getResource(&quot;App2.fxml&quot;));\r\n    \t\taddScene(event);\r\n    \t}\r\n    \t \r\n    \t private void addScene(ActionEvent event){\r\n    \t\tstage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n    \t\tscene = new Scene(parent);\r\n    \t\tString css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\r\n            // Set the stylesheet after the scene creation\r\n    \t\tscene.getStylesheets().add(css);\r\n    \t\tstage.setScene(scene);\r\n    \t\tstage.show();\r\n    \t }\r\n    }","title":"I am making a scene switch program in javafx but when i click to switch it shows error, but when i do it without css it worked fine","body":"<p>As @n247s and @kleopatra suggested, you need to provide what error you are getting and have a better naming conventions so that the readers can get the logic easily.</p>\n<p>Having said that, one thing I can easily notice is the way you assign the stylesheet. First you are assigning the stylesheet to the scene and then you are creating or initiating it, which either it causes a NullPointerExecption or the stylesheet has no impact on the scene. You need modify that line to assign it after the scene creation.</p>\n<p>Something like in below code:</p>\n<pre><code>public class SceneController {\n\n    private Stage stage;\n    private Scene scene;\n    private Parent parent;\n\n    public void switchToApp(ActionEvent event) throws IOException {\n        parent = FXMLLoader.load(getClass().getResource(&quot;App.fxml&quot;));\n        addScene(event);\n    }\n\n    public void switchToApp2(ActionEvent event) throws IOException {\n        parent = FXMLLoader.load(getClass().getResource(&quot;App2.fxml&quot;));\n        addScene(event);\n    }\n     \n     private void addScene(ActionEvent event){\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(parent);\n        String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\n        // Set the stylesheet after the scene creation\n        scene.getStylesheets().add(css);\n        stage.setScene(scene);\n        stage.show();\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":23036819,"reputation":41,"user_id":17155475,"display_name":"Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70104823,"answer_count":1,"score":0,"last_activity_date":1637803401,"creation_date":1637773563,"question_id":70100182,"body_markdown":"This is my App.java file\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.*;\r\n    import javafx.stage.Stage;\r\n\r\n    public class App extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n           try {\r\n               Parent root = FXMLLoader.load(getClass().getResource(&quot;App.fxml&quot;));\r\n               Scene scene = new Scene(root);\r\n               String css= this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\r\n               scene.getStylesheets().add(css);\r\n               stage.setScene(scene);\r\n               stage.show();\r\n           } catch (Exception e) {\r\n               e.printStackTrace();\r\n          }\r\n      }\r\n       public static void main(String[] args) throws Exception {\r\n           Application.launch(args);\r\n      }\r\n     }\r\n\r\nThis is my SwitchController.java file\r\n\r\n    import java.io.IOException;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.stage.Stage;\r\n\r\n    public class SceneController {\r\n\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent parent;\r\n\r\n    public void switchToApp(ActionEvent event) throws IOException {\r\n        parent = FXMLLoader.load(getClass().getResource(&quot;App.fxml&quot;));\r\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\r\n        scene.getStylesheets().add(css);\r\n        scene = new Scene(parent);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public void switchToApp2(ActionEvent event) throws IOException {\r\n        parent = FXMLLoader.load(getClass().getResource(&quot;App2.fxml&quot;));\r\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\r\n        scene.getStylesheets().add(css);\r\n        scene = new Scene(parent);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n     }\r\n    }\r\n\r\nThis is my application.css file\r\n\r\n   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .root{\r\n        -fx-background-color: &quot;red&quot;;\r\n        \r\n    }\r\n    #Sc1{\r\n        -fx-alignment: center;\r\n    }\r\n    #Sc2{\r\n        -fx-alignment: center;\r\n        -fx-text-fill: &quot;GREEN&quot;;\r\n        -fx-outline:none;\r\n    }\r\n\r\n    .label{\r\n        -fx-font-size: 20;\r\n        -fx-font-family: &quot;Lucida Console&quot;;\r\n        -fx-text-fill: &quot;white&quot;;\r\n        -fx-alignment: center;\r\n    }\r\n\r\n    #titleLebel{\r\n        -fx-font-size: 60;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nthis is my App2.fxml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n\r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SceneController&quot;&gt;\r\n    &lt;children&gt;\r\n    &lt;Button fx:id=&quot;Sc1&quot; layoutX=&quot;197.0&quot; layoutY=&quot;272.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToApp&quot; prefHeight=&quot;84.0&quot; prefWidth=&quot;187.0&quot; text=&quot;Switch to Scene 1&quot; /&gt;\r\n      &lt;Label layoutX=&quot;1.0&quot; layoutY=&quot;50.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;600.0&quot; text=&quot;This is the Scene 2&quot; /&gt;\r\n    &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nThis is my App.fxml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SceneController&quot;&gt;\r\n      &lt;children&gt;\r\n      &lt;Label fx:id=&quot;titleLebel&quot; layoutX=&quot;1.0&quot; layoutY=&quot;143.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;600.0&quot; text=&quot;Level 1&quot; /&gt;\r\n      &lt;Label fx:id=&quot;secondlevewl&quot; layoutX=&quot;2.0&quot; layoutY=&quot;242.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;600.0&quot; text=&quot;this is some css styling&quot; /&gt;\r\n      &lt;Button fx:id=&quot;Sc2&quot; layoutX=&quot;213.0&quot; layoutY=&quot;292.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToApp2&quot; prefHeight=&quot;78.0&quot; prefWidth=&quot;177.0&quot; text=&quot;Switch to Scene 2&quot; /&gt;\r\n    &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\n\r\n&gt; I am just a newbie to learning JavaFX and Java from [Bro code]https://www.youtube.com/watch?v=9XJicRt_FaI&amp;ab_channel=BroCode  do you guys have any suggestions please comment thank you\r\n\r\n\r\n ","title":"I am making a scene switch program in javafx but when i click to switch it shows error, but when i do it without css it worked fine","body":"<p>This is my App.java file</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.*;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n    @Override\n    public void start(Stage stage) {\n       try {\n           Parent root = FXMLLoader.load(getClass().getResource(&quot;App.fxml&quot;));\n           Scene scene = new Scene(root);\n           String css= this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\n           scene.getStylesheets().add(css);\n           stage.setScene(scene);\n           stage.show();\n       } catch (Exception e) {\n           e.printStackTrace();\n      }\n  }\n   public static void main(String[] args) throws Exception {\n       Application.launch(args);\n  }\n }\n</code></pre>\n<p>This is my SwitchController.java file</p>\n<pre><code>import java.io.IOException;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class SceneController {\n\nprivate Stage stage;\nprivate Scene scene;\nprivate Parent parent;\n\npublic void switchToApp(ActionEvent event) throws IOException {\n    parent = FXMLLoader.load(getClass().getResource(&quot;App.fxml&quot;));\n    stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n    String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\n    scene.getStylesheets().add(css);\n    scene = new Scene(parent);\n    stage.setScene(scene);\n    stage.show();\n}\n\npublic void switchToApp2(ActionEvent event) throws IOException {\n    parent = FXMLLoader.load(getClass().getResource(&quot;App2.fxml&quot;));\n    stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n    String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\n    scene.getStylesheets().add(css);\n    scene = new Scene(parent);\n    stage.setScene(scene);\n    stage.show();\n }\n}\n</code></pre>\n<p>This is my application.css file</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.root{\n    -fx-background-color: \"red\";\n    \n}\n#Sc1{\n    -fx-alignment: center;\n}\n#Sc2{\n    -fx-alignment: center;\n    -fx-text-fill: \"GREEN\";\n    -fx-outline:none;\n}\n\n.label{\n    -fx-font-size: 20;\n    -fx-font-family: \"Lucida Console\";\n    -fx-text-fill: \"white\";\n    -fx-alignment: center;\n}\n\n#titleLebel{\n    -fx-font-size: 60;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>this is my App2.fxml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SceneController&quot;&gt;\n&lt;children&gt;\n&lt;Button fx:id=&quot;Sc1&quot; layoutX=&quot;197.0&quot; layoutY=&quot;272.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToApp&quot; prefHeight=&quot;84.0&quot; prefWidth=&quot;187.0&quot; text=&quot;Switch to Scene 1&quot; /&gt;\n  &lt;Label layoutX=&quot;1.0&quot; layoutY=&quot;50.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;600.0&quot; text=&quot;This is the Scene 2&quot; /&gt;\n&lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>This is my App.fxml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SceneController&quot;&gt;\n  &lt;children&gt;\n  &lt;Label fx:id=&quot;titleLebel&quot; layoutX=&quot;1.0&quot; layoutY=&quot;143.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;600.0&quot; text=&quot;Level 1&quot; /&gt;\n  &lt;Label fx:id=&quot;secondlevewl&quot; layoutX=&quot;2.0&quot; layoutY=&quot;242.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;600.0&quot; text=&quot;this is some css styling&quot; /&gt;\n  &lt;Button fx:id=&quot;Sc2&quot; layoutX=&quot;213.0&quot; layoutY=&quot;292.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToApp2&quot; prefHeight=&quot;78.0&quot; prefWidth=&quot;177.0&quot; text=&quot;Switch to Scene 2&quot; /&gt;\n&lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<blockquote>\n<p>I am just a newbie to learning JavaFX and Java from [Bro code]<a href=\"https://www.youtube.com/watch?v=9XJicRt_FaI&amp;ab_channel=BroCode\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9XJicRt_FaI&amp;ab_channel=BroCode</a>  do you guys have any suggestions please comment thank you</p>\n</blockquote>\n"},{"tags":["java","netbeans","resources"],"answers":[{"tags":[],"owner":{"account_id":5631912,"reputation":4138,"user_id":4458614,"accept_rate":76,"display_name":"Juan Reina Pascual"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603979703,"creation_date":1603979703,"answer_id":64592562,"question_id":64581269,"body_markdown":"Well, I found the solution. As my project is a Maven project, following Maven conventions, I hace to create a new resources folder in the src/main/ directory of the project. This src/main/resources path will automatically be marked as a resource directory next time I build the project using Maven.\r\n\r\nAnd from code I access it as:\r\n\r\n     ResourceBundle.getBundle(&quot;Interfaz&quot;, Locale.getDefault());","title":"Netbeans, get file properties from res folder","body":"<p>Well, I found the solution. As my project is a Maven project, following Maven conventions, I hace to create a new resources folder in the src/main/ directory of the project. This src/main/resources path will automatically be marked as a resource directory next time I build the project using Maven.</p>\n<p>And from code I access it as:</p>\n<pre><code> ResourceBundle.getBundle(&quot;Interfaz&quot;, Locale.getDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14218270,"reputation":365,"user_id":11141671,"display_name":"Jhon Jesus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637802736,"creation_date":1637802736,"answer_id":70104770,"question_id":64581269,"body_markdown":"MyMaven\\src\\main\r\n           \r\n\r\n - resources\r\n - java\r\n\r\ncode: \r\n`ResourceBundle rb = ResourceBundle.getBundle(&quot;hcenterMod&quot;);`\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mp77L.png","title":"Netbeans, get file properties from res folder","body":"<p>MyMaven\\src\\main</p>\n<ul>\n<li>resources</li>\n<li>java</li>\n</ul>\n<p>code:\n<code>ResourceBundle rb = ResourceBundle.getBundle(&quot;hcenterMod&quot;);</code>\n<a href=\"https://i.stack.imgur.com/Mp77L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mp77L.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5631912,"reputation":4138,"user_id":4458614,"accept_rate":76,"display_name":"Juan Reina Pascual"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64592562,"answer_count":2,"score":0,"last_activity_date":1637802736,"creation_date":1603919076,"question_id":64581269,"body_markdown":"I&#180;m trying to get a property file from res folder but I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name res/Interfaz, locale es_ES\r\n\r\nThis is the project tree:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9xZG4.png\r\n\r\nAnd this is my simple code:\r\n\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String args[]) {\r\n        System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n        ResourceBundle rb = ResourceBundle.getBundle(&quot;res/Interfaz&quot;, Locale.getDefault());\r\n        //String name = rb.getString(&quot;name&quot;);\r\n        //System.out.println(name);   // Si el idioma del sistema es espa&#241;ol, imprime &quot;Nombre&quot;.\r\n        \r\n      \r\n        }\r\n    \r\n    }\r\n\r\nI&#180;m using Netbeans 12\r\n","title":"Netbeans, get file properties from res folder","body":"<p>Im trying to get a property file from res folder but I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.MissingResourceException: Can't find bundle for base name res/Interfaz, locale es_ES\n</code></pre>\n<p>This is the project tree:</p>\n<p><a href=\"https://i.stack.imgur.com/9xZG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9xZG4.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my simple code:</p>\n<pre><code>public class Main {\n\n    public static void main(String args[]) {\n    System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\n    ResourceBundle rb = ResourceBundle.getBundle(&quot;res/Interfaz&quot;, Locale.getDefault());\n    //String name = rb.getString(&quot;name&quot;);\n    //System.out.println(name);   // Si el idioma del sistema es espaol, imprime &quot;Nombre&quot;.\n    \n  \n    }\n\n}\n</code></pre>\n<p>Im using Netbeans 12</p>\n"},{"tags":["java","netbeans","command-line","ant"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1638194902,"post_id":70104718,"comment_id":124016087,"body_markdown":"Can you please share your build files?","body":"Can you please share your build files?"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1638194986,"post_id":70104718,"comment_id":124016121,"body_markdown":"Does this answer your question? [Confusion defining the Main-Class in ant for bundling a jar](https://stackoverflow.com/questions/8347364/confusion-defining-the-main-class-in-ant-for-bundling-a-jar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8347364/confusion-defining-the-main-class-in-ant-for-bundling-a-jar\">Confusion defining the Main-Class in ant for bundling a jar</a>"}],"owner":{"account_id":22471881,"reputation":1,"user_id":16672212,"display_name":"gooseman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637802199,"creation_date":1637802199,"question_id":70104718,"body_markdown":"I was trying to set up compiling a Netbeans project from the command line. The project uses Ant as a build system, so I found [this][1] and followed it. The program compiles fine, however, when trying to run the program using ```java -jar file.jar``` it terminates, saying ```no main manifest attribute```. \r\n\r\nFurthermore, I would also like to know if there is a way to run the ant command for a specific file, like one would in netbeans when right-clicking and selecting ```Run file```, as when running ```ant jar``` there is no opportunity to select a file.\r\n\r\n  [1]: https://stackoverflow.com/questions/30007573/compile-netbeans-project-from-command-line-by-using-ant","title":"Cannot compile Apache Netbeans project using Ant from command line","body":"<p>I was trying to set up compiling a Netbeans project from the command line. The project uses Ant as a build system, so I found <a href=\"https://stackoverflow.com/questions/30007573/compile-netbeans-project-from-command-line-by-using-ant\">this</a> and followed it. The program compiles fine, however, when trying to run the program using <code>java -jar file.jar</code> it terminates, saying <code>no main manifest attribute</code>.</p>\n<p>Furthermore, I would also like to know if there is a way to run the ant command for a specific file, like one would in netbeans when right-clicking and selecting <code>Run file</code>, as when running <code>ant jar</code> there is no opportunity to select a file.</p>\n"},{"tags":["java","spring-boot","springdoc-openapi-ui","gradle-shadow-plugin"],"answers":[{"tags":[],"owner":{"account_id":23358959,"reputation":1,"user_id":17431496,"display_name":"Shalabh Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637802128,"creation_date":1637802128,"answer_id":70104709,"question_id":69997568,"body_markdown":"Turns out to be known issue and can be solved by including following in build.gradle\r\n\r\n\r\n    import com.github.jengelman.gradle.plugins.shadow.transformers.*\r\n\r\n    shadowJar {\r\n\r\n    zip64 true\r\n\r\n    exclude &#39;META-INF/*.SF&#39;\r\n    exclude &#39;META-INF/*.DSA&#39;\r\n    exclude &#39;META-INF/*.RSA&#39;\r\n\r\n    // Required for Spring\r\n    mergeServiceFiles()\r\n    transform(AppendingTransformer) { resource = &#39;reference.conf&#39;  }\r\n    transform(AppendingTransformer) { resource = &#39;META-INF/spring.handlers&#39;  }\r\n    transform(AppendingTransformer) { resource = &#39;META-INF/spring.schemas&#39;  }\r\n    transform(AppendingTransformer) { resource = &#39;META-INF/spring.tooling&#39;  }\r\n    transform(PropertiesFileTransformer) {\r\n        paths = [&#39;META-INF/spring.factories&#39; ]\r\n        mergeStrategy = &quot;append&quot;\r\n    }\r\n    }\r\n\r\n  source: https://github.com/spring-projects/spring-boot/issues/1828\r\n","title":"Open API documentation of Springboot based REST apis fail with ApplicationContextException. The project is built with gradlew shadow plugins","body":"<p>Turns out to be known issue and can be solved by including following in build.gradle</p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.*\n\nshadowJar {\n\nzip64 true\n\nexclude 'META-INF/*.SF'\nexclude 'META-INF/*.DSA'\nexclude 'META-INF/*.RSA'\n\n// Required for Spring\nmergeServiceFiles()\ntransform(AppendingTransformer) { resource = 'reference.conf'  }\ntransform(AppendingTransformer) { resource = 'META-INF/spring.handlers'  }\ntransform(AppendingTransformer) { resource = 'META-INF/spring.schemas'  }\ntransform(AppendingTransformer) { resource = 'META-INF/spring.tooling'  }\ntransform(PropertiesFileTransformer) {\n    paths = ['META-INF/spring.factories' ]\n    mergeStrategy = &quot;append&quot;\n}\n}\n</code></pre>\n<p>source: <a href=\"https://github.com/spring-projects/spring-boot/issues/1828\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/1828</a></p>\n"}],"owner":{"account_id":23358959,"reputation":1,"user_id":17431496,"display_name":"Shalabh Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637802128,"creation_date":1637108299,"question_id":69997568,"body_markdown":"I am trying to add open api documentation to springboot base REST api project that I have.\r\nIt works fine when run locally inside intelliJ IDE or with gradlew run/bootRun\r\n\r\nBut when the project is packaged as a fat jar using gradlew shadow plugin &#39;com.github.johnrengelman.shadow&#39; and run on command line as ```java -jar build/libs/Application-0.0.1-SNAPSHOT-all.jar``` it fails with ```ApplicationContextException```\r\n\r\nException stacktrace:\r\n\r\n```\r\nCaused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:205) ~[Application-0.0.1-SNAPSHOT-all.jar:?]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:177) ~[Application-0.0.1-SNAPSHOT-all.jar:?]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:158) ~[Application-0.0.1-SNAPSHOT-all.jar:?]\r\n        ... 9 more\r\n```\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.3.4.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    id &#39;application&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &quot;6.0.0&quot;\r\n}\r\napplication {\r\n    mainClassName = &#39;com.example.Application&#39;\r\n    executableDir = &#39;lib/&#39;\r\n}\r\ndependencies {\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.5.12&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation files( &quot;lib/$JarV2&quot; )\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    implementation &#39;org.slf4j:slf4j-api:1.7.32&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:2.3.3.RELEASE&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-log4j2:2.4.2&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-slf4j-impl:2.14.0&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-api:2.14.0&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-core:2.14.0&#39;\r\n    implementation &#39;org.slf4j:jul-to-slf4j:1.7.30&#39;\r\n    implementation &#39;commons-lang:commons-lang:2.6&#39;\r\n    implementation &quot;com.moandjiezana.toml:toml4j:0.7.2&quot;\r\n    implementation &quot;io.jsonwebtoken:jjwt-api:$jwtVersion&quot;\r\n    runtimeOnly &quot;io.jsonwebtoken:jjwt-impl:$jwtVersion&quot;\r\n    runtimeOnly &quot;io.jsonwebtoken:jjwt-jackson:$jwtVersion&quot;\r\n    implementation &#39;com.auth0:java-jwt:3.18.1&#39;\r\n    implementation &#39;com.auth0:jwks-rsa:0.19.0&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n}\r\n\r\n```\r\n\r\nWithout the openapi dependency \r\n```implementation &#39;org.springdoc:springdoc-openapi-ui:1.5.12&#39;```\r\n\r\nstandalone run ```java -jar build/libs/Application-0.0.1-SNAPSHOT-all.jar``` works absolutely fine.\r\n\r\nIs there some dependency conflict between open api and springboot libs ?\r\n","title":"Open API documentation of Springboot based REST apis fail with ApplicationContextException. The project is built with gradlew shadow plugins","body":"<p>I am trying to add open api documentation to springboot base REST api project that I have.\nIt works fine when run locally inside intelliJ IDE or with gradlew run/bootRun</p>\n<p>But when the project is packaged as a fat jar using gradlew shadow plugin 'com.github.johnrengelman.shadow' and run on command line as <code>java -jar build/libs/Application-0.0.1-SNAPSHOT-all.jar</code> it fails with <code>ApplicationContextException</code></p>\n<p>Exception stacktrace:</p>\n<pre><code>Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:205) ~[Application-0.0.1-SNAPSHOT-all.jar:?]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:177) ~[Application-0.0.1-SNAPSHOT-all.jar:?]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:158) ~[Application-0.0.1-SNAPSHOT-all.jar:?]\n        ... 9 more\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.4.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'application'\n    id 'com.github.johnrengelman.shadow' version &quot;6.0.0&quot;\n}\napplication {\n    mainClassName = 'com.example.Application'\n    executableDir = 'lib/'\n}\ndependencies {\n    implementation 'org.springdoc:springdoc-openapi-ui:1.5.12'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation files( &quot;lib/$JarV2&quot; )\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    implementation 'org.slf4j:slf4j-api:1.7.32'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:2.3.3.RELEASE'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2:2.4.2'\n    implementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.14.0'\n    implementation 'org.apache.logging.log4j:log4j-api:2.14.0'\n    implementation 'org.apache.logging.log4j:log4j-core:2.14.0'\n    implementation 'org.slf4j:jul-to-slf4j:1.7.30'\n    implementation 'commons-lang:commons-lang:2.6'\n    implementation &quot;com.moandjiezana.toml:toml4j:0.7.2&quot;\n    implementation &quot;io.jsonwebtoken:jjwt-api:$jwtVersion&quot;\n    runtimeOnly &quot;io.jsonwebtoken:jjwt-impl:$jwtVersion&quot;\n    runtimeOnly &quot;io.jsonwebtoken:jjwt-jackson:$jwtVersion&quot;\n    implementation 'com.auth0:java-jwt:3.18.1'\n    implementation 'com.auth0:jwks-rsa:0.19.0'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n}\n\n</code></pre>\n<p>Without the openapi dependency\n<code>implementation 'org.springdoc:springdoc-openapi-ui:1.5.12'</code></p>\n<p>standalone run <code>java -jar build/libs/Application-0.0.1-SNAPSHOT-all.jar</code> works absolutely fine.</p>\n<p>Is there some dependency conflict between open api and springboot libs ?</p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":7363801,"reputation":1298,"user_id":5606222,"display_name":"Matt"},"score":0,"creation_date":1637789369,"post_id":70098955,"comment_id":123922996,"body_markdown":"For me, most probably, the error says that a Recipient class is not public. Can you make sure that you run the same version you put here? I&#39;ve just tested it and it works for me.","body":"For me, most probably, the error says that a Recipient class is not public. Can you make sure that you run the same version you put here? I&#39;ve just tested it and it works for me."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1637791828,"post_id":70098955,"comment_id":123923747,"body_markdown":"I see no problem there. Are you sure that you show things accurately in your question? Like, maybe in the real application you have a `Recipient` where `phone` is `null`.","body":"I see no problem there. Are you sure that you show things accurately in your question? Like, maybe in the real application you have a <code>Recipient</code> where <code>phone</code> is <code>null</code>."}],"owner":{"account_id":8941168,"reputation":61,"user_id":6670138,"display_name":"AppleT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637801890,"creation_date":1637768565,"question_id":70098955,"body_markdown":"I am trying to pass a collection to Freemarker:\r\n\r\nMy Recipient inner class:\r\n\r\n```\r\n@Data\r\nprivate class Recipient {\r\n        private String phone;\r\n        private String languageValue;\r\n}       \r\n```\r\n\r\nMy template:\r\n```\r\n    &lt;#list recipients as recipient&gt; \r\n\t\t{\r\n\t\t\t&quot;address&quot;: &quot;${recipient.phone}&quot;,\r\n\t\t\t&quot;language&quot;: &quot;en&quot;\r\n\t\t}\r\n    &lt;/#list&gt;\r\n```\r\n\r\nMy Java code:\r\n\r\n```\r\nList &lt;Recipient&gt; recipientList = new ArrayList &lt;&gt; ();\r\nRecipient r = new Recipient();\r\nr.setPhone(&quot;123&quot;);\r\nrecipientList.add(r);\r\n\r\n\r\nTemplate template = new Template(&quot;name&quot;, new StringReader(myTemplate), new Configuration());\r\nWriter out = new StringWriter();\r\nMap&lt;String, Object&gt; dataModel = new HashMap&lt;&gt;();\r\ndataModel.put(&quot;recipients&quot;, recipientList);\r\ntemplate.process(dataModel, out);\r\n\r\n```\r\n\r\nBut I am getting this error:\r\n\r\n&gt; [pool-1-thread-7] freemarker.runtime: Error executing FreeMarker template freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:==&gt; recipient.phone  [in template &quot;name&quot; at line 1, column 220]\r\n\r\nWhat&#39;s wrong? Please help. Thanks.","title":"Freemarker InvalidReferenceException","body":"<p>I am trying to pass a collection to Freemarker:</p>\n<p>My Recipient inner class:</p>\n<pre><code>@Data\nprivate class Recipient {\n        private String phone;\n        private String languageValue;\n}       \n</code></pre>\n<p>My template:</p>\n<pre><code>    &lt;#list recipients as recipient&gt; \n        {\n            &quot;address&quot;: &quot;${recipient.phone}&quot;,\n            &quot;language&quot;: &quot;en&quot;\n        }\n    &lt;/#list&gt;\n</code></pre>\n<p>My Java code:</p>\n<pre><code>List &lt;Recipient&gt; recipientList = new ArrayList &lt;&gt; ();\nRecipient r = new Recipient();\nr.setPhone(&quot;123&quot;);\nrecipientList.add(r);\n\n\nTemplate template = new Template(&quot;name&quot;, new StringReader(myTemplate), new Configuration());\nWriter out = new StringWriter();\nMap&lt;String, Object&gt; dataModel = new HashMap&lt;&gt;();\ndataModel.put(&quot;recipients&quot;, recipientList);\ntemplate.process(dataModel, out);\n\n</code></pre>\n<p>But I am getting this error:</p>\n<blockquote>\n<p>[pool-1-thread-7] freemarker.runtime: Error executing FreeMarker template freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:==&gt; recipient.phone  [in template &quot;name&quot; at line 1, column 220]</p>\n</blockquote>\n<p>What's wrong? Please help. Thanks.</p>\n"},{"tags":["java","ssl","ssl-certificate","keystore","encryption-asymmetric"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618740961,"creation_date":1618740961,"answer_id":67147429,"question_id":67143090,"body_markdown":"I created my own certificate chain and used this structure for the certificateChain:\r\n\r\n    X509Certificate[] certificateChain = new X509Certificate[3];\r\n    certificateChain[0] = topCertificate;\r\n    certificateChain[1] = middleCertificate;\r\n    certificateChain[2] = rootCertificate;\r\n\r\nThe keystore creation part is as simple like this (I left out the &quot;notNull checks&quot;):\r\n\r\n    KeyStore keystore = KeyStore.getInstance(keystoreType);\r\n    keystore.load(null,null);\r\n    keystore.setKeyEntry(&quot;use_your_own_alias&quot;, privateKey, passwordAsCharArray, certificateChain);\r\n    return keystore;\r\n\r\nKindly note that the publicKey is **NOT** part of the storage process as it is available with\r\n\r\n    certificateChain[0].getPublicKey()\r\n\r\nChecking the keystore (I used a PKCS12 one) in KeyStoreExplorer gives this output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand the key chain:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/URxR6.png\r\n  [2]: https://i.stack.imgur.com/CevW5.png","title":"How to put a KeyPair into a KeyStore the right way? (programmatically in Java)","body":"<p>I created my own certificate chain and used this structure for the certificateChain:</p>\n<pre><code>X509Certificate[] certificateChain = new X509Certificate[3];\ncertificateChain[0] = topCertificate;\ncertificateChain[1] = middleCertificate;\ncertificateChain[2] = rootCertificate;\n</code></pre>\n<p>The keystore creation part is as simple like this (I left out the &quot;notNull checks&quot;):</p>\n<pre><code>KeyStore keystore = KeyStore.getInstance(keystoreType);\nkeystore.load(null,null);\nkeystore.setKeyEntry(&quot;use_your_own_alias&quot;, privateKey, passwordAsCharArray, certificateChain);\nreturn keystore;\n</code></pre>\n<p>Kindly note that the publicKey is <strong>NOT</strong> part of the storage process as it is available with</p>\n<pre><code>certificateChain[0].getPublicKey()\n</code></pre>\n<p>Checking the keystore (I used a PKCS12 one) in KeyStoreExplorer gives this output:</p>\n<p><a href=\"https://i.stack.imgur.com/URxR6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/URxR6.png\" alt=\"enter image description here\" /></a></p>\n<p>and the key chain:</p>\n<p><a href=\"https://i.stack.imgur.com/CevW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CevW5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637801780,"creation_date":1626346797,"answer_id":68392588,"question_id":67143090,"body_markdown":"You guys won&#39;t believe this, but... The problem was the alias name &#39;priv-key&#39;. Just removed the hyphen &#39;-&#39; and changed the alias name to &#39;myKey&#39; like in https://stackoverflow.com/a/67147429/13600212 and voila it works...\r\nSo many hours lost for such a stupid thing...","title":"How to put a KeyPair into a KeyStore the right way? (programmatically in Java)","body":"<p>You guys won't believe this, but... The problem was the alias name 'priv-key'. Just removed the hyphen '-' and changed the alias name to 'myKey' like in <a href=\"https://stackoverflow.com/a/67147429/13600212\">https://stackoverflow.com/a/67147429/13600212</a> and voila it works...\nSo many hours lost for such a stupid thing...</p>\n"}],"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68392588,"answer_count":2,"score":0,"last_activity_date":1637801780,"creation_date":1618694686,"question_id":67143090,"body_markdown":"Its best to show my problem and explain it after (I am using KeyStore Explorer to peek into my .pfx files):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZBsbF.png\r\nBasically, I want the result on the right, but I get the result on the left.\r\n\r\nTo be more precise: The KeyStore should contain the private key and certs chain (KeyPair), in one entry.\r\n\r\nI somehow couldn&#39;t get it working in java. This is what I tried to get the result on the left:\r\nThe problem with the code below is, that its not verifing the certs and adding them as trusted certs.\r\n```java\r\n    /**\r\n     * Creates and returns a new {@link KeyStore} from the provided information.\r\n     * @param keystoreType The {@link KeyStore}s type. Recommended: &quot;pkcs12&quot;.\r\n     *                     Check {@link KeyStore#getInstance(String)} for details.\r\n     * @param passwordAsCharArray Password to encrypt this {@link KeyStore} and its keys.\r\n     * @param certificateChain The certificate chain is simply an array of {@link X509Certificate}s.\r\n     * @param privateKey The {@link PrivateKey}.\r\n     * @param publicKey The {@link PublicKey}.\r\n     * @throws KeyStoreException\r\n     */\r\n    public KeyStore buildAndGetKeystore(String keystoreType, char[] passwordAsCharArray,\r\n                                        X509Certificate[] certificateChain, PrivateKey privateKey, PublicKey publicKey)\r\n            throws KeyStoreException, CertificateException, IOException, NoSuchAlgorithmException, EmptyStringException, EmptyCharArrayException, EmptyCertificateChainException {\r\n\r\n        // Check for null parameters\r\n        Objects.requireNonNull(keystoreType);\r\n        Objects.requireNonNull(passwordAsCharArray);\r\n        Objects.requireNonNull(certificateChain);\r\n        Objects.requireNonNull(privateKey);\r\n        Objects.requireNonNull(publicKey);\r\n\r\n        // Check for empty parameters\r\n        if (keystoreType.isEmpty()) throw new EmptyStringException(&quot;Parameter &#39;keystoreType&#39; should NOT be empty!&quot;);\r\n        if (passwordAsCharArray.length==0) throw new EmptyCharArrayException(&quot;Parameter &#39;passwordAsCharArray&#39; should NOT be empty!&quot;);\r\n        if (certificateChain.length==0) throw new EmptyCertificateChainException(&quot;Parameter &#39;certificateChain&#39; should NOT be empty!&quot;);\r\n\r\n        // Initialise a new keystore\r\n        KeyStore keystore = KeyStore.getInstance(keystoreType);\r\n        keystore.load(null, passwordAsCharArray); // Pass null to tell java this is a new keystore\r\n\r\n        // Insert certificates\r\n        for (int i = 0; i &lt; certificateChain.length; i++) {\r\n            keystore.setCertificateEntry(&quot;&quot;+i, certificateChain[i]);\r\n        }\r\n\r\n        // Write private key (with password protection) to keystore.\r\n        // NOTE: I tried this before and it only writes \r\n        // the private key to the .pfx file and ignores the domain chain\r\n        //keystore.setKeyEntry(&quot;sso-signing-key&quot;, privateKey, passwordAsCharArray, certificateChain);\r\n\r\n        return keystore;\r\n    }\r\n```\r\n\r\nSome extra details:\r\n\r\nThe KeyStore on the right was created like this: First generated the certs at sslforfree.com and then converted them to a PKCS12 KeyStore with https://decoder.link/converter","title":"How to put a KeyPair into a KeyStore the right way? (programmatically in Java)","body":"<p>Its best to show my problem and explain it after (I am using KeyStore Explorer to peek into my .pfx files):</p>\n<p><a href=\"https://i.stack.imgur.com/ZBsbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZBsbF.png\" alt=\"enter image description here\" /></a></p>\n<p>Basically, I want the result on the right, but I get the result on the left.</p>\n<p>To be more precise: The KeyStore should contain the private key and certs chain (KeyPair), in one entry.</p>\n<p>I somehow couldn't get it working in java. This is what I tried to get the result on the left:\nThe problem with the code below is, that its not verifing the certs and adding them as trusted certs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Creates and returns a new {@link KeyStore} from the provided information.\n     * @param keystoreType The {@link KeyStore}s type. Recommended: &quot;pkcs12&quot;.\n     *                     Check {@link KeyStore#getInstance(String)} for details.\n     * @param passwordAsCharArray Password to encrypt this {@link KeyStore} and its keys.\n     * @param certificateChain The certificate chain is simply an array of {@link X509Certificate}s.\n     * @param privateKey The {@link PrivateKey}.\n     * @param publicKey The {@link PublicKey}.\n     * @throws KeyStoreException\n     */\n    public KeyStore buildAndGetKeystore(String keystoreType, char[] passwordAsCharArray,\n                                        X509Certificate[] certificateChain, PrivateKey privateKey, PublicKey publicKey)\n            throws KeyStoreException, CertificateException, IOException, NoSuchAlgorithmException, EmptyStringException, EmptyCharArrayException, EmptyCertificateChainException {\n\n        // Check for null parameters\n        Objects.requireNonNull(keystoreType);\n        Objects.requireNonNull(passwordAsCharArray);\n        Objects.requireNonNull(certificateChain);\n        Objects.requireNonNull(privateKey);\n        Objects.requireNonNull(publicKey);\n\n        // Check for empty parameters\n        if (keystoreType.isEmpty()) throw new EmptyStringException(&quot;Parameter 'keystoreType' should NOT be empty!&quot;);\n        if (passwordAsCharArray.length==0) throw new EmptyCharArrayException(&quot;Parameter 'passwordAsCharArray' should NOT be empty!&quot;);\n        if (certificateChain.length==0) throw new EmptyCertificateChainException(&quot;Parameter 'certificateChain' should NOT be empty!&quot;);\n\n        // Initialise a new keystore\n        KeyStore keystore = KeyStore.getInstance(keystoreType);\n        keystore.load(null, passwordAsCharArray); // Pass null to tell java this is a new keystore\n\n        // Insert certificates\n        for (int i = 0; i &lt; certificateChain.length; i++) {\n            keystore.setCertificateEntry(&quot;&quot;+i, certificateChain[i]);\n        }\n\n        // Write private key (with password protection) to keystore.\n        // NOTE: I tried this before and it only writes \n        // the private key to the .pfx file and ignores the domain chain\n        //keystore.setKeyEntry(&quot;sso-signing-key&quot;, privateKey, passwordAsCharArray, certificateChain);\n\n        return keystore;\n    }\n</code></pre>\n<p>Some extra details:</p>\n<p>The KeyStore on the right was created like this: First generated the certs at sslforfree.com and then converted them to a PKCS12 KeyStore with <a href=\"https://decoder.link/converter\" rel=\"nofollow noreferrer\">https://decoder.link/converter</a></p>\n"},{"tags":["java","json","string"],"comments":[{"owner":{"account_id":2675298,"reputation":1699,"user_id":2311841,"display_name":"cy3er"},"score":0,"creation_date":1402571709,"post_id":24182902,"comment_id":37328774,"body_markdown":"Are you generating this JSON or just receiving it?","body":"Are you generating this JSON or just receiving it?"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":1,"creation_date":1402571740,"post_id":24182902,"comment_id":37328785,"body_markdown":"How about recursive traversing if you are already able to remove one key-value-pair?","body":"How about recursive traversing if you are already able to remove one key-value-pair?"},{"owner":{"account_id":3549271,"reputation":91,"user_id":2964509,"accept_rate":50,"display_name":"Shona"},"score":0,"creation_date":1402572396,"post_id":24182902,"comment_id":37329146,"body_markdown":"Hello cy3er- I am receiving this Json as String parameter.","body":"Hello cy3er- I am receiving this Json as String parameter."},{"owner":{"account_id":3549271,"reputation":91,"user_id":2964509,"accept_rate":50,"display_name":"Shona"},"score":0,"creation_date":1402572571,"post_id":24182902,"comment_id":37329240,"body_markdown":"Hello Smutje - dont know how to recursively traverse because this json is dynamic. next time it may contain &quot;instances&quot; and &quot;siteName&quot; only. If i am getting you wrong then plz give an ex with the above string.let say the json string is stored in String objStr.","body":"Hello Smutje - dont know how to recursively traverse because this json is dynamic. next time it may contain &quot;instances&quot; and &quot;siteName&quot; only. If i am getting you wrong then plz give an ex with the above string.let say the json string is stored in String objStr."}],"answers":[{"tags":[],"owner":{"account_id":4603964,"reputation":21,"user_id":3733954,"display_name":"frank.zheng"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1402573910,"creation_date":1402573910,"answer_id":24183670,"question_id":24182902,"body_markdown":"Please test the following code snippet. It should meet you well \r\n\r\n\r\n\r\n\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        String jsonStr =&quot;{&#39;id&#39;:&#39;2839&#39;,&#39;body&#39;:{&#39;id&#39;:&#39;22&#39;,objs:[{id:1},{id:2}]}}&quot;;\r\n        try {\r\n            JSONObject obj = new JSONObject(jsonStr);\r\n            removeJSONField(obj);\r\n            \r\n            System.out.println(obj);\r\n        } catch (JSONException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        \r\n    }\r\n\r\n    public static void removeJSONField(JSONObject obj) throws JSONException{\r\n        obj.remove(&quot;id&quot;);\r\n        \r\n        Iterator&lt;String&gt; it = obj.keys();\r\n        while(it.hasNext()){\r\n            String key = it.next();\r\n            Object childObj = obj.get(key);\r\n            if(childObj instanceof JSONArray){\r\n                JSONArray arrayChildObjs =((JSONArray)childObj);\r\n                int size = arrayChildObjs.length();\r\n                for(int i=0;i&lt;size;i++){\r\n                    removeJSONField(arrayChildObjs.getJSONObject(i));\r\n                }\r\n            }\r\n            if(childObj instanceof JSONObject){\r\n                removeJSONField(((JSONObject) childObj));\r\n               \r\n            }\r\n            \r\n        }\r\n    }","title":"How to remove all key and its value of a particular keyname from json string(with children) in java","body":"<p>Please test the following code snippet. It should meet you well </p>\n\n<pre><code>/**\n * @param args\n */\npublic static void main(String[] args) {\n    String jsonStr =\"{'id':'2839','body':{'id':'22',objs:[{id:1},{id:2}]}}\";\n    try {\n        JSONObject obj = new JSONObject(jsonStr);\n        removeJSONField(obj);\n\n        System.out.println(obj);\n    } catch (JSONException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n\npublic static void removeJSONField(JSONObject obj) throws JSONException{\n    obj.remove(\"id\");\n\n    Iterator&lt;String&gt; it = obj.keys();\n    while(it.hasNext()){\n        String key = it.next();\n        Object childObj = obj.get(key);\n        if(childObj instanceof JSONArray){\n            JSONArray arrayChildObjs =((JSONArray)childObj);\n            int size = arrayChildObjs.length();\n            for(int i=0;i&lt;size;i++){\n                removeJSONField(arrayChildObjs.getJSONObject(i));\n            }\n        }\n        if(childObj instanceof JSONObject){\n            removeJSONField(((JSONObject) childObj));\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402574533,"creation_date":1402574533,"answer_id":24183876,"question_id":24182902,"body_markdown":"Step 1 is to parse your JSON string into a set of objects. There are several JSON libraries for java, and they&#39;re not very difficult to use. Using [javax.json][1] for example, you&#39;d do the following:\r\n\r\n 1. Create a `StringReader` or `ByteArrayInputStream` which references your JSON string.\r\n 1. Call `Json.createReader()` to get a JSON reader.\r\n 1. Call `JSONReader.read()` or `JSONReader.readObject()` to parse the string into a set of JSON objects.\r\n 1. Modify your JSON objects as needed.\r\n 1. Create a JSON writer and convert the JSON objects back into a string, if you need it that way.\r\n\r\nOther JSON libraries would follow a similar process, though their specific class names might be different.\r\n\r\n\r\n  [1]: https://javaee-spec.java.net/nonav/javadocs/index.html?javax/json/package-summary.html","title":"How to remove all key and its value of a particular keyname from json string(with children) in java","body":"<p>Step 1 is to parse your JSON string into a set of objects. There are several JSON libraries for java, and they're not very difficult to use. Using <a href=\"https://javaee-spec.java.net/nonav/javadocs/index.html?javax/json/package-summary.html\" rel=\"nofollow\">javax.json</a> for example, you'd do the following:</p>\n\n<ol>\n<li>Create a <code>StringReader</code> or <code>ByteArrayInputStream</code> which references your JSON string.</li>\n<li>Call <code>Json.createReader()</code> to get a JSON reader.</li>\n<li>Call <code>JSONReader.read()</code> or <code>JSONReader.readObject()</code> to parse the string into a set of JSON objects.</li>\n<li>Modify your JSON objects as needed.</li>\n<li>Create a JSON writer and convert the JSON objects back into a string, if you need it that way.</li>\n</ol>\n\n<p>Other JSON libraries would follow a similar process, though their specific class names might be different.</p>\n"},{"tags":[],"owner":{"account_id":2675298,"reputation":1699,"user_id":2311841,"display_name":"cy3er"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1402575412,"creation_date":1402575412,"answer_id":24184189,"question_id":24182902,"body_markdown":"Not very nice, but if it can be **really** dynamic then you could use a regexp and `replaceAll()` to remove the desired key-values from the JSON string before parsing anything:\r\n\r\n    json = json.replaceAll(&quot;\\&quot;&quot; + prop + &quot;\\&quot;[ ]*:[^,}\\\\]]*[,]?&quot;, &quot;&quot;)\r\n\r\nIn your case `String prop = &quot;id&quot;`.","title":"How to remove all key and its value of a particular keyname from json string(with children) in java","body":"<p>Not very nice, but if it can be <strong>really</strong> dynamic then you could use a regexp and <code>replaceAll()</code> to remove the desired key-values from the JSON string before parsing anything:</p>\n\n<pre><code>json = json.replaceAll(\"\\\"\" + prop + \"\\\"[ ]*:[^,}\\\\]]*[,]?\", \"\")\n</code></pre>\n\n<p>In your case <code>String prop = \"id\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":4550568,"reputation":526,"user_id":3695931,"display_name":"smoosh911"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524276239,"creation_date":1524276239,"answer_id":49951700,"question_id":24182902,"body_markdown":"My answer is the same as @frank.zheng except I threw in an if statement that checks if array children are objects before it tries to recurse back into the function. \r\n\r\n    public static void removeJSONField(JSONObject obj) throws JSONException{\r\n        obj.remove(&quot;id&quot;);\r\n    \r\n        Iterator&lt;String&gt; it = obj.keys();\r\n        while(it.hasNext()){\r\n            String key = it.next();\r\n            Object childObj = obj.get(key);\r\n            if(childObj instanceof JSONArray){\r\n                JSONArray arrayChildObjs =((JSONArray)childObj);\r\n                int size = arrayChildObjs.length();\r\n                for(int i=0;i&lt;size;i++){\r\n                    if (arrayChildObjs.get(i) instanceof JSONObject){\r\n                        removeJSONField(arrayChildObjs.getJSONObject(i));\r\n                    }\r\n                }\r\n            }\r\n            if(childObj instanceof JSONObject){\r\n                removeJSONField(((JSONObject) childObj));\r\n    \r\n            }\r\n    \r\n        }\r\n    }","title":"How to remove all key and its value of a particular keyname from json string(with children) in java","body":"<p>My answer is the same as @frank.zheng except I threw in an if statement that checks if array children are objects before it tries to recurse back into the function. </p>\n\n<pre><code>public static void removeJSONField(JSONObject obj) throws JSONException{\n    obj.remove(\"id\");\n\n    Iterator&lt;String&gt; it = obj.keys();\n    while(it.hasNext()){\n        String key = it.next();\n        Object childObj = obj.get(key);\n        if(childObj instanceof JSONArray){\n            JSONArray arrayChildObjs =((JSONArray)childObj);\n            int size = arrayChildObjs.length();\n            for(int i=0;i&lt;size;i++){\n                if (arrayChildObjs.get(i) instanceof JSONObject){\n                    removeJSONField(arrayChildObjs.getJSONObject(i));\n                }\n            }\n        }\n        if(childObj instanceof JSONObject){\n            removeJSONField(((JSONObject) childObj));\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637800908,"creation_date":1637800908,"answer_id":70104599,"question_id":24182902,"body_markdown":"This is my solution to remove all keys matching a given prefix:\r\n\r\n```\r\nvoid removeKeysWithPrefix(JSONObject obj, String prefix) {\r\n    Iterator&lt;String&gt; itr;\r\n    String theKey=&quot;*something*from*nothing*&quot;;\r\n    Object theObj;\r\n    JSONArray theItems;\r\n    JSONObject theItem;\r\n    int size;\r\n    itr = obj.keys();\r\n    while (itr.hasNext()) {\r\n        theKey = itr.next();\r\n        theObj = obj.get(theKey);\r\n        if (theKey.startsWith(prefix)) {\r\n            itr.remove();\r\n        } else\r\n        if (theObj instanceof JSONArray) {\r\n            theItems = ((JSONArray)theObj);\r\n            size = theItems.length();\r\n            for (int i=0;i&lt;size;i++) {\r\n                if (theItems.get(i) instanceof JSONObject) {\r\n                    theItem = theItems.getJSONObject(i);\r\n                    removeKeysWithPrefix(theItem, prefix);\r\n                }\r\n            }\r\n        } else\r\n        if (theObj instanceof JSONObject) {\r\n            removeKeysWithPrefix( ((JSONObject)theObj), prefix);\r\n        }\r\n    }\r\n}\r\n```","title":"How to remove all key and its value of a particular keyname from json string(with children) in java","body":"<p>This is my solution to remove all keys matching a given prefix:</p>\n<pre><code>void removeKeysWithPrefix(JSONObject obj, String prefix) {\n    Iterator&lt;String&gt; itr;\n    String theKey=&quot;*something*from*nothing*&quot;;\n    Object theObj;\n    JSONArray theItems;\n    JSONObject theItem;\n    int size;\n    itr = obj.keys();\n    while (itr.hasNext()) {\n        theKey = itr.next();\n        theObj = obj.get(theKey);\n        if (theKey.startsWith(prefix)) {\n            itr.remove();\n        } else\n        if (theObj instanceof JSONArray) {\n            theItems = ((JSONArray)theObj);\n            size = theItems.length();\n            for (int i=0;i&lt;size;i++) {\n                if (theItems.get(i) instanceof JSONObject) {\n                    theItem = theItems.getJSONObject(i);\n                    removeKeysWithPrefix(theItem, prefix);\n                }\n            }\n        } else\n        if (theObj instanceof JSONObject) {\n            removeKeysWithPrefix( ((JSONObject)theObj), prefix);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3549271,"reputation":91,"user_id":2964509,"accept_rate":50,"display_name":"Shona"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24184189,"answer_count":5,"score":2,"last_activity_date":1637800908,"creation_date":1402571436,"question_id":24182902,"body_markdown":"I want to remove all key &quot;id&quot; and its value from my json string. Problem is &quot;id&quot; comes at many level in my json string. I am using JSONObject. With JSONObject we can remove &quot;id&quot; at top level only but i need to remove &quot;id&quot; from every level. Please help me\r\n\r\nEx of json string -\r\n\r\n    &quot;{\r\n        &quot;success&quot;: {\r\n            &quot;body&quot;: {\r\n                &quot;id&quot;: 5827,\r\n                &quot;siteName&quot;: &quot;RPX&quot;,\r\n                &quot;instances&quot;: [\r\n                    {\r\n                        &quot;instanceId&quot;: &quot;i-3a63035e&quot;,\r\n                        &quot;name&quot;: &quot;prdae-mst21a (iserver)&quot;,\r\n                        &quot;state&quot;: &quot;running&quot;,\r\n                        &quot;publicDnsName&quot;: &quot;ec2-54-209-175-118.compute-1.amazonaws.com&quot;,\r\n                        &quot;tags&quot;: [\r\n                            \r\n                            {\r\n                                &quot;id&quot;: 9783,\r\n                                &quot;key&quot;: &quot;ktier&quot;,\r\n                                &quot;value&quot;: &quot;da&quot;\r\n                            },\r\n                            {\r\n                                &quot;id&quot;: 9782,\r\n                                &quot;key&quot;: &quot;Name&quot;,\r\n                                &quot;value&quot;: &quot;prdae-mst21a (iserver)&quot;\r\n                            },\r\n                            {\r\n                                &quot;id&quot;: 9781,\r\n                                &quot;key&quot;: &quot;kreg&quot;,\r\n                                &quot;value&quot;: &quot;e&quot;\r\n                            }\r\n                        ],\r\n                        &quot;sshAccessInfo&quot;: {\r\n                            &quot;id&quot;: 9788,\r\n                            &quot;keyPair&quot;: {\r\n                                &quot;id&quot;: 6050,\r\n                                &quot;keyName&quot;: &quot;Kens key&quot;,\r\n                                &quot;status&quot;: &quot;UPLOADED&quot;,\r\n                                &quot;defaultUser&quot;: &quot;root&quot;,\r\n                                &quot;passPhrase&quot;: &quot;imaginea#@!&quot;\r\n                            },\r\n                            &quot;userName&quot;: &quot;imaginea&quot;\r\n                        },\r\n                        &quot;account&quot;: {\r\n                            &quot;id&quot;: 5857,\r\n                            &quot;accountId&quot;: &quot;348713271046&quot;,\r\n                            &quot;type&quot;: &quot;AWS&quot;,\r\n                            &quot;ownerAlias&quot;: &quot;348713271046&quot;,\r\n                            &quot;regionName&quot;: &quot;us-east-1&quot;\r\n                        },\r\n                        &quot;availabilityZone&quot;: &quot;us-east-1a&quot;,\r\n                        &quot;publicIpAddress&quot;: &quot;54.209.175.118&quot;,\r\n                        &quot;instanceType&quot;: &quot;m2.2xlarge&quot;\r\n                    },\r\n                    {\r\n                        &quot;instanceId&quot;: &quot;i-65ad2346&quot;,\r\n                        &quot;name&quot;: &quot;prpoe-pap22e cp&quot;,\r\n                        &quot;state&quot;: &quot;running&quot;,\r\n                        &quot;publicDnsName&quot;: &quot;ec2-54-86-2-65.compute-1.amazonaws.com&quot;,\r\n                        &quot;tags&quot;: [\r\n                            {\r\n                                &quot;id&quot;: 9755,\r\n                                &quot;key&quot;: &quot;kzone&quot;,\r\n                                &quot;value&quot;: &quot;e&quot;\r\n                            },\r\n                            {\r\n                                &quot;id&quot;: 9754,\r\n                                &quot;key&quot;: &quot;kreg&quot;,\r\n                                &quot;value&quot;: &quot;e&quot;\r\n                            }\r\n                        ],\r\n                        &quot;sshAccessInfo&quot;: {\r\n                            &quot;id&quot;: 9756,\r\n                            &quot;keyPair&quot;: {\r\n                                &quot;id&quot;: 5895,\r\n                                &quot;keyName&quot;: &quot;rpxprod-rightscale&quot;,\r\n                                &quot;status&quot;: &quot;UPLOADED&quot;,\r\n                                &quot;defaultUser&quot;: &quot;ubuntu&quot;,\r\n                                &quot;passPhrase&quot;: &quot;imaginea#@!&quot;\r\n                            },\r\n                            &quot;userName&quot;: &quot;imaginea&quot;\r\n                        },\r\n                        &quot;account&quot;: {\r\n                            &quot;id&quot;: 5857,\r\n                            &quot;accountId&quot;: &quot;348713271046&quot;,\r\n                            &quot;type&quot;: &quot;AWS&quot;,\r\n                            &quot;ownerAlias&quot;: &quot;348713271046&quot;,\r\n                            &quot;regionName&quot;: &quot;us-east-1&quot;\r\n                        },\r\n                        &quot;availabilityZone&quot;: &quot;us-east-1e&quot;,\r\n                        &quot;publicIpAddress&quot;: &quot;54.86.2.65&quot;,\r\n                        &quot;instanceType&quot;: &quot;m1.large&quot;\r\n                    }  ],\r\n                &quot;filters&quot;: [\r\n                    {\r\n                        &quot;id&quot;: 5828,\r\n                        &quot;accountInfo&quot;: {\r\n                            &quot;id&quot;: 5829,\r\n                            &quot;type&quot;: &quot;AWS&quot;,\r\n                            &quot;regionName&quot;: &quot;us-east-1&quot;\r\n                        }\r\n                    }\r\n                ],\r\n                &quot;loadBalancers&quot;: [\r\n                    {\r\n                        &quot;id&quot;: 5855,\r\n                        &quot;name&quot;: &quot;st-pgpool-cp&quot;,\r\n                        &quot;vpcId&quot;: &quot;vpc-865c68ee&quot;,\r\n                        &quot;instanceIds&quot;: [\r\n                            &quot;i-b81511eb&quot;\r\n                        ],\r\n                        &quot;availabilityZones&quot;: [\r\n                            &quot;us-east-1e&quot;\r\n                        ]\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: 5850,\r\n                        &quot;name&quot;: &quot;pr-pgpool-cp&quot;,\r\n                        &quot;vpcId&quot;: &quot;vpc-865c68ee&quot;,\r\n                        &quot;instanceIds&quot;: [\r\n                            &quot;i-ed262988&quot;\r\n                        ],\r\n                        &quot;availabilityZones&quot;: [\r\n                            &quot;us-east-1d&quot;\r\n                        ]\r\n                    }\r\n                    {\r\n                        &quot;id&quot;: 5844,\r\n                        &quot;name&quot;: &quot;qa2-api&quot;,\r\n                        &quot;vpcId&quot;: &quot;vpc-865c68ee&quot;,\r\n                        &quot;instanceIds&quot;: [\r\n                            &quot;i-63687842&quot;\r\n                        ],\r\n                        &quot;availabilityZones&quot;: [\r\n                            &quot;us-east-1a&quot;\r\n                        ]\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: 5830,\r\n                        &quot;name&quot;: &quot;prod-portal-https-v31&quot;,\r\n                        &quot;vpcId&quot;: &quot;vpc-865c68ee&quot;,\r\n                        &quot;instanceIds&quot;: [\r\n                            &quot;i-97509bfa&quot;,\r\n                            &quot;i-660f0408&quot;\r\n                        ],\r\n                        &quot;availabilityZones&quot;: [\r\n                            &quot;us-east-1e&quot;,\r\n                            &quot;us-east-1d&quot;\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }&quot;\r\n\r\nI want to remove `id` from `body`, `instances`, `sshAccessInfo`, `filters`, `loadBalancer` etc. Please provide a decent way to to this. ","title":"How to remove all key and its value of a particular keyname from json string(with children) in java","body":"<p>I want to remove all key \"id\" and its value from my json string. Problem is \"id\" comes at many level in my json string. I am using JSONObject. With JSONObject we can remove \"id\" at top level only but i need to remove \"id\" from every level. Please help me</p>\n\n<p>Ex of json string -</p>\n\n<pre><code>\"{\n    \"success\": {\n        \"body\": {\n            \"id\": 5827,\n            \"siteName\": \"RPX\",\n            \"instances\": [\n                {\n                    \"instanceId\": \"i-3a63035e\",\n                    \"name\": \"prdae-mst21a (iserver)\",\n                    \"state\": \"running\",\n                    \"publicDnsName\": \"ec2-54-209-175-118.compute-1.amazonaws.com\",\n                    \"tags\": [\n\n                        {\n                            \"id\": 9783,\n                            \"key\": \"ktier\",\n                            \"value\": \"da\"\n                        },\n                        {\n                            \"id\": 9782,\n                            \"key\": \"Name\",\n                            \"value\": \"prdae-mst21a (iserver)\"\n                        },\n                        {\n                            \"id\": 9781,\n                            \"key\": \"kreg\",\n                            \"value\": \"e\"\n                        }\n                    ],\n                    \"sshAccessInfo\": {\n                        \"id\": 9788,\n                        \"keyPair\": {\n                            \"id\": 6050,\n                            \"keyName\": \"Kens key\",\n                            \"status\": \"UPLOADED\",\n                            \"defaultUser\": \"root\",\n                            \"passPhrase\": \"imaginea#@!\"\n                        },\n                        \"userName\": \"imaginea\"\n                    },\n                    \"account\": {\n                        \"id\": 5857,\n                        \"accountId\": \"348713271046\",\n                        \"type\": \"AWS\",\n                        \"ownerAlias\": \"348713271046\",\n                        \"regionName\": \"us-east-1\"\n                    },\n                    \"availabilityZone\": \"us-east-1a\",\n                    \"publicIpAddress\": \"54.209.175.118\",\n                    \"instanceType\": \"m2.2xlarge\"\n                },\n                {\n                    \"instanceId\": \"i-65ad2346\",\n                    \"name\": \"prpoe-pap22e cp\",\n                    \"state\": \"running\",\n                    \"publicDnsName\": \"ec2-54-86-2-65.compute-1.amazonaws.com\",\n                    \"tags\": [\n                        {\n                            \"id\": 9755,\n                            \"key\": \"kzone\",\n                            \"value\": \"e\"\n                        },\n                        {\n                            \"id\": 9754,\n                            \"key\": \"kreg\",\n                            \"value\": \"e\"\n                        }\n                    ],\n                    \"sshAccessInfo\": {\n                        \"id\": 9756,\n                        \"keyPair\": {\n                            \"id\": 5895,\n                            \"keyName\": \"rpxprod-rightscale\",\n                            \"status\": \"UPLOADED\",\n                            \"defaultUser\": \"ubuntu\",\n                            \"passPhrase\": \"imaginea#@!\"\n                        },\n                        \"userName\": \"imaginea\"\n                    },\n                    \"account\": {\n                        \"id\": 5857,\n                        \"accountId\": \"348713271046\",\n                        \"type\": \"AWS\",\n                        \"ownerAlias\": \"348713271046\",\n                        \"regionName\": \"us-east-1\"\n                    },\n                    \"availabilityZone\": \"us-east-1e\",\n                    \"publicIpAddress\": \"54.86.2.65\",\n                    \"instanceType\": \"m1.large\"\n                }  ],\n            \"filters\": [\n                {\n                    \"id\": 5828,\n                    \"accountInfo\": {\n                        \"id\": 5829,\n                        \"type\": \"AWS\",\n                        \"regionName\": \"us-east-1\"\n                    }\n                }\n            ],\n            \"loadBalancers\": [\n                {\n                    \"id\": 5855,\n                    \"name\": \"st-pgpool-cp\",\n                    \"vpcId\": \"vpc-865c68ee\",\n                    \"instanceIds\": [\n                        \"i-b81511eb\"\n                    ],\n                    \"availabilityZones\": [\n                        \"us-east-1e\"\n                    ]\n                },\n                {\n                    \"id\": 5850,\n                    \"name\": \"pr-pgpool-cp\",\n                    \"vpcId\": \"vpc-865c68ee\",\n                    \"instanceIds\": [\n                        \"i-ed262988\"\n                    ],\n                    \"availabilityZones\": [\n                        \"us-east-1d\"\n                    ]\n                }\n                {\n                    \"id\": 5844,\n                    \"name\": \"qa2-api\",\n                    \"vpcId\": \"vpc-865c68ee\",\n                    \"instanceIds\": [\n                        \"i-63687842\"\n                    ],\n                    \"availabilityZones\": [\n                        \"us-east-1a\"\n                    ]\n                },\n                {\n                    \"id\": 5830,\n                    \"name\": \"prod-portal-https-v31\",\n                    \"vpcId\": \"vpc-865c68ee\",\n                    \"instanceIds\": [\n                        \"i-97509bfa\",\n                        \"i-660f0408\"\n                    ],\n                    \"availabilityZones\": [\n                        \"us-east-1e\",\n                        \"us-east-1d\"\n                    ]\n                }\n            ]\n        }\n    }\n}\"\n</code></pre>\n\n<p>I want to remove <code>id</code> from <code>body</code>, <code>instances</code>, <code>sshAccessInfo</code>, <code>filters</code>, <code>loadBalancer</code> etc. Please provide a decent way to to this. </p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637797698,"post_id":70104233,"comment_id":123925115,"body_markdown":"Can you explain why you think the `HashMap` would have a reference to b after `remove(&quot;a&quot;)` has been called?","body":"Can you explain why you think the <code>HashMap</code> would have a reference to b after <code>remove(&quot;a&quot;)</code> has been called?"},{"owner":{"account_id":4159113,"reputation":897,"user_id":3409583,"display_name":"user3409583"},"score":0,"creation_date":1637798187,"post_id":70104233,"comment_id":123925204,"body_markdown":"It seems that the jvm needs to know that &quot;b&quot; is no longer referenced in the hashmap for garbage collection. I am not sure because the `get method` is not synchronized, but I am worried that there may be a problem with the reference.","body":"It seems that the jvm needs to know that &quot;b&quot; is no longer referenced in the hashmap for garbage collection. I am not sure because the <code>get method</code> is not synchronized, but I am worried that there may be a problem with the reference."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1637799768,"post_id":70104233,"comment_id":123925536,"body_markdown":"A lack of synchronization causes, generally, much _weirder_ problems than simple memory leaks.  It&#39;s a _possible_ outcome, but certainly not guaranteed.","body":"A lack of synchronization causes, generally, much <i>weirder</i> problems than simple memory leaks.  It&#39;s a <i>possible</i> outcome, but certainly not guaranteed."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":2,"creation_date":1637799887,"post_id":70104233,"comment_id":123925565,"body_markdown":"Adding new elements requires updates of a few to many thousands of instructions.  \n E.g. if the map determines it&#39;s too full, it rehashes all elements into a new map with more buckets.  Even a normal add or remove of a single element requires adjusting the self-balancing trees that implement the buckets.  If there&#39;s no thread synchronization, the read thread can preempt a write in the middle when the data structure is in an inconsistent state. Returned values may well be junk. An exception (like NPE) may occur. I can&#39;t see how a memory leak would happen, but that doesn&#39;t mean it won&#39;t.","body":"Adding new elements requires updates of a few to many thousands of instructions.    E.g. if the map determines it&#39;s too full, it rehashes all elements into a new map with more buckets.  Even a normal add or remove of a single element requires adjusting the self-balancing trees that implement the buckets.  If there&#39;s no thread synchronization, the read thread can preempt a write in the middle when the data structure is in an inconsistent state. Returned values may well be junk. An exception (like NPE) may occur. I can&#39;t see how a memory leak would happen, but that doesn&#39;t mean it won&#39;t."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1637800004,"post_id":70104233,"comment_id":123925586,"body_markdown":"@LouisWasserman I _think_ there&#39;s a language barrier here and he&#39;s asking specifically about the case where writes are synchronized and reads aren&#39;t and whether a memory leak can occur in that situations.  My guess is it&#39;s homework.","body":"@LouisWasserman I <i>think</i> there&#39;s a language barrier here and he&#39;s asking specifically about the case where writes are synchronized and reads aren&#39;t and whether a memory leak can occur in that situations.  My guess is it&#39;s homework."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1637817009,"post_id":70104233,"comment_id":123928256,"body_markdown":"Because you do the get without any form of synchronization, you have a data race on your hands. I would not even bother with reasoning about potential memory leaks if there is a known data race.","body":"Because you do the get without any form of synchronization, you have a data race on your hands. I would not even bother with reasoning about potential memory leaks if there is a known data race."}],"answers":[{"tags":[],"owner":{"account_id":4159113,"reputation":897,"user_id":3409583,"display_name":"user3409583"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637800540,"creation_date":1637800540,"answer_id":70104562,"question_id":70104233,"body_markdown":"I found the answer myself, I&#39;m writing it down to share.\r\n\r\nBelow code is part of LinkedHashMap\r\n```\r\n    public V get(Object key) {\r\n        Node&lt;K,V&gt; e;\r\n        if ((e = getNode(hash(key), key)) == null)\r\n            return null;\r\n        if (accessOrder)\r\n            afterNodeAccess(e);\r\n        return e.value;\r\n    }\r\n\r\n    void afterNodeAccess(Node&lt;K,V&gt; e) { // move node to last\r\n        LinkedHashMap.Entry&lt;K,V&gt; last;\r\n        if (accessOrder &amp;&amp; (last = tail) != e) {\r\n            LinkedHashMap.Entry&lt;K,V&gt; p =\r\n                (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;\r\n            p.after = null;\r\n            if (b == null)\r\n                head = a;\r\n            else\r\n                b.after = a;\r\n            if (a != null)\r\n                a.before = b;\r\n            else\r\n                last = b;\r\n            if (last == null)\r\n                head = p;\r\n            else {\r\n                p.before = last;\r\n                last.after = p;\r\n            }\r\n            tail = p;\r\n            ++modCount;\r\n        }\r\n    }\r\n```\r\nIn the case of LinkedHashMap, if you do not use synchronized, problems may arise if you do not use synchronized because the reference values of before and after are changed when reading.\r\nIn fact, I was wondering if there is a problem when reading from various types of Maps, and I wondered if there could be a memory leak problem in reading depending on the implementation of Map.","title":"Unsycronized LinkedHashMap lead to memory leaks in multithreaded environment?","body":"<p>I found the answer myself, I'm writing it down to share.</p>\n<p>Below code is part of LinkedHashMap</p>\n<pre><code>    public V get(Object key) {\n        Node&lt;K,V&gt; e;\n        if ((e = getNode(hash(key), key)) == null)\n            return null;\n        if (accessOrder)\n            afterNodeAccess(e);\n        return e.value;\n    }\n\n    void afterNodeAccess(Node&lt;K,V&gt; e) { // move node to last\n        LinkedHashMap.Entry&lt;K,V&gt; last;\n        if (accessOrder &amp;&amp; (last = tail) != e) {\n            LinkedHashMap.Entry&lt;K,V&gt; p =\n                (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;\n            p.after = null;\n            if (b == null)\n                head = a;\n            else\n                b.after = a;\n            if (a != null)\n                a.before = b;\n            else\n                last = b;\n            if (last == null)\n                head = p;\n            else {\n                p.before = last;\n                last.after = p;\n            }\n            tail = p;\n            ++modCount;\n        }\n    }\n</code></pre>\n<p>In the case of LinkedHashMap, if you do not use synchronized, problems may arise if you do not use synchronized because the reference values of before and after are changed when reading.\nIn fact, I was wondering if there is a problem when reading from various types of Maps, and I wondered if there could be a memory leak problem in reading depending on the implementation of Map.</p>\n"}],"owner":{"account_id":4159113,"reputation":897,"user_id":3409583,"display_name":"user3409583"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637800540,"creation_date":1637797259,"question_id":70104233,"body_markdown":"I wonder following things\r\n\r\n1. Doesn&#39;t a memory leak occur even if sycronized is not implemented in the `get method`?\r\n2. If a memory leak occurs, what is the reason?\r\n\r\nstep1: put key : &quot;a&quot; -&gt; value : &quot;b&quot; \r\n\r\nstep2: thread1 -&gt; remove(&quot;a&quot;), thread2 -&gt; get(&quot;a&quot;) (occurs at the same time)\r\n\r\n=&gt; will the cache class still refer to &quot;b&quot;? can&#39;t &quot;b&quot; be garbage collected forever?\r\n\r\n```\r\n    class Cache {\r\n        private Map&lt;String, String&gt; cache = new LinkedHashMap&lt;&gt;();\r\n\r\n        public synchronized void put(String key, String value) {\r\n            cache.put(key, value);\r\n        }\r\n\r\n        public synchronized void remove(String key) {\r\n            cache.remove(key);\r\n        }\r\n\r\n        public String get(String key) {\r\n            return cache.get(key);\r\n        }\r\n    }\r\n```","title":"Unsycronized LinkedHashMap lead to memory leaks in multithreaded environment?","body":"<p>I wonder following things</p>\n<ol>\n<li>Doesn't a memory leak occur even if sycronized is not implemented in the <code>get method</code>?</li>\n<li>If a memory leak occurs, what is the reason?</li>\n</ol>\n<p>step1: put key : &quot;a&quot; -&gt; value : &quot;b&quot;</p>\n<p>step2: thread1 -&gt; remove(&quot;a&quot;), thread2 -&gt; get(&quot;a&quot;) (occurs at the same time)</p>\n<p>=&gt; will the cache class still refer to &quot;b&quot;? can't &quot;b&quot; be garbage collected forever?</p>\n<pre><code>    class Cache {\n        private Map&lt;String, String&gt; cache = new LinkedHashMap&lt;&gt;();\n\n        public synchronized void put(String key, String value) {\n            cache.put(key, value);\n        }\n\n        public synchronized void remove(String key) {\n            cache.remove(key);\n        }\n\n        public String get(String key) {\n            return cache.get(key);\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-time"],"answers":[{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1490871203,"creation_date":1490869546,"answer_id":43115127,"question_id":43102957,"body_markdown":"It is possible for a specific case:\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .appendPattern(&quot;EEE MMM dd HH:mm:ss &quot;)\r\n        .appendText(OFFSET_SECONDS, ImmutableMap.of(2L * 60 * 60, &quot;CEST&quot;, 1L * 60 * 60, &quot;CET&quot;))\r\n        .appendPattern(&quot; yyyy&quot;)\r\n        .toFormatter(Locale.ENGLISH);\r\n\r\nThis maps the exact offset to the expected text. Where this fails is when you need to deal with more than one time-zone.\r\n\r\nTo do the job properly requires a [JDK change](https://bugs.openjdk.java.net/browse/JDK-8177819).","title":"DateTimeFormatter parsing - timezone names and daylight savings overlap times","body":"<p>It is possible for a specific case:</p>\n\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(\"EEE MMM dd HH:mm:ss \")\n    .appendText(OFFSET_SECONDS, ImmutableMap.of(2L * 60 * 60, \"CEST\", 1L * 60 * 60, \"CET\"))\n    .appendPattern(\" yyyy\")\n    .toFormatter(Locale.ENGLISH);\n</code></pre>\n\n<p>This maps the exact offset to the expected text. Where this fails is when you need to deal with more than one time-zone.</p>\n\n<p>To do the job properly requires a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8177819\" rel=\"noreferrer\">JDK change</a>.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636645265,"creation_date":1636644888,"answer_id":69930961,"question_id":43102957,"body_markdown":"It *seems* like a bug. I tested in Java 17 and it&#39;s still the same behaviour. I dug into the parsing logic and I can see why this happens.\r\n\r\nOne of the first things that happens is `TimeZoneNameUtility.getZoneStrings(locale)` is called. This gives you a 2D array of Strings\r\n\r\n    [\r\n        [\r\n            &quot;Europe/Paris&quot;,\r\n            &quot;Central European Standard Time&quot;, &quot;CET&quot;,\r\n            &quot;Central European Summer Time&quot;, &quot;CEST&quot;,\r\n            &quot;Central European Time&quot;, &quot;CET&quot;\r\n        ],\r\n        // others\r\n    ]\r\n\r\nIt builds a [prefix tree](https://en.wikipedia.org/wiki/Trie) out of them. All items in here get mapped to the 0th item - `&quot;Europe/Paris&quot;`. When it&#39;s parsing, it descends the prefix tree one character at a time e.g. `C... E... T...`, then returns a match if there was one. Since CEST and CET map to the same thing, they&#39;re effectively just aliases of one another.\r\n\r\nLater on that string is [passed to `ZoneId.of()`](https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/java.base/share/classes/java/time/format/DateTimeFormatterBuilder.java#L4352) which means the fact of whether it&#39;s summertime or not has been thrown away.\r\n\r\nIt does seem in Java 18 that there have been significant changes in this code, so maybe they&#39;re addressing that.","title":"DateTimeFormatter parsing - timezone names and daylight savings overlap times","body":"<p>It <em>seems</em> like a bug. I tested in Java 17 and it's still the same behaviour. I dug into the parsing logic and I can see why this happens.</p>\n<p>One of the first things that happens is <code>TimeZoneNameUtility.getZoneStrings(locale)</code> is called. This gives you a 2D array of Strings</p>\n<pre><code>[\n    [\n        &quot;Europe/Paris&quot;,\n        &quot;Central European Standard Time&quot;, &quot;CET&quot;,\n        &quot;Central European Summer Time&quot;, &quot;CEST&quot;,\n        &quot;Central European Time&quot;, &quot;CET&quot;\n    ],\n    // others\n]\n</code></pre>\n<p>It builds a <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">prefix tree</a> out of them. All items in here get mapped to the 0th item - <code>&quot;Europe/Paris&quot;</code>. When it's parsing, it descends the prefix tree one character at a time e.g. <code>C... E... T...</code>, then returns a match if there was one. Since CEST and CET map to the same thing, they're effectively just aliases of one another.</p>\n<p>Later on that string is <a href=\"https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/java.base/share/classes/java/time/format/DateTimeFormatterBuilder.java#L4352\" rel=\"nofollow noreferrer\">passed to <code>ZoneId.of()</code></a> which means the fact of whether it's summertime or not has been thrown away.</p>\n<p>It does seem in Java 18 that there have been significant changes in this code, so maybe they're addressing that.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637800031,"creation_date":1637798729,"answer_id":70104378,"question_id":43102957,"body_markdown":"## The general workaround\r\n\r\nJodaStephen, the main author of java.time, in his answer shows a workaround for the case of CET and CEST (Central European Time and Central European Summer Time). I present a workaround that I believe will work in all time zones having different abbreviations for standard time and summer time (DST).\r\n\r\n    public static ZonedDateTime parse(String text) {\r\n        ZonedDateTime result = ZonedDateTime.parse(text, FORMATTER);\r\n\r\n        if (result.format(FORMATTER).equals(text)) {\r\n            return result;\r\n        }\r\n\r\n        // Default we get the earlier offset at overlap,\r\n        // so if it didnt work, try the later offset\r\n        result = result.withLaterOffsetAtOverlap();\r\n        if (result.format(FORMATTER).equals(text)) {\r\n            return result;\r\n        }\r\n\r\n        // As a last desperate attempt, try earlier offset explicitly \r\n        result = result.withEarlierOffsetAtOverlap();\r\n        if (result.format(FORMATTER).equals(text)) {\r\n            return result;\r\n        }\r\n\r\n        // Give up\r\n        throw new IllegalArgumentException();\r\n    }\r\n\r\nThe method could use any formatter with a time zone name or abbreviation as long as its supposed to give the same output from formatting as the input it parses (so optional parts are a no-no, for example). I have assumed a formatter equivalent to yours:\r\n\r\n    private static final DateTimeFormatter FORMATTER\r\n            = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, Locale.ROOT);\r\n\r\nYour trouble was with a millisecond value of 1 477 789 200 000, which was formatted into `Sun Oct 30 02:00:00 CET 2016` and then parsed to 1 477 785 600 000 for a difference of -3 600 000 milliseconds. So lets try my method with that one.\r\n\r\n    private static final ZoneId TIME_ZONE = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n\r\n        long trouble = 1_477_789_200_000L;\r\n        String formatted = Instant.ofEpochMilli(trouble).atZone(TIME_ZONE).format(FORMATTER);\r\n        ZonedDateTime zdt = parse(formatted);\r\n        long parsedTime = zdt.toInstant().toEpochMilli();\r\n        System.out.println(formatted + &quot;, diff: &quot; + (parsedTime - trouble));\r\n\r\nOutput is:\r\n\r\n&gt; Sun Oct 30 02:00:00 CET 2016, diff: 0\r\n\r\n## But dont parse three letter time zone abbreviations\r\n\r\nAll of the above said, even with a workaround for that case of the fall overlap, you are on shaky ground when trying to parse time zone abbreviations. Most of the most common ones are ambiguous, and you dont know what you get from parsing. In the case of CET and CEST, they are common abbreviations for very many European time zones that at present share offset +01:00 during standard time and +02:00 during summer time, but historically have had their own offset each and are likely to go separate ways again since the EU has decided to give up summer time completely. Next year one time zone may use CET all year and another CEST all year. My code above does *not* account for that.\r\n\r\nInstead simply take the output from `ZonedDateTime.toString` and parse it back using the one-arg `ZonedDateTime.parse(CharSequence)`.","title":"DateTimeFormatter parsing - timezone names and daylight savings overlap times","body":"<h2>The general workaround</h2>\n<p>JodaStephen, the main author of java.time, in his answer shows a workaround for the case of CET and CEST (Central European Time and Central European Summer Time). I present a workaround that I believe will work in all time zones having different abbreviations for standard time and summer time (DST).</p>\n<pre><code>public static ZonedDateTime parse(String text) {\n    ZonedDateTime result = ZonedDateTime.parse(text, FORMATTER);\n\n    if (result.format(FORMATTER).equals(text)) {\n        return result;\n    }\n\n    // Default we get the earlier offset at overlap,\n    // so if it didnt work, try the later offset\n    result = result.withLaterOffsetAtOverlap();\n    if (result.format(FORMATTER).equals(text)) {\n        return result;\n    }\n\n    // As a last desperate attempt, try earlier offset explicitly \n    result = result.withEarlierOffsetAtOverlap();\n    if (result.format(FORMATTER).equals(text)) {\n        return result;\n    }\n\n    // Give up\n    throw new IllegalArgumentException();\n}\n</code></pre>\n<p>The method could use any formatter with a time zone name or abbreviation as long as its supposed to give the same output from formatting as the input it parses (so optional parts are a no-no, for example). I have assumed a formatter equivalent to yours:</p>\n<pre><code>private static final DateTimeFormatter FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, Locale.ROOT);\n</code></pre>\n<p>Your trouble was with a millisecond value of 1 477 789 200 000, which was formatted into <code>Sun Oct 30 02:00:00 CET 2016</code> and then parsed to 1 477 785 600 000 for a difference of -3 600 000 milliseconds. So lets try my method with that one.</p>\n<pre><code>private static final ZoneId TIME_ZONE = ZoneId.of(&quot;Europe/Berlin&quot;);\n\n    long trouble = 1_477_789_200_000L;\n    String formatted = Instant.ofEpochMilli(trouble).atZone(TIME_ZONE).format(FORMATTER);\n    ZonedDateTime zdt = parse(formatted);\n    long parsedTime = zdt.toInstant().toEpochMilli();\n    System.out.println(formatted + &quot;, diff: &quot; + (parsedTime - trouble));\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>Sun Oct 30 02:00:00 CET 2016, diff: 0</p>\n</blockquote>\n<h2>But dont parse three letter time zone abbreviations</h2>\n<p>All of the above said, even with a workaround for that case of the fall overlap, you are on shaky ground when trying to parse time zone abbreviations. Most of the most common ones are ambiguous, and you dont know what you get from parsing. In the case of CET and CEST, they are common abbreviations for very many European time zones that at present share offset +01:00 during standard time and +02:00 during summer time, but historically have had their own offset each and are likely to go separate ways again since the EU has decided to give up summer time completely. Next year one time zone may use CET all year and another CEST all year. My code above does <em>not</em> account for that.</p>\n<p>Instead simply take the output from <code>ZonedDateTime.toString</code> and parse it back using the one-arg <code>ZonedDateTime.parse(CharSequence)</code>.</p>\n"}],"owner":{"account_id":167867,"reputation":5156,"user_id":392946,"display_name":"Gunther"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43115127,"answer_count":3,"score":4,"last_activity_date":1637800031,"creation_date":1490817297,"question_id":43102957,"body_markdown":"For improving performance of some legacy code, I am considering a replacement of java.text.SimpleDateFormat by java.time.format.DateTimeFormatter.\r\n\r\nAmong the tasks performed is parsing date/time values that had been serialized using java.util.Date.toString. With SimpleDateFormat, it was possible to turn them back into the original timestamps (neglecting fractional seconds), however I am facing problems when attempting to do the same with DateTimeFormatter.\r\n\r\nWhen formatting with either, my local timezone is indicated as CET or CEST, depending on whether daylight savings time is in effect for the time to be formatted. However it appears that at parsing time, both CET and CEST are treated the same by DateTimeFormatter.\r\n\r\nThis creates a problem with the overlap occurring at the end of daylight savings time. When formatting, 02:00:00 is created twice, for times one hour apart, but with CEST and CET timezone names - which is fine. But at parsing time, that difference can&#39;t be reclaimed.\r\n\r\nHere is an example:\r\n\r\n    long msecPerHour = 3600000L;\r\n    long cet_dst_2016 = 1477778400000L;\r\n    DateTimeFormatter formatter =\r\n        DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, Locale.ENGLISH);\r\n    ZoneId timezone = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n    for (int hours = 0; hours &lt; 6; ++hours) {\r\n        long time = cet_dst_2016 + msecPerHour * hours;\r\n        String formatted = formatter.format(Instant.ofEpochMilli(time).atZone(timezone));\r\n        long parsedTime = Instant.from(formatter.parse(formatted)).toEpochMilli();\r\n        System.out.println(formatted + &quot;, diff: &quot; + (parsedTime - time));\r\n    }\r\n\r\nwhich results in\r\n\r\n    Sun Oct 30 00:00:00 CEST 2016, diff: 0\r\n    Sun Oct 30 01:00:00 CEST 2016, diff: 0\r\n    Sun Oct 30 02:00:00 CEST 2016, diff: 0\r\n    Sun Oct 30 02:00:00 CET 2016, diff: -3600000\r\n    Sun Oct 30 03:00:00 CET 2016, diff: 0\r\n    Sun Oct 30 04:00:00 CET 2016, diff: 0\r\n\r\nIt shows that the second occurrence of 02:00:00, inspite of the different timezone name, was treated like the first one. So the result effectively is off by one hour.\r\n\r\nObviously the formatted string has all information available, and SimpleDateFormat parsing in fact honored it. Is it possible to roundtrip through formatting and parsing, using DateTimeFormatter, with the given pattern?","title":"DateTimeFormatter parsing - timezone names and daylight savings overlap times","body":"<p>For improving performance of some legacy code, I am considering a replacement of java.text.SimpleDateFormat by java.time.format.DateTimeFormatter.</p>\n\n<p>Among the tasks performed is parsing date/time values that had been serialized using java.util.Date.toString. With SimpleDateFormat, it was possible to turn them back into the original timestamps (neglecting fractional seconds), however I am facing problems when attempting to do the same with DateTimeFormatter.</p>\n\n<p>When formatting with either, my local timezone is indicated as CET or CEST, depending on whether daylight savings time is in effect for the time to be formatted. However it appears that at parsing time, both CET and CEST are treated the same by DateTimeFormatter.</p>\n\n<p>This creates a problem with the overlap occurring at the end of daylight savings time. When formatting, 02:00:00 is created twice, for times one hour apart, but with CEST and CET timezone names - which is fine. But at parsing time, that difference can't be reclaimed.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>long msecPerHour = 3600000L;\nlong cet_dst_2016 = 1477778400000L;\nDateTimeFormatter formatter =\n    DateTimeFormatter.ofPattern(\"EEE MMM dd HH:mm:ss zzz yyyy\", Locale.ENGLISH);\nZoneId timezone = ZoneId.of(\"Europe/Berlin\");\nfor (int hours = 0; hours &lt; 6; ++hours) {\n    long time = cet_dst_2016 + msecPerHour * hours;\n    String formatted = formatter.format(Instant.ofEpochMilli(time).atZone(timezone));\n    long parsedTime = Instant.from(formatter.parse(formatted)).toEpochMilli();\n    System.out.println(formatted + \", diff: \" + (parsedTime - time));\n}\n</code></pre>\n\n<p>which results in</p>\n\n<pre><code>Sun Oct 30 00:00:00 CEST 2016, diff: 0\nSun Oct 30 01:00:00 CEST 2016, diff: 0\nSun Oct 30 02:00:00 CEST 2016, diff: 0\nSun Oct 30 02:00:00 CET 2016, diff: -3600000\nSun Oct 30 03:00:00 CET 2016, diff: 0\nSun Oct 30 04:00:00 CET 2016, diff: 0\n</code></pre>\n\n<p>It shows that the second occurrence of 02:00:00, inspite of the different timezone name, was treated like the first one. So the result effectively is off by one hour.</p>\n\n<p>Obviously the formatted string has all information available, and SimpleDateFormat parsing in fact honored it. Is it possible to roundtrip through formatting and parsing, using DateTimeFormatter, with the given pattern?</p>\n"},{"tags":["java","applet","jnlp","next-generation-plugin"],"answers":[{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315304388,"creation_date":1315304388,"answer_id":7318313,"question_id":7313317,"body_markdown":"Your `jnlp_ref` should probably be an absolute URI, e.g. `http://127.0.0.1:8888/applets/testehellojws.jnlp`\r\n\r\nAlso there is a stray space at the start of your `code` value (though this is probably not the cause of your problem.)","title":"JNLP as a Applet in HTML page","body":"<p>Your <code>jnlp_ref</code> should probably be an absolute URI, e.g. <code>http://127.0.0.1:8888/applets/testehellojws.jnlp</code></p>\n\n<p>Also there is a stray space at the start of your <code>code</code> value (though this is probably not the cause of your problem.)</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637799621,"creation_date":1315309666,"answer_id":7319399,"question_id":7313317,"body_markdown":"    &lt;application-desc main-class=&quot;br.com.app.server.HelloJWS&quot;&gt;&lt;/application-desc&gt;\r\n\r\nThat is the descriptor for a Java application (as opposed to an applet).  For an applet, use something more like..\r\n\r\n    &lt;applet-desc main-class=&quot;br.com.app.server.HelloJWS&quot;&gt;&lt;/applet-desc&gt;\r\n\r\nNote: \r\n\r\n1. Even that is not a correct descriptor for an applet, which must explicitly state a `documentBase`, `name`, `width` &amp; `height`.  See the &lt;a href=&quot;http://download.oracle.com/javase/1.4.2/docs/guide/jws/developersguide/syntax.html#applet_desc&quot;&gt;applet-desc&lt;/a&gt; section of the JNLP File Syntax for more details.\r\n2. It must (of course) be an applet.  It is not possible to &#39;embed&#39; an application into a web page using this technique.\r\n3. **JNLP and the Java Plug-In (required for both applets and web start) was deprecated and *removed from the API* in Java 9.**","title":"JNLP as a Applet in HTML page","body":"<pre><code>&lt;application-desc main-class=&quot;br.com.app.server.HelloJWS&quot;&gt;&lt;/application-desc&gt;\n</code></pre>\n<p>That is the descriptor for a Java application (as opposed to an applet).  For an applet, use something more like..</p>\n<pre><code>&lt;applet-desc main-class=&quot;br.com.app.server.HelloJWS&quot;&gt;&lt;/applet-desc&gt;\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>Even that is not a correct descriptor for an applet, which must explicitly state a <code>documentBase</code>, <code>name</code>, <code>width</code> &amp; <code>height</code>.  See the <a href=\"http://download.oracle.com/javase/1.4.2/docs/guide/jws/developersguide/syntax.html#applet_desc\" rel=\"nofollow noreferrer\">applet-desc</a> section of the JNLP File Syntax for more details.</li>\n<li>It must (of course) be an applet.  It is not possible to 'embed' an application into a web page using this technique.</li>\n<li><strong>JNLP and the Java Plug-In (required for both applets and web start) was deprecated and <em>removed from the API</em> in Java 9.</strong></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1315315488,"creation_date":1315315488,"answer_id":7320654,"question_id":7313317,"body_markdown":"Checking on a related post, I decided to test the tag \r\n\r\n    &lt;OBJECT&gt;\r\n.\r\nI thought that this would not work with JNLP, so we had tested before.\r\nAfter changing \r\n\r\n    &lt;APPLET&gt; \r\nto\r\n \r\n    &lt;OBJECT&gt; \r\nand referencing my jnlp file as a parameter, it worked!\r\nThe browser ignores the code and archive parameters and run my JNLP.\r\n\r\nthanks.","title":"JNLP as a Applet in HTML page","body":"<p>Checking on a related post, I decided to test the tag </p>\n\n<pre><code>&lt;OBJECT&gt;\n</code></pre>\n\n<p>.\nI thought that this would not work with JNLP, so we had tested before.\nAfter changing </p>\n\n<pre><code>&lt;APPLET&gt; \n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;OBJECT&gt; \n</code></pre>\n\n<p>and referencing my jnlp file as a parameter, it worked!\nThe browser ignores the code and archive parameters and run my JNLP.</p>\n\n<p>thanks.</p>\n"},{"tags":[],"owner":{"account_id":1614499,"reputation":65,"user_id":1492570,"display_name":"RickeyShao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1387087078,"creation_date":1387087078,"answer_id":20591709,"question_id":7313317,"body_markdown":"Try to remove [archive=&quot;CompatibilityApplet.jar&quot;]","title":"JNLP as a Applet in HTML page","body":"<p>Try to remove [archive=\"CompatibilityApplet.jar\"]</p>\n"}],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9507,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7320654,"answer_count":4,"score":4,"last_activity_date":1637799621,"creation_date":1315262417,"question_id":7313317,"body_markdown":"I&#39;m trying to run my JNLP within an HTML page, but the java plugin does not run the JNLP, runs only the Applet.\r\n\r\nHere is my code:\r\n\r\n    &lt;applet width=&quot;800&quot; height=&quot;500&quot; codebase=&quot;http://127.0.0.1:8888/applets/&quot;\r\n        code=&quot;br.com.app.server.utils.CompatibilityApplet&quot;\r\n        archive=&quot;CompatibilityApplet.jar&quot;&gt;\r\n                &lt;param name=&quot;jnlp_ref&quot; value=&quot;http://127.0.0.1:8888/applets/testehellojws.jnlp&quot;&gt;\r\n    &lt;/applet&gt;\r\n\r\nThanks.\r\n\r\n[EDIT]\r\n\r\nAn example:\r\n\r\nhttp://java.sun.com/javase/ja/6/ea/6u10/plugin2/jnlp/CompatibilityApplet.java\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;jnlp spec=&quot;6.0+&quot; codebase=&quot;http://127.0.0.1:8888/applets/&quot; href=&quot;testehellojws.jnlp&quot;&gt;\r\n        &lt;information&gt;\r\n            &lt;title&gt;App Hello&lt;/title&gt;\r\n            &lt;vendor&gt;My App Jnlp.&lt;/vendor&gt;\r\n            &lt;homepage href=&quot;http://127.0.0.1:8888/Home.html&quot;/&gt;\r\n            &lt;description&gt;My App Jnlp&lt;/description&gt;\r\n            &lt;description kind=&quot;short&quot;&gt;Appr&lt;/description&gt;\r\n            &lt;icon href=&quot;images/icone.jpg&quot;/&gt;\r\n        &lt;/information&gt;\r\n        &lt;resources&gt;\r\n            &lt;j2se version=&quot;1.6+&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot;/&gt;\r\n            &lt;jar href=&quot;hello.jar&quot; main=&quot;true&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;application-desc main-class=&quot;br.com.app.server.HelloJWS&quot;&gt;&lt;/application-desc&gt;\r\n    &lt;/jnlp&gt;\r\n\r\n\r\n&gt;Please edit your question and just let me know it is edited. \r\n\r\nOK\r\n\r\n&gt;Did you miss the part about the documentBase? \r\n\r\nI didn&#39;t.\r\n\r\n&gt;I would recommend removing the space in the applet name attribute. \r\n\r\nDone\r\n\r\n&gt;Can you run any other JNLP embedded applets? E.G. the small (sand-boxed) GIFanim applet at my site?\r\n\r\nYes\r\n\r\n&gt;What info. do you get reported from here?\r\n\r\njava.vendor: Sun Microsystems Inc. &lt;br /&gt;\r\njava.version: 1.6.0_26&lt;br /&gt;\r\nos.name: Windows 7&lt;br /&gt;\r\nos.version: 6.1&lt;br /&gt;\r\n","title":"JNLP as a Applet in HTML page","body":"<p>I'm trying to run my JNLP within an HTML page, but the java plugin does not run the JNLP, runs only the Applet.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;applet width=\"800\" height=\"500\" codebase=\"http://127.0.0.1:8888/applets/\"\n    code=\"br.com.app.server.utils.CompatibilityApplet\"\n    archive=\"CompatibilityApplet.jar\"&gt;\n            &lt;param name=\"jnlp_ref\" value=\"http://127.0.0.1:8888/applets/testehellojws.jnlp\"&gt;\n&lt;/applet&gt;\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>[EDIT]</p>\n\n<p>An example:</p>\n\n<p><a href=\"http://java.sun.com/javase/ja/6/ea/6u10/plugin2/jnlp/CompatibilityApplet.java\" rel=\"nofollow\">http://java.sun.com/javase/ja/6/ea/6u10/plugin2/jnlp/CompatibilityApplet.java</a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;jnlp spec=\"6.0+\" codebase=\"http://127.0.0.1:8888/applets/\" href=\"testehellojws.jnlp\"&gt;\n    &lt;information&gt;\n        &lt;title&gt;App Hello&lt;/title&gt;\n        &lt;vendor&gt;My App Jnlp.&lt;/vendor&gt;\n        &lt;homepage href=\"http://127.0.0.1:8888/Home.html\"/&gt;\n        &lt;description&gt;My App Jnlp&lt;/description&gt;\n        &lt;description kind=\"short\"&gt;Appr&lt;/description&gt;\n        &lt;icon href=\"images/icone.jpg\"/&gt;\n    &lt;/information&gt;\n    &lt;resources&gt;\n        &lt;j2se version=\"1.6+\" href=\"http://java.sun.com/products/autodl/j2se\"/&gt;\n        &lt;jar href=\"hello.jar\" main=\"true\"/&gt;\n    &lt;/resources&gt;\n    &lt;application-desc main-class=\"br.com.app.server.HelloJWS\"&gt;&lt;/application-desc&gt;\n&lt;/jnlp&gt;\n</code></pre>\n\n<blockquote>\n  <p>Please edit your question and just let me know it is edited. </p>\n</blockquote>\n\n<p>OK</p>\n\n<blockquote>\n  <p>Did you miss the part about the documentBase? </p>\n</blockquote>\n\n<p>I didn't.</p>\n\n<blockquote>\n  <p>I would recommend removing the space in the applet name attribute. </p>\n</blockquote>\n\n<p>Done</p>\n\n<blockquote>\n  <p>Can you run any other JNLP embedded applets? E.G. the small (sand-boxed) GIFanim applet at my site?</p>\n</blockquote>\n\n<p>Yes</p>\n\n<blockquote>\n  <p>What info. do you get reported from here?</p>\n</blockquote>\n\n<p>java.vendor: Sun Microsystems Inc. <br />\njava.version: 1.6.0_26<br />\nos.name: Windows 7<br />\nos.version: 6.1<br /></p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1637648772,"post_id":70073015,"comment_id":123875712,"body_markdown":"You should at least show your efforts in implementing that extra feature. What code did you try, and what was the problem?","body":"You should at least show your efforts in implementing that extra feature. What code did you try, and what was the problem?"}],"owner":{"account_id":22940139,"reputation":21,"user_id":17073032,"display_name":"Cyan Turnip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637798508,"creation_date":1637619187,"question_id":70073015,"body_markdown":"I have created a binary tree guessing game that takes user input in a form of (y/n) until there are no leaves left. I&#39;m stuck at the last part of the implementation. How can I have it so that when the user reaches the leaf that says &quot;I give up what is it?&quot; they are prompted to enter an animal and that new animal gets inserted into the Binary tree? Any help would be appreciated.\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args){\r\n          // use indentation to more easily distinguish leaves\r\n          BinaryTree questionTree = new BinaryTree(&quot;Is it a mammal?&quot;,\r\n                  //left Yes\r\n             new BinaryTree(&quot;Does it have stripes?&quot;,\r\n                                   //left Yes\r\n    \r\n                new BinaryTree(&quot;Is it a carnivore?&quot;,\r\n                                      //left Yes\r\n                              //end Left Tree\r\n                   new BinaryTree(&quot;is it a tiger?&quot;,\r\n                           //left\r\n                   new BinaryTree(&quot;It is a tiger!&quot;),\r\n           \r\n                      //right one up\r\n                  new BinaryTree(&quot;I give up. what is it?&quot;)),\r\n            \r\n                        \r\n                        \r\n                        //Right two up\r\n                   new BinaryTree(&quot;Is it a zebra?&quot;,\r\n                   new BinaryTree(&quot;It is a zebra!&quot;),\r\n                    new BinaryTree(&quot;I give up what is it?&quot;))),\r\n    \r\n                     \r\n                     //right three up\r\n                new BinaryTree(&quot;Is it a pig?&quot;,\r\n                   new BinaryTree(&quot;It is a pig!&quot;),\r\n                    new BinaryTree(&quot;I give up what is it?&quot;))),     \r\n                  //right four up\r\n             new BinaryTree(&quot;Does it fly?&quot;,\r\n                     \r\n                     // left\r\n                new BinaryTree(&quot;Is it an eagle?&quot;,\r\n                        \r\n                        //left\r\n                   new BinaryTree(&quot;it is an eagle!&quot;),\r\n                        \r\n                        // left\r\n                  new BinaryTree(&quot;I give up what is it?&quot;)),\r\n          \r\n                     \r\n                     //right\r\n                new BinaryTree(&quot;Does it swim?&quot;,\r\n                        //left\r\n                   new BinaryTree(&quot;Is it a penguin?&quot;,\r\n                           //left\r\n                    new BinaryTree(&quot;it is a penguin!&quot;),\r\n                           //left\r\n                 new BinaryTree(&quot;I give up what is it?&quot;)),\r\n    \r\n                        //right   \r\n                   new BinaryTree(&quot;Is it an ostrich?&quot;,\r\n                           //left\r\n                    new BinaryTree(&quot;it is an ostrich!&quot;),\r\n                           \r\n                 new BinaryTree(&quot;I give up what is it?&quot;)))));\r\n              \r\n          \r\n                     \r\n    \r\n          boolean done = false;\r\n          Scanner in = new Scanner(System.in);\r\n          \r\n          while (!done){\r\n             BinaryTree left = questionTree.left();\r\n             BinaryTree right = questionTree.right();\r\n             \r\n             if (left.isEmpty() &amp;&amp; right.isEmpty()){\r\n                System.out.println(questionTree.data());\r\n                done = true;\r\n             \r\n             }else{\r\n                String response;\r\n                \r\n                do{\r\n                   System.out.print(questionTree.data() + &quot; (Y/N) &quot;);\r\n                   response = in.next().toUpperCase();\r\n                \r\n                }while (!response.equals(&quot;Y&quot;) &amp;&amp; !response.equals(&quot;N&quot;));\r\n    \r\n    \r\n                if (response.equals(&quot;Y&quot;)){\r\n                   questionTree = left;\r\n    \r\n                }else{\r\n                   questionTree = right;         \r\n                }\r\n             }\r\n          }\r\n      \r\n     \r\n    }\r\n    \r\n\r\n","title":"Inserting user input into a new node within a binary tree guessing game","body":"<p>I have created a binary tree guessing game that takes user input in a form of (y/n) until there are no leaves left. I'm stuck at the last part of the implementation. How can I have it so that when the user reaches the leaf that says &quot;I give up what is it?&quot; they are prompted to enter an animal and that new animal gets inserted into the Binary tree? Any help would be appreciated.</p>\n<pre><code>public static void main(String[] args){\n      // use indentation to more easily distinguish leaves\n      BinaryTree questionTree = new BinaryTree(&quot;Is it a mammal?&quot;,\n              //left Yes\n         new BinaryTree(&quot;Does it have stripes?&quot;,\n                               //left Yes\n\n            new BinaryTree(&quot;Is it a carnivore?&quot;,\n                                  //left Yes\n                          //end Left Tree\n               new BinaryTree(&quot;is it a tiger?&quot;,\n                       //left\n               new BinaryTree(&quot;It is a tiger!&quot;),\n       \n                  //right one up\n              new BinaryTree(&quot;I give up. what is it?&quot;)),\n        \n                    \n                    \n                    //Right two up\n               new BinaryTree(&quot;Is it a zebra?&quot;,\n               new BinaryTree(&quot;It is a zebra!&quot;),\n                new BinaryTree(&quot;I give up what is it?&quot;))),\n\n                 \n                 //right three up\n            new BinaryTree(&quot;Is it a pig?&quot;,\n               new BinaryTree(&quot;It is a pig!&quot;),\n                new BinaryTree(&quot;I give up what is it?&quot;))),     \n              //right four up\n         new BinaryTree(&quot;Does it fly?&quot;,\n                 \n                 // left\n            new BinaryTree(&quot;Is it an eagle?&quot;,\n                    \n                    //left\n               new BinaryTree(&quot;it is an eagle!&quot;),\n                    \n                    // left\n              new BinaryTree(&quot;I give up what is it?&quot;)),\n      \n                 \n                 //right\n            new BinaryTree(&quot;Does it swim?&quot;,\n                    //left\n               new BinaryTree(&quot;Is it a penguin?&quot;,\n                       //left\n                new BinaryTree(&quot;it is a penguin!&quot;),\n                       //left\n             new BinaryTree(&quot;I give up what is it?&quot;)),\n\n                    //right   \n               new BinaryTree(&quot;Is it an ostrich?&quot;,\n                       //left\n                new BinaryTree(&quot;it is an ostrich!&quot;),\n                       \n             new BinaryTree(&quot;I give up what is it?&quot;)))));\n          \n      \n                 \n\n      boolean done = false;\n      Scanner in = new Scanner(System.in);\n      \n      while (!done){\n         BinaryTree left = questionTree.left();\n         BinaryTree right = questionTree.right();\n         \n         if (left.isEmpty() &amp;&amp; right.isEmpty()){\n            System.out.println(questionTree.data());\n            done = true;\n         \n         }else{\n            String response;\n            \n            do{\n               System.out.print(questionTree.data() + &quot; (Y/N) &quot;);\n               response = in.next().toUpperCase();\n            \n            }while (!response.equals(&quot;Y&quot;) &amp;&amp; !response.equals(&quot;N&quot;));\n\n\n            if (response.equals(&quot;Y&quot;)){\n               questionTree = left;\n\n            }else{\n               questionTree = right;         \n            }\n         }\n      }\n  \n \n}\n</code></pre>\n"},{"tags":["java","uml","enumeration","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":11436074,"reputation":86,"user_id":8383428,"display_name":"Der_Reparator"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637791989,"creation_date":1637791989,"answer_id":70103560,"question_id":70103510,"body_markdown":"You can actually define attributes on Enum types pretty similarly to normal classes: [Oracle docs][1]\r\n\r\nSo in your example you could do something like\r\n\r\n    public enum Material {\r\n        EICHE(1),\r\n        BUCHE(2);\r\n\r\n        private final int cost;\r\n\r\n        Material(int cost) {\r\n            this.cost = cost;\r\n        }\r\n\r\n        int cost() {\r\n            return this.cost;\r\n        }\r\n    }\r\n    \r\n    ...\r\n\r\n    Material oak = Material.EICHE;\r\n    System.out.println(&quot;One unit of Eiche costs &quot; + oak.cost());\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Implement uml Graph in Java","body":"<p>You can actually define attributes on Enum types pretty similarly to normal classes: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Oracle docs</a></p>\n<p>So in your example you could do something like</p>\n<pre><code>public enum Material {\n    EICHE(1),\n    BUCHE(2);\n\n    private final int cost;\n\n    Material(int cost) {\n        this.cost = cost;\n    }\n\n    int cost() {\n        return this.cost;\n    }\n}\n\n...\n\nMaterial oak = Material.EICHE;\nSystem.out.println(&quot;One unit of Eiche costs &quot; + oak.cost());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637797394,"creation_date":1637797394,"answer_id":70104256,"question_id":70103510,"body_markdown":"## In short\r\n\r\n    public enum Material {\r\n        Eiche,Buche,Esche;\r\n        public int materialCost; // public access is not great, but that&#39;s the model\r\n    } \r\n\r\n## Detailed justification based on the UML diagram\r\n\r\nThe UML keyword `&#171;enumeration&#187;` corresponds in Java to an `enum`.  \r\n\r\nUML enumeration literals such as `Eiche`, `Buche`, `Esche`, are generally not underlined and are placed in a separate compartment with only literals.  This compartment should be graphically place below the operations, which are themselves sperated from the attributes. Your graphical notation does not respect this usage, so a closer look is needed to avoid confusion. Underlined elements in an UML class are static elements, but in the specific case of enumeration, the underline means an &quot;instance specification&quot; (sorry for the UML jargon) i.e. some constant enum values.   \r\n\r\n`materialCost` is not underlined.  It&#39;s therefore a normal, public attribute.  Some languages do not allow additional attributes and operations for an enumeration,  but UML does.  And fortunately Java as well.  We do not know the type of this attribute, so you could chose what is relevant in the implementation; `int` seems ok.  `materialCost` should not be an array: an array would require a multiplicity greater than 1 in UML since you could have more than one element. In the diagram there is no explicit multiplicity which means (according to the UML specs) a multiplicity of exactly 1.   \r\n\r\nLast but not least, the `materialCost` could perfectly be modified at any time according to the UML model,  since it is not followed by `{readOnly}`.  It&#39;s not an operation either since `()` is missing \r\n\r\n## Additional remarks\r\n\r\nIn UML an enum is a value type:  if two instances have the same values they are considered as identical. \r\nIn Java it&#39;s a little more tricky, because of [the difference between `==` and `.equals()`][1] and the special guarantees about `==` when comparing to enum literals and in absence of additional fields. SOme prudence seems advisable for this kind of hybrid enums. \r\n\r\n  \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1750435/3723423","title":"Implement uml Graph in Java","body":"<h2>In short</h2>\n<pre><code>public enum Material {\n    Eiche,Buche,Esche;\n    public int materialCost; // public access is not great, but that's the model\n} \n</code></pre>\n<h2>Detailed justification based on the UML diagram</h2>\n<p>The UML keyword <code>enumeration</code> corresponds in Java to an <code>enum</code>.</p>\n<p>UML enumeration literals such as <code>Eiche</code>, <code>Buche</code>, <code>Esche</code>, are generally not underlined and are placed in a separate compartment with only literals.  This compartment should be graphically place below the operations, which are themselves sperated from the attributes. Your graphical notation does not respect this usage, so a closer look is needed to avoid confusion. Underlined elements in an UML class are static elements, but in the specific case of enumeration, the underline means an &quot;instance specification&quot; (sorry for the UML jargon) i.e. some constant enum values.</p>\n<p><code>materialCost</code> is not underlined.  It's therefore a normal, public attribute.  Some languages do not allow additional attributes and operations for an enumeration,  but UML does.  And fortunately Java as well.  We do not know the type of this attribute, so you could chose what is relevant in the implementation; <code>int</code> seems ok.  <code>materialCost</code> should not be an array: an array would require a multiplicity greater than 1 in UML since you could have more than one element. In the diagram there is no explicit multiplicity which means (according to the UML specs) a multiplicity of exactly 1.</p>\n<p>Last but not least, the <code>materialCost</code> could perfectly be modified at any time according to the UML model,  since it is not followed by <code>{readOnly}</code>.  It's not an operation either since <code>()</code> is missing</p>\n<h2>Additional remarks</h2>\n<p>In UML an enum is a value type:  if two instances have the same values they are considered as identical.\nIn Java it's a little more tricky, because of <a href=\"https://stackoverflow.com/q/1750435/3723423\">the difference between <code>==</code> and <code>.equals()</code></a> and the special guarantees about <code>==</code> when comparing to enum literals and in absence of additional fields. SOme prudence seems advisable for this kind of hybrid enums.</p>\n"}],"owner":{"account_id":21020926,"reputation":165,"user_id":17496555,"display_name":"Iwan5050"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70104256,"answer_count":2,"score":2,"last_activity_date":1637797394,"creation_date":1637791642,"question_id":70103510,"body_markdown":"&gt; What is a reasonable implementation of this uml graph in java?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oh4PJ.png\r\n\r\nwhere Enumeration,Eiche,Buche,Esche is german and means enum, oak, beech, ash. My attempt was the following\r\n\r\n```\r\npublic class Material{\r\n\r\npublic static enum material{\r\noak, beech, ash\r\n}\r\n\r\npublic int[] materialCost ={1,2,3};\r\n}\r\n```\r\n\r\nThe problem ist that somewhere in my homework-excercise I find `Table(Material.oak)` so I know my attempt must be wrong. Can anyone help?\r\n\r\n","title":"Implement uml Graph in Java","body":"<blockquote>\n<p>What is a reasonable implementation of this uml graph in java?</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Oh4PJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oh4PJ.png\" alt=\"enter image description here\" /></a></p>\n<p>where Enumeration,Eiche,Buche,Esche is german and means enum, oak, beech, ash. My attempt was the following</p>\n<pre><code>public class Material{\n\npublic static enum material{\noak, beech, ash\n}\n\npublic int[] materialCost ={1,2,3};\n}\n</code></pre>\n<p>The problem ist that somewhere in my homework-excercise I find <code>Table(Material.oak)</code> so I know my attempt must be wrong. Can anyone help?</p>\n"},{"tags":["java","mongodb","projection"],"comments":[{"owner":{"account_id":18879327,"reputation":2113,"user_id":13772090,"display_name":"Murat Colyaran"},"score":0,"creation_date":1624906581,"post_id":68168160,"comment_id":120480370,"body_markdown":"Can you write aggregations in kotlin?","body":"Can you write aggregations in kotlin?"},{"owner":{"account_id":158377,"reputation":322,"user_id":376962,"display_name":"thewaterwalker"},"score":0,"creation_date":1624907655,"post_id":68168160,"comment_id":120480743,"body_markdown":"I think the fact that the code is Kotlin is not relevant so i have rewritten the example in Java.  Do I need the `aggregate` to rename a field?","body":"I think the fact that the code is Kotlin is not relevant so i have rewritten the example in Java.  Do I need the <code>aggregate</code> to rename a field?"},{"owner":{"account_id":18879327,"reputation":2113,"user_id":13772090,"display_name":"Murat Colyaran"},"score":0,"creation_date":1624911275,"post_id":68168160,"comment_id":120481886,"body_markdown":"Yess, you can do this easily in `$project` stage.","body":"Yess, you can do this easily in <code>$project</code> stage."}],"answers":[{"tags":[],"owner":{"account_id":18879327,"reputation":2113,"user_id":13772090,"display_name":"Murat Colyaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624912077,"creation_date":1624911093,"answer_id":68169493,"question_id":68168160,"body_markdown":"You can easily do it with below aggregation:\r\n\r\n```\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$project&quot;: {\r\n      &quot;newField&quot;: &quot;$oldfieldname&quot;,\r\n      _id: 0 // Optional\r\n    }\r\n  }\r\n])\r\n```\r\n\r\n[Playground][1]\r\n\r\nEdit:\r\n\r\nIf you have more field than fields you want to exclude, you should use `$project` like this:\r\n\r\n```\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$project&quot;: {\r\n      &quot;newField&quot;: &quot;$oldfieldname&quot;,\r\n      &quot;includeField&quot;: 1 //Fields other than this will be excluded\r\n    }\r\n  }\r\n])\r\n```\r\n\r\n[Playground2][2]\r\n\r\n\r\n  [1]: https://mongoplayground.net/p/ns0dZe5lZk4\r\n  [2]: https://mongoplayground.net/p/6NSdGCn88--","title":"Rename field in projection when using Java driver","body":"<p>You can easily do it with below aggregation:</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$project&quot;: {\n      &quot;newField&quot;: &quot;$oldfieldname&quot;,\n      _id: 0 // Optional\n    }\n  }\n])\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/ns0dZe5lZk4\" rel=\"nofollow noreferrer\">Playground</a></p>\n<p>Edit:</p>\n<p>If you have more field than fields you want to exclude, you should use <code>$project</code> like this:</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$project&quot;: {\n      &quot;newField&quot;: &quot;$oldfieldname&quot;,\n      &quot;includeField&quot;: 1 //Fields other than this will be excluded\n    }\n  }\n])\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/6NSdGCn88--\" rel=\"nofollow noreferrer\">Playground2</a></p>\n"},{"tags":[],"owner":{"account_id":158377,"reputation":322,"user_id":376962,"display_name":"thewaterwalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637797326,"creation_date":1637797326,"answer_id":70104246,"question_id":68168160,"body_markdown":"When using the Aggregation Framework, this can also be done as follows\r\n\r\n1) Use Projections.computed\r\n\r\n`project(fields(computed(&quot;newname&quot;, &quot;$oldname&quot;)))`\r\n\r\n2) Use Aggregates.addFields\r\n\r\n`addFields(Field(&quot;newname&quot;, &quot;$oldname&quot;))`\r\n\r\n\r\n","title":"Rename field in projection when using Java driver","body":"<p>When using the Aggregation Framework, this can also be done as follows</p>\n<ol>\n<li>Use Projections.computed</li>\n</ol>\n<p><code>project(fields(computed(&quot;newname&quot;, &quot;$oldname&quot;)))</code></p>\n<ol start=\"2\">\n<li>Use Aggregates.addFields</li>\n</ol>\n<p><code>addFields(Field(&quot;newname&quot;, &quot;$oldname&quot;))</code></p>\n"}],"owner":{"account_id":158377,"reputation":322,"user_id":376962,"display_name":"thewaterwalker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637797326,"creation_date":1624903593,"question_id":68168160,"body_markdown":"I would like to rename a field in a projection but this does not work when using Kotlin and the MongoDB Java driver. Can this be done with the Java driver?\r\n\r\n```kotlin\r\n    collection\r\n        .find()\r\n        // field removal works\r\n        .projection(\r\n            fields(exclude(&quot;excludefield1&quot;,&quot;excludefield2&quot;))\r\n        )\r\n        // field rename does not work\r\n        .projection(new Document(&quot;newfieldname&quot;,&quot;$oldfieldname&quot;))\r\n        .forEach...\r\n```","title":"Rename field in projection when using Java driver","body":"<p>I would like to rename a field in a projection but this does not work when using Kotlin and the MongoDB Java driver. Can this be done with the Java driver?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    collection\n        .find()\n        // field removal works\n        .projection(\n            fields(exclude(&quot;excludefield1&quot;,&quot;excludefield2&quot;))\n        )\n        // field rename does not work\n        .projection(new Document(&quot;newfieldname&quot;,&quot;$oldfieldname&quot;))\n        .forEach...\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1637767381,"post_id":70098665,"comment_id":123914997,"body_markdown":"because your code isn&#39;t synchronous - https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value. so make use of your data when you have it, or use callbacks","body":"because your code isn&#39;t synchronous - <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value\" title=\"why does my function that calls an api return an empty or null value\">stackoverflow.com/questions/57330766/&hellip;</a>. so make use of your data when you have it, or use callbacks"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1637771973,"post_id":70098665,"comment_id":123916952,"body_markdown":"The `Toast` gets called before your `oncomplete` runs. As **a_local_nobody** pointed out you&#39;d have to call your methods that use the data in a callback when `oncomplete` runs.","body":"The <code>Toast</code> gets called before your <code>oncomplete</code> runs. As <b>a_local_nobody</b> pointed out you&#39;d have to call your methods that use the data in a callback when <code>oncomplete</code> runs."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1637825760,"post_id":70098665,"comment_id":123930283,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this article, [How to read data from Cloud Firestore using get()?](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">How to read data from Cloud Firestore using get()?</a>."}],"answers":[{"tags":[],"owner":{"account_id":17195954,"reputation":978,"user_id":12448710,"display_name":"Antonio Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637796975,"creation_date":1637796975,"answer_id":70104197,"question_id":70098665,"body_markdown":"You received an empty array list because your code [isn&#39;t synchronous](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value).\r\n\r\nIn other words the Toast gets called before your oncomplete runs. \r\nYou need to call your methods that use the data in a callback when oncomplete runs.","title":"ArrayList emptied out after receiving data from FireStore after OnCompleteListener, how can I save it?","body":"<p>You received an empty array list because your code <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value\">isn't synchronous</a>.</p>\n<p>In other words the Toast gets called before your oncomplete runs.\nYou need to call your methods that use the data in a callback when oncomplete runs.</p>\n"}],"owner":{"account_id":23095774,"reputation":30,"user_id":17205930,"display_name":"Velibor Simonovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637825736,"accepted_answer_id":70104197,"answer_count":1,"score":0,"last_activity_date":1637796975,"creation_date":1637767317,"question_id":70098665,"body_markdown":"I have data that should be visible in code that I get from FireStore collection and add it to ArrayList, I know that it happens because get() method returns immediately so the query isn&#39;t done yet, and hence the onCreate() method won&#39;t see any data, but is there a way to save that data in ArrayList and use it somewhere else?\r\n\r\nFor example here is two versions of code:\r\n1st one make Toast with whole list like it should:\r\n```\r\n        db.collection(&quot;Users Data&quot;)\r\n                .document(currentUserID)\r\n                .collection(&quot;Follows&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                following.add(document.getId());\r\n                                Toast.makeText(SearchedProfile.this, following.toString(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n```\r\nand 2nd make Toast with empty ArrayList (Toast says &#39;[]&#39;)\r\n\r\n```\r\n        db.collection(&quot;Users Data&quot;)\r\n                .document(currentUserID)\r\n                .collection(&quot;Follows&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                following.add(document.getId());\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n        Toast.makeText(SearchedProfile.this, following.toString(), Toast.LENGTH_SHORT).show();\r\n```\r\n\r\nOnly difference is a position of Toast method.","title":"ArrayList emptied out after receiving data from FireStore after OnCompleteListener, how can I save it?","body":"<p>I have data that should be visible in code that I get from FireStore collection and add it to ArrayList, I know that it happens because get() method returns immediately so the query isn't done yet, and hence the onCreate() method won't see any data, but is there a way to save that data in ArrayList and use it somewhere else?</p>\n<p>For example here is two versions of code:\n1st one make Toast with whole list like it should:</p>\n<pre><code>        db.collection(&quot;Users Data&quot;)\n                .document(currentUserID)\n                .collection(&quot;Follows&quot;)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            for (QueryDocumentSnapshot document : task.getResult()) {\n                                following.add(document.getId());\n                                Toast.makeText(SearchedProfile.this, following.toString(), Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }\n                });\n</code></pre>\n<p>and 2nd make Toast with empty ArrayList (Toast says '[]')</p>\n<pre><code>        db.collection(&quot;Users Data&quot;)\n                .document(currentUserID)\n                .collection(&quot;Follows&quot;)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            for (QueryDocumentSnapshot document : task.getResult()) {\n                                following.add(document.getId());\n                            }\n                        }\n                    }\n                });\n\n        Toast.makeText(SearchedProfile.this, following.toString(), Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>Only difference is a position of Toast method.</p>\n"},{"tags":["java","list","lambda","stream"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1637768354,"post_id":70098783,"comment_id":123915413,"body_markdown":"Just a hint about nomenclature: those are lists, not arrays. Arrays are rarely used directly in Java, except maybe for primitive types. Also, as of Java 9, `List.of(...)` is mostly the replacement for `Arrays.asList(...)` (it behaves a bit differently in some places, but for most usages it&#39;s a direct replacement).","body":"Just a hint about nomenclature: those are lists, not arrays. Arrays are rarely used directly in Java, except maybe for primitive types. Also, as of Java 9, <code>List.of(...)</code> is mostly the replacement for <code>Arrays.asList(...)</code> (it behaves a bit differently in some places, but for most usages it&#39;s a direct replacement)."}],"answers":[{"tags":[],"owner":{"account_id":16116032,"reputation":1,"user_id":11633125,"display_name":"magicmushroom"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637795978,"creation_date":1637769175,"answer_id":70099106,"question_id":70098783,"body_markdown":"I found this solution\r\n\r\n    IntStream.range(0, mainArray.size()).allMatch(i -&gt; mainArray.get(i).contains(subArray.get(i)));\r\n\r\n","title":"Compare two string arrays by index(stream)","body":"<p>I found this solution</p>\n<pre><code>IntStream.range(0, mainArray.size()).allMatch(i -&gt; mainArray.get(i).contains(subArray.get(i)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637795863,"creation_date":1637786760,"answer_id":70102713,"question_id":70098783,"body_markdown":"This will work whether the two arrays (actually `Lists` in your case) are equal size or not.\r\n\r\n- first `stream` the mainArray.\r\n- then `flatMap` the subArray\r\n- the `filter` those cases where the mainArray string contains one of the subArray strings.\r\n- count the successes and return whether it equals the main array size.\r\n```\r\nboolean flag = mainArray.stream()\r\n\t\t.flatMap(str -&gt; subArray.stream()\r\n\t\t\t\t.filter(sa -&gt; str.contains(sa)))\r\n\t\t.count() == mainArray.size();\r\n```\r\nHere is a demo using a single `sub Array` and multiple `main arrays`\r\n```\r\nList&lt;String&gt; mainArray1 =\r\n\t\tList.of(&quot;Red book&quot;, &quot;Purple bird&quot;, &quot;Blue sky&quot;);\r\nList&lt;String&gt; mainArray2 = List.of(&quot;Red book&quot;, &quot;Blue bird&quot;,\r\n\t\t&quot;Blue sky&quot;, &quot;Violet flower&quot;);\r\nList&lt;String&gt; mainArray3 = List.of(&quot;Red book&quot;, &quot;Blue bird&quot;);\r\nList&lt;String&gt; mainArray4 =\r\n\t\tList.of(&quot;Blue book&quot;, &quot;Blue bird&quot;, &quot;Blue sky&quot;);\r\nList&lt;String&gt; mainArray5 = List.of(&quot;Red book&quot;, &quot;Purple color&quot;);\r\nList&lt;String&gt; mainArray6 = List.of(&quot;Red book&quot;, &quot;Blue bird&quot;,\r\n\t\t&quot;Blue sky&quot;, &quot;Orange orange&quot;);\r\n\r\nList&lt;List&lt;String&gt;&gt; lists = List.of(mainArray1, mainArray2,\r\n\t\tmainArray3, mainArray4, mainArray5, mainArray6);\r\n\r\nList&lt;String&gt; subArray = List.of(&quot;Red&quot;, &quot;Yellow&quot;, &quot;Blue&quot;,\r\n\t\t&quot;Orange&quot;, &quot;Violet&quot;, &quot;Green&quot;);\r\n\r\nint i = 1;\r\nfor (List&lt;String&gt; mainArray : lists) {\r\n\t\r\n\tboolean flag = mainArray.stream()\r\n\t\t\t.flatMap(str -&gt; subArray.stream()\r\n\t\t\t\t\t.filter(sa -&gt; str.contains(sa)))\r\n\t\t\t.count() == mainArray.size();\r\n\t\r\n\tSystem.out.printf(&quot;mainArray%d %b%n&quot;, i++, flag);\r\n}\r\n```\r\nPrints\r\n```\r\nmainArray1 false\r\nmainArray2 true\r\nmainArray3 true\r\nmainArray4 true\r\nmainArray5 false\r\nmainArray6 true\r\n","title":"Compare two string arrays by index(stream)","body":"<p>This will work whether the two arrays (actually <code>Lists</code> in your case) are equal size or not.</p>\n<ul>\n<li>first <code>stream</code> the mainArray.</li>\n<li>then <code>flatMap</code> the subArray</li>\n<li>the <code>filter</code> those cases where the mainArray string contains one of the subArray strings.</li>\n<li>count the successes and return whether it equals the main array size.</li>\n</ul>\n<pre><code>boolean flag = mainArray.stream()\n        .flatMap(str -&gt; subArray.stream()\n                .filter(sa -&gt; str.contains(sa)))\n        .count() == mainArray.size();\n</code></pre>\n<p>Here is a demo using a single <code>sub Array</code> and multiple <code>main arrays</code></p>\n<pre><code>List&lt;String&gt; mainArray1 =\n        List.of(&quot;Red book&quot;, &quot;Purple bird&quot;, &quot;Blue sky&quot;);\nList&lt;String&gt; mainArray2 = List.of(&quot;Red book&quot;, &quot;Blue bird&quot;,\n        &quot;Blue sky&quot;, &quot;Violet flower&quot;);\nList&lt;String&gt; mainArray3 = List.of(&quot;Red book&quot;, &quot;Blue bird&quot;);\nList&lt;String&gt; mainArray4 =\n        List.of(&quot;Blue book&quot;, &quot;Blue bird&quot;, &quot;Blue sky&quot;);\nList&lt;String&gt; mainArray5 = List.of(&quot;Red book&quot;, &quot;Purple color&quot;);\nList&lt;String&gt; mainArray6 = List.of(&quot;Red book&quot;, &quot;Blue bird&quot;,\n        &quot;Blue sky&quot;, &quot;Orange orange&quot;);\n\nList&lt;List&lt;String&gt;&gt; lists = List.of(mainArray1, mainArray2,\n        mainArray3, mainArray4, mainArray5, mainArray6);\n\nList&lt;String&gt; subArray = List.of(&quot;Red&quot;, &quot;Yellow&quot;, &quot;Blue&quot;,\n        &quot;Orange&quot;, &quot;Violet&quot;, &quot;Green&quot;);\n\nint i = 1;\nfor (List&lt;String&gt; mainArray : lists) {\n    \n    boolean flag = mainArray.stream()\n            .flatMap(str -&gt; subArray.stream()\n                    .filter(sa -&gt; str.contains(sa)))\n            .count() == mainArray.size();\n    \n    System.out.printf(&quot;mainArray%d %b%n&quot;, i++, flag);\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>mainArray1 false\nmainArray2 true\nmainArray3 true\nmainArray4 true\nmainArray5 false\nmainArray6 true\n</code></pre>\n"}],"owner":{"account_id":16116032,"reputation":1,"user_id":11633125,"display_name":"magicmushroom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1637795978,"creation_date":1637767836,"question_id":70098783,"body_markdown":"I want to compare two arrays(same sized) of strings and check that mainArray contains elements in subArray depending on its index;\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; mainArray = Arrays.asList(&quot;Red book&quot;, &quot;Yellow bird&quot;, &quot;Green sky&quot;);\r\n        List&lt;String&gt; subArray = Arrays.asList(&quot;Red&quot;, &quot;Yellow&quot;, &quot;Green&quot;);\r\n\r\n        boolean flag = false;\r\n        for (int i = 0; i &lt; mainArray.size(); i++) {\r\n            flag = mainArray.get(i).contains(subArray.get(i));\r\n            if(!flag){\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    //returns true\r\n\r\nthis looks ugly is where any solution with stream.filter or something?\r\n","title":"Compare two string arrays by index(stream)","body":"<p>I want to compare two arrays(same sized) of strings and check that mainArray contains elements in subArray depending on its index;</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; mainArray = Arrays.asList(&quot;Red book&quot;, &quot;Yellow bird&quot;, &quot;Green sky&quot;);\n    List&lt;String&gt; subArray = Arrays.asList(&quot;Red&quot;, &quot;Yellow&quot;, &quot;Green&quot;);\n\n    boolean flag = false;\n    for (int i = 0; i &lt; mainArray.size(); i++) {\n        flag = mainArray.get(i).contains(subArray.get(i));\n        if(!flag){\n            break;\n        }\n    }\n}\n//returns true\n</code></pre>\n<p>this looks ugly is where any solution with stream.filter or something?</p>\n"},{"tags":["java","unit-testing","junit","powermock","datainputstream"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":2,"creation_date":1637796030,"post_id":70104013,"comment_id":123924757,"body_markdown":"You could step back a bit; `DataInputStream` is mockable using standard mocking (`Mockito.mock()`), so you don&#39;t have to use PowerMockito to mock the input to your method. `NullPointer`s are expected when working with mocks (because they return `null`s by default). If you share more details about the code-under-test, and where the NPE happens, we could find a way to wire the mock to handle the scenario correctly.","body":"You could step back a bit; <code>DataInputStream</code> is mockable using standard mocking (<code>Mockito.mock()</code>), so you don&#39;t have to use PowerMockito to mock the input to your method. <code>NullPointer</code>s are expected when working with mocks (because they return <code>null</code>s by default). If you share more details about the code-under-test, and where the NPE happens, we could find a way to wire the mock to handle the scenario correctly."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637796354,"post_id":70104013,"comment_id":123924830,"body_markdown":"As @MickMnemonic says, PowerMockito should be a last resort","body":"As @MickMnemonic says, PowerMockito should be a last resort"}],"owner":{"account_id":23242148,"reputation":11,"user_id":17331277,"display_name":"user17331277"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637795481,"creation_date":1637795481,"question_id":70104013,"body_markdown":"My application has a piece that does the following:\r\n\r\n    public ResultObject myMethod(DataInputStream inputStream, int objectLength) {\r\n            byte[] buffer = new byte[objectLength];\r\n            int bytesRead = inputStream.read(buffer);\r\n        ...\r\n    \r\nHowever, based on a piece ahead of this, the amount of data read out of the inputStream does not necessarily match the object length - sometimes it is less if the object is very large (&gt;150 MB). I cannot change the upstream part of the application so instead, I loop through until I have read objectLength number of bytes.\r\n\r\n                while (bytesRead &lt; objectLength) {\r\n                    //keep looping and adding to my output\r\n                }\r\n\r\nI am trying to unit test the logic inside the conditional loop and am having a lot of trouble. The closest question I found was this one, although this hasn&#39;t got me across the finish line: [https://stackoverflow.com/questions/12596075/how-to-mock-fileinputstream-and-other-streams][1].\r\n\r\nI don&#39;t want to create a real object that size so I was trying to simply mock the DataInputStream.read method and basically re-create the behavior with a smaller object. I was hoping I could return a real instance of the object with doReturn, but so far no dice.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(DataInputStream.class)\r\n    public void MyTestClass {\r\n    @Test\r\n    public void myTestMethod() {\r\n        int objectLength = 1024;\r\n        String testString = BytesDecoderSpec.generateRandomString(objectLength);\r\n        int testStringLength = testString.length();\r\n        DataInputStream stream = new DataInputStream(new ByteArrayInputStream(testString.getBytes()));\r\n        MyRealClass realObject = new MyRealClass();\r\n\r\n        final DataInputStream mockStream = PowerMockito.mock(DataInputStream.class);\r\n        PowerMockito.whenNew(DataInputStream.class).withArguments(any()).thenReturn(mockStream);\r\n\r\n        PowerMockito.doReturn(stream.read(new byte[testStringLength/2])).doReturn(stream.read(testStringLength - testStringLength / 2)).when(mockStream).read(any());\r\n        ResultObject result = realObject.myMethod(mockStream, testStringLength);\r\n    }\r\n\r\nWhen I do this, I get a NullPointerException on myMethod &gt; inputStream.read. I also tried using spy instead, but it didn&#39;t work either:\r\n\r\n    DataInputStream mockStream = PowerMockito.spy(stream);\r\n    PowerMockito.doReturn(mockStream.read(new byte[testStringLength/2])).doReturn(mockStream.read(testStringLength - testStringLength / 2)).when(mockStream).read(any());\r\n\r\nAm I going about this all wrong? Any guidance you can provide is really appreciated - thank you!\r\n\r\n  [1]: https://stackoverflow.com/questions/12596075/how-to-mock-fileinputstream-and-other-streams","title":"Trying to mock java.io.DataInputStream.read","body":"<p>My application has a piece that does the following:</p>\n<pre><code>public ResultObject myMethod(DataInputStream inputStream, int objectLength) {\n        byte[] buffer = new byte[objectLength];\n        int bytesRead = inputStream.read(buffer);\n    ...\n</code></pre>\n<p>However, based on a piece ahead of this, the amount of data read out of the inputStream does not necessarily match the object length - sometimes it is less if the object is very large (&gt;150 MB). I cannot change the upstream part of the application so instead, I loop through until I have read objectLength number of bytes.</p>\n<pre><code>            while (bytesRead &lt; objectLength) {\n                //keep looping and adding to my output\n            }\n</code></pre>\n<p>I am trying to unit test the logic inside the conditional loop and am having a lot of trouble. The closest question I found was this one, although this hasn't got me across the finish line: <a href=\"https://stackoverflow.com/questions/12596075/how-to-mock-fileinputstream-and-other-streams\">How to mock FileInputStream and other *Streams</a>.</p>\n<p>I don't want to create a real object that size so I was trying to simply mock the DataInputStream.read method and basically re-create the behavior with a smaller object. I was hoping I could return a real instance of the object with doReturn, but so far no dice.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(DataInputStream.class)\npublic void MyTestClass {\n@Test\npublic void myTestMethod() {\n    int objectLength = 1024;\n    String testString = BytesDecoderSpec.generateRandomString(objectLength);\n    int testStringLength = testString.length();\n    DataInputStream stream = new DataInputStream(new ByteArrayInputStream(testString.getBytes()));\n    MyRealClass realObject = new MyRealClass();\n\n    final DataInputStream mockStream = PowerMockito.mock(DataInputStream.class);\n    PowerMockito.whenNew(DataInputStream.class).withArguments(any()).thenReturn(mockStream);\n\n    PowerMockito.doReturn(stream.read(new byte[testStringLength/2])).doReturn(stream.read(testStringLength - testStringLength / 2)).when(mockStream).read(any());\n    ResultObject result = realObject.myMethod(mockStream, testStringLength);\n}\n</code></pre>\n<p>When I do this, I get a NullPointerException on myMethod &gt; inputStream.read. I also tried using spy instead, but it didn't work either:</p>\n<pre><code>DataInputStream mockStream = PowerMockito.spy(stream);\nPowerMockito.doReturn(mockStream.read(new byte[testStringLength/2])).doReturn(mockStream.read(testStringLength - testStringLength / 2)).when(mockStream).read(any());\n</code></pre>\n<p>Am I going about this all wrong? Any guidance you can provide is really appreciated - thank you!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13978131,"reputation":317,"user_id":10095046,"display_name":"Kemal Atik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547372225,"creation_date":1547217459,"answer_id":54148644,"question_id":50953744,"body_markdown":"It will be a theoretic approach because solution requires \r\n\r\n- SIM vendor profile parameters \r\n- OTA secret keys\r\n- SIM Toolkit Applet\r\n- Global Platform/ GSM 03.48 APDU generator  \r\n\r\nIt can be done using SIM Applet which implements STK proactive commands. SIM Applet can periodically asks for Network Management Reports from terminal using PROVIDE LOCAL INFORMATION and gets the signal strength as part of NMR. If signal strength is lower than service quality level, applet updates preferred PLMN list and sends REFRESH command to force terminal to attach another network which is the at the first position in refreshed PLMN list.\r\n\r\nIt is possible to update preferred PLMN list with OTA remote file management using STK proactive commands.  ","title":"How force connection to a specific GSM network from an android app","body":"<p>It will be a theoretic approach because solution requires </p>\n\n<ul>\n<li>SIM vendor profile parameters </li>\n<li>OTA secret keys</li>\n<li>SIM Toolkit Applet</li>\n<li>Global Platform/ GSM 03.48 APDU generator  </li>\n</ul>\n\n<p>It can be done using SIM Applet which implements STK proactive commands. SIM Applet can periodically asks for Network Management Reports from terminal using PROVIDE LOCAL INFORMATION and gets the signal strength as part of NMR. If signal strength is lower than service quality level, applet updates preferred PLMN list and sends REFRESH command to force terminal to attach another network which is the at the first position in refreshed PLMN list.</p>\n\n<p>It is possible to update preferred PLMN list with OTA remote file management using STK proactive commands.  </p>\n"}],"owner":{"account_id":5617754,"reputation":695,"user_id":4448511,"display_name":"Quentin Morrier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1637795194,"creation_date":1529515024,"question_id":50953744,"body_markdown":"I&#39;m trying to write an app for my own purpose/testing (I&#39;m living at the French/Swiss border and I&#39;d like my own app for mobile network management).\r\n\r\nI&#39;m looking for a basic functionality (well, seems basic to my eyes...), something like connectToMobileNetwork(NetworkId).\r\n\r\nI&#39;ve googled a lot the last days, and the most serious related topic I found are those:\r\n\r\nhttps://stackoverflow.com/questions/10454388/android-how-do-i-get-gsm-signal-strength-for-all-available-network-operators\r\n\r\nhttps://stackoverflow.com/questions/3169541/how-to-get-a-list-of-available-gsm-networks\r\n\r\nWhich are at least 5 years old... And speaks only about visualizing network, not connecting.\r\n\r\nIs it only possible?\r\n\r\n\r\n\r\n\r\n----------\r\nEdit: i found those two even more interesting posts as well:\r\n\r\nhttps://stackoverflow.com/questions/10170179/change-mobile-network-mode-gsm-wcdma-auto\r\n\r\nhttps://stackoverflow.com/questions/5976440/change-the-network-operator-with-an-android-app\r\n\r\n\r\nIt looks like that I&#39;ll have to work with hidden/not public api, that may be modified by any device manufacturer...\r\n\r\nNo one ever tried that here?\r\n\r\n","title":"How force connection to a specific GSM network from an android app","body":"<p>I'm trying to write an app for my own purpose/testing (I'm living at the French/Swiss border and I'd like my own app for mobile network management).</p>\n\n<p>I'm looking for a basic functionality (well, seems basic to my eyes...), something like connectToMobileNetwork(NetworkId).</p>\n\n<p>I've googled a lot the last days, and the most serious related topic I found are those:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10454388/android-how-do-i-get-gsm-signal-strength-for-all-available-network-operators\">Android: How do I get GSM signal strength for all available network operators</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3169541/how-to-get-a-list-of-available-gsm-networks\">how to get a list of available gsm networks?</a></p>\n\n<p>Which are at least 5 years old... And speaks only about visualizing network, not connecting.</p>\n\n<p>Is it only possible?</p>\n\n<hr>\n\n<p>Edit: i found those two even more interesting posts as well:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10170179/change-mobile-network-mode-gsm-wcdma-auto\">Change mobile network mode (gsm, wcdma, auto)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/5976440/change-the-network-operator-with-an-android-app\">Change the Network Operator with an Android App</a></p>\n\n<p>It looks like that I'll have to work with hidden/not public api, that may be modified by any device manufacturer...</p>\n\n<p>No one ever tried that here?</p>\n"},{"tags":["java","spring","testing","integration-testing","powermockito"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1637795297,"post_id":70103933,"comment_id":123924610,"body_markdown":"It&#39;s a bit unclear what you would want to test here exactly; `CountryCodeDTO` just seems like a wrapper around Java&#39;s `Locale`. Would you want to assert that certain country codes get returned correctly? Also, as you&#39;re writing an _integration test_, you&#39;d want to avoid mocking (mostly) and use the actual implementations across the call stack -- in your example you would use the actual implementation of Java&#39;s `Locale.getISOCountries()`.","body":"It&#39;s a bit unclear what you would want to test here exactly; <code>CountryCodeDTO</code> just seems like a wrapper around Java&#39;s <code>Locale</code>. Would you want to assert that certain country codes get returned correctly? Also, as you&#39;re writing an <i>integration test</i>, you&#39;d want to avoid mocking (mostly) and use the actual implementations across the call stack -- in your example you would use the actual implementation of Java&#39;s <code>Locale.getISOCountries()</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637797527,"post_id":70103933,"comment_id":123925075,"body_markdown":"I would write a unit test for that method which did no mocking, and just checked that the returned list was the correct size and that one of the `CountryCodeDTO` entires contains the expected data. Incidentally, your design could be improved by giving `CountryCodeDTO` a constructor which takes the country and name and them making the class immutable, that is, making the fields final and removing the setters. As for an integration test, there would be no individual integration test for the `getAllCountryCodes` function, it will be exercised as part of other integration tests.","body":"I would write a unit test for that method which did no mocking, and just checked that the returned list was the correct size and that one of the <code>CountryCodeDTO</code> entires contains the expected data. Incidentally, your design could be improved by giving <code>CountryCodeDTO</code> a constructor which takes the country and name and them making the class immutable, that is, making the fields final and removing the setters. As for an integration test, there would be no individual integration test for the <code>getAllCountryCodes</code> function, it will be exercised as part of other integration tests."},{"owner":{"display_name":"user17374086"},"score":0,"creation_date":1637819287,"post_id":70103933,"comment_id":123928632,"body_markdown":"@MickMnemonic Thanks for reply, but I do not understand what you suggested. So, you see the method and should I test it in an integration test? If so, how can I test it?","body":"@MickMnemonic Thanks for reply, but I do not understand what you suggested. So, you see the method and should I test it in an integration test? If so, how can I test it?"},{"owner":{"display_name":"user17374086"},"score":0,"creation_date":1637819383,"post_id":70103933,"comment_id":123928652,"body_markdown":"@tgdavies Thanks a lot, I also thought that. So, in this case, as I am writing Integration Test, I should test `getAllCountryCodes` method while I write a Unit Test. Is that true?","body":"@tgdavies Thanks a lot, I also thought that. So, in this case, as I am writing Integration Test, I should test <code>getAllCountryCodes</code> method while I write a Unit Test. Is that true?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637820723,"post_id":70103933,"comment_id":123928924,"body_markdown":"That&#39;s what I&#39;d do.","body":"That&#39;s what I&#39;d do."}],"owner":{"display_name":"user17374086"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637794829,"creation_date":1637794829,"question_id":70103933,"body_markdown":"I have the following method and I am trying to test it in my Integration Test:\r\n\r\n\r\n```\r\npublic List&lt;CountryCodeDTO&gt; getAllCountryCodes() {\r\n        List&lt;CountryCodeDTO&gt; countryCodes = new ArrayList&lt;&gt;();\r\n\r\n        for (String country : Locale.getISOCountries()) {\r\n            Locale locale = new Locale(&quot;&quot;, country);\r\n            CountryCodeDTO countryCodeDTO = new CountryCodeDTO();\r\n            countryCodeDTO.setCountryCode(country);\r\n            countryCodeDTO.setName(locale.getDisplayCountry());\r\n            countryCodes.add(countryCodeDTO);\r\n        }\r\n        return countryCodes;\r\n    }\r\n```\r\n\r\nAs a beginner for Integration Testing, I have really no idea about how I should test it. On the other hand, I have found something e.g. PowerMock, but I think it is for Unit Test rather than Integration Test. So, how should I test this method?\r\n\r\nPlease note that it seems to be a unit test, testing only this method, but as as result, we also test the other methods e.g. save, find, delete, etc. in Integration Tests. Any help would be appreciated. ","title":"Integration Test for a static method in Java","body":"<p>I have the following method and I am trying to test it in my Integration Test:</p>\n<pre><code>public List&lt;CountryCodeDTO&gt; getAllCountryCodes() {\n        List&lt;CountryCodeDTO&gt; countryCodes = new ArrayList&lt;&gt;();\n\n        for (String country : Locale.getISOCountries()) {\n            Locale locale = new Locale(&quot;&quot;, country);\n            CountryCodeDTO countryCodeDTO = new CountryCodeDTO();\n            countryCodeDTO.setCountryCode(country);\n            countryCodeDTO.setName(locale.getDisplayCountry());\n            countryCodes.add(countryCodeDTO);\n        }\n        return countryCodes;\n    }\n</code></pre>\n<p>As a beginner for Integration Testing, I have really no idea about how I should test it. On the other hand, I have found something e.g. PowerMock, but I think it is for Unit Test rather than Integration Test. So, how should I test this method?</p>\n<p>Please note that it seems to be a unit test, testing only this method, but as as result, we also test the other methods e.g. save, find, delete, etc. in Integration Tests. Any help would be appreciated.</p>\n"},{"tags":["java","web-services","soap","wsdl","wsimport"],"answers":[{"tags":[],"owner":{"account_id":2894344,"reputation":236,"user_id":2482461,"accept_rate":50,"display_name":"user2482461"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1405523154,"creation_date":1405523154,"answer_id":24784262,"question_id":24583555,"body_markdown":"This error suggests the compiler needs GeoIP.java in order to progress - which should (technically) be given by your WSDL. I had this error, and it was because I did not have permissions to write to the directory (in this case, you&#39;re writing to `C:\\Program Files (x86)\\Java\\jdk1.6.0_18\\bin` - simple test would just be to try and run `mkdir TEST` in this directory) so GeoIP (for example) could not be written. \r\n\r\nSpecify a directory using the `-d` switch or change your working directory to one where you have permissions.","title":"Using wsimport from windows - url = http://www.webservicex.net/geoipservice.asmx?WSDL","body":"<p>This error suggests the compiler needs GeoIP.java in order to progress - which should (technically) be given by your WSDL. I had this error, and it was because I did not have permissions to write to the directory (in this case, you're writing to <code>C:\\Program Files (x86)\\Java\\jdk1.6.0_18\\bin</code> - simple test would just be to try and run <code>mkdir TEST</code> in this directory) so GeoIP (for example) could not be written. </p>\n\n<p>Specify a directory using the <code>-d</code> switch or change your working directory to one where you have permissions.</p>\n"},{"tags":[],"owner":{"account_id":5871829,"reputation":241,"user_id":4623932,"accept_rate":100,"display_name":"Joshnee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1460266486,"creation_date":1452276898,"answer_id":34683517,"question_id":24583555,"body_markdown":"This error is coming because of permission issue.\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_65\\bin&gt; mkdir test   \r\nAccess is denied.\r\n\r\nTry using another directory to place generated files.  \r\n\r\n    wsimport [options] &lt; WSDL_URL &gt; -d &lt;directory&gt;\r\n\r\n \r\n\r\nspecifies where to place generated output files\r\n\r\nE:\\sei is the directory, i am using to place output class files.  \r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_65\\bin&gt; wsimport -d E:\\sei http://www.webservicex.net/geoipservice.asmx?wsdl","title":"Using wsimport from windows - url = http://www.webservicex.net/geoipservice.asmx?WSDL","body":"<p>This error is coming because of permission issue.</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_65\\bin&gt; mkdir test   \n</code></pre>\n\n<p>Access is denied.</p>\n\n<p>Try using another directory to place generated files.  </p>\n\n<pre><code>wsimport [options] &lt; WSDL_URL &gt; -d &lt;directory&gt;\n</code></pre>\n\n<p>specifies where to place generated output files</p>\n\n<p>E:\\sei is the directory, i am using to place output class files.  </p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_65\\bin&gt; wsimport -d E:\\sei http://www.webservicex.net/geoipservice.asmx?wsdl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23433086,"reputation":21,"user_id":17491598,"display_name":"Rohit Agrawal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637794589,"creation_date":1637695196,"answer_id":70086666,"question_id":24583555,"body_markdown":"In case `http://www.webservicex.net/geoipservice.asmx?WSDL` is not responding, use `http://wsgeoip.lavasoft.com/ipservice.asmx?WSDL` instead.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Using wsimport from windows - url = http://www.webservicex.net/geoipservice.asmx?WSDL","body":"<p>In case <code>http://www.webservicex.net/geoipservice.asmx?WSDL</code> is not responding, use <code>http://wsgeoip.lavasoft.com/ipservice.asmx?WSDL</code> instead.</p>\n"}],"owner":{"account_id":4660716,"reputation":43,"user_id":3775067,"display_name":"Mathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8881,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24784262,"answer_count":3,"score":2,"last_activity_date":1637794644,"creation_date":1404540598,"question_id":24583555,"body_markdown":"I get this error when I used the URL \r\n\r\n    http://www.webservicex.net/geoipservice.asmx?WSDL\r\n```\r\nC:\\Program Files (x86)\\Java\\jdk1.6.0_18\\bin&gt;wsimport **&lt;URL&gt;**\r\nparsing WSDL...\r\n\r\n[WARNING] Ignoring SOAP port &quot;GeoIPServiceSoap12&quot;: it uses non-standard SOAP 1.2\r\n binding.\r\nYou must specify the &quot;-extension&quot; option to use this binding.\r\n  line 197 of **&lt;URL&gt;**\r\n\r\n[WARNING] ignoring port &quot;GeoIPServiceHttpGet&quot;: no SOAP address specified. try ru\r\nnning wsimport with -extension switch.\r\n  line 200 of **&lt;URL&gt;**\r\n\r\n[WARNING] ignoring port &quot;GeoIPServiceHttpPost&quot;: no SOAP address specified. try r\r\nunning wsimport with -extension switch.\r\n  line 203 of **&lt;URL&gt;**\r\ngenerating code...\r\n\r\n**[ERROR] .\\net\\webservicex\\GeoIP.java (The system cannot find the path specified)**\r\n\r\nC:\\Program Files (x86)\\Java\\jdk1.6.0_18\\bin&gt;\r\n```","title":"Using wsimport from windows - url = http://www.webservicex.net/geoipservice.asmx?WSDL","body":"<p>I get this error when I used the URL</p>\n<pre><code>http://www.webservicex.net/geoipservice.asmx?WSDL\n</code></pre>\n<pre><code>C:\\Program Files (x86)\\Java\\jdk1.6.0_18\\bin&gt;wsimport **&lt;URL&gt;**\nparsing WSDL...\n\n[WARNING] Ignoring SOAP port &quot;GeoIPServiceSoap12&quot;: it uses non-standard SOAP 1.2\n binding.\nYou must specify the &quot;-extension&quot; option to use this binding.\n  line 197 of **&lt;URL&gt;**\n\n[WARNING] ignoring port &quot;GeoIPServiceHttpGet&quot;: no SOAP address specified. try ru\nnning wsimport with -extension switch.\n  line 200 of **&lt;URL&gt;**\n\n[WARNING] ignoring port &quot;GeoIPServiceHttpPost&quot;: no SOAP address specified. try r\nunning wsimport with -extension switch.\n  line 203 of **&lt;URL&gt;**\ngenerating code...\n\n**[ERROR] .\\net\\webservicex\\GeoIP.java (The system cannot find the path specified)**\n\nC:\\Program Files (x86)\\Java\\jdk1.6.0_18\\bin&gt;\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637763775,"post_id":70097576,"comment_id":123913332,"body_markdown":"Where is `line` defined?","body":"Where is <code>line</code> defined?"},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637764071,"post_id":70097576,"comment_id":123913475,"body_markdown":"Isn&#39;t it at the bottom (Second last line)? Also do we need to define in because I thought it was just a function in processing that makes a line.","body":"Isn&#39;t it at the bottom (Second last line)? Also do we need to define in because I thought it was just a function in processing that makes a line."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637764782,"post_id":70097576,"comment_id":123913799,"body_markdown":"No, it is not. You call `line` at the bottom second last line, you are using there a method called `line` that was already defined somewhere.","body":"No, it is not. You call <code>line</code> at the bottom second last line, you are using there a method called <code>line</code> that was already defined somewhere."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637764909,"post_id":70097576,"comment_id":123913847,"body_markdown":"Oh, then do I just use draw instead?","body":"Oh, then do I just use draw instead?"},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637765041,"post_id":70097576,"comment_id":123913909,"body_markdown":"Also my teacher gave us examples in which he used line. I don&#39;t see line defined anywhere. Should I send it here? I don&#39;t know how pretty it would look though.","body":"Also my teacher gave us examples in which he used line. I don&#39;t see line defined anywhere. Should I send it here? I don&#39;t know how pretty it would look though."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637765056,"post_id":70097576,"comment_id":123913917,"body_markdown":"First we need to understand what 1. The code aims to do 2. The code does. At this point none of those are clear to me and I try to figure out what you have and what you want to have. Since you call `line`, there are two possibilities: 1. `line` does not exist. In this case you get an error. 2. `line` exists. In which case you need to find its definition.","body":"First we need to understand what 1. The code aims to do 2. The code does. At this point none of those are clear to me and I try to figure out what you have and what you want to have. Since you call <code>line</code>, there are two possibilities: 1. <code>line</code> does not exist. In this case you get an error. 2. <code>line</code> exists. In which case you need to find its definition."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637765294,"post_id":70097576,"comment_id":123914030,"body_markdown":"Do you use an IDE, like NetBeans? Usually if you press Ctrl and while doing so hover on `line`, then it provides some information. Can you gather some information about what `line` is? I will have many questions before I lead you to a solution. Because you are a beginner, we need to make small steps towards the solution rather than large steps.","body":"Do you use an IDE, like NetBeans? Usually if you press Ctrl and while doing so hover on <code>line</code>, then it provides some information. Can you gather some information about what <code>line</code> is? I will have many questions before I lead you to a solution. Because you are a beginner, we need to make small steps towards the solution rather than large steps."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637765531,"post_id":70097576,"comment_id":123914141,"body_markdown":"Yea, this is my first time using processing so I don&#39;t know any of these. As I said before, I got this code from a website. I think I might have found the error. When I initially got the code all the line functions were draw. I changed it to line since I saw my teachers examples. Should I change it back to draw right now?","body":"Yea, this is my first time using processing so I don&#39;t know any of these. As I said before, I got this code from a website. I think I might have found the error. When I initially got the code all the line functions were draw. I changed it to line since I saw my teachers examples. Should I change it back to draw right now?"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637765721,"post_id":70097576,"comment_id":123914212,"body_markdown":"We can choose to understand what this code does or we can scratch all of it and solve the problem without this code. But, if this code is of any importance, then we need to find out what it does. We need to have a definition of what `line` is.","body":"We can choose to understand what this code does or we can scratch all of it and solve the problem without this code. But, if this code is of any importance, then we need to find out what it does. We need to have a definition of what <code>line</code> is."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637765886,"post_id":70097576,"comment_id":123914286,"body_markdown":"As I said before, this was not the original code I got. So I think I should change it back and then try and solve. I added the line &quot;function&quot; since I saw the same on my teachers examples","body":"As I said before, this was not the original code I got. So I think I should change it back and then try and solve. I added the line &quot;function&quot; since I saw the same on my teachers examples"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637765895,"post_id":70097576,"comment_id":123914289,"body_markdown":"The `line(n, x, y, size);` is unclear. You likely have `void line(` somewhere in your code. If you search for this exact term, you may find the definition. This is actually the most important question you need to figure out, because this is the kind of problem you will need to always figure out while you are coding.","body":"The <code>line(n, x, y, size);</code> is unclear. You likely have <code>void line(</code> somewhere in your code. If you search for this exact term, you may find the definition. This is actually the most important question you need to figure out, because this is the kind of problem you will need to always figure out while you are coding."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766031,"post_id":70097576,"comment_id":123914340,"body_markdown":"I do not know what code you want to use. Please change your current code to the appropriate one if not already and let me know.","body":"I do not know what code you want to use. Please change your current code to the appropriate one if not already and let me know."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637766116,"post_id":70097576,"comment_id":123914370,"body_markdown":"I changed it to the original one. I think I should try to solve from here.","body":"I changed it to the original one. I think I should try to solve from here."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766158,"post_id":70097576,"comment_id":123914399,"body_markdown":"Now it&#39;s much more clear!","body":"Now it&#39;s much more clear!"},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637766204,"post_id":70097576,"comment_id":123914426,"body_markdown":"I&#39;m really sorry about the confusion.","body":"I&#39;m really sorry about the confusion."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766219,"post_id":70097576,"comment_id":123914431,"body_markdown":"No worries. So, is this working or not? If not, then how is it not working?","body":"No worries. So, is this working or not? If not, then how is it not working?"},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637766342,"post_id":70097576,"comment_id":123914475,"body_markdown":"Alright, so the 3 draws under // draw the 3 line segments of the H are underlined red. They state that The function draw expects parameters like: draw(int, double, double, double).","body":"Alright, so the 3 draws under // draw the 3 line segments of the H are underlined red. They state that The function draw expects parameters like: draw(int, double, double, double)."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1637766419,"post_id":70097576,"comment_id":123914508,"body_markdown":"@LajosArpad He means Processing&#39;s [`line(x1,y1, x2, y2)`](https://processing.org/reference/line_.html).","body":"@LajosArpad He means Processing&#39;s <a href=\"https://processing.org/reference/line_.html\" rel=\"nofollow noreferrer\"><code>line(x1,y1, x2, y2)</code></a>."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637766500,"post_id":70097576,"comment_id":123914544,"body_markdown":"I changed it to draw since he said that line is not a function in processing. Should I change it back?","body":"I changed it to draw since he said that line is not a function in processing. Should I change it back?"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766507,"post_id":70097576,"comment_id":123914548,"body_markdown":"`x0` and `x1` are double, while `draw` expects `int` as the first parameter.","body":"<code>x0</code> and <code>x1</code> are double, while <code>draw</code> expects <code>int</code> as the first parameter."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766534,"post_id":70097576,"comment_id":123914564,"body_markdown":"Arikakate, I did not say that. I was asking for its definition.","body":"Arikakate, I did not say that. I was asking for its definition."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766580,"post_id":70097576,"comment_id":123914584,"body_markdown":"Try changing `draw(x0, y0, x0, y1);` to `draw((int)x0, y0, x0, y1);`. Is that line still underlined then?","body":"Try changing <code>draw(x0, y0, x0, y1);</code> to <code>draw((int)x0, y0, x0, y1);</code>. Is that line still underlined then?"},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637766584,"post_id":70097576,"comment_id":123914587,"body_markdown":"Oh, sorry about that. So should I change it back?","body":"Oh, sorry about that. So should I change it back?"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766651,"post_id":70097576,"comment_id":123914615,"body_markdown":"Arikakate, no, let&#39;s solve the issue as it is now.","body":"Arikakate, no, let&#39;s solve the issue as it is now."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766768,"post_id":70097576,"comment_id":123914677,"body_markdown":"Maybe you will need to change it back. It is certainly possible. But let&#39;s not jump in an arbitrary way. Let&#39;s solve this systematically.","body":"Maybe you will need to change it back. It is certainly possible. But let&#39;s not jump in an arbitrary way. Let&#39;s solve this systematically."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637766773,"post_id":70097576,"comment_id":123914680,"body_markdown":"Alright. I changed it to `draw((int)x0, y0, x0, y1);`. Seems to have removed the underline. I am now applying it to all 3 lines.","body":"Alright. I changed it to <code>draw((int)x0, y0, x0, y1);</code>. Seems to have removed the underline. I am now applying it to all 3 lines."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766816,"post_id":70097576,"comment_id":123914705,"body_markdown":"Okay. So, we have solved the type error. I predict that the function will not work properly now either, because you have defined both `draw` and `drawH` and there is no actual drawing there.","body":"Okay. So, we have solved the type error. I predict that the function will not work properly now either, because you have defined both <code>draw</code> and <code>drawH</code> and there is no actual drawing there."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766827,"post_id":70097576,"comment_id":123914711,"body_markdown":"But we have passed our first obstacle successfully.","body":"But we have passed our first obstacle successfully."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766933,"post_id":70097576,"comment_id":123914770,"body_markdown":"@GeorgeProfenza successfully found the definition of the `line` method. You will probably need to use it. Note that it expects four `float` parameters, so you might need to convert your `double` parameters to float.","body":"@GeorgeProfenza successfully found the definition of the <code>line</code> method. You will probably need to use it. Note that it expects four <code>float</code> parameters, so you might need to convert your <code>double</code> parameters to float."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637766933,"post_id":70097576,"comment_id":123914771,"body_markdown":"Yes, when I try to run it, it&#39;s just a small empty box. So now we move on to actually making the code draw.","body":"Yes, when I try to run it, it&#39;s just a small empty box. So now we move on to actually making the code draw."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637766978,"post_id":70097576,"comment_id":123914790,"body_markdown":"Yes, we needed to fix the type error first to make sure that we can see anything.","body":"Yes, we needed to fix the type error first to make sure that we can see anything."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637767002,"post_id":70097576,"comment_id":123914799,"body_markdown":"`drawH` has three calls to `draw`. I think you were right when you assumed that you will need to change those to a call to `line`.","body":"<code>drawH</code> has three calls to <code>draw</code>. I think you were right when you assumed that you will need to change those to a call to <code>line</code>."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637767029,"post_id":70097576,"comment_id":123914806,"body_markdown":"Alright, so I should change all the draws to line and make the double parameters to float?","body":"Alright, so I should change all the draws to line and make the double parameters to float?"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637767057,"post_id":70097576,"comment_id":123914826,"body_markdown":"Yes! `draw(x0, y0, x0, y1);` -&gt; `draw((float)x0, (float)y0, (float)x0, (float)y1);`","body":"Yes! <code>draw(x0, y0, x0, y1);</code> -&gt; <code>draw((float)x0, (float)y0, (float)x0, (float)y1);</code>"},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637767126,"post_id":70097576,"comment_id":123914869,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/239552/discussion-between-arikakate-and-lajos-arpad).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/239552/discussion-between-arikakate-and-lajos-arpad\">continue this discussion in chat</a>."},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637767205,"post_id":70097576,"comment_id":123914908,"body_markdown":"Wait, shouldn&#39;t it be `line((float)x0, (float)y0, (float)x0, (float)y1);`? Since we are trying to change draw to line. When I do `draw((float)x0, (float)y0, (float)x0, (float)y1);` it still gives me the error.","body":"Wait, shouldn&#39;t it be <code>line((float)x0, (float)y0, (float)x0, (float)y1);</code>? Since we are trying to change draw to line. When I do <code>draw((float)x0, (float)y0, (float)x0, (float)y1);</code> it still gives me the error."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637767493,"post_id":70097576,"comment_id":123915051,"body_markdown":"Yes, you are right, I&#39;ve meant `line((float)x0, (float)y0, (float)x0, (float)y1);`. Excuse me for the confusion!","body":"Yes, you are right, I&#39;ve meant <code>line((float)x0, (float)y0, (float)x0, (float)y1);</code>. Excuse me for the confusion!"},{"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"score":0,"creation_date":1637767609,"post_id":70097576,"comment_id":123915110,"body_markdown":"Yes! I got it to work! Thanks a lot!","body":"Yes! I got it to work! Thanks a lot!"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1637771145,"post_id":70097576,"comment_id":123916606,"body_markdown":"You are welcome!","body":"You are welcome!"}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637794554,"creation_date":1637767316,"answer_id":70098663,"question_id":70097576,"body_markdown":"There&#39;s nothing wrong with using other people code in my view as long as you:\r\n\r\n 1. credit the people \r\n 2. understand the code you&#39;re trying to use\r\n 3. optional: have fun hacking/tweaking the code and remixing it with something of your own\r\n\r\n\r\nThere are several issues with your code and unfortunately I won&#39;t have the time to review each one in detail, but I will mention a few:\r\n\r\n - `main()` isn&#39;t called, perhaps you meant to call it from Processing&#39;s `setup()` ?\r\n - it&#39;s a good idea to check if `args` is not `null` and its length is at least 1 to be able to parse a value for `n`. \r\n - You&#39;re accidentally creating infinite recursion loops (which will stackoverflow): `main()` calls `draw()`, `draw()` calls `drawH()`, `drawH()` calls `draw()` several times (which will call `drawH()` which will call `draw()`, and so on).\r\n\r\nI&#39;m asuming you&#39;re using the [Princeton H-Tree example by Robert Sedgewick and Kevin Wayne][1]. If this is the case I&#39;d simply swap `double` to `float` types for easier drawing in Processing:\r\n\r\n```java\r\n/*\r\n * Based on Htree.java demo by Robert Sedgewick and Kevin Wayne\r\n * original URL: https://introcs.cs.princeton.edu/java/23recursion/Htree.java.html\r\n*/\r\nvoid setup() {\r\n  size(600, 600);\r\n  background(255);\r\n  main();\r\n}\r\n\r\nvoid drawH(float x, float y, float size) {\r\n\r\n  // compute the coordinates of the 4 tips of the H\r\n  float x0 = x - size/2;\r\n  float x1 = x + size/2;\r\n  float y0 = y - size/2;\r\n  float y1 = y + size/2;\r\n\r\n  // draw the 3 line segments of the H\r\n  line(x0, y0, x0, y1);\r\n  line(x1, y0, x1, y1);\r\n  line(x0, y, x1, y);\r\n}\r\n\r\nvoid draw(int n, float x, float y, float size) {\r\n  if (n == 0) return;\r\n  drawH(x, y, size);\r\n\r\n  // compute x- and y-coordinates of the 4 half-size H-trees\r\n  float x0 = x - size/2;\r\n  float x1 = x + size/2;\r\n  float y0 = y - size/2;\r\n  float y1 = y + size/2;\r\n\r\n  // recursively draw 4 half-size H-trees of order n-1\r\n  draw(n-1, x0, y0, size/2);    // lower left  H-tree\r\n  draw(n-1, x0, y1, size/2);    // upper left  H-tree\r\n  draw(n-1, x1, y0, size/2);    // lower right H-tree\r\n  draw(n-1, x1, y1, size/2);    // upper right H-tree\r\n}\r\n\r\n// reads an integer command-line argument n and plots an order n H-tree\r\nvoid main() {\r\n  // start with a default value\r\n  int n = 6;\r\n  // override that value with args if they exisst (e.g. sketch is launched via command line)\r\n  if(args != null &amp;&amp; args.length &gt; 0){\r\n    n = Integer.parseInt(args[0]);\r\n    println(&quot;parsed n=&quot;, n);\r\n  }\r\n  float x = width * 0.5, y = height * 0.5;   // center of H-tree\r\n  int size = 600;         // side length of H-tree\r\n  draw(n, x, y, size);\r\n}\r\n```\r\n\r\nIf you want to test the command line arguments you would need to:\r\n - add the folder containing processing-java (it&#39;s in the same folder the Processing executable lives) to the `PATH` environment-variable (or alternatively `cd` into that directory as a temporary option)\r\n - run your sketch passing the integer argument: e.g. `processing-java --sketch=path/to/yourHTreeSketch --run 3` (where 3 is the example recursion level)\r\n\r\n(Alternatively you can export an application (via *File &gt; Export Application* (`Ctrl+Shift+E / CMD+Shift+E`) and run that from command line passing the int argument)\r\n\r\nI wish I had the time to explain recursion: it&#39;s such a fun topic!\r\n\r\nThere are really good resources out there. Check out Daniel Shiffman&#39;s:\r\n - [Recursive Tree example][2] (notice as you move the cursor to the right edge od the sketch it looks like an H-Tree: hopefully this is visually intuitive)\r\n - [Fractal Trees - Recursive Coding Train youtube video][3]\r\n\r\nGood luck and have fun!\r\n\r\n \r\n\r\n\r\n  [1]: https://introcs.cs.princeton.edu/java/23recursion/Htree.java.html\r\n  [2]: https://processing.org/examples/tree.html\r\n  [3]: https://www.youtube.com/watch?v=0jjeOYMjmDU&amp;ab_channel=TheCodingTrain","title":"Building HTree in Processing using Java","body":"<p>There's nothing wrong with using other people code in my view as long as you:</p>\n<ol>\n<li>credit the people</li>\n<li>understand the code you're trying to use</li>\n<li>optional: have fun hacking/tweaking the code and remixing it with something of your own</li>\n</ol>\n<p>There are several issues with your code and unfortunately I won't have the time to review each one in detail, but I will mention a few:</p>\n<ul>\n<li><code>main()</code> isn't called, perhaps you meant to call it from Processing's <code>setup()</code> ?</li>\n<li>it's a good idea to check if <code>args</code> is not <code>null</code> and its length is at least 1 to be able to parse a value for <code>n</code>.</li>\n<li>You're accidentally creating infinite recursion loops (which will stackoverflow): <code>main()</code> calls <code>draw()</code>, <code>draw()</code> calls <code>drawH()</code>, <code>drawH()</code> calls <code>draw()</code> several times (which will call <code>drawH()</code> which will call <code>draw()</code>, and so on).</li>\n</ul>\n<p>I'm asuming you're using the <a href=\"https://introcs.cs.princeton.edu/java/23recursion/Htree.java.html\" rel=\"nofollow noreferrer\">Princeton H-Tree example by Robert Sedgewick and Kevin Wayne</a>. If this is the case I'd simply swap <code>double</code> to <code>float</code> types for easier drawing in Processing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Based on Htree.java demo by Robert Sedgewick and Kevin Wayne\n * original URL: https://introcs.cs.princeton.edu/java/23recursion/Htree.java.html\n*/\nvoid setup() {\n  size(600, 600);\n  background(255);\n  main();\n}\n\nvoid drawH(float x, float y, float size) {\n\n  // compute the coordinates of the 4 tips of the H\n  float x0 = x - size/2;\n  float x1 = x + size/2;\n  float y0 = y - size/2;\n  float y1 = y + size/2;\n\n  // draw the 3 line segments of the H\n  line(x0, y0, x0, y1);\n  line(x1, y0, x1, y1);\n  line(x0, y, x1, y);\n}\n\nvoid draw(int n, float x, float y, float size) {\n  if (n == 0) return;\n  drawH(x, y, size);\n\n  // compute x- and y-coordinates of the 4 half-size H-trees\n  float x0 = x - size/2;\n  float x1 = x + size/2;\n  float y0 = y - size/2;\n  float y1 = y + size/2;\n\n  // recursively draw 4 half-size H-trees of order n-1\n  draw(n-1, x0, y0, size/2);    // lower left  H-tree\n  draw(n-1, x0, y1, size/2);    // upper left  H-tree\n  draw(n-1, x1, y0, size/2);    // lower right H-tree\n  draw(n-1, x1, y1, size/2);    // upper right H-tree\n}\n\n// reads an integer command-line argument n and plots an order n H-tree\nvoid main() {\n  // start with a default value\n  int n = 6;\n  // override that value with args if they exisst (e.g. sketch is launched via command line)\n  if(args != null &amp;&amp; args.length &gt; 0){\n    n = Integer.parseInt(args[0]);\n    println(&quot;parsed n=&quot;, n);\n  }\n  float x = width * 0.5, y = height * 0.5;   // center of H-tree\n  int size = 600;         // side length of H-tree\n  draw(n, x, y, size);\n}\n</code></pre>\n<p>If you want to test the command line arguments you would need to:</p>\n<ul>\n<li>add the folder containing processing-java (it's in the same folder the Processing executable lives) to the <code>PATH</code> environment-variable (or alternatively <code>cd</code> into that directory as a temporary option)</li>\n<li>run your sketch passing the integer argument: e.g. <code>processing-java --sketch=path/to/yourHTreeSketch --run 3</code> (where 3 is the example recursion level)</li>\n</ul>\n<p>(Alternatively you can export an application (via <em>File &gt; Export Application</em> (<code>Ctrl+Shift+E / CMD+Shift+E</code>) and run that from command line passing the int argument)</p>\n<p>I wish I had the time to explain recursion: it's such a fun topic!</p>\n<p>There are really good resources out there. Check out Daniel Shiffman's:</p>\n<ul>\n<li><a href=\"https://processing.org/examples/tree.html\" rel=\"nofollow noreferrer\">Recursive Tree example</a> (notice as you move the cursor to the right edge od the sketch it looks like an H-Tree: hopefully this is visually intuitive)</li>\n<li><a href=\"https://www.youtube.com/watch?v=0jjeOYMjmDU&amp;ab_channel=TheCodingTrain\" rel=\"nofollow noreferrer\">Fractal Trees - Recursive Coding Train youtube video</a></li>\n</ul>\n<p>Good luck and have fun!</p>\n"}],"owner":{"account_id":20106868,"reputation":93,"user_id":14744159,"display_name":"Arikakate"},"comment_count":39,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70098663,"answer_count":1,"score":2,"last_activity_date":1637794554,"creation_date":1637762924,"question_id":70097576,"body_markdown":"I need to build an HTree for an exercise. I am so lost because my teacher&#39;s teaching ways is questionable. Anyway what we have to do is make an HTree using recursive methods. I had no idea how to start so I found a method online but when I pasted it, it had some errors. So I managed to remove all the errors (at least the underlined ones). When I run the code, it&#39;s just a blank block.\r\n\r\n```\r\nvoid drawH(double x, double y, double size) {\r\n\r\n        // compute the coordinates of the 4 tips of the H\r\n        double x0 = x - size/2;\r\n        double x1 = x + size/2;\r\n        double y0 = y - size/2;\r\n        double y1 = y + size/2;\r\n\r\n        // draw the 3 line segments of the H\r\n        draw(x0, y0, x0, y1);    \r\n        draw(x1, y0, x1, y1);    \r\n        draw(x0,  y, x1,  y);   \r\n    }\r\n\r\nvoid draw(int n, double x, double y, double size) {\r\n        if (n == 0) return;\r\n        drawH(x, y, size);\r\n\r\n        // compute x- and y-coordinates of the 4 half-size H-trees\r\n        double x0 = x - size/2;\r\n        double x1 = x + size/2;\r\n        double y0 = y - size/2;\r\n        double y1 = y + size/2;\r\n\r\n        // recursively draw 4 half-size H-trees of order n-1\r\n        draw(n-1, x0, y0, size/2);    // lower left  H-tree\r\n        draw(n-1, x0, y1, size/2);    // upper left  H-tree\r\n        draw(n-1, x1, y0, size/2);    // lower right H-tree\r\n        draw(n-1, x1, y1, size/2);    // upper right H-tree\r\n    }\r\n\r\n    // reads an integer command-line argument n and plots an order n H-tree\r\nvoid main() {\r\n        int n = Integer.parseInt(args[0]);\r\n\r\n        double x = 0.5, y = 0.5;   // center of H-tree\r\n        double size = 0.5;         // side length of H-tree\r\n        draw(n, x, y, size);\r\n    }\r\n```","title":"Building HTree in Processing using Java","body":"<p>I need to build an HTree for an exercise. I am so lost because my teacher's teaching ways is questionable. Anyway what we have to do is make an HTree using recursive methods. I had no idea how to start so I found a method online but when I pasted it, it had some errors. So I managed to remove all the errors (at least the underlined ones). When I run the code, it's just a blank block.</p>\n<pre><code>void drawH(double x, double y, double size) {\n\n        // compute the coordinates of the 4 tips of the H\n        double x0 = x - size/2;\n        double x1 = x + size/2;\n        double y0 = y - size/2;\n        double y1 = y + size/2;\n\n        // draw the 3 line segments of the H\n        draw(x0, y0, x0, y1);    \n        draw(x1, y0, x1, y1);    \n        draw(x0,  y, x1,  y);   \n    }\n\nvoid draw(int n, double x, double y, double size) {\n        if (n == 0) return;\n        drawH(x, y, size);\n\n        // compute x- and y-coordinates of the 4 half-size H-trees\n        double x0 = x - size/2;\n        double x1 = x + size/2;\n        double y0 = y - size/2;\n        double y1 = y + size/2;\n\n        // recursively draw 4 half-size H-trees of order n-1\n        draw(n-1, x0, y0, size/2);    // lower left  H-tree\n        draw(n-1, x0, y1, size/2);    // upper left  H-tree\n        draw(n-1, x1, y0, size/2);    // lower right H-tree\n        draw(n-1, x1, y1, size/2);    // upper right H-tree\n    }\n\n    // reads an integer command-line argument n and plots an order n H-tree\nvoid main() {\n        int n = Integer.parseInt(args[0]);\n\n        double x = 0.5, y = 0.5;   // center of H-tree\n        double size = 0.5;         // side length of H-tree\n        draw(n, x, y, size);\n    }\n</code></pre>\n"},{"tags":["python","java","android-studio","sockets","video-streaming"],"answers":[{"tags":[],"owner":{"account_id":18775421,"reputation":1,"user_id":13691275,"display_name":"Javier Mu&#241;oz Mart&#237;n del Campo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637794348,"creation_date":1637785949,"answer_id":70102572,"question_id":70102134,"body_markdown":"I solved it.\r\n\r\nThe\r\n\r\n    BufferedReader mBufferIn = new BufferedReader(new InputStreamReader(socket.getInputStream(), StandardCharsets.UTF_8))\r\n\r\nneeds to be out of the `while`.","title":"Video Stream from Python to Java Android Studio","body":"<p>I solved it.</p>\n<p>The</p>\n<pre><code>BufferedReader mBufferIn = new BufferedReader(new InputStreamReader(socket.getInputStream(), StandardCharsets.UTF_8))\n</code></pre>\n<p>needs to be out of the <code>while</code>.</p>\n"}],"owner":{"account_id":18775421,"reputation":1,"user_id":13691275,"display_name":"Javier Mu&#241;oz Mart&#237;n del Campo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637794348,"creation_date":1637783358,"question_id":70102134,"body_markdown":"I have a problem when I get the Base64 String from a Python socket. The video input is my webcam and I need to show the image in an Android App using ImageView. I only get one frame from the socket to Android app, the log in Android studio only prints one base64 String,and then 3 - 5 seconds later, the python app freezes. I&#39;m noob in Python lol.\r\n\r\n```\r\nfrom numpy.core import numeric\r\nimport requests\r\nimport cv2\r\nimport pickle\r\nimport socket\r\nimport struct\r\nimport numpy as np\r\nimport imutils\r\nimport base64\r\nfrom pyzbar import pyzbar\r\n\r\n\r\ndef main():\r\n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n    vid = cv2.VideoCapture(0)\r\n    host_ip = &quot;192.168.100.20&quot;\r\n    print(&#39;IP DEL HOST:&#39;, host_ip)\r\n    port = 9999\r\n    socket_address = (host_ip, port)\r\n    # BIND-PROCESO\r\n    server_socket.bind(socket_address)\r\n\r\n    # COMENZAMOS A ESCUCHAR LOS PUERTOS\r\n    server_socket.listen(5)\r\n    print(&quot;LUGAR DE ESCUCHA: &quot;, socket_address)\r\n\r\n    try:\r\n        while True:    \r\n            client_socket, addr = server_socket.accept()\r\n            print(&#39;CONEXI&#211;N ENTRANTE:&#39;, addr)\r\n            WIDTH = 400\r\n            while True:\r\n                try:\r\n                    _,img = vid.read()\r\n                    frame = imutils.resize(img,width=WIDTH)\r\n                    #read_barcodes(frame)\r\n                    cv2.imshow(&quot;Android_cam&quot;, frame)\r\n                    encoded,buffer = cv2.imencode(&#39;.jpeg&#39;,frame,[cv2.IMWRITE_JPEG_QUALITY,50])\r\n                    message = base64.b64encode(buffer)\r\n                    size = len(message)\r\n                    print(size)\r\n                    strSize = str(size) + &quot;\\n&quot;\r\n                    client_socket.sendto(strSize.encode(&#39;utf-8&#39;),addr)\r\n                    client_socket.sendto(message,addr)\r\n                    #this is my idea to separate the next size with the base64 string\r\n                    client_socket.sendto((&quot;\\nhappy face\\n&quot;).encode(&#39;utf-8&#39;),addr)\r\n                except Exception as e:\r\n                    print(e)\r\n                    raise Exception(e)\r\n                if cv2.waitKey(1) == 27:\r\n                    break\r\n            cv2.destroyAllWindows()\r\n    except KeyboardInterrupt:\r\n        print(&#39;Finalizado&#39;)\r\n\r\nif __name__ == &#39;__main__&#39;:\r\n    main()\r\n\r\n```\r\n\r\nAnd the Java client is the next:\r\n```\r\n public class actualizar extends AsyncTask&lt;String, Bitmap, String&gt; {\r\n\r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n\r\n            Log.i(&quot;hola&quot;,&quot;Running&quot;);\r\n            try {\r\n                boolean XD = true;\r\n                byte conteo = 0;\r\n                while(XD){\r\n                    socket = new Socket(IP_HOST,PORT);\r\n                    conteo = 0;\r\n                    BufferedReader mBufferIn = new BufferedReader(new InputStreamReader(socket.getInputStream(), StandardCharsets.UTF_8));\r\n                    String xxx = mBufferIn.readLine();\r\n\r\n                    int size = Integer.parseInt(xxx);\r\n                    String next = mBufferIn.readLine();\r\n\r\n                    InputStream targetStream = new ByteArrayInputStream(next.getBytes());\r\n                    Log.i(&quot;Printing image&quot;,next.length()+&quot; ::: &quot; + size + &quot; ::: &quot; + targetStream.available());\r\n\r\n                    Log.i(&quot;substring&quot;, next.substring(size,next.length()));\r\n                    String newNext = next.substring(0,size);\r\n                    int maxLogSize = 1000;\r\n                    //showing the base64 string\r\n    \r\n                    for(int i = 0; i &lt;= next.length() / maxLogSize; i++) {\r\n                        int start = i * maxLogSize;\r\n                        int end = (i+1) * maxLogSize;\r\n                        end = end &gt; next.length() ? next.length() : end;\r\n                        Log.v(&quot;OOOOOO&quot;, next.substring(start, end));\r\n                    }\r\n\r\n\r\n                    byte[] decodedString = Base64.decode(next, Base64.DEFAULT);\r\n                    Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\r\n                    this.publishProgress(decodedByte);\r\n                    String happyFace = mBufferIn.readLine();\r\n                    Log.i(&quot;Happy face?: &quot;,happyFace);\r\n                    if(targetStream == null)\r\n                        XD = false;\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n\r\n            }\r\n            return null;\r\n        }\r\n        //setting the bitmap to imageView \r\n        @Override\r\n        protected void onProgressUpdate(Bitmap... values) {\r\n            super.onProgressUpdate(values);\r\n            imgShow.setImageBitmap(values[0]);\r\n        }\r\n\r\n    }\r\n```","title":"Video Stream from Python to Java Android Studio","body":"<p>I have a problem when I get the Base64 String from a Python socket. The video input is my webcam and I need to show the image in an Android App using ImageView. I only get one frame from the socket to Android app, the log in Android studio only prints one base64 String,and then 3 - 5 seconds later, the python app freezes. I'm noob in Python lol.</p>\n<pre><code>from numpy.core import numeric\nimport requests\nimport cv2\nimport pickle\nimport socket\nimport struct\nimport numpy as np\nimport imutils\nimport base64\nfrom pyzbar import pyzbar\n\n\ndef main():\n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    vid = cv2.VideoCapture(0)\n    host_ip = &quot;192.168.100.20&quot;\n    print('IP DEL HOST:', host_ip)\n    port = 9999\n    socket_address = (host_ip, port)\n    # BIND-PROCESO\n    server_socket.bind(socket_address)\n\n    # COMENZAMOS A ESCUCHAR LOS PUERTOS\n    server_socket.listen(5)\n    print(&quot;LUGAR DE ESCUCHA: &quot;, socket_address)\n\n    try:\n        while True:    \n            client_socket, addr = server_socket.accept()\n            print('CONEXIN ENTRANTE:', addr)\n            WIDTH = 400\n            while True:\n                try:\n                    _,img = vid.read()\n                    frame = imutils.resize(img,width=WIDTH)\n                    #read_barcodes(frame)\n                    cv2.imshow(&quot;Android_cam&quot;, frame)\n                    encoded,buffer = cv2.imencode('.jpeg',frame,[cv2.IMWRITE_JPEG_QUALITY,50])\n                    message = base64.b64encode(buffer)\n                    size = len(message)\n                    print(size)\n                    strSize = str(size) + &quot;\\n&quot;\n                    client_socket.sendto(strSize.encode('utf-8'),addr)\n                    client_socket.sendto(message,addr)\n                    #this is my idea to separate the next size with the base64 string\n                    client_socket.sendto((&quot;\\nhappy face\\n&quot;).encode('utf-8'),addr)\n                except Exception as e:\n                    print(e)\n                    raise Exception(e)\n                if cv2.waitKey(1) == 27:\n                    break\n            cv2.destroyAllWindows()\n    except KeyboardInterrupt:\n        print('Finalizado')\n\nif __name__ == '__main__':\n    main()\n\n</code></pre>\n<p>And the Java client is the next:</p>\n<pre><code> public class actualizar extends AsyncTask&lt;String, Bitmap, String&gt; {\n\n        @RequiresApi(api = Build.VERSION_CODES.O)\n        @Override\n        protected String doInBackground(String... params) {\n\n            Log.i(&quot;hola&quot;,&quot;Running&quot;);\n            try {\n                boolean XD = true;\n                byte conteo = 0;\n                while(XD){\n                    socket = new Socket(IP_HOST,PORT);\n                    conteo = 0;\n                    BufferedReader mBufferIn = new BufferedReader(new InputStreamReader(socket.getInputStream(), StandardCharsets.UTF_8));\n                    String xxx = mBufferIn.readLine();\n\n                    int size = Integer.parseInt(xxx);\n                    String next = mBufferIn.readLine();\n\n                    InputStream targetStream = new ByteArrayInputStream(next.getBytes());\n                    Log.i(&quot;Printing image&quot;,next.length()+&quot; ::: &quot; + size + &quot; ::: &quot; + targetStream.available());\n\n                    Log.i(&quot;substring&quot;, next.substring(size,next.length()));\n                    String newNext = next.substring(0,size);\n                    int maxLogSize = 1000;\n                    //showing the base64 string\n    \n                    for(int i = 0; i &lt;= next.length() / maxLogSize; i++) {\n                        int start = i * maxLogSize;\n                        int end = (i+1) * maxLogSize;\n                        end = end &gt; next.length() ? next.length() : end;\n                        Log.v(&quot;OOOOOO&quot;, next.substring(start, end));\n                    }\n\n\n                    byte[] decodedString = Base64.decode(next, Base64.DEFAULT);\n                    Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\n                    this.publishProgress(decodedByte);\n                    String happyFace = mBufferIn.readLine();\n                    Log.i(&quot;Happy face?: &quot;,happyFace);\n                    if(targetStream == null)\n                        XD = false;\n\n            } catch (IOException e) {\n                e.printStackTrace();\n\n            }\n            return null;\n        }\n        //setting the bitmap to imageView \n        @Override\n        protected void onProgressUpdate(Bitmap... values) {\n            super.onProgressUpdate(values);\n            imgShow.setImageBitmap(values[0]);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1637783518,"post_id":70102087,"comment_id":123921163,"body_markdown":"Is that supposed to be json? Because it&#39;s using weirdly inconsistent colons/equals ...","body":"Is that supposed to be json? Because it&#39;s using weirdly inconsistent colons/equals ..."},{"owner":{"account_id":23444522,"reputation":19,"user_id":17501534,"display_name":"Sam14"},"score":0,"creation_date":1637783747,"post_id":70102087,"comment_id":123921250,"body_markdown":"yeah, that&#39;s json. Sorry for the format. I have fixed it.","body":"yeah, that&#39;s json. Sorry for the format. I have fixed it."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1637784025,"post_id":70102087,"comment_id":123921357,"body_markdown":"Do you have a bunch of JSON in a big string, or do you have objects that you just described using a JSON-like format? If the former, what code _do_ you have? How are you even reading this JSON in? Your question lacks quite a few details.","body":"Do you have a bunch of JSON in a big string, or do you have objects that you just described using a JSON-like format? If the former, what code <i>do</i> you have? How are you even reading this JSON in? Your question lacks quite a few details."},{"owner":{"account_id":23444522,"reputation":19,"user_id":17501534,"display_name":"Sam14"},"score":0,"creation_date":1637784285,"post_id":70102087,"comment_id":123921436,"body_markdown":"You can assume it&#39;s in objects format instead of json.","body":"You can assume it&#39;s in objects format instead of json."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1637792542,"post_id":70102087,"comment_id":123923936,"body_markdown":"Does this answer your question? [How to add object with unique field to Set](https://stackoverflow.com/questions/38164179/how-to-add-object-with-unique-field-to-set)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38164179/how-to-add-object-with-unique-field-to-set\">How to add object with unique field to Set</a>"},{"owner":{"account_id":23444522,"reputation":19,"user_id":17501534,"display_name":"Sam14"},"score":0,"creation_date":1637793515,"post_id":70102087,"comment_id":123924183,"body_markdown":"@Joe My question has been solved. I have added an edit. Basically I just had to use TreeSet with Comparator.comparing","body":"@Joe My question has been solved. I have added an edit. Basically I just had to use TreeSet with Comparator.comparing"},{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":1,"creation_date":1637793783,"post_id":70102087,"comment_id":123924257,"body_markdown":"You can create an answer for your own question and actually mark it as solved, instead of leaving it open. However, this question has nothing to do with Spring or Spring Boot. And also, even though it might work, your solution doesn&#39;t sound like the best / most conventional way of solving this problem. Although I could be wrong, but then I think your question might not be worded the right way.","body":"You can create an answer for your own question and actually mark it as solved, instead of leaving it open. However, this question has nothing to do with Spring or Spring Boot. And also, even though it might work, your solution doesn&#39;t sound like the best / most conventional way of solving this problem. Although I could be wrong, but then I think your question might not be worded the right way."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637794251,"creation_date":1637785165,"answer_id":70102423,"question_id":70102087,"body_markdown":"When you say you have a list. Do you mean you have: `List&lt;Person&gt; person;`?\r\n\r\nBecause you say you are trying to use `contains`. Contains compares objects, not values in objects.\r\nFor example if I had an ArrayList of strings.\r\n\r\n    ArrayList&lt;String&gt; colors = new ArrayList&lt;&gt;;\r\nAnd I had some strings like:\r\n\r\n    String a = &quot;red&quot;;\r\n    String b = &quot;blue&quot;;\r\n    String c = &quot;green&quot;;\r\n    String d = &quot;green&quot;;\r\n\r\nThen added a,b,c to the ArrayList, but left out d.\r\n\r\n    colors.add(a);\r\n    colors.add(b);\r\n    colors.add(c);\r\n\r\nWith the objects now in the arraylist. I can use compare like this:\r\n\r\n    colors.contains(a)\r\n\r\nThis will return true because the object &#39;a&#39; is in the ArrayList. But if you try `colors.contains(d)` it&#39;ll return false. Even though the value of &#39;c&#39; is &#39;green&#39; which is the same value as &#39;d&#39;. It isn&#39;t the same object. Because &#39;.contains()&#39; is just comparing objects and not the value of the object.\r\n\r\nIf you want to compare the values of a list/arrayList than you will have to a For loop.\r\n\r\n    public boolean comparePerson(ArrayList&lt;Person&gt; persons, Person person) {\r\n    //persons is your main list. And person is a single person that you want to see if they are in the ArrayList.\r\n\r\n    for (Person p: persons) {\r\n        if (person.name == p.name) {\r\n            if (person.address == p.address) {\r\n            return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n    }\r\n\r\nOptionally this is why having an Id field is useful. You&#39;ll only need to compare Ids and not multiple fields for a confident match.","title":"How can I check if a specific fields of objects within an array or list are unique?","body":"<p>When you say you have a list. Do you mean you have: <code>List&lt;Person&gt; person;</code>?</p>\n<p>Because you say you are trying to use <code>contains</code>. Contains compares objects, not values in objects.\nFor example if I had an ArrayList of strings.</p>\n<pre><code>ArrayList&lt;String&gt; colors = new ArrayList&lt;&gt;;\n</code></pre>\n<p>And I had some strings like:</p>\n<pre><code>String a = &quot;red&quot;;\nString b = &quot;blue&quot;;\nString c = &quot;green&quot;;\nString d = &quot;green&quot;;\n</code></pre>\n<p>Then added a,b,c to the ArrayList, but left out d.</p>\n<pre><code>colors.add(a);\ncolors.add(b);\ncolors.add(c);\n</code></pre>\n<p>With the objects now in the arraylist. I can use compare like this:</p>\n<pre><code>colors.contains(a)\n</code></pre>\n<p>This will return true because the object 'a' is in the ArrayList. But if you try <code>colors.contains(d)</code> it'll return false. Even though the value of 'c' is 'green' which is the same value as 'd'. It isn't the same object. Because '.contains()' is just comparing objects and not the value of the object.</p>\n<p>If you want to compare the values of a list/arrayList than you will have to a For loop.</p>\n<pre><code>public boolean comparePerson(ArrayList&lt;Person&gt; persons, Person person) {\n//persons is your main list. And person is a single person that you want to see if they are in the ArrayList.\n\nfor (Person p: persons) {\n    if (person.name == p.name) {\n        if (person.address == p.address) {\n        return true;\n        }\n    }\n}\nreturn false;\n}\n</code></pre>\n<p>Optionally this is why having an Id field is useful. You'll only need to compare Ids and not multiple fields for a confident match.</p>\n"},{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637786433,"creation_date":1637786433,"answer_id":70102652,"question_id":70102087,"body_markdown":"Firstly you need to write a proper `equals` (and `hashCode` also! Read the first link below) method in your `Person` class that will compare all fields to understand whether the instance is duplicate or not.\r\n\r\nWhen you will do this you can use a feature of java `Set` collection that guarantees that you will have only one instance of the object inside (the duplicate will be &quot;ignored&quot; when added) and compare the size of your initial array/list and the set created on this array/list \r\n\r\n    List&lt;Person&gt; people = someDeserializeJsonMethod();\r\n    return people.size() == new HashSet&lt;&gt;(people).size();\r\n\r\nRead more:\r\n* https://www.baeldung.com/java-equals-hashcode-contracts\r\n* https://docs.oracle.com/javase/8/docs/api/java/util/Set.html","title":"How can I check if a specific fields of objects within an array or list are unique?","body":"<p>Firstly you need to write a proper <code>equals</code> (and <code>hashCode</code> also! Read the first link below) method in your <code>Person</code> class that will compare all fields to understand whether the instance is duplicate or not.</p>\n<p>When you will do this you can use a feature of java <code>Set</code> collection that guarantees that you will have only one instance of the object inside (the duplicate will be &quot;ignored&quot; when added) and compare the size of your initial array/list and the set created on this array/list</p>\n<pre><code>List&lt;Person&gt; people = someDeserializeJsonMethod();\nreturn people.size() == new HashSet&lt;&gt;(people).size();\n</code></pre>\n<p>Read more:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-equals-hashcode-contracts</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Set.html</a></li>\n</ul>\n"}],"owner":{"account_id":23444522,"reputation":19,"user_id":17501534,"display_name":"Sam14"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1637794251,"creation_date":1637783160,"question_id":70102087,"body_markdown":"If I have a list of objects like this,\r\n\r\n    person = [\r\n        a = {\r\n            name = john\r\n            address = bakerfield\r\n            phone = 1234\r\n        },\r\n        b = {\r\n            name = stacy\r\n            address = cloverfield\r\n            phone = 4567\r\n        },\r\n        .\r\n        .\r\n        .\r\n        .\r\n    ]\r\n\r\nI want to return true if all object&#39;s name and address fields are unique. It should return true if an object has same name but different address or vice versa.\r\n\r\nI am fairly new to Java so having hard time figuring this one out. I tried implementing this with `contains` method but that didn&#39;t work. \r\n\r\nEdit: fixed json formatting to object\r\n\r\n**Edit 2: I was able to solve this problem using `Comparator.comparing` along with `TreeSet&lt;&gt;`.**","title":"How can I check if a specific fields of objects within an array or list are unique?","body":"<p>If I have a list of objects like this,</p>\n<pre><code>person = [\n    a = {\n        name = john\n        address = bakerfield\n        phone = 1234\n    },\n    b = {\n        name = stacy\n        address = cloverfield\n        phone = 4567\n    },\n    .\n    .\n    .\n    .\n]\n</code></pre>\n<p>I want to return true if all object's name and address fields are unique. It should return true if an object has same name but different address or vice versa.</p>\n<p>I am fairly new to Java so having hard time figuring this one out. I tried implementing this with <code>contains</code> method but that didn't work.</p>\n<p>Edit: fixed json formatting to object</p>\n<p><strong>Edit 2: I was able to solve this problem using <code>Comparator.comparing</code> along with <code>TreeSet&lt;&gt;</code>.</strong></p>\n"},{"tags":["java","eclipse","websphere","ibm-rational"],"comments":[{"owner":{"account_id":13739626,"reputation":116,"user_id":9915084,"display_name":"Thomas Johnson"},"score":1,"creation_date":1637795957,"post_id":70103833,"comment_id":123924746,"body_markdown":"I&#39;ve not used RAD in a while, but `Generate Java Bean Skeleton` should give you the a Web Service Provider stub class, that is need implementation in the form of a a Java Bean. `Generate Client` should generate all the necessary stub classes required for you to invoke a per-existing Web Service Provider. So based on what you&#39;ve said, it sounds like you need `Generate Java Bean Skeleton` and then you can go and implement the Stub class.","body":"I&#39;ve not used RAD in a while, but <code>Generate Java Bean Skeleton</code> should give you the a Web Service Provider stub class, that is need implementation in the form of a a Java Bean. <code>Generate Client</code> should generate all the necessary stub classes required for you to invoke a per-existing Web Service Provider. So based on what you&#39;ve said, it sounds like you need <code>Generate Java Bean Skeleton</code> and then you can go and implement the Stub class."},{"owner":{"account_id":9578168,"reputation":79,"user_id":7113515,"display_name":"absolute"},"score":0,"creation_date":1637796569,"post_id":70103833,"comment_id":123924875,"body_markdown":"@ThomasJohnson What about the JAX-RPC and JAX-WS?","body":"@ThomasJohnson What about the JAX-RPC and JAX-WS?"}],"owner":{"account_id":9578168,"reputation":79,"user_id":7113515,"display_name":"absolute"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637794132,"creation_date":1637794132,"question_id":70103833,"body_markdown":"just want to ask what&#39;s the difference between **Generate Java Bean Skeleton VS Generate Client** in Java Eclipse/RAD? I created a wsdl but I&#39;m not sure on what to use between the two. My goal is to have a webservice that will consume parameters then I will process those parameter and will return the result.\r\n\r\nHope you can help me on what should I used for the webservice\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qGRnU.png","title":"WSDL Generate Java Bean Skeleton VS Generate Client?","body":"<p>just want to ask what's the difference between <strong>Generate Java Bean Skeleton VS Generate Client</strong> in Java Eclipse/RAD? I created a wsdl but I'm not sure on what to use between the two. My goal is to have a webservice that will consume parameters then I will process those parameter and will return the result.</p>\n<p>Hope you can help me on what should I used for the webservice</p>\n<p><a href=\"https://i.stack.imgur.com/qGRnU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qGRnU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","asynchronous","garbage-collection","completable-future"],"comments":[{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":1,"creation_date":1637358450,"post_id":70041204,"comment_id":123814214,"body_markdown":"What do you mean by _`CompletableFuture` not started yet_? Please post a snippet of code you&#39;re worried about.","body":"What do you mean by <i><code>CompletableFuture</code> not started yet</i>? Please post a snippet of code you&#39;re worried about."},{"owner":{"account_id":2509467,"reputation":172,"user_id":2182302,"display_name":"Robin Kreuzer"},"score":0,"creation_date":1637358793,"post_id":70041204,"comment_id":123814300,"body_markdown":"@Savior, i mean a var `notStartedCompletableFuture= new CompletableFuture&lt;Object&gt;();` instead of a CompletableFuture.supplyAsync(....);\ni can start the `notStartedCompletableFuture` in that way: `notStartedCompletableFuture.complete(new Object);`, which is done later in my code and if in the meantime no exception is thrown^^. Also in the meantime i append a lot of more stages to that notStartedCompletableFuture and AnyOf&#39;s. It&#39;s a really complicated programm-flow, so i would waive on a try-catch-finally, because its not easy to spawn over a lot of classes and methods are involved here.","body":"@Savior, i mean a var <code>notStartedCompletableFuture= new CompletableFuture&lt;Object&gt;();</code> instead of a CompletableFuture.supplyAsync(....); i can start the <code>notStartedCompletableFuture</code> in that way: <code>notStartedCompletableFuture.complete(new Object);</code>, which is done later in my code and if in the meantime no exception is thrown^^. Also in the meantime i append a lot of more stages to that notStartedCompletableFuture and AnyOf&#39;s. It&#39;s a really complicated programm-flow, so i would waive on a try-catch-finally, because its not easy to spawn over a lot of classes and methods are involved here."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1637401141,"post_id":70041204,"comment_id":123820255,"body_markdown":"It&#39;s not clear what you are asking. Is there a code example demonstrating your problem?","body":"It&#39;s not clear what you are asking. Is there a code example demonstrating your problem?"},{"owner":{"account_id":2509467,"reputation":172,"user_id":2182302,"display_name":"Robin Kreuzer"},"score":0,"creation_date":1637539517,"post_id":70041204,"comment_id":123846365,"body_markdown":"@DuncG so now i added a more detailed example, i hope now you can better understand what i mean?","body":"@DuncG so now i added a more detailed example, i hope now you can better understand what i mean?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1637569211,"post_id":70041204,"comment_id":123851644,"body_markdown":"Your thread is started and JVM has reference to it even if you don&#39;t - otherwise calls like `Thread.getAllStackTraces()` or `activeCount` wouldn&#39;t work. Therefore your thread `run` lambda will also be called at some point.","body":"Your thread is started and JVM has reference to it even if you don&#39;t - otherwise calls like <code>Thread.getAllStackTraces()</code> or <code>activeCount</code> wouldn&#39;t work. Therefore your thread <code>run</code> lambda will also be called at some point."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1637579139,"post_id":70041204,"comment_id":123855256,"body_markdown":"See [here](https://stackoverflow.com/q/44530286/2711488) and [there](https://stackoverflow.com/q/61834137/2711488)","body":"See <a href=\"https://stackoverflow.com/q/44530286/2711488\">here</a> and <a href=\"https://stackoverflow.com/q/61834137/2711488\">there</a>"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637452084,"creation_date":1637452084,"answer_id":70050788,"question_id":70041204,"body_markdown":"If a thread calls `join()` or `get()` on a `CompletableFuture` that will never be completed, it will remain blocked forever (except if it gets interrupted), holding a reference to that future.\r\n\r\nIf that future is the root of a chain of descendant futures (+ tasks and executors), it will also keep a reference to those, which will also remain in memory (as well as all transitively referenced objects).\r\n\r\nA future does not normally hold references to its _parent(s)_ when created through the `then*()` methods, so they should normally be garbage collected if there are no other references  but pay attention to those, e.g. local variables in the calling thread, reference to a `List&lt;CompletableFuture&lt;?&gt;&gt;` used in a lambda after `allOf()` etc.","title":"CompletableFuture Chain uncompleted -&gt; Garbage Collector?","body":"<p>If a thread calls <code>join()</code> or <code>get()</code> on a <code>CompletableFuture</code> that will never be completed, it will remain blocked forever (except if it gets interrupted), holding a reference to that future.</p>\n<p>If that future is the root of a chain of descendant futures (+ tasks and executors), it will also keep a reference to those, which will also remain in memory (as well as all transitively referenced objects).</p>\n<p>A future does not normally hold references to its <em>parent(s)</em> when created through the <code>then*()</code> methods, so they should normally be garbage collected if there are no other references  but pay attention to those, e.g. local variables in the calling thread, reference to a <code>List&lt;CompletableFuture&lt;?&gt;&gt;</code> used in a lambda after <code>allOf()</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637538085,"creation_date":1637460239,"answer_id":70051271,"question_id":70041204,"body_markdown":"You seem to be struggling with different ways that `CompletableFuture` might leak, depending on how you created it.  But it doesn&#39;t matter how, where, when or why it was **created**.  The only thing that matters is *whether or not it is still reachable*.\r\n\r\n&gt; Will the Garbage Collector remove all of that?\r\n\r\nThere are two places where we would expect there to be references to a `CompletableFuture`:\r\n\r\n  - In the `Runnable` (or whatever) that would complete the future.\r\n  - In any other code that would (at some point) attempt to get the eventual value from the future.\r\n\r\nIf you have a call `thenApplyAsync()` or `anyOf()` then the reference  `Runnable` is in the arguments to that call.  If the call *can still happen*, then the reference to the `Runnable` must still be reachable.\r\n\r\nIn your example:\r\n\r\n    var notStartedCompletableFuture = new CompletableFuture&lt;Object&gt;();\r\n\r\nif the variable `notStartedCompletableFuture` is still accessible by some code that is still executing, then that `CompletableFuture` is reachable and won&#39;t be garbage collected.\r\n\r\nOn the other hand, if `notStartedCompletableFuture` is no longer accessible, and if the future is no longer reachable by some other path, then it won&#39;t be reachable at all ... and will be a candidate for garbage collection.\r\n\r\n-------------------\r\n\r\n&gt; If there is a `join()` / `get()` at the end of that chain -&gt; same question: Will the Garbage Collector remove all of that?\r\n\r\nThat makes no difference.  It is all based on reachability.  (The only wrinkle is that a thread that is currently alive&lt;sup&gt;1&lt;/sup&gt; is always reachable, irrespective of any other references to its `Thread` object.  The same applies to its `Runnable`, and other objects reachable from the `Runnable`.)\r\n\r\nBut it is worth noting that if you call `join()` or ` get()` on a thread / future that never terminates / completes, you will block the current thread, potentially for ever.  And *that* is as bad as a thread leak.\r\n\r\n&lt;sup&gt;1 - A thread is &quot;alive&quot; from when it is started to when it terminates.&lt;/sup&gt;\r\n\r\n-------------------\r\n\r\n&gt; When is the Thread-Executor signaled to schedule a new task? \r\n\r\nIt depends what you mean by &quot;schedule&quot;.  If you mean, when is the task submitted, the answer is when `submit` is called.  If you mean, when is it actually run ... well it goes into the queue, and it runs when it gets to the head of the queue and a worker thread is free to execute it.\r\n\r\nIn the case of `thenApplyAsync()` and `all_of()`, the tasks are submitted (i.e. the `submit(...)` call occurs) when the respective method call occurs.  So for example if `thenApplyAsync` is being called on the result of a previous call, then that call must return first.\r\n\r\nThis is all a consequence of the basic properties of Java expression evaluation ... applied to the expression that you are using to construct the chain of stages.\r\n\r\n---------------------\r\n\r\nIn general you don&#39;t need *try / finally* or *try with resources* to clean up potential memory leaks.\r\n\r\nAll you need to do is to make sure that you don&#39;t keep references to the various futures, stages, etc in variables, data structures, etc that will remain accessible / reachable beyond the lifetime of your computation.  If you do that ... *those references* are liable to be the source of the leaks.\r\n\r\nThread leaks should not be your concern.  If your code is not creating threads explicitly, they are being managed by the executor service / pool.\r\n","title":"CompletableFuture Chain uncompleted -&gt; Garbage Collector?","body":"<p>You seem to be struggling with different ways that <code>CompletableFuture</code> might leak, depending on how you created it.  But it doesn't matter how, where, when or why it was <strong>created</strong>.  The only thing that matters is <em>whether or not it is still reachable</em>.</p>\n<blockquote>\n<p>Will the Garbage Collector remove all of that?</p>\n</blockquote>\n<p>There are two places where we would expect there to be references to a <code>CompletableFuture</code>:</p>\n<ul>\n<li>In the <code>Runnable</code> (or whatever) that would complete the future.</li>\n<li>In any other code that would (at some point) attempt to get the eventual value from the future.</li>\n</ul>\n<p>If you have a call <code>thenApplyAsync()</code> or <code>anyOf()</code> then the reference  <code>Runnable</code> is in the arguments to that call.  If the call <em>can still happen</em>, then the reference to the <code>Runnable</code> must still be reachable.</p>\n<p>In your example:</p>\n<pre><code>var notStartedCompletableFuture = new CompletableFuture&lt;Object&gt;();\n</code></pre>\n<p>if the variable <code>notStartedCompletableFuture</code> is still accessible by some code that is still executing, then that <code>CompletableFuture</code> is reachable and won't be garbage collected.</p>\n<p>On the other hand, if <code>notStartedCompletableFuture</code> is no longer accessible, and if the future is no longer reachable by some other path, then it won't be reachable at all ... and will be a candidate for garbage collection.</p>\n<hr />\n<blockquote>\n<p>If there is a <code>join()</code> / <code>get()</code> at the end of that chain -&gt; same question: Will the Garbage Collector remove all of that?</p>\n</blockquote>\n<p>That makes no difference.  It is all based on reachability.  (The only wrinkle is that a thread that is currently alive<sup>1</sup> is always reachable, irrespective of any other references to its <code>Thread</code> object.  The same applies to its <code>Runnable</code>, and other objects reachable from the <code>Runnable</code>.)</p>\n<p>But it is worth noting that if you call <code>join()</code> or <code> get()</code> on a thread / future that never terminates / completes, you will block the current thread, potentially for ever.  And <em>that</em> is as bad as a thread leak.</p>\n<p><sup>1 - A thread is &quot;alive&quot; from when it is started to when it terminates.</sup></p>\n<hr />\n<blockquote>\n<p>When is the Thread-Executor signaled to schedule a new task?</p>\n</blockquote>\n<p>It depends what you mean by &quot;schedule&quot;.  If you mean, when is the task submitted, the answer is when <code>submit</code> is called.  If you mean, when is it actually run ... well it goes into the queue, and it runs when it gets to the head of the queue and a worker thread is free to execute it.</p>\n<p>In the case of <code>thenApplyAsync()</code> and <code>all_of()</code>, the tasks are submitted (i.e. the <code>submit(...)</code> call occurs) when the respective method call occurs.  So for example if <code>thenApplyAsync</code> is being called on the result of a previous call, then that call must return first.</p>\n<p>This is all a consequence of the basic properties of Java expression evaluation ... applied to the expression that you are using to construct the chain of stages.</p>\n<hr />\n<p>In general you don't need <em>try / finally</em> or <em>try with resources</em> to clean up potential memory leaks.</p>\n<p>All you need to do is to make sure that you don't keep references to the various futures, stages, etc in variables, data structures, etc that will remain accessible / reachable beyond the lifetime of your computation.  If you do that ... <em>those references</em> are liable to be the source of the leaks.</p>\n<p>Thread leaks should not be your concern.  If your code is not creating threads explicitly, they are being managed by the executor service / pool.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637766766,"creation_date":1637766766,"answer_id":70098531,"question_id":70041204,"body_markdown":"This Answer **only** addresses with the 3 followup questions in your &quot;Edit 2&quot;.\r\n\r\n&gt; 1. So in the normal case here in my example i don&#39;t have a outside\r\nreference. \r\n\r\nI assume that you are referring to the version with the commented out statements.\r\n\r\n&gt; The `CompletableFutures` in the thread have never a chance getting completed.\r\n\r\nIncorrect.  First, `A` is completed here:\r\n\r\n    A.complete(new Object());\r\n        \r\nNext `B` is completed here:\r\n\r\n    B.complete(new Object());\r\n\r\nThen you call `D.join()`.  Since `D` is an `anyOf` stage, this completes when either of `A` and `C` completes.  `A` has already completed, so `D.join()` may not need to wait for `C` to complete.  But since `C` applies the function asynchronously, it could complete immediately too.\r\n\r\n&gt; Normally the GC can safely erase both the thread and and the content in there, the `CompletableFutures`. But I don&#39;t think so, that this would happen?\r\n\r\nWhen `D.join()` returns, the thread terminates.  At that point, its local local variables (`A`, `B`, `C`, and `D`) will be unreachable.\r\n\r\n\r\n--------------------------\r\n\r\n&gt; 2. If I abort this by throwing an exception -&gt; the `join()` is never reached, then i think all would be erased by the GC?\r\n\r\n`A` completes as before, but `B`, `C` and `D` don&#39;t.\r\n\r\nHowever, the exception terminates the thread, so the local variables `A`, `B`, `C`, and `D` then become unreachable.\r\n\r\n-------------------------\r\n\r\n&gt; 3.  If I give one of the `CompletableFuture`s to the outside by that `AtomicReference`, there then could be an chance to unblock the `join()`.\r\n\r\nThree points:\r\n\r\n  - The `AtomicReference` is assigned `B` so the `join()` on `D` is not affected.\r\n\r\n  - As we saw above, it doesn&#39;t matter if that a hypothetical `join()` on `outsideReference.value()` happens or not for the variables `A`, `B`, `C`, and `D`.  Those variables become unreachable, whichever way the thread terminates. \r\n\r\n  - However, you have now assigned a reference to one of the `CompletableFuture` objects to a variable which has a different lifetime to the thread.  That *may* mean that that `CompletableFuture` object stays reachable after the thread has terminated.\r\n\r\n","title":"CompletableFuture Chain uncompleted -&gt; Garbage Collector?","body":"<p>This Answer <strong>only</strong> addresses with the 3 followup questions in your &quot;Edit 2&quot;.</p>\n<blockquote>\n<ol>\n<li>So in the normal case here in my example i don't have a outside\nreference.</li>\n</ol>\n</blockquote>\n<p>I assume that you are referring to the version with the commented out statements.</p>\n<blockquote>\n<p>The <code>CompletableFutures</code> in the thread have never a chance getting completed.</p>\n</blockquote>\n<p>Incorrect.  First, <code>A</code> is completed here:</p>\n<pre><code>A.complete(new Object());\n    \n</code></pre>\n<p>Next <code>B</code> is completed here:</p>\n<pre><code>B.complete(new Object());\n</code></pre>\n<p>Then you call <code>D.join()</code>.  Since <code>D</code> is an <code>anyOf</code> stage, this completes when either of <code>A</code> and <code>C</code> completes.  <code>A</code> has already completed, so <code>D.join()</code> may not need to wait for <code>C</code> to complete.  But since <code>C</code> applies the function asynchronously, it could complete immediately too.</p>\n<blockquote>\n<p>Normally the GC can safely erase both the thread and and the content in there, the <code>CompletableFutures</code>. But I don't think so, that this would happen?</p>\n</blockquote>\n<p>When <code>D.join()</code> returns, the thread terminates.  At that point, its local local variables (<code>A</code>, <code>B</code>, <code>C</code>, and <code>D</code>) will be unreachable.</p>\n<hr />\n<blockquote>\n<ol start=\"2\">\n<li>If I abort this by throwing an exception -&gt; the <code>join()</code> is never reached, then i think all would be erased by the GC?</li>\n</ol>\n</blockquote>\n<p><code>A</code> completes as before, but <code>B</code>, <code>C</code> and <code>D</code> don't.</p>\n<p>However, the exception terminates the thread, so the local variables <code>A</code>, <code>B</code>, <code>C</code>, and <code>D</code> then become unreachable.</p>\n<hr />\n<blockquote>\n<ol start=\"3\">\n<li>If I give one of the <code>CompletableFuture</code>s to the outside by that <code>AtomicReference</code>, there then could be an chance to unblock the <code>join()</code>.</li>\n</ol>\n</blockquote>\n<p>Three points:</p>\n<ul>\n<li><p>The <code>AtomicReference</code> is assigned <code>B</code> so the <code>join()</code> on <code>D</code> is not affected.</p>\n</li>\n<li><p>As we saw above, it doesn't matter if that a hypothetical <code>join()</code> on <code>outsideReference.value()</code> happens or not for the variables <code>A</code>, <code>B</code>, <code>C</code>, and <code>D</code>.  Those variables become unreachable, whichever way the thread terminates.</p>\n</li>\n<li><p>However, you have now assigned a reference to one of the <code>CompletableFuture</code> objects to a variable which has a different lifetime to the thread.  That <em>may</em> mean that that <code>CompletableFuture</code> object stays reachable after the thread has terminated.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":2509467,"reputation":172,"user_id":2182302,"display_name":"Robin Kreuzer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70051271,"answer_count":3,"score":0,"last_activity_date":1637792543,"creation_date":1637358111,"question_id":70041204,"body_markdown":"if i have one (or more) `CompletableFuture` not started yet, and on that method(s) a few `thenApplyAsync()`, `anyOf()`-methods.\r\n\r\nWill the Garbage Collector remove all of that?\r\n\r\nIf there is a `join()`/`get()` at the end of that chain -&gt; same question: Will the Garbage Collector remove all of that?\r\n\r\nMaybe we need more information about that context of the join().\r\n\r\n\r\nThat join is in a Thread the last command, and there are no side-effects.\r\nSo is in that case the Thread still active? - https://stackoverflow.com/questions/2423284/java-thread-garbage-collected-or-not/2423293#comment123811333_2423293\r\n\r\n\r\n\r\nAnyway is that a good idea, to push a poisen-pill down the chain, if im sure (maybe in a try-catch-finally), that i will not start that Completable-chain, or is that not necessary? \r\n\r\nThe question is because of something like that? (https://bugs.openjdk.java.net/browse/JDK-8160402)\r\n\r\nSome related question to it: When is the Thread-Executor signaled to shedule a new task? I think, when the `CompletableFuture` goes to the next chained `CompletableFuture`?. So i must only carry on memory-leaks and not thread-leaks?\r\n\r\n**Edit: What i mean with a not started CompletableFuture?**\r\n\r\n i mean a var `notStartedCompletableFuture = new CompletableFuture&lt;Object&gt;();` instead of a `CompletableFuture.supplyAsync(....);`\r\n\r\n I can start the notStartedCompletableFuture in that way: \r\n `notStartedCompletableFuture.complete(new Object);` later in the program-flow or from another thread.\r\n\r\n\r\n**Edit 2: A more detailed Example:**\r\n\r\n```java\r\nAtomicReference&lt;CompletableFuture&lt;Object&gt;&gt; outsideReference=new AtomicReference&lt;&gt;();\r\n\r\nfinal var myOuterThread = new Thread(() -&gt;\r\n{\r\n    final var A = new CompletableFuture&lt;Object&gt;();\r\n    final var B = new CompletableFuture&lt;Object&gt;();\r\n\r\n    final var C = A.thenApplyAsync((element) -&gt; new Object());\r\n    final var D = CompletableFuture.anyOf(A, C);\r\n\r\n    A.complete(new Object());\r\n\r\n    // throw new RuntimeException();\r\n\r\n    //outsideReference.set(B);\r\n\r\n    -----&gt;B.complete(new Object());&lt;------ Edit: this shouldn&#39;t be here, i remove it in my next iteration\r\n\r\n    D.join();\r\n\r\n});\r\n\r\nmyOuterThread.start();\r\n\r\n//myOutherThread variable is nowhere else referenced, it&#39;s sayed so a local variable, to point on my text on it^^\r\n\r\n```\r\n\r\n 1. So in the normal case here in my example i don&#39;t have a outside   \r\n    reference. The `CompletableFutures` in the thread have never a chance \r\n    getting completed. Normally the GC can safely erase both the thread \r\n    and and the content in there, the `CompetableFutures`. But i don&#39;t\r\n    think so, that this would happen?\r\n 2. If I abbord this by throwing an exception -&gt; the `join()` is never\r\n    reached, then i think all would be erased by the GC?\r\n 3. If I give one of the `CompletableFutures` to the outside by that `AtomicReference`, there then could be an chance to unblock the `join()`, There should be no GC here, until the unblock happens. BUT! the waiting `myOuterThread` on that `join()` doesen&#39;t have to to there anything more after the `join()`. So it could be an optimization erasing that Thread, before someone from outside `completes` `B`. But I think this would be also not happen?!\r\n\r\n\r\nOne more question here, how I can proof that behavior, if threads are blocked by waiting on a `join()` or are returned to a Thread-Pool?, where the Thread also &quot;blocks&quot;?\r\n\r\n","title":"CompletableFuture Chain uncompleted -&gt; Garbage Collector?","body":"<p>if i have one (or more) <code>CompletableFuture</code> not started yet, and on that method(s) a few <code>thenApplyAsync()</code>, <code>anyOf()</code>-methods.</p>\n<p>Will the Garbage Collector remove all of that?</p>\n<p>If there is a <code>join()</code>/<code>get()</code> at the end of that chain -&gt; same question: Will the Garbage Collector remove all of that?</p>\n<p>Maybe we need more information about that context of the join().</p>\n<p>That join is in a Thread the last command, and there are no side-effects.\nSo is in that case the Thread still active? - <a href=\"https://stackoverflow.com/questions/2423284/java-thread-garbage-collected-or-not/2423293#comment123811333_2423293\">Java Thread Garbage collected or not</a></p>\n<p>Anyway is that a good idea, to push a poisen-pill down the chain, if im sure (maybe in a try-catch-finally), that i will not start that Completable-chain, or is that not necessary?</p>\n<p>The question is because of something like that? (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8160402\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8160402</a>)</p>\n<p>Some related question to it: When is the Thread-Executor signaled to shedule a new task? I think, when the <code>CompletableFuture</code> goes to the next chained <code>CompletableFuture</code>?. So i must only carry on memory-leaks and not thread-leaks?</p>\n<p><strong>Edit: What i mean with a not started CompletableFuture?</strong></p>\n<p>i mean a var <code>notStartedCompletableFuture = new CompletableFuture&lt;Object&gt;();</code> instead of a <code>CompletableFuture.supplyAsync(....);</code></p>\n<p>I can start the notStartedCompletableFuture in that way:\n<code>notStartedCompletableFuture.complete(new Object);</code> later in the program-flow or from another thread.</p>\n<p><strong>Edit 2: A more detailed Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicReference&lt;CompletableFuture&lt;Object&gt;&gt; outsideReference=new AtomicReference&lt;&gt;();\n\nfinal var myOuterThread = new Thread(() -&gt;\n{\n    final var A = new CompletableFuture&lt;Object&gt;();\n    final var B = new CompletableFuture&lt;Object&gt;();\n\n    final var C = A.thenApplyAsync((element) -&gt; new Object());\n    final var D = CompletableFuture.anyOf(A, C);\n\n    A.complete(new Object());\n\n    // throw new RuntimeException();\n\n    //outsideReference.set(B);\n\n    -----&gt;B.complete(new Object());&lt;------ Edit: this shouldn't be here, i remove it in my next iteration\n\n    D.join();\n\n});\n\nmyOuterThread.start();\n\n//myOutherThread variable is nowhere else referenced, it's sayed so a local variable, to point on my text on it^^\n\n</code></pre>\n<ol>\n<li>So in the normal case here in my example i don't have a outside<br />\nreference. The <code>CompletableFutures</code> in the thread have never a chance\ngetting completed. Normally the GC can safely erase both the thread\nand and the content in there, the <code>CompetableFutures</code>. But i don't\nthink so, that this would happen?</li>\n<li>If I abbord this by throwing an exception -&gt; the <code>join()</code> is never\nreached, then i think all would be erased by the GC?</li>\n<li>If I give one of the <code>CompletableFutures</code> to the outside by that <code>AtomicReference</code>, there then could be an chance to unblock the <code>join()</code>, There should be no GC here, until the unblock happens. BUT! the waiting <code>myOuterThread</code> on that <code>join()</code> doesen't have to to there anything more after the <code>join()</code>. So it could be an optimization erasing that Thread, before someone from outside <code>completes</code> <code>B</code>. But I think this would be also not happen?!</li>\n</ol>\n<p>One more question here, how I can proof that behavior, if threads are blocked by waiting on a <code>join()</code> or are returned to a Thread-Pool?, where the Thread also &quot;blocks&quot;?</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1637780967,"post_id":70101187,"comment_id":123920304,"body_markdown":"I not super familiar with Mac but can you run &quot;whereis java&quot; from your shell and give me the output?","body":"I not super familiar with Mac but can you run &quot;whereis java&quot; from your shell and give me the output?"}],"answers":[{"tags":[],"owner":{"account_id":22350763,"reputation":1422,"user_id":16568960,"display_name":"muhammetkiran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637783458,"creation_date":1637783458,"answer_id":70102154,"question_id":70101187,"body_markdown":"For the currently used jdk version;\r\n\r\n**/usr/libexec/java_home -V**\r\n\r\nYou can use this command.","title":"Appium Setup - Determining what jdk version I am using on mac","body":"<p>For the currently used jdk version;</p>\n<p><strong>/usr/libexec/java_home -V</strong></p>\n<p>You can use this command.</p>\n"},{"tags":[],"owner":{"account_id":3541196,"reputation":67,"user_id":2958268,"display_name":"user2958268"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637792432,"creation_date":1637792432,"answer_id":70103633,"question_id":70101187,"body_markdown":"I was able to find the jdk version using the below command:\r\nls  /Library/Java/JavaVirtualMachines","title":"Appium Setup - Determining what jdk version I am using on mac","body":"<p>I was able to find the jdk version using the below command:\nls  /Library/Java/JavaVirtualMachines</p>\n"}],"owner":{"account_id":3541196,"reputation":67,"user_id":2958268,"display_name":"user2958268"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1637792432,"creation_date":1637778294,"question_id":70101187,"body_markdown":"I am following a guide to set up Appium on my mac. It is asking me to set my JAVA_Home variables. They are using: export JAVA_HOME=/Library/Java/JavaVirtualMachines/**jdk1.8.0_192.jdk**/Contents/Home\r\n\r\nThey have instructed me to replace **jdk1.8.0_192.jdk** with my own version of JDK.\r\n How would I find out what my JDK is?\r\nI have tried using: java -version\r\njava version &quot;11.0.11&quot; 2021-04-20 LTS\r\n\r\nI am unsure how to translate that into the correct JDK.\r\n\r\nThanks in advance for any help","title":"Appium Setup - Determining what jdk version I am using on mac","body":"<p>I am following a guide to set up Appium on my mac. It is asking me to set my JAVA_Home variables. They are using: export JAVA_HOME=/Library/Java/JavaVirtualMachines/<strong>jdk1.8.0_192.jdk</strong>/Contents/Home</p>\n<p>They have instructed me to replace <strong>jdk1.8.0_192.jdk</strong> with my own version of JDK.\nHow would I find out what my JDK is?\nI have tried using: java -version\njava version &quot;11.0.11&quot; 2021-04-20 LTS</p>\n<p>I am unsure how to translate that into the correct JDK.</p>\n<p>Thanks in advance for any help</p>\n"},{"tags":["java","netbeans","keyboard-events","backspace"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1433573800,"post_id":30679878,"comment_id":49420704,"body_markdown":"You need to use *keyDown* or *keyUp* to determine if backspace has been pressed rather than a *keyPressed* event. `public void keyReleased(KeyEvent evt) { if (evt.getKeyCode() == KeyEvent.VK_BACK_SPACE) { // Do stuff... } }`","body":"You need to use <i>keyDown</i> or <i>keyUp</i> to determine if backspace has been pressed rather than a <i>keyPressed</i> event. <code>public void keyReleased(KeyEvent evt) { if (evt.getKeyCode() == KeyEvent.VK_BACK_SPACE) { &#47;&#47; Do stuff... } }</code>"},{"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"score":0,"creation_date":1433573876,"post_id":30679878,"comment_id":49420721,"body_markdown":"@Mr.Polywhirl I&#39;m not using keyPressed. I&#39;m using keyTyped. I need it to fire whenever a key is typed instead of pressed.","body":"@Mr.Polywhirl I&#39;m not using keyPressed. I&#39;m using keyTyped. I need it to fire whenever a key is typed instead of pressed."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1433574076,"post_id":30679878,"comment_id":49420779,"body_markdown":"`keyTyped` will not work, see this question: http://stackoverflow.com/a/14714992/1762224","body":"<code>keyTyped</code> will not work, see this question: <a href=\"http://stackoverflow.com/a/14714992/1762224\">stackoverflow.com/a/14714992/1762224</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1433575691,"post_id":30679878,"comment_id":49421163,"body_markdown":"Use key bindings instead of key listener. The real question is, what are you trying to achieve?","body":"Use key bindings instead of key listener. The real question is, what are you trying to achieve?"},{"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"score":0,"creation_date":1433576493,"post_id":30679878,"comment_id":49421309,"body_markdown":"@MadProgrammer I&#39;m always being told to use key bindings but I don&#39;t like them. Besides, keyTypedEvent is a feature of NetBeans. I can generate the code with a single click.","body":"@MadProgrammer I&#39;m always being told to use key bindings but I don&#39;t like them. Besides, keyTypedEvent is a feature of NetBeans. I can generate the code with a single click."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1433582089,"post_id":30679878,"comment_id":49422629,"body_markdown":"KeyListener can be overridden by Key Bindings, they also represent the ability to generate self contained, reusable units of work which can be used in many other parts of the Swing API, but of course, if the only tool you have is a hammer, then all your problems are nails. If you limit yourself to only working with Netbeans form editor (don&#39;t get me started on that), then you&#39;ll limit yourself to only what it&#39;s capable of doing.","body":"KeyListener can be overridden by Key Bindings, they also represent the ability to generate self contained, reusable units of work which can be used in many other parts of the Swing API, but of course, if the only tool you have is a hammer, then all your problems are nails. If you limit yourself to only working with Netbeans form editor (don&#39;t get me started on that), then you&#39;ll limit yourself to only what it&#39;s capable of doing."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1433582156,"post_id":30679878,"comment_id":49422651,"body_markdown":"*&quot;I&#39;m always begin told to use key bindings&quot;* - There&#39;s probably a very (and even a number of) good reasons for that, given that the top posters here have upwards of 100s of person years of experience with the api, but what do we know","body":"<i>&quot;I&#39;m always begin told to use key bindings&quot;</i> - There&#39;s probably a very (and even a number of) good reasons for that, given that the top posters here have upwards of 100s of person years of experience with the api, but what do we know"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1433582207,"post_id":30679878,"comment_id":49422670,"body_markdown":"Mind you, anytime someone wants to use a key listener with any text component, warning bells go off","body":"Mind you, anytime someone wants to use a key listener with any text component, warning bells go off"},{"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"score":0,"creation_date":1433582430,"post_id":30679878,"comment_id":49422730,"body_markdown":"@MadProgrammer well, you don&#39;t need a bullet train to travel from living room to kitchen. If it works why should I bother to change it? I&#39;ve learned using swing without NetBeans but it was taking 10 times more to do the same thing. If I ever try to do something that keyListeners can&#39;t and keyBindings can, I will learn it.","body":"@MadProgrammer well, you don&#39;t need a bullet train to travel from living room to kitchen. If it works why should I bother to change it? I&#39;ve learned using swing without NetBeans but it was taking 10 times more to do the same thing. If I ever try to do something that keyListeners can&#39;t and keyBindings can, I will learn it."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1433586590,"post_id":30679878,"comment_id":49423983,"body_markdown":"@wvrock &quot;If I ever try to dos emoting that KeyListener can&#39;t&quot; - setText, appendText, paste text or any modification made directly to the underlying Document which didn&#39;t come from the keyboard will not notify either the key listener or key binding, which is why I was curious as to &quot;why&quot; you&#39;re trying to monitor the delete key. But since you&#39;re of interested in learning how the problem might be solved better, you&#39;re left with what you have, which is entirely your choice of course. I&#39;m just trying to see if there is a better solution to your problem, but if you&#39;re not interesred","body":"@wvrock &quot;If I ever try to dos emoting that KeyListener can&#39;t&quot; - setText, appendText, paste text or any modification made directly to the underlying Document which didn&#39;t come from the keyboard will not notify either the key listener or key binding, which is why I was curious as to &quot;why&quot; you&#39;re trying to monitor the delete key. But since you&#39;re of interested in learning how the problem might be solved better, you&#39;re left with what you have, which is entirely your choice of course. I&#39;m just trying to see if there is a better solution to your problem, but if you&#39;re not interesred"},{"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"score":0,"creation_date":1433587645,"post_id":30679878,"comment_id":49424261,"body_markdown":"@MadProgrammer if these will also not notify the keyBindings then there is no point in using it. What is the mainstream solution to this if it is neither keyListener nor keyBindings? I&#39;m trying to make a dictionary that reads the written word and instantly searches it. Currently I have a recently introduced bug so I can&#39;t test what you are saying.","body":"@MadProgrammer if these will also not notify the keyBindings then there is no point in using it. What is the mainstream solution to this if it is neither keyListener nor keyBindings? I&#39;m trying to make a dictionary that reads the written word and instantly searches it. Currently I have a recently introduced bug so I can&#39;t test what you are saying."},{"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"score":0,"creation_date":1433587704,"post_id":30679878,"comment_id":49424275,"body_markdown":"@MadProgrammer I&#39;m always open to more info. Just not when it would take me hours to learn something that I may or may not need","body":"@MadProgrammer I&#39;m always open to more info. Just not when it would take me hours to learn something that I may or may not need"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1433588068,"post_id":30679878,"comment_id":49424361,"body_markdown":"@WVrock *&quot;I&#39;m trying to make a dictionary that reads the written word and instantly searches it&quot;* A `DocumentListener` would be a better choice (IMHO).  This notifies you when the document is changed in some way, which would allow you to make decisions about what to do based on the type of change. [How to write a document listener](https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html). *&quot;if these will also not notify the keyBindings then there is no point in using it&quot;* - Which is the point to my question ;)","body":"@WVrock <i>&quot;I&#39;m trying to make a dictionary that reads the written word and instantly searches it&quot;</i> A <code>DocumentListener</code> would be a better choice (IMHO).  This notifies you when the document is changed in some way, which would allow you to make decisions about what to do based on the type of change. <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html\" rel=\"nofollow noreferrer\">How to write a document listener</a>. <i>&quot;if these will also not notify the keyBindings then there is no point in using it&quot;</i> - Which is the point to my question ;)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1433588241,"post_id":30679878,"comment_id":49424403,"body_markdown":"@WVrock [For example](http://stackoverflow.com/questions/29644309/how-to-fixed-keylistener-on-jtextfield/29644408#29644408)","body":"@WVrock <a href=\"http://stackoverflow.com/questions/29644309/how-to-fixed-keylistener-on-jtextfield/29644408#29644408\">For example</a>"},{"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"score":0,"creation_date":1433602800,"post_id":30679878,"comment_id":49428387,"body_markdown":"I want to confirm that this worked. documentListener did the trick even though I should have probably used documentFilter","body":"I want to confirm that this worked. documentListener did the trick even though I should have probably used documentFilter"}],"answers":[{"tags":[],"owner":{"account_id":6300124,"reputation":828,"user_id":4895040,"display_name":"raymelfrancisco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1433576172,"creation_date":1433574134,"answer_id":30679971,"question_id":30679878,"body_markdown":"`backspace` and `delete` have the following constants:\n\n`VK_BACK_SPACE`\n\n`VK_DELETE` \n\n**Constants are listed here:\n[Class KeyEvent](http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html)**\n\n**From [docs.oracle.com](http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html)**\n&gt; WARNING: Aside from those keys that are defined by the Java language (`VK_ENTER`, `VK_BACK_SPACE`, and `VK_TAB`), do not rely on the values of the `VK_` constants. Sun reserves the right to change these values as needed to accomodate a wider range of keyboards in the future.\n\nAside from that, I suggest you use `keyPressed()` or `keyReleased()` since `keyTyped()` is only used for keys that produce characters. Keys `backspace` and `delete` do not produce characters.\n\n**Additional:**\n\n`getKeyChar()` works well with `KEY_TYPED`, as mentioned [here:](http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html)\n\n&gt; The `getKeyChar` method always returns a valid Unicode character or `CHAR_UNDEFINED`. Character input is reported by `KEY_TYPED` events: `KEY_PRESSED` and `KEY_RELEASED` events are not necessarily associated with character input. \n&gt;\n&gt;**Therefore, the result of the `getKeyChar` method is guaranteed to be meaningful only for `KEY_TYPED` events.**\n\n**You can take a look at these links:**\n\n[The keyTyped() event is only used for keys that produce character input.](https://stackoverflow.com/a/14714992/4895040)\n\n[&quot;Key typed&quot; events are higher-level and generally do not depend on the platform or keyboard layout.](http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html)","title":"How to detect backspace in a keyTypedEvent","body":"<p><code>backspace</code> and <code>delete</code> have the following constants:</p>\n<p><code>VK_BACK_SPACE</code></p>\n<p><code>VK_DELETE</code></p>\n<p><strong>Constants are listed here:\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">Class KeyEvent</a></strong></p>\n<p><strong>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">docs.oracle.com</a></strong></p>\n<blockquote>\n<p>WARNING: Aside from those keys that are defined by the Java language (<code>VK_ENTER</code>, <code>VK_BACK_SPACE</code>, and <code>VK_TAB</code>), do not rely on the values of the <code>VK_</code> constants. Sun reserves the right to change these values as needed to accomodate a wider range of keyboards in the future.</p>\n</blockquote>\n<p>Aside from that, I suggest you use <code>keyPressed()</code> or <code>keyReleased()</code> since <code>keyTyped()</code> is only used for keys that produce characters. Keys <code>backspace</code> and <code>delete</code> do not produce characters.</p>\n<p><strong>Additional:</strong></p>\n<p><code>getKeyChar()</code> works well with <code>KEY_TYPED</code>, as mentioned <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">here:</a></p>\n<blockquote>\n<p>The <code>getKeyChar</code> method always returns a valid Unicode character or <code>CHAR_UNDEFINED</code>. Character input is reported by <code>KEY_TYPED</code> events: <code>KEY_PRESSED</code> and <code>KEY_RELEASED</code> events are not necessarily associated with character input.</p>\n<p><strong>Therefore, the result of the <code>getKeyChar</code> method is guaranteed to be meaningful only for <code>KEY_TYPED</code> events.</strong></p>\n</blockquote>\n<p><strong>You can take a look at these links:</strong></p>\n<p><a href=\"https://stackoverflow.com/a/14714992/4895040\">The keyTyped() event is only used for keys that produce character input.</a></p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">&quot;Key typed&quot; events are higher-level and generally do not depend on the platform or keyboard layout.</a></p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433574308,"creation_date":1433574308,"answer_id":30679994,"question_id":30679878,"body_markdown":"You cannot use `keyTyped`, you need to use either `keyPressed` or `keyReleased` to determine if backspace character has been typed. The `keyTyped` event only picks up non-escape characters (only characters that can be displayed).\r\n\r\nThe backspace character can be checked with `KeyEvent.VK_BACK_SPACE`.\r\n\r\nTry adding this listener to the `keyPressed` event:\r\n\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    private void langArea1KeyPressed(KeyEvent evt) {   \r\n        if (evt.getKeyCode() == KeyEvent.VK_BACK_SPACE) {\r\n            // Do something...\r\n        }\r\n    }\r\n\r\n## Additional Reading\r\n\r\nYou can check out the official Java tutorial on [*How to Write a Key Listener*][1].\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html","title":"How to detect backspace in a keyTypedEvent","body":"<p>You cannot use <code>keyTyped</code>, you need to use either <code>keyPressed</code> or <code>keyReleased</code> to determine if backspace character has been typed. The <code>keyTyped</code> event only picks up non-escape characters (only characters that can be displayed).</p>\n\n<p>The backspace character can be checked with <code>KeyEvent.VK_BACK_SPACE</code>.</p>\n\n<p>Try adding this listener to the <code>keyPressed</code> event:</p>\n\n<pre><code>import java.awt.event.KeyEvent;\n\nprivate void langArea1KeyPressed(KeyEvent evt) {   \n    if (evt.getKeyCode() == KeyEvent.VK_BACK_SPACE) {\n        // Do something...\n    }\n}\n</code></pre>\n\n<h2>Additional Reading</h2>\n\n<p>You can check out the official Java tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\" rel=\"nofollow\"><em>How to Write a Key Listener</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":23445555,"reputation":1,"user_id":17502414,"display_name":"Francisco P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637791623,"creation_date":1637791623,"answer_id":70103503,"question_id":30679878,"body_markdown":"I think is possible to check BACKSPACE in &quot;KeyTyped&quot; event. You can compare the hexadecimal value of the char against the hexadecimal value of the constant KeyEvent.VK_BACK_SPACE.\r\n\r\nExample (only return true if the key typed is Backspace, otherwise return false and consumes the event):\r\n\r\n    public static boolean CheckBackspace(KeyEvent e) {\r\n        if (!((Integer.toHexString(e.getKeyChar()).equals(Integer.toHexString(KeyEvent.VK_BACK_SPACE))))) {\r\n            e.consume();\r\n            return false;\r\n        }\r\n        return true;\r\n    }","title":"How to detect backspace in a keyTypedEvent","body":"<p>I think is possible to check BACKSPACE in &quot;KeyTyped&quot; event. You can compare the hexadecimal value of the char against the hexadecimal value of the constant KeyEvent.VK_BACK_SPACE.</p>\n<p>Example (only return true if the key typed is Backspace, otherwise return false and consumes the event):</p>\n<pre><code>public static boolean CheckBackspace(KeyEvent e) {\n    if (!((Integer.toHexString(e.getKeyChar()).equals(Integer.toHexString(KeyEvent.VK_BACK_SPACE))))) {\n        e.consume();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13253,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30679971,"answer_count":3,"score":2,"last_activity_date":1637791623,"creation_date":1433573516,"question_id":30679878,"body_markdown":"I&#39;m using Netbeans&#39; bean form to create my GUI.&lt;br&gt;I&#39;ve added a keyTyped event to a JTextArea and I want to detect if the typed key is a &lt;kbd&gt;Backspace&lt;/kbd&gt;.\r\n\r\nI&#39;m using keyTyped event for other reasons so I cannot just use the keyPressed event.\r\n\r\nThis is the generated code (and my if check):\r\n\r\n    private void langArea1KeyTyped(java.awt.event.KeyEvent evt) {   \r\n\r\n        if(evt.getChar()== backspace) //how can I make this check?   \r\n    }     \r\n\r\n`evt.getKeyCode()` always returns 0 independent of the typed key.&lt;br&gt;\r\n`evt.getKeyChar()` simply deletes the last character printed when printed so I can&#39;t use `System.out.print(evt.getKeyChar())` to detect its value and check for it.\r\n\r\nHow can I detect if the typed key is &lt;kbd&gt;Backspace&lt;/kbd&gt; (or &lt;kbd&gt;Delete&lt;/kbd&gt;)?","title":"How to detect backspace in a keyTypedEvent","body":"<p>I'm using Netbeans' bean form to create my GUI.<br>I've added a keyTyped event to a JTextArea and I want to detect if the typed key is a <kbd>Backspace</kbd>.</p>\n\n<p>I'm using keyTyped event for other reasons so I cannot just use the keyPressed event.</p>\n\n<p>This is the generated code (and my if check):</p>\n\n<pre><code>private void langArea1KeyTyped(java.awt.event.KeyEvent evt) {   \n\n    if(evt.getChar()== backspace) //how can I make this check?   \n}     \n</code></pre>\n\n<p><code>evt.getKeyCode()</code> always returns 0 independent of the typed key.<br>\n<code>evt.getKeyChar()</code> simply deletes the last character printed when printed so I can't use <code>System.out.print(evt.getKeyChar())</code> to detect its value and check for it.</p>\n\n<p>How can I detect if the typed key is <kbd>Backspace</kbd> (or <kbd>Delete</kbd>)?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1637792734,"post_id":70103486,"comment_id":123923980,"body_markdown":"Get the `Uri` from the `DocumentFile`. Pass that to `openInputStream()` on a `ContentResolver`. That gives you an `InputStream` for the content. From there, you would copy the data to a `FileOutputStream` pointing to your desired file (e.g., from `getExternalFilesDir()`).","body":"Get the <code>Uri</code> from the <code>DocumentFile</code>. Pass that to <code>openInputStream()</code> on a <code>ContentResolver</code>. That gives you an <code>InputStream</code> for the content. From there, you would copy the data to a <code>FileOutputStream</code> pointing to your desired file (e.g., from <code>getExternalFilesDir()</code>)."},{"owner":{"account_id":21695027,"reputation":31,"user_id":16009088,"display_name":"Abdellah SAYOUL"},"score":0,"creation_date":1637794643,"post_id":70103486,"comment_id":123924441,"body_markdown":"but what&#39;s the output path. is there anyway to save it to android/media/mypackagename and also make it accessable by other apps, the reason i wanna do that is to access it whitout any permission.","body":"but what&#39;s the output path. is there anyway to save it to android/media/mypackagename and also make it accessable by other apps, the reason i wanna do that is to access it whitout any permission."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1637795157,"post_id":70103486,"comment_id":123924577,"body_markdown":"&quot;is there anyway to save it to android/media/mypackagename&quot; -- probably that is `getExternalMediaDir()` on `Context`, though I am not completely certain. &quot;and also make it accessable by other apps&quot; -- the location that you requested will not be accessible to other apps on Android 11 and higher.","body":"&quot;is there anyway to save it to android/media/mypackagename&quot; -- probably that is <code>getExternalMediaDir()</code> on <code>Context</code>, though I am not completely certain. &quot;and also make it accessable by other apps&quot; -- the location that you requested will not be accessible to other apps on Android 11 and higher."},{"owner":{"account_id":21695027,"reputation":31,"user_id":16009088,"display_name":"Abdellah SAYOUL"},"score":0,"creation_date":1637795359,"post_id":70103486,"comment_id":123924625,"body_markdown":"What about `getExternalFileDir(Envirement.MEDIA_SHARED)` is it accessable by other app, or i should use `MediaStore`.","body":"What about <code>getExternalFileDir(Envirement.MEDIA_SHARED)</code> is it accessable by other app, or i should use <code>MediaStore</code>."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1637797149,"post_id":70103486,"comment_id":123924990,"body_markdown":"&quot;is it accessable by other app&quot; -- not on Android 11 and higher. If this is actual media, using `MediaStore` or writing to a standard media directory is your best bet. While `Environment.getExternalStoragePublicDirectory()` is marked as deprecated, [it will be restored to normal with Android 12L](https://commonsware.com/blog/2021/11/06/about-environment-undeprecations.html).","body":"&quot;is it accessable by other app&quot; -- not on Android 11 and higher. If this is actual media, using <code>MediaStore</code> or writing to a standard media directory is your best bet. While <code>Environment.getExternalStoragePublicDirectory()</code> is marked as deprecated, <a href=\"https://commonsware.com/blog/2021/11/06/about-environment-undeprecations.html\" rel=\"nofollow noreferrer\">it will be restored to normal with Android 12L</a>."},{"owner":{"account_id":21695027,"reputation":31,"user_id":16009088,"display_name":"Abdellah SAYOUL"},"score":0,"creation_date":1637797309,"post_id":70103486,"comment_id":123925025,"body_markdown":"thanks for ur time, do you know how i can use MediaStore and documentFile","body":"thanks for ur time, do you know how i can use MediaStore and documentFile"}],"owner":{"account_id":21695027,"reputation":31,"user_id":16009088,"display_name":"Abdellah SAYOUL"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637791447,"creation_date":1637791447,"question_id":70103486,"body_markdown":"I&#39;m trying to copy the documentFile to the external storage.\r\n\r\n    org.apache.commons.io.FileUtils.copyFile(srcFile,desFile);\r\nI tried this but i think it&#39;s for file only.\r\n ","title":"Copy documentFile to external Storage","body":"<p>I'm trying to copy the documentFile to the external storage.</p>\n<pre><code>org.apache.commons.io.FileUtils.copyFile(srcFile,desFile);\n</code></pre>\n<p>I tried this but i think it's for file only.</p>\n"},{"tags":["java","android","unity-game-engine","plugins"],"answers":[{"tags":[],"owner":{"account_id":10703897,"reputation":4096,"user_id":7878320,"display_name":"Lotan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1589805450,"creation_date":1589805450,"answer_id":61869763,"question_id":61865739,"body_markdown":"Don&#39;t worry, make android plugins for unity could be a little bit messy at the start, even more if you don&#39;t have any experience with Android!\r\n\r\nSome tips:\r\n\r\n - Project directory structure should be: `Assets/Plugins/Android` (it&#39;s\r\n   important, I&#39;ve been struggling for this stupidity [here][1])\r\n - Insert `classes.jar` in AndroidStudio project in `app/libs`.\r\n - Insert external dependencies (if you are using it) like\r\n   &quot;support-v4-24.1.1&quot; into `Android/libs`\r\n\r\nTo create plugins on AndroidStudio you need to create a library (this steps is to create it from an activity):\r\n\r\n - On graddle remove ID line\r\n - On the same file, change `.implementation` to `.library`\r\n\r\n\r\nTo recompile the plugin do the follow:\r\n\r\n 1. Rebuild AndroidStudio solution\r\n\r\n 2. Go to AndroidStudio solution...`app\\build\\outputs\\aar` get the `.aar`\r\n    file\r\n 3. Copy and paste it, change the extension from `.aar` to `.zip` or `.rar`\r\n 4. Open the modified file and extract 2 items:\r\n\r\n- `classes.jar` (this is another classes.jar, not the same stored in app/libs in your AndroidStudio project)\r\n - `AndroidManifest.xml`\r\n\r\n 7. Copy those files into Unity project in `Assets/Plugins/Android`\r\n    (remember, project directory structure is important!)\r\n\r\nYou can download the `classes.jar` file (the first one) from my [Utility_Repo][2] or from the path you name it `D:\\Unity\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Variations\\mono\\Development\\Classes\\classes.jar`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60383055/call-non-static-methods-on-custom-unity-android-plugins\r\n  [2]: https://github.com/EricBatlle/SimpleUnityUtils/tree/master/Assets/Simple_AndroidBridge/Utils_AndroidBridge","title":"Cannot find the UnityPlayerActivity class inside com.unity3d.player","body":"<p>Don't worry, make android plugins for unity could be a little bit messy at the start, even more if you don't have any experience with Android!</p>\n\n<p>Some tips:</p>\n\n<ul>\n<li>Project directory structure should be: <code>Assets/Plugins/Android</code> (it's\nimportant, I've been struggling for this stupidity <a href=\"https://stackoverflow.com/questions/60383055/call-non-static-methods-on-custom-unity-android-plugins\">here</a>)</li>\n<li>Insert <code>classes.jar</code> in AndroidStudio project in <code>app/libs</code>.</li>\n<li>Insert external dependencies (if you are using it) like\n\"support-v4-24.1.1\" into <code>Android/libs</code></li>\n</ul>\n\n<p>To create plugins on AndroidStudio you need to create a library (this steps is to create it from an activity):</p>\n\n<ul>\n<li>On graddle remove ID line</li>\n<li>On the same file, change <code>.implementation</code> to <code>.library</code></li>\n</ul>\n\n<p>To recompile the plugin do the follow:</p>\n\n<ol>\n<li><p>Rebuild AndroidStudio solution</p></li>\n<li><p>Go to AndroidStudio solution...<code>app\\build\\outputs\\aar</code> get the <code>.aar</code>\nfile</p></li>\n<li>Copy and paste it, change the extension from <code>.aar</code> to <code>.zip</code> or <code>.rar</code></li>\n<li><p>Open the modified file and extract 2 items:</p>\n\n<ul>\n<li><code>classes.jar</code> (this is another classes.jar, not the same stored in app/libs in your AndroidStudio project)</li>\n<li><code>AndroidManifest.xml</code></li>\n</ul></li>\n<li><p>Copy those files into Unity project in <code>Assets/Plugins/Android</code>\n(remember, project directory structure is important!)</p></li>\n</ol>\n\n<p>You can download the <code>classes.jar</code> file (the first one) from my <a href=\"https://github.com/EricBatlle/SimpleUnityUtils/tree/master/Assets/Simple_AndroidBridge/Utils_AndroidBridge\" rel=\"nofollow noreferrer\">Utility_Repo</a> or from the path you name it <code>D:\\Unity\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Variations\\mono\\Development\\Classes\\classes.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":14933374,"reputation":2490,"user_id":10782174,"display_name":"vasmos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589813236,"creation_date":1589813236,"answer_id":61872275,"question_id":61865739,"body_markdown":"There is a really great tutorial and accompanying youtube video on how to make native Android plugins and incorporate in Unity 3D.\r\n\r\nhttp://www.cwgtech.com/using-android-webview-to-display-a-webpage-on-top-of-the-unity-app-view/","title":"Cannot find the UnityPlayerActivity class inside com.unity3d.player","body":"<p>There is a really great tutorial and accompanying youtube video on how to make native Android plugins and incorporate in Unity 3D.</p>\n\n<p><a href=\"http://www.cwgtech.com/using-android-webview-to-display-a-webpage-on-top-of-the-unity-app-view/\" rel=\"nofollow noreferrer\">http://www.cwgtech.com/using-android-webview-to-display-a-webpage-on-top-of-the-unity-app-view/</a></p>\n"},{"tags":[],"owner":{"account_id":435068,"reputation":4982,"user_id":821443,"accept_rate":94,"display_name":"noncom"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595860330,"creation_date":1595841881,"answer_id":63112356,"question_id":61865739,"body_markdown":"I&#39;ve got into the same situation, and after some search I&#39;ve found that you should [take that class from elsewhere][1] and simply copy it into your project. On my machine the class is in `&quot;...path-to-unity-installation...\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Source\\com\\unity3d\\player&quot;`.\r\n\r\nI think that the new approach that sidesteps using `UnityPlayerActivity` is totally worth attention, though.\r\n\r\n\r\n  [1]: https://docs.unity3d.com/ru/2019.4/Manual/AndroidUnityPlayerActivity.html#ExtendingUnityPlayerActivity","title":"Cannot find the UnityPlayerActivity class inside com.unity3d.player","body":"<p>I've got into the same situation, and after some search I've found that you should <a href=\"https://docs.unity3d.com/ru/2019.4/Manual/AndroidUnityPlayerActivity.html#ExtendingUnityPlayerActivity\" rel=\"nofollow noreferrer\">take that class from elsewhere</a> and simply copy it into your project. On my machine the class is in <code>&quot;...path-to-unity-installation...\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Source\\com\\unity3d\\player&quot;</code>.</p>\n<p>I think that the new approach that sidesteps using <code>UnityPlayerActivity</code> is totally worth attention, though.</p>\n"},{"tags":[],"owner":{"account_id":1649542,"reputation":21,"user_id":1520394,"display_name":"rctToBattle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606117274,"creation_date":1606117274,"answer_id":64964263,"question_id":61865739,"body_markdown":" 1. Create a new Module, eg: name it &quot;UnityActivity&quot;. \r\n 2. Add classes.jar which can be found in unity install folder as Dependences in the method of &quot;CompileOnly&quot;\r\n 3. Add the Source Code of &quot;UnityPlayerActivity&quot; in to module of UnityActivity. \r\n 4. Add the new Module as Dependences to &quot;Your Module&quot; in the method of &quot;CompileOnly&quot;\r\n\r\nNow you can create your CustomActivity extends from UnityPlayerActivity. and build into *.aar. ","title":"Cannot find the UnityPlayerActivity class inside com.unity3d.player","body":"<ol>\n<li>Create a new Module, eg: name it &quot;UnityActivity&quot;.</li>\n<li>Add classes.jar which can be found in unity install folder as Dependences in the method of &quot;CompileOnly&quot;</li>\n<li>Add the Source Code of &quot;UnityPlayerActivity&quot; in to module of UnityActivity.</li>\n<li>Add the new Module as Dependences to &quot;Your Module&quot; in the method of &quot;CompileOnly&quot;</li>\n</ol>\n<p>Now you can create your CustomActivity extends from UnityPlayerActivity. and build into *.aar.</p>\n"},{"tags":[],"owner":{"account_id":3128327,"reputation":300,"user_id":3622300,"display_name":"Guney Ozsan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637791419,"creation_date":1637791419,"answer_id":70103481,"question_id":61865739,"body_markdown":"The idea is to mock the dependency `com.unity3d.player`. In Android Studio:\r\n- Create a new project (`MyUnityPlayerActivity`) with &quot;no activity&quot;.\r\n- From `File/New/New Module`, create new Module (`Player`) with package name `com.unity3d.player`.\r\n\r\nApply these for &quot;**both**&quot; modules (`app` and `player`):\r\n - Clean-up any non-library references (icons, themes,...etc.) from `AndroidManifest.xml`.\r\n- Delete everything under the folder `res` except `res/values/strings.xml`.\r\n- In `build.gradle` of the module:\r\n\t- Replace `id &#39;com.android.application&#39;` with `id &#39;com.android.library&#39;`.\r\n\t- Delete the line `applicationId &quot;...&quot;`.\r\n\t- Delete all lines related with tests.\r\n\t- Delete all dependencies.\r\n\t- Add local Unity installation dependency as &quot;compile only&quot; (so that it is not included in build).\r\n```js\r\ndependencies {\r\n    compileOnly files(&#39;C:/Program Files/Unity/Hub/Editor/2019.4.32f1/Editor/Data/PlaybackEngines/AndroidPlayer/Variations/mono/Release/Classes/classes.jar)\r\n}\r\n```\r\n\r\nIn module `player`:\r\n- Copy `UnityPlayerActivity.java` from `C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\src\\com\\unity3d\\player\\` to `/player/java/com.unity3d.player`.\r\n\r\nIn module `app`:\r\n- In `build.gradle` of module `MyUnityPlayerActivity` add compile only dependency to the module `player` we just created.\r\n```js\r\ndependencies {\r\n    compileOnly files(&#39;C:/Program Files/Unity/Hub/Editor/2019.4.32f1/Editor/Data/PlaybackEngines/AndroidPlayer/Variations/mono/Release/Classes/classes.jar)\r\n    compileOnly project(&#39;:player&#39;)\r\n}\r\n```\r\n\r\n- Create new class `MyUnityPlayerActivity`.\r\n```c#\r\npackage com.mycompany.myapplication.player;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport com.unity3d.player.UnityPlayerActivity;\r\n\r\npublic class MyUnityPlayerActivity extends UnityPlayerActivity {\r\n\tprivate static final String TAG = &quot;Unity&quot;;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tLog.d(TAG, &quot;Running MyUnityPlayerActivity.&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nIt should be good to go.","title":"Cannot find the UnityPlayerActivity class inside com.unity3d.player","body":"<p>The idea is to mock the dependency <code>com.unity3d.player</code>. In Android Studio:</p>\n<ul>\n<li>Create a new project (<code>MyUnityPlayerActivity</code>) with &quot;no activity&quot;.</li>\n<li>From <code>File/New/New Module</code>, create new Module (<code>Player</code>) with package name <code>com.unity3d.player</code>.</li>\n</ul>\n<p>Apply these for &quot;<strong>both</strong>&quot; modules (<code>app</code> and <code>player</code>):</p>\n<ul>\n<li>Clean-up any non-library references (icons, themes,...etc.) from <code>AndroidManifest.xml</code>.</li>\n<li>Delete everything under the folder <code>res</code> except <code>res/values/strings.xml</code>.</li>\n<li>In <code>build.gradle</code> of the module:\n<ul>\n<li>Replace <code>id 'com.android.application'</code> with <code>id 'com.android.library'</code>.</li>\n<li>Delete the line <code>applicationId &quot;...&quot;</code>.</li>\n<li>Delete all lines related with tests.</li>\n<li>Delete all dependencies.</li>\n<li>Add local Unity installation dependency as &quot;compile only&quot; (so that it is not included in build).</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-js prettyprint-override\"><code>dependencies {\n    compileOnly files('C:/Program Files/Unity/Hub/Editor/2019.4.32f1/Editor/Data/PlaybackEngines/AndroidPlayer/Variations/mono/Release/Classes/classes.jar)\n}\n</code></pre>\n<p>In module <code>player</code>:</p>\n<ul>\n<li>Copy <code>UnityPlayerActivity.java</code> from <code>C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\src\\com\\unity3d\\player\\</code> to <code>/player/java/com.unity3d.player</code>.</li>\n</ul>\n<p>In module <code>app</code>:</p>\n<ul>\n<li>In <code>build.gradle</code> of module <code>MyUnityPlayerActivity</code> add compile only dependency to the module <code>player</code> we just created.</li>\n</ul>\n<pre class=\"lang-js prettyprint-override\"><code>dependencies {\n    compileOnly files('C:/Program Files/Unity/Hub/Editor/2019.4.32f1/Editor/Data/PlaybackEngines/AndroidPlayer/Variations/mono/Release/Classes/classes.jar)\n    compileOnly project(':player')\n}\n</code></pre>\n<ul>\n<li>Create new class <code>MyUnityPlayerActivity</code>.</li>\n</ul>\n<pre class=\"lang-cs prettyprint-override\"><code>package com.mycompany.myapplication.player;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport com.unity3d.player.UnityPlayerActivity;\n\npublic class MyUnityPlayerActivity extends UnityPlayerActivity {\n    private static final String TAG = &quot;Unity&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.d(TAG, &quot;Running MyUnityPlayerActivity.&quot;);\n    }\n}\n</code></pre>\n<p>It should be good to go.</p>\n"}],"owner":{"account_id":17259560,"reputation":133,"user_id":12497850,"display_name":"Aditya Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12937,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61869763,"answer_count":5,"score":6,"last_activity_date":1637791419,"creation_date":1589791551,"question_id":61865739,"body_markdown":"I&#39;m trying to create an Android plugin for my Unity game. I have watched a lot of tutorials (most of them are outdated based on eclipse) and have read the documentation also. I&#39;m using Unity 2019.3.0f6. I want to extend my main activity in Android Studio project with UnityPlayerActivity\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t understand what does the ending lines mean &quot;`Locate the file, and add classes.jar to the classpath Unity uses to compile the new Activity. Compile your Activity source file and package it into a JAR or AAR package, then copy it into your Project folder`&quot;\r\n\r\nI understand UnityPlayerActivity does not exist in the classes.jar at PlaybackEngines/AndroidPlayer/Variations/mono or il2cpp/Development or Release/Classes/ and so I can&#39;t import com.unity3d.player.UnityPlayerActivity; I can only import UnityPlayer and IUnityPlayerLifecycleEvents. I am also interested to understand what is the UnityPlayer class and IUnityPlayerLifecycleEvents in this context.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut the UnityPlayerActivity.java is available at C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\src\\com\\unity3d\\player\r\n\r\nHow do I add it in the Unity3d library or classes.jar. Or even import it to extend my mainactivity. I don&#39;t understand what am I doing wrong here. \r\nI am using Android Studio, although I am new to it.\r\n\r\n  [1]: https://i.stack.imgur.com/o61Dj.png\r\n  [2]: https://i.stack.imgur.com/9wo8b.png","title":"Cannot find the UnityPlayerActivity class inside com.unity3d.player","body":"<p>I'm trying to create an Android plugin for my Unity game. I have watched a lot of tutorials (most of them are outdated based on eclipse) and have read the documentation also. I'm using Unity 2019.3.0f6. I want to extend my main activity in Android Studio project with UnityPlayerActivity</p>\n\n<p><a href=\"https://i.stack.imgur.com/o61Dj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o61Dj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't understand what does the ending lines mean \"<code>Locate the file, and add classes.jar to the classpath Unity uses to compile the new Activity. Compile your Activity source file and package it into a JAR or AAR package, then copy it into your Project folder</code>\"</p>\n\n<p>I understand UnityPlayerActivity does not exist in the classes.jar at PlaybackEngines/AndroidPlayer/Variations/mono or il2cpp/Development or Release/Classes/ and so I can't import com.unity3d.player.UnityPlayerActivity; I can only import UnityPlayer and IUnityPlayerLifecycleEvents. I am also interested to understand what is the UnityPlayer class and IUnityPlayerLifecycleEvents in this context.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9wo8b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9wo8b.png\" alt=\"enter image description here\"></a></p>\n\n<p>But the UnityPlayerActivity.java is available at C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\src\\com\\unity3d\\player</p>\n\n<p>How do I add it in the Unity3d library or classes.jar. Or even import it to extend my mainactivity. I don't understand what am I doing wrong here. \nI am using Android Studio, although I am new to it.</p>\n"},{"tags":["java","for-loop","arraylist","iteration"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1637793146,"post_id":70103047,"comment_id":123924092,"body_markdown":"I hope my answer is exactly what you were looking for.","body":"I hope my answer is exactly what you were looking for."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637791070,"creation_date":1637790728,"answer_id":70103382,"question_id":70103047,"body_markdown":"You cannot do what you ask because part of the information you need to print (profit) is lost. What you need to do first is to create a class that holds a company ID and the profits. With the new version of Java, you can create a `record` that will hold such information. A Java Record is nothing more than a POJO that is identified with that new keyword (record) and does not require you to create all the boilerplate code. Your record class will look something like this:\r\n\r\n    public record CompanyRecord(int companyID, float profit) {\r\n    }\r\n\r\nYou don&#39;t even need to override `toString()`. That is, unless you want to print the contents of the record in a different way than the default. Then, you will need to create a list of `CompanyRecord` objects:\r\n\r\n    ArrayList&lt;CompanyRecord&gt; companies = new ArrayList&lt;&gt;();\r\n\r\nThen, you can do whatever you need. For example, I created this simple demo that create a list of 10 company records and uses the loop counter to set the company ID and as a multiplier for the profits. Lastly, it prints out the record to the console.\r\n\r\n    public class CompanyRecordDemo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;CompanyRecord&gt; companies = new ArrayList&lt;&gt;();\r\n    \t\tfloat profit = 1000.0f;\r\n    \t\tfor (int i = 1; i &lt;= 10; i++) {\r\n    \t\t\tCompanyRecord rec = new CompanyRecord(i, profit * i);\r\n    \t\t\tcompanies.add(rec);\r\n    \t\t\tSystem.out.println(rec);\r\n    \t\t}\r\n            // do whatever you need with the list...\r\n    \t}\r\n    }\r\n\r\nThe output of this small program is:\r\n\r\n    CompanyRecord[companyID=1, profit=1000.0]\r\n    CompanyRecord[companyID=2, profit=2000.0]\r\n    CompanyRecord[companyID=3, profit=3000.0]\r\n    CompanyRecord[companyID=4, profit=4000.0]\r\n    CompanyRecord[companyID=5, profit=5000.0]\r\n    CompanyRecord[companyID=6, profit=6000.0]\r\n    CompanyRecord[companyID=7, profit=7000.0]\r\n    CompanyRecord[companyID=8, profit=8000.0]\r\n    CompanyRecord[companyID=9, profit=9000.0]\r\n    CompanyRecord[companyID=10, profit=10000.0]\r\n\r\nThis is probably the simplest way to accomplish what you need. You will need to use Java 14 or later to make use of Java Records, but I recommend you use the latest version.\r\n\r\n**UPDATE**: One important thing to note is that Java records are immutable. So, they have no setters (mutator methods). You will have to set the values through the constructor and values cannot be changed afterwards. You can access (get) the property values by calling a method that has the same name as the field. For example, the getter method for `profit` is `profit()`. For example `rec.profit()`.","title":"How to map ArrayList elements with specific values and then print it","body":"<p>You cannot do what you ask because part of the information you need to print (profit) is lost. What you need to do first is to create a class that holds a company ID and the profits. With the new version of Java, you can create a <code>record</code> that will hold such information. A Java Record is nothing more than a POJO that is identified with that new keyword (record) and does not require you to create all the boilerplate code. Your record class will look something like this:</p>\n<pre><code>public record CompanyRecord(int companyID, float profit) {\n}\n</code></pre>\n<p>You don't even need to override <code>toString()</code>. That is, unless you want to print the contents of the record in a different way than the default. Then, you will need to create a list of <code>CompanyRecord</code> objects:</p>\n<pre><code>ArrayList&lt;CompanyRecord&gt; companies = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Then, you can do whatever you need. For example, I created this simple demo that create a list of 10 company records and uses the loop counter to set the company ID and as a multiplier for the profits. Lastly, it prints out the record to the console.</p>\n<pre><code>public class CompanyRecordDemo {\n    public static void main(String[] args) {\n        ArrayList&lt;CompanyRecord&gt; companies = new ArrayList&lt;&gt;();\n        float profit = 1000.0f;\n        for (int i = 1; i &lt;= 10; i++) {\n            CompanyRecord rec = new CompanyRecord(i, profit * i);\n            companies.add(rec);\n            System.out.println(rec);\n        }\n        // do whatever you need with the list...\n    }\n}\n</code></pre>\n<p>The output of this small program is:</p>\n<pre><code>CompanyRecord[companyID=1, profit=1000.0]\nCompanyRecord[companyID=2, profit=2000.0]\nCompanyRecord[companyID=3, profit=3000.0]\nCompanyRecord[companyID=4, profit=4000.0]\nCompanyRecord[companyID=5, profit=5000.0]\nCompanyRecord[companyID=6, profit=6000.0]\nCompanyRecord[companyID=7, profit=7000.0]\nCompanyRecord[companyID=8, profit=8000.0]\nCompanyRecord[companyID=9, profit=9000.0]\nCompanyRecord[companyID=10, profit=10000.0]\n</code></pre>\n<p>This is probably the simplest way to accomplish what you need. You will need to use Java 14 or later to make use of Java Records, but I recommend you use the latest version.</p>\n<p><strong>UPDATE</strong>: One important thing to note is that Java records are immutable. So, they have no setters (mutator methods). You will have to set the values through the constructor and values cannot be changed afterwards. You can access (get) the property values by calling a method that has the same name as the field. For example, the getter method for <code>profit</code> is <code>profit()</code>. For example <code>rec.profit()</code>.</p>\n"}],"owner":{"account_id":17262187,"reputation":27,"user_id":12499808,"display_name":"za stacka2345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70103382,"answer_count":1,"score":0,"last_activity_date":1637791070,"creation_date":1637788610,"question_id":70103047,"body_markdown":"    ArrayList&lt;Integer&gt; companiesId = new ArrayList&lt;&gt;();\r\n    int numberOfCompanies = 10; // Just for example\r\n    ...\r\n    float profit;\r\n    Scanner input = new Scanner(System.in);\r\n    \r\n    for(int i = 0; i &lt; numberOfCompanies; i++) {\r\n       int companyId = input.nextInt();\r\n    \r\n            if (!companiesId.contains(companyId)) {\r\n                companiesId.add(companyId);\r\n            }\r\n    \r\n            if (companiesId.get(i) == 1) {\r\n                profit = 1000; \r\n            } else if (companiesId.get(i) == 2) {\r\n                profit = 2000;\r\n              }\r\n     }\r\n\r\nNow I want to print all the companyIds from the ArrayList with the profit entered for each id, but I don&#39;t know how to do it with the ArrayList. \r\n \r\nIt should be:\r\n\r\n    1 1000\r\n    2 2000\r\n    ... \r\n\r\n       ","title":"How to map ArrayList elements with specific values and then print it","body":"<pre><code>ArrayList&lt;Integer&gt; companiesId = new ArrayList&lt;&gt;();\nint numberOfCompanies = 10; // Just for example\n...\nfloat profit;\nScanner input = new Scanner(System.in);\n\nfor(int i = 0; i &lt; numberOfCompanies; i++) {\n   int companyId = input.nextInt();\n\n        if (!companiesId.contains(companyId)) {\n            companiesId.add(companyId);\n        }\n\n        if (companiesId.get(i) == 1) {\n            profit = 1000; \n        } else if (companiesId.get(i) == 2) {\n            profit = 2000;\n          }\n }\n</code></pre>\n<p>Now I want to print all the companyIds from the ArrayList with the profit entered for each id, but I don't know how to do it with the ArrayList.</p>\n<p>It should be:</p>\n<pre><code>1 1000\n2 2000\n... \n\n   \n</code></pre>\n"},{"tags":["java","spring","annotations","aop","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1637839024,"post_id":70103398,"comment_id":123935379,"body_markdown":"You asked a [very similar question](https://stackoverflow.com/a/70102796) before already with regard to annotated fields, put a bounty on it, and I [answered it](https://stackoverflow.com/a/70102796/1082681) already. Besides, from an AOP perspective it makes a difference if you annotate a field or a method parameter. For annotated fields, like I said before, you need native AspectJ. For annotated parameters, you might be able to use Spring AOP, if your target class is a Spring-managed component/bean.","body":"You asked a <a href=\"https://stackoverflow.com/a/70102796\">very similar question</a> before already with regard to annotated fields, put a bounty on it, and I <a href=\"https://stackoverflow.com/a/70102796/1082681\">answered it</a> already. Besides, from an AOP perspective it makes a difference if you annotate a field or a method parameter. For annotated fields, like I said before, you need native AspectJ. For annotated parameters, you might be able to use Spring AOP, if your target class is a Spring-managed component/bean."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1637839323,"post_id":70103398,"comment_id":123935491,"body_markdown":"BTW, isn&#39;t `@HeaderParam` rather JEE than Spring? I am not a framework (JEE, Spring) user, but chances are that your JEE container does the magic in this case, rather than Spring. Spring provides `@RequestHeader`, but that one works for parameters only, not for fields.","body":"BTW, isn&#39;t <code>@HeaderParam</code> rather JEE than Spring? I am not a framework (JEE, Spring) user, but chances are that your JEE container does the magic in this case, rather than Spring. Spring provides <code>@RequestHeader</code>, but that one works for parameters only, not for fields."}],"owner":{"account_id":4602000,"reputation":241,"user_id":3732445,"display_name":"user3732445"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637790847,"creation_date":1637790847,"question_id":70103398,"body_markdown":"I am trying to dive deep into the mechanics of the Spring Framework. The following piece of code achieves inserting &quot;token&quot; parameter from HTTP request into the `token` variable:\r\n\r\n```\r\n@POST\r\n@Path(&quot;/&quot;)\r\nResponse saveOne(@HeaderParam(&quot;token&quot;) String token, UserDTO uDTO) {\r\n}\r\n```\r\n# How can I achieve the same? #\r\nAnd what tools do I need? Is it done using AOP? Say, I would like to come up with a custom annotation `@MyAnnotation` and any **parameter** or **field** marked by it would be customized by some logic. Example:\r\n\r\n```\r\npublic class MyClass {\r\n   ...\r\n   @MyAnnotation\r\n   private String myVar1;\r\n\r\n   public void myMethod(@MyAnnotation myParam1) {\r\n   ...\r\n   }\r\n\r\n   ...\r\n}\r\n```\r\nWhen I create instance of MyClass or when I **autowire** it in my Spring application I would like to have a piece code that triggers right before I use the `myVar1` variable and/or when I call the `myMethod(param1)`. I want to set the *annotated* variable to whatever value I want. **How can I do this?**\r\n\r\nWhat makes me wonder is how Spring does do it in case of the `@HeaderParam`? I basically need the same functionality.\r\n\r\n\r\n","title":"How does Spring inject values into variable annotated by @HeaderParam?","body":"<p>I am trying to dive deep into the mechanics of the Spring Framework. The following piece of code achieves inserting &quot;token&quot; parameter from HTTP request into the <code>token</code> variable:</p>\n<pre><code>@POST\n@Path(&quot;/&quot;)\nResponse saveOne(@HeaderParam(&quot;token&quot;) String token, UserDTO uDTO) {\n}\n</code></pre>\n<h1>How can I achieve the same?</h1>\n<p>And what tools do I need? Is it done using AOP? Say, I would like to come up with a custom annotation <code>@MyAnnotation</code> and any <strong>parameter</strong> or <strong>field</strong> marked by it would be customized by some logic. Example:</p>\n<pre><code>public class MyClass {\n   ...\n   @MyAnnotation\n   private String myVar1;\n\n   public void myMethod(@MyAnnotation myParam1) {\n   ...\n   }\n\n   ...\n}\n</code></pre>\n<p>When I create instance of MyClass or when I <strong>autowire</strong> it in my Spring application I would like to have a piece code that triggers right before I use the <code>myVar1</code> variable and/or when I call the <code>myMethod(param1)</code>. I want to set the <em>annotated</em> variable to whatever value I want. <strong>How can I do this?</strong></p>\n<p>What makes me wonder is how Spring does do it in case of the <code>@HeaderParam</code>? I basically need the same functionality.</p>\n"},{"tags":["java","string","inheritance","null","super"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1637788638,"post_id":70103002,"comment_id":123922739,"body_markdown":"Problems like this are more likely to be solved if they include a [mre].","body":"Problems like this are more likely to be solved if they include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637789846,"creation_date":1637789846,"answer_id":70103241,"question_id":70103002,"body_markdown":"When you call\r\n\r\n    h1.protect(c3);\r\n\r\nyou are storing in `c3` that it is now protected.\r\n\r\nHowever, you are storing the name of the protector not in `c3` but in `h1`:\r\n\r\n                    this.protector = this.name;\r\n\r\nThat means that when you later call\r\n\r\n    h2.protect(c3);\r\n\r\nthe `h2` can read that `c3` is protected, but it cannot read who is protecting `c3`.\r\n\r\nTo fix this you need to make the field `String protector;` an instance field of the `Person` class and store the name of the protector there:\r\n\r\n    public class Person {\r\n        boolean protection;\r\n        String protector;\r\n    }\r\n\r\nand\r\n\r\n    public class Hero extends SuperPerson {\r\n        void protect(Person target) {\r\n            if(target.type.equals(&quot;Super Villian&quot;)) {\r\n                System.out.println(&quot;You can not protect a villian!&quot;);\r\n            } else {\r\n                if (target.health != 0) {\r\n                    if (!target.protection) {//to protect\r\n                        target.protection = true;\r\n                        target.protector = this.name;\r\n                        System.out.println(target.name + &quot; is under &quot; + this.protector + &quot;&#39;s proction.&quot;);\r\n                    } else {\r\n                        if (!target.protector.equals(this.name)) {//under someone else protection so can not unprotect\r\n                            System.out.println(target.name + &quot; is already under &quot; + target.protector + &quot;&#39;s protection&quot;);\r\n                        } else {//to unprotect\r\n                            target.protection = false;\r\n                            System.out.println(target.name + &quot; is no longer under &quot; + this.name + &quot;&#39;s protection&quot;);\r\n                            target.protector = null;\r\n                        }\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Target is already dead.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java: passing string of an object to another object","body":"<p>When you call</p>\n<pre><code>h1.protect(c3);\n</code></pre>\n<p>you are storing in <code>c3</code> that it is now protected.</p>\n<p>However, you are storing the name of the protector not in <code>c3</code> but in <code>h1</code>:</p>\n<pre><code>                this.protector = this.name;\n</code></pre>\n<p>That means that when you later call</p>\n<pre><code>h2.protect(c3);\n</code></pre>\n<p>the <code>h2</code> can read that <code>c3</code> is protected, but it cannot read who is protecting <code>c3</code>.</p>\n<p>To fix this you need to make the field <code>String protector;</code> an instance field of the <code>Person</code> class and store the name of the protector there:</p>\n<pre><code>public class Person {\n    boolean protection;\n    String protector;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class Hero extends SuperPerson {\n    void protect(Person target) {\n        if(target.type.equals(&quot;Super Villian&quot;)) {\n            System.out.println(&quot;You can not protect a villian!&quot;);\n        } else {\n            if (target.health != 0) {\n                if (!target.protection) {//to protect\n                    target.protection = true;\n                    target.protector = this.name;\n                    System.out.println(target.name + &quot; is under &quot; + this.protector + &quot;'s proction.&quot;);\n                } else {\n                    if (!target.protector.equals(this.name)) {//under someone else protection so can not unprotect\n                        System.out.println(target.name + &quot; is already under &quot; + target.protector + &quot;'s protection&quot;);\n                    } else {//to unprotect\n                        target.protection = false;\n                        System.out.println(target.name + &quot; is no longer under &quot; + this.name + &quot;'s protection&quot;);\n                        target.protector = null;\n                    }\n                }\n            } else {\n                System.out.println(&quot;Target is already dead.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16497347,"reputation":35,"user_id":11919555,"display_name":"maghraby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1638028410,"accepted_answer_id":70103241,"answer_count":1,"score":-3,"last_activity_date":1637789846,"creation_date":1637788383,"question_id":70103002,"body_markdown":"My post has been closed because of duplication of another question that doesn&#39;t really resolve my question so i&#39;m posting it again. because its not about comparing strings its about passing a string of an object to another objects.\r\n------------------------------------------------------------------------\r\n\r\nI was trying to practise inheritence on Java by writing a code that consist of Parent class that is called **Person** that has two child classes of **SuperPerson** and **Civil**, and the **SuperPerson** class that has two child classes called **Hero** and **Villian**.\r\nI was trying to implement a method called ***Protect*** which is used only by the **Hero** class that can only works on the **Civil** class as a target.\r\nSo, the main issue here when i run the code, it doesn&#39;t show the protector name in the case of a different hero trying to protect a civil who&#39;s already under another hero&#39;s protection and in the case of a villian trying to attack a civil who&#39;s under hero&#39;s protection.\r\n\r\nThe main method:\r\n\r\n    Hero h1 = new Hero(&quot;Spiderman&quot;, 25,&quot;Male&quot;, &quot;Web&quot;);\r\n    Hero h2 = new Hero(&quot;Batman&quot;, 35, &quot;Male&quot;,&quot;Wealth&quot;);\r\n    SuperPerson v1 = new Villian(&quot;Goblin&quot;, 47,&quot;Male&quot;, &quot;Goblin Power&quot;);\r\n    Person c3 = new Civil(&quot;Mary&quot;, 24,&quot;Female&quot;);\r\n    h1.protect(c3); //First Hero object protecting the Civil object\r\n    h2.protect(c3);//Different Hero object trying to protect the same Civil object\r\n    v1.attack(c3);//Villian attacking civil under protection\r\n\r\nThe output:\r\n\r\n    Mary is under Spiderman&#39;s proction.\r\n    Mary is already under null&#39;s protection //Bug here\r\n    The target is under null&#39;s protection //Bug here\r\n\r\n\r\nThe  (Person) parent class:\r\n\r\n    public class Person {\r\n        boolean protection;\r\n    }\r\n\r\nThe (SuperPerson) parent class:\r\n\r\n    public class SuperPerson extends Person {\r\n        String protector;\r\n    }\r\n\r\nThe first child (Hero) class that has the protect method:\r\n\r\n    public class Hero extends SuperPerson {\r\n    \tvoid protect(Person target) {\r\n    \t\tif(target.type.equals(&quot;Super Villian&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;You can not protect a villian!&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tif(target.health != 0) {\r\n    \t\t\t\tif(target.protection == false) {//to protect\r\n    \t\t\t\t\ttarget.protection = true;\r\n    \t\t\t\t\tthis.protector = this.name;\r\n    \t\t\t\t\tSystem.out.println(target.name + &quot; is under &quot; + this.protector + &quot;&#39;s proction.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tif(this.protector != this.name) {//under someone else protection so can not unprotect\r\n    \t\t\t\t\t\tSystem.out.println(target.name + &quot; is already under &quot; + protector + &quot;&#39;s protection&quot;);//Bug here\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse {//to unprotect\r\n    \t\t\t\t\t\ttarget.protection = false;\r\n    \t\t\t\t\t\tSystem.out.println(target.name + &quot; is no longer under &quot; + this.name + &quot;&#39;s protection&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tSystem.out.println(&quot;Target is already dead.&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nthe other child (Villian) class:\r\n\r\n \r\n\r\n    public class Villian extends SuperPerson{\r\n    \tint attack(Person target) {\r\n    \t\tif(target.type.equals(this.type)) {\r\n    \t\t\tSystem.out.println(&quot;Invalid target!&quot;);\r\n    \t\t\treturn 0 ;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tif(target.protection == true) {\r\n    \t\t\t\tSystem.out.println(&quot;The target is under &quot; + protector + &quot;&#39;s protection&quot;); //Bug here\r\n    \t\t\t\treturn 0;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\treturn super.attack(target);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Java: passing string of an object to another object","body":"<h2>My post has been closed because of duplication of another question that doesn't really resolve my question so i'm posting it again. because its not about comparing strings its about passing a string of an object to another objects.</h2>\n<p>I was trying to practise inheritence on Java by writing a code that consist of Parent class that is called <strong>Person</strong> that has two child classes of <strong>SuperPerson</strong> and <strong>Civil</strong>, and the <strong>SuperPerson</strong> class that has two child classes called <strong>Hero</strong> and <strong>Villian</strong>.\nI was trying to implement a method called <em><strong>Protect</strong></em> which is used only by the <strong>Hero</strong> class that can only works on the <strong>Civil</strong> class as a target.\nSo, the main issue here when i run the code, it doesn't show the protector name in the case of a different hero trying to protect a civil who's already under another hero's protection and in the case of a villian trying to attack a civil who's under hero's protection.</p>\n<p>The main method:</p>\n<pre><code>Hero h1 = new Hero(&quot;Spiderman&quot;, 25,&quot;Male&quot;, &quot;Web&quot;);\nHero h2 = new Hero(&quot;Batman&quot;, 35, &quot;Male&quot;,&quot;Wealth&quot;);\nSuperPerson v1 = new Villian(&quot;Goblin&quot;, 47,&quot;Male&quot;, &quot;Goblin Power&quot;);\nPerson c3 = new Civil(&quot;Mary&quot;, 24,&quot;Female&quot;);\nh1.protect(c3); //First Hero object protecting the Civil object\nh2.protect(c3);//Different Hero object trying to protect the same Civil object\nv1.attack(c3);//Villian attacking civil under protection\n</code></pre>\n<p>The output:</p>\n<pre><code>Mary is under Spiderman's proction.\nMary is already under null's protection //Bug here\nThe target is under null's protection //Bug here\n</code></pre>\n<p>The  (Person) parent class:</p>\n<pre><code>public class Person {\n    boolean protection;\n}\n</code></pre>\n<p>The (SuperPerson) parent class:</p>\n<pre><code>public class SuperPerson extends Person {\n    String protector;\n}\n</code></pre>\n<p>The first child (Hero) class that has the protect method:</p>\n<pre><code>public class Hero extends SuperPerson {\n    void protect(Person target) {\n        if(target.type.equals(&quot;Super Villian&quot;)) {\n            System.out.println(&quot;You can not protect a villian!&quot;);\n        }\n        else {\n            if(target.health != 0) {\n                if(target.protection == false) {//to protect\n                    target.protection = true;\n                    this.protector = this.name;\n                    System.out.println(target.name + &quot; is under &quot; + this.protector + &quot;'s proction.&quot;);\n                }\n                else {\n                    if(this.protector != this.name) {//under someone else protection so can not unprotect\n                        System.out.println(target.name + &quot; is already under &quot; + protector + &quot;'s protection&quot;);//Bug here\n                    }\n                    else {//to unprotect\n                        target.protection = false;\n                        System.out.println(target.name + &quot; is no longer under &quot; + this.name + &quot;'s protection&quot;);\n                    }\n                }\n            }\n            else {\n                System.out.println(&quot;Target is already dead.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>the other child (Villian) class:</p>\n<pre><code>public class Villian extends SuperPerson{\n    int attack(Person target) {\n        if(target.type.equals(this.type)) {\n            System.out.println(&quot;Invalid target!&quot;);\n            return 0 ;\n        }\n        else {\n            if(target.protection == true) {\n                System.out.println(&quot;The target is under &quot; + protector + &quot;'s protection&quot;); //Bug here\n                return 0;\n            }\n            else {\n                return super.attack(target);\n            }\n        }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","annotations","aspectj","spring-aop"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637584284,"post_id":70065440,"comment_id":123857132,"body_markdown":"It does not look like you can do `aspect` for a `field`,  It has to be on a method.  Please see this https://stackoverflow.com/questions/57324555/spring-aspect-for-field\n\nAlso please see https://stackoverflow.com/questions/59794092/spring-aspect-how-to-update-a-common-filed-across-multiple-objects  If you must change a variable.  Also please keep in mind that you can use `@Autowired MyController inside your AspectClass` if you need it :)","body":"It does not look like you can do <code>aspect</code> for a <code>field</code>,  It has to be on a method.  Please see this <a href=\"https://stackoverflow.com/questions/57324555/spring-aspect-for-field\" title=\"spring aspect for field\">stackoverflow.com/questions/57324555/spring-aspect-for-field</a>  Also please see <a href=\"https://stackoverflow.com/questions/59794092/spring-aspect-how-to-update-a-common-filed-across-multiple-objects\" title=\"spring aspect how to update a common filed across multiple objects\">stackoverflow.com/questions/59794092/&hellip;</a>  If you must change a variable.  Also please keep in mind that you can use <code>@Autowired MyController inside your AspectClass</code> if you need it :)"}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637584298,"creation_date":1637584298,"answer_id":70065791,"question_id":70065440,"body_markdown":"As it goes from [Spring docs][1] Spring AOP does support Spring beans&#39; method execution join points. To make field access join points work you need to use [AspectJ&#39;s backend with load time weaving][2] for AOP.\r\n\r\nBut for your case it&#39;s not required to use field join points, you can put your annotation on the getter and this should work.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-introduction-spring-defn\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-aj-ltw","title":"How to set a property value using Java custom annotation and Spring AOP?","body":"<p>As it goes from <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-introduction-spring-defn\" rel=\"nofollow noreferrer\">Spring docs</a> Spring AOP does support Spring beans' method execution join points. To make field access join points work you need to use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-aj-ltw\" rel=\"nofollow noreferrer\">AspectJ's backend with load time weaving</a> for AOP.</p>\n<p>But for your case it's not required to use field join points, you can put your annotation on the getter and this should work.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637789665,"creation_date":1637787237,"answer_id":70102796,"question_id":70065440,"body_markdown":"Like I said in my comment:\r\n\r\n&gt; The pointcut designator `@annotation()` intercepts annotated methods, not annotated fields. For that, native AspectJ has `get()` and `set()`. I.e., the pointcut would also need to be changed if migrating to AspectJ. But I agree that sticking to Spring AOP and annotating getter methods instead of fields is probably enough here.\r\n\r\nBut because you insist that you want to keep the controller class unchanged, here is the native AspectJ solution. Please read chapter [Using AspectJ with Spring Applications](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-using-aspectj) for how to configure that with `@EnableLoadTimeWeaving` and JVM parameter `-javaagent:/path/to/aspectjweaver.jar`.\r\n\r\nIn order to demonstrate that this solution really does work independently of Spring, I am using no Spring classes or annotations at all, only POJOs and native AspectJ. You can simply do the same within your Spring application. Please note that native AspectJ aspects do not need `@Component` annotations, in contrast to Spring AOP aspects.\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ ElementType.FIELD })\r\npublic @interface MyAnnotation {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic interface MyController {\r\n  String getVarExample();\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class MyControllerImpl implements MyController {\r\n  @MyAnnotation\r\n  private String var1;\r\n\r\n  @Override\r\n  public String getVarExample() {\r\n    System.out.println(this.var1);\r\n    return &quot;ok&quot;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    MyController myController = new MyControllerImpl();\r\n    myController.getVarExample();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\n\r\n@Aspect\r\npublic class MyAspect {\r\n\r\n  @Pointcut(&quot;get(@de.scrum_master.app.MyAnnotation * *)&quot;)\r\n  public void fieldAnnotatedWithMyAnnotation() {}\r\n\r\n  @Around(&quot;fieldAnnotatedWithMyAnnotation()&quot;)\r\n  public Object enrichVar1(ProceedingJoinPoint pjp) throws Throwable {\r\n    System.out.println(pjp);\r\n    return &quot;helloworld&quot;;\r\n  }\r\n}\r\n```\r\n\r\nWhen running `Application`, the console log is going to be:\r\n```none\r\nget(String de.scrum_master.app.MyControllerImpl.var1)\r\nhelloworld\r\n```\r\n\r\nThe AspectJ manual explains the syntax of [field get and set join point signatures](https://www.eclipse.org/aspectj/doc/next/adk15notebook/join-point-signatures.html#field-get-and-set-join-point-signatures) and [field patterns](https://www.eclipse.org/aspectj/doc/next/adk15notebook/annotations-pointcuts-and-advice.html#fieldPatterns).\r\n\r\n---\r\n\r\n**Note:** I think that your use case might be a hack rather than a valid application design. You ought to refactor rather than hack into an application like this.","title":"How to set a property value using Java custom annotation and Spring AOP?","body":"<p>Like I said in my comment:</p>\n<blockquote>\n<p>The pointcut designator <code>@annotation()</code> intercepts annotated methods, not annotated fields. For that, native AspectJ has <code>get()</code> and <code>set()</code>. I.e., the pointcut would also need to be changed if migrating to AspectJ. But I agree that sticking to Spring AOP and annotating getter methods instead of fields is probably enough here.</p>\n</blockquote>\n<p>But because you insist that you want to keep the controller class unchanged, here is the native AspectJ solution. Please read chapter <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-using-aspectj\" rel=\"nofollow noreferrer\">Using AspectJ with Spring Applications</a> for how to configure that with <code>@EnableLoadTimeWeaving</code> and JVM parameter <code>-javaagent:/path/to/aspectjweaver.jar</code>.</p>\n<p>In order to demonstrate that this solution really does work independently of Spring, I am using no Spring classes or annotations at all, only POJOs and native AspectJ. You can simply do the same within your Spring application. Please note that native AspectJ aspects do not need <code>@Component</code> annotations, in contrast to Spring AOP aspects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.FIELD })\npublic @interface MyAnnotation {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic interface MyController {\n  String getVarExample();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class MyControllerImpl implements MyController {\n  @MyAnnotation\n  private String var1;\n\n  @Override\n  public String getVarExample() {\n    System.out.println(this.var1);\n    return &quot;ok&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public static void main(String[] args) {\n    MyController myController = new MyControllerImpl();\n    myController.getVarExample();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class MyAspect {\n\n  @Pointcut(&quot;get(@de.scrum_master.app.MyAnnotation * *)&quot;)\n  public void fieldAnnotatedWithMyAnnotation() {}\n\n  @Around(&quot;fieldAnnotatedWithMyAnnotation()&quot;)\n  public Object enrichVar1(ProceedingJoinPoint pjp) throws Throwable {\n    System.out.println(pjp);\n    return &quot;helloworld&quot;;\n  }\n}\n</code></pre>\n<p>When running <code>Application</code>, the console log is going to be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>get(String de.scrum_master.app.MyControllerImpl.var1)\nhelloworld\n</code></pre>\n<p>The AspectJ manual explains the syntax of <a href=\"https://www.eclipse.org/aspectj/doc/next/adk15notebook/join-point-signatures.html#field-get-and-set-join-point-signatures\" rel=\"nofollow noreferrer\">field get and set join point signatures</a> and <a href=\"https://www.eclipse.org/aspectj/doc/next/adk15notebook/annotations-pointcuts-and-advice.html#fieldPatterns\" rel=\"nofollow noreferrer\">field patterns</a>.</p>\n<hr />\n<p><strong>Note:</strong> I think that your use case might be a hack rather than a valid application design. You ought to refactor rather than hack into an application like this.</p>\n"}],"owner":{"account_id":4602000,"reputation":241,"user_id":3732445,"display_name":"user3732445"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3064,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70102796,"answer_count":2,"score":1,"last_activity_date":1637789665,"creation_date":1637582545,"question_id":70065440,"body_markdown":"I would like to use custom Java annotation to insert a value in a private class property using Spring AOP (and/or AspectJ). Quick example:\r\n\r\n**MyAnnotation.java:**\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ ElementType.FIELD })\r\npublic @interface MyAnnotation {\r\n}\r\n```\r\n\r\n**MyController.java:**\r\n```\r\npublic class MyControllerImpl implements MyController {\r\n\r\n    ...\r\n\t\r\n\t@MyAnnotation\r\n\tprivate String var1;\r\n\r\n    @Override\r\n    public String getVarExample() {\r\n       // imagine this is a REST API that gets called on @GET\r\n       // request and returns a string\r\n\r\n       System.out.println(this.var1); // &lt;-- I&#39;d like this to be &quot;helloworld&quot;\r\n                                    // this is just for illustration\r\n                                    // of course, I will want to do \r\n                                    // something more meaningful with\r\n                                    // the &#39;var1&#39; variable\r\n       return &quot;ok&quot;; &lt;- unimportant for this example\r\n    }\r\n    ...\r\n```\r\n\r\n**MyAspect.java:**\r\n```\r\n@Aspect\r\n@Component\r\npublic class MyAspect {\r\n\r\n\t@Pointcut(&quot;@annotation(com.mypackage.annotation.MyAnnotation)&quot;)\r\n\tpublic void fieldAnnotatedWithMyAnnotation() {\r\n\t\t\r\n\t}\r\n\r\n\t@Around(&quot;fieldAnnotatedWithMyAnnotation()&quot;)\r\n\tpublic Object enrichVar1(ProceedingJoinPoint pjp) throws Throwable {\r\n        \r\n        // problem #1 - the program never enters here\r\n        // problem #2 - I need to figure out how to set up the var1 here\r\n        //              to &quot;helloworld&quot; , how?\r\n        return pjp.proceed();\r\n    }\r\n    ...\r\n}\r\n\r\n```\r\n# What would I like to happen? #\r\nI will call and get into the `getVarExample()` and after it returns **I would like to see &quot;helloworld&quot;** in console or log. I would like to somehow set the `var1` to a custom value using AOP. Any property variable that will be annotated with `@MyAnnotation` will be set to &quot;helloworld&quot;. I hope the example above is clear.\r\n\r\n# What have I tried? #\r\nI made sure there is no typo in the package names, also fiddled with different AOP advice annotations like `@Around` and `@Before`. I also tried different targets in the `MyAnnotation` and ended up with `ElementType.FIELD` which should be correct.\r\n\r\n# Can you help me to get it working? #\r\nI know this can be done, but couldn&#39;t find any working example online. Again, I would like to see 2 answers:\r\n\r\n**1. How to get the pointcut to trigger on MyController entrance? I want to catch a breakpoint inside the `enrichVar1(..)` method of the `MyAspect` class.**\r\n\r\n**2. How can I modify the annotated `var1` value in`enrichVar1(..)` method of the `MyAspect` class?**\r\n\r\nI don&#39;t know what I am doing wrong. Any help will be greatly appreciated. Thank you!\r\n\r\n*The AOP is set up correctly in my project. I know that because I am already using AOP for different things (logging for example).*\r\n\r\n**Update #1:**\r\n\r\nPlease, note there are not getters or setters for the `var1` private variable. The variable will be only used within the `MyControllerImpl`. To illustrate this better I changed the return value of the `getVarExample`.","title":"How to set a property value using Java custom annotation and Spring AOP?","body":"<p>I would like to use custom Java annotation to insert a value in a private class property using Spring AOP (and/or AspectJ). Quick example:</p>\n<p><strong>MyAnnotation.java:</strong></p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.FIELD })\npublic @interface MyAnnotation {\n}\n</code></pre>\n<p><strong>MyController.java:</strong></p>\n<pre><code>public class MyControllerImpl implements MyController {\n\n    ...\n    \n    @MyAnnotation\n    private String var1;\n\n    @Override\n    public String getVarExample() {\n       // imagine this is a REST API that gets called on @GET\n       // request and returns a string\n\n       System.out.println(this.var1); // &lt;-- I'd like this to be &quot;helloworld&quot;\n                                    // this is just for illustration\n                                    // of course, I will want to do \n                                    // something more meaningful with\n                                    // the 'var1' variable\n       return &quot;ok&quot;; &lt;- unimportant for this example\n    }\n    ...\n</code></pre>\n<p><strong>MyAspect.java:</strong></p>\n<pre><code>@Aspect\n@Component\npublic class MyAspect {\n\n    @Pointcut(&quot;@annotation(com.mypackage.annotation.MyAnnotation)&quot;)\n    public void fieldAnnotatedWithMyAnnotation() {\n        \n    }\n\n    @Around(&quot;fieldAnnotatedWithMyAnnotation()&quot;)\n    public Object enrichVar1(ProceedingJoinPoint pjp) throws Throwable {\n        \n        // problem #1 - the program never enters here\n        // problem #2 - I need to figure out how to set up the var1 here\n        //              to &quot;helloworld&quot; , how?\n        return pjp.proceed();\n    }\n    ...\n}\n\n</code></pre>\n<h1>What would I like to happen?</h1>\n<p>I will call and get into the <code>getVarExample()</code> and after it returns <strong>I would like to see &quot;helloworld&quot;</strong> in console or log. I would like to somehow set the <code>var1</code> to a custom value using AOP. Any property variable that will be annotated with <code>@MyAnnotation</code> will be set to &quot;helloworld&quot;. I hope the example above is clear.</p>\n<h1>What have I tried?</h1>\n<p>I made sure there is no typo in the package names, also fiddled with different AOP advice annotations like <code>@Around</code> and <code>@Before</code>. I also tried different targets in the <code>MyAnnotation</code> and ended up with <code>ElementType.FIELD</code> which should be correct.</p>\n<h1>Can you help me to get it working?</h1>\n<p>I know this can be done, but couldn't find any working example online. Again, I would like to see 2 answers:</p>\n<p><strong>1. How to get the pointcut to trigger on MyController entrance? I want to catch a breakpoint inside the <code>enrichVar1(..)</code> method of the <code>MyAspect</code> class.</strong></p>\n<p><strong>2. How can I modify the annotated <code>var1</code> value in<code>enrichVar1(..)</code> method of the <code>MyAspect</code> class?</strong></p>\n<p>I don't know what I am doing wrong. Any help will be greatly appreciated. Thank you!</p>\n<p><em>The AOP is set up correctly in my project. I know that because I am already using AOP for different things (logging for example).</em></p>\n<p><strong>Update #1:</strong></p>\n<p>Please, note there are not getters or setters for the <code>var1</code> private variable. The variable will be only used within the <code>MyControllerImpl</code>. To illustrate this better I changed the return value of the <code>getVarExample</code>.</p>\n"},{"tags":["java","grails","groovy"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637789625,"creation_date":1637789625,"answer_id":70103204,"question_id":70103083,"body_markdown":"you could read incoming data only once\r\n\r\n```\r\ndef json = JSON.parse(request.getReader())\r\ndef maquinasComProgramacoes = json.entity as ArrayList\r\nBoolean possuiProgramacoesSalvas = json.possuiProgramacoesSalvas\r\n```\r\n","title":"How to solve this Stream Close exception error?","body":"<p>you could read incoming data only once</p>\n<pre><code>def json = JSON.parse(request.getReader())\ndef maquinasComProgramacoes = json.entity as ArrayList\nBoolean possuiProgramacoesSalvas = json.possuiProgramacoesSalvas\n</code></pre>\n"}],"owner":{"account_id":12501731,"reputation":7,"user_id":9099993,"display_name":"Antonio Fabricio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70103204,"answer_count":1,"score":0,"last_activity_date":1637789625,"creation_date":1637788801,"question_id":70103083,"body_markdown":"I am getting an error when try to parse data from front-end to back-end, getting this Stream close error when the line goes to the second one. I am seding the info thru post method with redux-saga.\r\n\r\n```\r\ndef maquinasComProgramacoes = (JSON.parse(request.getReader()) as Map).entity as ArrayList\r\nBoolean possuiProgramacoesSalvas = (JSON.parse(request.getReader()) as Map).possuiProgramacoesSalvas\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6dk4X.jpg","title":"How to solve this Stream Close exception error?","body":"<p>I am getting an error when try to parse data from front-end to back-end, getting this Stream close error when the line goes to the second one. I am seding the info thru post method with redux-saga.</p>\n<pre><code>def maquinasComProgramacoes = (JSON.parse(request.getReader()) as Map).entity as ArrayList\nBoolean possuiProgramacoesSalvas = (JSON.parse(request.getReader()) as Map).possuiProgramacoesSalvas\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6dk4X.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6dk4X.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","string","format"],"comments":[{"owner":{"account_id":12808535,"reputation":112,"user_id":9267468,"display_name":"F. Vorontsov"},"score":0,"creation_date":1637598284,"post_id":70068616,"comment_id":123863101,"body_markdown":"This shoud help https://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson","body":"This shoud help <a href=\"https://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson\" title=\"convert json string to pretty print json output using jackson\">stackoverflow.com/questions/14515994/&hellip;</a>"},{"owner":{"account_id":23420238,"reputation":3,"user_id":17480567,"display_name":"Apurva Sawant"},"score":0,"creation_date":1637613383,"post_id":70068616,"comment_id":123868796,"body_markdown":"Thanks for sharing this post. But the attribute in the post you share is not a string, it is an array of objects. Would mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json); work over a string as in my case?","body":"Thanks for sharing this post. But the attribute in the post you share is not a string, it is an array of objects. Would mapper.writerWithDefaultPrettyPrinter().writeValueAsString(j&zwnj;&#8203;son); work over a string as in my case?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637789512,"creation_date":1637598599,"answer_id":70069162,"question_id":70068616,"body_markdown":"There are a few JSON solutions for Java. I have used JSON-simple and GSON. I think GSON is better because JSON-simple has not been updated in quite some time. Here&#39;s the Maven repo for GSON https://mvnrepository.com/artifact/com.google.code.gson/gson\r\n\r\nIf you need to read an JSON-formatted file, you will do something like this:\r\n\r\n\tGson gsonObj = new Gson();\r\n    YourClass yourObj = new YourClass();\r\n\r\nOnce you have the GSON object, if the object that your are serializing/deserializing is a ParameterizedType (i.e. contains at least one type parameter and may be an array) then you must use the `toJson(Object, Type)` or `fromJson(String, Type)`. In your case, you need to convert to a String (to JSON).\r\n\r\n    String json = gsonObj.toJson(yourObj, new FileWriter(&quot;C:\\\\myjsonfile.json&quot;));\r\n\r\nBUT, if your object is simple, you can simply do the following.\r\n\r\n    String json = gsonObj.toJson(youObj);\r\n","title":"How to format a string in JSON?","body":"<p>There are a few JSON solutions for Java. I have used JSON-simple and GSON. I think GSON is better because JSON-simple has not been updated in quite some time. Here's the Maven repo for GSON <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.code.gson/gson</a></p>\n<p>If you need to read an JSON-formatted file, you will do something like this:</p>\n<pre><code>Gson gsonObj = new Gson();\nYourClass yourObj = new YourClass();\n</code></pre>\n<p>Once you have the GSON object, if the object that your are serializing/deserializing is a ParameterizedType (i.e. contains at least one type parameter and may be an array) then you must use the <code>toJson(Object, Type)</code> or <code>fromJson(String, Type)</code>. In your case, you need to convert to a String (to JSON).</p>\n<pre><code>String json = gsonObj.toJson(yourObj, new FileWriter(&quot;C:\\\\myjsonfile.json&quot;));\n</code></pre>\n<p>BUT, if your object is simple, you can simply do the following.</p>\n<pre><code>String json = gsonObj.toJson(youObj);\n</code></pre>\n"}],"owner":{"account_id":23420238,"reputation":3,"user_id":17480567,"display_name":"Apurva Sawant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70069162,"answer_count":1,"score":0,"last_activity_date":1637789512,"creation_date":1637596412,"question_id":70068616,"body_markdown":"I have a JSON file that is stored in the DB after parsing it using JAVA functions. The JSON has an attribute that has multiple lines and should be well formatted. Right now, I am using \\n &amp; \\t to format this string. Is there a better way to format this string in the JSON? I could use any markup language if available. \r\n\r\n```&quot;Actions&quot;: &quot;Actions required: \\n1. Action 1 \\n2. Action 2 \\n \\n Other Actions \\n1. Action3 \\n2. Action 4 ```","title":"How to format a string in JSON?","body":"<p>I have a JSON file that is stored in the DB after parsing it using JAVA functions. The JSON has an attribute that has multiple lines and should be well formatted. Right now, I am using \\n &amp; \\t to format this string. Is there a better way to format this string in the JSON? I could use any markup language if available.</p>\n<p><code>&quot;Actions&quot;: &quot;Actions required: \\n1. Action 1 \\n2. Action 2 \\n \\n Other Actions \\n1. Action3 \\n2. Action 4 </code></p>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1637789367,"post_id":70103093,"comment_id":123922994,"body_markdown":"&quot;I can assume that the classes that ClassPath finds are compatible&quot;. I find this very hard to believe. Did you do some filtering that you omitted from your question?","body":"&quot;I can assume that the classes that ClassPath finds are compatible&quot;. I find this very hard to believe. Did you do some filtering that you omitted from your question?"},{"owner":{"account_id":1538368,"reputation":217,"user_id":11427881,"display_name":"Steam gamer"},"score":0,"creation_date":1637789551,"post_id":70103093,"comment_id":123923043,"body_markdown":"@Sweeper where `MyPacket` is, the other classes there are what I&#39;ve made myself and I can confirm they are compatible. I know what classes will be passed to the function, I just want it to be done _reflectively_.","body":"@Sweeper where <code>MyPacket</code> is, the other classes there are what I&#39;ve made myself and I can confirm they are compatible. I know what classes will be passed to the function, I just want it to be done <i>reflectively</i>."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1637789659,"post_id":70103093,"comment_id":123923076,"body_markdown":"Your declared classes are `Class&lt;? extends Extendable&lt;E&gt;&gt;`, not `Extendable&lt;E&gt;`. That or make an instance with `declaredClass.getConstructor().newInstance()`. Note that this is all quite bad code abuse and you should not be doing it this way. Class Loading&#39;s abstraction doesn&#39;t work this way. Idiomatic java isn&#39;t anything like this. Etcetera.","body":"Your declared classes are <code>Class&lt;? extends Extendable&lt;E&gt;&gt;</code>, not <code>Extendable&lt;E&gt;</code>. That or make an instance with <code>declaredClass.getConstructor().newInstance()</code>. Note that this is all quite bad code abuse and you should not be doing it this way. Class Loading&#39;s abstraction doesn&#39;t work this way. Idiomatic java isn&#39;t anything like this. Etcetera."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1637789696,"post_id":70103093,"comment_id":123923089,"body_markdown":"The right solution to what you&#39;re badly trying to solve with that ClassPath.from stuff (abolish that library, it&#39;s just wrong - the ClassLoader abstraction doesn&#39;t let you do this, it&#39;s a hack that won&#39;t work in various environments) - is SPI/module-provides.","body":"The right solution to what you&#39;re badly trying to solve with that ClassPath.from stuff (abolish that library, it&#39;s just wrong - the ClassLoader abstraction doesn&#39;t let you do this, it&#39;s a hack that won&#39;t work in various environments) - is SPI/module-provides."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637791328,"post_id":70103093,"comment_id":123923614,"body_markdown":"I second what rzwitserloot said.  You should be using [ServiceLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html) for this.","body":"I second what rzwitserloot said.  You should be using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> for this."},{"owner":{"account_id":1538368,"reputation":217,"user_id":11427881,"display_name":"Steam gamer"},"score":0,"creation_date":1637791490,"post_id":70103093,"comment_id":123923657,"body_markdown":"Thank you for the comments. As service loaders have been recommended, how can I implement this in relation to what I&#39;m doing?","body":"Thank you for the comments. As service loaders have been recommended, how can I implement this in relation to what I&#39;m doing?"}],"owner":{"account_id":1538368,"reputation":217,"user_id":11427881,"display_name":"Steam gamer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637788847,"creation_date":1637788847,"question_id":70103093,"body_markdown":"I am reflectively getting classes and their declared classes, and I want to pass them into a function that takes classes, but it has generics on it.\r\n\r\n```java\r\n// classes to pass into function\r\nClassPath.from(MyParent.class.getClassLoader())\r\n  .getTopLevelClasses()\r\n  .forEach(classInfo -&gt; {\r\n    // checks...\r\n\r\n    Class&lt;?&gt; clazz = classInfo.load();\r\n    for (Class&lt;?&gt; declaredClass : clazz.getDeclaredClasses()) {\r\n      genericFunction(clazz, declaredClass); // the problem\r\n    }\r\n\r\n  });\r\n```\r\n\r\n```java\r\n// the function to pass into\r\n&lt;E extends Extendable&lt;? extends Parent&lt;E&gt;&gt;&gt; void genericFunction(Class&lt;? extends Parent&lt;E&gt;&gt; parentClass, Extendable&lt;E&gt; extendableClass);\r\n```\r\n\r\n```java\r\n// classes used in generic function\r\npublic class MyParent extends Parent&lt;MyExtendable&gt; {\r\n  protected class MyExtendable extends Extendable&lt;MyParent&gt; {\r\n    \r\n  }\r\n}\r\n\r\npublic abstract class Parent&lt;E extends Extendable&lt;? extends Parent&lt;E&gt;&gt;&gt; {\r\n  \r\n}\r\n\r\npublic abstract class Extendable&lt;E extends Parent&lt;? extends Extendable&lt;E&gt;&gt;&gt; {\r\n  \r\n}\r\n```\r\n\r\nThe problem is that I have no idea how to cast or reflective run that `genericFunction()` with the `Class&lt;?&gt;` objects.\r\n\r\nI can assume that the classes that [`ClassPath`](https://guava.dev/releases/25.1-jre/api/docs/com/google/common/reflect/ClassPath.html) finds are compatible (e.g: they all properly extend `Parent` and `Extendable` in inner classes.)\r\n\r\nI can change my (likely) messy and overcomplicated generics on the function and classes.","title":"Cast classes to classes with generics","body":"<p>I am reflectively getting classes and their declared classes, and I want to pass them into a function that takes classes, but it has generics on it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// classes to pass into function\nClassPath.from(MyParent.class.getClassLoader())\n  .getTopLevelClasses()\n  .forEach(classInfo -&gt; {\n    // checks...\n\n    Class&lt;?&gt; clazz = classInfo.load();\n    for (Class&lt;?&gt; declaredClass : clazz.getDeclaredClasses()) {\n      genericFunction(clazz, declaredClass); // the problem\n    }\n\n  });\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// the function to pass into\n&lt;E extends Extendable&lt;? extends Parent&lt;E&gt;&gt;&gt; void genericFunction(Class&lt;? extends Parent&lt;E&gt;&gt; parentClass, Extendable&lt;E&gt; extendableClass);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// classes used in generic function\npublic class MyParent extends Parent&lt;MyExtendable&gt; {\n  protected class MyExtendable extends Extendable&lt;MyParent&gt; {\n    \n  }\n}\n\npublic abstract class Parent&lt;E extends Extendable&lt;? extends Parent&lt;E&gt;&gt;&gt; {\n  \n}\n\npublic abstract class Extendable&lt;E extends Parent&lt;? extends Extendable&lt;E&gt;&gt;&gt; {\n  \n}\n</code></pre>\n<p>The problem is that I have no idea how to cast or reflective run that <code>genericFunction()</code> with the <code>Class&lt;?&gt;</code> objects.</p>\n<p>I can assume that the classes that <a href=\"https://guava.dev/releases/25.1-jre/api/docs/com/google/common/reflect/ClassPath.html\" rel=\"nofollow noreferrer\"><code>ClassPath</code></a> finds are compatible (e.g: they all properly extend <code>Parent</code> and <code>Extendable</code> in inner classes.)</p>\n<p>I can change my (likely) messy and overcomplicated generics on the function and classes.</p>\n"},{"tags":["java","sockets","networking","server"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1637789087,"post_id":70103091,"comment_id":123922892,"body_markdown":"Do you have a static publicly accessible IP?  On your computer you probably run through a local server - but you cannot do it if a client runs somewhere else.","body":"Do you have a static publicly accessible IP?  On your computer you probably run through a local server - but you cannot do it if a client runs somewhere else."},{"owner":{"account_id":5023385,"reputation":1,"user_id":4036187,"display_name":"Nicholas Whitley"},"score":0,"creation_date":1637789494,"post_id":70103091,"comment_id":123923031,"body_markdown":"@PM77-1 I believe my IP address is publicly accessible.","body":"@PM77-1 I believe my IP address is publicly accessible."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1637791489,"post_id":70103091,"comment_id":123923656,"body_markdown":"You should not be providing an IP address for the server socket.  Your friend&#39;s system will not have any IP address matching the hardcoded value.","body":"You should not be providing an IP address for the server socket.  Your friend&#39;s system will not have any IP address matching the hardcoded value."},{"owner":{"account_id":5023385,"reputation":1,"user_id":4036187,"display_name":"Nicholas Whitley"},"score":0,"creation_date":1637804541,"post_id":70103091,"comment_id":123926426,"body_markdown":"@JimGarrison you&#39;re talking about the socket in the Client class correct? He will be running the client on his end. I thought the serverSocket IP is the endpoint for the client socket to point to?","body":"@JimGarrison you&#39;re talking about the socket in the Client class correct? He will be running the client on his end. I thought the serverSocket IP is the endpoint for the client socket to point to?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1637815361,"post_id":70103091,"comment_id":123927999,"body_markdown":"No, the socket on the server end.  Each server will have its own IP address(es), and hardcoding your server&#39;s IP will not work.","body":"No, the socket on the server end.  Each server will have its own IP address(es), and hardcoding your server&#39;s IP will not work."},{"owner":{"account_id":5023385,"reputation":1,"user_id":4036187,"display_name":"Nicholas Whitley"},"score":0,"creation_date":1637835260,"post_id":70103091,"comment_id":123933846,"body_markdown":"@JimGarrison it makes sense what you said. So for the serverSocket it should only take in a port parameter? That&#39;s what I did and my client won&#39;t connect to it when it&#39;s run on my local machine. I&#39;m only going to be running one server on my computer so it should be my public ip.","body":"@JimGarrison it makes sense what you said. So for the serverSocket it should only take in a port parameter? That&#39;s what I did and my client won&#39;t connect to it when it&#39;s run on my local machine. I&#39;m only going to be running one server on my computer so it should be my public ip."}],"owner":{"account_id":5023385,"reputation":1,"user_id":4036187,"display_name":"Nicholas Whitley"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637788836,"creation_date":1637788836,"question_id":70103091,"body_markdown":"Bare with me as it&#39;s been a while since I&#39;ve been on here and I know there&#39;s format rules for questions. I have coded two java applications, both are pretty simple. One being a server and two being a client that connects to the server via socket. Now this works on my computer but when I have a buddy run on his computer it doesn&#39;t connect. I want the server to be able to run on my computer and anyone who has the client can connect. \r\n\r\nThe relevant code for the server:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    // write your code here\r\n        System.out.println(&quot;Server Running...&quot;);\r\n        int port = 1020, backlog = 5;\r\n        String ipAddress = &quot;2552:548:41aa:c3f0:563c:hgj9:8ca2:b3aa&quot;;\r\n        ServerSocket serverSocket = new ServerSocket(port, backlog, InetAddress.getByName(ipAddress));\r\n        Server server = new Server(serverSocket);\r\n        server.startServer();\r\n    }\r\n\r\nThe relevant code for the client:\r\n\r\n    public class Client{\r\n\r\n    public String username;\r\n    private Socket socket = new Socket(&quot;2552:548:41aa:c3f0:563c:hgj9:8ca2:b3aa&quot;, 1020);\r\n    public BufferedReader bufferedReader;\r\n    public BufferedWriter bufferedWriter;\r\n    public ChatController chatController;\r\n\r\n    public Client(String username) throws IOException {\r\n        try {\r\n            this.username = username;\r\n            this.bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            this.bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            bufferedWriter.write(username);\r\n            bufferedWriter.newLine();\r\n            bufferedWriter.flush();\r\n            listenForMessage();\r\n        } catch (IOException e) {\r\n            closeEverything(socket, bufferedReader, bufferedWriter);\r\n        }\r\n    }\r\n\r\nLike I said, this works on my computer but the not when client is on a different computer. My thoughts are that the issue is on the client side, possibly not using an open port? Thank you in advance and let me know if I need to edit if it&#39;s not a proper question format.","title":"Java Client won&#39;t connect to remote server","body":"<p>Bare with me as it's been a while since I've been on here and I know there's format rules for questions. I have coded two java applications, both are pretty simple. One being a server and two being a client that connects to the server via socket. Now this works on my computer but when I have a buddy run on his computer it doesn't connect. I want the server to be able to run on my computer and anyone who has the client can connect.</p>\n<p>The relevant code for the server:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n// write your code here\n    System.out.println(&quot;Server Running...&quot;);\n    int port = 1020, backlog = 5;\n    String ipAddress = &quot;2552:548:41aa:c3f0:563c:hgj9:8ca2:b3aa&quot;;\n    ServerSocket serverSocket = new ServerSocket(port, backlog, InetAddress.getByName(ipAddress));\n    Server server = new Server(serverSocket);\n    server.startServer();\n}\n</code></pre>\n<p>The relevant code for the client:</p>\n<pre><code>public class Client{\n\npublic String username;\nprivate Socket socket = new Socket(&quot;2552:548:41aa:c3f0:563c:hgj9:8ca2:b3aa&quot;, 1020);\npublic BufferedReader bufferedReader;\npublic BufferedWriter bufferedWriter;\npublic ChatController chatController;\n\npublic Client(String username) throws IOException {\n    try {\n        this.username = username;\n        this.bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        this.bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n        bufferedWriter.write(username);\n        bufferedWriter.newLine();\n        bufferedWriter.flush();\n        listenForMessage();\n    } catch (IOException e) {\n        closeEverything(socket, bufferedReader, bufferedWriter);\n    }\n}\n</code></pre>\n<p>Like I said, this works on my computer but the not when client is on a different computer. My thoughts are that the issue is on the client side, possibly not using an open port? Thank you in advance and let me know if I need to edit if it's not a proper question format.</p>\n"},{"tags":["java","android","rendering","android-coordinatorlayout"],"answers":[{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637788128,"creation_date":1637788128,"answer_id":70102965,"question_id":70101563,"body_markdown":"Try building the project, if it fails then try invalidating the cache.","title":"The CoordinatorLayout could not be found on my project","body":"<p>Try building the project, if it fails then try invalidating the cache.</p>\n"}],"owner":{"account_id":23208080,"reputation":15,"user_id":17301983,"display_name":"TheGamerPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70102965,"answer_count":1,"score":0,"last_activity_date":1637788128,"creation_date":1637780295,"question_id":70101563,"body_markdown":"Every time I create a new project involving fragments on android studio using the updated androidx libraries I get a blank preview of activity-main.xml reading android.coordinatorlayout...CoordinatorLayout. This makes it so I can&#39;t see the preview properly and in some cases not be able to interact with it properly making it difficult to work on the project. I just created a new blank project to show what has been happening. With the following render problem:\r\n```\r\n    java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\r\n\tat android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\r\n\tat android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\r\n\tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater_Delegate.parseInclude(LayoutInflater_Delegate.java:204)\r\n\tat android.view.LayoutInflater.parseInclude(LayoutInflater.java:1159)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1117)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater_Delegate.parseInclude(LayoutInflater_Delegate.java:204)\r\n\tat android.view.LayoutInflater.parseInclude(LayoutInflater.java:1159)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1117)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:499)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:353)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:714)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$7(RenderTask.java:870)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) \r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.google.android.material.theme.overlay.MaterialThemeOverlay\r\n\tat com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:93)\r\n\tat com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\r\n\tat com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\r\n\tat com.google.android.material.theme.MaterialComponentsViewInflater.createTextView(MaterialComponentsViewInflater.java:61)\r\n\tat androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:121)\r\n\t... 39 more\r\n```\r\n\r\nSometimes another render problem happens and other times it goes away on its own as I moved different code and settings around but aren&#39;t sure what causes it either:\r\n\r\n```\r\nandroid.view.InflateException: Class not found project\r\n\tat android.graphics.drawable.DrawableInflater_Delegate.inflateFromClass(DrawableInflater_Delegate.java:63)\r\n\tat android.graphics.drawable.DrawableInflater.inflateFromClass(DrawableInflater.java:201)\r\n\tat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:141)\r\n\tat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1402)\r\n\tat android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1361)\r\n\tat android.graphics.drawable.Drawable.createFromXml(Drawable.java:1336)\r\n\tat com.android.layoutlib.bridge.impl.ResourceHelper.getDrawable(ResourceHelper.java:360)\r\n\tat android.content.res.Resources_Delegate.getDrawable(Resources_Delegate.java:184)\r\n\tat android.content.res.Resources.getDrawable(Resources.java:922)\r\n\tat android.content.Context.getDrawable(Context.java:693)\r\n\tat androidx.core.content.ContextCompat$Api21Impl.getDrawable(ContextCompat.java:864)\r\n\tat androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:483)\r\n\tat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:148)\r\n\tat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:136)\r\n\tat androidx.appcompat.widget.ResourceManagerInternal.checkVectorDrawableSetup(ResourceManagerInternal.java:493)\r\n\tat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:141)\r\n\tat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:136)\r\n\tat androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:66)\r\n\tat androidx.appcompat.widget.TintTypedArray.getDrawable(TintTypedArray.java:83)\r\n\tat androidx.appcompat.widget.Toolbar.&lt;init&gt;(Toolbar.java:318)\r\n\tat androidx.appcompat.widget.Toolbar.&lt;init&gt;(Toolbar.java:246)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.jetbrains.android.uipreview.ViewLoader.createNewInstance(ViewLoader.java:399)\r\n\tat org.jetbrains.android.uipreview.ViewLoader.loadClass(ViewLoader.java:189)\r\n\tat org.jetbrains.android.uipreview.ViewLoader.loadView(ViewLoader.java:147)\r\n\tat com.android.tools.idea.rendering.LayoutlibCallbackImpl.loadView(LayoutlibCallbackImpl.java:303)\r\n\tat android.view.BridgeInflater.loadCustomView(BridgeInflater.java:417)\r\n\tat android.view.BridgeInflater.loadCustomView(BridgeInflater.java:428)\r\n\tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:332)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:499)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:353)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:714)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$7(RenderTask.java:870)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.ClassNotFoundException: project not found.\r\n\tat com.android.tools.idea.rendering.LayoutlibCallbackImpl.findClass(LayoutlibCallbackImpl.java:899)\r\n\tat android.graphics.drawable.DrawableInflater_Delegate.inflateFromClass(DrawableInflater_Delegate.java:45)\r\n\t... 51 more\r\n```\r\n\r\nThis following code after this is for the design on activity_main.xml I played around with it before on different projects trying many supposed solutions but nothing really worked:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/Theme.FixHelp.AppBarOverlay&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:popupTheme=&quot;@style/Theme.FixHelp.PopupOverlay&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;include layout=&quot;@layout/content_main&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;bottom|end&quot;\r\n        android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nI&#39;m also going to include my build:gradle in case the problem has anything to do with my settings in the following code:\r\n```\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.revolution.fixhelp&quot;\r\n        minSdk 23\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.3.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.3.5&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\nAny help would really be appreciated I have been trying for hours to solve this","title":"The CoordinatorLayout could not be found on my project","body":"<p>Every time I create a new project involving fragments on android studio using the updated androidx libraries I get a blank preview of activity-main.xml reading android.coordinatorlayout...CoordinatorLayout. This makes it so I can't see the preview properly and in some cases not be able to interact with it properly making it difficult to work on the project. I just created a new blank project to show what has been happening. With the following render problem:</p>\n<pre><code>    java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\n    at android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\n    at android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater_Delegate.parseInclude(LayoutInflater_Delegate.java:204)\n    at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1159)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1117)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater_Delegate.parseInclude(LayoutInflater_Delegate.java:204)\n    at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1159)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1117)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:499)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:353)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:714)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$7(RenderTask.java:870)\n    at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834) \nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.google.android.material.theme.overlay.MaterialThemeOverlay\n    at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:93)\n    at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\n    at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\n    at com.google.android.material.theme.MaterialComponentsViewInflater.createTextView(MaterialComponentsViewInflater.java:61)\n    at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:121)\n    ... 39 more\n</code></pre>\n<p>Sometimes another render problem happens and other times it goes away on its own as I moved different code and settings around but aren't sure what causes it either:</p>\n<pre><code>android.view.InflateException: Class not found project\n    at android.graphics.drawable.DrawableInflater_Delegate.inflateFromClass(DrawableInflater_Delegate.java:63)\n    at android.graphics.drawable.DrawableInflater.inflateFromClass(DrawableInflater.java:201)\n    at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:141)\n    at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1402)\n    at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1361)\n    at android.graphics.drawable.Drawable.createFromXml(Drawable.java:1336)\n    at com.android.layoutlib.bridge.impl.ResourceHelper.getDrawable(ResourceHelper.java:360)\n    at android.content.res.Resources_Delegate.getDrawable(Resources_Delegate.java:184)\n    at android.content.res.Resources.getDrawable(Resources.java:922)\n    at android.content.Context.getDrawable(Context.java:693)\n    at androidx.core.content.ContextCompat$Api21Impl.getDrawable(ContextCompat.java:864)\n    at androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:483)\n    at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:148)\n    at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:136)\n    at androidx.appcompat.widget.ResourceManagerInternal.checkVectorDrawableSetup(ResourceManagerInternal.java:493)\n    at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:141)\n    at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:136)\n    at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:66)\n    at androidx.appcompat.widget.TintTypedArray.getDrawable(TintTypedArray.java:83)\n    at androidx.appcompat.widget.Toolbar.&lt;init&gt;(Toolbar.java:318)\n    at androidx.appcompat.widget.Toolbar.&lt;init&gt;(Toolbar.java:246)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.jetbrains.android.uipreview.ViewLoader.createNewInstance(ViewLoader.java:399)\n    at org.jetbrains.android.uipreview.ViewLoader.loadClass(ViewLoader.java:189)\n    at org.jetbrains.android.uipreview.ViewLoader.loadView(ViewLoader.java:147)\n    at com.android.tools.idea.rendering.LayoutlibCallbackImpl.loadView(LayoutlibCallbackImpl.java:303)\n    at android.view.BridgeInflater.loadCustomView(BridgeInflater.java:417)\n    at android.view.BridgeInflater.loadCustomView(BridgeInflater.java:428)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:332)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:499)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:353)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:714)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$7(RenderTask.java:870)\n    at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassNotFoundException: project not found.\n    at com.android.tools.idea.rendering.LayoutlibCallbackImpl.findClass(LayoutlibCallbackImpl.java:899)\n    at android.graphics.drawable.DrawableInflater_Delegate.inflateFromClass(DrawableInflater_Delegate.java:45)\n    ... 51 more\n</code></pre>\n<p>This following code after this is for the design on activity_main.xml I played around with it before on different projects trying many supposed solutions but nothing really worked:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/Theme.FixHelp.AppBarOverlay&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:popupTheme=&quot;@style/Theme.FixHelp.PopupOverlay&quot; /&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot; /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|end&quot;\n        android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>I'm also going to include my build:gradle in case the problem has anything to do with my settings in the following code:</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.revolution.fixhelp&quot;\n        minSdk 23\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>Any help would really be appreciated I have been trying for hours to solve this</p>\n"},{"tags":["java","docker","dockerfile","docker-build"],"comments":[{"owner":{"account_id":7561163,"reputation":1380,"user_id":5738696,"display_name":"korolar"},"score":1,"creation_date":1516033869,"post_id":48266844,"comment_id":83517172,"body_markdown":"The error message seems to suggest that Docker treats your entire Dockerfile as a single line. The snippet you&#39;ve provided have proper line terminators - is it the case for the original file as well?","body":"The error message seems to suggest that Docker treats your entire Dockerfile as a single line. The snippet you&#39;ve provided have proper line terminators - is it the case for the original file as well?"},{"owner":{"account_id":11895795,"reputation":638,"user_id":8705275,"display_name":"twinklehawk"},"score":1,"creation_date":1516033875,"post_id":48266844,"comment_id":83517176,"body_markdown":"What end of line characters are you using in the dockerfile?","body":"What end of line characters are you using in the dockerfile?"}],"answers":[{"tags":[],"owner":{"account_id":11899819,"reputation":2637,"user_id":8708123,"display_name":"Fendi jatmiko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1516034320,"creation_date":1516034320,"answer_id":48267206,"question_id":48266844,"body_markdown":"try use **ARG**, so instead of just\r\n\r\n    FROM ubuntu:14.04\r\n    ENV MAVEN_VERSION 3.3.9\r\n\r\nchange to \r\n \r\n    FROM ubuntu:14.04\r\n    ARG MAVEN_VERSION=3.5.9","title":"FROM requires one or three arguments Docker","body":"<p>try use <strong>ARG</strong>, so instead of just</p>\n\n<pre><code>FROM ubuntu:14.04\nENV MAVEN_VERSION 3.3.9\n</code></pre>\n\n<p>change to </p>\n\n<pre><code>FROM ubuntu:14.04\nARG MAVEN_VERSION=3.5.9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11800516,"reputation":68,"user_id":8634315,"display_name":"shapeshifter42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632506598,"creation_date":1632506598,"answer_id":69319408,"question_id":48266844,"body_markdown":"While it&#39;s not the same cause as with the problem the OP had, I had the exact same error after following a tutorial.\r\n\r\nTurns out said tutorial had comments at the end of each config line e.g.\r\nFROM python:3 # the base image \r\n\r\nOn removing the comments, all was fine (turns out a &#39;#&#39; must be at the beginning of a comment as discussed [here][1]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36710459/how-do-i-make-a-comment-in-a-dockerfile","title":"FROM requires one or three arguments Docker","body":"<p>While it's not the same cause as with the problem the OP had, I had the exact same error after following a tutorial.</p>\n<p>Turns out said tutorial had comments at the end of each config line e.g.\nFROM python:3 # the base image</p>\n<p>On removing the comments, all was fine (turns out a '#' must be at the beginning of a comment as discussed <a href=\"https://stackoverflow.com/questions/36710459/how-do-i-make-a-comment-in-a-dockerfile\">here</a>).</p>\n"},{"tags":[],"owner":{"account_id":1603446,"reputation":679,"user_id":1484041,"display_name":"midgetspy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637787947,"creation_date":1637787947,"answer_id":70102931,"question_id":48266844,"body_markdown":"In my case this error was caused by having a Dockerfile with CR line-endings on Windows. Converting to CRLF or LF solved the issue.","title":"FROM requires one or three arguments Docker","body":"<p>In my case this error was caused by having a Dockerfile with CR line-endings on Windows. Converting to CRLF or LF solved the issue.</p>\n"}],"owner":{"account_id":7654314,"reputation":1505,"user_id":5801823,"accept_rate":100,"display_name":"papaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48267206,"answer_count":3,"score":0,"last_activity_date":1637787947,"creation_date":1516033045,"question_id":48266844,"body_markdown":"I run ` docker build -t imagename .` \r\n\r\nI get the following error :\r\n\r\n\r\n   \r\n     Step 1/1 : FROM ubuntu:14.04 \r\n     ENV MAVEN_VERSION 3.3.9 RUN mkdir -p /usr/share/maven \\ \r\n     &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\ | \r\n     tar -xzC /usr/share/maven --strip-components=1 \\\r\n     &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn ENV MAVEN_HOME \r\n     /usr/share/maven VOLUME /root/.m2 CMD [&quot;mvn&quot;]\r\n            **FROM requires either one or three arguments**\r\n\r\nCan anyone tell me what I should to fix this. I downgraded from 17.12 to 17.06 so that I dont get `Bad Response from Docker Enginer` when I build. Others work fine. I can pull and run other images. I can&#39;t build. Please help and suggest a fix thank you!\r\n\r\nMy docker version is\r\n\r\n    Docker version 17.06.2-ce, build cec0b72\r\n\r\nDocker info is:\r\n\r\n     Containers: 1\r\n     Running: 0\r\n     Paused: 0\r\n     Stopped: 1\r\n    Images: 1\r\n    Server Version: 17.06.2-ce\r\n    Storage Driver: overlay2\r\n     Backing Filesystem: extfs\r\n     Supports d_type: true\r\n     Native Overlay Diff: true\r\n    Logging Driver: json-file\r\n    Cgroup Driver: cgroupfs\r\n    Plugins:\r\n     Volume: local\r\n     Network: bridge host ipvlan macvlan null overlay\r\n     Log: awslogs fluentd gcplogs gelf journald json-file\r\n    Swarm: inactive\r\n    Runtimes: runc\r\n    Default Runtime: runc\r\n    Init Binary: docker-init\r\n    containerd version: 6e23458c129b551d5c9871e5174f6b1b7\r\n    runc version: 810190ceaa507aa2727d7ae6f4790c76ec150bd\r\n    init version: 949e6fa\r\n    Security Options:\r\n     seccomp\r\n      Profile: default\r\n    Kernel Version: 4.9.41-moby\r\n    Operating System: Alpine Linux v3.5\r\n    OSType: linux\r\n    Architecture: x86_64\r\n    CPUs: 2\r\n    Total Memory: 1.934GiB\r\n    Name: moby\r\n    ID: 3S5I:DUOJ:EBRI:PRH6:VMBJ:6H3K:OBZB:HFH7:7RSH:XEO5\r\n    Docker Root Dir: /var/lib/docker\r\n    Debug Mode (client): false\r\n    Debug Mode (server): true\r\n     File Descriptors: 15\r\n     Goroutines: 26\r\n     System Time: 2018-01-15T16:10:58.5589804Z\r\n     EventsListeners: 0\r\n    Registry: https://index.docker.io/v1/\r\n    Experimental: true\r\n    Insecure Registries:\r\n     127.0.0.0/8\r\n    Live Restore Enabled: false\r\n\r\nDocker file is:\r\n\r\n    FROM ubuntu:14.04\r\n    ENV MAVEN_VERSION 3.3.9\r\n    \r\n    RUN mkdir -p /usr/share/maven \\\r\n      &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\r\n        | tar -xzC /usr/share/maven --strip-components=1 \\\r\n      &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\r\n    \r\n    ENV MAVEN_HOME /usr/share/maven\r\n    \r\n    VOLUME /root/.m2\r\n    \r\n    CMD [&quot;mvn&quot;] \r\n\r\n\r\n\r\n\r\n\r\n","title":"FROM requires one or three arguments Docker","body":"<p>I run <code>docker build -t imagename .</code> </p>\n\n<p>I get the following error :</p>\n\n<pre><code> Step 1/1 : FROM ubuntu:14.04 \n ENV MAVEN_VERSION 3.3.9 RUN mkdir -p /usr/share/maven \\ \n &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\ | \n tar -xzC /usr/share/maven --strip-components=1 \\\n &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn ENV MAVEN_HOME \n /usr/share/maven VOLUME /root/.m2 CMD [\"mvn\"]\n        **FROM requires either one or three arguments**\n</code></pre>\n\n<p>Can anyone tell me what I should to fix this. I downgraded from 17.12 to 17.06 so that I dont get <code>Bad Response from Docker Enginer</code> when I build. Others work fine. I can pull and run other images. I can't build. Please help and suggest a fix thank you!</p>\n\n<p>My docker version is</p>\n\n<pre><code>Docker version 17.06.2-ce, build cec0b72\n</code></pre>\n\n<p>Docker info is:</p>\n\n<pre><code> Containers: 1\n Running: 0\n Paused: 0\n Stopped: 1\nImages: 1\nServer Version: 17.06.2-ce\nStorage Driver: overlay2\n Backing Filesystem: extfs\n Supports d_type: true\n Native Overlay Diff: true\nLogging Driver: json-file\nCgroup Driver: cgroupfs\nPlugins:\n Volume: local\n Network: bridge host ipvlan macvlan null overlay\n Log: awslogs fluentd gcplogs gelf journald json-file\nSwarm: inactive\nRuntimes: runc\nDefault Runtime: runc\nInit Binary: docker-init\ncontainerd version: 6e23458c129b551d5c9871e5174f6b1b7\nrunc version: 810190ceaa507aa2727d7ae6f4790c76ec150bd\ninit version: 949e6fa\nSecurity Options:\n seccomp\n  Profile: default\nKernel Version: 4.9.41-moby\nOperating System: Alpine Linux v3.5\nOSType: linux\nArchitecture: x86_64\nCPUs: 2\nTotal Memory: 1.934GiB\nName: moby\nID: 3S5I:DUOJ:EBRI:PRH6:VMBJ:6H3K:OBZB:HFH7:7RSH:XEO5\nDocker Root Dir: /var/lib/docker\nDebug Mode (client): false\nDebug Mode (server): true\n File Descriptors: 15\n Goroutines: 26\n System Time: 2018-01-15T16:10:58.5589804Z\n EventsListeners: 0\nRegistry: https://index.docker.io/v1/\nExperimental: true\nInsecure Registries:\n 127.0.0.0/8\nLive Restore Enabled: false\n</code></pre>\n\n<p>Docker file is:</p>\n\n<pre><code>FROM ubuntu:14.04\nENV MAVEN_VERSION 3.3.9\n\nRUN mkdir -p /usr/share/maven \\\n  &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\n    | tar -xzC /usr/share/maven --strip-components=1 \\\n  &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\n\nENV MAVEN_HOME /usr/share/maven\n\nVOLUME /root/.m2\n\nCMD [\"mvn\"] \n</code></pre>\n"},{"tags":["java","azure","azureservicebus","azure-servicebus-queues"],"comments":[{"owner":{"account_id":23696,"reputation":24099,"user_id":59563,"accept_rate":88,"display_name":"Sean Feldman"},"score":1,"creation_date":1637786605,"post_id":70102266,"comment_id":123922145,"body_markdown":"Explain how this will work? You don&#39;t want sessions, you can&#39;t use a correlation filter (requires a well-known value for that to work). Why do you care for a message sent from A to be received by B? Is there an instance-affinity in a scaled-out scenario? Do you have more than just one receiver B for the messages from A? Something is missing here to try to help with your scenario.","body":"Explain how this will work? You don&#39;t want sessions, you can&#39;t use a correlation filter (requires a well-known value for that to work). Why do you care for a message sent from A to be received by B? Is there an instance-affinity in a scaled-out scenario? Do you have more than just one receiver B for the messages from A? Something is missing here to try to help with your scenario."},{"owner":{"account_id":5953511,"reputation":183,"user_id":4680890,"display_name":"Ziggy000"},"score":0,"creation_date":1637786963,"post_id":70102266,"comment_id":123922254,"body_markdown":"This is a simple request/reply pattern. Application A is sending a request to application B (including an correlation id). Application B is doing some work and responds with a reply message (with same correlation id set) on an Azure Service Bus queue. Application A will read the response from this queue - preferably just reading the message with the correct correlation id. I could let Application B set sessionid=correlation id and let Application A establish a session on this id, but it sounds that there would be some overhead...","body":"This is a simple request/reply pattern. Application A is sending a request to application B (including an correlation id). Application B is doing some work and responds with a reply message (with same correlation id set) on an Azure Service Bus queue. Application A will read the response from this queue - preferably just reading the message with the correct correlation id. I could let Application B set sessionid=correlation id and let Application A establish a session on this id, but it sounds that there would be some overhead..."},{"owner":{"account_id":23696,"reputation":24099,"user_id":59563,"accept_rate":88,"display_name":"Sean Feldman"},"score":0,"creation_date":1637798780,"post_id":70102266,"comment_id":123925321,"body_markdown":"It sounds like you are trying to correlate the response to a web request. Is that the case? I.e. a request over HTTP gets a response with the results of the processing from B, to the same HTTP requestor.","body":"It sounds like you are trying to correlate the response to a web request. Is that the case? I.e. a request over HTTP gets a response with the results of the processing from B, to the same HTTP requestor."},{"owner":{"account_id":20197676,"reputation":628,"user_id":14814223,"display_name":"Jdresc"},"score":1,"creation_date":1637815380,"post_id":70102266,"comment_id":123928004,"body_markdown":"Why would filters not work for you ? you can add any custom property in all the events sent from any of the senders and then just have them read from specific subscriptions that apply those filters,  once those messages are sitting there if you wish not to read all of them ig you can lock them all and just process the desired ones and abandon the rest of them.","body":"Why would filters not work for you ? you can add any custom property in all the events sent from any of the senders and then just have them read from specific subscriptions that apply those filters,  once those messages are sitting there if you wish not to read all of them ig you can lock them all and just process the desired ones and abandon the rest of them."}],"owner":{"account_id":5953511,"reputation":183,"user_id":4680890,"display_name":"Ziggy000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637787201,"creation_date":1637784017,"question_id":70102266,"body_markdown":"Is there any way of only receive messages from an Azure Service Bus queue with a specific correlation id?\r\n\r\nThe scenario is:\r\n1. I am receiving a REST API call to my application A\r\n2. My application A will generate an unique correlation id\r\n3. My application A will send a request to another application B and include the correlation id. This request is _not_ sent on the Azure Service Bus - with via another mechanism.\r\n4. The application B will perform some logic and send a reply message on an Azure Service Bus queue with the correlation id it received in (3)\r\n5. My application A wants to read only the message from the queue with the corresponding correlation id and generate a response to the initial caller based on this reply message.\r\n\r\nI see that there is a concept of sessions, but it seems a bit overkill to create new sessions for each request to my application. I cannot reuse correlation id, because I need them to be unique for each request to my application. I see that an alternative could be to use a topic and subscribe with a filter, but that also seems like overkill.\r\n\r\nAny ideas?","title":"Reading messages from Azure Service Bus queue with specific correlation id","body":"<p>Is there any way of only receive messages from an Azure Service Bus queue with a specific correlation id?</p>\n<p>The scenario is:</p>\n<ol>\n<li>I am receiving a REST API call to my application A</li>\n<li>My application A will generate an unique correlation id</li>\n<li>My application A will send a request to another application B and include the correlation id. This request is <em>not</em> sent on the Azure Service Bus - with via another mechanism.</li>\n<li>The application B will perform some logic and send a reply message on an Azure Service Bus queue with the correlation id it received in (3)</li>\n<li>My application A wants to read only the message from the queue with the corresponding correlation id and generate a response to the initial caller based on this reply message.</li>\n</ol>\n<p>I see that there is a concept of sessions, but it seems a bit overkill to create new sessions for each request to my application. I cannot reuse correlation id, because I need them to be unique for each request to my application. I see that an alternative could be to use a topic and subscribe with a filter, but that also seems like overkill.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1637774395,"post_id":70100319,"comment_id":123917905,"body_markdown":"When `i` is zero, `lenght-i` is equal to `lenght`, which is too big. The last permissible index is `lenght-1`. So `lenght - 1 - i` would make more sense.","body":"When <code>i</code> is zero, <code>lenght-i</code> is equal to <code>lenght</code>, which is too big. The last permissible index is <code>lenght-1</code>. So <code>lenght - 1 - i</code> would make more sense."},{"owner":{"account_id":12709521,"reputation":705,"user_id":9233560,"display_name":"gkhaos"},"score":0,"creation_date":1637775210,"post_id":70100319,"comment_id":123918188,"body_markdown":"you can reverse a for-loop as well, in your case the head would look like `for (int i = length-1; i &gt;= 0; i--)`","body":"you can reverse a for-loop as well, in your case the head would look like <code>for (int i = length-1; i &gt;= 0; i--)</code>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637786924,"creation_date":1637786924,"answer_id":70102742,"question_id":70100319,"body_markdown":"It may be better to limit `while` loop to reading the inputs and when user is done, print the list contents in any desired order.\r\n```java\r\nScanner imeskanera = new Scanner(System.in);\r\nList&lt;String&gt; wordlist = new ArrayList&lt;&gt;();\r\n\r\nString word;\r\n\r\nSystem.out.println(&quot;Type a word: &quot;);\r\nwhile(!(word = imeskanera.nextLine()).isEmpty()) {\r\n    wordlist.add(word);\r\n    System.out.println(&quot;Type a word: &quot;);\r\n}\r\nfor (int i = wordlist.size(); i-- &gt; 0;) { // index decremented in condition\r\n    System.out.println(wordlist.get(i));\r\n}\r\n```\r\nOr `ListIterator` may be retrieved using `List::listIterator` and its methods `hasPrevious()` / `previous()` can be used to iterate in reverse direction -- however, the size of list is needed anyway:\r\n```java\r\nfor (ListIterator i = wordlist.listIterator(wordlist.size()); i.hasPrevious();) {\r\n    System.out.println(i.previous());\r\n}\r\n```","title":"Can&#39;t get last element in arrayList without knowing the length","body":"<p>It may be better to limit <code>while</code> loop to reading the inputs and when user is done, print the list contents in any desired order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner imeskanera = new Scanner(System.in);\nList&lt;String&gt; wordlist = new ArrayList&lt;&gt;();\n\nString word;\n\nSystem.out.println(&quot;Type a word: &quot;);\nwhile(!(word = imeskanera.nextLine()).isEmpty()) {\n    wordlist.add(word);\n    System.out.println(&quot;Type a word: &quot;);\n}\nfor (int i = wordlist.size(); i-- &gt; 0;) { // index decremented in condition\n    System.out.println(wordlist.get(i));\n}\n</code></pre>\n<p>Or <code>ListIterator</code> may be retrieved using <code>List::listIterator</code> and its methods <code>hasPrevious()</code> / <code>previous()</code> can be used to iterate in reverse direction -- however, the size of list is needed anyway:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (ListIterator i = wordlist.listIterator(wordlist.size()); i.hasPrevious();) {\n    System.out.println(i.previous());\n}\n</code></pre>\n"}],"owner":{"account_id":20645614,"reputation":41,"user_id":15157202,"display_name":"Slaven Staji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70102742,"answer_count":1,"score":0,"last_activity_date":1637786924,"creation_date":1637774255,"question_id":70100319,"body_markdown":"    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    \r\n    public class kek2 {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner imeskanera = new Scanner(System.in);\r\n    \t\tArrayList&lt;String&gt; wordlist = new ArrayList &lt;String&gt;();\r\n    \t\t\r\n    \t\twhile(true) {\r\n    \t\t\tSystem.out.println(&quot;Type a word: &quot;);\r\n    \t\t\tString word = imeskanera.nextLine();\r\n    \t\t\r\n    \t\t\tint lenght =wordlist.size();\r\n    \t\t\tif(word.equals(&quot;&quot;)) {\r\n    \t\t\t\tfor(int i = 0;i&lt;lenght; i++) {\r\n    \t\t\t\t\t\r\n    \t\t\t\tSystem.out.println(wordlist.get(lenght-i));}\r\n    \t\t\t\tbreak;\r\n    \t\t\t} \r\n    \t\t\twordlist.add(word);\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\nIm trying to print out the array in reversed order but i get error in `(lenght-i)` part, everything looks fine to me, am&#39;I doing something wrong that Java doesnt allow?\r\n\r\n\r\n","title":"Can&#39;t get last element in arrayList without knowing the length","body":"<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class kek2 {\n\n    \n    public static void main(String[] args) {\n        Scanner imeskanera = new Scanner(System.in);\n        ArrayList&lt;String&gt; wordlist = new ArrayList &lt;String&gt;();\n        \n        while(true) {\n            System.out.println(&quot;Type a word: &quot;);\n            String word = imeskanera.nextLine();\n        \n            int lenght =wordlist.size();\n            if(word.equals(&quot;&quot;)) {\n                for(int i = 0;i&lt;lenght; i++) {\n                    \n                System.out.println(wordlist.get(lenght-i));}\n                break;\n            } \n            wordlist.add(word);\n            \n            }\n        }\n    }\n    \n</code></pre>\n<p>Im trying to print out the array in reversed order but i get error in <code>(lenght-i)</code> part, everything looks fine to me, am'I doing something wrong that Java doesnt allow?</p>\n"},{"tags":["java","exception","weka"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637786424,"creation_date":1637786424,"answer_id":70102650,"question_id":70102302,"body_markdown":"At the time of writing, Weka&#39;s package manager does not work with Java 16 or later (due to low-level class injections). Use Java 11 instead.","title":"Why occur Runtime Exception when call buildClassifier with Weka for java?","body":"<p>At the time of writing, Weka's package manager does not work with Java 16 or later (due to low-level class injections). Use Java 11 instead.</p>\n"}],"owner":{"account_id":16498997,"reputation":131,"user_id":11920768,"display_name":"leesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70102650,"answer_count":1,"score":1,"last_activity_date":1637786424,"creation_date":1637784311,"question_id":70102302,"body_markdown":"I make some classification program with weka api of java and \r\nI use weka&#39;s default `contact-lens.arff` data set.\r\n\r\nI&#39;ve completed the code and it runs well with one exception.\r\n\r\n\r\n```java\r\nimport weka.core.Instances;\r\nimport weka.classifiers.rules.OneR;\r\nimport weka.classifiers.trees.J48;\r\nimport weka.classifiers.bayes.NaiveBayes;\r\n/*\r\n ~ some codes ~\r\n*/\r\n    static OneR or_lens = new OneR(); \r\n\tstatic J48 tree_lens=new J48(); \r\n\tstatic NaiveBayes nb_lens = new NaiveBayes(); \r\n\t\r\n\tstatic OneR or_weather = new OneR();\r\n\tstatic J48 tree_weather=new J48();\r\n\tstatic NaiveBayes nb_weather = new NaiveBayes(); \r\n\t\r\n\tpublic static void lens_learning(Instances lens_data) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tor_lens.buildClassifier(lens_data); // occur exception\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n/*\r\n ~ some codes ~\r\n*/\r\n```\r\n\r\n```java\r\njava.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4dcbadb4\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat weka.core.WekaPackageClassLoaderManager.injectClasses(WekaPackageClassLoaderManager.java:792)\r\n\tat weka.core.WekaPackageClassLoaderManager.injectAllClassesInFromStream(WekaPackageClassLoaderManager.java:690)\r\n\tat weka.core.WekaPackageClassLoaderManager.injectMTJCoreClasses(WekaPackageClassLoaderManager.java:118)\r\n\tat weka.core.WekaPackageManager.&lt;clinit&gt;(WekaPackageManager.java:255)\r\n\tat weka.core.ResourceUtils.readProperties(ResourceUtils.java:241)\r\n\tat weka.core.ResourceUtils.readProperties(ResourceUtils.java:184)\r\n\tat weka.core.Utils.readProperties(Utils.java:183)\r\n\tat weka.core.Capabilities.&lt;clinit&gt;(Capabilities.java:104)\r\n\tat weka.classifiers.AbstractClassifier.getCapabilities(AbstractClassifier.java:509)\r\n\tat weka.classifiers.rules.OneR.getCapabilities(OneR.java:289)\r\n\tat weka.classifiers.rules.OneR.buildClassifier(OneR.java:317)\r\n\tat hw2.Hw2.lens_learning(Hw2.java:25)\r\n\tat hw2.Hw2.main(Hw2.java:102)\r\n```\r\n\r\nAfter it occurs this Runtime Exception, program runs smoothly.\r\n\r\nBut, I want to hide or get rid of this exception strings.\r\n\r\nI use `jdk-17.0.1`.\r\n\r\n1. Why `buildClassifier` occurs this exception?\r\n\r\n2. How can I hide this exception strings? `try ... catch ...` couldn&#39;t hide them :,(","title":"Why occur Runtime Exception when call buildClassifier with Weka for java?","body":"<p>I make some classification program with weka api of java and\nI use weka's default <code>contact-lens.arff</code> data set.</p>\n<p>I've completed the code and it runs well with one exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import weka.core.Instances;\nimport weka.classifiers.rules.OneR;\nimport weka.classifiers.trees.J48;\nimport weka.classifiers.bayes.NaiveBayes;\n/*\n ~ some codes ~\n*/\n    static OneR or_lens = new OneR(); \n    static J48 tree_lens=new J48(); \n    static NaiveBayes nb_lens = new NaiveBayes(); \n    \n    static OneR or_weather = new OneR();\n    static J48 tree_weather=new J48();\n    static NaiveBayes nb_weather = new NaiveBayes(); \n    \n    public static void lens_learning(Instances lens_data) {\n        \n        try {\n            or_lens.buildClassifier(lens_data); // occur exception\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n/*\n ~ some codes ~\n*/\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4dcbadb4\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at weka.core.WekaPackageClassLoaderManager.injectClasses(WekaPackageClassLoaderManager.java:792)\n    at weka.core.WekaPackageClassLoaderManager.injectAllClassesInFromStream(WekaPackageClassLoaderManager.java:690)\n    at weka.core.WekaPackageClassLoaderManager.injectMTJCoreClasses(WekaPackageClassLoaderManager.java:118)\n    at weka.core.WekaPackageManager.&lt;clinit&gt;(WekaPackageManager.java:255)\n    at weka.core.ResourceUtils.readProperties(ResourceUtils.java:241)\n    at weka.core.ResourceUtils.readProperties(ResourceUtils.java:184)\n    at weka.core.Utils.readProperties(Utils.java:183)\n    at weka.core.Capabilities.&lt;clinit&gt;(Capabilities.java:104)\n    at weka.classifiers.AbstractClassifier.getCapabilities(AbstractClassifier.java:509)\n    at weka.classifiers.rules.OneR.getCapabilities(OneR.java:289)\n    at weka.classifiers.rules.OneR.buildClassifier(OneR.java:317)\n    at hw2.Hw2.lens_learning(Hw2.java:25)\n    at hw2.Hw2.main(Hw2.java:102)\n</code></pre>\n<p>After it occurs this Runtime Exception, program runs smoothly.</p>\n<p>But, I want to hide or get rid of this exception strings.</p>\n<p>I use <code>jdk-17.0.1</code>.</p>\n<ol>\n<li><p>Why <code>buildClassifier</code> occurs this exception?</p>\n</li>\n<li><p>How can I hide this exception strings? <code>try ... catch ...</code> couldn't hide them :,(</p>\n</li>\n</ol>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637785709,"post_id":70102467,"comment_id":123921898,"body_markdown":"The annotation [won&#39;t work](https://stackoverflow.com/q/4396284/2541560) on a private method.","body":"The annotation <a href=\"https://stackoverflow.com/q/4396284/2541560\">won&#39;t work</a> on a private method."},{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":0,"creation_date":1637785731,"post_id":70102467,"comment_id":123921907,"body_markdown":"`methodB` must be transactional, as it&#39;s calling `methodA` locally as opposed to via a transaction proxy.  `@Transactional private methodA` is meaningless. You will have to call `@Transactional public methodB`","body":"<code>methodB</code> must be transactional, as it&#39;s calling <code>methodA</code> locally as opposed to via a transaction proxy.  <code>@Transactional private methodA</code> is meaningless. You will have to call <code>@Transactional public methodB</code>"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1637786285,"post_id":70102467,"comment_id":123922053,"body_markdown":"*A method who call a transactional method has to be transactional?* no, otherwise everything before should be transactional","body":"<i>A method who call a transactional method has to be transactional?</i> no, otherwise everything before should be transactional"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637786404,"creation_date":1637786404,"answer_id":70102646,"question_id":70102467,"body_markdown":"The transaction is implemented through a proxy. Calls from within the object (such as code within methodB) don&#39;t go through the proxy.\r\n\r\nYou can have one nontransactional service, and one transactional service, and inject the transactional service into the other, so you can call a transactional method from the nontransactional service and go through the proxy. That way you can keep the boundaries you want on your transaction. ","title":"Spring: A method who call a transactional method has to be transactional?","body":"<p>The transaction is implemented through a proxy. Calls from within the object (such as code within methodB) don't go through the proxy.</p>\n<p>You can have one nontransactional service, and one transactional service, and inject the transactional service into the other, so you can call a transactional method from the nontransactional service and go through the proxy. That way you can keep the boundaries you want on your transaction.</p>\n"}],"owner":{"account_id":19936114,"reputation":562,"user_id":14608747,"display_name":"Paul Serre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70102646,"answer_count":1,"score":0,"last_activity_date":1637786404,"creation_date":1637785384,"question_id":70102467,"body_markdown":"It has probably already been asked, but I didn&#39;t find the answer so I&#39;m asking it.\r\n\r\nIf I have this pattern:\r\n\r\n    @Transactional\r\n    private methodA(List&lt;Long&gt; ids) {\r\n       // Call to DB\r\n    }\r\n    \r\n    public methodB(List&lt;Long&gt; ids) {\r\n       // Operations that doesn&#39;t require DB calls\r\n       this.methodA(ids);\r\n       // Operations that doesn&#39;t require DB calls\r\n    }\r\n\r\n\r\nShould Method B be transactional? And if not, will it make shorter the transaction duration?","title":"Spring: A method who call a transactional method has to be transactional?","body":"<p>It has probably already been asked, but I didn't find the answer so I'm asking it.</p>\n<p>If I have this pattern:</p>\n<pre><code>@Transactional\nprivate methodA(List&lt;Long&gt; ids) {\n   // Call to DB\n}\n\npublic methodB(List&lt;Long&gt; ids) {\n   // Operations that doesn't require DB calls\n   this.methodA(ids);\n   // Operations that doesn't require DB calls\n}\n</code></pre>\n<p>Should Method B be transactional? And if not, will it make shorter the transaction duration?</p>\n"},{"tags":["java","swing","line-breaks","jtextpane"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1401176591,"post_id":23883475,"comment_id":36767553,"body_markdown":"http://java-sl.com/tip_letter_wrap_java7.html you have to define min width for label view = 0","body":"<a href=\"http://java-sl.com/tip_letter_wrap_java7.html\" rel=\"nofollow noreferrer\">java-sl.com/tip_letter_wrap_java7.html</a> you have to define min width for label view = 0"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1401176629,"post_id":23883475,"comment_id":36767575,"body_markdown":"Also  this http://java-sl.com/tip_java7_text_wrapping_bug_fix.html could help","body":"Also  this <a href=\"http://java-sl.com/tip_java7_text_wrapping_bug_fix.html\" rel=\"nofollow noreferrer\">java-sl.com/tip_java7_text_wrapping_bug_fix.html</a> could help"},{"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"score":0,"creation_date":1401177175,"post_id":23883475,"comment_id":36767931,"body_markdown":"@StanislavL, Thanks, I tried solution of your first link. I get  java.lang.ClassCastException: javax.swing.text.DefaultStyledDocument cannot be cast to javax.swing.text.html.HTMLDocument\n\tat javax.swing.text.html.ParagraphView.getStyleSheet(ParagraphView.java:132)","body":"@StanislavL, Thanks, I tried solution of your first link. I get  java.lang.ClassCastException: javax.swing.text.DefaultStyledDocument cannot be cast to javax.swing.text.html.HTMLDocument \tat javax.swing.text.html.ParagraphView.getStyleSheet(ParagraphV&zwnj;&#8203;iew.java:132)"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1401177328,"post_id":23883475,"comment_id":36768028,"body_markdown":"My example has no relation to HTMLDocument at all. Don&#39;t know whta&#39;s wrong with **your code**","body":"My example has no relation to HTMLDocument at all. Don&#39;t know whta&#39;s wrong with <b>your code</b>"},{"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"score":0,"creation_date":1401177388,"post_id":23883475,"comment_id":36768062,"body_markdown":"ok, I will investigate on this, maybe my code did something messy","body":"ok, I will investigate on this, maybe my code did something messy"},{"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"score":0,"creation_date":1401246178,"post_id":23883475,"comment_id":36803604,"body_markdown":"@StanislavL, It turned out that I imported wrong ParagraphView. Your solution works like a charm, please considering put your comments as an answer for other people&#39;s reference. Thanks!","body":"@StanislavL, It turned out that I imported wrong ParagraphView. Your solution works like a charm, please considering put your comments as an answer for other people&#39;s reference. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637786276,"creation_date":1401254568,"answer_id":23903362,"question_id":23883475,"body_markdown":"To allow letter wrap `LabelView` should be modified to override min width\r\n\r\n[java-sl.com/tip_letter_wrap_java7.html][1] you have to define min width for label view = 0\r\n\r\nAlso this [java-sl.com/tip_java7_text_wrapping_bug_fix.html][2] could help \r\n\r\nPosted as an answer from my comment.\r\n\r\n  [1]: http://java-sl.com/tip_letter_wrap_java7.html\r\n  [2]: http://java-sl.com/tip_java7_text_wrapping_bug_fix.html","title":"How to make JTextPane line break","body":"<p>To allow letter wrap <code>LabelView</code> should be modified to override min width</p>\n<p><a href=\"http://java-sl.com/tip_letter_wrap_java7.html\" rel=\"nofollow noreferrer\">java-sl.com/tip_letter_wrap_java7.html</a> you have to define min width for label view = 0</p>\n<p>Also this <a href=\"http://java-sl.com/tip_java7_text_wrapping_bug_fix.html\" rel=\"nofollow noreferrer\">java-sl.com/tip_java7_text_wrapping_bug_fix.html</a> could help</p>\n<p>Posted as an answer from my comment.</p>\n"}],"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1448365616,"accepted_answer_id":23903362,"answer_count":1,"score":2,"last_activity_date":1637786276,"creation_date":1401175772,"question_id":23883475,"body_markdown":"In Java Swing, the `JTextPane` has word wrap when the text exceeds *width*, but it does NOT line break for when there&#39;s a very long non-space string.\r\n\r\nHow can I make a  `JTextPane` line break for a long non-space string?\r\n\r\nAny ideas would be much appreciated, thanks.","title":"How to make JTextPane line break","body":"<p>In Java Swing, the <code>JTextPane</code> has word wrap when the text exceeds <em>width</em>, but it does NOT line break for when there's a very long non-space string.</p>\n<p>How can I make a  <code>JTextPane</code> line break for a long non-space string?</p>\n<p>Any ideas would be much appreciated, thanks.</p>\n"},{"tags":["java","spring","spring-boot","file"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1637790628,"post_id":70102535,"comment_id":123923411,"body_markdown":"How are the files tied to the user account? Do you have some mapping tables mapping from file id to user id?","body":"How are the files tied to the user account? Do you have some mapping tables mapping from file id to user id?"},{"owner":{"account_id":21598538,"reputation":1,"user_id":15927101,"display_name":"James"},"score":0,"creation_date":1637794513,"post_id":70102535,"comment_id":123924415,"body_markdown":"@dunni Oh I see I didn&#39;t think about that. Now I know how to map a database table to an entity class, but I don&#39;t know how I would go about mapping from file id to user id. Could you point me in the right direction?","body":"@dunni Oh I see I didn&#39;t think about that. Now I know how to map a database table to an entity class, but I don&#39;t know how I would go about mapping from file id to user id. Could you point me in the right direction?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1637827744,"post_id":70102535,"comment_id":123930932,"body_markdown":"It depends a little bit on your existing datamodel. You should add to your question, what you already have.","body":"It depends a little bit on your existing datamodel. You should add to your question, what you already have."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638185095,"post_id":70102535,"comment_id":124011987,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21598538,"reputation":1,"user_id":15927101,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637785719,"creation_date":1637785719,"question_id":70102535,"body_markdown":"I have a way of uploading files to a database and then downloading them from the database (JPA).\r\n\r\nBut how would I go about allowing users to transfer a file to another user account?","title":"Spring Boot - How to transfer files between user accounts","body":"<p>I have a way of uploading files to a database and then downloading them from the database (JPA).</p>\n<p>But how would I go about allowing users to transfer a file to another user account?</p>\n"},{"tags":["java","spring","maven","spring-mvc","xsd"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637779558,"post_id":70100275,"comment_id":123919770,"body_markdown":"Please add the xml that leads to the error.","body":"Please add the xml that leads to the error."},{"owner":{"account_id":5141557,"reputation":81,"user_id":4118775,"display_name":"eduardog3000"},"score":0,"creation_date":1637780455,"post_id":70100275,"comment_id":123920121,"body_markdown":"The error comes from `spring-mvc.xsd`. Like I said changing that file fixes the error, but it&#39;s part of a dependency, so changing it isn&#39;t actually a solution.","body":"The error comes from <code>spring-mvc.xsd</code>. Like I said changing that file fixes the error, but it&#39;s part of a dependency, so changing it isn&#39;t actually a solution."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1637780904,"post_id":70100275,"comment_id":123920282,"body_markdown":"That wasn&#39;t my question, add your own XML not the spring ones. Thousands (so not millions) of people are of have used these XSD without errors, so I highly doubt that there is an error in those. The error is either in your own XML(s) or your XML parser (maybe too old).","body":"That wasn&#39;t my question, add your own XML not the spring ones. Thousands (so not millions) of people are of have used these XSD without errors, so I highly doubt that there is an error in those. The error is either in your own XML(s) or your XML parser (maybe too old)."},{"owner":{"account_id":5141557,"reputation":81,"user_id":4118775,"display_name":"eduardog3000"},"score":0,"creation_date":1637785744,"post_id":70100275,"comment_id":123921915,"body_markdown":"Ok, looks like it was the parser. I didn&#39;t have one specifically defined which worked in 3.0,  but I guess became a problem for 3.1 and above. I added a couple dependencies (see my answer) and got it working.","body":"Ok, looks like it was the parser. I didn&#39;t have one specifically defined which worked in 3.0,  but I guess became a problem for 3.1 and above. I added a couple dependencies (see my answer) and got it working."}],"answers":[{"tags":[],"owner":{"account_id":5141557,"reputation":81,"user_id":4118775,"display_name":"eduardog3000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637785634,"creation_date":1637785634,"answer_id":70102520,"question_id":70100275,"body_markdown":"I managed to get it working by adding [`xerces:xercesImpl:2.12.1`][1] and [`xml-apis:xml-apis:1.4.01`][2] (not 2.0.2 which seems to just point to an old beta version for some reason) as dependencies. This let me upgrade to spring version 3.2.18. Trying to upgrade to 4.0 or above ran into other unrelated issues, as would be expected when changing major versions.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/xerces/xercesImpl/2.12.1\r\n  [2]: https://mvnrepository.com/artifact/xml-apis/xml-apis/1.4.01","title":"XSD error when trying to upgrade Spring to 3.1 or above","body":"<p>I managed to get it working by adding <a href=\"https://mvnrepository.com/artifact/xerces/xercesImpl/2.12.1\" rel=\"nofollow noreferrer\"><code>xerces:xercesImpl:2.12.1</code></a> and <a href=\"https://mvnrepository.com/artifact/xml-apis/xml-apis/1.4.01\" rel=\"nofollow noreferrer\"><code>xml-apis:xml-apis:1.4.01</code></a> (not 2.0.2 which seems to just point to an old beta version for some reason) as dependencies. This let me upgrade to spring version 3.2.18. Trying to upgrade to 4.0 or above ran into other unrelated issues, as would be expected when changing major versions.</p>\n"}],"owner":{"account_id":5141557,"reputation":81,"user_id":4118775,"display_name":"eduardog3000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637785634,"creation_date":1637774070,"question_id":70100275,"body_markdown":"Starting from Spring 3.0.4, when I try to upgrade it I get the following error. This happens in both the next minor version (3.1.0) and the absolutely newest version (5.3.13). It does not happen in the latest patch of my current minor version, 3.0.7.\r\n\r\n```\r\norg.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 23 in XML document from URL [file:src/main/webapp/WEB-INF/mvc-dispatcher-servlet-test.xml] is invalid; nested exception is org.xml.sax.SAXParseException; systemId: http://www.springframework.org/schema/mvc/spring-mvc.xsd; lineNumber: 23; columnNumber: 20; cos-all-limited.1.2: An &#39;&#39;all&#39;&#39; model group must appear in a particle with &#39;{&#39;min occurs&#39;}&#39;=&#39;{&#39;max occurs&#39;}&#39;=1, and that particle must be part of a pair which constitutes the &#39;{&#39;content type&#39;}&#39; of a complex type definition.\r\n```\r\n\r\nAfter investigating, the problem seems to come from `spring-webmvc-3.1.0.RELEASE.jar/org/springframework/web/servlet/config/spring-mvc-3.1.xsd` (or in 5.3.13, `spring-webmvc-5.3.13.jar/org/springframework/web/servlet/config/spring-mvc.xsd`).\r\n\r\nComparing with 3.0&#39;s version of the same file (https://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd), 3.1 (https://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd) seems to have added a new tag, `&lt;xsd:all minOccurs=&quot;0&quot;&gt;`, around the line specified in the error. Manually editing the jar to change that `minOccurs=&quot;0&quot;` to `minOccurs=&quot;1&quot;` makes the problem go away. But obviously manually editing a maven dependency isn&#39;t an actual fix.\r\n\r\nI&#39;m thinking I&#39;d need to make some change in my `mvc-dispatcher-servlet.xml` and `mvc-dispatcher-servlet-test.xml` files, but I have no idea what that change would be. The only mvc related tags in those files are `&lt;mvc:resources .../&gt;` and `&lt;mvc:annotation-driven /&gt;`.\r\n\r\nWhat do I need to change to fix this?","title":"XSD error when trying to upgrade Spring to 3.1 or above","body":"<p>Starting from Spring 3.0.4, when I try to upgrade it I get the following error. This happens in both the next minor version (3.1.0) and the absolutely newest version (5.3.13). It does not happen in the latest patch of my current minor version, 3.0.7.</p>\n<pre><code>org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 23 in XML document from URL [file:src/main/webapp/WEB-INF/mvc-dispatcher-servlet-test.xml] is invalid; nested exception is org.xml.sax.SAXParseException; systemId: http://www.springframework.org/schema/mvc/spring-mvc.xsd; lineNumber: 23; columnNumber: 20; cos-all-limited.1.2: An ''all'' model group must appear in a particle with '{'min occurs'}'='{'max occurs'}'=1, and that particle must be part of a pair which constitutes the '{'content type'}' of a complex type definition.\n</code></pre>\n<p>After investigating, the problem seems to come from <code>spring-webmvc-3.1.0.RELEASE.jar/org/springframework/web/servlet/config/spring-mvc-3.1.xsd</code> (or in 5.3.13, <code>spring-webmvc-5.3.13.jar/org/springframework/web/servlet/config/spring-mvc.xsd</code>).</p>\n<p>Comparing with 3.0's version of the same file (<a href=\"https://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\" rel=\"nofollow noreferrer\">https://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd</a>), 3.1 (<a href=\"https://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd\" rel=\"nofollow noreferrer\">https://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd</a>) seems to have added a new tag, <code>&lt;xsd:all minOccurs=&quot;0&quot;&gt;</code>, around the line specified in the error. Manually editing the jar to change that <code>minOccurs=&quot;0&quot;</code> to <code>minOccurs=&quot;1&quot;</code> makes the problem go away. But obviously manually editing a maven dependency isn't an actual fix.</p>\n<p>I'm thinking I'd need to make some change in my <code>mvc-dispatcher-servlet.xml</code> and <code>mvc-dispatcher-servlet-test.xml</code> files, but I have no idea what that change would be. The only mvc related tags in those files are <code>&lt;mvc:resources .../&gt;</code> and <code>&lt;mvc:annotation-driven /&gt;</code>.</p>\n<p>What do I need to change to fix this?</p>\n"},{"tags":["java","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1637672335,"post_id":70081245,"comment_id":123884314,"body_markdown":"`.collect(Collectors.toMap(Function.identity(), myMap::get))` won&#39;t return null even if your stream is empty. So `Optional` doesn&#39;t make a difference here, at least as implemented. Is your intention to fall back to `myMap` when the first stream is empty?","body":"<code>.collect(Collectors.toMap(Function.identity(), myMap::get))</code> won&#39;t return null even if your stream is empty. So <code>Optional</code> doesn&#39;t make a difference here, at least as implemented. Is your intention to fall back to <code>myMap</code> when the first stream is empty?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1637672986,"post_id":70081245,"comment_id":123884572,"body_markdown":"@ernest_k good catch - you are right. Updated. but my code became even more ugly","body":"@ernest_k good catch - you are right. Updated. but my code became even more ugly"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1637673665,"post_id":70081245,"comment_id":123884851,"body_markdown":"@Michael I am really sorry for that. Updated.","body":"@Michael I am really sorry for that. Updated."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637674399,"post_id":70081245,"comment_id":123885148,"body_markdown":"So the logic is &quot;filter map by set, or fallback to full map if intersection is empty&quot;?","body":"So the logic is &quot;filter map by set, or fallback to full map if intersection is empty&quot;?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1637674576,"post_id":70081245,"comment_id":123885233,"body_markdown":"@Kayaman SET is user generated. It might be empty and might be not empty but those values could be absent in the map &quot;myMap&quot;.  In case if we don&#39;t have any matched values in Map we should use the whole map myMap in cosequent calculations.\n\nDoes it make sense for you?","body":"@Kayaman SET is user generated. It might be empty and might be not empty but those values could be absent in the map &quot;myMap&quot;.  In case if we don&#39;t have any matched values in Map we should use the whole map myMap in cosequent calculations.  Does it make sense for you?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637674629,"creation_date":1637674629,"answer_id":70081905,"question_id":70081245,"body_markdown":"I think the more imperative solution is actually more readable here. \r\n\r\n    Map&lt;String, Object&gt; actualMap = myMap; // equiv. to your .orElse(myMap)\r\n    if (myMap.keySet().stream().anyMatch(strings::contains)) {\r\n        actualMap = strings.stream().collect(Collectors.toMap(Function.identity(), myMap::get));\r\n    }\r\n    actualMap.entrySet().stream()\r\n        .flatMap(...)\r\n\r\nJava&#39;s a nice language because it allows you to be pragmatic about when you apply functional ideas. Don&#39;t feel like you have to use them all the time.","title":"How to apply IF logic during stream pipeline calculation?","body":"<p>I think the more imperative solution is actually more readable here.</p>\n<pre><code>Map&lt;String, Object&gt; actualMap = myMap; // equiv. to your .orElse(myMap)\nif (myMap.keySet().stream().anyMatch(strings::contains)) {\n    actualMap = strings.stream().collect(Collectors.toMap(Function.identity(), myMap::get));\n}\nactualMap.entrySet().stream()\n    .flatMap(...)\n</code></pre>\n<p>Java's a nice language because it allows you to be pragmatic about when you apply functional ideas. Don't feel like you have to use them all the time.</p>\n"},{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637678505,"creation_date":1637677577,"answer_id":70082626,"question_id":70081245,"body_markdown":"I&#39;m not adding much here - very similar to Michael&#39;s answer. But this avoids creating streams out of both `myMap` and `strings`.\r\n\r\n\r\n    Map&lt;String, Object&gt; mappedValues = strings.stream()\r\n         .filter(myMap::containsKey)\r\n         .collect(Collectors.toMap(Function.identity(), myMap::get)));\r\n\r\n    (mappedValues.isEmpty()\r\n        ? myMap\r\n        : mappedValues).entrySet()\r\n                .stream()\r\n                .flatMap(...)","title":"How to apply IF logic during stream pipeline calculation?","body":"<p>I'm not adding much here - very similar to Michael's answer. But this avoids creating streams out of both <code>myMap</code> and <code>strings</code>.</p>\n<pre><code>Map&lt;String, Object&gt; mappedValues = strings.stream()\n     .filter(myMap::containsKey)\n     .collect(Collectors.toMap(Function.identity(), myMap::get)));\n\n(mappedValues.isEmpty()\n    ? myMap\n    : mappedValues).entrySet()\n            .stream()\n            .flatMap(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637785415,"creation_date":1637785415,"answer_id":70102475,"question_id":70081245,"body_markdown":"It&#39;s a sort of a late answer, but the following solution does not use `Optional` and does not create a mapping if no key from `strings` exists in `myMap` at the cost of duplicate running the stream on the smaller `strings` set:\r\n```java\r\n(strings.stream().anyMatch(myMap::containsKey)\r\n\t? strings.stream()\r\n\t\t     .filter(myMap::containsKey)\r\n\t\t     .collect(Collectors.toMap(k -&gt; k, myMap::get))\r\n    : myMap\r\n)\r\n.entrySet().stream()\r\n           .flatMap()\r\n```","title":"How to apply IF logic during stream pipeline calculation?","body":"<p>It's a sort of a late answer, but the following solution does not use <code>Optional</code> and does not create a mapping if no key from <code>strings</code> exists in <code>myMap</code> at the cost of duplicate running the stream on the smaller <code>strings</code> set:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(strings.stream().anyMatch(myMap::containsKey)\n    ? strings.stream()\n             .filter(myMap::containsKey)\n             .collect(Collectors.toMap(k -&gt; k, myMap::get))\n    : myMap\n)\n.entrySet().stream()\n           .flatMap()\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70082626,"answer_count":3,"score":-1,"last_activity_date":1637785415,"creation_date":1637671874,"question_id":70081245,"body_markdown":"I have a code like this. But it looks a bit ugly\r\n\r\n   \tSet&lt;String&gt; strings= new HashSet(Arrays.asList(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot; ));\r\n    Optional.of(strings.stream()\r\n    \t\t\t\t.filter(myMap::containsKey)\r\n    \t\t\t\t.collect(Collectors.toMap(Function.identity(), myMap::get)))\r\n                    .map(stringListMap -&gt; stringListMap.isEmpty() ? null : stringListMap)\r\n    \t\t\t\t.orElse(myMap)\r\n    \t\t\t\t.entrySet()\r\n    \t\t\t\t.stream()\r\n                    .flatMap(...)\r\n                    ...  \r\n\r\nIs there way to avoid collection in the middle of pipeline ?","title":"How to apply IF logic during stream pipeline calculation?","body":"<p>I have a code like this. But it looks a bit ugly</p>\n<pre><code>Set&lt;String&gt; strings= new HashSet(Arrays.asList(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot; ));\nOptional.of(strings.stream()\n                .filter(myMap::containsKey)\n                .collect(Collectors.toMap(Function.identity(), myMap::get)))\n                .map(stringListMap -&gt; stringListMap.isEmpty() ? null : stringListMap)\n                .orElse(myMap)\n                .entrySet()\n                .stream()\n                .flatMap(...)\n                ...  \n</code></pre>\n<p>Is there way to avoid collection in the middle of pipeline ?</p>\n"},{"tags":["java","spring-boot","spring-webflux","flux"],"answers":[{"tags":[],"owner":{"account_id":16055833,"reputation":126,"user_id":14425218,"display_name":"C M Abdullah Khan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637488663,"creation_date":1637480836,"answer_id":70052741,"question_id":70050658,"body_markdown":"We can tell the reactor to emit an element after a specific delay by using `delayElements(Duration delay)`. It always tries to emit elements after a specific duration without blocking.\r\n\r\nPut this URL in a google chrome browser or any other consumer client like `curl` instead of the postman.\r\n\r\n\r\n----------\r\n\r\n\r\nCurl\r\n```\r\ncurl --location --request GET &#39;http://localhost:8080/fluxv2&#39; \\\r\n--header &#39;Content-Type: text/event-stream&#39; \\\r\n--data-raw &#39;&#39;\r\n```\r\n----------\r\nDo not try to test the API with postman, because postman doesn&#39;t support streaming API&#39;s at the moment.\r\n\r\n----------\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/fluxv2&quot;)\r\n    public class MyController {\r\n    \tFlux&lt;String&gt; stringFlux = Flux.fromIterable(List.of(&quot;CM&quot;, &quot;Abdullah&quot;, &quot;Khan&quot;));\r\n    \t@GetMapping(produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    \tFlux&lt;String&gt; getItems() {\r\n    \t\treturn stringFlux.delayElements(Duration.ofSeconds(3)).log();\r\n    \t}\r\n    }\r\n\r\n[Logs shown that elements are emitting after specific delay][1]\r\n\r\n  [1]: https://i.stack.imgur.com/0rYKv.png","title":"How to delay emitting each item in iterable Spring Boot Flux","body":"<p>We can tell the reactor to emit an element after a specific delay by using <code>delayElements(Duration delay)</code>. It always tries to emit elements after a specific duration without blocking.</p>\n<p>Put this URL in a google chrome browser or any other consumer client like <code>curl</code> instead of the postman.</p>\n<hr />\n<p>Curl</p>\n<pre><code>curl --location --request GET 'http://localhost:8080/fluxv2' \\\n--header 'Content-Type: text/event-stream' \\\n--data-raw ''\n</code></pre>\n<hr />\n<p>Do not try to test the API with postman, because postman doesn't support streaming API's at the moment.</p>\n<hr />\n<pre><code>@RestController\n@RequestMapping(&quot;/fluxv2&quot;)\npublic class MyController {\n    Flux&lt;String&gt; stringFlux = Flux.fromIterable(List.of(&quot;CM&quot;, &quot;Abdullah&quot;, &quot;Khan&quot;));\n    @GetMapping(produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    Flux&lt;String&gt; getItems() {\n        return stringFlux.delayElements(Duration.ofSeconds(3)).log();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0rYKv.png\" rel=\"nofollow noreferrer\">Logs shown that elements are emitting after specific delay</a></p>\n"},{"tags":[],"owner":{"account_id":86631,"reputation":1226,"user_id":9692178,"display_name":"ThrowableException"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637785401,"creation_date":1637692752,"answer_id":70086178,"question_id":70050658,"body_markdown":"Problem is not in the code, problem is in the browser.\r\nIf we use Chrome, Both the code mentioned above works as expected. But does not work with safari browser","title":"How to delay emitting each item in iterable Spring Boot Flux","body":"<p>Problem is not in the code, problem is in the browser.\nIf we use Chrome, Both the code mentioned above works as expected. But does not work with safari browser</p>\n"}],"owner":{"account_id":86631,"reputation":1226,"user_id":9692178,"display_name":"ThrowableException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1670,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70086178,"answer_count":2,"score":2,"last_activity_date":1637785401,"creation_date":1637450616,"question_id":70050658,"body_markdown":"My problem is slightly different, but I can describe the issue in the following manner.\r\n\r\nWhat I would like is some code that emits an item every delay period (3 seconds). But when I hit the `/flux` URL, the page waits for 3 seconds and gives all 4 items. That means it emits all the items after 3 seconds instead of one item every 3 seconds.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/flux&quot;)\r\n    public class MyController {\r\n    \r\n        List&lt;Item&gt; items = Arrays.asList(\r\n                new Item(&quot;name1&quot;,&quot;description1&quot;),\r\n                new Item(&quot;name2&quot;,&quot;description2&quot;),\r\n                new Item(&quot;name3&quot;,&quot;description3&quot;),\r\n                new Item(&quot;name4&quot;,&quot;description4&quot;));\r\n        @GetMapping(produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n        Flux&lt;Item&gt; getItems(){\r\n            return Flux.fromIterable(items)\r\n                    .delayElements(Duration.ofSeconds(3));\r\n        }\r\n    }\r\n    @Data\r\n    @AllArgsConstructor\r\n    class Item{\r\n        String name;\r\n        String description;\r\n    }\r\n\r\nUpdate\r\n------\r\n\r\nI saw this [post][1] to explain how to do this in RxJava, so I tried this. But with `ZipWith` the results are worse. Now the page waits 12 seconds. That means the browser response is sent only when Flux is completed... Not Sure why.\r\n\r\n    Flux&lt;Item&gt; getItems(){\r\n                return Flux.fromIterable(items)\r\n               .zipWith(Flux.interval(Duration.ofSeconds(3)),(item,time)-&gt;item);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/38008896/how-to-emit-items-from-list-with-delay-between-each-item\r\n\r\n\r\n\r\np.s. Using Spring WebFlux dependency, so local started up with Netty not Tomcat.","title":"How to delay emitting each item in iterable Spring Boot Flux","body":"<p>My problem is slightly different, but I can describe the issue in the following manner.</p>\n<p>What I would like is some code that emits an item every delay period (3 seconds). But when I hit the <code>/flux</code> URL, the page waits for 3 seconds and gives all 4 items. That means it emits all the items after 3 seconds instead of one item every 3 seconds.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/flux&quot;)\npublic class MyController {\n\n    List&lt;Item&gt; items = Arrays.asList(\n            new Item(&quot;name1&quot;,&quot;description1&quot;),\n            new Item(&quot;name2&quot;,&quot;description2&quot;),\n            new Item(&quot;name3&quot;,&quot;description3&quot;),\n            new Item(&quot;name4&quot;,&quot;description4&quot;));\n    @GetMapping(produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    Flux&lt;Item&gt; getItems(){\n        return Flux.fromIterable(items)\n                .delayElements(Duration.ofSeconds(3));\n    }\n}\n@Data\n@AllArgsConstructor\nclass Item{\n    String name;\n    String description;\n}\n</code></pre>\n<h2>Update</h2>\n<p>I saw this <a href=\"https://stackoverflow.com/questions/38008896/how-to-emit-items-from-list-with-delay-between-each-item\">post</a> to explain how to do this in RxJava, so I tried this. But with <code>ZipWith</code> the results are worse. Now the page waits 12 seconds. That means the browser response is sent only when Flux is completed... Not Sure why.</p>\n<pre><code>Flux&lt;Item&gt; getItems(){\n            return Flux.fromIterable(items)\n           .zipWith(Flux.interval(Duration.ofSeconds(3)),(item,time)-&gt;item);\n}\n</code></pre>\n<p>p.s. Using Spring WebFlux dependency, so local started up with Netty not Tomcat.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637785035,"creation_date":1637785035,"answer_id":70102408,"question_id":70102254,"body_markdown":"What you are looking for are `@JsonTypeInfo` and `@JsonSubTypes` Jackson annotations that are adding a support for polymorphizm on deserialization.\r\n\r\nTo make Jackson understand how it should deserialize JSON object you may need to provide some additional property or add class name when serializing object - it depends on the strategy of the deserialization you will decide to use.\r\n\r\nThe example implementation of your DTO and the Controller may look like:\r\n\r\n    @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Apple.class, name = &quot;apple&quot;),\r\n        @JsonSubTypes.Type(value = Orange.class, name = &quot;orange&quot;)\r\n    })\r\n    public abstract class Fruit implements Serializable { // basically you do not need this Serializable at all here\r\n        String someData;\r\n        //... \r\n        // note that we can but we do not need to define &#39;type&#39; field!\r\n        // Jackson will handle it if it will appear in JSON\r\n    }\r\n\r\n    public class Orange extends Fruit {\r\n        //...\r\n    }\r\n\r\n    public class Apple extends Fruit {\r\n        //...\r\n    }\r\n\r\nThen when your JSON will look like\r\n\r\n    {\r\n        &quot;someData&quot;: &quot;test&quot;,\r\n        &quot;type&quot;: &quot;orange&quot;\r\n    }\r\n\r\nand you will provide the following Controller\r\n\r\n    public myResponse myMethod(@ApiParam(value = &quot;myRequest&quot;, required = true) @RequestBody Fruit mulRequest) {\r\n\r\nThen the `mulRequest` can be tested whether it&#39;s `Apple` or `Orange`. Of course you cannot use there `Object` class because you cannot annotate it with Jackson annotations however maybe [providing custom deserializer][1] you would be able to implement this. But it would be very very fishy\r\n\r\nPlease read the following articles to understand this better:\r\n* https://stackoverflow.com/questions/44122782/jackson-deserialize-based-on-type\r\n* https://stackoverflow.com/questions/45447276/what-are-jsontypeinfo-and-jsonsubtypes-used-for-in-jackson/45447923\r\n* https://octoperf.com/blog/2018/02/01/polymorphism-with-jackson/\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19158345/custom-json-deserialization-with-jackson","title":"Passing 2 type of class object in spring boot controller","body":"<p>What you are looking for are <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code> Jackson annotations that are adding a support for polymorphizm on deserialization.</p>\n<p>To make Jackson understand how it should deserialize JSON object you may need to provide some additional property or add class name when serializing object - it depends on the strategy of the deserialization you will decide to use.</p>\n<p>The example implementation of your DTO and the Controller may look like:</p>\n<pre><code>@JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = Apple.class, name = &quot;apple&quot;),\n    @JsonSubTypes.Type(value = Orange.class, name = &quot;orange&quot;)\n})\npublic abstract class Fruit implements Serializable { // basically you do not need this Serializable at all here\n    String someData;\n    //... \n    // note that we can but we do not need to define 'type' field!\n    // Jackson will handle it if it will appear in JSON\n}\n\npublic class Orange extends Fruit {\n    //...\n}\n\npublic class Apple extends Fruit {\n    //...\n}\n</code></pre>\n<p>Then when your JSON will look like</p>\n<pre><code>{\n    &quot;someData&quot;: &quot;test&quot;,\n    &quot;type&quot;: &quot;orange&quot;\n}\n</code></pre>\n<p>and you will provide the following Controller</p>\n<pre><code>public myResponse myMethod(@ApiParam(value = &quot;myRequest&quot;, required = true) @RequestBody Fruit mulRequest) {\n</code></pre>\n<p>Then the <code>mulRequest</code> can be tested whether it's <code>Apple</code> or <code>Orange</code>. Of course you cannot use there <code>Object</code> class because you cannot annotate it with Jackson annotations however maybe <a href=\"https://stackoverflow.com/questions/19158345/custom-json-deserialization-with-jackson\">providing custom deserializer</a> you would be able to implement this. But it would be very very fishy</p>\n<p>Please read the following articles to understand this better:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44122782/jackson-deserialize-based-on-type\">Jackson deserialize based on type</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45447276/what-are-jsontypeinfo-and-jsonsubtypes-used-for-in-jackson/45447923\">What are @JsonTypeInfo and @JsonSubTypes used for in jackson</a></li>\n<li><a href=\"https://octoperf.com/blog/2018/02/01/polymorphism-with-jackson/\" rel=\"nofollow noreferrer\">https://octoperf.com/blog/2018/02/01/polymorphism-with-jackson/</a></li>\n</ul>\n"}],"owner":{"account_id":23364307,"reputation":61,"user_id":17436103,"display_name":"Gopikrishna X Gopalakrishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70102408,"answer_count":1,"score":0,"last_activity_date":1637785035,"creation_date":1637783966,"question_id":70102254,"body_markdown":"I have to pass 2 different type of objects of type apple or of type orange in RequestBody in my Spring Boot Controller method.\r\n\r\n    public myResponse myMethod(@ApiParam(value = &quot;myRequest&quot;, required = true) @RequestBody Object mulRequest) {\r\n\r\nIn above code snippet, the mulRequest of type Object can be either of Class apple or Class orange.\r\n\r\nI want to follow something like below logic for my requirement -\r\n\r\n    if (mulRequest instanceof apple) {\r\n    // process logic...\r\n    } else if (mulRequest instanceof orange) {\r\n    // process...\r\n    }\r\n\r\nBut I am stuck on how to cast to relevant class objects based on RequestBody passed, since I will not be knowing what type of object is getting passed for mulRequest which can be of either apple or orange class.\r\nBoth apple and orange class implement the Serializable interface.\r\n\r\nAppreciate any suggestion or ways to solve this.","title":"Passing 2 type of class object in spring boot controller","body":"<p>I have to pass 2 different type of objects of type apple or of type orange in RequestBody in my Spring Boot Controller method.</p>\n<pre><code>public myResponse myMethod(@ApiParam(value = &quot;myRequest&quot;, required = true) @RequestBody Object mulRequest) {\n</code></pre>\n<p>In above code snippet, the mulRequest of type Object can be either of Class apple or Class orange.</p>\n<p>I want to follow something like below logic for my requirement -</p>\n<pre><code>if (mulRequest instanceof apple) {\n// process logic...\n} else if (mulRequest instanceof orange) {\n// process...\n}\n</code></pre>\n<p>But I am stuck on how to cast to relevant class objects based on RequestBody passed, since I will not be knowing what type of object is getting passed for mulRequest which can be of either apple or orange class.\nBoth apple and orange class implement the Serializable interface.</p>\n<p>Appreciate any suggestion or ways to solve this.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1637784418,"post_id":70101926,"comment_id":123921492,"body_markdown":"Does this answer your question? [How to add metadata while using boto3 create\\_presigned\\_post?](https://stackoverflow.com/questions/62961099/how-to-add-metadata-while-using-boto3-create-presigned-post)  The presign request must include the headers too.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62961099/how-to-add-metadata-while-using-boto3-create-presigned-post\">How to add metadata while using boto3 create_presigned_post?</a>  The presign request must include the headers too."}],"answers":[{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637784669,"creation_date":1637784669,"answer_id":70102351,"question_id":70101926,"body_markdown":"The metadata of a presigned url are set, when you create it. They are prefilled and can&#39;t be modified by the client.\r\n\r\nThe only thing you can do is set an expected value and optionally a condition. In the condition you can specify to reject the upload, if the expected meta-data value isn&#39;t supplied.","title":"AWS S3 Pre Signed URL with Metadata","body":"<p>The metadata of a presigned url are set, when you create it. They are prefilled and can't be modified by the client.</p>\n<p>The only thing you can do is set an expected value and optionally a condition. In the condition you can specify to reject the upload, if the expected meta-data value isn't supplied.</p>\n"}],"owner":{"account_id":6307461,"reputation":365,"user_id":4900133,"display_name":"enthusiast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70102351,"answer_count":1,"score":0,"last_activity_date":1637784669,"creation_date":1637782321,"question_id":70101926,"body_markdown":"Here is the code snippet where I am trying to upload a document with some custom metadata using AWS S3 pre signed URL.\r\n\r\n            try (CloseableHttpClient httpClient = HttpClients.createSystem()) {\r\n\r\n            var tempFile = File.createTempFile(document.getName(), FilenameUtils.getExtension(document.getOriginalFilename()));\r\n            document.transferTo(tempFile);\r\n\r\n            var fileEntity = new FileEntity(tempFile);\r\n            var httpPut = new HttpPut(url);\r\n            // Here 403 httpPut.setHeader(&quot;x-amz-meta-title&quot;, &quot;Test Title&quot;);\r\n            httpPut.setEntity(fileEntity);\r\n            var response = httpClient.execute(httpPut);\r\n            log.info(&quot;HTTP response code {}&quot;, response.getStatusLine().getStatusCode());\r\n\r\n        } catch (IOException e) {\r\n            log.error(&quot;Oops! Error&quot;, e);\r\n        }\r\n\r\nUnfortunately setting a custom header as above throws 403. It works fine when I take out the header. Even works okay when you add an irrelevant metadata key say &quot;abc&quot; - Obviously not adding metadata, but returns 200 OK. The issue seems only when you specify &quot;x-amz-meta-&quot;.\r\n\r\nAny thoughts?","title":"AWS S3 Pre Signed URL with Metadata","body":"<p>Here is the code snippet where I am trying to upload a document with some custom metadata using AWS S3 pre signed URL.</p>\n<pre><code>        try (CloseableHttpClient httpClient = HttpClients.createSystem()) {\n\n        var tempFile = File.createTempFile(document.getName(), FilenameUtils.getExtension(document.getOriginalFilename()));\n        document.transferTo(tempFile);\n\n        var fileEntity = new FileEntity(tempFile);\n        var httpPut = new HttpPut(url);\n        // Here 403 httpPut.setHeader(&quot;x-amz-meta-title&quot;, &quot;Test Title&quot;);\n        httpPut.setEntity(fileEntity);\n        var response = httpClient.execute(httpPut);\n        log.info(&quot;HTTP response code {}&quot;, response.getStatusLine().getStatusCode());\n\n    } catch (IOException e) {\n        log.error(&quot;Oops! Error&quot;, e);\n    }\n</code></pre>\n<p>Unfortunately setting a custom header as above throws 403. It works fine when I take out the header. Even works okay when you add an irrelevant metadata key say &quot;abc&quot; - Obviously not adding metadata, but returns 200 OK. The issue seems only when you specify &quot;x-amz-meta-&quot;.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","file","serialization"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1637782696,"post_id":70101594,"comment_id":123920891,"body_markdown":"hi &amp; welcome! see, here: https://stackoverflow.com/q/285793/592355","body":"hi &amp; welcome! see, here: <a href=\"https://stackoverflow.com/q/285793/592355\">stackoverflow.com/q/285793/592355</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637784523,"creation_date":1637784523,"answer_id":70102334,"question_id":70101594,"body_markdown":"Mostly?\r\n\r\nStop using java&#39;s baked-in serialization. It sucks. This isn&#39;t just an opinion - the OpenJDK engineers themselves routinely raise fairly serious eyebrows when the topic of java&#39;s baked in serialization mechanism (`ObjectInputStream` / `ObjectOutputStream` comes up). In particular:\r\n\r\n* It is binary.\r\n* It is effectively unspecified; you will never be reading or writing it with anything other than java code.\r\n* Assuming multiple versions are involved (and it is - that&#39;s what your question is all about), it is extremely convoluted and requires advanced java knowledge to try to spin together some tests to ensure that things are backwards/forwards compatible as desired.\r\n* The format is not particularly efficient even though it is binary.\r\n* The API is weirdly un-java-like (with structural typing even, that&#39;s.. bizarre).\r\n\r\n## So what should I do?\r\n\r\nYou use an explicit serializer: A library that you include which does the serialization. There are many options. You can use [GSON](https://github.com/google/gson) or [Jackson](https://github.com/FasterXML/jackson) to turn your object into a JSON string, and then store that. JSON is textual, fairly easy to read, and can be read and modified by just about any language. Because you &#39;control&#39; what happens, its a lot simpler to tweak the format and define what is supposed to happen (e.g. if you add a new field in the code, you can specify what the default should be in your Jackson or GSON annotations, and that&#39;s the value that you get when you read in a file written with a version of your class that didn&#39;t have that field).\r\n\r\nJSON is not efficient on disk at all, but its trivial to wrap your writes and reads with `GZipInputStream` / `GZipOutputStream` if that&#39;s an issue.\r\n\r\nAn alternative is [protobuf](https://developers.google.com/protocol-buffers). It is more effort but you end up with a binary data format that is fairly compact even if not compressed, and can still be read and written to from many, many languages, and which also parses way faster (this is irrelevant, computers are so fast, the bottleneck will be network or disk, but, if you&#39;re reading this stuff on battery-powered raspberry pis or what not, it matters).\r\n\r\n## I really want to stick with java&#39;s baked-in serialization\r\n\r\n[Read the docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html), then. The specific part you want here is what `serialVersionUID` is all about, but there are so many warts and caveats, you should mostly definitely not just put an svuid in and move on with life - you&#39;ll run into the next weird bug in about 5 seconds. Read it all, experiment, attempt to understand it fully.\r\n\r\nThen give up, realize it&#39;s a mess and ridiculously complicated to test properly, and use one of the above options.\r\n","title":"Serialization InvalidClass best practice","body":"<p>Mostly?</p>\n<p>Stop using java's baked-in serialization. It sucks. This isn't just an opinion - the OpenJDK engineers themselves routinely raise fairly serious eyebrows when the topic of java's baked in serialization mechanism (<code>ObjectInputStream</code> / <code>ObjectOutputStream</code> comes up). In particular:</p>\n<ul>\n<li>It is binary.</li>\n<li>It is effectively unspecified; you will never be reading or writing it with anything other than java code.</li>\n<li>Assuming multiple versions are involved (and it is - that's what your question is all about), it is extremely convoluted and requires advanced java knowledge to try to spin together some tests to ensure that things are backwards/forwards compatible as desired.</li>\n<li>The format is not particularly efficient even though it is binary.</li>\n<li>The API is weirdly un-java-like (with structural typing even, that's.. bizarre).</li>\n</ul>\n<h2>So what should I do?</h2>\n<p>You use an explicit serializer: A library that you include which does the serialization. There are many options. You can use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a> or <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> to turn your object into a JSON string, and then store that. JSON is textual, fairly easy to read, and can be read and modified by just about any language. Because you 'control' what happens, its a lot simpler to tweak the format and define what is supposed to happen (e.g. if you add a new field in the code, you can specify what the default should be in your Jackson or GSON annotations, and that's the value that you get when you read in a file written with a version of your class that didn't have that field).</p>\n<p>JSON is not efficient on disk at all, but its trivial to wrap your writes and reads with <code>GZipInputStream</code> / <code>GZipOutputStream</code> if that's an issue.</p>\n<p>An alternative is <a href=\"https://developers.google.com/protocol-buffers\" rel=\"nofollow noreferrer\">protobuf</a>. It is more effort but you end up with a binary data format that is fairly compact even if not compressed, and can still be read and written to from many, many languages, and which also parses way faster (this is irrelevant, computers are so fast, the bottleneck will be network or disk, but, if you're reading this stuff on battery-powered raspberry pis or what not, it matters).</p>\n<h2>I really want to stick with java's baked-in serialization</h2>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Read the docs</a>, then. The specific part you want here is what <code>serialVersionUID</code> is all about, but there are so many warts and caveats, you should mostly definitely not just put an svuid in and move on with life - you'll run into the next weird bug in about 5 seconds. Read it all, experiment, attempt to understand it fully.</p>\n<p>Then give up, realize it's a mess and ridiculously complicated to test properly, and use one of the above options.</p>\n"}],"owner":{"display_name":"user17501274"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637784523,"creation_date":1637780483,"question_id":70101594,"body_markdown":"I am making an application in Java which uses files to store information with serialization. The trouble I ran into was that everytime I update one of my classes thats being store I obviously get `InvalidClassException`. The process I am following for now is that I just `rm` all the files and rebuild them. Obviously thats tidious with 5 Users,and I couldnt continue it with 10. Whats the standard best practice when updating Serialized objects to not lose the information from the files?","title":"Serialization InvalidClass best practice","body":"<p>I am making an application in Java which uses files to store information with serialization. The trouble I ran into was that everytime I update one of my classes thats being store I obviously get <code>InvalidClassException</code>. The process I am following for now is that I just <code>rm</code> all the files and rebuild them. Obviously thats tidious with 5 Users,and I couldnt continue it with 10. Whats the standard best practice when updating Serialized objects to not lose the information from the files?</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637784178,"creation_date":1637784178,"answer_id":70102284,"question_id":70102233,"body_markdown":"When you set text to an int variable, Android assumes you want the xt resource with that id.  And that id doesn&#39;t happen to exist.  To print an int as a string, use &quot;&quot;+variable or Integer.toString(variable) to convert it to a string first.","title":"App crashed after passing ListView position int to new activity","body":"<p>When you set text to an int variable, Android assumes you want the xt resource with that id.  And that id doesn't happen to exist.  To print an int as a string, use &quot;&quot;+variable or Integer.toString(variable) to convert it to a string first.</p>\n"}],"owner":{"account_id":21514372,"reputation":33,"user_id":15856507,"display_name":"forsure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70102284,"answer_count":1,"score":0,"last_activity_date":1637784178,"creation_date":1637783851,"question_id":70102233,"body_markdown":"I am trying to pass the ListView postion that is being clicked to a new activity. When I run the app without trying to use the int in the next activity for instance trying to show it in a Toast message the app doesn&#39;t crash. But when I try and use the position integer to try and see if it works the app crashes. \r\n\r\nHere is the code where I am passing the value: \r\n\r\n    package com.example.shashank.fffffffffffffffffffffffffff;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.EditText;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class HomeActivity extends AppCompatActivity {\r\n    \r\n    \r\n        ListView flightList;\r\n    \r\n        ArrayAdapter customArrayAdapter;\r\n    \r\n        int intValue;\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n    \r\n            flightList = findViewById(R.id.flightList);\r\n    \r\n    \r\n            DBHelper dbHelper = new DBHelper(HomeActivity.this);\r\n            List&lt;FlightsModel&gt; everyone = dbHelper.getEveryone();\r\n    \r\n            ArrayAdapter flightArrayAdapter = new ArrayAdapter&lt;FlightsModel&gt;(HomeActivity.this, android.R.layout.simple_list_item_1, everyone);\r\n            flightList.setAdapter(flightArrayAdapter);\r\n    \r\n            flightList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, final View view, int position, long id) {\r\n    \r\n                    intValue = position;\r\n    \r\n    \r\n                    Intent intent = new Intent(HomeActivity.this, BookingActivity.class);\r\n    \r\n                    intent.putExtra(&quot;intVariableName&quot;, intValue);\r\n    \r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\nAnd here is the activity receiving the value:\r\n\r\n    package com.example.shashank.fffffffffffffffffffffffffff;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class BookingActivity extends AppCompatActivity {\r\n    \r\n    \r\n        TextView textView;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_booking);\r\n    \r\n            textView = findViewById(R.id.textView);\r\n    \r\n    \r\n    \r\n            Intent mIntent = getIntent();\r\n            int intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\r\n            Toast.makeText(BookingActivity.this, &quot;hello&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            textView.setText(intValue);\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nand here is the Logcat: \r\n\r\n    2021-11-24 21:41:18.053 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/System: ClassLoader referenced unknown path: /data/app/com.example.shashank.fffffffffffffffffffffffffff-2/lib/x86\r\n    2021-11-24 21:41:18.022 11761-11761/? I/art: Late-enabling -Xcheck:jni\r\n    2021-11-24 21:41:18.022 11761-11761/? W/art: Unexpected CPU variant for X86 using defaults: x86\r\n        Process: com.example.shashank.fffffffffffffffffffffffffff, PID: 9870\r\n    2021-11-24 21:41:18.022 11761-11761/? I/art: Late-enabling -Xcheck:jni\r\n    2021-11-24 21:41:18.022 11761-11761/? W/art: Unexpected CPU variant for X86 using defaults: x86\r\n    2021-11-24 21:41:18.022 11761-11761/? I/art: Late-enabling -Xcheck:jni\r\n    2021-11-24 21:41:18.022 11761-11761/? W/art: Unexpected CPU variant for X86 using defaults: x86\r\n    2021-11-24 21:41:18.248 11761-11776/com.example.shashank.fffffffffffffffffffffffffff I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    2021-11-24 21:41:18.249 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: Swap behavior 1\r\n    2021-11-24 21:41:18.249 11761-11776/com.example.shashank.fffffffffffffffffffffffffff W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n    2021-11-24 21:41:18.249 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: Swap behavior 0\r\n    2021-11-24 21:41:18.260 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglCreateContext: 0xb4405360: maj 2 min 0 rcv 2\r\n    2021-11-24 21:41:18.293 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:18.316 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:20.575 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:20.583 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:20.602 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:20.612 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:20.613 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\r\n    2021-11-24 21:41:20.617 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:20.621 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: endAllActiveAnimators on 0x9738af80 (RippleDrawable) with handle 0x97371140\r\n    2021-11-24 21:41:21.095 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:23.062 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\r\n    2021-11-24 21:41:25.655 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:25.683 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:25.895 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:25.912 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:25.921 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\r\n    2021-11-24 21:41:25.926 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\r\n    2021-11-24 21:41:25.933 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: endAllActiveAnimators on 0x96f66f80 (RippleDrawable) with handle 0x97371180\r\n    2021-11-24 21:41:32.579 11761-11764/com.example.shashank.fffffffffffffffffffffffffff I/art: Do partial code cache collection, code=24KB, data=30KB\r\n    2021-11-24 21:41:32.580 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/ResourceType: No package identifier when getting value for resource number 0x00000002\r\n    2021-11-24 21:41:32.581 11761-11761/com.example.shashank.fffffffffffffffffffffffffff D/AndroidRuntime: Shutting down VM\r\n    2021-11-24 21:41:32.581 11761-11761/com.example.shashank.fffffffffffffffffffffffffff E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.shashank.fffffffffffffffffffffffffff, PID: 11761\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.shashank.fffffffffffffffffffffffffff/com.example.shashank.fffffffffffffffffffffffffff.BookingActivity}: android.content.res.Resources$NotFoundException: String resource ID #0x2\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n            at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:154)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n         Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x2\r\n            at android.content.res.Resources.getText(Resources.java:331)\r\n            at android.widget.TextView.setText(TextView.java:4554)\r\n            at com.example.shashank.fffffffffffffffffffffffffff.BookingActivity.onCreate(BookingActivity.java:29)\r\n            at android.app.Activity.performCreate(Activity.java:6662)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)&#160;\r\n            at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:154)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)&#160;\r\n    2021-11-24 21:41:32.582 11761-11764/com.example.shashank.fffffffffffffffffffffffffff I/art: After code cache collection, code=24KB, data=30KB\r\n    2021-11-24 21:41:32.582 11761-11764/com.example.shashank.fffffffffffffffffffffffffff I/art: Increasing code cache capacity to 128KB\r\n\r\n","title":"App crashed after passing ListView position int to new activity","body":"<p>I am trying to pass the ListView postion that is being clicked to a new activity. When I run the app without trying to use the int in the next activity for instance trying to show it in a Toast message the app doesn't crash. But when I try and use the position integer to try and see if it works the app crashes.</p>\n<p>Here is the code where I am passing the value:</p>\n<pre><code>package com.example.shashank.fffffffffffffffffffffffffff;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class HomeActivity extends AppCompatActivity {\n\n\n    ListView flightList;\n\n    ArrayAdapter customArrayAdapter;\n\n    int intValue;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n\n        flightList = findViewById(R.id.flightList);\n\n\n        DBHelper dbHelper = new DBHelper(HomeActivity.this);\n        List&lt;FlightsModel&gt; everyone = dbHelper.getEveryone();\n\n        ArrayAdapter flightArrayAdapter = new ArrayAdapter&lt;FlightsModel&gt;(HomeActivity.this, android.R.layout.simple_list_item_1, everyone);\n        flightList.setAdapter(flightArrayAdapter);\n\n        flightList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, final View view, int position, long id) {\n\n                intValue = position;\n\n\n                Intent intent = new Intent(HomeActivity.this, BookingActivity.class);\n\n                intent.putExtra(&quot;intVariableName&quot;, intValue);\n\n                startActivity(intent);\n            }\n        });\n\n\n    }\n\n}\n</code></pre>\n<p>And here is the activity receiving the value:</p>\n<pre><code>package com.example.shashank.fffffffffffffffffffffffffff;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class BookingActivity extends AppCompatActivity {\n\n\n    TextView textView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_booking);\n\n        textView = findViewById(R.id.textView);\n\n\n\n        Intent mIntent = getIntent();\n        int intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\n        Toast.makeText(BookingActivity.this, &quot;hello&quot;, Toast.LENGTH_SHORT).show();\n\n        textView.setText(intValue);\n\n\n    }\n\n\n}\n</code></pre>\n<p>and here is the Logcat:</p>\n<pre><code>2021-11-24 21:41:18.053 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/System: ClassLoader referenced unknown path: /data/app/com.example.shashank.fffffffffffffffffffffffffff-2/lib/x86\n2021-11-24 21:41:18.022 11761-11761/? I/art: Late-enabling -Xcheck:jni\n2021-11-24 21:41:18.022 11761-11761/? W/art: Unexpected CPU variant for X86 using defaults: x86\n    Process: com.example.shashank.fffffffffffffffffffffffffff, PID: 9870\n2021-11-24 21:41:18.022 11761-11761/? I/art: Late-enabling -Xcheck:jni\n2021-11-24 21:41:18.022 11761-11761/? W/art: Unexpected CPU variant for X86 using defaults: x86\n2021-11-24 21:41:18.022 11761-11761/? I/art: Late-enabling -Xcheck:jni\n2021-11-24 21:41:18.022 11761-11761/? W/art: Unexpected CPU variant for X86 using defaults: x86\n2021-11-24 21:41:18.248 11761-11776/com.example.shashank.fffffffffffffffffffffffffff I/OpenGLRenderer: Initialized EGL, version 1.4\n2021-11-24 21:41:18.249 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: Swap behavior 1\n2021-11-24 21:41:18.249 11761-11776/com.example.shashank.fffffffffffffffffffffffffff W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n2021-11-24 21:41:18.249 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: Swap behavior 0\n2021-11-24 21:41:18.260 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglCreateContext: 0xb4405360: maj 2 min 0 rcv 2\n2021-11-24 21:41:18.293 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:18.316 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:20.575 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:20.583 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:20.602 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:20.612 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:20.613 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\n2021-11-24 21:41:20.617 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:20.621 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: endAllActiveAnimators on 0x9738af80 (RippleDrawable) with handle 0x97371140\n2021-11-24 21:41:21.095 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:23.062 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\n2021-11-24 21:41:25.655 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:25.683 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:25.895 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:25.912 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:25.921 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/EGL_emulation: eglMakeCurrent: 0xb4405360: ver 2 0 (tinfo 0xb4403200)\n2021-11-24 21:41:25.926 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\n2021-11-24 21:41:25.933 11761-11776/com.example.shashank.fffffffffffffffffffffffffff D/OpenGLRenderer: endAllActiveAnimators on 0x96f66f80 (RippleDrawable) with handle 0x97371180\n2021-11-24 21:41:32.579 11761-11764/com.example.shashank.fffffffffffffffffffffffffff I/art: Do partial code cache collection, code=24KB, data=30KB\n2021-11-24 21:41:32.580 11761-11761/com.example.shashank.fffffffffffffffffffffffffff W/ResourceType: No package identifier when getting value for resource number 0x00000002\n2021-11-24 21:41:32.581 11761-11761/com.example.shashank.fffffffffffffffffffffffffff D/AndroidRuntime: Shutting down VM\n2021-11-24 21:41:32.581 11761-11761/com.example.shashank.fffffffffffffffffffffffffff E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.shashank.fffffffffffffffffffffffffff, PID: 11761\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.shashank.fffffffffffffffffffffffffff/com.example.shashank.fffffffffffffffffffffffffff.BookingActivity}: android.content.res.Resources$NotFoundException: String resource ID #0x2\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n     Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x2\n        at android.content.res.Resources.getText(Resources.java:331)\n        at android.widget.TextView.setText(TextView.java:4554)\n        at com.example.shashank.fffffffffffffffffffffffffff.BookingActivity.onCreate(BookingActivity.java:29)\n        at android.app.Activity.performCreate(Activity.java:6662)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n2021-11-24 21:41:32.582 11761-11764/com.example.shashank.fffffffffffffffffffffffffff I/art: After code cache collection, code=24KB, data=30KB\n2021-11-24 21:41:32.582 11761-11764/com.example.shashank.fffffffffffffffffffffffffff I/art: Increasing code cache capacity to 128KB\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637783840,"creation_date":1637779081,"answer_id":70101334,"question_id":70064414,"body_markdown":"If the drawable is working as intended, then the only thing required would be to clear the focus of the previous TextView before focusing on another.\r\n\r\n    TextView currentTextView = null;\r\n\r\n    View.OnClickListener textViewClickListener = new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            if(currentTextView == view)\r\n                // It&#39;s the same TextView, so we don&#39;t need to do anything\r\n                return;\r\n            if(currentTextView != null) {\r\n                // if currentTextView is not null, it contains the previously focused TextView\r\n                // so clear it&#39;s focus here\r\n            }\r\n        \r\n            // Here, request focus for the current TextView, using the `view` variable\r\n\r\n            // and save it&#39;s reference to currentTextView variable\r\n            currentTextView = (TextView) view;\r\n        }\r\n    });\r\n\r\n    void yourMethod() {\r\n        TextView textView1 = findViewById(R.id.textView1);\r\n        textView1.setOnClickListener(textViewClickListener);\r\n\r\n        // repeat for the rest of TextViews\r\n    }\r\n","title":"How to use OnTouch, OnFocus and OnClick?","body":"<p>If the drawable is working as intended, then the only thing required would be to clear the focus of the previous TextView before focusing on another.</p>\n<pre><code>TextView currentTextView = null;\n\nView.OnClickListener textViewClickListener = new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        if(currentTextView == view)\n            // It's the same TextView, so we don't need to do anything\n            return;\n        if(currentTextView != null) {\n            // if currentTextView is not null, it contains the previously focused TextView\n            // so clear it's focus here\n        }\n    \n        // Here, request focus for the current TextView, using the `view` variable\n\n        // and save it's reference to currentTextView variable\n        currentTextView = (TextView) view;\n    }\n});\n\nvoid yourMethod() {\n    TextView textView1 = findViewById(R.id.textView1);\n    textView1.setOnClickListener(textViewClickListener);\n\n    // repeat for the rest of TextViews\n}\n</code></pre>\n"}],"owner":{"account_id":23341268,"reputation":5,"user_id":17416135,"display_name":"sagalo1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637783840,"creation_date":1637577439,"question_id":70064414,"body_markdown":"I have some `TextViews` which I 1st want to change the Background color when they are clicked (focused) and 2nd a button press should apply a text change to the focused `TextView`.\r\n\r\nI am just completely confused on what i need to do.\r\n\r\nHere is how I change the background color\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@color/purple_200&quot; /&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@color/dark_gray&quot; /&gt;\r\n        &lt;item android:drawable=&quot;@color/white&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\nHere is the xml part from my `TextViews`\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/frame1_1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@drawable/colorchange&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/frame1_2&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@drawable/colorchange&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textColor=&quot;@color/white&quot; /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/frame2_1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@drawable/colorchange&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/frame2_2&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@drawable/colorchange&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textColor=&quot;@color/white&quot; /&gt;\r\n\r\nHere my java code:\r\n\r\n    private TextView currentTextView;\r\n\r\n    TextView Edit_frame1_1 = findViewById(R.id.frame1_1);\r\n    TextView Edit_frame1_2 = findViewById(R.id.frame1_2);\r\n    TextView Edit_frame2_1 = findViewById(R.id.frame2_1);\r\n    TextView Edit_frame2_2 = findViewById(R.id.frame2_2);\r\n\r\n    //noinspection AndroidLintClickableViewAccessibility\r\n    Edit_frame1_1.setOnTouchListener((view, event) -&gt; {\r\n        if(event.getAction() == MotionEvent.ACTION_UP){\r\n            currentTextView = (TextView) view;\r\n            return true;\r\n        }\r\n        return false;\r\n        });\r\n\r\n    //noinspection AndroidLintClickableViewAccessibility\r\n    Edit_frame1_2.setOnTouchListener((view, event) -&gt; {\r\n        if(event.getAction() == MotionEvent.ACTION_UP){\r\n            currentTextView = (TextView) view;\r\n            return true;\r\n        }\r\n        return false;\r\n    });\r\n\r\n    Edit_frame2_1.setOnClickListener(view -&gt; {\r\n        currentTextView = (TextView) view;\r\n    });\r\n\r\n    Edit_frame2_2.setOnClickListener(view -&gt; {\r\n        currentTextView = (TextView) view;\r\n    });\r\n\r\n\r\nNow i have the first two TextViews partly working:\r\nthese are using a `OnTouchListener` but don&#39;t switch back to their orignal background (white) they just stay gray.\r\n\r\n\r\nand the other two are partly working too. They will switch back to the white background, but i need to double click them to gain the focus for applying text trough my buttons.\r\n\r\nI don&#39;t know how to make combined solution, to make it work as intended.\r\n","title":"How to use OnTouch, OnFocus and OnClick?","body":"<p>I have some <code>TextViews</code> which I 1st want to change the Background color when they are clicked (focused) and 2nd a button press should apply a text change to the focused <code>TextView</code>.</p>\n<p>I am just completely confused on what i need to do.</p>\n<p>Here is how I change the background color</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@color/purple_200&quot; /&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@color/dark_gray&quot; /&gt;\n    &lt;item android:drawable=&quot;@color/white&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>Here is the xml part from my <code>TextViews</code></p>\n<pre><code>        &lt;TextView\n            android:id=&quot;@+id/frame1_1&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/colorchange&quot;\n            android:focusable=&quot;true&quot;\n            android:clickable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/frame1_2&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/colorchange&quot;\n            android:focusable=&quot;true&quot;\n            android:clickable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textColor=&quot;@color/white&quot; /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/frame2_1&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/colorchange&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/frame2_2&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/colorchange&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textColor=&quot;@color/white&quot; /&gt;\n</code></pre>\n<p>Here my java code:</p>\n<pre><code>private TextView currentTextView;\n\nTextView Edit_frame1_1 = findViewById(R.id.frame1_1);\nTextView Edit_frame1_2 = findViewById(R.id.frame1_2);\nTextView Edit_frame2_1 = findViewById(R.id.frame2_1);\nTextView Edit_frame2_2 = findViewById(R.id.frame2_2);\n\n//noinspection AndroidLintClickableViewAccessibility\nEdit_frame1_1.setOnTouchListener((view, event) -&gt; {\n    if(event.getAction() == MotionEvent.ACTION_UP){\n        currentTextView = (TextView) view;\n        return true;\n    }\n    return false;\n    });\n\n//noinspection AndroidLintClickableViewAccessibility\nEdit_frame1_2.setOnTouchListener((view, event) -&gt; {\n    if(event.getAction() == MotionEvent.ACTION_UP){\n        currentTextView = (TextView) view;\n        return true;\n    }\n    return false;\n});\n\nEdit_frame2_1.setOnClickListener(view -&gt; {\n    currentTextView = (TextView) view;\n});\n\nEdit_frame2_2.setOnClickListener(view -&gt; {\n    currentTextView = (TextView) view;\n});\n</code></pre>\n<p>Now i have the first two TextViews partly working:\nthese are using a <code>OnTouchListener</code> but don't switch back to their orignal background (white) they just stay gray.</p>\n<p>and the other two are partly working too. They will switch back to the white background, but i need to double click them to gain the focus for applying text trough my buttons.</p>\n<p>I don't know how to make combined solution, to make it work as intended.</p>\n"},{"tags":["java","spring","spring-mvc","spring-test","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":502547,"reputation":1326,"user_id":1241115,"display_name":"Patrice Gagnon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637783691,"creation_date":1637783691,"answer_id":70102193,"question_id":54412062,"body_markdown":"I have been quite successful with this. Here is what I do differently:\r\n\r\n        return new StreamingResponseBody() {\r\n\r\n        @Override\r\n        public void writeTo(OutputStream outputStream) throws IOException {\r\n\r\n            try {\r\n                ... same\r\n                out.flush();\r\n            } catch ( Exception e ) {\r\n                ... your error handling\r\n            } finally {\r\n                // Try to close the stream\r\n\t\t\t    try {\r\n\t\t\t\t    if (out != null) {\r\n\t\t\t\t\t    out.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Throwable t) {\r\n\t\t\t\t\t// not much we can do\r\n\t\t\t\t}\r\n            }\r\n        }\r\n    };\r\n\r\nNow, my tests look as such when made parallel to yours. When reading your code, I&#39;m not sure why you call perform() twice. To me it&#39;s necessary only once.\r\n\r\n    //Same\r\n    final MockMvc mockMvc = MockMvcBuilders.webAppContextSetup(wac)\r\n       .apply(SecurityMockMvcConfigurers.springSecurity())\r\n       .build();\r\n    \r\n    // Same\r\n    MvcResult mvcResult1 = mockMvc.perform(\r\n    get(....))\r\n      .andExpect(status().isOk())\r\n      .andExpect(request().asyncStarted())\r\n      .andReturn();\r\n        \r\n    mvcResult1.getAsyncResult();\r\n    \r\n    // From this point on, I have complete response,\r\n    // if it&#39;s not bugging you to place the entire file in memory\r\n    String thisIsYourFileContent = mvcResult1.getResponse().getContentAsString();\r\n    \r\n    // Go on asserting the content of the file...\r\n\r\n\r\nIn the hope this helps someone.","title":"MockMvcRequestBuilders.asyncDispatch providing an empty HTTP Response and contentType","body":"<p>I have been quite successful with this. Here is what I do differently:</p>\n<pre><code>    return new StreamingResponseBody() {\n\n    @Override\n    public void writeTo(OutputStream outputStream) throws IOException {\n\n        try {\n            ... same\n            out.flush();\n        } catch ( Exception e ) {\n            ... your error handling\n        } finally {\n            // Try to close the stream\n            try {\n                if (out != null) {\n                    out.close();\n                }\n            } catch (Throwable t) {\n                // not much we can do\n            }\n        }\n    }\n};\n</code></pre>\n<p>Now, my tests look as such when made parallel to yours. When reading your code, I'm not sure why you call perform() twice. To me it's necessary only once.</p>\n<pre><code>//Same\nfinal MockMvc mockMvc = MockMvcBuilders.webAppContextSetup(wac)\n   .apply(SecurityMockMvcConfigurers.springSecurity())\n   .build();\n\n// Same\nMvcResult mvcResult1 = mockMvc.perform(\nget(....))\n  .andExpect(status().isOk())\n  .andExpect(request().asyncStarted())\n  .andReturn();\n    \nmvcResult1.getAsyncResult();\n\n// From this point on, I have complete response,\n// if it's not bugging you to place the entire file in memory\nString thisIsYourFileContent = mvcResult1.getResponse().getContentAsString();\n\n// Go on asserting the content of the file...\n</code></pre>\n<p>In the hope this helps someone.</p>\n"}],"owner":{"account_id":1002063,"reputation":1096,"user_id":1016709,"accept_rate":74,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1637783691,"creation_date":1548720308,"question_id":54412062,"body_markdown":"\r\nI have a unit test, where i am attempting to check the response of a async request being made, after converting the method to return a *StreamingResponseBody* using Spring 4.3.\r\n\r\nThe test method is below :\r\n\r\n    final MockMvc mockMvc = MockMvcBuilders.webAppContextSetup(wac)\r\n         .apply(SecurityMockMvcConfigurers.springSecurity())\r\n         .build();\r\n    \r\n    MvcResult mvcResult1 = mockMvc.perform(\r\n       get(&quot;/reports/generic/100?FIELD1=&amp;FIELD3=&quot;).headers(STANDARD_HEADERS.get()))\r\n      .andExpect(status().isOk())\r\n      .andExpect(request().asyncStarted())\r\n      .andReturn();\r\n\r\n    mvcResult1.getAsyncResult();\r\n\r\n    mockMvc.perform(asyncDispatch(mvcResult1))\r\n                        .andExpect(status().isOk())\r\n                        .andExpect(content().contentType(&quot;text/csv&quot;))\r\n                        .andExpect(content().string(&quot;Test Data&quot; + System.lineSeparator() + &quot;FIELD1=&quot; + System.lineSeparator() + &quot;FIELD3=&quot; + System.lineSeparator()))\r\n\r\nThe method it is calling looks like :\r\n\r\n    public StreamingResponseBody streamReport(@PathVariable(&quot;type&quot;) @NotNull String type, @PathVariable(&quot;id&quot;) @NotNull Long id, ReportConfiguration config, HttpServletResponse response) throws Exception {\r\n\r\n        \r\n        ReportServiceHandler handler = reportHandlerFactory.getHandler(type);\r\n        final String reportFilename = handler.getReportFileName(id, reportConfiguration);\r\n\r\n        response.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + reportFilename);\r\n        response.setContentType(&quot;text/csv&quot;);\r\n\r\n        return new StreamingResponseBody() {\r\n\r\n            @Override\r\n            public void writeTo(OutputStream outputStream) throws IOException {\r\n\r\n                try {\r\n                    response.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + reportFilename);\r\n                    response.setContentType(&quot;text/csv&quot;);\r\n                    ServletOutputStream out = (ServletOutputStream) outputStream;\r\n                    handler.generateReport(out, id, reportConfiguration);\r\n                    out.flush();\r\n                } catch ( Exception e ) {\r\n                    response.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;inline&quot;);\r\n                    response.setContentType(&quot;&quot;);\r\n                    throw new IOException(e);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nDebugging shows that the original request has the response from the async within it, but the async response object (within *mvcResult1*) is **not** being copied over during *asyncDispatch* so both the contextType and content string is null.\r\n\r\nIs there a test configuration being missed here that handles async mvcResult so that the content can be asserted ?","title":"MockMvcRequestBuilders.asyncDispatch providing an empty HTTP Response and contentType","body":"<p>I have a unit test, where i am attempting to check the response of a async request being made, after converting the method to return a <em>StreamingResponseBody</em> using Spring 4.3.</p>\n\n<p>The test method is below :</p>\n\n<pre><code>final MockMvc mockMvc = MockMvcBuilders.webAppContextSetup(wac)\n     .apply(SecurityMockMvcConfigurers.springSecurity())\n     .build();\n\nMvcResult mvcResult1 = mockMvc.perform(\n   get(\"/reports/generic/100?FIELD1=&amp;FIELD3=\").headers(STANDARD_HEADERS.get()))\n  .andExpect(status().isOk())\n  .andExpect(request().asyncStarted())\n  .andReturn();\n\nmvcResult1.getAsyncResult();\n\nmockMvc.perform(asyncDispatch(mvcResult1))\n                    .andExpect(status().isOk())\n                    .andExpect(content().contentType(\"text/csv\"))\n                    .andExpect(content().string(\"Test Data\" + System.lineSeparator() + \"FIELD1=\" + System.lineSeparator() + \"FIELD3=\" + System.lineSeparator()))\n</code></pre>\n\n<p>The method it is calling looks like :</p>\n\n<pre><code>public StreamingResponseBody streamReport(@PathVariable(\"type\") @NotNull String type, @PathVariable(\"id\") @NotNull Long id, ReportConfiguration config, HttpServletResponse response) throws Exception {\n\n\n    ReportServiceHandler handler = reportHandlerFactory.getHandler(type);\n    final String reportFilename = handler.getReportFileName(id, reportConfiguration);\n\n    response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + reportFilename);\n    response.setContentType(\"text/csv\");\n\n    return new StreamingResponseBody() {\n\n        @Override\n        public void writeTo(OutputStream outputStream) throws IOException {\n\n            try {\n                response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + reportFilename);\n                response.setContentType(\"text/csv\");\n                ServletOutputStream out = (ServletOutputStream) outputStream;\n                handler.generateReport(out, id, reportConfiguration);\n                out.flush();\n            } catch ( Exception e ) {\n                response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \"inline\");\n                response.setContentType(\"\");\n                throw new IOException(e);\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>Debugging shows that the original request has the response from the async within it, but the async response object (within <em>mvcResult1</em>) is <strong>not</strong> being copied over during <em>asyncDispatch</em> so both the contextType and content string is null.</p>\n\n<p>Is there a test configuration being missed here that handles async mvcResult so that the content can be asserted ?</p>\n"},{"tags":["java","package","latex"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1637476630,"post_id":70052327,"comment_id":123833269,"body_markdown":"*Is there some command I can use like import java.util.Scanner; that will enable me to use latex in my java program?* **Absolutely *not***.","body":"<i>Is there some command I can use like import java.util.Scanner; that will enable me to use latex in my java program?</i> <b>Absolutely <i>not</i></b>."}],"answers":[{"tags":[],"owner":{"account_id":14708352,"reputation":1,"user_id":13550805,"display_name":"academec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637488158,"creation_date":1637488158,"answer_id":70053396,"question_id":70052327,"body_markdown":"You have to add package ***jlatexmath*** in your project. For more desc in case use Replit move to https://blog.replit.com/maven","title":"How do I import a latex package into my programs?","body":"<p>You have to add package <em><strong>jlatexmath</strong></em> in your project. For more desc in case use Replit move to <a href=\"https://blog.replit.com/maven\" rel=\"nofollow noreferrer\">https://blog.replit.com/maven</a></p>\n"}],"owner":{"account_id":22439228,"reputation":101,"user_id":16832599,"display_name":"iceninja21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637783685,"creation_date":1637475951,"question_id":70052327,"body_markdown":"I want to output some equations with Latex. I have searched and found this page:\r\n\r\nhttps://stackoverflow.com/questions/4229190/producing-latex-output-in-java\r\n\r\nBut I don&#39;t know how to use the libraries mentioned in the answers.\r\n\r\nIs there a native command I can use like, something like `import java.util.Scanner;`, that will enable me to use latex in my java program?","title":"How do I import a latex package into my programs?","body":"<p>I want to output some equations with Latex. I have searched and found this page:</p>\n<p><a href=\"https://stackoverflow.com/questions/4229190/producing-latex-output-in-java\">Producing LaTeX output in Java</a></p>\n<p>But I don't know how to use the libraries mentioned in the answers.</p>\n<p>Is there a native command I can use like, something like <code>import java.util.Scanner;</code>, that will enable me to use latex in my java program?</p>\n"},{"tags":["java","android","react-native","flutter","gradle"],"owner":{"account_id":12864120,"reputation":392,"user_id":9304976,"display_name":"Suraj Ingle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637783145,"creation_date":1637783145,"question_id":70102082,"body_markdown":"Recently I&#39;ve had to upgrade gradle versions of my react native projects.\r\nFollowing are the files I currently have.\r\n`android/gradle/wrapper/gradle-wrapper.properties`\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-all.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```   \r\n\r\n`android/build.gradle`\r\n```\r\n dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:3.5.4&quot;)\r\n        // Add the following line:\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;  // Google Services \r\n    }\r\n```\r\n\r\nI&#39;m now receiving error stating `Firebase Messaging component is not present`.\r\nUpon searching the cause,I found [here][1] that `gradle:3.5.4` and `google-services:4.3.10` are not compatible and I might have to downgrade the gradle version.\r\n\r\nHowever on downgrading `gradle` to `3.4.x`, I get another error stating \r\n```\r\n&gt; Android resource linking failed\r\n  /home/thecodeninja/Desktop/FindUtsav/app/FindUtsav eject/android/app/build/intermediates/merged_manifests/debug/AndroidManifest.xml:36: AAPT: error: unexpected element &lt;queries&gt; found in &lt;manifest&gt;.\r\n```\r\n  \r\nand as it turns out, the reason for this error is that lower versions of gradle dont support  `&lt;queries&gt;` tag[ \\[mentioned here\\]][2]. \r\n\r\nand so I`m completely stumped - **how do I find the right pair of gradle and google-services versions** \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62969917/how-to-fix-unexpected-element-queries-found-in-manifest-error/62969918#62969918\r\n  [2]: https://stackoverflow.com/questions/54382246/flutter-firestore-component-is-not-present","title":"How to find compatible pair of google-services and gradle version for react native project","body":"<p>Recently I've had to upgrade gradle versions of my react native projects.\nFollowing are the files I currently have.\n<code>android/gradle/wrapper/gradle-wrapper.properties</code></p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-all.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p><code>android/build.gradle</code></p>\n<pre><code> dependencies {\n        classpath(&quot;com.android.tools.build:gradle:3.5.4&quot;)\n        // Add the following line:\n        classpath 'com.google.gms:google-services:4.3.10'  // Google Services \n    }\n</code></pre>\n<p>I'm now receiving error stating <code>Firebase Messaging component is not present</code>.\nUpon searching the cause,I found <a href=\"https://stackoverflow.com/questions/62969917/how-to-fix-unexpected-element-queries-found-in-manifest-error/62969918#62969918\">here</a> that <code>gradle:3.5.4</code> and <code>google-services:4.3.10</code> are not compatible and I might have to downgrade the gradle version.</p>\n<p>However on downgrading <code>gradle</code> to <code>3.4.x</code>, I get another error stating</p>\n<pre><code>&gt; Android resource linking failed\n  /home/thecodeninja/Desktop/FindUtsav/app/FindUtsav eject/android/app/build/intermediates/merged_manifests/debug/AndroidManifest.xml:36: AAPT: error: unexpected element &lt;queries&gt; found in &lt;manifest&gt;.\n</code></pre>\n<p>and as it turns out, the reason for this error is that lower versions of gradle dont support  <code>&lt;queries&gt;</code> tag<a href=\"https://stackoverflow.com/questions/54382246/flutter-firestore-component-is-not-present\"> [mentioned here]</a>.</p>\n<p>and so I`m completely stumped - <strong>how do I find the right pair of gradle and google-services versions</strong></p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637776834,"creation_date":1637776834,"answer_id":70100907,"question_id":70100457,"body_markdown":"You may not be able to query this schema as your sort key - *requestId* is not in criteria. That means, your query will fail. For a better schema design, you should have a sort key in such a way which can help you narrow down result set obtained by just querying on PartitionKey.\r\n\r\nSo for solution, you will have to create new index as following:\r\n\r\n \r\n&gt; applicationName -&gt; Partition Key \r\n&gt;\r\n&gt; requestStatus -&gt; Sort Key \r\n&gt;\r\n&gt; resolver\r\n\r\nThen you can query with keyConditionExpression on *applicationName* and *requestStatus* with filterExpression on *resolver*.\r\n\r\n","title":"Can I List all items that contain these values on my DynamoDB table?","body":"<p>You may not be able to query this schema as your sort key - <em>requestId</em> is not in criteria. That means, your query will fail. For a better schema design, you should have a sort key in such a way which can help you narrow down result set obtained by just querying on PartitionKey.</p>\n<p>So for solution, you will have to create new index as following:</p>\n<blockquote>\n<p>applicationName -&gt; Partition Key</p>\n<p>requestStatus -&gt; Sort Key</p>\n<p>resolver</p>\n</blockquote>\n<p>Then you can query with keyConditionExpression on <em>applicationName</em> and <em>requestStatus</em> with filterExpression on <em>resolver</em>.</p>\n"},{"tags":[],"owner":{"account_id":8664966,"reputation":11942,"user_id":6485881,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637782607,"creation_date":1637782607,"answer_id":70101983,"question_id":70100457,"body_markdown":"You can add another attribute that combines the values you&#39;re querying for, like this:\r\n\r\n```\r\nGSI1PK: &lt;applicationName&gt;#&lt;requestStatus&gt;#&lt;resolver&gt;\r\n```\r\n\r\nThen you define a Global Secondary Index (`GSI1`) with the Partition Key as `GSI1PK` and the sort key like your current sort key `requestId`.\r\n\r\nWhenever you want to find all requests that match these three conditions, you build your search thing and query the global secondary index:\r\n\r\n```\r\nQuery @GSI1\r\nPartition Key = FOO_APP#DENIED#SOMEONE\r\n```\r\n\r\nThat will yield all requests that match the combination of criteria. This kind of denormalization is common in NoSQL databases like DynamoDB.","title":"Can I List all items that contain these values on my DynamoDB table?","body":"<p>You can add another attribute that combines the values you're querying for, like this:</p>\n<pre><code>GSI1PK: &lt;applicationName&gt;#&lt;requestStatus&gt;#&lt;resolver&gt;\n</code></pre>\n<p>Then you define a Global Secondary Index (<code>GSI1</code>) with the Partition Key as <code>GSI1PK</code> and the sort key like your current sort key <code>requestId</code>.</p>\n<p>Whenever you want to find all requests that match these three conditions, you build your search thing and query the global secondary index:</p>\n<pre><code>Query @GSI1\nPartition Key = FOO_APP#DENIED#SOMEONE\n</code></pre>\n<p>That will yield all requests that match the combination of criteria. This kind of denormalization is common in NoSQL databases like DynamoDB.</p>\n"}],"owner":{"account_id":6087537,"reputation":2443,"user_id":4750980,"accept_rate":75,"display_name":"10110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70101983,"answer_count":2,"score":2,"last_activity_date":1637782607,"creation_date":1637774914,"question_id":70100457,"body_markdown":"I have a DynamoDB table that holds items with the following structure:\r\n\r\n    {\r\n      &quot;applicationName&quot;: { //PARTITION KEY\r\n        &quot;S&quot;: &quot;FOO_APP&quot;\r\n      },\r\n      &quot;requestId&quot;: { // SORT KEY\r\n        &quot;S&quot;: &quot;zzz/yyy/xxx/58C28B6&quot;\r\n      },\r\n      &quot;creationTime&quot;: {\r\n        &quot;N&quot;: &quot;1636332219136&quot;\r\n      },\r\n      &quot;requestStatus&quot;: {\r\n        &quot;S&quot;: &quot;DENIED&quot;\r\n      },\r\n      &quot;resolver&quot;: {\r\n        &quot;S&quot;: &quot;SOMEONE&quot;\r\n      }\r\n    }\r\n\r\n\r\nIn DynamoDB, can I query this table to *List* all items that match the provided values for `applicationName`, `requestStatus` and, `resolver`?\r\n\r\nIn other words, how can I list all items that match:\r\n\r\n* applicationName = &#39;FOO&#39;,\r\n* requestStatus = &#39;DENIED&#39;, and\r\n* resolver = &#39;SOMEONE&#39;\r\n\r\nWith this table design, do I need GSIs? Can I do a Query or would it be a Scan?\r\n\r\nWhat is the most cost-effective, efficient way of accomplishing this task?\r\n\r\nI&#39;m using Java&#39;s [DynamoDBMapper](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.QueryScanExample.html).","title":"Can I List all items that contain these values on my DynamoDB table?","body":"<p>I have a DynamoDB table that holds items with the following structure:</p>\n<pre><code>{\n  &quot;applicationName&quot;: { //PARTITION KEY\n    &quot;S&quot;: &quot;FOO_APP&quot;\n  },\n  &quot;requestId&quot;: { // SORT KEY\n    &quot;S&quot;: &quot;zzz/yyy/xxx/58C28B6&quot;\n  },\n  &quot;creationTime&quot;: {\n    &quot;N&quot;: &quot;1636332219136&quot;\n  },\n  &quot;requestStatus&quot;: {\n    &quot;S&quot;: &quot;DENIED&quot;\n  },\n  &quot;resolver&quot;: {\n    &quot;S&quot;: &quot;SOMEONE&quot;\n  }\n}\n</code></pre>\n<p>In DynamoDB, can I query this table to <em>List</em> all items that match the provided values for <code>applicationName</code>, <code>requestStatus</code> and, <code>resolver</code>?</p>\n<p>In other words, how can I list all items that match:</p>\n<ul>\n<li>applicationName = 'FOO',</li>\n<li>requestStatus = 'DENIED', and</li>\n<li>resolver = 'SOMEONE'</li>\n</ul>\n<p>With this table design, do I need GSIs? Can I do a Query or would it be a Scan?</p>\n<p>What is the most cost-effective, efficient way of accomplishing this task?</p>\n<p>I'm using Java's <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.QueryScanExample.html\" rel=\"nofollow noreferrer\">DynamoDBMapper</a>.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1637781420,"post_id":70101324,"comment_id":123920444,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nPlease see: [What Do You Mean It Doesn&#39;t Work?](https://meta.stackexchange.com/q/147616)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/70101324/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Please see: <a href=\"https://meta.stackexchange.com/q/147616\">What Do You Mean It Doesn&#39;t Work?</a>"},{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1637781765,"post_id":70101324,"comment_id":123920567,"body_markdown":"How is it not working? What do you mean is not working?","body":"How is it not working? What do you mean is not working?"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1637781946,"post_id":70101324,"comment_id":123920630,"body_markdown":"Did you try `never()`?","body":"Did you try <code>never()</code>?"},{"owner":{"account_id":14868083,"reputation":196,"user_id":10736451,"display_name":"szachMati"},"score":0,"creation_date":1637794377,"post_id":70101324,"comment_id":123924383,"body_markdown":"It&#39;s explained here\nhttps://stackoverflow.com/questions/12862659/how-to-verify-that-a-specific-method-was-not-called-using-mockito","body":"It&#39;s explained here <a href=\"https://stackoverflow.com/questions/12862659/how-to-verify-that-a-specific-method-was-not-called-using-mockito\" title=\"how to verify that a specific method was not called using mockito\">stackoverflow.com/questions/12862659/&hellip;</a>"}],"owner":{"account_id":21206040,"reputation":13,"user_id":15595628,"display_name":"SWEngineer12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637781682,"creation_date":1637779040,"question_id":70101324,"body_markdown":"I am new to Mockito. So I need to do this:\r\n\r\nI have a method which is not expected to be triggered as part of my workflow. I know to verify if method runs, I can use \r\n\r\n    verify(updateRule,times(1)).test();\r\n\r\nI tried \r\n\r\n    verify(updateRule,times(0)).test(); \r\n\r\nbut this is not working. am I missing Anything?","title":"Verify method not run Mockito","body":"<p>I am new to Mockito. So I need to do this:</p>\n<p>I have a method which is not expected to be triggered as part of my workflow. I know to verify if method runs, I can use</p>\n<pre><code>verify(updateRule,times(1)).test();\n</code></pre>\n<p>I tried</p>\n<pre><code>verify(updateRule,times(0)).test(); \n</code></pre>\n<p>but this is not working. am I missing Anything?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"score":0,"creation_date":1637774301,"post_id":70100202,"comment_id":123917876,"body_markdown":"You might want to look at cropping the image, rather than manipulating pixels. https://stackoverflow.com/questions/2386064/how-do-i-crop-an-image-in-java","body":"You might want to look at cropping the image, rather than manipulating pixels. <a href=\"https://stackoverflow.com/questions/2386064/how-do-i-crop-an-image-in-java\" title=\"how do i crop an image in java\">stackoverflow.com/questions/2386064/&hellip;</a>"},{"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"score":0,"creation_date":1637774777,"post_id":70100202,"comment_id":123918040,"body_markdown":"Here&#39;s a couple more links, some including libraries that might help: https://stackoverflow.com/questions/7894275/cropping-an-image-in-java and https://stackoverflow.com/questions/23610007/crop-image-based-on-x-y-coordinates-in-java and https://stackoverflow.com/questions/5186597/how-crop-some-region-of-image-in-java","body":"Here&#39;s a couple more links, some including libraries that might help: <a href=\"https://stackoverflow.com/questions/7894275/cropping-an-image-in-java\" title=\"cropping an image in java\">stackoverflow.com/questions/7894275/cropping-an-image-in-jav&zwnj;&#8203;a</a> and <a href=\"https://stackoverflow.com/questions/23610007/crop-image-based-on-x-y-coordinates-in-java\" title=\"crop image based on x y coordinates in java\">stackoverflow.com/questions/23610007/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/5186597/how-crop-some-region-of-image-in-java\" title=\"how crop some region of image in java\">stackoverflow.com/questions/5186597/&hellip;</a>"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637774938,"post_id":70100202,"comment_id":123918098,"body_markdown":"@computercarguy thanks but I don&#39;t want to crop the image , I want to keep the dimensions of the old image but rather than drawing all the circles , I want to draw each color on its own as in the picture above","body":"@computercarguy thanks but I don&#39;t want to crop the image , I want to keep the dimensions of the old image but rather than drawing all the circles , I want to draw each color on its own as in the picture above"},{"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"score":0,"creation_date":1637775300,"post_id":70100202,"comment_id":123918206,"body_markdown":"I was thinking you wanted to keep the color interaction of the overlap, but if that&#39;s not the case, then why not simply draw the circles in their own `BufferedImage` and save them separately? Even if the image is generated dynamically, you should be able to keep track of the individual changes, then recreate them in each of their own image. Or keep an array of `BufferedImage`s for each element that you never display. That&#39;ll take up lots of RAM, but it&#39;d be similar to Layers in Photoshop and Gimp.","body":"I was thinking you wanted to keep the color interaction of the overlap, but if that&#39;s not the case, then why not simply draw the circles in their own <code>BufferedImage</code> and save them separately? Even if the image is generated dynamically, you should be able to keep track of the individual changes, then recreate them in each of their own image. Or keep an array of <code>BufferedImage</code>s for each element that you never display. That&#39;ll take up lots of RAM, but it&#39;d be similar to Layers in Photoshop and Gimp."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1637775391,"post_id":70100202,"comment_id":123918247,"body_markdown":"So you want to subtract certain colors? For example, subtracting red will leave just the blue and green circles?","body":"So you want to subtract certain colors? For example, subtracting red will leave just the blue and green circles?"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637775489,"post_id":70100202,"comment_id":123918283,"body_markdown":"@JohnnyMopp exactly and save that image in a file , just as in the picture above , you see different pictures are generated , each one has different colors , one has only red without the blue and green the other blue without red and green and like this","body":"@JohnnyMopp exactly and save that image in a file , just as in the picture above , you see different pictures are generated , each one has different colors , one has only red without the blue and green the other blue without red and green and like this"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637776338,"post_id":70100202,"comment_id":123918592,"body_markdown":"When youre working with a `BufferedImage`, you dont need such complicated approaches, see [`getRGB`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/BufferedImage.html#getRGB(int,int,int,int,int%5B%5D,int,int)) and [`setRGB`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/BufferedImage.html#setRGB(int,int,int,int,int%5B%5D,int,int))","body":"When youre working with a <code>BufferedImage</code>, you dont need such complicated approaches, see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/BufferedImage.html#getRGB(int,int,int,int,int%5B%5D,int,int)\" rel=\"nofollow noreferrer\"><code>getRGB</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/BufferedImage.html#setRGB(int,int,int,int,int%5B%5D,int,int)\" rel=\"nofollow noreferrer\"><code>setRGB</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637776608,"creation_date":1637776608,"answer_id":70100857,"question_id":70100202,"body_markdown":"Here&#39;s a simple example of how to &quot;turn off&quot; the red channel:\r\n```\r\nfinal BufferedImage image = ImageIO.read(new File(&quot;test.bmp&quot;));\r\nint red = 0x00FF0000;\r\nfor (int row = 0; row &lt; image.getHeight(); row++) {\r\n\tfor (int col = 0; col &lt; image.getWidth(); col++) {\r\n\t\tint color = image.getRGB(col, row);\r\n\t\tcolor &amp;= ~red;\r\n\t\timage.setRGB(col, row, color);\r\n\t}\r\n}\r\n```\r\nThis sets the red in each RGB pixel to 0. You can repeat for other colors and combinations.\r\n\r\nThis produces this from your source image:\r\n\r\n[![Picture of just the blue and green balls][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDYdO.png\r\n","title":"Converting an array to image Java","body":"<p>Here's a simple example of how to &quot;turn off&quot; the red channel:</p>\n<pre><code>final BufferedImage image = ImageIO.read(new File(&quot;test.bmp&quot;));\nint red = 0x00FF0000;\nfor (int row = 0; row &lt; image.getHeight(); row++) {\n    for (int col = 0; col &lt; image.getWidth(); col++) {\n        int color = image.getRGB(col, row);\n        color &amp;= ~red;\n        image.setRGB(col, row, color);\n    }\n}\n</code></pre>\n<p>This sets the red in each RGB pixel to 0. You can repeat for other colors and combinations.</p>\n<p>This produces this from your source image:</p>\n<p><a href=\"https://i.stack.imgur.com/gDYdO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDYdO.png\" alt=\"Picture of just the blue and green balls\" /></a></p>\n"}],"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70100857,"answer_count":1,"score":1,"last_activity_date":1637781557,"creation_date":1637773673,"question_id":70100202,"body_markdown":"I would like to convert an array of pixels to images so that I can read each pixel of the image, I&#39;ve converted the image to pixels and now what I&#39;m trying to do is that I have a picture of an RGB circle , After converting the image to pixels I want to draw images again but Not the entire picture again , I want to draw the red circle alone , the green circle alone and the blue circle alone and store the images in a file , how can that be done ?\r\n\r\nHere&#39;s the code that I used to convert the image to array pixels : \r\n\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.ImageObserver;\r\n    import java.awt.image.PixelGrabber;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    public class BMPtoArray {\r\n    public static int[] convertToPixels(Image img) {\r\n        int width = img.getWidth(null);\r\n        int height = img.getHeight(null);\r\n        int[] pixel = new int[width * height];\r\n\r\n        PixelGrabber pg = new PixelGrabber(img, 0, 0, width, height, pixel, 0, width);\r\n        try {\r\n            pg.grabPixels();\r\n        } catch (InterruptedException e) {\r\n            throw new IllegalStateException(&quot;Error: Interrupted Waiting for Pixels&quot;);\r\n        }\r\n        if ((pg.getStatus() &amp; ImageObserver.ABORT) != 0) {\r\n            throw new IllegalStateException(&quot;Error: Image Fetch Aborted&quot;);\r\n        }\r\n        return pixel;\r\n    }\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedImage image = ImageIO.read(new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year \r\n    first semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\circleRGB.bmp&quot;));\r\n        //System.out.println(convertToPixels(image));\r\n    }\r\n    }\r\n\r\nHere&#39;s the image :\r\n\r\n [![RGBCirle][1]][1]\r\n\r\nso this is basically what I&#39;m trying to achieve\r\n\r\n\r\n[![This is what I want to Achieve][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e3G2u.png","title":"Converting an array to image Java","body":"<p>I would like to convert an array of pixels to images so that I can read each pixel of the image, I've converted the image to pixels and now what I'm trying to do is that I have a picture of an RGB circle , After converting the image to pixels I want to draw images again but Not the entire picture again , I want to draw the red circle alone , the green circle alone and the blue circle alone and store the images in a file , how can that be done ?</p>\n<p>Here's the code that I used to convert the image to array pixels :</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ImageObserver;\nimport java.awt.image.PixelGrabber;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class BMPtoArray {\npublic static int[] convertToPixels(Image img) {\n    int width = img.getWidth(null);\n    int height = img.getHeight(null);\n    int[] pixel = new int[width * height];\n\n    PixelGrabber pg = new PixelGrabber(img, 0, 0, width, height, pixel, 0, width);\n    try {\n        pg.grabPixels();\n    } catch (InterruptedException e) {\n        throw new IllegalStateException(&quot;Error: Interrupted Waiting for Pixels&quot;);\n    }\n    if ((pg.getStatus() &amp; ImageObserver.ABORT) != 0) {\n        throw new IllegalStateException(&quot;Error: Image Fetch Aborted&quot;);\n    }\n    return pixel;\n}\npublic static void main(String[] args) throws IOException {\n    BufferedImage image = ImageIO.read(new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year \nfirst semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\circleRGB.bmp&quot;));\n    //System.out.println(convertToPixels(image));\n}\n}\n</code></pre>\n<p>Here's the image :</p>\n<p><a href=\"https://i.stack.imgur.com/e3G2u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e3G2u.png\" alt=\"RGBCirle\" /></a></p>\n<p>so this is basically what I'm trying to achieve</p>\n<p>[![This is what I want to Achieve][2]][2]</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11357620,"reputation":904,"user_id":8326775,"display_name":"miszcz2137"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637781530,"creation_date":1586881392,"answer_id":61212491,"question_id":61201669,"body_markdown":"You have typo in your code. In Java methods are camelCase, so the method that is used in conversion is `toString`. But you implemented `ToString`. Since the language is case-sensitive it&#39;s considered different method and therefor not used. So the basic method from `object` is used. Also you should use `@override` before methods that override methods in base class and such method is `toString`.","title":"I need help fix the java code required output needed the Fraction@55f96302\\n is an error","body":"<p>You have typo in your code. In Java methods are camelCase, so the method that is used in conversion is <code>toString</code>. But you implemented <code>ToString</code>. Since the language is case-sensitive it's considered different method and therefor not used. So the basic method from <code>object</code> is used. Also you should use <code>@override</code> before methods that override methods in base class and such method is <code>toString</code>.</p>\n"}],"owner":{"account_id":18279065,"reputation":9,"user_id":13308211,"display_name":"unknown cyberpunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637781530,"creation_date":1586844740,"question_id":61201669,"body_markdown":"Required output:\r\ntesting default constructor\\n\r\n\\n\r\n\\n\r\n-----------------------------\\n\r\n\\n\r\n==&gt;Testing default constructor/toString()\\n\r\n0/1\\n\r\n\r\n\r\nMy output:\r\ntesting default constructor\\n\r\n\\n\r\n\\n\r\n-----------------------------\\n\r\n\\n\r\n==&gt;Testing default constructor/toString()\\n\r\nFraction@55f96302\\n\r\n\r\n```\r\npublic class Fraction {\r\n\r\n\tprivate int num, demonator;\r\n\t\r\n\tpublic Fraction() {\r\n\t\tnum = 0;\r\n\t\tdemonator = 1;\r\n\t\t\r\n\t}\r\n\tpublic Fraction(int input) {\r\n\t\tnum = input;\r\n\t\tdemonator = 1;\r\n\t\t\r\n\t}\r\n\tpublic Fraction(int input2, int input) {\r\n\t\tif (num == 0)\r\n\t\t\tthrow new IllegalArgumentException(&quot;num = 0&quot;);\r\n\t\tnum = input2;\r\n\t\tdemonator = input;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String ToString(int i) {\r\n\t\treturn num + &quot;/&quot; + demonator;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic double evaluate() {\r\n\t\treturn num / demonator;\r\n\t\t\r\n\t}\r\n\tpublic boolean isImproper() {\r\n\t\treturn (num &gt; demonator);\r\n\t\t\r\n\t\t\r\n\t}\r\n\tpublic Fraction multiplyBy(Fraction another)\r\n\t{\r\n\tFraction f = new Fraction(this.num*another.num, this.demonator*another.demonator); //you finish call to constructor\r\n\treturn f;\r\n\t}\r\n\t\r\n\tpublic void invert() {\r\n\t\tif (num == 0)\r\n\t\t\t\tthrow new IllegalStateException(&quot;num = 0&quot;);\r\n\t\tint temp = this.num; \r\n\t\tnum = demonator;\r\n\t\tdemonator = temp;\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```","title":"I need help fix the java code required output needed the Fraction@55f96302\\n is an error","body":"<p>Required output:\ntesting default constructor\\n\n\\n\n\\n\n-----------------------------\\n\n\\n\n==>Testing default constructor/toString()\\n\n0/1\\n</p>\n\n<p>My output:\ntesting default constructor\\n\n\\n\n\\n\n-----------------------------\\n\n\\n\n==>Testing default constructor/toString()\\n\nFraction@55f96302\\n</p>\n\n<pre><code>public class Fraction {\n\n    private int num, demonator;\n\n    public Fraction() {\n        num = 0;\n        demonator = 1;\n\n    }\n    public Fraction(int input) {\n        num = input;\n        demonator = 1;\n\n    }\n    public Fraction(int input2, int input) {\n        if (num == 0)\n            throw new IllegalArgumentException(\"num = 0\");\n        num = input2;\n        demonator = input;\n\n    }\n\n    public String ToString(int i) {\n        return num + \"/\" + demonator;\n\n    }\n\n    public double evaluate() {\n        return num / demonator;\n\n    }\n    public boolean isImproper() {\n        return (num &gt; demonator);\n\n\n    }\n    public Fraction multiplyBy(Fraction another)\n    {\n    Fraction f = new Fraction(this.num*another.num, this.demonator*another.demonator); //you finish call to constructor\n    return f;\n    }\n\n    public void invert() {\n        if (num == 0)\n                throw new IllegalStateException(\"num = 0\");\n        int temp = this.num; \n        num = demonator;\n        demonator = temp;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1637781593,"post_id":70101768,"comment_id":123920517,"body_markdown":"Your `txtToString()` method returned `null` because the file was not found. Is it okay that this method returns `null`?","body":"Your <code>txtToString()</code> method returned <code>null</code> because the file was not found. Is it okay that this method returns <code>null</code>?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1637781620,"post_id":70101768,"comment_id":123920527,"body_markdown":"https://stackoverflow.com/q/218384/438992 Might be worth not swallowing the exception.","body":"<a href=\"https://stackoverflow.com/q/218384/438992\">stackoverflow.com/q/218384/438992</a> Might be worth not swallowing the exception."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637799020,"post_id":70101768,"comment_id":123925368,"body_markdown":"Remove the `try` and `catch` from your txtToString method.  Add `throws FileNotFoundException` to that methods declaration.  This will guarantee that you are clearly informed of any problems reading the file, and it will prevent your program from trying to proceed when the file could not be read.  (You dont want the program to keep going if it has no data, right?)","body":"Remove the <code>try</code> and <code>catch</code> from your txtToString method.  Add <code>throws FileNotFoundException</code> to that methods declaration.  This will guarantee that you are clearly informed of any problems reading the file, and it will prevent your program from trying to proceed when the file could not be read.  (You dont want the program to keep going if it has no data, right?)"}],"owner":{"account_id":20894923,"reputation":1,"user_id":15349432,"display_name":"siddharth_celadon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637781420,"creation_date":1637781420,"question_id":70101768,"body_markdown":"I&#39;m trying to program a word unscrambler in java, but I keep getting this error **Cannot read the array length because &quot;contents&quot; is null**. I tried to use java.io.File, but it also gave me the same error when I tried it.\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\r\n\t\t\tString[] contents = txtToString(&quot;allwords.txt&quot;);\r\n\t        Scanner in = new Scanner(System.in);\r\n\t        System.out.println(&quot;Insert your letters&quot;);\r\n\t        String input = in.nextLine();\r\n\t        char[] inputArray = input.toCharArray();\r\n\t \r\n\t        for(int i = 0; i &lt; contents.length; i++)\r\n\t        {\r\n\t        \tfor(int j = 0; j &lt; contents[i].length()-1; j++)\r\n\t\t\t\t{\r\n\t        \t\tchar[] word = contents[i].toCharArray();\r\n\t \r\n\t        \t\tfor(int c = 0; c &lt; word.length-1; c++)\r\n\t\t\t\t\t{\r\n\t        \t\t\twhile(c&lt;inputArray.length)\r\n\t\t\t\t\t\t{\r\n\t        \t\t\t   if(word[c]==inputArray[c])\r\n\t\t\t\t\t\t    {\r\n\t        \t\t\t\t   word[j]=&#39; &#39;;\r\n\t        \t\t\t\t   for(int s = 0; s &lt; word.length-1;s++)\r\n\t        \t\t\t\t   {\r\n\t        \t\t\t\t\t   if(word[s]!= &#39; &#39;)\r\n\t        \t\t\t\t\t   {\t\r\n\t        \t\t\t\t\t\t   break;\r\n\t        \t\t\t\t\t   }\r\n\t        \t\t\t\t\t   else\r\n\t        \t\t\t\t\t   {\r\n\t\t        \t\t\t\t\t\tSystem.out.println(&quot;The word is &quot;+contents[i]);\r\n\t\t        \t\t\t\t\t\tbreak;\r\n\t        \t\t\t\t\t   }\r\n\t        \t\t\t\t   }\r\n\t\t\t\t\t\t    }\r\n\t        \t\t\t}\r\n\t        \t\t}\r\n\t        \t}\r\n\t        }\r\n\t    }\r\n\tprivate static String[] txtToString(String file) {\r\n\t\tint count = 0;\r\n\t\ttry {\r\n\t\t\tScanner g = new Scanner(new File (file));\r\n\t\t\twhile(g.hasNextLine()) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tString[] textToArray = new String[count];\r\n\t\t\tScanner helloReader = new Scanner(new File(file));\r\n\t\t\tfor(int z = 0; z &lt; count; z++) {\r\n\t\t\t\ttextToArray[z] = helloReader.next();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn textToArray;\r\n\t\t}\r\n\t\tcatch (FileNotFoundException e){\r\n\t\t\t\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nWhy am I getting this error?","title":"&quot;Cannot read the array length because &quot;contents&quot; is null&quot; in word unscrambler","body":"<p>I'm trying to program a word unscrambler in java, but I keep getting this error <strong>Cannot read the array length because &quot;contents&quot; is null</strong>. I tried to use java.io.File, but it also gave me the same error when I tried it.</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n\n        String[] contents = txtToString(&quot;allwords.txt&quot;);\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Insert your letters&quot;);\n        String input = in.nextLine();\n        char[] inputArray = input.toCharArray();\n \n        for(int i = 0; i &lt; contents.length; i++)\n        {\n            for(int j = 0; j &lt; contents[i].length()-1; j++)\n            {\n                char[] word = contents[i].toCharArray();\n \n                for(int c = 0; c &lt; word.length-1; c++)\n                {\n                    while(c&lt;inputArray.length)\n                    {\n                       if(word[c]==inputArray[c])\n                        {\n                           word[j]=' ';\n                           for(int s = 0; s &lt; word.length-1;s++)\n                           {\n                               if(word[s]!= ' ')\n                               {    \n                                   break;\n                               }\n                               else\n                               {\n                                    System.out.println(&quot;The word is &quot;+contents[i]);\n                                    break;\n                               }\n                           }\n                        }\n                    }\n                }\n            }\n        }\n    }\nprivate static String[] txtToString(String file) {\n    int count = 0;\n    try {\n        Scanner g = new Scanner(new File (file));\n        while(g.hasNextLine()) {\n            count++;\n        }\n        String[] textToArray = new String[count];\n        Scanner helloReader = new Scanner(new File(file));\n        for(int z = 0; z &lt; count; z++) {\n            textToArray[z] = helloReader.next();\n        }\n        \n        return textToArray;\n    }\n    catch (FileNotFoundException e){\n        \n    }\n    return null;\n}\n</code></pre>\n<p>Why am I getting this error?</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529676340,"creation_date":1529676340,"answer_id":50989751,"question_id":50971803,"body_markdown":"You have to **load your properties file** into Spring context using [**PropertyPlaceholderConfigurer**][1].\r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n      &lt;property name=&quot;locations&quot; value=&quot;classpath:com/foo/jdbc.properties&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-factory-placeholderconfigurer","title":"Spring Inject boolean value from property file using XML is always false","body":"<p>You have to <strong>load your properties file</strong> into Spring context using <a href=\"https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-factory-placeholderconfigurer\" rel=\"nofollow noreferrer\"><strong>PropertyPlaceholderConfigurer</strong></a>.</p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n  &lt;property name=\"locations\" value=\"classpath:com/foo/jdbc.properties\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1531477250,"creation_date":1531477250,"answer_id":51322939,"question_id":50971803,"body_markdown":"The problem fixed using this workaround, instead of injecting `boolean`, I injected `String` and then converted that `String` to `boolean` on the setter \r\n\r\n    public void setUseVirtualWallet(String useVirtualWallet) {\r\n        this.useVirtualWallet =  Boolean.parseBoolean(useVirtualWallet);\r\n    }\r\n","title":"Spring Inject boolean value from property file using XML is always false","body":"<p>The problem fixed using this workaround, instead of injecting <code>boolean</code>, I injected <code>String</code> and then converted that <code>String</code> to <code>boolean</code> on the setter </p>\n\n<pre><code>public void setUseVirtualWallet(String useVirtualWallet) {\n    this.useVirtualWallet =  Boolean.parseBoolean(useVirtualWallet);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14361855,"reputation":1,"user_id":12045605,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637781203,"creation_date":1637781203,"answer_id":70101723,"question_id":50971803,"body_markdown":"Another variant\r\n\r\n\r\n    &lt;beans \r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&gt;\r\n    \r\n        &lt;context:property-placeholder location=&quot;classpath:com/foo/jdbc.properties&quot;/&gt;\r\n        ...\r\n    \r\n    &lt;beans&gt;\r\n     \r\n\r\n","title":"Spring Inject boolean value from property file using XML is always false","body":"<p>Another variant</p>\n<pre><code>&lt;beans \n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&gt;\n\n    &lt;context:property-placeholder location=&quot;classpath:com/foo/jdbc.properties&quot;/&gt;\n    ...\n\n&lt;beans&gt;\n \n</code></pre>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51322939,"answer_count":3,"score":1,"last_activity_date":1637781203,"creation_date":1529593457,"question_id":50971803,"body_markdown":"I am trying to inject boolean property from property file. the value of the attribute is alway `false`\r\n\r\nthe property     \r\n\r\n    use.virtual.wallet=true\r\n\r\nThe xml configuration\r\n\r\n\t&lt;bean id=&quot;proxyUtil&quot; class=&quot;com.util.ProxyServiceUtility&quot;&gt;\r\n\t\t&lt;property name=&quot;useVirtualWallet&quot; value=&quot;${use.virtual.wallet}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nthe bean\r\n\r\n    public class ProxyServiceUtility {\r\n    \r\n    \tprivate boolean useVirtualWallet;\r\n\r\n    \tpublic void setUseVirtualWallet(boolean useVirtualWallet) {\r\n    \t\tthis.useVirtualWallet = useVirtualWallet;\r\n    \t}\r\n    \r\n    \tpublic boolean isUseVirtualWallet() {\r\n    \t\treturn useVirtualWallet;\r\n    \t}\r\n    }\r\n\r\n\r\n`useVirtualWallet` is alway false","title":"Spring Inject boolean value from property file using XML is always false","body":"<p>I am trying to inject boolean property from property file. the value of the attribute is alway <code>false</code></p>\n\n<p>the property     </p>\n\n<pre><code>use.virtual.wallet=true\n</code></pre>\n\n<p>The xml configuration</p>\n\n<pre><code>&lt;bean id=\"proxyUtil\" class=\"com.util.ProxyServiceUtility\"&gt;\n    &lt;property name=\"useVirtualWallet\" value=\"${use.virtual.wallet}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>the bean</p>\n\n<pre><code>public class ProxyServiceUtility {\n\n    private boolean useVirtualWallet;\n\n    public void setUseVirtualWallet(boolean useVirtualWallet) {\n        this.useVirtualWallet = useVirtualWallet;\n    }\n\n    public boolean isUseVirtualWallet() {\n        return useVirtualWallet;\n    }\n}\n</code></pre>\n\n<p><code>useVirtualWallet</code> is alway false</p>\n"},{"tags":["java","mysql","security","passwords","stack-trace"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1637761017,"post_id":70096449,"comment_id":123912069,"body_markdown":"@UrvashiSoni that&#39;s extremely bad advice. Any sensitive information is in the message (obviously), and cannot possibly be in the stacktrace or exception type. What you suggest accomplishes the opposite: Leaks sensitive information and removes useful, non-sensitive information.","body":"@UrvashiSoni that&#39;s extremely bad advice. Any sensitive information is in the message (obviously), and cannot possibly be in the stacktrace or exception type. What you suggest accomplishes the opposite: Leaks sensitive information and removes useful, non-sensitive information."},{"owner":{"account_id":9239948,"reputation":279,"user_id":6863495,"display_name":"Urvashi Soni"},"score":0,"creation_date":1637828179,"post_id":70096449,"comment_id":123931084,"body_markdown":"@rzwitserloot Point taken. Comment Removed. Thanks.","body":"@rzwitserloot Point taken. Comment Removed. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637761696,"creation_date":1637761696,"answer_id":70097262,"question_id":70096449,"body_markdown":"There is no solution to this. Data is not black and white; the security sensitive nature of any piece of data is a shade of gray. Even seemingly entirely innocuous stuff like, say, a line number or method name in a stack trace is, theoretically, &#39;sensitive&#39;. For example, it could lead one to surmise that you must be using version X.Y of library A.B, which has a known security leak, and I can now exploit this.\r\n\r\nThat&#39;s how security in real life works: It&#39;s rarely a single point of failure that can be conclusively pointed at as: THIS, this is the one and only reason the system got compromised. It&#39;s instead almost always multiple factors, each with a problem that on its own doesn&#39;t seem all that concerning, but put them all together, and voila.\r\n\r\nHence: __There is no solution__ - log info __is sensitive__. It should be treated as such.\r\n\r\nOf course, that sounds nice, but an actual plaintext password is black as night, and whilst all log info is neccessarily sensitive, there&#39;s a difference between &#39;carefully manage your logs&#39; and &#39;just print passwords in it&#39;.\r\n\r\nThere isn&#39;t a good solution there either, unfortunately: There are cultural factors at work (be very very careful about what you shove inside your exception messages and log statements. Whatever instinct made you go: Whatever, I&#39;ll put the entire SQL statement straight up inside a log file - address that), but cultural instincts are hard to instill and virtually impossible to test for (how do you unit test &#39;no line of the entire code base is at risk of logging passwords&#39;? That&#39;s... decidedly non-trivial).\r\n\r\nSo, instead, it&#39;s more of a &#39;quench the fire when you see it&#39;: For this specific case you now know it, so fix things. In my experience, SQL queries __do not__ as a rule of thumb include the entire statement, but if they do, use a `PreparedStatement` and set the password via `.setString(1, ...)` and they won&#39;t. This again goes to culture: In my dev teams, putting string literals in SQL statements is not acceptable, is often lint-checked for, and is aggressively policed via code review. Even if the string literal is known acceptable and entirely constant - use preparedstatements anyway. If the SQLException includes the entire statement including the values for the `?` even when using preparedstatements, oof - go hunt in the settings of the JDBC driver if you can correct that. If you really can&#39;t, write code that strips the SQL statement out of exceptions (wrap `.query`, perhaps) - that&#39;s possible but complicated, I&#39;d go look for alternatives first, though.\r\n\r\nOther cultural aspects here involve not wanting __any__ such direct sensitive information in any form that isn&#39;t by design extremely fleeting. In other words, having passwords in plain text in a database is the mistake - and that mistake then shows up in the form of &#39;oh oops it is really easy to spill that password via a log&#39;. The fix isn&#39;t &quot;prevent this from showing up in a log file&quot;, the fix is &quot;do not store passwords unhashed in a database&quot;. Something as simple as encrypting it, even though the decryption password is right there in the codebase and therefore not a particularly well kept secret, already means that a developer reviewing the logs will need to actively commit to breaking their contracts (i.e. turn malicious, and if your programmers are malicious, this is the least of your problems, securitywise!) in order to actually know what that is.\r\n\r\nYour dev team members can be bribed, and some will not be able to control their curiosity perhaps, but security is not black and white, it&#39;s shades of gray, and that would already help.\r\n\r\nEven better is to find whatever process demands you have unhashed passwords and get rid of em, because there is just no reason to have these. If it&#39;s a password of a user in your system, what are you doing? Use bcrypt, scrypt, or some other password hash setup instead. If this is a password that you need in order to connect to external API, then talk to the external API provider and tell them their setup is not acceptable - this should be a matter of using JWTs or some other PKI authorization/authentication scheme instead of sending passwords about. And so on.\r\n\r\nIn other words, there are answers. But no fire-and-forget easily-applied cure-alls.\r\n","title":"How to avoid logging sensitive information from Java exceptions?","body":"<p>There is no solution to this. Data is not black and white; the security sensitive nature of any piece of data is a shade of gray. Even seemingly entirely innocuous stuff like, say, a line number or method name in a stack trace is, theoretically, 'sensitive'. For example, it could lead one to surmise that you must be using version X.Y of library A.B, which has a known security leak, and I can now exploit this.</p>\n<p>That's how security in real life works: It's rarely a single point of failure that can be conclusively pointed at as: THIS, this is the one and only reason the system got compromised. It's instead almost always multiple factors, each with a problem that on its own doesn't seem all that concerning, but put them all together, and voila.</p>\n<p>Hence: <strong>There is no solution</strong> - log info <strong>is sensitive</strong>. It should be treated as such.</p>\n<p>Of course, that sounds nice, but an actual plaintext password is black as night, and whilst all log info is neccessarily sensitive, there's a difference between 'carefully manage your logs' and 'just print passwords in it'.</p>\n<p>There isn't a good solution there either, unfortunately: There are cultural factors at work (be very very careful about what you shove inside your exception messages and log statements. Whatever instinct made you go: Whatever, I'll put the entire SQL statement straight up inside a log file - address that), but cultural instincts are hard to instill and virtually impossible to test for (how do you unit test 'no line of the entire code base is at risk of logging passwords'? That's... decidedly non-trivial).</p>\n<p>So, instead, it's more of a 'quench the fire when you see it': For this specific case you now know it, so fix things. In my experience, SQL queries <strong>do not</strong> as a rule of thumb include the entire statement, but if they do, use a <code>PreparedStatement</code> and set the password via <code>.setString(1, ...)</code> and they won't. This again goes to culture: In my dev teams, putting string literals in SQL statements is not acceptable, is often lint-checked for, and is aggressively policed via code review. Even if the string literal is known acceptable and entirely constant - use preparedstatements anyway. If the SQLException includes the entire statement including the values for the <code>?</code> even when using preparedstatements, oof - go hunt in the settings of the JDBC driver if you can correct that. If you really can't, write code that strips the SQL statement out of exceptions (wrap <code>.query</code>, perhaps) - that's possible but complicated, I'd go look for alternatives first, though.</p>\n<p>Other cultural aspects here involve not wanting <strong>any</strong> such direct sensitive information in any form that isn't by design extremely fleeting. In other words, having passwords in plain text in a database is the mistake - and that mistake then shows up in the form of 'oh oops it is really easy to spill that password via a log'. The fix isn't &quot;prevent this from showing up in a log file&quot;, the fix is &quot;do not store passwords unhashed in a database&quot;. Something as simple as encrypting it, even though the decryption password is right there in the codebase and therefore not a particularly well kept secret, already means that a developer reviewing the logs will need to actively commit to breaking their contracts (i.e. turn malicious, and if your programmers are malicious, this is the least of your problems, securitywise!) in order to actually know what that is.</p>\n<p>Your dev team members can be bribed, and some will not be able to control their curiosity perhaps, but security is not black and white, it's shades of gray, and that would already help.</p>\n<p>Even better is to find whatever process demands you have unhashed passwords and get rid of em, because there is just no reason to have these. If it's a password of a user in your system, what are you doing? Use bcrypt, scrypt, or some other password hash setup instead. If this is a password that you need in order to connect to external API, then talk to the external API provider and tell them their setup is not acceptable - this should be a matter of using JWTs or some other PKI authorization/authentication scheme instead of sending passwords about. And so on.</p>\n<p>In other words, there are answers. But no fire-and-forget easily-applied cure-alls.</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637781114,"creation_date":1637781114,"answer_id":70101715,"question_id":70096449,"body_markdown":"The approach to do so is to\r\n\r\n# Research\r\n\r\nLook into the logs and see what error types yielded sensitive information.\r\n\r\n# Modify\r\n\r\nImplement a class that does the safe logging and delegate the logging of errors to this class whenever an error is catched that might contain sensitive information\r\n\r\n# Catch everything\r\n\r\nYou will need to make sure that any exception is catched and you handle the exceptions in the way that fits your needs the best.\r\n\r\n# Refactor\r\n\r\nLook into each catch in your project and see whether there are potentially catching exceptions that might have sensitive information.\r\n\r\n# Wait and see\r\n\r\nAfter you have completed the process, wait a while and then check the logs again and see whether there are cases that you have missed initially. If so, apply the same process for the cases that were not handled before.","title":"How to avoid logging sensitive information from Java exceptions?","body":"<p>The approach to do so is to</p>\n<h1>Research</h1>\n<p>Look into the logs and see what error types yielded sensitive information.</p>\n<h1>Modify</h1>\n<p>Implement a class that does the safe logging and delegate the logging of errors to this class whenever an error is catched that might contain sensitive information</p>\n<h1>Catch everything</h1>\n<p>You will need to make sure that any exception is catched and you handle the exceptions in the way that fits your needs the best.</p>\n<h1>Refactor</h1>\n<p>Look into each catch in your project and see whether there are potentially catching exceptions that might have sensitive information.</p>\n<h1>Wait and see</h1>\n<p>After you have completed the process, wait a while and then check the logs again and see whether there are cases that you have missed initially. If so, apply the same process for the cases that were not handled before.</p>\n"}],"owner":{"account_id":2165410,"reputation":46,"user_id":1918631,"display_name":"Ari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637781114,"creation_date":1637758356,"question_id":70096449,"body_markdown":"Java stacktraces might contain sensitive information (in my case - passwords), if the full stacktrace is logged by a logging framework (here Java Util Logging).\r\n\r\nHow to avoid logging such sensitive information without loosing other important information from the stacktrace in the log files?\r\n\r\nExample:\r\n```\r\npackage javalogspassword;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class JavaLogsPassword {\r\n\r\n    private static final Logger LOG = Logger.getLogger(JavaLogsPassword.class.getName());\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Connection conn;\r\n        try {\r\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/test?&quot;\r\n                    + &quot;user=root&amp;password=&quot;);\r\n            LOG.log(Level.FINER, &quot;Connected&quot;);\r\n            try (Statement statement = conn.createStatement()) {\r\n                // this statement contains a syntax error\r\n                statement.execute(&quot;ALTER USER test IDENT BY &#39;*Choose-a-good-password*&#39;&quot;);\r\n            }\r\n            conn.close();\r\n\r\n        } catch (SQLException ex) {\r\n            // password &#39;*Choose-a-good-password*&#39; will be logged\r\n            LOG.throwing(JavaLogsPassword.class.getName(), &quot;main&quot;, ex);\r\n        }\r\n    }\r\n}\r\n```\r\nLogger configuration : logging.properties:\r\n```\r\nhandlers= java.util.logging.FileHandler\r\n.level= INFO\r\njava.util.logging.FileHandler.pattern = java%u.log\r\njavalogspassword.level = FINER\r\n```\r\n\r\nCommand to run jar:\r\n```\r\njava -Djava.util.logging.config.file=logging.properties  -jar dist/JavaLogsPassword.jar \r\n```\r\n\r\nThe resulting file `java0.log` contains the password.","title":"How to avoid logging sensitive information from Java exceptions?","body":"<p>Java stacktraces might contain sensitive information (in my case - passwords), if the full stacktrace is logged by a logging framework (here Java Util Logging).</p>\n<p>How to avoid logging such sensitive information without loosing other important information from the stacktrace in the log files?</p>\n<p>Example:</p>\n<pre><code>package javalogspassword;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class JavaLogsPassword {\n\n    private static final Logger LOG = Logger.getLogger(JavaLogsPassword.class.getName());\n\n    public static void main(String[] args) {\n\n        Connection conn;\n        try {\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/test?&quot;\n                    + &quot;user=root&amp;password=&quot;);\n            LOG.log(Level.FINER, &quot;Connected&quot;);\n            try (Statement statement = conn.createStatement()) {\n                // this statement contains a syntax error\n                statement.execute(&quot;ALTER USER test IDENT BY '*Choose-a-good-password*'&quot;);\n            }\n            conn.close();\n\n        } catch (SQLException ex) {\n            // password '*Choose-a-good-password*' will be logged\n            LOG.throwing(JavaLogsPassword.class.getName(), &quot;main&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p>Logger configuration : logging.properties:</p>\n<pre><code>handlers= java.util.logging.FileHandler\n.level= INFO\njava.util.logging.FileHandler.pattern = java%u.log\njavalogspassword.level = FINER\n</code></pre>\n<p>Command to run jar:</p>\n<pre><code>java -Djava.util.logging.config.file=logging.properties  -jar dist/JavaLogsPassword.jar \n</code></pre>\n<p>The resulting file <code>java0.log</code> contains the password.</p>\n"},{"tags":["java","image-processing","svg","rasterize","svg-salamander"],"comments":[{"owner":{"account_id":1976581,"reputation":73,"user_id":1774249,"display_name":"user1774249"},"score":0,"creation_date":1351180979,"post_id":13069944,"comment_id":17757981,"body_markdown":"According to the SVG Salamander Examples site: http://svgsalamander.java.net/docs/use.html the Salamander Library only supports setting the text content of a tspan and no further alterations to the tspan tag...i now changed to batik which works just fine!","body":"According to the SVG Salamander Examples site: <a href=\"http://svgsalamander.java.net/docs/use.html\" rel=\"nofollow noreferrer\">svgsalamander.java.net/docs/use.html</a> the Salamander Library only supports setting the text content of a tspan and no further alterations to the tspan tag...i now changed to batik which works just fine!"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1595013725,"post_id":13069944,"comment_id":111338844,"body_markdown":"Does this answer your question? [SVG Salamander example?](https://stackoverflow.com/questions/2397492/svg-salamander-example)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2397492/svg-salamander-example\">SVG Salamander example?</a>"}],"owner":{"account_id":1976581,"reputation":73,"user_id":1774249,"display_name":"user1774249"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637780902,"creation_date":1351172527,"question_id":13069944,"body_markdown":"I have been trying to process and rasterize an svg file using SVG Salamander &amp; Java during the last couple of days and just can&#39;t get it to work.\r\n\r\nHere is my SVG file, which is generated by Adobe Illustrator. It basically contains some random text, with one of the tspans being styled to show yellow text.\r\n\r\n   \r\n\r\nWith my program I aim to change some of the tspan text colors and then rasterize the svg as a .png. One first method traverses the SVG Document Tree and adds unique ids to all the &lt;tspan&gt; tags. A second method randomly picks a set of those ids, selects the according tspan and sets the fill attribute (up until here everything seems to work fine, some debugging showed me that I get the correct tspan and the fill attribute is correctly set) and then rasterizes the svg. Here is where the problem starts: The resulting .pngs don&#39;t show the altered font colors (Text colors are just plain black, even the tspan which is colored yellow in the example xml is somehow &quot;changed&quot; to black. Some testing showed me, it doesn&#39;t even show altered text content of a tspan. Here is the code that does the job of setting attributes and rendering:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  --&gt;\r\n        &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;\r\n        &lt;svg version=&quot;1.1&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot;\r\n        \t width=&quot;595.28px&quot; height=&quot;841.89px&quot; viewBox=&quot;0 0 595.28 841.89&quot; enable-background=&quot;new 0 0 595.28 841.89&quot; xml:space=&quot;preserve&quot;&gt;\r\n        &lt;text transform=&quot;matrix(1 0 0 1 117 180)&quot;&gt;&lt;tspan x=&quot;0&quot; y=&quot;0&quot; font-family=&quot;&#39;MyriadPro-Regular&#39;&quot; font-size=&quot;12&quot;&gt;asdfasdfasdfasdfasdfasdfasdf&lt;/tspan&gt;&lt;tspan x=&quot;0&quot; y=&quot;14.4&quot; font-family=&quot;&#39;MyriadPro-Regular&#39;&quot; font-size=&quot;12&quot;&gt;asdfiausld&#195;&#182;fja&#195;&#182;ljfd&#195;&#182;lajsdf&lt;/tspan&gt;&lt;tspan x=&quot;0&quot; y=&quot;28.8&quot; font-family=&quot;&#39;MyriadPro-Regular&#39;&quot; font-size=&quot;12&quot;&gt;adsfal+sdfajksdflkasdf&lt;/tspan&gt;&lt;tspan x=&quot;0&quot; y=&quot;57.6&quot; fill=&quot;#FFDE17&quot; font-family=&quot;&#39;MyriadPro-Regular&#39;&quot; font-size=&quot;12&quot;&gt;asdlfk&#195;&#182;ajsd&#195;&#182;fjka&#195;&#182;lsdfj&lt;/tspan&gt;&lt;/text&gt;\r\n        &lt;/svg&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n \r\n    SVGElement element = tempDiagram.getElement(String.valueOf(curId));\r\n    if (!element.hasAttribute(&quot;fill&quot;, AnimationElement.AT_CSS)) {\r\n       element.addAttribute(&quot;fill&quot;, AnimationElement.AT_CSS, &quot;#ff0000&quot;);\r\n    } else {\r\n       element.setAttribute(&quot;fill&quot;, AnimationElement.AT_CSS, &quot;#ff0000&quot;);\r\n    }\r\n       tempDiagram.updateTime(0f);\r\n       BufferedImage bi = new BufferedImage(2480,3508,BufferedImage.TYPE_INT_ARGB);\r\n       Graphics2D ig2 = bi.createGraphics();\r\n       ig2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n       ig2.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n       tempDiagram.render(ig2);\r\n       ImageIO.write(bi, &quot;png&quot;, new File(&quot;test&quot; + String.valueOf(i) + &quot;.png&quot;));\r\n    \r\n\r\nDo you see anything that could explain my problem so far?\r\nAny help is appreciated!\r\n\r\nP.s: If I place a red rectangle in the SVG using Illustrator, the rectangle is also red in the resulting .png. So somehow the problem only seems to affect tspans or tags that I &quot;touch&quot; in my program... ","title":"SVG Salamander image","body":"<p>I have been trying to process and rasterize an svg file using SVG Salamander &amp; Java during the last couple of days and just can't get it to work.</p>\n<p>Here is my SVG file, which is generated by Adobe Illustrator. It basically contains some random text, with one of the tspans being styled to show yellow text.</p>\n<p>With my program I aim to change some of the tspan text colors and then rasterize the svg as a .png. One first method traverses the SVG Document Tree and adds unique ids to all the  tags. A second method randomly picks a set of those ids, selects the according tspan and sets the fill attribute (up until here everything seems to work fine, some debugging showed me that I get the correct tspan and the fill attribute is correctly set) and then rasterizes the svg. Here is where the problem starts: The resulting .pngs don't show the altered font colors (Text colors are just plain black, even the tspan which is colored yellow in the example xml is somehow &quot;changed&quot; to black. Some testing showed me, it doesn't even show altered text content of a tspan. Here is the code that does the job of setting attributes and rendering:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  --&gt;\n    &lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"&gt;\n    &lt;svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n         width=\"595.28px\" height=\"841.89px\" viewBox=\"0 0 595.28 841.89\" enable-background=\"new 0 0 595.28 841.89\" xml:space=\"preserve\"&gt;\n    &lt;text transform=\"matrix(1 0 0 1 117 180)\"&gt;&lt;tspan x=\"0\" y=\"0\" font-family=\"'MyriadPro-Regular'\" font-size=\"12\"&gt;asdfasdfasdfasdfasdfasdfasdf&lt;/tspan&gt;&lt;tspan x=\"0\" y=\"14.4\" font-family=\"'MyriadPro-Regular'\" font-size=\"12\"&gt;asdfiausldfjaljfdlajsdf&lt;/tspan&gt;&lt;tspan x=\"0\" y=\"28.8\" font-family=\"'MyriadPro-Regular'\" font-size=\"12\"&gt;adsfal+sdfajksdflkasdf&lt;/tspan&gt;&lt;tspan x=\"0\" y=\"57.6\" fill=\"#FFDE17\" font-family=\"'MyriadPro-Regular'\" font-size=\"12\"&gt;asdlfkajsdfjkalsdfj&lt;/tspan&gt;&lt;/text&gt;\n    &lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>SVGElement element = tempDiagram.getElement(String.valueOf(curId));\nif (!element.hasAttribute(&quot;fill&quot;, AnimationElement.AT_CSS)) {\n   element.addAttribute(&quot;fill&quot;, AnimationElement.AT_CSS, &quot;#ff0000&quot;);\n} else {\n   element.setAttribute(&quot;fill&quot;, AnimationElement.AT_CSS, &quot;#ff0000&quot;);\n}\n   tempDiagram.updateTime(0f);\n   BufferedImage bi = new BufferedImage(2480,3508,BufferedImage.TYPE_INT_ARGB);\n   Graphics2D ig2 = bi.createGraphics();\n   ig2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n   ig2.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n   tempDiagram.render(ig2);\n   ImageIO.write(bi, &quot;png&quot;, new File(&quot;test&quot; + String.valueOf(i) + &quot;.png&quot;));\n</code></pre>\n<p>Do you see anything that could explain my problem so far?\nAny help is appreciated!</p>\n<p>P.s: If I place a red rectangle in the SVG using Illustrator, the rectangle is also red in the resulting .png. So somehow the problem only seems to affect tspans or tags that I &quot;touch&quot; in my program...</p>\n"},{"tags":["java","generics","linked-list","priority-queue"],"comments":[{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":1,"creation_date":1637763351,"post_id":70097679,"comment_id":123913117,"body_markdown":"please don&#39;t attach images, these are harder to use on all levels for reading your code than just actually copy&amp;pasting your code and using the code formatting button `{}` atop of the question editor.","body":"please don&#39;t attach images, these are harder to use on all levels for reading your code than just actually copy&amp;pasting your code and using the code formatting button <code>{}</code> atop of the question editor."},{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":1,"creation_date":1637763472,"post_id":70097679,"comment_id":123913177,"body_markdown":"Also, what needs work *all over your code* is that you seem to be using a modern editor, but not its code indentation feature. Do that, before replacing your images with actual code in the question. Nobody has ever regretted properly indenting one&#39;s code - it uncovers bugs and logical problems faster than any other method I&#39;m aware of. Improperly indented code is literally the first sign that I look for in students when they claim they&#39;re &quot;experienced programmers&quot; but really aren&#39;t.","body":"Also, what needs work <i>all over your code</i> is that you seem to be using a modern editor, but not its code indentation feature. Do that, before replacing your images with actual code in the question. Nobody has ever regretted properly indenting one&#39;s code - it uncovers bugs and logical problems faster than any other method I&#39;m aware of. Improperly indented code is literally the first sign that I look for in students when they claim they&#39;re &quot;experienced programmers&quot; but really aren&#39;t."},{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1637763530,"post_id":70097679,"comment_id":123913206,"body_markdown":"Also, you should always tag your question with the programming language it&#39;s about. Not only does that give your code correct syntax highlighting, it also leads experts your way.","body":"Also, you should always tag your question with the programming language it&#39;s about. Not only does that give your code correct syntax highlighting, it also leads experts your way."},{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1637763561,"post_id":70097679,"comment_id":123913221,"body_markdown":"Now, back to the focus of your question:","body":"Now, back to the focus of your question:"},{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1637763665,"post_id":70097679,"comment_id":123913290,"body_markdown":"**How** do you know that this snippet is the &quot;only code that needs work&quot;? I find that highly unlikely, because otherwise you&#39;d solved the issue at hand already. But: you came to that conclusion based on some (probably very good!) analysis; we don&#39;t know that analysis, but it would greatly help any potential answer if you told us. Otherwise, your question is just &quot;debug my code; I help you not at all with that&quot;, and such questions are explicitly off-topic, because they&#39;re just much work for the answerer with little chance of success for the asker.","body":"<b>How</b> do you know that this snippet is the &quot;only code that needs work&quot;? I find that highly unlikely, because otherwise you&#39;d solved the issue at hand already. But: you came to that conclusion based on some (probably very good!) analysis; we don&#39;t know that analysis, but it would greatly help any potential answer if you told us. Otherwise, your question is just &quot;debug my code; I help you not at all with that&quot;, and such questions are explicitly off-topic, because they&#39;re just much work for the answerer with little chance of success for the asker."}],"answers":[{"tags":[],"owner":{"account_id":22886216,"reputation":9,"user_id":17027059,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637780741,"creation_date":1637780741,"answer_id":70101645,"question_id":70097679,"body_markdown":"This is the answer I figured it out\r\n\r\n    @Override\r\n       public void priorityEnqueue(AnyType x) {\r\n       ListNode&lt;AnyType&gt; node = new ListNode&lt;&gt;(x);\r\n       \r\n       if(front == null){\r\n           front = node;\r\n                back = node;\r\n        }\r\n        else{     \r\n        if(front.element.compareTo(x) &gt; 0){\r\n            node.next = front;\r\n                front = node;\r\n        }\r\n    else{  \r\n        ListNode&lt;AnyType&gt; current = front; \r\n            while(current.next != null &amp;&amp; current.next.element.compareTo(x) &lt; 0)\r\n                current = current.next;\r\n                   node.next = current.next; \r\n                   current.next = node; \r\n         if(node.next == null)\r\n            back = node;\r\n               }\r\n           }\r\n       }        \r\n\r\n","title":"How to sort a linked list using priority queue","body":"<p>This is the answer I figured it out</p>\n<pre><code>@Override\n   public void priorityEnqueue(AnyType x) {\n   ListNode&lt;AnyType&gt; node = new ListNode&lt;&gt;(x);\n   \n   if(front == null){\n       front = node;\n            back = node;\n    }\n    else{     \n    if(front.element.compareTo(x) &gt; 0){\n        node.next = front;\n            front = node;\n    }\nelse{  \n    ListNode&lt;AnyType&gt; current = front; \n        while(current.next != null &amp;&amp; current.next.element.compareTo(x) &lt; 0)\n            current = current.next;\n               node.next = current.next; \n               current.next = node; \n     if(node.next == null)\n        back = node;\n           }\n       }\n   }        \n</code></pre>\n"}],"owner":{"account_id":22886216,"reputation":9,"user_id":17027059,"display_name":"Kevin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1637780741,"creation_date":1637763279,"question_id":70097679,"body_markdown":"I have been trying to write a method to take in a linked list and sort it using a priority queue\r\n\r\nI have no clue how to write this code I understand how a priority queue is supposed to work but I don&#39;t know how to put that into code\r\n\r\n\r\n    Override\r\n        public void priorityEnqueue(AnyType x) {\r\n           if (isEmpty()){      \r\n        back = front = new ListNode&lt;&gt;(x);\r\n        }\r\n        {\r\n        back=back.next = new ListNode&lt;&gt;(x);\r\n            }\r\n        }\r\n\r\n  I am aware of the fact that this only returns the list as is without sorting it and that is exactly what I need help with\r\n","title":"How to sort a linked list using priority queue","body":"<p>I have been trying to write a method to take in a linked list and sort it using a priority queue</p>\n<p>I have no clue how to write this code I understand how a priority queue is supposed to work but I don't know how to put that into code</p>\n<pre><code>Override\n    public void priorityEnqueue(AnyType x) {\n       if (isEmpty()){      \n    back = front = new ListNode&lt;&gt;(x);\n    }\n    {\n    back=back.next = new ListNode&lt;&gt;(x);\n        }\n    }\n</code></pre>\n<p>I am aware of the fact that this only returns the list as is without sorting it and that is exactly what I need help with</p>\n"},{"tags":["java","docker","jenkins","dockerfile"],"comments":[{"owner":{"account_id":4539418,"reputation":2819,"user_id":3687725,"accept_rate":96,"display_name":"Preston Martin"},"score":0,"creation_date":1534349308,"post_id":51860331,"comment_id":90676995,"body_markdown":"What OS are you running on?","body":"What OS are you running on?"}],"answers":[{"tags":[],"owner":{"account_id":293130,"reputation":238888,"user_id":596285,"accept_rate":100,"display_name":"BMitch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1534357737,"creation_date":1534357737,"answer_id":51864425,"question_id":51860331,"body_markdown":"Ignoring the Dockerfile is supported, though it hasn&#39;t always been. From the [current documentation](https://docs.docker.com/engine/reference/builder/#dockerignore-file):\r\n\r\n&gt; You can even use the .dockerignore file to exclude the Dockerfile and\r\n&gt; .dockerignore files. These files are still sent to the daemon because\r\n&gt; it needs them to do its job. But the ADD and COPY instructions do not\r\n&gt; copy them to the image.\r\n\r\nSupport for this was added way back in [1.5.0](https://github.com/docker/docker-ce/blob/17.06/CHANGELOG.md#150-2015-02-10) (released 2015-02-10):\r\n\r\n&gt; Dockerfile and .dockerignore files can be themselves excluded as part\r\n&gt; of the .dockerignore file, thus preventing modifications to these\r\n&gt; files invalidating ADD or COPY instructions cache","title":"Is ignoring Dockerfile in &#39;.dockerignore&#39; not allowed?","body":"<p>Ignoring the Dockerfile is supported, though it hasn't always been. From the <a href=\"https://docs.docker.com/engine/reference/builder/#dockerignore-file\" rel=\"nofollow noreferrer\">current documentation</a>:</p>\n\n<blockquote>\n  <p>You can even use the .dockerignore file to exclude the Dockerfile and\n  .dockerignore files. These files are still sent to the daemon because\n  it needs them to do its job. But the ADD and COPY instructions do not\n  copy them to the image.</p>\n</blockquote>\n\n<p>Support for this was added way back in <a href=\"https://github.com/docker/docker-ce/blob/17.06/CHANGELOG.md#150-2015-02-10\" rel=\"nofollow noreferrer\">1.5.0</a> (released 2015-02-10):</p>\n\n<blockquote>\n  <p>Dockerfile and .dockerignore files can be themselves excluded as part\n  of the .dockerignore file, thus preventing modifications to these\n  files invalidating ADD or COPY instructions cache</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":53165,"reputation":5047,"user_id":158913,"accept_rate":70,"display_name":"Vadym Chekan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637780740,"creation_date":1637780740,"answer_id":70101643,"question_id":51860331,"body_markdown":"Excluding `Dockerfile` from `.dockerignore` is supported by docker but it is a bug in `docker-java` library, see issue: https://github.com/docker-java/docker-java/issues/1141","title":"Is ignoring Dockerfile in &#39;.dockerignore&#39; not allowed?","body":"<p>Excluding <code>Dockerfile</code> from <code>.dockerignore</code> is supported by docker but it is a bug in <code>docker-java</code> library, see issue: <a href=\"https://github.com/docker-java/docker-java/issues/1141\" rel=\"nofollow noreferrer\">https://github.com/docker-java/docker-java/issues/1141</a></p>\n"}],"owner":{"account_id":1577526,"reputation":7456,"user_id":1463622,"accept_rate":88,"display_name":"Krimson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1940,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51864425,"answer_count":2,"score":1,"last_activity_date":1637780740,"creation_date":1534342099,"question_id":51860331,"body_markdown":"(Note: this seems irrelevant to Jenkins but tagging it just incase)\r\n\r\nI&#39;m using the Jenkins Docker plugin to build my docker images however my build fails with the following exception: `Dockerfile is excluded by pattern &#39;Dockerfile&#39; in .dockerignore file`\r\n\r\n\r\n    com.github.dockerjava.api.exception.DockerClientException: Dockerfile is excluded by pattern &#39;Dockerfile&#39; in .dockerignore file\r\n\t   at com.github.dockerjava.core.dockerfile.Dockerfile$ScannedResult.&lt;init&gt;(Dockerfile.java:184)\r\n\t   at com.github.dockerjava.core.dockerfile.Dockerfile.parse(Dockerfile.java:111)\r\n       at ...\r\n\r\nLooks like its using the [docker-java][1] library\r\n\r\nUpon inspecting the source code, it appears that an exception is thrown if the Dockerfile is ignored here: [Dockerfile.java:L185][2]\r\n\r\nSo is ignoring the Dockerfile not allowed? And why?\r\n\r\n\r\n  [1]: https://github.com/docker-java/docker-java\r\n  [2]: https://github.com/docker-java/docker-java/blob/master/src/main/java/com/github/dockerjava/core/dockerfile/Dockerfile.java#L185","title":"Is ignoring Dockerfile in &#39;.dockerignore&#39; not allowed?","body":"<p>(Note: this seems irrelevant to Jenkins but tagging it just incase)</p>\n\n<p>I'm using the Jenkins Docker plugin to build my docker images however my build fails with the following exception: <code>Dockerfile is excluded by pattern 'Dockerfile' in .dockerignore file</code></p>\n\n<pre><code>com.github.dockerjava.api.exception.DockerClientException: Dockerfile is excluded by pattern 'Dockerfile' in .dockerignore file\n   at com.github.dockerjava.core.dockerfile.Dockerfile$ScannedResult.&lt;init&gt;(Dockerfile.java:184)\n   at com.github.dockerjava.core.dockerfile.Dockerfile.parse(Dockerfile.java:111)\n   at ...\n</code></pre>\n\n<p>Looks like its using the <a href=\"https://github.com/docker-java/docker-java\" rel=\"nofollow noreferrer\">docker-java</a> library</p>\n\n<p>Upon inspecting the source code, it appears that an exception is thrown if the Dockerfile is ignored here: <a href=\"https://github.com/docker-java/docker-java/blob/master/src/main/java/com/github/dockerjava/core/dockerfile/Dockerfile.java#L185\" rel=\"nofollow noreferrer\">Dockerfile.java:L185</a></p>\n\n<p>So is ignoring the Dockerfile not allowed? And why?</p>\n"},{"tags":["java","spring-boot","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637780063,"creation_date":1637780063,"answer_id":70101520,"question_id":70100702,"body_markdown":"The problem seems to be caused by how JavaBeans methods get generated when there&#39;s a single lowercase character at the beginning of the property name.  You might be surprised by the fact that [`getpId` and `getcId` are indeed correctly named](https://stackoverflow.com/questions/2948083/naming-convention-for-getters-setters-in-java), just as I was. \r\n\r\nIn short, `pId` correctly results in the getter `getpId` rather than the Lombok-generated `getPId` (the one JavaBeans should have kept, in my opinion).\r\n\r\nNow, the interesting part is that Jackson makes `cid` and `pid` out of `getCId` and `getPId`, respectively, for some reason... while at the same time producing `cId` and `pId` for `getcId` and `getpId`.\r\n\r\nSo while `getcId` and `getpId` are a quirk of JavaBeans, it seems that Jackson is behaving correctly by default, when the getters are correctly named, i.e., `getpId -&gt; &quot;pId&quot;` and `getcId -&gt; &quot;cId&quot;`.\r\n&lt;br/&gt;Given that Lombok generates `getPId` and `getCId`, which lead to the all-lowercase keys in the resulting JSON, deserialization does not work.\r\n\r\nIf you don&#39;t like the `getpId`/`getcId` naming, then you may have to write your own getters and force a property name explicitly:\r\n\r\n\t@Builder\r\n\t@Jacksonized\r\n\tclass ComputationResult {\r\n\t\r\n\t\tprivate final String pId;\r\n\t\tprivate final String cId;\r\n\t\r\n\t\t@JsonProperty(&quot;pId&quot;)\r\n\t\tpublic String getPId() {\r\n\t\t\treturn pId;\r\n\t\t}\r\n\t\r\n\t\t@JsonProperty(&quot;cId&quot;)\r\n\t\tpublic String getCId() {\r\n\t\t\treturn cId;\r\n\t\t}\r\n\t}\r\n\r\nFor the setters, you already have to rely on `@Jacksonized` because of `final` fields anyway, so it doesn&#39;t make a difference. Just note that `@Getter` has to be omitted because it&#39;d result in duplicate properties (with the other kind of naming, that is).","title":"default Jackson naming strategy for fields with short names","body":"<p>The problem seems to be caused by how JavaBeans methods get generated when there's a single lowercase character at the beginning of the property name.  You might be surprised by the fact that <a href=\"https://stackoverflow.com/questions/2948083/naming-convention-for-getters-setters-in-java\"><code>getpId</code> and <code>getcId</code> are indeed correctly named</a>, just as I was.</p>\n<p>In short, <code>pId</code> correctly results in the getter <code>getpId</code> rather than the Lombok-generated <code>getPId</code> (the one JavaBeans should have kept, in my opinion).</p>\n<p>Now, the interesting part is that Jackson makes <code>cid</code> and <code>pid</code> out of <code>getCId</code> and <code>getPId</code>, respectively, for some reason... while at the same time producing <code>cId</code> and <code>pId</code> for <code>getcId</code> and <code>getpId</code>.</p>\n<p>So while <code>getcId</code> and <code>getpId</code> are a quirk of JavaBeans, it seems that Jackson is behaving correctly by default, when the getters are correctly named, i.e., <code>getpId -&gt; &quot;pId&quot;</code> and <code>getcId -&gt; &quot;cId&quot;</code>.\n<br/>Given that Lombok generates <code>getPId</code> and <code>getCId</code>, which lead to the all-lowercase keys in the resulting JSON, deserialization does not work.</p>\n<p>If you don't like the <code>getpId</code>/<code>getcId</code> naming, then you may have to write your own getters and force a property name explicitly:</p>\n<pre><code>@Builder\n@Jacksonized\nclass ComputationResult {\n\n    private final String pId;\n    private final String cId;\n\n    @JsonProperty(&quot;pId&quot;)\n    public String getPId() {\n        return pId;\n    }\n\n    @JsonProperty(&quot;cId&quot;)\n    public String getCId() {\n        return cId;\n    }\n}\n</code></pre>\n<p>For the setters, you already have to rely on <code>@Jacksonized</code> because of <code>final</code> fields anyway, so it doesn't make a difference. Just note that <code>@Getter</code> has to be omitted because it'd result in duplicate properties (with the other kind of naming, that is).</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70101520,"answer_count":1,"score":3,"last_activity_date":1637780063,"creation_date":1637775980,"question_id":70100702,"body_markdown":"I&#39;ve used Jackson for years, and I am not sure I ever faced this issue. \r\n\r\nUsing Jackson 2.12.5 in a Spring Boot 2.5.5 project, I have an object that I need to serialize. I have no issue with other fields, but these 2 fields are causing me problems : \r\n\r\n\r\n    @Jacksonized\r\n    @Builder\r\n    @Getter\r\n    public class ComputationResult {\r\n      \r\n      private final String pId;\r\n    \r\n      private final String cId;\r\n    \r\n      ... other fields ignored\r\n\r\n    } \r\n\r\nAs you can see, I am also using Lombok annotations. When &quot;delombokized&quot;, the getters are : \r\n\r\n      public String getPId() {\r\n        return this.pId;\r\n      }\r\n    \r\n      public String getCId() {\r\n        return this.cId;\r\n      }\r\n\r\nwhen serializing the POJO, I expect the field names to be &quot;pId&quot; and &quot;cId&quot;, but they are not : I get &quot;pid&quot; and &quot;cid&quot;, all lower-case. I don&#39;t have the problem with other fields, for which the case is respected. \r\n\r\nIt caused me an issue because I need to serialize then deserialize the POJO, and the deserialization failed because it could not map &quot;cid&quot; json field to &quot;cId&quot; java field. \r\n\r\nThere are various workarounds (I am using `@JsonAlias(&quot;cid&quot;)` on the field to allow the deserialization), but I am puzzled : is this an expected behavior by Jackson ? does it process String fields differently depending on their length ? or is it a java beans convention that I am not aware of ? \r\n\r\nIs there a property to set in the objectMapper to &quot;fix&quot; the behavior, without implementing my own `com.fasterxml.jackson.databind.PropertyNamingStrategy` ? \r\n","title":"default Jackson naming strategy for fields with short names","body":"<p>I've used Jackson for years, and I am not sure I ever faced this issue.</p>\n<p>Using Jackson 2.12.5 in a Spring Boot 2.5.5 project, I have an object that I need to serialize. I have no issue with other fields, but these 2 fields are causing me problems :</p>\n<pre><code>@Jacksonized\n@Builder\n@Getter\npublic class ComputationResult {\n  \n  private final String pId;\n\n  private final String cId;\n\n  ... other fields ignored\n\n} \n</code></pre>\n<p>As you can see, I am also using Lombok annotations. When &quot;delombokized&quot;, the getters are :</p>\n<pre><code>  public String getPId() {\n    return this.pId;\n  }\n\n  public String getCId() {\n    return this.cId;\n  }\n</code></pre>\n<p>when serializing the POJO, I expect the field names to be &quot;pId&quot; and &quot;cId&quot;, but they are not : I get &quot;pid&quot; and &quot;cid&quot;, all lower-case. I don't have the problem with other fields, for which the case is respected.</p>\n<p>It caused me an issue because I need to serialize then deserialize the POJO, and the deserialization failed because it could not map &quot;cid&quot; json field to &quot;cId&quot; java field.</p>\n<p>There are various workarounds (I am using <code>@JsonAlias(&quot;cid&quot;)</code> on the field to allow the deserialization), but I am puzzled : is this an expected behavior by Jackson ? does it process String fields differently depending on their length ? or is it a java beans convention that I am not aware of ?</p>\n<p>Is there a property to set in the objectMapper to &quot;fix&quot; the behavior, without implementing my own <code>com.fasterxml.jackson.databind.PropertyNamingStrategy</code> ?</p>\n"},{"tags":["java","homebrew","java-home"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1637780041,"post_id":70101509,"comment_id":123919959,"body_markdown":"Your shell doesn&#39;t care about `JAVA_HOME`, only about `PATH`","body":"Your shell doesn&#39;t care about <code>JAVA_HOME</code>, only about <code>PATH</code>"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1637780321,"post_id":70101509,"comment_id":123920070,"body_markdown":"Try `which java` in the command line, that&#39;ll show you what&#39;s actually being invoked.  It&#39;s probably a symlink to somewhere else, so you may need to change that.","body":"Try <code>which java</code> in the command line, that&#39;ll show you what&#39;s actually being invoked.  It&#39;s probably a symlink to somewhere else, so you may need to change that."},{"owner":{"account_id":1043415,"reputation":1448,"user_id":1048909,"accept_rate":50,"display_name":"c_idle"},"score":0,"creation_date":1637780940,"post_id":70101509,"comment_id":123920294,"body_markdown":"`which java` shows `/usr/bin/java`. Pardon my ignorance while I read up what a sym link is.","body":"<code>which java</code> shows <code>&#47;usr&#47;bin&#47;java</code>. Pardon my ignorance while I read up what a sym link is."},{"owner":{"account_id":16783778,"reputation":1,"user_id":12133296,"display_name":"Mike "},"score":1,"creation_date":1637783524,"post_id":70101509,"comment_id":123921164,"body_markdown":"Check this answer given for similar problem\nIt worked for me https://stackoverflow.com/a/24657630/12133296","body":"Check this answer given for similar problem It worked for me <a href=\"https://stackoverflow.com/a/24657630/12133296\">stackoverflow.com/a/24657630/12133296</a>"}],"owner":{"account_id":1043415,"reputation":1448,"user_id":1048909,"accept_rate":50,"display_name":"c_idle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637779998,"creation_date":1637779998,"question_id":70101509,"body_markdown":"I have a new m1 mac.\r\n\r\nI installed a few versions of the jdk (just following this tweet as an example)\r\n\r\nSo I did, \r\n\r\n`brew tap mdogan/zulu`\r\n\r\n`brew install --cask zulu-jdk17 zulu-jdk16 zulu-jdk11 zulu-jdk8`\r\n\r\nNow I set my JAVA_HOME to point to jdk11 (most of my projects require jdk11), but when I run `java --version` it reports the info for 17.\r\n\r\nAnd then if I run `/usr/libexec/java_home -v&quot;11&quot;` in my terminal, it&#39;ll say `/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home`, but when I run `java --version` again it&#39;ll report 17.\r\n\r\nHow do I get `java --version` to report 11 so it&#39;s inline with my JAVA_HOME.","title":"java --version command on mac always shows latest version I have installed","body":"<p>I have a new m1 mac.</p>\n<p>I installed a few versions of the jdk (just following this tweet as an example)</p>\n<p>So I did,</p>\n<p><code>brew tap mdogan/zulu</code></p>\n<p><code>brew install --cask zulu-jdk17 zulu-jdk16 zulu-jdk11 zulu-jdk8</code></p>\n<p>Now I set my JAVA_HOME to point to jdk11 (most of my projects require jdk11), but when I run <code>java --version</code> it reports the info for 17.</p>\n<p>And then if I run <code>/usr/libexec/java_home -v&quot;11&quot;</code> in my terminal, it'll say <code>/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home</code>, but when I run <code>java --version</code> again it'll report 17.</p>\n<p>How do I get <code>java --version</code> to report 11 so it's inline with my JAVA_HOME.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1637779809,"post_id":70101451,"comment_id":123919884,"body_markdown":"In addition to the previous comment you can pass `List.copyOf(clientIds)` to `Test`&#39;s contructor","body":"In addition to the previous comment you can pass <code>List.copyOf(clientIds)</code> to <code>Test</code>&#39;s contructor"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637780148,"post_id":70101451,"comment_id":123919992,"body_markdown":"You are passing the value of *a reference* to thr `Test` constructor, but that doesn&#39;t mean that the *whole `ArrayList`* is copied. No, you pass a reference to the constructor, which uses the reference to reach the object and call methods on it. This particular method (`add`) happens to *mutate* the object. The object itself is said to be *mutable*. If I give you a key to my house and you move the couch to the other corner of the living room, and you return the key to me, I enter my house seeing that my couch has been moved.","body":"You are passing the value of <i>a reference</i> to thr <code>Test</code> constructor, but that doesn&#39;t mean that the <i>whole <code>ArrayList</code></i> is copied. No, you pass a reference to the constructor, which uses the reference to reach the object and call methods on it. This particular method (<code>add</code>) happens to <i>mutate</i> the object. The object itself is said to be <i>mutable</i>. If I give you a key to my house and you move the couch to the other corner of the living room, and you return the key to me, I enter my house seeing that my couch has been moved."}],"owner":{"account_id":5461029,"reputation":153,"user_id":4343142,"accept_rate":100,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1637779916,"answer_count":0,"score":1,"last_activity_date":1637779695,"creation_date":1637779695,"question_id":70101451,"body_markdown":"Hi I&#180;m trying to understand why is value of Arraylist reflected after assignment of value to the object in this simple example:\r\n\r\n1.) I&#180;m making instance of an object, with empty list as one of it&#180;s attributes\r\n\r\n2.) Adding value to the list\r\n\r\n3.) Test object changes and is updated with values from the list\r\n\r\n    public Test makeTest(){\r\n        ArrayList&lt;String&gt; clientIds = new ArrayList&lt;&gt;();\r\n        Test test = new Test(clientIds);\r\n        log.info(&quot;Test before:{}&quot;, test);\r\n\r\n        clientIds.add(&quot;123_12_12&quot;);\r\n        log.info(&quot;Test after:{}&quot;, test);\r\n\r\n        return test;\r\n\r\n    }\r\n\r\n\r\nValue of Test before adding to list: Test{clientIds=[]}\r\n\r\nValue of Test after adding to list: Test{clientIds=[123_12_12]}\r\n\r\nWhy is the object created before adding to the list filled with these new values? Also another thing is, how do i stop this from happening?\r\n\r\nI wanted to do something like test.setClientIds(clientIds); but it seems this is not necessary.","title":"Changing value of object attributes in Java","body":"<p>Hi Im trying to understand why is value of Arraylist reflected after assignment of value to the object in this simple example:</p>\n<p>1.) Im making instance of an object, with empty list as one of its attributes</p>\n<p>2.) Adding value to the list</p>\n<p>3.) Test object changes and is updated with values from the list</p>\n<pre><code>public Test makeTest(){\n    ArrayList&lt;String&gt; clientIds = new ArrayList&lt;&gt;();\n    Test test = new Test(clientIds);\n    log.info(&quot;Test before:{}&quot;, test);\n\n    clientIds.add(&quot;123_12_12&quot;);\n    log.info(&quot;Test after:{}&quot;, test);\n\n    return test;\n\n}\n</code></pre>\n<p>Value of Test before adding to list: Test{clientIds=[]}</p>\n<p>Value of Test after adding to list: Test{clientIds=[123_12_12]}</p>\n<p>Why is the object created before adding to the list filled with these new values? Also another thing is, how do i stop this from happening?</p>\n<p>I wanted to do something like test.setClientIds(clientIds); but it seems this is not necessary.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1637774821,"post_id":70100406,"comment_id":123918050,"body_markdown":"Not in the same class or any other already compiled class. You can, however, generate a new class, compile it and use it without restarting JVM. However, it may be useful to know the use case better.","body":"Not in the same class or any other already compiled class. You can, however, generate a new class, compile it and use it without restarting JVM. However, it may be useful to know the use case better."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1637774845,"post_id":70100406,"comment_id":123918055,"body_markdown":"If you are looking for mapping of `String` to `Integer` take a look at `Map`s. For instance with `Map&lt;String, Integer&gt; mapping = new HashMap&lt;&gt;();` you can `mapping.put(&quot;foo&quot;, 42);` `mapping.put(&quot;bar&quot;, 123);` and now `mapping.get(&quot;foo&quot;)` will return `42`. You can reassign new value to same key by another `mapping.put(&quot;foo&quot;, 321);`.","body":"If you are looking for mapping of <code>String</code> to <code>Integer</code> take a look at <code>Map</code>s. For instance with <code>Map&lt;String, Integer&gt; mapping = new HashMap&lt;&gt;();</code> you can <code>mapping.put(&quot;foo&quot;, 42);</code> <code>mapping.put(&quot;bar&quot;, 123);</code> and now <code>mapping.get(&quot;foo&quot;)</code> will return <code>42</code>. You can reassign new value to same key by another <code>mapping.put(&quot;foo&quot;, 321);</code>."},{"owner":{"account_id":19936070,"reputation":53,"user_id":14608715,"display_name":"&#197;ke"},"score":0,"creation_date":1637774995,"post_id":70100406,"comment_id":123918113,"body_markdown":"@SreeKumar I am essentially making a school simulator program and in the meny one of the options are to add a student, the student is a class that has two values in it but I think thats irrelevant. I do know other ways to solve this problem but I was just wondering if it&#39;s possible to solve it in this way.","body":"@SreeKumar I am essentially making a school simulator program and in the meny one of the options are to add a student, the student is a class that has two values in it but I think thats irrelevant. I do know other ways to solve this problem but I was just wondering if it&#39;s possible to solve it in this way."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1637775530,"post_id":70100406,"comment_id":123918303,"body_markdown":"Java does not allow you to use arbitrary strings as variable names.  Java is not equivalent to JavaScript.","body":"Java does not allow you to use arbitrary strings as variable names.  Java is not equivalent to JavaScript."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637779102,"creation_date":1637779102,"answer_id":70101342,"question_id":70100406,"body_markdown":"You are looking for [variable variables][1]. Java does not support variable variables. You can create a `Map`/`HashMap` that have `String` as key and `Integer` as value. Like\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    map.put(yourString, yourInterger);\r\n    //map.get(yourString) returns the Integer\r\n\r\nI know this is not even close to variable variables, but this is as far as you can go with Java in terms of variable variables.\r\n\r\n\r\n  [1]: https://www.php.net/manual/en/language.variables.variable.php\r\n","title":"Take a input from a scanner and use that as a name to a variable","body":"<p>You are looking for <a href=\"https://www.php.net/manual/en/language.variables.variable.php\" rel=\"nofollow noreferrer\">variable variables</a>. Java does not support variable variables. You can create a <code>Map</code>/<code>HashMap</code> that have <code>String</code> as key and <code>Integer</code> as value. Like</p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\nmap.put(yourString, yourInterger);\n//map.get(yourString) returns the Integer\n</code></pre>\n<p>I know this is not even close to variable variables, but this is as far as you can go with Java in terms of variable variables.</p>\n"}],"owner":{"account_id":19936070,"reputation":53,"user_id":14608715,"display_name":"&#197;ke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637779102,"creation_date":1637774675,"question_id":70100406,"body_markdown":"I am wondering if I can take a input from a scanner, make a `String` of that value and then make a variable with that name. For example\r\n\r\n```\r\nSystem.out.println(&quot;What is this variable&#39;s name??&quot;);\r\nString customName = input.next(); \r\n\r\nint (customName) = 0;\r\n```\r\nSo that the name of the int is the users input.","title":"Take a input from a scanner and use that as a name to a variable","body":"<p>I am wondering if I can take a input from a scanner, make a <code>String</code> of that value and then make a variable with that name. For example</p>\n<pre><code>System.out.println(&quot;What is this variable's name??&quot;);\nString customName = input.next(); \n\nint (customName) = 0;\n</code></pre>\n<p>So that the name of the int is the users input.</p>\n"},{"tags":["java","android","user-interface","animation"],"comments":[{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526719873,"post_id":50390243,"comment_id":87861741,"body_markdown":"what&#39;s the problem?","body":"what&#39;s the problem?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526719930,"post_id":50390243,"comment_id":87861758,"body_markdown":"the problem is i&#39;m not getting the output as shown in pic i have been trying for days now","body":"the problem is i&#39;m not getting the output as shown in pic i have been trying for days now"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526719976,"post_id":50390243,"comment_id":87861772,"body_markdown":"post the picture as it is now","body":"post the picture as it is now"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526719977,"post_id":50390243,"comment_id":87861773,"body_markdown":"i&#39;m trying every thing i could to achieve it","body":"i&#39;m trying every thing i could to achieve it"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526720086,"post_id":50390243,"comment_id":87861794,"body_markdown":"@Eminem please see this my current output https://imgur.com/a/3smfXKq","body":"@Eminem please see this my current output <a href=\"https://imgur.com/a/3smfXKq\" rel=\"nofollow noreferrer\">imgur.com/a/3smfXKq</a>"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526720495,"post_id":50390243,"comment_id":87861890,"body_markdown":"So @Eminem can you help me out","body":"So @Eminem can you help me out"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526722500,"post_id":50390243,"comment_id":87862404,"body_markdown":"but what is with the toolbar??","body":"but what is with the toolbar??"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526722602,"post_id":50390243,"comment_id":87862434,"body_markdown":"the tablayout, Explore it isn&#39;t in your picture..","body":"the tablayout, Explore it isn&#39;t in your picture.."},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526722985,"post_id":50390243,"comment_id":87862529,"body_markdown":"that is because i can add toolbar anytime but my main concern is horizontal xcardstack at the moment","body":"that is because i can add toolbar anytime but my main concern is horizontal xcardstack at the moment"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526723086,"post_id":50390243,"comment_id":87862553,"body_markdown":"try adding that see if that fixes your problem","body":"try adding that see if that fixes your problem"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526723190,"post_id":50390243,"comment_id":87862573,"body_markdown":"toolbar isnt fixing the problem","body":"toolbar isnt fixing the problem"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526723216,"post_id":50390243,"comment_id":87862581,"body_markdown":"and toolbar and viewpager are not at all related","body":"and toolbar and viewpager are not at all related"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526723343,"post_id":50390243,"comment_id":87862627,"body_markdown":"I said tablayout, not toolbar.what is explore and three dots aren&#39;t those a tablayout?","body":"I said tablayout, not toolbar.what is explore and three dots aren&#39;t those a tablayout?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526723430,"post_id":50390243,"comment_id":87862657,"body_markdown":"no that is a toolbar not a tablayout with a textview and imageview","body":"no that is a toolbar not a tablayout with a textview and imageview"},{"owner":{"account_id":4684635,"reputation":4892,"user_id":3792350,"display_name":"sakiM"},"score":0,"creation_date":1526868270,"post_id":50390243,"comment_id":87896567,"body_markdown":"Could you check `TranslationX`, `TranslationY`,`ScaleX`,`ScaleY` in each view **in the end** of function `transformPage()`? I&#39;m afraid the complex computing makes some values greater than 1.","body":"Could you check <code>TranslationX</code>, <code>TranslationY</code>,<code>ScaleX</code>,<code>ScaleY</code> in each view <b>in the end</b> of function <code>transformPage()</code>? I&#39;m afraid the complex computing makes some values greater than 1."},{"owner":{"account_id":4684635,"reputation":4892,"user_id":3792350,"display_name":"sakiM"},"score":0,"creation_date":1526873927,"post_id":50390243,"comment_id":87897516,"body_markdown":"Considering safety, the `transformPage()` will calculate every frame while position changing, be sure to change ScaleX, ScaleY only once?","body":"Considering safety, the <code>transformPage()</code> will calculate every frame while position changing, be sure to change ScaleX, ScaleY only once?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526893230,"post_id":50390243,"comment_id":87904107,"body_markdown":"so @sakiM what changes should i make can you guide me here i&#39;m not able to do it.please could you help me.","body":"so @sakiM what changes should i make can you guide me here i&#39;m not able to do it.please could you help me."},{"owner":{"account_id":4684635,"reputation":4892,"user_id":3792350,"display_name":"sakiM"},"score":1,"creation_date":1526895256,"post_id":50390243,"comment_id":87905224,"body_markdown":"Simply check is hard code a fixed factor to all `setScaleY`, like `0.6`. But I suggest log the value of `TranslationX, TranslationY,ScaleX,ScaleY` in the end of `transformPage()` first. Then add Log to each `if-else` branch to check whether assigning these in a wrong condition.","body":"Simply check is hard code a fixed factor to all <code>setScaleY</code>, like <code>0.6</code>. But I suggest log the value of <code>TranslationX, TranslationY,ScaleX,ScaleY</code> in the end of <code>transformPage()</code> first. Then add Log to each <code>if-else</code> branch to check whether assigning these in a wrong condition."},{"owner":{"display_name":"user9550968"},"score":1,"creation_date":1526895556,"post_id":50390243,"comment_id":87905403,"body_markdown":"I tried setting ScaleY to lower values i get one card at stack but the problem is when i scroll the back card pops up instead of smotth scroll this is the point where it doesnt have smooth scroll","body":"I tried setting ScaleY to lower values i get one card at stack but the problem is when i scroll the back card pops up instead of smotth scroll this is the point where it doesnt have smooth scroll"},{"owner":{"display_name":"user9550968"},"score":1,"creation_date":1526896441,"post_id":50390243,"comment_id":87905898,"body_markdown":"Please @SakiM could you help me out because i&#39;m stuck at it for weeks now and it is really important for me to do it.Please i request you.","body":"Please @SakiM could you help me out because i&#39;m stuck at it for weeks now and it is really important for me to do it.Please i request you."},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526899959,"post_id":50390243,"comment_id":87907898,"body_markdown":"@Smith debug your app to see the values it returns","body":"@Smith debug your app to see the values it returns"},{"owner":{"account_id":4684635,"reputation":4892,"user_id":3792350,"display_name":"sakiM"},"score":0,"creation_date":1526900792,"post_id":50390243,"comment_id":87908345,"body_markdown":"`where it doesnt have smooth scroll` sounds like your transform-function is not continuous. Be sure this function is continuous: `f(position) -&gt; ScaleY` in `position=(0,1,-1)`.","body":"<code>where it doesnt have smooth scroll</code> sounds like your transform-function is not continuous. Be sure this function is continuous: <code>f(position) -&gt; ScaleY</code> in <code>position=(0,1,-1)</code>."},{"owner":{"account_id":4684635,"reputation":4892,"user_id":3792350,"display_name":"sakiM"},"score":0,"creation_date":1526901291,"post_id":50390243,"comment_id":87908602,"body_markdown":"I calculate the values for the current transform-function, seems `scaleFactor` always a negative-number when position belong to (0,1)? Please log `scaleFactor` and `position` in run-time.","body":"I calculate the values for the current transform-function, seems <code>scaleFactor</code> always a negative-number when position belong to (0,1)? Please log <code>scaleFactor</code> and <code>position</code> in run-time."},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526903234,"post_id":50390243,"comment_id":87909678,"body_markdown":"ok can you tell me  more about it","body":"ok can you tell me  more about it"}],"answers":[{"tags":[],"owner":{"account_id":8137775,"reputation":87,"user_id":6128908,"display_name":"Gujjula Ramesh Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637778617,"creation_date":1637778617,"answer_id":70101253,"question_id":50390243,"body_markdown":"check below code\r\n\r\n\r\n    import android.view.View\r\n    import androidx.core.view.ViewCompat\r\n    import androidx.viewpager.widget.ViewPager\r\n    import kotlin.math.abs\r\n    \r\n    class SliderTransformer() : ViewPager.PageTransformer {\r\n    \r\n        companion object {\r\n            private const val TAG = &quot;SliderTransformer&quot;\r\n    \r\n            private const val DEFAULT_TRANSLATION_X = .50f\r\n            private const val DEFAULT_TRANSLATION_FACTOR = 1.2f\r\n    \r\n            private const val SCALE_FACTOR = .14f\r\n            private const val DEFAULT_SCALE = 1f\r\n    \r\n            private const val ALPHA_FACTOR = .3f\r\n            private const val DEFAULT_ALPHA = 1f\r\n    \r\n        }\r\n    \r\n        override fun transformPage(page: View, position: Float) {\r\n    \r\n            page.apply {\r\n    \r\n                ViewCompat.setElevation(page, -abs(position))\r\n    \r\n                val scaleFactor = -SCALE_FACTOR * position + DEFAULT_SCALE\r\n                val alphaFactor = -ALPHA_FACTOR * position + DEFAULT_ALPHA\r\n    \r\n                when {\r\n                    position &lt;= 0f -&gt; {\r\n                        translationX = DEFAULT_TRANSLATION_X\r\n                        scaleX = DEFAULT_SCALE\r\n                        scaleY = DEFAULT_SCALE\r\n                        alpha = DEFAULT_ALPHA + position\r\n                    }\r\n                    position &gt;0 -&gt; {\r\n                        scaleX = scaleFactor\r\n                        scaleY = scaleFactor\r\n                        translationX = -(width / DEFAULT_TRANSLATION_FACTOR) * position\r\n                        alpha = alphaFactor\r\n                    }\r\n                    else -&gt; {\r\n                        translationX = DEFAULT_TRANSLATION_X\r\n                        scaleX = DEFAULT_SCALE\r\n                        scaleY = DEFAULT_SCALE\r\n                        alpha = DEFAULT_ALPHA\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"ViewPager page scaling issue with page transformer","body":"<p>check below code</p>\n<pre><code>import android.view.View\nimport androidx.core.view.ViewCompat\nimport androidx.viewpager.widget.ViewPager\nimport kotlin.math.abs\n\nclass SliderTransformer() : ViewPager.PageTransformer {\n\n    companion object {\n        private const val TAG = &quot;SliderTransformer&quot;\n\n        private const val DEFAULT_TRANSLATION_X = .50f\n        private const val DEFAULT_TRANSLATION_FACTOR = 1.2f\n\n        private const val SCALE_FACTOR = .14f\n        private const val DEFAULT_SCALE = 1f\n\n        private const val ALPHA_FACTOR = .3f\n        private const val DEFAULT_ALPHA = 1f\n\n    }\n\n    override fun transformPage(page: View, position: Float) {\n\n        page.apply {\n\n            ViewCompat.setElevation(page, -abs(position))\n\n            val scaleFactor = -SCALE_FACTOR * position + DEFAULT_SCALE\n            val alphaFactor = -ALPHA_FACTOR * position + DEFAULT_ALPHA\n\n            when {\n                position &lt;= 0f -&gt; {\n                    translationX = DEFAULT_TRANSLATION_X\n                    scaleX = DEFAULT_SCALE\n                    scaleY = DEFAULT_SCALE\n                    alpha = DEFAULT_ALPHA + position\n                }\n                position &gt;0 -&gt; {\n                    scaleX = scaleFactor\n                    scaleY = scaleFactor\n                    translationX = -(width / DEFAULT_TRANSLATION_FACTOR) * position\n                    alpha = alphaFactor\n                }\n                else -&gt; {\n                    translationX = DEFAULT_TRANSLATION_X\n                    scaleX = DEFAULT_SCALE\n                    scaleY = DEFAULT_SCALE\n                    alpha = DEFAULT_ALPHA\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user9550968"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1637778617,"creation_date":1526556302,"question_id":50390243,"body_markdown":"Hi I&#39;m developing an app where I&#39;m using `viewpager` to make custom animation with `viewpager` transformer but the problem is that there is scaling issue with `viewpager` page transformer. I tried every possible x and y scaling but still the problem is the same. I&#39;m having hard time understanding the problem please if someone can help me out here.\r\n\r\nBelow is the image of what I&#39;m trying to achieve\r\n\r\n**Update:**\r\n\r\nWell looks I did not find the solution yet but still trying to figure as I&#39;m almost there with just left with the designing of cardstack look.\r\n\r\n[![My expected output][1]][1]\r\n\r\nMy page Transformation code\r\n\r\n    public class CardStackTransformer implements ViewPager.PageTransformer {\r\n        private static final float DEFAULT_CURRENT_PAGE_SCALE = 1.0f;\r\n        private static final float OTHER_PAGE_SCALE = 0.9f;\r\n        private int dimen;\r\n    \r\n        @Override\r\n        public void transformPage(@NonNull View view, float position) {\r\n    \r\n            //view.setScaleX(DEFAULT_CURRENT_PAGE_SCALE);\r\n            // view.setScaleY(DEFAULT_CURRENT_PAGE_SCALE);\r\n            /*dimen = view.getWidth();\r\n            int pageWidth = view.getWidth();\r\n            final float translateValue = position * -pageWidth;\r\n            if (translateValue &lt; -pageWidth) {\r\n                view.setTranslationX(translateValue);\r\n            }\r\n    \r\n            if (position &lt; -1) {\r\n                view.setAlpha(0);\r\n    \r\n            } else if (position &lt;= 0) {\r\n                view.setAlpha(1.0f);\r\n                view.setTranslationX(view.getWidth() * -position);\r\n                view.setTranslationY(0);\r\n                view.setScaleX(1);\r\n                view.setScaleY(1);\r\n            } else if (position &lt;= 1) {\r\n                view.setTranslationX(dimen * position);\r\n                view.setAlpha(-0.5f * position + 1.0f);\r\n                //  view.setTranslationX((-dimen / 1.1F) * position);\r\n                view.setTranslationX(view.getWidth() * -position);\r\n                view.setTranslationY((dimen / 200.09f) * position);\r\n    \r\n                float scaleFactor = OTHER_PAGE_SCALE\r\n                        + (1 - OTHER_PAGE_SCALE) * (1 - Math.abs(position));\r\n                view.setScaleX(scaleFactor);\r\n                view.setScaleY(scaleFactor);\r\n                //view.setScaleX(OTHER_PAGE_SCALE);\r\n                //view.setScaleY(OTHER_PAGE_SCALE);\r\n            } else {\r\n                view.setAlpha(0);\r\n            }*/\r\n            view.setScaleX(DEFAULT_CURRENT_PAGE_SCALE);\r\n            view.setScaleY(DEFAULT_CURRENT_PAGE_SCALE);\r\n            dimen = view.getWidth();\r\n    \r\n            if(position &lt; -1) {\r\n                view.setAlpha(0);\r\n    \r\n            } else if(position &lt;= 0) {\r\n                view.setAlpha(1.0f);\r\n                view.setTranslationX(0);\r\n                view.setTranslationY(0);\r\n                view.setScaleX(DEFAULT_CURRENT_PAGE_SCALE);\r\n                view.setScaleY(OTHER_PAGE_SCALE);\r\n            } else if(position &lt;= 1) {\r\n                final float scaleFactor = OTHER_PAGE_SCALE + (1 - OTHER_PAGE_SCALE) * (1 - Math.abs(position));\r\n    \r\n               // view.setTranslationX(dimen * -position);\r\n                view.setAlpha(-0.5f * position + 1.0f);\r\n                view.setTranslationX((-dimen / 1.1F) * position);\r\n                view.setTranslationY((dimen / 209.9f)*position);\r\n                view.setTranslationX(view.getWidth() * -position);\r\n                view.setScaleX(scaleFactor);\r\n                view.setScaleY(scaleFactor);\r\n            } else {\r\n                view.setAlpha(0);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mO6lV.png\r\n","title":"ViewPager page scaling issue with page transformer","body":"<p>Hi I'm developing an app where I'm using <code>viewpager</code> to make custom animation with <code>viewpager</code> transformer but the problem is that there is scaling issue with <code>viewpager</code> page transformer. I tried every possible x and y scaling but still the problem is the same. I'm having hard time understanding the problem please if someone can help me out here.</p>\n<p>Below is the image of what I'm trying to achieve</p>\n<p><strong>Update:</strong></p>\n<p>Well looks I did not find the solution yet but still trying to figure as I'm almost there with just left with the designing of cardstack look.</p>\n<p><a href=\"https://i.stack.imgur.com/mO6lV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mO6lV.png\" alt=\"My expected output\" /></a></p>\n<p>My page Transformation code</p>\n<pre><code>public class CardStackTransformer implements ViewPager.PageTransformer {\n    private static final float DEFAULT_CURRENT_PAGE_SCALE = 1.0f;\n    private static final float OTHER_PAGE_SCALE = 0.9f;\n    private int dimen;\n\n    @Override\n    public void transformPage(@NonNull View view, float position) {\n\n        //view.setScaleX(DEFAULT_CURRENT_PAGE_SCALE);\n        // view.setScaleY(DEFAULT_CURRENT_PAGE_SCALE);\n        /*dimen = view.getWidth();\n        int pageWidth = view.getWidth();\n        final float translateValue = position * -pageWidth;\n        if (translateValue &lt; -pageWidth) {\n            view.setTranslationX(translateValue);\n        }\n\n        if (position &lt; -1) {\n            view.setAlpha(0);\n\n        } else if (position &lt;= 0) {\n            view.setAlpha(1.0f);\n            view.setTranslationX(view.getWidth() * -position);\n            view.setTranslationY(0);\n            view.setScaleX(1);\n            view.setScaleY(1);\n        } else if (position &lt;= 1) {\n            view.setTranslationX(dimen * position);\n            view.setAlpha(-0.5f * position + 1.0f);\n            //  view.setTranslationX((-dimen / 1.1F) * position);\n            view.setTranslationX(view.getWidth() * -position);\n            view.setTranslationY((dimen / 200.09f) * position);\n\n            float scaleFactor = OTHER_PAGE_SCALE\n                    + (1 - OTHER_PAGE_SCALE) * (1 - Math.abs(position));\n            view.setScaleX(scaleFactor);\n            view.setScaleY(scaleFactor);\n            //view.setScaleX(OTHER_PAGE_SCALE);\n            //view.setScaleY(OTHER_PAGE_SCALE);\n        } else {\n            view.setAlpha(0);\n        }*/\n        view.setScaleX(DEFAULT_CURRENT_PAGE_SCALE);\n        view.setScaleY(DEFAULT_CURRENT_PAGE_SCALE);\n        dimen = view.getWidth();\n\n        if(position &lt; -1) {\n            view.setAlpha(0);\n\n        } else if(position &lt;= 0) {\n            view.setAlpha(1.0f);\n            view.setTranslationX(0);\n            view.setTranslationY(0);\n            view.setScaleX(DEFAULT_CURRENT_PAGE_SCALE);\n            view.setScaleY(OTHER_PAGE_SCALE);\n        } else if(position &lt;= 1) {\n            final float scaleFactor = OTHER_PAGE_SCALE + (1 - OTHER_PAGE_SCALE) * (1 - Math.abs(position));\n\n           // view.setTranslationX(dimen * -position);\n            view.setAlpha(-0.5f * position + 1.0f);\n            view.setTranslationX((-dimen / 1.1F) * position);\n            view.setTranslationY((dimen / 209.9f)*position);\n            view.setTranslationX(view.getWidth() * -position);\n            view.setScaleX(scaleFactor);\n            view.setScaleY(scaleFactor);\n        } else {\n            view.setAlpha(0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","telegram","telegram-bot"],"owner":{"account_id":19553412,"reputation":185,"user_id":14308420,"display_name":"leonaugust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637778525,"creation_date":1637778525,"question_id":70101234,"body_markdown":"I would like to put image(link) inside `html` and send it over with Telegram.\r\nBut when I try to put image inside html body it stops to work, that message won&#39;t be delivered after execution. I tried the approaches from this SO post: https://stackoverflow.com/questions/38685619/how-to-send-an-embedded-image-along-with-text-in-a-message-via-telegram-bot-api/43705283#43705283\r\n. Sending html without image works. But it doesnt work with image, neither **disableWebPagePreview()** or `&amp;#8205;` solves the problem. How to fix it?\r\n\r\n    SendMessage sendMessage = new SendMessage();\r\n            sendMessage.setParseMode(ParseMode.HTML);\r\n            sendMessage.disableWebPagePreview();\r\n            sendMessage.setChatId(chatId);\r\n            sendMessage.enableHtml(true);\r\n            String html = &quot;&lt;a href=\\&quot;https://www.carspecs.us/photos/c8447c97e355f462368178b3518367824a757327-2000.jpg\\&quot;&gt;&amp;#8205;&lt;/a&gt;&quot;;\r\n            sendMessage.setText(html);\r\n            executeAsync(message);\r\n\r\n**pom.xml**\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Spring Boot(Java) Telegrambots 5.3.0 SendMessage with html, how to attach image in it?","body":"<p>I would like to put image(link) inside <code>html</code> and send it over with Telegram.\nBut when I try to put image inside html body it stops to work, that message won't be delivered after execution. I tried the approaches from this SO post: <a href=\"https://stackoverflow.com/questions/38685619/how-to-send-an-embedded-image-along-with-text-in-a-message-via-telegram-bot-api/43705283#43705283\">How to send an Embedded Image along with text in a Message via Telegram Bot API</a>\n. Sending html without image works. But it doesnt work with image, neither <strong>disableWebPagePreview()</strong> or <code>&amp;#8205;</code> solves the problem. How to fix it?</p>\n<pre><code>SendMessage sendMessage = new SendMessage();\n        sendMessage.setParseMode(ParseMode.HTML);\n        sendMessage.disableWebPagePreview();\n        sendMessage.setChatId(chatId);\n        sendMessage.enableHtml(true);\n        String html = &quot;&lt;a href=\\&quot;https://www.carspecs.us/photos/c8447c97e355f462368178b3518367824a757327-2000.jpg\\&quot;&gt;&amp;#8205;&lt;/a&gt;&quot;;\n        sendMessage.setText(html);\n        executeAsync(message);\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n        &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n        &lt;version&gt;5.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","garbage-collection","jackrabbit"],"owner":{"account_id":1491175,"reputation":85,"user_id":1398231,"accept_rate":60,"display_name":"forest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637777888,"creation_date":1637762285,"question_id":70097408,"body_markdown":"We are using Apache jackrabbit v. 2.19.3 (not oak) and we are experiencing troubles with garbage collection. On our quite sizable repositorz, gc marking takes too long. The snippet looks like this:\r\n```\r\n...\r\nfinal String nodesCount = session.getRepository().getDescriptor(&quot;jcr.repository.stats.nodes.count&quot;);\r\norg.apache.jackrabbit.core.gc.GarbageCollector gc;\r\n\r\nfinal org.apache.jackrabbit.jca.JCASessionHandle jcaSessionHandle = (org.apache.jackrabbit.jca.JCASessionHandle) session;\r\nfinal org.apache.jackrabbit.core.XASessionImpl xaSession = (org.apache.jackrabbit.core.XASessionImpl) jcaSessionHandle.getManagedConnection().getSession(jcaSessionHandle);\r\ngc = xaSession.createDataStoreGarbageCollector();\r\ngc.setMarkEventListener(new DMSDataStoreGCListener(nodesCount));\r\ngc.mark();\r\ngc.stopScan();\r\ngc.sweep();\r\n...\r\n```\r\nIs this correct usage of the API? Is there a way to configure maximal possible time for garbage collection? Or split it so it does not run over whole repository... anything that would allow us to fit the garbage collection run within time window provided by our client to us.\r\n\r\nAny help appreciated...","title":"Is it possible to stop Apache jackrabbit garbage collector?","body":"<p>We are using Apache jackrabbit v. 2.19.3 (not oak) and we are experiencing troubles with garbage collection. On our quite sizable repositorz, gc marking takes too long. The snippet looks like this:</p>\n<pre><code>...\nfinal String nodesCount = session.getRepository().getDescriptor(&quot;jcr.repository.stats.nodes.count&quot;);\norg.apache.jackrabbit.core.gc.GarbageCollector gc;\n\nfinal org.apache.jackrabbit.jca.JCASessionHandle jcaSessionHandle = (org.apache.jackrabbit.jca.JCASessionHandle) session;\nfinal org.apache.jackrabbit.core.XASessionImpl xaSession = (org.apache.jackrabbit.core.XASessionImpl) jcaSessionHandle.getManagedConnection().getSession(jcaSessionHandle);\ngc = xaSession.createDataStoreGarbageCollector();\ngc.setMarkEventListener(new DMSDataStoreGCListener(nodesCount));\ngc.mark();\ngc.stopScan();\ngc.sweep();\n...\n</code></pre>\n<p>Is this correct usage of the API? Is there a way to configure maximal possible time for garbage collection? Or split it so it does not run over whole repository... anything that would allow us to fit the garbage collection run within time window provided by our client to us.</p>\n<p>Any help appreciated...</p>\n"},{"tags":["java","object","nullpointerexception","null","downcast"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1637764738,"post_id":70097993,"comment_id":123913777,"body_markdown":"An object instantiation expression (`new ...`) never returns `null` if it completes without any exception. I fear, I do not understand the question.","body":"An object instantiation expression (<code>new ...</code>) never returns <code>null</code> if it completes without any exception. I fear, I do not understand the question."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1637764832,"post_id":70097993,"comment_id":123913818,"body_markdown":"As a side note, the check `p3.equals(null)` does not make any sense. If the variable is null, then the expression throws an NPE. If it is not null, then it always evaluates to `false`.","body":"As a side note, the check <code>p3.equals(null)</code> does not make any sense. If the variable is null, then the expression throws an NPE. If it is not null, then it always evaluates to <code>false</code>."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1637764929,"post_id":70097993,"comment_id":123913852,"body_markdown":"@Seelenvirtuose maybe it&#39;s that second part that the test is being written for. So it&#39;s just a question of checking `if(!(other instanceof Point)) return false;` in the `Point.equals(Object other)` method.","body":"@Seelenvirtuose maybe it&#39;s that second part that the test is being written for. So it&#39;s just a question of checking <code>if(!(other instanceof Point)) return false;</code> in the <code>Point.equals(Object other)</code> method."},{"owner":{"account_id":23441639,"reputation":23,"user_id":17499053,"display_name":"Zaid Fanek"},"score":0,"creation_date":1637765442,"post_id":70097993,"comment_id":123914096,"body_markdown":"@Seelenvirtuose, I made a try catch block to handle the NPE. i updated the question maybe it is more clear this way. Thanks anyways","body":"@Seelenvirtuose, I made a try catch block to handle the NPE. i updated the question maybe it is more clear this way. Thanks anyways"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1637765545,"post_id":70097993,"comment_id":123914142,"body_markdown":"Do  not catch NPEs in an `equals` method!","body":"Do  not catch NPEs in an <code>equals</code> method!"},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1637766401,"post_id":70097993,"comment_id":123914496,"body_markdown":"Try `return obj instanceof Point p &amp;&amp; p.x == x &amp;&amp; p.y == y;`","body":"Try <code>return obj instanceof Point p &amp;&amp; p.x == x &amp;&amp; p.y == y;</code>"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637777830,"creation_date":1637766784,"answer_id":70098539,"question_id":70097993,"body_markdown":"\r\nIf you look at the signature of the equals method you are implementing you&#39;ll see it takes an argument of type Object. That means the thing passed in can be any reference type. It can be null. Currently your equals method blindly casts whatever it gets to a Point, so if it gets anything other than a Point then an exception gets thrown. Then later, if the thing passed in is null, referencing an instance member (like p.x) will cause a NullPointerException.\r\n\r\nThere are at least four tests you need to write for your equals method:\r\n\r\n1) Pass in another Point with the same x and y values, \r\n\r\n2) Pass in a Point with different x and y values. \r\n\r\n3) Pass in some object with a totally different type, like String or Integer. \r\n\r\n4) Pass in null.  \r\n\r\nThese need to be in different test methods, so that they can fail independently of each other. Cramming them into the same test means that when one assertion fails, the ones after it don&#39;t run; fixing tests turns into a whack-a-mole situation where you fixed one problem but now another one pops up.\r\n\r\nYou can use instanceof to check that what you are getting is the right type and is non-null. Since your current code catches a NPE, it lets execution continue from the catch block to the line with `return true;` , which isn&#39;t what you want. \r\n\r\nSo start your equals method with something like\r\n\r\n    if (!(object instanceof Point)) {\r\n        return false;\r\n    }\r\n\r\nbefore you cast. Once you know the object is a non-null Point then you can continue with \r\n\r\n    Point p = (Point)object;\r\n    return x == p.x &amp;&amp; y == p.y;\r\n\r\nSince &amp;&amp; short-circuits this doesn&#39;t do any more work than the posted code, they both stop checking if the first check evaluates to false.\r\n\r\n","title":"Is there a way that i can make my object never null?","body":"<p>If you look at the signature of the equals method you are implementing you'll see it takes an argument of type Object. That means the thing passed in can be any reference type. It can be null. Currently your equals method blindly casts whatever it gets to a Point, so if it gets anything other than a Point then an exception gets thrown. Then later, if the thing passed in is null, referencing an instance member (like p.x) will cause a NullPointerException.</p>\n<p>There are at least four tests you need to write for your equals method:</p>\n<ol>\n<li><p>Pass in another Point with the same x and y values,</p>\n</li>\n<li><p>Pass in a Point with different x and y values.</p>\n</li>\n<li><p>Pass in some object with a totally different type, like String or Integer.</p>\n</li>\n<li><p>Pass in null.</p>\n</li>\n</ol>\n<p>These need to be in different test methods, so that they can fail independently of each other. Cramming them into the same test means that when one assertion fails, the ones after it don't run; fixing tests turns into a whack-a-mole situation where you fixed one problem but now another one pops up.</p>\n<p>You can use instanceof to check that what you are getting is the right type and is non-null. Since your current code catches a NPE, it lets execution continue from the catch block to the line with <code>return true;</code> , which isn't what you want.</p>\n<p>So start your equals method with something like</p>\n<pre><code>if (!(object instanceof Point)) {\n    return false;\n}\n</code></pre>\n<p>before you cast. Once you know the object is a non-null Point then you can continue with</p>\n<pre><code>Point p = (Point)object;\nreturn x == p.x &amp;&amp; y == p.y;\n</code></pre>\n<p>Since &amp;&amp; short-circuits this doesn't do any more work than the posted code, they both stop checking if the first check evaluates to false.</p>\n"}],"owner":{"account_id":23441639,"reputation":23,"user_id":17499053,"display_name":"Zaid Fanek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637777830,"creation_date":1637764530,"question_id":70097993,"body_markdown":"I was given a task and I&#39;m not sure how to get it to work. All the test cases must pass.\r\n\r\n    Assertions.assertDoesNotThrow(() -&gt; p3.equals(null));\r\n    Assertions.assertFalse(p3.equals(null), &quot;equals to null should return false&quot;);\r\n      \r\nI figured out the first one, the one that is tricking me is the Assertions.assertfalse(p3.equals(null)). \r\nI created the object p3 from Point as such:\r\n\r\n    Point p3 = new Point(x+1, y-1);\r\n\r\nIn my Point class I have an equals method which I override as such:\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        Point p = (Point) obj;\r\n        try {\r\n            if (x != p.x) {\r\n                return false;\r\n            }\r\n\r\n            if (y != p.y) {\r\n                return false;\r\n            }\r\n        } catch (NullPointerException e) {\r\n            System.err.println(&quot;null&quot;);\r\n        }\r\n        return true;\r\n    }\r\n\r\nI used this to pass other tests not mentioned.\r\n\r\n    public Point(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public int x() {\r\n        return x;\r\n    }\r\n\r\n    public int y() {\r\n        return y;\r\n    }\r\n\r\nWhere x and y are random integers between 0-30.\r\n\r\nWhen I run the test, it always returns p3 equal to null which is confusing me. I know it is something to do with checking if the object passed through is of same type (Point) &amp; downcasting, but I am not sure.\r\n\r\n\r\n\r\n\r\n\r\n \r\n","title":"Is there a way that i can make my object never null?","body":"<p>I was given a task and I'm not sure how to get it to work. All the test cases must pass.</p>\n<pre><code>Assertions.assertDoesNotThrow(() -&gt; p3.equals(null));\nAssertions.assertFalse(p3.equals(null), &quot;equals to null should return false&quot;);\n  \n</code></pre>\n<p>I figured out the first one, the one that is tricking me is the Assertions.assertfalse(p3.equals(null)).\nI created the object p3 from Point as such:</p>\n<pre><code>Point p3 = new Point(x+1, y-1);\n</code></pre>\n<p>In my Point class I have an equals method which I override as such:</p>\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    Point p = (Point) obj;\n    try {\n        if (x != p.x) {\n            return false;\n        }\n\n        if (y != p.y) {\n            return false;\n        }\n    } catch (NullPointerException e) {\n        System.err.println(&quot;null&quot;);\n    }\n    return true;\n}\n</code></pre>\n<p>I used this to pass other tests not mentioned.</p>\n<pre><code>public Point(int x, int y) {\n    this.x = x;\n    this.y = y;\n}\n\npublic int x() {\n    return x;\n}\n\npublic int y() {\n    return y;\n}\n</code></pre>\n<p>Where x and y are random integers between 0-30.</p>\n<p>When I run the test, it always returns p3 equal to null which is confusing me. I know it is something to do with checking if the object passed through is of same type (Point) &amp; downcasting, but I am not sure.</p>\n"},{"tags":["java","asynchronous","servlets","completable-future"],"comments":[{"owner":{"account_id":3321913,"reputation":923,"user_id":2792888,"display_name":"Daniil"},"score":0,"creation_date":1582488014,"post_id":60365744,"comment_id":106785696,"body_markdown":"Have you tried to get header value before calling async lambda? Anyway, I&#39;m afraid you&#39;ll need to call request.getAsyncContext() and implement AsyncListener to make async logic work.","body":"Have you tried to get header value before calling async lambda? Anyway, I&#39;m afraid you&#39;ll need to call request.getAsyncContext() and implement AsyncListener to make async logic work."}],"answers":[{"tags":[],"owner":{"account_id":766390,"reputation":540,"user_id":797512,"display_name":"jeremyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637777593,"creation_date":1637777593,"answer_id":70101056,"question_id":60365744,"body_markdown":"You may need to use Spring&#39;s `RequestContextHolder`.\r\n\r\n&gt; Holder class to expose the web request in the form of a thread-bound RequestAttributes object. The request will be inherited by any child threads spawned by the current thread if the inheritable flag is set to true.\r\n\r\nThe following snippet (used) to work for me, but its a few years old now.\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n\r\n    RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n    if (requestAttributes instanceof WebRequest) {\r\n        WebRequest request = (WebRequest) requestAttributes;\r\n\r\n        Iterator&lt;String&gt; headerNames = request.getHeaderNames();\r\n\r\n        while (headerNames.hasNext()) {\r\n\r\n            String headerName = headerNames.next();\r\n            String[] headerValues = request.getHeaderValues(headerName);\r\n            Arrays.stream(headerValues)\r\n                .forEach(headerValue -&gt; headers.add(headerName, headerValue));\r\n        }\r\n    }","title":"HttpServletRequest headers disappear when using CompletableFuture","body":"<p>You may need to use Spring's <code>RequestContextHolder</code>.</p>\n<blockquote>\n<p>Holder class to expose the web request in the form of a thread-bound RequestAttributes object. The request will be inherited by any child threads spawned by the current thread if the inheritable flag is set to true.</p>\n</blockquote>\n<p>The following snippet (used) to work for me, but its a few years old now.</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\n\nRequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\nif (requestAttributes instanceof WebRequest) {\n    WebRequest request = (WebRequest) requestAttributes;\n\n    Iterator&lt;String&gt; headerNames = request.getHeaderNames();\n\n    while (headerNames.hasNext()) {\n\n        String headerName = headerNames.next();\n        String[] headerValues = request.getHeaderValues(headerName);\n        Arrays.stream(headerValues)\n            .forEach(headerValue -&gt; headers.add(headerName, headerValue));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6868391,"reputation":1588,"user_id":5279855,"accept_rate":32,"display_name":"Auro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637777593,"creation_date":1582484508,"question_id":60365744,"body_markdown":"Firstly, my apologies for such a vague question title. I am new to asynchronous programming in Java (and thus **CompletableFuture**) and I am trying to play around with it using Spring&#39;s `@Async` feature. \r\n\r\nI have the following **AsyncConfig.java**\r\n\r\n    @Configuration\r\n    public class AsyncConfiguration {\r\n    \t\r\n    \tprivate static final Logger LOG = LogManager.getLogger(AsyncConfiguration.class);\r\n    \t\r\n    \t@Bean(&quot;asyncExecutor&quot;)\r\n    \tpublic Executor asyncExecutor() {\r\n    \t\t\r\n    \t\tLOG.info(&quot;Configuring ASYNC Executor&quot;);\r\n    \t\t\r\n    \t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    \t\texecutor.setCorePoolSize(1);\r\n    \t\texecutor.setMaxPoolSize(2);\r\n    \t\texecutor.setQueueCapacity(2);\r\n    \t\texecutor.setThreadNamePrefix(&quot;AsyncThread--&quot;);\r\n    \t\texecutor.initialize();\r\n    \t\t\r\n    \t\tLOG.info(&quot;ASYNC Executor Configuration Complete&quot;);\r\n    \t\t\r\n    \t\treturn executor;\r\n    \t}\r\n    \r\n    }\r\n\r\n Now I have two filters, **ApiUsageLimitFilter** with `@Order(1)` and **RequestResponseLoggingFilter** with `@Order(2)`\r\n\r\nIn the `doFilter` of `ApiUsageLimitFilter.java`, I have the following code:\r\n\r\n\r\n    @Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \r\n    \t\tLOG.info(&quot;API Filter Request handled by Thread {} -&gt; {}&quot;, Thread.currentThread().getName(),\r\n    \t\t\t\tThread.currentThread().getId());\r\n    \t\tfinal HttpServletRequest httpServletRequest = HttpServletRequest.class.cast(request);\r\n    \t\tHttpServletResponse httpServletResponse = HttpServletResponse.class.cast(response);\r\n    \t\ttry {\r\n    \t\t\tLOG.info(&quot;Checking usgae limit for IP: {}&quot;, httpServletRequest.getHeader(&quot;X-Real-IP&quot;));\r\n    \t\t\tapiUsageMonitorService.isAllowed(httpServletRequest)  //Some method that returns a CompletableFuture&lt;Boolean&gt;\r\n    \t\t\t.thenCompose((allowed) -&gt; {\r\n    \t\t\t\tif (allowed.equals(Boolean.TRUE)) {\r\n    \t\t\t\t\tLOG.info(&quot;IP: {} allowed&quot;, httpServletRequest.getHeader(&quot;X-Real-IP&quot;)); // Value is NULL\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tchain.doFilter(httpServletRequest, httpServletResponse);\r\n    \t\t\t\t\t} catch (IOException | ServletException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tLOG.warn(&quot;IP: {} reached its usage limit. Blocking any further calls&quot;,\r\n    \t\t\t\t\t\t\thttpServletRequest.getHeader(&quot;X-Real-IP&quot;));\r\n    \t\t\t\t\treturn apiUsageMonitorService.remainingTTL(httpServletRequest);\r\n    \t\t\t\t}\r\n    \t\t\t}).thenAccept((remainingTTL) -&gt; {\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;This gets executed&quot;);\r\n    \t\t\t\tif (remainingTTL != null) {\r\n    \t\t\t\t\tSystem.out.println(&quot;SOme of this gets executed&quot;);\r\n    \t\t\t\t\ttry {\r\n    \r\n    \t\t\t\t\t\tApiResponse errorResponse = new ApiResponse();\r\n    \t\t\t\t\t\terrorResponse.setStatus(ApiRequestStatus.FAILURE);\r\n    \t\t\t\t\t\terrorResponse.setMessage(\r\n    \t\t\t\t\t\t\t\t&quot;You have reached the API usage limit. Only 10 requests allowed per hour. Please try after the time specified in Retry-After header&quot;);\r\n    \t\t\t\t\t\terrorResponse.setErrorCode(ApiRequestErrorCode.API_USAGE_LIMIT_REACHED);\r\n    \t\t\t\t\t\tString errorResponseString = getResponseAsString(errorResponse);\r\n    \t\t\t\t\t\tLOG.info(&quot;Error response as String:{}&quot;, errorResponseString);\r\n    \t\t\t\t\t\thttpServletResponse.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());\r\n    \r\n    \t\t\t\t\t\tLong remainingSeconds = TimeUnit.MILLISECONDS.toSeconds(remainingTTL);\r\n    \t\t\t\t\t\thttpServletResponse.setHeader(&quot;Retry-After&quot;, remainingSeconds.toString() + &quot; seconds&quot;);\r\n    \t\t\t\t\t\thttpServletResponse.getWriter().write(errorResponseString);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t});\r\n\r\n\r\nThe above method calls a service that basically returns a **CompletableFuture** of `boolean` and on the basis of that value, I either call the next filter in chain or I return a response back.\r\n\r\nWhat&#39;s happening is that before the call goes to `apiUsageMonitorService.isAllowed(httpServletRequest)` line, the request object exists and I can see the header in. However, when inside `thenCompose` of the `apiUsageMonitorService.isAllowed(httpServletRequest)` method, which returns a `CompletableFuture`, I cannot see that header value **X-Real-IP** anymore. It prints a null.\r\n\r\nI tried the same without async code and I was able to access the request header even after that particular call. Moreover, the call was going to the next filter in the chain as well. But when using `CompletableFuture`, the header simply doesn&#39;t exist at that point after the call and it also doesn&#39;t go to the `RequestResponseLoggingFilter`, which is the next filter in the chain, because I don&#39;t see any logs done by that filter. \r\n\r\nBelow are the logs:\r\n\r\n2020-02-23 23:12:53.721  INFO 28774 --- [nio-8080-exec-3] \r\n\r\n    i.turls.lib.filters.ApiUsageLimitFilter  : API Filter Request handled by Thread http-nio-8080-exec-3 -&gt; 58\r\n    2020-02-23 23:12:53.721  INFO 28774 --- [nio-8080-exec-3] i.turls.lib.filters.ApiUsageLimitFilter  : Checking usgae limit for IP: 122.168.23.274\r\n    2020-02-23 23:12:53.721  INFO 28774 --- [ AsyncThread--1] i.t.l.s.i.ApiUsageMonitorServiceImpl     : Running Async Method on Thread AsyncThread--1 -&gt; 70\r\n    2020-02-23 23:12:53.721  INFO 28774 --- [ AsyncThread--1] i.t.l.s.i.ApiUsageMonitorServiceImpl     : Checking API usage for IP: 122.168.23.274\r\n    2020-02-23 23:12:53.729  INFO 28774 --- [ AsyncThread--1] i.t.l.s.i.ApiUsageMonitorServiceImpl     : Creating new entry with IP 122.168.23.274\r\n    2020-02-23 23:12:53.738  INFO 28774 --- [ AsyncThread--1] i.turls.lib.filters.ApiUsageLimitFilter  : IP: null allowed\r\n\r\n\r\nWhat&#39;s going wrong here? Is it that when the `CompletableFuture` finishes, the request object is long gone because the Filters implement a synchronous method? If so, how do I take care of this issue? I have to use it the async way\r\n","title":"HttpServletRequest headers disappear when using CompletableFuture","body":"<p>Firstly, my apologies for such a vague question title. I am new to asynchronous programming in Java (and thus <strong>CompletableFuture</strong>) and I am trying to play around with it using Spring's <code>@Async</code> feature. </p>\n\n<p>I have the following <strong>AsyncConfig.java</strong></p>\n\n<pre><code>@Configuration\npublic class AsyncConfiguration {\n\n    private static final Logger LOG = LogManager.getLogger(AsyncConfiguration.class);\n\n    @Bean(\"asyncExecutor\")\n    public Executor asyncExecutor() {\n\n        LOG.info(\"Configuring ASYNC Executor\");\n\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(1);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(2);\n        executor.setThreadNamePrefix(\"AsyncThread--\");\n        executor.initialize();\n\n        LOG.info(\"ASYNC Executor Configuration Complete\");\n\n        return executor;\n    }\n\n}\n</code></pre>\n\n<p>Now I have two filters, <strong>ApiUsageLimitFilter</strong> with <code>@Order(1)</code> and <strong>RequestResponseLoggingFilter</strong> with <code>@Order(2)</code></p>\n\n<p>In the <code>doFilter</code> of <code>ApiUsageLimitFilter.java</code>, I have the following code:</p>\n\n<pre><code>@Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        LOG.info(\"API Filter Request handled by Thread {} -&gt; {}\", Thread.currentThread().getName(),\n                Thread.currentThread().getId());\n        final HttpServletRequest httpServletRequest = HttpServletRequest.class.cast(request);\n        HttpServletResponse httpServletResponse = HttpServletResponse.class.cast(response);\n        try {\n            LOG.info(\"Checking usgae limit for IP: {}\", httpServletRequest.getHeader(\"X-Real-IP\"));\n            apiUsageMonitorService.isAllowed(httpServletRequest)  //Some method that returns a CompletableFuture&lt;Boolean&gt;\n            .thenCompose((allowed) -&gt; {\n                if (allowed.equals(Boolean.TRUE)) {\n                    LOG.info(\"IP: {} allowed\", httpServletRequest.getHeader(\"X-Real-IP\")); // Value is NULL\n                    try {\n                        chain.doFilter(httpServletRequest, httpServletResponse);\n                    } catch (IOException | ServletException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    return null;\n                } else {\n                    LOG.warn(\"IP: {} reached its usage limit. Blocking any further calls\",\n                            httpServletRequest.getHeader(\"X-Real-IP\"));\n                    return apiUsageMonitorService.remainingTTL(httpServletRequest);\n                }\n            }).thenAccept((remainingTTL) -&gt; {\n\n                System.out.println(\"This gets executed\");\n                if (remainingTTL != null) {\n                    System.out.println(\"SOme of this gets executed\");\n                    try {\n\n                        ApiResponse errorResponse = new ApiResponse();\n                        errorResponse.setStatus(ApiRequestStatus.FAILURE);\n                        errorResponse.setMessage(\n                                \"You have reached the API usage limit. Only 10 requests allowed per hour. Please try after the time specified in Retry-After header\");\n                        errorResponse.setErrorCode(ApiRequestErrorCode.API_USAGE_LIMIT_REACHED);\n                        String errorResponseString = getResponseAsString(errorResponse);\n                        LOG.info(\"Error response as String:{}\", errorResponseString);\n                        httpServletResponse.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());\n\n                        Long remainingSeconds = TimeUnit.MILLISECONDS.toSeconds(remainingTTL);\n                        httpServletResponse.setHeader(\"Retry-After\", remainingSeconds.toString() + \" seconds\");\n                        httpServletResponse.getWriter().write(errorResponseString);\n                    } catch (Exception e) {\n                        // TODO: handle exception\n                    }\n\n                }\n            });\n</code></pre>\n\n<p>The above method calls a service that basically returns a <strong>CompletableFuture</strong> of <code>boolean</code> and on the basis of that value, I either call the next filter in chain or I return a response back.</p>\n\n<p>What's happening is that before the call goes to <code>apiUsageMonitorService.isAllowed(httpServletRequest)</code> line, the request object exists and I can see the header in. However, when inside <code>thenCompose</code> of the <code>apiUsageMonitorService.isAllowed(httpServletRequest)</code> method, which returns a <code>CompletableFuture</code>, I cannot see that header value <strong>X-Real-IP</strong> anymore. It prints a null.</p>\n\n<p>I tried the same without async code and I was able to access the request header even after that particular call. Moreover, the call was going to the next filter in the chain as well. But when using <code>CompletableFuture</code>, the header simply doesn't exist at that point after the call and it also doesn't go to the <code>RequestResponseLoggingFilter</code>, which is the next filter in the chain, because I don't see any logs done by that filter. </p>\n\n<p>Below are the logs:</p>\n\n<p>2020-02-23 23:12:53.721  INFO 28774 --- [nio-8080-exec-3] </p>\n\n<pre><code>i.turls.lib.filters.ApiUsageLimitFilter  : API Filter Request handled by Thread http-nio-8080-exec-3 -&gt; 58\n2020-02-23 23:12:53.721  INFO 28774 --- [nio-8080-exec-3] i.turls.lib.filters.ApiUsageLimitFilter  : Checking usgae limit for IP: 122.168.23.274\n2020-02-23 23:12:53.721  INFO 28774 --- [ AsyncThread--1] i.t.l.s.i.ApiUsageMonitorServiceImpl     : Running Async Method on Thread AsyncThread--1 -&gt; 70\n2020-02-23 23:12:53.721  INFO 28774 --- [ AsyncThread--1] i.t.l.s.i.ApiUsageMonitorServiceImpl     : Checking API usage for IP: 122.168.23.274\n2020-02-23 23:12:53.729  INFO 28774 --- [ AsyncThread--1] i.t.l.s.i.ApiUsageMonitorServiceImpl     : Creating new entry with IP 122.168.23.274\n2020-02-23 23:12:53.738  INFO 28774 --- [ AsyncThread--1] i.turls.lib.filters.ApiUsageLimitFilter  : IP: null allowed\n</code></pre>\n\n<p>What's going wrong here? Is it that when the <code>CompletableFuture</code> finishes, the request object is long gone because the Filters implement a synchronous method? If so, how do I take care of this issue? I have to use it the async way</p>\n"},{"tags":["java","hibernate","collections","hibernate-mapping"],"comments":[{"owner":{"account_id":1474041,"reputation":1667,"user_id":1384908,"accept_rate":67,"display_name":"pafau k."},"score":0,"creation_date":1590692493,"post_id":62072149,"comment_id":109784440,"body_markdown":"And the sentence before that one reads: &quot;The persistent collections injected by Hibernate behave like ArrayList, HashSet, TreeSet, HashMap or TreeMap, depending on the interface type&quot;. I don&#39;t think you&#39;re using &quot;collections injected by Hibernate&quot; here","body":"And the sentence before that one reads: &quot;The persistent collections injected by Hibernate behave like ArrayList, HashSet, TreeSet, HashMap or TreeMap, depending on the interface type&quot;. I don&#39;t think you&#39;re using &quot;collections injected by Hibernate&quot; here"}],"answers":[{"tags":[],"owner":{"account_id":1475026,"reputation":1446,"user_id":1385652,"accept_rate":25,"display_name":"Hossein Nasr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590692652,"creation_date":1590692652,"answer_id":62072576,"question_id":62072149,"body_markdown":"&gt; Two entities cannot share a reference to the same collection instance\r\n\r\nThis is still correct. it means that if you load one of these entities and change phone collection, other entity&#39;s phone collection remains unchanged.  \r\n\r\nYou are simply share a reference in your java and not in the database. Next time this shared reference will be gone and all of your entities consist of an individual reference to their own lists.","title":"Hibernate Collection Persistence","body":"<blockquote>\n  <p>Two entities cannot share a reference to the same collection instance</p>\n</blockquote>\n\n<p>This is still correct. it means that if you load one of these entities and change phone collection, other entity's phone collection remains unchanged.  </p>\n\n<p>You are simply share a reference in your java and not in the database. Next time this shared reference will be gone and all of your entities consist of an individual reference to their own lists.</p>\n"}],"owner":{"account_id":17258640,"reputation":1,"user_id":12497164,"display_name":"Pavan k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637777556,"creation_date":1590691164,"question_id":62072149,"body_markdown":"While going through the Hibernate documentation I came across this statement which states that &quot;Two entities cannot share a reference to the same collection instance&quot;, yet when I use the below code no error occurs.\r\n\r\nEverything works fine including Hibernate persistence for both entities and corresponding collection references in the DB without any issue.\r\n\r\nAm I misunderstanding something? Can this statement be explained and in which scenario is it applicable?\r\n\r\nEntity 1:\r\n\r\n```\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue\r\n \tprivate Long id;\r\n\r\n    @CreationTimestamp\r\n   \tprivate LocalDateTime date;\r\n\r\n    @ElementCollection\r\n   \tprivate List&lt;String&gt; phones = new ArrayList&lt;&gt;();\r\n\r\n    @ElementCollection\r\n   \tprivate Set&lt;LocalDateTime&gt; personOrderDates;\r\n}\r\n```\r\n\r\nEntity 2:\r\n\r\n```\r\npublic class Home {\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate long id;\r\n\t\r\n\r\n\t@ElementCollection\r\n\tprivate List&lt;String&gt; homePhoneList;\r\n}\r\n```\r\n\r\nHibernate persist code:\r\n\r\n```\r\nPerson person1 = entityManager.find(Person.class, 48l);\r\nPerson person2 = entityManager.find(Person.class, 49l);\r\n  \r\nList&lt;String&gt; newPhoneList = new ArrayList();\r\nnewPhoneList.add(&quot;x&quot;);\r\nnewPhoneList.add(&quot;y&quot;);\r\nnewPhoneList.add(&quot;z&quot;);\r\n\t\r\nperson1.setPhones(newPhoneList);\r\nperson2.setPhones(newPhoneList);\r\nHome home1 = Home.builder().homePhoneList(newPhoneList).build();\r\n\t\r\nentityManager.persist(home1);\r\nentityManager.persist(person1);\r\nentityManager.persist(person2);\r\n```\r\n\r\n\r\nHere we clearly are able to share the same collection reference between two instances of the same entity (Person), as well as with entirely different entity type (Home) without any issue. All three entities are saving/updating in the DB.","title":"Hibernate Collection Persistence","body":"<p>While going through the Hibernate documentation I came across this statement which states that &quot;Two entities cannot share a reference to the same collection instance&quot;, yet when I use the below code no error occurs.</p>\n<p>Everything works fine including Hibernate persistence for both entities and corresponding collection references in the DB without any issue.</p>\n<p>Am I misunderstanding something? Can this statement be explained and in which scenario is it applicable?</p>\n<p>Entity 1:</p>\n<pre><code>public class Person {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @CreationTimestamp\n    private LocalDateTime date;\n\n    @ElementCollection\n    private List&lt;String&gt; phones = new ArrayList&lt;&gt;();\n\n    @ElementCollection\n    private Set&lt;LocalDateTime&gt; personOrderDates;\n}\n</code></pre>\n<p>Entity 2:</p>\n<pre><code>public class Home {\n    @Id\n    @GeneratedValue\n    private long id;\n    \n\n    @ElementCollection\n    private List&lt;String&gt; homePhoneList;\n}\n</code></pre>\n<p>Hibernate persist code:</p>\n<pre><code>Person person1 = entityManager.find(Person.class, 48l);\nPerson person2 = entityManager.find(Person.class, 49l);\n  \nList&lt;String&gt; newPhoneList = new ArrayList();\nnewPhoneList.add(&quot;x&quot;);\nnewPhoneList.add(&quot;y&quot;);\nnewPhoneList.add(&quot;z&quot;);\n    \nperson1.setPhones(newPhoneList);\nperson2.setPhones(newPhoneList);\nHome home1 = Home.builder().homePhoneList(newPhoneList).build();\n    \nentityManager.persist(home1);\nentityManager.persist(person1);\nentityManager.persist(person2);\n</code></pre>\n<p>Here we clearly are able to share the same collection reference between two instances of the same entity (Person), as well as with entirely different entity type (Home) without any issue. All three entities are saving/updating in the DB.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8171,"page":1821,"page_size":100}
