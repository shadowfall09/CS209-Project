{"items":[{"tags":["java","spring","hibernate","transactions","assertj"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1612787002,"post_id":66069181,"comment_id":116866882,"body_markdown":"What kind of exception are you actually throwing in the `prepareNotificationRequest`an `send` methods. Is any kind of `RuntimeException`? It is not declared in the methods signature.","body":"What kind of exception are you actually throwing in the <code>prepareNotificationRequest</code>an <code>send</code> methods. Is any kind of <code>RuntimeException</code>? It is not declared in the methods signature."},{"owner":{"account_id":2303363,"reputation":106,"user_id":2023172,"display_name":"byksl"},"score":0,"creation_date":1612802409,"post_id":66069181,"comment_id":116874519,"body_markdown":"I am throwing an exception of a class which extends `RuntimeException`.","body":"I am throwing an exception of a class which extends <code>RuntimeException</code>."},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1613361334,"post_id":66069181,"comment_id":117042569,"body_markdown":"Is it safe to assume that the id of your notification order is always going to be 1? Are there other tests using the same repository? What&#39;s the life-cycle of your test data store?","body":"Is it safe to assume that the id of your notification order is always going to be 1? Are there other tests using the same repository? What&#39;s the life-cycle of your test data store?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612772994,"creation_date":1612772994,"answer_id":66098150,"question_id":66069181,"body_markdown":"Try enabling SQL logging and parameter bind logging and look through the statements. I don&#39;t know all of your code, but maybe your are setting the message to null somewhere? It could also be, that the actions are interleaving somehow such that `updateNotificationOrderRetryCount` is called before/while `saveNotificationOrderErrorMessage` in a way that causes this. If both run right before commit, but `saveNotificationOrderErrorMessage` commits before `updateNotificationOrderRetryCount`, you could see the error message being overwritten with null.","title":"Does a hibernate transaction commit changes asynchronously, independent of the program flow?","body":"<p>Try enabling SQL logging and parameter bind logging and look through the statements. I don't know all of your code, but maybe your are setting the message to null somewhere? It could also be, that the actions are interleaving somehow such that <code>updateNotificationOrderRetryCount</code> is called before/while <code>saveNotificationOrderErrorMessage</code> in a way that causes this. If both run right before commit, but <code>saveNotificationOrderErrorMessage</code> commits before <code>updateNotificationOrderRetryCount</code>, you could see the error message being overwritten with null.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685492624,"creation_date":1612802955,"answer_id":66105823,"question_id":66069181,"body_markdown":"If the code snippet of the question is accurate, pay attention to the fact that you are rethrowing the exception raised in the `prepareNotificationRequest` method, I assume in order to enable the retry mechanism:\r\n\r\n```java\r\nNotificationRequest request;\r\ntry {\r\n    request = prepareNotificationRequest(order);\r\n} catch (Exception e) {\r\n    notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\r\n                  e.getMessage());\r\n    throw e; // You are rethrowing the exception\r\n}\r\n```\r\n\r\nFor your comment, the exception thrown extends `RuntimeException`.\r\n\r\nAs the [Spring documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-rolling-back) indicates:\r\n\r\n&gt; In its default configuration, the Spring Framework’s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions. That is, when the thrown exception is an instance or subclass of RuntimeException. ( Error instances also, by default, result in a rollback). Checked exceptions that are thrown from a transactional method do not result in rollback in the default configuration.\r\n\r\nProbably Spring is performing rollback of the initial transaction, that one associated with `saveNotificationOrderErrorMessage`. I realize that this method is annotated as `@Transactional(propagation = Propagation.REQUIRES_NEW)` and that it [is initiating a new transaction](https://stackoverflow.com/questions/5789788/what-exactly-propagation-requires-new-means-using-spring-transaction-managemen), but perhaps the problem could be related with it. \r\n\r\nWhen the retry mechanism takes place, another transaction, associated with the invocation of the method `updateNotificationOrderRetryCount` is performed, and this transaction is successfully committed. This is the reason why the changes performed in this second method are properly committed.\r\n\r\nThe solution of the problem will depend on how your retry mechanism is implemented, but you can, for example, raise the original exception and, as a first step in the retry mechanism, trace the problem in the database or, raise a checked exception - Spring by default will not perform rollback for it - and handle it as appropriate.\r\n\r\nUpdate\r\n---\r\n\r\nAnother possible reason of the problem could be the transaction demarcations in the `send` method.\r\n\r\nThis method is annotated as `@Transactional`. As a consequence, Spring will initiate a new transaction for it.\r\n\r\nThe error occurs, and you trace the error in the database, in a new transaction but please, be aware that the initial transaction is still there.\r\n\r\nAlthough not described in your code, in some way, the retry mechanism takes place, and updates the retry count. It this operation is performed within the initial transaction (or a higher level one), due to the transaction boundaries, database isolation levels, and related stuff, it is possible that this transaction, the initial, fetch an actually outdated, but current from the transaction boundary point of view, `NotificationOrder`. And this information is the one that finally is committed, overwriting the  information of the error.\r\n\r\nOne simple solution, maybe for both possibilities, could be to include the error message in the `updateNotificationOrderRetryCount` method itself, reducing the problem to a single transaction:\r\n\r\n```java\r\n/* If appropriate, mark it as Transactional */\r\n@Transactional\r\npublic NotificationOrder updateNotificationOrderRetryCount(Long orderId, String errorMessage) {\r\n  NotificationOrder order = notificationRepository.findOne(orderId);\r\n  order.setRetryCount(order.getRetryCount() + 1);\r\n  order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\r\n  order.setErrorDescription(errorMessage);\r\n  // It is unnecessary, all the changes performed in the entity within the transaction will be committed\r\n  // notificationRepository.save(order); \r\n  return order;\r\n}\r\n```","title":"Does a hibernate transaction commit changes asynchronously, independent of the program flow?","body":"<p>If the code snippet of the question is accurate, pay attention to the fact that you are rethrowing the exception raised in the <code>prepareNotificationRequest</code> method, I assume in order to enable the retry mechanism:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NotificationRequest request;\ntry {\n    request = prepareNotificationRequest(order);\n} catch (Exception e) {\n    notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\n                  e.getMessage());\n    throw e; // You are rethrowing the exception\n}\n</code></pre>\n<p>For your comment, the exception thrown extends <code>RuntimeException</code>.</p>\n<p>As the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-rolling-back\" rel=\"nofollow noreferrer\">Spring documentation</a> indicates:</p>\n<blockquote>\n<p>In its default configuration, the Spring Framework’s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions. That is, when the thrown exception is an instance or subclass of RuntimeException. ( Error instances also, by default, result in a rollback). Checked exceptions that are thrown from a transactional method do not result in rollback in the default configuration.</p>\n</blockquote>\n<p>Probably Spring is performing rollback of the initial transaction, that one associated with <code>saveNotificationOrderErrorMessage</code>. I realize that this method is annotated as <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> and that it <a href=\"https://stackoverflow.com/questions/5789788/what-exactly-propagation-requires-new-means-using-spring-transaction-managemen\">is initiating a new transaction</a>, but perhaps the problem could be related with it.</p>\n<p>When the retry mechanism takes place, another transaction, associated with the invocation of the method <code>updateNotificationOrderRetryCount</code> is performed, and this transaction is successfully committed. This is the reason why the changes performed in this second method are properly committed.</p>\n<p>The solution of the problem will depend on how your retry mechanism is implemented, but you can, for example, raise the original exception and, as a first step in the retry mechanism, trace the problem in the database or, raise a checked exception - Spring by default will not perform rollback for it - and handle it as appropriate.</p>\n<h2>Update</h2>\n<p>Another possible reason of the problem could be the transaction demarcations in the <code>send</code> method.</p>\n<p>This method is annotated as <code>@Transactional</code>. As a consequence, Spring will initiate a new transaction for it.</p>\n<p>The error occurs, and you trace the error in the database, in a new transaction but please, be aware that the initial transaction is still there.</p>\n<p>Although not described in your code, in some way, the retry mechanism takes place, and updates the retry count. It this operation is performed within the initial transaction (or a higher level one), due to the transaction boundaries, database isolation levels, and related stuff, it is possible that this transaction, the initial, fetch an actually outdated, but current from the transaction boundary point of view, <code>NotificationOrder</code>. And this information is the one that finally is committed, overwriting the  information of the error.</p>\n<p>One simple solution, maybe for both possibilities, could be to include the error message in the <code>updateNotificationOrderRetryCount</code> method itself, reducing the problem to a single transaction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* If appropriate, mark it as Transactional */\n@Transactional\npublic NotificationOrder updateNotificationOrderRetryCount(Long orderId, String errorMessage) {\n  NotificationOrder order = notificationRepository.findOne(orderId);\n  order.setRetryCount(order.getRetryCount() + 1);\n  order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\n  order.setErrorDescription(errorMessage);\n  // It is unnecessary, all the changes performed in the entity within the transaction will be committed\n  // notificationRepository.save(order); \n  return order;\n}\n</code></pre>\n"}],"owner":{"account_id":2303363,"reputation":106,"user_id":2023172,"display_name":"byksl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685492624,"creation_date":1612551958,"question_id":66069181,"body_markdown":"I have a test method which sometimes fails during deploy and sometimes does not. I have never seen it fail on my local. You can see my code below.\r\n\r\nI have the following retry mechanism which is asynchronously called from another service:\r\n\r\n```\r\n@Transactional\r\npublic boolean retry(NotificationOrder order) {\r\n    notificationService.send(order);\r\n    return true;\r\n}\r\n\r\npublic void resolveOnFailedAttempt(Long orderId) {  //automatically called if `retry` method fails\r\n    notificationOrderCommonTransactionsService.updateNotificationOrderRetryCount(orderId);\r\n}\r\n```\r\nThe notification service is like this :\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class NotificationServiceImpl implements NotificationService {\r\n\r\n    private final NotificationOrderCommonTransactionsService notificationOrderCommonTransactionsService;\r\n\r\n    @Override\r\n    @Transactional\r\n    public NotificationResponse send(NotificationOrder order) {\r\n        NotificationRequest request;\r\n        try {\r\n            request = prepareNotificationRequest(order);\r\n        } catch (Exception e) {\r\n            notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\r\n                          e.getMessage());\r\n            throw e;\r\n        }\r\n\r\n        ...\r\n \r\n        return response;\r\n    }\r\n\r\n        private void prepareNotificationRequest(NotificationOrder order) {\r\n            ...\r\n            throw new Exception(&quot;ERROR&quot;);\r\n        }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd the commmon transactions service is like this :\r\n```\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public NotificationOrder saveNotificationOrderErrorMessage(Long orderId, String errorMessage) {\r\n        NotificationOrder order = notificationRepository.findOne(orderId);\r\n        order.setErrorDescription(errorMessage);\r\n        notificationRepository.save(order);\r\n        return order;\r\n    }\r\n\r\n    public NotificationOrder updateNotificationOrderRetryCount(Long orderId) {\r\n        NotificationOrder order = notificationRepository.findOne(orderId);\r\n        order.setRetryCount(order.getRetryCount() + 1);\r\n        order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\r\n        notificationRepository.save(order);\r\n        return order;\r\n    }\r\n```\r\n\r\nHere is my integration test :\r\n```\r\n    @Test\r\n    public void test() {\r\n \r\n        NotificationOrderRequest invalidRequest = invalidRequest();\r\n\r\n        ResponseEntity&lt;NotificationOrderResponse&gt; responseEntity = send(invalidRequest);\r\n\r\n        NotificationOrder notificationOrder = notificationOrderRepository.findOne(1);\r\n\r\n        softly.assertThat(notificationOrder.getOrderStatus().isEqualTo(NotificationOrderStatus.IN_PROGRESS))\r\n        softly.assertThat(notificationOrder.getErrorDescription())\r\n                 .isEqualTo(&quot;ERROR&quot;);  //This the line that fails.\r\n\r\n        softly.assertThat(responseEntity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n    }\r\n```\r\n\r\nIn the test method it is confirmed that `updateNotificationOrderRetryCount` is called and the order status is updated as `IN_PROGRESS`. However, the error message is null and I get the following assertion error : \r\n\r\n```\r\n    -- failure 1 --\r\n    Expecting:\r\n     &lt;null&gt;\r\n    to be equal to:\r\n     &lt;&quot;ERROR&quot;&gt;\r\n    but was not.\r\n```\r\n\r\nI expect `saveNotificationOrderErrorMessage` transaction to be completed and the changes to be committed before `updateNotificationOrderRetryCount` method is called. But it seems like it does work that way. Could anyone help me find out why my code behave like this ?\r\n\r\nHow can I reproduce this error on my local? And what can I do to fix it ?\r\n\r\nThanks.","title":"Does a hibernate transaction commit changes asynchronously, independent of the program flow?","body":"<p>I have a test method which sometimes fails during deploy and sometimes does not. I have never seen it fail on my local. You can see my code below.</p>\n<p>I have the following retry mechanism which is asynchronously called from another service:</p>\n<pre><code>@Transactional\npublic boolean retry(NotificationOrder order) {\n    notificationService.send(order);\n    return true;\n}\n\npublic void resolveOnFailedAttempt(Long orderId) {  //automatically called if `retry` method fails\n    notificationOrderCommonTransactionsService.updateNotificationOrderRetryCount(orderId);\n}\n</code></pre>\n<p>The notification service is like this :</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class NotificationServiceImpl implements NotificationService {\n\n    private final NotificationOrderCommonTransactionsService notificationOrderCommonTransactionsService;\n\n    @Override\n    @Transactional\n    public NotificationResponse send(NotificationOrder order) {\n        NotificationRequest request;\n        try {\n            request = prepareNotificationRequest(order);\n        } catch (Exception e) {\n            notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\n                          e.getMessage());\n            throw e;\n        }\n\n        ...\n \n        return response;\n    }\n\n        private void prepareNotificationRequest(NotificationOrder order) {\n            ...\n            throw new Exception(&quot;ERROR&quot;);\n        }\n}\n\n\n</code></pre>\n<p>And the commmon transactions service is like this :</p>\n<pre><code>    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public NotificationOrder saveNotificationOrderErrorMessage(Long orderId, String errorMessage) {\n        NotificationOrder order = notificationRepository.findOne(orderId);\n        order.setErrorDescription(errorMessage);\n        notificationRepository.save(order);\n        return order;\n    }\n\n    public NotificationOrder updateNotificationOrderRetryCount(Long orderId) {\n        NotificationOrder order = notificationRepository.findOne(orderId);\n        order.setRetryCount(order.getRetryCount() + 1);\n        order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\n        notificationRepository.save(order);\n        return order;\n    }\n</code></pre>\n<p>Here is my integration test :</p>\n<pre><code>    @Test\n    public void test() {\n \n        NotificationOrderRequest invalidRequest = invalidRequest();\n\n        ResponseEntity&lt;NotificationOrderResponse&gt; responseEntity = send(invalidRequest);\n\n        NotificationOrder notificationOrder = notificationOrderRepository.findOne(1);\n\n        softly.assertThat(notificationOrder.getOrderStatus().isEqualTo(NotificationOrderStatus.IN_PROGRESS))\n        softly.assertThat(notificationOrder.getErrorDescription())\n                 .isEqualTo(&quot;ERROR&quot;);  //This the line that fails.\n\n        softly.assertThat(responseEntity.getStatusCode()).isEqualTo(HttpStatus.OK);\n    }\n</code></pre>\n<p>In the test method it is confirmed that <code>updateNotificationOrderRetryCount</code> is called and the order status is updated as <code>IN_PROGRESS</code>. However, the error message is null and I get the following assertion error :</p>\n<pre><code>    -- failure 1 --\n    Expecting:\n     &lt;null&gt;\n    to be equal to:\n     &lt;&quot;ERROR&quot;&gt;\n    but was not.\n</code></pre>\n<p>I expect <code>saveNotificationOrderErrorMessage</code> transaction to be completed and the changes to be committed before <code>updateNotificationOrderRetryCount</code> method is called. But it seems like it does work that way. Could anyone help me find out why my code behave like this ?</p>\n<p>How can I reproduce this error on my local? And what can I do to fix it ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","http","servlets","tcp","integration"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337806131,"creation_date":1337806131,"answer_id":10727609,"question_id":10710772,"body_markdown":"One way to achieve this, is to embed Jetty into your main application. Here is a [tutorial][1].\r\n\r\nWith the embedded Jetty servlet container you can run standard Java web applications (WARs). At the same time in your main application you can listen to other TCP ports via a [ServerSocket][2].\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html","title":"Combining http servlets with other TCP server in Java","body":"<p>One way to achieve this, is to embed Jetty into your main application. Here is a <a href=\"http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\" rel=\"nofollow\">tutorial</a>.</p>\n\n<p>With the embedded Jetty servlet container you can run standard Java web applications (WARs). At the same time in your main application you can listen to other TCP ports via a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html\" rel=\"nofollow\">ServerSocket</a>.</p>\n"}],"owner":{"account_id":14129,"reputation":16062,"user_id":28802,"accept_rate":90,"display_name":"Manuel Araoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685492506,"creation_date":1337723858,"question_id":10710772,"body_markdown":"Is it possible to have a Java application listen to HTTP requests via servlets and to listen to other TCP port at the same time? Is there a standard way to do this?\r\n","title":"Combining http servlets with other TCP server in Java","body":"<p>Is it possible to have a Java application listen to HTTP requests via servlets and to listen to other TCP port at the same time? Is there a standard way to do this?</p>\n"},{"tags":["java","ajax","url","wicket"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1309819065,"post_id":6576354,"comment_id":7755008,"body_markdown":"If you think about it, it would be a massive security flaw if browsers allowed anything like this.","body":"If you think about it, it would be a massive security flaw if browsers allowed anything like this."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309816787,"creation_date":1309816787,"answer_id":6576388,"question_id":6576354,"body_markdown":"No, it isn&#39;t. If you change the location in the browser, a new request is made to that URL.\r\n\r\n(You do that with `window.location.href = newUrl`, but the page reloads)","title":"Changing URL via AJAX using wicket","body":"<p>No, it isn't. If you change the location in the browser, a new request is made to that URL.</p>\n\n<p>(You do that with <code>window.location.href = newUrl</code>, but the page reloads)</p>\n"},{"tags":[],"owner":{"account_id":144614,"reputation":77217,"user_id":353802,"accept_rate":100,"display_name":"AlienWebguy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1309816791,"creation_date":1309816791,"answer_id":6576389,"question_id":6576354,"body_markdown":"The only part of the url you can change with javascript is the hash\r\n\r\nYou could change `localhost:8080/#/someUrl` to  `localhost:8080/#/otherUrl`\r\n\r\nDo this with `window.location.hash`\r\n\r\nHere&#39;s an example of a flash site which uses this concept to allow for deep-linking URL&#39;s: [http://www.2advanced.com][1]\r\n\r\n\r\n  [1]: http://www.2advanced.com","title":"Changing URL via AJAX using wicket","body":"<p>The only part of the url you can change with javascript is the hash</p>\n\n<p>You could change <code>localhost:8080/#/someUrl</code> to  <code>localhost:8080/#/otherUrl</code></p>\n\n<p>Do this with <code>window.location.hash</code></p>\n\n<p>Here's an example of a flash site which uses this concept to allow for deep-linking URL's: <a href=\"http://www.2advanced.com\" rel=\"nofollow\">http://www.2advanced.com</a></p>\n"},{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309854355,"creation_date":1309854355,"answer_id":6579784,"question_id":6576354,"body_markdown":"Actually you can !\r\nBut this is not related to Wicket at all.\r\nThis is what the new History API in HTML5 is about.\r\nJust search for &quot;html5 History API example&quot; in Google and enjoy.","title":"Changing URL via AJAX using wicket","body":"<p>Actually you can !\nBut this is not related to Wicket at all.\nThis is what the new History API in HTML5 is about.\nJust search for \"html5 History API example\" in Google and enjoy.</p>\n"},{"tags":[],"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374833922,"creation_date":1374833922,"answer_id":17878801,"question_id":6576354,"body_markdown":"Help make this feature happen, vote (or contribute!) for https://issues.apache.org/jira/browse/WICKET-5290","title":"Changing URL via AJAX using wicket","body":"<p>Help make this feature happen, vote (or contribute!) for <a href=\"https://issues.apache.org/jira/browse/WICKET-5290\" rel=\"nofollow\">https://issues.apache.org/jira/browse/WICKET-5290</a></p>\n"}],"owner":{"account_id":14129,"reputation":16062,"user_id":28802,"accept_rate":90,"display_name":"Manuel Araoz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6576389,"answer_count":4,"score":2,"last_activity_date":1685492427,"creation_date":1309816452,"question_id":6576354,"body_markdown":"Is there a way to make an AJAX call alter the current page URL without redirecting or reloading the page, in Apache Wicket?  \r\n\r\nFor example, say we are in the URL:\r\n\r\n    localhost:8080/someUrl\r\n\r\nI&#39;d like that when I click an ajax link, some action is performed, and the URL changes to, say:\r\n\r\n    localhost:8080/otherUrl\r\n\r\nwithout redirecting, just changing the URL displayed in the browser.\r\nIs this even possible?\r\n","title":"Changing URL via AJAX using wicket","body":"<p>Is there a way to make an AJAX call alter the current page URL without redirecting or reloading the page, in Apache Wicket?</p>\n<p>For example, say we are in the URL:</p>\n<pre><code>localhost:8080/someUrl\n</code></pre>\n<p>I'd like that when I click an ajax link, some action is performed, and the URL changes to, say:</p>\n<pre><code>localhost:8080/otherUrl\n</code></pre>\n<p>without redirecting, just changing the URL displayed in the browser.\nIs this even possible?</p>\n"},{"tags":["java","arrays","console-application"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685492162,"creation_date":1685492162,"answer_id":76369369,"question_id":76367030,"body_markdown":"The error occurs with the _checkWin_ method parameters.\r\n\r\nThe _heightIndex_ and _widthIndex_ should be swapped.\r\n\r\n```java\r\nvoid checkWin(String[][] gb, String p, int widthIndex, int heightIndex)\r\n```\r\n\r\n```none\r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   2   \r\n_   _   _   _   _   _   2   \r\n1   1   1   1   _   _   2   \r\n1 3 0\r\nGame over. Player 1 wins!\r\n```","title":"Why is my Connect 4 recreation not counting consecutive pieces correctly?","body":"<p>The error occurs with the <em>checkWin</em> method parameters.</p>\n<p>The <em>heightIndex</em> and <em>widthIndex</em> should be swapped.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkWin(String[][] gb, String p, int widthIndex, int heightIndex)\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>_   _   _   _   _   _   _   \n_   _   _   _   _   _   _   \n_   _   _   _   _   _   _   \n_   _   _   _   _   _   _   \n_   _   _   _   _   _   2   \n_   _   _   _   _   _   2   \n1   1   1   1   _   _   2   \n1 3 0\nGame over. Player 1 wins!\n</code></pre>\n"}],"owner":{"account_id":28712260,"reputation":13,"user_id":21987543,"display_name":"Sam Stevens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76369369,"answer_count":1,"score":0,"last_activity_date":1685492162,"creation_date":1685465705,"question_id":76367030,"body_markdown":"I&#39;m coding in an IDE for my final Computer Science 1 assignment of the year. I can&#39;t figure out why when a player puts pieces next to each other, the horizontalLeft and horizontalRight variables aren&#39;t increasing? \r\n\r\n```\r\n//Sam Stevens\r\nimport java.util.*;\r\npublic class MyProgram\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        String[][] gameboard = new String[7][7];\r\n        //first value &quot;i&quot; is the height, second &quot;j&quot; is the width.\r\n        for(int i = 0; i&lt; gameboard.length; i++){\r\n        for(int j = 0; j&lt; gameboard[0].length; j++){\r\n        gameboard[i][j] = &quot;_&quot;;\r\n        }\r\n        }\r\n        //Initialize Gameboard\r\n        print(gameboard);\r\n        for(int i = 0; i &lt; 10; i++){\r\n        play(gameboard);\r\n        }\r\n        //this for loop makes the game last 10 turns\r\n    }\r\n        \r\n        public static void print(String[][] gb){\r\n            System.out.println(&quot;\\n&quot;);\r\n        for(int i = 0; i&lt; gb.length; i++){\r\n        for(int j = 0; j&lt; gb[0].length; j++){\r\n        System.out.printf(&quot;%-3s &quot;, gb[i][j]);\r\n        }\r\n        System.out.println();\r\n        }\r\n        }\r\n        //print out the gameboard\r\n    \r\n        public static void play(String[][] gb){\r\n            Scanner input = new Scanner(System.in);\r\n            boolean cont = true;\r\n            do{\r\n                System.out.println(&quot;Player 1, where would you like to go? (1,2,3,4,5,6,7)&quot;);\r\n                int p1choice = input.nextInt() - 1;\r\n                boolean moving = true;\r\n                int i = 6;\r\n                int j = p1choice;\r\n                int yIndex = 0;\r\n                do{\r\n                    if(i&gt;=0){\r\n                    if(gb[i][j] == &quot;_&quot;){\r\n                        gb[i][j] = &quot;1&quot;;\r\n                        moving = false;\r\n                        yIndex = i;\r\n                    }\r\n                    i--;\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\r\n                        moving = false;\r\n                    }\r\n                }while(moving);\r\n                print(gb);\r\n                checkWin(gb, &quot;1&quot;, p1choice, yIndex);\r\n                \r\n                System.out.println(&quot;Player 2, where would you like to go? (1,2,3,4,5,6,7)&quot;);\r\n                int p2choice = input.nextInt() - 1;\r\n                moving = true;\r\n                i = 6;\r\n                j = p2choice;\r\n                int yIndexP2 = 0;\r\n                do{\r\n                    if(i&gt;=0){\r\n                    if(gb[i][j] == &quot;_&quot;){\r\n                        gb[i][j] = &quot;2&quot;;\r\n                        moving = false;\r\n                        yIndexP2 = i;\r\n                    }\r\n                    i--;\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\r\n                        moving = false;\r\n                    }\r\n                }while(moving);\r\n                print(gb);\r\n                checkWin(gb, &quot;2&quot;, p2choice, yIndexP2);\r\n            }while(!cont);\r\n        }\r\n        \r\n        public static void checkWin(String[][] gb, String p, int heightIndex, int widthIndex){\r\n            //p tells us which player we are checking for and we can use it as which piece we&#39;re looking for.\r\n            int horizontalLeft = 0;\r\n            int horizontalRight = 0;\r\n            int verticalUp = 0;\r\n            int verticalDown = 0;\r\n            \r\n            //check pieces to the left\r\n            boolean leftContinue = true;\r\n            if(widthIndex != 0){\r\n                int leftCount = 1;\r\n                do{\r\n                    if(gb[heightIndex][widthIndex - leftCount] == p){\r\n                        horizontalLeft ++;\r\n                        leftCount ++;\r\n                    }\r\n                    else{\r\n                        leftContinue = false;\r\n                    }\r\n                }while(leftContinue &amp;&amp; (widthIndex - leftCount &gt;= 0));\r\n            }\r\n            \r\n            //check pieces to the right\r\n            boolean rightContinue = true;\r\n            if(widthIndex != 6){\r\n                int rightCount = 1;\r\n                do{\r\n                    if(gb[heightIndex][widthIndex + rightCount] == p){\r\n                        horizontalRight ++;\r\n                        rightCount ++;\r\n                    }\r\n                    else{\r\n                        rightContinue = false;\r\n                    }\r\n                }while(rightContinue &amp;&amp; (widthIndex + rightCount &lt;= 6));\r\n            }\r\n            \r\n            System.out.println(p + &quot; &quot;+ horizontalLeft + &quot; &quot;+ horizontalRight);\r\n            //BELOW HERE SHOULD BE ONLY CHECK WIN\r\n            if(horizontalLeft + horizontalRight &gt;= 3){\r\n                System.out.println(&quot;Game over. Player &quot; + p + &quot; wins!&quot;);\r\n            }\r\n        }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried moving the &quot;leftCount/rightCount ++;&quot; lines, but when I do that, the game mysteriously hangs when a player puts two of their own pieces one on top of another strictly on the far right side. I&#39;m stumped. Apologies if I didn&#39;t format this question correctly, this is my first post.","title":"Why is my Connect 4 recreation not counting consecutive pieces correctly?","body":"<p>I'm coding in an IDE for my final Computer Science 1 assignment of the year. I can't figure out why when a player puts pieces next to each other, the horizontalLeft and horizontalRight variables aren't increasing?</p>\n<pre><code>//Sam Stevens\nimport java.util.*;\npublic class MyProgram\n{\n    public static void main(String[] args)\n    {\n        String[][] gameboard = new String[7][7];\n        //first value &quot;i&quot; is the height, second &quot;j&quot; is the width.\n        for(int i = 0; i&lt; gameboard.length; i++){\n        for(int j = 0; j&lt; gameboard[0].length; j++){\n        gameboard[i][j] = &quot;_&quot;;\n        }\n        }\n        //Initialize Gameboard\n        print(gameboard);\n        for(int i = 0; i &lt; 10; i++){\n        play(gameboard);\n        }\n        //this for loop makes the game last 10 turns\n    }\n        \n        public static void print(String[][] gb){\n            System.out.println(&quot;\\n&quot;);\n        for(int i = 0; i&lt; gb.length; i++){\n        for(int j = 0; j&lt; gb[0].length; j++){\n        System.out.printf(&quot;%-3s &quot;, gb[i][j]);\n        }\n        System.out.println();\n        }\n        }\n        //print out the gameboard\n    \n        public static void play(String[][] gb){\n            Scanner input = new Scanner(System.in);\n            boolean cont = true;\n            do{\n                System.out.println(&quot;Player 1, where would you like to go? (1,2,3,4,5,6,7)&quot;);\n                int p1choice = input.nextInt() - 1;\n                boolean moving = true;\n                int i = 6;\n                int j = p1choice;\n                int yIndex = 0;\n                do{\n                    if(i&gt;=0){\n                    if(gb[i][j] == &quot;_&quot;){\n                        gb[i][j] = &quot;1&quot;;\n                        moving = false;\n                        yIndex = i;\n                    }\n                    i--;\n                    }\n                    else{\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\n                        moving = false;\n                    }\n                }while(moving);\n                print(gb);\n                checkWin(gb, &quot;1&quot;, p1choice, yIndex);\n                \n                System.out.println(&quot;Player 2, where would you like to go? (1,2,3,4,5,6,7)&quot;);\n                int p2choice = input.nextInt() - 1;\n                moving = true;\n                i = 6;\n                j = p2choice;\n                int yIndexP2 = 0;\n                do{\n                    if(i&gt;=0){\n                    if(gb[i][j] == &quot;_&quot;){\n                        gb[i][j] = &quot;2&quot;;\n                        moving = false;\n                        yIndexP2 = i;\n                    }\n                    i--;\n                    }\n                    else{\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\n                        moving = false;\n                    }\n                }while(moving);\n                print(gb);\n                checkWin(gb, &quot;2&quot;, p2choice, yIndexP2);\n            }while(!cont);\n        }\n        \n        public static void checkWin(String[][] gb, String p, int heightIndex, int widthIndex){\n            //p tells us which player we are checking for and we can use it as which piece we're looking for.\n            int horizontalLeft = 0;\n            int horizontalRight = 0;\n            int verticalUp = 0;\n            int verticalDown = 0;\n            \n            //check pieces to the left\n            boolean leftContinue = true;\n            if(widthIndex != 0){\n                int leftCount = 1;\n                do{\n                    if(gb[heightIndex][widthIndex - leftCount] == p){\n                        horizontalLeft ++;\n                        leftCount ++;\n                    }\n                    else{\n                        leftContinue = false;\n                    }\n                }while(leftContinue &amp;&amp; (widthIndex - leftCount &gt;= 0));\n            }\n            \n            //check pieces to the right\n            boolean rightContinue = true;\n            if(widthIndex != 6){\n                int rightCount = 1;\n                do{\n                    if(gb[heightIndex][widthIndex + rightCount] == p){\n                        horizontalRight ++;\n                        rightCount ++;\n                    }\n                    else{\n                        rightContinue = false;\n                    }\n                }while(rightContinue &amp;&amp; (widthIndex + rightCount &lt;= 6));\n            }\n            \n            System.out.println(p + &quot; &quot;+ horizontalLeft + &quot; &quot;+ horizontalRight);\n            //BELOW HERE SHOULD BE ONLY CHECK WIN\n            if(horizontalLeft + horizontalRight &gt;= 3){\n                System.out.println(&quot;Game over. Player &quot; + p + &quot; wins!&quot;);\n            }\n        }\n}\n</code></pre>\n<p>I've tried moving the &quot;leftCount/rightCount ++;&quot; lines, but when I do that, the game mysteriously hangs when a player puts two of their own pieces one on top of another strictly on the far right side. I'm stumped. Apologies if I didn't format this question correctly, this is my first post.</p>\n"},{"tags":["java","postgresql","prepared-statement"],"comments":[{"owner":{"account_id":171331,"reputation":310904,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":1,"creation_date":1401524056,"post_id":23967770,"comment_id":36926917,"body_markdown":"It is helpful that you included the code, but it would be really good if you showed *the exact text of the error message* (including stack trace). Your code also looks strangely indented. Finally, you really shouldn&#39;t be doing SQL in a loop like this - just do a single `SELECT` that finds all 1000 results with an appropriate `WHERE` clause (join on a `VALUES` list or temp table, ...)","body":"It is helpful that you included the code, but it would be really good if you showed <i>the exact text of the error message</i> (including stack trace). Your code also looks strangely indented. Finally, you really shouldn&#39;t be doing SQL in a loop like this - just do a single <code>SELECT</code> that finds all 1000 results with an appropriate <code>WHERE</code> clause (join on a <code>VALUES</code> list or temp table, ...)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685491819,"post_id":23967770,"comment_id":134666800,"body_markdown":"You&#39;re not checking the return from `idResultSet.next()`: If the query returns no rows your code will explode.","body":"You&#39;re not checking the return from <code>idResultSet.next()</code>: If the query returns no rows your code will explode."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401525105,"creation_date":1401524761,"answer_id":23967986,"question_id":23967770,"body_markdown":"The code should have looked like this (in Java 7 or higher):\r\n\r\n    String docno = &quot;[101,102,103,104]&quot;;\r\n    String[] minoutid = new String[1000];\r\n    String documentno = docno.substring(1, docno.length() - 1);\r\n    String[] split = documentno.split(&quot;,&quot;);\r\n\r\n    String sql = &quot;select id from mytable where fid=?&quot;;\r\n    try (PreparedStatement outid = conn.prepareStatement(sql)) {\r\n        for (int i = 0; i &lt; split.length; i++) {\r\n            int fid = Integer.parseInt(split[i]);\r\n            outid.setInt(1, fid);\r\n            try (ResultSet idResultSet = outid.executeQuery()) {\r\n                if (idResultSet.next()) {\r\n                    String id = idResultSet.getString(&quot;id&quot;);\r\n                    final List&lt;Object&gt; parameters = new ArrayList&lt;&gt;();\r\n                    parameters.add(null);\r\n                    parameters.add(id);\r\n\r\n                    myfunction(parameters);\r\n                }\r\n            }      \r\n        }\r\n    }\r\n\r\nThis closes prepared statement and result set. Also I have used `setInt` instead of `setString` (maybe erroneously). But that could have given the error, as otherwise everything worked ia a way. Give the error if this does not help.\r\n","title":"ResultSet not positioned properly, perhaps you need to call next in java","body":"<p>The code should have looked like this (in Java 7 or higher):</p>\n\n<pre><code>String docno = \"[101,102,103,104]\";\nString[] minoutid = new String[1000];\nString documentno = docno.substring(1, docno.length() - 1);\nString[] split = documentno.split(\",\");\n\nString sql = \"select id from mytable where fid=?\";\ntry (PreparedStatement outid = conn.prepareStatement(sql)) {\n    for (int i = 0; i &lt; split.length; i++) {\n        int fid = Integer.parseInt(split[i]);\n        outid.setInt(1, fid);\n        try (ResultSet idResultSet = outid.executeQuery()) {\n            if (idResultSet.next()) {\n                String id = idResultSet.getString(\"id\");\n                final List&lt;Object&gt; parameters = new ArrayList&lt;&gt;();\n                parameters.add(null);\n                parameters.add(id);\n\n                myfunction(parameters);\n            }\n        }      \n    }\n}\n</code></pre>\n\n<p>This closes prepared statement and result set. Also I have used <code>setInt</code> instead of <code>setString</code> (maybe erroneously). But that could have given the error, as otherwise everything worked ia a way. Give the error if this does not help.</p>\n"},{"tags":[],"owner":{"account_id":4440016,"reputation":9,"user_id":3614760,"accept_rate":33,"display_name":"user3614760"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401625038,"creation_date":1401625038,"answer_id":23979776,"question_id":23967770,"body_markdown":"From second string a space was added in each string. I am using POSTGREYSQL so each space will take it as string. So i elimiate the space of string by trim().Now working fine. Thank you all","title":"ResultSet not positioned properly, perhaps you need to call next in java","body":"<p>From second string a space was added in each string. I am using POSTGREYSQL so each space will take it as string. So i elimiate the space of string by trim().Now working fine. Thank you all</p>\n"}],"owner":{"account_id":4440016,"reputation":9,"user_id":3614760,"accept_rate":33,"display_name":"user3614760"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1482,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1685491164,"creation_date":1401522670,"question_id":23967770,"body_markdown":"I am getting `ResultSet` not positioned properly, perhaps you need to call next in java error when i try execute following code. Please anyone help me\r\n\r\n    PreparedStatement m_inoutid = null;\r\n     docno=&quot;[101,102,103,104]&quot;;\r\n     String minoutid[]=new String[1000];\r\n     String documentno = docno.substring(1, docno.length() - 1);\r\n     List&lt;String&gt; docnumbers = new ArrayList&lt;String&gt;();\r\n     String[] split = documentno.split(&quot;,&quot;);\r\n     StringBuilder sb = new StringBuilder();\r\n     for (int i = 0; i &lt; split.length; i++) {\r\n    \r\n      String sql = &quot;select id from mytable where fid=?&quot;;\r\n    \r\n       outid = conn.prepareStatement(sql);\r\n       String  idfromquery=split[i];\r\n        outid.setString(1, idfromquery);\r\n        ResultSet idResultSet = outid.executeQuery();\r\n        idResultSet.next();\r\n    \r\n        id = idResultSet.getString(&quot;id&quot;);\r\n    \r\n       final List&lt;Object&gt; parameters = new ArrayList&lt;Object&gt;();\r\n       parameters.add(null);\r\n       parameters.add(id);\r\n    \r\n       myfunction(parameters);\r\n        }","title":"ResultSet not positioned properly, perhaps you need to call next in java","body":"<p>I am getting <code>ResultSet</code> not positioned properly, perhaps you need to call next in java error when i try execute following code. Please anyone help me</p>\n\n<pre><code>PreparedStatement m_inoutid = null;\n docno=\"[101,102,103,104]\";\n String minoutid[]=new String[1000];\n String documentno = docno.substring(1, docno.length() - 1);\n List&lt;String&gt; docnumbers = new ArrayList&lt;String&gt;();\n String[] split = documentno.split(\",\");\n StringBuilder sb = new StringBuilder();\n for (int i = 0; i &lt; split.length; i++) {\n\n  String sql = \"select id from mytable where fid=?\";\n\n   outid = conn.prepareStatement(sql);\n   String  idfromquery=split[i];\n    outid.setString(1, idfromquery);\n    ResultSet idResultSet = outid.executeQuery();\n    idResultSet.next();\n\n    id = idResultSet.getString(\"id\");\n\n   final List&lt;Object&gt; parameters = new ArrayList&lt;Object&gt;();\n   parameters.add(null);\n   parameters.add(id);\n\n   myfunction(parameters);\n    }\n</code></pre>\n"},{"tags":["java","compiler-construction","jvm","jit","vm-implementation"],"comments":[{"owner":{"account_id":156914,"reputation":9897,"user_id":374499,"accept_rate":80,"display_name":"Chander Shivdasani"},"score":0,"creation_date":1328156582,"post_id":9105505,"comment_id":11948999,"body_markdown":"This blog is another good resource... http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good","body":"This blog is another good resource... <a href=\"http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good\" rel=\"nofollow noreferrer\">azulsystems.com/blog/cliff/&hellip;</a>"},{"owner":{"account_id":4953530,"reputation":3840,"user_id":4114447,"accept_rate":86,"display_name":"Dan M."},"score":0,"creation_date":1653548623,"post_id":9105505,"comment_id":127880042,"body_markdown":"working link: https://web.archive.org/web/20140126120326/http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good","body":"working link: <a href=\"https://web.archive.org/web/20140126120326/http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good\" rel=\"nofollow noreferrer\">web.archive.org/web/20140126120326/http://www.azulsystems.co&zwnj;&#8203;m/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1572268890,"creation_date":1328143282,"answer_id":9105589,"question_id":9105505,"body_markdown":"Yes, that&#39;s pretty much it. [Just-in-time compilation](http://en.wikipedia.org/wiki/Just-in-time_compilation) can improve performance by compiling &quot;hot spots&quot; (spots of bytecode that are known / supposed to execute very often) of bytecode to native instructions. [On-Stack Replacement](http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html) complements JIT capabilities by replacing long running interpreted &quot;hot&quot; bytecode by it&#39;s compiled version when it becomes available. The mentioned [On-Stack Replacement article](https://web.archive.org/web/20120221015612/http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html) shows a nice example where JIT compilation would not be very useful without OSR. ","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>Yes, that's pretty much it. <a href=\"http://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"noreferrer\">Just-in-time compilation</a> can improve performance by compiling \"hot spots\" (spots of bytecode that are known / supposed to execute very often) of bytecode to native instructions. <a href=\"http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html\" rel=\"noreferrer\">On-Stack Replacement</a> complements JIT capabilities by replacing long running interpreted \"hot\" bytecode by it's compiled version when it becomes available. The mentioned <a href=\"https://web.archive.org/web/20120221015612/http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html\" rel=\"noreferrer\">On-Stack Replacement article</a> shows a nice example where JIT compilation would not be very useful without OSR. </p>\n"},{"tags":[],"owner":{"account_id":1416,"reputation":29092,"user_id":1891,"accept_rate":80,"display_name":"Jay Conrod"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1359487383,"creation_date":1328145620,"answer_id":9105846,"question_id":9105505,"body_markdown":"In general, *Just-in-time* compilation refers to compiling native code at runtime and executing it instead of (or in addition to) interpreting. Some VMs, such as Google V8, don&#39;t even have an interpreter; they JIT compile every function that gets executed (with varying degrees of optimization).\r\n\r\nOn Stack Replacement (OSR) is a technique for switching between different implementations of the same function. For example, you could use OSR to switch from interpreted or unoptimized code to JITed code as soon as it finishes compiling.\r\n\r\nOSR is useful in situations where you identify a function as &quot;hot&quot; while it is running. This might not necessarily be because the function gets called frequently; it might be called only once, but it spends a lot of time in a big loop which could benefit from optimization. When OSR occurs, the VM is paused, and the stack frame for the target function is replaced by an equivalent frame which may have variables in different locations. \r\n\r\nOSR can also occur in the other direction: from optimized code to unoptimized code or interpreted code. Optimized code may make some assumptions about the runtime behavior of the program based on past behavior. For instance, you could convert a virtual or dynamic method call into a static call if you&#39;ve only ever seen one type of receiver object. If it turns out later that these assumptions were wrong, OSR can be used to fall back to a more conservative implementation: the optimized stack frame gets converted into an unoptimized stack frame. If the VM supports inlining, you might even end up converting an optimized stack frame into *several* unoptimized stack frames.","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>In general, <em>Just-in-time</em> compilation refers to compiling native code at runtime and executing it instead of (or in addition to) interpreting. Some VMs, such as Google V8, don't even have an interpreter; they JIT compile every function that gets executed (with varying degrees of optimization).</p>\n\n<p>On Stack Replacement (OSR) is a technique for switching between different implementations of the same function. For example, you could use OSR to switch from interpreted or unoptimized code to JITed code as soon as it finishes compiling.</p>\n\n<p>OSR is useful in situations where you identify a function as \"hot\" while it is running. This might not necessarily be because the function gets called frequently; it might be called only once, but it spends a lot of time in a big loop which could benefit from optimization. When OSR occurs, the VM is paused, and the stack frame for the target function is replaced by an equivalent frame which may have variables in different locations. </p>\n\n<p>OSR can also occur in the other direction: from optimized code to unoptimized code or interpreted code. Optimized code may make some assumptions about the runtime behavior of the program based on past behavior. For instance, you could convert a virtual or dynamic method call into a static call if you've only ever seen one type of receiver object. If it turns out later that these assumptions were wrong, OSR can be used to fall back to a more conservative implementation: the optimized stack frame gets converted into an unoptimized stack frame. If the VM supports inlining, you might even end up converting an optimized stack frame into <em>several</em> unoptimized stack frames.</p>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685490973,"creation_date":1685490391,"answer_id":76369271,"question_id":9105505,"body_markdown":"JIT is just.. looks for number of method invocations, and if it crosses a threshold, (-XX:CompileThreshold=&lt;number&gt;) it compiles (to machine code/ native) and caches the method. On next invocation, the compiled version will invoke.&lt;br&gt;\r\nOSR is interesting. Supposing a gigantic for loop is running in interpret mode. JVM decides to compile at some point of time when it has crossed the compile threshold. So while the loop is still running, its interpreted version can get replaced with a compiled to native version while the code is still running!&lt;br&gt;\r\nSo essentially it is exactly what it says. Replacing interpreted code, which is still running on stack, while it is running, with compiled code.&lt;br&gt;\r\nThis can also result in an interesting but benign issue called &#39;who ate my variable&#39;. See [who ate my variable][1]\r\n\r\n\r\n  [1]: https://jonisalonen.com/2012/can-your-interpreter-do-this/","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>JIT is just.. looks for number of method invocations, and if it crosses a threshold, (-XX:CompileThreshold=) it compiles (to machine code/ native) and caches the method. On next invocation, the compiled version will invoke.<br>\nOSR is interesting. Supposing a gigantic for loop is running in interpret mode. JVM decides to compile at some point of time when it has crossed the compile threshold. So while the loop is still running, its interpreted version can get replaced with a compiled to native version while the code is still running!<br>\nSo essentially it is exactly what it says. Replacing interpreted code, which is still running on stack, while it is running, with compiled code.<br>\nThis can also result in an interesting but benign issue called 'who ate my variable'. See <a href=\"https://jonisalonen.com/2012/can-your-interpreter-do-this/\" rel=\"nofollow noreferrer\">who ate my variable</a></p>\n"}],"owner":{"account_id":156914,"reputation":9897,"user_id":374499,"accept_rate":80,"display_name":"Chander Shivdasani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11735,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":9105846,"answer_count":3,"score":56,"last_activity_date":1685490973,"creation_date":1328142579,"question_id":9105505,"body_markdown":"Both of them pretty much do the same thing. Identify that the method is hot and compile it instead of interpreting. With OSR, you just move to the compiled version right after it gets compiled, unlike with JIT, where the compiled code gets called when the method is called for the second time. \r\n\r\nOther than this, are there any other differences?","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>Both of them pretty much do the same thing. Identify that the method is hot and compile it instead of interpreting. With OSR, you just move to the compiled version right after it gets compiled, unlike with JIT, where the compiled code gets called when the method is called for the second time. </p>\n\n<p>Other than this, are there any other differences?</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456786392,"creation_date":1456786392,"answer_id":35711366,"question_id":35711173,"body_markdown":"The reason of the exception in this line\r\n\r\n    if (BF.nextLine().equals(boysNames.get(i))) \r\n\r\nyou read a line and if equation isn&#39;t `true` in else branch you call `BF.nextLine()` again. So sometimes you read line twice but you call `hasNextLine()` only once .\r\n\r\n**Solution:** read line only one time before `if` statement.","title":"Why won&#39;t my method read in every value from a file?","body":"<p>The reason of the exception in this line</p>\n\n<pre><code>if (BF.nextLine().equals(boysNames.get(i))) \n</code></pre>\n\n<p>you read a line and if equation isn't <code>true</code> in else branch you call <code>BF.nextLine()</code> again. So sometimes you read line twice but you call <code>hasNextLine()</code> only once .</p>\n\n<p><strong>Solution:</strong> read line only one time before <code>if</code> statement.</p>\n"}],"owner":{"account_id":7304132,"reputation":1,"user_id":5565663,"display_name":"M.Pestonit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685490654,"creation_date":1456785557,"question_id":35711173,"body_markdown":"    public static int getBoys(ArrayList&lt;String&gt; boysNames, Scanner s) throws IOException {\r\n        // Getting boys file location\r\n        System.out.println(&quot;Please enter the file name containing the the boys names.&quot;);\r\n        String boyFileLocation = s.nextLine();\r\n\r\n        // Opening the file containing the names of boys\r\n        File boyFile = new File(boyFileLocation);\r\n        Scanner BF = new Scanner(boyFile);\r\n        int initialBoyCount = 0;\r\n        int i = 0;\r\n        boysNames.add(BF.nextLine());\r\n\r\n        while (BF.hasNextLine()) {\r\n            if (BF.nextLine().equals(boysNames.get(i))) {\r\n\r\n            } else {\r\n                boysNames.add(BF.nextLine());\r\n                initialBoyCount++;\r\n                i++;\r\n                System.out.println(boysNames.get(i));\r\n            }\r\n        }\r\n\r\n        return (initialBoyCount);\r\n    }\r\n\r\n\r\nI am trying to read in from a file a list of names and add them to an array list. However there are duplicates of certain names and i am only suppoused to keep the unique ones (If if already exists don&#39;t add it again). However, I figured out that it is only giving me every other name. Starting with 2, and giving me the following errors.\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n    \tat java.util.Scanner.nextLine(Scanner.java:1540)\r\n    \tat namesList.namesList.getBoys(namesList.java:53)\r\n    \tat namesList.namesList.main(namesList.java:27)","title":"Why won&#39;t my method read in every value from a file?","body":"<pre><code>public static int getBoys(ArrayList&lt;String&gt; boysNames, Scanner s) throws IOException {\n    // Getting boys file location\n    System.out.println(\"Please enter the file name containing the the boys names.\");\n    String boyFileLocation = s.nextLine();\n\n    // Opening the file containing the names of boys\n    File boyFile = new File(boyFileLocation);\n    Scanner BF = new Scanner(boyFile);\n    int initialBoyCount = 0;\n    int i = 0;\n    boysNames.add(BF.nextLine());\n\n    while (BF.hasNextLine()) {\n        if (BF.nextLine().equals(boysNames.get(i))) {\n\n        } else {\n            boysNames.add(BF.nextLine());\n            initialBoyCount++;\n            i++;\n            System.out.println(boysNames.get(i));\n        }\n    }\n\n    return (initialBoyCount);\n}\n</code></pre>\n\n<p>I am trying to read in from a file a list of names and add them to an array list. However there are duplicates of certain names and i am only suppoused to keep the unique ones (If if already exists don't add it again). However, I figured out that it is only giving me every other name. Starting with 2, and giving me the following errors.</p>\n\n<pre><code>Exception in thread \"main\" java.util.NoSuchElementException: No line found\n    at java.util.Scanner.nextLine(Scanner.java:1540)\n    at namesList.namesList.getBoys(namesList.java:53)\n    at namesList.namesList.main(namesList.java:27)\n</code></pre>\n"},{"tags":["java","windows-8","compilation","javac"],"comments":[{"owner":{"account_id":894139,"reputation":1214,"user_id":931794,"accept_rate":100,"display_name":"Max DeLiso"},"score":0,"creation_date":1363971125,"post_id":15575801,"comment_id":22079756,"body_markdown":"can you start a shell, type `echo %PATH%` and post results?","body":"can you start a shell, type <code>echo %PATH%</code> and post results?"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":5,"creation_date":1363971185,"post_id":15575801,"comment_id":22079787,"body_markdown":"What is the error that you see?  Saying &quot;I can not get [it] to work&quot; doesn&#39;t tell us anything about the problem.","body":"What is the error that you see?  Saying &quot;I can not get [it] to work&quot; doesn&#39;t tell us anything about the problem."},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":0,"creation_date":1363971609,"post_id":15575801,"comment_id":22080026,"body_markdown":"The double semicolons might be a problem.","body":"The double semicolons might be a problem."},{"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"score":0,"creation_date":1363971745,"post_id":15575801,"comment_id":22080103,"body_markdown":"Do you have an extra space in you path? I can see: Pr ogram Files there...","body":"Do you have an extra space in you path? I can see: Pr ogram Files there..."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1363971767,"post_id":15575801,"comment_id":22080115,"body_markdown":"https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows","body":"<a href=\"https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows\" rel=\"nofollow noreferrer\">confluence.atlassian.com/display/DOC/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363971379,"creation_date":1363971379,"answer_id":15575902,"question_id":15575801,"body_markdown":"Start off by opening a cmd.exe session, changing directory to the &quot;program files&quot; directory that has the javac.exe executable and running .\\javac.exe.\r\n\r\nIf that doesn&#39;t work, reinstall java.  If that works, odds are you will find (in doing that task) that you&#39;ve installed a 64 bit `javac.exe`, or a slightly different release number of `javac.exe`, or in a different drive, etc. and selecting the right entry in your path will become child&#39;s play.\r\n\r\nOnly use the semicolon _between_ directories in the PATH environment variable, and remember that in _some_ systems, you need to log out and log back in before the new environment variable is accessible to _all_ environments.","title":"Javac is not found","body":"<p>Start off by opening a cmd.exe session, changing directory to the \"program files\" directory that has the javac.exe executable and running .\\javac.exe.</p>\n\n<p>If that doesn't work, reinstall java.  If that works, odds are you will find (in doing that task) that you've installed a 64 bit <code>javac.exe</code>, or a slightly different release number of <code>javac.exe</code>, or in a different drive, etc. and selecting the right entry in your path will become child's play.</p>\n\n<p>Only use the semicolon <em>between</em> directories in the PATH environment variable, and remember that in <em>some</em> systems, you need to log out and log back in before the new environment variable is accessible to <em>all</em> environments.</p>\n"},{"tags":[],"owner":{"account_id":2361026,"reputation":7058,"user_id":2067704,"display_name":"Sean Landsman"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1363971794,"creation_date":1363971794,"answer_id":15576035,"question_id":15575801,"body_markdown":"As far as I can see you have the `JRE` in your `PATH`, but not the `JDK`.\r\n\r\nFrom a command prompt try this:\r\n\r\n    set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin\r\n\r\nThen try `javac` again - if this works you&#39;ll need to permanently modify your environment variables to have `PATH` include the `JDK` too.","title":"Javac is not found","body":"<p>As far as I can see you have the <code>JRE</code> in your <code>PATH</code>, but not the <code>JDK</code>.</p>\n\n<p>From a command prompt try this:</p>\n\n<pre><code>set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin\n</code></pre>\n\n<p>Then try <code>javac</code> again - if this works you'll need to permanently modify your environment variables to have <code>PATH</code> include the <code>JDK</code> too.</p>\n"},{"tags":[],"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363971878,"creation_date":1363971878,"answer_id":15576063,"question_id":15575801,"body_markdown":"You don&#39;t have jdk1.7.0_17 in your PATH - check again.\r\nThere is only JRE which may not contain &#39;javac&#39; compiler.\r\n\r\nBesides it is best to set JAVA_HOME variable, and then include it in PATH.","title":"Javac is not found","body":"<p>You don't have jdk1.7.0_17 in your PATH - check again.\nThere is only JRE which may not contain 'javac' compiler.</p>\n\n<p>Besides it is best to set JAVA_HOME variable, and then include it in PATH.</p>\n"},{"tags":[],"owner":{"account_id":2496612,"reputation":15,"user_id":2172826,"display_name":"eta99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365437472,"creation_date":1365436894,"answer_id":15883821,"question_id":15575801,"body_markdown":"I&#39;m searched many answers that suggest me to type in cmd: \r\n        \r\n    set path = &quot;%path%;c:program files\\java\\jdk1.7.0\\bin&quot;\r\n\r\nbut this is WRONG!\r\n\r\n**the right solution** is that you leave &quot;set&quot; and just type\r\n\r\n    path = %path%;c:program files\\java\\jdk1.7.0\\bin\r\n\r\n\r\n*P/s: of course you have to replace &quot;jdk1.7.0&quot; folder by your current java version folder. This works well on win 7 32bit, but I think it also works on win 8 - try it!*","title":"Javac is not found","body":"<p>I'm searched many answers that suggest me to type in cmd: </p>\n\n<pre><code>set path = \"%path%;c:program files\\java\\jdk1.7.0\\bin\"\n</code></pre>\n\n<p>but this is WRONG!</p>\n\n<p><strong>the right solution</strong> is that you leave \"set\" and just type</p>\n\n<pre><code>path = %path%;c:program files\\java\\jdk1.7.0\\bin\n</code></pre>\n\n<p><em>P/s: of course you have to replace \"jdk1.7.0\" folder by your current java version folder. This works well on win 7 32bit, but I think it also works on win 8 - try it!</em></p>\n"},{"tags":[],"owner":{"account_id":5853314,"reputation":291,"user_id":4611364,"display_name":"user4611364"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1637531163,"creation_date":1424970884,"answer_id":28748647,"question_id":15575801,"body_markdown":" 1. Go to my computer;\r\n 2. Right click properties;\r\n 3. Go to advanced system settings;\r\n 4. Go to environment variables;\r\n 5. In user variables for user click on new(top new button, not on system variables);\r\n 6. Set variable name as: `Path`\r\n 7. Set the value of that variable to: `C:\\Program Files\\Java\\jdk1.7.0_76\\bin` \r\n 8. Click ok;\r\n 9. Click ok;\r\n 10. Click ok. \r\n\r\nNow you&#39;re set. Type `javac` in cmd. All javac options will be displayed.\r\n\r\n**EDIT:** As @MediaMaker pointed out, after completing the above steps, you need to open a new command prompt for it to work.","title":"Javac is not found","body":"<ol>\n<li>Go to my computer;</li>\n<li>Right click properties;</li>\n<li>Go to advanced system settings;</li>\n<li>Go to environment variables;</li>\n<li>In user variables for user click on new(top new button, not on system variables);</li>\n<li>Set variable name as: <code>Path</code></li>\n<li>Set the value of that variable to: <code>C:\\Program Files\\Java\\jdk1.7.0_76\\bin</code></li>\n<li>Click ok;</li>\n<li>Click ok;</li>\n<li>Click ok.</li>\n</ol>\n<p>Now you're set. Type <code>javac</code> in cmd. All javac options will be displayed.</p>\n<p><strong>EDIT:</strong> As @MediaMaker pointed out, after completing the above steps, you need to open a new command prompt for it to work.</p>\n"},{"tags":[],"owner":{"account_id":7185742,"reputation":1448,"user_id":5487769,"accept_rate":67,"display_name":"adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445903135,"creation_date":1445903135,"answer_id":33357547,"question_id":15575801,"body_markdown":"do this:\r\n1. run CMD (WIN+R then type in CMD)\r\n2. Type this:\r\n\r\nset PATH=%PATH%; java installation path\\bin\r\n\r\nReplace &quot;java installation path&quot; with the directory JDK is installed in, such as C:\\Program Files (x86)\\Java. Be sure to add the \\bin after the JDK directory, because this points to &quot;javac&quot; and &quot;java&quot; (BIN stands for &quot;binaries&quot;)\r\n\r\nThis way, you can run the Java compiler from anywhere. It is impossible to CD to the JDK directory because it has a space in Program Files, and DOS will not let you CD to these directories. ","title":"Javac is not found","body":"<p>do this:\n1. run CMD (WIN+R then type in CMD)\n2. Type this:</p>\n\n<p>set PATH=%PATH%; java installation path\\bin</p>\n\n<p>Replace \"java installation path\" with the directory JDK is installed in, such as C:\\Program Files (x86)\\Java. Be sure to add the \\bin after the JDK directory, because this points to \"javac\" and \"java\" (BIN stands for \"binaries\")</p>\n\n<p>This way, you can run the Java compiler from anywhere. It is impossible to CD to the JDK directory because it has a space in Program Files, and DOS will not let you CD to these directories. </p>\n"},{"tags":[],"owner":{"account_id":7089875,"reputation":21,"user_id":5425442,"display_name":"user5425442"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454125871,"creation_date":1454123095,"answer_id":35097499,"question_id":15575801,"body_markdown":"Easiest way: search for javac.exe in windows search bar. Then copy and paste the entire folder name and add it into the environmental variables path in advanced system settings.","title":"Javac is not found","body":"<p>Easiest way: search for javac.exe in windows search bar. Then copy and paste the entire folder name and add it into the environmental variables path in advanced system settings.</p>\n"},{"tags":[],"owner":{"account_id":15872866,"reputation":9,"user_id":11452996,"display_name":"Rocketlife2810"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685489735,"creation_date":1685489735,"answer_id":76369241,"question_id":15575801,"body_markdown":"\r\n\r\n**Just type** enviormental vairables in start menu, and you will see\r\n\r\nEdit the system enviormental...,\r\n\r\n**click enviromental variables**\r\n\r\n**click** in user vairables list:\r\n\r\nPath **(ONCE)**\r\n\r\nClick **New**\r\n\r\n**Copy &amp; Paste** You&#39;re Bin directory for the jdk.\r\n\r\ne.g. \r\nC:\\Program Files\\Java\\jdk-1.8\\bin\r\n\r\n**Hit Enter**\r\n\r\n**Open New CMD**\r\n\r\n**Type** &#39;javac&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Javac is not found","body":"<p><strong>Just type</strong> enviormental vairables in start menu, and you will see</p>\n<p>Edit the system enviormental...,</p>\n<p><strong>click enviromental variables</strong></p>\n<p><strong>click</strong> in user vairables list:</p>\n<p>Path <strong>(ONCE)</strong></p>\n<p>Click <strong>New</strong></p>\n<p><strong>Copy &amp; Paste</strong> You're Bin directory for the jdk.</p>\n<p>e.g.\nC:\\Program Files\\Java\\jdk-1.8\\bin</p>\n<p><strong>Hit Enter</strong></p>\n<p><strong>Open New CMD</strong></p>\n<p><strong>Type</strong> 'javac'</p>\n"}],"owner":{"account_id":1937554,"reputation":587,"user_id":1744625,"accept_rate":75,"display_name":"Arktri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187189,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":15576035,"answer_count":8,"score":32,"last_activity_date":1685489735,"creation_date":1363971074,"question_id":15575801,"body_markdown":"I&#39;m running Windows 8 and I can not get javac to work. \r\n\r\nI have set my PATH in environmental variables to \r\n\r\n`C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin` \r\n\r\nI have tried both with and without &#39;;&#39; but to no avail. \r\n\r\nI recently had this issue on my desktop and adding ; worked but it&#39;s not in this case. \r\n\r\nI have made sure that javac does exist in the bin too. \r\n\r\nAny suggestions on fixes would be greatly appreciated. \r\n\r\nEDITS\r\necho %PATH% gives: \r\n\r\n    C:\\Users\\Arktri\\Desktop&gt;echo %PATH%\r\n\r\n    C:\\Program Files (x86)\\Intel\\iCLS Client\\;\r\n    C:\\Program Files\\Intel\\iCLS Client\\;\r\n    C:\\Windows\\system32;C:\\Windows;\r\n    C:\\Windows\\System32\\Wbem;\r\n    C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;\r\n    C:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x86;\r\n    C:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x64;\r\n    C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\r\n    C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;\r\n    C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\r\n    C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;;\r\n    C:\\Program Files (x86)\\Java\\jre7\\bin\r\n    \r\n\r\nAnd the exact error is: &#39;javac&#39; is not recognized as an internal or external command, operable program or batch file.","title":"Javac is not found","body":"<p>I'm running Windows 8 and I can not get javac to work. </p>\n\n<p>I have set my PATH in environmental variables to </p>\n\n<p><code>C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin</code> </p>\n\n<p>I have tried both with and without ';' but to no avail. </p>\n\n<p>I recently had this issue on my desktop and adding ; worked but it's not in this case. </p>\n\n<p>I have made sure that javac does exist in the bin too. </p>\n\n<p>Any suggestions on fixes would be greatly appreciated. </p>\n\n<p>EDITS\necho %PATH% gives: </p>\n\n<pre><code>C:\\Users\\Arktri\\Desktop&gt;echo %PATH%\n\nC:\\Program Files (x86)\\Intel\\iCLS Client\\;\nC:\\Program Files\\Intel\\iCLS Client\\;\nC:\\Windows\\system32;C:\\Windows;\nC:\\Windows\\System32\\Wbem;\nC:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;\nC:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x86;\nC:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x64;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;;\nC:\\Program Files (x86)\\Java\\jre7\\bin\n</code></pre>\n\n<p>And the exact error is: 'javac' is not recognized as an internal or external command, operable program or batch file.</p>\n"},{"tags":["java","applet"],"answers":[{"tags":[],"owner":{"account_id":5869307,"reputation":466,"user_id":4622086,"accept_rate":82,"display_name":"kjsmita6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685489451,"creation_date":1685144184,"answer_id":76344726,"question_id":76344651,"body_markdown":"The error message is pretty clear,\r\n\r\n&gt; **org.apache.batik.swing.JSVGCanvas** cannot be cast to class **org.apache.batik.swing.svg.SVGLoadEventDispatcherListener** \r\n\r\nThese classes are not at all related (https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/JSVGCanvas.html and https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/svg/SVGLoadEventDispatcher.html).\r\n\r\nYou are not allowed to cast any object to any type, they must have a similar hierarchy. In the classic example of `Animal`, `Dog`, and `Cat`, you are not allowed to say that this `Dog` is a `Cat` (you can say that the `Dog` is an `Animal` though).\r\n\r\nIf you want to be sure, check\r\n```java\r\nif (this.canvas1 instanceof SVGLoadEventDispatcherListener) {\r\n    System.out.println(&quot;You can cast!&quot;);\r\nelse {\r\n    System.out.println(&quot;Casting not allowed&quot;);\r\n}\r\n```\r\n\r\nIt&#39;s recommended to do this if the type of something is ever dubious or if the parameter of a function is an interface but you need a specific concrete type.","title":"Exception in thread &quot;AWT-EventQueue-0&quot; | JSVGCanvas and SVGLoadEventDispatcherListener are in unnamed module of loader &#39;app&#39;","body":"<p>The error message is pretty clear,</p>\n<blockquote>\n<p><strong>org.apache.batik.swing.JSVGCanvas</strong> cannot be cast to class <strong>org.apache.batik.swing.svg.SVGLoadEventDispatcherListener</strong></p>\n</blockquote>\n<p>These classes are not at all related (<a href=\"https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/JSVGCanvas.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/JSVGCanvas.html</a> and <a href=\"https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/svg/SVGLoadEventDispatcher.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/svg/SVGLoadEventDispatcher.html</a>).</p>\n<p>You are not allowed to cast any object to any type, they must have a similar hierarchy. In the classic example of <code>Animal</code>, <code>Dog</code>, and <code>Cat</code>, you are not allowed to say that this <code>Dog</code> is a <code>Cat</code> (you can say that the <code>Dog</code> is an <code>Animal</code> though).</p>\n<p>If you want to be sure, check</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (this.canvas1 instanceof SVGLoadEventDispatcherListener) {\n    System.out.println(&quot;You can cast!&quot;);\nelse {\n    System.out.println(&quot;Casting not allowed&quot;);\n}\n</code></pre>\n<p>It's recommended to do this if the type of something is ever dubious or if the parameter of a function is an interface but you need a specific concrete type.</p>\n"}],"owner":{"account_id":19056555,"reputation":3,"user_id":13913585,"display_name":"Vedant Bahel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685489451,"creation_date":1685142704,"question_id":76344651,"body_markdown":"Getting this error at Java runtime: \r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class org.apache.batik.swing.JSVGCanvas cannot be cast to class org.apache.batik.swing.svg.SVGLoadEventDispatcherListener (org.apache.batik.swing.JSVGCanvas and org.apache.batik.swing.svg.SVGLoadEventDispatcherListener are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nCode:\r\n```java\r\nprivate void handleSVGs(JSVGCanvas canvas) { \r\n    canvas.addSVGLoadEventDispatcherListener((SVGLoadEventDispatcherListener) this.canvas1);\r\n}\r\n```\r\n\r\nOne of the earlier compiled versions of this code runs. But after re-compiling the same code, it throws above error during run-time, not compile time. \r\n\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; | JSVGCanvas and SVGLoadEventDispatcherListener are in unnamed module of loader &#39;app&#39;","body":"<p>Getting this error at Java runtime:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class org.apache.batik.swing.JSVGCanvas cannot be cast to class org.apache.batik.swing.svg.SVGLoadEventDispatcherListener (org.apache.batik.swing.JSVGCanvas and org.apache.batik.swing.svg.SVGLoadEventDispatcherListener are in unnamed module of loader 'app')\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void handleSVGs(JSVGCanvas canvas) { \n    canvas.addSVGLoadEventDispatcherListener((SVGLoadEventDispatcherListener) this.canvas1);\n}\n</code></pre>\n<p>One of the earlier compiled versions of this code runs. But after re-compiling the same code, it throws above error during run-time, not compile time.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-ec2","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657454324,"creation_date":1657454324,"answer_id":72928313,"question_id":72897155,"body_markdown":"This is the implementation of the `class`: https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java\r\n\r\nI have found no Java alternative for this, despite searching on google, so, I have realized that a deeper research is needed. I describe the possibilities that you have as follows:\r\n\r\n# 1. You can leave this as it is\r\n\r\nThe warning clearly suggests that it&#39;s a good idea to use an alternative, but the nonexistence of a ready-made alternative and possible goodies of future versions of the `class` are good counter-arguments, so you can ignore this note for now.\r\n\r\n# 2. You can download the open-source library and search for calls of this method\r\n\r\nIf you find the calls for this method somewhere else in the library and you are able to somehow use it instead, then that may be an alternative. For instance, after cloning with\r\n\r\n    git clone git@github.com:aws/aws-sdk-java.git\r\n\r\nand searching for occurrences of this method with:\r\n\r\n    grep -rn &#39;yourpath&#39; -e &quot;getEC2InstanceRegion&quot;\r\n\r\nI have got these results:\r\n\r\n```\r\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java:286:    public static String getEC2InstanceRegion() {\r\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/InstanceMetadataRegionProvider.java:59:            return EC2MetadataUtils.getEC2InstanceRegion();\r\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/Regions.java:110:            final String region = EC2MetadataUtils.getEC2InstanceRegion();\r\n```\r\n\r\nThe first match is the definition of the method.\r\n\r\nThe second match looks like this:\r\n\r\n```\r\n/*\r\n * Copyright 2011-2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;).\r\n * You may not use this file except in compliance with the License.\r\n * A copy of the License is located at\r\n *\r\n *  http://aws.amazon.com/apache2.0\r\n *\r\n * or in the &quot;license&quot; file accompanying this file. This file is distributed\r\n * on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n * express or implied. See the License for the specific language governing\r\n * permissions and limitations under the License.\r\n */\r\npackage com.amazonaws.regions;\r\n\r\nimport com.amazonaws.AmazonClientException;\r\nimport com.amazonaws.SDKGlobalConfiguration;\r\nimport com.amazonaws.util.EC2MetadataUtils;\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\n\r\n/**\r\n * Attempts to load region information from the EC2 Metadata service. If the application is not\r\n * running on EC2 or {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} returns true,\r\n * this provider will return null.\r\n */\r\npublic class InstanceMetadataRegionProvider extends AwsRegionProvider {\r\n\r\n    private static final Log LOG = LogFactory.getLog(InstanceMetadataRegionProvider.class);\r\n\r\n    /**\r\n     * Cache region as it will not change during the lifetime of the JVM.\r\n     */\r\n    private volatile String region;\r\n\r\n    /**\r\n     * @throws AmazonClientException if {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} is true\r\n     */\r\n    @Override\r\n    public String getRegion() {\r\n        if (SDKGlobalConfiguration.isEc2MetadataDisabled()) {\r\n            throw new AmazonClientException(&quot;AWS_EC2_METADATA_DISABLED is set to true, not loading region from EC2 Instance &quot;\r\n                                         + &quot;Metadata service&quot;);\r\n        }\r\n\r\n        if (region == null) {\r\n            synchronized (this) {\r\n                if (region == null) {\r\n                    this.region = tryDetectRegion();\r\n                }\r\n            }\r\n        }\r\n        return region;\r\n    }\r\n\r\n    private String tryDetectRegion() {\r\n        try {\r\n            return EC2MetadataUtils.getEC2InstanceRegion();\r\n        } catch (AmazonClientException sce) {\r\n            LOG.debug(&quot;Ignoring failure to retrieve the region: &quot; + sce.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo, it seems that the `getRegion` method of `InstanceMetadataRegionProvider` looks like the alternative that you were looking for.\r\n\r\nThe third match looks like this:\r\n\r\n```\r\n/*\r\n * Copyright 2013-2022 Amazon Technologies, Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at:\r\n *\r\n *    http://aws.amazon.com/apache2.0\r\n *\r\n * This file is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES\r\n * OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n * License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\npackage com.amazonaws.regions;\r\n\r\nimport com.amazonaws.AmazonClientException;\r\nimport org.apache.commons.logging.LogFactory;\r\n\r\nimport com.amazonaws.util.EC2MetadataUtils;\r\n\r\n/**\r\n * Enumeration of region names\r\n */\r\npublic enum Regions {\r\n\r\n    GovCloud(&quot;us-gov-west-1&quot;, &quot;AWS GovCloud (US)&quot;),\r\n    US_GOV_EAST_1(&quot;us-gov-east-1&quot;, &quot;AWS GovCloud (US-East)&quot;),\r\n    US_EAST_1(&quot;us-east-1&quot;, &quot;US East (N. Virginia)&quot;),\r\n    US_EAST_2(&quot;us-east-2&quot;, &quot;US East (Ohio)&quot;),\r\n    US_WEST_1(&quot;us-west-1&quot;, &quot;US West (N. California)&quot;),\r\n    US_WEST_2(&quot;us-west-2&quot;, &quot;US West (Oregon)&quot;),\r\n    EU_WEST_1(&quot;eu-west-1&quot;, &quot;EU (Ireland)&quot;),\r\n    EU_WEST_2(&quot;eu-west-2&quot;, &quot;EU (London)&quot;),\r\n    EU_WEST_3(&quot;eu-west-3&quot;, &quot;EU (Paris)&quot;),\r\n    EU_CENTRAL_1(&quot;eu-central-1&quot;, &quot;EU (Frankfurt)&quot;),\r\n    EU_NORTH_1(&quot;eu-north-1&quot;, &quot;EU (Stockholm)&quot;),\r\n    EU_SOUTH_1(&quot;eu-south-1&quot;, &quot;EU (Milan)&quot;),\r\n    AP_EAST_1(&quot;ap-east-1&quot;, &quot;Asia Pacific (Hong Kong)&quot;),\r\n    AP_SOUTH_1(&quot;ap-south-1&quot;, &quot;Asia Pacific (Mumbai)&quot;),\r\n    AP_SOUTHEAST_1(&quot;ap-southeast-1&quot;, &quot;Asia Pacific (Singapore)&quot;),\r\n    AP_SOUTHEAST_2(&quot;ap-southeast-2&quot;, &quot;Asia Pacific (Sydney)&quot;),\r\n    AP_SOUTHEAST_3(&quot;ap-southeast-3&quot;, &quot;Asia Pacific (Jakarta)&quot;),\r\n    AP_NORTHEAST_1(&quot;ap-northeast-1&quot;, &quot;Asia Pacific (Tokyo)&quot;),\r\n    AP_NORTHEAST_2(&quot;ap-northeast-2&quot;, &quot;Asia Pacific (Seoul)&quot;),\r\n    AP_NORTHEAST_3(&quot;ap-northeast-3&quot;, &quot;Asia Pacific (Osaka)&quot;),\r\n\r\n    SA_EAST_1(&quot;sa-east-1&quot;, &quot;South America (Sao Paulo)&quot;),\r\n    CN_NORTH_1(&quot;cn-north-1&quot;, &quot;China (Beijing)&quot;),\r\n    CN_NORTHWEST_1(&quot;cn-northwest-1&quot;, &quot;China (Ningxia)&quot;),\r\n    CA_CENTRAL_1(&quot;ca-central-1&quot;, &quot;Canada (Central)&quot;),\r\n    ME_SOUTH_1(&quot;me-south-1&quot;, &quot;Middle East (Bahrain)&quot;),\r\n    AF_SOUTH_1(&quot;af-south-1&quot;, &quot;Africa (Cape Town)&quot;),\r\n    US_ISO_EAST_1(&quot;us-iso-east-1&quot;, &quot;US ISO East&quot;),\r\n    US_ISOB_EAST_1(&quot;us-isob-east-1&quot;, &quot;US ISOB East (Ohio)&quot;),\r\n    US_ISO_WEST_1(&quot;us-iso-west-1&quot;, &quot;US ISO West&quot;)\r\n    ;\r\n\r\n    /**\r\n     * The default region that new customers in the US are encouraged to use\r\n     * when using AWS services for the first time.\r\n     */\r\n    public static final Regions DEFAULT_REGION = US_WEST_2;\r\n\r\n    private final String name;\r\n    private final String description;\r\n\r\n    private Regions(String name, String description) {\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n\r\n    /**\r\n     * The name of this region, used in the regions.xml file to identify it.\r\n     */\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * Descriptive readable name for this region.\r\n     */\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    /**\r\n     * Returns a region enum corresponding to the given region name.\r\n     *\r\n     * @param regionName\r\n     *            The name of the region. Ex.: eu-west-1\r\n     * @return Region enum representing the given region name.\r\n     */\r\n    public static Regions fromName(String regionName) {\r\n        for (Regions region : Regions.values()) {\r\n            if (region.getName().equals(regionName)) {\r\n                return region;\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(&quot;Cannot create enum from &quot; + regionName + &quot; value!&quot;);\r\n    }\r\n\r\n    /**\r\n     * Returns a Region object representing the region the application is\r\n     * running in, when running in EC2. If this method is called from a non-EC2\r\n     * environment, it will return null.\r\n     */\r\n    public static Region getCurrentRegion() {\r\n        try {\r\n            final String region = EC2MetadataUtils.getEC2InstanceRegion();\r\n            if (region != null)\r\n                return RegionUtils.getRegion(region);\r\n        } catch (AmazonClientException e) {\r\n            LogFactory.getLog(Regions.class).debug(\r\n                &quot;Ignoring failure to retrieve the region: &quot; + e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nSo, `getCurrentRegion` at `Regions` looks like another alternative. If you manage to use one of these for your purpose successfully, then it will be easy to refactor and it also makes sense to refactor accordingly.\r\n\r\n# 3. Copy and rename the class\r\n\r\nIf the first two options are unfeasible for you, then you can copy and rename the `class`, so you will be able to make sure that this method will remain unchanged even if the internal API is changed. This is not a very elegant approach and it is not easy to implement either, as the `class` has dependencies, so, as a result, you will have some difficulties to resolve, but we know in advance that this is a possible solution.\r\n\r\n# 4. Finally the do-it-yourself approach\r\n\r\nThis is an article about retrieving instance metadata: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html\r\n\r\nAs we can see, among the metadata information of the instance, you can find the region: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html\r\n\r\n[![enter image description here][1]][1]\r\n\r\nA command example that uses **curl** and **jq** that looks like\r\n\r\n    curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | jq -r .region\r\n\r\ncan be found here: https://www.howtouselinux.com/post/find-ec2-instance-region-info-in-aws\r\n\r\n  [1]: https://i.stack.imgur.com/jW60b.png","title":"Alternate for EC2MetadataUtils","body":"<p>This is the implementation of the <code>class</code>: <a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java\" rel=\"noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java</a></p>\n<p>I have found no Java alternative for this, despite searching on google, so, I have realized that a deeper research is needed. I describe the possibilities that you have as follows:</p>\n<h1>1. You can leave this as it is</h1>\n<p>The warning clearly suggests that it's a good idea to use an alternative, but the nonexistence of a ready-made alternative and possible goodies of future versions of the <code>class</code> are good counter-arguments, so you can ignore this note for now.</p>\n<h1>2. You can download the open-source library and search for calls of this method</h1>\n<p>If you find the calls for this method somewhere else in the library and you are able to somehow use it instead, then that may be an alternative. For instance, after cloning with</p>\n<pre><code>git clone git@github.com:aws/aws-sdk-java.git\n</code></pre>\n<p>and searching for occurrences of this method with:</p>\n<pre><code>grep -rn 'yourpath' -e &quot;getEC2InstanceRegion&quot;\n</code></pre>\n<p>I have got these results:</p>\n<pre><code>&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java:286:    public static String getEC2InstanceRegion() {\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/InstanceMetadataRegionProvider.java:59:            return EC2MetadataUtils.getEC2InstanceRegion();\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/Regions.java:110:            final String region = EC2MetadataUtils.getEC2InstanceRegion();\n</code></pre>\n<p>The first match is the definition of the method.</p>\n<p>The second match looks like this:</p>\n<pre><code>/*\n * Copyright 2011-2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;).\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n * or in the &quot;license&quot; file accompanying this file. This file is distributed\n * on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\npackage com.amazonaws.regions;\n\nimport com.amazonaws.AmazonClientException;\nimport com.amazonaws.SDKGlobalConfiguration;\nimport com.amazonaws.util.EC2MetadataUtils;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\n/**\n * Attempts to load region information from the EC2 Metadata service. If the application is not\n * running on EC2 or {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} returns true,\n * this provider will return null.\n */\npublic class InstanceMetadataRegionProvider extends AwsRegionProvider {\n\n    private static final Log LOG = LogFactory.getLog(InstanceMetadataRegionProvider.class);\n\n    /**\n     * Cache region as it will not change during the lifetime of the JVM.\n     */\n    private volatile String region;\n\n    /**\n     * @throws AmazonClientException if {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} is true\n     */\n    @Override\n    public String getRegion() {\n        if (SDKGlobalConfiguration.isEc2MetadataDisabled()) {\n            throw new AmazonClientException(&quot;AWS_EC2_METADATA_DISABLED is set to true, not loading region from EC2 Instance &quot;\n                                         + &quot;Metadata service&quot;);\n        }\n\n        if (region == null) {\n            synchronized (this) {\n                if (region == null) {\n                    this.region = tryDetectRegion();\n                }\n            }\n        }\n        return region;\n    }\n\n    private String tryDetectRegion() {\n        try {\n            return EC2MetadataUtils.getEC2InstanceRegion();\n        } catch (AmazonClientException sce) {\n            LOG.debug(&quot;Ignoring failure to retrieve the region: &quot; + sce.getMessage());\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>So, it seems that the <code>getRegion</code> method of <code>InstanceMetadataRegionProvider</code> looks like the alternative that you were looking for.</p>\n<p>The third match looks like this:</p>\n<pre><code>/*\n * Copyright 2013-2022 Amazon Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at:\n *\n *    http://aws.amazon.com/apache2.0\n *\n * This file is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES\n * OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and\n * limitations under the License.\n */\npackage com.amazonaws.regions;\n\nimport com.amazonaws.AmazonClientException;\nimport org.apache.commons.logging.LogFactory;\n\nimport com.amazonaws.util.EC2MetadataUtils;\n\n/**\n * Enumeration of region names\n */\npublic enum Regions {\n\n    GovCloud(&quot;us-gov-west-1&quot;, &quot;AWS GovCloud (US)&quot;),\n    US_GOV_EAST_1(&quot;us-gov-east-1&quot;, &quot;AWS GovCloud (US-East)&quot;),\n    US_EAST_1(&quot;us-east-1&quot;, &quot;US East (N. Virginia)&quot;),\n    US_EAST_2(&quot;us-east-2&quot;, &quot;US East (Ohio)&quot;),\n    US_WEST_1(&quot;us-west-1&quot;, &quot;US West (N. California)&quot;),\n    US_WEST_2(&quot;us-west-2&quot;, &quot;US West (Oregon)&quot;),\n    EU_WEST_1(&quot;eu-west-1&quot;, &quot;EU (Ireland)&quot;),\n    EU_WEST_2(&quot;eu-west-2&quot;, &quot;EU (London)&quot;),\n    EU_WEST_3(&quot;eu-west-3&quot;, &quot;EU (Paris)&quot;),\n    EU_CENTRAL_1(&quot;eu-central-1&quot;, &quot;EU (Frankfurt)&quot;),\n    EU_NORTH_1(&quot;eu-north-1&quot;, &quot;EU (Stockholm)&quot;),\n    EU_SOUTH_1(&quot;eu-south-1&quot;, &quot;EU (Milan)&quot;),\n    AP_EAST_1(&quot;ap-east-1&quot;, &quot;Asia Pacific (Hong Kong)&quot;),\n    AP_SOUTH_1(&quot;ap-south-1&quot;, &quot;Asia Pacific (Mumbai)&quot;),\n    AP_SOUTHEAST_1(&quot;ap-southeast-1&quot;, &quot;Asia Pacific (Singapore)&quot;),\n    AP_SOUTHEAST_2(&quot;ap-southeast-2&quot;, &quot;Asia Pacific (Sydney)&quot;),\n    AP_SOUTHEAST_3(&quot;ap-southeast-3&quot;, &quot;Asia Pacific (Jakarta)&quot;),\n    AP_NORTHEAST_1(&quot;ap-northeast-1&quot;, &quot;Asia Pacific (Tokyo)&quot;),\n    AP_NORTHEAST_2(&quot;ap-northeast-2&quot;, &quot;Asia Pacific (Seoul)&quot;),\n    AP_NORTHEAST_3(&quot;ap-northeast-3&quot;, &quot;Asia Pacific (Osaka)&quot;),\n\n    SA_EAST_1(&quot;sa-east-1&quot;, &quot;South America (Sao Paulo)&quot;),\n    CN_NORTH_1(&quot;cn-north-1&quot;, &quot;China (Beijing)&quot;),\n    CN_NORTHWEST_1(&quot;cn-northwest-1&quot;, &quot;China (Ningxia)&quot;),\n    CA_CENTRAL_1(&quot;ca-central-1&quot;, &quot;Canada (Central)&quot;),\n    ME_SOUTH_1(&quot;me-south-1&quot;, &quot;Middle East (Bahrain)&quot;),\n    AF_SOUTH_1(&quot;af-south-1&quot;, &quot;Africa (Cape Town)&quot;),\n    US_ISO_EAST_1(&quot;us-iso-east-1&quot;, &quot;US ISO East&quot;),\n    US_ISOB_EAST_1(&quot;us-isob-east-1&quot;, &quot;US ISOB East (Ohio)&quot;),\n    US_ISO_WEST_1(&quot;us-iso-west-1&quot;, &quot;US ISO West&quot;)\n    ;\n\n    /**\n     * The default region that new customers in the US are encouraged to use\n     * when using AWS services for the first time.\n     */\n    public static final Regions DEFAULT_REGION = US_WEST_2;\n\n    private final String name;\n    private final String description;\n\n    private Regions(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n\n    /**\n     * The name of this region, used in the regions.xml file to identify it.\n     */\n    public String getName() {\n        return name;\n    }\n\n    /**\n     * Descriptive readable name for this region.\n     */\n    public String getDescription() {\n        return description;\n    }\n\n    /**\n     * Returns a region enum corresponding to the given region name.\n     *\n     * @param regionName\n     *            The name of the region. Ex.: eu-west-1\n     * @return Region enum representing the given region name.\n     */\n    public static Regions fromName(String regionName) {\n        for (Regions region : Regions.values()) {\n            if (region.getName().equals(regionName)) {\n                return region;\n            }\n        }\n        throw new IllegalArgumentException(&quot;Cannot create enum from &quot; + regionName + &quot; value!&quot;);\n    }\n\n    /**\n     * Returns a Region object representing the region the application is\n     * running in, when running in EC2. If this method is called from a non-EC2\n     * environment, it will return null.\n     */\n    public static Region getCurrentRegion() {\n        try {\n            final String region = EC2MetadataUtils.getEC2InstanceRegion();\n            if (region != null)\n                return RegionUtils.getRegion(region);\n        } catch (AmazonClientException e) {\n            LogFactory.getLog(Regions.class).debug(\n                &quot;Ignoring failure to retrieve the region: &quot; + e.getMessage());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>So, <code>getCurrentRegion</code> at <code>Regions</code> looks like another alternative. If you manage to use one of these for your purpose successfully, then it will be easy to refactor and it also makes sense to refactor accordingly.</p>\n<h1>3. Copy and rename the class</h1>\n<p>If the first two options are unfeasible for you, then you can copy and rename the <code>class</code>, so you will be able to make sure that this method will remain unchanged even if the internal API is changed. This is not a very elegant approach and it is not easy to implement either, as the <code>class</code> has dependencies, so, as a result, you will have some difficulties to resolve, but we know in advance that this is a possible solution.</p>\n<h1>4. Finally the do-it-yourself approach</h1>\n<p>This is an article about retrieving instance metadata: <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html</a></p>\n<p>As we can see, among the metadata information of the instance, you can find the region: <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/jW60b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jW60b.png\" alt=\"enter image description here\" /></a></p>\n<p>A command example that uses <strong>curl</strong> and <strong>jq</strong> that looks like</p>\n<pre><code>curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | jq -r .region\n</code></pre>\n<p>can be found here: <a href=\"https://www.howtouselinux.com/post/find-ec2-instance-region-info-in-aws\" rel=\"noreferrer\">https://www.howtouselinux.com/post/find-ec2-instance-region-info-in-aws</a></p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685487487,"creation_date":1657986375,"answer_id":73005577,"question_id":72897155,"body_markdown":"The region information in which the EC2 instance is running is provided as part of the instance identity document.\r\n\r\nAs explained [in the AWS documentation](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html) and pointed out as well by @LajosArpad in his very good answer, this information can be obtained from the following URL from inside the EC2 instance, running `curl`, for instance:\r\n\r\n```\r\ncurl http://169.254.169.254/latest/dynamic/instance-identity/document\r\n```\r\n\r\nThe response provided will be similar to the following:\r\n\r\n```json\r\n{\r\n    &quot;devpayProductCodes&quot; : null,\r\n    &quot;marketplaceProductCodes&quot; : [ &quot;1abc2defghijklm3nopqrs4tu&quot; ], \r\n    &quot;availabilityZone&quot; : &quot;us-west-2b&quot;,\r\n    &quot;privateIp&quot; : &quot;10.158.112.84&quot;,\r\n    &quot;version&quot; : &quot;2017-09-30&quot;,\r\n    &quot;instanceId&quot; : &quot;i-1234567890abcdef0&quot;,\r\n    &quot;billingProducts&quot; : null,\r\n    &quot;instanceType&quot; : &quot;t2.micro&quot;,\r\n    &quot;accountId&quot; : &quot;123456789012&quot;,\r\n    &quot;imageId&quot; : &quot;ami-5fb8c835&quot;,\r\n    &quot;pendingTime&quot; : &quot;2016-11-19T16:32:11Z&quot;,\r\n    &quot;architecture&quot; : &quot;x86_64&quot;,\r\n    &quot;kernelId&quot; : null,\r\n    &quot;ramdiskId&quot; : null,\r\n    &quot;region&quot; : &quot;us-west-2&quot;\r\n}\r\n```\r\n\r\nPlease, note the `region` field.\r\n\r\n[`EC2MetadataUtils`](https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java) basically, of course, with more detail, and in a more structured way, is [reading this information](https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java#L234-L251) as well to give you the EC2 region in which the instance is running.\r\n\r\nYou could try reproducing a minimal version of the functionality exposed by `EC2MetadataUtils` in your own code.\r\n\r\nThe exact way will depend on the libraries you want to use to perform the task but, independently of them, you will need to read the returned document, parse it as JSON, and get the `region` field.\r\n\r\nFor instance, using the standard Java API for JSON processing, and using the example provided in the [documentation](https://www.oracle.com/technical-resources/articles/java/json.html), you could try something like the following to obtain the region in one row:\r\n\r\n```java\r\nURL url = new URL(&quot;http://169.254.169.254/latest/dynamic/instance-identity/document&quot;);\r\ntry (InputStream is = url.openStream();\r\n     JsonReader reader = Json.createReader(is)) {\r\n\r\n     JsonObject instanceDocument = reader.readObject();\r\n     String region = instanceDocument.getString(&quot;region&quot;);\r\n     // return it or use it as you need to\r\n}\r\n```\r\n\r\nAs I told, you can use other libraries (Jackson, org.json, Gson, ... for JSON processing, or commons-io, etc. to URL/`InputStream` read and write) as well.\r\n\r\nThe code uses IDMSv1, and could be improved in many different ways, verifying the identity document signature, etcetera.\r\n","title":"Alternate for EC2MetadataUtils","body":"<p>The region information in which the EC2 instance is running is provided as part of the instance identity document.</p>\n<p>As explained <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html\" rel=\"nofollow noreferrer\">in the AWS documentation</a> and pointed out as well by @LajosArpad in his very good answer, this information can be obtained from the following URL from inside the EC2 instance, running <code>curl</code>, for instance:</p>\n<pre><code>curl http://169.254.169.254/latest/dynamic/instance-identity/document\n</code></pre>\n<p>The response provided will be similar to the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;devpayProductCodes&quot; : null,\n    &quot;marketplaceProductCodes&quot; : [ &quot;1abc2defghijklm3nopqrs4tu&quot; ], \n    &quot;availabilityZone&quot; : &quot;us-west-2b&quot;,\n    &quot;privateIp&quot; : &quot;10.158.112.84&quot;,\n    &quot;version&quot; : &quot;2017-09-30&quot;,\n    &quot;instanceId&quot; : &quot;i-1234567890abcdef0&quot;,\n    &quot;billingProducts&quot; : null,\n    &quot;instanceType&quot; : &quot;t2.micro&quot;,\n    &quot;accountId&quot; : &quot;123456789012&quot;,\n    &quot;imageId&quot; : &quot;ami-5fb8c835&quot;,\n    &quot;pendingTime&quot; : &quot;2016-11-19T16:32:11Z&quot;,\n    &quot;architecture&quot; : &quot;x86_64&quot;,\n    &quot;kernelId&quot; : null,\n    &quot;ramdiskId&quot; : null,\n    &quot;region&quot; : &quot;us-west-2&quot;\n}\n</code></pre>\n<p>Please, note the <code>region</code> field.</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java\" rel=\"nofollow noreferrer\"><code>EC2MetadataUtils</code></a> basically, of course, with more detail, and in a more structured way, is <a href=\"https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java#L234-L251\" rel=\"nofollow noreferrer\">reading this information</a> as well to give you the EC2 region in which the instance is running.</p>\n<p>You could try reproducing a minimal version of the functionality exposed by <code>EC2MetadataUtils</code> in your own code.</p>\n<p>The exact way will depend on the libraries you want to use to perform the task but, independently of them, you will need to read the returned document, parse it as JSON, and get the <code>region</code> field.</p>\n<p>For instance, using the standard Java API for JSON processing, and using the example provided in the <a href=\"https://www.oracle.com/technical-resources/articles/java/json.html\" rel=\"nofollow noreferrer\">documentation</a>, you could try something like the following to obtain the region in one row:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://169.254.169.254/latest/dynamic/instance-identity/document&quot;);\ntry (InputStream is = url.openStream();\n     JsonReader reader = Json.createReader(is)) {\n\n     JsonObject instanceDocument = reader.readObject();\n     String region = instanceDocument.getString(&quot;region&quot;);\n     // return it or use it as you need to\n}\n</code></pre>\n<p>As I told, you can use other libraries (Jackson, org.json, Gson, ... for JSON processing, or commons-io, etc. to URL/<code>InputStream</code> read and write) as well.</p>\n<p>The code uses IDMSv1, and could be improved in many different ways, verifying the identity document signature, etcetera.</p>\n"}],"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72928313,"answer_count":2,"score":7,"last_activity_date":1685487487,"creation_date":1657193970,"question_id":72897155,"body_markdown":"In our code, to get the ec2 instance&#39;s region we are using `EC2MetadataUtils.getEC2InstanceRegion()`, and we just realized we must not use [`EC2MetadataUtils`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.html) because it is an internal API that is subject to change.\r\n\r\n&gt; Note: this is an internal API subject to change. Users of the SDK should not depend on this.\r\n\r\nDid some google searches but was unable to find an alternate solution, Is there any alternative solution available to get the ec2 instance&#39;s region?\r\n\r\nThanks for any help!","title":"Alternate for EC2MetadataUtils","body":"<p>In our code, to get the ec2 instance's region we are using <code>EC2MetadataUtils.getEC2InstanceRegion()</code>, and we just realized we must not use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.html\" rel=\"nofollow noreferrer\"><code>EC2MetadataUtils</code></a> because it is an internal API that is subject to change.</p>\n<blockquote>\n<p>Note: this is an internal API subject to change. Users of the SDK should not depend on this.</p>\n</blockquote>\n<p>Did some google searches but was unable to find an alternate solution, Is there any alternative solution available to get the ec2 instance's region?</p>\n<p>Thanks for any help!</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1576919675,"post_id":59434918,"comment_id":105054714,"body_markdown":"The child shouldn&#39;t have a parentId. This is the foreign key, and it&#39;s managed by the parent, since you have a unidirectional association. If you want the child to know its parent, then it means you should have a bidirectional association.","body":"The child shouldn&#39;t have a parentId. This is the foreign key, and it&#39;s managed by the parent, since you have a unidirectional association. If you want the child to know its parent, then it means you should have a bidirectional association."},{"owner":{"account_id":1419347,"reputation":394,"user_id":1344303,"accept_rate":75,"display_name":"Pierre"},"score":0,"creation_date":1576926039,"post_id":59434918,"comment_id":105055788,"body_markdown":"@JBNizet I didn&#39;t know hibernate could work without the forein key in the object. It now totally make sense, I removed it and my object is consistent. And yes you are right, if the child need the parentId it is a bidirectional association.","body":"@JBNizet I didn&#39;t know hibernate could work without the forein key in the object. It now totally make sense, I removed it and my object is consistent. And yes you are right, if the child need the parentId it is a bidirectional association."}],"owner":{"account_id":1419347,"reputation":394,"user_id":1344303,"accept_rate":75,"display_name":"Pierre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685487245,"creation_date":1576919314,"question_id":59434918,"body_markdown":"I have a unidirectional @OneToMany @JoinColumn relationship between a parent having a list of children.\r\n\r\nThe primary key are generated by the database (IDENTITY / mysql auto increment).\r\n\r\nWhen I insert a new parent with new children (all ids are set to null), the database is populated and the references are correctly set.\r\n\r\nHowever, after insertion only the primary key are updated in the objects, the foreinKey are left to null. I have to clear the persistence context and do a find to retrieve a value with the correct foreign keys.\r\n\r\n**Do we have a way to force hibernate to populate the foreign key in our memory model without doing it ourself ?**\r\n\r\nI think it is the reponsibility of the ORM to do it like it is responsible for to set the ID value. I want to it to be done automatically so we won&#39;t forget to do it manually by doing setParentId().\r\n\r\nI know the argument of there is no such relation in the object model because the parent own the list of child so the child doesn&#39;t the need the reference ID, but in our case we want it for consistency purpose. Why a find() model should return the foreign key populated while the freshly inserted one won&#39;t have them. It doesn&#39;t sound right to me.\r\n\r\n(Also it is important for us to only have the unidirectional @OneToMany we don&#39;t want to have a @ManyToOne reference of the Parent in the Child (because our child doesn&#39;t need it, it just needs the parentId)).\r\n\r\n```java\r\n\r\n// main\r\nvar emFactory = buildFactory(); // Persistence.createEntityManagerFactory(&quot;ORM&quot;);\r\nvar em = emFactory.createEntityManager();\r\n\r\nvar transaction = em.getTransaction();\r\ntransaction.begin();\r\nvar parent = new Parent(null, 0, List.of(new Child(null, null, 10)));\r\nem.persist(parent);\r\ntransaction.commit();\r\n\r\n// just inserted, parentId is null\r\nSystem.out.println(parent.children);\r\n\r\n// using find() parentId will still be null\r\nSystem.out.println(em.find(Parent.class, parent.id).children);\r\n\r\n// If I clear the persistent context, the retrieved entity has the correct value...\r\nem.clear();\r\nSystem.out.println(em.find(Parent.class, parent.id).children);\r\n\r\n\r\n// Parent\r\n@Entity @ToString\r\npublic class Parent {\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n\r\n    public int value;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;parentId&quot;, referencedColumnName = &quot;id&quot;)\r\n    public List&lt;Child&gt; children;\r\n\r\n    public Parent(Long id, int value, List&lt;Child&gt; children) {\r\n        this.id = id;\r\n        this.value = value;\r\n        this.children = children;\r\n    }\r\n\r\n    private Parent() {\r\n    }\r\n}\r\n\r\n// Child\r\n@Entity @ToString\r\npublic class Child {\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n\r\n    Long parentId;\r\n\r\n    int value;\r\n\r\n    public Child(Long id, Long parentId, int value) {\r\n        this.id = id;\r\n        this.parentId = parentId;\r\n        this.value = value;\r\n    }\r\n\r\n    private Child() {\r\n    }\r\n}\r\n```","title":"How to auto-update foreign key in child in unidirectional @OneToMany relationship","body":"<p>I have a unidirectional @OneToMany @JoinColumn relationship between a parent having a list of children.</p>\n\n<p>The primary key are generated by the database (IDENTITY / mysql auto increment).</p>\n\n<p>When I insert a new parent with new children (all ids are set to null), the database is populated and the references are correctly set.</p>\n\n<p>However, after insertion only the primary key are updated in the objects, the foreinKey are left to null. I have to clear the persistence context and do a find to retrieve a value with the correct foreign keys.</p>\n\n<p><strong>Do we have a way to force hibernate to populate the foreign key in our memory model without doing it ourself ?</strong></p>\n\n<p>I think it is the reponsibility of the ORM to do it like it is responsible for to set the ID value. I want to it to be done automatically so we won't forget to do it manually by doing setParentId().</p>\n\n<p>I know the argument of there is no such relation in the object model because the parent own the list of child so the child doesn't the need the reference ID, but in our case we want it for consistency purpose. Why a find() model should return the foreign key populated while the freshly inserted one won't have them. It doesn't sound right to me.</p>\n\n<p>(Also it is important for us to only have the unidirectional @OneToMany we don't want to have a @ManyToOne reference of the Parent in the Child (because our child doesn't need it, it just needs the parentId)).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n// main\nvar emFactory = buildFactory(); // Persistence.createEntityManagerFactory(\"ORM\");\nvar em = emFactory.createEntityManager();\n\nvar transaction = em.getTransaction();\ntransaction.begin();\nvar parent = new Parent(null, 0, List.of(new Child(null, null, 10)));\nem.persist(parent);\ntransaction.commit();\n\n// just inserted, parentId is null\nSystem.out.println(parent.children);\n\n// using find() parentId will still be null\nSystem.out.println(em.find(Parent.class, parent.id).children);\n\n// If I clear the persistent context, the retrieved entity has the correct value...\nem.clear();\nSystem.out.println(em.find(Parent.class, parent.id).children);\n\n\n// Parent\n@Entity @ToString\npublic class Parent {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    public int value;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"parentId\", referencedColumnName = \"id\")\n    public List&lt;Child&gt; children;\n\n    public Parent(Long id, int value, List&lt;Child&gt; children) {\n        this.id = id;\n        this.value = value;\n        this.children = children;\n    }\n\n    private Parent() {\n    }\n}\n\n// Child\n@Entity @ToString\npublic class Child {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n\n    Long parentId;\n\n    int value;\n\n    public Child(Long id, Long parentId, int value) {\n        this.id = id;\n        this.parentId = parentId;\n        this.value = value;\n    }\n\n    private Child() {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685138904,"post_id":76342083,"comment_id":134624875,"body_markdown":"Please provide the full stacktrace of your error in k8s.","body":"Please provide the full stacktrace of your error in k8s."},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685152219,"post_id":76342083,"comment_id":134625925,"body_markdown":"here is the full log https://pastebin.com/smhGekNb","body":"here is the full log <a href=\"https://pastebin.com/smhGekNb\" rel=\"nofollow noreferrer\">pastebin.com/smhGekNb</a>"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1685178189,"post_id":76342083,"comment_id":134627567,"body_markdown":"Hibernate seems to be looking for your entities in strange paths. I think you should check your Docker file, how your java process is started, with which options, what&#39;s the classpath etc.","body":"Hibernate seems to be looking for your entities in strange paths. I think you should check your Docker file, how your java process is started, with which options, what&#39;s the classpath etc."},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685272214,"post_id":76342083,"comment_id":134635968,"body_markdown":"Thanks a lot, @SebPerp. Any comment worth too much for me. I&#39;ll do","body":"Thanks a lot, @SebPerp. Any comment worth too much for me. I&#39;ll do"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1685272817,"post_id":76342083,"comment_id":134636031,"body_markdown":"No pb. Add the pi&#232;ces of information I  mentioned in your question (docker file etc). It should help to find the root cause and the solution.","body":"No pb. Add the pi&#232;ces of information I  mentioned in your question (docker file etc). It should help to find the root cause and the solution."},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685450337,"post_id":76342083,"comment_id":134658877,"body_markdown":"@SebPerp I added the dockerfile","body":"@SebPerp I added the dockerfile"},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685487152,"post_id":76342083,"comment_id":134666375,"body_markdown":"@SebPerp problem is fixed. I wrote the solution below","body":"@SebPerp problem is fixed. I wrote the solution below"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685554444,"post_id":76342083,"comment_id":134677901,"body_markdown":"Good news ! Thanks for your docker file I didnt know about this layout management provided by spring boot","body":"Good news ! Thanks for your docker file I didnt know about this layout management provided by spring boot"},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685625166,"post_id":76342083,"comment_id":134688501,"body_markdown":"so its win-win for both of us then :)","body":"so its win-win for both of us then :)"}],"answers":[{"tags":[],"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685487096,"creation_date":1685487096,"answer_id":76369104,"question_id":76342083,"body_markdown":"I have fixed the problem.\r\n\r\nI don&#39;t know the exact cause of the problem but here is the solution. I want to thank @SebPerb because of his suggestion. \r\n\r\nWhen I use `WORKDIR`, the problem is fixed.\r\n\r\n    FROM amazoncorretto:17-alpine AS builder\r\n    WORKDIR application\r\n    ARG JAR_FILE=*.jar\r\n    COPY ${JAR_FILE} application.jar\r\n    RUN java -Djarmode=layertools -jar application.jar extract\r\n    \r\n    FROM amazoncorretto:17-alpine\r\n    WORKDIR application\r\n    COPY --from=builder application/dependencies/ ./\r\n    COPY --from=builder application/snapshot-dependencies/ ./\r\n    COPY --from=builder application/spring-boot-loader/ ./\r\n    COPY --from=builder application/application/ ./\r\n    ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\n","title":"Failed to initialize JPA File Must Exist Error In Kubernetes","body":"<p>I have fixed the problem.</p>\n<p>I don't know the exact cause of the problem but here is the solution. I want to thank @SebPerb because of his suggestion.</p>\n<p>When I use <code>WORKDIR</code>, the problem is fixed.</p>\n<pre><code>FROM amazoncorretto:17-alpine AS builder\nWORKDIR application\nARG JAR_FILE=*.jar\nCOPY ${JAR_FILE} application.jar\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM amazoncorretto:17-alpine\nWORKDIR application\nCOPY --from=builder application/dependencies/ ./\nCOPY --from=builder application/snapshot-dependencies/ ./\nCOPY --from=builder application/spring-boot-loader/ ./\nCOPY --from=builder application/application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n"}],"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76369104,"answer_count":1,"score":2,"last_activity_date":1685487120,"creation_date":1685113844,"question_id":76342083,"body_markdown":"I am trying to run an application with two different datasources. One of the datasource is to **write** one of them is to **read**\r\n\r\nMy application runs smoothly on my local. Not a single error. But when I deploy it to the k8s cluster, I am getting this error.\r\n\r\n# Log from K8S\r\n\r\n    Failed to initialize JPA EntityManagerFactory: File must exist : /proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/7/cwd/proc/sys/net/ipv4/tcp_autocorking\r\n\r\nI literally have no clue. The logs below is from my local. I think its related with JPA EntityManagerFactory so I believe it worth to share. \r\n\r\n# Log from Local\r\n\r\n    Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n    \r\n    PersistenceUnitInfo [\r\n        name: default\r\n        persistence provider classname: null\r\n        classloader: org.springframework.boot.loader.LaunchedURLClassLoader@8bd1b6a\r\n        excludeUnlistedClasses: true\r\n        JTA datasource: null\r\n        Non JTA datasource: HikariDataSource (null)\r\n        Transaction type: RESOURCE_LOCAL\r\n        PU root URL: file:/Users/berkin.akaydin/IdeaProjects/sendingmethods-api/target/sendingmethods-api-XXX.XXX.jar\r\n        Shared Cache Mode: UNSPECIFIED\r\n        Validation Mode: AUTO\r\n        Jar files URLs []\r\n        Managed classes names [\r\n            com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.OrderEntity\r\n            com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.TbbLogEntity\r\n            com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.WriteConnectionEntity\r\n            ]\r\n        Mapping files names []\r\n        Properties []\r\n    ]\r\n\r\n\r\n# Read Configuration (the same for write)\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n        basePackages = [&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.repository.read&quot;],\r\n        entityManagerFactoryRef = &quot;readEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;readTransactionManager&quot;\r\n    )\r\n    class readConfiguration {\r\n    \r\n        @Bean(&quot;readDataSourceProperties&quot;)\r\n        @ConfigurationProperties(&quot;spring.datasource.read&quot;)\r\n        fun readDataSourceProperties() = DataSourceProperties()\r\n    \r\n        @Bean(&quot;readDataSource&quot;)\r\n        fun readDataSource(\r\n            @Qualifier(&quot;readDataSourceProperties&quot;) readDataSourceProperties: DataSourceProperties\r\n        ): DataSource =\r\n            readDataSourceProperties.initializeDataSourceBuilder().build()\r\n    \r\n        @Bean(&quot;readTransactionManager&quot;)\r\n        fun readTransactionManager(\r\n            @Qualifier(&quot;readEntityManagerFactory&quot;) readEntityManagerFactory: LocalContainerEntityManagerFactoryBean\r\n        ) = readEntityManagerFactory.`object`?.let { JpaTransactionManager(it) }\r\n    \r\n        @Bean(&quot;readEntityManagerFactory&quot;)\r\n        fun readEntityManagerFactory(\r\n            @Qualifier(&quot;readDataSource&quot;) dataSource: DataSource\r\n        ): LocalContainerEntityManagerFactoryBean {\r\n            val entityManagerFactory = LocalContainerEntityManagerFactoryBean()\r\n            entityManagerFactory.dataSource = dataSource\r\n            entityManagerFactory.setPackagesToScan(&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.model.read&quot;)\r\n            entityManagerFactory.persistenceProvider = HibernatePersistenceProvider()\r\n            entityManagerFactory.jpaVendorAdapter = HibernateJpaVendorAdapter()\r\n            return entityManagerFactory\r\n        }\r\n    }\r\n\r\n\r\n# application.properties\r\n\r\n    jpa:\r\n        open-in-view: false\r\n        hibernate.ddl-auto: validate\r\n        database: MySQL\r\n\r\n\r\n# Dockerfile\r\n\r\n    FROM amazoncorretto:17-alpine as builder\r\n    ARG JAR_FILE=*.jar\r\n    COPY ${JAR_FILE} application.jar\r\n    RUN java -Djarmode=layertools -jar application.jar extract\r\n    \r\n    FROM amazoncorretto:17-alpine\r\n    COPY --from=builder dependencies/ ./\r\n    COPY --from=builder snapshot-dependencies/ ./\r\n    COPY --from=builder spring-boot-loader/ ./\r\n    COPY --from=builder application/ ./\r\n    ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\n\r\nEdit: \r\nFull log is here\r\nhttps://pastebin.com/smhGekNb","title":"Failed to initialize JPA File Must Exist Error In Kubernetes","body":"<p>I am trying to run an application with two different datasources. One of the datasource is to <strong>write</strong> one of them is to <strong>read</strong></p>\n<p>My application runs smoothly on my local. Not a single error. But when I deploy it to the k8s cluster, I am getting this error.</p>\n<h1>Log from K8S</h1>\n<pre><code>Failed to initialize JPA EntityManagerFactory: File must exist : /proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/7/cwd/proc/sys/net/ipv4/tcp_autocorking\n</code></pre>\n<p>I literally have no clue. The logs below is from my local. I think its related with JPA EntityManagerFactory so I believe it worth to share.</p>\n<h1>Log from Local</h1>\n<pre><code>Building JPA container EntityManagerFactory for persistence unit 'default'\n\nPersistenceUnitInfo [\n    name: default\n    persistence provider classname: null\n    classloader: org.springframework.boot.loader.LaunchedURLClassLoader@8bd1b6a\n    excludeUnlistedClasses: true\n    JTA datasource: null\n    Non JTA datasource: HikariDataSource (null)\n    Transaction type: RESOURCE_LOCAL\n    PU root URL: file:/Users/berkin.akaydin/IdeaProjects/sendingmethods-api/target/sendingmethods-api-XXX.XXX.jar\n    Shared Cache Mode: UNSPECIFIED\n    Validation Mode: AUTO\n    Jar files URLs []\n    Managed classes names [\n        com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.OrderEntity\n        com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.TbbLogEntity\n        com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.WriteConnectionEntity\n        ]\n    Mapping files names []\n    Properties []\n]\n</code></pre>\n<h1>Read Configuration (the same for write)</h1>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n    basePackages = [&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.repository.read&quot;],\n    entityManagerFactoryRef = &quot;readEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;readTransactionManager&quot;\n)\nclass readConfiguration {\n\n    @Bean(&quot;readDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.datasource.read&quot;)\n    fun readDataSourceProperties() = DataSourceProperties()\n\n    @Bean(&quot;readDataSource&quot;)\n    fun readDataSource(\n        @Qualifier(&quot;readDataSourceProperties&quot;) readDataSourceProperties: DataSourceProperties\n    ): DataSource =\n        readDataSourceProperties.initializeDataSourceBuilder().build()\n\n    @Bean(&quot;readTransactionManager&quot;)\n    fun readTransactionManager(\n        @Qualifier(&quot;readEntityManagerFactory&quot;) readEntityManagerFactory: LocalContainerEntityManagerFactoryBean\n    ) = readEntityManagerFactory.`object`?.let { JpaTransactionManager(it) }\n\n    @Bean(&quot;readEntityManagerFactory&quot;)\n    fun readEntityManagerFactory(\n        @Qualifier(&quot;readDataSource&quot;) dataSource: DataSource\n    ): LocalContainerEntityManagerFactoryBean {\n        val entityManagerFactory = LocalContainerEntityManagerFactoryBean()\n        entityManagerFactory.dataSource = dataSource\n        entityManagerFactory.setPackagesToScan(&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.model.read&quot;)\n        entityManagerFactory.persistenceProvider = HibernatePersistenceProvider()\n        entityManagerFactory.jpaVendorAdapter = HibernateJpaVendorAdapter()\n        return entityManagerFactory\n    }\n}\n</code></pre>\n<h1>application.properties</h1>\n<pre><code>jpa:\n    open-in-view: false\n    hibernate.ddl-auto: validate\n    database: MySQL\n</code></pre>\n<h1>Dockerfile</h1>\n<pre><code>FROM amazoncorretto:17-alpine as builder\nARG JAR_FILE=*.jar\nCOPY ${JAR_FILE} application.jar\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM amazoncorretto:17-alpine\nCOPY --from=builder dependencies/ ./\nCOPY --from=builder snapshot-dependencies/ ./\nCOPY --from=builder spring-boot-loader/ ./\nCOPY --from=builder application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>Edit:\nFull log is here\n<a href=\"https://pastebin.com/smhGekNb\" rel=\"nofollow noreferrer\">https://pastebin.com/smhGekNb</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"score":0,"creation_date":1685467031,"post_id":76367128,"comment_id":134663033,"body_markdown":"This is the formula: amountX = principal * (1.0 + rate)^yearX (X denotes a particular year)","body":"This is the formula: amountX = principal * (1.0 + rate)^yearX (X denotes a particular year)"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1685467065,"post_id":76367128,"comment_id":134663037,"body_markdown":"You are multiplying the rate with your value twice a year. First here `eachYearInvest*rate` and then one more time here `(eachYearRevenue+eachYearInvest)*rate`. Logically that rate is payed out once per year, so multiplying it into your result twice should be a massive red flag for you.","body":"You are multiplying the rate with your value twice a year. First here <code>eachYearInvest*rate</code> and then one more time here <code>(eachYearRevenue+eachYearInvest)*rate</code>. Logically that rate is payed out once per year, so multiplying it into your result twice should be a massive red flag for you."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685467057,"creation_date":1685467057,"answer_id":76367176,"question_id":76367128,"body_markdown":"You&#39;re multiplying by the interest rate twice for each loop. Also, the revenue/invest calculation doesn&#39;t make sense.\r\n\r\nIf you&#39;re defining revenue as the amount made relative to the starting amount, then I assume this is what you want:\r\n\r\n    public static void main(String[] args) {\r\n        final int year = 10;\r\n        final double startingAmount = 12.0;\r\n        final double rate = 1.035;\r\n        double amount = startingAmount;\r\n        for(int i = 1; i &lt;= year; i++) {\r\n            amount *= rate;\r\n            System.out.println(&quot;at &quot; + i + &quot; year the total revenue is &quot; + (amount - startingAmount));\r\n        }\r\n    }\r\n\r\nwhich outputs this:\r\n\r\n    at 1 year the total revenue is 0.41999999999999815\r\n    at 2 year the total revenue is 0.8546999999999976\r\n    at 3 year the total revenue is 1.304614499999996\r\n    at 4 year the total revenue is 1.7702760074999944\r\n    at 5 year the total revenue is 2.252235667762493\r\n    at 6 year the total revenue is 2.7510639161341786\r\n    at 7 year the total revenue is 3.2673511531988737\r\n    at 8 year the total revenue is 3.801708443560834\r\n    at 9 year the total revenue is 4.3547682390854625\r\n    at 10 year the total revenue is 4.927185127453452","title":"Additional investment compound interest calculation","body":"<p>You're multiplying by the interest rate twice for each loop. Also, the revenue/invest calculation doesn't make sense.</p>\n<p>If you're defining revenue as the amount made relative to the starting amount, then I assume this is what you want:</p>\n<pre><code>public static void main(String[] args) {\n    final int year = 10;\n    final double startingAmount = 12.0;\n    final double rate = 1.035;\n    double amount = startingAmount;\n    for(int i = 1; i &lt;= year; i++) {\n        amount *= rate;\n        System.out.println(&quot;at &quot; + i + &quot; year the total revenue is &quot; + (amount - startingAmount));\n    }\n}\n</code></pre>\n<p>which outputs this:</p>\n<pre><code>at 1 year the total revenue is 0.41999999999999815\nat 2 year the total revenue is 0.8546999999999976\nat 3 year the total revenue is 1.304614499999996\nat 4 year the total revenue is 1.7702760074999944\nat 5 year the total revenue is 2.252235667762493\nat 6 year the total revenue is 2.7510639161341786\nat 7 year the total revenue is 3.2673511531988737\nat 8 year the total revenue is 3.801708443560834\nat 9 year the total revenue is 4.3547682390854625\nat 10 year the total revenue is 4.927185127453452\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685474137,"creation_date":1685467208,"answer_id":76367190,"question_id":76367128,"body_markdown":"&gt;  the expect result should be 12.42/25.28/38.59 etc\r\n\r\nWhat you want based on your question is future value (Deposit plus interest).\r\nYou need to multiply the sum of `(eachYearInvest + cumulativeYearsFutureValue)` by the `rate`, then print.  To round up I added `.005` to the results.  This presumes an initial investment of 12K specified in thousands of dollars.\r\n```\r\nint year=10;\r\ndouble eachYearInvest = 12, // in thousands\r\ncumulativeYearsFutureValue = 0\r\nrate=1.035;\r\nfor(int i=1; i&lt;=year; i++) {            \r\n    cumulativeYearsFutureValue = (eachYearInvest + cumulativeYearsFutureValue)*rate;\r\n    System.out.printf(&quot;at &quot; + i + &quot; year the cumulative future value is %.2f%n&quot;, \r\n     cumulativeYearsFutureValue+.005);\r\n}\r\n```\r\nprints\r\n```\r\nat 1 year the cumulative future value is 12.42\r\nat 2 year the cumulative future value is 25.28\r\nat 3 year the cumulative future value is 38.58\r\nat 4 year the cumulative future value is 52.35\r\nat 5 year the cumulative future value is 66.61\r\nat 6 year the cumulative future value is 81.36\r\nat 7 year the cumulative future value is 96.63\r\nat 8 year the cumulative future value is 112.43\r\nat 9 year the cumulative future value is 128.78\r\nat 10 year the cumulative future value is 145.71\r\n","title":"Additional investment compound interest calculation","body":"<blockquote>\n<p>the expect result should be 12.42/25.28/38.59 etc</p>\n</blockquote>\n<p>What you want based on your question is future value (Deposit plus interest).\nYou need to multiply the sum of <code>(eachYearInvest + cumulativeYearsFutureValue)</code> by the <code>rate</code>, then print.  To round up I added <code>.005</code> to the results.  This presumes an initial investment of 12K specified in thousands of dollars.</p>\n<pre><code>int year=10;\ndouble eachYearInvest = 12, // in thousands\ncumulativeYearsFutureValue = 0\nrate=1.035;\nfor(int i=1; i&lt;=year; i++) {            \n    cumulativeYearsFutureValue = (eachYearInvest + cumulativeYearsFutureValue)*rate;\n    System.out.printf(&quot;at &quot; + i + &quot; year the cumulative future value is %.2f%n&quot;, \n     cumulativeYearsFutureValue+.005);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>at 1 year the cumulative future value is 12.42\nat 2 year the cumulative future value is 25.28\nat 3 year the cumulative future value is 38.58\nat 4 year the cumulative future value is 52.35\nat 5 year the cumulative future value is 66.61\nat 6 year the cumulative future value is 81.36\nat 7 year the cumulative future value is 96.63\nat 8 year the cumulative future value is 112.43\nat 9 year the cumulative future value is 128.78\nat 10 year the cumulative future value is 145.71\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685467425,"creation_date":1685467425,"answer_id":76367222,"question_id":76367128,"body_markdown":"Try this:\r\n\r\n\tpublic static void main(String[] args) throws IOException, ParseException {\r\n\t\tint year = 10;\r\n\t\tdouble eachYearInvest = 12, eachYearRevenue = 0, rate = 1.035, eachYearIn = eachYearInvest;\r\n\r\n\t\tfor (int i = 1; i &lt;= year; i++) {\r\n\t\t\teachYearRevenue = eachYearIn * rate;\r\n\t\t\tSystem.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\r\n\t\t\teachYearIn = eachYearRevenue + eachYearInvest;\r\n\t\t}\r\n\t}","title":"Additional investment compound interest calculation","body":"<p>Try this:</p>\n<pre><code>public static void main(String[] args) throws IOException, ParseException {\n    int year = 10;\n    double eachYearInvest = 12, eachYearRevenue = 0, rate = 1.035, eachYearIn = eachYearInvest;\n\n    for (int i = 1; i &lt;= year; i++) {\n        eachYearRevenue = eachYearIn * rate;\n        System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\n        eachYearIn = eachYearRevenue + eachYearInvest;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685473042,"creation_date":1685472548,"answer_id":76367785,"question_id":76367128,"body_markdown":"If you are investing $12k, shouldn&#39;t your principal be `12_000.0`?\r\n\r\nAlso, the number formatter supports currencies.\r\n\r\n```java\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class RevenueCalculator {\r\n    private static final NumberFormat currencyFormatter;\r\n\r\n    static {\r\n        currencyFormatter = NumberFormat.getCurrencyInstance(Locale.US);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double revenue = calculateRevenue(12_000.0, 0.035, 10);\r\n        System.out.printf(&quot;Final amount: %s&quot;, currencyFormatter.format(revenue));\r\n    }\r\n\r\n    public static double calculateRevenue(double principal, double rate, int years) {\r\n        double revenue = principal;\r\n        for (int year = 1; year &lt;= years; year++) {\r\n            revenue *= (1 + rate);\r\n            System.out.printf(&quot;At %d year(s), the total revenue is: %s%n&quot;,\r\n                    year, currencyFormatter.format(revenue - principal));\r\n        }\r\n        return revenue;\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nAt 1 year(s), the total revenue is: $420.00\r\nAt 2 year(s), the total revenue is: $854.70\r\nAt 3 year(s), the total revenue is: $1,304.61\r\nAt 4 year(s), the total revenue is: $1,770.28\r\nAt 5 year(s), the total revenue is: $2,252.24\r\nAt 6 year(s), the total revenue is: $2,751.06\r\nAt 7 year(s), the total revenue is: $3,267.35\r\nAt 8 year(s), the total revenue is: $3,801.71\r\nAt 9 year(s), the total revenue is: $4,354.77\r\nAt 10 year(s), the total revenue is: $4,927.19\r\nFinal amount: $16,927.19\r\n```\r\n\r\nSee also: https://www.calculateme.com/compound-interest/12000/3.5/10","title":"Additional investment compound interest calculation","body":"<p>If you are investing $12k, shouldn't your principal be <code>12_000.0</code>?</p>\n<p>Also, the number formatter supports currencies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class RevenueCalculator {\n    private static final NumberFormat currencyFormatter;\n\n    static {\n        currencyFormatter = NumberFormat.getCurrencyInstance(Locale.US);\n    }\n\n    public static void main(String[] args) {\n        double revenue = calculateRevenue(12_000.0, 0.035, 10);\n        System.out.printf(&quot;Final amount: %s&quot;, currencyFormatter.format(revenue));\n    }\n\n    public static double calculateRevenue(double principal, double rate, int years) {\n        double revenue = principal;\n        for (int year = 1; year &lt;= years; year++) {\n            revenue *= (1 + rate);\n            System.out.printf(&quot;At %d year(s), the total revenue is: %s%n&quot;,\n                    year, currencyFormatter.format(revenue - principal));\n        }\n        return revenue;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>At 1 year(s), the total revenue is: $420.00\nAt 2 year(s), the total revenue is: $854.70\nAt 3 year(s), the total revenue is: $1,304.61\nAt 4 year(s), the total revenue is: $1,770.28\nAt 5 year(s), the total revenue is: $2,252.24\nAt 6 year(s), the total revenue is: $2,751.06\nAt 7 year(s), the total revenue is: $3,267.35\nAt 8 year(s), the total revenue is: $3,801.71\nAt 9 year(s), the total revenue is: $4,354.77\nAt 10 year(s), the total revenue is: $4,927.19\nFinal amount: $16,927.19\n</code></pre>\n<p>See also: <a href=\"https://www.calculateme.com/compound-interest/12000/3.5/10\" rel=\"nofollow noreferrer\">https://www.calculateme.com/compound-interest/12000/3.5/10</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685486858,"creation_date":1685486858,"answer_id":76369095,"question_id":76367128,"body_markdown":"The _eachYearRevenue_ assignment should include the previous year&#39;s value.\r\n\r\n```java\r\neachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\r\n```\r\n\r\nAs opposed to incrementing the _eachYearInvest_ value.\r\n\r\n```java\r\neachYearInvest = (eachYearRevenue+eachYearInvest)*rate;\r\n```\r\n\r\nSo, your total code would be the following.\r\n\r\n```java\r\nint year=10;\r\ndouble eachYearInvest = 12,\r\n    eachYearRevenue=0,\r\n    rate=1.035;\r\nfor(int i=1; i&lt;=year; i++) {\r\n    eachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\r\n    System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nat 1 year the total revenue are 12.419999999999998\r\nat 2 year the total revenue are 25.274699999999996\r\nat 3 year the total revenue are 38.579314499999995\r\nat 4 year the total revenue are 52.34959050749999\r\nat 5 year the total revenue are 66.60182617526247\r\nat 6 year the total revenue are 81.35289009139666\r\nat 7 year the total revenue are 96.62024124459553\r\nat 8 year the total revenue are 112.42194968815637\r\nat 9 year the total revenue are 128.77671792724183\r\nat 10 year the total revenue are 145.70390305469527\r\n```","title":"Additional investment compound interest calculation","body":"<p>The <em>eachYearRevenue</em> assignment should include the previous year's value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>eachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\n</code></pre>\n<p>As opposed to incrementing the <em>eachYearInvest</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>eachYearInvest = (eachYearRevenue+eachYearInvest)*rate;\n</code></pre>\n<p>So, your total code would be the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int year=10;\ndouble eachYearInvest = 12,\n    eachYearRevenue=0,\n    rate=1.035;\nfor(int i=1; i&lt;=year; i++) {\n    eachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\n    System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>at 1 year the total revenue are 12.419999999999998\nat 2 year the total revenue are 25.274699999999996\nat 3 year the total revenue are 38.579314499999995\nat 4 year the total revenue are 52.34959050749999\nat 5 year the total revenue are 66.60182617526247\nat 6 year the total revenue are 81.35289009139666\nat 7 year the total revenue are 96.62024124459553\nat 8 year the total revenue are 112.42194968815637\nat 9 year the total revenue are 128.77671792724183\nat 10 year the total revenue are 145.70390305469527\n</code></pre>\n"}],"owner":{"account_id":24768436,"reputation":9,"user_id":18652191,"display_name":"Don"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1685486858,"creation_date":1685466584,"question_id":76367128,"body_markdown":"Hi I try to figure out this scenario, \r\ninvest 12k each year, anuual rate is 3.5%, total 10 years. \r\nmy code start getting incorrect calculation since second year. \r\nis there any logic error to use this for loop? \r\nthe expect result should be 12.42/25.28/38.59 etc\r\nbut I got 12.42/26.16/55.10/116.05.....\r\n\r\n    \tint year=10;\r\n\t\tdouble eachYearInvest = 12, \r\n\t\t       eachYearRevenue=0,\r\n\t\t       rate=1.035;\r\n\t\tfor(int i=1; i&lt;=year; i++) {\t\t\t\r\n\t\t\teachYearRevenue = eachYearInvest*rate;\r\n\t\t\tSystem.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\r\n\t\t\teachYearInvest = (eachYearRevenue+eachYearInvest)*rate;\t\t\t\r\n\t\t}","title":"Additional investment compound interest calculation","body":"<p>Hi I try to figure out this scenario,\ninvest 12k each year, anuual rate is 3.5%, total 10 years.\nmy code start getting incorrect calculation since second year.\nis there any logic error to use this for loop?\nthe expect result should be 12.42/25.28/38.59 etc\nbut I got 12.42/26.16/55.10/116.05.....</p>\n<pre><code>    int year=10;\n    double eachYearInvest = 12, \n           eachYearRevenue=0,\n           rate=1.035;\n    for(int i=1; i&lt;=year; i++) {            \n        eachYearRevenue = eachYearInvest*rate;\n        System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\n        eachYearInvest = (eachYearRevenue+eachYearInvest)*rate;         \n    }\n</code></pre>\n"},{"tags":["java","android","android-intent","android-pendingintent"],"answers":[{"tags":[],"owner":{"account_id":20104819,"reputation":96,"user_id":14742593,"display_name":"coderms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607056885,"creation_date":1607056885,"answer_id":65138030,"question_id":65137470,"body_markdown":"From Android 10 background apps are not allowed to start activities directly. Instead they need to show notification to user and get user consent. An exception to this is If your app has SYSTEM_ALERT_WINDOW permission granted.\r\n\r\nSee\r\n\r\nhttps://developer.android.com/guide/components/activities/background-starts","title":"Activity not starting from Android JobService","body":"<p>From Android 10 background apps are not allowed to start activities directly. Instead they need to show notification to user and get user consent. An exception to this is If your app has SYSTEM_ALERT_WINDOW permission granted.</p>\n<p>See</p>\n<p><a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/background-starts</a></p>\n"}],"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65138030,"answer_count":1,"score":0,"last_activity_date":1685485274,"creation_date":1607051958,"question_id":65137470,"body_markdown":"I am trying to start an activity from the Android Jobservice and it was not starting. When I start an activity from the notification builder with addAction method I am able to do it but the same I have to do it without any user consent and here I am fail.\r\n\r\n         final Intent intent1 =  Intent intent = new Intent(context, onActivity.class);\r\n         final PendingIntent pendingIntent = PendingIntent.getActivity(this, &quot;1&quot;,\r\n                        intent1 , PendingIntent.FLAG_ONE_SHOT);\r\n    if(acceptvalid) {\r\n        mBuilder.setContentTitle(getString(R.string.app_name))\r\n                        .setContentText(getString(R.string.on))\r\n                        .setSmallIcon(R.drawable.icon)\r\n                        .setDefaults(Notification.DEFAULT_ALL)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setVisibility(Notification.VISIBILITY_PUBLIC)\r\n                        .setAutoCancel(true)\r\n                        .addAction(R.drawable.ic_yes, getString(android.R.string.yes), installPendingIntent);\r\n                       \r\n        \r\n        notificationManager.notify(1, mBuilder.build());\r\n    } else {\r\n         try{           \r\n                  installPendingIntent.send();\r\n         } catch (PendingIntent.CanceledException e) {\r\n                 LOG.error(&quot;error starting activity.&quot;, e);\r\n            }\r\n        }\r\n\r\nThe above if loop code works for me and else is not working. I even tried the below code in else loop:\r\n\r\n    intent1.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    this.startActivity(intent1 );\r\n\r\nWhat is my error?\r\n","title":"Activity not starting from Android JobService","body":"<p>I am trying to start an activity from the Android Jobservice and it was not starting. When I start an activity from the notification builder with addAction method I am able to do it but the same I have to do it without any user consent and here I am fail.</p>\n<pre><code>     final Intent intent1 =  Intent intent = new Intent(context, onActivity.class);\n     final PendingIntent pendingIntent = PendingIntent.getActivity(this, &quot;1&quot;,\n                    intent1 , PendingIntent.FLAG_ONE_SHOT);\nif(acceptvalid) {\n    mBuilder.setContentTitle(getString(R.string.app_name))\n                    .setContentText(getString(R.string.on))\n                    .setSmallIcon(R.drawable.icon)\n                    .setDefaults(Notification.DEFAULT_ALL)\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\n                    .setVisibility(Notification.VISIBILITY_PUBLIC)\n                    .setAutoCancel(true)\n                    .addAction(R.drawable.ic_yes, getString(android.R.string.yes), installPendingIntent);\n                   \n    \n    notificationManager.notify(1, mBuilder.build());\n} else {\n     try{           \n              installPendingIntent.send();\n     } catch (PendingIntent.CanceledException e) {\n             LOG.error(&quot;error starting activity.&quot;, e);\n        }\n    }\n</code></pre>\n<p>The above if loop code works for me and else is not working. I even tried the below code in else loop:</p>\n<pre><code>intent1.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nthis.startActivity(intent1 );\n</code></pre>\n<p>What is my error?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":271947,"reputation":1205,"user_id":562752,"accept_rate":45,"display_name":"lennykey"},"score":0,"creation_date":1518605964,"post_id":29885428,"comment_id":84572367,"body_markdown":"Lombok opend issues on GitHub has one open issue for this https://github.com/rzwitserloot/lombok/issues/1043","body":"Lombok opend issues on GitHub has one open issue for this <a href=\"https://github.com/rzwitserloot/lombok/issues/1043\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/1043</a>"},{"owner":{"account_id":3458166,"reputation":607,"user_id":2896153,"accept_rate":71,"display_name":"dragosb"},"score":0,"creation_date":1611661045,"post_id":29885428,"comment_id":116516980,"body_markdown":"It won&#39;t probably work with lombok, since you need access to the actual builder source code, but if you do have access then you can try a plugin I developed to solve exactly these kind of issues: https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin","body":"It won&#39;t probably work with lombok, since you need access to the actual builder source code, but if you do have access then you can try a plugin I developed to solve exactly these kind of issues: <a href=\"https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin\" rel=\"nofollow noreferrer\">github.com/banterly91/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":168406,"reputation":3588,"user_id":4105584,"accept_rate":60,"display_name":"Pawel"},"down_vote_count":7,"up_vote_count":117,"is_accepted":true,"score":110,"last_activity_date":1434456836,"creation_date":1434456836,"answer_id":30867286,"question_id":29885428,"body_markdown":"You can do it easily with Lombok annotation configuration\r\n\r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n    \r\n    @Builder(builderMethodName = &quot;hiddenBuilder&quot;)\r\n    @ToString\r\n    public class Person {\r\n    \r\n    \tprivate String name;\r\n    \tprivate String surname;\r\n    \r\n    \tpublic static PersonBuilder builder(String name) {\r\n    \t\treturn hiddenBuilder().name(name);\r\n    \t}\r\n    }\r\nAnd then use it like that\r\n\r\n    Person p = Person.builder(&quot;Name&quot;).surname(&quot;Surname&quot;).build();\r\n\tSystem.out.println(p);\r\n\r\nOf course `@ToString` is optional here.","title":"Required arguments with a Lombok @Builder","body":"<p>You can do it easily with Lombok annotation configuration</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.ToString;\n\n@Builder(builderMethodName = \"hiddenBuilder\")\n@ToString\npublic class Person {\n\n    private String name;\n    private String surname;\n\n    public static PersonBuilder builder(String name) {\n        return hiddenBuilder().name(name);\n    }\n}\n</code></pre>\n\n<p>And then use it like that</p>\n\n<pre><code>Person p = Person.builder(\"Name\").surname(\"Surname\").build();\nSystem.out.println(p);\n</code></pre>\n\n<p>Of course <code>@ToString</code> is optional here.</p>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1458249031,"creation_date":1458247266,"answer_id":36071280,"question_id":29885428,"body_markdown":"Here&#39;s another approach:\r\n\r\n    @Builder()\r\n    @Getter\r\n    @ToString\r\n    public class Person {\r\n    \t\r\n    \tprivate final String name;\r\n    \tprivate final String surname;\r\n    \t\r\n    \tpublic static PersonBuilder builder(String name){\r\n    \t\treturn new PersonBuilder().name(name);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPerson p = Person.builder(&quot;John Doe&quot;)\r\n    \t\t\t\t.surname(&quot;Bill&quot;)\r\n    \t\t\t\t.build();\r\n    \t}\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>Here's another approach:</p>\n\n<pre><code>@Builder()\n@Getter\n@ToString\npublic class Person {\n\n    private final String name;\n    private final String surname;\n\n    public static PersonBuilder builder(String name){\n        return new PersonBuilder().name(name);\n    }\n\n    public static void main(String[] args) {\n        Person p = Person.builder(\"John Doe\")\n                .surname(\"Bill\")\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2908020,"reputation":4642,"user_id":2492865,"display_name":"Anton Koscejev"},"down_vote_count":6,"up_vote_count":68,"is_accepted":false,"score":62,"last_activity_date":1459329670,"creation_date":1459329670,"answer_id":36304580,"question_id":29885428,"body_markdown":"I would recommend against this approach, as you will struggle to apply it consistently on other objects. Instead, you can just mark fields with `@lombok.NonNull` annotation and Lombok will generate null checks for you in the constructor and setters, so that `Builder.build()` will fail, if those fields are not set.\r\n\r\nUsing builder pattern allows you to have very clear identification of which fields you&#39;re setting to which values. This is already lost for name field in your example, and it will further be lost for all other required fields, if you&#39;re building an object with multiple required fields. Consider the following example, can you tell which field is which just by reading code?\r\n\r\n    Person.builder(&quot;John&quot;, &quot;Michael&quot;, 16, 1987) // which is name, which is surname? what is 16?\r\n        .year(1982) // if this is year of birth, then what is 1987 above?\r\n        .build()\r\n","title":"Required arguments with a Lombok @Builder","body":"<p>I would recommend against this approach, as you will struggle to apply it consistently on other objects. Instead, you can just mark fields with <code>@lombok.NonNull</code> annotation and Lombok will generate null checks for you in the constructor and setters, so that <code>Builder.build()</code> will fail, if those fields are not set.</p>\n\n<p>Using builder pattern allows you to have very clear identification of which fields you're setting to which values. This is already lost for name field in your example, and it will further be lost for all other required fields, if you're building an object with multiple required fields. Consider the following example, can you tell which field is which just by reading code?</p>\n\n<pre><code>Person.builder(\"John\", \"Michael\", 16, 1987) // which is name, which is surname? what is 16?\n    .year(1982) // if this is year of birth, then what is 1987 above?\n    .build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1601812,"reputation":1854,"user_id":1482700,"accept_rate":72,"display_name":"kozla13"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1481799069,"creation_date":1481799069,"answer_id":41162327,"question_id":29885428,"body_markdown":"This is my solution for the problem\r\n\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NonNull;\r\n    \r\n    @Data\r\n    @Builder(builderMethodName = &quot;privateBuilder&quot;)\r\n    public class Person {\r\n        @NonNull\r\n        private String name;\r\n        @NonNull\r\n        private String surname;\r\n        private int age;//optional\r\n\r\n    public static Url safeBuilder() {\r\n        return new Builder();\r\n    }\r\n\r\n    interface Url {\r\n        Surname name(String name);\r\n    }\r\n\r\n    interface Surname {\r\n        Build surname(String surname);\r\n    }\r\n\r\n    interface Build {\r\n        Build age(int age);\r\n        Person build();\r\n    }\r\n\r\n    public static class Builder implements Url, Surname, Build {\r\n        PersonBuilder pb = Person.privateBuilder();\r\n\r\n        @Override\r\n        public Surname name(String name) {\r\n            pb.name(name);\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public Build surname(String surname) {\r\n            pb.surname(surname);\r\n            return this;\r\n\r\n        }\r\n\r\n        @Override\r\n        public Build age(int age) {\r\n            pb.age(age);\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public Person build() {\r\n            return pb.build();\r\n        }\r\n        }\r\n    }\r\n\r\ninspired by this blog post:\r\n\r\nhttps://blog.jayway.com/2012/02/07/builder-pattern-with-a-twist/","title":"Required arguments with a Lombok @Builder","body":"<p>This is my solution for the problem</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.Data;\nimport lombok.NonNull;\n\n@Data\n@Builder(builderMethodName = \"privateBuilder\")\npublic class Person {\n    @NonNull\n    private String name;\n    @NonNull\n    private String surname;\n    private int age;//optional\n\npublic static Url safeBuilder() {\n    return new Builder();\n}\n\ninterface Url {\n    Surname name(String name);\n}\n\ninterface Surname {\n    Build surname(String surname);\n}\n\ninterface Build {\n    Build age(int age);\n    Person build();\n}\n\npublic static class Builder implements Url, Surname, Build {\n    PersonBuilder pb = Person.privateBuilder();\n\n    @Override\n    public Surname name(String name) {\n        pb.name(name);\n        return this;\n    }\n\n    @Override\n    public Build surname(String surname) {\n        pb.surname(surname);\n        return this;\n\n    }\n\n    @Override\n    public Build age(int age) {\n        pb.age(age);\n        return this;\n    }\n\n    @Override\n    public Person build() {\n        return pb.build();\n    }\n    }\n}\n</code></pre>\n\n<p>inspired by this blog post:</p>\n\n<p><a href=\"https://blog.jayway.com/2012/02/07/builder-pattern-with-a-twist/\" rel=\"noreferrer\">https://blog.jayway.com/2012/02/07/builder-pattern-with-a-twist/</a></p>\n"},{"tags":[],"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1579825246,"creation_date":1519986653,"answer_id":49067307,"question_id":29885428,"body_markdown":"The simpliest solution is to add a `@lombok.NonNull` to all mandatory values. The Builder will fail to build the object when mandatory fields are not set.\r\n\r\nHere&#39;s a JUnit test to demonstrate the behavior of all combinations of `final` and `@NonNull`:\r\n\r\n    import static org.junit.Assert.fail;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n    \r\n    public class BuilderTests {\r\n    \t@Test\r\n    \tpublic void allGiven() {\r\n    \t\tSystem.err.println(Foo.builder()\r\n                .nonFinalNull(&quot;has_value&quot;)\r\n                .nonFinalNonNull(&quot;has_value&quot;)\r\n                .finalNull(&quot;has_value&quot;)\r\n                .finalNonNull(&quot;has_value&quot;)\r\n                .build());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void noneGiven() {\r\n    \t\ttry {\r\n    \t\t\tSystem.err.println(Foo.builder()\r\n                    .build()\r\n                    .toString());\r\n    \t\t\tfail();\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\t// expected\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void nonFinalNullOmitted() {\r\n    \t\tSystem.err.println(Foo.builder()\r\n                .nonFinalNonNull(&quot;has_value&quot;)\r\n                .finalNull(&quot;has_value&quot;)\r\n                .finalNonNull(&quot;has_value&quot;)\r\n                .build());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void nonFinalNonNullOmitted() {\r\n    \t\ttry {\r\n    \t\t\tSystem.err.println(Foo.builder()\r\n                    .nonFinalNull(&quot;has_value&quot;)\r\n                    .finalNull(&quot;has_value&quot;)\r\n                    .finalNonNull(&quot;has_value&quot;)\r\n                    .build());\r\n    \t\t\tfail();\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\t// expected\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void finalNullOmitted() {\r\n    \t\tSystem.err.println(Foo.builder()\r\n                .nonFinalNull(&quot;has_value&quot;)\r\n                .nonFinalNonNull(&quot;has_value&quot;)\r\n                .finalNonNull(&quot;has_value&quot;)\r\n                .build());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void finalNonNullOmitted() {\r\n    \t\ttry {\r\n    \t\t\tSystem.err.println(Foo.builder()\r\n                    .nonFinalNull(&quot;has_value&quot;)\r\n                    .nonFinalNonNull(&quot;has_value&quot;)\r\n                    .finalNull(&quot;has_value&quot;)\r\n                    .build());\r\n    \t\t\tfail();\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\t// expected\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Builder\r\n    \t@ToString\r\n    \tprivate static class Foo {\r\n    \t\tprivate String nonFinalNull;\r\n    \r\n    \t\t@lombok.NonNull\r\n    \t\tprivate String nonFinalNonNull;\r\n    \r\n    \t\tprivate final String finalNull;\r\n    \r\n    \t\t@lombok.NonNull\r\n    \t\tprivate final String finalNonNull;\r\n    \t}\r\n    }\r\n\r\n","title":"Required arguments with a Lombok @Builder","body":"<p>The simpliest solution is to add a <code>@lombok.NonNull</code> to all mandatory values. The Builder will fail to build the object when mandatory fields are not set.</p>\n\n<p>Here's a JUnit test to demonstrate the behavior of all combinations of <code>final</code> and <code>@NonNull</code>:</p>\n\n<pre><code>import static org.junit.Assert.fail;\n\nimport org.junit.Test;\n\nimport lombok.Builder;\nimport lombok.ToString;\n\npublic class BuilderTests {\n    @Test\n    public void allGiven() {\n        System.err.println(Foo.builder()\n            .nonFinalNull(\"has_value\")\n            .nonFinalNonNull(\"has_value\")\n            .finalNull(\"has_value\")\n            .finalNonNull(\"has_value\")\n            .build());\n    }\n\n    @Test\n    public void noneGiven() {\n        try {\n            System.err.println(Foo.builder()\n                .build()\n                .toString());\n            fail();\n        } catch (NullPointerException e) {\n            // expected\n        }\n    }\n\n    @Test\n    public void nonFinalNullOmitted() {\n        System.err.println(Foo.builder()\n            .nonFinalNonNull(\"has_value\")\n            .finalNull(\"has_value\")\n            .finalNonNull(\"has_value\")\n            .build());\n    }\n\n    @Test\n    public void nonFinalNonNullOmitted() {\n        try {\n            System.err.println(Foo.builder()\n                .nonFinalNull(\"has_value\")\n                .finalNull(\"has_value\")\n                .finalNonNull(\"has_value\")\n                .build());\n            fail();\n        } catch (NullPointerException e) {\n            // expected\n        }\n    }\n\n    @Test\n    public void finalNullOmitted() {\n        System.err.println(Foo.builder()\n            .nonFinalNull(\"has_value\")\n            .nonFinalNonNull(\"has_value\")\n            .finalNonNull(\"has_value\")\n            .build());\n    }\n\n    @Test\n    public void finalNonNullOmitted() {\n        try {\n            System.err.println(Foo.builder()\n                .nonFinalNull(\"has_value\")\n                .nonFinalNonNull(\"has_value\")\n                .finalNull(\"has_value\")\n                .build());\n            fail();\n        } catch (NullPointerException e) {\n            // expected\n        }\n    }\n\n    @Builder\n    @ToString\n    private static class Foo {\n        private String nonFinalNull;\n\n        @lombok.NonNull\n        private String nonFinalNonNull;\n\n        private final String finalNull;\n\n        @lombok.NonNull\n        private final String finalNonNull;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1540721563,"creation_date":1522206499,"answer_id":49525430,"question_id":29885428,"body_markdown":"Taking Kevin Day&#39;s [answer][1] a step further:\r\n\r\n    @Builder\r\n    @Getter\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE) // If immutability is desired\r\n    @ToString\r\n    public class Person {\r\n        @NonNull // Presumably name cannot be null since its required by the builder\r\n        private final String name;\r\n        private final String surname;\r\n\r\n        private static PersonBuilder builder() {\r\n            return new PersonBuilder();\r\n        }\r\n    \r\n        public static PersonBuilder builder(String name){\r\n            return builder().name(name);\r\n        }\r\n    \r\n    }\r\n\r\nIt&#39;s not ideal, but it provides compile time enforcement and callers of this class will have exactly one builder method to use.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36071280/2860319","title":"Required arguments with a Lombok @Builder","body":"<p>Taking Kevin Day's <a href=\"https://stackoverflow.com/a/36071280/2860319\">answer</a> a step further:</p>\n\n<pre><code>@Builder\n@Getter\n@AllArgsConstructor(access = AccessLevel.PRIVATE) // If immutability is desired\n@ToString\npublic class Person {\n    @NonNull // Presumably name cannot be null since its required by the builder\n    private final String name;\n    private final String surname;\n\n    private static PersonBuilder builder() {\n        return new PersonBuilder();\n    }\n\n    public static PersonBuilder builder(String name){\n        return builder().name(name);\n    }\n\n}\n</code></pre>\n\n<p>It's not ideal, but it provides compile time enforcement and callers of this class will have exactly one builder method to use.</p>\n"},{"tags":[],"owner":{"account_id":2471729,"reputation":1155,"user_id":2153411,"accept_rate":60,"display_name":"Krishna M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561559676,"creation_date":1561559676,"answer_id":56775292,"question_id":29885428,"body_markdown":"If you need this functionality, you can customize the builder class by yourself and you can still add `@Builder` Annotation.\r\n\r\n    @Builder\r\n    public class Person {\r\n    \t\r\n    \tpublic static class PersonBuilder {\r\n    \t\tprivate String name;\r\n    \t\t\r\n    \t\tprivate PersonBuilder() {\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic PersonBuilder(final String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static PersonBuilder builder() {\r\n    \t\treturn null; // or we can throw exception.\r\n    \t}\r\n    \t\r\n    \tpublic static PersonBuilder builder(final String name) {\r\n    \t\treturn new PersonBuilder(clientId);\r\n    \t}\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>If you need this functionality, you can customize the builder class by yourself and you can still add <code>@Builder</code> Annotation.</p>\n\n<pre><code>@Builder\npublic class Person {\n\n    public static class PersonBuilder {\n        private String name;\n\n        private PersonBuilder() {\n        }\n\n        public PersonBuilder(final String name) {\n            this.name = name;\n        }\n    }\n\n    private static PersonBuilder builder() {\n        return null; // or we can throw exception.\n    }\n\n    public static PersonBuilder builder(final String name) {\n        return new PersonBuilder(clientId);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3970425,"reputation":4907,"user_id":3275167,"accept_rate":82,"display_name":"coderz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568676330,"creation_date":1568416078,"answer_id":57931227,"question_id":29885428,"body_markdown":"Take `User` class as example, `id` field is required:\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE) // required, see https://stackoverflow.com/questions/51122400/why-is-lombok-builder-not-compatible-with-this-constructor\r\n    @NoArgsConstructor(access = AccessLevel.PRIVATE)\r\n    @Builder\r\n    @Getter\r\n    public class User {\r\n        private String id;\r\n        private String name;\r\n        private int age;\r\n    \r\n        public static UserBuilder builder(final String id) {\r\n            return new UserBuilder().id(id);\r\n        }\r\n    }\r\n\r\nYou can ***only*** initialize a `User` instance by builder like `User user = User.builder(&quot;id-123&quot;).name(&quot;Tom&quot;).build;`. With private no args constructer, you are not able to `User user = new User();` or `User user = new User(&quot;id-123&quot;);` so you always need to pass the required parameter `id`. Please note the initialized instance is immutable.","title":"Required arguments with a Lombok @Builder","body":"<p>Take <code>User</code> class as example, <code>id</code> field is required:</p>\n\n<pre><code>@AllArgsConstructor(access = AccessLevel.PRIVATE) // required, see https://stackoverflow.com/questions/51122400/why-is-lombok-builder-not-compatible-with-this-constructor\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\n@Builder\n@Getter\npublic class User {\n    private String id;\n    private String name;\n    private int age;\n\n    public static UserBuilder builder(final String id) {\n        return new UserBuilder().id(id);\n    }\n}\n</code></pre>\n\n<p>You can <strong><em>only</em></strong> initialize a <code>User</code> instance by builder like <code>User user = User.builder(\"id-123\").name(\"Tom\").build;</code>. With private no args constructer, you are not able to <code>User user = new User();</code> or <code>User user = new User(\"id-123\");</code> so you always need to pass the required parameter <code>id</code>. Please note the initialized instance is immutable.</p>\n"},{"tags":[],"owner":{"account_id":10585726,"reputation":33,"user_id":7798155,"display_name":"codemano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568938140,"creation_date":1568938140,"answer_id":58020197,"question_id":29885428,"body_markdown":"Combining the answer from @Pawel and comment from Max ...\r\n\r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n\r\n    @Builder\r\n    public class Person {\r\n\r\n      private String name;\r\n      private String surname;\r\n\r\n      public static PersonBuilder builder(String name) {\r\n        return new PersonBuilder().name(name);\r\n      }\r\n    }\r\n\r\n\r\n  ","title":"Required arguments with a Lombok @Builder","body":"<p>Combining the answer from @Pawel and comment from Max ...</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.ToString;\n\n@Builder\npublic class Person {\n\n  private String name;\n  private String surname;\n\n  public static PersonBuilder builder(String name) {\n    return new PersonBuilder().name(name);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1301293,"reputation":464,"user_id":1251135,"display_name":"dallaslu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621998610,"creation_date":1621931063,"answer_id":67684307,"question_id":29885428,"body_markdown":"Best Practice:\r\n\r\n```java\r\nimport lombok.Builder;\r\nimport lombok.NonNull;\r\n\r\n@Builder(builderMethodName = &quot;privateBuilder&quot;)\r\npublic class Person {\r\n\t@NonNull\r\n    private String name;\r\n    private String surname;\r\n\r\n    public static class PersonNameBuilder {\r\n\t\tpublic PersonBuilder name(String name) {\r\n\t\t\treturn Person.privateBuilder().name(status);\r\n\t\t}\r\n\t}\r\n\r\n    public static PersonNameBuilder builder(String name) {\r\n        return new PersonNameBuilder();\r\n    }\r\n\r\n    private static PersonBuilder privateBuilder(){\r\n    \treturn new PersonBuilder();\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```java\r\nPersonNameBuilder nameBuilder = Person.builder();\r\nPersonBuilder builder = nameBuilder.name(&quot;John&quot;);\r\nPerson p1 = builder.surname(&quot;Smith&quot;).build();\r\n\r\n// Or\r\nPerson p2 = Person.builder().name(&quot;John&quot;).surname(&quot;Smith&quot;).build();\r\n```\r\n\r\n","title":"Required arguments with a Lombok @Builder","body":"<p>Best Practice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Builder;\nimport lombok.NonNull;\n\n@Builder(builderMethodName = &quot;privateBuilder&quot;)\npublic class Person {\n    @NonNull\n    private String name;\n    private String surname;\n\n    public static class PersonNameBuilder {\n        public PersonBuilder name(String name) {\n            return Person.privateBuilder().name(status);\n        }\n    }\n\n    public static PersonNameBuilder builder(String name) {\n        return new PersonNameBuilder();\n    }\n\n    private static PersonBuilder privateBuilder(){\n        return new PersonBuilder();\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PersonNameBuilder nameBuilder = Person.builder();\nPersonBuilder builder = nameBuilder.name(&quot;John&quot;);\nPerson p1 = builder.surname(&quot;Smith&quot;).build();\n\n// Or\nPerson p2 = Person.builder().name(&quot;John&quot;).surname(&quot;Smith&quot;).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":301410,"reputation":638,"user_id":609101,"accept_rate":100,"display_name":"iecanfly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627744005,"creation_date":1627744005,"answer_id":68603284,"question_id":29885428,"body_markdown":"As much as I would like to have the compile time validation feature, the authors of the library had made it clear that [the feature probably won&#39;t be added.][1]\r\n\r\nSo my take on this is, to have something like this.\r\n\r\n    @Builder\r\n    public class Person {\r\n      String name;\r\n      Integer age;\r\n      Optional optional;\r\n\r\n      @Builder\r\n      public class Optional {\r\n        String surname;\r\n        String companyName;\r\n        String spouseName;\r\n    }\r\n}\r\n\r\nAnd you can use it like\r\n\r\n     Person p = Person.builder()\r\n                .age(40)\r\n                .name(&quot;David&quot;)\r\n                .optional(Person.Optional.builder()\r\n                        .surname(&quot;Lee&quot;)\r\n                        .companyName(&quot;Super Company&quot;)\r\n                        .spouseName(&quot;Emma&quot;)\r\n                        .build())\r\n                .build();\r\n\r\nNo, there&#39;s no validation. \r\nBut from the library&#39;s users point of view, \r\nit&#39;s pretty clear what&#39;s required and what&#39;s not and be able to build an object instance without looking at the documentation.\r\n\r\n  [1]: https://github.com/projectlombok/lombok/wiki/FEATURE-IDEA:-%22Mandatory%22-fields-with-@Builder","title":"Required arguments with a Lombok @Builder","body":"<p>As much as I would like to have the compile time validation feature, the authors of the library had made it clear that <a href=\"https://github.com/projectlombok/lombok/wiki/FEATURE-IDEA:-%22Mandatory%22-fields-with-@Builder\" rel=\"nofollow noreferrer\">the feature probably won't be added.</a></p>\n<p>So my take on this is, to have something like this.</p>\n<pre><code>@Builder\npublic class Person {\n  String name;\n  Integer age;\n  Optional optional;\n\n  @Builder\n  public class Optional {\n    String surname;\n    String companyName;\n    String spouseName;\n}\n</code></pre>\n<p>}</p>\n<p>And you can use it like</p>\n<pre><code> Person p = Person.builder()\n            .age(40)\n            .name(&quot;David&quot;)\n            .optional(Person.Optional.builder()\n                    .surname(&quot;Lee&quot;)\n                    .companyName(&quot;Super Company&quot;)\n                    .spouseName(&quot;Emma&quot;)\n                    .build())\n            .build();\n</code></pre>\n<p>No, there's no validation.\nBut from the library's users point of view,\nit's pretty clear what's required and what's not and be able to build an object instance without looking at the documentation.</p>\n"},{"tags":[],"owner":{"account_id":10641439,"reputation":119,"user_id":7836305,"display_name":"Philippe Escure"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643278741,"creation_date":1643278741,"answer_id":70876875,"question_id":29885428,"body_markdown":"Here is an inspiration of Pawel response, with an hidden generated builder :\r\n\r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n    \r\n    @Builder(builderMethodName = &quot;&quot;)\r\n    @ToString\r\n    public class Person {\r\n    \r\n        private String name;\r\n        private String surname;\r\n    \r\n        public static PersonBuilder builder(String name) {\r\n            return new PersonBuilder().name(name);\r\n        }\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>Here is an inspiration of Pawel response, with an hidden generated builder :</p>\n<pre><code>import lombok.Builder;\nimport lombok.ToString;\n\n@Builder(builderMethodName = &quot;&quot;)\n@ToString\npublic class Person {\n\n    private String name;\n    private String surname;\n\n    public static PersonBuilder builder(String name) {\n        return new PersonBuilder().name(name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2927437,"reputation":1282,"user_id":2508466,"accept_rate":0,"display_name":"yaccob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648240438,"creation_date":1648240438,"answer_id":71622807,"question_id":29885428,"body_markdown":"In order to make limitations and risks implied by lombok&#39;s builder implementation as obvious as possible and therefore reduce the probability of erroneous abuse, I propose the following solution:\r\n\r\n```java\r\nimport lombok.Builder;\r\n\r\n@Builder(builderClassName = &quot;UnsafeBuilder&quot;)\r\npublic class Person {\r\n    private String name;\r\n    private String surname;\r\n\r\n    public static UnsafeBuilder builder(String name) {\r\n        return new UnsafeBuilder().name(name);\r\n    }\r\n}\r\n```\r\n\r\nUsing this solution as intended is straightforward:\r\n\r\n```java\r\nPerson thePerson = Person.builder(&quot;the_name&quot;).surname(&quot;the_surname&quot;).build();\r\n```\r\n\r\nThe only way to use the builder in an unintended way makes the risk obvious, and most probably won&#39;t be chosen by mistake:\r\n\r\n```java\r\nfinal Person unsafePerson = new Person.UnsafeBuilder().surname(&quot;the_surname&quot;).build();\r\n```\r\n\r\nThe class name could of course be chosen even more radically - for example `NeverCallThisConstructor`.","title":"Required arguments with a Lombok @Builder","body":"<p>In order to make limitations and risks implied by lombok's builder implementation as obvious as possible and therefore reduce the probability of erroneous abuse, I propose the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Builder;\n\n@Builder(builderClassName = &quot;UnsafeBuilder&quot;)\npublic class Person {\n    private String name;\n    private String surname;\n\n    public static UnsafeBuilder builder(String name) {\n        return new UnsafeBuilder().name(name);\n    }\n}\n</code></pre>\n<p>Using this solution as intended is straightforward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person thePerson = Person.builder(&quot;the_name&quot;).surname(&quot;the_surname&quot;).build();\n</code></pre>\n<p>The only way to use the builder in an unintended way makes the risk obvious, and most probably won't be chosen by mistake:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Person unsafePerson = new Person.UnsafeBuilder().surname(&quot;the_surname&quot;).build();\n</code></pre>\n<p>The class name could of course be chosen even more radically - for example <code>NeverCallThisConstructor</code>.</p>\n"},{"tags":[],"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685484727,"creation_date":1685483669,"answer_id":76368906,"question_id":29885428,"body_markdown":"What about this approach?\r\n\r\n```java\r\nimport lombok.Data;\r\nimport lombok.experimental.Accessors;\r\n\r\n@Data\r\n@Accessors(chain = true, fluent = true)\r\npublic class Person {\r\n    private final String name; // &#39;final&#39; prevents lombok from creating a setter method\r\n    private String surname;\r\n\r\n    public Person(String name) {\r\n        this.name = name; // mandatory\r\n        this.surname = null; // optional, with default value of &#39;null&#39;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Person gabi = new Person(&quot;Gabriela&quot;);\r\n        Person smith = new Person(&quot;John&quot;).surname(&quot;Smith&quot;);\r\n        System.out.println(gabi);\r\n        System.out.println(smith);\r\n    }\r\n}\r\n```\r\n\r\nExecuting `main()` will print:\r\n\r\n```\r\nPerson(name=Gabriela, surname=null)\r\nPerson(name=John, surname=Smith)\r\n```\r\n\r\n\r\nThe combination of \r\n```java\r\n@Data\r\n@Accessors(chain = true, fluent = true)\r\n```\r\n\r\nMakes lombok create setters that return `this` instead of void, and the getters and setters will be named as the property names, without &#39;get&#39; and &#39;set&#39; prefix.\r\n\r\nThere will be a setter for `surname()`, but because `name` is `final`,  there won&#39;t be a setter for `name`.\r\n\r\nI guess this implemenation correctly accomodates the builder pattern when there are mandatory and optional fields. ","title":"Required arguments with a Lombok @Builder","body":"<p>What about this approach?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\nimport lombok.experimental.Accessors;\n\n@Data\n@Accessors(chain = true, fluent = true)\npublic class Person {\n    private final String name; // 'final' prevents lombok from creating a setter method\n    private String surname;\n\n    public Person(String name) {\n        this.name = name; // mandatory\n        this.surname = null; // optional, with default value of 'null'\n    }\n\n    public static void main(String[] args) {\n        Person gabi = new Person(&quot;Gabriela&quot;);\n        Person smith = new Person(&quot;John&quot;).surname(&quot;Smith&quot;);\n        System.out.println(gabi);\n        System.out.println(smith);\n    }\n}\n</code></pre>\n<p>Executing <code>main()</code> will print:</p>\n<pre><code>Person(name=Gabriela, surname=null)\nPerson(name=John, surname=Smith)\n</code></pre>\n<p>The combination of</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Accessors(chain = true, fluent = true)\n</code></pre>\n<p>Makes lombok create setters that return <code>this</code> instead of void, and the getters and setters will be named as the property names, without 'get' and 'set' prefix.</p>\n<p>There will be a setter for <code>surname()</code>, but because <code>name</code> is <code>final</code>,  there won't be a setter for <code>name</code>.</p>\n<p>I guess this implemenation correctly accomodates the builder pattern when there are mandatory and optional fields.</p>\n"}],"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127607,"favorite_count":0,"down_vote_count":1,"up_vote_count":105,"accepted_answer_id":30867286,"answer_count":14,"score":104,"last_activity_date":1685484727,"creation_date":1430095432,"question_id":29885428,"body_markdown":"If I add [@Builder](http://projectlombok.org/features/Builder.html) to a class.  The builder method is created.\r\n\r\n    Person.builder().name(&quot;john&quot;).surname(&quot;Smith&quot;).build();\r\n\r\nI have a requirement where a particular field is required.  In this case, the name field is required but the surname is not. Ideally, I would like to declare it like so. \r\n\r\n    Person.builder(&quot;john&quot;).surname(&quot;Smith&quot;).build()\r\n\r\nI can&#39;t work out how to do this.  I have tried adding the @Builder to a constructor but it didn&#39;t work.\r\n\r\n    @Builder\r\n    public Person(String name) {\r\n        this.name = name;\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>If I add <a href=\"http://projectlombok.org/features/Builder.html\" rel=\"noreferrer\">@Builder</a> to a class.  The builder method is created.</p>\n\n<pre><code>Person.builder().name(\"john\").surname(\"Smith\").build();\n</code></pre>\n\n<p>I have a requirement where a particular field is required.  In this case, the name field is required but the surname is not. Ideally, I would like to declare it like so. </p>\n\n<pre><code>Person.builder(\"john\").surname(\"Smith\").build()\n</code></pre>\n\n<p>I can't work out how to do this.  I have tried adding the @Builder to a constructor but it didn't work.</p>\n\n<pre><code>@Builder\npublic Person(String name) {\n    this.name = name;\n}\n</code></pre>\n"},{"tags":["java","arrays","object","constructor"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685484369,"creation_date":1685484369,"answer_id":76368948,"question_id":76368265,"body_markdown":"There are a few different ways to check to see if a _boolean_ array contains a specific value.\r\n\r\nThe first would be to simply traverse the array, setting _isTrue_ to _true_ when a _false_ value is encountered.\r\n\r\n```java\r\nboolean isTrue = false;\r\nfor (boolean value : box.cells) {\r\n    if (!value) {\r\n        isTrue = true;\r\n        break;\r\n    }\r\n}\r\nSystem.out.println(isTrue);\r\n```\r\n\r\nIf you&#39;re looking to utilize a _stream_&amp;mdash;as you&#39;ve used in your code initially&amp;mdash;you can use the following.\r\n\r\nYou&#39;ll have to convert the _boolean_ array to a _List_ of _Boolean_ first.\r\n\r\n```java\r\nList&lt;Boolean&gt; cells = new ArrayList&lt;&gt;();\r\nfor (boolean value : box.cells) cells.add(value);\r\nboolean isTrue = cells.stream().anyMatch(b -&gt; !b);\r\nSystem.out.println(isTrue);\r\n```","title":"Checking values in a boolean array of a KeyBox object in Java","body":"<p>There are a few different ways to check to see if a <em>boolean</em> array contains a specific value.</p>\n<p>The first would be to simply traverse the array, setting <em>isTrue</em> to <em>true</em> when a <em>false</em> value is encountered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isTrue = false;\nfor (boolean value : box.cells) {\n    if (!value) {\n        isTrue = true;\n        break;\n    }\n}\nSystem.out.println(isTrue);\n</code></pre>\n<p>If you're looking to utilize a <em>stream</em>—as you've used in your code initially—you can use the following.</p>\n<p>You'll have to convert the <em>boolean</em> array to a <em>List</em> of <em>Boolean</em> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Boolean&gt; cells = new ArrayList&lt;&gt;();\nfor (boolean value : box.cells) cells.add(value);\nboolean isTrue = cells.stream().anyMatch(b -&gt; !b);\nSystem.out.println(isTrue);\n</code></pre>\n"}],"owner":{"account_id":21744714,"reputation":1,"user_id":16051560,"display_name":"potapov.alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685484369,"creation_date":1685477326,"question_id":76368265,"body_markdown":"I create a `KeyBox` class with `boolean[] cells` and `KeyBox` object `box = new KeyBox(new boolean[3])`.\r\nHow to check if the `cell` values of the box object are `false`. \r\n\r\n\r\n\r\nMy code is:\r\n```java\r\npublic class KeyBox {\r\n    static int numberCells = 3;\r\n    boolean[] cells;\r\n\r\n    public KeyBox(boolean[] cells) {\r\n        this.cells = cells;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        KeyBox box = new KeyBox(new boolean[numberCells]);\r\n        PutKey.put(box);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class PutKey {\r\n    public static void put(KeyBox box) {\r\n        boolean isTrue = Arrays.asList(box.cells).stream().findAny().equals(&quot;false&quot;);\r\n        System.out.println(isTrue);\r\n    }\r\n}\r\n```\r\n\r\n\r\nBy default `boolean` get `false` value, I am expect that `sout isTrue` will get `true`.\r\n\r\n\r\n","title":"Checking values in a boolean array of a KeyBox object in Java","body":"<p>I create a <code>KeyBox</code> class with <code>boolean[] cells</code> and <code>KeyBox</code> object <code>box = new KeyBox(new boolean[3])</code>.\nHow to check if the <code>cell</code> values of the box object are <code>false</code>.</p>\n<p>My code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class KeyBox {\n    static int numberCells = 3;\n    boolean[] cells;\n\n    public KeyBox(boolean[] cells) {\n        this.cells = cells;\n    }\n\n    public static void main(String[] args) {\n        KeyBox box = new KeyBox(new boolean[numberCells]);\n        PutKey.put(box);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PutKey {\n    public static void put(KeyBox box) {\n        boolean isTrue = Arrays.asList(box.cells).stream().findAny().equals(&quot;false&quot;);\n        System.out.println(isTrue);\n    }\n}\n</code></pre>\n<p>By default <code>boolean</code> get <code>false</code> value, I am expect that <code>sout isTrue</code> will get <code>true</code>.</p>\n"},{"tags":["java","i2c","gpio","raspberry-pi4","pi4j"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685483002,"post_id":76368816,"comment_id":134665886,"body_markdown":"If you did `i2cget`, then you must know what the device address is.  You have to have that.  That&#39;s like the IP address of the device.  What i2cget command worked?","body":"If you did <code>i2cget</code>, then you must know what the device address is.  You have to have that.  That&#39;s like the IP address of the device.  What i2cget command worked?"},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685483781,"post_id":76368816,"comment_id":134665997,"body_markdown":"If I think correct, then device number and register are same, so in my case is 0x18 - but I&#39;m not sure of that. Same as I2C ID is strict corelated with bus number?","body":"If I think correct, then device number and register are same, so in my case is 0x18 - but I&#39;m not sure of that. Same as I2C ID is strict corelated with bus number?"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685512490,"post_id":76368816,"comment_id":134668581,"body_markdown":"Every chip has its own I2C device ID.  You need to know that number in order to address the device.  Did you mean QWIIC?  You said OWIIC.  Yes, the QWIIC defaults to an address of 0x18.  However, I don&#39;t believe 0x18 is a register number.  Check the code here:  https://github.com/sparkfun/Qwiic_Relay_Py/blob/main/qwiic_relay.py","body":"Every chip has its own I2C device ID.  You need to know that number in order to address the device.  Did you mean QWIIC?  You said OWIIC.  Yes, the QWIIC defaults to an address of 0x18.  However, I don&#39;t believe 0x18 is a register number.  Check the code here:  <a href=\"https://github.com/sparkfun/Qwiic_Relay_Py/blob/main/qwiic_relay.py\" rel=\"nofollow noreferrer\">github.com/sparkfun/Qwiic_Relay_Py/blob/main/qwiic_relay.py</a>"},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685514354,"post_id":76368816,"comment_id":134668847,"body_markdown":"As I mentioned, using i2cget/set it&#39;s all working. Using register adres 0x18 I can enable and disable flow on device. But problem appears on Pi4J. When I try to read/write data, I&#39;m always get 0, and can&#39;t use device again until I restart it (even using i2cget/set).","body":"As I mentioned, using i2cget/set it&#39;s all working. Using register adres 0x18 I can enable and disable flow on device. But problem appears on Pi4J. When I try to read/write data, I&#39;m always get 0, and can&#39;t use device again until I restart it (even using i2cget/set)."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685516906,"post_id":76368816,"comment_id":134669291,"body_markdown":"Again, exactly what `i2cset` command did you enter that worked?","body":"Again, exactly what <code>i2cset</code> command did you enter that worked?"},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685519015,"post_id":76368816,"comment_id":134669706,"body_markdown":"`i2cset -y 1 0x18 1` - enable flow on device","body":"<code>i2cset -y 1 0x18 1</code> - enable flow on device"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685554952,"post_id":76368816,"comment_id":134678007,"body_markdown":"What this says is that your device does not use registers, and that agrees with what I read in the datasheet.  You are simply sending the one-byte command 1 to device 0x18 on bus 1.  I couldn&#39;t find documentation to match the module you&#39;re using, but there should be a something like a `WriteByte` API that will work.","body":"What this says is that your device does not use registers, and that agrees with what I read in the datasheet.  You are simply sending the one-byte command 1 to device 0x18 on bus 1.  I couldn&#39;t find documentation to match the module you&#39;re using, but there should be a something like a <code>WriteByte</code> API that will work."},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685562774,"post_id":76368816,"comment_id":134679382,"body_markdown":"Thanks @TimRoberts, it&#39;s working :)\nI can now change status, but still when I try to read value device freeze.\nMaybe it&#39;s something connected with locking logic in LinuxFsI2C... I&#39;m trying to understod how it&#39;s working, but it&#39;s little complicated :)","body":"Thanks @TimRoberts, it&#39;s working :) I can now change status, but still when I try to read value device freeze. Maybe it&#39;s something connected with locking logic in LinuxFsI2C... I&#39;m trying to understod how it&#39;s working, but it&#39;s little complicated :)"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685570502,"post_id":76368816,"comment_id":134680628,"body_markdown":"You&#39;ll have to read the datasheet to figure out the sequence, because not all I2C devices use the same options.  Like, do you have to issue a &quot;write byte&quot; of 0x05 (which is &quot;read status&quot;) and then issue a &quot;read byte&quot;, or is it all one sequence?  You MIGHT try `ReadRegister` on register 5 to see if that gets you the status.","body":"You&#39;ll have to read the datasheet to figure out the sequence, because not all I2C devices use the same options.  Like, do you have to issue a &quot;write byte&quot; of 0x05 (which is &quot;read status&quot;) and then issue a &quot;read byte&quot;, or is it all one sequence?  You MIGHT try <code>ReadRegister</code> on register 5 to see if that gets you the status."}],"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685482555,"creation_date":1685482555,"question_id":76368816,"body_markdown":"I&#39;m trying to read value from register on my device using I2C protocol on RPi CM4.\r\n&lt;br/&gt;\r\nAll is connected and workign fine using i2cget/i2cset on shell level.\r\n\r\nBut when I try to access to register of my device by Pi4J, I always get 0 value and communication with device freeze, I can&#39;t even using i2cget/i2cset do anything until I restart my device.\r\n\r\nDevice is Owiic Relay based on OMRON G5LE.\r\n\r\nI&#39;m not sure if my I2CConfig is ok, because I can&#39;t find what I should set in `id` and `device` fields.\r\n\r\n```\r\nContext context = Pi4J.newAutoContext();\r\nI2CProvider i2CProvider = context.provider(&quot;linuxfs-i2c&quot;);\r\nI2CConfig i2cConfig = I2C.newConfigBuilder(context).id(&quot;i2c-1&quot;).bus(1).device(0x18).build();\r\nI2C device = i2CProvider.create(i2cConfig);\r\n\r\ndevice.readRegister(0x18);\r\n```\r\nRegister address is 0x18, and bus number is 1, that&#39;s all I know.\r\nAlso I tried diferent i2c providers like raspberrypi-i2c, pigpio-i2c and linuxfs-i2c.","title":"How to read from I2C on RPi using Java Pi4J","body":"<p>I'm trying to read value from register on my device using I2C protocol on RPi CM4.\n<br/>\nAll is connected and workign fine using i2cget/i2cset on shell level.</p>\n<p>But when I try to access to register of my device by Pi4J, I always get 0 value and communication with device freeze, I can't even using i2cget/i2cset do anything until I restart my device.</p>\n<p>Device is Owiic Relay based on OMRON G5LE.</p>\n<p>I'm not sure if my I2CConfig is ok, because I can't find what I should set in <code>id</code> and <code>device</code> fields.</p>\n<pre><code>Context context = Pi4J.newAutoContext();\nI2CProvider i2CProvider = context.provider(&quot;linuxfs-i2c&quot;);\nI2CConfig i2cConfig = I2C.newConfigBuilder(context).id(&quot;i2c-1&quot;).bus(1).device(0x18).build();\nI2C device = i2CProvider.create(i2cConfig);\n\ndevice.readRegister(0x18);\n</code></pre>\n<p>Register address is 0x18, and bus number is 1, that's all I know.\nAlso I tried diferent i2c providers like raspberrypi-i2c, pigpio-i2c and linuxfs-i2c.</p>\n"},{"tags":["java","json","jackson","annotations","jackson-databind"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1685408618,"post_id":76361027,"comment_id":134652273,"body_markdown":"Can you explain more about `explicit sorting order` or give some examples?","body":"Can you explain more about <code>explicit sorting order</code> or give some examples?"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685482093,"creation_date":1685482093,"answer_id":76368766,"question_id":76361027,"body_markdown":"You can extend `com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector` class and provide your order for any class you want by overriding `findSerializationPropertyOrder` method.\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.introspect.AnnotatedClass;\r\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport lombok.Data;\r\n\r\npublic class JacksonAnnotationIntrospectorApp {\r\n\tprivate final static JsonMapper JSON_MAPPER = JsonMapper.builder()\r\n\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t.annotationIntrospector(new DynamicOrderJacksonAnnotationIntrospector())\r\n\t\t\t.build();\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tvar pojo = new DynamicOrderPojo();\r\n\t\tpojo.setA(&quot;A&quot;);\r\n\t\tpojo.setB(1);\r\n\t\tpojo.setC(3.33);\r\n\r\n\t\tJSON_MAPPER.writeValue(System.out, pojo);\r\n\t}\r\n}\r\n\r\nclass DynamicOrderJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\r\n\r\n\t@Override\r\n\tpublic String[] findSerializationPropertyOrder(AnnotatedClass ac) {\r\n\t\tif (ac.getRawType() == DynamicOrderPojo.class) {\r\n\t\t\treturn new String[]{&quot;b&quot;, &quot;a&quot;, &quot;c&quot;};\r\n\t\t}\r\n\t\treturn super.findSerializationPropertyOrder(ac);\r\n\t}\r\n}\r\n\r\n@Data\r\nclass DynamicOrderPojo {\r\n\r\n\tprivate String a;\r\n\tprivate Integer b;\r\n\tprivate Double c;\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```json\r\n{\r\n  &quot;b&quot; : 1,\r\n  &quot;a&quot; : &quot;A&quot;,\r\n  &quot;c&quot; : 3.33\r\n}\r\n```\r\n\r\nSee also:\r\n\r\n - [Custom serializer/deserializer for a collection, specifically a set][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75149509/custom-serializer-deserializer-for-a-collection-specifically-a-set/75153237#75153237","title":"Is it possible to specify the order of ObjectNode properties without using annotations?","body":"<p>You can extend <code>com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector</code> class and provide your order for any class you want by overriding <code>findSerializationPropertyOrder</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.introspect.AnnotatedClass;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport lombok.Data;\n\npublic class JacksonAnnotationIntrospectorApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .annotationIntrospector(new DynamicOrderJacksonAnnotationIntrospector())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        var pojo = new DynamicOrderPojo();\n        pojo.setA(&quot;A&quot;);\n        pojo.setB(1);\n        pojo.setC(3.33);\n\n        JSON_MAPPER.writeValue(System.out, pojo);\n    }\n}\n\nclass DynamicOrderJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\n\n    @Override\n    public String[] findSerializationPropertyOrder(AnnotatedClass ac) {\n        if (ac.getRawType() == DynamicOrderPojo.class) {\n            return new String[]{&quot;b&quot;, &quot;a&quot;, &quot;c&quot;};\n        }\n        return super.findSerializationPropertyOrder(ac);\n    }\n}\n\n@Data\nclass DynamicOrderPojo {\n\n    private String a;\n    private Integer b;\n    private Double c;\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;b&quot; : 1,\n  &quot;a&quot; : &quot;A&quot;,\n  &quot;c&quot; : 3.33\n}\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/75149509/custom-serializer-deserializer-for-a-collection-specifically-a-set/75153237#75153237\">Custom serializer/deserializer for a collection, specifically a set</a></li>\n</ul>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76368766,"answer_count":1,"score":0,"last_activity_date":1685482166,"creation_date":1685408450,"question_id":76361027,"body_markdown":"Jackson allows users to specify an explicit serialization order for `ObjectNode` properties using the `@JsonProperty(index = ?)` annotation. Meaning, given properties `a, b, c` I can instruct Jackson to serialize them in the following order: `b, a, c`. I control the exact serialization order.\r\n\r\nIs it possible to achieve the same without the use of annotations?\r\n\r\nI do not want alphabetic sorting. I want to specify an explicit sorting order.","title":"Is it possible to specify the order of ObjectNode properties without using annotations?","body":"<p>Jackson allows users to specify an explicit serialization order for <code>ObjectNode</code> properties using the <code>@JsonProperty(index = ?)</code> annotation. Meaning, given properties <code>a, b, c</code> I can instruct Jackson to serialize them in the following order: <code>b, a, c</code>. I control the exact serialization order.</p>\n<p>Is it possible to achieve the same without the use of annotations?</p>\n<p>I do not want alphabetic sorting. I want to specify an explicit sorting order.</p>\n"},{"tags":["java","android","file","uri","storage-access-framework"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092335,"post_id":64784937,"comment_id":114544472,"body_markdown":"A normal app does not need &#39;real paths&#39; but uses the uries obtained by those actions. You got a nice SAF uri. Use it as it is. But.. you can tell us of course why you think you need to convert it to a file system path.","body":"A normal app does not need &#39;real paths&#39; but uses the uries obtained by those actions. You got a nice SAF uri. Use it as it is. But.. you can tell us of course why you think you need to convert it to a file system path."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092456,"post_id":64784937,"comment_id":114544525,"body_markdown":"`intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)` Remove that. It does nothing. You cannot grant anything. You should be glad that something becomes granted to you.","body":"<code>intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)</code> Remove that. It does nothing. You cannot grant anything. You should be glad that something becomes granted to you."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092642,"post_id":64784937,"comment_id":114544595,"body_markdown":"You can obtain the &#39;real path&#39; of a removable micro sd card by looking at the second item returned by getExternalFilesDirs().","body":"You can obtain the &#39;real path&#39; of a removable micro sd card by looking at the second item returned by getExternalFilesDirs()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092737,"post_id":64784937,"comment_id":114544629,"body_markdown":"Also if you looked at the uri.toString() value of a uri choosed from removable sd card you could easily decode &#39;real path&#39; yourself. Please post such an uri and i will show you.","body":"Also if you looked at the uri.toString() value of a uri choosed from removable sd card you could easily decode &#39;real path&#39; yourself. Please post such an uri and i will show you."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605093854,"post_id":64784937,"comment_id":114545111,"body_markdown":"@blackapps i need the real path so that i can check if the path in the `MediaStore.Audio.AudioColumns.DATA` column matches the selected path. `MediaStore.Audio.AudioColumns.DATA` contains real path of audio files ant not the uri.","body":"@blackapps i need the real path so that i can check if the path in the <code>MediaStore.Audio.AudioColumns.DATA</code> column matches the selected path. <code>MediaStore.Audio.AudioColumns.DATA</code> contains real path of audio files ant not the uri."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605093976,"post_id":64784937,"comment_id":114545167,"body_markdown":"@blackapps Uri of folder selected from sdcard looks like `content://com.android.externalstorage.documents/tree/96EC-0CA8%3ATestFolder`. Can you help me build the real path?","body":"@blackapps Uri of folder selected from sdcard looks like <code>content:&#47;&#47;com.android.externalstorage.documents&#47;tree&#47;96EC-0C&zwnj;&#8203;A8%3ATestFolder</code>. Can you help me build the real path?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605094495,"post_id":64784937,"comment_id":114545377,"body_markdown":"Well after you have seen a few of such paths you would know the &#39;real path&#39; would be `/storage/96EC-0CA8/TestFolder`. Not too difficult to make a function who does that conversion.","body":"Well after you have seen a few of such paths you would know the &#39;real path&#39; would be <code>&#47;storage&#47;96EC-0CA8&#47;TestFolder</code>. Not too difficult to make a function who does that conversion."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605094640,"post_id":64784937,"comment_id":114545438,"body_markdown":"The .DATA column is not available on Android 10+.","body":"The .DATA column is not available on Android 10+."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605094869,"post_id":64784937,"comment_id":114545523,"body_markdown":"Further it is totally unclear why you would mess around with the media store for an uri obtained by SAF. Makes no sense.","body":"Further it is totally unclear why you would mess around with the media store for an uri obtained by SAF. Makes no sense."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605095246,"post_id":64784937,"comment_id":114545682,"body_markdown":"I am not querying media store with the URI obtained by SAF or anything such. When loading audio files from MediaStore, I am simply filtering audio files whose path in the `MediaStore.Audio.AudioColumns.DATA` column matches the selected folder path. Since you mentioned that the specific column will not be available from Android 10+, can you suggest any alternative so that i can hide audio files from the folders that the user blacklisted in my app?","body":"I am not querying media store with the URI obtained by SAF or anything such. When loading audio files from MediaStore, I am simply filtering audio files whose path in the <code>MediaStore.Audio.AudioColumns.DATA</code> column matches the selected folder path. Since you mentioned that the specific column will not be available from Android 10+, can you suggest any alternative so that i can hide audio files from the folders that the user blacklisted in my app?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1605095549,"post_id":64784937,"comment_id":114545813,"body_markdown":"&quot;Currently, this works fine with folder that are present in primary external storage&quot; -- there are over 26,000 device models. How many were you planning on testing to see if this undocumented and unsupported approach will prove to be reliable? What do you plan to do when the user chooses a cloud storage provider when you request a location via `ACTION_OPEN_DOCUMENT_TREE`? What do you plan to do with `DATA` values that do not match your expectations?","body":"&quot;Currently, this works fine with folder that are present in primary external storage&quot; -- there are over 26,000 device models. How many were you planning on testing to see if this undocumented and unsupported approach will prove to be reliable? What do you plan to do when the user chooses a cloud storage provider when you request a location via <code>ACTION_OPEN_DOCUMENT_TREE</code>? What do you plan to do with <code>DATA</code> values that do not match your expectations?"},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605095975,"post_id":64784937,"comment_id":114545993,"body_markdown":"@CommonsWare. This is my initial implementation which i am currently testing. And yes this may not be reliable but i am not sure how to get the user select a folder otherwise. This is what i came up with initially.","body":"@CommonsWare. This is my initial implementation which i am currently testing. And yes this may not be reliable but i am not sure how to get the user select a folder otherwise. This is what i came up with initially."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605096011,"post_id":64784937,"comment_id":114546016,"body_markdown":"`am using the MediaStore.Audio.AudioColumns.DATA column to filter out audio files that is present inside those folders ` Use the .RELATIVE_PATH column to filter out folders. As .RELATIVE_PATH contains folder names.","body":"<code>am using the MediaStore.Audio.AudioColumns.DATA column to filter out audio files that is present inside those folders </code> Use the .RELATIVE_PATH column to filter out folders. As .RELATIVE_PATH contains folder names."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605096258,"post_id":64784937,"comment_id":114546115,"body_markdown":"If you want to let the user choose folders to blacklist them then query the mediastore for all audio files. Meanwhile make an arraylist of all .RELATIVE_PATH values. Let the user choose from this arraylist to block folders. No need for all that SAF and &#39;real path&#39; stuff.","body":"If you want to let the user choose folders to blacklist them then query the mediastore for all audio files. Meanwhile make an arraylist of all .RELATIVE_PATH values. Let the user choose from this arraylist to block folders. No need for all that SAF and &#39;real path&#39; stuff."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605099382,"post_id":64784937,"comment_id":114547401,"body_markdown":"@blackapps Thanks for your suggestions. As per the documentation RELATIVE_PATH is added in Api 29  so i need to continue to use the &quot;real path&quot; impl. for Api&lt;29, which is not an issue as we dont have storage restrictions.","body":"@blackapps Thanks for your suggestions. As per the documentation RELATIVE_PATH is added in Api 29  so i need to continue to use the &quot;real path&quot; impl. for Api&lt;29, which is not an issue as we dont have storage restrictions."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605099743,"post_id":64784937,"comment_id":114547532,"body_markdown":"Even then you could do without SAF by building up an arraylist of folders obtained from .DATA column.","body":"Even then you could do without SAF by building up an arraylist of folders obtained from .DATA column."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605100539,"post_id":64784937,"comment_id":114547840,"body_markdown":"Yup i was thinking of the same. Thanks for the help.","body":"Yup i was thinking of the same. Thanks for the help."}],"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685482039,"creation_date":1605091562,"question_id":64784937,"body_markdown":"I am developing a music player app that allows users to blacklist certain folders. The audio files from those folders will not be shown in the app.\r\n\r\nI am using the `MediaStore.Audio.AudioColumns.DATA` column to filter out audio files that is present inside those folders when querying `MediaStore` for audio files.\r\n\r\nI am using this logic to build a complete real path from the uri.\r\n\r\n```\r\n// Open folder picker\r\nIntent intent = new Intent();\r\nintent.setAction(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\nintent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\nstartActivityForResult(intent, REQUEST_CODE_FOLDER_SELECT);\r\n\r\n\r\n// Then in onActivityResult I am building the real path\r\n\r\nUri folder = data.getData();\r\nString[] paths = Objects.requireNonNull(folder.getPath()).split(&quot;:&quot;);\r\n\r\n// completePath looks like: /storage/emulated/0/Test/Another test\r\nString completePath = Environment.getExternalStorageDirectory() + \r\n                      (paths.length &gt; 1 ? File.separator + paths[1] : &quot;&quot;);\r\n\r\n```\r\n\r\nCurrently, this works fine with folder that are present in primary external storage.\r\nBut i would like users to select folders from external (removable) sdcards.\r\n\r\nI am not sure how to build real folder path for folders present in (removable) sdcards.\r\n\r\nI have come across a lot of solutions for &quot;Get part from uri&quot;, but most of them were written before Android 10 came with Storage restrictions or only work for internal storage. \r\n\r\nMy real concern is that different vendors have [different](https://gist.github.com/PauloLuan/4bcecc086095bce28e22#gistcomment-1297081) name and mounting paths for removable sdcards, hence i cannot hard code something like: &quot;storage/sdcard/{relative folder path from uri}&quot; \r\n","title":"Get real folder path from document tree Uri in Android 10","body":"<p>I am developing a music player app that allows users to blacklist certain folders. The audio files from those folders will not be shown in the app.</p>\n<p>I am using the <code>MediaStore.Audio.AudioColumns.DATA</code> column to filter out audio files that is present inside those folders when querying <code>MediaStore</code> for audio files.</p>\n<p>I am using this logic to build a complete real path from the uri.</p>\n<pre><code>// Open folder picker\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_OPEN_DOCUMENT_TREE);\nintent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nstartActivityForResult(intent, REQUEST_CODE_FOLDER_SELECT);\n\n\n// Then in onActivityResult I am building the real path\n\nUri folder = data.getData();\nString[] paths = Objects.requireNonNull(folder.getPath()).split(&quot;:&quot;);\n\n// completePath looks like: /storage/emulated/0/Test/Another test\nString completePath = Environment.getExternalStorageDirectory() + \n                      (paths.length &gt; 1 ? File.separator + paths[1] : &quot;&quot;);\n\n</code></pre>\n<p>Currently, this works fine with folder that are present in primary external storage.\nBut i would like users to select folders from external (removable) sdcards.</p>\n<p>I am not sure how to build real folder path for folders present in (removable) sdcards.</p>\n<p>I have come across a lot of solutions for &quot;Get part from uri&quot;, but most of them were written before Android 10 came with Storage restrictions or only work for internal storage.</p>\n<p>My real concern is that different vendors have <a href=\"https://gist.github.com/PauloLuan/4bcecc086095bce28e22#gistcomment-1297081\" rel=\"nofollow noreferrer\">different</a> name and mounting paths for removable sdcards, hence i cannot hard code something like: &quot;storage/sdcard/{relative folder path from uri}&quot;</p>\n"},{"tags":["java","mockito","junit5","argumentcaptor"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685481890,"creation_date":1685481890,"answer_id":76368750,"question_id":76368593,"body_markdown":"&quot;No argument value was captured!&quot; usually comes because you didn&#39;t invoke the expected method in your system under test.  If you want to use a Captor for the sake of learning how, you&#39;ll need to first stub your change, then invoke your system under test, then verify.\r\n\r\nI&#39;m assuming here that you&#39;re trying to extract the request content so you can check it was a reasonable request.\r\n\r\n```java\r\nAccount account = setUpTheAccountYouWantToReturnHere();\r\n\r\ndoReturn(account)\r\n    .when(stub)\r\n    .response(isA(RequestContent.class), any(Class.class));  // or any()\r\n\r\nsystemUnderTest.doThingYouAreTestingThatInvokesTheStubResponse();\r\n\r\n// You can also set this up using a @Captor annotation.\r\nArgumentCaptor&lt;RequestContent&gt; captor =\r\n    ArgumentCaptor.forClass(RequestContent.class);\r\n\r\nverify(stub).response(captor.capture(), any(Class.class));\r\n\r\n// Now that your captor has captured a value, you can start to assert against it.\r\n\r\ncheckThatRequestContentPropertiesAreCorrect(captor.getValue());\r\n```\r\n\r\nI&#39;ve used `any(Class.class)` on the assumption that it&#39;s not important, but you can also use `eq(Account.class)` instead of `any(Class.class)`. This has the added benefit of failing your test (because you won&#39;t have a matching stub) if your system under test calls `response` with anything other than an Account as its second parameter.\r\n\r\nFor that matter, if your RequestContent supports [`equals` and `hashCode`](https://stackoverflow.com/q/2265503/1426891) based on its contents, you can confirm that it has the right values by creating the RequestContent you expect to see and using `eq(yourExpectedRequestContent)` in your `when` call in Mockito. However, depending on the size of RequestContent and how reasonable its `toString()` implementation is, it might be easier to just call `capture` and check its properties as above.","title":"Mockito capture Class&lt;T&gt; argument type","body":"<p>&quot;No argument value was captured!&quot; usually comes because you didn't invoke the expected method in your system under test.  If you want to use a Captor for the sake of learning how, you'll need to first stub your change, then invoke your system under test, then verify.</p>\n<p>I'm assuming here that you're trying to extract the request content so you can check it was a reasonable request.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Account account = setUpTheAccountYouWantToReturnHere();\n\ndoReturn(account)\n    .when(stub)\n    .response(isA(RequestContent.class), any(Class.class));  // or any()\n\nsystemUnderTest.doThingYouAreTestingThatInvokesTheStubResponse();\n\n// You can also set this up using a @Captor annotation.\nArgumentCaptor&lt;RequestContent&gt; captor =\n    ArgumentCaptor.forClass(RequestContent.class);\n\nverify(stub).response(captor.capture(), any(Class.class));\n\n// Now that your captor has captured a value, you can start to assert against it.\n\ncheckThatRequestContentPropertiesAreCorrect(captor.getValue());\n</code></pre>\n<p>I've used <code>any(Class.class)</code> on the assumption that it's not important, but you can also use <code>eq(Account.class)</code> instead of <code>any(Class.class)</code>. This has the added benefit of failing your test (because you won't have a matching stub) if your system under test calls <code>response</code> with anything other than an Account as its second parameter.</p>\n<p>For that matter, if your RequestContent supports <a href=\"https://stackoverflow.com/q/2265503/1426891\"><code>equals</code> and <code>hashCode</code></a> based on its contents, you can confirm that it has the right values by creating the RequestContent you expect to see and using <code>eq(yourExpectedRequestContent)</code> in your <code>when</code> call in Mockito. However, depending on the size of RequestContent and how reasonable its <code>toString()</code> implementation is, it might be easier to just call <code>capture</code> and check its properties as above.</p>\n"}],"owner":{"account_id":1598981,"reputation":51,"user_id":1480437,"display_name":"Karos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685481890,"creation_date":1685480435,"question_id":76368593,"body_markdown":"How to capture the Class&lt;T&gt; argument of a method with Argument Capture For the following method\r\n\r\n      public &lt;T&gt; T response(RequestContent requestContent, Class&lt;T&gt; returnType) throws Exception\r\n      {\r\n        var response = getResponse(requestContent);\r\n        var type = objectMapper.getTypeFactory().constructType(returnType);\r\n        return objectMapper.readValue(response, type);\r\n      }\r\nThe method is used in the caller class as \r\n\r\n    var res = response(requestContent, Account.class);\r\n\r\nI do not know how to use `doReturn` and `Argument Capture` in the following situations:\r\n\r\n    doReturn(Account).when(stub).response(isA(RequestContent.class), ???);\r\n\r\nand \r\n\r\n    verify(stub).getResponseClass(requestCaptor.capture(), ???);\r\n\r\nI get the following error\r\n\r\n    No argument value was captured!\r\n    You might have forgotten to use argument.capture() in verify()...\r\n    ...or you used capture() in stubbing but stubbed method was not called.\r\n    Be aware that it is recommended to use capture() only with verify()","title":"Mockito capture Class&lt;T&gt; argument type","body":"<p>How to capture the Class argument of a method with Argument Capture For the following method</p>\n<pre><code>  public &lt;T&gt; T response(RequestContent requestContent, Class&lt;T&gt; returnType) throws Exception\n  {\n    var response = getResponse(requestContent);\n    var type = objectMapper.getTypeFactory().constructType(returnType);\n    return objectMapper.readValue(response, type);\n  }\n</code></pre>\n<p>The method is used in the caller class as</p>\n<pre><code>var res = response(requestContent, Account.class);\n</code></pre>\n<p>I do not know how to use <code>doReturn</code> and <code>Argument Capture</code> in the following situations:</p>\n<pre><code>doReturn(Account).when(stub).response(isA(RequestContent.class), ???);\n</code></pre>\n<p>and</p>\n<pre><code>verify(stub).getResponseClass(requestCaptor.capture(), ???);\n</code></pre>\n<p>I get the following error</p>\n<pre><code>No argument value was captured!\nYou might have forgotten to use argument.capture() in verify()...\n...or you used capture() in stubbing but stubbed method was not called.\nBe aware that it is recommended to use capture() only with verify()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685403851,"post_id":76359794,"comment_id":134651884,"body_markdown":"Please share error logs in the format of plain text","body":"Please share error logs in the format of plain text"}],"answers":[{"tags":[],"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685393550,"creation_date":1685393550,"answer_id":76360270,"question_id":76359794,"body_markdown":"Ok, after reviewing your Exception trace (which you should have added as text)\r\n\r\nThe problem is that the Jackson serialization library does not know how to handle Hibernate proxies (which are being used in case of lazy loading)\r\n\r\nSo you need to follow the advice which was present in the error log:\r\n\r\ndisable the feature `FAIL_ON_EMPTY_BEANS` from the Jackson serialization configuration.","title":"How to resolve lazy loading issue in Spring Boot?","body":"<p>Ok, after reviewing your Exception trace (which you should have added as text)</p>\n<p>The problem is that the Jackson serialization library does not know how to handle Hibernate proxies (which are being used in case of lazy loading)</p>\n<p>So you need to follow the advice which was present in the error log:</p>\n<p>disable the feature <code>FAIL_ON_EMPTY_BEANS</code> from the Jackson serialization configuration.</p>\n"}],"owner":{"account_id":26229958,"reputation":3,"user_id":19907590,"display_name":"Tachank.a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685481884,"creation_date":1685387030,"question_id":76359794,"body_markdown":"The problem arose with lazy loading. In the essence of the task there is a field called &quot;resultImage&quot;. This field contains a large picture and when unloading all task objects, I don’t want to unload it. The error occurs when the mapper converts the Task object into a DTO object.\r\n\r\nError logs;\r\n\r\n[enter image description here](https://i.stack.imgur.com/OU8sf.png)\r\n\r\nTask entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TASKS&quot;, schema = &quot;main&quot;)\r\n@Builder\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Task {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Image resultImage;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;PREVIEW_RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Image previewResultImage;\r\n}\r\n```\r\n\r\n\r\n\r\nImage entity:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;IMAGES&quot;,schema = &quot;main&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Image {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;DATA&quot;)\r\n    @Lob\r\n    private byte[] data;\r\n\r\n}\r\n```\r\n\r\n\r\nDTO-class:\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class ResponseDTO {\r\n\r\n    private Long taskId;\r\n\r\n    private String sampleImageData;\r\n\r\n    private String imagePreviewResultData;\r\n}\r\n```\r\n\r\n\r\nthe method where the error occurs:\r\n\r\n\r\n```\r\npublic List&lt;ResponseDTO&gt; getAllTasks(Long userId) {\r\n\r\n        List&lt;Task&gt; tasks = taskRepository.findAllByUserId(userId);\r\n\r\n        return tasks.stream().\r\n                map(Mapper.INSTANCE::taskToResponseDTO).\r\n                collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n\r\ntransform method in mapper:\r\n\r\n\r\n```\r\n@org.mapstruct.Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface Mapper {\r\n\r\n    Mapper INSTANCE = Mappers.getMapper(Mapper.class);\r\n\r\n    @Mapping(target = &quot;taskId&quot;, source = &quot;id&quot;)\r\n    @Mapping(target = &quot;sampleImageData&quot;, source = &quot;imageMetadata.sampleImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\r\n    @Mapping(target = &quot;imagePreviewResultData&quot;, source = &quot;previewResultImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\r\n    ResponseDTO taskToResponseDTO(Task task);\r\n}\r\n```\r\n\r\n\r\nI tried to disable the mapping of fields that are not configured, but it did not help.\r\n\r\nI will be glad for any help!","title":"How to resolve lazy loading issue in Spring Boot?","body":"<p>The problem arose with lazy loading. In the essence of the task there is a field called &quot;resultImage&quot;. This field contains a large picture and when unloading all task objects, I don’t want to unload it. The error occurs when the mapper converts the Task object into a DTO object.</p>\n<p>Error logs;</p>\n<p><a href=\"https://i.stack.imgur.com/OU8sf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Task entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;TASKS&quot;, schema = &quot;main&quot;)\n@Builder\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\n    private Image resultImage;\n\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;PREVIEW_RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\n    private Image previewResultImage;\n}\n</code></pre>\n<p>Image entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;IMAGES&quot;,schema = &quot;main&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class Image {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;DATA&quot;)\n    @Lob\n    private byte[] data;\n\n}\n</code></pre>\n<p>DTO-class:</p>\n<pre><code>@Data\n@Builder\npublic class ResponseDTO {\n\n    private Long taskId;\n\n    private String sampleImageData;\n\n    private String imagePreviewResultData;\n}\n</code></pre>\n<p>the method where the error occurs:</p>\n<pre><code>public List&lt;ResponseDTO&gt; getAllTasks(Long userId) {\n\n        List&lt;Task&gt; tasks = taskRepository.findAllByUserId(userId);\n\n        return tasks.stream().\n                map(Mapper.INSTANCE::taskToResponseDTO).\n                collect(Collectors.toList());\n    }\n</code></pre>\n<p>transform method in mapper:</p>\n<pre><code>@org.mapstruct.Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface Mapper {\n\n    Mapper INSTANCE = Mappers.getMapper(Mapper.class);\n\n    @Mapping(target = &quot;taskId&quot;, source = &quot;id&quot;)\n    @Mapping(target = &quot;sampleImageData&quot;, source = &quot;imageMetadata.sampleImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\n    @Mapping(target = &quot;imagePreviewResultData&quot;, source = &quot;previewResultImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\n    ResponseDTO taskToResponseDTO(Task task);\n}\n</code></pre>\n<p>I tried to disable the mapping of fields that are not configured, but it did not help.</p>\n<p>I will be glad for any help!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1505148137,"post_id":46160319,"comment_id":79283119,"body_markdown":"1) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) Please learn common Java nomenclature (naming conventions - e.g. `EachWordUpperCaseClass`, `firstWordLowerCaseMethod()`, `firstWordLowerCaseAttribute` unless it is an `UPPER_CASE_CONSTANT`) and use it consistently.","body":"1) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) Please learn common Java nomenclature (naming conventions - e.g. <code>EachWordUpperCaseClass</code>, <code>firstWordLowerCaseMethod()</code>, <code>firstWordLowerCaseAttribute</code> unless it is an <code>UPPER_CASE_CONSTANT</code>) and use it consistently."},{"owner":{"account_id":1726292,"reputation":2791,"user_id":1580864,"accept_rate":74,"display_name":"Mark W"},"score":1,"creation_date":1505154176,"post_id":46160319,"comment_id":79286229,"body_markdown":"What doesn&#39;t work about the first approach? Both are a JFileChooser... so they both expose getSelectedFile() to return the string value of the path. Just put it in a variable someplace and use it.","body":"What doesn&#39;t work about the first approach? Both are a JFileChooser... so they both expose getSelectedFile() to return the string value of the path. Just put it in a variable someplace and use it."},{"owner":{"account_id":9771318,"reputation":69,"user_id":7243081,"accept_rate":27,"display_name":"euranoo"},"score":0,"creation_date":1505238973,"post_id":46160319,"comment_id":79328235,"body_markdown":"imo its problem with eclipse wich display compilation error","body":"imo its problem with eclipse wich display compilation error"},{"owner":{"account_id":9771318,"reputation":69,"user_id":7243081,"accept_rate":27,"display_name":"euranoo"},"score":0,"creation_date":1505242433,"post_id":46160319,"comment_id":79329898,"body_markdown":"I FIXED IT POSTING SOLUTION: Path workDir = jfc.getSelectedFile().toPath();","body":"I FIXED IT POSTING SOLUTION: Path workDir = jfc.getSelectedFile().toPath();"}],"owner":{"account_id":9771318,"reputation":69,"user_id":7243081,"accept_rate":27,"display_name":"euranoo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685481556,"creation_date":1505147311,"question_id":46160319,"body_markdown":"In this application I&#39;m asking the user to choose a folder, however using code below I&#39;m unable to use this input as variable path\r\n\r\n    public class csvtoxls {\r\n    \r\n        public static void main() throws IOException {\r\n\r\n            JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\r\n            jfc.setDialogTitle(&quot;Wybierz folder do konwersji: &quot;);\r\n            jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\r\n            jfc.setAcceptAllFileFilterUsed(false);\r\n            int returnValue = jfc.showSaveDialog(null);\r\n            if (returnValue == JFileChooser.APPROVE_OPTION) {\r\n                if (jfc.getSelectedFile().isDirectory()) {\r\n                    System.out.println(&quot;You selected the directory: &quot; + jfc.getSelectedFile());\r\n\r\n\r\nSo in order to achieve this I used function: \r\n\r\n    public class getpath {\r\n    \r\n    \t  public static String pickPath(JFileChooser fileChooser)\r\n    \t  {\r\n    \t    String path = null;\r\n    \t    \r\n    \t    /* create a JFrame to be the parent of the file \r\n    \t     * chooser open dialog if you don&#39;t do this then \r\n    \t     * you may not see the dialog.\r\n    \t     */\r\n    \t    JFrame frame = new JFrame();\r\n    \t    frame.setAlwaysOnTop(true);\r\n    \t    \r\n    \t    // get the return value from choosing a file\r\n    \t    int returnVal = fileChooser.showOpenDialog(frame);\r\n    \t    \r\n    \t    // if the return value says the user picked a file \r\n    \t    if (returnVal == JFileChooser.APPROVE_OPTION)\r\n    \t      path = fileChooser.getSelectedFile().getPath();\r\n    \t    return path;\r\n    \t    \r\n    \t  }\r\n    }\r\n\r\nVariable:\r\n\r\n    Path workDir = Paths.get(getpath.pickPath(jfc));\r\n\r\nThe problem with this solution is that user have to choose folder twice which can easily lead to mistake. Is there way to get this path easier?","title":"Java get selected folder path","body":"<p>In this application I'm asking the user to choose a folder, however using code below I'm unable to use this input as variable path</p>\n<pre><code>public class csvtoxls {\n\n    public static void main() throws IOException {\n\n        JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\n        jfc.setDialogTitle(&quot;Wybierz folder do konwersji: &quot;);\n        jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n        jfc.setAcceptAllFileFilterUsed(false);\n        int returnValue = jfc.showSaveDialog(null);\n        if (returnValue == JFileChooser.APPROVE_OPTION) {\n            if (jfc.getSelectedFile().isDirectory()) {\n                System.out.println(&quot;You selected the directory: &quot; + jfc.getSelectedFile());\n</code></pre>\n<p>So in order to achieve this I used function:</p>\n<pre><code>public class getpath {\n\n      public static String pickPath(JFileChooser fileChooser)\n      {\n        String path = null;\n        \n        /* create a JFrame to be the parent of the file \n         * chooser open dialog if you don't do this then \n         * you may not see the dialog.\n         */\n        JFrame frame = new JFrame();\n        frame.setAlwaysOnTop(true);\n        \n        // get the return value from choosing a file\n        int returnVal = fileChooser.showOpenDialog(frame);\n        \n        // if the return value says the user picked a file \n        if (returnVal == JFileChooser.APPROVE_OPTION)\n          path = fileChooser.getSelectedFile().getPath();\n        return path;\n        \n      }\n}\n</code></pre>\n<p>Variable:</p>\n<pre><code>Path workDir = Paths.get(getpath.pickPath(jfc));\n</code></pre>\n<p>The problem with this solution is that user have to choose folder twice which can easily lead to mistake. Is there way to get this path easier?</p>\n"},{"tags":["java","package"],"answers":[{"tags":[],"owner":{"account_id":89663,"reputation":4547,"user_id":247230,"accept_rate":70,"display_name":"jr."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1263093084,"creation_date":1263093084,"answer_id":2035947,"question_id":2035896,"body_markdown":"I would think that it would generate something in a customer supplied package name? Ie: ask the user the package they would like to use. \r\n\r\nDoes it generate things in more then one package? ","title":"proper Java package hierarchy?","body":"<p>I would think that it would generate something in a customer supplied package name? Ie: ask the user the package they would like to use. </p>\n\n<p>Does it generate things in more then one package? </p>\n"},{"tags":[],"owner":{"account_id":72720,"reputation":9178,"user_id":209828,"accept_rate":83,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263093214,"creation_date":1263093214,"answer_id":2035953,"question_id":2035896,"body_markdown":"the idea is that the package names will be globally unique","title":"proper Java package hierarchy?","body":"<p>the idea is that the package names will be globally unique</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1263093257,"creation_date":1263093257,"answer_id":2035954,"question_id":2035896,"body_markdown":"It probably does this so it can access &quot;package local&quot; classes.","title":"proper Java package hierarchy?","body":"<p>It probably does this so it can access \"package local\" classes.</p>\n"},{"tags":[],"owner":{"account_id":86536,"reputation":10312,"user_id":240566,"accept_rate":82,"display_name":"Jay Askren"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1263093339,"creation_date":1263093339,"answer_id":2035960,"question_id":2035896,"body_markdown":"I would say your intuition is correct.  I would personally refactor it to be your own package.  Is this just a tutorial project it generated, or is it your project that you are going to be working on.  If this is not a tutorial project, I would be surprised if there is no way to override the package name when it is created.","title":"proper Java package hierarchy?","body":"<p>I would say your intuition is correct.  I would personally refactor it to be your own package.  Is this just a tutorial project it generated, or is it your project that you are going to be working on.  If this is not a tutorial project, I would be surprised if there is no way to override the package name when it is created.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685481000,"creation_date":1685481000,"answer_id":76368662,"question_id":2035896,"body_markdown":"Using your own reverse domain name makes the most sense.  The [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.1)  (JLS) states that the purpose of the standard package naming structure is to avoid having different published packages with the same name.  By using your own domain name, you ensure that your package will not conflict with other packages published following the standard package naming conventions.  If you use someone else&#39;s domain name, you risk a package naming conflict.\r\n\r\nThe relevant portions of the JLS:\r\n\r\n&gt; _Programmers should take steps to avoid the possibility of two published packages having the same name by choosing unique package names for packages that are widely distributed. This allows packages to be easily and automatically installed and catalogued. This section specifies a suggested convention for generating such unique package names. […]_\r\n&gt;\r\n&gt; _If unique package names are not used, then package name conflicts may arise far from the point of creation of either of the conflicting packages. This may create a situation that is difficult or impossible for the user or programmer to resolve. […]_\r\n&gt;\r\n&gt; _You form a unique package name by first having (or belonging to an organization that has) an Internet domain name, such as `oracle.com`. You then reverse this name, component by component, to obtain, in this example, `com.oracle`, and use this as a prefix for your package names, using a convention developed within your organization to further administer package names. […]_","title":"proper Java package hierarchy?","body":"<p>Using your own reverse domain name makes the most sense.  The <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.1\" rel=\"nofollow noreferrer\">Java Language Specification</a>  (JLS) states that the purpose of the standard package naming structure is to avoid having different published packages with the same name.  By using your own domain name, you ensure that your package will not conflict with other packages published following the standard package naming conventions.  If you use someone else's domain name, you risk a package naming conflict.</p>\n<p>The relevant portions of the JLS:</p>\n<blockquote>\n<p><em>Programmers should take steps to avoid the possibility of two published packages having the same name by choosing unique package names for packages that are widely distributed. This allows packages to be easily and automatically installed and catalogued. This section specifies a suggested convention for generating such unique package names. […]</em></p>\n<p><em>If unique package names are not used, then package name conflicts may arise far from the point of creation of either of the conflicting packages. This may create a situation that is difficult or impossible for the user or programmer to resolve. […]</em></p>\n<p><em>You form a unique package name by first having (or belonging to an organization that has) an Internet domain name, such as <code>oracle.com</code>. You then reverse this name, component by component, to obtain, in this example, <code>com.oracle</code>, and use this as a prefix for your package names, using a convention developed within your organization to further administer package names. […]</em></p>\n</blockquote>\n"}],"owner":{"account_id":20630,"reputation":140545,"user_id":49485,"accept_rate":72,"display_name":"Sophie Alpert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2035960,"answer_count":5,"score":3,"last_activity_date":1685481000,"creation_date":1263091674,"question_id":2035896,"body_markdown":"I just started looking at the new FIRST Robotics Java SDK, which includes project generators to build sample robotics programs.\r\n\r\nSomething I was curious about is the file it generates begins with:\r\n\r\n    package edu.wpi.first.wpilibj.templates;\r\n\r\nDoes this actually make sense? (The library I&#39;m using is from first.wpi.edu, but my project doesn&#39;t really have any affiliation with them otherwise.) I&#39;d think that I should want to instead use my own reverse domain for the package specifier.\r\n\r\nThoughts?","title":"proper Java package hierarchy?","body":"<p>I just started looking at the new FIRST Robotics Java SDK, which includes project generators to build sample robotics programs.</p>\n\n<p>Something I was curious about is the file it generates begins with:</p>\n\n<pre><code>package edu.wpi.first.wpilibj.templates;\n</code></pre>\n\n<p>Does this actually make sense? (The library I'm using is from first.wpi.edu, but my project doesn't really have any affiliation with them otherwise.) I'd think that I should want to instead use my own reverse domain for the package specifier.</p>\n\n<p>Thoughts?</p>\n"},{"tags":["java","android-studio","recyclerlistview"],"owner":{"account_id":21542820,"reputation":1,"user_id":15880250,"display_name":"Fatomy Sadiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685480949,"creation_date":1685480949,"question_id":76368656,"body_markdown":"I have a recommendation in play console after I tried to publish my app.\r\n\r\nThis item may not have a label readable by screen readers.\r\n\r\nthe xml code:\r\n\r\n```\r\n &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        &gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;186dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:contentDescription=&quot;clickable_image7_meegat&quot;\r\n            android:src=&quot;@drawable/dhoalhulaifah&quot;&gt;\r\n\r\n        &lt;/ImageView&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n```\r\n\r\nthe java adapter code:\r\n\r\n\r\n```\r\n  public Almashaaer_Adapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater =  LayoutInflater.from (context);\r\n        View view=inflater.inflate (R.layout.single_item,parent,false);\r\n\r\n        return new Almashaaer_Adapter.MyViewHolder(view,recyclerViewInterface);\r\n    }\r\n```\r\n\r\nthen I try to create if condtion for the list in the code:\r\n\r\n\r\n```\r\n @Override\r\n    public void onItemClick(int position) {\r\n        if(position == 0 ){\r\n            Intent intent = new Intent (Almashaaer.this,Minaa.class);\r\n            startActivity (intent);}\r\n        else\r\n        if(position == 1){\r\n            Intent intent = new Intent (Almashaaer.this,Aljamarat.class);\r\n            startActivity (intent);\r\n        }else.......etc\r\n```\r\n\r\n\r\n\r\nI try to eliminate the onClick()","title":"This item may not have a label readable by screen readers","body":"<p>I have a recommendation in play console after I tried to publish my app.</p>\n<p>This item may not have a label readable by screen readers.</p>\n<p>the xml code:</p>\n<pre><code> &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;10dp&quot;\n        &gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView&quot;\n            android:layout_width=&quot;186dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:contentDescription=&quot;clickable_image7_meegat&quot;\n            android:src=&quot;@drawable/dhoalhulaifah&quot;&gt;\n\n        &lt;/ImageView&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>the java adapter code:</p>\n<pre><code>  public Almashaaer_Adapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater =  LayoutInflater.from (context);\n        View view=inflater.inflate (R.layout.single_item,parent,false);\n\n        return new Almashaaer_Adapter.MyViewHolder(view,recyclerViewInterface);\n    }\n</code></pre>\n<p>then I try to create if condtion for the list in the code:</p>\n<pre><code> @Override\n    public void onItemClick(int position) {\n        if(position == 0 ){\n            Intent intent = new Intent (Almashaaer.this,Minaa.class);\n            startActivity (intent);}\n        else\n        if(position == 1){\n            Intent intent = new Intent (Almashaaer.this,Aljamarat.class);\n            startActivity (intent);\n        }else.......etc\n</code></pre>\n<p>I try to eliminate the onClick()</p>\n"},{"tags":["java","multithreading","uuid"],"answers":[{"tags":[],"owner":{"account_id":1503634,"reputation":748,"user_id":1407544,"accept_rate":29,"display_name":"Redwan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1436648958,"creation_date":1436648958,"answer_id":31361879,"question_id":31361833,"body_markdown":"You can synchronize uuid-generation method, and/or you can pregen uuid pool and generate more identificators in one thread when pool starts to deplete.","title":"Same UUID being generated in multi-threaded application","body":"<p>You can synchronize uuid-generation method, and/or you can pregen uuid pool and generate more identificators in one thread when pool starts to deplete.</p>\n"},{"tags":[],"owner":{"account_id":5558081,"reputation":71,"user_id":4408712,"display_name":"V1ma-8"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590169020,"creation_date":1590169020,"answer_id":61960763,"question_id":31361833,"body_markdown":"You can try something like this \r\n\r\n    int uuid = ThreadLocalRandom.current().nextInt());","title":"Same UUID being generated in multi-threaded application","body":"<p>You can try something like this </p>\n\n<pre><code>int uuid = ThreadLocalRandom.current().nextInt());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651343030,"creation_date":1592449971,"answer_id":62441732,"question_id":31361833,"body_markdown":"Maybe this example can help someone in the future:\r\n\r\n\r\n```java\r\nUUID uuid = UuidCreator.getRandomBased();\r\n```\r\n\r\nThis library uses `java.security.SecureRandom`:\r\n\r\nhttps://github.com/f4b6a3/uuid-creator\r\n\r\n","title":"Same UUID being generated in multi-threaded application","body":"<p>Maybe this example can help someone in the future:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = UuidCreator.getRandomBased();\n</code></pre>\n<p>This library uses <code>java.security.SecureRandom</code>:</p>\n<p><a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">https://github.com/f4b6a3/uuid-creator</a></p>\n"},{"tags":[],"owner":{"account_id":8607564,"reputation":912,"user_id":6447189,"display_name":"Melissa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651286320,"creation_date":1651286320,"answer_id":72065295,"question_id":31361833,"body_markdown":"I saw the same thing. I was calling `UUID.randomUUID()` in a multi-threaded application. Different threads were getting the same UUID. For me (and I&#39;m guessing you), this was because I was stored uuid in a static variable:\r\n\r\n```\r\n  static class UserJourneyThread implements Callable&lt;UserJourneyResult&gt; {\r\n\r\n    private static final String uuid = UUID.randomUUID().toString();\r\n\r\n    public UserJourneyResult call() {\r\n    }\r\n  }\r\n```\r\n\r\nIf `call()` is called once per thread, this should fix the problem:\r\n\r\n\r\n```\r\n  private static final ThreadLocal&lt;String&gt; uuid =\r\n      ThreadLocal.withInitial(() -&gt; UUID.randomUUID().toString());\r\n```\r\n\r\nIn my case, each thread called `call()` multiple times, so I had to move `UUID.randomUUID()` into `call()`.","title":"Same UUID being generated in multi-threaded application","body":"<p>I saw the same thing. I was calling <code>UUID.randomUUID()</code> in a multi-threaded application. Different threads were getting the same UUID. For me (and I'm guessing you), this was because I was stored uuid in a static variable:</p>\n<pre><code>  static class UserJourneyThread implements Callable&lt;UserJourneyResult&gt; {\n\n    private static final String uuid = UUID.randomUUID().toString();\n\n    public UserJourneyResult call() {\n    }\n  }\n</code></pre>\n<p>If <code>call()</code> is called once per thread, this should fix the problem:</p>\n<pre><code>  private static final ThreadLocal&lt;String&gt; uuid =\n      ThreadLocal.withInitial(() -&gt; UUID.randomUUID().toString());\n</code></pre>\n<p>In my case, each thread called <code>call()</code> multiple times, so I had to move <code>UUID.randomUUID()</code> into <code>call()</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651293313,"creation_date":1651293313,"answer_id":72065754,"question_id":31361833,"body_markdown":"I honestly think you are barking up the wrong tree.  The real problem here is the (apparently) non-thread-safe way that you are using `UUID.randomUUID`.  (You didn&#39;t show us the code for that, so we can&#39;t spot the actual issue for you!)  The best solution would be to find and fix the thread safety problem.  \r\n\r\nDon&#39;t try implementing your own random/unique string generator.  Doing that will just create more problems down the track.  \r\n\r\nFor example, your use of `Random` like this would effectively limit you to ~2^48 distinct UUIDs ... because that is the seed length for `Random`; see https://docs.oracle.com/javase/8/docs/api/java/util/Random.html.   `ThreadLocalRandom` has the same problem.\r\n\r\nEven if you get your implementation correct, you still need to deal with the underlying thread safety issue.  And you have added a bunch of (IMO) unnecessary code to your code base that needs thorough unit testing ... and has to be maintained for the lifetime of your code base.","title":"Same UUID being generated in multi-threaded application","body":"<p>I honestly think you are barking up the wrong tree.  The real problem here is the (apparently) non-thread-safe way that you are using <code>UUID.randomUUID</code>.  (You didn't show us the code for that, so we can't spot the actual issue for you!)  The best solution would be to find and fix the thread safety problem.</p>\n<p>Don't try implementing your own random/unique string generator.  Doing that will just create more problems down the track.</p>\n<p>For example, your use of <code>Random</code> like this would effectively limit you to ~2^48 distinct UUIDs ... because that is the seed length for <code>Random</code>; see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Random.html</a>.   <code>ThreadLocalRandom</code> has the same problem.</p>\n<p>Even if you get your implementation correct, you still need to deal with the underlying thread safety issue.  And you have added a bunch of (IMO) unnecessary code to your code base that needs thorough unit testing ... and has to be maintained for the lifetime of your code base.</p>\n"},{"tags":[],"owner":{"account_id":4933775,"reputation":11,"user_id":3972658,"display_name":"ahmad.zuhd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685480361,"creation_date":1685480361,"answer_id":76368583,"question_id":31361833,"body_markdown":"in my case, i have applied all possible solutions. Even the library by [v1ma-8][1] still getting me repeated results. I have figured out that the issue is related to number of active threads .. it&#39;s reasonable to get the same id by the same thread...\r\n\r\nI have used `server.tomcat.threads.min-spare` option in tomcat to increase the number of threads for testing and it works fine as long as you don&#39;t exceed this min number.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4408712/v1ma-8","title":"Same UUID being generated in multi-threaded application","body":"<p>in my case, i have applied all possible solutions. Even the library by <a href=\"https://stackoverflow.com/users/4408712/v1ma-8\">v1ma-8</a> still getting me repeated results. I have figured out that the issue is related to number of active threads .. it's reasonable to get the same id by the same thread...</p>\n<p>I have used <code>server.tomcat.threads.min-spare</code> option in tomcat to increase the number of threads for testing and it works fine as long as you don't exceed this min number.</p>\n"}],"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5148,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":31361879,"answer_count":6,"score":9,"last_activity_date":1685480361,"creation_date":1436648644,"question_id":31361833,"body_markdown":"I am using the UUID.randomUUID().toString() to append a unique value to a string that is ultimately stored in the database and has unique constraint on it\r\n\r\nBut because my application is multi-threaded the execution happens at the same time of UUID generation and ultimately the same UUID is appended to the string and persistence fails. \r\n\r\nIs there a better way to generate random string i.e. a fail-safe method. \r\n\r\nI tried debugging and when I paused the other threads and let them go one by one then it worked fine. \r\n\r\nI am currently using the following code to make it more random but i do not like this approach. \r\n\r\n    Random r = new Random();\r\n    List&lt;Integer&gt; uniqueNUmbers = new ArrayList&lt;&gt;();\r\n    for (int i=0;i&lt;10;i++) {\r\n    int x=r.nextInt(9999);\r\n    while (uniqueNumbers.contains(x))\r\n    x=r.nextInt(9999);\r\n    uniqueNumbers.add(x);\r\n    } \r\n    String string = String.format(&quot;%04d&quot;, uniqueNumbers.get(0));\r\n    \r\n    string = uuid + string;\r\n\r\n\r\nBut this is like a hacky code. And I dont like this. \r\n\r\nDoes any one know a fail-proof method to actually geenrate a random string. ","title":"Same UUID being generated in multi-threaded application","body":"<p>I am using the UUID.randomUUID().toString() to append a unique value to a string that is ultimately stored in the database and has unique constraint on it</p>\n\n<p>But because my application is multi-threaded the execution happens at the same time of UUID generation and ultimately the same UUID is appended to the string and persistence fails. </p>\n\n<p>Is there a better way to generate random string i.e. a fail-safe method. </p>\n\n<p>I tried debugging and when I paused the other threads and let them go one by one then it worked fine. </p>\n\n<p>I am currently using the following code to make it more random but i do not like this approach. </p>\n\n<pre><code>Random r = new Random();\nList&lt;Integer&gt; uniqueNUmbers = new ArrayList&lt;&gt;();\nfor (int i=0;i&lt;10;i++) {\nint x=r.nextInt(9999);\nwhile (uniqueNumbers.contains(x))\nx=r.nextInt(9999);\nuniqueNumbers.add(x);\n} \nString string = String.format(\"%04d\", uniqueNumbers.get(0));\n\nstring = uuid + string;\n</code></pre>\n\n<p>But this is like a hacky code. And I dont like this. </p>\n\n<p>Does any one know a fail-proof method to actually geenrate a random string. </p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1685479974,"post_id":7847568,"comment_id":134665397,"body_markdown":"See also: https://stackoverflow.com/a/64018076/1108305","body":"See also: <a href=\"https://stackoverflow.com/a/64018076/1108305\">stackoverflow.com/a/64018076/1108305</a>"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1319190055,"creation_date":1319190055,"answer_id":7847584,"question_id":7847568,"body_markdown":"There is no relation between packages and subpackages. It is just a hierarchical structure for the convenience of a developer and has no further meaning to Java itself.","title":"Relation between package and a sub package in Java","body":"<p>There is no relation between packages and subpackages. It is just a hierarchical structure for the convenience of a developer and has no further meaning to Java itself.</p>\n"},{"tags":[],"owner":{"account_id":985924,"reputation":31,"user_id":1004416,"display_name":"Yuhua Liu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1319190516,"creation_date":1319190516,"answer_id":7847672,"question_id":7847568,"body_markdown":"There is no relation between them.\r\npackage com.stackoverflow in java code just like com/stackoverflow in your operating system.\r\nI&#39;m sorry,my English is poor,beg your parden.","title":"Relation between package and a sub package in Java","body":"<p>There is no relation between them.\npackage com.stackoverflow in java code just like com/stackoverflow in your operating system.\nI'm sorry,my English is poor,beg your parden.</p>\n"},{"tags":[],"owner":{"account_id":26472781,"reputation":1,"user_id":20113153,"display_name":"uthra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685480180,"creation_date":1664542268,"answer_id":73909068,"question_id":7847568,"body_markdown":"Relation between the package and a sub-package in Java\r\n          \r\nAs Mark Rotteveel said It is just a hierarchical structure for the convenience of a developer \r\n\r\nIf you&#39;re asking about the relationship between them we might say that parent and child relationship.\r\n\r\nA **package** is like a folder. In Java containing a group of related classes, interfaces, enumeration, and annotation.\r\n          \r\n**Sub-package** is nothing but defined inside of another package.\r\n\r\nA package may have many sub-packages inside it.\r\n\r\nWe use packages to avoid name conflicts and to organize your code better, making access easy.\r\n\r\nDefine package in java:(package must be in the first code of your code)\r\n\r\n```lang-java\r\npackage packagename;\r\npackage packagename.subpackagename;\r\n```\r\n\r\n**import packages in java:**\r\n\r\n```lang-java\r\nimport packagename.classname; or import packagename.*;\r\nimport packagename.subpackagename.classname; or import packagename.subpackagename.*;\r\n```\r\n\r\n**Predefined sub-packages in java:**\r\n\r\n```lang-java\r\nimport java.util.*;\r\n```\r\n        \r\nhere java is a package and util is a sub-package ( lang,net,util,awt,SQL)\r\n\r\nHow to run package in notepad        \r\n  \r\n```lang-none\r\njavac packagename\\subpackagename\\programname.java\r\njavac packagename.subpackagename.programname\r\n```\r\n\r\n\r\n","title":"Relation between package and a sub package in Java","body":"<p>Relation between the package and a sub-package in Java</p>\n<p>As Mark Rotteveel said It is just a hierarchical structure for the convenience of a developer</p>\n<p>If you're asking about the relationship between them we might say that parent and child relationship.</p>\n<p>A <strong>package</strong> is like a folder. In Java containing a group of related classes, interfaces, enumeration, and annotation.</p>\n<p><strong>Sub-package</strong> is nothing but defined inside of another package.</p>\n<p>A package may have many sub-packages inside it.</p>\n<p>We use packages to avoid name conflicts and to organize your code better, making access easy.</p>\n<p>Define package in java:(package must be in the first code of your code)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package packagename;\npackage packagename.subpackagename;\n</code></pre>\n<p><strong>import packages in java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import packagename.classname; or import packagename.*;\nimport packagename.subpackagename.classname; or import packagename.subpackagename.*;\n</code></pre>\n<p><strong>Predefined sub-packages in java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n</code></pre>\n<p>here java is a package and util is a sub-package ( lang,net,util,awt,SQL)</p>\n<p>How to run package in notepad</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac packagename\\subpackagename\\programname.java\njavac packagename.subpackagename.programname\n</code></pre>\n"}],"owner":{"account_id":989050,"reputation":69,"user_id":1006819,"display_name":"user1006819"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":878,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1685480255,"creation_date":1319189947,"question_id":7847568,"body_markdown":"Can anyone please let me know the relation between a package and a sub package in java?\r\n","title":"Relation between package and a sub package in Java","body":"<p>Can anyone please let me know the relation between a package and a sub package in java?</p>\n"},{"tags":["java","webi"],"comments":[{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1591860979,"post_id":62307426,"comment_id":110217435,"body_markdown":"Does this answer your question? [Get CUIDs of all all the reports](https://stackoverflow.com/questions/62299244/get-cuids-of-all-all-the-reports)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62299244/get-cuids-of-all-all-the-reports\">Get CUIDs of all all the reports</a>"},{"owner":{"account_id":4040366,"reputation":61,"user_id":3323487,"accept_rate":67,"display_name":"user3323487"},"score":0,"creation_date":1616572565,"post_id":62307426,"comment_id":118041320,"body_markdown":"@anjune Hi, i have a similar situation where we have to migrate reports from SAP BO software to PowerBI. I am new to SAP and reports migration, any possible leads if it is achievable via rest api calls or any other method. It would be great if dont have to move data model. Here is my posted question......https://stackoverflow.com/questions/66776787/how-can-you-migrate-sap-bo-reports-to-powerbi","body":"@anjune Hi, i have a similar situation where we have to migrate reports from SAP BO software to PowerBI. I am new to SAP and reports migration, any possible leads if it is achievable via rest api calls or any other method. It would be great if dont have to move data model. Here is my posted question......<a href=\"https://stackoverflow.com/questions/66776787/how-can-you-migrate-sap-bo-reports-to-powerbi\" title=\"how can you migrate sap bo reports to powerbi\">stackoverflow.com/questions/66776787/&hellip;</a>"}],"owner":{"account_id":18720461,"reputation":13,"user_id":13648450,"display_name":"anjune"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685480225,"creation_date":1591803238,"question_id":62307426,"body_markdown":"Using PostMan we can find the data providers, report elements and many more but in this I have to put each Report ID every time to access the report elements, dataset, etc.\r\n\r\nIs it possible that without entering report id every time it automatically takes up the report ID of all reports stored in CMC (Central management Console) or WEBI tool of SAP BO?\r\n\r\nCan this be done in Java language?","title":"Retrieve Report details of SAP BO","body":"<p>Using PostMan we can find the data providers, report elements and many more but in this I have to put each Report ID every time to access the report elements, dataset, etc.</p>\n<p>Is it possible that without entering report id every time it automatically takes up the report ID of all reports stored in CMC (Central management Console) or WEBI tool of SAP BO?</p>\n<p>Can this be done in Java language?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":23735746,"reputation":23,"user_id":17754455,"display_name":"Muhammadsaied"},"score":0,"creation_date":1685436706,"post_id":76363140,"comment_id":134655852,"body_markdown":"i made so many mistakes in my question please correct it please dont dislike ... please correct it please","body":"i made so many mistakes in my question please correct it please dont dislike ... please correct it please"},{"owner":{"account_id":23735746,"reputation":23,"user_id":17754455,"display_name":"Muhammadsaied"},"score":0,"creation_date":1685436745,"post_id":76363140,"comment_id":134655862,"body_markdown":"help me not getting bean type","body":"help me not getting bean type"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685443266,"creation_date":1685443266,"answer_id":76363971,"question_id":76363140,"body_markdown":"Your code does not contain a `DataSource` bean, nor is Spring providing any because you&#39;re excluding `DataSourceAutoConfiguration.class`. This is a problem, because the [`JpaRepositoriesAutoConfiguration`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/data/jpa/JpaRepositoriesAutoConfiguration.html) autoconfiguration is only invoked when a `DataSource` bean is present (it has a `@ConditionalOnBean`). \r\n\r\nThe easiest solution is to re-enable `DataSourceAutoConfiguration` by removing the exclusion:\r\n\r\n```java\r\n@SpringBootApplication // Remove the `exclude` here\r\n@RestController\r\n@EnableTransactionManagement\r\npublic class PaymentgatewayApplication {\r\n    // ...\r\n}\r\n```\r\n\r\nAfter that, you can configure a `DataSource` bean with the `spring.datasource.*` properties and by providing the proper JDBC driver on your classpath.","title":"getting error : Field passengerInfoRepository in FlightBookingService required a bean of type &#39;.PassengerInfoRepository&#39; that could not be found","body":"<p>Your code does not contain a <code>DataSource</code> bean, nor is Spring providing any because you're excluding <code>DataSourceAutoConfiguration.class</code>. This is a problem, because the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/data/jpa/JpaRepositoriesAutoConfiguration.html\" rel=\"nofollow noreferrer\"><code>JpaRepositoriesAutoConfiguration</code></a> autoconfiguration is only invoked when a <code>DataSource</code> bean is present (it has a <code>@ConditionalOnBean</code>).</p>\n<p>The easiest solution is to re-enable <code>DataSourceAutoConfiguration</code> by removing the exclusion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication // Remove the `exclude` here\n@RestController\n@EnableTransactionManagement\npublic class PaymentgatewayApplication {\n    // ...\n}\n</code></pre>\n<p>After that, you can configure a <code>DataSource</code> bean with the <code>spring.datasource.*</code> properties and by providing the proper JDBC driver on your classpath.</p>\n"},{"tags":[],"owner":{"account_id":27772579,"reputation":34,"user_id":21202611,"display_name":"Imran Ullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685443903,"creation_date":1685443903,"answer_id":76364074,"question_id":76363140,"body_markdown":"To resolve the issue, you need to remove the **exclude={DataSourceAutoConfiguration.class}** line from your **@SpringBootApplication** annotation. This exclusion prevents Spring Boot from automatically configuring a data source based on your application&#39;s properties. By removing this, Spring Boot will be able to auto-configure the data source using the properties defined in your application. This allows the necessary bean for **PassengerInfoRepository** to be created and properly injected into the **FlightBookingService**.\r\nAdditionally, ensure that you have added the **@Repository** annotation to your **PassengerInfoRepository** interface. This annotation informs Spring that the interface is a repository and allows the creation of the necessary bean.\r\n","title":"getting error : Field passengerInfoRepository in FlightBookingService required a bean of type &#39;.PassengerInfoRepository&#39; that could not be found","body":"<p>To resolve the issue, you need to remove the <strong>exclude={DataSourceAutoConfiguration.class}</strong> line from your <strong>@SpringBootApplication</strong> annotation. This exclusion prevents Spring Boot from automatically configuring a data source based on your application's properties. By removing this, Spring Boot will be able to auto-configure the data source using the properties defined in your application. This allows the necessary bean for <strong>PassengerInfoRepository</strong> to be created and properly injected into the <strong>FlightBookingService</strong>.\nAdditionally, ensure that you have added the <strong>@Repository</strong> annotation to your <strong>PassengerInfoRepository</strong> interface. This annotation informs Spring that the interface is a repository and allows the creation of the necessary bean.</p>\n"}],"owner":{"account_id":23735746,"reputation":23,"user_id":17754455,"display_name":"Muhammadsaied"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685480066,"creation_date":1685436643,"question_id":76363140,"body_markdown":"There is not getting bean type of repository\r\n\r\n/\\*\r\n\r\n```\r\n\r\nDescription:\r\n\r\nField passengerInfoRepository in paymentgateway.service.FlightBookingService required a bean of type &#39;paymentgateway.repository.PassengerInfoRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;paymentgateway.repository.PassengerInfoRepository&#39; in your configuration.\r\n```\r\n\r\n\\*\\*/\r\n\r\napplication main method\r\n\r\n/\\*\\*\r\n\r\n```\r\npackage paymentgateway;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport paymentgateway.dto.FlightBookingAcknowledgement;\r\nimport paymentgateway.dto.FlightBookingRequest;\r\nimport paymentgateway.service.FlightBookingService;\r\n\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\n@RestController\r\n@EnableTransactionManagement\r\npublic class PaymentgatewayApplication {\r\n\r\n\t@Autowired\r\n\tprivate FlightBookingService flightBookingService;\r\n\t\r\n\t@PostMapping(&quot;/bookFlightTicket&quot;)\r\n\tpublic FlightBookingAcknowledgement bookFlightTicket(@RequestBody FlightBookingRequest flightBookingRequest) {\r\n\t\treturn flightBookingService.bookFlightTicket(flightBookingRequest);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(PaymentgatewayApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\\*\\*/\r\n\r\n/\\*\\*\r\n\r\n```\r\npackage paymentgateway.service;\r\n\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Isolation;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport paymentgateway.dto.FlightBookingAcknowledgement;\r\nimport paymentgateway.dto.FlightBookingRequest;\r\nimport paymentgateway.entity.PassengerInfo;\r\nimport paymentgateway.entity.PaymentInfo;\r\nimport paymentgateway.repository.PassengerInfoRepository;\r\nimport paymentgateway.repository.PaymentInfoRepository;\r\nimport paymentgateway.utils.PaymentUtils;\r\n\r\n@Service\r\npublic class FlightBookingService {\r\n\t\r\n\t@Autowired\r\n\tprivate PassengerInfoRepository passengerInfoRepository;\r\n\t\r\n\t@Autowired\r\n\tprivate PaymentInfoRepository paymentInfoRepository;\r\n\t\r\n\t@Transactional//(readOnly = false , isolation = Isolation.READ_COMMITTED,propagation = Propagation.REQUIRED)\r\n\tpublic FlightBookingAcknowledgement bookFlightTicket(FlightBookingRequest flightBookingRequest) {\r\n\t\t\r\n\t\t\r\n\t\tPassengerInfo passengerInfo =  flightBookingRequest.getPassengerInfo();\r\n\t\t\r\n\t\t passengerInfo = passengerInfoRepository.save(passengerInfo);\r\n\t\t\r\n\t\tPaymentInfo paymentInfo = flightBookingRequest.getPaymentInfo();\r\n\t\t\r\n\t\tPaymentUtils.validateCreditLimit(paymentInfo.getAccountNo(), passengerInfo.getFare());\r\n\t\t\r\n\t\tpaymentInfo.setAmount(passengerInfo.getFare());\r\n\t\tpaymentInfo.setPassengerId(passengerInfo.getPId());\r\n\t\tpaymentInfoRepository.save(paymentInfo);\r\n\t\t\r\n\t\treturn new FlightBookingAcknowledgement(&quot;success&quot;, passengerInfo.getFare(),UUID.randomUUID().toString().split(&quot;-&quot;)[0],passengerInfo);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\\*\\*/\r\n\r\nrepository.java\r\n\r\n/\\*\\*\r\n\r\npackage paymentgateway.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport paymentgateway.entity.PaymentInfo;\r\n\r\npublic interface PaymentInfoRepository extends JpaRepository\\&lt;PaymentInfo, String\\&gt;{\r\n\r\n}\r\n\r\n\\*\\*/\r\n\r\npackage paymentgateway.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport paymentgateway.entity.PassengerInfo;\r\n\r\npublic interface PassengerInfoRepository extends JpaRepository\\&lt;PassengerInfo, Long\\&gt; {\r\n\r\n}\r\n\r\n/\\*\\*\r\n\r\n\\*\\*/","title":"getting error : Field passengerInfoRepository in FlightBookingService required a bean of type &#39;.PassengerInfoRepository&#39; that could not be found","body":"<p>There is not getting bean type of repository</p>\n<p>/*</p>\n<pre><code>\nDescription:\n\nField passengerInfoRepository in paymentgateway.service.FlightBookingService required a bean of type 'paymentgateway.repository.PassengerInfoRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'paymentgateway.repository.PassengerInfoRepository' in your configuration.\n</code></pre>\n<p>**/</p>\n<p>application main method</p>\n<p>/**</p>\n<pre><code>package paymentgateway;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport paymentgateway.dto.FlightBookingAcknowledgement;\nimport paymentgateway.dto.FlightBookingRequest;\nimport paymentgateway.service.FlightBookingService;\n\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\n@RestController\n@EnableTransactionManagement\npublic class PaymentgatewayApplication {\n\n    @Autowired\n    private FlightBookingService flightBookingService;\n    \n    @PostMapping(&quot;/bookFlightTicket&quot;)\n    public FlightBookingAcknowledgement bookFlightTicket(@RequestBody FlightBookingRequest flightBookingRequest) {\n        return flightBookingService.bookFlightTicket(flightBookingRequest);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(PaymentgatewayApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>**/</p>\n<p>/**</p>\n<pre><code>package paymentgateway.service;\n\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Isolation;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport paymentgateway.dto.FlightBookingAcknowledgement;\nimport paymentgateway.dto.FlightBookingRequest;\nimport paymentgateway.entity.PassengerInfo;\nimport paymentgateway.entity.PaymentInfo;\nimport paymentgateway.repository.PassengerInfoRepository;\nimport paymentgateway.repository.PaymentInfoRepository;\nimport paymentgateway.utils.PaymentUtils;\n\n@Service\npublic class FlightBookingService {\n    \n    @Autowired\n    private PassengerInfoRepository passengerInfoRepository;\n    \n    @Autowired\n    private PaymentInfoRepository paymentInfoRepository;\n    \n    @Transactional//(readOnly = false , isolation = Isolation.READ_COMMITTED,propagation = Propagation.REQUIRED)\n    public FlightBookingAcknowledgement bookFlightTicket(FlightBookingRequest flightBookingRequest) {\n        \n        \n        PassengerInfo passengerInfo =  flightBookingRequest.getPassengerInfo();\n        \n         passengerInfo = passengerInfoRepository.save(passengerInfo);\n        \n        PaymentInfo paymentInfo = flightBookingRequest.getPaymentInfo();\n        \n        PaymentUtils.validateCreditLimit(paymentInfo.getAccountNo(), passengerInfo.getFare());\n        \n        paymentInfo.setAmount(passengerInfo.getFare());\n        paymentInfo.setPassengerId(passengerInfo.getPId());\n        paymentInfoRepository.save(paymentInfo);\n        \n        return new FlightBookingAcknowledgement(&quot;success&quot;, passengerInfo.getFare(),UUID.randomUUID().toString().split(&quot;-&quot;)[0],passengerInfo);\n        \n    }\n\n}\n</code></pre>\n<p>**/</p>\n<p>repository.java</p>\n<p>/**</p>\n<p>package paymentgateway.repository;</p>\n<p>import org.springframework.data.jpa.repository.JpaRepository;</p>\n<p>import paymentgateway.entity.PaymentInfo;</p>\n<p>public interface PaymentInfoRepository extends JpaRepository&lt;PaymentInfo, String&gt;{</p>\n<p>}</p>\n<p>**/</p>\n<p>package paymentgateway.repository;</p>\n<p>import org.springframework.data.jpa.repository.JpaRepository;</p>\n<p>import paymentgateway.entity.PassengerInfo;</p>\n<p>public interface PassengerInfoRepository extends JpaRepository&lt;PassengerInfo, Long&gt; {</p>\n<p>}</p>\n<p>/**</p>\n<p>**/</p>\n"},{"tags":["java","angular","spring","spring-boot"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685471736,"post_id":76367653,"comment_id":134663926,"body_markdown":"could you provide what are the logs of executing your spring app? have you validated that the request that you are doing from angular is sending the request with the custom header? have you tried sending a standard header from angular and it was also ignored?","body":"could you provide what are the logs of executing your spring app? have you validated that the request that you are doing from angular is sending the request with the custom header? have you tried sending a standard header from angular and it was also ignored?"},{"owner":{"account_id":9941752,"reputation":181,"user_id":15250391,"display_name":"Nadirspam"},"score":0,"creation_date":1685472376,"post_id":76367653,"comment_id":134664036,"body_markdown":"@Gast&#243;n Schabas. I do not know how to verify that angular is sending the request with the custom header&gt; I don&#39;t have experience. With curl I get the following log from spring: ... INFO 29158 --- [nio-8080-exec-4] yFilter$$EnhancerBySpringCGLIB$$4cd85bf3 : h: batman","body":"@Gast&#243;n Schabas. I do not know how to verify that angular is sending the request with the custom header&gt; I don&#39;t have experience. With curl I get the following log from spring: ... INFO 29158 --- [nio-8080-exec-4] yFilter$$EnhancerBySpringCGLIB$$4cd85bf3 : h: batman"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685472639,"post_id":76367653,"comment_id":134664081,"body_markdown":"you have two options. One could be run the app in the browser and with the devloper tools check what are the requests you are doing. In chrome you can do that in the [network](https://developer.chrome.com/docs/devtools/network/). Another option could be to add some logs and check the [console](https://developer.chrome.com/docs/devtools/console/) of the broswer. Another one could be to write automated test (such as unit or integration tests) that validates the request sent by your code","body":"you have two options. One could be run the app in the browser and with the devloper tools check what are the requests you are doing. In chrome you can do that in the <a href=\"https://developer.chrome.com/docs/devtools/network/\" rel=\"nofollow noreferrer\">network</a>. Another option could be to add some logs and check the <a href=\"https://developer.chrome.com/docs/devtools/console/\" rel=\"nofollow noreferrer\">console</a> of the broswer. Another one could be to write automated test (such as unit or integration tests) that validates the request sent by your code"},{"owner":{"account_id":9941752,"reputation":181,"user_id":15250391,"display_name":"Nadirspam"},"score":0,"creation_date":1685473195,"post_id":76367653,"comment_id":134664174,"body_markdown":"Assuming Angular is not sending the headers, what to do about it. Actually before sending &#39;Batman&#39; I wanted to send &quot;Authorization&quot; header : &quot;Basic ...&quot; but it didn&#39;t work","body":"Assuming Angular is not sending the headers, what to do about it. Actually before sending &#39;Batman&#39; I wanted to send &quot;Authorization&quot; header : &quot;Basic ...&quot; but it didn&#39;t work"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1685477758,"post_id":76367653,"comment_id":134665021,"body_markdown":"If angular is not doing what you are expecting, you should fix it. If you need some help with that, you should need to edit your post or create a new question","body":"If angular is not doing what you are expecting, you should fix it. If you need some help with that, you should need to edit your post or create a new question"}],"answers":[{"tags":[],"owner":{"account_id":9941752,"reputation":181,"user_id":15250391,"display_name":"Nadirspam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685480064,"creation_date":1685480064,"answer_id":76368560,"question_id":76367653,"body_markdown":"Thanks to the instructions of @Gast&#243;n Schabas\r\n, I made a change to my code in Angular and the problem is solved:\r\n```\r\n  getData(): Observable&lt;any&gt; {\r\n    const url = &#39;http://localhost:8080/data&#39;\r\n    return this.http.get&lt;any&gt;(url, { headers: { Batman: &#39;Forever&#39; } })\r\n  }\r\n```\r\nI got the solution from the following link:\r\nhttps://stackoverflow.com/questions/45286764/adding-a-http-header-to-the-angular-httpclient-doesnt-send-the-header-why\r\n\r\nAs for the reason why the first code does not work, I don&#39;t know.","title":"Spring boot doesn&#39;t receive custom request header added from Angular client but receive it when using curl","body":"<p>Thanks to the instructions of @Gastón Schabas\n, I made a change to my code in Angular and the problem is solved:</p>\n<pre><code>  getData(): Observable&lt;any&gt; {\n    const url = 'http://localhost:8080/data'\n    return this.http.get&lt;any&gt;(url, { headers: { Batman: 'Forever' } })\n  }\n</code></pre>\n<p>I got the solution from the following link:\n<a href=\"https://stackoverflow.com/questions/45286764/adding-a-http-header-to-the-angular-httpclient-doesnt-send-the-header-why\">Adding a HTTP header to the Angular HttpClient doesn&#39;t send the header, why?</a></p>\n<p>As for the reason why the first code does not work, I don't know.</p>\n"}],"owner":{"account_id":9941752,"reputation":181,"user_id":15250391,"display_name":"Nadirspam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685480064,"creation_date":1685471338,"question_id":76367653,"body_markdown":"I&#39;m experimenting with spring boot to learn. So I want to send a custom header to my backend spring boot server without using Spring Security. With curl it goes like this:\r\n```\r\ncurl http://localhost:8080/data -H &quot;Batman: Forever&quot;\r\n```\r\nIn my spring app I have a custom filter:\r\n```java\r\n@Configuration\r\npublic class MyFilter extends OncePerRequestFilter {\r\n    private final Logger log = LoggerFactory.getLogger(getClass());\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String header = request.getHeader(&quot;Batman&quot;);\r\n        log.info(&quot;Batman: &quot;+ header);\r\n        request.getHeaderNames().asIterator().forEachRemaining(s -&gt; log.info(s));\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nWith curl I recieve the header &#39;Batman&#39; but not with angular that goes like this:\r\n```javascript\r\n  getData(): Observable&lt;any&gt; {\r\n    const url = &#39;http://localhost:8080/data&#39;\r\n    let headers_obj = new HttpHeaders()\r\n    headers_obj.append(&#39;Content-Type&#39;, &#39;application/json&#39;)\r\n    headers_obj.append(&#39;Batman&#39;, &#39;Forever&#39;)\r\n    const httpOptions = {\r\n      headers: headers_obj,\r\n    }\r\n    console.log(&#39;Provided user: &#39;, this.username)\r\n    return this.http.get&lt;any&gt;(url, httpOptions)\r\n  }\r\n```\r\nI spent hours googling the issue without success. Thank you for any help","title":"Spring boot doesn&#39;t receive custom request header added from Angular client but receive it when using curl","body":"<p>I'm experimenting with spring boot to learn. So I want to send a custom header to my backend spring boot server without using Spring Security. With curl it goes like this:</p>\n<pre><code>curl http://localhost:8080/data -H &quot;Batman: Forever&quot;\n</code></pre>\n<p>In my spring app I have a custom filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyFilter extends OncePerRequestFilter {\n    private final Logger log = LoggerFactory.getLogger(getClass());\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String header = request.getHeader(&quot;Batman&quot;);\n        log.info(&quot;Batman: &quot;+ header);\n        request.getHeaderNames().asIterator().forEachRemaining(s -&gt; log.info(s));\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>With curl I recieve the header 'Batman' but not with angular that goes like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>  getData(): Observable&lt;any&gt; {\n    const url = 'http://localhost:8080/data'\n    let headers_obj = new HttpHeaders()\n    headers_obj.append('Content-Type', 'application/json')\n    headers_obj.append('Batman', 'Forever')\n    const httpOptions = {\n      headers: headers_obj,\n    }\n    console.log('Provided user: ', this.username)\n    return this.http.get&lt;any&gt;(url, httpOptions)\n  }\n</code></pre>\n<p>I spent hours googling the issue without success. Thank you for any help</p>\n"},{"tags":["java","authentication","active-directory","business-objects"],"answers":[{"tags":[],"owner":{"account_id":9819,"reputation":796,"user_id":18284,"display_name":"shrub34"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340994058,"creation_date":1340979932,"answer_id":11263600,"question_id":11251727,"body_markdown":"The answer assumes you have set up the Active Directory and/or LDAP authentication for users and the user(s) have an alias to that authentication method.  This should be verifiable by logins into InfoView.\r\n\r\nYou should be able to do it by using credential.setAuthType(authType).  \r\nWhere authType is \r\n\r\n - &quot;secEnterprise&quot;  *default value* \r\n - &quot;secLDAP&quot; \r\n - &quot;secWinAD&quot;\r\n\r\nSeems and makes sense that by default the AuthType is set to secEnterprise.\r\n\r\n*Note: I&#39;m still on R3 which has a slightly different authentication mechanism and I have not specifically tried this solution.*\r\n\r\n\r\n----------\r\n\r\n\r\n**Important Edit:** The documentation (which is awful for BusinessObjects and anyone reading this probably already knows that) says that for active directory you use &quot;secAD&quot;. However, in my testing I was able to successfully authenticate using &quot;secWinAD&quot; which does not appear anywhere in their documentation at all :-/ (that I could find).","title":"How to log into BusinessObjects using Active Directory or LDAP","body":"<p>The answer assumes you have set up the Active Directory and/or LDAP authentication for users and the user(s) have an alias to that authentication method.  This should be verifiable by logins into InfoView.</p>\n\n<p>You should be able to do it by using credential.setAuthType(authType).<br>\nWhere authType is </p>\n\n<ul>\n<li>\"secEnterprise\"  <em>default value</em> </li>\n<li>\"secLDAP\" </li>\n<li>\"secWinAD\"</li>\n</ul>\n\n<p>Seems and makes sense that by default the AuthType is set to secEnterprise.</p>\n\n<p><em>Note: I'm still on R3 which has a slightly different authentication mechanism and I have not specifically tried this solution.</em></p>\n\n<hr>\n\n<p><strong>Important Edit:</strong> The documentation (which is awful for BusinessObjects and anyone reading this probably already knows that) says that for active directory you use \"secAD\". However, in my testing I was able to successfully authenticate using \"secWinAD\" which does not appear anywhere in their documentation at all :-/ (that I could find).</p>\n"}],"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4920,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11263600,"answer_count":1,"score":3,"last_activity_date":1685479924,"creation_date":1340912400,"question_id":11251727,"body_markdown":"**Edit:** Appended &quot;or LDAP&quot; to question title to indicate that I would be fine to have a solution which made it possible for me to authenticate with LDAP credentials.\r\n\r\n**My Question:** How do I authenticate a [BusinessObjects session][1] using credentials with Active Directory?\r\n\r\n**Example:** I have (I think) an example from SAP on how to do this in `.NET` but I can&#39;t seem to find a similar solution for `Java`. (See [this pdf][2] and search for &quot;Modify the .NET Web Application to enable Kerberos&quot;).\r\n\r\n**Currently:** I have a solution to authenticate using an Enterprise Account:\r\n\r\n\r\n    /**\r\n    * Logs into BusinessObjects. Sets the reportEngine and biPlatform\r\n    */\r\n    public void loginToBusinessObjects() throws AxisFault, MalformedURLException, Exception {\r\n      LogHelper.println(&quot;Server connection: &quot; + boServer);\r\n\r\n      URL boConURL = new URL(boServer);//set connection URL\r\n      connection = new com.businessobjects.dsws.Connection(boConURL);\r\n\r\n      boSession = new Session(connection); //setup new session\r\n\r\n      EnterpriseCredential credential = EnterpriseCredential.Factory.newInstance();\r\n      credential.setLogin(boUsername);\r\n      credential.setPassword(boPassword);\r\n      LogHelper.println(boUsername + &quot;: ##password##&quot;);\r\n      boSession.login(credential); //login to server\r\n      ...\r\n    }\r\n\r\nThe code above works great.\r\n\r\n**Now:** I want to be able allow users to give their Active Directory credentials and authenticate using those. I can&#39;t seem to find a way to do this however. Documentation on the code above can be found in [that same pdf][2] searching for &quot;Logging in to a server.&quot;\r\n\r\n**Note**: I could be going about this all wrong. My organization uses the same credentials for Active Directory and LDAP Authentication. If there&#39;s a way to do this using LDAP that may be sufficient. Thanks.\r\n\r\n  [1]: http://help.sap.com/javadocs/boe/xi/ws/en/com/businessobjects/dsws/session/Session.html\r\n  [2]: http://devlibrary.businessobjects.com/businessobjectsxir2sp2/en/en/WS_SDK/wssdk_consumer/doc/wssdk_dg.pdf","title":"How to log into BusinessObjects using Active Directory or LDAP","body":"<p><strong>Edit:</strong> Appended \"or LDAP\" to question title to indicate that I would be fine to have a solution which made it possible for me to authenticate with LDAP credentials.</p>\n\n<p><strong>My Question:</strong> How do I authenticate a <a href=\"http://help.sap.com/javadocs/boe/xi/ws/en/com/businessobjects/dsws/session/Session.html\" rel=\"nofollow\">BusinessObjects session</a> using credentials with Active Directory?</p>\n\n<p><strong>Example:</strong> I have (I think) an example from SAP on how to do this in <code>.NET</code> but I can't seem to find a similar solution for <code>Java</code>. (See <a href=\"http://devlibrary.businessobjects.com/businessobjectsxir2sp2/en/en/WS_SDK/wssdk_consumer/doc/wssdk_dg.pdf\" rel=\"nofollow\">this pdf</a> and search for \"Modify the .NET Web Application to enable Kerberos\").</p>\n\n<p><strong>Currently:</strong> I have a solution to authenticate using an Enterprise Account:</p>\n\n<pre><code>/**\n* Logs into BusinessObjects. Sets the reportEngine and biPlatform\n*/\npublic void loginToBusinessObjects() throws AxisFault, MalformedURLException, Exception {\n  LogHelper.println(\"Server connection: \" + boServer);\n\n  URL boConURL = new URL(boServer);//set connection URL\n  connection = new com.businessobjects.dsws.Connection(boConURL);\n\n  boSession = new Session(connection); //setup new session\n\n  EnterpriseCredential credential = EnterpriseCredential.Factory.newInstance();\n  credential.setLogin(boUsername);\n  credential.setPassword(boPassword);\n  LogHelper.println(boUsername + \": ##password##\");\n  boSession.login(credential); //login to server\n  ...\n}\n</code></pre>\n\n<p>The code above works great.</p>\n\n<p><strong>Now:</strong> I want to be able allow users to give their Active Directory credentials and authenticate using those. I can't seem to find a way to do this however. Documentation on the code above can be found in <a href=\"http://devlibrary.businessobjects.com/businessobjectsxir2sp2/en/en/WS_SDK/wssdk_consumer/doc/wssdk_dg.pdf\" rel=\"nofollow\">that same pdf</a> searching for \"Logging in to a server.\"</p>\n\n<p><strong>Note</strong>: I could be going about this all wrong. My organization uses the same credentials for Active Directory and LDAP Authentication. If there's a way to do this using LDAP that may be sufficient. Thanks.</p>\n"},{"tags":["java","sql-server","database-connection"],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1378243119,"creation_date":1326755086,"answer_id":8887552,"question_id":8887512,"body_markdown":"Java and databases go together like bread and butter, but the language is just different enough that you might have issues breaking in. There are a number of different levels at which things can be integrated: the traditional query/result API is called JDBC, and all you need to work with any database from Java code is the appropriate JDBC driver. [Here][1] is the official one from Microsoft for SQL Server, and [here][2] is a tutorial about using the JDBC API.\r\n\r\nAbove that, there are object-relational mapping tools like Hibernate which let you persist Java objects directly onto your database. Hibernate automates a lot of the mapping and lets you work at a high level. Hibernate is an enormous subject; start [here.][3]\r\n\r\nWhat SQLExplorer, and tools like it, let you do is browse around in a database, exploring the tables and the data in them. It&#39;s not something you use with code, but rather interactively to examine the data you&#39;re working with.\r\n\r\nHere is a JDBC &quot;Hello World,&quot; assuming the default database on the local machine, a table named `some_table_name` has a character-valued column in the first position:\r\n\r\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    String connectionUrl = &quot;jdbc:sqlserver://localhost&quot;;\r\n    Connection con = DriverManager.getConnection(connectionUrl);\r\n    Statement s = con.createStatement();\r\n    ResultSet r = s.executeQuery(&quot;SELECT * FROM some_table_name&quot;);\r\n    while (r.next()) {\r\n        System.out.println(r.getString(1));\r\n    }\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/sqlserver/aa937724\r\n  [2]: http://docs.oracle.com/javase/tutorial/jdbc/basics/\r\n  [3]: http://www.hibernate.org/","title":"Java, Eclipse and SQL Server","body":"<p>Java and databases go together like bread and butter, but the language is just different enough that you might have issues breaking in. There are a number of different levels at which things can be integrated: the traditional query/result API is called JDBC, and all you need to work with any database from Java code is the appropriate JDBC driver. <a href=\"http://msdn.microsoft.com/en-us/sqlserver/aa937724\" rel=\"nofollow\">Here</a> is the official one from Microsoft for SQL Server, and <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/\" rel=\"nofollow\">here</a> is a tutorial about using the JDBC API.</p>\n\n<p>Above that, there are object-relational mapping tools like Hibernate which let you persist Java objects directly onto your database. Hibernate automates a lot of the mapping and lets you work at a high level. Hibernate is an enormous subject; start <a href=\"http://www.hibernate.org/\" rel=\"nofollow\">here.</a></p>\n\n<p>What SQLExplorer, and tools like it, let you do is browse around in a database, exploring the tables and the data in them. It's not something you use with code, but rather interactively to examine the data you're working with.</p>\n\n<p>Here is a JDBC \"Hello World,\" assuming the default database on the local machine, a table named <code>some_table_name</code> has a character-valued column in the first position:</p>\n\n<pre><code>Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\nString connectionUrl = \"jdbc:sqlserver://localhost\";\nConnection con = DriverManager.getConnection(connectionUrl);\nStatement s = con.createStatement();\nResultSet r = s.executeQuery(\"SELECT * FROM some_table_name\");\nwhile (r.next()) {\n    System.out.println(r.getString(1));\n}\n</code></pre>\n"}],"owner":{"account_id":1011831,"reputation":6443,"user_id":1024246,"accept_rate":80,"display_name":"Popokoko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22707,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":8887552,"answer_count":1,"score":3,"last_activity_date":1685479440,"creation_date":1326754872,"question_id":8887512,"body_markdown":"I&#39;m pretty new with Java (though I&#39;m experienced with C#).\r\nAnyway I&#39;ve Googled a lot in the last few hours and I can&#39;t understand something.  I&#39;m hoping you can help me with some guidance.\r\n\r\nI&#39;d like to use Eclipse with SQL Server and I have no idea how am I doing that.\r\nI&#39;ve seen some plugin called SQLExplorer but I just can&#39;t figure what are the steps to integrate with that.\r\n\r\nRegarding:\r\n\r\n - What is the best way of doing that?\r\n - Is there any guide or full tutorial?\r\n - Maybe you have some source code example of a connection to SQL?\r\n - Should I use that plugin? How?\r\n - Why is it so difficult to find info about this issue? Isn&#39;t eclipse familiar with SQL?\r\n\r\nThank you all.","title":"Java, Eclipse and SQL Server","body":"<p>I'm pretty new with Java (though I'm experienced with C#).\nAnyway I've Googled a lot in the last few hours and I can't understand something.  I'm hoping you can help me with some guidance.</p>\n<p>I'd like to use Eclipse with SQL Server and I have no idea how am I doing that.\nI've seen some plugin called SQLExplorer but I just can't figure what are the steps to integrate with that.</p>\n<p>Regarding:</p>\n<ul>\n<li>What is the best way of doing that?</li>\n<li>Is there any guide or full tutorial?</li>\n<li>Maybe you have some source code example of a connection to SQL?</li>\n<li>Should I use that plugin? How?</li>\n<li>Why is it so difficult to find info about this issue? Isn't eclipse familiar with SQL?</li>\n</ul>\n<p>Thank you all.</p>\n"},{"tags":["java","spring","aop","spring-aop","shedlock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1685525756,"post_id":76366846,"comment_id":134671156,"body_markdown":"Which problem are you trying to solve? Why would it even be relevant or helpful to know what comes first? Does it really make sense to focus on a technical detail like that and develop code relying on sacred knowledge and a certain internal behaviour of the framework you use?","body":"Which problem are you trying to solve? Why would it even be relevant or helpful to know what comes first? Does it really make sense to focus on a technical detail like that and develop code relying on sacred knowledge and a certain internal behaviour of the framework you use?"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1686722936,"post_id":76366846,"comment_id":134836333,"body_markdown":"Does this SO [answer](https://stackoverflow.com/questions/8818143/spring-annotation-advice-order) help ?","body":"Does this SO <a href=\"https://stackoverflow.com/questions/8818143/spring-annotation-advice-order\">answer</a> help ?"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685478911,"creation_date":1685473276,"answer_id":76367855,"question_id":76366846,"body_markdown":"In general the relative order of annotation aspect is not specified be default, moreover it might vary from version to version.\r\n\r\nAs it is mentioned in the answer to this [question][1] you can specify the order:\r\n&gt; You need to change relative order of @Transactional and @Cacheable aspects.\r\n\r\nThe link there points to outdated documentation, so if you really need ordering I&#39;d split this method into two, moving each into separate component and call one from another one (or vice versa), e.g.:\r\n```java\r\nclass A {\r\n  private final B b;\r\n\r\n  @SchedulerLock\r\n  public void test() {\r\n    b.test();\r\n  }\r\n}\r\n\r\nclass B {\r\n\r\n  @Transactional\r\n  public void test() {\r\n    // do smth\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/10683603/combination-hibernate-transactional-ehcache-cacheable-always-creates-db-tran","title":"In which order are annotations processed by Spring AOP?","body":"<p>In general the relative order of annotation aspect is not specified be default, moreover it might vary from version to version.</p>\n<p>As it is mentioned in the answer to this <a href=\"https://stackoverflow.com/questions/10683603/combination-hibernate-transactional-ehcache-cacheable-always-creates-db-tran\">question</a> you can specify the order:</p>\n<blockquote>\n<p>You need to change relative order of @Transactional and @Cacheable aspects.</p>\n</blockquote>\n<p>The link there points to outdated documentation, so if you really need ordering I'd split this method into two, moving each into separate component and call one from another one (or vice versa), e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n  private final B b;\n\n  @SchedulerLock\n  public void test() {\n    b.test();\n  }\n}\n\nclass B {\n\n  @Transactional\n  public void test() {\n    // do smth\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28033127,"reputation":33,"user_id":21987387,"display_name":"Oleg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685478911,"creation_date":1685463983,"question_id":76366846,"body_markdown":"I have a method that has two annotations:\r\n\r\n    @Transactional\r\n    @SchedulerLock\r\n    public void test() {\r\n        // do something\r\n    }\r\n\r\nI&#39;m wondering what happens first. Will first be a transaction created and then the locking will happen, or the other way round? Or isn&#39;t this even determined?\r\n\r\nI tried to figure this out by reading the documentation, but I&#39;m unsure where to even start. The only thing I could find was a random comment without source that said that the order is random.","title":"In which order are annotations processed by Spring AOP?","body":"<p>I have a method that has two annotations:</p>\n<pre><code>@Transactional\n@SchedulerLock\npublic void test() {\n    // do something\n}\n</code></pre>\n<p>I'm wondering what happens first. Will first be a transaction created and then the locking will happen, or the other way round? Or isn't this even determined?</p>\n<p>I tried to figure this out by reading the documentation, but I'm unsure where to even start. The only thing I could find was a random comment without source that said that the order is random.</p>\n"},{"tags":["java","mysql","database-connection"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":1,"creation_date":1313343503,"post_id":7058477,"comment_id":8441382,"body_markdown":"Please show us your stack trace (the exception)!!!","body":"Please show us your stack trace (the exception)!!!"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1313343658,"post_id":7058477,"comment_id":8441409,"body_markdown":"Yes, assuming you get an exception, do `e.printStackTrace()` instead, and show us the output.","body":"Yes, assuming you get an exception, do <code>e.printStackTrace()</code> instead, and show us the output."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1313343675,"post_id":7058477,"comment_id":8441411,"body_markdown":"BTW: I&#39;d not post the database details in a public forum...","body":"BTW: I&#39;d not post the database details in a public forum..."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1313343285,"creation_date":1313343285,"answer_id":7058509,"question_id":7058477,"body_markdown":"phpmyadmin is a front-end to a database, a web application. It&#39;s not a database. You can&#39;t access the database in Java through phpmyadmin. You need a direct access to the database itself (which is called MySQL, BTW). Not sure if your hosting provider allows it.","title":"Why can&#39;t I access a remote database through Java?","body":"<p>phpmyadmin is a front-end to a database, a web application. It's not a database. You can't access the database in Java through phpmyadmin. You need a direct access to the database itself (which is called MySQL, BTW). Not sure if your hosting provider allows it.</p>\n"}],"owner":{"account_id":796003,"reputation":23,"user_id":894073,"display_name":"Jef"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7058509,"answer_count":1,"score":2,"last_activity_date":1685478767,"creation_date":1313342998,"question_id":7058477,"body_markdown":"I am trying to make an Java application, which needs a connection with a MySQL database to read data.\r\n\r\nI&#39;ve read several tutorials and examples, and I tried almost everything but I just can&#39;t get any access to the database. \r\n\r\nAt the moment I am using this to connect to the db:\r\n\r\n    try{\r\n       Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n       con = DriverManager.getConnection(&quot;jdbc:mysql://myhost/test&quot;,&quot;databaseUser&quot;,  &quot;password&quot;);\r\n    }\r\n    catch (Exception e){\r\n       System.out.println(e);\r\n    }\r\n\r\nStacktrace:\r\n\r\n&gt;com.mysql.jdbc.CommunicationsException: Communications link failure due to underlying exception: \r\n\r\n&gt;** BEGIN NESTED EXCEPTION ** \r\n\r\n&gt;com.mysql.jdbc.CommunicationsException\r\nMESSAGE: Communications link failure due to underlying exception: \r\n\r\n&gt;** BEGIN NESTED EXCEPTION ** \r\n\r\n&gt;java.io.EOFException\r\nMESSAGE: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n\r\n&gt;STACKTRACE:\r\n\r\n&gt;java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n\tat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:1997)\r\n\tat com.mysql.jdbc.MysqlIO.readPacket(MysqlIO.java:573)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1044)\r\n\tat com.mysql.jdbc.Connection.createNewIO(Connection.java:2775)\r\n\tat com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:1555)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:582)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:185)\r\n\tat facturatiesysteem.SysteemView.zoekKlant(SysteemView.java:148)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.jdesktop.application.ApplicationAction.noProxyActionPerformed(ApplicationAction.java:662)\r\n\tat org.jdesktop.application.ApplicationAction.actionPerformed(ApplicationAction.java:698)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6288)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3267)\r\n\tat java.awt.Component.processEvent(Component.java:6053)\r\n\tat java.awt.Container.processEvent(Container.java:2041)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4651)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2099)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4481)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4577)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4238)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2085)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2478)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4481)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:643)\r\n\tat java.awt.EventQueue.access$000(EventQueue.java:84)\r\n\tat java.awt.EventQueue$1.run(EventQueue.java:602)\r\n\tat java.awt.EventQueue$1.run(EventQueue.java:600)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)\r\n\tat java.awt.EventQueue$2.run(EventQueue.java:616)\r\n\tat java.awt.EventQueue$2.run(EventQueue.java:614)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:613)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\r\n\r\n\r\n&gt;** END NESTED EXCEPTION **\r\n\r\nThe last packet sent to the server was 16 ms ago.\r\n\r\nAnd a lot more...\r\n\r\nBut I just can&#39;t get access to it.\r\n\r\nWhat can I do here?","title":"Why can&#39;t I access a remote database through Java?","body":"<p>I am trying to make an Java application, which needs a connection with a MySQL database to read data.</p>\n<p>I've read several tutorials and examples, and I tried almost everything but I just can't get any access to the database.</p>\n<p>At the moment I am using this to connect to the db:</p>\n<pre><code>try{\n   Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n   con = DriverManager.getConnection(&quot;jdbc:mysql://myhost/test&quot;,&quot;databaseUser&quot;,  &quot;password&quot;);\n}\ncatch (Exception e){\n   System.out.println(e);\n}\n</code></pre>\n<p>Stacktrace:</p>\n<blockquote>\n<p>com.mysql.jdbc.CommunicationsException: Communications link failure due to underlying exception:</p>\n</blockquote>\n<blockquote>\n<p>** BEGIN NESTED EXCEPTION **</p>\n</blockquote>\n<blockquote>\n<p>com.mysql.jdbc.CommunicationsException\nMESSAGE: Communications link failure due to underlying exception:</p>\n</blockquote>\n<blockquote>\n<p>** BEGIN NESTED EXCEPTION **</p>\n</blockquote>\n<blockquote>\n<p>java.io.EOFException\nMESSAGE: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.</p>\n</blockquote>\n<blockquote>\n<p>STACKTRACE:</p>\n</blockquote>\n<blockquote>\n<p>java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\nat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:1997)\nat com.mysql.jdbc.MysqlIO.readPacket(MysqlIO.java:573)\nat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1044)\nat com.mysql.jdbc.Connection.createNewIO(Connection.java:2775)\nat com.mysql.jdbc.Connection.(Connection.java:1555)\nat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\nat java.sql.DriverManager.getConnection(DriverManager.java:582)\nat java.sql.DriverManager.getConnection(DriverManager.java:185)\nat facturatiesysteem.SysteemView.zoekKlant(SysteemView.java:148)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.jdesktop.application.ApplicationAction.noProxyActionPerformed(ApplicationAction.java:662)\nat org.jdesktop.application.ApplicationAction.actionPerformed(ApplicationAction.java:698)\nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\nat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\nat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\nat java.awt.Component.processMouseEvent(Component.java:6288)\nat javax.swing.JComponent.processMouseEvent(JComponent.java:3267)\nat java.awt.Component.processEvent(Component.java:6053)\nat java.awt.Container.processEvent(Container.java:2041)\nat java.awt.Component.dispatchEventImpl(Component.java:4651)\nat java.awt.Container.dispatchEventImpl(Container.java:2099)\nat java.awt.Component.dispatchEvent(Component.java:4481)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4577)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4238)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\nat java.awt.Container.dispatchEventImpl(Container.java:2085)\nat java.awt.Window.dispatchEventImpl(Window.java:2478)\nat java.awt.Component.dispatchEvent(Component.java:4481)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:643)\nat java.awt.EventQueue.access$000(EventQueue.java:84)\nat java.awt.EventQueue$1.run(EventQueue.java:602)\nat java.awt.EventQueue$1.run(EventQueue.java:600)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)\nat java.awt.EventQueue$2.run(EventQueue.java:616)\nat java.awt.EventQueue$2.run(EventQueue.java:614)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:613)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)</p>\n</blockquote>\n<blockquote>\n<p>** END NESTED EXCEPTION **</p>\n</blockquote>\n<p>The last packet sent to the server was 16 ms ago.</p>\n<p>And a lot more...</p>\n<p>But I just can't get access to it.</p>\n<p>What can I do here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1473325618,"post_id":39386188,"comment_id":66100300,"body_markdown":"I can&#39;t understand why `assert(cows+bulls&lt;=4);` is checked. their sum can be 8 at max. that happens when `answer` and `guessNumber` are absolutely identical, in that case cows=4 and bulls=4","body":"I can&#39;t understand why <code>assert(cows+bulls&lt;=4);</code> is checked. their sum can be 8 at max. that happens when <code>answer</code> and <code>guessNumber</code> are absolutely identical, in that case cows=4 and bulls=4"},{"owner":{"account_id":5364291,"reputation":1046,"user_id":4280027,"display_name":"user254948"},"score":0,"creation_date":1473326157,"post_id":39386188,"comment_id":66100631,"body_markdown":"@mangusta Which is one of his issues. Bulls should not be included in the count. He is also double counting some cows.","body":"@mangusta Which is one of his issues. Bulls should not be included in the count. He is also double counting some cows."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1473326193,"post_id":39386188,"comment_id":66100654,"body_markdown":"Just a wild guess: you were supposed to generate a number consisting of 4 different digits. And your counts of bulls and cows work correctly for such a number. Instead you produce a number in the interval from 1234 through 9876. So you may get, e.g., 1555, and with some identical digits, your methods don’t seem to work correctly anymore.","body":"Just a wild guess: you were supposed to generate a number consisting of 4 different digits. And your counts of bulls and cows work correctly for such a number. Instead you produce a number in the interval from 1234 through 9876. So you may get, e.g., 1555, and with some identical digits, your methods don’t seem to work correctly anymore."},{"owner":{"account_id":6735008,"reputation":428,"user_id":5511392,"display_name":"Sarhad Salam"},"score":0,"creation_date":1473326315,"post_id":39386188,"comment_id":66100728,"body_markdown":"I can&#39;t understand the expected output vs. what your program produced. Could you possibly show the output from the terminal?","body":"I can&#39;t understand the expected output vs. what your program produced. Could you possibly show the output from the terminal?"},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1473326374,"post_id":39386188,"comment_id":66100763,"body_markdown":"@user254948 his cows and bulls are assigned to 2 separate variables, so his problem is double-counting the cows only : )","body":"@user254948 his cows and bulls are assigned to 2 separate variables, so his problem is double-counting the cows only : )"},{"owner":{"account_id":5364291,"reputation":1046,"user_id":4280027,"display_name":"user254948"},"score":0,"creation_date":1473326530,"post_id":39386188,"comment_id":66100856,"body_markdown":"@mangusta: Correct, but if bulls = 4, then cows should be 0 as the digits are already in the correct place. Bulls are correctly placed numbers, cows are correct numbers in a wrong place.","body":"@mangusta: Correct, but if bulls = 4, then cows should be 0 as the digits are already in the correct place. Bulls are correctly placed numbers, cows are correct numbers in a wrong place."},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1473326872,"post_id":39386188,"comment_id":66101052,"body_markdown":"@user254948 yeah, looking at his `countIntersect` implementation I guessed that he tried to check the occurence of every digit in the number no matter of wrong or correct position, although he states slightly different thing in the description","body":"@user254948 yeah, looking at his <code>countIntersect</code> implementation I guessed that he tried to check the occurence of every digit in the number no matter of wrong or correct position, although he states slightly different thing in the description"}],"answers":[{"tags":[],"owner":{"account_id":5364291,"reputation":1046,"user_id":4280027,"display_name":"user254948"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473329867,"creation_date":1473326426,"answer_id":39387112,"question_id":39386188,"body_markdown":"       The expected output was:\r\n       10\r\n       false\r\n       8913\r\n       true\r\n\r\n       Your program produced:\r\n       10\r\n       false\r\n       7407\r\n       false\r\n\r\n       Input supplied to your program:\r\n       construct 3\r\n       guessesRemaining()\r\n       gameOver()\r\n       giveUp()\r\n       gameOver()\r\n       Q\r\n\r\nAs far as I can tell it is telling you the number it expects from giveUp() is incorrect. This indicates your program is somehow generating the numbers differently (7404 vs 8913).\r\nThis could be due to your MIN_VALUE and/or MAX_VALUE?\r\n\r\n    public static int countIntersect(int numA, int numB) { //Cows\r\n        String stringA = Integer.toString(numA);\r\n        int lengthAB = stringA.length();\r\n        int count = 0;\r\n\r\n        int[] arrayOutA = toArray(numA);\r\n        int[] arrayOutB = toArray(numB);\r\n\r\n        for (int i = 0; i &lt; lengthAB; i++) {\r\n\r\n            for (int j = 0; j &lt; lengthAB; j++) {\r\n\r\n                if (arrayOutA[i] == arrayOutB[j]) {\r\n                    count += 1;\r\n                }\r\n            }\r\n\r\n        }\r\n        return count;\r\n    }\r\n\r\nI don&#39;t think this is what you want. For example countIntersect(1111,1111) would return 16, I would expect this to be 4 or 0?\r\n\r\nAs for your coding here is some minor feedback:\r\n\r\nIn the function `giveUp` you do not need the ( and ) at the return statement.\r\n\r\n    // Original\r\n    public int giveUp() {\r\n        return (answer);\r\n    }\r\n    \r\n    // Suggested\r\n    public int giveUp() {\r\n        return answer;\r\n    }\r\n\r\nIn your `guess` function you do not need to hold it in a local int first. Also the ( and ) again.\r\n\r\n    // Original\r\n    public Result guess(int guessNumber) {\r\n\r\n        int bulls = countMatches(answer, guessNumber);\r\n        bullStored = bulls;\r\n        int cows = countIntersect(answer, guessNumber);\r\n        cowStored = cows;\r\n\r\n        guessesCopy--;\r\n        return (new Result(cows, bulls));\r\n    }\r\n    \r\n    // Suggested\r\n    public Result guess(int guessNumber) {\r\n        bullStored = countMatches(answer, guessNumber);\r\n        cowStored = countIntersect(answer, guessNumber);\r\n        guessesCopy--;\r\n        return new Result(cowStored, bullStored);\r\n    }\r\n\r\nIn your method `countIntersect` there is not really a reason to use a special int[] array. A character array would do just as well.\r\nIn addition lengthAB could be replaced by the .length property of one of the 2 arrays.\r\n\r\n    // Original\r\n    public static int countIntersect(int numA, int numB) { //Cows\r\n        String stringA = Integer.toString(numA);\r\n        int lengthAB = stringA.length();\r\n        int count = 0;\r\n\r\n        int[] arrayOutA = toArray(numA);\r\n        int[] arrayOutB = toArray(numB);\r\n\r\n        for (int i = 0; i &lt; lengthAB; i++) {\r\n            for (int j = 0; j &lt; lengthAB; j++) {\r\n                if (arrayOutA[i] == arrayOutB[j]) {\r\n                    count += 1;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    // Suggested\r\n    public static int countIntersect(int numA, int numB) { //Cows\r\n        int count = 0;\r\n\r\n        char[] arrayA = Integer.toString(numA).toCharArray();\r\n        char[] arrayB = Integer.toString(numB).toCharArray();\r\n\r\n        for (int i = 0; i &lt; arrayA.length; i++) {\r\n            for (int j = i; j &lt; arrayB.length; j++) {\r\n                if (arrayA[i] == arrayB[j]) {\r\n                   if(i != j) {\r\n                       count++;\r\n                   }\r\n                   break;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\nThe same kind of goes for `countMatches`.\r\n\r\n    // Original\r\n    public static int countMatches(int a, int b){ //Bulls\r\n\r\n        String stringA = Integer.toString(a);\r\n        int lengthAB = stringA.length();\r\n        int count = 0;\r\n\r\n        int[] arrayOutA = toArray(a);\r\n        int[] arrayOutB = toArray(b);\r\n\r\n        for (int i = 0; i &lt; lengthAB; i++){\r\n            if (arrayOutA[i] == arrayOutB[i])\r\n                count += 1;\r\n        }\r\n        return count;\r\n    }\r\n\r\n    // Suggested\r\n    public static int countMatches(int a, int b) { //Bulls\r\n        int count = 0;\r\n\r\n        char[] arrayA = Integer.toString(a).toCharArray();\r\n        char[] arrayB = Integer.toString(b).toCharArray();\r\n\r\n        for (int i = 0; i &lt; Math.min(arrayA.length,arrayB.length); i++) {\r\n            if (arrayA[i] == arrayB[i])\r\n                count += 1;\r\n        }\r\n        return count;\r\n    }\r\n\r\nFinally your `gameOver` could be written much simpler.\r\n\r\n    //Original\r\n    public boolean gameOver() {\r\n        if (guessesCopy == 0 || bullStored == 4)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    // Suggested\r\n    public boolean gameOver() {\r\n        return guessesCopy == 0 || bullStored == 4;\r\n    }","title":"Cows and Bulls code - Java","body":"<pre><code>   The expected output was:\n   10\n   false\n   8913\n   true\n\n   Your program produced:\n   10\n   false\n   7407\n   false\n\n   Input supplied to your program:\n   construct 3\n   guessesRemaining()\n   gameOver()\n   giveUp()\n   gameOver()\n   Q\n</code></pre>\n\n<p>As far as I can tell it is telling you the number it expects from giveUp() is incorrect. This indicates your program is somehow generating the numbers differently (7404 vs 8913).\nThis could be due to your MIN_VALUE and/or MAX_VALUE?</p>\n\n<pre><code>public static int countIntersect(int numA, int numB) { //Cows\n    String stringA = Integer.toString(numA);\n    int lengthAB = stringA.length();\n    int count = 0;\n\n    int[] arrayOutA = toArray(numA);\n    int[] arrayOutB = toArray(numB);\n\n    for (int i = 0; i &lt; lengthAB; i++) {\n\n        for (int j = 0; j &lt; lengthAB; j++) {\n\n            if (arrayOutA[i] == arrayOutB[j]) {\n                count += 1;\n            }\n        }\n\n    }\n    return count;\n}\n</code></pre>\n\n<p>I don't think this is what you want. For example countIntersect(1111,1111) would return 16, I would expect this to be 4 or 0?</p>\n\n<p>As for your coding here is some minor feedback:</p>\n\n<p>In the function <code>giveUp</code> you do not need the ( and ) at the return statement.</p>\n\n<pre><code>// Original\npublic int giveUp() {\n    return (answer);\n}\n\n// Suggested\npublic int giveUp() {\n    return answer;\n}\n</code></pre>\n\n<p>In your <code>guess</code> function you do not need to hold it in a local int first. Also the ( and ) again.</p>\n\n<pre><code>// Original\npublic Result guess(int guessNumber) {\n\n    int bulls = countMatches(answer, guessNumber);\n    bullStored = bulls;\n    int cows = countIntersect(answer, guessNumber);\n    cowStored = cows;\n\n    guessesCopy--;\n    return (new Result(cows, bulls));\n}\n\n// Suggested\npublic Result guess(int guessNumber) {\n    bullStored = countMatches(answer, guessNumber);\n    cowStored = countIntersect(answer, guessNumber);\n    guessesCopy--;\n    return new Result(cowStored, bullStored);\n}\n</code></pre>\n\n<p>In your method <code>countIntersect</code> there is not really a reason to use a special int[] array. A character array would do just as well.\nIn addition lengthAB could be replaced by the .length property of one of the 2 arrays.</p>\n\n<pre><code>// Original\npublic static int countIntersect(int numA, int numB) { //Cows\n    String stringA = Integer.toString(numA);\n    int lengthAB = stringA.length();\n    int count = 0;\n\n    int[] arrayOutA = toArray(numA);\n    int[] arrayOutB = toArray(numB);\n\n    for (int i = 0; i &lt; lengthAB; i++) {\n        for (int j = 0; j &lt; lengthAB; j++) {\n            if (arrayOutA[i] == arrayOutB[j]) {\n                count += 1;\n            }\n        }\n    }\n    return count;\n}\n\n// Suggested\npublic static int countIntersect(int numA, int numB) { //Cows\n    int count = 0;\n\n    char[] arrayA = Integer.toString(numA).toCharArray();\n    char[] arrayB = Integer.toString(numB).toCharArray();\n\n    for (int i = 0; i &lt; arrayA.length; i++) {\n        for (int j = i; j &lt; arrayB.length; j++) {\n            if (arrayA[i] == arrayB[j]) {\n               if(i != j) {\n                   count++;\n               }\n               break;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n\n<p>The same kind of goes for <code>countMatches</code>.</p>\n\n<pre><code>// Original\npublic static int countMatches(int a, int b){ //Bulls\n\n    String stringA = Integer.toString(a);\n    int lengthAB = stringA.length();\n    int count = 0;\n\n    int[] arrayOutA = toArray(a);\n    int[] arrayOutB = toArray(b);\n\n    for (int i = 0; i &lt; lengthAB; i++){\n        if (arrayOutA[i] == arrayOutB[i])\n            count += 1;\n    }\n    return count;\n}\n\n// Suggested\npublic static int countMatches(int a, int b) { //Bulls\n    int count = 0;\n\n    char[] arrayA = Integer.toString(a).toCharArray();\n    char[] arrayB = Integer.toString(b).toCharArray();\n\n    for (int i = 0; i &lt; Math.min(arrayA.length,arrayB.length); i++) {\n        if (arrayA[i] == arrayB[i])\n            count += 1;\n    }\n    return count;\n}\n</code></pre>\n\n<p>Finally your <code>gameOver</code> could be written much simpler.</p>\n\n<pre><code>//Original\npublic boolean gameOver() {\n    if (guessesCopy == 0 || bullStored == 4)\n        return true;\n    else\n        return false;\n}\n\n// Suggested\npublic boolean gameOver() {\n    return guessesCopy == 0 || bullStored == 4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5918953,"reputation":155,"user_id":4916046,"display_name":"Shaikh Arbaaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685478522,"creation_date":1685478522,"answer_id":76368419,"question_id":39386188,"body_markdown":"Question:\r\nFirst, the system will generate a number (this number will not be shown to the player). Player needs to\r\nguess the number and enter it in the input box. Based on the following rules the system will give an\r\nanswer:\r\n\r\n Input only 4 digits\r\n\r\n All random digits\r\n\r\n Each position is a unique number\r\n\r\n If number and position matches then system counts one COW\r\n\r\n If number matches and position does not then system counts one BULL\r\n\r\n If number and position both do not match then system counts zero of BULL and COW\r\n\r\nIf the player guesses the correct number, the system will give answer as ALL COW. \r\n\r\nPlayer will win if the\r\nsystem gives answer as All COW. Player has to try keying in number as long as they don’t get an answer\r\nas All Cow.\r\n\r\nIllustration 1:\r\n\r\nSuppose system generates number = 1234\r\n\r\nUser input = 4321 then system will give answer as 4 bulls 0 cows\r\n\r\nUser input = 1234 then system will give answer as 4 cows 0 bulls\r\n\r\nGame over\r\n\r\nIllustration 2:\r\n\r\nSuppose system generates number = 1234\r\n\r\nUser input = 1243 // 2 bulls 2 cows\r\n\r\nUser input = 5678 // 0 cows 0 bulls\r\n\r\nUser input = 7599 // 0 cows 0 bulls\r\n\r\nGame continues until player inputs the correct number\r\n\r\nInstructions for Candidate:\r\n\r\n1. Develop a JavaScript based web page for the game as described above\r\n2. Page must have provision to key-in the user input\r\n3. Page should display system output in a prominent way\r\n4. Candidate is free to use any type of design they want\r\n\r\nThis solution for javascript with validations\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n       &lt;head&gt;\r\n          &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n          &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n          &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n          &lt;title&gt;Cow Bull Assignment&lt;/title&gt;\r\n          &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;&gt;\r\n          &lt;style&gt;\r\n             #submitAns{\r\n             margin-top: 10px;\r\n             }\r\n             #result{\r\n             font-size: 22px;\r\n             }\r\n             #message{\r\n             font-size: 19px;\r\n             }\r\n             #last-input{\r\n             font-size: 17px;\r\n             font-weight: bold;\r\n             position: relative;\r\n             top: 4px;\r\n             }\r\n             .panel{\r\n             margin-top: 30px;\r\n             }\r\n          &lt;/style&gt;\r\n       &lt;/head&gt;\r\n       &lt;body&gt;\r\n          &lt;div class=&quot;container&quot;&gt;\r\n             &lt;div class=&quot;panel panel-info&quot;&gt;\r\n                &lt;div class=&quot;panel-heading&quot;&gt;Cow Bull Game&lt;/div&gt;\r\n                &lt;div class=&quot;panel-body&quot;&gt;\r\n                   &lt;form action=&quot;&quot; class=&quot;form-group&quot;&gt;\r\n                      &lt;span&gt;&lt;strong&gt;Unique numbers allowed&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;\r\n                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; maxlength=&quot;4&quot; placeholder=&quot;Enter 4 digits number&quot;\r\n                         onkeypress=&quot;return ristrictNumberLimit(event)&quot; id=&quot;input&quot; onkeyup=&quot;validateGame(event)&quot;&gt;\r\n                      &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&#39;submitAns&#39;&gt;Submit&lt;/button&gt; &lt;br /&gt;\r\n                      &lt;span id=&quot;last-input&quot;&gt;&lt;/span&gt;\r\n                   &lt;/form&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;panel-footer&quot;&gt;\r\n                   &lt;span id=&quot;result&quot;&gt;&lt;/span&gt; &lt;br /&gt;\r\n                   &lt;span id=&quot;message&quot;&gt;&lt;/span&gt;\r\n                &lt;/div&gt;\r\n             &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;script&gt;\r\n             var inputValues = [];\r\n             const btn = document.querySelector(&#39;#submitAns&#39;);\r\n             const input = document.querySelector(&#39;#input&#39;);\r\n             let randNum = [];\r\n             \r\n             const generateNumber = () =&gt; {\r\n                 for (let index = 0; index &lt; 10; index++) {\r\n                     let ranNum = String((Math.floor((Math.random() * 9) + 1)));\r\n                     if(randNum.length &lt;= 3){\r\n                         if(!randNum.includes(ranNum)){\r\n                             randNum.push(ranNum);\r\n                         }\r\n                     }\r\n                 }\r\n             }\r\n             \r\n             generateNumber();\r\n             \r\n             \r\n             const ristrictNumberLimit = (e) =&gt; {\r\n                 e = (e) ? e : window.event;\r\n                 var charCode = (e.which) ? e.which : e.keyCode;\r\n                 if (charCode &gt; 31 &amp;&amp; (charCode &lt; 48 || charCode &gt; 57)) {\r\n                     return false;\r\n                 }\r\n                 return true;\r\n             }\r\n             \r\n             const validateGame = (e) =&gt; {\r\n             \r\n                 let userInput = e.target.value.split(&#39;&#39;);\r\n                 \r\n                 if(inputValues.indexOf(userInput[userInput.length - 1]) === -1){\r\n                     inputValues.splice(0, userInput.length);\r\n                     inputValues = userInput;\r\n                 }\r\n             \r\n                 inputValues = inputValues.filter(v =&gt; v !== undefined);\r\n                 inputValues = inputValues.filter((v, i, a) =&gt; { return a.indexOf(v) === i} );\r\n                 \r\n                 let key = e.keyCode || e.charCode;\r\n                 let lastNum = (v) =&gt; v == userInput[userInput.length - 1];\r\n                 e.target.value = &#39;&#39;;\r\n             \r\n                 if(key == 8 || key == 46){\r\n                     inputValues.splice(userInput.findIndex(lastNum), 1);\r\n                 }\r\n             \r\n                 inputValues.map(v =&gt; {\r\n                     e.target.value += v;\r\n                 });\r\n             \r\n             }\r\n             \r\n             btn.addEventListener(&#39;click&#39;, () =&gt; {\r\n                 let cow = 0;\r\n                 let bull = 0;\r\n                 for (let inp = 0; inp &lt; inputValues.length; inp++) {\r\n                     const inpVal = inputValues[inp];\r\n                     for (let ran = 0; ran &lt; randNum.length; ran++) {\r\n                         const ranVal = randNum[ran];\r\n                         if(inpVal == ranVal &amp;&amp; inp != ran){\r\n                           bull++;\r\n                         } if(inpVal == ranVal &amp;&amp; inp == ran){\r\n                             cow++;\r\n                             if(cow === 4){\r\n                                 bull = 0;\r\n                             }\r\n                         }\r\n                     }   \r\n                 }\r\n             \r\n                 if(cow === 4){\r\n                     document.querySelector(&#39;#last-input&#39;).innerHTML = &#39;&#39;;\r\n                     document.querySelector(&#39;#message&#39;).innerHTML = &#39;All Cow &lt;br/&gt; Number Guessed &lt;br /&gt;&lt;strong&gt;Game Over&lt;/strong&gt;&#39;;\r\n                     document.querySelector(&#39;#result&#39;).innerHTML = &#39;&#39;;\r\n                     input.value = &#39;&#39;;\r\n                     inputValues.splice(0, inputValues.length);\r\n                     inputValues.splice(0, randNum.length);\r\n                     randNum = [];\r\n                     generateNumber();\r\n                 }else{\r\n                     document.querySelector(&#39;#last-input&#39;).innerHTML = &#39;Last Input: &#39; +inputValues;\r\n                     document.querySelector(&#39;#result&#39;).innerHTML = `Bull: ${bull}, Cow: ${cow}`;\r\n                     document.querySelector(&#39;#message&#39;).innerHTML = &#39;&#39;;\r\n                     console.log(`Input Values: ${inputValues}`);\r\n                     console.log(`Generated Values: ${randNum}`);\r\n                     console.log(`Bull: ${bull}, Cow: ${cow}`);\r\n                     inputValues = [];\r\n                     input.value = &#39;&#39;;\r\n                 }\r\n             })\r\n             \r\n          &lt;/script&gt;\r\n       &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Cows and Bulls code - Java","body":"<p>Question:\nFirst, the system will generate a number (this number will not be shown to the player). Player needs to\nguess the number and enter it in the input box. Based on the following rules the system will give an\nanswer:</p>\n<p> Input only 4 digits</p>\n<p> All random digits</p>\n<p> Each position is a unique number</p>\n<p> If number and position matches then system counts one COW</p>\n<p> If number matches and position does not then system counts one BULL</p>\n<p> If number and position both do not match then system counts zero of BULL and COW</p>\n<p>If the player guesses the correct number, the system will give answer as ALL COW.</p>\n<p>Player will win if the\nsystem gives answer as All COW. Player has to try keying in number as long as they don’t get an answer\nas All Cow.</p>\n<p>Illustration 1:</p>\n<p>Suppose system generates number = 1234</p>\n<p>User input = 4321 then system will give answer as 4 bulls 0 cows</p>\n<p>User input = 1234 then system will give answer as 4 cows 0 bulls</p>\n<p>Game over</p>\n<p>Illustration 2:</p>\n<p>Suppose system generates number = 1234</p>\n<p>User input = 1243 // 2 bulls 2 cows</p>\n<p>User input = 5678 // 0 cows 0 bulls</p>\n<p>User input = 7599 // 0 cows 0 bulls</p>\n<p>Game continues until player inputs the correct number</p>\n<p>Instructions for Candidate:</p>\n<ol>\n<li>Develop a JavaScript based web page for the game as described above</li>\n<li>Page must have provision to key-in the user input</li>\n<li>Page should display system output in a prominent way</li>\n<li>Candidate is free to use any type of design they want</li>\n</ol>\n<p>This solution for javascript with validations</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n   &lt;head&gt;\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\n      &lt;title&gt;Cow Bull Assignment&lt;/title&gt;\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;&gt;\n      &lt;style&gt;\n         #submitAns{\n         margin-top: 10px;\n         }\n         #result{\n         font-size: 22px;\n         }\n         #message{\n         font-size: 19px;\n         }\n         #last-input{\n         font-size: 17px;\n         font-weight: bold;\n         position: relative;\n         top: 4px;\n         }\n         .panel{\n         margin-top: 30px;\n         }\n      &lt;/style&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;div class=&quot;container&quot;&gt;\n         &lt;div class=&quot;panel panel-info&quot;&gt;\n            &lt;div class=&quot;panel-heading&quot;&gt;Cow Bull Game&lt;/div&gt;\n            &lt;div class=&quot;panel-body&quot;&gt;\n               &lt;form action=&quot;&quot; class=&quot;form-group&quot;&gt;\n                  &lt;span&gt;&lt;strong&gt;Unique numbers allowed&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;\n                  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; maxlength=&quot;4&quot; placeholder=&quot;Enter 4 digits number&quot;\n                     onkeypress=&quot;return ristrictNumberLimit(event)&quot; id=&quot;input&quot; onkeyup=&quot;validateGame(event)&quot;&gt;\n                  &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id='submitAns'&gt;Submit&lt;/button&gt; &lt;br /&gt;\n                  &lt;span id=&quot;last-input&quot;&gt;&lt;/span&gt;\n               &lt;/form&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;panel-footer&quot;&gt;\n               &lt;span id=&quot;result&quot;&gt;&lt;/span&gt; &lt;br /&gt;\n               &lt;span id=&quot;message&quot;&gt;&lt;/span&gt;\n            &lt;/div&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;script&gt;\n         var inputValues = [];\n         const btn = document.querySelector('#submitAns');\n         const input = document.querySelector('#input');\n         let randNum = [];\n         \n         const generateNumber = () =&gt; {\n             for (let index = 0; index &lt; 10; index++) {\n                 let ranNum = String((Math.floor((Math.random() * 9) + 1)));\n                 if(randNum.length &lt;= 3){\n                     if(!randNum.includes(ranNum)){\n                         randNum.push(ranNum);\n                     }\n                 }\n             }\n         }\n         \n         generateNumber();\n         \n         \n         const ristrictNumberLimit = (e) =&gt; {\n             e = (e) ? e : window.event;\n             var charCode = (e.which) ? e.which : e.keyCode;\n             if (charCode &gt; 31 &amp;&amp; (charCode &lt; 48 || charCode &gt; 57)) {\n                 return false;\n             }\n             return true;\n         }\n         \n         const validateGame = (e) =&gt; {\n         \n             let userInput = e.target.value.split('');\n             \n             if(inputValues.indexOf(userInput[userInput.length - 1]) === -1){\n                 inputValues.splice(0, userInput.length);\n                 inputValues = userInput;\n             }\n         \n             inputValues = inputValues.filter(v =&gt; v !== undefined);\n             inputValues = inputValues.filter((v, i, a) =&gt; { return a.indexOf(v) === i} );\n             \n             let key = e.keyCode || e.charCode;\n             let lastNum = (v) =&gt; v == userInput[userInput.length - 1];\n             e.target.value = '';\n         \n             if(key == 8 || key == 46){\n                 inputValues.splice(userInput.findIndex(lastNum), 1);\n             }\n         \n             inputValues.map(v =&gt; {\n                 e.target.value += v;\n             });\n         \n         }\n         \n         btn.addEventListener('click', () =&gt; {\n             let cow = 0;\n             let bull = 0;\n             for (let inp = 0; inp &lt; inputValues.length; inp++) {\n                 const inpVal = inputValues[inp];\n                 for (let ran = 0; ran &lt; randNum.length; ran++) {\n                     const ranVal = randNum[ran];\n                     if(inpVal == ranVal &amp;&amp; inp != ran){\n                       bull++;\n                     } if(inpVal == ranVal &amp;&amp; inp == ran){\n                         cow++;\n                         if(cow === 4){\n                             bull = 0;\n                         }\n                     }\n                 }   \n             }\n         \n             if(cow === 4){\n                 document.querySelector('#last-input').innerHTML = '';\n                 document.querySelector('#message').innerHTML = 'All Cow &lt;br/&gt; Number Guessed &lt;br /&gt;&lt;strong&gt;Game Over&lt;/strong&gt;';\n                 document.querySelector('#result').innerHTML = '';\n                 input.value = '';\n                 inputValues.splice(0, inputValues.length);\n                 inputValues.splice(0, randNum.length);\n                 randNum = [];\n                 generateNumber();\n             }else{\n                 document.querySelector('#last-input').innerHTML = 'Last Input: ' +inputValues;\n                 document.querySelector('#result').innerHTML = `Bull: ${bull}, Cow: ${cow}`;\n                 document.querySelector('#message').innerHTML = '';\n                 console.log(`Input Values: ${inputValues}`);\n                 console.log(`Generated Values: ${randNum}`);\n                 console.log(`Bull: ${bull}, Cow: ${cow}`);\n                 inputValues = [];\n                 input.value = '';\n             }\n         })\n         \n      &lt;/script&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":9149901,"reputation":300,"user_id":6804843,"accept_rate":36,"display_name":"Paul12596"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2616,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1685478522,"creation_date":1473323588,"question_id":39386188,"body_markdown":"I&#39;m a CS student just starting out and I&#39;m stuck with a Cows and Bulls game. It compiles and runs, but there&#39;s an error of some kind somewhere that I&#39;m not seeing that leads to the incorrect number of Cows and Bulls (sample of expected vs. my output).\r\n\r\nExplanation of Cows and Bulls: Bulls - the number of correct digits. Cows - the number of digits that would be correct if they were in the right position.\r\n\r\n      public class CowsAndBulls{\r\n      \r\n      //Constants\r\n      public final static int NUM_DIGITS = 4;\r\n      public final static int MAX_VALUE = 9876;\r\n      public final static int MIN_VALUE = 1234;\r\n      public final static int MAX_GUESSES = 10;\r\n      //\r\n      \r\n      \r\n      // instances\r\n      private NumberPicker randomNumber;\r\n      private int answer;\r\n      private int guessesCopy;\r\n      private int bullStored;\r\n      private int cowStored;\r\n      //\r\n      \r\n      public CowsAndBulls(int seed){\r\n            randomNumber = new NumberPicker(seed, MIN_VALUE, MAX_VALUE);\r\n            answer = randomNumber.nextInt();\r\n            guessesCopy = MAX_GUESSES;\r\n            }\r\n      \r\n      ////////////////////////////////////////////////////////\r\n      //Stuff between the comments is from a previous question that needs to be used in CowsAndBulls (not in a package) - I know it works as it&#39;s supposed to.\r\n      public static int[] toArray(int number){\r\n            \r\n            String numString = Integer.toString(number);\r\n            int[] someArray = new int[numString.length()];\r\n            \r\n            for (int i = 0; i &lt; numString.length(); i++){\r\n                  char c = numString.charAt(i);\r\n                  \r\n                  int cVal = Character.getNumericValue(c);\r\n                  \r\n                  someArray[i] = cVal;\r\n                  }\r\n            return someArray;\r\n                  }\r\n                  \r\n      public static int countMatches(int a, int b){ //Bulls\r\n            \r\n            String stringA = Integer.toString(a);\r\n            int lengthAB = stringA.length();\r\n            int count = 0;\r\n            \r\n            int[] arrayOutA = toArray(a);\r\n            int[] arrayOutB = toArray(b);\r\n            \r\n            for (int i = 0; i &lt; lengthAB; i++){\r\n                  if (arrayOutA[i] == arrayOutB[i])\r\n                        count += 1;     \r\n                              }                   \r\n            return count;\r\n            } \r\n            \r\n\r\n      public static int countIntersect(int numA, int numB){ //Cows\r\n            String stringA = Integer.toString(numA);\r\n            int lengthAB = stringA.length();\r\n            int count = 0;\r\n            \r\n            int[] arrayOutA = toArray(numA);\r\n            int[] arrayOutB = toArray(numB);\r\n            \r\n            for (int i = 0; i &lt; lengthAB; i++){\r\n                  \r\n                  for (int j = 0; j &lt; lengthAB; j++){\r\n                  \r\n                        if ( arrayOutA[i] == arrayOutB[j]){\r\n                                 count += 1;\r\n                                 }\r\n                              }\r\n            \r\n                        }\r\n                        return count;\r\n                        } \r\n      //////////////////////////////////////////////////////////////////                        \r\n      \r\n      \r\n      \r\n               \r\n      \r\n      \r\n      public int guessesRemaining(){\r\n            return guessesCopy;\r\n            }\r\n      \r\n         \r\n      \r\n      public Result guess(int guessNumber){\r\n            \r\n            int bulls = countMatches(answer, guessNumber);\r\n            bullStored = bulls;\r\n            int cows = countIntersect(answer, guessNumber);\r\n            cowStored = cows;\r\n            \r\n            guessesCopy--;\r\n            return (new Result(cows, bulls));\r\n            }\r\n            \r\n      public int giveUp(){\r\n            return (answer);\r\n            }\r\n            \r\n      public boolean gameOver(){\r\n            if (guessesCopy == 0 || bullStored == 4)\r\n                  return true;\r\n            else\r\n                  return false;                  \r\n            }\r\n\r\n\r\nBelow are the supplied classes that we&#39;re supposed to use *and can&#39;t edit it any way*: NumberPicker, Game, and Result. NumberPicker:\r\n \r\n        import java.util.ArrayList;\r\n        import java.util.Collections;\r\n        import java.util.List;\r\n        import java.util.Random;\r\n        /**\r\n         * Given a number range, a NumberPicker returns the numbers in the range   in a random order\r\n       */\r\n        public class NumberPicker {\r\n\r\n              private List&lt;Integer&gt; numbers;\r\n    \r\n        /**\r\n          * Create a NumberPicker that uses the given seed value for  randomisation and that \r\n          * returns the numbers in the range min to max (inclusive) in a random order.\r\n           * /\r\n           public NumberPicker(final int seed, final int min, final int max) {\r\n                numbers = new ArrayList&lt;Integer&gt;();\r\n                final Random random = new Random(seed);\r\n                for(int i = min; i&lt;max+1; i++) {\r\n                numbers.add(i);\r\n                    }\r\n                Collections.shuffle(numbers, random);\r\n                }\r\n    \r\n           /**\r\n            * Determine whether the NumberPicker contains any more numbers..\r\n            */\r\n            public boolean hasNext() { return !numbers.isEmpty(); }\r\n    \r\n            /**\r\n            * Return a randomly selected number from the range.\r\n            */\r\n          public int nextInt() { return numbers.remove(0); }\r\n    \r\n        }\r\n    \r\nGame class: \r\n\r\n                 import java.util.Scanner;\r\n               \r\n                 public class Game {\r\n\r\n                 private Game() {}\r\n    \r\n                public static void main(String[] inputs) {\r\n             Scanner input = new Scanner(System.in);\r\n             System.out.println(&quot;Your challenge is to guess a secret &quot; +  CowsAndBulls.NUM_DIGITS + &quot; digit number.&quot;);\r\n\r\n             System.out.println(&quot;Enter randomisation seed value:&quot;);\r\n             CowsAndBulls cowsAndBulls = new CowsAndBulls(input.nextInt());\r\n\r\n             System.out.println(&quot;Make a guess:&quot;);\r\n             Result answer = cowsAndBulls.guess(input.nextInt());\r\n\r\n            while(!answer.isCorrect()&amp;&amp;cowsAndBulls.guessesRemaining()&gt;0) {\r\n\r\n                System.out.println(&quot;Sorry that&#39;s incorrect.&quot;);\r\n                System.out.println(&quot;You have &quot;+answer+&quot;.&quot;);\r\n\r\n                System.out.printf(&quot;You have %d guesses remaining\\n&quot;, cowsAndBulls.guessesRemaining());\r\n                System.out.println(&quot;Make a guess:&quot;);\r\n                answer = cowsAndBulls.guess(input.nextInt());\r\n                 }\r\n             if (answer.isCorrect()) {\r\n                 System.out.println(&quot;Correct !&quot;);\r\n                 }\r\n             else {\r\n                 System.out.println(&quot;Sorry, you lose.&quot;);\r\n                 }\r\n               }\r\n             }\r\n\r\nAnd finally, Result class:\r\n\r\n        \r\n                /**\r\n                * A Result object records the outcome of a guess in the Cows and Bulls guessing game.\r\n                * \r\n                * \r\n                */\r\n            public class Result {\r\n\r\n                private int cows;\r\n                private int bulls;\r\n    \r\n          public Result(int cows, int bulls) {\r\n               assert(cows+bulls&lt;=4);\r\n               this.cows=cows;\r\n               this.bulls=bulls;\r\n               }\r\n    \r\n            public int cows() { return cows; }\r\n            public int bulls() { return bulls; }\r\n    \r\n            public boolean isCorrect() { return bulls==4; }\r\n    \r\n            public boolean equals(Object o) {\r\n               if (!(o instanceof Result)) {\r\n                     return false;\r\n                     }\r\n               else {\r\n                    Result other = (Result)o;\r\n                  return this.cows()==other.cows()&amp;&amp;this.bulls()==other.bulls();\r\n                 }\r\n           }\r\n    \r\n          public String toString() {\r\n              String result = this.cows()+(this.cows()!=1 ? &quot; cows&quot; : &quot; cow&quot;);\r\n              result = result+&quot; and &quot;+this.bulls()+(this.bulls()!=1 ? &quot; bulls&quot; : &quot; bull&quot;);\r\n              return result;\r\n              }\r\n        \r\n        }\r\n\r\n\r\nThat&#39;s all the code. To reiterate: I can&#39;t change any of the classes except CowsAndBulls and I have to use Game, Result, and NumberPicker. Below are expected output vs. what my program is producing...\r\n\r\n           Trial 1: Output not correct\r\n\r\n           The expected output was:\r\n           10\r\n           false\r\n           8913\r\n           true\r\n\r\n           Your program produced:\r\n           10\r\n           false\r\n           7407\r\n           false\r\n\r\n           Input supplied to your program:\r\n           construct 3\r\n           guessesRemaining()\r\n           gameOver()\r\n           giveUp()\r\n           gameOver()\r\n           Q\r\n\r\n           -------------------------------------\r\n           Trial 2: Output not correct\r\n\r\n           The expected output was:\r\n           10\r\n           0 cows and 0 bulls\r\n           9\r\n           1 cow and 0 bulls\r\n           8\r\n           2 cows and 0 bulls\r\n           7\r\n           3 cows and 0 bulls\r\n           6\r\n           4 cows and 0 bulls\r\n           5\r\n\r\n           Your program produced:\r\n           10\r\n           1 cow and 0 bulls\r\n           9\r\n           0 cows and 0 bulls\r\n           8\r\n           1 cow and 0 bulls\r\n           7\r\n           2 cows and 0 bulls\r\n           6\r\n           2 cows and 0 bulls\r\n           5\r\n\r\n           Input supplied to your program:\r\n           construct 4\r\n           guessesRemaining()\r\n           guess() 2358\r\n           guessesRemaining()\r\n           guess() 1235\r\n           guessesRemaining()\r\n           guess() 1735\r\n           guessesRemaining()\r\n           guess() 1749\r\n           guessesRemaining()\r\n           guess() 1746\r\n           guessesRemaining()\r\n           Q\r\n           ----------------------------------------------\r\n           Trial 3: Output not correct\r\n\r\n           The expected output was:\r\n           10\r\n           0 cows and 0 bulls\r\n           9\r\n           0 cows and 1 bull\r\n           8\r\n           0 cows and 2 bulls\r\n           7\r\n           0 cows and 3 bulls\r\n           6\r\n           0 cows and 4 bulls\r\n           5\r\n           true\r\n\r\n           Your program produced:\r\n           10\r\n           1 cow and 0 bulls\r\n           9\r\n           1 cow and 0 bulls\r\n           8\r\n           1 cow and 0 bulls\r\n           7\r\n           1 cow and 0 bulls\r\n           6\r\n           1 cow and 0 bulls\r\n           5\r\n           false\r\n\r\n           Input supplied to your program:\r\n           construct 8\r\n           guessesRemaining()\r\n           guess() 2358\r\n           guessesRemaining()\r\n           guess() 2758\r\n           guessesRemaining()\r\n           guess() 2748\r\n           guessesRemaining()\r\n           guess() 6748\r\n           guessesRemaining()\r\n           guess() 6741\r\n           guessesRemaining()\r\n           gameOver()\r\n           Q\r\n\r\nIt might just be something dumb that I&#39;m not seeing, but any help is greatly appreciated. I&#39;m new to S.E (and Java), so the formatting of my code might be weird - if so, I&#39;ll edit it. Thanks :).\r\n","title":"Cows and Bulls code - Java","body":"<p>I'm a CS student just starting out and I'm stuck with a Cows and Bulls game. It compiles and runs, but there's an error of some kind somewhere that I'm not seeing that leads to the incorrect number of Cows and Bulls (sample of expected vs. my output).</p>\n\n<p>Explanation of Cows and Bulls: Bulls - the number of correct digits. Cows - the number of digits that would be correct if they were in the right position.</p>\n\n<pre><code>  public class CowsAndBulls{\n\n  //Constants\n  public final static int NUM_DIGITS = 4;\n  public final static int MAX_VALUE = 9876;\n  public final static int MIN_VALUE = 1234;\n  public final static int MAX_GUESSES = 10;\n  //\n\n\n  // instances\n  private NumberPicker randomNumber;\n  private int answer;\n  private int guessesCopy;\n  private int bullStored;\n  private int cowStored;\n  //\n\n  public CowsAndBulls(int seed){\n        randomNumber = new NumberPicker(seed, MIN_VALUE, MAX_VALUE);\n        answer = randomNumber.nextInt();\n        guessesCopy = MAX_GUESSES;\n        }\n\n  ////////////////////////////////////////////////////////\n  //Stuff between the comments is from a previous question that needs to be used in CowsAndBulls (not in a package) - I know it works as it's supposed to.\n  public static int[] toArray(int number){\n\n        String numString = Integer.toString(number);\n        int[] someArray = new int[numString.length()];\n\n        for (int i = 0; i &lt; numString.length(); i++){\n              char c = numString.charAt(i);\n\n              int cVal = Character.getNumericValue(c);\n\n              someArray[i] = cVal;\n              }\n        return someArray;\n              }\n\n  public static int countMatches(int a, int b){ //Bulls\n\n        String stringA = Integer.toString(a);\n        int lengthAB = stringA.length();\n        int count = 0;\n\n        int[] arrayOutA = toArray(a);\n        int[] arrayOutB = toArray(b);\n\n        for (int i = 0; i &lt; lengthAB; i++){\n              if (arrayOutA[i] == arrayOutB[i])\n                    count += 1;     \n                          }                   \n        return count;\n        } \n\n\n  public static int countIntersect(int numA, int numB){ //Cows\n        String stringA = Integer.toString(numA);\n        int lengthAB = stringA.length();\n        int count = 0;\n\n        int[] arrayOutA = toArray(numA);\n        int[] arrayOutB = toArray(numB);\n\n        for (int i = 0; i &lt; lengthAB; i++){\n\n              for (int j = 0; j &lt; lengthAB; j++){\n\n                    if ( arrayOutA[i] == arrayOutB[j]){\n                             count += 1;\n                             }\n                          }\n\n                    }\n                    return count;\n                    } \n  //////////////////////////////////////////////////////////////////                        \n\n\n\n\n\n\n  public int guessesRemaining(){\n        return guessesCopy;\n        }\n\n\n\n  public Result guess(int guessNumber){\n\n        int bulls = countMatches(answer, guessNumber);\n        bullStored = bulls;\n        int cows = countIntersect(answer, guessNumber);\n        cowStored = cows;\n\n        guessesCopy--;\n        return (new Result(cows, bulls));\n        }\n\n  public int giveUp(){\n        return (answer);\n        }\n\n  public boolean gameOver(){\n        if (guessesCopy == 0 || bullStored == 4)\n              return true;\n        else\n              return false;                  \n        }\n</code></pre>\n\n<p>Below are the supplied classes that we're supposed to use <em>and can't edit it any way</em>: NumberPicker, Game, and Result. NumberPicker:</p>\n\n<pre><code>    import java.util.ArrayList;\n    import java.util.Collections;\n    import java.util.List;\n    import java.util.Random;\n    /**\n     * Given a number range, a NumberPicker returns the numbers in the range   in a random order\n   */\n    public class NumberPicker {\n\n          private List&lt;Integer&gt; numbers;\n\n    /**\n      * Create a NumberPicker that uses the given seed value for  randomisation and that \n      * returns the numbers in the range min to max (inclusive) in a random order.\n       * /\n       public NumberPicker(final int seed, final int min, final int max) {\n            numbers = new ArrayList&lt;Integer&gt;();\n            final Random random = new Random(seed);\n            for(int i = min; i&lt;max+1; i++) {\n            numbers.add(i);\n                }\n            Collections.shuffle(numbers, random);\n            }\n\n       /**\n        * Determine whether the NumberPicker contains any more numbers..\n        */\n        public boolean hasNext() { return !numbers.isEmpty(); }\n\n        /**\n        * Return a randomly selected number from the range.\n        */\n      public int nextInt() { return numbers.remove(0); }\n\n    }\n</code></pre>\n\n<p>Game class: </p>\n\n<pre><code>             import java.util.Scanner;\n\n             public class Game {\n\n             private Game() {}\n\n            public static void main(String[] inputs) {\n         Scanner input = new Scanner(System.in);\n         System.out.println(\"Your challenge is to guess a secret \" +  CowsAndBulls.NUM_DIGITS + \" digit number.\");\n\n         System.out.println(\"Enter randomisation seed value:\");\n         CowsAndBulls cowsAndBulls = new CowsAndBulls(input.nextInt());\n\n         System.out.println(\"Make a guess:\");\n         Result answer = cowsAndBulls.guess(input.nextInt());\n\n        while(!answer.isCorrect()&amp;&amp;cowsAndBulls.guessesRemaining()&gt;0) {\n\n            System.out.println(\"Sorry that's incorrect.\");\n            System.out.println(\"You have \"+answer+\".\");\n\n            System.out.printf(\"You have %d guesses remaining\\n\", cowsAndBulls.guessesRemaining());\n            System.out.println(\"Make a guess:\");\n            answer = cowsAndBulls.guess(input.nextInt());\n             }\n         if (answer.isCorrect()) {\n             System.out.println(\"Correct !\");\n             }\n         else {\n             System.out.println(\"Sorry, you lose.\");\n             }\n           }\n         }\n</code></pre>\n\n<p>And finally, Result class:</p>\n\n<pre><code>            /**\n            * A Result object records the outcome of a guess in the Cows and Bulls guessing game.\n            * \n            * \n            */\n        public class Result {\n\n            private int cows;\n            private int bulls;\n\n      public Result(int cows, int bulls) {\n           assert(cows+bulls&lt;=4);\n           this.cows=cows;\n           this.bulls=bulls;\n           }\n\n        public int cows() { return cows; }\n        public int bulls() { return bulls; }\n\n        public boolean isCorrect() { return bulls==4; }\n\n        public boolean equals(Object o) {\n           if (!(o instanceof Result)) {\n                 return false;\n                 }\n           else {\n                Result other = (Result)o;\n              return this.cows()==other.cows()&amp;&amp;this.bulls()==other.bulls();\n             }\n       }\n\n      public String toString() {\n          String result = this.cows()+(this.cows()!=1 ? \" cows\" : \" cow\");\n          result = result+\" and \"+this.bulls()+(this.bulls()!=1 ? \" bulls\" : \" bull\");\n          return result;\n          }\n\n    }\n</code></pre>\n\n<p>That's all the code. To reiterate: I can't change any of the classes except CowsAndBulls and I have to use Game, Result, and NumberPicker. Below are expected output vs. what my program is producing...</p>\n\n<pre><code>       Trial 1: Output not correct\n\n       The expected output was:\n       10\n       false\n       8913\n       true\n\n       Your program produced:\n       10\n       false\n       7407\n       false\n\n       Input supplied to your program:\n       construct 3\n       guessesRemaining()\n       gameOver()\n       giveUp()\n       gameOver()\n       Q\n\n       -------------------------------------\n       Trial 2: Output not correct\n\n       The expected output was:\n       10\n       0 cows and 0 bulls\n       9\n       1 cow and 0 bulls\n       8\n       2 cows and 0 bulls\n       7\n       3 cows and 0 bulls\n       6\n       4 cows and 0 bulls\n       5\n\n       Your program produced:\n       10\n       1 cow and 0 bulls\n       9\n       0 cows and 0 bulls\n       8\n       1 cow and 0 bulls\n       7\n       2 cows and 0 bulls\n       6\n       2 cows and 0 bulls\n       5\n\n       Input supplied to your program:\n       construct 4\n       guessesRemaining()\n       guess() 2358\n       guessesRemaining()\n       guess() 1235\n       guessesRemaining()\n       guess() 1735\n       guessesRemaining()\n       guess() 1749\n       guessesRemaining()\n       guess() 1746\n       guessesRemaining()\n       Q\n       ----------------------------------------------\n       Trial 3: Output not correct\n\n       The expected output was:\n       10\n       0 cows and 0 bulls\n       9\n       0 cows and 1 bull\n       8\n       0 cows and 2 bulls\n       7\n       0 cows and 3 bulls\n       6\n       0 cows and 4 bulls\n       5\n       true\n\n       Your program produced:\n       10\n       1 cow and 0 bulls\n       9\n       1 cow and 0 bulls\n       8\n       1 cow and 0 bulls\n       7\n       1 cow and 0 bulls\n       6\n       1 cow and 0 bulls\n       5\n       false\n\n       Input supplied to your program:\n       construct 8\n       guessesRemaining()\n       guess() 2358\n       guessesRemaining()\n       guess() 2758\n       guessesRemaining()\n       guess() 2748\n       guessesRemaining()\n       guess() 6748\n       guessesRemaining()\n       guess() 6741\n       guessesRemaining()\n       gameOver()\n       Q\n</code></pre>\n\n<p>It might just be something dumb that I'm not seeing, but any help is greatly appreciated. I'm new to S.E (and Java), so the formatting of my code might be weird - if so, I'll edit it. Thanks :).</p>\n"},{"tags":["java","intellij-idea","jakarta-ee","project"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1600708102,"creation_date":1598480773,"answer_id":63606566,"question_id":63606475,"body_markdown":"It&#39;s no longer possible. The only option is to [downgrade to 2020.1 version](https://www.jetbrains.com/idea/download/previous.html).\r\n\r\nThe previous wizard was using obsolete technologies and frameworks with the libraries hosted on JetBrains servers always lagging updates and extremely hard to maintain. Now we moved to Gradle/Maven projects where all the dependencies can be fetched from the public servers and the project can use up-to-date Java EE and library versions.\r\n\r\nAt the moment you can get the legacy project wizards back by adding `javaee.legacy.project.wizard=true` in Help | Edit Custom Properties and restarting the IDE.","title":"How to create a new Java EE project in Intellij 2020.2 without Gradle or Maven?","body":"<p>It's no longer possible. The only option is to <a href=\"https://www.jetbrains.com/idea/download/previous.html\" rel=\"nofollow noreferrer\">downgrade to 2020.1 version</a>.</p>\n<p>The previous wizard was using obsolete technologies and frameworks with the libraries hosted on JetBrains servers always lagging updates and extremely hard to maintain. Now we moved to Gradle/Maven projects where all the dependencies can be fetched from the public servers and the project can use up-to-date Java EE and library versions.</p>\n<p>At the moment you can get the legacy project wizards back by adding <code>javaee.legacy.project.wizard=true</code> in Help | Edit Custom Properties and restarting the IDE.</p>\n"}],"owner":{"account_id":19284568,"reputation":23,"user_id":14095838,"display_name":"La Malvenue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4286,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63606566,"answer_count":1,"score":2,"last_activity_date":1685477923,"creation_date":1598480197,"question_id":63606475,"body_markdown":"I started learning Java EE and everything was well. Today I updated my IntelliJ Ultimate version to 2020.2 and the menu to create a new project has changed.\r\nBefore, it was \r\n![like this][1]\r\n\r\n\r\nAnd now it is ![like that][2]\r\n\r\nThe problem is that I can&#39;t find how to create a new project like before, with the choose of Application server and the libraries &quot;Web Application&quot;.\r\n\r\nIs it still possible or have I to downgrade?\r\n\r\nThank you very much and sorry if my question is stupid\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5N3LO.png\r\n  [2]: https://i.stack.imgur.com/3cMJl.png","title":"How to create a new Java EE project in Intellij 2020.2 without Gradle or Maven?","body":"<p>I started learning Java EE and everything was well. Today I updated my IntelliJ Ultimate version to 2020.2 and the menu to create a new project has changed.\nBefore, it was\n<img src=\"https://i.stack.imgur.com/5N3LO.png\" alt=\"like this\" /></p>\n<p>And now it is <img src=\"https://i.stack.imgur.com/3cMJl.png\" alt=\"like that\" /></p>\n<p>The problem is that I can't find how to create a new project like before, with the choose of Application server and the libraries &quot;Web Application&quot;.</p>\n<p>Is it still possible or have I to downgrade?</p>\n<p>Thank you very much and sorry if my question is stupid</p>\n"},{"tags":["java","amazon-web-services","amazon-iam","amazon-selling-partner-api"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685477820,"creation_date":1685477820,"answer_id":76368347,"question_id":76368278,"body_markdown":"Use the Service CLient for STS and call the **AssumeRole()** if you are using Java. Full example using AWS SDK for Java V2 and the **[STSClient][1]**. \r\n\r\n    package com.example.sts;\r\n    \r\n    // snippet-start:[sts.java2.assume_role.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.sts.StsClient;\r\n    import software.amazon.awssdk.services.sts.model.AssumeRoleRequest;\r\n    import software.amazon.awssdk.services.sts.model.StsException;\r\n    import software.amazon.awssdk.services.sts.model.AssumeRoleResponse;\r\n    import software.amazon.awssdk.services.sts.model.Credentials;\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.FormatStyle;\r\n    import java.util.Locale;\r\n    // snippet-end:[sts.java2.assume_role.import]\r\n    \r\n    /**\r\n     * To make this code example work, create a Role that you want to assume.\r\n     * Then define a Trust Relationship in the AWS Console. You can use this as an example:\r\n     *\r\n     * {\r\n     *   &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n     *   &quot;Statement&quot;: [\r\n     *     {\r\n     *       &quot;Effect&quot;: &quot;Allow&quot;,\r\n     *       &quot;Principal&quot;: {\r\n     *         &quot;AWS&quot;: &quot;&lt;Specify the ARN of your IAM user you are using in this code example&gt;&quot;\r\n     *       },\r\n     *       &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n     *     }\r\n     *   ]\r\n     * }\r\n     *\r\n     *  For more information, see &quot;Editing the Trust Relationship for an Existing Role&quot; in the AWS Directory Service guide.\r\n     *\r\n     *  Also, set up your development environment, including your credentials.\r\n     *\r\n     *  For information, see this documentation topic:\r\n     *\r\n     *  https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class AssumeRole {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;roleArn&gt; &lt;roleSessionName&gt; \\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    roleArn - The Amazon Resource Name (ARN) of the role to assume (for example, rn:aws:iam::000008047983:role/s3role). \\n&quot;+\r\n                &quot;    roleSessionName - An identifier for the assumed role session (for example, mysession). \\n&quot;;\r\n    \r\n            if (args.length != 2) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n            }\r\n    \r\n            String roleArn = args[0];\r\n            String roleSessionName = args[1];\r\n            Region region = Region.US_EAST_1;\r\n            StsClient stsClient = StsClient.builder()\r\n                .region(region)\r\n                .credentialsProvider(ProfileCredentialsProvider.create())\r\n                .build();\r\n    \r\n            assumeGivenRole(stsClient, roleArn, roleSessionName);\r\n            stsClient.close();\r\n        }\r\n    \r\n        // snippet-start:[sts.java2.assume_role.main]\r\n        public static void assumeGivenRole(StsClient stsClient, String roleArn, String roleSessionName) {\r\n    \r\n            try {\r\n                AssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\r\n                    .roleArn(roleArn)\r\n                    .roleSessionName(roleSessionName)\r\n                    .build();\r\n    \r\n               AssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\r\n               Credentials myCreds = roleResponse.credentials();\r\n    \r\n               // Display the time when the temp creds expire.\r\n               Instant exTime = myCreds.expiration();\r\n               String tokenInfo = myCreds.sessionToken();\r\n    \r\n               // Convert the Instant to readable date.\r\n               DateTimeFormatter formatter =\r\n                       DateTimeFormatter.ofLocalizedDateTime( FormatStyle.SHORT )\r\n                               .withLocale( Locale.US)\r\n                               .withZone( ZoneId.systemDefault() );\r\n    \r\n               formatter.format( exTime );\r\n               System.out.println(&quot;The token &quot;+tokenInfo + &quot;  expires on &quot; + exTime );\r\n    \r\n           } catch (StsException e) {\r\n               System.err.println(e.getMessage());\r\n               System.exit(1);\r\n           }\r\n       }\r\n       // snippet-end:[sts.java2.assume_role.main]\r\n    }\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sts/StsClient.html","title":"Error making a request in STS to get Session Token","body":"<p>Use the Service CLient for STS and call the <strong>AssumeRole()</strong> if you are using Java. Full example using AWS SDK for Java V2 and the <strong><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sts/StsClient.html\" rel=\"nofollow noreferrer\">STSClient</a></strong>.</p>\n<pre><code>package com.example.sts;\n\n// snippet-start:[sts.java2.assume_role.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.sts.StsClient;\nimport software.amazon.awssdk.services.sts.model.AssumeRoleRequest;\nimport software.amazon.awssdk.services.sts.model.StsException;\nimport software.amazon.awssdk.services.sts.model.AssumeRoleResponse;\nimport software.amazon.awssdk.services.sts.model.Credentials;\nimport java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.FormatStyle;\nimport java.util.Locale;\n// snippet-end:[sts.java2.assume_role.import]\n\n/**\n * To make this code example work, create a Role that you want to assume.\n * Then define a Trust Relationship in the AWS Console. You can use this as an example:\n *\n * {\n *   &quot;Version&quot;: &quot;2012-10-17&quot;,\n *   &quot;Statement&quot;: [\n *     {\n *       &quot;Effect&quot;: &quot;Allow&quot;,\n *       &quot;Principal&quot;: {\n *         &quot;AWS&quot;: &quot;&lt;Specify the ARN of your IAM user you are using in this code example&gt;&quot;\n *       },\n *       &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n *     }\n *   ]\n * }\n *\n *  For more information, see &quot;Editing the Trust Relationship for an Existing Role&quot; in the AWS Directory Service guide.\n *\n *  Also, set up your development environment, including your credentials.\n *\n *  For information, see this documentation topic:\n *\n *  https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class AssumeRole {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;roleArn&gt; &lt;roleSessionName&gt; \\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    roleArn - The Amazon Resource Name (ARN) of the role to assume (for example, rn:aws:iam::000008047983:role/s3role). \\n&quot;+\n            &quot;    roleSessionName - An identifier for the assumed role session (for example, mysession). \\n&quot;;\n\n        if (args.length != 2) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n\n        String roleArn = args[0];\n        String roleSessionName = args[1];\n        Region region = Region.US_EAST_1;\n        StsClient stsClient = StsClient.builder()\n            .region(region)\n            .credentialsProvider(ProfileCredentialsProvider.create())\n            .build();\n\n        assumeGivenRole(stsClient, roleArn, roleSessionName);\n        stsClient.close();\n    }\n\n    // snippet-start:[sts.java2.assume_role.main]\n    public static void assumeGivenRole(StsClient stsClient, String roleArn, String roleSessionName) {\n\n        try {\n            AssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\n                .roleArn(roleArn)\n                .roleSessionName(roleSessionName)\n                .build();\n\n           AssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\n           Credentials myCreds = roleResponse.credentials();\n\n           // Display the time when the temp creds expire.\n           Instant exTime = myCreds.expiration();\n           String tokenInfo = myCreds.sessionToken();\n\n           // Convert the Instant to readable date.\n           DateTimeFormatter formatter =\n                   DateTimeFormatter.ofLocalizedDateTime( FormatStyle.SHORT )\n                           .withLocale( Locale.US)\n                           .withZone( ZoneId.systemDefault() );\n\n           formatter.format( exTime );\n           System.out.println(&quot;The token &quot;+tokenInfo + &quot;  expires on &quot; + exTime );\n\n       } catch (StsException e) {\n           System.err.println(e.getMessage());\n           System.exit(1);\n       }\n   }\n   // snippet-end:[sts.java2.assume_role.main]\n}\n</code></pre>\n"}],"owner":{"account_id":28704815,"reputation":1,"user_id":21981344,"display_name":"Xtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685477820,"creation_date":1685477326,"question_id":76368278,"body_markdown":"I am trying to make a request on the STS API from Amazon AWS with the following code:\r\n\r\n\\`\r\n\r\n    public class getSTS { public static void main(String[] args) throws Exception { \r\n    String awsAccessKey = &quot;&quot;;     \r\n    String awsSecretKey = &quot;&quot;; \r\n    String region = &quot;us-east-1&quot;;\r\n        LinkedHashMap&lt;String, String&gt; map = new LinkedHashMap&lt;String, String&gt;();\r\n        map.put(&quot;Version&quot;, &quot;2011-06-15&quot;);\r\n        map.put(&quot;Action&quot;, &quot;AssumeRole&quot;);\r\n        map.put(&quot;RoleArn&quot;, &quot;arn:aws:iam::**************:role/Funcao&quot;);\r\n        map.put(&quot;DurationSeconds&quot;, &quot;3600&quot;);\r\n        map.put(&quot;RoleSessionName&quot;, &quot;AmazonSeller&quot;);\r\n    \r\n        URL endpointUrl;\r\n        try {\r\n            endpointUrl = new URL(&quot;https://sts.amazonaws.com/?&quot; +    AWS4SignerBase.getCanonicalizedQueryString(map));\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(&quot;Unable to parse service endpoint: &quot; + e.getMessage());\r\n        }\r\n    \r\n        Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n        headers.put(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n        AWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;GET&quot;, &quot;sts&quot;, region);\r\n        String authorization = signer.computeSignature(headers, map, AWS4SignerBase.EMPTY_BODY_SHA256, awsAccessKey,\r\n                awsSecretKey);\r\n    \r\n    \r\n        headers.put(&quot;Authorization&quot;, authorization);\r\n        String response = HttpUtils.invokeHttpRequest(endpointUrl, &quot;GET&quot;, headers, null);\r\n        System.out.println(response);\r\n        }\r\n    }`\r\n\r\nBut in the response i got an error:\r\n\r\n`  &lt;Error&gt;     `\r\n\r\n`&lt;Type&gt;Sender&lt;/Type&gt;     `\r\n\r\n`&lt;Code&gt;InvalidClientTokenId&lt;/Code&gt;     `\r\n\r\n`&lt;Message&gt;The security token included in the request is invalid.&lt;/Message&gt;   `\r\n\r\n`&lt;/Error&gt;`\r\n\r\nWhat is the problem with my code?\r\n\r\nI tried a few alternatives but nothing seems to work.","title":"Error making a request in STS to get Session Token","body":"<p>I am trying to make a request on the STS API from Amazon AWS with the following code:</p>\n<p>`</p>\n<pre><code>public class getSTS { public static void main(String[] args) throws Exception { \nString awsAccessKey = &quot;&quot;;     \nString awsSecretKey = &quot;&quot;; \nString region = &quot;us-east-1&quot;;\n    LinkedHashMap&lt;String, String&gt; map = new LinkedHashMap&lt;String, String&gt;();\n    map.put(&quot;Version&quot;, &quot;2011-06-15&quot;);\n    map.put(&quot;Action&quot;, &quot;AssumeRole&quot;);\n    map.put(&quot;RoleArn&quot;, &quot;arn:aws:iam::**************:role/Funcao&quot;);\n    map.put(&quot;DurationSeconds&quot;, &quot;3600&quot;);\n    map.put(&quot;RoleSessionName&quot;, &quot;AmazonSeller&quot;);\n\n    URL endpointUrl;\n    try {\n        endpointUrl = new URL(&quot;https://sts.amazonaws.com/?&quot; +    AWS4SignerBase.getCanonicalizedQueryString(map));\n    } catch (MalformedURLException e) {\n        throw new RuntimeException(&quot;Unable to parse service endpoint: &quot; + e.getMessage());\n    }\n\n    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n    headers.put(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n    AWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;GET&quot;, &quot;sts&quot;, region);\n    String authorization = signer.computeSignature(headers, map, AWS4SignerBase.EMPTY_BODY_SHA256, awsAccessKey,\n            awsSecretKey);\n\n\n    headers.put(&quot;Authorization&quot;, authorization);\n    String response = HttpUtils.invokeHttpRequest(endpointUrl, &quot;GET&quot;, headers, null);\n    System.out.println(response);\n    }\n}`\n</code></pre>\n<p>But in the response i got an error:</p>\n<p><code> &lt;Error&gt;    </code></p>\n<p><code>&lt;Type&gt;Sender&lt;/Type&gt;     </code></p>\n<p><code>&lt;Code&gt;InvalidClientTokenId&lt;/Code&gt;     </code></p>\n<p><code>&lt;Message&gt;The security token included in the request is invalid.&lt;/Message&gt;   </code></p>\n<p><code>&lt;/Error&gt;</code></p>\n<p>What is the problem with my code?</p>\n<p>I tried a few alternatives but nothing seems to work.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1685467852,"post_id":76367194,"comment_id":134663189,"body_markdown":"I think you&#39;d need to implement the Document that the text field uses.  It should show a string when it&#39;s empty and should remove that string when the user adds a character, and re-display the string when the users empties the document.  You also might be able to do something with the text field itself, but at that level the text field and the document are separate and you&#39;d still need to track the document to know when to display the string.","body":"I think you&#39;d need to implement the Document that the text field uses.  It should show a string when it&#39;s empty and should remove that string when the user adds a character, and re-display the string when the users empties the document.  You also might be able to do something with the text field itself, but at that level the text field and the document are separate and you&#39;d still need to track the document to know when to display the string."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1685467976,"post_id":76367194,"comment_id":134663217,"body_markdown":"Note the example in the documentation (it&#39;s the first example code) that adds a document listener to a text field.  Probably something like that is what you want. https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JTextField.html","body":"Note the example in the documentation (it&#39;s the first example code) that adds a document listener to a text field.  Probably something like that is what you want. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JTextField.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;x/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1685468073,"post_id":76367194,"comment_id":134663235,"body_markdown":"And here&#39;s how to add a background image to a text field, in case that&#39;s easier: https://stackoverflow.com/questions/21126994/how-to-add-background-image-to-jtextfield","body":"And here&#39;s how to add a background image to a text field, in case that&#39;s easier: <a href=\"https://stackoverflow.com/questions/21126994/how-to-add-background-image-to-jtextfield\" title=\"how to add background image to jtextfield\">stackoverflow.com/questions/21126994/&hellip;</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1685473684,"post_id":76367194,"comment_id":134664258,"body_markdown":"Check out [Text Prompt](https://tips4java.wordpress.com/2009/11/29/text-prompt/) for one approach.","body":"Check out <a href=\"https://tips4java.wordpress.com/2009/11/29/text-prompt/\" rel=\"nofollow noreferrer\">Text Prompt</a> for one approach."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685476813,"creation_date":1685476813,"answer_id":76368196,"question_id":76367194,"body_markdown":"While you could add a component on top of a JTextField, I think it’s easier just to draw the placeholder text directly:\r\n\r\n    public class PlaceholderTextField\r\n    extends JTextField {\r\n        private static final long serialVersionUID = 1;\r\n\r\n        private String placeholderText = &quot;&quot;;\r\n\r\n        public PlaceholderTextField() {\r\n            // Deliberately empty.\r\n        }\r\n\r\n        public PlaceholderTextField(int columns) {\r\n            super(columns);\r\n        }\r\n\r\n        public PlaceholderTextField(String text) {\r\n            super(text);\r\n        }\r\n\r\n        public PlaceholderTextField(String text,\r\n                                    int columns) {\r\n            super(text, columns);\r\n        }\r\n\r\n        public PlaceholderTextField(Document doc,\r\n                                    String text,\r\n                                    int columns) {\r\n            super(doc, text, columns);\r\n        }\r\n\r\n        public String getPlaceholderText() {\r\n            return placeholderText;\r\n        }\r\n\r\n        public void setPlaceholderText(String text) {\r\n            this.placeholderText =\r\n                Objects.requireNonNull(text, &quot;Text cannot be null.&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics graphics) {\r\n            super.paintComponent(graphics);\r\n\r\n            if (getDocument().getLength() &gt; 0 || placeholderText.isEmpty()) {\r\n                return;\r\n            }\r\n\r\n            Rectangle2D textStart;\r\n            try {\r\n                textStart = modelToView2D(0);\r\n            } catch (BadLocationException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            Graphics2D g = (Graphics2D) graphics;\r\n\r\n            Shape oldClip = g.getClip();\r\n            Composite oldComposite = g.getComposite();\r\n\r\n            Insets insets = getInsets();\r\n            g.clipRect(insets.left, insets.top,\r\n                getWidth() - insets.right - insets.left,\r\n                getHeight() - insets.bottom - insets.top);\r\n            g.setComposite(\r\n                AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f));\r\n\r\n            float x = (float) textStart.getMinX();\r\n            float y = (float) textStart.getMaxY() - g.getFontMetrics().getDescent();\r\n            g.drawString(placeholderText, x, y);\r\n\r\n            g.setComposite(oldComposite);\r\n            g.setClip(oldClip);\r\n        }\r\n    }\r\n","title":"Java Swing: How to implement text fields with temporary placeholder text for user guidance?","body":"<p>While you could add a component on top of a JTextField, I think it’s easier just to draw the placeholder text directly:</p>\n<pre><code>public class PlaceholderTextField\nextends JTextField {\n    private static final long serialVersionUID = 1;\n\n    private String placeholderText = &quot;&quot;;\n\n    public PlaceholderTextField() {\n        // Deliberately empty.\n    }\n\n    public PlaceholderTextField(int columns) {\n        super(columns);\n    }\n\n    public PlaceholderTextField(String text) {\n        super(text);\n    }\n\n    public PlaceholderTextField(String text,\n                                int columns) {\n        super(text, columns);\n    }\n\n    public PlaceholderTextField(Document doc,\n                                String text,\n                                int columns) {\n        super(doc, text, columns);\n    }\n\n    public String getPlaceholderText() {\n        return placeholderText;\n    }\n\n    public void setPlaceholderText(String text) {\n        this.placeholderText =\n            Objects.requireNonNull(text, &quot;Text cannot be null.&quot;);\n    }\n\n    @Override\n    protected void paintComponent(Graphics graphics) {\n        super.paintComponent(graphics);\n\n        if (getDocument().getLength() &gt; 0 || placeholderText.isEmpty()) {\n            return;\n        }\n\n        Rectangle2D textStart;\n        try {\n            textStart = modelToView2D(0);\n        } catch (BadLocationException e) {\n            throw new RuntimeException(e);\n        }\n\n        Graphics2D g = (Graphics2D) graphics;\n\n        Shape oldClip = g.getClip();\n        Composite oldComposite = g.getComposite();\n\n        Insets insets = getInsets();\n        g.clipRect(insets.left, insets.top,\n            getWidth() - insets.right - insets.left,\n            getHeight() - insets.bottom - insets.top);\n        g.setComposite(\n            AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f));\n\n        float x = (float) textStart.getMinX();\n        float y = (float) textStart.getMaxY() - g.getFontMetrics().getDescent();\n        g.drawString(placeholderText, x, y);\n\n        g.setComposite(oldComposite);\n        g.setClip(oldClip);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28712475,"reputation":1,"user_id":21987710,"display_name":"Henry Kane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685476813,"creation_date":1685467245,"question_id":76367194,"body_markdown":"Is is possible to have some text fields in Java Swing that have a text that show what you have to enter and after typing the first character, it disappears?\r\n\r\nlike this, that &quot;enter the text&quot; disappears:\r\n\r\n[![https://i.stack.imgur.com/d5kFf.png][1]][1]\r\n\r\nI just found `setText` and `setToolTipText` for `JTextField` that are not what I want.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d5kFf.png","title":"Java Swing: How to implement text fields with temporary placeholder text for user guidance?","body":"<p>Is is possible to have some text fields in Java Swing that have a text that show what you have to enter and after typing the first character, it disappears?</p>\n<p>like this, that &quot;enter the text&quot; disappears:</p>\n<p><a href=\"https://i.stack.imgur.com/d5kFf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d5kFf.png\" alt=\"https://i.stack.imgur.com/d5kFf.png\" /></a></p>\n<p>I just found <code>setText</code> and <code>setToolTipText</code> for <code>JTextField</code> that are not what I want.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1685476842,"post_id":76367929,"comment_id":134664868,"body_markdown":"1) Define &quot;numClicks&quot; as an instance variable in your class (not a local variable) 2) Clicking on the &quot;X&quot; button will generate a `windowClosing` event.  You handle this event in the WindowListener and increment the &quot;numClicks&quot; variable. The listener needs to be added to the frame. Read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for Swing basics. There is a section on &quot;Writing Event Listeners&quot; to get you started. 3) Also, don&#39;t use a null layout. Swing was designed to be used with layout managers. The tutorial has a section on layout managers.","body":"1) Define &quot;numClicks&quot; as an instance variable in your class (not a local variable) 2) Clicking on the &quot;X&quot; button will generate a <code>windowClosing</code> event.  You handle this event in the WindowListener and increment the &quot;numClicks&quot; variable. The listener needs to be added to the frame. Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for Swing basics. There is a section on &quot;Writing Event Listeners&quot; to get you started. 3) Also, don&#39;t use a null layout. Swing was designed to be used with layout managers. The tutorial has a section on layout managers."}],"answers":[{"tags":[],"owner":{"account_id":28711298,"reputation":39,"user_id":21986751,"display_name":"Hekke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685476752,"creation_date":1685476752,"answer_id":76368190,"question_id":76367929,"body_markdown":"Try to add an event listener to the JFrame object:\r\n\r\n```\r\n...\r\nJFrame frame = new JFrame();\r\nvar closeButtonClickCounter = 0;\r\n...\r\nframe.addWindowListener(new java.awt.event.WindowAdapter() {\r\n    @Override\r\n    public void windowClosing(java.awt.event.WindowEvent windowEvent) {\r\n        closeButtonClickCounter++;      \r\n    }\r\n});","title":"How can I count the number of times the user clicks on the X button in my Java program?","body":"<p>Try to add an event listener to the JFrame object:</p>\n<pre><code>...\nJFrame frame = new JFrame();\nvar closeButtonClickCounter = 0;\n...\nframe.addWindowListener(new java.awt.event.WindowAdapter() {\n    @Override\n    public void windowClosing(java.awt.event.WindowEvent windowEvent) {\n        closeButtonClickCounter++;      \n    }\n});\n</code></pre>\n"}],"owner":{"account_id":28001659,"reputation":1,"user_id":21987802,"display_name":"tree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685476752,"creation_date":1685473904,"question_id":76367929,"body_markdown":"I am building a UI in eclipse. How would I make it so it could count how many times the user click the X button? I have tried using WindowListeners and ActionListeners, but I cant make them work and I may have used them wrong.\r\n\r\n\r\n```\r\nimport java.awt.Font;\r\nimport java.awt.event.WindowEvent;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\n\r\npublic class NewWindowTest {\r\n\r\n\tJFrame frame = new JFrame();\r\n\tJLabel label = new JLabel(&quot;Hello!&quot;);\r\n\t\r\n\t\r\n\tpublic void windowAction(WindowEvent e) {\r\n\r\n\t\t//How do I make it count how many times the user clicks on the X to close the window?\r\n\t\t\r\n        int numClicks = 0;\r\n\t\tnumClicks++;\r\n\t\t\r\n\t\tif (numClicks&gt;10); {\r\n\t\t\tdisplayMessage(&quot;Just stop.&quot;); }\r\n}\r\n\tprivate void displayMessage(String string) {\r\n\r\n\t}\r\n\tNewWindowTest(){\r\n\t\t\r\n\t\tlabel.setBounds(0,0,100,50);\r\n\t\tlabel.setFont(new Font(null,Font.PLAIN,25));\r\n\t\t\r\n\t\tframe.add(label);\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n\t\tframe.setSize(420,420);\r\n\t\tframe.setLayout(null);\r\n\t\tframe.setVisible(true);\t\r\n\t} \r\n}\r\n```\r\n","title":"How can I count the number of times the user clicks on the X button in my Java program?","body":"<p>I am building a UI in eclipse. How would I make it so it could count how many times the user click the X button? I have tried using WindowListeners and ActionListeners, but I cant make them work and I may have used them wrong.</p>\n<pre><code>import java.awt.Font;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class NewWindowTest {\n\n    JFrame frame = new JFrame();\n    JLabel label = new JLabel(&quot;Hello!&quot;);\n    \n    \n    public void windowAction(WindowEvent e) {\n\n        //How do I make it count how many times the user clicks on the X to close the window?\n        \n        int numClicks = 0;\n        numClicks++;\n        \n        if (numClicks&gt;10); {\n            displayMessage(&quot;Just stop.&quot;); }\n}\n    private void displayMessage(String string) {\n\n    }\n    NewWindowTest(){\n        \n        label.setBounds(0,0,100,50);\n        label.setFont(new Font(null,Font.PLAIN,25));\n        \n        frame.add(label);\n        \n        frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        frame.setSize(420,420);\n        frame.setLayout(null);\n        frame.setVisible(true); \n    } \n}\n</code></pre>\n"},{"tags":["java","chronicle","chronicle-map"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":0,"creation_date":1685476605,"post_id":76368167,"comment_id":134664838,"body_markdown":"You may be better off posting an issue on the project&#39;s GitHub. https://github.com/OpenHFT/Chronicle-Map","body":"You may be better off posting an issue on the project&#39;s GitHub. <a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"nofollow noreferrer\">github.com/OpenHFT/Chronicle-Map</a>"},{"owner":{"account_id":9010938,"reputation":42,"user_id":6715565,"accept_rate":50,"display_name":"Nick Fusaro"},"score":1,"creation_date":1685539488,"post_id":76368167,"comment_id":134674281,"body_markdown":"Asked there and my issue was closed","body":"Asked there and my issue was closed"}],"owner":{"account_id":9010938,"reputation":42,"user_id":6715565,"accept_rate":50,"display_name":"Nick Fusaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685476502,"creation_date":1685476502,"question_id":76368167,"body_markdown":"My understanding of ChronicleMaps is that they store data off heap, and if specified, using the disk with off-heap memory used to map to where on the disk the data is stored. Is this correct? I have an application running with a ChronicleMap that&#39;s experiencing higher heap usage and getting OOM errors. What am I not understanding correctly about using a ChronicleMap?","title":"ChronicleMap is causing high heap usage / OOM error","body":"<p>My understanding of ChronicleMaps is that they store data off heap, and if specified, using the disk with off-heap memory used to map to where on the disk the data is stored. Is this correct? I have an application running with a ChronicleMap that's experiencing higher heap usage and getting OOM errors. What am I not understanding correctly about using a ChronicleMap?</p>\n"},{"tags":["java","apache-kafka","partitioning"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685475904,"creation_date":1685475904,"answer_id":76368115,"question_id":76367495,"body_markdown":"&gt; listens to message having a specific key value\r\n\r\nThis is not a proper use-case for Kafka consumers, but you&#39;d use an environment variable on the container of the pod, not `PartitionInfo`\r\n\r\nAnd use subscribe, not assign, then check it while looping over the records.  \r\n\r\n```\r\nfor (ConsumerRecord&lt;String, ?&gt; record: consumer.poll()) {\r\n  if (record.key().equals(System.getEnv(&quot;FILTER_KEY&quot;)) {\r\n    // process(record);\r\n  } \r\n}\r\n```\r\n\r\nIf you want to set a specific partition for a known key, you&#39;d invoke `DefaultPartitioner` class, not `consumer.partitionsFor`\r\n\r\n---\r\n\r\nThe other option is to deploy separate services. \r\n\r\n1. Read all key-value pairs and build a KTable. \r\n2. Use Interactive Queries to send RPC requests, looking for that key","title":"How do I assign specific partition keys to each pod for a Kafka consumer in a microservice running on a Kubernetes cluster?","body":"<blockquote>\n<p>listens to message having a specific key value</p>\n</blockquote>\n<p>This is not a proper use-case for Kafka consumers, but you'd use an environment variable on the container of the pod, not <code>PartitionInfo</code></p>\n<p>And use subscribe, not assign, then check it while looping over the records.</p>\n<pre><code>for (ConsumerRecord&lt;String, ?&gt; record: consumer.poll()) {\n  if (record.key().equals(System.getEnv(&quot;FILTER_KEY&quot;)) {\n    // process(record);\n  } \n}\n</code></pre>\n<p>If you want to set a specific partition for a known key, you'd invoke <code>DefaultPartitioner</code> class, not <code>consumer.partitionsFor</code></p>\n<hr />\n<p>The other option is to deploy separate services.</p>\n<ol>\n<li>Read all key-value pairs and build a KTable.</li>\n<li>Use Interactive Queries to send RPC requests, looking for that key</li>\n</ol>\n"}],"owner":{"account_id":9185002,"reputation":3,"user_id":6827584,"display_name":"Shweta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685475904,"creation_date":1685469726,"question_id":76367495,"body_markdown":"I have a microservice which runs on 3 pods in a Kubernetes cluster. This service has a Kafka consumer which listens to a Kafka topic. I want that a specific pod listens to message having a specific key value. How can I do that?\r\n\r\nWe could do something like this:\r\n```\r\n        // Create Kafka consumer\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n\r\n        // Get the list of partitions for the topic\r\n        List&lt;PartitionInfo&gt; partitions = consumer.partitionsFor(topic);\r\n\r\n        // Find the partition(s) for the key value\r\n        List&lt;TopicPartition&gt; assignedPartitions = new ArrayList&lt;&gt;();\r\n        for (PartitionInfo partitionInfo : partitions) {\r\n            String key = partitionInfo.leader().host();  // Use any key from the PartitionInfo\r\n            if (key.equals(keyToAssign)) {\r\n                TopicPartition topicPartition = new TopicPartition(topic, partitionInfo.partition());\r\n                assignedPartitions.add(topicPartition);\r\n            }\r\n        }\r\n\r\n        // Assign partitions to the consumer\r\n        consumer.assign(assignedPartitions);\r\n```\r\n\r\nBut I can&#39;t hardcode the `keyToAssign` in the code since that is the thing that has to be specific to the pod.","title":"How do I assign specific partition keys to each pod for a Kafka consumer in a microservice running on a Kubernetes cluster?","body":"<p>I have a microservice which runs on 3 pods in a Kubernetes cluster. This service has a Kafka consumer which listens to a Kafka topic. I want that a specific pod listens to message having a specific key value. How can I do that?</p>\n<p>We could do something like this:</p>\n<pre><code>        // Create Kafka consumer\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n\n        // Get the list of partitions for the topic\n        List&lt;PartitionInfo&gt; partitions = consumer.partitionsFor(topic);\n\n        // Find the partition(s) for the key value\n        List&lt;TopicPartition&gt; assignedPartitions = new ArrayList&lt;&gt;();\n        for (PartitionInfo partitionInfo : partitions) {\n            String key = partitionInfo.leader().host();  // Use any key from the PartitionInfo\n            if (key.equals(keyToAssign)) {\n                TopicPartition topicPartition = new TopicPartition(topic, partitionInfo.partition());\n                assignedPartitions.add(topicPartition);\n            }\n        }\n\n        // Assign partitions to the consumer\n        consumer.assign(assignedPartitions);\n</code></pre>\n<p>But I can't hardcode the <code>keyToAssign</code> in the code since that is the thing that has to be specific to the pod.</p>\n"},{"tags":["java","list","fizzbuzz","qabstractlistmodel"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1685473729,"post_id":76367868,"comment_id":134664265,"body_markdown":"looping happens outside of this code","body":"looping happens outside of this code"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685475292,"post_id":76367868,"comment_id":134664580,"body_markdown":"The `fizzBuzz` method returns an instance of a subclass of `AbstractList`. The object behaves as a list but does not in fact store the list elements. Instead it calculates them on demand. A typical use would iterate through the “list” (so with a loop outside of this code as @IłyaBursov said) and print each element.","body":"The <code>fizzBuzz</code> method returns an instance of a subclass of <code>AbstractList</code>. The object behaves as a list but does not in fact store the list elements. Instead it calculates them on demand. A typical use would iterate through the “list” (so with a loop outside of this code as @IłyaBursov said) and print each element."},{"owner":{"account_id":20066146,"reputation":59,"user_id":14711811,"display_name":"BhanuPrakashSakkuri"},"score":0,"creation_date":1685684716,"post_id":76367868,"comment_id":134698085,"body_markdown":"@OleV.V. can you please elaborate for me on not storing values.","body":"@OleV.V. can you please elaborate for me on not storing values."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685688552,"post_id":76367868,"comment_id":134698642,"body_markdown":"Usually a list is a container for a finite amount of values in a defined order. The list class would then declare fields for those values and housekeeping. It could be an array for holding the values themselves and an `int` to tell us how much of the array is in use, for one example. So when asking for, say, item 5 of the list, the `get` method would look up in the array and return the element it had stored there. In the code you have posted there are no such instance variables. So the `get` method instead of retrieving the existing stored value computes it using the series of `if` statements.","body":"Usually a list is a container for a finite amount of values in a defined order. The list class would then declare fields for those values and housekeeping. It could be an array for holding the values themselves and an <code>int</code> to tell us how much of the array is in use, for one example. So when asking for, say, item 5 of the list, the <code>get</code> method would look up in the array and return the element it had stored there. In the code you have posted there are no such instance variables. So the <code>get</code> method instead of retrieving the existing stored value computes it using the series of <code>if</code> statements."}],"answers":[{"tags":[],"owner":{"account_id":28637891,"reputation":196,"user_id":21927668,"display_name":"Almaz Shakirov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685475514,"creation_date":1685475514,"answer_id":76368080,"question_id":76367868,"body_markdown":"Actually there is no looping.\r\n\r\nThey create a list which overrides methods.\r\nMethod `size` returns given `n` value.\r\nMethod `get` returns a string dependent on a given `i` value.\r\nSo, it means that they don&#39;t store values in a list - they just calculate value (&quot;FizzBuzz&quot;/&quot;Fizz&quot;/&quot;Buzz&quot;) on a given index","title":"JAVA: returns a AbstractList which is filled but can&#39;t be seen were it is looped. Never seen programming style like this","body":"<p>Actually there is no looping.</p>\n<p>They create a list which overrides methods.\nMethod <code>size</code> returns given <code>n</code> value.\nMethod <code>get</code> returns a string dependent on a given <code>i</code> value.\nSo, it means that they don't store values in a list - they just calculate value (&quot;FizzBuzz&quot;/&quot;Fizz&quot;/&quot;Buzz&quot;) on a given index</p>\n"}],"owner":{"account_id":20066146,"reputation":59,"user_id":14711811,"display_name":"BhanuPrakashSakkuri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685475514,"creation_date":1685473425,"question_id":76367868,"body_markdown":"This is the fastest solution for **FizzBuzz program** in leetcode(Question 412). I can&#39;t able to understand it line of execution and whats actually happening in program. Please help me out with explaining the line of execution of the program. Just tell me where the looping happens.\r\n\r\n```\r\nimport java.util.AbstractList;\r\n\r\nclass Solution {\r\n    public List&lt;String&gt; fizzBuzz(int n) {\r\n        return new AbstractList&lt;&gt;() {\r\n            @Override\r\n            public String get(int i) {\r\n                i++;\r\n                if(i%15==0)\r\n                    return &quot;FizzBuzz&quot;;\r\n                if(i%3==0)\r\n                    return &quot;Fizz&quot;;\r\n                if(i%5==0)\r\n                    return &quot;Buzz&quot;;\r\n                return i+&quot;&quot;;\r\n            }\r\n            @Override\r\n            public int size() {\r\n                return n;\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"JAVA: returns a AbstractList which is filled but can&#39;t be seen were it is looped. Never seen programming style like this","body":"<p>This is the fastest solution for <strong>FizzBuzz program</strong> in leetcode(Question 412). I can't able to understand it line of execution and whats actually happening in program. Please help me out with explaining the line of execution of the program. Just tell me where the looping happens.</p>\n<pre><code>import java.util.AbstractList;\n\nclass Solution {\n    public List&lt;String&gt; fizzBuzz(int n) {\n        return new AbstractList&lt;&gt;() {\n            @Override\n            public String get(int i) {\n                i++;\n                if(i%15==0)\n                    return &quot;FizzBuzz&quot;;\n                if(i%3==0)\n                    return &quot;Fizz&quot;;\n                if(i%5==0)\n                    return &quot;Buzz&quot;;\n                return i+&quot;&quot;;\n            }\n            @Override\n            public int size() {\n                return n;\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","factorial"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1685474573,"post_id":76367973,"comment_id":134664423,"body_markdown":"&quot;Play computer&quot; with a pencil and paper: write down every step that happens. When it calls itself, indent your manual &quot;logging&quot;. When it returns, un-undent. Or use a debugger, but IMO, doing it by hand will help more deeply.","body":"&quot;Play computer&quot; with a pencil and paper: write down every step that happens. When it calls itself, indent your manual &quot;logging&quot;. When it returns, un-undent. Or use a debugger, but IMO, doing it by hand will help more deeply."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1685474683,"post_id":76367973,"comment_id":134664439,"body_markdown":"What definition from math do you know for &quot;factorial&quot;? Does it not look exactly like the recursive function? If not, what differences do you see? I.e. please ask with more focus.","body":"What definition from math do you know for &quot;factorial&quot;? Does it not look exactly like the recursive function? If not, what differences do you see? I.e. please ask with more focus."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685485734,"post_id":76367973,"comment_id":134666227,"body_markdown":"A recursive function will stack-up each _recursive_ call until the final result is evaluated—in this case it&#39;s `n == 1 || n == 0`—upon returning, every subsequent invocation will continue to it&#39;s next line.  It&#39;s similar to _fractal-geometry_.","body":"A recursive function will stack-up each <i>recursive</i> call until the final result is evaluated—in this case it&#39;s <code>n == 1 || n == 0</code>—upon returning, every subsequent invocation will continue to it&#39;s next line.  It&#39;s similar to <i>fractal-geometry</i>."}],"owner":{"account_id":28713179,"reputation":1,"user_id":21988298,"display_name":"Aryan Mahajan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685475712,"answer_count":0,"score":0,"last_activity_date":1685474842,"creation_date":1685474308,"question_id":76367973,"body_markdown":"can anyone explain how te concept of finding a factorial of a number is done with recursion... \r\n\r\nCode is given below:\r\n\r\n```\r\npublic class factorial {\r\n    public static int calcfactorial(int n) {\r\n        if (n == 1 || n == 0) {\r\n            return 1;\r\n        }\r\n\r\n        int fact_nm1 = calcfactorial(n - 1); // (n-1)!\r\n        int fact_n= n * fact_nm1;            // (n)!\r\n        return fact_n;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int n = 5;\r\n        int ans = calcfactorial(n);\r\n        System.out.println(ans);\r\n    }\r\n}\r\n```\r\n\r\nI am struggling to understand the logic of the function calcfactorial.\r\n\r\nI have tried many time to understand this but i am unable to grasp the logic.","title":"Can someone explain the recursive approach for the factorial function in Java?","body":"<p>can anyone explain how te concept of finding a factorial of a number is done with recursion...</p>\n<p>Code is given below:</p>\n<pre><code>public class factorial {\n    public static int calcfactorial(int n) {\n        if (n == 1 || n == 0) {\n            return 1;\n        }\n\n        int fact_nm1 = calcfactorial(n - 1); // (n-1)!\n        int fact_n= n * fact_nm1;            // (n)!\n        return fact_n;\n    }\n\n    public static void main(String args[]) {\n        int n = 5;\n        int ans = calcfactorial(n);\n        System.out.println(ans);\n    }\n}\n</code></pre>\n<p>I am struggling to understand the logic of the function calcfactorial.</p>\n<p>I have tried many time to understand this but i am unable to grasp the logic.</p>\n"},{"tags":["java","serialization","jackson","java-time","jackson2"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1633991329,"post_id":69532856,"comment_id":122902417,"body_markdown":"I don&#39;t think you should have a `Duration` object in your `SomeEvent` class. Use instead a `number type` and then populate it with the `Duration.ofMillis()`.  Tested your code and I got this : `{&quot;durationOfEvent&quot;:{&quot;seconds&quot;:0,&quot;units&quot;:[&quot;SECONDS&quot;,&quot;NANOS&quot;],&quot;zero&quot;:false,&quot;negative&quot;:false,&quot;nano&quot;:500000000}}`","body":"I don&#39;t think you should have a <code>Duration</code> object in your <code>SomeEvent</code> class. Use instead a <code>number type</code> and then populate it with the <code>Duration.ofMillis()</code>.  Tested your code and I got this : <code>{&quot;durationOfEvent&quot;:{&quot;seconds&quot;:0,&quot;units&quot;:[&quot;SECONDS&quot;,&quot;NANOS&quot;],&zwnj;&#8203;&quot;zero&quot;:false,&quot;negati&zwnj;&#8203;ve&quot;:false,&quot;nano&quot;:500&zwnj;&#8203;000000}}</code>"}],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685474762,"creation_date":1633992054,"answer_id":69533201,"question_id":69532856,"body_markdown":"You can achieve this by telling Jackson\r\nthat you want the `Duration durationOfEvent` property\r\nto be serialized by your own serializer.\r\nYou do this by adding a [`@JsonSerialize` annotation][1] to \r\nthe property in your class `SomeEvent`.\r\n\r\n\t@JsonSerialize(using = MyDurationSerializer.class)\r\n    private Duration durationOfEvent;\r\n\r\nYou can implement your serializer as a very simple\r\nsubclass of [`JsonSerializer`][2] which just gets \r\nthe milliseconds and writes it as a JSON number.\r\n\r\n    public class MyDurationSerializer extends JsonSerializer&lt;Duration&gt; {\r\n    \r\n        @Override\r\n        public void serialize(Duration value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            long milliseconds = value.toMillis();\r\n            gen.writeNumber(milliseconds);\r\n        }\r\n    }\r\n\r\n\r\n---\r\n\r\nAnother simpler way is to use Jackson&#39;s `DurationSerializer` and\r\nconfigure it with `@JsonFormat` to your desired output format.\r\n\r\n    @JsonSerialize(using = DurationSerializer.class)\r\n    @JsonFormat(shape = JsonFormat.Shape.NUMBER_INT,\r\n                without = JsonFormat.Feature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS)\r\n    private Duration durationOfEvent;\r\n\r\n---\r\n\r\nFor both ways described above the JSON output will look like this:\r\n\r\n    {&quot;durationOfEvent&quot;:500}\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonSerializer.html\r\n  ","title":"Serialize java.time.Duration to json as milliseconds only, using Jackson","body":"<p>You can achieve this by telling Jackson\nthat you want the <code>Duration durationOfEvent</code> property\nto be serialized by your own serializer.\nYou do this by adding a <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\" rel=\"nofollow noreferrer\"><code>@JsonSerialize</code> annotation</a> to\nthe property in your class <code>SomeEvent</code>.</p>\n<pre><code>@JsonSerialize(using = MyDurationSerializer.class)\nprivate Duration durationOfEvent;\n</code></pre>\n<p>You can implement your serializer as a very simple\nsubclass of <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> which just gets\nthe milliseconds and writes it as a JSON number.</p>\n<pre><code>public class MyDurationSerializer extends JsonSerializer&lt;Duration&gt; {\n\n    @Override\n    public void serialize(Duration value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        long milliseconds = value.toMillis();\n        gen.writeNumber(milliseconds);\n    }\n}\n</code></pre>\n<hr />\n<p>Another simpler way is to use Jackson's <code>DurationSerializer</code> and\nconfigure it with <code>@JsonFormat</code> to your desired output format.</p>\n<pre><code>@JsonSerialize(using = DurationSerializer.class)\n@JsonFormat(shape = JsonFormat.Shape.NUMBER_INT,\n            without = JsonFormat.Feature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS)\nprivate Duration durationOfEvent;\n</code></pre>\n<hr />\n<p>For both ways described above the JSON output will look like this:</p>\n<pre><code>{&quot;durationOfEvent&quot;:500}\n</code></pre>\n"}],"owner":{"account_id":4201614,"reputation":592,"user_id":3441604,"accept_rate":6,"display_name":"user3441604"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685474762,"creation_date":1633989182,"question_id":69532856,"body_markdown":"I am trying to find a way to configure the object serialization process (using Jackson) to serialize a Duration field as milliseconds (not seconds+milliseconds, which seems to be the default).\r\n\r\nI have a class that represents some event for example:\r\n\r\n    import java.time.Duration;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Builder\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SomeEvent {\r\n    \r\n      private Duration durationOfEvent;\r\n    }\r\n\r\nIf I run the following code, which creates an instance and obtains a json representation then I get the output shown below\r\n\r\n\r\n    Duration duration = Duration.ofMillis(500);\r\n    SomeEvent someEvent = SomeEvent.builder().durationOfEvent(duration).build();\r\n    \r\n    ObjectMapper objectMapper = enhancedObjectMapper();\r\n    \r\n    String json = objectMapper.writeValueAsString(someEvent);\r\n    System.out.println(json);\r\n\r\nOutput:\r\n\r\n    {&quot;durationOfEvent&quot;:0.500000000}\r\n\r\nWhat I would like to obtain is:\r\n\r\n    {&quot;durationOfEvent&quot;:500}\r\n\r\nThe reason I would like it as milliseconds is that the process that consumes the json can handle milliseconds easier than a decimal number.\r\n\r\nI would prefer to add some annotation or custom serialization for this specific field in this class, and not for all instances of java.time.Duration, as there are other classes in the application that also use Duration, and I don&#39;t want to affect them. I previously tried a custom serializer that handled all Durations, but that approach broke tests related to other classes which use Duration.\r\n\r\nThe version of the Jackson library I have is: 2.12.4\r\n","title":"Serialize java.time.Duration to json as milliseconds only, using Jackson","body":"<p>I am trying to find a way to configure the object serialization process (using Jackson) to serialize a Duration field as milliseconds (not seconds+milliseconds, which seems to be the default).</p>\n<p>I have a class that represents some event for example:</p>\n<pre><code>import java.time.Duration;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SomeEvent {\n\n  private Duration durationOfEvent;\n}\n</code></pre>\n<p>If I run the following code, which creates an instance and obtains a json representation then I get the output shown below</p>\n<pre><code>Duration duration = Duration.ofMillis(500);\nSomeEvent someEvent = SomeEvent.builder().durationOfEvent(duration).build();\n\nObjectMapper objectMapper = enhancedObjectMapper();\n\nString json = objectMapper.writeValueAsString(someEvent);\nSystem.out.println(json);\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;durationOfEvent&quot;:0.500000000}\n</code></pre>\n<p>What I would like to obtain is:</p>\n<pre><code>{&quot;durationOfEvent&quot;:500}\n</code></pre>\n<p>The reason I would like it as milliseconds is that the process that consumes the json can handle milliseconds easier than a decimal number.</p>\n<p>I would prefer to add some annotation or custom serialization for this specific field in this class, and not for all instances of java.time.Duration, as there are other classes in the application that also use Duration, and I don't want to affect them. I previously tried a custom serializer that handled all Durations, but that approach broke tests related to other classes which use Duration.</p>\n<p>The version of the Jackson library I have is: 2.12.4</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":216888,"reputation":11757,"user_id":472393,"accept_rate":80,"display_name":"Flavio"},"down_vote_count":0,"up_vote_count":260,"is_accepted":true,"score":260,"last_activity_date":1512433777,"creation_date":1346082471,"answer_id":12145210,"question_id":12145185,"body_markdown":"You should use [`isAssignableFrom`][1]:\r\n\r\n    if (YourInterface.class.isAssignableFrom(clazz)) {\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-","title":"Determine if a Class implements a interface in Java","body":"<p>You should use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\" rel=\"noreferrer\"><code>isAssignableFrom</code></a>:</p>\n\n<pre><code>if (YourInterface.class.isAssignableFrom(clazz)) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":335255,"reputation":12716,"user_id":662250,"accept_rate":85,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1346082541,"creation_date":1346082541,"answer_id":12145234,"question_id":12145185,"body_markdown":"you can use the below function to get all the implemented interfaces\r\n\r\n    Class[] intfs = clazz.getInterfaces();","title":"Determine if a Class implements a interface in Java","body":"<p>you can use the below function to get all the implemented interfaces</p>\n\n<pre><code>Class[] intfs = clazz.getInterfaces();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1772814,"reputation":710,"user_id":1617265,"display_name":"Manu Navarro"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1346082635,"creation_date":1346082635,"answer_id":12145257,"question_id":12145185,"body_markdown":"You can also set the instance adding &quot;.class&quot;\r\n\r\n    Class[] classes = ClassUtils.getClasses(handlersPackage);\r\n    for(Class clazz : classes)\r\n    {\r\n        if(Interface.class.isAssignableFrom(clazz))\r\n        {\r\n            retVal.put(clazz.getSimpleName(), clazz);\r\n        }\r\n    }","title":"Determine if a Class implements a interface in Java","body":"<p>You can also set the instance adding \".class\"</p>\n\n<pre><code>Class[] classes = ClassUtils.getClasses(handlersPackage);\nfor(Class clazz : classes)\n{\n    if(Interface.class.isAssignableFrom(clazz))\n    {\n        retVal.put(clazz.getSimpleName(), clazz);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1346082687,"creation_date":1346082687,"answer_id":12145266,"question_id":12145185,"body_markdown":"You can use `class.getInterfaces()` and then check to see if the interface class is in there.\r\n\r\n    Class someInterface; // the interface you want to check for \r\n    Class x; // \r\n    Class[] interfaces = x.getInterfaces();\r\n\r\n    for (Class i : interfaces) {\r\n        if (i.toString().equals(someInterface.toString()) {\r\n            // if this is true, the class implements the interface you&#39;re looking for\r\n        }\r\n    }","title":"Determine if a Class implements a interface in Java","body":"<p>You can use <code>class.getInterfaces()</code> and then check to see if the interface class is in there.</p>\n\n<pre><code>Class someInterface; // the interface you want to check for \nClass x; // \nClass[] interfaces = x.getInterfaces();\n\nfor (Class i : interfaces) {\n    if (i.toString().equals(someInterface.toString()) {\n        // if this is true, the class implements the interface you're looking for\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1824191,"reputation":5574,"user_id":1657465,"display_name":"luiscla27"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685474726,"creation_date":1645900286,"answer_id":71279304,"question_id":12145185,"body_markdown":"**A contribution for all the other answers**, when possible **do not** use [the most upvoted answer][1] of method `isAssignableFrom`, even the &quot;not great&quot; answer of using `clazz.getInterfaces()` has  better performance than `isAssignableFrom`.\r\n\r\nA common mistake for developers when looking for an answer to the OP question, is to prefer `isAssignableFrom` when an instance is available, **wrongly doing this**:\r\n```java\r\nif (IMyInterface.isAssignableFrom(myObject.getClass())) {\r\n    ...\r\n```\r\nWhen possible, use `IMyInterface.class.isInstance` or `instanceof` as both of those have way better performance. Of course, as the OP stated; they have the drawback that you must have an instance and not just the `class`.\r\n\r\n```java\r\nif (IMyInterface.class.isInstance(myObject)) {\r\n    ...\r\nif (myObject instanceof IMyInterface) { // +0.2% slower than `isInstance` (*see benchmark)\r\n    ...\r\n```\r\n\r\nAn even faster, but ugly solution would be to store an static `Set` with all the &quot;valid&quot; classes instead of checking them, **this ugly solution is only preferred when you need to test classes a lot,** as its performance outperforms all the other approaches for direct `class` check. \r\n```java\r\npublic static final Set&lt;Class&lt;?&gt;&gt; UGLY_SET = Stream.of(MyClass1.class, MyClass2.class, MyClass3.class).collect(Collectors.toCollection(HashSet::new));\r\nif (UGLY_SET.contains(MyClass)) {\r\n    ...\r\n```\r\n----\r\n##### (*) [JMH][5] Benchmark for +0.2%\r\nPlease visit [this answer][2] from  users [@JBE][3], [@Yura][4] and @aleksandr-dubinsky, credits for them. Also, there&#39;s plenty of detail in that answer for the benchmark results to not be valid, so please take a look into it. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12145210/1657465\r\n  [2]: https://stackoverflow.com/a/12106524/1657465\r\n  [3]: https://stackoverflow.com/users/1486125/jbe\r\n  [4]: https://stackoverflow.com/users/1406807/yura\r\n  [5]: http://openjdk.java.net/projects/code-tools/jmh/","title":"Determine if a Class implements a interface in Java","body":"<p><strong>A contribution for all the other answers</strong>, when possible <strong>do not</strong> use <a href=\"https://stackoverflow.com/a/12145210/1657465\">the most upvoted answer</a> of method <code>isAssignableFrom</code>, even the &quot;not great&quot; answer of using <code>clazz.getInterfaces()</code> has  better performance than <code>isAssignableFrom</code>.</p>\n<p>A common mistake for developers when looking for an answer to the OP question, is to prefer <code>isAssignableFrom</code> when an instance is available, <strong>wrongly doing this</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (IMyInterface.isAssignableFrom(myObject.getClass())) {\n    ...\n</code></pre>\n<p>When possible, use <code>IMyInterface.class.isInstance</code> or <code>instanceof</code> as both of those have way better performance. Of course, as the OP stated; they have the drawback that you must have an instance and not just the <code>class</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (IMyInterface.class.isInstance(myObject)) {\n    ...\nif (myObject instanceof IMyInterface) { // +0.2% slower than `isInstance` (*see benchmark)\n    ...\n</code></pre>\n<p>An even faster, but ugly solution would be to store an static <code>Set</code> with all the &quot;valid&quot; classes instead of checking them, <strong>this ugly solution is only preferred when you need to test classes a lot,</strong> as its performance outperforms all the other approaches for direct <code>class</code> check.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Set&lt;Class&lt;?&gt;&gt; UGLY_SET = Stream.of(MyClass1.class, MyClass2.class, MyClass3.class).collect(Collectors.toCollection(HashSet::new));\nif (UGLY_SET.contains(MyClass)) {\n    ...\n</code></pre>\n<hr />\n<h5>(*) <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a> Benchmark for +0.2%</h5>\n<p>Please visit <a href=\"https://stackoverflow.com/a/12106524/1657465\">this answer</a> from  users <a href=\"https://stackoverflow.com/users/1486125/jbe\">@JBE</a>, <a href=\"https://stackoverflow.com/users/1406807/yura\">@Yura</a> and @aleksandr-dubinsky, credits for them. Also, there's plenty of detail in that answer for the benchmark results to not be valid, so please take a look into it.</p>\n"}],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82590,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":12145210,"answer_count":5,"score":112,"last_activity_date":1685474726,"creation_date":1346082331,"question_id":12145185,"body_markdown":"I have a `Class` object. I want to determine if the type that the `Class` object represents implements a specific interface. I was wondering how this could be achieved?\r\n\r\nI have the following code. Basically what it does is gets an array of all the classes in a specified package. I then want to go through the array and add the Class objects that implement an interface to my map. Problem is the `isInstance()` takes an object as a parameter. I can&#39;t instantiate an interface. So I am kind of at a loss with this. Any ideas?\r\n\r\n    Class[] classes = ClassUtils.getClasses(handlersPackage);\r\n    for(Class clazz : classes)\r\n    {\r\n        if(clazz.isInstance(/*Some object*/)) //Need something in this if statement\r\n        {\r\n            retVal.put(clazz.getSimpleName(), clazz);\r\n        }\r\n    }","title":"Determine if a Class implements a interface in Java","body":"<p>I have a <code>Class</code> object. I want to determine if the type that the <code>Class</code> object represents implements a specific interface. I was wondering how this could be achieved?</p>\n\n<p>I have the following code. Basically what it does is gets an array of all the classes in a specified package. I then want to go through the array and add the Class objects that implement an interface to my map. Problem is the <code>isInstance()</code> takes an object as a parameter. I can't instantiate an interface. So I am kind of at a loss with this. Any ideas?</p>\n\n<pre><code>Class[] classes = ClassUtils.getClasses(handlersPackage);\nfor(Class clazz : classes)\n{\n    if(clazz.isInstance(/*Some object*/)) //Need something in this if statement\n    {\n        retVal.put(clazz.getSimpleName(), clazz);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":1,"creation_date":1685480083,"post_id":76367920,"comment_id":134665416,"body_markdown":"This means that the thread where `getMyOrderId` is executed belongs to &quot;reactor-http-nio&quot; pool that cannot be blocked. You violate this rule when you call `.block` as part of `callmyOrderSvc`. To avoid this exception you need to execute `getMyOrderId` in thread that not belongs to &quot;reactor-http-nio&quot;, but I can&#39;t suggest how to do it because there is not enough code context in your questions.","body":"This means that the thread where <code>getMyOrderId</code> is executed belongs to &quot;reactor-http-nio&quot; pool that cannot be blocked. You violate this rule when you call <code>.block</code> as part of <code>callmyOrderSvc</code>. To avoid this exception you need to execute <code>getMyOrderId</code> in thread that not belongs to &quot;reactor-http-nio&quot;, but I can&#39;t suggest how to do it because there is not enough code context in your questions."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1685513981,"post_id":76367920,"comment_id":134668789,"body_markdown":"If you are forced to block, you will have to schedule your pipeline on a &quot;blocking compatible scheduler&quot;, like `Schedulers.boundedElastic()`. For more details, you can check [my answer on this similar question](https://stackoverflow.com/questions/75058585/block-blockfirst-blocklast-are-blocking-which-is-not-supported-in-thread/75096742#75096742)","body":"If you are forced to block, you will have to schedule your pipeline on a &quot;blocking compatible scheduler&quot;, like <code>Schedulers.boundedElastic()</code>. For more details, you can check <a href=\"https://stackoverflow.com/questions/75058585/block-blockfirst-blocklast-are-blocking-which-is-not-supported-in-thread/75096742#75096742\">my answer on this similar question</a>"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685473835,"creation_date":1685473835,"question_id":76367920,"body_markdown":"I have recently started reactive programming and trying to call a method which should return an Object, but i am getting the error of block()/blockFirst()...while calling that method.\r\nBelow is the method which i am trying to call \r\n\r\n    private MyOrderResponse callmyOrderSvc(String path,Log log){\r\n      return WebClient.create().get()\r\n             .uri(myOrderSvcUrl +OrderConstant.SEP+path)\r\n             .header(OrderConstant.SECRETKEY,apiKey)\r\n             .retrieve()\r\n             .onStatus(HttpStatusCode :: isError,\r\n             response -&gt; response.bodyToMono(MyOrderResponse.class)\r\n             .flatMap(error -&gt;{\r\n              LogUtil.logError(logger,&quot;Error occurred&quot;,error.getMessage());\r\n              return Mono.error(new CustomException(error.getMessage(),log.getId(),HttpStatus)));\r\n             }))\r\n             .bodyToMono(MyOrderResponse.class).block();\r\n            }\r\n\r\nAnd this method is being called by another method which is also returning some object, like this below \r\n   \r\n    public MyOrderDetailsResponse getMyOrderId(String Id,String type,Log log){\r\n      MyOrderResponse myOrderResponse;\r\n      myOrderResponse = callmyOrderSvc(path,log); //this method is calling the callmyOrderSvc which is returning and Object of MyOrderResponse \r\n\r\n \r\nThe criteria is i can not return Mono&lt;MyOrderResponse&gt; from here , i have to return MyOrderResponse Object. Any help is appreciated.  ","title":"How to solve block()/blockFirst()/blockLast() are blocking , which is not supported in thread reactor-http-nio-3","body":"<p>I have recently started reactive programming and trying to call a method which should return an Object, but i am getting the error of block()/blockFirst()...while calling that method.\nBelow is the method which i am trying to call</p>\n<pre><code>private MyOrderResponse callmyOrderSvc(String path,Log log){\n  return WebClient.create().get()\n         .uri(myOrderSvcUrl +OrderConstant.SEP+path)\n         .header(OrderConstant.SECRETKEY,apiKey)\n         .retrieve()\n         .onStatus(HttpStatusCode :: isError,\n         response -&gt; response.bodyToMono(MyOrderResponse.class)\n         .flatMap(error -&gt;{\n          LogUtil.logError(logger,&quot;Error occurred&quot;,error.getMessage());\n          return Mono.error(new CustomException(error.getMessage(),log.getId(),HttpStatus)));\n         }))\n         .bodyToMono(MyOrderResponse.class).block();\n        }\n</code></pre>\n<p>And this method is being called by another method which is also returning some object, like this below</p>\n<pre><code>public MyOrderDetailsResponse getMyOrderId(String Id,String type,Log log){\n  MyOrderResponse myOrderResponse;\n  myOrderResponse = callmyOrderSvc(path,log); //this method is calling the callmyOrderSvc which is returning and Object of MyOrderResponse \n</code></pre>\n<p>The criteria is i can not return Mono from here , i have to return MyOrderResponse Object. Any help is appreciated.</p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":11835450,"reputation":387,"user_id":8660908,"display_name":"Malthe Have Musaeus"},"score":0,"creation_date":1682435565,"post_id":75766629,"comment_id":134213403,"body_markdown":"Hi @Shehan, did you manage to solve this issue?","body":"Hi @Shehan, did you manage to solve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":19912683,"reputation":346,"user_id":14590393,"display_name":"Shehan DMG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679081214,"creation_date":1679081214,"answer_id":75771476,"question_id":75766629,"body_markdown":"It seems there is a issue with expo version 48. There is a github issues&gt;https://github.com/expo/expo/issues/21750 I downgraded to 45 and build was fine.","title":"React native app Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>It seems there is a issue with expo version 48. There is a github issues&gt;https://github.com/expo/expo/issues/21750 I downgraded to 45 and build was fine.</p>\n"},{"tags":[],"owner":{"account_id":5370247,"reputation":3229,"user_id":4279006,"accept_rate":100,"display_name":"IAmCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681029763,"creation_date":1681029763,"answer_id":75969526,"question_id":75766629,"body_markdown":"Try removing the expo-cli dependency: `yarn remove expo-cli`","title":"React native app Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>Try removing the expo-cli dependency: <code>yarn remove expo-cli</code></p>\n"},{"tags":[],"owner":{"account_id":17229623,"reputation":1,"user_id":12474521,"display_name":"AgrYpn1a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685472970,"creation_date":1685472946,"answer_id":76367824,"question_id":75766629,"body_markdown":"The @IAmCoder &#39;s answer worked for me (unable to reply due to not enough reputation so I am writing a separate answer, but I had to share since this took many hours from me) - basically remove the `expo-cli` this will run the expo through `npx` (I was also getting a NodeJS version compatibility warning, prompting me to upgrade expo-cli). Make sure you remove the `android/` directory before re-running the build. \r\n\r\nNOTE: This worked for me on MacOS with OpenJDK@11 installed via Homebrew.","title":"React native app Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>The @IAmCoder 's answer worked for me (unable to reply due to not enough reputation so I am writing a separate answer, but I had to share since this took many hours from me) - basically remove the <code>expo-cli</code> this will run the expo through <code>npx</code> (I was also getting a NodeJS version compatibility warning, prompting me to upgrade expo-cli). Make sure you remove the <code>android/</code> directory before re-running the build.</p>\n<p>NOTE: This worked for me on MacOS with OpenJDK@11 installed via Homebrew.</p>\n"}],"owner":{"account_id":19912683,"reputation":346,"user_id":14590393,"display_name":"Shehan DMG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75771476,"answer_count":3,"score":1,"last_activity_date":1685472970,"creation_date":1679049689,"question_id":75766629,"body_markdown":"I was running this rn app without issues. I had to expo eject. After expo eject, I can&#39;t get the project to run. \r\n\r\nSo when I run ````yarn android```` build fails with this error.\r\n\r\n````\r\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainActivity.java:22: error: package R does not exist\r\n    setTheme(R.style.AppTheme);\r\n              ^\r\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainActivity.java:42: error: cannot find symbol\r\n    return new ReactActivityDelegateWrapper(this, BuildConfig.IS_NEW_ARCHITECTURE_ENABLED, new DefaultReactActivityDelegate(\r\n                                                  ^\r\n  symbol:   variable BuildConfig\r\n  location: class MainActivity\r\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:29: error: cannot find symbol\r\n        return BuildConfig.DEBUG;\r\n               ^\r\n  symbol: variable BuildConfig\r\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:48: error: cannot find symbol\r\n        return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\r\n               ^\r\n  symbol: variable BuildConfig\r\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:53: error: cannot find symbol\r\n        return BuildConfig.IS_HERMES_ENABLED;\r\n               ^\r\n  symbol: variable BuildConfig\r\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:66: error: cannot find symbol\r\n    if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\r\n        ^\r\n  symbol:   variable BuildConfig\r\n  location: class MainApplication\r\n6 errors\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n````\r\n\r\nSo it seems the R and BuildConfig is not imported in MainApplication.java file. So I added this manually.\r\n\r\n````import com.facebook.react.BuildConfig;````\r\n\r\nAfter I run ````yarn android```` again, now I get this error.\r\n\r\n````* What went wrong:\r\nA problem occurred configuring project &#39;:react-native-gradle-plugin&#39;.\r\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\User\\.gradle\\caches\\jars-9\\196b729407d7fbb2907378f4b4c34b5a\\kotlin-gradle-plugin-1.6.10.jar.\r\n````\r\n\r\nI also saw something about package name issues. \r\n\r\nThis is package name in my manifest-&gt;&gt;\r\n```` &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;ha.mootapp&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt; ````\r\n\r\nand app/build.gradle -&gt;&gt;\r\n```` \r\nandroid {\r\n    ndkVersion rootProject.ext.ndkVersion\r\n\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    namespace &quot;com.moot&quot;\r\n    defaultConfig {\r\n        applicationId &#39;ha.mootapp&#39;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0.1&quot;\r\n    }\r\n````\r\n\r\nDoes anyone know what&#39;s wrong?","title":"React native app Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>I was running this rn app without issues. I had to expo eject. After expo eject, I can't get the project to run.</p>\n<p>So when I run <code>yarn android</code> build fails with this error.</p>\n<pre><code>J:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainActivity.java:22: error: package R does not exist\n    setTheme(R.style.AppTheme);\n              ^\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainActivity.java:42: error: cannot find symbol\n    return new ReactActivityDelegateWrapper(this, BuildConfig.IS_NEW_ARCHITECTURE_ENABLED, new DefaultReactActivityDelegate(\n                                                  ^\n  symbol:   variable BuildConfig\n  location: class MainActivity\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:29: error: cannot find symbol\n        return BuildConfig.DEBUG;\n               ^\n  symbol: variable BuildConfig\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:48: error: cannot find symbol\n        return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\n               ^\n  symbol: variable BuildConfig\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:53: error: cannot find symbol\n        return BuildConfig.IS_HERMES_ENABLED;\n               ^\n  symbol: variable BuildConfig\nJ:\\WORK\\CURRENT\\REACT_NATIVE\\moot-RN\\my\\eject_try\\moot-RN\\android\\app\\src\\main\\java\\ha\\mootapp\\MainApplication.java:66: error: cannot find symbol\n    if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\n        ^\n  symbol:   variable BuildConfig\n  location: class MainApplication\n6 errors\n\nFAILURE: Build completed with 2 failures.\n\n1: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\njava.lang.StackOverflowError (no error message)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n==============================================================================\n</code></pre>\n<p>So it seems the R and BuildConfig is not imported in MainApplication.java file. So I added this manually.</p>\n<p><code>import com.facebook.react.BuildConfig;</code></p>\n<p>After I run <code>yarn android</code> again, now I get this error.</p>\n<pre><code>A problem occurred configuring project ':react-native-gradle-plugin'.\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\User\\.gradle\\caches\\jars-9\\196b729407d7fbb2907378f4b4c34b5a\\kotlin-gradle-plugin-1.6.10.jar.\n</code></pre>\n<p>I also saw something about package name issues.</p>\n<p>This is package name in my manifest-&gt;&gt;\n<code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;ha.mootapp&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;</code></p>\n<p>and app/build.gradle -&gt;&gt;</p>\n<pre><code>android {\n    ndkVersion rootProject.ext.ndkVersion\n\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    namespace &quot;com.moot&quot;\n    defaultConfig {\n        applicationId 'ha.mootapp'\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0.1&quot;\n    }\n</code></pre>\n<p>Does anyone know what's wrong?</p>\n"},{"tags":["java","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":200586,"reputation":23868,"user_id":446515,"accept_rate":64,"display_name":"dee-see"},"down_vote_count":0,"up_vote_count":156,"is_accepted":true,"score":156,"last_activity_date":1519741945,"creation_date":1329706353,"answer_id":9355638,"question_id":9355568,"body_markdown":"Negate the `hasItem` assertion\r\n\r\n    assertThat(someCollection, not(hasItem(someItem)))","title":"assert collection does not contain item","body":"<p>Negate the <code>hasItem</code> assertion</p>\n\n<pre><code>assertThat(someCollection, not(hasItem(someItem)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4963991,"reputation":191,"user_id":3994014,"display_name":"Sashko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1523623391,"creation_date":1465235791,"answer_id":37663917,"question_id":9355568,"body_markdown":"If you need to Assert an Array, the same logic use `not(hasItemInArray())` \r\n\r\n    final String[] availableIds = {&quot;123&quot;, &quot;321&quot;};\r\n    final String userId = &quot;333&quot;;\r\n    \r\n    softAssert.assertThat(&quot;Id not found&quot;, availableIds, not(hasItemInArray(userId)));\r\n    softAssert.assertAll();","title":"assert collection does not contain item","body":"<p>If you need to Assert an Array, the same logic use <code>not(hasItemInArray())</code> </p>\n\n<pre><code>final String[] availableIds = {\"123\", \"321\"};\nfinal String userId = \"333\";\n\nsoftAssert.assertThat(\"Id not found\", availableIds, not(hasItemInArray(userId)));\nsoftAssert.assertAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23372962,"reputation":1,"user_id":17443485,"display_name":"Mustafa Okur"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1647137711,"creation_date":1647137711,"answer_id":71453920,"question_id":9355568,"body_markdown":"or you can do;\r\n \r\n\r\n    .extract().jsonPath().getObject(&quot;data&quot;, pojo.class);  \r\n    (above is response)\r\n    \r\n    assertThat(response, not(hasItem(bodyYouArePosting)));","title":"assert collection does not contain item","body":"<p>or you can do;</p>\n<pre><code>.extract().jsonPath().getObject(&quot;data&quot;, pojo.class);  \n(above is response)\n\nassertThat(response, not(hasItem(bodyYouArePosting)));\n</code></pre>\n"}],"owner":{"account_id":51681,"reputation":13106,"user_id":154461,"accept_rate":90,"display_name":"harschware"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58041,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":9355638,"answer_count":3,"score":87,"last_activity_date":1685472472,"creation_date":1329705684,"question_id":9355568,"body_markdown":"Using the hamcrest library for Java, what&#39;s a nicely readable way to do the opposite of:\r\n\r\n    assertThat(someCollection, hasItem(someItem))\r\n\r\n\r\nI want to make sure `someCollection` does not contain item `someItem`","title":"assert collection does not contain item","body":"<p>Using the hamcrest library for Java, what's a nicely readable way to do the opposite of:</p>\n\n<pre><code>assertThat(someCollection, hasItem(someItem))\n</code></pre>\n\n<p>I want to make sure <code>someCollection</code> does not contain item <code>someItem</code></p>\n"},{"tags":["java","sorting","java-8"],"comments":[{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1497383514,"post_id":44530263,"comment_id":76052360,"body_markdown":"How can you sort  without specifying the field last_name","body":"How can you sort  without specifying the field last_name"},{"owner":{"account_id":383494,"reputation":5234,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"score":0,"creation_date":1497383572,"post_id":44530263,"comment_id":76052415,"body_markdown":"Yeah, exactly. Might have to sort the old fashioned way using an anonymous class.","body":"Yeah, exactly. Might have to sort the old fashioned way using an anonymous class."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1497383774,"post_id":44530263,"comment_id":76052538,"body_markdown":"@Pshemo Even if they weren&#39;t `Object`, how do you go about comparing two `Map&lt;String,String&gt;`s? There&#39;s a reason maps don&#39;t implement `Comparable`.","body":"@Pshemo Even if they weren&#39;t <code>Object</code>, how do you go about comparing two <code>Map&lt;String,String&gt;</code>s? There&#39;s a reason maps don&#39;t implement <code>Comparable</code>."},{"owner":{"account_id":383494,"reputation":5234,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"score":0,"creation_date":1497383895,"post_id":44530263,"comment_id":76052608,"body_markdown":"Yes, @Pshemo. I just want to compare against one specific key, and list the maps in order in the list by that key.","body":"Yes, @Pshemo. I just want to compare against one specific key, and list the maps in order in the list by that key."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1497383958,"post_id":44530263,"comment_id":76052641,"body_markdown":"In that case you can just replace `Map::get` with more specific `m-&gt;m.get(&quot;yourKey&quot;)`","body":"In that case you can just replace <code>Map::get</code> with more specific <code>m-&gt;m.get(&quot;yourKey&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7689071,"reputation":593,"user_id":5825926,"display_name":"Akash"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1497383915,"creation_date":1497383785,"answer_id":44530411,"question_id":44530263,"body_markdown":"    Steps to sort a Map in Java 8.\r\n    \r\n    1]Convert a Map into a Stream\r\n    2]Sort it\r\n    3]Collect and return a new LinkedHashMap (keep the order)\r\n    \r\n    Map result = map.entrySet().stream()\r\n    \t.sorted(Map.Entry.comparingByKey())\r\n    \t.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\r\n    \t(oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));","title":"How can I sort a list of maps by value of some specific key using Java 8?","body":"<pre><code>Steps to sort a Map in Java 8.\n\n1]Convert a Map into a Stream\n2]Sort it\n3]Collect and return a new LinkedHashMap (keep the order)\n\nMap result = map.entrySet().stream()\n    .sorted(Map.Entry.comparingByKey())\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\n    (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5735727,"reputation":59,"user_id":4529980,"display_name":"Ricardo Ferreira"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1497384105,"creation_date":1497384105,"answer_id":44530498,"question_id":44530263,"body_markdown":"Try this:\r\n\r\nBy Keys:    \r\n\r\n    Map&lt;String, String&gt; result = unsortMap.entrySet().stream()\r\n        .sorted(Map.Entry.comparingByKey())\r\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\r\n        (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n\r\nBy Values:\r\n\r\n     Map&lt;String, String&gt; result = unsortMap.entrySet().stream()\r\n    .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\r\n    (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));","title":"How can I sort a list of maps by value of some specific key using Java 8?","body":"<p>Try this:</p>\n\n<p>By Keys:    </p>\n\n<pre><code>Map&lt;String, String&gt; result = unsortMap.entrySet().stream()\n    .sorted(Map.Entry.comparingByKey())\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\n    (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n</code></pre>\n\n<p>By Values:</p>\n\n<pre><code> Map&lt;String, String&gt; result = unsortMap.entrySet().stream()\n.sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\n(oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11109311,"reputation":535,"user_id":8155602,"display_name":"jas-chu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497384180,"creation_date":1497384180,"answer_id":44530520,"question_id":44530263,"body_markdown":"You can override de compare method of the Collection.\r\nHere is an example: \r\nhttps://www.mkyong.com/java8/java-8-lambda-comparator-example/\r\n\r\nYou will have to compare the last_name of the objects, and do not forget to handle the null properly.\r\n","title":"How can I sort a list of maps by value of some specific key using Java 8?","body":"<p>You can override de compare method of the Collection.\nHere is an example: \n<a href=\"https://www.mkyong.com/java8/java-8-lambda-comparator-example/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/java8/java-8-lambda-comparator-example/</a></p>\n\n<p>You will have to compare the last_name of the objects, and do not forget to handle the null properly.</p>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497455506,"creation_date":1497384420,"answer_id":44530580,"question_id":44530263,"body_markdown":"This should fit your requirement.\r\n\r\n    peopleList.sort((o1, o2) -&gt; o1.get(&quot;last_name&quot;).compareTo(o2.get(&quot;last_name&quot;)));\r\n\r\nIn case you want handle the null pointer try this &quot;old fashion&quot; solution:\r\n\r\n    peopleList.sort((o1, o2) -&gt;\r\n    {\r\n      String v1 = o1.get(&quot;last_name&quot;);\r\n      String v2 = o2.get(&quot;last_name&quot;);\r\n      return (v1 == v2) ? 0 : (v1 == null ? 1 : (v2 == null ? -1 : v1.compareTo(v2))) ;\r\n    });\r\n\r\nSwitch `1` and `-1` if you want the `null` values first or last. \r\n\r\nFor thoroughness&#39; sake I&#39;ve added the generator of useful test cases:\r\n\r\n    Random random = new Random();\r\n    \r\n    random.setSeed(System.currentTimeMillis());\r\n    \r\n    IntStream.range(0, random.nextInt(20)).forEach(i -&gt; {\r\n      Map&lt;String, String&gt; map1 = new HashMap&lt;String, String&gt;();\r\n      String name = new BigInteger(130, new SecureRandom()).toString(6);\r\n      if (random.nextBoolean())\r\n        name = null;\r\n      map1.put(&quot;last_name&quot;, name);\r\n      peopleList.add(map1);\r\n    });\r\n\r\n\r\n\r\n","title":"How can I sort a list of maps by value of some specific key using Java 8?","body":"<p>This should fit your requirement.</p>\n\n<pre><code>peopleList.sort((o1, o2) -&gt; o1.get(\"last_name\").compareTo(o2.get(\"last_name\")));\n</code></pre>\n\n<p>In case you want handle the null pointer try this \"old fashion\" solution:</p>\n\n<pre><code>peopleList.sort((o1, o2) -&gt;\n{\n  String v1 = o1.get(\"last_name\");\n  String v2 = o2.get(\"last_name\");\n  return (v1 == v2) ? 0 : (v1 == null ? 1 : (v2 == null ? -1 : v1.compareTo(v2))) ;\n});\n</code></pre>\n\n<p>Switch <code>1</code> and <code>-1</code> if you want the <code>null</code> values first or last. </p>\n\n<p>For thoroughness' sake I've added the generator of useful test cases:</p>\n\n<pre><code>Random random = new Random();\n\nrandom.setSeed(System.currentTimeMillis());\n\nIntStream.range(0, random.nextInt(20)).forEach(i -&gt; {\n  Map&lt;String, String&gt; map1 = new HashMap&lt;String, String&gt;();\n  String name = new BigInteger(130, new SecureRandom()).toString(6);\n  if (random.nextBoolean())\n    name = null;\n  map1.put(\"last_name\", name);\n  peopleList.add(map1);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1685471097,"creation_date":1497384616,"answer_id":44530642,"question_id":44530263,"body_markdown":"It looks like you can rewrite your code like\r\n\r\n    peopleList.sort(\r\n        Comparator.comparing(\r\n            m -&gt; m.get(&quot;yourKey&quot;),  //what property should be compared\r\n            Comparator.nullsLast(Comparator.naturalOrder()) //how it should be compared\r\n        )\r\n    )","title":"How can I sort a list of maps by value of some specific key using Java 8?","body":"<p>It looks like you can rewrite your code like</p>\n<pre><code>peopleList.sort(\n    Comparator.comparing(\n        m -&gt; m.get(&quot;yourKey&quot;),  //what property should be compared\n        Comparator.nullsLast(Comparator.naturalOrder()) //how it should be compared\n    )\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497388136,"creation_date":1497388136,"answer_id":44531610,"question_id":44530263,"body_markdown":"Since your `peopleList` might contain a `null` and the `Map::key` might have a null value, you probably need to `nullsLast` twice:\r\n\r\n\r\n    peopleList.sort(Comparator.nullsLast(Comparator.comparing(m -&gt; m.get(&quot;last_name&quot;),\r\n                                Comparator.nullsLast(Comparator.naturalOrder()))));","title":"How can I sort a list of maps by value of some specific key using Java 8?","body":"<p>Since your <code>peopleList</code> might contain a <code>null</code> and the <code>Map::key</code> might have a null value, you probably need to <code>nullsLast</code> twice:</p>\n\n<pre><code>peopleList.sort(Comparator.nullsLast(Comparator.comparing(m -&gt; m.get(\"last_name\"),\n                            Comparator.nullsLast(Comparator.naturalOrder()))));\n</code></pre>\n"}],"owner":{"account_id":383494,"reputation":5234,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18946,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":44530642,"answer_count":6,"score":11,"last_activity_date":1685471097,"creation_date":1497383231,"question_id":44530263,"body_markdown":"How can I sort a `List` of `Map&lt;String, String&gt;` using Java 8? The map contains a key called `last_name`, and the value associated with it may be `null`. I&#39;m not sure how to do it because the following results in a compiler error:\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; peopleList = ...\r\n\r\n    peopleList.sort(Comparator.comparing(Map::get, Comparator.nullsLast(Comparator.naturalOrder())));\r\n\r\nIs using an anonymous class the only way to do it?\r\n\r\nNote that I am **not** trying to sort each map in the list. I want to sort the list itself based on a key in each map.","title":"How can I sort a list of maps by value of some specific key using Java 8?","body":"<p>How can I sort a <code>List</code> of <code>Map&lt;String, String&gt;</code> using Java 8? The map contains a key called <code>last_name</code>, and the value associated with it may be <code>null</code>. I'm not sure how to do it because the following results in a compiler error:</p>\n\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; peopleList = ...\n\npeopleList.sort(Comparator.comparing(Map::get, Comparator.nullsLast(Comparator.naturalOrder())));\n</code></pre>\n\n<p>Is using an anonymous class the only way to do it?</p>\n\n<p>Note that I am <strong>not</strong> trying to sort each map in the list. I want to sort the list itself based on a key in each map.</p>\n"},{"tags":["java","hibernate","jpa","one-to-one"],"answers":[{"tags":[],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685470514,"creation_date":1685469920,"answer_id":76367519,"question_id":76367157,"body_markdown":"The default Jackson serializer does not like it when you use nested objects.  The following code worked for me when it came to serializing nested objects: \r\n```java\r\n@GetMapping(path = &quot;/your/path&quot;)\r\npublic String getNestedObject() {\r\n    Vehicle myV = new Vehicle(/*init*/);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setVisibiliy(PropertyAccessor.ALL, \r\n    JsonAutoDetect.Visibility.ANY);\r\n    String json = mapper.writeValueAsString(myV);\r\n    return json;\r\n}\r\n```","title":"Why am i getting a jackson No serializer found error for JPA entity on OneToOne mapping?","body":"<p>The default Jackson serializer does not like it when you use nested objects.  The following code worked for me when it came to serializing nested objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/your/path&quot;)\npublic String getNestedObject() {\n    Vehicle myV = new Vehicle(/*init*/);\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.setVisibiliy(PropertyAccessor.ALL, \n    JsonAutoDetect.Visibility.ANY);\n    String json = mapper.writeValueAsString(myV);\n    return json;\n}\n</code></pre>\n"}],"owner":{"account_id":5322173,"reputation":325,"user_id":4245323,"accept_rate":60,"display_name":"Rob Gravelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76367519,"answer_count":1,"score":0,"last_activity_date":1685470793,"creation_date":1685466929,"question_id":76367157,"body_markdown":"I created two JPA entity classes to represent the following tables:\r\n\r\n[![vehicle and vehicle_model tables][1]][1]\r\n\r\nI think that the one-to-one relationship I setup is incorrrect because I am getting the error:\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: ca.allauto.ups.model.Vehicle[&quot;model&quot;]-&gt;ca.allauto.ups.model.VehicleModel$HibernateProxy$zuv5wN1w[&quot;hibernateLazyInitializer&quot;])\r\n\r\nHere is the vehicle class:\r\n\r\n    package ca.allauto.ups.model;\r\n\r\n    @Entity\r\n    @Table(name = &quot;vehicle&quot;)\r\n    @Data\r\n    public class Vehicle {\r\n    \t\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private Long id;\r\n    \t\r\n    \t@Column(name=&quot;year&quot;)\r\n    \tprivate short year;\r\n    \t\r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;model_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private VehicleModel model;\r\n    \t\r\n    \t@Column(name=&quot;doors&quot;)\r\n        private DoorsEnum doors;\r\n    \t\r\n    \t@Column(name=&quot;vehicle_type&quot;)\r\n        private VehicleTypeEnum vehicleType;\r\n    \t\r\n    \t@Column(name=&quot;color&quot;)\r\n    \tprivate ColorEnum color;\r\n    \t\r\n    \t@Column(name=&quot;odometer&quot;)\r\n    \tprivate Long odometer;\r\n    \t\r\n    \t@Column(name=&quot;kms_miles&quot;)\r\n        private KmsOrMilesEnum kmsOrMiles;\r\n    \t\r\n    \t@Column(name=&quot;transmission&quot;)\r\n        private TransmissionEnum transmission;\r\n    \t\r\n    \t@Column(name=&quot;vin&quot;)\r\n        private String vin;\r\n    }\r\n\r\nAnd this is the VehicleModel:\r\n\r\n    @Entity\r\n    @Table(name = &quot;vehicle_model&quot;)\r\n    @Data\r\n    public class VehicleModel {\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private Long id;\r\n    \t\r\n    \t@Column(name=&quot;model&quot;)\r\n        private String model;\r\n    \t\r\n        // I took this out because it was causing the server to crash\r\n    \t//@OneToOne(mappedBy = &quot;model&quot;)\r\n       // private Vehicle vehicle;\r\n    \t\r\n    }\r\n\r\nI would like for the vehicle class to be returned so that it includes the vehicle model as a nested object, as in:\r\n\r\n    {\r\n      id: 1,\r\n      year: 2022,\r\n      model: {\r\n        id: 2,\r\n        model: &quot;Toyota Prius&quot;\r\n      },\r\n      doors: 4,\r\n      vehicle_type: &quot;Hatchback&quot;,\r\n      color: &quot;Blue&quot;,\r\n      etc...\r\n    }\r\n\r\nAny ideas what I&#39;m doing wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/jH1F6.png","title":"Why am i getting a jackson No serializer found error for JPA entity on OneToOne mapping?","body":"<p>I created two JPA entity classes to represent the following tables:</p>\n<p><a href=\"https://i.stack.imgur.com/jH1F6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jH1F6.png\" alt=\"vehicle and vehicle_model tables\" /></a></p>\n<p>I think that the one-to-one relationship I setup is incorrrect because I am getting the error:</p>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: ca.allauto.ups.model.Vehicle[&quot;model&quot;]-&gt;ca.allauto.ups.model.VehicleModel$HibernateProxy$zuv5wN1w[&quot;hibernateLazyInitializer&quot;])</p>\n<p>Here is the vehicle class:</p>\n<pre><code>package ca.allauto.ups.model;\n\n@Entity\n@Table(name = &quot;vehicle&quot;)\n@Data\npublic class Vehicle {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n    \n    @Column(name=&quot;year&quot;)\n    private short year;\n    \n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;model_id&quot;, referencedColumnName = &quot;id&quot;)\n    private VehicleModel model;\n    \n    @Column(name=&quot;doors&quot;)\n    private DoorsEnum doors;\n    \n    @Column(name=&quot;vehicle_type&quot;)\n    private VehicleTypeEnum vehicleType;\n    \n    @Column(name=&quot;color&quot;)\n    private ColorEnum color;\n    \n    @Column(name=&quot;odometer&quot;)\n    private Long odometer;\n    \n    @Column(name=&quot;kms_miles&quot;)\n    private KmsOrMilesEnum kmsOrMiles;\n    \n    @Column(name=&quot;transmission&quot;)\n    private TransmissionEnum transmission;\n    \n    @Column(name=&quot;vin&quot;)\n    private String vin;\n}\n</code></pre>\n<p>And this is the VehicleModel:</p>\n<pre><code>@Entity\n@Table(name = &quot;vehicle_model&quot;)\n@Data\npublic class VehicleModel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n    \n    @Column(name=&quot;model&quot;)\n    private String model;\n    \n    // I took this out because it was causing the server to crash\n    //@OneToOne(mappedBy = &quot;model&quot;)\n   // private Vehicle vehicle;\n    \n}\n</code></pre>\n<p>I would like for the vehicle class to be returned so that it includes the vehicle model as a nested object, as in:</p>\n<pre><code>{\n  id: 1,\n  year: 2022,\n  model: {\n    id: 2,\n    model: &quot;Toyota Prius&quot;\n  },\n  doors: 4,\n  vehicle_type: &quot;Hatchback&quot;,\n  color: &quot;Blue&quot;,\n  etc...\n}\n</code></pre>\n<p>Any ideas what I'm doing wrong?</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1685470669,"post_id":76367325,"comment_id":134663754,"body_markdown":"The `@Column` annotation should always map to-from the column name. I don&#39;t see why this wouldn&#39;t work?","body":"The <code>@Column</code> annotation should always map to-from the column name. I don&#39;t see why this wouldn&#39;t work?"}],"answers":[{"tags":[],"owner":{"account_id":323990,"reputation":3380,"user_id":644326,"accept_rate":77,"display_name":"Jotschi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685470478,"creation_date":1685470478,"answer_id":76367568,"question_id":76367325,"body_markdown":"I was able to workaround/solve the issue by adding another getter to my POJO class. In the example a `String getTitle() { return myTitle; }` method would be sufficient.\r\n\r\nSidenote: When using interfaces the getter can be hidden from the remaining code.","title":"How to map POJO field to different table column using jOOQ for inserts?","body":"<p>I was able to workaround/solve the issue by adding another getter to my POJO class. In the example a <code>String getTitle() { return myTitle; }</code> method would be sufficient.</p>\n<p>Sidenote: When using interfaces the getter can be hidden from the remaining code.</p>\n"}],"owner":{"account_id":323990,"reputation":3380,"user_id":644326,"accept_rate":77,"display_name":"Jotschi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685470524,"creation_date":1685468326,"question_id":76367325,"body_markdown":"Following this example. The MyBook class uses a field which does not match the column definition.\r\n\r\n* POJO: &quot;myTitle&quot;\r\n* Table: &quot;title&quot;\r\n\r\n```java\r\npublic class MyBook {\r\n  public int id;\r\n\r\n  // column in database is called &quot;title&quot;\r\n  public String myTitle;\r\n}\r\n\r\nMyBook myBook = new MyBook();\r\nmyBook.id = 10;\r\nmyBook.myTitle = &quot;Animal Farm&quot;;\r\n\r\nBookRecord book = create.newRecord(BOOK, myBook);\r\n\r\nbook.store();\r\n```\r\n\r\nhttps://www.jooq.org/doc/latest/manual/sql-execution/fetching/pojos/#loading-pojos-back-into-records-to-store-them\r\n\r\nThe field will not be stored in the database since it can&#39;t be mapped. I tried to add `@Column(name = &quot;title&quot;)`, but this will only be utilized for me when mapping the results of a query to a POJO.","title":"How to map POJO field to different table column using jOOQ for inserts?","body":"<p>Following this example. The MyBook class uses a field which does not match the column definition.</p>\n<ul>\n<li>POJO: &quot;myTitle&quot;</li>\n<li>Table: &quot;title&quot;</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyBook {\n  public int id;\n\n  // column in database is called &quot;title&quot;\n  public String myTitle;\n}\n\nMyBook myBook = new MyBook();\nmyBook.id = 10;\nmyBook.myTitle = &quot;Animal Farm&quot;;\n\nBookRecord book = create.newRecord(BOOK, myBook);\n\nbook.store();\n</code></pre>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/pojos/#loading-pojos-back-into-records-to-store-them\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-execution/fetching/pojos/#loading-pojos-back-into-records-to-store-them</a></p>\n<p>The field will not be stored in the database since it can't be mapped. I tried to add <code>@Column(name = &quot;title&quot;)</code>, but this will only be utilized for me when mapping the results of a query to a POJO.</p>\n"},{"tags":["java","android","android-studio","error-handling"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1685193869,"post_id":76347069,"comment_id":134629203,"body_markdown":"Try this solution -&gt; https://stackoverflow.com/a/75974885/16765223 Let me know solved or not","body":"Try this solution -&gt; <a href=\"https://stackoverflow.com/a/75974885/16765223\">stackoverflow.com/a/75974885/16765223</a> Let me know solved or not"}],"owner":{"account_id":28691744,"reputation":1,"user_id":21970833,"display_name":"Noor Production"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685469127,"creation_date":1685192801,"question_id":76347069,"body_markdown":"Duplicate class `kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4` found in modules `kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10)` and `kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)`\r\n\r\nDuplicate class `kotlin.text.jdk8.RegexExtensionsJDK8Kt` found in modules `kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10)` and `kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)`\r\n\r\nDuplicate class `kotlin.time.jdk8.DurationConversionsJDK8Kt` found in modules `kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10)` and `kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)`\r\n\r\nTried to look for solutions on youtube :( didn&#39;t work","title":"Why am I seeing duplicate class errors in kotlin stdlib modules on android studio?","body":"<p>Duplicate class <code>kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4</code> found in modules <code>kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10)</code> and <code>kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)</code></p>\n<p>Duplicate class <code>kotlin.text.jdk8.RegexExtensionsJDK8Kt</code> found in modules <code>kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10)</code> and <code>kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)</code></p>\n<p>Duplicate class <code>kotlin.time.jdk8.DurationConversionsJDK8Kt</code> found in modules <code>kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10)</code> and <code>kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)</code></p>\n<p>Tried to look for solutions on youtube :( didn't work</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685469054,"post_id":76367320,"comment_id":134663425,"body_markdown":"You can loop through the `GeoJSON` and add markers straight to the Map without `GeoJsonLayer`. Just create a `JSONObject` variable and use your `GeoJSON` variable as parameter. Then create a `JSONArray` variable by using the `getJSONArray()`-method.\n\nNow you can use a for-loop to iterate through the `JSONArray` by using `JSONObject` and the `Marker` class.","body":"You can loop through the <code>GeoJSON</code> and add markers straight to the Map without <code>GeoJsonLayer</code>. Just create a <code>JSONObject</code> variable and use your <code>GeoJSON</code> variable as parameter. Then create a <code>JSONArray</code> variable by using the <code>getJSONArray()</code>-method.  Now you can use a for-loop to iterate through the <code>JSONArray</code> by using <code>JSONObject</code> and the <code>Marker</code> class."}],"owner":{"account_id":28712499,"reputation":21,"user_id":21987730,"display_name":"thpererep1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685468473,"creation_date":1685468297,"question_id":76367320,"body_markdown":"I need to add points in googlemap from data in GeoJSON format.\r\n\r\nI do it like this:\r\n\r\n```\r\nGeoJsonLayer layer = new GeoJsonLayer(googleMap, objPegsGeoJson);\r\nfor (GeoJsonFeature feature : layer.getFeatures()) {\r\n    generalCoordinates = feature.getProperty(&quot;general_coordinates&quot;);\r\n\r\n\r\n    String[] latlong =  generalCoordinates.split(&quot;,&quot;);\r\n                    double latitude = Double.parseDouble(latlong[0]);\r\n                    double longitude = Double.parseDouble(latlong[1]);\r\n                    Marker mrk = googleMap.addMarker(new MarkerOptions()\r\n                            .position(new LatLng(latitude, longitude))\r\n                            .anchor(0.5f, 0.5f)\r\n                    );\r\n}\r\n\r\n```\r\n\r\nThe problem is that I don&#39;t want to use another layer for googleMap as GeoJsonLayer, can I loop and parse this data without GeoJsonLayer?\r\n","title":"Parse GeoJSON without create new layer on googlemap","body":"<p>I need to add points in googlemap from data in GeoJSON format.</p>\n<p>I do it like this:</p>\n<pre><code>GeoJsonLayer layer = new GeoJsonLayer(googleMap, objPegsGeoJson);\nfor (GeoJsonFeature feature : layer.getFeatures()) {\n    generalCoordinates = feature.getProperty(&quot;general_coordinates&quot;);\n\n\n    String[] latlong =  generalCoordinates.split(&quot;,&quot;);\n                    double latitude = Double.parseDouble(latlong[0]);\n                    double longitude = Double.parseDouble(latlong[1]);\n                    Marker mrk = googleMap.addMarker(new MarkerOptions()\n                            .position(new LatLng(latitude, longitude))\n                            .anchor(0.5f, 0.5f)\n                    );\n}\n\n</code></pre>\n<p>The problem is that I don't want to use another layer for googleMap as GeoJsonLayer, can I loop and parse this data without GeoJsonLayer?</p>\n"},{"tags":["java","spring","aop","spring-transactions"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1685465608,"post_id":76366993,"comment_id":134662744,"body_markdown":"How are you using the service?","body":"How are you using the service?"},{"owner":{"account_id":15462665,"reputation":77,"user_id":11154941,"display_name":"Pup"},"score":0,"creation_date":1685465692,"post_id":76366993,"comment_id":134662764,"body_markdown":"crud on database","body":"crud on database"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1685466308,"post_id":76366993,"comment_id":134662886,"body_markdown":"If you&#39;re using the service in the appropriate way, the transactions will be handled. Since you don&#39;t specify, it&#39;s hard to say.","body":"If you&#39;re using the service in the appropriate way, the transactions will be handled. Since you don&#39;t specify, it&#39;s hard to say."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685468388,"creation_date":1685468388,"answer_id":76367329,"question_id":76366993,"body_markdown":"The transaction will start at the call to the mPublic method and end on the returning from it. It doesn&#39;t matter if local methods will be called inside of this methods. You can consider such methods the same way as code blocks inside of the method.\r\n\r\nIf a runtime exception occurs somewhere inside the transaction it will be rolled back. Otherwise it will be committed.","title":"@Transactional public method invokes private method","body":"<p>The transaction will start at the call to the mPublic method and end on the returning from it. It doesn't matter if local methods will be called inside of this methods. You can consider such methods the same way as code blocks inside of the method.</p>\n<p>If a runtime exception occurs somewhere inside the transaction it will be rolled back. Otherwise it will be committed.</p>\n"}],"owner":{"account_id":15462665,"reputation":77,"user_id":11154941,"display_name":"Pup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685696384,"accepted_answer_id":76367329,"answer_count":1,"score":-1,"last_activity_date":1685468388,"creation_date":1685465373,"question_id":76366993,"body_markdown":"I have a service:\r\n\r\n    @Service\r\n    public class SImpl implements S {\r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public void mPublic() {\r\n           mPrivate();\r\n        }\r\n    \r\n    \r\n        private void mPrivate() {\r\n            // some find method from database\r\n        }\r\n    }\r\n\r\nIs it works? I mean that it will do in transaction find method?","title":"@Transactional public method invokes private method","body":"<p>I have a service:</p>\n<pre><code>@Service\npublic class SImpl implements S {\n    @Override\n    @Transactional(readOnly = true)\n    public void mPublic() {\n       mPrivate();\n    }\n\n\n    private void mPrivate() {\n        // some find method from database\n    }\n}\n</code></pre>\n<p>Is it works? I mean that it will do in transaction find method?</p>\n"},{"tags":["java","testing","fest"],"answers":[{"tags":[],"owner":{"account_id":2927647,"reputation":2746,"user_id":2508646,"accept_rate":100,"display_name":"Dan Temple"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1400169019,"creation_date":1400169019,"answer_id":23683116,"question_id":23681419,"body_markdown":"I&#39;ve just been having a browse through the source code for the version 1 branch and found this:\r\n\r\n    /**\r\n     * Verifies that the actual group of objects does not contain the given objects.\r\n     *\r\n     * @param objects the objects that the group of objects should exclude.\r\n     * @return this assertion object.\r\n     * @throws AssertionError       if the actual group of objects is {@code null}.\r\n     * @throws NullPointerException if the given array is {@code null}.\r\n     * @throws AssertionError       if the actual group of objects contains any of the given objects.\r\n     */\r\n    public final @Nonnull S excludes(@Nonnull Object... objects) {\r\n        assertExcludes(objects);\r\n        return myself();\r\n    }\r\n\r\nI probably shouldn&#39;t make wild assumptions like this, but it&#39;s in the same class as your `contains` method (`ObjectGroupAssert`) and the Javadoc seems to describe the functionality you&#39;re looking for.\r\n\r\nSo I think, you would just need:\r\n\r\n    assertThat(list).excludes(5,7);","title":"How to assert that a list does not contain something, with FEST?","body":"<p>I've just been having a browse through the source code for the version 1 branch and found this:</p>\n\n<pre><code>/**\n * Verifies that the actual group of objects does not contain the given objects.\n *\n * @param objects the objects that the group of objects should exclude.\n * @return this assertion object.\n * @throws AssertionError       if the actual group of objects is {@code null}.\n * @throws NullPointerException if the given array is {@code null}.\n * @throws AssertionError       if the actual group of objects contains any of the given objects.\n */\npublic final @Nonnull S excludes(@Nonnull Object... objects) {\n    assertExcludes(objects);\n    return myself();\n}\n</code></pre>\n\n<p>I probably shouldn't make wild assumptions like this, but it's in the same class as your <code>contains</code> method (<code>ObjectGroupAssert</code>) and the Javadoc seems to describe the functionality you're looking for.</p>\n\n<p>So I think, you would just need:</p>\n\n<pre><code>assertThat(list).excludes(5,7);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28360263,"reputation":1,"user_id":21690389,"display_name":"YSereda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685467765,"creation_date":1685467765,"answer_id":76367259,"question_id":23681419,"body_markdown":"doesnotContain() method present in assertJ library.\r\nF.e.\r\n\r\n    assertThat(usersList).doesNotContain(userDTO);","title":"How to assert that a list does not contain something, with FEST?","body":"<p>doesnotContain() method present in assertJ library.\nF.e.</p>\n<pre><code>assertThat(usersList).doesNotContain(userDTO);\n</code></pre>\n"}],"owner":{"account_id":137777,"reputation":194868,"user_id":342235,"accept_rate":77,"display_name":"Freewind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6916,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":23683116,"answer_count":2,"score":5,"last_activity_date":1685467765,"creation_date":1400164626,"question_id":23681419,"body_markdown":"I&#39;m using [FEST](https://code.google.com/p/fest/) to write assertions in JUnit. \r\n\r\nIt&#39;s easy to assert that a list is containing some elements:\r\n\r\n    assertThat(list).contains(2,4);\r\n\r\nBut how to assert that the list is not containing something? Like:\r\n\r\n    assertThat(list).doesnotContain(3); // !!! no such method\r\n\r\n","title":"How to assert that a list does not contain something, with FEST?","body":"<p>I'm using <a href=\"https://code.google.com/p/fest/\" rel=\"noreferrer\">FEST</a> to write assertions in JUnit. </p>\n\n<p>It's easy to assert that a list is containing some elements:</p>\n\n<pre><code>assertThat(list).contains(2,4);\n</code></pre>\n\n<p>But how to assert that the list is not containing something? Like:</p>\n\n<pre><code>assertThat(list).doesnotContain(3); // !!! no such method\n</code></pre>\n"},{"tags":["java","jquery","mysql","ajax","json"],"answers":[{"tags":[],"owner":{"account_id":1482474,"reputation":7545,"user_id":1652451,"display_name":"PbxMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413799933,"creation_date":1413796635,"answer_id":26462175,"question_id":26461605,"body_markdown":"BooksServlet.java should not be in your jquery url but a servlet that returns a JSON. I don&#39;t get what you are trying to do with your jquery code. Now it seems to be ready to receive HTML, not a JSON. \r\n\r\n* I would recommend you to use a plug in like firebug or similar go to network and analize the request/response you are creating.\r\n* I would use [DataTables][1] to handle JSON in the front end side\r\n* I would use a JSON parser for the backend part example &quot;Struts 2 result type [JSON][2]. \r\n\r\n\r\n  [1]: http://www.datatables.net/examples/ajax/simple.html\r\n  [2]: http://struts.apache.org/release/2.3.x/docs/json-plugin.html","title":"Display data from mysql using jquery and ajax","body":"<p>BooksServlet.java should not be in your jquery url but a servlet that returns a JSON. I don't get what you are trying to do with your jquery code. Now it seems to be ready to receive HTML, not a JSON. </p>\n\n<ul>\n<li>I would recommend you to use a plug in like firebug or similar go to network and analize the request/response you are creating.</li>\n<li>I would use <a href=\"http://www.datatables.net/examples/ajax/simple.html\" rel=\"nofollow\">DataTables</a> to handle JSON in the front end side</li>\n<li>I would use a JSON parser for the backend part example \"Struts 2 result type <a href=\"http://struts.apache.org/release/2.3.x/docs/json-plugin.html\" rel=\"nofollow\">JSON</a>. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":65267,"reputation":869,"user_id":192214,"accept_rate":56,"display_name":"Jef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413797106,"creation_date":1413797106,"answer_id":26462314,"question_id":26461605,"body_markdown":"Try to access [server]/[context]/BooksServlet, example localhost:8080/myappp/BookServlet, since your /BookServlet is the mapping URL in your servlet.\r\n\r\nSee this https://stackoverflow.com/questions/6535676/webservlet-annotation-with-tomcat7 and http://www.codejava.net/java-ee/servlet/webservlet-annotation-examples\r\n\r\nBy the way, I am still don&#39;t get, your Ajax URL go to /BookServlet and return json, but at that servlet does not return json data.","title":"Display data from mysql using jquery and ajax","body":"<p>Try to access [server]/[context]/BooksServlet, example localhost:8080/myappp/BookServlet, since your /BookServlet is the mapping URL in your servlet.</p>\n\n<p>See this <a href=\"https://stackoverflow.com/questions/6535676/webservlet-annotation-with-tomcat7\">@WebServlet annotation with Tomcat 7</a> and <a href=\"http://www.codejava.net/java-ee/servlet/webservlet-annotation-examples\" rel=\"nofollow noreferrer\">http://www.codejava.net/java-ee/servlet/webservlet-annotation-examples</a></p>\n\n<p>By the way, I am still don't get, your Ajax URL go to /BookServlet and return json, but at that servlet does not return json data.</p>\n"}],"owner":{"account_id":5138207,"reputation":63,"user_id":4116320,"accept_rate":27,"display_name":"zydexo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685466085,"creation_date":1413794531,"question_id":26461605,"body_markdown":"I&#39;m a beginner and i&#39;m trying to make a simple app to display a table from mysql using JavaScript and jquery, json object. This is not giving me any error and but i&#39;m lost as to how to proceed. Please provide your feedback!\r\n\r\nThis is my books.java\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Books {\r\n    \tprivate int id;\r\n    \tprivate String title;\r\n    \tprivate String author;\r\n    \tprivate float price;\r\n    \tprivate int qty;\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \tpublic String getAuthor() {\r\n    \t\treturn author;\r\n    \t}\r\n    \tpublic void setAuthor(String author) {\r\n    \t\tthis.author = author;\r\n    \t}\r\n    \tpublic float getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \tpublic void setPrice(float price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \tpublic int getQty() {\r\n    \t\treturn qty;\r\n    \t}\r\n    \tpublic void setQty(int qty) {\r\n    \t\tthis.qty = qty;\r\n    \t}\r\n    \tpublic Books(int id, String title, String author, float price, int qty) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.title = title;\r\n    \t\tthis.author = author;\r\n    \t\tthis.price = price;\r\n    \t\tthis.qty = qty;\r\n    \t}\r\n    \t\r\n    \tpublic Books() {\r\n    \t\t\r\n    \t}\r\n    \tpublic ArrayList &lt;Books&gt; getBooks(ArrayList&lt;Books&gt;  bookList){\r\n    \t\t\r\n    \t\tConnection conn =null;\r\n    \t\tResultSet rset = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t\tconn = DriverManager.getConnection(\r\n    \t\t\t\t\t&quot;jdbc:mysql://localhost:3306/ebookshop&quot;, &quot;root&quot;, &quot;root&quot;);\r\n    \t\t\tPreparedStatement pst = (PreparedStatement) conn\r\n    \t\t\t\t\t.prepareStatement(&quot;SELECT * from books&quot;);\r\n    \t\t\trset = pst.executeQuery();\r\n    \t\t\t\r\n    \t\t\twhile (rset.next()){\r\n    \t\t\t\tBooks books = new Books();\r\n    \t\t\t\tbooks.setId(rset.getInt(&quot;id&quot;));\r\n    \t\t\t\tbooks.setAuthor(rset.getString(&quot;author&quot;));\r\n    \t\t\t\tbooks.setTitle(rset.getString(&quot;title&quot;));\r\n    \t\t\t\tbooks.setPrice(rset.getFloat(&quot;price&quot;));\r\n    \t\t\t\tbooks.setQty(rset.getInt(&quot;qty&quot;));\r\n    \t\t\t\tbookList.add(books);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\tSystem.out.println(&quot;Could not connect to DB&quot; + e);\r\n    \t\t} catch (ClassNotFoundException classexpt){\r\n    \t\t\tSystem.out.println(&quot;Couldn&#39;t find the class&quot; + classexpt);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn bookList;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n Servlet File:\r\n\r\n\r\n            import java.io.IOException;\r\n            import java.util.ArrayList;\r\n            \r\n            import javax.servlet.RequestDispatcher;\r\n            import javax.servlet.ServletException;\r\n            import javax.servlet.annotation.WebServlet;\r\n            import javax.servlet.http.HttpServlet;\r\n            import javax.servlet.http.HttpServletRequest;\r\n            import javax.servlet.http.HttpServletResponse;\r\n            \r\n            /**\r\n             * Servlet implementation class BooksServlet\r\n             */\r\n            @WebServlet(&quot;/BooksServlet&quot;)\r\n            public class BooksServlet extends HttpServlet {\r\n            \tprivate static final long serialVersionUID = 1L;\r\n                   \r\n                /**\r\n                 * @see HttpServlet#HttpServlet()\r\n                 */\r\n                public BooksServlet() {\r\n                    super();\r\n                    // TODO Auto-generated constructor stub\r\n                }\r\n            \r\n            \t/**\r\n            \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n            \t */\r\n            \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \r\n    response.setContentType(&quot;application/json&quot;);\r\n            \t\tBooks books = new Books();\r\n            \t\tArrayList &lt;Books&gt; bookList = new ArrayList &lt;Books&gt;();\r\n            \t\tbookList = books.getBooks(bookList);\r\n            \t\trequest.setAttribute(&quot;bookList&quot;, bookList);\r\n        \r\n        JSONObject obj=new JSONObject();\r\n        \t\tJSONArray arr = new JSONArray();\r\n        \t\tfor(int i = 0 ; i&lt; bookList.size() ; i++)\r\n        \t\t{\r\n        \t\t    Books b = bookList.get(i);\r\n        \r\n        \t\t    obj.put(&quot;id&quot;, b.getId());\r\n        \t\t    obj.put(&quot;title&quot;, b.getTitle());\r\n        \t\t    obj.put(&quot;author&quot;, b.getAuthor());\r\n        \t\t    obj.put(&quot;price&quot;, b.getPrice());\r\n        \t\t    obj.put(&quot;qty&quot;, b.getQty());\r\n        \r\n        \t\t    arr.add(obj.toString());\r\n        \r\n        \t\t    obj = new JSONObject();\r\n        \t\t}\r\n            \t\t\r\n            \t\tString address = &quot;DisplayBook.jsp&quot;;\r\n            \t\tRequestDispatcher dispatcher =\r\n            \t\t        request.getRequestDispatcher(address);\r\n            \t\t      dispatcher.forward(request, response);\r\n            \t}\r\n            \r\n            \t/**\r\n            \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n            \t */\r\n            \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            \t\t// TODO Auto-generated method stub\r\n            \t}\r\n            \r\n            }\r\n\r\nJsp File:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.11.0.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    $(document).ready(function(){\r\n        function showBook(){\r\n            $.ajax({\r\n                type:&quot;GET&quot;,\r\n                url:&quot;BooksServlet.java&quot;,\r\n                dataType: &quot;json&quot;,\r\n                data: JSON.stringify({ bookList: bookdata }),\r\n                success:function(data){\r\n                    $(&quot;#content&quot;).html(data);\r\n                }\r\n            });\r\n        }\r\n        showBook();\r\n    });\r\n    &lt;/script&gt;\r\n    \r\n    &lt;h3 align=&quot;center&quot;&gt;Manage Book Details&lt;/h3&gt;\r\n    &lt;table border=&quot;1&quot; align=&quot;center&quot;&gt;\r\n       &lt;tr&gt;\r\n           &lt;td&gt; &lt;input type=&quot;button&quot; id=&quot;display&quot; value=&quot;Display All Data&quot; /&gt; &lt;/td&gt;\r\n       &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;div id=&quot;content&quot; align=&quot;center&quot;&gt;&lt;/div&gt;\r\n    &lt;table&gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;td&gt;id&lt;/td&gt;\r\n    \t&lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nJSp file is where i&#39;m lost. I think i&#39;m sending the data right with the list but not receiving it. Or am i sending the data wrong in the servlet? \r\nAny help would be appreciated!","title":"Display data from mysql using jquery and ajax","body":"<p>I'm a beginner and i'm trying to make a simple app to display a table from mysql using JavaScript and jquery, json object. This is not giving me any error and but i'm lost as to how to proceed. Please provide your feedback!</p>\n\n<p>This is my books.java</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\npublic class Books {\n    private int id;\n    private String title;\n    private String author;\n    private float price;\n    private int qty;\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n    public String getAuthor() {\n        return author;\n    }\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n    public float getPrice() {\n        return price;\n    }\n    public void setPrice(float price) {\n        this.price = price;\n    }\n    public int getQty() {\n        return qty;\n    }\n    public void setQty(int qty) {\n        this.qty = qty;\n    }\n    public Books(int id, String title, String author, float price, int qty) {\n        super();\n        this.id = id;\n        this.title = title;\n        this.author = author;\n        this.price = price;\n        this.qty = qty;\n    }\n\n    public Books() {\n\n    }\n    public ArrayList &lt;Books&gt; getBooks(ArrayList&lt;Books&gt;  bookList){\n\n        Connection conn =null;\n        ResultSet rset = null;\n\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            conn = DriverManager.getConnection(\n                    \"jdbc:mysql://localhost:3306/ebookshop\", \"root\", \"root\");\n            PreparedStatement pst = (PreparedStatement) conn\n                    .prepareStatement(\"SELECT * from books\");\n            rset = pst.executeQuery();\n\n            while (rset.next()){\n                Books books = new Books();\n                books.setId(rset.getInt(\"id\"));\n                books.setAuthor(rset.getString(\"author\"));\n                books.setTitle(rset.getString(\"title\"));\n                books.setPrice(rset.getFloat(\"price\"));\n                books.setQty(rset.getInt(\"qty\"));\n                bookList.add(books);\n\n            }\n        } catch (SQLException e) {\n            System.out.println(\"Could not connect to DB\" + e);\n        } catch (ClassNotFoundException classexpt){\n            System.out.println(\"Couldn't find the class\" + classexpt);\n        }\n\n        return bookList;\n\n    }\n\n}\n</code></pre>\n\n<p>Servlet File:</p>\n\n<pre><code>        import java.io.IOException;\n        import java.util.ArrayList;\n\n        import javax.servlet.RequestDispatcher;\n        import javax.servlet.ServletException;\n        import javax.servlet.annotation.WebServlet;\n        import javax.servlet.http.HttpServlet;\n        import javax.servlet.http.HttpServletRequest;\n        import javax.servlet.http.HttpServletResponse;\n\n        /**\n         * Servlet implementation class BooksServlet\n         */\n        @WebServlet(\"/BooksServlet\")\n        public class BooksServlet extends HttpServlet {\n            private static final long serialVersionUID = 1L;\n\n            /**\n             * @see HttpServlet#HttpServlet()\n             */\n            public BooksServlet() {\n                super();\n                // TODO Auto-generated constructor stub\n            }\n\n            /**\n             * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n             */\n            protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\nresponse.setContentType(\"application/json\");\n                Books books = new Books();\n                ArrayList &lt;Books&gt; bookList = new ArrayList &lt;Books&gt;();\n                bookList = books.getBooks(bookList);\n                request.setAttribute(\"bookList\", bookList);\n\n    JSONObject obj=new JSONObject();\n            JSONArray arr = new JSONArray();\n            for(int i = 0 ; i&lt; bookList.size() ; i++)\n            {\n                Books b = bookList.get(i);\n\n                obj.put(\"id\", b.getId());\n                obj.put(\"title\", b.getTitle());\n                obj.put(\"author\", b.getAuthor());\n                obj.put(\"price\", b.getPrice());\n                obj.put(\"qty\", b.getQty());\n\n                arr.add(obj.toString());\n\n                obj = new JSONObject();\n            }\n\n                String address = \"DisplayBook.jsp\";\n                RequestDispatcher dispatcher =\n                        request.getRequestDispatcher(address);\n                      dispatcher.forward(request, response);\n            }\n\n            /**\n             * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n             */\n            protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n                // TODO Auto-generated method stub\n            }\n\n        }\n</code></pre>\n\n<p>Jsp File:</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery-1.11.0.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    function showBook(){\n        $.ajax({\n            type:\"GET\",\n            url:\"BooksServlet.java\",\n            dataType: \"json\",\n            data: JSON.stringify({ bookList: bookdata }),\n            success:function(data){\n                $(\"#content\").html(data);\n            }\n        });\n    }\n    showBook();\n});\n&lt;/script&gt;\n\n&lt;h3 align=\"center\"&gt;Manage Book Details&lt;/h3&gt;\n&lt;table border=\"1\" align=\"center\"&gt;\n   &lt;tr&gt;\n       &lt;td&gt; &lt;input type=\"button\" id=\"display\" value=\"Display All Data\" /&gt; &lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/table&gt;\n&lt;div id=\"content\" align=\"center\"&gt;&lt;/div&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;id&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>JSp file is where i'm lost. I think i'm sending the data right with the list but not receiving it. Or am i sending the data wrong in the servlet? \nAny help would be appreciated!</p>\n"},{"tags":["java","eclipse","swt"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1685469475,"post_id":76367075,"comment_id":134663524,"body_markdown":"Monospace fonts about height, they&#39;re about width. This reads like a bug report for SWT itself, though, not something you&#39;d correct in your own code.","body":"Monospace fonts about height, they&#39;re about width. This reads like a bug report for SWT itself, though, not something you&#39;d correct in your own code."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1685476250,"post_id":76367075,"comment_id":134664773,"body_markdown":"`GC.getFontMetrics` gives the ascent and descent values for the font. The textExtent `y` value seems to be the sum of the ascent + descent.","body":"<code>GC.getFontMetrics</code> gives the ascent and descent values for the font. The textExtent <code>y</code> value seems to be the sum of the ascent + descent."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1685492888,"post_id":76367075,"comment_id":134666895,"body_markdown":"`GC#textExtent(String)` returns a bounding box that includes the descender height.  For example, in a 12pt font I get a `y` value of 15, which is the sum of the ascender height and descender height.  I&#39;m not sure what you&#39;re seeing that tells you otherwise.","body":"<code>GC#textExtent(String)</code> returns a bounding box that includes the descender height.  For example, in a 12pt font I get a <code>y</code> value of 15, which is the sum of the ascender height and descender height.  I&#39;m not sure what you&#39;re seeing that tells you otherwise."},{"owner":{"account_id":5175809,"reputation":1054,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1698767286,"post_id":76367075,"comment_id":136445749,"body_markdown":"Not really helpful, but some 15y ago I had the problem to determine the height and length in pixels for a given text and font. I turned out that there was a bug. Font metrics are complicated, and such bugs tend to be sticky, reappearing like zombie.","body":"Not really helpful, but some 15y ago I had the problem to determine the height and length in pixels for a given text and font. I turned out that there was a bug. Font metrics are complicated, and such bugs tend to be sticky, reappearing like zombie."}],"owner":{"account_id":14814124,"reputation":956,"user_id":10698740,"display_name":"Andrey Kachow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685466048,"creation_date":1685466048,"question_id":76367075,"body_markdown":"I have an Eclipse application there I need to find out the exact height of the area occupied by the text.\r\n\r\nThe method `GC.textExtent` method does not do the right job. It gives the same value for letters that have different sizes. The Arial font is not a monospace type font, so lowercase letters should have different sizes to upper case ones, for example.\r\n\r\nThe problem is that the rectangle returned by `GC.textExtent` does not fully enclose letters like &quot;j&quot; and &quot;g&quot; which have a &quot;tail&quot; going below the bottom line which goes beyond the extent. I want to fix that and make sure that the bounding box I draw around the text fully contains that text.\r\n\r\nI tried to reduce the problem as much as possible to recreate the problem and here is the code. the static block in one of the Eclipse application views is executed to calculate initial parameters. But here I just find two integers and throw exceptions if they are not different. They should be.\r\n\r\n```\r\nimport org.eclipse.swt.SWT;\r\nimport org.eclipse.swt.graphics.Font;\r\nimport org.eclipse.swt.graphics.GC;\r\nimport org.eclipse.swt.graphics.Image;\r\nimport org.eclipse.swt.widgets.Display;\r\n\r\nclass SomeClass {\r\n\r\n  ...\r\n\r\n  static {\r\n        Image imgTemp = new Image(Display.getDefault(), 123, 123);\r\n        GC gcTemp = new GC(imgTemp);\r\n        Font fontTemp = new Font(Display.getDefault(), &quot;Arial&quot;, 13, SWT.NORMAL);\r\n\r\n        int shortStringSize = gcTemp.textExtent(&quot;a&quot;).y;\r\n        int tallStringSize = gcTemp.textExtent(&quot;j&quot;).y;\r\n\r\n        imgTemp.dispose();\r\n        fontTemp.dispose();\r\n        gcTemp.dispose();\r\n        \r\n        if (shortStringSize == tallStringSize) {\r\n        \tthrow new RuntimeException(&quot;I expected letter &#39;a&#39; have smaller&quot;\r\n        \t\t\t+ &quot; text extent than letter &#39;j&#39;, because it is visually&quot;\r\n        \t\t\t+ &quot; shorter.\\n&quot;\r\n        \t\t\t+ &quot;&#39;j&#39; size = &quot; \r\n        \t\t\t+ tallStringSize \r\n        \t\t\t+ &quot;\\n&quot;\r\n        \t\t\t+ &quot;&#39;a&#39; size = &quot;\r\n        \t\t\t+ shortStringSize);\r\n        }\r\n  }\r\n\r\n...\r\n\r\n}\r\n\r\n```\r\n\r\nOutput has errors.\r\n\r\n```\r\n&lt;big stacktrace&gt;\r\n\r\nCaused by: java.lang.RuntimeException: I expected letter &#39;a&#39; have smaller text extent than letter &#39;j&#39;, because it is visually shorter.\r\n&#39;j&#39; size = 21\r\n&#39;a&#39; size = 21\r\n\tat &lt;my file&gt;\r\n\r\n&lt;big stacktrace&gt;\r\n```\r\n\r\nWould there be a way to find a size of a string that depends on character height?\r\n","title":"How to Find the character height in the Eclipse SWT","body":"<p>I have an Eclipse application there I need to find out the exact height of the area occupied by the text.</p>\n<p>The method <code>GC.textExtent</code> method does not do the right job. It gives the same value for letters that have different sizes. The Arial font is not a monospace type font, so lowercase letters should have different sizes to upper case ones, for example.</p>\n<p>The problem is that the rectangle returned by <code>GC.textExtent</code> does not fully enclose letters like &quot;j&quot; and &quot;g&quot; which have a &quot;tail&quot; going below the bottom line which goes beyond the extent. I want to fix that and make sure that the bounding box I draw around the text fully contains that text.</p>\n<p>I tried to reduce the problem as much as possible to recreate the problem and here is the code. the static block in one of the Eclipse application views is executed to calculate initial parameters. But here I just find two integers and throw exceptions if they are not different. They should be.</p>\n<pre><code>import org.eclipse.swt.SWT;\nimport org.eclipse.swt.graphics.Font;\nimport org.eclipse.swt.graphics.GC;\nimport org.eclipse.swt.graphics.Image;\nimport org.eclipse.swt.widgets.Display;\n\nclass SomeClass {\n\n  ...\n\n  static {\n        Image imgTemp = new Image(Display.getDefault(), 123, 123);\n        GC gcTemp = new GC(imgTemp);\n        Font fontTemp = new Font(Display.getDefault(), &quot;Arial&quot;, 13, SWT.NORMAL);\n\n        int shortStringSize = gcTemp.textExtent(&quot;a&quot;).y;\n        int tallStringSize = gcTemp.textExtent(&quot;j&quot;).y;\n\n        imgTemp.dispose();\n        fontTemp.dispose();\n        gcTemp.dispose();\n        \n        if (shortStringSize == tallStringSize) {\n            throw new RuntimeException(&quot;I expected letter 'a' have smaller&quot;\n                    + &quot; text extent than letter 'j', because it is visually&quot;\n                    + &quot; shorter.\\n&quot;\n                    + &quot;'j' size = &quot; \n                    + tallStringSize \n                    + &quot;\\n&quot;\n                    + &quot;'a' size = &quot;\n                    + shortStringSize);\n        }\n  }\n\n...\n\n}\n\n</code></pre>\n<p>Output has errors.</p>\n<pre><code>&lt;big stacktrace&gt;\n\nCaused by: java.lang.RuntimeException: I expected letter 'a' have smaller text extent than letter 'j', because it is visually shorter.\n'j' size = 21\n'a' size = 21\n    at &lt;my file&gt;\n\n&lt;big stacktrace&gt;\n</code></pre>\n<p>Would there be a way to find a size of a string that depends on character height?</p>\n"},{"tags":["java","spring","filter"],"comments":[{"owner":{"account_id":28637891,"reputation":196,"user_id":21927668,"display_name":"Almaz Shakirov"},"score":0,"creation_date":1685470062,"post_id":76367056,"comment_id":134663632,"body_markdown":"Have you registered your filter in descriptor file? (web.xml)","body":"Have you registered your filter in descriptor file? (web.xml)"},{"owner":{"account_id":22672915,"reputation":1,"user_id":16844403,"display_name":"Tomasz Piszczek"},"score":0,"creation_date":1685519729,"post_id":76367056,"comment_id":134669875,"body_markdown":"I am using Servlet 4.0.1. @Component adnotation is not enough in LoggerFilter class ? I dont have web.xml file.","body":"I am using Servlet 4.0.1. @Component adnotation is not enough in LoggerFilter class ? I dont have web.xml file."}],"owner":{"account_id":22672915,"reputation":1,"user_id":16844403,"display_name":"Tomasz Piszczek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685465876,"creation_date":1685465876,"question_id":76367056,"body_markdown":"I&#39;ve made LoggerFilter class and when i make GET request in postman i dont recieve any log info in console. \r\n\r\n\r\nHERE IS MY LOGGERFILTER CLASS:\r\n\r\n```\r\n`package FirstTest.demo.Controller;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.IOException;\r\n\r\n@Component\r\npublic class LoggerFilter implements Filter{\r\n    private static final Logger logger = LoggerFactory.getLogger(LoggerFilter.class);\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse servletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n        if(request instanceof HttpServletRequest){\r\n            var httpRequest = (HttpServletRequest) request;\r\n            logger.info(&quot;[doFilter]&quot; + httpRequest.getMethod() + &quot; &quot; + httpRequest.getRequestURI());\r\n        }\r\n        filterChain.doFilter(request, servletResponse);\r\n    }\r\n\r\n}\r\n`\r\n```\r\nIn any controller class Logger is working.\r\nHere are dependecies from pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI made a breakpoint in doFilter method and app is not even using it while making GET request in Postman.","title":"Why Filter doesn&#39;t catch GET requests from Postman?","body":"<p>I've made LoggerFilter class and when i make GET request in postman i dont recieve any log info in console.</p>\n<p>HERE IS MY LOGGERFILTER CLASS:</p>\n<pre><code>`package FirstTest.demo.Controller;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\n\n@Component\npublic class LoggerFilter implements Filter{\n    private static final Logger logger = LoggerFactory.getLogger(LoggerFilter.class);\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse servletResponse, FilterChain filterChain) throws ServletException, IOException {\n        if(request instanceof HttpServletRequest){\n            var httpRequest = (HttpServletRequest) request;\n            logger.info(&quot;[doFilter]&quot; + httpRequest.getMethod() + &quot; &quot; + httpRequest.getRequestURI());\n        }\n        filterChain.doFilter(request, servletResponse);\n    }\n\n}\n`\n</code></pre>\n<p>In any controller class Logger is working.\nHere are dependecies from pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I made a breakpoint in doFilter method and app is not even using it while making GET request in Postman.</p>\n"},{"tags":["java","file-io","filesystems","delete-directory"],"comments":[{"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"score":4,"creation_date":1240439896,"post_id":779519,"comment_id":590142,"body_markdown":"File.delete() should simply return false upon calling it with a non-empty directory.","body":"File.delete() should simply return false upon calling it with a non-empty directory."},{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":0,"creation_date":1505918999,"post_id":779519,"comment_id":79611162,"body_markdown":"If you are using Java 8, see @RoK&#39;s answer.","body":"If you are using Java 8, see @RoK&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":2,"up_vote_count":199,"is_accepted":false,"score":197,"last_activity_date":1466373631,"creation_date":1240439373,"answer_id":779529,"question_id":779519,"body_markdown":"With Java 7, we can finally [do this with reliable symlink detection.][1] (I don&#39;t consider Apache&#39;s commons-io to have *reliable* symlink detection at this time, as it doesn&#39;t handle links on Windows created with `mklink`.)\r\n\r\nFor the sake of history, here&#39;s a pre-Java 7 answer, which *follows symlinks.*\r\n\r\n    void delete(File f) throws IOException {\r\n      if (f.isDirectory()) {\r\n        for (File c : f.listFiles())\r\n          delete(c);\r\n      }\r\n      if (!f.delete())\r\n        throw new FileNotFoundException(&quot;Failed to delete file: &quot; + f);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/27917071/3474","title":"Delete directories recursively in Java","body":"<p>With Java 7, we can finally <a href=\"https://stackoverflow.com/a/27917071/3474\">do this with reliable symlink detection.</a> (I don't consider Apache's commons-io to have <em>reliable</em> symlink detection at this time, as it doesn't handle links on Windows created with <code>mklink</code>.)</p>\n\n<p>For the sake of history, here's a pre-Java 7 answer, which <em>follows symlinks.</em></p>\n\n<pre><code>void delete(File f) throws IOException {\n  if (f.isDirectory()) {\n    for (File c : f.listFiles())\n      delete(c);\n  }\n  if (!f.delete())\n    throw new FileNotFoundException(\"Failed to delete file: \" + f);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28626,"reputation":18594,"user_id":76661,"accept_rate":59,"display_name":"paweloque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1240439824,"creation_date":1240439824,"answer_id":779553,"question_id":779519,"body_markdown":"Maybe a solution for this problem might be to reimplement the delete method of the File class using the code from erickson&#39;s answer:\r\n\r\n    public class MyFile extends File {\r\n\r\n      ... &lt;- copy constructor\r\n    \r\n      public boolean delete() {\r\n        if (f.isDirectory()) {\r\n          for (File c : f.listFiles()) {\r\n            return new MyFile(c).delete();\r\n          }\r\n        } else {\r\n            return f.delete();\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Delete directories recursively in Java","body":"<p>Maybe a solution for this problem might be to reimplement the delete method of the File class using the code from erickson's answer:</p>\n\n<pre><code>public class MyFile extends File {\n\n  ... &lt;- copy constructor\n\n  public boolean delete() {\n    if (f.isDirectory()) {\n      for (File c : f.listFiles()) {\n        return new MyFile(c).delete();\n      }\n    } else {\n        return f.delete();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":573,"reputation":19468,"user_id":739,"display_name":"Steve K"},"down_vote_count":12,"up_vote_count":514,"is_accepted":true,"score":502,"last_activity_date":1439559390,"creation_date":1240439869,"answer_id":779555,"question_id":779519,"body_markdown":"You should check out [Apache&#39;s commons-io][1].  It has a [FileUtils][2] class that will do what you want.\r\n\r\n    FileUtils.deleteDirectory(new File(&quot;directory&quot;));\r\n\r\n  [1]: //commons.apache.org/proper/commons-io/\r\n  [2]: //commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)","title":"Delete directories recursively in Java","body":"<p>You should check out <a href=\"//commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Apache's commons-io</a>.  It has a <a href=\"//commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)\" rel=\"noreferrer\">FileUtils</a> class that will do what you want.</p>\n\n<pre><code>FileUtils.deleteDirectory(new File(\"directory\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33738,"reputation":95,"user_id":94685,"display_name":"glue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345851083,"creation_date":1240522681,"answer_id":783635,"question_id":779519,"body_markdown":"Here is a bare bones main method that accepts a command line argument, you may need to append your own error checking or mold it to how you see fit.\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    \r\n    public class DeleteFiles {\r\n    \r\n    /**\r\n     * @param intitial arguments take in a source to read from and a \r\n     * destination to read to\r\n     */\r\n    \tpublic static void main(String[] args)\r\n                         throws FileNotFoundException,IOException {\r\n    \t\tFile src = new File(args[0]);\r\n    \t\tif (!src.exists() ) {\r\n    \t\t\tSystem.out.println(&quot;FAILURE!&quot;);\r\n    \t\t}else{\r\n    \t\t\t// Gathers files in directory\r\n    \t\t\tFile[] a = src.listFiles();\r\n    \t\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\t\t//Sends files to recursive deletion method\r\n    \t\t\t\tfileDelete(a[i]);\r\n    \t\t\t}\r\n    \t\t\t// Deletes original source folder\r\n    \t\t\tsrc.delete();\r\n    \t\t\tSystem.out.println(&quot;Success!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param srcFile Source file to examine\r\n    \t * @throws FileNotFoundException if File not found\r\n    \t * @throws IOException if File not found\r\n    \t */\r\n    \tprivate static void fileDelete(File srcFile)\r\n                         throws FileNotFoundException, IOException {\r\n    \t\t// Checks if file is a directory\r\n    \t\tif (srcFile.isDirectory()) {\r\n    \t\t\t//Gathers files in directory\r\n    \t\t\tFile[] b = srcFile.listFiles();\r\n    \t\t\tfor (int i = 0; i &lt; b.length; i++) {\r\n    \t\t\t\t//Recursively deletes all files and sub-directories\r\n    \t\t\t\tfileDelete(b[i]);\r\n    \t\t\t}\r\n    \t\t\t// Deletes original sub-directory file\r\n    \t\t\tsrcFile.delete();\r\n    \t\t} else {\r\n    \t\t\tsrcFile.delete();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI hope that helps!\r\n","title":"Delete directories recursively in Java","body":"<p>Here is a bare bones main method that accepts a command line argument, you may need to append your own error checking or mold it to how you see fit.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\npublic class DeleteFiles {\n\n/**\n * @param intitial arguments take in a source to read from and a \n * destination to read to\n */\n    public static void main(String[] args)\n                     throws FileNotFoundException,IOException {\n        File src = new File(args[0]);\n        if (!src.exists() ) {\n            System.out.println(\"FAILURE!\");\n        }else{\n            // Gathers files in directory\n            File[] a = src.listFiles();\n            for (int i = 0; i &lt; a.length; i++) {\n                //Sends files to recursive deletion method\n                fileDelete(a[i]);\n            }\n            // Deletes original source folder\n            src.delete();\n            System.out.println(\"Success!\");\n        }\n    }\n\n    /**\n     * @param srcFile Source file to examine\n     * @throws FileNotFoundException if File not found\n     * @throws IOException if File not found\n     */\n    private static void fileDelete(File srcFile)\n                     throws FileNotFoundException, IOException {\n        // Checks if file is a directory\n        if (srcFile.isDirectory()) {\n            //Gathers files in directory\n            File[] b = srcFile.listFiles();\n            for (int i = 0; i &lt; b.length; i++) {\n                //Recursively deletes all files and sub-directories\n                fileDelete(b[i]);\n            }\n            // Deletes original sub-directory file\n            srcFile.delete();\n        } else {\n            srcFile.delete();\n        }\n    }\n}\n</code></pre>\n\n<p>I hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1442235810,"creation_date":1276187815,"answer_id":3016420,"question_id":779519,"body_markdown":"[Guava][1] had [`Files.deleteRecursively(File)`][2] supported until **Guava 9**.\r\n\r\nFrom [Guava 10][3]:\r\n\r\n&gt; **Deprecated.** This method suffers from poor symlink detection and race conditions. This functionality can be supported suitably only by shelling out to an operating system command such as `rm -rf` or `del /s`. *This method is scheduled to be removed from Guava in Guava release 11.0.*\r\n\r\nTherefore, there is no such method in [Guava 11][4].\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/9.0/api/docs/com/google/common/io/Files.html#deleteRecursively(java.io.File)\r\n  [3]: http://google.github.io/guava/releases/10.0.1/api/docs/com/google/common/io/Files.html#deleteRecursively(java.io.File)\r\n  [4]: http://google.github.io/guava/releases/11.0.2/api/docs/com/google/common/io/Files.html","title":"Delete directories recursively in Java","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> had <a href=\"http://google.github.io/guava/releases/9.0/api/docs/com/google/common/io/Files.html#deleteRecursively(java.io.File)\" rel=\"noreferrer\"><code>Files.deleteRecursively(File)</code></a> supported until <strong>Guava 9</strong>.</p>\n\n<p>From <a href=\"http://google.github.io/guava/releases/10.0.1/api/docs/com/google/common/io/Files.html#deleteRecursively(java.io.File)\" rel=\"noreferrer\">Guava 10</a>:</p>\n\n<blockquote>\n  <p><strong>Deprecated.</strong> This method suffers from poor symlink detection and race conditions. This functionality can be supported suitably only by shelling out to an operating system command such as <code>rm -rf</code> or <code>del /s</code>. <em>This method is scheduled to be removed from Guava in Guava release 11.0.</em></p>\n</blockquote>\n\n<p>Therefore, there is no such method in <a href=\"http://google.github.io/guava/releases/11.0.2/api/docs/com/google/common/io/Files.html\" rel=\"noreferrer\">Guava 11</a>.</p>\n"},{"tags":[],"owner":{"account_id":35049,"reputation":453,"user_id":99183,"display_name":"Paulitex"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1533842624,"creation_date":1288117705,"answer_id":4026761,"question_id":779519,"body_markdown":"Just saw my solution is more or less the same as erickson&#39;s, just packaged as a static method. Drop this somewhere, it&#39;s much lighter weight than installing all of Apache Commons for something that (as you can see) is quite simple.\r\n\r\n    \r\n    public class FileUtils {\r\n    \t/**\r\n    \t * By default File#delete fails for non-empty directories, it works like &quot;rm&quot;. \r\n    \t * We need something a little more brutual - this does the equivalent of &quot;rm -r&quot;\r\n    \t * @param path Root File Path\r\n    \t * @return true iff the file and all sub files/directories have been removed\r\n    \t * @throws FileNotFoundException\r\n    \t */\r\n    \tpublic static boolean deleteRecursive(File path) throws FileNotFoundException{\r\n    \t\tif (!path.exists()) throw new FileNotFoundException(path.getAbsolutePath());\r\n    \t\tboolean ret = true;\r\n    \t\tif (path.isDirectory()){\r\n    \t\t\tfor (File f : path.listFiles()){\r\n    \t\t\t\tret = ret &amp;&amp; deleteRecursive(f);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn ret &amp;&amp; path.delete();\r\n    \t}\r\n    }\r\n\r\n","title":"Delete directories recursively in Java","body":"<p>Just saw my solution is more or less the same as erickson's, just packaged as a static method. Drop this somewhere, it's much lighter weight than installing all of Apache Commons for something that (as you can see) is quite simple.</p>\n\n<pre><code>public class FileUtils {\n    /**\n     * By default File#delete fails for non-empty directories, it works like \"rm\". \n     * We need something a little more brutual - this does the equivalent of \"rm -r\"\n     * @param path Root File Path\n     * @return true iff the file and all sub files/directories have been removed\n     * @throws FileNotFoundException\n     */\n    public static boolean deleteRecursive(File path) throws FileNotFoundException{\n        if (!path.exists()) throw new FileNotFoundException(path.getAbsolutePath());\n        boolean ret = true;\n        if (path.isDirectory()){\n            for (File f : path.listFiles()){\n                ret = ret &amp;&amp; deleteRecursive(f);\n            }\n        }\n        return ret &amp;&amp; path.delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":754576,"reputation":51,"user_id":752617,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305299051,"creation_date":1305299051,"answer_id":5993886,"question_id":779519,"body_markdown":"Two ways to fail with symlinks and the above code... and don&#39;t know the solution.\r\n\r\n&lt;h1&gt;Way #1&lt;/h1&gt;\r\nRun this to create a test:\r\n&lt;pre&gt;&lt;code&gt;echo test &gt; testfile\r\nmkdir dirtodelete\r\nln -s badlink dirtodelete/badlinktodelete\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nHere you see your test file and test directory:\r\n&lt;pre&gt;&lt;code&gt;$ ls testfile dirtodelete\r\ntestfile\r\n\r\ndirtodelete:\r\nlinktodelete&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThen run your commons-io deleteDirectory(). It crashes saying the file is not found. Not sure what the other examples do here. The Linux rm command would simply delete the link, and rm -r on the directory would also.\r\n\r\n&lt;pre&gt;&lt;code&gt;Exception in thread &quot;main&quot; java.io.FileNotFoundException: File does not exist: /tmp/dirtodelete/linktodelete&lt;/code&gt;&lt;/pre&gt;\r\n\r\n&lt;h1&gt;Way #2&lt;/h1&gt;\r\nRun this to create a test:\r\n&lt;pre&gt;&lt;code&gt;mkdir testdir\r\necho test &gt; testdir/testfile\r\nmkdir dirtodelete\r\nln -s ../testdir dirtodelete/dirlinktodelete\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nHere you see your test file and test directory:\r\n&lt;pre&gt;&lt;code&gt;$ ls dirtodelete testdir\r\ndirtodelete:\r\ndirlinktodelete\r\n\r\ntestdir:\r\ntestfile\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThen run your commons-io deleteDirectory() or the example code people posted. It deletes not only the directory, but your testfile which is outside the directory being deleted. (It dereferences the directory implicitly, and deletes the contents). rm -r would delete the link only. You need to use something like this delete the dereferenced files: &quot;find -L dirtodelete -type f -exec rm {} \\;&quot;.\r\n\r\n&lt;pre&gt;&lt;code&gt;$ ls dirtodelete testdir\r\nls: cannot access dirtodelete: No such file or directory\r\ntestdir:&lt;/code&gt;&lt;/pre&gt;\r\n","title":"Delete directories recursively in Java","body":"<p>Two ways to fail with symlinks and the above code... and don't know the solution.</p>\n\n<h1>Way #1</h1>\n\n<p>Run this to create a test:</p>\n\n<pre><code>echo test > testfile\nmkdir dirtodelete\nln -s badlink dirtodelete/badlinktodelete\n</code></pre>\n\n<p>Here you see your test file and test directory:</p>\n\n<pre><code>$ ls testfile dirtodelete\ntestfile\n\ndirtodelete:\nlinktodelete</code></pre>\n\n<p>Then run your commons-io deleteDirectory(). It crashes saying the file is not found. Not sure what the other examples do here. The Linux rm command would simply delete the link, and rm -r on the directory would also.</p>\n\n<pre><code>Exception in thread \"main\" java.io.FileNotFoundException: File does not exist: /tmp/dirtodelete/linktodelete</code></pre>\n\n<h1>Way #2</h1>\n\n<p>Run this to create a test:</p>\n\n<pre><code>mkdir testdir\necho test > testdir/testfile\nmkdir dirtodelete\nln -s ../testdir dirtodelete/dirlinktodelete\n</code></pre>\n\n<p>Here you see your test file and test directory:</p>\n\n<pre><code>$ ls dirtodelete testdir\ndirtodelete:\ndirlinktodelete\n\ntestdir:\ntestfile\n</code></pre>\n\n<p>Then run your commons-io deleteDirectory() or the example code people posted. It deletes not only the directory, but your testfile which is outside the directory being deleted. (It dereferences the directory implicitly, and deletes the contents). rm -r would delete the link only. You need to use something like this delete the dereferenced files: \"find -L dirtodelete -type f -exec rm {} \\;\".</p>\n\n<pre><code>$ ls dirtodelete testdir\nls: cannot access dirtodelete: No such file or directory\ntestdir:</code></pre>\n"},{"tags":[],"owner":{"account_id":291803,"reputation":880,"user_id":594186,"accept_rate":100,"display_name":"AdamOutler"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1442238116,"creation_date":1309303146,"answer_id":6514188,"question_id":779519,"body_markdown":"\tpublic void deleteRecursive(File path){\r\n\t\tFile[] c = path.listFiles();\r\n\t\tSystem.out.println(&quot;Cleaning out folder:&quot; + path.toString());\r\n\t\tfor (File file : c){\r\n\t\t\tif (file.isDirectory()){\r\n\t\t\t\tSystem.out.println(&quot;Deleting file:&quot; + file.toString());\r\n\t\t\t\tdeleteRecursive(file);\r\n\t\t\t\tfile.delete();\r\n\t\t\t} else {\r\n\t\t\t\tfile.delete();\r\n\t\t\t}\r\n\t\t}\r\n\t\tpath.delete();\r\n\t}","title":"Delete directories recursively in Java","body":"<pre><code>public void deleteRecursive(File path){\n    File[] c = path.listFiles();\n    System.out.println(\"Cleaning out folder:\" + path.toString());\n    for (File file : c){\n        if (file.isDirectory()){\n            System.out.println(\"Deleting file:\" + file.toString());\n            deleteRecursive(file);\n            file.delete();\n        } else {\n            file.delete();\n        }\n    }\n    path.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129125,"reputation":91,"user_id":1115615,"display_name":"vladicho"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1623190562,"creation_date":1324845734,"answer_id":8631463,"question_id":779519,"body_markdown":"\tpublic static void deleteDirectory(File path) \r\n\t{\r\n\t\tif (path == null)\r\n\t\t\treturn;\r\n\t\tif (path.exists())\r\n\t\t{\r\n\t\t\tfor(File f : path.listFiles())\r\n\t\t\t{\r\n\t\t\t\tif(f.isDirectory()) \r\n\t\t\t\t{\r\n\t\t\t\t\tdeleteDirectory(f);\r\n\t\t\t\t\tf.delete();\r\n\t\t\t\t}\r\n\t\t\t    else\r\n\t\t\t    {\r\n\t\t\t    \tf.delete();\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t\tpath.delete();\r\n\t\t}\r\n\t}","title":"Delete directories recursively in Java","body":"<pre><code>public static void deleteDirectory(File path) \n{\n    if (path == null)\n        return;\n    if (path.exists())\n    {\n        for(File f : path.listFiles())\n        {\n            if(f.isDirectory()) \n            {\n                deleteDirectory(f);\n                f.delete();\n            }\n            else\n            {\n                f.delete();\n            }\n        }\n        path.delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42347,"reputation":15884,"user_id":123336,"accept_rate":73,"display_name":"Trevor Robinson"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1325299525,"creation_date":1325299525,"answer_id":8685959,"question_id":779519,"body_markdown":"Java 7 added support for walking directories with symlink handling:\r\n\r\n    import java.nio.file.*;\r\n\r\n    public static void removeRecursive(Path path) throws IOException\r\n    {\r\n        Files.walkFileTree(path, new SimpleFileVisitor&lt;Path&gt;()\r\n        {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)\r\n                    throws IOException\r\n            {\r\n                Files.delete(file);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n\r\n            @Override\r\n            public FileVisitResult visitFileFailed(Path file, IOException exc) throws IOException\r\n            {\r\n                // try to delete the file anyway, even if its attributes\r\n                // could not be read, since delete-only access is\r\n                // theoretically possible\r\n                Files.delete(file);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n\r\n            @Override\r\n            public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException\r\n            {\r\n                if (exc == null)\r\n                {\r\n                    Files.delete(dir);\r\n                    return FileVisitResult.CONTINUE;\r\n                }\r\n                else\r\n                {\r\n                    // directory iteration failed; propagate exception\r\n                    throw exc;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nI use this as a fallback from platform-specific methods (in this **untested** code):\r\n\r\n    public static void removeDirectory(Path directory) throws IOException\r\n    {\r\n        // does nothing if non-existent\r\n        if (Files.exists(directory))\r\n        {\r\n            try\r\n            {\r\n                // prefer OS-dependent directory removal tool\r\n                if (SystemUtils.IS_OS_WINDOWS)\r\n                    Processes.execute(&quot;%ComSpec%&quot;, &quot;/C&quot;, &quot;RD /S /Q \\&quot;&quot; + directory + &#39;&quot;&#39;);\r\n                else if (SystemUtils.IS_OS_UNIX)\r\n                    Processes.execute(&quot;/bin/rm&quot;, &quot;-rf&quot;, directory.toString());\r\n            }\r\n            catch (ProcessExecutionException | InterruptedException e)\r\n            {\r\n                // fallback to internal implementation on error\r\n            }\r\n\r\n            if (Files.exists(directory))\r\n                removeRecursive(directory);\r\n        }\r\n    }\r\n\r\n(SystemUtils is from [Apache Commons Lang][1]. Processes is private but its behavior should be obvious.)\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/","title":"Delete directories recursively in Java","body":"<p>Java 7 added support for walking directories with symlink handling:</p>\n\n<pre><code>import java.nio.file.*;\n\npublic static void removeRecursive(Path path) throws IOException\n{\n    Files.walkFileTree(path, new SimpleFileVisitor&lt;Path&gt;()\n    {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)\n                throws IOException\n        {\n            Files.delete(file);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFileFailed(Path file, IOException exc) throws IOException\n        {\n            // try to delete the file anyway, even if its attributes\n            // could not be read, since delete-only access is\n            // theoretically possible\n            Files.delete(file);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException\n        {\n            if (exc == null)\n            {\n                Files.delete(dir);\n                return FileVisitResult.CONTINUE;\n            }\n            else\n            {\n                // directory iteration failed; propagate exception\n                throw exc;\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>I use this as a fallback from platform-specific methods (in this <strong>untested</strong> code):</p>\n\n<pre><code>public static void removeDirectory(Path directory) throws IOException\n{\n    // does nothing if non-existent\n    if (Files.exists(directory))\n    {\n        try\n        {\n            // prefer OS-dependent directory removal tool\n            if (SystemUtils.IS_OS_WINDOWS)\n                Processes.execute(\"%ComSpec%\", \"/C\", \"RD /S /Q \\\"\" + directory + '\"');\n            else if (SystemUtils.IS_OS_UNIX)\n                Processes.execute(\"/bin/rm\", \"-rf\", directory.toString());\n        }\n        catch (ProcessExecutionException | InterruptedException e)\n        {\n            // fallback to internal implementation on error\n        }\n\n        if (Files.exists(directory))\n            removeRecursive(directory);\n    }\n}\n</code></pre>\n\n<p>(SystemUtils is from <a href=\"http://commons.apache.org/lang/\">Apache Commons Lang</a>. Processes is private but its behavior should be obvious.)</p>\n"},{"tags":[],"owner":{"account_id":1438325,"reputation":211,"user_id":1359218,"display_name":"trianam"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1335457802,"creation_date":1335457802,"answer_id":10337535,"question_id":779519,"body_markdown":"A solution with a stack and without recursive methods:\r\n\r\n    File dir = new File(&quot;/path/to/dir&quot;);\r\n    File[] currList;\r\n    Stack&lt;File&gt; stack = new Stack&lt;File&gt;();\r\n    stack.push(dir);\r\n    while (! stack.isEmpty()) {\r\n        if (stack.lastElement().isDirectory()) {\r\n            currList = stack.lastElement().listFiles();\r\n            if (currList.length &gt; 0) {\r\n                for (File curr: currList) {\r\n                    stack.push(curr);\r\n                }\r\n            } else {\r\n                stack.pop().delete();\r\n            }\r\n        } else {\r\n            stack.pop().delete();\r\n        }\r\n    }","title":"Delete directories recursively in Java","body":"<p>A solution with a stack and without recursive methods:</p>\n\n<pre><code>File dir = new File(\"/path/to/dir\");\nFile[] currList;\nStack&lt;File&gt; stack = new Stack&lt;File&gt;();\nstack.push(dir);\nwhile (! stack.isEmpty()) {\n    if (stack.lastElement().isDirectory()) {\n        currList = stack.lastElement().listFiles();\n        if (currList.length &gt; 0) {\n            for (File curr: currList) {\n                stack.push(curr);\n            }\n        } else {\n            stack.pop().delete();\n        }\n    } else {\n        stack.pop().delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905626,"reputation":14548,"user_id":940609,"accept_rate":57,"display_name":"Jan-Terje S&#248;rensen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1360589588,"creation_date":1360589588,"answer_id":14813071,"question_id":779519,"body_markdown":"You could use:\r\n\r\n`org.apache.commons.io.FileUtils.deleteQuietly(destFile);`\r\n\r\n*Deletes a file, never throwing an exception. If file is a directory, delete it and all sub-directories. \r\nThe difference between File.delete() and this method are: \r\nA directory to be deleted does not have to be empty. \r\nNo exceptions are thrown when a file or directory cannot be deleted.* ","title":"Delete directories recursively in Java","body":"<p>You could use:</p>\n\n<p><code>org.apache.commons.io.FileUtils.deleteQuietly(destFile);</code></p>\n\n<p><em>Deletes a file, never throwing an exception. If file is a directory, delete it and all sub-directories. \nThe difference between File.delete() and this method are: \nA directory to be deleted does not have to be empty. \nNo exceptions are thrown when a file or directory cannot be deleted.</em> </p>\n"},{"tags":[],"owner":{"account_id":4514556,"reputation":807,"user_id":3669782,"display_name":"user3669782"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1414506643,"creation_date":1414506643,"answer_id":26610944,"question_id":779519,"body_markdown":"    for(Path p : Files.walk(directoryToDelete).\r\n            sorted((a, b) -&gt; b.compareTo(a)). // reverse; files before dirs\r\n            toArray(Path[]::new))\r\n    {\r\n        Files.delete(p);\r\n    }\r\n\r\nOr if you want to handle the `IOException`:\r\n\r\n    Files.walk(directoryToDelete).\r\n        sorted((a, b) -&gt; b.compareTo(a)). // reverse; files before dirs\r\n        forEach(p -&gt; {\r\n            try { Files.delete(p); }\r\n            catch(IOException e) { /* ... */ }\r\n          });","title":"Delete directories recursively in Java","body":"<pre><code>for(Path p : Files.walk(directoryToDelete).\n        sorted((a, b) -&gt; b.compareTo(a)). // reverse; files before dirs\n        toArray(Path[]::new))\n{\n    Files.delete(p);\n}\n</code></pre>\n\n<p>Or if you want to handle the <code>IOException</code>:</p>\n\n<pre><code>Files.walk(directoryToDelete).\n    sorted((a, b) -&gt; b.compareTo(a)). // reverse; files before dirs\n    forEach(p -&gt; {\n        try { Files.delete(p); }\n        catch(IOException e) { /* ... */ }\n      });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1854035,"reputation":3827,"user_id":1679995,"accept_rate":85,"display_name":"Tomasz Dzięcielewski"},"down_vote_count":0,"up_vote_count":167,"is_accepted":false,"score":167,"last_activity_date":1421134702,"creation_date":1421134702,"answer_id":27917071,"question_id":779519,"body_markdown":"In Java 7+ you can use [`Files`][1] class. Code is very simple:\r\n\r\n    Path directory = Paths.get(&quot;/tmp&quot;);\r\n    Files.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;() {\r\n\t   @Override\r\n\t   public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n\t\t   Files.delete(file);\r\n\t\t   return FileVisitResult.CONTINUE;\r\n\t   }\r\n\r\n\t   @Override\r\n\t   public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\r\n\t\t   Files.delete(dir);\r\n\t\t   return FileVisitResult.CONTINUE;\r\n\t   }\r\n    });\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"Delete directories recursively in Java","body":"<p>In Java 7+ you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\"><code>Files</code></a> class. Code is very simple:</p>\n\n<pre><code>Path directory = Paths.get(\"/tmp\");\nFiles.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;() {\n   @Override\n   public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n       Files.delete(file);\n       return FileVisitResult.CONTINUE;\n   }\n\n   @Override\n   public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\n       Files.delete(dir);\n       return FileVisitResult.CONTINUE;\n   }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953837,"reputation":4903,"user_id":979493,"display_name":"Ben Hutchison"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1421206190,"creation_date":1421206190,"answer_id":27935411,"question_id":779519,"body_markdown":"If you have Spring, you can use [FileSystemUtils.deleteRecursively][1]:\r\n\r\n    import org.springframework.util.FileSystemUtils;\r\n\r\n    boolean success = FileSystemUtils.deleteRecursively(new File(&quot;directory&quot;));\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/FileSystemUtils.html#deleteRecursively-java.io.File-","title":"Delete directories recursively in Java","body":"<p>If you have Spring, you can use <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/FileSystemUtils.html#deleteRecursively-java.io.File-\">FileSystemUtils.deleteRecursively</a>:</p>\n\n<pre><code>import org.springframework.util.FileSystemUtils;\n\nboolean success = FileSystemUtils.deleteRecursively(new File(\"directory\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5758007,"reputation":1,"user_id":4545259,"display_name":"Bharat Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424416354,"creation_date":1424416354,"answer_id":28623458,"question_id":779519,"body_markdown":"While files can easily be deleted using file.delete(), directories are required to be empty to be deleted. Use recursion to do this easily. For example: \r\n\r\n    public static void clearFolders(String[] args) {\r\n    \t\tfor(String st : args){\r\n    \t\t\tFile folder = new File(st);\r\n    \t\t\tif (folder.isDirectory()) {\r\n    \t\t\t\tFile[] files = folder.listFiles();\r\n    \t\t\t    if(files!=null) { \r\n    \t\t\t        for(File f: files) {\r\n    \t\t\t            if (f.isDirectory()){\r\n    \t\t\t            \tclearFolders(new String[]{f.getAbsolutePath()});\r\n    \t\t\t            \tf.delete();\r\n    \t\t\t            } else {\r\n    \t\t\t            \tf.delete();\r\n    \t\t\t            }\r\n    \t\t\t        }\r\n    \t\t\t    }\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Delete directories recursively in Java","body":"<p>While files can easily be deleted using file.delete(), directories are required to be empty to be deleted. Use recursion to do this easily. For example: </p>\n\n<pre><code>public static void clearFolders(String[] args) {\n        for(String st : args){\n            File folder = new File(st);\n            if (folder.isDirectory()) {\n                File[] files = folder.listFiles();\n                if(files!=null) { \n                    for(File f: files) {\n                        if (f.isDirectory()){\n                            clearFolders(new String[]{f.getAbsolutePath()});\n                            f.delete();\n                        } else {\n                            f.delete();\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442588222,"creation_date":1442588222,"answer_id":32655090,"question_id":779519,"body_markdown":"Without Commons IO and  &lt; Java SE 7 \r\n    \r\n\r\n    public static void deleteRecursive(File path){\r\n                path.listFiles(new FileFilter() {\r\n                    @Override\r\n                    public boolean accept(File pathname) {\r\n                        if (pathname.isDirectory()) {\r\n                            pathname.listFiles(this);\r\n                            pathname.delete();\r\n                        } else {\r\n                            pathname.delete();\r\n                        }\r\n                        return false;\r\n                    }\r\n                });\r\n                path.delete();\r\n            }","title":"Delete directories recursively in Java","body":"<p>Without Commons IO and  &lt; Java SE 7 </p>\n\n<pre><code>public static void deleteRecursive(File path){\n            path.listFiles(new FileFilter() {\n                @Override\n                public boolean accept(File pathname) {\n                    if (pathname.isDirectory()) {\n                        pathname.listFiles(this);\n                        pathname.delete();\n                    } else {\n                        pathname.delete();\n                    }\n                    return false;\n                }\n            });\n            path.delete();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463409705,"creation_date":1463409705,"answer_id":37256624,"question_id":779519,"body_markdown":"In legacy projects, I need to create native Java code. I create this code similar to Paulitex code. See that:\r\n\r\n    \r\n    public class FileHelper {\r\n\r\n       public static boolean delete(File fileOrFolder) {\r\n          boolean result = true;\r\n          if(fileOrFolder.isDirectory()) {\r\n             for (File file : fileOrFolder.listFiles()) {\r\n    \t\t    result = result &amp;&amp; delete(file);\r\n    \t     }\r\n    \t  }\r\n    \t  result = result &amp;&amp; fileOrFolder.delete();\r\n    \t  return result;\r\n       } \r\n    }\r\n\r\nAnd the unit test:\r\n\r\n    public class FileHelperTest {\r\n    \r\n        @Before\r\n        public void setup() throws IOException {\r\n    \t   new File(&quot;FOLDER_TO_DELETE/SUBFOLDER&quot;).mkdirs();\r\n    \t   new File(&quot;FOLDER_TO_DELETE/SUBFOLDER_TWO&quot;).mkdirs();\r\n    \t   new File(&quot;FOLDER_TO_DELETE/SUBFOLDER_TWO/TEST_FILE.txt&quot;).createNewFile();\r\n        }\r\n        \r\n        @Test\r\n        public void deleteFolderWithFiles() {\r\n    \t   File folderToDelete = new File(&quot;FOLDER_TO_DELETE&quot;);\r\n    \t   Assert.assertTrue(FileHelper.delete(folderToDelete));\r\n    \t   Assert.assertFalse(new File(&quot;FOLDER_TO_DELETE&quot;).exists());\r\n        }\r\n        \r\n    }","title":"Delete directories recursively in Java","body":"<p>In legacy projects, I need to create native Java code. I create this code similar to Paulitex code. See that:</p>\n\n<pre><code>public class FileHelper {\n\n   public static boolean delete(File fileOrFolder) {\n      boolean result = true;\n      if(fileOrFolder.isDirectory()) {\n         for (File file : fileOrFolder.listFiles()) {\n            result = result &amp;&amp; delete(file);\n         }\n      }\n      result = result &amp;&amp; fileOrFolder.delete();\n      return result;\n   } \n}\n</code></pre>\n\n<p>And the unit test:</p>\n\n<pre><code>public class FileHelperTest {\n\n    @Before\n    public void setup() throws IOException {\n       new File(\"FOLDER_TO_DELETE/SUBFOLDER\").mkdirs();\n       new File(\"FOLDER_TO_DELETE/SUBFOLDER_TWO\").mkdirs();\n       new File(\"FOLDER_TO_DELETE/SUBFOLDER_TWO/TEST_FILE.txt\").createNewFile();\n    }\n\n    @Test\n    public void deleteFolderWithFiles() {\n       File folderToDelete = new File(\"FOLDER_TO_DELETE\");\n       Assert.assertTrue(FileHelper.delete(folderToDelete));\n       Assert.assertFalse(new File(\"FOLDER_TO_DELETE\").exists());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2582927,"reputation":960,"user_id":2239213,"display_name":"RoK"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1653637491,"creation_date":1487230078,"answer_id":42267494,"question_id":779519,"body_markdown":"**One-liner solution (Java8)** to delete all files and directories recursively including starting directory:\r\n\r\n    try (var dirStream = Files.walk(Paths.get(&quot;c:/dir_to_delete/&quot;))) {\r\n        dirStream\r\n            .map(Path::toFile)\r\n            .sorted(Comparator.reverseOrder())\r\n            .forEach(File::delete);\r\n    }\r\n\r\nWe use a comparator for reversed order, otherwise File::delete won&#39;t be able to delete possibly non-empty directory. So, if you want to keep directories and only delete files just remove the comparator in sorted() **or** remove sorting completely and add files filter:\r\n\r\n    try (var dirStream = Files.walk(Paths.get(&quot;c:/dir_to_delete/&quot;))) {\r\n        dirStream\r\n            .filter(Files::isRegularFile)\r\n            .map(Path::toFile)\r\n            .forEach(File::delete);\r\n    }","title":"Delete directories recursively in Java","body":"<p><strong>One-liner solution (Java8)</strong> to delete all files and directories recursively including starting directory:</p>\n<pre><code>try (var dirStream = Files.walk(Paths.get(&quot;c:/dir_to_delete/&quot;))) {\n    dirStream\n        .map(Path::toFile)\n        .sorted(Comparator.reverseOrder())\n        .forEach(File::delete);\n}\n</code></pre>\n<p>We use a comparator for reversed order, otherwise File::delete won't be able to delete possibly non-empty directory. So, if you want to keep directories and only delete files just remove the comparator in sorted() <strong>or</strong> remove sorting completely and add files filter:</p>\n<pre><code>try (var dirStream = Files.walk(Paths.get(&quot;c:/dir_to_delete/&quot;))) {\n    dirStream\n        .filter(Files::isRegularFile)\n        .map(Path::toFile)\n        .forEach(File::delete);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508842745,"creation_date":1508842745,"answer_id":46908759,"question_id":779519,"body_markdown":"i coded this routine that has 3 safety criteria for safer use.\r\n\r\n    package ch.ethz.idsc.queuey.util;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    /** recursive file/directory deletion\r\n     * \r\n     * safety from erroneous use is enhanced by three criteria\r\n     * 1) checking the depth of the directory tree T to be deleted\r\n     * against a permitted upper bound &quot;max_depth&quot;\r\n     * 2) checking the number of files to be deleted #F\r\n     * against a permitted upper bound &quot;max_count&quot;\r\n     * 3) if deletion of a file or directory fails, the process aborts */\r\n    public final class FileDelete {\r\n        /** Example: The command\r\n         * FileDelete.of(new File(&quot;/user/name/myapp/recordings/log20171024&quot;), 2, 1000);\r\n         * deletes given directory with sub directories of depth of at most 2,\r\n         * and max number of total files less than 1000. No files are deleted\r\n         * if directory tree exceeds 2, or total of files exceed 1000.\r\n         * \r\n         * abort criteria are described at top of class\r\n         * \r\n         * @param file\r\n         * @param max_depth\r\n         * @param max_count\r\n         * @return\r\n         * @throws Exception if criteria are not met */\r\n        public static FileDelete of(File file, int max_depth, int max_count) throws IOException {\r\n            return new FileDelete(file, max_depth, max_count);\r\n        }\r\n    \r\n        // ---\r\n        private final File root;\r\n        private final int max_depth;\r\n        private int removed = 0;\r\n    \r\n        /** @param root file or a directory. If root is a file, the file will be deleted.\r\n         *            If root is a directory, the directory tree will be deleted.\r\n         * @param max_depth of directory visitor\r\n         * @param max_count of files to delete\r\n         * @throws IOException */\r\n        private FileDelete(final File root, final int max_depth, final int max_count) throws IOException {\r\n            this.root = root;\r\n            this.max_depth = max_depth;\r\n            // ---\r\n            final int count = visitRecursively(root, 0, false);\r\n            if (count &lt;= max_count) // abort criteria 2)\r\n                visitRecursively(root, 0, true);\r\n            else\r\n                throw new IOException(&quot;more files to be deleted than allowed (&quot; + max_count + &quot;&lt;=&quot; + count + &quot;) in &quot; + root);\r\n        }\r\n    \r\n        private int visitRecursively(final File file, final int depth, final boolean delete) throws IOException {\r\n            if (max_depth &lt; depth) // enforce depth limit, abort criteria 1)\r\n                throw new IOException(&quot;directory tree exceeds permitted depth&quot;);\r\n            // ---\r\n            int count = 0;\r\n            if (file.isDirectory()) // if file is a directory, recur\r\n                for (File entry : file.listFiles())\r\n                    count += visitRecursively(entry, depth + 1, delete);\r\n            ++count; // count file as visited\r\n            if (delete) {\r\n                final boolean deleted = file.delete();\r\n                if (!deleted) // abort criteria 3)\r\n                    throw new IOException(&quot;cannot delete &quot; + file.getAbsolutePath());\r\n                ++removed;\r\n            }\r\n            return count;\r\n        }\r\n    \r\n        public int deletedCount() {\r\n            return removed;\r\n        }\r\n    \r\n        public void printNotification() {\r\n            int count = deletedCount();\r\n            if (0 &lt; count)\r\n                System.out.println(&quot;deleted &quot; + count + &quot; file(s) in &quot; + root);\r\n        }\r\n    }\r\n\r\n","title":"Delete directories recursively in Java","body":"<p>i coded this routine that has 3 safety criteria for safer use.</p>\n\n<pre><code>package ch.ethz.idsc.queuey.util;\n\nimport java.io.File;\nimport java.io.IOException;\n\n/** recursive file/directory deletion\n * \n * safety from erroneous use is enhanced by three criteria\n * 1) checking the depth of the directory tree T to be deleted\n * against a permitted upper bound \"max_depth\"\n * 2) checking the number of files to be deleted #F\n * against a permitted upper bound \"max_count\"\n * 3) if deletion of a file or directory fails, the process aborts */\npublic final class FileDelete {\n    /** Example: The command\n     * FileDelete.of(new File(\"/user/name/myapp/recordings/log20171024\"), 2, 1000);\n     * deletes given directory with sub directories of depth of at most 2,\n     * and max number of total files less than 1000. No files are deleted\n     * if directory tree exceeds 2, or total of files exceed 1000.\n     * \n     * abort criteria are described at top of class\n     * \n     * @param file\n     * @param max_depth\n     * @param max_count\n     * @return\n     * @throws Exception if criteria are not met */\n    public static FileDelete of(File file, int max_depth, int max_count) throws IOException {\n        return new FileDelete(file, max_depth, max_count);\n    }\n\n    // ---\n    private final File root;\n    private final int max_depth;\n    private int removed = 0;\n\n    /** @param root file or a directory. If root is a file, the file will be deleted.\n     *            If root is a directory, the directory tree will be deleted.\n     * @param max_depth of directory visitor\n     * @param max_count of files to delete\n     * @throws IOException */\n    private FileDelete(final File root, final int max_depth, final int max_count) throws IOException {\n        this.root = root;\n        this.max_depth = max_depth;\n        // ---\n        final int count = visitRecursively(root, 0, false);\n        if (count &lt;= max_count) // abort criteria 2)\n            visitRecursively(root, 0, true);\n        else\n            throw new IOException(\"more files to be deleted than allowed (\" + max_count + \"&lt;=\" + count + \") in \" + root);\n    }\n\n    private int visitRecursively(final File file, final int depth, final boolean delete) throws IOException {\n        if (max_depth &lt; depth) // enforce depth limit, abort criteria 1)\n            throw new IOException(\"directory tree exceeds permitted depth\");\n        // ---\n        int count = 0;\n        if (file.isDirectory()) // if file is a directory, recur\n            for (File entry : file.listFiles())\n                count += visitRecursively(entry, depth + 1, delete);\n        ++count; // count file as visited\n        if (delete) {\n            final boolean deleted = file.delete();\n            if (!deleted) // abort criteria 3)\n                throw new IOException(\"cannot delete \" + file.getAbsolutePath());\n            ++removed;\n        }\n        return count;\n    }\n\n    public int deletedCount() {\n        return removed;\n    }\n\n    public void printNotification() {\n        int count = deletedCount();\n        if (0 &lt; count)\n            System.out.println(\"deleted \" + count + \" file(s) in \" + root);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1514160654,"creation_date":1514160654,"answer_id":47964817,"question_id":779519,"body_markdown":"An optimal solution that handles exception consistently with the approach that an exception thrown from a method should always describe what that method was trying (and failed) to do:\r\n\r\n    private void deleteRecursive(File f) throws Exception {\r\n        try {\r\n            if (f.isDirectory()) {\r\n                for (File c : f.listFiles()) {\r\n                    deleteRecursive(c);\r\n                }\r\n            }\r\n            if (!f.delete()) {\r\n                throw new Exception(&quot;Delete command returned false for file: &quot; + f);\r\n            }\r\n        } \r\n        catch (Exception e) {\r\n            throw new Exception(&quot;Failed to delete the folder: &quot; + f, e);\r\n        }\r\n    }\r\n","title":"Delete directories recursively in Java","body":"<p>An optimal solution that handles exception consistently with the approach that an exception thrown from a method should always describe what that method was trying (and failed) to do:</p>\n\n<pre><code>private void deleteRecursive(File f) throws Exception {\n    try {\n        if (f.isDirectory()) {\n            for (File c : f.listFiles()) {\n                deleteRecursive(c);\n            }\n        }\n        if (!f.delete()) {\n            throw new Exception(\"Delete command returned false for file: \" + f);\n        }\n    } \n    catch (Exception e) {\n        throw new Exception(\"Failed to delete the folder: \" + f, e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520686752,"creation_date":1520686752,"answer_id":49209332,"question_id":779519,"body_markdown":"Below code recursively delete all contents  in a given folder.    \r\n    \r\n    boolean deleteDirectory(File directoryToBeDeleted) {\r\n        File[] allContents = directoryToBeDeleted.listFiles();\r\n        if (allContents != null) {\r\n            for (File file : allContents) {\r\n                deleteDirectory(file);\r\n            }\r\n        }\r\n        return directoryToBeDeleted.delete();\r\n    }","title":"Delete directories recursively in Java","body":"<p>Below code recursively delete all contents  in a given folder.    </p>\n\n<pre><code>boolean deleteDirectory(File directoryToBeDeleted) {\n    File[] allContents = directoryToBeDeleted.listFiles();\n    if (allContents != null) {\n        for (File file : allContents) {\n            deleteDirectory(file);\n        }\n    }\n    return directoryToBeDeleted.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685465601,"creation_date":1571256350,"answer_id":58420953,"question_id":779519,"body_markdown":"### `rm -rf` was _much_ more performant than `FileUtils.deleteDirectory`.\r\n\r\nAfter extensive benchmarking, we found that using `rm -rf` was multiple times faster than using `FileUtils.deleteDirectory`. \r\n\r\nOf course, if you have a small or simple directory, it won&#39;t matter but in our case we had multiple gigabytes and deeply nested sub directories where it would take over 10 minutes with `FileUtils.deleteDirectory` and only 1 minute with `rm -rf`.\r\n\r\nHere&#39;s our rough Java implementation to do that: \r\n\r\n    // Delete directory given and all subdirectories and files (i.e. recursively).\r\n\t//\r\n\tstatic public boolean deleteDirectory( File file ) throws IOException, InterruptedException {\r\n\t\tif ( file.exists() ) {\r\n\t\t\tString deleteCommand = &quot;rm -rf &quot; + file.getAbsolutePath();\r\n\t\t\tRuntime runtime = Runtime.getRuntime();\r\n\r\n\t\t\tProcess process = runtime.exec( deleteCommand );\r\n\t\t\tprocess.waitFor();\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\nWorth trying if you&#39;re dealing with large or complex directories.","title":"Delete directories recursively in Java","body":"<h3><code>rm -rf</code> was <em>much</em> more performant than <code>FileUtils.deleteDirectory</code>.</h3>\n<p>After extensive benchmarking, we found that using <code>rm -rf</code> was multiple times faster than using <code>FileUtils.deleteDirectory</code>.</p>\n<p>Of course, if you have a small or simple directory, it won't matter but in our case we had multiple gigabytes and deeply nested sub directories where it would take over 10 minutes with <code>FileUtils.deleteDirectory</code> and only 1 minute with <code>rm -rf</code>.</p>\n<p>Here's our rough Java implementation to do that:</p>\n<pre><code>// Delete directory given and all subdirectories and files (i.e. recursively).\n//\nstatic public boolean deleteDirectory( File file ) throws IOException, InterruptedException {\n    if ( file.exists() ) {\n        String deleteCommand = &quot;rm -rf &quot; + file.getAbsolutePath();\n        Runtime runtime = Runtime.getRuntime();\n\n        Process process = runtime.exec( deleteCommand );\n        process.waitFor();\n\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n<p>Worth trying if you're dealing with large or complex directories.</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590826354,"creation_date":1590826354,"answer_id":62099638,"question_id":779519,"body_markdown":"[Guava](https://guava.dev) provides a one-liner: [`MoreFiles.deleteRecursively()`](https://guava.dev/releases/snapshot/api/docs/com/google/common/io/MoreFiles.html#deleteRecursively-java.nio.file.Path-com.google.common.io.RecursiveDeleteOption...-).\r\n\r\nUnlike many of the examples shared, it accounts for symbolic links and will not (by default) delete files outside the provided path.","title":"Delete directories recursively in Java","body":"<p><a href=\"https://guava.dev\" rel=\"nofollow noreferrer\">Guava</a> provides a one-liner: <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/io/MoreFiles.html#deleteRecursively-java.nio.file.Path-com.google.common.io.RecursiveDeleteOption...-\" rel=\"nofollow noreferrer\"><code>MoreFiles.deleteRecursively()</code></a>.</p>\n\n<p>Unlike many of the examples shared, it accounts for symbolic links and will not (by default) delete files outside the provided path.</p>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598427890,"creation_date":1596796512,"answer_id":63300054,"question_id":779519,"body_markdown":"// Java 8 with lambda &amp; stream, if param is directory\r\n\r\n\r\n    static boolean delRecursive(File dir) {\r\n        return Arrays.stream(dir.listFiles()).allMatch((f) -&gt; f.isDirectory() ? delRecursive(f) : f.delete()) &amp;&amp; dir.delete();\r\n    }\r\n\r\n// if param is file or directory\r\n\r\n    static boolean delRecursive(File fileOrDir) {\r\n        return fileOrDir.isDirectory() ? Arrays.stream(fileOrDir.listFiles()).allMatch((f) -&gt; delRecursive(f)) &amp;&amp; fileOrDir.delete() : fileOrDir.delete();\r\n    }\r\n","title":"Delete directories recursively in Java","body":"<p>// Java 8 with lambda &amp; stream, if param is directory</p>\n<pre><code>static boolean delRecursive(File dir) {\n    return Arrays.stream(dir.listFiles()).allMatch((f) -&gt; f.isDirectory() ? delRecursive(f) : f.delete()) &amp;&amp; dir.delete();\n}\n</code></pre>\n<p>// if param is file or directory</p>\n<pre><code>static boolean delRecursive(File fileOrDir) {\n    return fileOrDir.isDirectory() ? Arrays.stream(fileOrDir.listFiles()).allMatch((f) -&gt; delRecursive(f)) &amp;&amp; fileOrDir.delete() : fileOrDir.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628361995,"creation_date":1628361995,"answer_id":68695264,"question_id":779519,"body_markdown":"# Guava 21.0 and later\r\nThere is the `void deleteRecursively(Path path, RecursiveDeleteOption... options) throws IOException` static method of the `MoreFiles` class available since Guava 21.0.\r\n\r\nPlease, see the [Javadoc documentation](https://guava.dev/releases/23.0/api/docs/com/google/common/io/MoreFiles.html#deleteRecursively-java.nio.file.Path-com.google.common.io.RecursiveDeleteOption...-):\r\n\r\n&gt; public static&#160;void&#160;[deleteRecursively](https://guava.dev/releases/23.0/api/docs/src-html/com/google/common/io/MoreFiles.html#line.506)([Path](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html?is-external=true &quot;class or interface in java.nio.file&quot;)&#160;path,\r\n                                     [RecursiveDeleteOption](https://guava.dev/releases/23.0/api/docs/com/google/common/io/RecursiveDeleteOption.html &quot;enum in com.google.common.io&quot;)...&#160;options)\r\n                              throws [IOException](http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true &quot;class or interface in java.io&quot;)\r\n&gt;\r\n&gt; Deletes the file or directory at the given `path` recursively. Deletes symbolic links, not their targets (subject to the caveat below).\r\n&gt;\r\n&gt; If an I/O exception occurs attempting to read, open or delete any file under the given directory, this method skips that file and continues. All such exceptions are collected and, after attempting to delete all files, an `IOException` is thrown containing those exceptions as [suppressed exceptions](http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true#getSuppressed-- &quot;class or interface in java.lang&quot;).","title":"Delete directories recursively in Java","body":"<h1>Guava 21.0 and later</h1>\n<p>There is the <code>void deleteRecursively(Path path, RecursiveDeleteOption... options) throws IOException</code> static method of the <code>MoreFiles</code> class available since Guava 21.0.</p>\n<p>Please, see the <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/io/MoreFiles.html#deleteRecursively-java.nio.file.Path-com.google.common.io.RecursiveDeleteOption...-\" rel=\"nofollow noreferrer\">Javadoc documentation</a>:</p>\n<blockquote>\n<p>public static void <a href=\"https://guava.dev/releases/23.0/api/docs/src-html/com/google/common/io/MoreFiles.html#line.506\" rel=\"nofollow noreferrer\">deleteRecursively</a>(<a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html?is-external=true\" rel=\"nofollow noreferrer\" title=\"class or interface in java.nio.file\">Path</a> path,\n<a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/io/RecursiveDeleteOption.html\" rel=\"nofollow noreferrer\" title=\"enum in com.google.common.io\">RecursiveDeleteOption</a>... options)\nthrows <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true\" rel=\"nofollow noreferrer\" title=\"class or interface in java.io\">IOException</a></p>\n<p>Deletes the file or directory at the given <code>path</code> recursively. Deletes symbolic links, not their targets (subject to the caveat below).</p>\n<p>If an I/O exception occurs attempting to read, open or delete any file under the given directory, this method skips that file and continues. All such exceptions are collected and, after attempting to delete all files, an <code>IOException</code> is thrown containing those exceptions as <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true#getSuppressed--\" rel=\"nofollow noreferrer\" title=\"class or interface in java.lang\">suppressed exceptions</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":28626,"reputation":18594,"user_id":76661,"accept_rate":59,"display_name":"paweloque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288705,"favorite_count":0,"down_vote_count":1,"up_vote_count":438,"accepted_answer_id":779555,"answer_count":26,"score":437,"last_activity_date":1685465601,"creation_date":1240439142,"question_id":779519,"body_markdown":"Is there a way to delete entire directories recursively in Java?\r\n\r\nIn the normal case it is possible to delete an empty directory.\r\nHowever when it comes to deleting entire directories with contents, it is not that simple anymore.\r\n\r\nHow do you delete entire directories with contents in Java?","title":"Delete directories recursively in Java","body":"<p>Is there a way to delete entire directories recursively in Java?</p>\n\n<p>In the normal case it is possible to delete an empty directory.\nHowever when it comes to deleting entire directories with contents, it is not that simple anymore.</p>\n\n<p>How do you delete entire directories with contents in Java?</p>\n"},{"tags":["java","server","minecraft"],"answers":[{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685431320,"creation_date":1685431320,"answer_id":76362439,"question_id":76360485,"body_markdown":"Maven has a standardised project structure. You need to stick to it, to provide a correct bundled jar.\r\n```\r\n└───maven-project\r\n    ├───pom.xml\r\n    ├───README.txt\r\n    ├───NOTICE.txt\r\n    ├───LICENSE.txt\r\n    └───src\r\n        ├───main\r\n        │   ├───java\r\n        │   ├───resources\r\n        │   ├───filters\r\n        │   └───webapp\r\n        ├───test\r\n        │   ├───java\r\n        │   ├───resources\r\n        │   └───filters\r\n        ├───it\r\n        ├───site\r\n        └───assembly\r\n```\r\n(from https://www.baeldung.com/maven-directory-structure)\r\n\r\nAfter setting the project in the correct structure you can configure IntelliJ to flag the directories the right way.","title":"How can I fix &#39;ClassNotFoundException&#39; for main class in my Minecraft plugin on Intellij Idea 2023.1.2?","body":"<p>Maven has a standardised project structure. You need to stick to it, to provide a correct bundled jar.</p>\n<pre><code>└───maven-project\n    ├───pom.xml\n    ├───README.txt\n    ├───NOTICE.txt\n    ├───LICENSE.txt\n    └───src\n        ├───main\n        │   ├───java\n        │   ├───resources\n        │   ├───filters\n        │   └───webapp\n        ├───test\n        │   ├───java\n        │   ├───resources\n        │   └───filters\n        ├───it\n        ├───site\n        └───assembly\n</code></pre>\n<p>(from <a href=\"https://www.baeldung.com/maven-directory-structure\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-directory-structure</a>)</p>\n<p>After setting the project in the correct structure you can configure IntelliJ to flag the directories the right way.</p>\n"},{"tags":[],"owner":{"account_id":28705509,"reputation":1,"user_id":21981920,"display_name":"Byxis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685465338,"creation_date":1685465338,"answer_id":76366990,"question_id":76360485,"body_markdown":"After a lot of work, I decided to create another project and copy all of mine in it and it does fix all my problems.","title":"How can I fix &#39;ClassNotFoundException&#39; for main class in my Minecraft plugin on Intellij Idea 2023.1.2?","body":"<p>After a lot of work, I decided to create another project and copy all of mine in it and it does fix all my problems.</p>\n"}],"owner":{"account_id":28705509,"reputation":1,"user_id":21981920,"display_name":"Byxis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685465338,"creation_date":1685396825,"question_id":76360485,"body_markdown":"I&#39;m currently developping a Minecraft Plugin for my server but after updating my intellij Idea to 2023.1.2 Community Edition, but i could not use auto-completion or auto error detectors and my artifact was getting build even if i wrote something that shouldn&#39;t work.\r\n\r\nAfter looking on the internet, i found the solution : on the project structure, i set the src folder as a source folder.\r\n\r\nEverything was working fine but now when loading my plugin, i get this error : \r\n\r\n```\r\n22:26:09] [Server thread/ERROR]: [ModernPluginLoadingStrategy] Could not load plugin &#39;Fireland.jar&#39; in folder &#39;plugins&#39;\r\norg.bukkit.plugin.InvalidPluginException: Cannot find main class `fr.byxis.main.Main&#39;\r\n\tat org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:78) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\n\tat io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProvider.createInstance(SpigotPluginProvider.java:123) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProvider.createInstance(SpigotPluginProvider.java:35) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat io.papermc.paper.plugin.entrypoint.strategy.modern.ModernPluginLoadingStrategy.loadProviders(ModernPluginLoadingStrategy.java:116) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat io.papermc.paper.plugin.storage.SimpleProviderStorage.enter(SimpleProviderStorage.java:39) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat io.papermc.paper.plugin.manager.SingularRuntimePluginProviderStorage.enter(SingularRuntimePluginProviderStorage.java:57) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat io.papermc.paper.plugin.manager.RuntimePluginEntrypointHandler.enter(RuntimePluginEntrypointHandler.java:40) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat io.papermc.paper.plugin.manager.PaperPluginInstanceManager.loadPlugin(PaperPluginInstanceManager.java:118) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat com.rylinaux.plugman.util.PaperPluginUtil.load(PaperPluginUtil.java:407) ~[PlugManX.jar:?]\r\n\tat com.rylinaux.plugman.util.PaperPluginUtil.load(PaperPluginUtil.java:364) ~[PlugManX.jar:?]\r\n\tat com.rylinaux.plugman.util.PaperPluginUtil.reload(PaperPluginUtil.java:509) ~[PlugManX.jar:?]\r\n\tat com.rylinaux.plugman.command.ReloadCommand.execute(ReloadCommand.java:125) ~[PlugManX.jar:?]\r\n\tat com.rylinaux.plugman.PlugManCommandHandler.onCommand(PlugManCommandHandler.java:97) ~[PlugManX.jar:?]\r\n\tat org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:155) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.craftbukkit.v1_19_R3.CraftServer.dispatchCommand(CraftServer.java:906) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat org.bukkit.craftbukkit.v1_19_R3.command.BukkitCommandWrapper.run(BukkitCommandWrapper.java:64) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat com.mojang.brigadier.CommandDispatcher.execute(CommandDispatcher.java:264) ~[paper-1.19.4.jar:?]\r\n\tat net.minecraft.commands.Commands.performCommand(Commands.java:322) ~[?:?]\r\n\tat net.minecraft.commands.Commands.performCommand(Commands.java:306) ~[?:?]\r\n\tat net.minecraft.server.network.ServerGamePacketListenerImpl.performChatCommand(ServerGamePacketListenerImpl.java:2290) ~[?:?]\r\n\tat net.minecraft.server.network.ServerGamePacketListenerImpl.lambda$handleChatCommand$20(ServerGamePacketListenerImpl.java:2250) ~[?:?]\r\n\tat net.minecraft.util.thread.BlockableEventLoop.lambda$submitAsync$0(BlockableEventLoop.java:59) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]\r\n\tat net.minecraft.server.TickTask.run(TickTask.java:18) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat net.minecraft.util.thread.BlockableEventLoop.doRunTask(BlockableEventLoop.java:153) ~[?:?]\r\n\tat net.minecraft.util.thread.ReentrantBlockableEventLoop.doRunTask(ReentrantBlockableEventLoop.java:24) ~[?:?]\r\n\tat net.minecraft.server.MinecraftServer.doRunTask(MinecraftServer.java:1342) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat net.minecraft.server.MinecraftServer.d(MinecraftServer.java:197) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat net.minecraft.util.thread.BlockableEventLoop.pollTask(BlockableEventLoop.java:126) ~[?:?]\r\n\tat net.minecraft.server.MinecraftServer.pollTaskInternal(MinecraftServer.java:1319) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat net.minecraft.server.MinecraftServer.pollTask(MinecraftServer.java:1312) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat net.minecraft.util.thread.BlockableEventLoop.managedBlock(BlockableEventLoop.java:136) ~[?:?]\r\n\tat net.minecraft.server.MinecraftServer.waitUntilNextTick(MinecraftServer.java:1290) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1178) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:320) ~[paper-1.19.4.jar:git-Paper-522]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nCaused by: java.lang.ClassNotFoundException: fr.byxis.main.Main\r\n\tat org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:183) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:150) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\tat java.lang.Class.forName0(Native Method) ~[?:?]\r\n\tat java.lang.Class.forName(Class.java:467) ~[?:?]\r\n\tat org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:76) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\n\t... 40 more\r\n```\r\n\r\nI use the Plugman plugin that isn&#39;t the issue.\r\n\r\nHere is my plugin.yml \r\n\r\n```\r\nname: Fireland\r\nversion: 3.0\r\nauthor: Byxis\r\nmain: fr.byxis.main.Main\r\napi-version: 1.19\r\n...\r\n```\r\n\r\nAnd a screenshot of my project in intellij idea (i think that the problem is something about somes folders should be sources and others not etc...)\r\n\r\n![here](https://i.stack.imgur.com/sT9XO.png)\r\n\r\nThanks in advance for your help,\r\nConsider that i&#39;m still a beginner\r\n\r\nByxis\r\n\r\n\r\n\r\nI tried changing sources folders and some things like this but none of them worked.","title":"How can I fix &#39;ClassNotFoundException&#39; for main class in my Minecraft plugin on Intellij Idea 2023.1.2?","body":"<p>I'm currently developping a Minecraft Plugin for my server but after updating my intellij Idea to 2023.1.2 Community Edition, but i could not use auto-completion or auto error detectors and my artifact was getting build even if i wrote something that shouldn't work.</p>\n<p>After looking on the internet, i found the solution : on the project structure, i set the src folder as a source folder.</p>\n<p>Everything was working fine but now when loading my plugin, i get this error :</p>\n<pre><code>22:26:09] [Server thread/ERROR]: [ModernPluginLoadingStrategy] Could not load plugin 'Fireland.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: Cannot find main class `fr.byxis.main.Main'\n    at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:78) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\n    at io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProvider.createInstance(SpigotPluginProvider.java:123) ~[paper-1.19.4.jar:git-Paper-522]\n    at io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProvider.createInstance(SpigotPluginProvider.java:35) ~[paper-1.19.4.jar:git-Paper-522]\n    at io.papermc.paper.plugin.entrypoint.strategy.modern.ModernPluginLoadingStrategy.loadProviders(ModernPluginLoadingStrategy.java:116) ~[paper-1.19.4.jar:git-Paper-522]\n    at io.papermc.paper.plugin.storage.SimpleProviderStorage.enter(SimpleProviderStorage.java:39) ~[paper-1.19.4.jar:git-Paper-522]\n    at io.papermc.paper.plugin.manager.SingularRuntimePluginProviderStorage.enter(SingularRuntimePluginProviderStorage.java:57) ~[paper-1.19.4.jar:git-Paper-522]\n    at io.papermc.paper.plugin.manager.RuntimePluginEntrypointHandler.enter(RuntimePluginEntrypointHandler.java:40) ~[paper-1.19.4.jar:git-Paper-522]\n    at io.papermc.paper.plugin.manager.PaperPluginInstanceManager.loadPlugin(PaperPluginInstanceManager.java:118) ~[paper-1.19.4.jar:git-Paper-522]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at com.rylinaux.plugman.util.PaperPluginUtil.load(PaperPluginUtil.java:407) ~[PlugManX.jar:?]\n    at com.rylinaux.plugman.util.PaperPluginUtil.load(PaperPluginUtil.java:364) ~[PlugManX.jar:?]\n    at com.rylinaux.plugman.util.PaperPluginUtil.reload(PaperPluginUtil.java:509) ~[PlugManX.jar:?]\n    at com.rylinaux.plugman.command.ReloadCommand.execute(ReloadCommand.java:125) ~[PlugManX.jar:?]\n    at com.rylinaux.plugman.PlugManCommandHandler.onCommand(PlugManCommandHandler.java:97) ~[PlugManX.jar:?]\n    at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:155) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.craftbukkit.v1_19_R3.CraftServer.dispatchCommand(CraftServer.java:906) ~[paper-1.19.4.jar:git-Paper-522]\n    at org.bukkit.craftbukkit.v1_19_R3.command.BukkitCommandWrapper.run(BukkitCommandWrapper.java:64) ~[paper-1.19.4.jar:git-Paper-522]\n    at com.mojang.brigadier.CommandDispatcher.execute(CommandDispatcher.java:264) ~[paper-1.19.4.jar:?]\n    at net.minecraft.commands.Commands.performCommand(Commands.java:322) ~[?:?]\n    at net.minecraft.commands.Commands.performCommand(Commands.java:306) ~[?:?]\n    at net.minecraft.server.network.ServerGamePacketListenerImpl.performChatCommand(ServerGamePacketListenerImpl.java:2290) ~[?:?]\n    at net.minecraft.server.network.ServerGamePacketListenerImpl.lambda$handleChatCommand$20(ServerGamePacketListenerImpl.java:2250) ~[?:?]\n    at net.minecraft.util.thread.BlockableEventLoop.lambda$submitAsync$0(BlockableEventLoop.java:59) ~[?:?]\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]\n    at net.minecraft.server.TickTask.run(TickTask.java:18) ~[paper-1.19.4.jar:git-Paper-522]\n    at net.minecraft.util.thread.BlockableEventLoop.doRunTask(BlockableEventLoop.java:153) ~[?:?]\n    at net.minecraft.util.thread.ReentrantBlockableEventLoop.doRunTask(ReentrantBlockableEventLoop.java:24) ~[?:?]\n    at net.minecraft.server.MinecraftServer.doRunTask(MinecraftServer.java:1342) ~[paper-1.19.4.jar:git-Paper-522]\n    at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:197) ~[paper-1.19.4.jar:git-Paper-522]\n    at net.minecraft.util.thread.BlockableEventLoop.pollTask(BlockableEventLoop.java:126) ~[?:?]\n    at net.minecraft.server.MinecraftServer.pollTaskInternal(MinecraftServer.java:1319) ~[paper-1.19.4.jar:git-Paper-522]\n    at net.minecraft.server.MinecraftServer.pollTask(MinecraftServer.java:1312) ~[paper-1.19.4.jar:git-Paper-522]\n    at net.minecraft.util.thread.BlockableEventLoop.managedBlock(BlockableEventLoop.java:136) ~[?:?]\n    at net.minecraft.server.MinecraftServer.waitUntilNextTick(MinecraftServer.java:1290) ~[paper-1.19.4.jar:git-Paper-522]\n    at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1178) ~[paper-1.19.4.jar:git-Paper-522]\n    at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:320) ~[paper-1.19.4.jar:git-Paper-522]\n    at java.lang.Thread.run(Thread.java:833) ~[?:?]\nCaused by: java.lang.ClassNotFoundException: fr.byxis.main.Main\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:183) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:150) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at java.lang.Class.forName0(Native Method) ~[?:?]\n    at java.lang.Class.forName(Class.java:467) ~[?:?]\n    at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:76) ~[paper-api-1.19.4-R0.1-SNAPSHOT.jar:?]\n    ... 40 more\n</code></pre>\n<p>I use the Plugman plugin that isn't the issue.</p>\n<p>Here is my plugin.yml</p>\n<pre><code>name: Fireland\nversion: 3.0\nauthor: Byxis\nmain: fr.byxis.main.Main\napi-version: 1.19\n...\n</code></pre>\n<p>And a screenshot of my project in intellij idea (i think that the problem is something about somes folders should be sources and others not etc...)</p>\n<p><img src=\"https://i.stack.imgur.com/sT9XO.png\" alt=\"here\" /></p>\n<p>Thanks in advance for your help,\nConsider that i'm still a beginner</p>\n<p>Byxis</p>\n<p>I tried changing sources folders and some things like this but none of them worked.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685523552,"post_id":76366948,"comment_id":134670727,"body_markdown":"Maybe the removed page had resources that are also used by other pages, e.g. fonts, images, etc.","body":"Maybe the removed page had resources that are also used by other pages, e.g. fonts, images, etc."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685530758,"post_id":76366948,"comment_id":134672159,"body_markdown":"The page is still connected to the parent document so you need to detach it before adding it to the original document. Call: `page.setDocument(null);\nwithNewPage.removePage(page);`","body":"The page is still connected to the parent document so you need to detach it before adding it to the original document. Call: <code>page.setDocument(null); withNewPage.removePage(page);</code>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685531052,"post_id":76366948,"comment_id":134672219,"body_markdown":"@Lonzak PDPage doesn&#39;t have a setDocument() method","body":"@Lonzak PDPage doesn&#39;t have a setDocument() method"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685538362,"post_id":76366948,"comment_id":134674010,"body_markdown":"@TilmanHausherr You are right. Couldn&#39;t one could create a new page by copying the data over from the page: `PDPage pageNew = new PDPage();\n  pageNew.setContents(page.getContents());\n  pageNew.setResources(page.getResources());\n  pageNew.setAnnotations(page.getAnnotations());\n  pageNew.set...(); withNewPage.removePage(page); \n  original.addPage(pageNew);`","body":"@TilmanHausherr You are right. Couldn&#39;t one could create a new page by copying the data over from the page: <code>PDPage pageNew = new PDPage();   pageNew.setContents(page.getContents());   pageNew.setResources(page.getResources());   pageNew.setAnnotations(page.getAnnotations());   pageNew.set...(); withNewPage.removePage(page);    original.addPage(pageNew);</code>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1685540066,"post_id":76366948,"comment_id":134674414,"body_markdown":"You&#39;re still copying pointers to resources. Only cloning would solve this, but this would bloat the result files (I think we had this for a while) if several pages share the same resources. The best is not to overthink this, and close all files only when all is done and not early.","body":"You&#39;re still copying pointers to resources. Only cloning would solve this, but this would bloat the result files (I think we had this for a while) if several pages share the same resources. The best is not to overthink this, and close all files only when all is done and not early."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1685545806,"post_id":76366948,"comment_id":134675987,"body_markdown":"@TilmanHausherr That&#39;s what I&#39;m doing now, but it makes it difficult-to-impractical to use a functional approach to composing the documents.","body":"@TilmanHausherr That&#39;s what I&#39;m doing now, but it makes it difficult-to-impractical to use a functional approach to composing the documents."}],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685464892,"creation_date":1685464892,"question_id":76366948,"body_markdown":"I am trying to render and attach a new page to an existing PDF:\r\n\r\n```\r\nPDDocument withNewPage = renderNewPage();\r\nwithNewPage.getPages().forEach(page -&gt; {\r\n  markNeedToBeUpdated( // https://stackoverflow.com/a/56038907/1189885\r\n      page,\r\n      page.getResources(),\r\n      page.getResources().getCOSObject().getDictionary(COSName.XOBJECT)\r\n  );\r\n\r\n  withNewPage.removePage(page);\r\n  original.addPage(page);\r\n});\r\n```\r\n\r\nThis code works, but I get a finalizer warning because I forgot to close `withNewPage`. I added `withNewPage.close()` after this snippet, but now when I try to export the `original` to bytes I get the following exception:\r\n\r\n```\r\njava.io.IOException: COSStream has been closed and cannot be read. Perhaps its enclosing PDDocument has been closed?\r\n\tat org.apache.pdfbox.cos.COSStream.checkClosed(COSStream.java:83)\r\n\tat org.apache.pdfbox.cos.COSStream.createRawInputStream(COSStream.java:133)\r\n\tat org.apache.pdfbox.pdfwriter.COSWriter.visitFromStream(COSWriter.java:1288)\r\n\tat org.apache.pdfbox.cos.COSStream.accept(COSStream.java:416)\r\n\tat org.apache.pdfbox.pdfwriter.COSWriter.doWriteObject(COSWriter.java:570)\r\n\tat org.apache.pdfbox.pdfwriter.COSWriter.doWriteObjects(COSWriter.java:496)\r\n\tat org.apache.pdfbox.pdfwriter.COSWriter.doWriteBody(COSWriter.java:480)\r\n\tat org.apache.pdfbox.pdfwriter.COSWriter.visitFromDocument(COSWriter.java:1182)\r\n\tat org.apache.pdfbox.cos.COSDocument.accept(COSDocument.java:452)\r\n\tat org.apache.pdfbox.pdfwriter.COSWriter.write(COSWriter.java:1455)\r\n\tat org.apache.pdfbox.pdmodel.PDDocument.saveIncremental(PDDocument.java:1421)\r\n```\r\n\r\nI&#39;ve debugged the `close` call, and the new page itself does not appear in the list of items closed by `withNewPage.close()`, though some `COSStream` objects do.\r\n\r\nWhy does calling `removePage` not prevent the page (or its stream?) from being closed along with the document it no longer belongs to, and how can I get this merge accomplished cleanly?\r\n\r\nI have seen [this question](https://stackoverflow.com/a/57268163/1189885) regarding this error, but I expected my code to work because I am _removing_ the page from the rendered document. Additionally, the documentation for `importPage` says specifically that it should not be applied to generated documents such as this one. I tried it anyway, and I still got the same exception.","title":"Why is my PDPage closed after removing it from its original PDDocument?","body":"<p>I am trying to render and attach a new page to an existing PDF:</p>\n<pre><code>PDDocument withNewPage = renderNewPage();\nwithNewPage.getPages().forEach(page -&gt; {\n  markNeedToBeUpdated( // https://stackoverflow.com/a/56038907/1189885\n      page,\n      page.getResources(),\n      page.getResources().getCOSObject().getDictionary(COSName.XOBJECT)\n  );\n\n  withNewPage.removePage(page);\n  original.addPage(page);\n});\n</code></pre>\n<p>This code works, but I get a finalizer warning because I forgot to close <code>withNewPage</code>. I added <code>withNewPage.close()</code> after this snippet, but now when I try to export the <code>original</code> to bytes I get the following exception:</p>\n<pre><code>java.io.IOException: COSStream has been closed and cannot be read. Perhaps its enclosing PDDocument has been closed?\n    at org.apache.pdfbox.cos.COSStream.checkClosed(COSStream.java:83)\n    at org.apache.pdfbox.cos.COSStream.createRawInputStream(COSStream.java:133)\n    at org.apache.pdfbox.pdfwriter.COSWriter.visitFromStream(COSWriter.java:1288)\n    at org.apache.pdfbox.cos.COSStream.accept(COSStream.java:416)\n    at org.apache.pdfbox.pdfwriter.COSWriter.doWriteObject(COSWriter.java:570)\n    at org.apache.pdfbox.pdfwriter.COSWriter.doWriteObjects(COSWriter.java:496)\n    at org.apache.pdfbox.pdfwriter.COSWriter.doWriteBody(COSWriter.java:480)\n    at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDocument(COSWriter.java:1182)\n    at org.apache.pdfbox.cos.COSDocument.accept(COSDocument.java:452)\n    at org.apache.pdfbox.pdfwriter.COSWriter.write(COSWriter.java:1455)\n    at org.apache.pdfbox.pdmodel.PDDocument.saveIncremental(PDDocument.java:1421)\n</code></pre>\n<p>I've debugged the <code>close</code> call, and the new page itself does not appear in the list of items closed by <code>withNewPage.close()</code>, though some <code>COSStream</code> objects do.</p>\n<p>Why does calling <code>removePage</code> not prevent the page (or its stream?) from being closed along with the document it no longer belongs to, and how can I get this merge accomplished cleanly?</p>\n<p>I have seen <a href=\"https://stackoverflow.com/a/57268163/1189885\">this question</a> regarding this error, but I expected my code to work because I am <em>removing</em> the page from the rendered document. Additionally, the documentation for <code>importPage</code> says specifically that it should not be applied to generated documents such as this one. I tried it anyway, and I still got the same exception.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685445288,"post_id":76364207,"comment_id":134657680,"body_markdown":"Have you tried sending the request without the userId param?","body":"Have you tried sending the request without the userId param?"},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1685455738,"post_id":76364207,"comment_id":134660348,"body_markdown":"@juanlumn Yes I tried sending it without an userId, still no difference.","body":"@juanlumn Yes I tried sending it without an userId, still no difference."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1685566606,"post_id":76364207,"comment_id":134680087,"body_markdown":"@user17341714 Where is your `EnableWebSecuriy` annotation?","body":"@user17341714 Where is your <code>EnableWebSecuriy</code> annotation?"}],"answers":[{"tags":[],"owner":{"account_id":24650033,"reputation":1,"user_id":18547235,"display_name":"Mytthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685445418,"creation_date":1685445418,"answer_id":76364238,"question_id":76364207,"body_markdown":"You are sending &quot;text&quot;, maybe try to change it to &quot;JSON&quot; here:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0dGvF.png","title":"Postman request not being updated in database","body":"<p>You are sending &quot;text&quot;, maybe try to change it to &quot;JSON&quot; here:\n<a href=\"https://i.stack.imgur.com/0dGvF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":14614817,"reputation":1,"user_id":10555219,"display_name":"Luciana M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685445554,"creation_date":1685445554,"answer_id":76364257,"question_id":76364207,"body_markdown":"403 Forbidden indicates Authentication was successful (otherwise would return 401 unauthorized) but the authenticated user does not have access to the resource, I hope it&#39;s useful someway. ","title":"Postman request not being updated in database","body":"<p>403 Forbidden indicates Authentication was successful (otherwise would return 401 unauthorized) but the authenticated user does not have access to the resource, I hope it's useful someway.</p>\n"}],"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685464473,"creation_date":1685445148,"question_id":76364207,"body_markdown":"I been following this yt tutorial on building a twitter backend spring boot project. When I try making an api call in postman, its showing me the 403 error. Can anyone help me?\r\n\r\n   ```\r\nEntity class:\r\n\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\npublic class ApplicationUser {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;user_id&quot;)\r\n    private Integer userId;\r\n    \r\n    @Column(name=&quot;first_name&quot;)\r\n    private String firstName;\r\n    \r\n    @Column(name=&quot;last_name&quot;)\r\n    private String lastName;\r\n    \r\n    @Column(unique = true)\r\n    private String email;\r\n    \r\n    private String phone;\r\n    \r\n    @Column(name=&quot;dob&quot;)\r\n    private Date dateOfBirth;\r\n    \r\n    @Column(unique = true)\r\n    private String userName;\r\n    \r\n    @JsonIgnore\r\n    //@JsonIgnore is used at field level to mark a property or list of properties to be ignored.\r\n    private String password;\r\n    \r\n    @ManyToMany(fetch=FetchType.EAGER)\r\n    @JoinTable(\r\n            name=&quot;user_role_junction&quot;,\r\n            joinColumns = {@JoinColumn(name=&quot;user_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name=&quot;role_id&quot;)}\r\n    )\r\n    private Set&lt;Role&gt; authorities;\r\n\r\n    public Integer getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(Integer userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n\r\n    public Date getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(Date dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Set&lt;Role&gt; getAuthorities() {\r\n        return authorities;\r\n    }\r\n\r\n    public void setAuthorities(Set&lt;Role&gt; authorities) {\r\n        this.authorities = authorities;\r\n    }\r\n\r\n    public ApplicationUser(){\r\n        this.authorities=new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ApplicationUser{&quot; +\r\n                &quot;userId=&quot; + userId +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, phone=&#39;&quot; + phone + &#39;\\&#39;&#39; +\r\n                &quot;, dateOfBirth=&quot; + dateOfBirth +\r\n                &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &quot;, authorities=&quot; + authorities +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nSecurity Config class for granting permissions (although I suspect something wrong in this)\r\n```\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        return http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth -&gt; auth.anyRequest().permitAll())\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nService class:\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\nprivate final UserRepository userRepo;\r\nprivate final RoleRepository roleRepo;\r\n\r\n\r\n@Autowired\r\n    public UserService(UserRepository userRepo,RoleRepository roleRepo){\r\n    this.userRepo=userRepo;\r\n    this.roleRepo=roleRepo;\r\n}\r\n\r\n    public ApplicationUser registerUser(ApplicationUser user){\r\n        Set&lt;Role&gt; roles=user.getAuthorities();\r\n        roles.add(roleRepo.findByAuthority(&quot;USER&quot;).get());\r\n        roles.add(roleRepo.findByAuthority(&quot;ADMIN&quot;).get()) ;\r\n        user.setAuthorities(roles);\r\n        return userRepo.save(user);\r\n    }\r\n\r\n}\r\n```\r\nController\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthenticationController {\r\n\r\n    private final UserService userService;\r\n    \r\n    @Autowired\r\n    public AuthenticationController(UserService userService){\r\n        this.userService=userService;\r\n    }\r\n    \r\n    //goes to http://localhost:8000/auth/register\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ApplicationUser registerUser(@RequestBody ApplicationUser user){\r\n         userService.registerUser(user);\r\n         return user;\r\n    }\r\n    \r\n\r\n}\r\n\r\n```\r\nSS of postman req\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s5WNP.png\r\n\r\nIdk why the postman request is being reflected in the spring boot console but not in the database. How do I make it to save the postman request to the database?\r\n","title":"Postman request not being updated in database","body":"<p>I been following this yt tutorial on building a twitter backend spring boot project. When I try making an api call in postman, its showing me the 403 error. Can anyone help me?</p>\n<pre><code>Entity class:\n\n@Entity\n@Table(name=&quot;users&quot;)\npublic class ApplicationUser {\n \n @Id\n @GeneratedValue(strategy = GenerationType.AUTO)\n @Column(name=&quot;user_id&quot;)\n private Integer userId;\n \n @Column(name=&quot;first_name&quot;)\n private String firstName;\n \n @Column(name=&quot;last_name&quot;)\n private String lastName;\n \n @Column(unique = true)\n private String email;\n \n private String phone;\n \n @Column(name=&quot;dob&quot;)\n private Date dateOfBirth;\n \n @Column(unique = true)\n private String userName;\n \n @JsonIgnore\n //@JsonIgnore is used at field level to mark a property or list of properties to be ignored.\n private String password;\n \n @ManyToMany(fetch=FetchType.EAGER)\n @JoinTable(\n         name=&quot;user_role_junction&quot;,\n         joinColumns = {@JoinColumn(name=&quot;user_id&quot;)},\n         inverseJoinColumns = {@JoinColumn(name=&quot;role_id&quot;)}\n )\n private Set&lt;Role&gt; authorities;\n\n public Integer getUserId() {\n     return userId;\n }\n\n public void setUserId(Integer userId) {\n     this.userId = userId;\n }\n\n public String getFirstName() {\n     return firstName;\n }\n\n public void setFirstName(String firstName) {\n     this.firstName = firstName;\n }\n\n public String getLastName() {\n     return lastName;\n }\n\n public void setLastName(String lastName) {\n     this.lastName = lastName;\n }\n\n public String getEmail() {\n     return email;\n }\n\n public void setEmail(String email) {\n     this.email = email;\n }\n\n public String getPhone() {\n     return phone;\n }\n\n public void setPhone(String phone) {\n     this.phone = phone;\n }\n\n public Date getDateOfBirth() {\n     return dateOfBirth;\n }\n\n public void setDateOfBirth(Date dateOfBirth) {\n     this.dateOfBirth = dateOfBirth;\n }\n\n public String getUserName() {\n     return userName;\n }\n\n public void setUserName(String userName) {\n     this.userName = userName;\n }\n\n public String getPassword() {\n     return password;\n }\n\n public void setPassword(String password) {\n     this.password = password;\n }\n\n public Set&lt;Role&gt; getAuthorities() {\n     return authorities;\n }\n\n public void setAuthorities(Set&lt;Role&gt; authorities) {\n     this.authorities = authorities;\n }\n\n public ApplicationUser(){\n     this.authorities=new HashSet&lt;&gt;();\n }\n\n @Override\n public String toString() {\n     return &quot;ApplicationUser{&quot; +\n             &quot;userId=&quot; + userId +\n             &quot;, firstName='&quot; + firstName + '\\'' +\n             &quot;, lastName='&quot; + lastName + '\\'' +\n             &quot;, email='&quot; + email + '\\'' +\n             &quot;, phone='&quot; + phone + '\\'' +\n             &quot;, dateOfBirth=&quot; + dateOfBirth +\n             &quot;, userName='&quot; + userName + '\\'' +\n             &quot;, password='&quot; + password + '\\'' +\n             &quot;, authorities=&quot; + authorities +\n             '}';\n }\n}\n</code></pre>\n<p>Security Config class for granting permissions (although I suspect something wrong in this)</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        return http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(auth -&gt; auth.anyRequest().permitAll())\n                .build();\n    }\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Service\npublic class UserService {\n\nprivate final UserRepository userRepo;\nprivate final RoleRepository roleRepo;\n\n\n@Autowired\n    public UserService(UserRepository userRepo,RoleRepository roleRepo){\n    this.userRepo=userRepo;\n    this.roleRepo=roleRepo;\n}\n\n    public ApplicationUser registerUser(ApplicationUser user){\n        Set&lt;Role&gt; roles=user.getAuthorities();\n        roles.add(roleRepo.findByAuthority(&quot;USER&quot;).get());\n        roles.add(roleRepo.findByAuthority(&quot;ADMIN&quot;).get()) ;\n        user.setAuthorities(roles);\n        return userRepo.save(user);\n    }\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthenticationController {\n\n    private final UserService userService;\n    \n    @Autowired\n    public AuthenticationController(UserService userService){\n        this.userService=userService;\n    }\n    \n    //goes to http://localhost:8000/auth/register\n    @PostMapping(&quot;/register&quot;)\n    public ApplicationUser registerUser(@RequestBody ApplicationUser user){\n         userService.registerUser(user);\n         return user;\n    }\n    \n\n}\n\n</code></pre>\n<p>SS of postman req\n<a href=\"https://i.stack.imgur.com/s5WNP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s5WNP.png\" alt=\"enter image description here\" /></a></p>\n<p>Idk why the postman request is being reflected in the spring boot console but not in the database. How do I make it to save the postman request to the database?</p>\n"},{"tags":["java","singleton"],"comments":[{"owner":{"account_id":173890,"reputation":30412,"user_id":402884,"accept_rate":75,"display_name":"Chris Martin"},"score":13,"creation_date":1407874324,"post_id":25273210,"comment_id":39382075,"body_markdown":"The quote isn&#39;t about testing the singleton, it&#39;s about testing code that uses the singleton.","body":"The quote isn&#39;t about testing the singleton, it&#39;s about testing code that uses the singleton."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1407874327,"post_id":25273210,"comment_id":39382078,"body_markdown":"Now do you test _the client_? In a **unit** test you need to mock dependencies and test only the CUT. How do you do this when the client uses a hardcoded reference to `Singleton.INSTANCE`?","body":"Now do you test <i>the client</i>? In a <b>unit</b> test you need to mock dependencies and test only the CUT. How do you do this when the client uses a hardcoded reference to <code>Singleton.INSTANCE</code>?"},{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":1,"creation_date":1407875155,"post_id":25273210,"comment_id":39382463,"body_markdown":"This actually is true for `static`s in general (that is, anything accessed in a static manner)","body":"This actually is true for <code>static</code>s in general (that is, anything accessed in a static manner)"},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":1,"creation_date":1407875564,"post_id":25273210,"comment_id":39382653,"body_markdown":"Since nowadays a singleton gets injected and is not accessed in a static manner, do not try too hard on this statement.","body":"Since nowadays a singleton gets injected and is not accessed in a static manner, do not try too hard on this statement."}],"answers":[{"tags":[],"owner":{"account_id":944628,"reputation":5058,"user_id":972121,"accept_rate":71,"display_name":"mclaassen"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1407875761,"creation_date":1407874356,"answer_id":25273286,"question_id":25273210,"body_markdown":"What if  your singleton was performing operations on a database or writing data to a file? You would not want that occurring in a unit test. You would want to mock out the object to perform some operations in memory instead so you could verify them without having permanent side effects. Unit tests should be self contained and should not create connections to databases or perform other operations with outside systems that could fail and then cause your unit test to fail for an unrelated reason. \r\n\r\nExample with pseudo-java (I&#39;m a C# dev):\r\n\r\n    public class MySingleton {\r\n    \r\n    \tprivate static final MySingleton instance = new MySingleton();\r\n    \t\r\n    \tprivate MySingleton() { }\r\n    \t\r\n    \tpublic int doSomething() {\r\n    \t\t//create connection to database, write to a file, etc..\r\n    \t\treturn something;\r\n    \t}\r\n\r\n    \tpublic static MySingleton getInstance() {\r\n    \t\treturn instance;\r\n    \t}\r\n    }\r\n        \r\n    public class OtherClass {\r\n    \t\r\n            public int myMethod() {\r\n                //do some stuff\r\n                int result = MySingleton.getInstance().doSomething();\r\n    \t\t\t\r\n                //do some other suff\r\n                return something;\r\n            }\r\n    }\r\n    \r\nIn order to test `myMethod` we have to make an actual database call, file operation etc\r\n\r\n\r\n    @Test\r\n    public void testMyMethod() {\r\n        OtherClass obj = new OtherClass();\r\n        \r\n        //if this fails it might be because of some external code called by \r\n        //MySingleton.doSomething(), not necessarily the logic inside MyMethod()\r\n\r\n        Asserts.assertEqual(1, obj.myMethod());\r\n    }\r\n\r\nIf `MySingleton` was instead something like:\r\n\r\n    public class MyNonSingleton implements ISomeInterface {\r\n\r\n        public MyNonSingleton() {}\r\n\r\n        @Override\r\n        public int doSomething() {\r\n            //create connection to database, write to a file, etc..\r\n            return something;\r\n        }\r\n\r\n    }\r\n\r\nyou could then inject it as a dependency into MyOtherClass like this:\r\n\r\n    public class OtherClass {\r\n\r\n        private ISomeInterface obj;\r\n\r\n        public OtherClass(ISomeInterface obj) {\r\n            this.obj = obj;\r\n        }\r\n\r\n        public int myMethod() {\r\n            //do some stuff\r\n            int result = obj.doSomething();\r\n\r\n            //do some other stuff\r\n            return something;\r\n        }\r\n    }\r\n    \r\nthen you can test like this:\r\n\r\n    @Test\r\n    public void TestMyMethod() {\r\n        OtherClass obj = new OtherClass(new MockNonSingleton());\r\n        \r\n        //now our mock object can fake the database, filesystem etc. calls to isolate the testing to just the logic in myMethod()\r\n\r\n        Asserts.assertEqual(1, obj.myMethod());\r\n    }\r\n\r\n   ","title":"Why is a singleton class hard to test?","body":"<p>What if  your singleton was performing operations on a database or writing data to a file? You would not want that occurring in a unit test. You would want to mock out the object to perform some operations in memory instead so you could verify them without having permanent side effects. Unit tests should be self contained and should not create connections to databases or perform other operations with outside systems that could fail and then cause your unit test to fail for an unrelated reason. </p>\n\n<p>Example with pseudo-java (I'm a C# dev):</p>\n\n<pre><code>public class MySingleton {\n\n    private static final MySingleton instance = new MySingleton();\n\n    private MySingleton() { }\n\n    public int doSomething() {\n        //create connection to database, write to a file, etc..\n        return something;\n    }\n\n    public static MySingleton getInstance() {\n        return instance;\n    }\n}\n\npublic class OtherClass {\n\n        public int myMethod() {\n            //do some stuff\n            int result = MySingleton.getInstance().doSomething();\n\n            //do some other suff\n            return something;\n        }\n}\n</code></pre>\n\n<p>In order to test <code>myMethod</code> we have to make an actual database call, file operation etc</p>\n\n<pre><code>@Test\npublic void testMyMethod() {\n    OtherClass obj = new OtherClass();\n\n    //if this fails it might be because of some external code called by \n    //MySingleton.doSomething(), not necessarily the logic inside MyMethod()\n\n    Asserts.assertEqual(1, obj.myMethod());\n}\n</code></pre>\n\n<p>If <code>MySingleton</code> was instead something like:</p>\n\n<pre><code>public class MyNonSingleton implements ISomeInterface {\n\n    public MyNonSingleton() {}\n\n    @Override\n    public int doSomething() {\n        //create connection to database, write to a file, etc..\n        return something;\n    }\n\n}\n</code></pre>\n\n<p>you could then inject it as a dependency into MyOtherClass like this:</p>\n\n<pre><code>public class OtherClass {\n\n    private ISomeInterface obj;\n\n    public OtherClass(ISomeInterface obj) {\n        this.obj = obj;\n    }\n\n    public int myMethod() {\n        //do some stuff\n        int result = obj.doSomething();\n\n        //do some other stuff\n        return something;\n    }\n}\n</code></pre>\n\n<p>then you can test like this:</p>\n\n<pre><code>@Test\npublic void TestMyMethod() {\n    OtherClass obj = new OtherClass(new MockNonSingleton());\n\n    //now our mock object can fake the database, filesystem etc. calls to isolate the testing to just the logic in myMethod()\n\n    Asserts.assertEqual(1, obj.myMethod());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1843186,"reputation":1464,"user_id":1672165,"accept_rate":67,"display_name":"lot"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548678362,"creation_date":1548678362,"answer_id":54402013,"question_id":25273210,"body_markdown":"Personally I think this statement is totally **wrong**, because it assumes that singleton is not replacable (mockable) for unit tests. On the contrary. In Spring&#39;s dependency injection, for example, singleton is actually the default model for DI components. Singletons and dependency injection are not mutually exclusive, which statement above somehow tries to imply.\r\n\r\nI agree that anything that can&#39;t be mocked makes application more difficult to test, but **there is no reason to assume singletons are less mockable than any other objects in your application**.\r\n\r\nWhat might be the problem, is the fact that singleton is one global instance and when it can be in too many different states, unit tests might show unpredictable results because of changing state of the singleton. But there are simple solutions to this - mock your singleton and make your mock to have less states. Or write your tests in such a fashion, that singleton is recreated (or reinitialized) before each unit test that depends on it. Or, the best solution, test your application for all possible states of the singleton. Ultimately, if reality requires multiple states, like, for example, a database connection (disconnected/connecting/connected/error/...), then you will have to deal with it regardless of whether you use singletons or not.","title":"Why is a singleton class hard to test?","body":"<p>Personally I think this statement is totally <strong>wrong</strong>, because it assumes that singleton is not replacable (mockable) for unit tests. On the contrary. In Spring's dependency injection, for example, singleton is actually the default model for DI components. Singletons and dependency injection are not mutually exclusive, which statement above somehow tries to imply.</p>\n\n<p>I agree that anything that can't be mocked makes application more difficult to test, but <strong>there is no reason to assume singletons are less mockable than any other objects in your application</strong>.</p>\n\n<p>What might be the problem, is the fact that singleton is one global instance and when it can be in too many different states, unit tests might show unpredictable results because of changing state of the singleton. But there are simple solutions to this - mock your singleton and make your mock to have less states. Or write your tests in such a fashion, that singleton is recreated (or reinitialized) before each unit test that depends on it. Or, the best solution, test your application for all possible states of the singleton. Ultimately, if reality requires multiple states, like, for example, a database connection (disconnected/connecting/connected/error/...), then you will have to deal with it regardless of whether you use singletons or not.</p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641891476,"creation_date":1641777873,"answer_id":70646894,"question_id":25273210,"body_markdown":"# Impossible to substitute a mock implementation for a singleton\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.Mockito;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    public class Main {\r\n        @Test\r\n        void test(){\r\n            SpellChecker s = Mockito.mock(SpellChecker.class); //IMPOSSIBLE\r\n            when(s.check(any())).thenReturn(false);\r\n            Client c = new Client(s);\r\n            assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\r\n        }\r\n    }\r\n    \r\n    class SpellChecker{\r\n        private static final SpellChecker INSTANCE = new SpellChecker();\r\n        private SpellChecker(){throw new AssertionError();}\r\n        public boolean check(String word){return true;}\r\n        public static SpellChecker getInstance(){return INSTANCE;}\r\n    }\r\n    \r\n    class Client{\r\n        private SpellChecker s;\r\n        Client(SpellChecker s){this.s=s;}\r\n        boolean check(String str){return s.check(str);}\r\n    }\r\n\r\n# unless it implements an interface that serves as its type.\r\n\r\n    public class Main {\r\n        @Test\r\n        void test(){\r\n            SpellCheckerI s = Mockito.mock(SpellCheckerI.class); //POSSIBLE\r\n            when(s.check(any())).thenReturn(false);\r\n            Client c = new Client(s);\r\n            assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\r\n        }\r\n    }\r\n    \r\n    interface SpellCheckerI{boolean check(String word);}\r\n    \r\n    class SpellChecker implements SpellCheckerI{\r\n        private static final SpellChecker INSTANCE = new SpellChecker();\r\n        private SpellChecker(){throw new AssertionError();}\r\n        @Override public boolean check(String word){return true;}\r\n        public static SpellChecker getInstance(){return INSTANCE;}\r\n    }\r\n    \r\n    class Client{\r\n        private SpellCheckerI s;\r\n        Client(SpellCheckerI s){this.s=s;}\r\n        boolean check(String str){return s.check(str);}\r\n    }\r\n\r\nP.S You might want to check out [this](https://mattcarroll.medium.com/singletons-the-safe-way-9d1e019220fc) wonderful post too. Btw, the unit test state danger is not a great example(it&#39;s not a **unit** test), but getting the point is more important.","title":"Why is a singleton class hard to test?","body":"<h1>Impossible to substitute a mock implementation for a singleton</h1>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\n\npublic class Main {\n    @Test\n    void test(){\n        SpellChecker s = Mockito.mock(SpellChecker.class); //IMPOSSIBLE\n        when(s.check(any())).thenReturn(false);\n        Client c = new Client(s);\n        assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\n    }\n}\n\nclass SpellChecker{\n    private static final SpellChecker INSTANCE = new SpellChecker();\n    private SpellChecker(){throw new AssertionError();}\n    public boolean check(String word){return true;}\n    public static SpellChecker getInstance(){return INSTANCE;}\n}\n\nclass Client{\n    private SpellChecker s;\n    Client(SpellChecker s){this.s=s;}\n    boolean check(String str){return s.check(str);}\n}\n</code></pre>\n<h1>unless it implements an interface that serves as its type.</h1>\n<pre><code>public class Main {\n    @Test\n    void test(){\n        SpellCheckerI s = Mockito.mock(SpellCheckerI.class); //POSSIBLE\n        when(s.check(any())).thenReturn(false);\n        Client c = new Client(s);\n        assertThat(c.check(&quot;abc&quot;)).isEqualTo(false);\n    }\n}\n\ninterface SpellCheckerI{boolean check(String word);}\n\nclass SpellChecker implements SpellCheckerI{\n    private static final SpellChecker INSTANCE = new SpellChecker();\n    private SpellChecker(){throw new AssertionError();}\n    @Override public boolean check(String word){return true;}\n    public static SpellChecker getInstance(){return INSTANCE;}\n}\n\nclass Client{\n    private SpellCheckerI s;\n    Client(SpellCheckerI s){this.s=s;}\n    boolean check(String str){return s.check(str);}\n}\n</code></pre>\n<p>P.S You might want to check out <a href=\"https://mattcarroll.medium.com/singletons-the-safe-way-9d1e019220fc\" rel=\"nofollow noreferrer\">this</a> wonderful post too. Btw, the unit test state danger is not a great example(it's not a <strong>unit</strong> test), but getting the point is more important.</p>\n"},{"tags":[],"owner":{"account_id":4983383,"reputation":301,"user_id":4007690,"display_name":"Komoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685462484,"creation_date":1685462484,"answer_id":76366640,"question_id":25273210,"body_markdown":" You can actually substitute a mocked implementation for a singleton if you wanted to\r\n\r\n    import static org.mockito.Mockito.mockConstruction;\r\n    \r\n    try (MockedConstruction&lt;SpellChecker&gt; mocked = mockConstruction(SpellChecker.class,\r\n        \t\t(mock, context) -&gt; {\r\n        \t\t   // other mock and when-thenReturn constructs\r\n        \r\n        \t\t})) {\r\n        \r\n        \t// assertions here\r\n        }","title":"Why is a singleton class hard to test?","body":"<p>You can actually substitute a mocked implementation for a singleton if you wanted to</p>\n<pre><code>import static org.mockito.Mockito.mockConstruction;\n\ntry (MockedConstruction&lt;SpellChecker&gt; mocked = mockConstruction(SpellChecker.class,\n            (mock, context) -&gt; {\n               // other mock and when-thenReturn constructs\n    \n            })) {\n    \n        // assertions here\n    }\n</code></pre>\n"}],"owner":{"account_id":4641941,"reputation":9377,"user_id":3761530,"accept_rate":100,"display_name":"coder123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8661,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":25273286,"answer_count":4,"score":19,"last_activity_date":1685462484,"creation_date":1407874123,"question_id":25273210,"body_markdown":"**Effective Java** Item 3 (Enforce the singleton property with a private constructor or an enum type) notes that:\r\n\r\n&gt; Making a class a singleton can make it difficult to test its clients, as it&#39;s impossible to substitute a mock implementation for a singleton unless it implements an interface that serves as its type.\r\n\r\nFor testing purposes, why is it not sufficient to instantiate the one singleton instance and test its APIs? Isn&#39;t that what a client would be consuming? The quote seems to imply that testing the singleton would involve a &quot;mock implementation,&quot; but why is that necessary?\r\n\r\nI&#39;ve seen various &quot;explanations&quot; that are more or less rephrasings of the quote above. Can someone explain this further, preferably with a code example?\r\n","title":"Why is a singleton class hard to test?","body":"<p><strong>Effective Java</strong> Item 3 (Enforce the singleton property with a private constructor or an enum type) notes that:</p>\n\n<blockquote>\n  <p>Making a class a singleton can make it difficult to test its clients, as it's impossible to substitute a mock implementation for a singleton unless it implements an interface that serves as its type.</p>\n</blockquote>\n\n<p>For testing purposes, why is it not sufficient to instantiate the one singleton instance and test its APIs? Isn't that what a client would be consuming? The quote seems to imply that testing the singleton would involve a \"mock implementation,\" but why is that necessary?</p>\n\n<p>I've seen various \"explanations\" that are more or less rephrasings of the quote above. Can someone explain this further, preferably with a code example?</p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684861137,"creation_date":1684861137,"answer_id":76317105,"question_id":76316398,"body_markdown":"You&#39;re inflating a layout (`custome_layout.xml`) and setting a click listener on its `TextView`, but you&#39;re not actually displaying that inflated layout - so the user can&#39;t click on it!\r\n\r\nI&#39;m guessing you actually want to set the click listener on the `Button` in `activity_layout`:\r\n\r\n````\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    // inflate and display the main activity layout\r\n    setContentView(R.layout.activity_layout);\r\n\r\n    // find the button on the displayed layout\r\n    Button button = findViewById(R.id.button5);\r\n    \r\n    // set a click listener on it\r\n    button.setOnClickListener(new OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            // call openNewLayout or whatever\r\n        }\r\n    };\r\n}\r\n````\r\n\r\n----\r\n\r\nA problem here is you&#39;re using `setContentView` with layout resource IDs, like `setContentView(R.layout.activity_layout)`. That takes the XML file, *inflates* its layout (i.e. creates the `View` objects described in the XML file and connects them up), and finally displays that final hierarchy of `View` objects.\r\n\r\nWhen you find `button` and set a click listener on it, *you&#39;re setting it on that specific `View` object*. If you call `setContentView(R.layout.activity_layout)` again (like in your &#39;back&#39; function) then *it inflates a new set of `View` objects*. The `Button` with the `button5` ID **won&#39;t have a click listener set on it** until you set it up again, because it&#39;s a completely new object.\r\n\r\n----\r\n\r\nYou have two options here. You can manually inflate each view hierarchy and store them (like you&#39;re doing with `R.layout.custome_layout` in `onCreate`) and then call `setContentView(view1)` etc, i.e. passing *a set of `Views` for display*. That way, since you&#39;re using the same objects, any click listeners will still be set.\r\n\r\nThe other option is to do what you&#39;re doing, and call `setContentView(R.layout.activity_layout)`, but run your setup code (adding click listeners etc) every time you call it - you&#39;re inflating new objects, so you need to set them up every time. The easiest way to do that would be creating a method like `showMainLayout()` that has the `setContentView` and `setOnClickListener` code, and call that when you want to display that layout.\r\n\r\nOr you could use `Fragment`s and just swap between those - this kind of thing is a big part of what they&#39;re for.","title":"&quot;setOnClickListener&quot; methode doesn&#39;t work on custom layout file set by &quot;setContentView&quot;","body":"<p>You're inflating a layout (<code>custome_layout.xml</code>) and setting a click listener on its <code>TextView</code>, but you're not actually displaying that inflated layout - so the user can't click on it!</p>\n<p>I'm guessing you actually want to set the click listener on the <code>Button</code> in <code>activity_layout</code>:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // inflate and display the main activity layout\n    setContentView(R.layout.activity_layout);\n\n    // find the button on the displayed layout\n    Button button = findViewById(R.id.button5);\n    \n    // set a click listener on it\n    button.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // call openNewLayout or whatever\n        }\n    };\n}\n</code></pre>\n<hr />\n<p>A problem here is you're using <code>setContentView</code> with layout resource IDs, like <code>setContentView(R.layout.activity_layout)</code>. That takes the XML file, <em>inflates</em> its layout (i.e. creates the <code>View</code> objects described in the XML file and connects them up), and finally displays that final hierarchy of <code>View</code> objects.</p>\n<p>When you find <code>button</code> and set a click listener on it, <em>you're setting it on that specific <code>View</code> object</em>. If you call <code>setContentView(R.layout.activity_layout)</code> again (like in your 'back' function) then <em>it inflates a new set of <code>View</code> objects</em>. The <code>Button</code> with the <code>button5</code> ID <strong>won't have a click listener set on it</strong> until you set it up again, because it's a completely new object.</p>\n<hr />\n<p>You have two options here. You can manually inflate each view hierarchy and store them (like you're doing with <code>R.layout.custome_layout</code> in <code>onCreate</code>) and then call <code>setContentView(view1)</code> etc, i.e. passing <em>a set of <code>Views</code> for display</em>. That way, since you're using the same objects, any click listeners will still be set.</p>\n<p>The other option is to do what you're doing, and call <code>setContentView(R.layout.activity_layout)</code>, but run your setup code (adding click listeners etc) every time you call it - you're inflating new objects, so you need to set them up every time. The easiest way to do that would be creating a method like <code>showMainLayout()</code> that has the <code>setContentView</code> and <code>setOnClickListener</code> code, and call that when you want to display that layout.</p>\n<p>Or you could use <code>Fragment</code>s and just swap between those - this kind of thing is a big part of what they're for.</p>\n"},{"tags":[],"owner":{"account_id":19012104,"reputation":19,"user_id":13877835,"display_name":"Isuru Thiwanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685462369,"creation_date":1685462369,"answer_id":76366630,"question_id":76316398,"body_markdown":"Solution : Here we need to store customer layouts in &quot;View&quot; objects in &quot;oncreate()&quot; method. Then set new layout using &quot;setContentView()&quot; method like\r\n\r\n    setContentView(view);\r\n\r\nThen initiate a child object on the view like `textview = view.findViewById(R.id.id_of_element);`\r\n\r\nthen set the &quot;setOnClickListener&quot; on that element ..\r\nIt works..","title":"&quot;setOnClickListener&quot; methode doesn&#39;t work on custom layout file set by &quot;setContentView&quot;","body":"<p>Solution : Here we need to store customer layouts in &quot;View&quot; objects in &quot;oncreate()&quot; method. Then set new layout using &quot;setContentView()&quot; method like</p>\n<pre><code>setContentView(view);\n</code></pre>\n<p>Then initiate a child object on the view like <code>textview = view.findViewById(R.id.id_of_element);</code></p>\n<p>then set the &quot;setOnClickListener&quot; on that element ..\nIt works..</p>\n"}],"owner":{"account_id":19012104,"reputation":19,"user_id":13877835,"display_name":"Isuru Thiwanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76317105,"answer_count":2,"score":-1,"last_activity_date":1685462369,"creation_date":1684855742,"question_id":76316398,"body_markdown":"# OnClickListener does not work on custom imported views using &quot;setContentView&quot;\r\n\r\nThe android app has activity and its activit_layout. Then I placed three button on activity_layout and set &quot;onclicklistener&quot; for each buttons in order to open different custom views. Each button set specific layout file for the activity using &quot;setContentView&quot; methode inside &quot;onclicklistener&quot; methode and they work well. Then, those each custom layouts have sperate textview on them. Once agian, I want set &quot;setOnClickListener&quot; for these each textviews that are on custom layout files, seperatelty and perform different tasks. Thing is when I click on the textview, nothing happens at all. I have no idea about weather text is recognized or &quot;onclicklistener&quot; methode doesn&#39;t work. \r\nHere I&#39;m attaching my code file below.\r\n\r\nActivity java file :-\r\n\r\n```\r\n\r\n\r\npublic class beverbs extends AppCompatActivity\r\n{\r\n    private int layout = 0; // interger for custom layout file\r\n    TextView text1;  // textview is on the custom layoutfile\r\n    View view1;   // custom Layout file\r\n\r\n    @SuppressLint(&quot;InflateParams&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_layout);\r\n\r\n\r\n        view1 = LayoutInflater.from(getBaseContext()).inflate(R.layout.custome_layout,null);\r\n\r\n        text1 = view1.findViewById(R.id.textView12);\r\n\r\n        text1.setOnClickListener(new OnClickListener()   // this part does not work\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                // do something\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void open_new_layout(View view)  // onclick methode  \r\n    {\r\n        layout = 1;\r\n        setContentView(R.layout.custome_layout);  // button on main layout set  custom layout the activity \r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        if (layout==1)\r\n        {\r\n            layout = 0;\r\n            setContentView(R.layout.activity_layout);  // set original layout again\r\n        }\r\n        else\r\n        {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nActivity XML file :-\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;open_new_layout&quot;\r\n        android:text=&quot;Open Layout&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nCustom layout XML file:-\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView12&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Perform Task&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nPls anyone help me with this weather there&#39;s another way to do my task.\r\n\r\n\r\n\r\nI dug the internet for any solution but got nothing regarding with this.","title":"&quot;setOnClickListener&quot; methode doesn&#39;t work on custom layout file set by &quot;setContentView&quot;","body":"<h1>OnClickListener does not work on custom imported views using &quot;setContentView&quot;</h1>\n<p>The android app has activity and its activit_layout. Then I placed three button on activity_layout and set &quot;onclicklistener&quot; for each buttons in order to open different custom views. Each button set specific layout file for the activity using &quot;setContentView&quot; methode inside &quot;onclicklistener&quot; methode and they work well. Then, those each custom layouts have sperate textview on them. Once agian, I want set &quot;setOnClickListener&quot; for these each textviews that are on custom layout files, seperatelty and perform different tasks. Thing is when I click on the textview, nothing happens at all. I have no idea about weather text is recognized or &quot;onclicklistener&quot; methode doesn't work.\nHere I'm attaching my code file below.</p>\n<p>Activity java file :-</p>\n<pre><code>\n\npublic class beverbs extends AppCompatActivity\n{\n    private int layout = 0; // interger for custom layout file\n    TextView text1;  // textview is on the custom layoutfile\n    View view1;   // custom Layout file\n\n    @SuppressLint(&quot;InflateParams&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_layout);\n\n\n        view1 = LayoutInflater.from(getBaseContext()).inflate(R.layout.custome_layout,null);\n\n        text1 = view1.findViewById(R.id.textView12);\n\n        text1.setOnClickListener(new OnClickListener()   // this part does not work\n        {\n            @Override\n            public void onClick(View view)\n            {\n                // do something\n            }\n        });\n\n    }\n\n    public void open_new_layout(View view)  // onclick methode  \n    {\n        layout = 1;\n        setContentView(R.layout.custome_layout);  // button on main layout set  custom layout the activity \n    }\n\n    @Override\n    public void onBackPressed()\n    {\n        if (layout==1)\n        {\n            layout = 0;\n            setContentView(R.layout.activity_layout);  // set original layout again\n        }\n        else\n        {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>Activity XML file :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;open_new_layout&quot;\n        android:text=&quot;Open Layout&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Custom layout XML file:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView12&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Perform Task&quot;\n        android:textSize=&quot;34sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Pls anyone help me with this weather there's another way to do my task.</p>\n<p>I dug the internet for any solution but got nothing regarding with this.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api","jaas","sasl"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685445939,"post_id":76363602,"comment_id":134657823,"body_markdown":"Did you try debugging what actually is in your config map? Or why do you even need a map? `spring.bootstrap.kafka` is the wrong property prefix. It&#39;s just `spring.kafka...` https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties And the classname must be fully qualified","body":"Did you try debugging what actually is in your config map? Or why do you even need a map? <code>spring.bootstrap.kafka</code> is the wrong property prefix. It&#39;s just <code>spring.kafka...</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> And the classname must be fully qualified"},{"owner":{"account_id":22619864,"reputation":25,"user_id":16798848,"display_name":"Javier Decena Castillo"},"score":0,"creation_date":1685446397,"post_id":76363602,"comment_id":134657941,"body_markdown":"spring.bootstrap.kafka is just the name of the property i set up in my app.properties nothing default from kafka docs. And i debug it printing whats inside jass config when hardcoding it and when using it with env variables and the output is the same. But it doesnt work","body":"spring.bootstrap.kafka is just the name of the property i set up in my app.properties nothing default from kafka docs. And i debug it printing whats inside jass config when hardcoding it and when using it with env variables and the output is the same. But it doesnt work"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685460388,"post_id":76363602,"comment_id":134661517,"body_markdown":"&quot;bootstrap&quot; is only used for bootstrap-servers. I suggest you stick with actual Spring Boot variables, rather than remap them to something else. It&#39;ll help debug the issue better for others. Please [edit] to show with the working config and the output logs for `ProducerConfig` on both working and non-working instances","body":"&quot;bootstrap&quot; is only used for bootstrap-servers. I suggest you stick with actual Spring Boot variables, rather than remap them to something else. It&#39;ll help debug the issue better for others. Please <a href=\"https://stackoverflow.com/posts/76363602/edit\">edit</a> to show with the working config and the output logs for <code>ProducerConfig</code> on both working and non-working instances"}],"answers":[{"tags":[],"owner":{"account_id":22619864,"reputation":25,"user_id":16798848,"display_name":"Javier Decena Castillo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685461725,"creation_date":1685461725,"answer_id":76366551,"question_id":76363602,"body_markdown":"I solved it changing this line:\r\n\r\n`configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\r\n     &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password\r\n     ));`\r\n\r\nfor this one:\r\n         \r\n\r\n`configProps.put(&quot;sasl.jaas.config&quot;,String.format(&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;%s\\&quot; password=\\&quot;%s\\&quot;;&quot;,username, password));`\r\n\r\n","title":"Configure kafka producer SASL_JAAS_CONFIG error when using env variables","body":"<p>I solved it changing this line:</p>\n<p><code>configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format( &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password ));</code></p>\n<p>for this one:</p>\n<p><code>configProps.put(&quot;sasl.jaas.config&quot;,String.format(&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;%s\\&quot; password=\\&quot;%s\\&quot;;&quot;,username, password));</code></p>\n"}],"owner":{"account_id":22619864,"reputation":25,"user_id":16798848,"display_name":"Javier Decena Castillo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76366551,"answer_count":1,"score":0,"last_activity_date":1685461725,"creation_date":1685440168,"question_id":76363602,"body_markdown":"Hello i have the following config to produce to topic with spring batch app:\r\n\r\n            Map&lt;String,Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServers);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,JsonSerializer.class);\r\n        configProps.put(ProducerConfig.MAX_BLOCK_MS_CONFIG,10000);\r\n        configProps.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,6000);\r\n        configProps.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG,8000);\r\n        configProps.put(ProducerConfig.RETRIES_CONFIG,0);\r\n         configProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\r\n         configProps.put(SaslConfigs.SASL_MECHANISM, &quot;PLAIN&quot;);\r\n         configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\r\n         &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), &quot;UYDUEWWU27LFC2CJ&quot;, &quot;yqBcf5BM4rd3X273OsaB6/n7/kuxmRG39+Fr3nVuOdXI/RZ/sM9E6hpqmaAPxCbC&quot;\r\n         ));\r\n\r\nThis works fine, but when i try to get the env variables for username and password in SASL JAAS CONFIG like i do with bootstrap server:\r\n\r\n        String username = env.getProperty(&quot;spring.bootstrap.kafka.username&quot;);\r\n    String password = env.getProperty(&quot;spring.bootstrap.kafka.password&quot;);\r\n         configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\r\n         &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password\r\n         ));\r\n\r\nIt give me the error for authentication failed when sending the object to the kafka topic even its says that the login was succesfull. I have verified that the content of each string format is the same with log. How is that possible?\r\n\r\nThanks","title":"Configure kafka producer SASL_JAAS_CONFIG error when using env variables","body":"<p>Hello i have the following config to produce to topic with spring batch app:</p>\n<pre><code>        Map&lt;String,Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServers);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,JsonSerializer.class);\n    configProps.put(ProducerConfig.MAX_BLOCK_MS_CONFIG,10000);\n    configProps.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,6000);\n    configProps.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG,8000);\n    configProps.put(ProducerConfig.RETRIES_CONFIG,0);\n     configProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\n     configProps.put(SaslConfigs.SASL_MECHANISM, &quot;PLAIN&quot;);\n     configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\n     &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), &quot;UYDUEWWU27LFC2CJ&quot;, &quot;yqBcf5BM4rd3X273OsaB6/n7/kuxmRG39+Fr3nVuOdXI/RZ/sM9E6hpqmaAPxCbC&quot;\n     ));\n</code></pre>\n<p>This works fine, but when i try to get the env variables for username and password in SASL JAAS CONFIG like i do with bootstrap server:</p>\n<pre><code>    String username = env.getProperty(&quot;spring.bootstrap.kafka.username&quot;);\nString password = env.getProperty(&quot;spring.bootstrap.kafka.password&quot;);\n     configProps.put(SaslConfigs.SASL_JAAS_CONFIG, String.format(\n     &quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), username, password\n     ));\n</code></pre>\n<p>It give me the error for authentication failed when sending the object to the kafka topic even its says that the login was succesfull. I have verified that the content of each string format is the same with log. How is that possible?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1685470852,"post_id":76366521,"comment_id":134663784,"body_markdown":"The `logoutSuccessUrl` has to be an existing endpoint. However, you could also set a custom [`LogoutSuccessHandler`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/logout/LogoutSuccessHandler.htm)","body":"The <code>logoutSuccessUrl</code> has to be an existing endpoint. However, you could also set a custom <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/logout/LogoutSuccessHandler.htm\" rel=\"nofollow noreferrer\"><code>LogoutSuccessHandler</code></a>"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685483033,"answer_count":0,"score":0,"last_activity_date":1685461477,"creation_date":1685461477,"question_id":76366521,"body_markdown":"I am battling against Spring Security logout. I have to mention that I am not the sharpest tool in the shed when it comes to Spring Security, and especially combined with Azure AD.\r\n\r\nI have a `SecurityFilterChain` configuration looking like this:\r\n\r\n    @Bean\r\n    fun securityFilterChain(http: HttpSecurity): SecurityFilterChain {\r\n        http\r\n            .httpBasic()\r\n            .disable()\r\n            .csrf()\r\n            .disable()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .logout()\r\n            .logoutSuccessUrl(&quot;/logout&quot;)\r\n            .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\r\n            .clearAuthentication(true)\r\n            .and()\r\n            .oauth2ResourceServer { oauth2Configurer: OAuth2ResourceServerConfigurer&lt;HttpSecurity?&gt; -&gt;\r\n                oauth2Configurer.jwt()\r\n            }.authorizeRequests { auth -&gt;\r\n                auth.antMatchers(\r\n                    &quot;/actuator/**&quot;,\r\n                    &quot;/swagger-ui.html&quot;,\r\n                    &quot;/swagger-ui/**&quot;,\r\n                    &quot;/v3/api-docs/**&quot;,\r\n                )\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n            }.oauth2Client()\r\n        return http.build()\r\n    }\r\n\r\nI am specifically talking about this part:\r\n\r\n     .and()\r\n     .logout()\r\n     .logoutSuccessUrl(&quot;/logout&quot;)\r\n     .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\r\n     .clearAuthentication(true)\r\n\r\nWhen I shot a `POST /logout` to the controller, I get a `404` response and an exception caught by a `@ExceptionHandler`:\r\n\r\n    {\r\n    \t&quot;requestUri&quot;: &quot;/login&quot;,\r\n    \t&quot;status&quot;: 404,\r\n    \t&quot;statusText&quot;: &quot;Not Found&quot;,\r\n    \t&quot;createdAt&quot;: &quot;2023-05-30T18:23:45.59681+03:00&quot;,\r\n    \t&quot;errorMessage&quot;: &quot;No handler found for GET /login&quot;\r\n    }\r\n\r\nand a bit of the stacktrace:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name\r\n&gt; &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;:\r\n&gt; Unsatisfied dependency expressed through method &#39;setFilterChains&#39;\r\n&gt; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;securityFilterChain&#39; defined in class path\r\n&gt; resource\r\n&gt; [fi/vr/fleetcare/varpubff/config/SecurityConfiguration.class]: Bean\r\n&gt; instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [org.springframework.security.web.SecurityFilterChain]:\r\n&gt; Factory method &#39;securityFilterChain&#39; threw exception; nested exception\r\n&gt; is java.lang.IllegalArgumentException: defaultTarget must start with\r\n&gt; &#39;/&#39; or with &#39;http(s)&#39;\r\n\r\n\r\nAs I am not using Spring WebMvc (at least directly) but the software I&#39;m developing is just a Backend-For-Frontend for an Android application.\r\n\r\nSo my question is: Is it possible to somehow skip, disable or properly configure that `logoutSuccessUrl`, so the user gets logged out without throwing an exception?\r\n\r\nOr is my approach completely wrong and I should do this completely different?","title":"Spring Security, Azure AD and logout functionality - is it possible to logout without redirection that leads to 404?","body":"<p>I am battling against Spring Security logout. I have to mention that I am not the sharpest tool in the shed when it comes to Spring Security, and especially combined with Azure AD.</p>\n<p>I have a <code>SecurityFilterChain</code> configuration looking like this:</p>\n<pre><code>@Bean\nfun securityFilterChain(http: HttpSecurity): SecurityFilterChain {\n    http\n        .httpBasic()\n        .disable()\n        .csrf()\n        .disable()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .logout()\n        .logoutSuccessUrl(&quot;/logout&quot;)\n        .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\n        .clearAuthentication(true)\n        .and()\n        .oauth2ResourceServer { oauth2Configurer: OAuth2ResourceServerConfigurer&lt;HttpSecurity?&gt; -&gt;\n            oauth2Configurer.jwt()\n        }.authorizeRequests { auth -&gt;\n            auth.antMatchers(\n                &quot;/actuator/**&quot;,\n                &quot;/swagger-ui.html&quot;,\n                &quot;/swagger-ui/**&quot;,\n                &quot;/v3/api-docs/**&quot;,\n            )\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n        }.oauth2Client()\n    return http.build()\n}\n</code></pre>\n<p>I am specifically talking about this part:</p>\n<pre><code> .and()\n .logout()\n .logoutSuccessUrl(&quot;/logout&quot;)\n .logoutRequestMatcher(AntPathRequestMatcher(&quot;/logout&quot;))\n .clearAuthentication(true)\n</code></pre>\n<p>When I shot a <code>POST /logout</code> to the controller, I get a <code>404</code> response and an exception caught by a <code>@ExceptionHandler</code>:</p>\n<pre><code>{\n    &quot;requestUri&quot;: &quot;/login&quot;,\n    &quot;status&quot;: 404,\n    &quot;statusText&quot;: &quot;Not Found&quot;,\n    &quot;createdAt&quot;: &quot;2023-05-30T18:23:45.59681+03:00&quot;,\n    &quot;errorMessage&quot;: &quot;No handler found for GET /login&quot;\n}\n</code></pre>\n<p>and a bit of the stacktrace:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name\n'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration':\nUnsatisfied dependency expressed through method 'setFilterChains'\nparameter 0; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'securityFilterChain' defined in class path\nresource\n[fi/vr/fleetcare/varpubff/config/SecurityConfiguration.class]: Bean\ninstantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [org.springframework.security.web.SecurityFilterChain]:\nFactory method 'securityFilterChain' threw exception; nested exception\nis java.lang.IllegalArgumentException: defaultTarget must start with\n'/' or with 'http(s)'</p>\n</blockquote>\n<p>As I am not using Spring WebMvc (at least directly) but the software I'm developing is just a Backend-For-Frontend for an Android application.</p>\n<p>So my question is: Is it possible to somehow skip, disable or properly configure that <code>logoutSuccessUrl</code>, so the user gets logged out without throwing an exception?</p>\n<p>Or is my approach completely wrong and I should do this completely different?</p>\n"},{"tags":["java","rest","web-applications","pom.xml"],"comments":[{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1685461548,"post_id":76366475,"comment_id":134661796,"body_markdown":"It may be due to servlet from the javax.servlet package to the new jakarata.servlet. Please update javax.servlet.jsp and javax.servlet-api to jakarta one&#39;s and try. Then subsequently in your WebappConfig &amp;  AppInitializer update the imports. Try clean build, think should be okay. Thankyou","body":"It may be due to servlet from the javax.servlet package to the new jakarata.servlet. Please update javax.servlet.jsp and javax.servlet-api to jakarta one&#39;s and try. Then subsequently in your WebappConfig &amp;  AppInitializer update the imports. Try clean build, think should be okay. Thankyou"},{"owner":{"account_id":28235830,"reputation":11,"user_id":21584318,"display_name":"DDC"},"score":0,"creation_date":1685462589,"post_id":76366475,"comment_id":134662050,"body_markdown":"Ok work! But all import in my servlet have a error... I change import in jackarta but dont work. In browser error 404.","body":"Ok work! But all import in my servlet have a error... I change import in jackarta but dont work. In browser error 404."}],"owner":{"account_id":28235830,"reputation":11,"user_id":21584318,"display_name":"DDC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685461447,"creation_date":1685461117,"question_id":76366475,"body_markdown":"I have a problem with change my pom. The project now is with servlet and JSP and now i need REST API.\r\nI change my POM: \r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;templateGestionale&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;templateGestionale&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- mysql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.24&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Oracle --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;18.3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Hibernate --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- jsp-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- jstl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- risolve errore web.xml mancante --&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- imposta versione Java --&gt;\r\n\t\t\t\t\t&lt;source&gt;18&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;18&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nAnd i create a package &quot;config&quot; with: \r\n\r\nWebAppConfig: \r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\nimport org.springframework.web.servlet.view.JstlView;\r\n\r\n@EnableWebMvc\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;controller&quot;)\r\npublic class WebAppConfig implements WebMvcConfigurer {\r\n\t@Bean\r\n\tpublic ViewResolver vResolver() {\r\n\t\tInternalResourceViewResolver viewRes = new InternalResourceViewResolver();\r\n\t\tviewRes.setPrefix(&quot;/WEB-INF/view&quot;);\r\n\t\tviewRes.setSuffix(&quot;.jsp&quot;);\r\n\t\tviewRes.setViewClass(JstlView.class);\r\n\t\treturn viewRes;\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/res/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nand AppInizializer, but dont work, \r\nerror in package config &quot;Multiple markers at this line\r\n\t- The type jakarta.servlet.ServletContext cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer\r\n\t- The type jakarta.servlet.ServletException cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer&quot;: \r\n```\r\npackage config;\r\n\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.servlet.FrameworkServlet;\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer{\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\t\r\n\t\treturn new Class&lt;?&gt;[] {WebAppConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\t\r\n\t\treturn new String[] {&quot;/&quot;};\r\n\t}\r\n\t@Override\r\n\tprotected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\t\t\r\n\t\treturn super.createDispatcherServlet(servletAppContext);\r\n\t}\r\n}\r\n```\r\n How to resolve? Thanks\r\n\r\nI think the error lies in the dependencies of the pom","title":"Is pom or AppInitializer error dependency?","body":"<p>I have a problem with change my pom. The project now is with servlet and JSP and now i need REST API.\nI change my POM:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;templateGestionale&lt;/groupId&gt;\n    &lt;artifactId&gt;templateGestionale&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- mysql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Oracle --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;18.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jsp-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- risolve errore web.xml mancante --&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- imposta versione Java --&gt;\n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>And i create a package &quot;config&quot; with:</p>\n<p>WebAppConfig:</p>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\n\n@EnableWebMvc\n@Configuration\n@ComponentScan(basePackages = &quot;controller&quot;)\npublic class WebAppConfig implements WebMvcConfigurer {\n    @Bean\n    public ViewResolver vResolver() {\n        InternalResourceViewResolver viewRes = new InternalResourceViewResolver();\n        viewRes.setPrefix(&quot;/WEB-INF/view&quot;);\n        viewRes.setSuffix(&quot;.jsp&quot;);\n        viewRes.setViewClass(JstlView.class);\n        return viewRes;\n\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/res/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n\n    }\n\n}\n</code></pre>\n<p>and AppInizializer, but dont work,\nerror in package config &quot;Multiple markers at this line\n- The type jakarta.servlet.ServletContext cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer\n- The type jakarta.servlet.ServletException cannot be resolved. It is indirectly referenced from required type org.springframework.web.context.AbstractContextLoaderInitializer&quot;:</p>\n<pre><code>package config;\n\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.FrameworkServlet;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer{\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        \n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        \n        return new Class&lt;?&gt;[] {WebAppConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        \n        return new String[] {&quot;/&quot;};\n    }\n    @Override\n    protected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {       \n        return super.createDispatcherServlet(servletAppContext);\n    }\n}\n</code></pre>\n<p>How to resolve? Thanks</p>\n<p>I think the error lies in the dependencies of the pom</p>\n"},{"tags":["java","maven","apache-spark","intellij-idea","junit"],"comments":[{"owner":{"account_id":10985164,"reputation":770,"user_id":8071124,"display_name":"srikanth holur"},"score":0,"creation_date":1685512288,"post_id":76366510,"comment_id":134668550,"body_markdown":"Check if you have set correct SDK in intellij.\nFile&gt;Project Structure&gt;Project&gt;SDK","body":"Check if you have set correct SDK in intellij. File&gt;Project Structure&gt;Project&gt;SDK"},{"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"score":0,"creation_date":1685514848,"post_id":76366510,"comment_id":134668912,"body_markdown":"I used the right SDK, i have more than 200 tests, also some including spark that all pass, except for 2","body":"I used the right SDK, i have more than 200 tests, also some including spark that all pass, except for 2"}],"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685461382,"creation_date":1685461382,"question_id":76366510,"body_markdown":"When I using the maven panel in Intellij to launch all the test, I get some spark test falling with this a basic wintutils related problem : \r\n\r\nterminated with exception: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nif I launch the whole class or the failled test with Intellij, the test pass:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut if I launch the selected class with maven it pass too: \r\n\r\n[![enter image description here][3]][3]\r\n\r\nMy goal was to test a listener implementation:\r\n\r\n    @Test\r\n    public void simpleStreamingListenerMemoryStreaming() {\r\n        SparkContext sc = new SparkContext(&quot;local[1]&quot;, &quot;test&quot;);\r\n        SparkSession ss = new SparkSession(sc);\r\n        StreamingListenerImpl listener = new StreamingListenerImpl(jobConfig);\r\n        ss.streams().addListener(listener);\r\n        ss.sparkContext().env().metricsSystem().registerSource(listener);\r\n    \r\n        StructField[] kafkaStructFields1 = new StructField[]{\r\n                new StructField(&quot;key&quot;, DataTypes.StringType, true, Metadata.empty()),\r\n                new StructField(&quot;value&quot;, DataTypes.StringType, true, Metadata.empty()),\r\n        };\r\n    \r\n        StructType kafkaStreamSchema = new StructType(kafkaStructFields1);\r\n    \r\n        MemoryStream&lt;Row&gt; input = new MemoryStream&lt;&gt;(1, ss.sqlContext(), RowEncoder.apply(kafkaStreamSchema));\r\n        Dataset&lt;Row&gt; inputDS = input.toDS();\r\n    \r\n        StreamingQuery streamingQuery = inputDS\r\n                .writeStream()\r\n                .format(&quot;console&quot;)\r\n                .queryName(&quot;testMemoryStream&quot;)\r\n                .outputMode(&quot;append&quot;)\r\n                .start();\r\n    \r\n        List&lt;Row&gt; values = new ArrayList&lt;&gt;();\r\n        values.add(RowFactory.create(&quot;key1&quot;, &quot;value1&quot;));\r\n    \r\n        input.addData(JavaConverters.asScalaIteratorConverter(values.iterator()).asScala().toSeq());\r\n    \r\n        streamingQuery.processAllAvailable();\r\n        streamingQuery.stop();\r\n    \r\n    }\r\n\r\nEven without creating a new SparkSession i get this problem. \r\n\r\n  [1]: https://i.stack.imgur.com/AwZp8.png\r\n  [2]: https://i.stack.imgur.com/dgKxv.png\r\n  [3]: https://i.stack.imgur.com/7FAYl.png","title":"spark test fail with maven but success with Intellij due to winutils","body":"<p>When I using the maven panel in Intellij to launch all the test, I get some spark test falling with this a basic wintutils related problem :</p>\n<p>terminated with exception: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z</p>\n<p><a href=\"https://i.stack.imgur.com/AwZp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AwZp8.png\" alt=\"enter image description here\" /></a></p>\n<p>if I launch the whole class or the failled test with Intellij, the test pass:</p>\n<p><a href=\"https://i.stack.imgur.com/dgKxv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dgKxv.png\" alt=\"enter image description here\" /></a></p>\n<p>but if I launch the selected class with maven it pass too:</p>\n<p><a href=\"https://i.stack.imgur.com/7FAYl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7FAYl.png\" alt=\"enter image description here\" /></a></p>\n<p>My goal was to test a listener implementation:</p>\n<pre><code>@Test\npublic void simpleStreamingListenerMemoryStreaming() {\n    SparkContext sc = new SparkContext(&quot;local[1]&quot;, &quot;test&quot;);\n    SparkSession ss = new SparkSession(sc);\n    StreamingListenerImpl listener = new StreamingListenerImpl(jobConfig);\n    ss.streams().addListener(listener);\n    ss.sparkContext().env().metricsSystem().registerSource(listener);\n\n    StructField[] kafkaStructFields1 = new StructField[]{\n            new StructField(&quot;key&quot;, DataTypes.StringType, true, Metadata.empty()),\n            new StructField(&quot;value&quot;, DataTypes.StringType, true, Metadata.empty()),\n    };\n\n    StructType kafkaStreamSchema = new StructType(kafkaStructFields1);\n\n    MemoryStream&lt;Row&gt; input = new MemoryStream&lt;&gt;(1, ss.sqlContext(), RowEncoder.apply(kafkaStreamSchema));\n    Dataset&lt;Row&gt; inputDS = input.toDS();\n\n    StreamingQuery streamingQuery = inputDS\n            .writeStream()\n            .format(&quot;console&quot;)\n            .queryName(&quot;testMemoryStream&quot;)\n            .outputMode(&quot;append&quot;)\n            .start();\n\n    List&lt;Row&gt; values = new ArrayList&lt;&gt;();\n    values.add(RowFactory.create(&quot;key1&quot;, &quot;value1&quot;));\n\n    input.addData(JavaConverters.asScalaIteratorConverter(values.iterator()).asScala().toSeq());\n\n    streamingQuery.processAllAvailable();\n    streamingQuery.stop();\n\n}\n</code></pre>\n<p>Even without creating a new SparkSession i get this problem.</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":23589346,"reputation":649,"user_id":17627350,"display_name":"codename_duchess"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660682764,"creation_date":1660682764,"answer_id":73380130,"question_id":73380034,"body_markdown":"Probably the easiest way to achieve this is to [create the customer object manually][1] prior to creating the checkout session. This way you can easily link the customer in your database with the Stripe Customer object. You can then [pass in this Customer object&#39;s ID when creating the checkout session][2].\r\n\r\n\r\n  [1]: https://stripe.com/docs/api/customers/create\r\n  [2]: https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-customer","title":"Stripe Webhook: How to link Stripe customer to my customer?","body":"<p>Probably the easiest way to achieve this is to <a href=\"https://stripe.com/docs/api/customers/create\" rel=\"nofollow noreferrer\">create the customer object manually</a> prior to creating the checkout session. This way you can easily link the customer in your database with the Stripe Customer object. You can then <a href=\"https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-customer\" rel=\"nofollow noreferrer\">pass in this Customer object's ID when creating the checkout session</a>.</p>\n"},{"tags":[],"owner":{"account_id":389113,"reputation":21,"user_id":4626818,"display_name":"Peter Nees"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685461089,"creation_date":1685461089,"answer_id":76366469,"question_id":73380034,"body_markdown":"But that means creating a stripe account for all my users. 99% does not take a paying subscription..\r\n","title":"Stripe Webhook: How to link Stripe customer to my customer?","body":"<p>But that means creating a stripe account for all my users. 99% does not take a paying subscription..</p>\n"}],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73380130,"answer_count":2,"score":0,"last_activity_date":1685461089,"creation_date":1660682168,"question_id":73380034,"body_markdown":"I&#39;m using Stripe&#39;s Webhook to set up a Checkout session to be notified about important events.\r\n\r\nI create a Session and redirect client to subscribe to a plan successfully. And I get events in my webhook, including &quot;customer.created&quot; which has information about a Stripe customer.\r\n\r\nHow can I link this Strip&#39;s Customer object to my internal customer? I can specify some metadata and cient_reference_id when I create a session but they are not accessible during &quot;customer.created&quot; event.","title":"Stripe Webhook: How to link Stripe customer to my customer?","body":"<p>I'm using Stripe's Webhook to set up a Checkout session to be notified about important events.</p>\n<p>I create a Session and redirect client to subscribe to a plan successfully. And I get events in my webhook, including &quot;customer.created&quot; which has information about a Stripe customer.</p>\n<p>How can I link this Strip's Customer object to my internal customer? I can specify some metadata and cient_reference_id when I create a session but they are not accessible during &quot;customer.created&quot; event.</p>\n"},{"tags":["java","jersey","glassfish"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685313409,"post_id":76353635,"comment_id":134640424,"body_markdown":"I cannot recreate your problem. Can you show us a POM and some code which are a [mre]?","body":"I cannot recreate your problem. Can you show us a POM and some code which are a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1685313422,"post_id":76353635,"comment_id":134640426,"body_markdown":"For your reference I am using v3.1.0 of `jakarta.ws.rs-api`. And I am using v3.1.1 of `jersey-client`, `jersey-hk2` and `jersey-media-json-jackson`. I am not using `jersey-cdi1x` - but it looks as if that should work also (for my code, anyway - but my code may be quite different from yours...).","body":"For your reference I am using v3.1.0 of <code>jakarta.ws.rs-api</code>. And I am using v3.1.1 of <code>jersey-client</code>, <code>jersey-hk2</code> and <code>jersey-media-json-jackson</code>. I am not using <code>jersey-cdi1x</code> - but it looks as if that should work also (for my code, anyway - but my code may be quite different from yours...)."},{"owner":{"account_id":5395500,"reputation":642,"user_id":4296851,"accept_rate":71,"display_name":"Richard Sand"},"score":0,"creation_date":1685460350,"post_id":76353635,"comment_id":134661508,"body_markdown":"I&#39;ll try to create a simple example, but I can tell you the exception is thrown from  JerseyWebTargetBuilder in private static JerseyInvocation.Builder onBuilder(JerseyInvocation.Builder builder)","body":"I&#39;ll try to create a simple example, but I can tell you the exception is thrown from  JerseyWebTargetBuilder in private static JerseyInvocation.Builder onBuilder(JerseyInvocation.Builder builder)"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1685462465,"post_id":76353635,"comment_id":134662021,"body_markdown":"I can recreate your error - but only if I do not explicitly include `jersey-hk2` in my POM. What happens if you remove `jersey-cdi1x` and use `jersey-hk2` (version 3.1.1) instead? It sounds as if you may have already tried that in a previous iteration... but worth another try? Otherwise, please share your POM.","body":"I can recreate your error - but only if I do not explicitly include <code>jersey-hk2</code> in my POM. What happens if you remove <code>jersey-cdi1x</code> and use <code>jersey-hk2</code> (version 3.1.1) instead? It sounds as if you may have already tried that in a previous iteration... but worth another try? Otherwise, please share your POM."},{"owner":{"account_id":5395500,"reputation":642,"user_id":4296851,"accept_rate":71,"display_name":"Richard Sand"},"score":0,"creation_date":1686519800,"post_id":76353635,"comment_id":134805818,"body_markdown":"You are right. When I switched cdi1x back to hk2 it is now working. I must have had some other  conflict in my pom when I started this that was causing the error initially that lead me to switching it to cdi1x. Thank you for confirming!","body":"You are right. When I switched cdi1x back to hk2 it is now working. I must have had some other  conflict in my pom when I started this that was causing the error initially that lead me to switching it to cdi1x. Thank you for confirming!"}],"owner":{"account_id":5395500,"reputation":642,"user_id":4296851,"accept_rate":71,"display_name":"Richard Sand"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685460978,"creation_date":1685308629,"question_id":76353635,"body_markdown":"I am using Jersey Client 3.1.1 to post a JSON object to a REST API, but I am encountering an issue that is known from the 2.x Jersey version: `java.lang.IllegalStateException: InjectionManagerFactory not found`.\r\n\r\nThere are many questions about this exception which was introduced in later 2.3.x versions. The solution was to add *jersey-hk2* as a dependency. However, this doesn&#39;t seem to solve the problem for 3.x, and its one of those issues where there are so many hits regarding 2.x version that I can&#39;t  find anything regarding 3.x. I was using jersey-hk2:3.1.1, but I have to now use the 3.x version because I am running Servlet 5.0. / Tomcat 10.\r\n\r\nAccording to the latest Jersey 3.x docs, the following dependency should be used, which pulls in jersey-hk2:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.ext.cdi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-cdi1x&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nUnfortunately, I am still facing the same issue even after ensuring the version compatibility. \r\n\r\nEDIT 1: the exception occurs when I call `request()` on my `JerseyWebTarget`\r\n\r\n    Builder builder = myWebTarget.request(MediaType.APPLICATION_JSON_TYPE);\r\n\r\nThe exception occurs inside `ClientConfig$State.initRuntime()` when it invokes `InjectionManager injectionManager = Injections.createInjectionManager()`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan anyone help me understand what might be causing this error and how to resolve it? Thank you in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kmiPA.png","title":"Jersey Client 3.1.1 InjectionManagerFactory not found","body":"<p>I am using Jersey Client 3.1.1 to post a JSON object to a REST API, but I am encountering an issue that is known from the 2.x Jersey version: <code>java.lang.IllegalStateException: InjectionManagerFactory not found</code>.</p>\n<p>There are many questions about this exception which was introduced in later 2.3.x versions. The solution was to add <em>jersey-hk2</em> as a dependency. However, this doesn't seem to solve the problem for 3.x, and its one of those issues where there are so many hits regarding 2.x version that I can't  find anything regarding 3.x. I was using jersey-hk2:3.1.1, but I have to now use the 3.x version because I am running Servlet 5.0. / Tomcat 10.</p>\n<p>According to the latest Jersey 3.x docs, the following dependency should be used, which pulls in jersey-hk2:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.ext.cdi&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-cdi1x&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Unfortunately, I am still facing the same issue even after ensuring the version compatibility.</p>\n<p>EDIT 1: the exception occurs when I call <code>request()</code> on my <code>JerseyWebTarget</code></p>\n<pre><code>Builder builder = myWebTarget.request(MediaType.APPLICATION_JSON_TYPE);\n</code></pre>\n<p>The exception occurs inside <code>ClientConfig$State.initRuntime()</code> when it invokes <code>InjectionManager injectionManager = Injections.createInjectionManager()</code></p>\n<p><a href=\"https://i.stack.imgur.com/kmiPA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kmiPA.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help me understand what might be causing this error and how to resolve it? Thank you in advance!</p>\n"},{"tags":["java","spring","optaplanner"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685493101,"post_id":76366085,"comment_id":134666908,"body_markdown":"Hello there, please share your code and outcome for further discussion","body":"Hello there, please share your code and outcome for further discussion"}],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685460896,"creation_date":1685460896,"answer_id":76366446,"question_id":76366085,"body_markdown":"Are you using SolverManager? If so, you can use one of the SolverManager methods that support a `finalBestSolutionListener`\r\n\r\n- https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solve(ProblemId_,Solution_,java.util.function.Consumer) \r\n\r\n- https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solveAndListen(ProblemId_,java.util.function.Function,java.util.function.Consumer,java.util.function.Consumer,java.util.function.BiConsumer)\r\n\r\n```java\r\nsolverManager.solve(1L, MyClass::getProblem, finalBestSolution -&gt; {\r\n    // process final solution here\r\n});\r\n\r\nsolverManager.solveAndListen(1L,\r\n    MyClass::getProblem\r\n    bestSolution -&gt; {\r\n        // process intermediate solution here\r\n    },\r\n    finalBestSolution -&gt; {\r\n        // process final solution here\r\n    },\r\n    null); // Use null so default exception handler is used\r\n```\r\n\r\nor the `getFinalBestSolution()` method of `SolverJob` (which is what `SolverManager.solve` and `SolverManager.solveAndListen` returns):\r\n\r\n- https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverJob.html#getFinalBestSolution()\r\n\r\n```java\r\nSolverJob&lt;ProblemType, Long&gt; solverJob = solverManager.solve(1L, problem);\r\nProblemType bestSolution = solverJob.getFinalBestSolution();\r\n```","title":"How can I detect when my OptaPlanner solver stops running in my Java Spring application?","body":"<p>Are you using SolverManager? If so, you can use one of the SolverManager methods that support a <code>finalBestSolutionListener</code></p>\n<ul>\n<li><p><a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solve(ProblemId_,Solution_,java.util.function.Consumer)\" rel=\"nofollow noreferrer\">https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solve(ProblemId_,Solution_,java.util.function.Consumer)</a></p>\n</li>\n<li><p><a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solveAndListen(ProblemId_,java.util.function.Function,java.util.function.Consumer,java.util.function.Consumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverManager.html#solveAndListen(ProblemId_,java.util.function.Function,java.util.function.Consumer,java.util.function.Consumer,java.util.function.BiConsumer)</a></p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>solverManager.solve(1L, MyClass::getProblem, finalBestSolution -&gt; {\n    // process final solution here\n});\n\nsolverManager.solveAndListen(1L,\n    MyClass::getProblem\n    bestSolution -&gt; {\n        // process intermediate solution here\n    },\n    finalBestSolution -&gt; {\n        // process final solution here\n    },\n    null); // Use null so default exception handler is used\n</code></pre>\n<p>or the <code>getFinalBestSolution()</code> method of <code>SolverJob</code> (which is what <code>SolverManager.solve</code> and <code>SolverManager.solveAndListen</code> returns):</p>\n<ul>\n<li><a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverJob.html#getFinalBestSolution()\" rel=\"nofollow noreferrer\">https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/solver/SolverJob.html#getFinalBestSolution()</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>SolverJob&lt;ProblemType, Long&gt; solverJob = solverManager.solve(1L, problem);\nProblemType bestSolution = solverJob.getFinalBestSolution();\n</code></pre>\n"}],"owner":{"display_name":"user21986685"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685460896,"creation_date":1685458278,"question_id":76366085,"body_markdown":"I create an application that uses OptaPlanner to solve optimization problems. However I can&#39;t get an action to be performed when the solver stops, for the moment my solver stops after 5 seconds but I have no way of knowing it and therefore of exploit the result.\r\n\r\nMaybe set up listeners?","title":"How can I detect when my OptaPlanner solver stops running in my Java Spring application?","body":"<p>I create an application that uses OptaPlanner to solve optimization problems. However I can't get an action to be performed when the solver stops, for the moment my solver stops after 5 seconds but I have no way of knowing it and therefore of exploit the result.</p>\n<p>Maybe set up listeners?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1375271253,"post_id":17969436,"comment_id":26266146,"body_markdown":"To insert a new line, place 2 spaces at the end of the line. More about markdown syntax: http://en.wikipedia.org/wiki/Markdown - See also:http://stackoverflow.com/editing-help","body":"To insert a new line, place 2 spaces at the end of the line. More about markdown syntax: <a href=\"http://en.wikipedia.org/wiki/Markdown\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Markdown</a> - See also:<a href=\"http://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a>"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1375271391,"creation_date":1375271391,"answer_id":17969568,"question_id":17969436,"body_markdown":"Your understanding is correct. However, if we walk through:\r\n\r\n* `(.*)` will swallow the whole string;\r\n* it will need to give back characters so that `(\\\\d+)` is satistifed (which is why `0` is captured, and not `3000`);\r\n* the last `(.*)` will then capture the rest.\r\n\r\nI am not sure what the original intent of the author was, however.\r\n","title":"Java Regex Capturing Groups","body":"<p>Your understanding is correct. However, if we walk through:</p>\n\n<ul>\n<li><code>(.*)</code> will swallow the whole string;</li>\n<li>it will need to give back characters so that <code>(\\\\d+)</code> is satistifed (which is why <code>0</code> is captured, and not <code>3000</code>);</li>\n<li>the last <code>(.*)</code> will then capture the rest.</li>\n</ul>\n\n<p>I am not sure what the original intent of the author was, however.</p>\n"},{"tags":[],"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1375271506,"creation_date":1375271506,"answer_id":17969614,"question_id":17969436,"body_markdown":"From the doc :\r\n\r\n    Capturing groups&lt;/a&gt; are indexed from left\r\n     * to right, starting at one.  Group zero denotes the entire pattern, so\r\n     * the expression m.group(0) is equivalent to m.group().\r\n\r\nSo capture group 0 send the whole line.","title":"Java Regex Capturing Groups","body":"<p>From the doc :</p>\n\n<pre><code>Capturing groups&lt;/a&gt; are indexed from left\n * to right, starting at one.  Group zero denotes the entire pattern, so\n * the expression m.group(0) is equivalent to m.group().\n</code></pre>\n\n<p>So capture group 0 send the whole line.</p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1375271514,"creation_date":1375271514,"answer_id":17969618,"question_id":17969436,"body_markdown":"This is totally OK.\r\n\r\n  1. The first group (``m.group(0)``) always captures *the whole area that is covered by your regular expression*. In this case, it&#39;s the whole string.\r\n  2. Regular expressions are greedy by default, meaning that the first group captures as much as possible without violating the regex. The ``(.*)(\\\\d+)`` (the first part of your regex) covers the ``...QT300`` int the first group and the ``0`` in the second.\r\n  3. You can quickly fix this by making the first group non-greedy: change ``(.*)`` to ``(.*?)``.\r\n\r\nFor more info on greedy vs. lazy, check [this site.][1]\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/repeat.html","title":"Java Regex Capturing Groups","body":"<p>This is totally OK.</p>\n\n<ol>\n<li>The first group (<code>m.group(0)</code>) always captures <em>the whole area that is covered by your regular expression</em>. In this case, it's the whole string.</li>\n<li>Regular expressions are greedy by default, meaning that the first group captures as much as possible without violating the regex. The <code>(.*)(\\\\d+)</code> (the first part of your regex) covers the <code>...QT300</code> int the first group and the <code>0</code> in the second.</li>\n<li>You can quickly fix this by making the first group non-greedy: change <code>(.*)</code> to <code>(.*?)</code>.</li>\n</ol>\n\n<p>For more info on greedy vs. lazy, check <a href=\"http://www.regular-expressions.info/repeat.html\">this site.</a></p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":301,"is_accepted":true,"score":301,"last_activity_date":1401283954,"creation_date":1375271518,"answer_id":17969620,"question_id":17969436,"body_markdown":"The issue you&#39;re having is with the type of quantifier. You&#39;re using a **greedy** quantifier in your first group (index **1** - index 0 represents the whole `Pattern`), which means it&#39;ll match as much as it can (and since it&#39;s *any* character, it&#39;ll match **as many characters** as there are in order to fulfill the condition for the next groups). \r\n\r\nIn short, your 1st group `.*` matches anything as long as the next group `\\\\d+` can match something (in this case, the last digit). \r\n\r\nAs per the 3rd group, it will match anything after the last digit. \r\n\r\nIf you change it to a **reluctant** quantifier in your 1st group, you&#39;ll get the result I suppose you are expecting, that is, the *3000* part. \r\n\r\nNote the **question mark** in the 1st group.  \r\n\r\n    String line = &quot;This order was placed for QT3000! OK?&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;(.*?)(\\\\d+)(.*)&quot;);\r\n    Matcher matcher = pattern.matcher(line);\r\n    while (matcher.find()) {\r\n    \tSystem.out.println(&quot;group 1: &quot; + matcher.group(1));\r\n    \tSystem.out.println(&quot;group 2: &quot; + matcher.group(2));\r\n    \tSystem.out.println(&quot;group 3: &quot; + matcher.group(3));\r\n    }\r\n\r\nOutput: \r\n\r\n    group 1: This order was placed for QT\r\n    group 2: 3000\r\n    group 3: ! OK?\r\n\r\nMore info on Java `Pattern` [here][1]. \r\n\r\nFinally, the capturing groups are delimited by round brackets, and provide a very useful way to use back-references (amongst other things), once your `Pattern` is matched to the input. \r\n\r\nIn Java 6 groups can only be referenced by their order (beware of nested groups and the subtlety of ordering). \r\n\r\nIn Java 7 it&#39;s much easier, as you can use named groups. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html","title":"Java Regex Capturing Groups","body":"<p>The issue you're having is with the type of quantifier. You're using a <strong>greedy</strong> quantifier in your first group (index <strong>1</strong> - index 0 represents the whole <code>Pattern</code>), which means it'll match as much as it can (and since it's <em>any</em> character, it'll match <strong>as many characters</strong> as there are in order to fulfill the condition for the next groups). </p>\n\n<p>In short, your 1st group <code>.*</code> matches anything as long as the next group <code>\\\\d+</code> can match something (in this case, the last digit). </p>\n\n<p>As per the 3rd group, it will match anything after the last digit. </p>\n\n<p>If you change it to a <strong>reluctant</strong> quantifier in your 1st group, you'll get the result I suppose you are expecting, that is, the <em>3000</em> part. </p>\n\n<p>Note the <strong>question mark</strong> in the 1st group.  </p>\n\n<pre><code>String line = \"This order was placed for QT3000! OK?\";\nPattern pattern = Pattern.compile(\"(.*?)(\\\\d+)(.*)\");\nMatcher matcher = pattern.matcher(line);\nwhile (matcher.find()) {\n    System.out.println(\"group 1: \" + matcher.group(1));\n    System.out.println(\"group 2: \" + matcher.group(2));\n    System.out.println(\"group 3: \" + matcher.group(3));\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>group 1: This order was placed for QT\ngroup 2: 3000\ngroup 3: ! OK?\n</code></pre>\n\n<p>More info on Java <code>Pattern</code> <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">here</a>. </p>\n\n<p>Finally, the capturing groups are delimited by round brackets, and provide a very useful way to use back-references (amongst other things), once your <code>Pattern</code> is matched to the input. </p>\n\n<p>In Java 6 groups can only be referenced by their order (beware of nested groups and the subtlety of ordering). </p>\n\n<p>In Java 7 it's much easier, as you can use named groups. </p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685460619,"creation_date":1685460619,"answer_id":76366410,"question_id":17969436,"body_markdown":"A small note for others: You can make a quantifier possessive by placing an extra `+` after it, or make it lazy/reluctant by adding extra `?` after it. By default quantifiers are greedy.\r\n\r\nSo, the examples are:\r\n```\r\n*  is greedy \r\n*? is lazy  \r\n*+ is possessive\r\n```","title":"Java Regex Capturing Groups","body":"<p>A small note for others: You can make a quantifier possessive by placing an extra <code>+</code> after it, or make it lazy/reluctant by adding extra <code>?</code> after it. By default quantifiers are greedy.</p>\n<p>So, the examples are:</p>\n<pre><code>*  is greedy \n*? is lazy  \n*+ is possessive\n</code></pre>\n"}],"owner":{"account_id":2981745,"reputation":2481,"user_id":2531583,"accept_rate":91,"display_name":"Xivilai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291940,"favorite_count":0,"down_vote_count":0,"up_vote_count":215,"accepted_answer_id":17969620,"answer_count":5,"score":215,"last_activity_date":1685460619,"creation_date":1375271045,"question_id":17969436,"body_markdown":"I am trying to understand this code block. In the first one, what is it we are looking for in the expression?\r\n\r\nMy understanding is that it is any character (0 or more times *) followed by any number between 0 and 9 (one or more times +) followed by any character (0 or more times *).\r\n\r\nWhen this is executed the result is:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Found value: This order was placed for QT3000! OK?\r\n    Found value: This order was placed for QT300\r\n    Found value: 0\r\n\r\nCould someone please go through this with me?\r\n\r\nWhat is the advantage of using Capturing groups?\r\n\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class RegexTut3 {\r\n\r\n\t    public static void main(String args[]) {\r\n\t\t    String line = &quot;This order was placed for QT3000! OK?&quot;; \r\n\t\t    String pattern = &quot;(.*)(\\\\d+)(.*)&quot;;\r\n\r\n\t\t    // Create a Pattern object\r\n\t\t    Pattern r = Pattern.compile(pattern);\r\n\r\n\t\t    // Now create matcher object.\r\n\t\t    Matcher m = r.matcher(line);\r\n\r\n\t\t    if (m.find()) {\r\n\t\t\t    System.out.println(&quot;Found value: &quot; + m.group(0));\r\n\t\t\t    System.out.println(&quot;Found value: &quot; + m.group(1));\r\n\t\t\t    System.out.println(&quot;Found value: &quot; + m.group(2));\r\n\t\t    } else {\r\n\t\t\t    System.out.println(&quot;NO MATCH&quot;);\r\n\t\t    }\r\n\t    }\r\n\r\n    }","title":"Java Regex Capturing Groups","body":"<p>I am trying to understand this code block. In the first one, what is it we are looking for in the expression?</p>\n\n<p>My understanding is that it is any character (0 or more times *) followed by any number between 0 and 9 (one or more times +) followed by any character (0 or more times *).</p>\n\n<p>When this is executed the result is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Found value: This order was placed for QT3000! OK?\nFound value: This order was placed for QT300\nFound value: 0\n</code></pre>\n\n<p>Could someone please go through this with me?</p>\n\n<p>What is the advantage of using Capturing groups?</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RegexTut3 {\n\n    public static void main(String args[]) {\n        String line = \"This order was placed for QT3000! OK?\"; \n        String pattern = \"(.*)(\\\\d+)(.*)\";\n\n        // Create a Pattern object\n        Pattern r = Pattern.compile(pattern);\n\n        // Now create matcher object.\n        Matcher m = r.matcher(line);\n\n        if (m.find()) {\n            System.out.println(\"Found value: \" + m.group(0));\n            System.out.println(\"Found value: \" + m.group(1));\n            System.out.println(\"Found value: \" + m.group(2));\n        } else {\n            System.out.println(\"NO MATCH\");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mybatis","mapper"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1685452094,"post_id":76365188,"comment_id":134659338,"body_markdown":"The error message is quite clear: add a UserRegisterMapper bean to your configuration.  Move on to the next error until you&#39;ve cleaned them all up.","body":"The error message is quite clear: add a UserRegisterMapper bean to your configuration.  Move on to the next error until you&#39;ve cleaned them all up."},{"owner":{"account_id":1193347,"reputation":5518,"user_id":1386584,"display_name":"Ivan Vasiljevic"},"score":0,"creation_date":1685452425,"post_id":76365188,"comment_id":134659437,"body_markdown":"Could you share  code of `userRegisterMapper`?","body":"Could you share  code of <code>userRegisterMapper</code>?"},{"owner":{"account_id":14749359,"reputation":29,"user_id":10651881,"display_name":"Shubham Singh"},"score":0,"creation_date":1685452473,"post_id":76365188,"comment_id":134659445,"body_markdown":"@duffmo How to add bean to configuration?","body":"@duffmo How to add bean to configuration?"},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1685516427,"post_id":76365188,"comment_id":134669223,"body_markdown":"error state that bean for mapper class has not created. Use @Component or any suitable stereotype annotation to get that bean scanned.","body":"error state that bean for mapper class has not created. Use @Component or any suitable stereotype annotation to get that bean scanned."}],"owner":{"account_id":14749359,"reputation":29,"user_id":10651881,"display_name":"Shubham Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685460413,"creation_date":1685451951,"question_id":76365188,"body_markdown":"I am getting the below error while starting the springboot application. I am attaching the code snippets. I am not able to create the mapper bean.\r\n```\r\nMay 28, 2023 2:26:11 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nMay 28, 2023 2:26:11 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRegisterController&#39;: Unsatisfied dependency expressed through field &#39;restProcessor&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;restProcessor&#39;: Unsatisfied dependency expressed through field &#39;placementPortalCatalogue&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;placementPortalCatalogue&#39;: Unsatisfied dependency expressed through field &#39;userRegisterChain&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRegisterChain&#39;: Unsatisfied dependency expressed through field &#39;insertUserRegisterOrder&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;insertUserRegisterOrder&#39;: Unsatisfied dependency expressed through field &#39;userRegisterDao&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRegisterDao&#39;: Unsatisfied dependency expressed through field &#39;userRegisterMapper&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.placement.portal.repository.mapper.UserRegisterMapper&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\r\nMay 28, 2023 2:26:11 PM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Tomcat]\r\n[main] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField userRegisterMapper in com.placement.portal.repository.dao.UserRegisterDao required a bean of type &#39;com.placement.portal.repository.mapper.UserRegisterMapper&#39; that could not be found.\r\n```\r\nThe injection point has the following annotations:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal.service.commands;\r\n\r\n    import com.placement.portal.common.ChainContext;\r\n    import com.placement.portal.common.order.UserRegisterOrder;\r\n    import com.placement.portal.repository.dao.UserRegisterDao;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.commons.chain.Context;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class InsertUserRegisterOrder extends CommandWrapper{\r\n        @Autowired\r\n        UserRegisterDao userRegisterDao;\r\n\r\n        @Override\r\n        public boolean execute(Context context) throws Exception {\r\n            try {\r\n                ChainContext chainContext = (ChainContext) context;\r\n                UserRegisterOrder userRegisterOrder = chainContext.getUserRegisterOrder();\r\n                userRegisterDao.insertUserRegisterOrder(userRegisterOrder);\r\n                return super.invokeTarget(context);\r\n            }\r\n            finally {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class PlacementPortalStudentApplication {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(PlacementPortalStudentApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal.repository.dao;\r\n\r\n    import com.placement.portal.common.order.UserRegisterOrder;\r\n    import com.placement.portal.repository.mapper.UserRegisterMapper;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import java.sql.SQLException;\r\n\r\n    @Slf4j\r\n    @Repository\r\n    public class UserRegisterDao {\r\n\r\n        @Autowired\r\n        UserRegisterMapper userRegisterMapper;\r\n        public void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException {\r\n            if (null == userRegisterOrder){\r\n                log.error(&quot;User Register Order is null&quot;);\r\n                return;\r\n            }\r\n            userRegisterMapper.insertUserRegisterOrder(userRegisterOrder);\r\n\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.amiya&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;placement-portal-student&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Placement-Portal&lt;/name&gt;\r\n\t&lt;description&gt;Placement Portal Student&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Dependency for MySQL Database --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-chain&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-chain&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.shardingsphere/sharding-jdbc-spring-boot-starter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shardingsphere&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.placement.portal.repository.mapper;\r\n\r\n\r\n    import com.placement.portal.common.order.UserRegisterOrder;\r\n    import org.apache.ibatis.annotations.Insert;\r\n    import org.apache.ibatis.annotations.Mapper;\r\n\r\n    import java.sql.SQLException;\r\n\r\n    @Mapper\r\n    public interface UserRegisterMapper {\r\n        @Insert(&quot;insert into user(user_id,request_id) values (#{userId},#{requestId}&quot;)\r\n        void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Springboot Application not starting","body":"<p>I am getting the below error while starting the springboot application. I am attaching the code snippets. I am not able to create the mapper bean.</p>\n<pre><code>May 28, 2023 2:26:11 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nMay 28, 2023 2:26:11 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'\n[main] WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRegisterController': Unsatisfied dependency expressed through field 'restProcessor'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'restProcessor': Unsatisfied dependency expressed through field 'placementPortalCatalogue'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'placementPortalCatalogue': Unsatisfied dependency expressed through field 'userRegisterChain'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRegisterChain': Unsatisfied dependency expressed through field 'insertUserRegisterOrder'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insertUserRegisterOrder': Unsatisfied dependency expressed through field 'userRegisterDao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRegisterDao': Unsatisfied dependency expressed through field 'userRegisterMapper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.placement.portal.repository.mapper.UserRegisterMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\nMay 28, 2023 2:26:11 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\n[main] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userRegisterMapper in com.placement.portal.repository.dao.UserRegisterDao required a bean of type 'com.placement.portal.repository.mapper.UserRegisterMapper' that could not be found.\n</code></pre>\n<p>The injection point has the following annotations:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal.service.commands;\n\nimport com.placement.portal.common.ChainContext;\nimport com.placement.portal.common.order.UserRegisterOrder;\nimport com.placement.portal.repository.dao.UserRegisterDao;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.chain.Context;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Slf4j\npublic class InsertUserRegisterOrder extends CommandWrapper{\n    @Autowired\n    UserRegisterDao userRegisterDao;\n\n    @Override\n    public boolean execute(Context context) throws Exception {\n        try {\n            ChainContext chainContext = (ChainContext) context;\n            UserRegisterOrder userRegisterOrder = chainContext.getUserRegisterOrder();\n            userRegisterDao.insertUserRegisterOrder(userRegisterOrder);\n            return super.invokeTarget(context);\n        }\n        finally {\n\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class PlacementPortalStudentApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PlacementPortalStudentApplication.class, args);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal.repository.dao;\n\nimport com.placement.portal.common.order.UserRegisterOrder;\nimport com.placement.portal.repository.mapper.UserRegisterMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport java.sql.SQLException;\n\n@Slf4j\n@Repository\npublic class UserRegisterDao {\n\n    @Autowired\n    UserRegisterMapper userRegisterMapper;\n    public void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException {\n        if (null == userRegisterOrder){\n            log.error(\"User Register Order is null\");\n            return;\n        }\n        userRegisterMapper.insertUserRegisterOrder(userRegisterOrder);\n\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.5.5\n \n\ncom.amiya\nplacement-portal-student\n1.0.0-SNAPSHOT\nPlacement-Portal\nPlacement Portal Student\n\n&lt;java.version&gt;11&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-web\n\n\norg.springframework.boot\nspring-boot-starter-logging\n\n\n</p>\n<pre><code>    &lt;!-- Dependency for MySQL Database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;--&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-chain&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-chain&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.shardingsphere/sharding-jdbc-spring-boot-starter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shardingsphere&lt;/groupId&gt;\n        &lt;artifactId&gt;sharding-jdbc-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;version&gt;6.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.placement.portal.repository.mapper;\n\n\nimport com.placement.portal.common.order.UserRegisterOrder;\nimport org.apache.ibatis.annotations.Insert;\nimport org.apache.ibatis.annotations.Mapper;\n\nimport java.sql.SQLException;\n\n@Mapper\npublic interface UserRegisterMapper {\n    @Insert(\"insert into user(user_id,request_id) values (#{userId},#{requestId}\")\n    void insertUserRegisterOrder(UserRegisterOrder userRegisterOrder) throws SQLException;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","discord","rate-limiting","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685460233,"creation_date":1685460233,"answer_id":76366357,"question_id":76358960,"body_markdown":"You can only change the channel topic twice every 10 minutes. What you are observing is a *warning* not an *error*, as indicated by the log level WARN.\r\n\r\nAdditionally, for a slash command interaction, you are supposed to use `event.reply(...)` instead of sending a message to the channel.","title":"setTopic() Rate Limit problems","body":"<p>You can only change the channel topic twice every 10 minutes. What you are observing is a <em>warning</em> not an <em>error</em>, as indicated by the log level WARN.</p>\n<p>Additionally, for a slash command interaction, you are supposed to use <code>event.reply(...)</code> instead of sending a message to the channel.</p>\n"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76366357,"answer_count":1,"score":0,"last_activity_date":1685460233,"creation_date":1685378018,"question_id":76358960,"body_markdown":"I am getting a rate limit error when trying to change the topic of a TextChannel via `.setTopic()`. It is weird becouse i am not really doing much here...\r\nIt only works when adding a huge delay, like 10 seconds ( which i cannot do for my project )\r\neven with seemingly high delays like 5 seconds i get the error.\r\nNone of the funcitons (`saveEquationToMongo` and `randomEquation` ) do anything that could cause problems.\r\n\r\nHere is the ERROR:\r\n\r\n`[JDA RateLimit-Worker 2] WARN RateLimiter - Encountered 429 on route PATCH/channels/{channel_id} with bucket 6e836da6cef38ba2f3dfd8568a4e9631:channel_id=1111635288435994706 Retry-After: 512000 ms`\r\n\r\nHere is my code:\r\n```\r\n @Override\r\n    public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\r\n\r\n        if(event.getInteraction().getName().equals(&quot;equation&quot;)){\r\n\r\n            Equation equation = null;\r\n            try {\r\n                equation = randomEquation();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            int answer = equation.getAnswer();\r\n            System.out.println(answer);\r\n            String equationString = equation.getEquation();\r\n\r\n            MessageEmbed embed = new EmbedBuilder()\r\n                    .setTitle(&quot;Solve this equation:&quot;)\r\n                    .addField(equationString, &quot;Be the first one to do it! \\n Just send in the answers to this channel.&quot;, false)\r\n                    .setColor(Color.YELLOW)\r\n                    .build();\r\n            event.getChannel().asTextChannel().sendMessageEmbeds(embed).queue(message -&gt; {\r\n                String messageId = message.getId();\r\n                String channelId = message.getChannel().getId();\r\n                String channelTopic = event.getChannel().asTextChannel().getTopic();\r\n\r\n                saveEquationToMongo(equationString, answer, messageId, channelId, channelTopic);\r\n\r\n                TextChannel channel = event.getChannel().asTextChannel();\r\n                channel.getManager().setTopic(&quot;Currently playing the Equations Game...&quot;).queueAfter(500, TimeUnit.MILLISECONDS);\r\n\r\n            });\r\n\r\n\r\n           // event.reply(equationString  + &quot; = &quot; + answer).queue();\r\n\r\n        }\r\n    ```\r\n\r\n\r\n","title":"setTopic() Rate Limit problems","body":"<p>I am getting a rate limit error when trying to change the topic of a TextChannel via <code>.setTopic()</code>. It is weird becouse i am not really doing much here...\nIt only works when adding a huge delay, like 10 seconds ( which i cannot do for my project )\neven with seemingly high delays like 5 seconds i get the error.\nNone of the funcitons (<code>saveEquationToMongo</code> and <code>randomEquation</code> ) do anything that could cause problems.</p>\n<p>Here is the ERROR:</p>\n<p><code>[JDA RateLimit-Worker 2] WARN RateLimiter - Encountered 429 on route PATCH/channels/{channel_id} with bucket 6e836da6cef38ba2f3dfd8568a4e9631:channel_id=1111635288435994706 Retry-After: 512000 ms</code></p>\n<p>Here is my code:</p>\n<pre><code> @Override\n    public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\n\n        if(event.getInteraction().getName().equals(&quot;equation&quot;)){\n\n            Equation equation = null;\n            try {\n                equation = randomEquation();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            int answer = equation.getAnswer();\n            System.out.println(answer);\n            String equationString = equation.getEquation();\n\n            MessageEmbed embed = new EmbedBuilder()\n                    .setTitle(&quot;Solve this equation:&quot;)\n                    .addField(equationString, &quot;Be the first one to do it! \\n Just send in the answers to this channel.&quot;, false)\n                    .setColor(Color.YELLOW)\n                    .build();\n            event.getChannel().asTextChannel().sendMessageEmbeds(embed).queue(message -&gt; {\n                String messageId = message.getId();\n                String channelId = message.getChannel().getId();\n                String channelTopic = event.getChannel().asTextChannel().getTopic();\n\n                saveEquationToMongo(equationString, answer, messageId, channelId, channelTopic);\n\n                TextChannel channel = event.getChannel().asTextChannel();\n                channel.getManager().setTopic(&quot;Currently playing the Equations Game...&quot;).queueAfter(500, TimeUnit.MILLISECONDS);\n\n            });\n\n\n           // event.reply(equationString  + &quot; = &quot; + answer).queue();\n\n        }\n    ```\n\n\n</code></pre>\n"},{"tags":["java","selenium","automation","appium"],"answers":[{"tags":[],"owner":{"account_id":14382898,"reputation":668,"user_id":10389622,"display_name":"akshay patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548310884,"creation_date":1548310884,"answer_id":54340467,"question_id":54340292,"body_markdown":" restarting `adb` before the test run with `adb kill-server; adb start-server`. \r\nbecause sometimes the `appium` server having issue with adb so by restarting you can avoid this problem not every time when this error comes you can again start executing if not solved then please restart `adb` and then start executing script that will work..\r\nHappy to help...\r\nIn case you have any doubts comment down below..","title":"Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception","body":"<p>restarting <code>adb</code> before the test run with <code>adb kill-server; adb start-server</code>. \nbecause sometimes the <code>appium</code> server having issue with adb so by restarting you can avoid this problem not every time when this error comes you can again start executing if not solved then please restart <code>adb</code> and then start executing script that will work..\nHappy to help...\nIn case you have any doubts comment down below..</p>\n"},{"tags":[],"owner":{"account_id":17436743,"reputation":1,"user_id":12639581,"display_name":"MonkeyStack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685460179,"creation_date":1685460179,"answer_id":76366346,"question_id":54340292,"body_markdown":"I was in an Android app, and when I opened a web page, I guess appium was monitoring the app, but couldn&#39;t monitor another thread that opened the web page in the browser (although that&#39;s what it looks like on the phone), or could it be something like a browser page jump? I don&#39;t know exactly why, but I was able to get the display layer elements by restarting webdriver. The python code is as follows:\r\n\r\n```python\r\nself.driver = webdriver.Remote(appium_server_url, self.capabilities)\r\nself.driver.find_element(by=AppiumBy.XPATH, value=&#39;//android.widget.ImageView[@content-desc=&quot;more&quot;]&#39;).click()\r\n# restart webdriver\r\nself.driver.quit()\r\nself.driver = webdriver.Remote(appium_server_url, self.capabilities)\r\n#\r\nself.driver.find_element(by=AppiumBy.XPATH, value=&#39;//android.widget.TextView[@text=&quot;link&quot;]&#39;).click()\r\n```\r\n","title":"Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception","body":"<p>I was in an Android app, and when I opened a web page, I guess appium was monitoring the app, but couldn't monitor another thread that opened the web page in the browser (although that's what it looks like on the phone), or could it be something like a browser page jump? I don't know exactly why, but I was able to get the display layer elements by restarting webdriver. The python code is as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>self.driver = webdriver.Remote(appium_server_url, self.capabilities)\nself.driver.find_element(by=AppiumBy.XPATH, value='//android.widget.ImageView[@content-desc=&quot;more&quot;]').click()\n# restart webdriver\nself.driver.quit()\nself.driver = webdriver.Remote(appium_server_url, self.capabilities)\n#\nself.driver.find_element(by=AppiumBy.XPATH, value='//android.widget.TextView[@text=&quot;link&quot;]').click()\n</code></pre>\n"}],"owner":{"account_id":14824367,"reputation":1,"user_id":10705726,"display_name":"Abhishek Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685460179,"creation_date":1548309975,"question_id":54340292,"body_markdown":"- Getting unknown server-side error while running the script.\r\n- The script would terminate while scrolling else it would work fine.\r\n\r\n**Log error:**\r\n\r\n    org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception: java.lang.IllegalStateException: UiAutomation not connected!\r\n    \tat io.appium.uiautomator2.utils.UiExpressionParser.invokeMethod(UiExpressionParser.java:251)\r\n    \tat io.appium.uiautomator2.utils.UiScrollableParser.consumeMethodCall(UiScrollableParser.java:124)\r\n    \tat io.appium.uiautomator2.utils.UiScrollableParser.parse(UiScrollableParser.java:60)\r\n    \tat io.appium.uiautomator2.utils.UiAutomatorParser.consumeStatement(UiAutomatorParser.java:93)\r\n    \tat io.appium.uiautomator2.utils.UiAutomatorParser.parse(UiAutomatorParser.java:49)\r\n    \tat io.appium.uiautomator2.utils.LocationHelpers.toSelectors(LocationHelpers.java:95)\r\n    \tat io.appium.uiautomator2.utils.LocationHelpers.toSelector(LocationHelpers.java:88)\r\n    \tat io.appium.uiautomator2.handler.FindElement.findElement(FindElement.java:144)\r\n    \tat io.appium.uiautomator2.handler.FindElement.safeHandle(FindElement.java:75)\r\n    \tat io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:37)\r\n    \tat io.appium.uiautomator2.server.AppiumServlet.handleRequest(AppiumServlet.java:250)\r\n    \tat io.appium.uiautomator2.server.AppiumServlet.handleHttpRequest(AppiumServlet.java:241)\r\n    \tat io.appium.uiautomator2.http.ServerHandler.channelRead(ServerHandler.java:44)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\r\n\r\n*** **Element info:** \r\n\r\n    {Using=-android uiautomator, value=new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(&quot; val &quot;));}\r\n\r\n\r\n**Appium Log:**\r\n","title":"Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception","body":"<ul>\n<li>Getting unknown server-side error while running the script.</li>\n<li>The script would terminate while scrolling else it would work fine.</li>\n</ul>\n\n<p><strong>Log error:</strong></p>\n\n<pre><code>org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: io.appium.uiautomator2.common.exceptions.UiAutomator2Exception: java.lang.IllegalStateException: UiAutomation not connected!\n    at io.appium.uiautomator2.utils.UiExpressionParser.invokeMethod(UiExpressionParser.java:251)\n    at io.appium.uiautomator2.utils.UiScrollableParser.consumeMethodCall(UiScrollableParser.java:124)\n    at io.appium.uiautomator2.utils.UiScrollableParser.parse(UiScrollableParser.java:60)\n    at io.appium.uiautomator2.utils.UiAutomatorParser.consumeStatement(UiAutomatorParser.java:93)\n    at io.appium.uiautomator2.utils.UiAutomatorParser.parse(UiAutomatorParser.java:49)\n    at io.appium.uiautomator2.utils.LocationHelpers.toSelectors(LocationHelpers.java:95)\n    at io.appium.uiautomator2.utils.LocationHelpers.toSelector(LocationHelpers.java:88)\n    at io.appium.uiautomator2.handler.FindElement.findElement(FindElement.java:144)\n    at io.appium.uiautomator2.handler.FindElement.safeHandle(FindElement.java:75)\n    at io.appium.uiautomator2.handler.request.SafeRequestHandler.handle(SafeRequestHandler.java:37)\n    at io.appium.uiautomator2.server.AppiumServlet.handleRequest(AppiumServlet.java:250)\n    at io.appium.uiautomator2.server.AppiumServlet.handleHttpRequest(AppiumServlet.java:241)\n    at io.appium.uiautomator2.http.ServerHandler.channelRead(ServerHandler.java:44)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:345)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:366)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:352)\n</code></pre>\n\n<p><strong>* **Element info:</strong> </p>\n\n<pre><code>{Using=-android uiautomator, value=new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(\" val \"));}\n</code></pre>\n\n<p><strong>Appium Log:</strong></p>\n"},{"tags":["java","android","listview","checkbox","adapter"],"answers":[{"tags":[],"owner":{"account_id":28711352,"reputation":1,"user_id":21986799,"display_name":"Kronos NT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685458819,"creation_date":1685458819,"answer_id":76366165,"question_id":76365201,"body_markdown":"You must use a radiogroup and within that radiogroup must be the checkboxes you need, if they are within the radiogroup automatically when selecting one the other is deselected.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fMGnT.png\r\n\r\nit is worth mentioning that the error that appears in the radiogroup is because I did not add the constrains","title":"Check only one Checkbox in a listview unchecking the previous one","body":"<p>You must use a radiogroup and within that radiogroup must be the checkboxes you need, if they are within the radiogroup automatically when selecting one the other is deselected.\n<a href=\"https://i.stack.imgur.com/fMGnT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>it is worth mentioning that the error that appears in the radiogroup is because I did not add the constrains</p>\n"}],"owner":{"account_id":28701008,"reputation":1,"user_id":21978190,"display_name":"Sergon24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685460024,"creation_date":1685452035,"question_id":76365201,"body_markdown":"I have a listview with checkboxes, i want that only one checkbox can be clicked (like radiobutton), but i don&#39;t know how, because all the checkboxes came from the item and have the same id\r\n\r\n[enter image description here][1]\r\n\r\nThis is an example of my listview.\r\n\r\nCan someone explain me a method for check the last Checkbox pressed and uncheck the previous one\r\n\r\nin this image  you can find my code, as you can see i have only one id\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nvIsN.jpg\r\n  [2]: https://i.stack.imgur.com/F4iLV.png","title":"Check only one Checkbox in a listview unchecking the previous one","body":"<p>I have a listview with checkboxes, i want that only one checkbox can be clicked (like radiobutton), but i don't know how, because all the checkboxes came from the item and have the same id</p>\n<p><a href=\"https://i.stack.imgur.com/nvIsN.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is an example of my listview.</p>\n<p>Can someone explain me a method for check the last Checkbox pressed and uncheck the previous one</p>\n<p>in this image  you can find my code, as you can see i have only one id</p>\n<p><a href=\"https://i.stack.imgur.com/F4iLV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-security","single-sign-on","saml","spring-saml"],"owner":{"account_id":28710265,"reputation":1,"user_id":21985883,"display_name":"Bon Voyage Devs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685459894,"creation_date":1685450663,"question_id":76364991,"body_markdown":"I have an spring boot application in which i have integrated with spring-security-saml2-core for sso authetication and i am trying to put the identity provider xml config files externally.\r\n\r\nI have uploaded the file in a s3 bucket and trying to download and load them at the application startup.\r\n\r\nThe files gets downloaded  but the context for the classpath is not updated and resource loader is failing while initialising\r\n\r\nCode Snippet For Saml File loading :\r\n\r\n```java\r\n@Bean\r\n    @DependsOn(&quot;idpFileDownloader&quot;)\r\n    BeanFactoryPostProcessor idpMetadataLoader() throws ConfigurationException {\r\n        return beanFactory -&gt; {\r\n            PathMatchingResourcePatternResolver metadataFilesResolver = new PathMatchingResourcePatternResolver();\r\n            try {\r\n                Resource[] idpMetadataFiles = metadataFilesResolver.getResources(&quot;classpath:/idp-xml-directory/idp-*.xml&quot;);\r\n                Stream.of(idpMetadataFiles).forEach(idpMetadataFile -&gt; {\r\n                    try {\r\n                        Timer refreshTimer = new Timer(true);\r\n                        ResourceBackedMetadataProvider delegate = null;\r\n                        delegate = new ResourceBackedMetadataProvider(refreshTimer, new SpringResourceWrapperOpenSAMLResource(idpMetadataFile));\r\n                        delegate.setParserPool(parserPool());\r\n                        ExtendedMetadata extendedMetadata = extendedMetadata().clone();\r\n                        ExtendedMetadataDelegate provider = new ExtendedMetadataDelegate(delegate, extendedMetadata);\r\n                        provider.setMetadataTrustCheck(false);\r\n                        provider.setMetadataRequireSignature(false);\r\n                        String idpFileName = idpMetadataFile.getFilename();\r\n                        String idpName = idpFileName.substring(idpFileName.lastIndexOf(&quot;idp-&quot;) + 4, idpFileName.lastIndexOf(&quot;.xml&quot;));\r\n                        extendedMetadata.setAlias(idpName);\r\n                        beanFactory.registerSingleton(idpName, provider);\r\n                        //todo: log.info(&quot;Loaded Idp Metadata bean {}: {}&quot;, idpName, idpMetadataFile);\r\n                    } catch (Exception e) {\r\n                        throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\r\n            }\r\n        };\r\n    }   \r\n```\r\n\r\nS3 file download logic :\r\n\r\n```java\r\n private void downloadFileFromS3(final String key) {\r\n        final long startTime = System.currentTimeMillis();\r\n        log.info(&quot;Starting Time {} for Downloading The file with the Key is {}&quot;,startTime/1000 ,key);\r\n        try {\r\n               /* final DirectoryDownload directoryDownload =\r\n                        transferManager.downloadDirectory(DownloadDirectoryRequest.builder()\r\n                                .destination(Paths.get(s3IdpFilesDirectoryPath))\r\n                                .bucket(s3BucketName)\r\n                                .build());\r\n                final CompletedDirectoryDownload completedDirectoryDownload = directoryDownload.completionFuture().join();\r\n                completedDirectoryDownload.failedTransfers().forEach(fail -&gt;\r\n                        log.warn(&quot;Object [{}] failed to transfer&quot;, fail.toString()));\r\n                log.info(&quot;Content length [{}]&quot;, completedDirectoryDownload);*/\r\n            final DownloadFileRequest downloadFileRequest =\r\n                    DownloadFileRequest.builder()\r\n                            .getObjectRequest(b -&gt; b.bucket(s3BucketName).key(key))\r\n                            .addTransferListener(LoggingTransferListener.create())\r\n                            .destination(Paths.get(s3IdpFilesDirectoryPath + key))\r\n                            .build();\r\n            log.info(&quot;Download path for key {} is {}&quot;, key, Paths.get(s3IdpFilesDirectoryPath + key));\r\n            final FileDownload downloadFile = transferManager.downloadFile(downloadFileRequest);\r\n            final CompletedFileDownload downloadResult = downloadFile.completionFuture().join();\r\n            log.info(&quot;Content length [{}]&quot;, downloadResult.response().contentLength());\r\n        } catch (Exception e) {\r\n            log.error(&quot;Exception while Downloading file {} is  {}&quot;,key ,e);\r\n            throw e;\r\n        }\r\n        final long endTime = System.currentTimeMillis();\r\n        log.info(&quot;Total Time {} for Downloading The file with the Key is {}&quot;,(endTime-startTime)/1000 ,key);\r\n        return;\r\n    }\r\n```\r\n\r\nI have tried downloading them at extern\r\nI have tried to load resources as file by given path instead of the resource load.\r\n\r\nCan you please suggest a way where i can store saml conf externally and load them at the application startup.","title":"How can I load SAML config files stored in S3 bucket in Spring Boot application using spring-security-saml2-core?","body":"<p>I have an spring boot application in which i have integrated with spring-security-saml2-core for sso authetication and i am trying to put the identity provider xml config files externally.</p>\n<p>I have uploaded the file in a s3 bucket and trying to download and load them at the application startup.</p>\n<p>The files gets downloaded  but the context for the classpath is not updated and resource loader is failing while initialising</p>\n<p>Code Snippet For Saml File loading :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    @DependsOn(&quot;idpFileDownloader&quot;)\n    BeanFactoryPostProcessor idpMetadataLoader() throws ConfigurationException {\n        return beanFactory -&gt; {\n            PathMatchingResourcePatternResolver metadataFilesResolver = new PathMatchingResourcePatternResolver();\n            try {\n                Resource[] idpMetadataFiles = metadataFilesResolver.getResources(&quot;classpath:/idp-xml-directory/idp-*.xml&quot;);\n                Stream.of(idpMetadataFiles).forEach(idpMetadataFile -&gt; {\n                    try {\n                        Timer refreshTimer = new Timer(true);\n                        ResourceBackedMetadataProvider delegate = null;\n                        delegate = new ResourceBackedMetadataProvider(refreshTimer, new SpringResourceWrapperOpenSAMLResource(idpMetadataFile));\n                        delegate.setParserPool(parserPool());\n                        ExtendedMetadata extendedMetadata = extendedMetadata().clone();\n                        ExtendedMetadataDelegate provider = new ExtendedMetadataDelegate(delegate, extendedMetadata);\n                        provider.setMetadataTrustCheck(false);\n                        provider.setMetadataRequireSignature(false);\n                        String idpFileName = idpMetadataFile.getFilename();\n                        String idpName = idpFileName.substring(idpFileName.lastIndexOf(&quot;idp-&quot;) + 4, idpFileName.lastIndexOf(&quot;.xml&quot;));\n                        extendedMetadata.setAlias(idpName);\n                        beanFactory.registerSingleton(idpName, provider);\n                        //todo: log.info(&quot;Loaded Idp Metadata bean {}: {}&quot;, idpName, idpMetadataFile);\n                    } catch (Exception e) {\n                        throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\n                    }\n                });\n            } catch (Exception e) {\n                throw new IllegalStateException(&quot;Unable to initialize IDP Metadata&quot;, e);\n            }\n        };\n    }   \n</code></pre>\n<p>S3 file download logic :</p>\n<pre class=\"lang-java prettyprint-override\"><code> private void downloadFileFromS3(final String key) {\n        final long startTime = System.currentTimeMillis();\n        log.info(&quot;Starting Time {} for Downloading The file with the Key is {}&quot;,startTime/1000 ,key);\n        try {\n               /* final DirectoryDownload directoryDownload =\n                        transferManager.downloadDirectory(DownloadDirectoryRequest.builder()\n                                .destination(Paths.get(s3IdpFilesDirectoryPath))\n                                .bucket(s3BucketName)\n                                .build());\n                final CompletedDirectoryDownload completedDirectoryDownload = directoryDownload.completionFuture().join();\n                completedDirectoryDownload.failedTransfers().forEach(fail -&gt;\n                        log.warn(&quot;Object [{}] failed to transfer&quot;, fail.toString()));\n                log.info(&quot;Content length [{}]&quot;, completedDirectoryDownload);*/\n            final DownloadFileRequest downloadFileRequest =\n                    DownloadFileRequest.builder()\n                            .getObjectRequest(b -&gt; b.bucket(s3BucketName).key(key))\n                            .addTransferListener(LoggingTransferListener.create())\n                            .destination(Paths.get(s3IdpFilesDirectoryPath + key))\n                            .build();\n            log.info(&quot;Download path for key {} is {}&quot;, key, Paths.get(s3IdpFilesDirectoryPath + key));\n            final FileDownload downloadFile = transferManager.downloadFile(downloadFileRequest);\n            final CompletedFileDownload downloadResult = downloadFile.completionFuture().join();\n            log.info(&quot;Content length [{}]&quot;, downloadResult.response().contentLength());\n        } catch (Exception e) {\n            log.error(&quot;Exception while Downloading file {} is  {}&quot;,key ,e);\n            throw e;\n        }\n        final long endTime = System.currentTimeMillis();\n        log.info(&quot;Total Time {} for Downloading The file with the Key is {}&quot;,(endTime-startTime)/1000 ,key);\n        return;\n    }\n</code></pre>\n<p>I have tried downloading them at extern\nI have tried to load resources as file by given path instead of the resource load.</p>\n<p>Can you please suggest a way where i can store saml conf externally and load them at the application startup.</p>\n"},{"tags":["java","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1685517416,"post_id":76366246,"comment_id":134669405,"body_markdown":"Have a look at [Handling poison messages in IBM MQ classes for JMS](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-handling-poison-messages-in-mq-classes-jms). Looks like the IBM MQ queue attributes BOTHRESH (backout threshold) and BOQNAME (backout requeue queue) are not defined for your queue by the administrator.","body":"Have a look at <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-handling-poison-messages-in-mq-classes-jms\" rel=\"nofollow noreferrer\">Handling poison messages in IBM MQ classes for JMS</a>. Looks like the IBM MQ queue attributes BOTHRESH (backout threshold) and BOQNAME (backout requeue queue) are not defined for your queue by the administrator."},{"owner":{"account_id":28711411,"reputation":1,"user_id":21986853,"display_name":"Ramzi Gachi"},"score":0,"creation_date":1685524518,"post_id":76366246,"comment_id":134670917,"body_markdown":"We can&#39;t do without those attributes ?","body":"We can&#39;t do without those attributes ?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1685596052,"post_id":76366246,"comment_id":134682752,"body_markdown":"Because the Spring `DefaultJmsListenerContainerFactory` does simply a reconnect with these settings, but it does not contain the logic to put poison messages on a back out queue. This logic is part of the IBM MQ JMS library and is based on the attributes BOTHRESH and BOQNAME.","body":"Because the Spring <code>DefaultJmsListenerContainerFactory</code> does simply a reconnect with these settings, but it does not contain the logic to put poison messages on a back out queue. This logic is part of the IBM MQ JMS library and is based on the attributes BOTHRESH and BOQNAME."},{"owner":{"account_id":28711411,"reputation":1,"user_id":21986853,"display_name":"Ramzi Gachi"},"score":0,"creation_date":1685609811,"post_id":76366246,"comment_id":134685041,"body_markdown":"I defined the bothresh and boqame , now it&#39;s work but i want to put a delay before each redelivery  message , i dont want to do it with thread.sleep , how i can do it ?","body":"I defined the bothresh and boqame , now it&#39;s work but i want to put a delay before each redelivery  message , i dont want to do it with thread.sleep , how i can do it ?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1685618157,"post_id":76366246,"comment_id":134686791,"body_markdown":"Sorry, I don&#39;t know how to do this with the `DefaultJmsListenerContainerFactory`. In IBM MQ, you could use the queue manager&#39;s dead letter queue instead of an individual back out queue and then define a specific dead letter queue handler to replay the message with a delay, see [DLQ control data](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=table-dlq-control-data).","body":"Sorry, I don&#39;t know how to do this with the <code>DefaultJmsListenerContainerFactory</code>. In IBM MQ, you could use the queue manager&#39;s dead letter queue instead of an individual back out queue and then define a specific dead letter queue handler to replay the message with a delay, see <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=table-dlq-control-data\" rel=\"nofollow noreferrer\">DLQ control data</a>."}],"owner":{"account_id":28711411,"reputation":1,"user_id":21986853,"display_name":"Ramzi Gachi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685459844,"creation_date":1685459421,"question_id":76366246,"body_markdown":"I am writing a Spring JmsListener to an MQ series. I have some problems when I am implementing the backoff strategy. It&#39;s seem to be ignored. Below is my JMS config:\r\n\r\n```java\r\n@Configuration\r\npublic class Jmsconfig implements JmsListenerConfigurer {\r\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(Jmsconfig.class);\r\n    @Autowired\r\n    DataSource dataSource;\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    @Value(&quot;${mqueue.error}&quot;)\r\n    String mqError;\r\n\r\n    @Bean\r\n    public JmsListenerContainerFactory jmsListenerContainerFactory() {\r\n            DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n            factory.setConnectionFactory(connectionFactory);\r\n\r\n            // D&#233;finir sessionTransacted sur false\r\n            FixedBackOff fbo = new FixedBackOff(); // or ExponentialBackOff\r\n            fbo.setMaxAttempts(3);\r\n            fbo.setInterval(5000);\r\n\r\n            //factory.setSessionTransacted(false);\r\n            //factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n            factory.setRecoveryInterval(3000L);\r\n            factory.setBackOff(fbo);\r\n\r\n            return factory;\r\n    }\r\n\r\n    //cache pour pouvoir recevoir les message asynchrones\r\n    @Bean\r\n    public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\r\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n\r\n        factory.setMessageConverter(messageConverter());\r\n        return factory;\r\n    }\r\n\r\n\r\n    //d&#233;s&#233;rialisation et mapping vers objet java\r\n    @Bean\r\n    public MessageConverter messageConverter() {\r\n        return new MappingJackson2MessageConverter();\r\n    }\r\n\r\n    @Override\r\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\r\n        registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\r\n\r\n    }    \r\n}\r\n```\r\nI tried to activate SESSION TRANSACTED, and I had an infinite loop! When I display the attribute &quot;JMSXDeliveryCount&quot; it seems to be normal. It is incremented at each attempt but the maxattemps and interval is not respected!\r\n","title":"Backoff seem to be ignored in a Spring JmsListener","body":"<p>I am writing a Spring JmsListener to an MQ series. I have some problems when I am implementing the backoff strategy. It's seem to be ignored. Below is my JMS config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Jmsconfig implements JmsListenerConfigurer {\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(Jmsconfig.class);\n    @Autowired\n    DataSource dataSource;\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    @Autowired\n    private ConnectionFactory connectionFactory;\n\n    @Value(&quot;${mqueue.error}&quot;)\n    String mqError;\n\n    @Bean\n    public JmsListenerContainerFactory jmsListenerContainerFactory() {\n            DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n            factory.setConnectionFactory(connectionFactory);\n\n            // Définir sessionTransacted sur false\n            FixedBackOff fbo = new FixedBackOff(); // or ExponentialBackOff\n            fbo.setMaxAttempts(3);\n            fbo.setInterval(5000);\n\n            //factory.setSessionTransacted(false);\n            //factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n            factory.setRecoveryInterval(3000L);\n            factory.setBackOff(fbo);\n\n            return factory;\n    }\n\n    //cache pour pouvoir recevoir les message asynchrones\n    @Bean\n    public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n\n        factory.setMessageConverter(messageConverter());\n        return factory;\n    }\n\n\n    //désérialisation et mapping vers objet java\n    @Bean\n    public MessageConverter messageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n\n    @Override\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\n\n    }    \n}\n</code></pre>\n<p>I tried to activate SESSION TRANSACTED, and I had an infinite loop! When I display the attribute &quot;JMSXDeliveryCount&quot; it seems to be normal. It is incremented at each attempt but the maxattemps and interval is not respected!</p>\n"},{"tags":["java","eclipse","sonarlint"],"comments":[{"owner":{"account_id":1008902,"reputation":12661,"user_id":1021920,"accept_rate":70,"display_name":"hellow"},"score":0,"creation_date":1548159135,"post_id":34939992,"comment_id":95435629,"body_markdown":"This pops up in the Close Votes Review. I think one should clarify if this is Offtopic or not. I&#39;m afraid it is... :/","body":"This pops up in the Close Votes Review. I think one should clarify if this is Offtopic or not. I&#39;m afraid it is... :/"},{"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"score":0,"creation_date":1548228872,"post_id":34939992,"comment_id":95462935,"body_markdown":"@hellow why would this be off topic?","body":"@hellow why would this be off topic?"},{"owner":{"account_id":1008902,"reputation":12661,"user_id":1021920,"accept_rate":70,"display_name":"hellow"},"score":0,"creation_date":1548229295,"post_id":34939992,"comment_id":95463132,"body_markdown":"*&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;* 3 votes so far for this.","body":"<i>&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;</i> 3 votes so far for this."}],"answers":[{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":8,"up_vote_count":27,"is_accepted":true,"score":19,"last_activity_date":1473242620,"creation_date":1453442546,"answer_id":34940012,"question_id":34939992,"body_markdown":"You can install SonarLint from the [Eclipse Marketplace][2] and read the [official SonarLint documentation][1]\r\n\r\n\r\n  [1]: http://www.sonarlint.org/eclipse/\r\n  [2]: https://marketplace.eclipse.org/content/sonarlint\r\n","title":"How to use SonarLint in Eclipse","body":"<p>You can install SonarLint from the <a href=\"https://marketplace.eclipse.org/content/sonarlint\" rel=\"noreferrer\">Eclipse Marketplace</a> and read the <a href=\"http://www.sonarlint.org/eclipse/\" rel=\"noreferrer\">official SonarLint documentation</a></p>\n"},{"tags":[],"owner":{"account_id":3805302,"reputation":1898,"user_id":3157899,"accept_rate":62,"display_name":"Naxos84"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1469517471,"creation_date":1469517471,"answer_id":38583422,"question_id":34939992,"body_markdown":"You can install SonarLint as described by Sumit Singh.\r\nThen you can link your project to a sonarqube server as described [here][1]\r\n\r\n\r\n  [1]: http://www.sonarlint.org/eclipse/\r\n\r\nAfter that just make a change and save it. Sonarlint will automatically analyze the project for you. Cause analyzing is enabled by default (as far as i know)","title":"How to use SonarLint in Eclipse","body":"<p>You can install SonarLint as described by Sumit Singh.\nThen you can link your project to a sonarqube server as described <a href=\"http://www.sonarlint.org/eclipse/\" rel=\"nofollow\">here</a></p>\n\n<p>After that just make a change and save it. Sonarlint will automatically analyze the project for you. Cause analyzing is enabled by default (as far as i know)</p>\n"},{"tags":[],"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501600741,"creation_date":1501600741,"answer_id":45441696,"question_id":34939992,"body_markdown":"If you want to analyze a complete project with the Sonar Lint plugin, you can trick the plugin by searching all Java files with a text editor and replacing &quot;package&quot; with &quot; package&quot;. This will cause SVN or git changes. Open the &quot;Sonar Lint Report&quot; view and run the analysis on the &quot;Current project&quot;. Afterwards, revert all your SVN changes. Do *not* run the analysis again as the Sonar Lint Plugin only analyzes changed files. \r\n\r\nI found this helpful when I had no project on the Sonar server available.","title":"How to use SonarLint in Eclipse","body":"<p>If you want to analyze a complete project with the Sonar Lint plugin, you can trick the plugin by searching all Java files with a text editor and replacing \"package\" with \" package\". This will cause SVN or git changes. Open the \"Sonar Lint Report\" view and run the analysis on the \"Current project\". Afterwards, revert all your SVN changes. Do <em>not</em> run the analysis again as the Sonar Lint Plugin only analyzes changed files. </p>\n\n<p>I found this helpful when I had no project on the Sonar server available.</p>\n"},{"tags":[],"owner":{"account_id":3851913,"reputation":23,"user_id":3191862,"display_name":"Giac1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685458956,"creation_date":1685458956,"answer_id":76366182,"question_id":34939992,"body_markdown":"Maybe I&#39;m late but try looking at this doc/wiki about SonarLint for Eclipse:&lt;br&gt;\r\nhttps://github.com/SonarSource/sonarlint-eclipse/wiki","title":"How to use SonarLint in Eclipse","body":"<p>Maybe I'm late but try looking at this doc/wiki about SonarLint for Eclipse:<br>\n<a href=\"https://github.com/SonarSource/sonarlint-eclipse/wiki\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonarlint-eclipse/wiki</a></p>\n"}],"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133437,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":34940012,"answer_count":4,"score":36,"last_activity_date":1685458956,"creation_date":1453442448,"question_id":34939992,"body_markdown":"I was assigned to use SonarQube for code quality. But while I&#39;m downloading it&#39;s plugin to Eclipse I understood it is deprecated and new one is SonarLint.  \r\n\r\nBut as so far I couldn&#39;t find any good documentation to how to use SonarLint. How to check java project using that. I only got touch with Youtube videos. But sadly they are really really unclear to me. \r\n\r\nIf can direct me to a good place to gain clear knowledge on this I&#39;ll be really grateful to you. ","title":"How to use SonarLint in Eclipse","body":"<p>I was assigned to use SonarQube for code quality. But while I'm downloading it's plugin to Eclipse I understood it is deprecated and new one is SonarLint.  </p>\n\n<p>But as so far I couldn't find any good documentation to how to use SonarLint. How to check java project using that. I only got touch with Youtube videos. But sadly they are really really unclear to me. </p>\n\n<p>If can direct me to a good place to gain clear knowledge on this I'll be really grateful to you. </p>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":24503545,"reputation":36,"user_id":18418850,"display_name":"codingwzrd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685458402,"creation_date":1685458402,"answer_id":76366104,"question_id":76365849,"body_markdown":"What you are trying to achieve is partial update. The correct way to do this is :\r\n 1. In the backend you expose an endpoint such as:\r\n \r\n\r\n    PATCH /users/{id}\r\n   \r\n 2. You can use an existing DTO but you need to make sure that the no fields are mandatory since then you break the &quot;partial&quot; thingy.. e.g PatchUserDTO.class\r\n\r\n 3. The request you will send:\r\n    Body:\r\n    {\r\n     &quot;name&quot;:&quot;...&quot;,\r\n      &quot;birthday&quot;:&quot;....&quot;\r\n    }\r\n 4. You find the entity by id provided in the path.\r\n 5. You map the fields from the dto to the existing entity.( You can use ModelMapper or just provide helper methods )\r\n\r\n 6. Pass down the model to the service layer and it takes care of saving etc..\r\n\r\nYou said that the resource can be identified by /users/name.. But this looks wrong because chances of names being unique are quite low..\r\nDo not be afraid to have DTO&#39;s for specific use cases, you will have more classes but your code is more readable and you separate the concerns.\r\n ","title":"Update a single property with REST/RestController","body":"<p>What you are trying to achieve is partial update. The correct way to do this is :</p>\n<ol>\n<li><p>In the backend you expose an endpoint such as:</p>\n<p>PATCH /users/{id}</p>\n</li>\n<li><p>You can use an existing DTO but you need to make sure that the no fields are mandatory since then you break the &quot;partial&quot; thingy.. e.g PatchUserDTO.class</p>\n</li>\n<li><p>The request you will send:\nBody:\n{\n&quot;name&quot;:&quot;...&quot;,\n&quot;birthday&quot;:&quot;....&quot;\n}</p>\n</li>\n<li><p>You find the entity by id provided in the path.</p>\n</li>\n<li><p>You map the fields from the dto to the existing entity.( You can use ModelMapper or just provide helper methods )</p>\n</li>\n<li><p>Pass down the model to the service layer and it takes care of saving etc..</p>\n</li>\n</ol>\n<p>You said that the resource can be identified by /users/name.. But this looks wrong because chances of names being unique are quite low..\nDo not be afraid to have DTO's for specific use cases, you will have more classes but your code is more readable and you separate the concerns.</p>\n"}],"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685482725,"accepted_answer_id":76366104,"answer_count":1,"score":0,"last_activity_date":1685458700,"creation_date":1685456651,"question_id":76365849,"body_markdown":"What is the best way to update a single property with RestController?\r\n\r\nI have a DTO with a lot of fields and need to update just one. Basically, on the frontend there might be no DTO at all. For example, frontend has 2 fields: username and birthday, both could be filled manually. On submit, on the server side, I need to find a user with that name and update that field. Despite the &quot;lost update&quot; problem, which is irrelevant in this case, what is the best way to accomplish that?\r\n\r\nI see following options (assuming entity is identified by the path, like &quot;/users/name&quot;):\r\n\r\n 1. To pass json with PUT and just one required field set, i. e. `{ &#39;birthdate&#39; : &#39;1854/12/02&#39;}` and to map it to the DTO class instance. It could be problematic, cause DTO could have some mandatory fields, like Id or something, which could break the whole design\r\n 2. To find whole entity/DTO from the client&#39; side first, then to transfer it to the client, then modify, then pass it back to the RestController&#39;s PUT endpoint. Quite complicated for such a trivial operation.\r\n 3. To do everything manually, like, to use the same simple JSON with just this one field, and to parse JSON manually. To find/create entity/DTO in the service or controller then, and update. In this case, from my point of view, it&#39;s not good to manually parse body and the rest of manual work don&#39;t suit the whole spring/rest design.\r\n\r\nI suppose, there&#39;s a simple and elegant way to achieve that. Please share. Thank you!\r\n\r\n \r\n\r\n","title":"Update a single property with REST/RestController","body":"<p>What is the best way to update a single property with RestController?</p>\n<p>I have a DTO with a lot of fields and need to update just one. Basically, on the frontend there might be no DTO at all. For example, frontend has 2 fields: username and birthday, both could be filled manually. On submit, on the server side, I need to find a user with that name and update that field. Despite the &quot;lost update&quot; problem, which is irrelevant in this case, what is the best way to accomplish that?</p>\n<p>I see following options (assuming entity is identified by the path, like &quot;/users/name&quot;):</p>\n<ol>\n<li>To pass json with PUT and just one required field set, i. e. <code>{ 'birthdate' : '1854/12/02'}</code> and to map it to the DTO class instance. It could be problematic, cause DTO could have some mandatory fields, like Id or something, which could break the whole design</li>\n<li>To find whole entity/DTO from the client' side first, then to transfer it to the client, then modify, then pass it back to the RestController's PUT endpoint. Quite complicated for such a trivial operation.</li>\n<li>To do everything manually, like, to use the same simple JSON with just this one field, and to parse JSON manually. To find/create entity/DTO in the service or controller then, and update. In this case, from my point of view, it's not good to manually parse body and the rest of manual work don't suit the whole spring/rest design.</li>\n</ol>\n<p>I suppose, there's a simple and elegant way to achieve that. Please share. Thank you!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685458333,"creation_date":1685458333,"answer_id":76366097,"question_id":76345157,"body_markdown":"For now, Kafka Streams doesn&#39;t support handling errors and pushing a record to a DLQ, so you&#39;ll need to implement it yourself.\r\n\r\nAlso, note that making external calls from Kafka Streams is not considered a best practice for the reason you describe here.\r\n\r\nBut if you need to do this in Kafka Streams, maybe try using a [KStream.process][1] method and make the HTTP external call from there and keep track of the time if the response doesn&#39;t come back in time, forward the record with a flag of some sort indicating the failure, and you could use either `branch` downstream to route the failed records to a DLQ or simply use a [TopicNameExtractor][2]\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/kstream/KStream.html#process-org.apache.kafka.streams.processor.api.ProcessorSupplier-org.apache.kafka.streams.kstream.Named-java.lang.String...-\r\n  [2]: https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/processor/TopicNameExtractor.html","title":"Kafka stream for processing event which takes long time","body":"<p>For now, Kafka Streams doesn't support handling errors and pushing a record to a DLQ, so you'll need to implement it yourself.</p>\n<p>Also, note that making external calls from Kafka Streams is not considered a best practice for the reason you describe here.</p>\n<p>But if you need to do this in Kafka Streams, maybe try using a <a href=\"https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/kstream/KStream.html#process-org.apache.kafka.streams.processor.api.ProcessorSupplier-org.apache.kafka.streams.kstream.Named-java.lang.String...-\" rel=\"nofollow noreferrer\">KStream.process</a> method and make the HTTP external call from there and keep track of the time if the response doesn't come back in time, forward the record with a flag of some sort indicating the failure, and you could use either <code>branch</code> downstream to route the failed records to a DLQ or simply use a <a href=\"https://javadoc.io/static/org.apache.kafka/kafka-streams/3.4.0/org/apache/kafka/streams/processor/TopicNameExtractor.html\" rel=\"nofollow noreferrer\">TopicNameExtractor</a></p>\n"}],"owner":{"account_id":4306490,"reputation":75,"user_id":3527506,"accept_rate":40,"display_name":"omkar1707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685458333,"creation_date":1685156203,"question_id":76345157,"body_markdown":"I have a Spring Boot Kafka Stream application that reads the records do some HTTP calls and transform the record into another form. This transform record is then sent to the producer. \r\n```\r\nfinal KStream&lt;String, String&gt; toSquare = builder.stream(eventTopic,\r\n                Consumed.with(Serdes.String(), Serdes.String()));\r\ntoSquare.mapValues(recodProcessor::processMessage).to(notificationTopic,\r\n                Produced.with(Serdes.String(), Serdes.String()));\r\n```\r\n\r\nSometimes `processMessage` method is taking more than 5 min to execute based on the input event. `max.poll.interval.ms` is configured as 5 min. This is triggering rebalancing. Also, we are seeing the lag start building up for the particular partition.\r\n\r\nHow Kafka stream can be configured to handle such a scenario like throwing an error and pushing a record in DLQ and moving to the next record?","title":"Kafka stream for processing event which takes long time","body":"<p>I have a Spring Boot Kafka Stream application that reads the records do some HTTP calls and transform the record into another form. This transform record is then sent to the producer.</p>\n<pre><code>final KStream&lt;String, String&gt; toSquare = builder.stream(eventTopic,\n                Consumed.with(Serdes.String(), Serdes.String()));\ntoSquare.mapValues(recodProcessor::processMessage).to(notificationTopic,\n                Produced.with(Serdes.String(), Serdes.String()));\n</code></pre>\n<p>Sometimes <code>processMessage</code> method is taking more than 5 min to execute based on the input event. <code>max.poll.interval.ms</code> is configured as 5 min. This is triggering rebalancing. Also, we are seeing the lag start building up for the particular partition.</p>\n<p>How Kafka stream can be configured to handle such a scenario like throwing an error and pushing a record in DLQ and moving to the next record?</p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1377020683,"post_id":18341652,"comment_id":26923365,"body_markdown":"Is there something else listening on port 8080? What does `netstat -a -b` output for port 8080?","body":"Is there something else listening on port 8080? What does <code>netstat -a -b</code> output for port 8080?"},{"owner":{"account_id":1987939,"reputation":505,"user_id":1782683,"accept_rate":32,"display_name":"J&#225;n Srniček"},"score":0,"creation_date":1377021050,"post_id":18341652,"comment_id":26923524,"body_markdown":"yes ,there are some apss linstening on that port","body":"yes ,there are some apss linstening on that port"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1377037753,"post_id":18341652,"comment_id":26931578,"body_markdown":"@AnthonyForloney &#39;Something else listening&#39; wouldn&#39;t cause ECONNREFUSED. That means *nothing* is listening, or a firewall rule.","body":"@AnthonyForloney &#39;Something else listening&#39; wouldn&#39;t cause ECONNREFUSED. That means <i>nothing</i> is listening, or a firewall rule."}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":143,"is_accepted":true,"score":143,"last_activity_date":1533566251,"creation_date":1377088698,"answer_id":18357646,"question_id":18341652,"body_markdown":"To access your PC localhost from Android emulator, use 10.0.2.2 instead of 127.0.0.1. localhost or 127.0.0.1 refers to the emulated device itself, not the host the emulator is running on.\r\n\r\nReference: https://developer.android.com/studio/run/emulator-networking#networkaddresses\r\n\r\nFor **Genymotion** use:  **10.0.3.2** instead of 10.0.2.2 ","title":"connect failed: ECONNREFUSED","body":"<p>To access your PC localhost from Android emulator, use 10.0.2.2 instead of 127.0.0.1. localhost or 127.0.0.1 refers to the emulated device itself, not the host the emulator is running on.</p>\n\n<p>Reference: <a href=\"https://developer.android.com/studio/run/emulator-networking#networkaddresses\" rel=\"noreferrer\">https://developer.android.com/studio/run/emulator-networking#networkaddresses</a></p>\n\n<p>For <strong>Genymotion</strong> use:  <strong>10.0.3.2</strong> instead of 10.0.2.2 </p>\n"},{"tags":[],"owner":{"account_id":9140932,"reputation":21,"user_id":6798790,"display_name":"Rahul pawar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473448034,"creation_date":1473448034,"answer_id":39418245,"question_id":18341652,"body_markdown":"\r\nif you are using genymotion then go to command prompt type ipconfig\r\n-find for Ethernet adapter virtualBox host-only network:\r\n-find for Ipv4 Address..............192.1**.**.*\r\ncopy \r\n\r\nhttp://192.1**.**.*/foldername/filename/filename.json or filename.php\r\n\r\nto check if its working go to browser in emulator copy paste the url you should find the file which you are looking in your browser..\r\n\r\nSorry for English..\r\nThis worked for me hope this might help some one..\r\nThank u..\r\n","title":"connect failed: ECONNREFUSED","body":"<p>if you are using genymotion then go to command prompt type ipconfig\n-find for Ethernet adapter virtualBox host-only network:\n-find for Ipv4 Address..............192.1**.**.*\ncopy </p>\n\n<p><a href=\"http://192.1\" rel=\"nofollow\">http://192.1</a><strong>.</strong>.*/foldername/filename/filename.json or filename.php</p>\n\n<p>to check if its working go to browser in emulator copy paste the url you should find the file which you are looking in your browser..</p>\n\n<p>Sorry for English..\nThis worked for me hope this might help some one..\nThank u..</p>\n"}],"owner":{"account_id":1987939,"reputation":505,"user_id":1782683,"accept_rate":32,"display_name":"J&#225;n Srniček"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83211,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":18357646,"answer_count":2,"score":50,"last_activity_date":1685458019,"creation_date":1377020544,"question_id":18341652,"body_markdown":"I am developing one app, and what I think I wanna do is receive data from server database in android. So I started to run some tutorials. I found one that is doing pretty much what I want. \r\nBut I am getting: \r\n\r\n    detailMessage\t&quot;failed to connect to localhost/127.0.0.1 (port 8080): connect failed: ECONNREFUSED (Connection refused)&quot; (id=830021648792)\t\r\n\r\nWhole code of this tutorial is here [link][1]\r\n\r\nError occurs on : \r\n\r\n`OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());`\r\n\r\n\r\n  [1]: http://veereshr.com/Android/AndroidToServlet\r\n\r\nI checked that:\r\n\r\n - firewall is disabled\r\n - ping is working\r\n - connection string is exactly the same as when I run the servlet from server admin interface - `http://localhost:8080/Requestor/RQSRV`\r\n-the servlet is running \r\n\r\nMy configuration :\r\n\r\n\r\n - Server : Glass Fish 4.0\r\n - Android App - Developed in Eclipse\r\n - Servlet - Developed in NetBeans\r\n\r\n","title":"connect failed: ECONNREFUSED","body":"<p>I am developing one app, and what I think I wanna do is receive data from server database in android. So I started to run some tutorials. I found one that is doing pretty much what I want. \nBut I am getting: </p>\n\n<pre><code>detailMessage   \"failed to connect to localhost/127.0.0.1 (port 8080): connect failed: ECONNREFUSED (Connection refused)\" (id=830021648792) \n</code></pre>\n\n<p>Whole code of this tutorial is here <a href=\"http://veereshr.com/Android/AndroidToServlet\" rel=\"noreferrer\">link</a></p>\n\n<p>Error occurs on : </p>\n\n<p><code>OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());</code></p>\n\n<p>I checked that:</p>\n\n<ul>\n<li>firewall is disabled</li>\n<li>ping is working</li>\n<li>connection string is exactly the same as when I run the servlet from server admin interface - <code>http://localhost:8080/Requestor/RQSRV</code>\n-the servlet is running </li>\n</ul>\n\n<p>My configuration :</p>\n\n<ul>\n<li>Server : Glass Fish 4.0</li>\n<li>Android App - Developed in Eclipse</li>\n<li>Servlet - Developed in NetBeans</li>\n</ul>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1685452702,"post_id":76365168,"comment_id":134659495,"body_markdown":"I&#39;m not sure you can include multiple statements into one execution. Also, you should remove those `\\n`s. At best they&#39;re useless, at worst they break the execution.","body":"I&#39;m not sure you can include multiple statements into one execution. Also, you should remove those <code>\\n</code>s. At best they&#39;re useless, at worst they break the execution."},{"owner":{"account_id":31629,"reputation":264537,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"score":0,"creation_date":1685453097,"post_id":76365168,"comment_id":134659592,"body_markdown":"What is the purpose of `SET SQL_SAFE_UPDATES = 0`?","body":"What is the purpose of <code>SET SQL_SAFE_UPDATES = 0</code>?"},{"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"score":0,"creation_date":1685453182,"post_id":76365168,"comment_id":134659621,"body_markdown":"SET SQL_SAFE_UPDATES = 0; because mySQL is on save mode by default and i can&#39;t delete the data without it","body":"SET SQL_SAFE_UPDATES = 0; because mySQL is on save mode by default and i can&#39;t delete the data without it"},{"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"score":0,"creation_date":1685453238,"post_id":76365168,"comment_id":134659638,"body_markdown":"@FedericoklezCulloca i tried to remove \\n but the error is still the same, i don&#39;t know what to do now","body":"@FedericoklezCulloca i tried to remove \\n but the error is still the same, i don&#39;t know what to do now"},{"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"score":0,"creation_date":1685453529,"post_id":76365168,"comment_id":134659710,"body_markdown":"@SManikandan i just tried replacing &quot;*&quot; with ID since there is only one column in the table, it still returns &quot;RefreshCart:You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;delete from cart where cart.ID in (select ID from (select cart.ID from cart wher&#39; at line 1&quot;","body":"@SManikandan i just tried replacing &quot;*&quot; with ID since there is only one column in the table, it still returns &quot;RefreshCart:You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;delete from cart where cart.ID in (select ID from (select cart.ID from cart wher&#39; at line 1&quot;"},{"owner":{"account_id":10298373,"reputation":148,"user_id":7597798,"display_name":"S Manikandan"},"score":0,"creation_date":1685453945,"post_id":76365168,"comment_id":134659823,"body_markdown":"replace * with  &quot;tblTmp.id &quot;","body":"replace * with  &quot;tblTmp.id &quot;"}],"answers":[{"tags":[],"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685454134,"creation_date":1685454134,"answer_id":76365478,"question_id":76365168,"body_markdown":"OK, so what did work for me is to divide the sql statement into 3 parts, execute them in seperate functions and then make a function that does 3 of them step by step like so\r\n\r\n        public void deleteData() {\r\n        try {\r\n            String strUpdate = &quot;delete from cart where cart.ID in (select ID from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp)&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void sqlUnsafe() {\r\n        try {\r\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n     public void sqlSafe() {\r\n        try {\r\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 1&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n     \r\n    public void refresh(){\r\n        this.sqlUnsafe();\r\n        this.deleteData();\r\n        this.sqlSafe();\r\n    }","title":"Why does my JDBC/MySQL code throw an error when running SQL &#39;delete from cart where cart.ID in ...&#39; inside a function?","body":"<p>OK, so what did work for me is to divide the sql statement into 3 parts, execute them in seperate functions and then make a function that does 3 of them step by step like so</p>\n<pre><code>    public void deleteData() {\n    try {\n        String strUpdate = &quot;delete from cart where cart.ID in (select ID from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp)&quot;;\n        System.out.println(strUpdate);\n        pstm = cnn.prepareStatement(strUpdate);\n        pstm.executeUpdate();\n    } catch (Exception e) {\n        System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n    }\n}\n\npublic void sqlUnsafe() {\n    try {\n        String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0&quot;;\n        System.out.println(strUpdate);\n        pstm = cnn.prepareStatement(strUpdate);\n        pstm.executeUpdate();\n    } catch (Exception e) {\n        System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n    }\n}\n public void sqlSafe() {\n    try {\n        String strUpdate = &quot;SET SQL_SAFE_UPDATES = 1&quot;;\n        System.out.println(strUpdate);\n        pstm = cnn.prepareStatement(strUpdate);\n        pstm.executeUpdate();\n    } catch (Exception e) {\n        System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n    }\n}\n \npublic void refresh(){\n    this.sqlUnsafe();\n    this.deleteData();\n    this.sqlSafe();\n}\n</code></pre>\n"}],"owner":{"account_id":28710466,"reputation":11,"user_id":21986059,"display_name":"Quang Pham"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685454126,"answer_count":1,"score":0,"last_activity_date":1685457980,"creation_date":1685451819,"question_id":76365168,"body_markdown":"so i was trying to run these lines of code \r\n\r\n \r\n```\r\n\r\n    public void refresh() {\r\n        try {\r\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0; \\n&quot;\r\n                    + &quot;delete from cart where cart.ID in (select * from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp);\\n&quot;\r\n                    + &quot;SET SQL_SAFE_UPDATES = 1;&quot;;\r\n            System.out.println(strUpdate);\r\n            pstm = cnn.prepareStatement(strUpdate);\r\n            pstm.executeUpdate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\r\n        }\r\n    }\r\n   \r\n```\r\nThe 3 sql line ran fine in mySQL\r\n[enter image description here](https://i.stack.imgur.com/zu5cP.png) \r\nbut when i try to ran it in this function it returns an error\r\n[enter image description here](https://i.stack.imgur.com/zHuBU.png)\r\n\r\ni have the SQL statement printed out using System.out.println and it returned fine, even works when i recopy it back into mySQL workbench\r\n[enter image description here](https://i.stack.imgur.com/Ri1mU.png)","title":"Why does my JDBC/MySQL code throw an error when running SQL &#39;delete from cart where cart.ID in ...&#39; inside a function?","body":"<p>so i was trying to run these lines of code</p>\n<pre><code>\n    public void refresh() {\n        try {\n            String strUpdate = &quot;SET SQL_SAFE_UPDATES = 0; \\n&quot;\n                    + &quot;delete from cart where cart.ID in (select * from (select cart.ID from cart where cart.ID not in (select cart.ID from cart inner join orders where cart.OrderID = orders.OrderID))tblTmp);\\n&quot;\n                    + &quot;SET SQL_SAFE_UPDATES = 1;&quot;;\n            System.out.println(strUpdate);\n            pstm = cnn.prepareStatement(strUpdate);\n            pstm.executeUpdate();\n        } catch (Exception e) {\n            System.out.println(&quot;RefreshCart:&quot; + e.getMessage());\n        }\n    }\n   \n</code></pre>\n<p>The 3 sql line ran fine in mySQL\n<a href=\"https://i.stack.imgur.com/zu5cP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nbut when i try to ran it in this function it returns an error\n<a href=\"https://i.stack.imgur.com/zHuBU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i have the SQL statement printed out using System.out.println and it returned fine, even works when i recopy it back into mySQL workbench\n<a href=\"https://i.stack.imgur.com/Ri1mU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633510037,"post_id":69462503,"comment_id":122775827,"body_markdown":"You can use the `OffsetDateTime` and call `myOffsetDateTime.toLocalTime()`.","body":"You can use the <code>OffsetDateTime</code> and call <code>myOffsetDateTime.toLocalTime()</code>."},{"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"score":1,"creation_date":1633514746,"post_id":69462503,"comment_id":122777861,"body_markdown":"It could work but it&#39;s not too effective, firstly, I&#39;d have to do that in a lot of different places, and also, setting the parameter as `date-time` in the OpenAPI specification would communicate that it allows any combination of date and time, while it actually only works with time. I guess my wording wasn&#39;t very good, because what I&#39;d like is to have a time parameter in my API and also in the generated code. (Maybe using a regex pattern for the string is my only choice?)","body":"It could work but it&#39;s not too effective, firstly, I&#39;d have to do that in a lot of different places, and also, setting the parameter as <code>date-time</code> in the OpenAPI specification would communicate that it allows any combination of date and time, while it actually only works with time. I guess my wording wasn&#39;t very good, because what I&#39;d like is to have a time parameter in my API and also in the generated code. (Maybe using a regex pattern for the string is my only choice?)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633515465,"post_id":69462503,"comment_id":122778140,"body_markdown":"Sorry, I think it was not the wording but the lack of example values and code. Could you provide some minimal and reproducible example of the situation?","body":"Sorry, I think it was not the wording but the lack of example values and code. Could you provide some minimal and reproducible example of the situation?"},{"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"score":0,"creation_date":1633516141,"post_id":69462503,"comment_id":122778439,"body_markdown":"I&#39;ve added a small example of what I need","body":"I&#39;ve added a small example of what I need"}],"answers":[{"tags":[],"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633517506,"creation_date":1633516821,"answer_id":69464205,"question_id":69462503,"body_markdown":"Solved it! Actually it was really easy, but being a beginner in OpenAPI it was hard finding a solution.Given the example in my question, I&#39;d just have to run `openapi-generator-cli` as\r\n\r\n`openapi-generator-cli generate -g java --type-mappings time=LocalTime`\r\n\r\nAnd *voil&#224;*, it&#39;s done!\r\n\r\nEDIT:\r\nBut this doesn&#39;t use `java.time.LocalTime` as a type because of the previously (in the question) mentioned `import-mappings`, so the definitive command would be:\r\n\r\n```\r\nopenapi-generator-cli generate -g java --type-mappings time=LocalTime --import-mappings LocalTime=java.time.LocalTime\r\n```\r\n","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>Solved it! Actually it was really easy, but being a beginner in OpenAPI it was hard finding a solution.Given the example in my question, I'd just have to run <code>openapi-generator-cli</code> as</p>\n<p><code>openapi-generator-cli generate -g java --type-mappings time=LocalTime</code></p>\n<p>And <em>voilà</em>, it's done!</p>\n<p>EDIT:\nBut this doesn't use <code>java.time.LocalTime</code> as a type because of the previously (in the question) mentioned <code>import-mappings</code>, so the definitive command would be:</p>\n<pre><code>openapi-generator-cli generate -g java --type-mappings time=LocalTime --import-mappings LocalTime=java.time.LocalTime\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7806091,"reputation":85,"user_id":5903937,"display_name":"Elias Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680299055,"creation_date":1680283019,"answer_id":75901127,"question_id":69462503,"body_markdown":"I have found that there is a dateLibrary option in the configOptions tag in the pom.xml. This way I didn&#39;t have to map manually between OffsetDateTime (which was being generated at first) and LocalDateTime. \r\n\r\nIf you add &lt;configHelp&gt;true&lt;/configHelp&gt; to the configuration tag it will print out all the options. \r\n\r\n\r\n    dateLibrary\r\n    \t    Option. Date library to use (Default: threetenbp)\r\n    \t        joda - Joda (for legacy app only)\r\n    \t        legacy - Legacy java.util.Date (if you really have a good reason not to use threetenbp\r\n    \t        java8-localdatetime - Java 8 using LocalDateTime (for legacy app only)\r\n    \t        java8 - Java 8 native JSR310 (preferred for jdk 1.8+) - note: this also sets &quot;java8&quot; to true\r\n    \t        threetenbp - Backport of JSR310 (preferred for jdk &lt; 1.8)\r\n\r\n","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>I have found that there is a dateLibrary option in the configOptions tag in the pom.xml. This way I didn't have to map manually between OffsetDateTime (which was being generated at first) and LocalDateTime.</p>\n<p>If you add true to the configuration tag it will print out all the options.</p>\n<pre><code>dateLibrary\n        Option. Date library to use (Default: threetenbp)\n            joda - Joda (for legacy app only)\n            legacy - Legacy java.util.Date (if you really have a good reason not to use threetenbp\n            java8-localdatetime - Java 8 using LocalDateTime (for legacy app only)\n            java8 - Java 8 native JSR310 (preferred for jdk 1.8+) - note: this also sets &quot;java8&quot; to true\n            threetenbp - Backport of JSR310 (preferred for jdk &lt; 1.8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14650812,"reputation":264,"user_id":10580886,"display_name":"mflorczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685457899,"creation_date":1685457899,"answer_id":76366031,"question_id":69462503,"body_markdown":"If you are using spring with gradle you need to add this two properties to build.gradle\r\n\r\n    openApiGenerate() {\r\n        generatorName = &quot;spring&quot;\r\n        ...\r\n        typeMappings = [&quot;time&quot;: &quot;LocalTime&quot;]\r\n        importMappings = [&quot;LocalTime&quot;: &quot;java.time.LocalTime&quot;]\r\n    }\r\nSo this configuration will say that `format: time` will generate `LocalTime` type and `java.time.LocalTime` here is the source of this type.","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>If you are using spring with gradle you need to add this two properties to build.gradle</p>\n<pre><code>openApiGenerate() {\n    generatorName = &quot;spring&quot;\n    ...\n    typeMappings = [&quot;time&quot;: &quot;LocalTime&quot;]\n    importMappings = [&quot;LocalTime&quot;: &quot;java.time.LocalTime&quot;]\n}\n</code></pre>\n<p>So this configuration will say that <code>format: time</code> will generate <code>LocalTime</code> type and <code>java.time.LocalTime</code> here is the source of this type.</p>\n"}],"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7875,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69464205,"answer_count":3,"score":4,"last_activity_date":1685457899,"creation_date":1633509990,"question_id":69462503,"body_markdown":"I see that there is a `date` format for strings in OpenAPI, and that by using `dateLibrary=java8` we can generate `LocalDate` fields by using `openapi-generator`.\r\n\r\nBut is there any way of producing `LocalTime` fields? There is no `time` format in OpenAPI and the `date-time` one produces `OffsetDateTime`.\r\n\r\nEDIT: It&#39;s hard offering a reproducible example since the question is about something I can&#39;t do, but some illustrative example would be that I want something along the lines of:\r\n\r\nA schema specification:\r\n```yaml\r\nVisit:\r\n  type: object\r\n  parameters:\r\n    visitor:\r\n      type: string\r\n    timeOfVisit:\r\n      type: string\r\n      format: time\r\n```\r\n\r\nBut obviously the `time` format is not present in the OpenAPI specification. The generated code should be something like\r\n\r\n```java\r\npublic class Visit {\r\n  private String visitor;\r\n  private LocalTime timeOfVisit;\r\n\r\n  // Getters, setters, etc\r\n}\r\n```\r\n\r\nThere must surely be some way for `openapi-generator` to produce this output, isn&#39;t it? I&#39;ve found that there are some `import-mappings` that map `LocalTime` to `org.joda.time.*` so there seems to be a way of having it produce `LocalTime` types, but I haven&#39;t found it","title":"Generate `LocalTime` from OpenAPI specification","body":"<p>I see that there is a <code>date</code> format for strings in OpenAPI, and that by using <code>dateLibrary=java8</code> we can generate <code>LocalDate</code> fields by using <code>openapi-generator</code>.</p>\n<p>But is there any way of producing <code>LocalTime</code> fields? There is no <code>time</code> format in OpenAPI and the <code>date-time</code> one produces <code>OffsetDateTime</code>.</p>\n<p>EDIT: It's hard offering a reproducible example since the question is about something I can't do, but some illustrative example would be that I want something along the lines of:</p>\n<p>A schema specification:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Visit:\n  type: object\n  parameters:\n    visitor:\n      type: string\n    timeOfVisit:\n      type: string\n      format: time\n</code></pre>\n<p>But obviously the <code>time</code> format is not present in the OpenAPI specification. The generated code should be something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Visit {\n  private String visitor;\n  private LocalTime timeOfVisit;\n\n  // Getters, setters, etc\n}\n</code></pre>\n<p>There must surely be some way for <code>openapi-generator</code> to produce this output, isn't it? I've found that there are some <code>import-mappings</code> that map <code>LocalTime</code> to <code>org.joda.time.*</code> so there seems to be a way of having it produce <code>LocalTime</code> types, but I haven't found it</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":1112721,"reputation":4566,"user_id":1103702,"accept_rate":65,"display_name":"Churk"},"score":2,"creation_date":1333103598,"post_id":9941296,"comment_id":12692453,"body_markdown":"I think this can be accomplish much easier by using packaging tool such as ANT or Maven","body":"I think this can be accomplish much easier by using packaging tool such as ANT or Maven"},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1333103716,"post_id":9941296,"comment_id":12692484,"body_markdown":"Agree with Chuck. Take a look at ANT. IDEs are great for developing, but you need to understand how things works. java files are compiled via javac to .class files, after this, .class files can be packaged into a jar with the jar command. (Ant has tasks for doing this, even jdeveloper has some wizard for doing this).","body":"Agree with Chuck. Take a look at ANT. IDEs are great for developing, but you need to understand how things works. java files are compiled via javac to .class files, after this, .class files can be packaged into a jar with the jar command. (Ant has tasks for doing this, even jdeveloper has some wizard for doing this)."},{"owner":{"account_id":288915,"reputation":364,"user_id":589591,"display_name":"stolzem"},"score":0,"creation_date":1333103781,"post_id":9941296,"comment_id":12692500,"body_markdown":"JDeveloper itself should have the capability to create jar files. A quick google search comes up with a howto here: http://tompeez.wordpress.com/2011/06/01/creating-a-jar-file-in-jdeveloper/","body":"JDeveloper itself should have the capability to create jar files. A quick google search comes up with a howto here: <a href=\"http://tompeez.wordpress.com/2011/06/01/creating-a-jar-file-in-jdeveloper/\" rel=\"nofollow noreferrer\">tompeez.wordpress.com/2011/06/01/&hellip;</a>"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1333103883,"post_id":9941296,"comment_id":12692534,"body_markdown":"Can you clarify your question?","body":"Can you clarify your question?"},{"owner":{"account_id":2679536,"reputation":667,"user_id":2315166,"display_name":"garish"},"score":0,"creation_date":1596172238,"post_id":9941296,"comment_id":111732542,"body_markdown":"Go to source dir and run command:-  javac *.java &amp;&amp; jar cvf  JarName.jar *.class","body":"Go to source dir and run command:-  javac *.java &amp;&amp; jar cvf  JarName.jar *.class"}],"answers":[{"tags":[],"owner":{"account_id":456742,"reputation":1952,"user_id":855654,"accept_rate":100,"display_name":"ab_dev86"},"down_vote_count":3,"up_vote_count":45,"is_accepted":false,"score":42,"last_activity_date":1532111939,"creation_date":1333103872,"answer_id":9941385,"question_id":9941296,"body_markdown":"Simply with command line:\r\n\r\n    javac MyApp.java\r\n    jar -cf myJar.jar MyApp.class\r\n\r\nSure IDEs avoid using command line terminal","title":"How do I make a JAR from a .java file?","body":"<p>Simply with command line:</p>\n\n<pre><code>javac MyApp.java\njar -cf myJar.jar MyApp.class\n</code></pre>\n\n<p>Sure IDEs avoid using command line terminal</p>\n"},{"tags":[],"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"down_vote_count":2,"up_vote_count":137,"is_accepted":false,"score":135,"last_activity_date":1455205690,"creation_date":1333103970,"answer_id":9941411,"question_id":9941296,"body_markdown":"Open a command prompt.\r\n\r\nGo to the directory where you have your .java files\r\n\r\nCreate a directory build\r\n\r\nRun java compilation from the command line\r\n\r\n    javac -d ./build *.java\r\n\r\nif there are no errors, in the build directory you should have your class tree\r\n\r\nmove to the build directory and do a \r\n\r\n    jar cvf YourJar.jar *\r\n\r\nFor adding manifest check jar command line switches","title":"How do I make a JAR from a .java file?","body":"<p>Open a command prompt.</p>\n\n<p>Go to the directory where you have your .java files</p>\n\n<p>Create a directory build</p>\n\n<p>Run java compilation from the command line</p>\n\n<pre><code>javac -d ./build *.java\n</code></pre>\n\n<p>if there are no errors, in the build directory you should have your class tree</p>\n\n<p>move to the build directory and do a </p>\n\n<pre><code>jar cvf YourJar.jar *\n</code></pre>\n\n<p>For adding manifest check jar command line switches</p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1382893104,"creation_date":1382893104,"answer_id":19620748,"question_id":9941296,"body_markdown":"This can be done without terminal, directly from IDE. Netbeans, for example.\r\n\r\n1. Create a separate project with packages (Create Project - Java - Java Class Library).\r\n2. Put your .java classes there.\r\n3. Build this project.\r\n4. Go to your project folder and find build and dist folders there.\r\n5. Find .jar file in your dist folder.\r\n6. Get your other project and add this .jar file to project libraries.\r\n7. You can now reference classes from this library and its methods directly from code, if import is automatically done for you.\r\n\r\n","title":"How do I make a JAR from a .java file?","body":"<p>This can be done without terminal, directly from IDE. Netbeans, for example.</p>\n\n<ol>\n<li>Create a separate project with packages (Create Project - Java - Java Class Library).</li>\n<li>Put your .java classes there.</li>\n<li>Build this project.</li>\n<li>Go to your project folder and find build and dist folders there.</li>\n<li>Find .jar file in your dist folder.</li>\n<li>Get your other project and add this .jar file to project libraries.</li>\n<li>You can now reference classes from this library and its methods directly from code, if import is automatically done for you.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1439259668,"creation_date":1439259668,"answer_id":31932172,"question_id":9941296,"body_markdown":"Often you will want to specify a manifest, like so:\r\n\r\n    jar -cvfm myJar.jar myManifest.txt myApp.class\r\n\r\nWhich reads: &quot;create verbose jarFilename manifestFilename&quot;, followed by the files you want to include. Verbose means print messages about what it&#39;s doing.\r\n\r\nNote that the name of the manifest file you supply can be anything, as `jar` will automatically rename it and put it into the right directory within the jar file.\r\n\r\n","title":"How do I make a JAR from a .java file?","body":"<p>Often you will want to specify a manifest, like so:</p>\n\n<pre><code>jar -cvfm myJar.jar myManifest.txt myApp.class\n</code></pre>\n\n<p>Which reads: \"create verbose jarFilename manifestFilename\", followed by the files you want to include. Verbose means print messages about what it's doing.</p>\n\n<p>Note that the name of the manifest file you supply can be anything, as <code>jar</code> will automatically rename it and put it into the right directory within the jar file.</p>\n"},{"tags":[],"owner":{"account_id":2498224,"reputation":3197,"user_id":2174099,"accept_rate":42,"display_name":"sarah.ferguson"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1685457877,"creation_date":1444221849,"answer_id":32992556,"question_id":9941296,"body_markdown":"Ok this is the solution I would have liked to find, instead here I write it:\r\n\r\nFirst create the directory structure corresponding to the package defined for the .java file, if it is `my.super.application` create the directory `my` and inside it `super` and inside it the .java file `App.java`\r\n\r\nthen from command line:\r\n\r\n```bash\r\njavac -cp /path/to/lib1.jar:/path/to/lib2.jar path/to/my/super/App.java\r\n```\r\n\r\nNotice the above will include multiple libraries, if under windows use &quot;,&quot; to separate multiple files otherwise under GNU/Linux use &quot;:&quot;\r\nTo create a jar file\r\n\r\n```bash\r\njar -cvfe App.jar App my/app/\r\n```\r\n\r\nthe above will create the application with its corresponding Manifest indicating the App as the main class.\r\n\r\nIncluding the required libraries inside the jar file is not possible using java or jar command line parameters.\r\n\r\nYou can instead:\r\n\r\n 1. manually extract libraries to the root folder of the jar file\r\n 2. use an IDE such as Netbeans and insert a rule inside post-jar section of `nbproject/build-impl.xml` to extract the libraries inside the jar. See below.\r\n\r\n```xml\r\n&lt;target name=&quot;-post-jar&quot;&gt;\r\n    &lt;!-- Empty placeholder for easier customization. --&gt;\r\n    &lt;!-- You can override this target in the ../build.xml file. --&gt;\r\n    &lt;jar jarfile=&quot;${dist.jar}&quot; update=&quot;true&quot;&gt;\r\n        &lt;zipfileset src=&quot;${dist.jar}&quot;                           includes=&quot;**/*.class&quot;/&gt;\r\n        &lt;zipfileset src=&quot;${file.reference.iText-1.0.8.jar}&quot;     includes=&quot;**/*&quot;/&gt;\r\n        &lt;zipfileset src=&quot;${file.reference.itextpdf-3.2.1.jar}&quot;  includes=&quot;**/*&quot;/&gt;\r\n    &lt;/jar&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\nthe `file.reference` names are found inside `project.properties` file after you added the libraries to the Netbeans IDE.","title":"How do I make a JAR from a .java file?","body":"<p>Ok this is the solution I would have liked to find, instead here I write it:</p>\n<p>First create the directory structure corresponding to the package defined for the .java file, if it is <code>my.super.application</code> create the directory <code>my</code> and inside it <code>super</code> and inside it the .java file <code>App.java</code></p>\n<p>then from command line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -cp /path/to/lib1.jar:/path/to/lib2.jar path/to/my/super/App.java\n</code></pre>\n<p>Notice the above will include multiple libraries, if under windows use &quot;,&quot; to separate multiple files otherwise under GNU/Linux use &quot;:&quot;\nTo create a jar file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jar -cvfe App.jar App my/app/\n</code></pre>\n<p>the above will create the application with its corresponding Manifest indicating the App as the main class.</p>\n<p>Including the required libraries inside the jar file is not possible using java or jar command line parameters.</p>\n<p>You can instead:</p>\n<ol>\n<li>manually extract libraries to the root folder of the jar file</li>\n<li>use an IDE such as Netbeans and insert a rule inside post-jar section of <code>nbproject/build-impl.xml</code> to extract the libraries inside the jar. See below.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target name=&quot;-post-jar&quot;&gt;\n    &lt;!-- Empty placeholder for easier customization. --&gt;\n    &lt;!-- You can override this target in the ../build.xml file. --&gt;\n    &lt;jar jarfile=&quot;${dist.jar}&quot; update=&quot;true&quot;&gt;\n        &lt;zipfileset src=&quot;${dist.jar}&quot;                           includes=&quot;**/*.class&quot;/&gt;\n        &lt;zipfileset src=&quot;${file.reference.iText-1.0.8.jar}&quot;     includes=&quot;**/*&quot;/&gt;\n        &lt;zipfileset src=&quot;${file.reference.itextpdf-3.2.1.jar}&quot;  includes=&quot;**/*&quot;/&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n</code></pre>\n<p>the <code>file.reference</code> names are found inside <code>project.properties</code> file after you added the libraries to the Netbeans IDE.</p>\n"},{"tags":[],"owner":{"account_id":8056396,"reputation":51,"user_id":6581048,"display_name":"Matthieu vdBiggelaar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521844022,"creation_date":1521844022,"answer_id":49459082,"question_id":9941296,"body_markdown":"Here is another fancy way of doing this:\r\n\r\n    $ ls | grep .java | xargs -I {} javac {} ; jar -cf myJar.jar *.class\r\n\r\nWhich will grab all the .java files ( `ls | grep .java` ) from your current directory and compile them into .class (`xargs -I {} javac {}`) and then create the jar file from the previously compiled classes (`jar -cf myJar.jar *.class`).","title":"How do I make a JAR from a .java file?","body":"<p>Here is another fancy way of doing this:</p>\n\n<pre><code>$ ls | grep .java | xargs -I {} javac {} ; jar -cf myJar.jar *.class\n</code></pre>\n\n<p>Which will grab all the .java files ( <code>ls | grep .java</code> ) from your current directory and compile them into .class (<code>xargs -I {} javac {}</code>) and then create the jar file from the previously compiled classes (<code>jar -cf myJar.jar *.class</code>).</p>\n"},{"tags":[],"owner":{"account_id":11512106,"reputation":407,"user_id":8436570,"display_name":"Randall Arms"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576995827,"creation_date":1576995827,"answer_id":59442091,"question_id":9941296,"body_markdown":"Perhaps the most beginner-friendly way to compile a JAR from your Java code is to use an IDE (integrated development environment; essentially just user-friendly software for development) like Netbeans or Eclipse.\r\n\r\n* Install and set-up an IDE. [Here is the latest version of Eclipse][1].\r\n* Create a project in your IDE and put your Java files inside of the project folder.\r\n* Select the project in the IDE and export the project as a JAR. Double check that the appropriate java files are selected when exporting.\r\n\r\nYou can always do this all very easily with the command line. Make sure that you are in the same directory as the files targeted before executing a command such as this:\r\n\r\n    javac YourApp.java\r\n    jar -cf YourJar.jar YourApp.class\r\n\r\n...changing &quot;YourApp&quot; and &quot;YourJar&quot; to the proper names of your files, respectively.\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/","title":"How do I make a JAR from a .java file?","body":"<p>Perhaps the most beginner-friendly way to compile a JAR from your Java code is to use an IDE (integrated development environment; essentially just user-friendly software for development) like Netbeans or Eclipse.</p>\n\n<ul>\n<li>Install and set-up an IDE. <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">Here is the latest version of Eclipse</a>.</li>\n<li>Create a project in your IDE and put your Java files inside of the project folder.</li>\n<li>Select the project in the IDE and export the project as a JAR. Double check that the appropriate java files are selected when exporting.</li>\n</ul>\n\n<p>You can always do this all very easily with the command line. Make sure that you are in the same directory as the files targeted before executing a command such as this:</p>\n\n<pre><code>javac YourApp.java\njar -cf YourJar.jar YourApp.class\n</code></pre>\n\n<p>...changing \"YourApp\" and \"YourJar\" to the proper names of your files, respectively.</p>\n"},{"tags":[],"owner":{"account_id":9208637,"reputation":43,"user_id":9289086,"display_name":"Felipe Ara&#250;jo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640463792,"creation_date":1640463792,"answer_id":70482544,"question_id":9941296,"body_markdown":"If you have one simple main class(let&#39;s say Count.class), and want a jar with a MANIFEST file that points to this class as the entry point, you can do this:\r\n\r\n```\r\njar cfe app.jar Count Count.class \r\n```\r\n\r\nSource: https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html","title":"How do I make a JAR from a .java file?","body":"<p>If you have one simple main class(let's say Count.class), and want a jar with a MANIFEST file that points to this class as the entry point, you can do this:</p>\n<pre><code>jar cfe app.jar Count Count.class \n</code></pre>\n<p>Source: <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html</a></p>\n"}],"owner":{"account_id":1366727,"reputation":1101,"user_id":1303007,"display_name":"user1303007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348926,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"answer_count":8,"score":110,"last_activity_date":1685457877,"creation_date":1333103483,"question_id":9941296,"body_markdown":"I was writing a simple program using a Java application (not application that has projects, but application within a project; *.java*) that has a single frame. Both of the files are *.java* so I can&#39;t write a *manifest* needed by the JAR.\r\n\r\nThe *MyApp.java* starts like a class with package, imports then public class `MyApp` and has a main function, but it&#39;s still .java file! I&#39;m writing it in JDeveloper 11g if it helps.\r\n\r\nAny ideas how to make a JAR from these files?  ","title":"How do I make a JAR from a .java file?","body":"<p>I was writing a simple program using a Java application (not application that has projects, but application within a project; <em>.java</em>) that has a single frame. Both of the files are <em>.java</em> so I can't write a <em>manifest</em> needed by the JAR.</p>\n<p>The <em>MyApp.java</em> starts like a class with package, imports then public class <code>MyApp</code> and has a main function, but it's still .java file! I'm writing it in JDeveloper 11g if it helps.</p>\n<p>Any ideas how to make a JAR from these files?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":6,"creation_date":1685456187,"post_id":76365777,"comment_id":134660477,"body_markdown":"Compilers are usually quite explicit about what causes a compilation error","body":"Compilers are usually quite explicit about what causes a compilation error"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685457782,"post_id":76365777,"comment_id":134660882,"body_markdown":"Hint: next time show us the compilation error.  Or better still, *read* the compilation error and see if you can figure out what it means yourself.  Hint #2: Googling for a compilation error that you don&#39;t understand is often helpful; e.g. https://stackoverflow.com/questions/25706216","body":"Hint: next time show us the compilation error.  Or better still, <i>read</i> the compilation error and see if you can figure out what it means yourself.  Hint #2: Googling for a compilation error that you don&#39;t understand is often helpful; e.g. <a href=\"https://stackoverflow.com/questions/25706216\">stackoverflow.com/questions/25706216</a>"}],"answers":[{"tags":[],"owner":{"account_id":28711207,"reputation":11,"user_id":21986667,"display_name":"user21986667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685457273,"creation_date":1685457273,"answer_id":76365942,"question_id":76365777,"body_markdown":"You&#39;re obviously working with standard console input/output. So you need to tell JVM you want console input to be used in your project.\r\n\r\nEvery class you use in your projects must be described either in your code OR imported from somewhere else.\r\n\r\nHere, you used standard class Scanner but didn&#39;t imported it.\r\nDo so by typing `import java.util.Scanner;` before you use it.","title":"What could be causing a compilation error in this Java code for inputting values from the keyboard using an algorithm?","body":"<p>You're obviously working with standard console input/output. So you need to tell JVM you want console input to be used in your project.</p>\n<p>Every class you use in your projects must be described either in your code OR imported from somewhere else.</p>\n<p>Here, you used standard class Scanner but didn't imported it.\nDo so by typing <code>import java.util.Scanner;</code> before you use it.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685457587,"creation_date":1685457587,"answer_id":76365982,"question_id":76365777,"body_markdown":"You code works fine as-is. The only thing that looks wrong is the lack of imported classes.\r\n\r\nHere is a version of your code where the `Scanner` class is imported and the algorithm exists in its own static method. I added method called `reversedNumberAsString` to verify if the computed value is correct.\r\n\r\n**Note:** When requesting input, you should typically display a prompt to let the user know the program is awaiting input.\r\n\r\n```java\r\nimport java.util.Scanner; // Import the Scanner class from the java.util package\r\n\r\npublic class ReverseInteger {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in); // Open scanner\r\n        System.out.print(&quot;Enter a number: &quot;); // Prompt user\r\n        int num = input.nextInt(), ans = reverse(num); // Grab input and compute\r\n        input.close(); // Close scanner\r\n        String expected = reversedNumberAsString(num); // Expected reversed\r\n        String actual = Integer.toString(ans, 10); // Computed number as string\r\n        System.out.println(ans); // Display the reversed number\r\n        System.out.printf(&quot;Correct?: %b&quot;, actual.equals(expected)); // Correct?\r\n    }\r\n\r\n    // Algorithm as its own function\r\n    public static int reverse(int num) {\r\n        int ans = 0;\r\n        while (num &gt; 0) {\r\n            int rem = num % 10;\r\n            num = num / 10;\r\n            ans = ans * 10 + rem;\r\n        }\r\n        return ans;\r\n    }\r\n\r\n    private static String reversedNumberAsString(int num) {\r\n        return new StringBuilder(Integer.toString(num, 10)).reverse().toString();\r\n    }\r\n}\r\n```","title":"What could be causing a compilation error in this Java code for inputting values from the keyboard using an algorithm?","body":"<p>You code works fine as-is. The only thing that looks wrong is the lack of imported classes.</p>\n<p>Here is a version of your code where the <code>Scanner</code> class is imported and the algorithm exists in its own static method. I added method called <code>reversedNumberAsString</code> to verify if the computed value is correct.</p>\n<p><strong>Note:</strong> When requesting input, you should typically display a prompt to let the user know the program is awaiting input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner; // Import the Scanner class from the java.util package\n\npublic class ReverseInteger {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in); // Open scanner\n        System.out.print(&quot;Enter a number: &quot;); // Prompt user\n        int num = input.nextInt(), ans = reverse(num); // Grab input and compute\n        input.close(); // Close scanner\n        String expected = reversedNumberAsString(num); // Expected reversed\n        String actual = Integer.toString(ans, 10); // Computed number as string\n        System.out.println(ans); // Display the reversed number\n        System.out.printf(&quot;Correct?: %b&quot;, actual.equals(expected)); // Correct?\n    }\n\n    // Algorithm as its own function\n    public static int reverse(int num) {\n        int ans = 0;\n        while (num &gt; 0) {\n            int rem = num % 10;\n            num = num / 10;\n            ans = ans * 10 + rem;\n        }\n        return ans;\n    }\n\n    private static String reversedNumberAsString(int num) {\n        return new StringBuilder(Integer.toString(num, 10)).reverse().toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27404600,"reputation":1,"user_id":20905474,"display_name":"Naza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685457675,"answer_count":2,"score":-2,"last_activity_date":1685457587,"creation_date":1685456148,"question_id":76365777,"body_markdown":"What is the likely reason for a compilation error in this code?\r\n\r\n```java\r\npublic class Reverse {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int num = input.nextInt();\r\n        int ans = 0;\r\n\r\n        while (num &gt; 0) {\r\n            int rem = num % 10;\r\n            num = num / 10;\r\n            ans = ans * 10 + rem;\r\n        }\r\n\r\n        System.out.println(ans);\r\n    }\r\n}\r\n```\r\n\r\nI want to be able to input values using the keyboard.","title":"What could be causing a compilation error in this Java code for inputting values from the keyboard using an algorithm?","body":"<p>What is the likely reason for a compilation error in this code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Reverse {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int num = input.nextInt();\n        int ans = 0;\n\n        while (num &gt; 0) {\n            int rem = num % 10;\n            num = num / 10;\n            ans = ans * 10 + rem;\n        }\n\n        System.out.println(ans);\n    }\n}\n</code></pre>\n<p>I want to be able to input values using the keyboard.</p>\n"},{"tags":["java","android","material-ui","material-design","android-datepicker"],"owner":{"account_id":28710173,"reputation":1,"user_id":21985805,"display_name":"Ahmad Badar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685457562,"creation_date":1685450158,"question_id":76364901,"body_markdown":"I am trying to highlight the previous selected dates ranges in Material Date Picker Android. I am saving previous months ranges in shared preferences. I want whenever user opens the calendar I can show previous ranges in some way, like highlighted or changed colour. In short, I want to somehow represent the previous selected date ranges. As far I&#39;ve researched, I cannot select more than one range in material date range picker. \r\n\r\nSolution I tried:\r\n\r\nI&#39;ve made previous selected dates inValid due to which they are grayed out as seen in screenshot. I am unable to customise the inValid Dates also.\r\n\r\n\r\n[![Screenshot][1]][1]\r\n\r\n    private void showCalendar() {\r\n        long l1 = prefsManager.getPeriodStartingDayLong();\r\n        long l2 = prefsManager.getPeriodEndingDayLong();\r\n       /* long l1 = 1681412400000L;\r\n        long l2 = 1681498800000L;\r\n        long l3 = 1681585200000L;\r\n        long l4 = 1681671600000L;*/\r\n\r\n        MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\r\n        builder.setTitleText(&quot;Select Dates&quot;);\r\n        builder.setTheme(R.style.MyMaterialCalendarTheme);\r\n\r\n        List&lt;Long&gt; highlightedDates = new ArrayList&lt;&gt;();\r\n\r\n        highlightedDates.add(l1);\r\n        highlightedDates.add(l2);\r\n      /*  highlightedDates.add(l3);\r\n        highlightedDates.add(l4);*/\r\n        // Add more dates as needed\r\n\r\n        CalendarConstraints.DateValidator dateValidator = new CalendarConstraints.DateValidator() {\r\n            @Override\r\n            public boolean isValid(long date) {\r\n                return !highlightedDates.contains(date);\r\n            }\r\n\r\n            @Override\r\n            public int describeContents() {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public void writeToParcel(Parcel dest, int flags) {\r\n                // Not needed for this example\r\n            }\r\n        };\r\n\r\n        CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\r\n        constraintsBuilder.setValidator(dateValidator);\r\n\r\n        builder.setCalendarConstraints(constraintsBuilder.build());\r\n\r\n        MaterialDatePicker&lt;Pair&lt;Long, Long&gt;&gt; datePicker = builder.build();\r\n        datePicker.show(getSupportFragmentManager(), &quot;DatePickerTag&quot;);\r\n\r\n    }\r\n\r\n\r\nI was expecting to be able to somehow modify the colours or put a stroke around in-valid dates.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQlRd.png","title":"Highlight previous selected dates in Material Date Picker Android","body":"<p>I am trying to highlight the previous selected dates ranges in Material Date Picker Android. I am saving previous months ranges in shared preferences. I want whenever user opens the calendar I can show previous ranges in some way, like highlighted or changed colour. In short, I want to somehow represent the previous selected date ranges. As far I've researched, I cannot select more than one range in material date range picker.</p>\n<p>Solution I tried:</p>\n<p>I've made previous selected dates inValid due to which they are grayed out as seen in screenshot. I am unable to customise the inValid Dates also.</p>\n<p><a href=\"https://i.stack.imgur.com/QQlRd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQlRd.png\" alt=\"Screenshot\" /></a></p>\n<pre><code>private void showCalendar() {\n    long l1 = prefsManager.getPeriodStartingDayLong();\n    long l2 = prefsManager.getPeriodEndingDayLong();\n   /* long l1 = 1681412400000L;\n    long l2 = 1681498800000L;\n    long l3 = 1681585200000L;\n    long l4 = 1681671600000L;*/\n\n    MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\n    builder.setTitleText(&quot;Select Dates&quot;);\n    builder.setTheme(R.style.MyMaterialCalendarTheme);\n\n    List&lt;Long&gt; highlightedDates = new ArrayList&lt;&gt;();\n\n    highlightedDates.add(l1);\n    highlightedDates.add(l2);\n  /*  highlightedDates.add(l3);\n    highlightedDates.add(l4);*/\n    // Add more dates as needed\n\n    CalendarConstraints.DateValidator dateValidator = new CalendarConstraints.DateValidator() {\n        @Override\n        public boolean isValid(long date) {\n            return !highlightedDates.contains(date);\n        }\n\n        @Override\n        public int describeContents() {\n            return 0;\n        }\n\n        @Override\n        public void writeToParcel(Parcel dest, int flags) {\n            // Not needed for this example\n        }\n    };\n\n    CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\n    constraintsBuilder.setValidator(dateValidator);\n\n    builder.setCalendarConstraints(constraintsBuilder.build());\n\n    MaterialDatePicker&lt;Pair&lt;Long, Long&gt;&gt; datePicker = builder.build();\n    datePicker.show(getSupportFragmentManager(), &quot;DatePickerTag&quot;);\n\n}\n</code></pre>\n<p>I was expecting to be able to somehow modify the colours or put a stroke around in-valid dates.</p>\n"},{"tags":["java","html","spring-boot","html-escape-characters","html-escape"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685456717,"post_id":76365642,"comment_id":134660614,"body_markdown":"getPdf() returns the content of a PDF file as a byte array?","body":"getPdf() returns the content of a PDF file as a byte array?"},{"owner":{"account_id":8986659,"reputation":45,"user_id":6700047,"display_name":"k.kbr"},"score":0,"creation_date":1685456809,"post_id":76365642,"comment_id":134660638,"body_markdown":"yes it s byte array and content of pdf file","body":"yes it s byte array and content of pdf file"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685457521,"creation_date":1685457521,"answer_id":76365976,"question_id":76365642,"body_markdown":"You should not treat a PDF file as text or a string. Doing so can corrupt the file. Treat it as a binary file. Also you should not return or process it as if it were an HTML. In Spring Boot the media type should be MediaType.APPLICATION_PDF_VALUE. Refer to this answer on the [how to set the presentation][1] in the browser.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21871854/721855","title":"Html escape in byte array - xss issue","body":"<p>You should not treat a PDF file as text or a string. Doing so can corrupt the file. Treat it as a binary file. Also you should not return or process it as if it were an HTML. In Spring Boot the media type should be MediaType.APPLICATION_PDF_VALUE. Refer to this answer on the <a href=\"https://stackoverflow.com/a/21871854/721855\">how to set the presentation</a> in the browser.</p>\n"}],"owner":{"account_id":8986659,"reputation":45,"user_id":6700047,"display_name":"k.kbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685457521,"creation_date":1685455285,"question_id":76365642,"body_markdown":"I have byte array with html and try to escape. I convert byte array to string and replace special characters. When I make replace, my html doesnt work properly. It looks like a string and no css. \r\n\r\nHow to make properly ? \r\n\r\n\r\n      String x= IOUtils.toString(getPdf(), &quot;UTF-8&quot;);\r\n      String secureX = replaceXssCharacters(x);\r\n      return ResponseEntity.ok().contentType(\r\n                MediaType.TEXT_HTML).body(secureX);\r\n\r\n\r\n    private String replaceXssCharacters(String value) {\r\n    if (value != null) {\r\n      return value\r\n              .replace(&quot;&amp;&quot;,&quot;&amp;#38;&quot;)\r\n              .replace(&quot;&lt;&quot;, &quot;&amp;#60;&quot;)\r\n              .replace(&quot;&gt;&quot;,&quot;&amp;#62;&quot;)\r\n              .replace(&quot;\\&quot;&quot;,&quot;&amp;#34;&quot;)\r\n              .replace(&quot;&#39;&quot;,&quot;&amp;#39;&quot;);\r\n    }\r\n    return null;\r\n  }\r\n","title":"Html escape in byte array - xss issue","body":"<p>I have byte array with html and try to escape. I convert byte array to string and replace special characters. When I make replace, my html doesnt work properly. It looks like a string and no css.</p>\n<p>How to make properly ?</p>\n<pre><code>  String x= IOUtils.toString(getPdf(), &quot;UTF-8&quot;);\n  String secureX = replaceXssCharacters(x);\n  return ResponseEntity.ok().contentType(\n            MediaType.TEXT_HTML).body(secureX);\n\n\nprivate String replaceXssCharacters(String value) {\nif (value != null) {\n  return value\n          .replace(&quot;&amp;&quot;,&quot;&amp;#38;&quot;)\n          .replace(&quot;&lt;&quot;, &quot;&amp;#60;&quot;)\n          .replace(&quot;&gt;&quot;,&quot;&amp;#62;&quot;)\n          .replace(&quot;\\&quot;&quot;,&quot;&amp;#34;&quot;)\n          .replace(&quot;'&quot;,&quot;&amp;#39;&quot;);\n}\nreturn null;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","email","smtp"],"owner":{"account_id":25542867,"reputation":77,"user_id":19328664,"display_name":"Wabi-Sabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685457424,"creation_date":1685457424,"question_id":76365964,"body_markdown":"I have created a simple java project, using Jakarta mail. On my work computer the app works fine, but when I run it on a Windows Server. I get an error. \r\n\r\nI have tested different settings like turn on/off; tls and ssl, and also tried different ports like 25 and 465. I looked around the internet but could not find an answer.\r\n\r\nPlease need help, I&#39;ve been stuck on this for over a week now.\r\n\r\n\r\n    private static void jakarta() \r\n        {\r\n                // Set Email Service Properties\r\n                Properties properties = new Properties();\r\n                properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n                properties.put(&quot;mail.smtp.host&quot;, host); // &quot;outlook.office365.com&quot;\r\n                properties.put(&quot;mail.smtp.port&quot;, port); // 587\r\n                properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n            Authenticator authenticator = new Authenticator() {\r\n                @Override\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(username,password);\r\n            }\r\n        };\r\n\r\n        Session session = Session.getInstance(properties, authenticator);\r\n\r\n    try {\r\n        // Init Message\r\n        Message message = new MimeMessage(session);\r\n        message.setFrom(new InternetAddress(from));\r\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n        message.setSubject(subject);\r\n        message.setText(body);\r\n\r\n         // Send message\r\n         Transport.send(message);\r\n\r\n        System.out.println(&quot;[INFO] - Send Email successfully&quot;);\r\n\r\n    } catch (MessagingException e) {\r\n        System.out.println(&quot;[BUG] - MessagingException, while building Email&quot;);\r\n        e.getMessage();\r\n        e.printStackTrace();\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;[BUG] - Unknown exception, building Email with attachment&quot;);\r\n        e.getMessage();\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n&gt; [INFO] - Run Jakarta Mail DEBUG: Jakarta Mail version 2.0.1 DEBUG:\r\n&gt; successfully loaded resource: /META-INF/javamail.default.providers\r\n&gt; DEBUG: Tables of loaded providers DEBUG: Providers Listed By Class\r\n&gt; Name:\r\n&gt; {com.sun.mail.smtp.SMTPTransport=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\r\n&gt; com.sun.mail.imap.IMAPSSLStore=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\r\n&gt; com.sun.mail.pop3.POP3Store=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\r\n&gt; com.sun.mail.imap.IMAPStore=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\n&gt; DEBUG: Providers Listed By Protocol:\r\n&gt; {imap=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\r\n&gt; pop3=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\r\n&gt; smtps=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\r\n&gt; pop3s=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\n&gt; DEBUG: successfully loaded resource:\r\n&gt; /META-INF/javamail.default.address.map DEBUG: getProvider() returning\r\n&gt; jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n&gt; DEBUG SMTP: need username and password for authentication DEBUG SMTP:\r\n&gt; protocolConnect returning false, host=outlook.office365.com,\r\n&gt; user=Lucas-admin, password=&lt;null&gt; DEBUG SMTP: useEhlo true, useAuth\r\n&gt; true DEBUG SMTP: trying to connect to host &quot;outlook.office365.com&quot;,\r\n&gt; port 587, isSSL false [BUG] - MessagingException, while building Email\r\n&gt; com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host,\r\n&gt; port: outlook.office365.com, 587; timeout -1;   nested exception is:\r\n&gt;         java.net.ConnectException: Connection timed out: connect\r\n&gt;         at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\r\n&gt;         at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\r\n&gt;         at jakarta.mail.Service.connect(Service.java:364)\r\n&gt;         at jakarta.mail.Service.connect(Service.java:222)\r\n&gt;         at jakarta.mail.Service.connect(Service.java:171)\r\n&gt;         at jakarta.mail.Transport.send0(Transport.java:230)\r\n&gt;         at jakarta.mail.Transport.send(Transport.java:100)\r\n&gt;         at com.example.App.jakarta(App.java:57)\r\n&gt;         at com.example.App.main(App.java:74) Caused by: java.net.ConnectException: Connection timed out: connect\r\n&gt;         at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n&gt;         at java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n&gt;         at java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n&gt;         at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n&gt;         at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n&gt;         at java.base/java.net.Socket.connect(Socket.java:633)\r\n&gt;         at java.base/java.net.Socket.connect(Socket.java:583)\r\n&gt;         at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\r\n&gt;         at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\r\n&gt;         at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\r\n&gt;         ... 8 more","title":"MailConnectException: Couldn&#39;t connect to host, port: outlook.office365.com, 587;","body":"<p>I have created a simple java project, using Jakarta mail. On my work computer the app works fine, but when I run it on a Windows Server. I get an error.</p>\n<p>I have tested different settings like turn on/off; tls and ssl, and also tried different ports like 25 and 465. I looked around the internet but could not find an answer.</p>\n<p>Please need help, I've been stuck on this for over a week now.</p>\n<pre><code>private static void jakarta() \n    {\n            // Set Email Service Properties\n            Properties properties = new Properties();\n            properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            properties.put(&quot;mail.smtp.host&quot;, host); // &quot;outlook.office365.com&quot;\n            properties.put(&quot;mail.smtp.port&quot;, port); // 587\n            properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        Authenticator authenticator = new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(username,password);\n        }\n    };\n\n    Session session = Session.getInstance(properties, authenticator);\n\ntry {\n    // Init Message\n    Message message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(from));\n    message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n    message.setSubject(subject);\n    message.setText(body);\n\n     // Send message\n     Transport.send(message);\n\n    System.out.println(&quot;[INFO] - Send Email successfully&quot;);\n\n} catch (MessagingException e) {\n    System.out.println(&quot;[BUG] - MessagingException, while building Email&quot;);\n    e.getMessage();\n    e.printStackTrace();\n} catch (Exception e) {\n    System.out.println(&quot;[BUG] - Unknown exception, building Email with attachment&quot;);\n    e.getMessage();\n    e.printStackTrace();\n}\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>[INFO] - Run Jakarta Mail DEBUG: Jakarta Mail version 2.0.1 DEBUG:\nsuccessfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers DEBUG: Providers Listed By Class\nName:\n{com.sun.mail.smtp.SMTPTransport=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\ncom.sun.mail.imap.IMAPSSLStore=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\ncom.sun.mail.pop3.POP3Store=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\ncom.sun.mail.imap.IMAPStore=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: Providers Listed By Protocol:\n{imap=jakarta.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle],\npop3=jakarta.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle],\nsmtps=jakarta.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle],\npop3s=jakarta.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: successfully loaded resource:\n/META-INF/javamail.default.address.map DEBUG: getProvider() returning\njakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: need username and password for authentication DEBUG SMTP:\nprotocolConnect returning false, host=outlook.office365.com,\nuser=Lucas-admin, password= DEBUG SMTP: useEhlo true, useAuth\ntrue DEBUG SMTP: trying to connect to host &quot;outlook.office365.com&quot;,\nport 587, isSSL false [BUG] - MessagingException, while building Email\ncom.sun.mail.util.MailConnectException: Couldn't connect to host,\nport: outlook.office365.com, 587; timeout -1;   nested exception is:\njava.net.ConnectException: Connection timed out: connect\nat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\nat jakarta.mail.Service.connect(Service.java:364)\nat jakarta.mail.Service.connect(Service.java:222)\nat jakarta.mail.Service.connect(Service.java:171)\nat jakarta.mail.Transport.send0(Transport.java:230)\nat jakarta.mail.Transport.send(Transport.java:100)\nat com.example.App.jakarta(App.java:57)\nat com.example.App.main(App.java:74) Caused by: java.net.ConnectException: Connection timed out: connect\nat java.base/sun.nio.ch.Net.connect0(Native Method)\nat java.base/sun.nio.ch.Net.connect(Net.java:579)\nat java.base/sun.nio.ch.Net.connect(Net.java:568)\nat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\nat java.base/java.net.Socket.connect(Socket.java:633)\nat java.base/java.net.Socket.connect(Socket.java:583)\nat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\nat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\nat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\n... 8 more</p>\n</blockquote>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685457234,"post_id":76365882,"comment_id":134660750,"body_markdown":"See https://stackoverflow.com/a/42200519/104891 for the sample project.","body":"See <a href=\"https://stackoverflow.com/a/42200519/104891\">stackoverflow.com/a/42200519/104891</a> for the sample project."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685516094,"post_id":76365882,"comment_id":134669154,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28711018,"reputation":1,"user_id":21986511,"display_name":"newbie123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456810,"creation_date":1685456810,"question_id":76365882,"body_markdown":"I was trying to make my java project in Intellij executable, I did everything correct step by step, but theres no artifact folder in out after adding artifact, anyone can help? Everything seems to be fine, except out folder. I&#39;ve been looking for a solution to the problem but nothing helps. I apprecieate any help :)\r\nHere is screenshot what it looks like after all the steps taken and the artifact built:\r\n[Intellij screenshot](https://i.stack.imgur.com/UZtG0.png)","title":"Artifact folder not appearing in &#39;out&#39; directory in Intellij when trying to make java project executable","body":"<p>I was trying to make my java project in Intellij executable, I did everything correct step by step, but theres no artifact folder in out after adding artifact, anyone can help? Everything seems to be fine, except out folder. I've been looking for a solution to the problem but nothing helps. I apprecieate any help :)\nHere is screenshot what it looks like after all the steps taken and the artifact built:\n<a href=\"https://i.stack.imgur.com/UZtG0.png\" rel=\"nofollow noreferrer\">Intellij screenshot</a></p>\n"},{"tags":["java","generics","observer-pattern"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685459351,"post_id":76365841,"comment_id":134661264,"body_markdown":"I&#39;ve not digested your full question, because my eye was caught by `Observable &lt;T extends Observable&lt;?&gt;&gt;`: using an unbounded wildcard like the is pretty odd. What are you trying to achieve with that?","body":"I&#39;ve not digested your full question, because my eye was caught by <code>Observable &lt;T extends Observable&lt;?&gt;&gt;</code>: using an unbounded wildcard like the is pretty odd. What are you trying to achieve with that?"},{"owner":{"account_id":28676051,"reputation":1,"user_id":21958125,"display_name":"bhansen"},"score":0,"creation_date":1685520842,"post_id":76365841,"comment_id":134670093,"body_markdown":"@AndyTurner\nThank you for your comment. My objective is to create a generic implementation of the observer pattern. Although the current implementation works, I&#39;m not completely satisfied with it. The question I have posted is specifically about finding a better solution. I have included a second version in my text that removes the unbounded wildcard parameter for the Observable class. However, this version comes with the drawback of an unchecked cast warning in the implementing class.\nIf you have any suggestions on how to enhance this code, I would greatly appreciate your input.","body":"@AndyTurner Thank you for your comment. My objective is to create a generic implementation of the observer pattern. Although the current implementation works, I&#39;m not completely satisfied with it. The question I have posted is specifically about finding a better solution. I have included a second version in my text that removes the unbounded wildcard parameter for the Observable class. However, this version comes with the drawback of an unchecked cast warning in the implementing class. If you have any suggestions on how to enhance this code, I would greatly appreciate your input."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685521229,"post_id":76365841,"comment_id":134670180,"body_markdown":"AFAICS, you are only using the elements of `observerList` to invoke `observer.update(...)`. As such, these are consumers, and should be bounded by `? super Observable` instead.","body":"AFAICS, you are only using the elements of <code>observerList</code> to invoke <code>observer.update(...)</code>. As such, these are consumers, and should be bounded by <code>? super Observable</code> instead."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1685534655,"post_id":76365841,"comment_id":134673036,"body_markdown":"@bhansen You said that you dislike the first solution because **the method getIdentity** and **the usage of a type parameter in the class of the observable**. That does not explain why you dislike these. Both of those bullets are good strategies that have their place, especially in this problem. Why do you dislike them? What problems do they cause you?","body":"@bhansen You said that you dislike the first solution because <b>the method getIdentity</b> and <b>the usage of a type parameter in the class of the observable</b>. That does not explain why you dislike these. Both of those bullets are good strategies that have their place, especially in this problem. Why do you dislike them? What problems do they cause you?"},{"owner":{"account_id":28676051,"reputation":1,"user_id":21958125,"display_name":"bhansen"},"score":0,"creation_date":1685707166,"post_id":76365841,"comment_id":134702318,"body_markdown":"@davidalayachew\nThank you for your comment. In fact, I assumed that doing it that way would be considered poor style, but perhaps my assumption was incorrect.","body":"@davidalayachew Thank you for your comment. In fact, I assumed that doing it that way would be considered poor style, but perhaps my assumption was incorrect."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1685719117,"post_id":76365841,"comment_id":134705089,"body_markdown":"@bhansen Well, what about it would be considered poor style? What problems or issues would result by choosing to use the method getIdentity and the usage of a type parameter in the class of the observable?","body":"@bhansen Well, what about it would be considered poor style? What problems or issues would result by choosing to use the method getIdentity and the usage of a type parameter in the class of the observable?"}],"owner":{"account_id":28676051,"reputation":1,"user_id":21958125,"display_name":"bhansen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456606,"creation_date":1685456606,"question_id":76365841,"body_markdown":"Unsatisfying Solution for Implementing Observer Pattern Using Java Generics\r\n\r\nFor educational reasons I wanted to implement the Observer Pattern using Java Generics.\r\nI came up with the following solution:\r\n\r\n\r\n```\r\npublic interface Observer &lt;T extends Observable&lt;?&gt;&gt;\r\n{\r\n\tvoid update(T observable);\r\n}\r\n```\r\n\r\n\r\n```\r\npublic abstract class Observable &lt;T extends Observable&lt;?&gt;&gt;\r\n{\r\n\tprivate final List&lt;Observer&lt;T&gt;&gt; observerList = new ArrayList&lt;&gt;();\r\n\t\r\n\t\r\n\tpublic void addObserver(Observer&lt;T&gt; observer)\r\n\t{\r\n\t\tthis.observerList.add(observer);\r\n\t}\r\n\t\r\n\tpublic void notifyObservers()\r\n\t{\r\n\t\tfor( Observer&lt;T&gt; observer : this.observerList)\r\n\t\t{\r\n\t\t\tobserver.update(getIdentity());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic abstract T getIdentity();\r\n}\r\n\r\n```\r\n\r\nNow I can have a class\r\n\r\n```\r\nclass Data extends Observable&lt;Data&gt;\r\n```\r\n\r\nand an Observer\r\n```\r\nclass DataObserver implements Observer&lt;Data&gt;\r\n```\r\n\r\n\r\nWhat I dislike about this solution: \r\n- the method *getIdentity*\r\n- the usage of a type parameter in the class of the observable \r\n\r\n\r\nTo address these concerns, I came up with a second solution using bounded wildcard parameters:\r\n\r\n```\r\ninterface Observer&lt;T extends Observable&gt;\r\n{\r\n\tvoid update(T observable);\r\n}\r\n```\r\n\r\n```\r\nabstract class Observable\r\n{\r\n    private final List&lt;Observer&lt;? extends Observable&gt;&gt; observerList = new ArrayList&lt;&gt;();\r\n    \r\n    public void addObserver(Observer&lt;? extends Observable&gt; observer)\r\n    {\r\n        this.observerList.add(observer);\r\n    }\r\n    \r\n    public void notifyObservers()\r\n    {\r\n        for(Observer&lt;? extends Observable&gt; observer : this.observerList)\r\n        {\r\n            observer.update(getIdentity());\r\n        }\r\n    }\r\n    \r\n    public abstract &lt;T extends Observable&gt; T getIdentity();\r\n}\r\n```\r\n\r\nNow, I no longer have a type parameter in the class for the observable. However, there is an &quot;Unchecked cast&quot; warning in the *getIdentity* method implementation:\r\n\r\n```\r\n    @Override\r\n    public &lt;T extends Observable&gt; T getIdentity()\r\n    {\r\n        return (T) this;\r\n    }\r\n```\r\n\r\nHow can I improve these solutions? \r\nWhich solution is better?\r\nIs there a more elegant way to achieve the desired outcome?\r\n\r\nPlease note that this example focuses on understanding Java Generics rather than the Observer Pattern itself. \r\n\r\nYour insights and suggestions are greatly appreciated!\r\n","title":"How can I improve my solution for implementing the Observer Pattern using Java Generics?","body":"<p>Unsatisfying Solution for Implementing Observer Pattern Using Java Generics</p>\n<p>For educational reasons I wanted to implement the Observer Pattern using Java Generics.\nI came up with the following solution:</p>\n<pre><code>public interface Observer &lt;T extends Observable&lt;?&gt;&gt;\n{\n    void update(T observable);\n}\n</code></pre>\n<pre><code>public abstract class Observable &lt;T extends Observable&lt;?&gt;&gt;\n{\n    private final List&lt;Observer&lt;T&gt;&gt; observerList = new ArrayList&lt;&gt;();\n    \n    \n    public void addObserver(Observer&lt;T&gt; observer)\n    {\n        this.observerList.add(observer);\n    }\n    \n    public void notifyObservers()\n    {\n        for( Observer&lt;T&gt; observer : this.observerList)\n        {\n            observer.update(getIdentity());\n        }\n    }\n    \n    public abstract T getIdentity();\n}\n\n</code></pre>\n<p>Now I can have a class</p>\n<pre><code>class Data extends Observable&lt;Data&gt;\n</code></pre>\n<p>and an Observer</p>\n<pre><code>class DataObserver implements Observer&lt;Data&gt;\n</code></pre>\n<p>What I dislike about this solution:</p>\n<ul>\n<li>the method <em>getIdentity</em></li>\n<li>the usage of a type parameter in the class of the observable</li>\n</ul>\n<p>To address these concerns, I came up with a second solution using bounded wildcard parameters:</p>\n<pre><code>interface Observer&lt;T extends Observable&gt;\n{\n    void update(T observable);\n}\n</code></pre>\n<pre><code>abstract class Observable\n{\n    private final List&lt;Observer&lt;? extends Observable&gt;&gt; observerList = new ArrayList&lt;&gt;();\n    \n    public void addObserver(Observer&lt;? extends Observable&gt; observer)\n    {\n        this.observerList.add(observer);\n    }\n    \n    public void notifyObservers()\n    {\n        for(Observer&lt;? extends Observable&gt; observer : this.observerList)\n        {\n            observer.update(getIdentity());\n        }\n    }\n    \n    public abstract &lt;T extends Observable&gt; T getIdentity();\n}\n</code></pre>\n<p>Now, I no longer have a type parameter in the class for the observable. However, there is an &quot;Unchecked cast&quot; warning in the <em>getIdentity</em> method implementation:</p>\n<pre><code>    @Override\n    public &lt;T extends Observable&gt; T getIdentity()\n    {\n        return (T) this;\n    }\n</code></pre>\n<p>How can I improve these solutions?\nWhich solution is better?\nIs there a more elegant way to achieve the desired outcome?</p>\n<p>Please note that this example focuses on understanding Java Generics rather than the Observer Pattern itself.</p>\n<p>Your insights and suggestions are greatly appreciated!</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685456477,"creation_date":1685456477,"answer_id":76365819,"question_id":76355061,"body_markdown":"You can add a `ListenerContainerCustomizer` bean and add a `RecordInterceptor` to the listener container.\r\n\r\n```java\r\n/**\r\n * An interceptor for {@link ConsumerRecord} invoked by the listener\r\n * container before and after invoking the listener.\r\n *\r\n * @param &lt;K&gt; the key type.\r\n * @param &lt;V&gt; the value type.\r\n *\r\n * @author Gary Russell\r\n * @since 2.2.7\r\n *\r\n */\r\n@FunctionalInterface\r\npublic interface RecordInterceptor&lt;K, V&gt; extends ThreadStateProcessor {\r\n\r\n\t/**\r\n\t * Perform some action on the record or return a different one. If null is returned\r\n\t * the record will be skipped. Invoked before the listener. IMPORTANT; if this method\r\n\t * returns a different record, the topic, partition and offset must not be changed\r\n\t * to avoid undesirable side-effects.\r\n\t * @param record the record.\r\n\t * @param consumer the consumer.\r\n\t * @return the record or null.\r\n\t * @since 2.7\r\n\t */\r\n\t@Nullable\r\n\tConsumerRecord&lt;K, V&gt; intercept(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer);\r\n\r\n\t/**\r\n\t * Called after the listener exits normally.\r\n\t * @param record the record.\r\n\t * @param consumer the consumer.\r\n\t * @since 2.7\r\n\t */\r\n\tdefault void success(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\r\n\t}\r\n\r\n\t/**\r\n\t * Called after the listener throws an exception.\r\n\t * @param record the record.\r\n\t * @param exception the exception.\r\n\t * @param consumer the consumer.\r\n\t * @since 2.7\r\n\t */\r\n\tdefault void failure(ConsumerRecord&lt;K, V&gt; record, Exception exception, Consumer&lt;K, V&gt; consumer) {\r\n\t}\r\n\r\n\t/**\r\n\t * Called when processing the record is complete either\r\n\t * {@link #success(ConsumerRecord, Consumer)} or\r\n\t * {@link #failure(ConsumerRecord, Exception, Consumer)}.\r\n\t * @param record the record.\r\n\t * @param consumer the consumer.\r\n\t * @since 2.8\r\n\t */\r\n\tdefault void afterRecord(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\r\n\t}\r\n\r\n}\r\n```","title":"Duplicate check for spring cloud stream consumers","body":"<p>You can add a <code>ListenerContainerCustomizer</code> bean and add a <code>RecordInterceptor</code> to the listener container.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * An interceptor for {@link ConsumerRecord} invoked by the listener\n * container before and after invoking the listener.\n *\n * @param &lt;K&gt; the key type.\n * @param &lt;V&gt; the value type.\n *\n * @author Gary Russell\n * @since 2.2.7\n *\n */\n@FunctionalInterface\npublic interface RecordInterceptor&lt;K, V&gt; extends ThreadStateProcessor {\n\n    /**\n     * Perform some action on the record or return a different one. If null is returned\n     * the record will be skipped. Invoked before the listener. IMPORTANT; if this method\n     * returns a different record, the topic, partition and offset must not be changed\n     * to avoid undesirable side-effects.\n     * @param record the record.\n     * @param consumer the consumer.\n     * @return the record or null.\n     * @since 2.7\n     */\n    @Nullable\n    ConsumerRecord&lt;K, V&gt; intercept(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer);\n\n    /**\n     * Called after the listener exits normally.\n     * @param record the record.\n     * @param consumer the consumer.\n     * @since 2.7\n     */\n    default void success(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\n    }\n\n    /**\n     * Called after the listener throws an exception.\n     * @param record the record.\n     * @param exception the exception.\n     * @param consumer the consumer.\n     * @since 2.7\n     */\n    default void failure(ConsumerRecord&lt;K, V&gt; record, Exception exception, Consumer&lt;K, V&gt; consumer) {\n    }\n\n    /**\n     * Called when processing the record is complete either\n     * {@link #success(ConsumerRecord, Consumer)} or\n     * {@link #failure(ConsumerRecord, Exception, Consumer)}.\n     * @param record the record.\n     * @param consumer the consumer.\n     * @since 2.8\n     */\n    default void afterRecord(ConsumerRecord&lt;K, V&gt; record, Consumer&lt;K, V&gt; consumer) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685456477,"creation_date":1685341137,"question_id":76355061,"body_markdown":"I want to check for duplicate messages in my Spring Cloud Stream Kafka consumers. This is what I have now:\r\n\r\n```java\r\n@Component\r\npublic class MessageSubscriber {\r\n\r\n\r\n    @Autowired\r\n    MessageConsumer messageConsumer;\r\n\r\n    public Consumer&lt;Message&lt;PlaneEvent&gt;&gt; planeEventConsumer() {\r\n        return event -&gt; messageConsumer.consumePlaneEvent(event);\r\n    }\r\n\r\n    @Component\r\n    public static class MessageConsumer {\r\n        \r\n        @Transactional\r\n        @DuplicateCheck(key = &quot;id&quot;)\r\n        public void consumePlaneEvent(Message&lt;PlaneEvent&gt; msg) {\r\n            // do something here\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe custom `@DuplicateCheck` annotation uses Spring AOP to intercept the consumer method and checks for duplicates in the database using the specified `key`, and the `kafka_receivedTopic` header from the `Message`.\r\n\r\nIs there a recommended pattern or better way to:\r\n\r\n- **Intercept functional consumers**. (I am aware about `ChannelInterceptor`, but would **not** prefer to use it because of multiple reasons. ChannelInterceptor intercepts all channels [input and output], and the regex to filter channels will need me to enforce a channel naming scheme. ChannelInterceptor will also complicate skipping the processing of duplicate messages. I&#39;d like something less intrusive.)\r\n\r\n- **Get the kafka topic or binding destination in the functional consumer**. Relying on the `kafka_receivedTopic` header seems brittle and inflexible.\r\n\r\n- **Handle transactions with functional consumers**. Since the `@Transactional` annotation creates dynamic proxies, I&#39;m having to wrap the consumer logic in another class and create its bean.\r\n\r\nThese things were a little simpler with the older annotation-based consumers (`@StreamListener`).","title":"Duplicate check for spring cloud stream consumers","body":"<p>I want to check for duplicate messages in my Spring Cloud Stream Kafka consumers. This is what I have now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MessageSubscriber {\n\n\n    @Autowired\n    MessageConsumer messageConsumer;\n\n    public Consumer&lt;Message&lt;PlaneEvent&gt;&gt; planeEventConsumer() {\n        return event -&gt; messageConsumer.consumePlaneEvent(event);\n    }\n\n    @Component\n    public static class MessageConsumer {\n        \n        @Transactional\n        @DuplicateCheck(key = &quot;id&quot;)\n        public void consumePlaneEvent(Message&lt;PlaneEvent&gt; msg) {\n            // do something here\n        }\n\n    }\n\n}\n</code></pre>\n<p>The custom <code>@DuplicateCheck</code> annotation uses Spring AOP to intercept the consumer method and checks for duplicates in the database using the specified <code>key</code>, and the <code>kafka_receivedTopic</code> header from the <code>Message</code>.</p>\n<p>Is there a recommended pattern or better way to:</p>\n<ul>\n<li><p><strong>Intercept functional consumers</strong>. (I am aware about <code>ChannelInterceptor</code>, but would <strong>not</strong> prefer to use it because of multiple reasons. ChannelInterceptor intercepts all channels [input and output], and the regex to filter channels will need me to enforce a channel naming scheme. ChannelInterceptor will also complicate skipping the processing of duplicate messages. I'd like something less intrusive.)</p>\n</li>\n<li><p><strong>Get the kafka topic or binding destination in the functional consumer</strong>. Relying on the <code>kafka_receivedTopic</code> header seems brittle and inflexible.</p>\n</li>\n<li><p><strong>Handle transactions with functional consumers</strong>. Since the <code>@Transactional</code> annotation creates dynamic proxies, I'm having to wrap the consumer logic in another class and create its bean.</p>\n</li>\n</ul>\n<p>These things were a little simpler with the older annotation-based consumers (<code>@StreamListener</code>).</p>\n"},{"tags":["java","mapstruct"],"owner":{"account_id":28182521,"reputation":23,"user_id":21539296,"display_name":"Nathan S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456289,"creation_date":1685456289,"question_id":76365795,"body_markdown":"I tried something with mapstruct using abstraction,\r\nit works pretty well apart from one thing.\r\n\r\n```\r\n@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderCreateRequest.class)\r\n@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderUpdateRequest.class)\r\n@Mapping(target = &quot;totalQuantity&quot;, expression = &quot;java(supplierOrder.sumQuantity())&quot;)\r\n@Mapping(target = &quot;weightedAveragePurchasePrice&quot;, expression = &quot;java(supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null)&quot;)\r\n@BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\nSupplierOrderEntity toSupplierOrderEntity(SupplierOrderAbstractRequest supplierOrder);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have one problem in the auto generated method.\r\n\r\n```\r\nprotected SupplierOrderEntity supplierOrderCreateRequestToSupplierOrderEntity(SupplierOrderCreateRequest supplierOrderCreateRequest) {\r\n        if ( supplierOrderCreateRequest == null ) {\r\n            return null;\r\n        }\r\n\r\n        SupplierOrderEntity.SupplierOrderEntityBuilder supplierOrderEntity = SupplierOrderEntity.builder();\r\n\r\n        supplierOrderEntity.supplier( blabla( supplierOrderCreateRequest.getSupplier() ) );\r\n        supplierOrderEntity.firstOrderQuantity( supplierOrderCreateRequest.getFirstOrderQuantity() );\r\n        supplierOrderEntity.reapproQuantity( supplierOrderCreateRequest.getReapproQuantity() );\r\n        supplierOrderEntity.alpha3Code( supplierOrderCreateRequest.getAlpha3Code() );\r\n        supplierOrderEntity.currency( supplierOrderCreateRequest.getCurrency() );\r\n\r\n        supplierOrderEntity.totalQuantity( supplierOrder.sumQuantity() );\r\n        supplierOrderEntity.weightedAveragePurchasePrice( supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null );\r\n\r\n        return supplierOrderEntity.build();\r\n    }\r\n\r\n```\r\n\r\nAs you can see in totalQuantity and weightedAveragePurchasePrice setters, it tries to access through supplierOrder whereas the auto generated method creates a supplierOrderCreateRequest parameter.\r\n\r\nIs there a way to handle this specific problem that I don&#39;t know ? \r\n\r\nThanks &#128516;\r\n","title":"Is there a way to handle abstraction through @Mapping expression","body":"<p>I tried something with mapstruct using abstraction,\nit works pretty well apart from one thing.</p>\n<pre><code>@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderCreateRequest.class)\n@SubclassMapping(target = SupplierOrderEntity.class, source = SupplierOrderUpdateRequest.class)\n@Mapping(target = &quot;totalQuantity&quot;, expression = &quot;java(supplierOrder.sumQuantity())&quot;)\n@Mapping(target = &quot;weightedAveragePurchasePrice&quot;, expression = &quot;java(supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null)&quot;)\n@BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\nSupplierOrderEntity toSupplierOrderEntity(SupplierOrderAbstractRequest supplierOrder);\n</code></pre>\n<p>I have one problem in the auto generated method.</p>\n<pre><code>protected SupplierOrderEntity supplierOrderCreateRequestToSupplierOrderEntity(SupplierOrderCreateRequest supplierOrderCreateRequest) {\n        if ( supplierOrderCreateRequest == null ) {\n            return null;\n        }\n\n        SupplierOrderEntity.SupplierOrderEntityBuilder supplierOrderEntity = SupplierOrderEntity.builder();\n\n        supplierOrderEntity.supplier( blabla( supplierOrderCreateRequest.getSupplier() ) );\n        supplierOrderEntity.firstOrderQuantity( supplierOrderCreateRequest.getFirstOrderQuantity() );\n        supplierOrderEntity.reapproQuantity( supplierOrderCreateRequest.getReapproQuantity() );\n        supplierOrderEntity.alpha3Code( supplierOrderCreateRequest.getAlpha3Code() );\n        supplierOrderEntity.currency( supplierOrderCreateRequest.getCurrency() );\n\n        supplierOrderEntity.totalQuantity( supplierOrder.sumQuantity() );\n        supplierOrderEntity.weightedAveragePurchasePrice( supplierOrder.getWeightedAveragePurchasePrice() != null ? MathFormat.roundDouble(supplierOrder.getWeightedAveragePurchasePrice(),4): null );\n\n        return supplierOrderEntity.build();\n    }\n\n</code></pre>\n<p>As you can see in totalQuantity and weightedAveragePurchasePrice setters, it tries to access through supplierOrder whereas the auto generated method creates a supplierOrderCreateRequest parameter.</p>\n<p>Is there a way to handle this specific problem that I don't know ?</p>\n<p>Thanks 😄</p>\n"},{"tags":["java","multithreading","memory","jvm","jit"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1685117067,"post_id":76339646,"comment_id":134621544,"body_markdown":"The (384 bytes) refers to the bytecode size of the method being compiled. Please specify what Java version you&#39;re running.","body":"The (384 bytes) refers to the bytecode size of the method being compiled. Please specify what Java version you&#39;re running."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685122944,"post_id":76339646,"comment_id":134622537,"body_markdown":"Did you search for this issue? There is information out there.","body":"Did you search for this issue? There is information out there."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1685142140,"post_id":76339646,"comment_id":134625188,"body_markdown":"Try to disable compilation of the problematic method: `-XX:CompileCommand=exclude,my.class::myFunction`","body":"Try to disable compilation of the problematic method: <code>-XX:CompileCommand=exclude,my.class::myFunction</code>"},{"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"score":0,"creation_date":1685428970,"post_id":76339646,"comment_id":134654191,"body_markdown":"@boneill We are using `OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)`\n@aled I&#39;ve searched far and wide, and had to read up on a lot of low level stuff I wouldn&#39;t have thought I&#39;d ever have to read up on, but I have yet to find anything concrete on this issue.","body":"@boneill We are using <code>OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)</code> @aled I&#39;ve searched far and wide, and had to read up on a lot of low level stuff I wouldn&#39;t have thought I&#39;d ever have to read up on, but I have yet to find anything concrete on this issue."},{"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"score":0,"creation_date":1685428990,"post_id":76339646,"comment_id":134654193,"body_markdown":"@apangin good point, added this as flag now to a separate pod to see how it behaves","body":"@apangin good point, added this as flag now to a separate pod to see how it behaves"}],"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685456283,"creation_date":1685094780,"question_id":76339646,"body_markdown":"So whilst debugging some peaks in memory usage on our prod environment, I started periodically dumping threaddumps, and have found the following part:\r\n\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=208687.03ms elapsed=10057.72s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\r\n```\r\n\r\nThis is present in a lot of follow up dumps (spanning up to 50 seconds) whilst, according to `VM.native_memory summary`, taking up memory in the range of 1G - 1.3G (various observed cases).\r\n\r\nSo, the threaddump before it starts the compilation is\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=185150.71ms elapsed=10028.85s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n```\r\n\r\nThe last one before finishing\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=247100.38ms elapsed=10096.32s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\r\n```\r\n\r\nand the one after finishing\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=255511.25ms elapsed=10105.79s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n```\r\n\r\nSo before compilation starts, between threaddumps (roughly all 10 seconds), the cpu time increases in the range of 0.xx _ms_, which is negligible.\r\n\r\nYet, in the time of the compilation, it rose by _70 seconds_, which seems insane. The ID `41155`, which apparently is given for any compilation task and should therefor not repeat, is also the same across the relevant threaddumps. What I have yet to figure out is what the `(384 bytes)` mean at the end - those remain the same.\r\n\r\nThis function is per se not special - it is called plenty of times across several pods and seems to be absolutely fine 99% of the cases - these are super rare occasions, but we can&#39;t seem to find a root cause. \r\n\r\nWhat might be relevant information here is that the `VM.native_memory` dump shows the memory wandering from `Compilation` to `Arena Chunks`, where it is then quickly taken care of and memory usage drops back to normal levels. \r\n\r\nI know there was a memory leak on Java 17.0.4, but we are running\r\n`OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)` so this shouldn&#39;t be the issue at hand.\r\n\r\nThe question here is, where would one go from here? I&#39;ve added several logs to the application at this function, but can&#39;t seem to find any &quot;misbehaviour&quot;.\r\n\r\nAnother question would of course be: _How does the code behave?_ As in, if it&#39;s compiling, would we even _get any logs until it&#39;s finished?_ Idea being that it would _compile -&gt; execute_ and therefor the logs would only &quot;appear&quot; after it.\r\n\r\n&lt;hr&gt;\r\n\r\nAfter adding the flag `XX:CompileCommand=exclude,myClass::myFunction`, the output of the threaddump is now a bit different:\r\n\r\n```\r\n\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=244772.46ms elapsed=15463.68s tid=0x00007fe65e0299d0 nid=0x2c runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 42704   !   4       myClass::deliverMessage (318 bytes)\r\n```\r\n\r\nThis helps me narrow it down a bit, but the question is, why is there a `!` in the output?\r\n\r\n&lt;hr&gt;\r\n\r\nOne level deeper we go! The peak happened again, and now with `deliverMessage` blocked from JIT, we reach the next level:\r\n\r\n```\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=209412.09ms elapsed=5769.99s tid=0x00007f855b8b69d0 nid=0x2c runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   Compiling: 41589       4       my.kafka.Payload::toString (288 bytes)\r\n```\r\n\r\nSo this seems to be the &quot;root&quot; that is triggering `JIT` to eat up memory and take long compilation times. This `toString` is rather big, with roughly _70_ variables printed out here. In addition, it&#39;s all done with the following schema:\r\n\r\n```java\r\nreturn &quot;KafkaPayload{&quot; +\r\n    &quot;id=&quot; + id +\r\n    &quot;, externalId=&#39;&quot; + externalId + &#39;\\&#39;&#39; +\r\n    ...\r\n    &quot;, eSignatureBase64Image=&#39;&quot; + (shouldContainESignatureBase64Image ? eSignatureBase64Image : &quot;censored&quot;) + &#39;\\&#39;&#39; +\r\n    ...\r\n} \r\n```\r\n\r\nInteresting here is that the big boy, namely the `eSignatureBase64Image` is censored out, as it gets relatively large. Could it be that even tho it&#39;s _not printed out_, the JIT still has an internal conflict and somehow tries to optimize it?","title":"C2 JIT Thread takes a long time whilst consuming wast amounts of memory","body":"<p>So whilst debugging some peaks in memory usage on our prod environment, I started periodically dumping threaddumps, and have found the following part:</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=208687.03ms elapsed=10057.72s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\n</code></pre>\n<p>This is present in a lot of follow up dumps (spanning up to 50 seconds) whilst, according to <code>VM.native_memory summary</code>, taking up memory in the range of 1G - 1.3G (various observed cases).</p>\n<p>So, the threaddump before it starts the compilation is</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=185150.71ms elapsed=10028.85s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n</code></pre>\n<p>The last one before finishing</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=247100.38ms elapsed=10096.32s tid=0x00007efed95b29d0 nid=0x2a runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 41155       4       my.class::myFunction (384 bytes)\n</code></pre>\n<p>and the one after finishing</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=255511.25ms elapsed=10105.79s tid=0x00007efed95b29d0 nid=0x2a waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n</code></pre>\n<p>So before compilation starts, between threaddumps (roughly all 10 seconds), the cpu time increases in the range of 0.xx <em>ms</em>, which is negligible.</p>\n<p>Yet, in the time of the compilation, it rose by <em>70 seconds</em>, which seems insane. The ID <code>41155</code>, which apparently is given for any compilation task and should therefor not repeat, is also the same across the relevant threaddumps. What I have yet to figure out is what the <code>(384 bytes)</code> mean at the end - those remain the same.</p>\n<p>This function is per se not special - it is called plenty of times across several pods and seems to be absolutely fine 99% of the cases - these are super rare occasions, but we can't seem to find a root cause.</p>\n<p>What might be relevant information here is that the <code>VM.native_memory</code> dump shows the memory wandering from <code>Compilation</code> to <code>Arena Chunks</code>, where it is then quickly taken care of and memory usage drops back to normal levels.</p>\n<p>I know there was a memory leak on Java 17.0.4, but we are running\n<code>OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)</code> so this shouldn't be the issue at hand.</p>\n<p>The question here is, where would one go from here? I've added several logs to the application at this function, but can't seem to find any &quot;misbehaviour&quot;.</p>\n<p>Another question would of course be: <em>How does the code behave?</em> As in, if it's compiling, would we even <em>get any logs until it's finished?</em> Idea being that it would <em>compile -&gt; execute</em> and therefor the logs would only &quot;appear&quot; after it.</p>\n<hr>\n<p>After adding the flag <code>XX:CompileCommand=exclude,myClass::myFunction</code>, the output of the threaddump is now a bit different:</p>\n<pre><code>\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=244772.46ms elapsed=15463.68s tid=0x00007fe65e0299d0 nid=0x2c runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 42704   !   4       myClass::deliverMessage (318 bytes)\n</code></pre>\n<p>This helps me narrow it down a bit, but the question is, why is there a <code>!</code> in the output?</p>\n<hr>\n<p>One level deeper we go! The peak happened again, and now with <code>deliverMessage</code> blocked from JIT, we reach the next level:</p>\n<pre><code>&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=209412.09ms elapsed=5769.99s tid=0x00007f855b8b69d0 nid=0x2c runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   Compiling: 41589       4       my.kafka.Payload::toString (288 bytes)\n</code></pre>\n<p>So this seems to be the &quot;root&quot; that is triggering <code>JIT</code> to eat up memory and take long compilation times. This <code>toString</code> is rather big, with roughly <em>70</em> variables printed out here. In addition, it's all done with the following schema:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return &quot;KafkaPayload{&quot; +\n    &quot;id=&quot; + id +\n    &quot;, externalId='&quot; + externalId + '\\'' +\n    ...\n    &quot;, eSignatureBase64Image='&quot; + (shouldContainESignatureBase64Image ? eSignatureBase64Image : &quot;censored&quot;) + '\\'' +\n    ...\n} \n</code></pre>\n<p>Interesting here is that the big boy, namely the <code>eSignatureBase64Image</code> is censored out, as it gets relatively large. Could it be that even tho it's <em>not printed out</em>, the JIT still has an internal conflict and somehow tries to optimize it?</p>\n"},{"tags":["java","sql","spring-boot","data-conversion","spring-boot-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685455689,"creation_date":1685455689,"answer_id":76365700,"question_id":76365164,"body_markdown":"You are trying to pass a string value inside the Instant column, so that&#39;s why you are getting this issue.\r\n\r\n    insert into expense values (100, &#39;2019-06-16T17:00:00.000Z&#39;, &#39;New York Business Trip&#39;, &#39;New York&#39;, 1, 1)\r\n\r\nNot sure what&#39;s the inside the category class so you need to pass the value for it.","title":"Cannot parse constant error in SQL and Spring Boot","body":"<p>You are trying to pass a string value inside the Instant column, so that's why you are getting this issue.</p>\n<pre><code>insert into expense values (100, '2019-06-16T17:00:00.000Z', 'New York Business Trip', 'New York', 1, 1)\n</code></pre>\n<p>Not sure what's the inside the category class so you need to pass the value for it.</p>\n"}],"owner":{"account_id":22355114,"reputation":13,"user_id":16572547,"display_name":"FineFree22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76365700,"answer_count":1,"score":0,"last_activity_date":1685455689,"creation_date":1685451786,"question_id":76365164,"body_markdown":"SpringBoot bug, that occurs when i try to insert a values into SQL &quot;expense&quot; table.\r\n\r\n```\r\nimport java.time.Instant;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity\r\n@Table(name=&quot;expense&quot;)\r\npublic class Expense {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n    private Instant expensedate;\r\n\r\n\tprivate String description;\r\n\r\n\tprivate String location;\r\n\t\r\n\t@ManyToOne\r\n\tprivate Category category;\r\n\r\n\t@JsonIgnore\r\n\t@ManyToOne\r\n\tprivate User user1;\r\n}\r\n```\r\n\r\nI have this expense.java (User and Category are also separate files) file and when i try to\r\n\r\n```\r\ninsert into expense values (100,&#39;New York Business Trip&#39;,&#39;2019-06-16T17:00:00.000Z&#39;,&#39;New York&#39;,1,1)\r\n``` \r\n\r\ni get this error for some reason:\r\n\r\n```\r\nCannot parse &quot;TIMESTAMP WITH TIME ZONE&quot; constant &quot;New York Business Trip&quot;;\r\n```\r\n\r\nim pretty new at this, so explain it if you find a bug please. Thank you.\r\n","title":"Cannot parse constant error in SQL and Spring Boot","body":"<p>SpringBoot bug, that occurs when i try to insert a values into SQL &quot;expense&quot; table.</p>\n<pre><code>import java.time.Instant;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n@Table(name=&quot;expense&quot;)\npublic class Expense {\n\n    @Id\n    private Long id;\n\n    private Instant expensedate;\n\n    private String description;\n\n    private String location;\n    \n    @ManyToOne\n    private Category category;\n\n    @JsonIgnore\n    @ManyToOne\n    private User user1;\n}\n</code></pre>\n<p>I have this expense.java (User and Category are also separate files) file and when i try to</p>\n<pre><code>insert into expense values (100,'New York Business Trip','2019-06-16T17:00:00.000Z','New York',1,1)\n</code></pre>\n<p>i get this error for some reason:</p>\n<pre><code>Cannot parse &quot;TIMESTAMP WITH TIME ZONE&quot; constant &quot;New York Business Trip&quot;;\n</code></pre>\n<p>im pretty new at this, so explain it if you find a bug please. Thank you.</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685379400,"post_id":76358841,"comment_id":134648822,"body_markdown":"It is common for javadoc to contain statements like `See {@link #formatMe(String, Boolean, Boolean)} for a full explanation of this method’s behavior.`  (Side note:  use `boolean`, not Boolean.  If someone passes null for bold or cursive, your method will throw a NullPointerException.)","body":"It is common for javadoc to contain statements like <code>See {@link #formatMe(String, Boolean, Boolean)} for a full explanation of this method’s behavior.</code>  (Side note:  use <code>boolean</code>, not Boolean.  If someone passes null for bold or cursive, your method will throw a NullPointerException.)"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685418194,"creation_date":1685377222,"answer_id":76358877,"question_id":76358841,"body_markdown":"    {@link #member() label}\r\n\r\nMore details here: [https://www.baeldung.com/java-method-in-javadoc][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-method-in-javadoc","title":"JavaDoc for Method with Multiple Signatures","body":"<pre><code>{@link #member() label}\n</code></pre>\n<p>More details here: <a href=\"https://www.baeldung.com/java-method-in-javadoc\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-method-in-javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685455150,"creation_date":1685378143,"answer_id":76358975,"question_id":76358841,"body_markdown":"Yes … no …\r\n\r\nThe OOTB JavaDoc does not provide a functionality to have the same documentation for a group of methods (or other elements). But you can refer to an already existing documentation, like this:\r\n\r\n```Java\r\n/**\r\n * Function to format a string.\r\n * \r\n * @param s The string to be formatted.\r\n * @param bold {@code true} if the string should be bold, {@code false}\r\n *    otherwise.\r\n * @param cursive {@code true} if the string should be cursive, {@code false}\r\n *    otherwise.\r\n * @return A formatted string.\r\n */\r\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\r\n{\r\n    var retValue = s;\r\n\r\n    // handle bold option\r\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\r\n\r\n    // handle cursive option\r\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\r\n\r\n    // Done!\r\n    return retValue;\r\n}\r\n\r\n/**\r\n * Function to format a string.\r\n * \r\n * Calls\r\n * {@link #formatMe(String,boolean,boolean)}\r\n * with the arguments {@code &amp;quot;&amp;quot;,false,false}.\r\n *\r\n * @return A formatted string. \r\n *\r\n */\r\npublic static String formatMe()\r\n{\r\n    return formatMe( &quot;&quot;, false, false );\r\n}\r\n\r\n/**\r\n * Function to format a string.\r\n * \r\n * Calls\r\n * {@link #formatMe(String,boolean,boolean)}\r\n * with the arguments {@code s,false,false}.\r\n *\r\n * @param s The string to be formatted.\r\n * @return A formatted string.\r\n */\r\npublic static String formatMe( String s )\r\n{\r\n    return formatMe( s, false, false );\r\n}\r\n```\r\n\r\nAlternatively, you can implement your own JavaDoc tag that works along the lines of `{@inheritDoc}`:\r\n```Java\r\n/**\r\n * Function to format a string.\r\n * \r\n * @param s The string to be formatted.\r\n * @param bold {@code true} if the string should be bold, {@code false}\r\n *    otherwise.\r\n * @param cursive {@code true} if the string should be cursive, {@code false}\r\n *    otherwise.\r\n * @return A formatted string. \r\n */\r\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\r\n{\r\n    var retValue = s;\r\n\r\n    // handle bold option\r\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\r\n\r\n    // handle cursive option\r\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\r\n\r\n    // Done!\r\n    return retValue;\r\n}\r\n\r\n/**\r\n * {@copyDoc #formatMe(String,boolean,boolean)}\r\n */\r\npublic static String formatMe()\r\n{\r\n    return formatMe( &quot;&quot;, false, false );\r\n}\r\n\r\n/**\r\n * {@copyDoc #formatMe(String,boolean,boolean)}\r\n */\r\npublic static String formatMe( String s )\r\n{\r\n    return formatMe( s, false, false );\r\n}\r\n```\r\n\r\nYour new tag can copy the `@return` tag and those `@param` tags that match the current signature plus the general description.\r\n\r\nBut me personally, I just use copy, paste and edit instead.","title":"JavaDoc for Method with Multiple Signatures","body":"<p>Yes … no …</p>\n<p>The OOTB JavaDoc does not provide a functionality to have the same documentation for a group of methods (or other elements). But you can refer to an already existing documentation, like this:</p>\n<pre><code>/**\n * Function to format a string.\n * \n * @param s The string to be formatted.\n * @param bold {@code true} if the string should be bold, {@code false}\n *    otherwise.\n * @param cursive {@code true} if the string should be cursive, {@code false}\n *    otherwise.\n * @return A formatted string.\n */\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\n{\n    var retValue = s;\n\n    // handle bold option\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\n\n    // handle cursive option\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\n\n    // Done!\n    return retValue;\n}\n\n/**\n * Function to format a string.\n * \n * Calls\n * {@link #formatMe(String,boolean,boolean)}\n * with the arguments {@code &amp;quot;&amp;quot;,false,false}.\n *\n * @return A formatted string. \n *\n */\npublic static String formatMe()\n{\n    return formatMe( &quot;&quot;, false, false );\n}\n\n/**\n * Function to format a string.\n * \n * Calls\n * {@link #formatMe(String,boolean,boolean)}\n * with the arguments {@code s,false,false}.\n *\n * @param s The string to be formatted.\n * @return A formatted string.\n */\npublic static String formatMe( String s )\n{\n    return formatMe( s, false, false );\n}\n</code></pre>\n<p>Alternatively, you can implement your own JavaDoc tag that works along the lines of <code>{@inheritDoc}</code>:</p>\n<pre><code>/**\n * Function to format a string.\n * \n * @param s The string to be formatted.\n * @param bold {@code true} if the string should be bold, {@code false}\n *    otherwise.\n * @param cursive {@code true} if the string should be cursive, {@code false}\n *    otherwise.\n * @return A formatted string. \n */\npublic static String formatMe( final String s, final boolean bold, final boolean cursive )\n{\n    var retValue = s;\n\n    // handle bold option\n    if( bold ) retValue = &quot;BOLD&quot; + retValue + &quot;BOLD&quot;;\n\n    // handle cursive option\n    if( cursive ) retValue = &quot;KURSIVE&quot; + retValue + &quot;KURSIVE&quot;;\n\n    // Done!\n    return retValue;\n}\n\n/**\n * {@copyDoc #formatMe(String,boolean,boolean)}\n */\npublic static String formatMe()\n{\n    return formatMe( &quot;&quot;, false, false );\n}\n\n/**\n * {@copyDoc #formatMe(String,boolean,boolean)}\n */\npublic static String formatMe( String s )\n{\n    return formatMe( s, false, false );\n}\n</code></pre>\n<p>Your new tag can copy the <code>@return</code> tag and those <code>@param</code> tags that match the current signature plus the general description.</p>\n<p>But me personally, I just use copy, paste and edit instead.</p>\n"}],"owner":{"account_id":1166925,"reputation":12334,"user_id":1144966,"accept_rate":94,"display_name":"petermeissner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76358975,"answer_count":2,"score":1,"last_activity_date":1685455150,"creation_date":1685376879,"question_id":76358841,"body_markdown":"Suppose I have a method with multiple signatures (just a silly example). The method with all parameters is the actuall workhorse and all other methods are convenience shortcuts. \r\n\r\nI have documented the workhorse method using JavaDoc. \r\nSince all other methods work the same I do not want to duplicate the documentation.  \r\n\r\nIs there a way in JavaDoc to link to the full documentation - or some other way to not have to re-write the documentation over and over again?\r\n\r\n```java\r\n\r\n    /**\r\n     * Function to format a string\r\n     * \r\n     * @param s string to be formatted\r\n     * @param bold string should be bold?\r\n     * @param cursive string should be cursive?\r\n     *                \r\n     * @return a formatted string \r\n     */\r\n    public static String formatMe(String s, Boolean bold, Boolean cursive){\r\n        String res = s;\r\n\r\n        // handle bold option\r\n        if (bold) {\r\n            res = &quot;BOLD&quot; + res + &quot;BOLD&quot;;\r\n        }\r\n\r\n        // handle cursive option\r\n        if (cursive) {\r\n            res = &quot;KURSIVE&quot; + res + &quot;KURSIVE&quot;;\r\n        }\r\n\r\n        // return\r\n        return res;\r\n    }\r\n\r\n    public static String formatMe(){\r\n        return formatMe(&quot;&quot;, false, false);\r\n    }\r\n    \r\n    public static String formatMe(String s){\r\n        return formatMe(s, false, false);\r\n    }```","title":"JavaDoc for Method with Multiple Signatures","body":"<p>Suppose I have a method with multiple signatures (just a silly example). The method with all parameters is the actuall workhorse and all other methods are convenience shortcuts.</p>\n<p>I have documented the workhorse method using JavaDoc.\nSince all other methods work the same I do not want to duplicate the documentation.</p>\n<p>Is there a way in JavaDoc to link to the full documentation - or some other way to not have to re-write the documentation over and over again?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    /**\n     * Function to format a string\n     * \n     * @param s string to be formatted\n     * @param bold string should be bold?\n     * @param cursive string should be cursive?\n     *                \n     * @return a formatted string \n     */\n    public static String formatMe(String s, Boolean bold, Boolean cursive){\n        String res = s;\n\n        // handle bold option\n        if (bold) {\n            res = &quot;BOLD&quot; + res + &quot;BOLD&quot;;\n        }\n\n        // handle cursive option\n        if (cursive) {\n            res = &quot;KURSIVE&quot; + res + &quot;KURSIVE&quot;;\n        }\n\n        // return\n        return res;\n    }\n\n    public static String formatMe(){\n        return formatMe(&quot;&quot;, false, false);\n    }\n    \n    public static String formatMe(String s){\n        return formatMe(s, false, false);\n    }```\n</code></pre>\n"},{"tags":["java","android","tcp","httpconnection"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":3,"up_vote_count":292,"is_accepted":true,"score":289,"last_activity_date":1685454628,"creation_date":1315567460,"answer_id":7360916,"question_id":7360520,"body_markdown":"A **connection timeout** occurs only upon starting the TCP connection. This usually happens if the remote machine does not answer. If you get an ConnectException, possible reasons are: the server has been shut down, you used the wrong IP/DNS name, wrong port or the network connection to the server is down.\r\n\r\nA **socket timeout** is dedicated to monitor the continuous incoming data flow. If the data flow is interrupted for the specified time the connection is regarded as stalled/broken. Of course this only works with connections where data is received all the time and there are no delays longer than the configured socket timeout. \r\n\r\nBy setting socket timeout to 1000 this would require that every second new data is received (assuming that you read the data block wise and the block is large enough).  \r\n\r\nIf only the incoming stream stalls for more than a second you are running into a timeout. \r\n\r\nThis is especially important when HTTP servers process a complex request that requires some time on server side before the HTTP response data is available. If you configure socket timeout to 10000 (10 seconds) but the HTTP server requires 15 seconds after receiving the HTTP request, then you will never get the response as after 10 seconds you will get an SocketTimeoutException (no data is transmitted between reception of the HTTP request until the HTTP response is ready). \r\n","title":"ConnectionTimeout versus SocketTimeout","body":"<p>A <strong>connection timeout</strong> occurs only upon starting the TCP connection. This usually happens if the remote machine does not answer. If you get an ConnectException, possible reasons are: the server has been shut down, you used the wrong IP/DNS name, wrong port or the network connection to the server is down.</p>\n<p>A <strong>socket timeout</strong> is dedicated to monitor the continuous incoming data flow. If the data flow is interrupted for the specified time the connection is regarded as stalled/broken. Of course this only works with connections where data is received all the time and there are no delays longer than the configured socket timeout.</p>\n<p>By setting socket timeout to 1000 this would require that every second new data is received (assuming that you read the data block wise and the block is large enough).</p>\n<p>If only the incoming stream stalls for more than a second you are running into a timeout.</p>\n<p>This is especially important when HTTP servers process a complex request that requires some time on server side before the HTTP response data is available. If you configure socket timeout to 10000 (10 seconds) but the HTTP server requires 15 seconds after receiving the HTTP request, then you will never get the response as after 10 seconds you will get an SocketTimeoutException (no data is transmitted between reception of the HTTP request until the HTTP response is ready).</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":134,"is_accepted":false,"score":134,"last_activity_date":1448918071,"creation_date":1448918071,"answer_id":34008123,"question_id":7360520,"body_markdown":"A *connection timeout* is the maximum amount of time that the program is willing to wait to setup a connection to another process. You aren&#39;t getting or posting any application data at this point, just establishing the connection, itself.\r\n\r\nA *socket timeout* is the timeout when waiting for individual packets. It&#39;s a common misconception that a socket timeout is the timeout to receive the full response. So if you have a socket timeout of 1 second, and a response comprised of 3 IP packets, where each response packet takes 0.9 seconds to arrive, for a total response time of 2.7 seconds, then there will be no timeout.","title":"ConnectionTimeout versus SocketTimeout","body":"<p>A <em>connection timeout</em> is the maximum amount of time that the program is willing to wait to setup a connection to another process. You aren't getting or posting any application data at this point, just establishing the connection, itself.</p>\n\n<p>A <em>socket timeout</em> is the timeout when waiting for individual packets. It's a common misconception that a socket timeout is the timeout to receive the full response. So if you have a socket timeout of 1 second, and a response comprised of 3 IP packets, where each response packet takes 0.9 seconds to arrive, for a total response time of 2.7 seconds, then there will be no timeout.</p>\n"}],"owner":{"account_id":112376,"reputation":37780,"user_id":296446,"accept_rate":74,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215222,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":7360916,"answer_count":2,"score":172,"last_activity_date":1685454628,"creation_date":1315565334,"question_id":7360520,"body_markdown":"I&#39;m having a problem with a library that I am using. It might be the library or it might be me using it wrong!\r\n\r\nBasically, when I do this (Timeout in milliseconds)\r\n\r\n    _ignitedHttp.setConnectionTimeout(1);  // v short\r\n    _ignitedHttp.setSocketTimeout(60000);  // 60 seconds\r\n\r\nNo timeout exception is generated and it works ok, however, when I do the following,\r\n\r\n    _ignitedHttp.setConnectionTimeout(60000);  // 60 seconds\r\n    _ignitedHttp.setSocketTimeout(1);          // v short\r\n\r\nI get a Socket Exception.\r\n\r\nSo, my question is why can I not simulate a Connection Exception? Am I misunderstanding the difference between a socket and a connection time-out? The library is [here][1] (not officially released yet).\r\n\r\n\r\n  [1]: https://github.com/kaeppler/ignition-support/tree/master/src","title":"ConnectionTimeout versus SocketTimeout","body":"<p>I'm having a problem with a library that I am using. It might be the library or it might be me using it wrong!</p>\n\n<p>Basically, when I do this (Timeout in milliseconds)</p>\n\n<pre><code>_ignitedHttp.setConnectionTimeout(1);  // v short\n_ignitedHttp.setSocketTimeout(60000);  // 60 seconds\n</code></pre>\n\n<p>No timeout exception is generated and it works ok, however, when I do the following,</p>\n\n<pre><code>_ignitedHttp.setConnectionTimeout(60000);  // 60 seconds\n_ignitedHttp.setSocketTimeout(1);          // v short\n</code></pre>\n\n<p>I get a Socket Exception.</p>\n\n<p>So, my question is why can I not simulate a Connection Exception? Am I misunderstanding the difference between a socket and a connection time-out? The library is <a href=\"https://github.com/kaeppler/ignition-support/tree/master/src\" rel=\"noreferrer\">here</a> (not officially released yet).</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":10742308,"reputation":88,"user_id":7904942,"display_name":"R.Groote"},"score":1,"creation_date":1584598764,"post_id":60751827,"comment_id":107486647,"body_markdown":"Couple of remarks:\n- ArrayList&lt;Point&gt; could be replaced by LIst&lt;Point&gt;\n- assertEquals should be assertTrue(points.size() ==4)\n- assertEquals can be used, for example assertEquals(points.size(),4)\n- assertEquals can be used, for example assertEquals(&quot;points are not the same&quot;,points.size(),4)","body":"Couple of remarks: - ArrayList&lt;Point&gt; could be replaced by LIst&lt;Point&gt; - assertEquals should be assertTrue(points.size() ==4) - assertEquals can be used, for example assertEquals(points.size(),4) - assertEquals can be used, for example assertEquals(&quot;points are not the same&quot;,points.size(),4)"}],"answers":[{"tags":[],"owner":{"account_id":16405985,"reputation":125,"user_id":11850526,"display_name":"more"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1584598768,"creation_date":1584598768,"answer_id":60751869,"question_id":60751827,"body_markdown":"Either you use\r\n\r\n    assertTrue(points.size() == 4);\r\n\r\nor\r\n\r\n    assertEquals(4, points.size());","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>Either you use</p>\n\n<pre><code>assertTrue(points.size() == 4);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>assertEquals(4, points.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4091211,"reputation":362,"user_id":3359134,"display_name":"Yomal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584598821,"creation_date":1584598821,"answer_id":60751878,"question_id":60751827,"body_markdown":"Please check &lt;http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertEquals(long,%20long)&gt;\r\n\r\nThe `assertEquals` method requires two parameters. Replace your code as\r\n`assertEquals(4,points.size());`","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>Please check <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertEquals(long,%20long)\" rel=\"nofollow noreferrer\">http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertEquals(long,%20long)</a></p>\n\n<p>The <code>assertEquals</code> method requires two parameters. Replace your code as\n<code>assertEquals(4,points.size());</code></p>\n"},{"tags":[],"owner":{"account_id":1758628,"reputation":196,"user_id":1606287,"display_name":"Rafał Maciak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584598825,"creation_date":1584598825,"answer_id":60751879,"question_id":60751827,"body_markdown":"The method assertEquals() takes two parameters:\r\n\r\n - expected value and\r\n - actual value\r\n\r\nWhat you passed is a result of equality operator on two integers, which is boolean.\r\n\r\nYou have to change this line to the following:\r\n\r\n     assertEquals(4, points.size());","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>The method assertEquals() takes two parameters:</p>\n\n<ul>\n<li>expected value and</li>\n<li>actual value</li>\n</ul>\n\n<p>What you passed is a result of equality operator on two integers, which is boolean.</p>\n\n<p>You have to change this line to the following:</p>\n\n<pre><code> assertEquals(4, points.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703126,"reputation":552,"user_id":7877771,"display_name":"sachyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584599182,"creation_date":1584599182,"answer_id":60751940,"question_id":60751827,"body_markdown":"You can use the Assert options appropriately as per your need.\r\ntwo easy methods that can be used for your case is \r\n\r\n    assertEquals(4, points.size());\r\n    assertTrue(points.size() == 4);\r\n\r\ndepending on your requirement, you can use the **assertFalse()** which is also a much used method.\r\n\r\n","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>You can use the Assert options appropriately as per your need.\ntwo easy methods that can be used for your case is </p>\n\n<pre><code>assertEquals(4, points.size());\nassertTrue(points.size() == 4);\n</code></pre>\n\n<p>depending on your requirement, you can use the <strong>assertFalse()</strong> which is also a much used method.</p>\n"},{"tags":[],"owner":{"account_id":1563022,"reputation":823,"user_id":1452460,"display_name":"tam.teixeira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685454331,"creation_date":1685454331,"answer_id":76365509,"question_id":60751827,"body_markdown":"If you use `assertThat()` from `org.assertj.core.api.AssertionsForClassTypes.assertThat` or from `org.assertj.core.api.Assertions.assertThat`\r\n\r\nthen you can use:\r\n\r\n    assertThat(points).hasSize(4);","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<p>If you use <code>assertThat()</code> from <code>org.assertj.core.api.AssertionsForClassTypes.assertThat</code> or from <code>org.assertj.core.api.Assertions.assertThat</code></p>\n<p>then you can use:</p>\n<pre><code>assertThat(points).hasSize(4);\n</code></pre>\n"}],"owner":{"account_id":17832867,"reputation":135,"user_id":12952482,"display_name":"Yosua Martiansia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13883,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60751869,"answer_count":5,"score":3,"last_activity_date":1685454331,"creation_date":1584598542,"question_id":60751827,"body_markdown":"```\r\n\t@Test\r\n\t@DisplayName(&quot;Get all Points in Shape is working and gets the correct number output&quot;)\r\n\tpublic void test_Get_All_Points_On_Shape()\r\n\t{\r\n\t\tArrayList&lt;Point&gt; points = new ArrayList&lt;Point&gt;(Arrays.asList(new Point[4]));\r\n\t\tassertEquals(points.size() == 4);\r\n\t}\r\n```\r\nthe above code gives an error \r\n```\r\nThe method assertEquals(short, short) in the type Assertions is not applicable for the arguments (boolean)\r\n```\r\n\r\nHow to resolve this problem?","title":"Beginner in Java using JUnit to test an ArrayList size","body":"<pre><code>    @Test\n    @DisplayName(\"Get all Points in Shape is working and gets the correct number output\")\n    public void test_Get_All_Points_On_Shape()\n    {\n        ArrayList&lt;Point&gt; points = new ArrayList&lt;Point&gt;(Arrays.asList(new Point[4]));\n        assertEquals(points.size() == 4);\n    }\n</code></pre>\n\n<p>the above code gives an error </p>\n\n<pre><code>The method assertEquals(short, short) in the type Assertions is not applicable for the arguments (boolean)\n</code></pre>\n\n<p>How to resolve this problem?</p>\n"},{"tags":["java","mysql","spring","docker"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":1,"creation_date":1685453516,"post_id":76365241,"comment_id":134659704,"body_markdown":"Are you sure the values are actually null, because it looks more like to me that the screen shot show that the definition of your table ALLOWS null values, rather than you showing any examples of data.","body":"Are you sure the values are actually null, because it looks more like to me that the screen shot show that the definition of your table ALLOWS null values, rather than you showing any examples of data."},{"owner":{"account_id":26412055,"reputation":11,"user_id":20061028,"display_name":"cimpoiesudanila19"},"score":0,"creation_date":1685454768,"post_id":76365241,"comment_id":134660036,"body_markdown":"Oh really, thanks, I didn&#39;t think about it","body":"Oh really, thanks, I didn&#39;t think about it"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685454178,"creation_date":1685454178,"answer_id":76365482,"question_id":76365241,"body_markdown":"Those NULL in the table are indicating that the columns are nullable. Compare id bigint **not null**\r\n\r\n    Hibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\r\n\r\nTo see what has been added to the db add the following to your code after          `repository.save(student);`\r\n\r\n\t\trepository.findAll().stream().forEach(student -&gt; System.out.println(student));\r\n\r\n\r\nTo prevent the DB accepting nulls to a column add the following annotation to the field:\r\n\r\n    @Column(nullable = false)\r\n\r\n\r\n","title":"Java Spring Boot Docker project with MySQL - All values saved as null in the database","body":"<p>Those NULL in the table are indicating that the columns are nullable. Compare id bigint <strong>not null</strong></p>\n<pre><code>Hibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\n</code></pre>\n<p>To see what has been added to the db add the following to your code after          <code>repository.save(student);</code></p>\n<pre><code>    repository.findAll().stream().forEach(student -&gt; System.out.println(student));\n</code></pre>\n<p>To prevent the DB accepting nulls to a column add the following annotation to the field:</p>\n<pre><code>@Column(nullable = false)\n</code></pre>\n"}],"owner":{"account_id":26412055,"reputation":11,"user_id":20061028,"display_name":"cimpoiesudanila19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685454178,"creation_date":1685452287,"question_id":76365241,"body_markdown":"I want my project to create a table and it is saved in mysql, the problem is that when saving all values are null\r\n\r\nI am being forced to write something else, but I do not know what to add, this project can be done through mvc by writing to the save post update delete controllers, I would do this after it would be possible to solve the problem that has arisen now\r\n\r\n\r\ni use docker\r\ndocker-compose.yaml\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  db:\r\n    image: mysql\r\n    command: --default-authentication-plugin=mysql_native_password\r\n    ports:\r\n      - 3306:3306\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: example\r\n  adminer:\r\n    image: adminer\r\n    restart: always\r\n    ports:\r\n      - 8081:8080\r\n```\r\n\r\napplication.yaml\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/cimpoiesu\r\n    username: root\r\n    password: example\r\n  jpa:\r\n    showSql: true\r\n    hibernate:\r\n      ddl-auto: create\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n...\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\t\t\t\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nmain class\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(DemoApplication.class, args);\r\n   }\r\n\r\n   @Bean\r\n   CommandLineRunner runner(StudentRepository repository) {\r\n      return args -&gt; {\r\n         Address address = new Address(\r\n               &quot;Z&quot;,\r\n               &quot;X&quot;,\r\n               &quot;C&quot;\r\n         );\r\n         Student student = new Student(\r\n               &quot;Danila&quot;,\r\n               &quot;Cimpoiesu&quot;,\r\n               &quot;danila.cimpoiesu@mail.ru&quot;,\r\n               Gender.MALE,\r\n               address,\r\n               List.of(&quot;Computer science&quot;),\r\n               BigDecimal.TEN,\r\n               LocalDateTime.now()\r\n         );\r\n\r\n         repository.save(student);\r\n      };\r\n   }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface StudentRepository extends\r\n        JpaRepository&lt;Student, Long&gt; {\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport lombok.Data;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@Data\r\n@Entity\r\npublic class Student {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstname;\r\n    private String lastname;\r\n    private String email;\r\n    private Gender gender;\r\n    private Address address;\r\n    private List&lt;String&gt; favouriteSubject;\r\n    private BigDecimal totalSpentInBooks;\r\n    private LocalDateTime created;\r\n\r\n    public Student() {\r\n    }\r\n\r\n    public Student(String firstname, String lastname, String email, Gender gender, Address address, List&lt;String&gt; favouriteSubject, BigDecimal totalSpentInBooks, LocalDateTime created) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.email = email;\r\n        this.gender = gender;\r\n        this.address = address;\r\n        this.favouriteSubject = favouriteSubject;\r\n        this.totalSpentInBooks = totalSpentInBooks;\r\n        this.created = created;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Embeddable;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Embeddable\r\npublic class Address {\r\n    private String country;\r\n    private String city;\r\n    private String postCode;\r\n}\r\n```\r\n\r\n```\r\npackage com.example.demo;\r\n\r\npublic enum Gender {\r\n    MALE, FEMALE\r\n}\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/K5Ljf.png)](https://i.stack.imgur.com/K5Ljf.png)\r\n\r\n```\r\n\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-05-30T15:54:04.647+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 19 with PID 9896 (C:\\Users\\jesus\\Desktop\\plack\\target\\classes started by jesus in C:\\Users\\jesus\\Desktop\\plack)\r\n2023-05-30T15:54:04.656+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-30T15:54:06.140+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-05-30T15:54:06.324+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158 ms. Found 1 JPA repository interfaces.\r\n2023-05-30T15:54:07.720+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-05-30T15:54:07.737+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-05-30T15:54:07.738+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n2023-05-30T15:54:07.918+03:00  INFO 9896 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-05-30T15:54:07.921+03:00  INFO 9896 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3113 ms\r\n2023-05-30T15:54:08.298+03:00  INFO 9896 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-05-30T15:54:08.423+03:00  INFO 9896 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-05-30T15:54:08.998+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-05-30T15:54:09.740+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55adcf9e\r\n2023-05-30T15:54:09.745+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-05-30T15:54:09.893+03:00  INFO 9896 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\nHibernate: drop table if exists student\r\nHibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\r\n2023-05-30T15:54:11.908+03:00  INFO 9896 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-05-30T15:54:11.923+03:00  INFO 9896 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-30T15:54:12.463+03:00  WARN 9896 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-05-30T15:54:13.171+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-05-30T15:54:13.187+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 9.612 seconds (process running for 10.486)\r\nHibernate: insert into student (city, country, post_code, created, email, favourite_subject, firstname, gender, lastname, total_spent_in_books) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n```\r\n\r\nI have done a project using mongodb before and it worked and I want to redo it for mysql","title":"Java Spring Boot Docker project with MySQL - All values saved as null in the database","body":"<p>I want my project to create a table and it is saved in mysql, the problem is that when saving all values are null</p>\n<p>I am being forced to write something else, but I do not know what to add, this project can be done through mvc by writing to the save post update delete controllers, I would do this after it would be possible to solve the problem that has arisen now</p>\n<p>i use docker\ndocker-compose.yaml</p>\n<pre><code>version: '3.8'\n\nservices:\n  db:\n    image: mysql\n    command: --default-authentication-plugin=mysql_native_password\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_ROOT_PASSWORD: example\n  adminer:\n    image: adminer\n    restart: always\n    ports:\n      - 8081:8080\n</code></pre>\n<p>application.yaml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/cimpoiesu\n    username: root\n    password: example\n  jpa:\n    showSql: true\n    hibernate:\n      ddl-auto: create\n</code></pre>\n<p>pom.xml</p>\n<pre><code>...\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            \n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>main class</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(DemoApplication.class, args);\n   }\n\n   @Bean\n   CommandLineRunner runner(StudentRepository repository) {\n      return args -&gt; {\n         Address address = new Address(\n               &quot;Z&quot;,\n               &quot;X&quot;,\n               &quot;C&quot;\n         );\n         Student student = new Student(\n               &quot;Danila&quot;,\n               &quot;Cimpoiesu&quot;,\n               &quot;danila.cimpoiesu@mail.ru&quot;,\n               Gender.MALE,\n               address,\n               List.of(&quot;Computer science&quot;),\n               BigDecimal.TEN,\n               LocalDateTime.now()\n         );\n\n         repository.save(student);\n      };\n   }\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends\n        JpaRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport lombok.Data;\nimport jakarta.persistence.Id;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Data\n@Entity\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstname;\n    private String lastname;\n    private String email;\n    private Gender gender;\n    private Address address;\n    private List&lt;String&gt; favouriteSubject;\n    private BigDecimal totalSpentInBooks;\n    private LocalDateTime created;\n\n    public Student() {\n    }\n\n    public Student(String firstname, String lastname, String email, Gender gender, Address address, List&lt;String&gt; favouriteSubject, BigDecimal totalSpentInBooks, LocalDateTime created) {\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.email = email;\n        this.gender = gender;\n        this.address = address;\n        this.favouriteSubject = favouriteSubject;\n        this.totalSpentInBooks = totalSpentInBooks;\n        this.created = created;\n    }\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Embeddable;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Embeddable\npublic class Address {\n    private String country;\n    private String city;\n    private String postCode;\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\npublic enum Gender {\n    MALE, FEMALE\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/K5Ljf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K5Ljf.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-05-30T15:54:04.647+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 19 with PID 9896 (C:\\Users\\jesus\\Desktop\\plack\\target\\classes started by jesus in C:\\Users\\jesus\\Desktop\\plack)\n2023-05-30T15:54:04.656+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-30T15:54:06.140+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-30T15:54:06.324+03:00  INFO 9896 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158 ms. Found 1 JPA repository interfaces.\n2023-05-30T15:54:07.720+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-30T15:54:07.737+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-30T15:54:07.738+03:00  INFO 9896 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-05-30T15:54:07.918+03:00  INFO 9896 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-30T15:54:07.921+03:00  INFO 9896 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3113 ms\n2023-05-30T15:54:08.298+03:00  INFO 9896 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-30T15:54:08.423+03:00  INFO 9896 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-05-30T15:54:08.998+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-30T15:54:09.740+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55adcf9e\n2023-05-30T15:54:09.745+03:00  INFO 9896 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-30T15:54:09.893+03:00  INFO 9896 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nHibernate: drop table if exists student\nHibernate: create table student (id bigint not null auto_increment, city varchar(255), country varchar(255), post_code varchar(255), created datetime(6), email varchar(255), favourite_subject varbinary(255), firstname varchar(255), gender smallint, lastname varchar(255), total_spent_in_books decimal(38,2), primary key (id)) engine=InnoDB\n2023-05-30T15:54:11.908+03:00  INFO 9896 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-30T15:54:11.923+03:00  INFO 9896 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-30T15:54:12.463+03:00  WARN 9896 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-05-30T15:54:13.171+03:00  INFO 9896 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-30T15:54:13.187+03:00  INFO 9896 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 9.612 seconds (process running for 10.486)\nHibernate: insert into student (city, country, post_code, created, email, favourite_subject, firstname, gender, lastname, total_spent_in_books) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n<p>I have done a project using mongodb before and it worked and I want to redo it for mysql</p>\n"},{"tags":["java","saml-2.0","idp","spring-security-saml2"],"answers":[{"tags":[],"owner":{"account_id":11715131,"reputation":75,"user_id":8575889,"display_name":"Jose Guerra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685453983,"creation_date":1685453983,"answer_id":76365458,"question_id":75981487,"body_markdown":"only put the default-success-url: https://localhost:8443/login into the application.yml and works","title":"How redirect my saml2-client to home page when i authenticate with local SP and IDP Saml2","body":"<p>only put the default-success-url: https://localhost:8443/login into the application.yml and works</p>\n"}],"owner":{"account_id":11715131,"reputation":75,"user_id":8575889,"display_name":"Jose Guerra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685453983,"creation_date":1681170084,"question_id":75981487,"body_markdown":"I try to authenticate an application with an SP and IDP local but when I try from the same server(IDP) the response is ok but when I try from other application the response redirect show an error\r\n\r\nThis is the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my IDP code when redirect the response:\r\n\r\n    @Override\r\n    protected ServiceProviderMetadata getTargetProvider(HttpServletRequest request) {\r\n        IdentityProviderService provider = getProvisioning().getHostedProvider();\r\n        String param = request.getParameter(&quot;SAMLRequest&quot;);\r\n        AuthenticationRequest authn =\r\n                provider.fromXml(\r\n                        param,\r\n                        true,\r\n                        HttpMethod.GET.name().equalsIgnoreCase(request.getMethod()),\r\n                        AuthenticationRequest.class\r\n                );\r\n        provider.validate(authn);\r\n        return provider.getRemoteProvider(authn);\r\n    }\r\n\r\nThe client are in the 8080 port and sp 8082 and idp 8081\r\n\r\nthis is my application.yml:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow i do for redirect to 8080/home in the client application?\r\nWhen call from http://localhost:8080 this field is null in the getTargetProvider() method:\r\n            String param = request.getParameter(&quot;SAMLRequest&quot;);\r\n\r\n  [1]: https://i.stack.imgur.com/OkKNI.png\r\n  [2]: https://i.stack.imgur.com/5lC1D.png","title":"How redirect my saml2-client to home page when i authenticate with local SP and IDP Saml2","body":"<p>I try to authenticate an application with an SP and IDP local but when I try from the same server(IDP) the response is ok but when I try from other application the response redirect show an error</p>\n<p>This is the error:</p>\n<p><a href=\"https://i.stack.imgur.com/OkKNI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OkKNI.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my IDP code when redirect the response:</p>\n<pre><code>@Override\nprotected ServiceProviderMetadata getTargetProvider(HttpServletRequest request) {\n    IdentityProviderService provider = getProvisioning().getHostedProvider();\n    String param = request.getParameter(&quot;SAMLRequest&quot;);\n    AuthenticationRequest authn =\n            provider.fromXml(\n                    param,\n                    true,\n                    HttpMethod.GET.name().equalsIgnoreCase(request.getMethod()),\n                    AuthenticationRequest.class\n            );\n    provider.validate(authn);\n    return provider.getRemoteProvider(authn);\n}\n</code></pre>\n<p>The client are in the 8080 port and sp 8082 and idp 8081</p>\n<p>this is my application.yml:</p>\n<p><a href=\"https://i.stack.imgur.com/5lC1D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5lC1D.png\" alt=\"enter image description here\" /></a></p>\n<p>How i do for redirect to 8080/home in the client application?\nWhen call from http://localhost:8080 this field is null in the getTargetProvider() method:\nString param = request.getParameter(&quot;SAMLRequest&quot;);</p>\n"},{"tags":["java","filter","apache-kafka","apache-kafka-connect","jsonpath"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669831102,"post_id":74630907,"comment_id":131734498,"body_markdown":"Please clarify what Filter transform you are using. Kafka Connect is not unique to Confluent Platform","body":"Please clarify what Filter transform you are using. Kafka Connect is not unique to Confluent Platform"},{"owner":{"account_id":27100987,"reputation":3,"user_id":20647554,"display_name":"Sugs"},"score":0,"creation_date":1669835126,"post_id":74630907,"comment_id":131735850,"body_markdown":"I am trying to use something like this                                                &quot;transforms.filterValue.type&quot;: &quot;io.confluent.connect.transforms.Filter$Value&quot;,\n&quot;transforms.filterValue.filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;,\n&quot;transforms.filterValue.filter.type&quot;: &quot;include&quot;,","body":"I am trying to use something like this                                                &quot;transforms.filterValue.type&quot;: &quot;io.confluent.connect.transforms.Filter$Value&quot;, &quot;transforms.filterValue.filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;, &quot;transforms.filterValue.filter.type&quot;: &quot;include&quot;,"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669836923,"post_id":74630907,"comment_id":131736392,"body_markdown":"That Transform is part of this package, which can be added to any Kafka installation - https://www.confluent.io/hub/confluentinc/connect-transforms","body":"That Transform is part of this package, which can be added to any Kafka installation - <a href=\"https://www.confluent.io/hub/confluentinc/connect-transforms\" rel=\"nofollow noreferrer\">confluent.io/hub/confluentinc/connect-transforms</a>"},{"owner":{"account_id":27100987,"reputation":3,"user_id":20647554,"display_name":"Sugs"},"score":0,"creation_date":1669837679,"post_id":74630907,"comment_id":131736602,"body_markdown":"Yeah I already did step by doing below                                                                               confluent-hub install confluentinc/connect-transforms:latest","body":"Yeah I already did step by doing below                                                                               confluent-hub install confluentinc/connect-transforms:latest"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669837048,"creation_date":1669837048,"answer_id":74633263,"question_id":74630907,"body_markdown":"Bitwise [operations](https://github.com/json-path/JsonPath#functions) are not supported by the JSONPath library being used. \r\n\r\nIf you want to filter even/odds, use Kafka Streams or KSQL to create a new topic before writing to the database. ","title":"Kafka transforms.Filter to filter records based on Odd/Even numbers is not working with bitwise operator &amp; and remainder % operator","body":"<p>Bitwise <a href=\"https://github.com/json-path/JsonPath#functions\" rel=\"nofollow noreferrer\">operations</a> are not supported by the JSONPath library being used.</p>\n<p>If you want to filter even/odds, use Kafka Streams or KSQL to create a new topic before writing to the database.</p>\n"},{"tags":[],"owner":{"account_id":11017223,"reputation":1,"user_id":8092725,"display_name":"Jagajeet Kuppala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685453798,"creation_date":1685453798,"answer_id":76365436,"question_id":74630907,"body_markdown":"As [JSONPath][1] docs show, you can filter array elements with RegEx, using the `=~` operator.\r\n\r\nSo, JSONPath to filter\r\n- odd numbers of an array: `[?(@ =~ /^\\\\d*[13579]$/)]`\r\n- even numbers of an array: `[?(@ =~ /^\\\\d*[02468]$/)]`\r\n\r\n(Used `\\\\d` instead of `\\d` here as escape sequence.)\r\n\r\n*PS: I was facing similar scenario while writing State Machine definitions in AWS Step Functions, and this worked for me.*\r\n\r\n\r\n  [1]: https://github.com/json-path/JsonPath#functions","title":"Kafka transforms.Filter to filter records based on Odd/Even numbers is not working with bitwise operator &amp; and remainder % operator","body":"<p>As <a href=\"https://github.com/json-path/JsonPath#functions\" rel=\"nofollow noreferrer\">JSONPath</a> docs show, you can filter array elements with RegEx, using the <code>=~</code> operator.</p>\n<p>So, JSONPath to filter</p>\n<ul>\n<li>odd numbers of an array: <code>[?(@ =~ /^\\\\d*[13579]$/)]</code></li>\n<li>even numbers of an array: <code>[?(@ =~ /^\\\\d*[02468]$/)]</code></li>\n</ul>\n<p>(Used <code>\\\\d</code> instead of <code>\\d</code> here as escape sequence.)</p>\n<p><em>PS: I was facing similar scenario while writing State Machine definitions in AWS Step Functions, and this worked for me.</em></p>\n"}],"owner":{"account_id":27100987,"reputation":3,"user_id":20647554,"display_name":"Sugs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74633263,"answer_count":2,"score":0,"last_activity_date":1685453798,"creation_date":1669824896,"question_id":74630907,"body_markdown":"I have been trying to find a way to include a filter that discards the records with a particular value, in the Couchbase source connector. Lets say, I have the JSON: `{&quot;key&quot;:10004, &quot;name&quot;:&quot;testt&quot;}` and I want to discard all the records that have the key with all odd numbers . Is there a way to do that without having to use confluent platform?\r\n\r\nI have installed confluent hub client and tried `filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;`, (bitwise operator) and also tried  `&quot;$[?(@.key % 2 != 0)]&quot;`. Seems like these both are not working. I also checked that JsonPath(https://github.com/json-path/JsonPath) does not have this operators, does that mean these operatoes `% &amp;` are not supported? ","title":"Kafka transforms.Filter to filter records based on Odd/Even numbers is not working with bitwise operator &amp; and remainder % operator","body":"<p>I have been trying to find a way to include a filter that discards the records with a particular value, in the Couchbase source connector. Lets say, I have the JSON: <code>{&quot;key&quot;:10004, &quot;name&quot;:&quot;testt&quot;}</code> and I want to discard all the records that have the key with all odd numbers . Is there a way to do that without having to use confluent platform?</p>\n<p>I have installed confluent hub client and tried <code>filter.condition&quot;: &quot;$[?(@.key&amp;1 == 0)]&quot;</code>, (bitwise operator) and also tried  <code>&quot;$[?(@.key % 2 != 0)]&quot;</code>. Seems like these both are not working. I also checked that JsonPath(<a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath</a>) does not have this operators, does that mean these operatoes <code>% &amp;</code> are not supported?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9591,"page":401,"page_size":100}
