{"items":[{"tags":["java","spring"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1638621827,"post_id":70225358,"comment_id":124139735,"body_markdown":"You can use reflection util to get data inside annotation. It&#39;s answered here: https://stackoverflow.com/a/4296973/1439560","body":"You can use reflection util to get data inside annotation. It&#39;s answered here: <a href=\"https://stackoverflow.com/a/4296973/1439560\">stackoverflow.com/a/4296973/1439560</a>"},{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":0,"creation_date":1638625076,"post_id":70225358,"comment_id":124140484,"body_markdown":"Check out the AnnotationUtils class from Spring.","body":"Check out the AnnotationUtils class from Spring."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1638627404,"post_id":70225358,"comment_id":124140966,"body_markdown":"@huy your linked solution always assumes that you know the object where the annotation can be found, but i dont know this at compile time","body":"@huy your linked solution always assumes that you know the object where the annotation can be found, but i dont know this at compile time"}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638650363,"creation_date":1638627815,"answer_id":70226469,"question_id":70225358,"body_markdown":"An example can be found [here](https://www.waitingforcode.com/spring-framework/handling-annotations-with-spring-annotationutils/read).\r\n\r\nYou need to implement something like this:\r\n\r\n```java\r\nimport java.lang.annotation.Annotation;\r\nimport org.springframework.core.annotation.AnnotationUtils;\r\n\r\n@EnableCoolFeature(data1 = &quot;foo&quot;, data2 = &quot;bar&quot;)\r\npublic class MainApp {\r\n\r\n  public static void main ()\r\n  {\r\n    try {\r\n      Annotation enableCoolFeatureAnnotation = AnnotationUtils.findAnnotation(MainApp.class, EnableCoolFeature.class);\r\n      System.out.println(&quot;@EnableCoolFeature of MainApp.class is: &quot;+enableCoolFeatureAnnotation);\r\n\r\n      System.out.println(&quot;@EnableCoolFeature value: &quot;+AnnotationUtils.getValue(enableCoolFeatureAnnotation));\r\n      System.out.println(&quot;@EnableCoolFeature default value data1: &quot;+AnnotationUtils.getDefaultValue(enableCoolFeatureAnnotation, &quot;data1&quot;));\r\n      System.out.println(&quot;@EnableCoolFeature default value data2: &quot;+AnnotationUtils.getDefaultValue(enableCoolFeatureAnnotation, &quot;data2&quot;));\r\n      System.out.println(&quot;@EnableCoolFeature data1: &quot;+AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data1&quot;));\r\n      System.out.println(&quot;@EnableCoolFeature data2: &quot;+AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data2&quot;));\r\n      \r\n      String data1 = (String)AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data1&quot;);\r\n      String data2 = (String)AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data2&quot;);\r\n      \r\n      // ... pass the arguments to Spring Boot: https://www.baeldung.com/spring-boot-command-line-arguments\r\n      String[] args = { data1, data2 };\r\n      SpringApplication.run(MainApp.class, args);\r\n      \r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Edit:** As the author asked how could unknown annotations be processed dynamically, here is an example. Before the code above can be executed, we need to retrieve the annotation classes and the field names according to a defined criteria. Paste the following code right after `try {` in the code above:\r\n```java\r\n    try {\r\n        MergedAnnotations mas = MergedAnnotations.from(MainApp.class);\r\n        for (MergedAnnotation&lt;Annotation&gt; ma : mas)\r\n        {\r\n            Class&lt;Annotation&gt; annotationClass = ma.getType();\r\n            \r\n            Field[] fields = annotationClass.getFields();\r\n            \r\n            for (Field field:fields)\r\n            {\r\n                String fieldName = field.getName();\r\n                \r\n                // Retrieve the values as shown below with data1 and data2 but this time using annotationClass and fieldName. \r\n            }\r\n        }\r\n    ....\r\n```\r\n\r\nIn the original code example `MainApp.class` must be replaced by a parameter `Class&lt;?&gt; appClass` that must be supplied by your users when they call the `main()` method from their code. Or a better solution would be to rename the method and make it an instance method (not static), then let your users inherit from MainApp and then you can use directly `getClass()` to get your user&#39;s app class:\r\n```java\r\n// This is part of your framework:\r\npublic class MainApp {\r\n\r\n  protected void runSpring() {\r\n     // ... same code\r\n  }\r\n}\r\n\r\n// This is the code your users would have to write:\r\n@EnableCoolFeature(data1 = &quot;foo&quot;, data2 = &quot;bar&quot;)\r\npublic class YourUsersApp extends MainApp {\r\n    \r\n  public static void main ()\r\n  {\r\n    new YourUsersApp().runSpring();\r\n  }\r\n}\r\n```","title":"Best way to pass data from custom annotation to spring @PostConstruct?","body":"<p>An example can be found <a href=\"https://www.waitingforcode.com/spring-framework/handling-annotations-with-spring-annotationutils/read\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You need to implement something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.Annotation;\nimport org.springframework.core.annotation.AnnotationUtils;\n\n@EnableCoolFeature(data1 = &quot;foo&quot;, data2 = &quot;bar&quot;)\npublic class MainApp {\n\n  public static void main ()\n  {\n    try {\n      Annotation enableCoolFeatureAnnotation = AnnotationUtils.findAnnotation(MainApp.class, EnableCoolFeature.class);\n      System.out.println(&quot;@EnableCoolFeature of MainApp.class is: &quot;+enableCoolFeatureAnnotation);\n\n      System.out.println(&quot;@EnableCoolFeature value: &quot;+AnnotationUtils.getValue(enableCoolFeatureAnnotation));\n      System.out.println(&quot;@EnableCoolFeature default value data1: &quot;+AnnotationUtils.getDefaultValue(enableCoolFeatureAnnotation, &quot;data1&quot;));\n      System.out.println(&quot;@EnableCoolFeature default value data2: &quot;+AnnotationUtils.getDefaultValue(enableCoolFeatureAnnotation, &quot;data2&quot;));\n      System.out.println(&quot;@EnableCoolFeature data1: &quot;+AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data1&quot;));\n      System.out.println(&quot;@EnableCoolFeature data2: &quot;+AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data2&quot;));\n      \n      String data1 = (String)AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data1&quot;);\n      String data2 = (String)AnnotationUtils.getValue(enableCoolFeatureAnnotation, &quot;data2&quot;);\n      \n      // ... pass the arguments to Spring Boot: https://www.baeldung.com/spring-boot-command-line-arguments\n      String[] args = { data1, data2 };\n      SpringApplication.run(MainApp.class, args);\n      \n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p><strong>Edit:</strong> As the author asked how could unknown annotations be processed dynamically, here is an example. Before the code above can be executed, we need to retrieve the annotation classes and the field names according to a defined criteria. Paste the following code right after <code>try {</code> in the code above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    try {\n        MergedAnnotations mas = MergedAnnotations.from(MainApp.class);\n        for (MergedAnnotation&lt;Annotation&gt; ma : mas)\n        {\n            Class&lt;Annotation&gt; annotationClass = ma.getType();\n            \n            Field[] fields = annotationClass.getFields();\n            \n            for (Field field:fields)\n            {\n                String fieldName = field.getName();\n                \n                // Retrieve the values as shown below with data1 and data2 but this time using annotationClass and fieldName. \n            }\n        }\n    ....\n</code></pre>\n<p>In the original code example <code>MainApp.class</code> must be replaced by a parameter <code>Class&lt;?&gt; appClass</code> that must be supplied by your users when they call the <code>main()</code> method from their code. Or a better solution would be to rename the method and make it an instance method (not static), then let your users inherit from MainApp and then you can use directly <code>getClass()</code> to get your user's app class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This is part of your framework:\npublic class MainApp {\n\n  protected void runSpring() {\n     // ... same code\n  }\n}\n\n// This is the code your users would have to write:\n@EnableCoolFeature(data1 = &quot;foo&quot;, data2 = &quot;bar&quot;)\npublic class YourUsersApp extends MainApp {\n    \n  public static void main ()\n  {\n    new YourUsersApp().runSpring();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638650363,"creation_date":1638618927,"question_id":70225358,"body_markdown":"i am writting a framework  and I need to pass some information from an annotation to a PostConstruct method.\r\n\r\nWhat iam currently failing at is getting the data in a nice way.\r\n\r\nHow can i get from here:\r\n\r\n    @EnableCoolFeature(data1=&quot;foo&quot;, data2=&quot;bar&quot;)\r\n    public class MainApp {\r\n        public static void main (){ //SpringApp init etc }\r\n    }\r\n\r\nTo here:\r\n\r\n    @Configuration\r\n    public class CoolFeatureConfiguration{\r\n\r\n        @PostConstruct\r\n        void processData(){\r\n            //how to get the data in here?\r\n        }\r\n    }\r\n\r\nAlso note that the user can enable &quot;@EnableCoolFeature&quot; multiple times on different Configurations\r\n\r\nEDIT: i found a way which works for me\r\n\r\n    var beanNamesForAnnotation = applicationContext.getBeansWithAnnotation(EnableCoolFeature.class);\r\n\r\n    for (var tuple : beanNamesForAnnotation.entrySet()) {\r\n        var result = applicationContext.findAnnotationOnBean(tuple.getKey(), EnableCoolFeature.class);\r\n        //the magic!\r\n    }","title":"Best way to pass data from custom annotation to spring @PostConstruct?","body":"<p>i am writting a framework  and I need to pass some information from an annotation to a PostConstruct method.</p>\n<p>What iam currently failing at is getting the data in a nice way.</p>\n<p>How can i get from here:</p>\n<pre><code>@EnableCoolFeature(data1=&quot;foo&quot;, data2=&quot;bar&quot;)\npublic class MainApp {\n    public static void main (){ //SpringApp init etc }\n}\n</code></pre>\n<p>To here:</p>\n<pre><code>@Configuration\npublic class CoolFeatureConfiguration{\n\n    @PostConstruct\n    void processData(){\n        //how to get the data in here?\n    }\n}\n</code></pre>\n<p>Also note that the user can enable &quot;@EnableCoolFeature&quot; multiple times on different Configurations</p>\n<p>EDIT: i found a way which works for me</p>\n<pre><code>var beanNamesForAnnotation = applicationContext.getBeansWithAnnotation(EnableCoolFeature.class);\n\nfor (var tuple : beanNamesForAnnotation.entrySet()) {\n    var result = applicationContext.findAnnotationOnBean(tuple.getKey(), EnableCoolFeature.class);\n    //the magic!\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638650259,"creation_date":1638650259,"answer_id":70229301,"question_id":70229298,"body_markdown":"Sorry, that is not possible. You cannot match on query parameters (i.e., `?` and anything after that).","title":"How to match `?session` in android pathPattern","body":"<p>Sorry, that is not possible. You cannot match on query parameters (i.e., <code>?</code> and anything after that).</p>\n"}],"owner":{"account_id":16884205,"reputation":57,"user_id":12209439,"display_name":"jasmine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638650259,"creation_date":1638650228,"question_id":70229298,"body_markdown":"I&#39;m trying to use android deeplink for urls that include `?session`\r\n\r\nThis is what I tried but it didn&#39;t work:\r\n\r\n```xml\r\n&lt;data android:scheme=&quot;http&quot; android:host=&quot;*&quot; android:pathPattern=&quot;.*?session.*&quot; /&gt;\r\n```","title":"How to match `?session` in android pathPattern","body":"<p>I'm trying to use android deeplink for urls that include <code>?session</code></p>\n<p>This is what I tried but it didn't work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;data android:scheme=&quot;http&quot; android:host=&quot;*&quot; android:pathPattern=&quot;.*?session.*&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","resilience4j"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1638081861,"post_id":70141022,"comment_id":123989397,"body_markdown":"This is called a _self-call_, and none of Spring&#39;s AOP will work.","body":"This is called a <i>self-call</i>, and none of Spring&#39;s AOP will work."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638650155,"creation_date":1638081485,"answer_id":70141220,"question_id":70141022,"body_markdown":"I don&#39;t have an experience with Resilience4j but it looks like you&#39;re trying to use spring-aop here. This works with runtime generated proxy that wraps an original class providing additional functionality (Rate limiting in this case).\r\n\r\nIf so, you can&#39;t annotate the private method of the class because it won&#39;t be detected and processed by the proxy generation mechanism.\r\n\r\nInstead consider creating another bean and expose its functionality as a public method:\r\n\r\n~~~\r\npublic interface Backend {\r\n   void callBackendA();\r\n}\r\n\r\n@Component // this is a spring bean!\r\n@Log4j2\r\npublic class LoggingBackendImpl implements Backend {\r\n   @RateLimiter(name = &quot;backendA&quot;)\r\n   public void callBackendA() {\r\n      log.info(&quot;calling backend&quot;);\r\n   }\r\n}\r\n\r\n\r\n@Component\r\nclass Resilience4jDemo implements CommandLineRunner {\r\n    @Autowired\r\n    Backend backend;  // this has to be managed by spring \r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            backend.callBackendA();\r\n        }\r\n    }\r\n}\r\n~~~\r\n","title":"Can&#39;t get Resilience4j @RateLimiter to work with Spring Boot","body":"<p>I don't have an experience with Resilience4j but it looks like you're trying to use spring-aop here. This works with runtime generated proxy that wraps an original class providing additional functionality (Rate limiting in this case).</p>\n<p>If so, you can't annotate the private method of the class because it won't be detected and processed by the proxy generation mechanism.</p>\n<p>Instead consider creating another bean and expose its functionality as a public method:</p>\n<pre><code>public interface Backend {\n   void callBackendA();\n}\n\n@Component // this is a spring bean!\n@Log4j2\npublic class LoggingBackendImpl implements Backend {\n   @RateLimiter(name = &quot;backendA&quot;)\n   public void callBackendA() {\n      log.info(&quot;calling backend&quot;);\n   }\n}\n\n\n@Component\nclass Resilience4jDemo implements CommandLineRunner {\n    @Autowired\n    Backend backend;  // this has to be managed by spring \n\n    @Override\n    public void run(String... args) throws Exception {\n        for (int i = 0; i &lt; 100; i++) {\n            backend.callBackendA();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12628839,"reputation":55,"user_id":9181158,"display_name":"Rajvansh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1532,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70141220,"answer_count":1,"score":1,"last_activity_date":1638650155,"creation_date":1638078931,"question_id":70141022,"body_markdown":"I can&#39;t seem to get Resilience4j @RateLimiter to work with Spring Boot.\r\n\r\nBelow is the code\r\n\r\n    @Log4j2\r\n    @Component\r\n    class Resilience4jDemo implements CommandLineRunner {\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                callBackendA();\r\n            }\r\n        }\r\n    \r\n        @RateLimiter(name = &quot;backendA&quot;)\r\n        private void callBackendA() {\r\n            log.info(&quot;Calling &quot;);\r\n        }\r\n    }\r\n\r\napplication.yaml file\r\n\r\n    resilience4j.ratelimiter:\r\n      instances:\r\n        backendA:\r\n          limitForPeriod: 1\r\n          limitRefreshPeriod: 10s\r\n          timeoutDuration: 0\r\n\r\npom.xml\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/io.github.resilience4j/resilience4j-spring-boot2 --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThere is no rate limit being done. Can&#39;t figure out what I missed.","title":"Can&#39;t get Resilience4j @RateLimiter to work with Spring Boot","body":"<p>I can't seem to get Resilience4j @RateLimiter to work with Spring Boot.</p>\n<p>Below is the code</p>\n<pre><code>@Log4j2\n@Component\nclass Resilience4jDemo implements CommandLineRunner {\n\n    @Override\n    public void run(String... args) throws Exception {\n        for (int i = 0; i &lt; 100; i++) {\n            callBackendA();\n        }\n    }\n\n    @RateLimiter(name = &quot;backendA&quot;)\n    private void callBackendA() {\n        log.info(&quot;Calling &quot;);\n    }\n}\n</code></pre>\n<p>application.yaml file</p>\n<pre><code>resilience4j.ratelimiter:\n  instances:\n    backendA:\n      limitForPeriod: 1\n      limitRefreshPeriod: 10s\n      timeoutDuration: 0\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.github.resilience4j/resilience4j-spring-boot2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>There is no rate limit being done. Can't figure out what I missed.</p>\n"},{"tags":["java","spring","jackson","decimalformat"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638644429,"creation_date":1638644429,"answer_id":70228609,"question_id":70228560,"body_markdown":"You can programmatically register your serializer as follows:\r\n```java\r\n@Configuration\r\npublic class JacksonConfiguration {\r\n\r\n\t@Bean\r\n\tpublic ObjectMapper serializingObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addSerializer(Double.class, new YourDoubleSerializer());\r\n        objectMapper.registerModule(module);\r\n\r\n\t\treturn objectMapper;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis would be applied to all `Double` properties in your classes when they are serialized. Doing this at the request level I don&#39;t think it is possible.","title":"Use JsonSerialize for java types at class level","body":"<p>You can programmatically register your serializer as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JacksonConfiguration {\n\n    @Bean\n    public ObjectMapper serializingObjectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(Double.class, new YourDoubleSerializer());\n        objectMapper.registerModule(module);\n\n        return objectMapper;\n    }\n\n}\n</code></pre>\n<p>This would be applied to all <code>Double</code> properties in your classes when they are serialized. Doing this at the request level I don't think it is possible.</p>\n"}],"owner":{"account_id":5477846,"reputation":1836,"user_id":4355350,"accept_rate":91,"display_name":"Piyush Vishwakarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638649813,"creation_date":1638644027,"question_id":70228560,"body_markdown":"I have a class `Response` with multiple `Double` values in it. It looks something like below.\r\n```\r\nclass Data {\r\n   private Double number1;\r\n   private Double number2;\r\n   private Double number3;\r\n   private Double number4;\r\n\r\n   //Getters and Setters ... \r\n\r\n}\r\n```\r\n\r\nI want use this class to send a response for a Spring rest service, however I need to format the `Double` values in a specific way (something like `23,45,276.10` ).\r\n\r\nI can achieve this by changing the types to String and setting them via `java.text.DecimalFormat` or via using `JsonSerialize` annotation at each field.\r\n\r\nBut is there a way where I can **define this at class level**, or better yet at request level? Annotating every single `Double` variable is something I would want to avoid.\r\n\r\nLike some kind of global or class level configuration/annotation that can help me convert all `Double` elements into a specific format? ","title":"Use JsonSerialize for java types at class level","body":"<p>I have a class <code>Response</code> with multiple <code>Double</code> values in it. It looks something like below.</p>\n<pre><code>class Data {\n   private Double number1;\n   private Double number2;\n   private Double number3;\n   private Double number4;\n\n   //Getters and Setters ... \n\n}\n</code></pre>\n<p>I want use this class to send a response for a Spring rest service, however I need to format the <code>Double</code> values in a specific way (something like <code>23,45,276.10</code> ).</p>\n<p>I can achieve this by changing the types to String and setting them via <code>java.text.DecimalFormat</code> or via using <code>JsonSerialize</code> annotation at each field.</p>\n<p>But is there a way where I can <strong>define this at class level</strong>, or better yet at request level? Annotating every single <code>Double</code> variable is something I would want to avoid.</p>\n<p>Like some kind of global or class level configuration/annotation that can help me convert all <code>Double</code> elements into a specific format?</p>\n"},{"tags":["java","ssl","smtp"],"answers":[{"tags":[],"owner":{"account_id":135031,"reputation":1763,"user_id":337554,"accept_rate":50,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638649129,"creation_date":1638649129,"answer_id":70229163,"question_id":70225203,"body_markdown":"Found the solution. You can provide your own HostnameVerifier (`null` by default) to the `org.apache.commons.net.smtp.AuthenticatingSMTPClient` object:\r\n\r\n    client.setHostnameVerifier((hostname, session) -&gt; {\r\n      // session.getPeerCertificates();\r\n      return true;\r\n    });\r\n\r\n","title":"Displaying remote SMTP TLS certificate information with org.apache.commons.net.smtp","body":"<p>Found the solution. You can provide your own HostnameVerifier (<code>null</code> by default) to the <code>org.apache.commons.net.smtp.AuthenticatingSMTPClient</code> object:</p>\n<pre><code>client.setHostnameVerifier((hostname, session) -&gt; {\n  // session.getPeerCertificates();\n  return true;\n});\n</code></pre>\n"}],"owner":{"account_id":135031,"reputation":1763,"user_id":337554,"accept_rate":50,"display_name":"Andrei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70229163,"answer_count":1,"score":0,"last_activity_date":1638649129,"creation_date":1638617615,"question_id":70225203,"body_markdown":"I&#39;m using `org.apache.commons.net.smtp.AuthenticatingSMTPClient` to establish connections to SMTP servers. After establishing the initial connection, I use `client.execTLS()` to send `STARTTLS`. I want to get the SMTP TLS certificate information for the certificates used by the remote server. I&#39;m curious if it&#39;s possible to do so solely with the API offered by the `org.apache.commons.net.smtp` library.\r\n\r\nAlternatively, what options do I have within the Java ecosystem to output the SMTP TLS certificate in a readable format, preferably using the socket already opened by `client.execTLS()`?\r\n\r\nJava version: 11.","title":"Displaying remote SMTP TLS certificate information with org.apache.commons.net.smtp","body":"<p>I'm using <code>org.apache.commons.net.smtp.AuthenticatingSMTPClient</code> to establish connections to SMTP servers. After establishing the initial connection, I use <code>client.execTLS()</code> to send <code>STARTTLS</code>. I want to get the SMTP TLS certificate information for the certificates used by the remote server. I'm curious if it's possible to do so solely with the API offered by the <code>org.apache.commons.net.smtp</code> library.</p>\n<p>Alternatively, what options do I have within the Java ecosystem to output the SMTP TLS certificate in a readable format, preferably using the socket already opened by <code>client.execTLS()</code>?</p>\n<p>Java version: 11.</p>\n"},{"tags":["java","vector","types"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1638646177,"post_id":70228789,"comment_id":124145185,"body_markdown":"No you can&#39;t specialize a Java array under any circumstances.  Use a class.","body":"No you can&#39;t specialize a Java array under any circumstances.  Use a class."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638646357,"post_id":70228789,"comment_id":124145233,"body_markdown":"Also, generics do not support values, only types.","body":"Also, generics do not support values, only types."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1638646359,"post_id":70228789,"comment_id":124145234,"body_markdown":"It&#39;s not part of the public type information, but Java arrays **are** [fixed length](https://stackoverflow.com/q/35846527/2970947).","body":"It&#39;s not part of the public type information, but Java arrays <b>are</b> <a href=\"https://stackoverflow.com/q/35846527/2970947\">fixed length</a>."},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":2,"creation_date":1638646503,"post_id":70228789,"comment_id":124145271,"body_markdown":"To explain the compiler error: you can&#39;t specify the _size_ of an array as part of it&#39;s type.  I.e. `int[n]` isn&#39;t a valid `return` type; `int[]` _is_.   When you _initialise_ an array, you specify its size (so `return new int[n]` is fine, because you&#39;re creating one).","body":"To explain the compiler error: you can&#39;t specify the <i>size</i> of an array as part of it&#39;s type.  I.e. <code>int[n]</code> isn&#39;t a valid <code>return</code> type; <code>int[]</code> <i>is</i>.   When you <i>initialise</i> an array, you specify its size (so <code>return new int[n]</code> is fine, because you&#39;re creating one)."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":1,"creation_date":1638646593,"post_id":70228789,"comment_id":124145285,"body_markdown":"I am not surprised that this code does not compile. What is int[n] in function result type? It must be int[]","body":"I am not surprised that this code does not compile. What is int[n] in function result type? It must be int[]"}],"answers":[{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638648058,"creation_date":1638648058,"answer_id":70229038,"question_id":70228789,"body_markdown":"If you want to make type of the vector [a,b] != type of the vector [a,b,c] you could write something like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    class Vector&lt;T&gt; {\r\n      private final int dimension;\r\n      private T[] elements;\r\n\r\n      public Vector(Class&lt;T&gt; clazz, int dimension) {\r\n        this.dimension = dimension;\r\n        this.elements = (T[]) Array.newInstance(clazz, dimension);\r\n      }\r\n    }\r\n\r\n    class Vector2D&lt;T&gt; extends Vector&lt;T&gt; {\r\n      public Vector2D(Class&lt;T&gt; clazz) {\r\n          super(clazz, 2);\r\n      }\r\n    }\r\n\r\n    class Vector3D&lt;T&gt; extends Vector&lt;T&gt; {\r\n      public Vector3D(Class&lt;T&gt; clazz) {\r\n        super(clazz, 3);\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Is there a way to implement a type-safe vector in Java?","body":"<p>If you want to make type of the vector [a,b] != type of the vector [a,b,c] you could write something like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class Vector&lt;T&gt; {\n  private final int dimension;\n  private T[] elements;\n\n  public Vector(Class&lt;T&gt; clazz, int dimension) {\n    this.dimension = dimension;\n    this.elements = (T[]) Array.newInstance(clazz, dimension);\n  }\n}\n\nclass Vector2D&lt;T&gt; extends Vector&lt;T&gt; {\n  public Vector2D(Class&lt;T&gt; clazz) {\n      super(clazz, 2);\n  }\n}\n\nclass Vector3D&lt;T&gt; extends Vector&lt;T&gt; {\n  public Vector3D(Class&lt;T&gt; clazz) {\n    super(clazz, 3);\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":21698776,"reputation":9,"user_id":16012238,"display_name":"pixcc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638648058,"creation_date":1638646051,"question_id":70228789,"body_markdown":"I am trying to implement a vector for my coding assignment using Java. I want to put information about the dimension of a vector into its type to make my code more type-safe.\r\n\r\nI tried to represent a vector as `int[n]`, but the following code didn&#39;t compile.\r\n\r\n    public static int[n] createVector(int n) {\r\n        return new int[n];\r\n    }\r\nThe output of the compilation: \r\n\r\n    src\\Main.java:59: error: &#39;]&#39; expected\r\n        public static int[n] createVector(int n) {\r\n                          ^\r\n    src\\Main.java:59: error: &#39;;&#39; expected\r\n        public static int[n] createVector(int n) {\r\n                           ^\r\n    src\\Main.java:59: error: invalid method declaration; return type required\r\n        public static int[n] createVector(int n) {\r\n                             ^\r\n    3 errors\r\n\r\nI think the problem is that all int arrays in java have the same type and I can&#39;t specialize it.\r\n\r\nIs there a way to do it in Java?","title":"Is there a way to implement a type-safe vector in Java?","body":"<p>I am trying to implement a vector for my coding assignment using Java. I want to put information about the dimension of a vector into its type to make my code more type-safe.</p>\n<p>I tried to represent a vector as <code>int[n]</code>, but the following code didn't compile.</p>\n<pre><code>public static int[n] createVector(int n) {\n    return new int[n];\n}\n</code></pre>\n<p>The output of the compilation:</p>\n<pre><code>src\\Main.java:59: error: ']' expected\n    public static int[n] createVector(int n) {\n                      ^\nsrc\\Main.java:59: error: ';' expected\n    public static int[n] createVector(int n) {\n                       ^\nsrc\\Main.java:59: error: invalid method declaration; return type required\n    public static int[n] createVector(int n) {\n                         ^\n3 errors\n</code></pre>\n<p>I think the problem is that all int arrays in java have the same type and I can't specialize it.</p>\n<p>Is there a way to do it in Java?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22806068,"reputation":400,"user_id":16958095,"display_name":"Ahmed Hosny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638605467,"creation_date":1638605467,"answer_id":70224017,"question_id":70223652,"body_markdown":"in the repository try to specify the parameter heroName and update the query like this by adding where clause:- \r\n\r\n    public interface HeroRepository extends JpaRepository&lt;Hero,Long&gt;{\r\n    \r\n        @Query( value = &quot;SELECT h.heroname , SUM(h.killCount) FROM Heroes AS h where h.heroname = ?1 GROUP BY h.heroname ORDER BY h.heroname&quot;,nativeQuery = true)     \r\n        //code below will cause errors, I need to use interface says Baeldung\r\n        List&lt;Hero&gt; findAllHeroByGroupName(String heroName);\r\n    }","title":"How to Fetch Custom Fields In Spring JPA","body":"<p>in the repository try to specify the parameter heroName and update the query like this by adding where clause:-</p>\n<pre><code>public interface HeroRepository extends JpaRepository&lt;Hero,Long&gt;{\n\n    @Query( value = &quot;SELECT h.heroname , SUM(h.killCount) FROM Heroes AS h where h.heroname = ?1 GROUP BY h.heroname ORDER BY h.heroname&quot;,nativeQuery = true)     \n    //code below will cause errors, I need to use interface says Baeldung\n    List&lt;Hero&gt; findAllHeroByGroupName(String heroName);\n}\n</code></pre>\n"}],"owner":{"account_id":7031744,"reputation":143,"user_id":5387163,"display_name":"Joona Ritva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638647716,"creation_date":1638601228,"question_id":70223652,"body_markdown":"I want to group all similar hero names and sum the total of their &#39;killCount&#39; relative to that name like:\r\n\r\n    --heroname--   --killCount-- \r\n    Guson             999\r\n    Garen             934\r\n    Magnus            445\r\n\r\nI have a Hero Entity which has these fields (but I dont intend to fetch all columns from SQL, I only need heroname and killCount)\r\n\r\n    Long heroid;\r\n    String heroname;\r\n    Integer killCount;\r\n    String heroClass;\r\n    String faction;\r\n\r\nIn my repository class I want to create a JPA query where I want to fetch rows where in I group them by &#39;heroname&#39; column and the corresponding SUM/TOTAL of that hero&#39;s &#39;killCount&#39;.\r\n\r\nThis [blog by Baeldung](https://www.baeldung.com/jpa-queries-custom-result-with-aggregation-functions) suggest I create an interface. But the blog doesnt show how to actually use that in the app controller or service class. It just says create an interface.\r\n\r\n\r\nHere&#39;s my current repository class:\r\n\r\n    public interface HeroRepository extends JpaRepository&lt;Hero,Long&gt;{\r\n    \r\n        @Query( value = &quot;SELECT h.heroname , SUM(h.killCount) FROM Heroes AS h GROUP BY h.heroname ORDER BY h.heroname&quot;,nativeQuery = true) \t\r\n        List&lt;IHero&gt; findAllHeroByGroupName();\r\n    }\r\n\r\nAm I doing this right?\r\n\r\n**Service class:**\r\n\r\n\r\n    public class HeroService { \t\r\n        @Autowired \tHeroRepository heroRepository; \t \t\r\n        public List&lt;IHero&gt; findAllHeroByGroupName() { \t\t\r\n            return heroRepository.findAllHeroByGroupName();\t \t\r\n        } \r\n    }\r\n\r\n**Interface**\r\n\r\n    public interface IHero {\r\n    \tString getHeroName();\r\n    \tInteger getTotalKillCounts();\r\n    }\r\n\r\n**--UPDATE[SOLVED]--**\r\n\r\nWhen I do this\r\n\r\n    List&lt;IHero&gt; heroList = heroService.findAllHeroByGroupName();\r\n\r\nand print via loop:\r\n\r\n    for(IHero hero: heroList){\r\n       System.out.println(hero.getHeroName);\r\n       System.out.println(hero.getTotalKillCounts);\r\n    }\r\n    \r\n\r\n`hero.getHeroName` contains correct value while `hero.getTotalKillCounts` contains `NULL`.  Why is that? Im almost there.\r\n\r\n**ANSWER:** You need to use alias equal to the field name in your Entity. So I used alias for `SUM(killCount)` to &#39;killCount&#39; only. Bamm!\r\n \r\n\r\n    @Query( value = &quot;SELECT h.heroname , SUM(h.killCount) as killCount FROM Heroes AS h GROUP BY h.heroname ORDER BY h.heroname&quot;,nativeQuery = true)   ","title":"How to Fetch Custom Fields In Spring JPA","body":"<p>I want to group all similar hero names and sum the total of their 'killCount' relative to that name like:</p>\n<pre><code>--heroname--   --killCount-- \nGuson             999\nGaren             934\nMagnus            445\n</code></pre>\n<p>I have a Hero Entity which has these fields (but I dont intend to fetch all columns from SQL, I only need heroname and killCount)</p>\n<pre><code>Long heroid;\nString heroname;\nInteger killCount;\nString heroClass;\nString faction;\n</code></pre>\n<p>In my repository class I want to create a JPA query where I want to fetch rows where in I group them by 'heroname' column and the corresponding SUM/TOTAL of that hero's 'killCount'.</p>\n<p>This <a href=\"https://www.baeldung.com/jpa-queries-custom-result-with-aggregation-functions\" rel=\"nofollow noreferrer\">blog by Baeldung</a> suggest I create an interface. But the blog doesnt show how to actually use that in the app controller or service class. It just says create an interface.</p>\n<p>Here's my current repository class:</p>\n<pre><code>public interface HeroRepository extends JpaRepository&lt;Hero,Long&gt;{\n\n    @Query( value = &quot;SELECT h.heroname , SUM(h.killCount) FROM Heroes AS h GROUP BY h.heroname ORDER BY h.heroname&quot;,nativeQuery = true)     \n    List&lt;IHero&gt; findAllHeroByGroupName();\n}\n</code></pre>\n<p>Am I doing this right?</p>\n<p><strong>Service class:</strong></p>\n<pre><code>public class HeroService {  \n    @Autowired  HeroRepository heroRepository;      \n    public List&lt;IHero&gt; findAllHeroByGroupName() {       \n        return heroRepository.findAllHeroByGroupName();     \n    } \n}\n</code></pre>\n<p><strong>Interface</strong></p>\n<pre><code>public interface IHero {\n    String getHeroName();\n    Integer getTotalKillCounts();\n}\n</code></pre>\n<p><strong>--UPDATE[SOLVED]--</strong></p>\n<p>When I do this</p>\n<pre><code>List&lt;IHero&gt; heroList = heroService.findAllHeroByGroupName();\n</code></pre>\n<p>and print via loop:</p>\n<pre><code>for(IHero hero: heroList){\n   System.out.println(hero.getHeroName);\n   System.out.println(hero.getTotalKillCounts);\n}\n</code></pre>\n<p><code>hero.getHeroName</code> contains correct value while <code>hero.getTotalKillCounts</code> contains <code>NULL</code>.  Why is that? Im almost there.</p>\n<p><strong>ANSWER:</strong> You need to use alias equal to the field name in your Entity. So I used alias for <code>SUM(killCount)</code> to 'killCount' only. Bamm!</p>\n<pre><code>@Query( value = &quot;SELECT h.heroname , SUM(h.killCount) as killCount FROM Heroes AS h GROUP BY h.heroname ORDER BY h.heroname&quot;,nativeQuery = true)   \n</code></pre>\n"},{"tags":["java","image-processing","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":1232298,"reputation":11323,"user_id":1196603,"display_name":"Jk1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1378060425,"creation_date":1377969149,"answer_id":18550730,"question_id":18550635,"body_markdown":"Specify the correct scansize to get all the lines:\r\n\r\n    image.getRGB(0, 0, w, h, rgbArray, 0, w);\r\n\r\nLook here: [BufferedImage#setRGB()][1] and [BufferedImage#getRGB()][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB%28int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getRGB%28int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int%29","title":"java.awt.image.BufferedImage.getRBG not returning expected values","body":"<p>Specify the correct scansize to get all the lines:</p>\n\n<pre><code>image.getRGB(0, 0, w, h, rgbArray, 0, w);\n</code></pre>\n\n<p>Look here: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB%28int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int%29\" rel=\"nofollow\">BufferedImage#setRGB()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getRGB%28int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int%29\" rel=\"nofollow\">BufferedImage#getRGB()</a></p>\n"}],"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18550730,"answer_count":1,"score":2,"last_activity_date":1638647474,"creation_date":1377968632,"question_id":18550635,"body_markdown":"I&#39;m trying to use the [BufferedImage.getRGB](http://j.mp/bufferedimagergb) method with seven parameters to read an area of pixels and to get their colors. Sounds simple enough, but for some reason it just won&#39;t work for me. Here&#39;s a short, self contained, compilable example:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class BufferedImageTest extends JPanel {\r\n\tBufferedImage image;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBufferedImageTest mainClass = new BufferedImageTest();\r\n\t\tmainClass.run();\r\n\t}\r\n\r\n\tprivate void run() {\r\n\t\tinitWindow();\r\n\t\t// Create image:\r\n\t\timage = new BufferedImage(5, 5, BufferedImage.TYPE_INT_RGB);\r\n\t\tint[] red = new int[25];\r\n\t\tfor (int i = 0; i &lt; 25; i++)\r\n\t\t\tred[i] = Color.RED.getRGB();\r\n\t\timage.setRGB(1, 0, 3, 5, red, 0, 0);\r\n\r\n\t\t// Read image:\r\n\t\tint[] rgbArray = new int[25];\r\n\t\tint w = image.getWidth();\r\n\t\tint h = image.getHeight();\r\n\t\timage.getRGB(0, 0, w, h, rgbArray, 0, 0);\r\n\t\tfor (int i = 0; i &lt; rgbArray.length; i++) {\r\n\t\t\tColor c = new Color(rgbArray[i]);\r\n\t\t\tSystem.out.print(&quot;(&quot; + c.getRed() + &quot;,&quot; + c.getGreen() + &quot;,&quot; + c.getBlue() + &quot;)&quot;);\r\n\t\t\tif (i % 5 == 4)\r\n\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void paint(Graphics g) {\r\n\t\tg.drawImage(image, 5, 5, null);\r\n\t}\r\n\r\n\tprivate void initWindow() {\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.getContentPane().add(this);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(40, 60);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n    }\r\n\r\nIn the _run()_ method I first create a very simple 5 by 5 pixel image like this:\r\n\r\n![example image](https://dl.dropboxusercontent.com/u/5227239/redblack.png)\r\n\r\nThat goes fine. I then try to read in the pixels of that image, and that doesn&#39;t work almost at all. It only gets the first line of pixels correctly, then displays the rest as black. The output of the printing loop is:\r\n\r\n    (0,0,0)(255,0,0)(255,0,0)(255,0,0)(0,0,0)\r\n    (0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\r\n    (0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\r\n    (0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\r\n    (0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\r\n\r\nwhen I would expect it to be entirely like the first line. What am I missing here? I have tried writing it all over from the scratch and playing with the &quot;scanline&quot; and &quot;offset&quot; parameters in the _getRGB_ call, but nothing seems to work. I&#39;m running Java 7 on Windows 7, if that makes any difference.","title":"java.awt.image.BufferedImage.getRBG not returning expected values","body":"<p>I'm trying to use the <a href=\"http://j.mp/bufferedimagergb\" rel=\"nofollow\">BufferedImage.getRGB</a> method with seven parameters to read an area of pixels and to get their colors. Sounds simple enough, but for some reason it just won't work for me. Here's a short, self contained, compilable example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class BufferedImageTest extends JPanel {\nBufferedImage image;\n\npublic static void main(String[] args) {\n    BufferedImageTest mainClass = new BufferedImageTest();\n    mainClass.run();\n}\n\nprivate void run() {\n    initWindow();\n    // Create image:\n    image = new BufferedImage(5, 5, BufferedImage.TYPE_INT_RGB);\n    int[] red = new int[25];\n    for (int i = 0; i &lt; 25; i++)\n        red[i] = Color.RED.getRGB();\n    image.setRGB(1, 0, 3, 5, red, 0, 0);\n\n    // Read image:\n    int[] rgbArray = new int[25];\n    int w = image.getWidth();\n    int h = image.getHeight();\n    image.getRGB(0, 0, w, h, rgbArray, 0, 0);\n    for (int i = 0; i &lt; rgbArray.length; i++) {\n        Color c = new Color(rgbArray[i]);\n        System.out.print(\"(\" + c.getRed() + \",\" + c.getGreen() + \",\" + c.getBlue() + \")\");\n        if (i % 5 == 4)\n            System.out.println(\"\");\n    }\n}\n\n@Override\npublic void paint(Graphics g) {\n    g.drawImage(image, 5, 5, null);\n}\n\nprivate void initWindow() {\n    JFrame frame = new JFrame();\n    frame.getContentPane().add(this);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(40, 60);\n    frame.setVisible(true);\n}\n}\n</code></pre>\n\n<p>In the <em>run()</em> method I first create a very simple 5 by 5 pixel image like this:</p>\n\n<p><img src=\"https://dl.dropboxusercontent.com/u/5227239/redblack.png\" alt=\"example image\"></p>\n\n<p>That goes fine. I then try to read in the pixels of that image, and that doesn't work almost at all. It only gets the first line of pixels correctly, then displays the rest as black. The output of the printing loop is:</p>\n\n<pre><code>(0,0,0)(255,0,0)(255,0,0)(255,0,0)(0,0,0)\n(0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\n(0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\n(0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\n(0,0,0)(0,0,0)(0,0,0)(0,0,0)(0,0,0)\n</code></pre>\n\n<p>when I would expect it to be entirely like the first line. What am I missing here? I have tried writing it all over from the scratch and playing with the \"scanline\" and \"offset\" parameters in the <em>getRGB</em> call, but nothing seems to work. I'm running Java 7 on Windows 7, if that makes any difference.</p>\n"},{"tags":["java","mysql","database","eclipse","derby"],"comments":[{"owner":{"account_id":10669891,"reputation":549,"user_id":10767161,"display_name":"Metin Bulak"},"score":1,"creation_date":1638647681,"post_id":70228979,"comment_id":124145548,"body_markdown":"jdbc is included in classpath library, maybe you make a mistake to write jdbc.","body":"jdbc is included in classpath library, maybe you make a mistake to write jdbc."},{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":0,"creation_date":1638928421,"post_id":70228979,"comment_id":124216693,"body_markdown":"Are you talking about the location of your database? Or the location of the Derby code? You download the code from Apache. If it&#39;s the database location, you specify that when you connect. Have you tried going through the Derby Tutorial: https://db.apache.org/derby/docs/10.15/getstart/cgstutorialintro.html After that you can read more details about the Derby JDBC Connection URL here: https://db.apache.org/derby/docs/10.15/devguide/cdevdvlp34964.html#cdevdvlp34964","body":"Are you talking about the location of your database? Or the location of the Derby code? You download the code from Apache. If it&#39;s the database location, you specify that when you connect. Have you tried going through the Derby Tutorial: <a href=\"https://db.apache.org/derby/docs/10.15/getstart/cgstutorialintro.html\" rel=\"nofollow noreferrer\">db.apache.org/derby/docs/10.15/getstart/cgstutorialintro.htm&zwnj;&#8203;l</a> After that you can read more details about the Derby JDBC Connection URL here: <a href=\"https://db.apache.org/derby/docs/10.15/devguide/cdevdvlp34964.html#cdevdvlp34964\" rel=\"nofollow noreferrer\">db.apache.org/derby/docs/10.15/devguide/&hellip;</a>"}],"owner":{"account_id":23546821,"reputation":1,"user_id":17590138,"display_name":"Gleez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638647457,"creation_date":1638647457,"question_id":70228979,"body_markdown":"I am trying to establish a connection to an apache derby database via Java (Eclipse) but I am having an issue with articulating the location of the driver\r\n\r\n    package databaseWorkSpace;\r\n    import java.sql.*;\r\n    import java.sql.Connection;\r\n    \r\n    public class DatabaseTest {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tfinal String CONNECTION = &quot;jbdc:derbyTesting:DatabaseProject;create=true&quot;;\r\n    \t\ttry (Connection conn = DriverManager.getConnection(CONNECTION)){\r\n    \t\t\t\r\n\r\nHow do I go about finding and writing the location (On Macbook)\r\n\r\n","title":"Trying to establish SQL database connection in Java Eclipse","body":"<p>I am trying to establish a connection to an apache derby database via Java (Eclipse) but I am having an issue with articulating the location of the driver</p>\n<pre><code>package databaseWorkSpace;\nimport java.sql.*;\nimport java.sql.Connection;\n\npublic class DatabaseTest {\n    \n    public static void main(String[] args) {\n        \n        final String CONNECTION = &quot;jbdc:derbyTesting:DatabaseProject;create=true&quot;;\n        try (Connection conn = DriverManager.getConnection(CONNECTION)){\n            \n</code></pre>\n<p>How do I go about finding and writing the location (On Macbook)</p>\n"},{"tags":["java","arrays","algorithm","array-algorithms"],"comments":[{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":0,"creation_date":1638638667,"post_id":70227852,"comment_id":124143526,"body_markdown":"is it always a `4*4` matrix?","body":"is it always a <code>4*4</code> matrix?"},{"owner":{"account_id":22533769,"reputation":623,"user_id":16725399,"display_name":"AngryJohn"},"score":0,"creation_date":1638638792,"post_id":70227852,"comment_id":124143557,"body_markdown":"Yes it&#39;s always 4*4 matrix.","body":"Yes it&#39;s always 4*4 matrix."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1638638947,"post_id":70227852,"comment_id":124143587,"body_markdown":"Did you define the sort order yourself or was it mentioned in the problem statement? Also, trying to reduce a total of 16 comparisons won&#39;t give you a significant gain.","body":"Did you define the sort order yourself or was it mentioned in the problem statement? Also, trying to reduce a total of 16 comparisons won&#39;t give you a significant gain."},{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":0,"creation_date":1638639096,"post_id":70227852,"comment_id":124143616,"body_markdown":"I assume this is just for educational purposes, as this wouldn&#39;t create any benefits in terms of optimization. In that case, I suggest you hard code at least parts of it. Do a binary search. You know where the mid lies, then do another binary search. Since there are 16 cells this will be `log(16)` = 4 comparisons at most.","body":"I assume this is just for educational purposes, as this wouldn&#39;t create any benefits in terms of optimization. In that case, I suggest you hard code at least parts of it. Do a binary search. You know where the mid lies, then do another binary search. Since there are 16 cells this will be <code>log(16)</code> = 4 comparisons at most."},{"owner":{"account_id":1042959,"reputation":638633,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":0,"creation_date":1638714610,"post_id":70227852,"comment_id":124156151,"body_markdown":"For just 16 items, it will probably be the fastest to just search them all linearly, not using any fancy algorithm with lots of overhead (but better complexity). &quot;*that&#39;s a bad idea to have O(n^2)*&quot; - what does `n` denote there? And most importantly, how do you encode the pattern?","body":"For just 16 items, it will probably be the fastest to just search them all linearly, not using any fancy algorithm with lots of overhead (but better complexity). &quot;<i>that&#39;s a bad idea to have O(n^2)</i>&quot; - what does <code>n</code> denote there? And most importantly, how do you encode the pattern?"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638647038,"creation_date":1638647038,"answer_id":70228919,"question_id":70227852,"body_markdown":"The indices `i` and `j` into your matrix can be computed from a single linear index ranging from 0 through 15. This will allow you to do a normal binary search just translating each index from 1D to 2D.\r\n\r\n\tprivate static int i(int index) {\r\n\t\treturn iBit(index / 4) * 2 + iBit(index % 4);\r\n\t}\r\n\r\n\tprivate static int iBit(int part) {\r\n\t\treturn (part / 2) ^ (part % 2);\r\n\t}\r\n\r\n\tprivate static int j(int index) {\r\n\t\tint temp = index / 2;\r\n\t\treturn temp / 4 * 2 + temp % 2;\r\n\t}\r\n\r\nIts a bit tricky. So lets check that the methods work:\r\n\r\n\t\tfor (int index = 0; index &lt; 16; index++) {\r\n\t\t\tSystem.out.format(&quot;%2d -&gt; %d %d%n&quot;, index, i(index), j(index));\r\n\t\t}\r\n\r\nOutput:\r\n\r\n&gt;      0 -&gt; 0 0\r\n&gt;      1 -&gt; 1 0\r\n&gt;      2 -&gt; 1 1\r\n&gt;      3 -&gt; 0 1\r\n&gt;      4 -&gt; 2 0\r\n&gt;      5 -&gt; 3 0\r\n&gt;      6 -&gt; 3 1\r\n&gt;      7 -&gt; 2 1\r\n&gt;      8 -&gt; 2 2\r\n&gt;      9 -&gt; 3 2\r\n&gt;     10 -&gt; 3 3\r\n&gt;     11 -&gt; 2 3\r\n&gt;     12 -&gt; 0 2\r\n&gt;     13 -&gt; 1 2\r\n&gt;     14 -&gt; 1 3\r\n&gt;     15 -&gt; 0 3\r\n\r\nThe numbers agree with the pattern in the question.\r\n\r\n&gt; **NOTE: this algorithm should be done in the most efficient way that&#39;s a bad idea to have O(n^2)**\r\n\r\nIts really nonsense. Big-O is defined based on the behaviour as the input size grows towards infinity. 16 does not grow towards infinty. Nor does 4. When the matrix size is constant, even a simple linear search will be O(1).","title":"How do i find a value in an array in the most efficient way in that case?","body":"<p>The indices <code>i</code> and <code>j</code> into your matrix can be computed from a single linear index ranging from 0 through 15. This will allow you to do a normal binary search just translating each index from 1D to 2D.</p>\n<pre><code>private static int i(int index) {\n    return iBit(index / 4) * 2 + iBit(index % 4);\n}\n\nprivate static int iBit(int part) {\n    return (part / 2) ^ (part % 2);\n}\n\nprivate static int j(int index) {\n    int temp = index / 2;\n    return temp / 4 * 2 + temp % 2;\n}\n</code></pre>\n<p>Its a bit tricky. So lets check that the methods work:</p>\n<pre><code>    for (int index = 0; index &lt; 16; index++) {\n        System.out.format(&quot;%2d -&gt; %d %d%n&quot;, index, i(index), j(index));\n    }\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<pre><code> 0 -&gt; 0 0\n 1 -&gt; 1 0\n 2 -&gt; 1 1\n 3 -&gt; 0 1\n 4 -&gt; 2 0\n 5 -&gt; 3 0\n 6 -&gt; 3 1\n 7 -&gt; 2 1\n 8 -&gt; 2 2\n 9 -&gt; 3 2\n10 -&gt; 3 3\n11 -&gt; 2 3\n12 -&gt; 0 2\n13 -&gt; 1 2\n14 -&gt; 1 3\n15 -&gt; 0 3\n</code></pre>\n</blockquote>\n<p>The numbers agree with the pattern in the question.</p>\n<blockquote>\n<p><strong>NOTE: this algorithm should be done in the most efficient way that's a bad idea to have O(n^2)</strong></p>\n</blockquote>\n<p>Its really nonsense. Big-O is defined based on the behaviour as the input size grows towards infinity. 16 does not grow towards infinty. Nor does 4. When the matrix size is constant, even a simple linear search will be O(1).</p>\n"}],"owner":{"account_id":22533769,"reputation":623,"user_id":16725399,"display_name":"AngryJohn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70228919,"answer_count":1,"score":0,"last_activity_date":1638647038,"creation_date":1638638356,"question_id":70227852,"body_markdown":"**NOTE: this algorithm should be done in the most efficient way that&#39;s a bad idea to have O(n^2)**\r\n\r\nThis is a two dimensional array, now notice it&#39;s hard to see that in first glance but there is a hidden pattern on that array.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthis array is actually sorted take a look at that image below you may see the pattern now.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1EWLa.png\r\n  [2]: https://i.stack.imgur.com/ffqHd.png\r\nthe goal here is to make a function that searches for a value in an array that follows the exact pattern like the array i&#39;ve showed you in the image and you need to **return true** if the value was **found** and also **print** the column and row where the value **sits** in the array.\r\nif value **wasn&#39;t found** **return false**\r\n\r\nhere is an example\r\n\r\nhere is the function signature\r\n\r\n    public static boolean search(int [][]mat,int num){\r\n        //Code Here\r\n    }\r\n\r\n\r\nlet&#39;s say we are looking for the value `22` in that array(the same array in the image)\r\n\r\n    int [][]arr= {{1,3,7,9},{6,4,15,11},{36,50,21,22},{60,55,30,26}}\r\n    search(arr,22); //Returns true and also will be printed &quot;row = 2 col = 3&quot;\r\n\r\n    search(arr,86); //Returns false\r\n\r\n\r\n","title":"How do i find a value in an array in the most efficient way in that case?","body":"<p><strong>NOTE: this algorithm should be done in the most efficient way that's a bad idea to have O(n^2)</strong></p>\n<p>This is a two dimensional array, now notice it's hard to see that in first glance but there is a hidden pattern on that array.</p>\n<p><a href=\"https://i.stack.imgur.com/1EWLa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1EWLa.png\" alt=\"enter image description here\" /></a></p>\n<p>this array is actually sorted take a look at that image below you may see the pattern now.</p>\n<p><a href=\"https://i.stack.imgur.com/ffqHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ffqHd.png\" alt=\"enter image description here\" /></a></p>\n<p>the goal here is to make a function that searches for a value in an array that follows the exact pattern like the array i've showed you in the image and you need to <strong>return true</strong> if the value was <strong>found</strong> and also <strong>print</strong> the column and row where the value <strong>sits</strong> in the array.\nif value <strong>wasn't found</strong> <strong>return false</strong></p>\n<p>here is an example</p>\n<p>here is the function signature</p>\n<pre><code>public static boolean search(int [][]mat,int num){\n    //Code Here\n}\n</code></pre>\n<p>let's say we are looking for the value <code>22</code> in that array(the same array in the image)</p>\n<pre><code>int [][]arr= {{1,3,7,9},{6,4,15,11},{36,50,21,22},{60,55,30,26}}\nsearch(arr,22); //Returns true and also will be printed &quot;row = 2 col = 3&quot;\n\nsearch(arr,86); //Returns false\n</code></pre>\n"},{"tags":["java","gradle","jvm","java-11"],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638608112,"creation_date":1638608112,"answer_id":70224252,"question_id":70222463,"body_markdown":"Am not 100% sure , but i think you should be using gradle.properties to set `-Xmx50M` .\r\nYou can check [the official docs](https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties) to make sure .\r\ngradle.properties should look like this \r\n```\r\norg.gradle.jvmargs=-Xmx512m &quot;-XX:MaxMetaspaceSize=256m&quot;\r\n```\r\nThis is the default and you can change based on what you need to do .","title":"How to set Xmx and Xms properly in Gradle","body":"<p>Am not 100% sure , but i think you should be using gradle.properties to set <code>-Xmx50M</code> .\nYou can check <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties\" rel=\"nofollow noreferrer\">the official docs</a> to make sure .\ngradle.properties should look like this</p>\n<pre><code>org.gradle.jvmargs=-Xmx512m &quot;-XX:MaxMetaspaceSize=256m&quot;\n</code></pre>\n<p>This is the default and you can change based on what you need to do .</p>\n"},{"tags":[],"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638646254,"creation_date":1638634433,"answer_id":70227343,"question_id":70222463,"body_markdown":"For some reason using the short VM arguments `Xms50m` and `Xmx50m` is not working with gradle, but the full expressions `-XX:MaxHeapSize=50m` and `-XX:InitialHeapSize=50` are working, if you also have the same issue , just replace those short expressions with their full expressions and it will work.","title":"How to set Xmx and Xms properly in Gradle","body":"<p>For some reason using the short VM arguments <code>Xms50m</code> and <code>Xmx50m</code> is not working with gradle, but the full expressions <code>-XX:MaxHeapSize=50m</code> and <code>-XX:InitialHeapSize=50</code> are working, if you also have the same issue , just replace those short expressions with their full expressions and it will work.</p>\n"}],"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70227343,"answer_count":2,"score":2,"last_activity_date":1638646254,"creation_date":1638583109,"question_id":70222463,"body_markdown":"I&#39;m trying to fix the heap size memory using -Xmx50M in build.gradle file, it doesn&#39;t work, the memory size always goes beyond 50M.\r\n\r\n***Details :***\r\n\r\n**My build.gradle**\r\n\r\n \r\n\r\n       plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    }\r\n    \r\n    group &#39;com.karrty&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        junitVersion = &#39;5.7.1&#39;\r\n    }\r\n    \r\n    sourceCompatibility = &#39;17&#39;\r\n    targetCompatibility = &#39;17&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    application {\r\n        mainModule = &#39;com.karrty.karrtyversion1&#39;\r\n        mainClass  = &#39;com.karrty.karrtyversion1.Principle.main&#39;\r\n    }\r\n    \r\n    javafx {\r\n        version = &#39;16&#39;\r\n        modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&#39;org.controlsfx:controlsfx:11.1.0&#39;)\r\n    }\r\n    \r\n    run {\r\n    \r\n        jvmArgs = [\r\n             \r\n                &quot;-Xms50m&quot;,\r\n                &quot;-Xmx50m&quot;\r\n        ]\r\n    }\r\n\r\n**Screen shot of the issue**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nas you can see, the app has located 500MB in memory and using almost 250MB of it, even tho I specified the heap memory size to be 50MB . \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ts35d.png","title":"How to set Xmx and Xms properly in Gradle","body":"<p>I'm trying to fix the heap size memory using -Xmx50M in build.gradle file, it doesn't work, the memory size always goes beyond 50M.</p>\n<p><em><strong>Details :</strong></em></p>\n<p><strong>My build.gradle</strong></p>\n<pre><code>   plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n}\n\ngroup 'com.karrty'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.7.1'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.karrty.karrtyversion1'\n    mainClass  = 'com.karrty.karrtyversion1.Principle.main'\n}\n\njavafx {\n    version = '16'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation('org.controlsfx:controlsfx:11.1.0')\n}\n\nrun {\n\n    jvmArgs = [\n         \n            &quot;-Xms50m&quot;,\n            &quot;-Xmx50m&quot;\n    ]\n}\n</code></pre>\n<p><strong>Screen shot of the issue</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ts35d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ts35d.png\" alt=\"enter image description here\" /></a></p>\n<p>as you can see, the app has located 500MB in memory and using almost 250MB of it, even tho I specified the heap memory size to be 50MB .</p>\n"},{"tags":["java","compiler-errors","conditional-operator","boolean-expression"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638646192,"creation_date":1638642684,"answer_id":70228379,"question_id":70228290,"body_markdown":"The reason this works is because an assignment is an expression. The value of an assignment is the value assigned. This sounds theoretical, so let us look at an example:\r\n\r\n    int i, k;\r\n    i = (k = 5);\r\n    System.out.println(i);\r\n    System.out.println(k);\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Ideone]\r\n\r\nThe value of the expression `k = 5` is the assigned value `5`. This value is then assigned to `i`.\r\n\r\nArmed with this knowledge, we see that `indexToReturn= i` is an expression that evaluates to the value of `i`. When we swap `Expression2` and `Expression3`, the ternary operator breaks because the ` = i` is not evaluated as part of the ternary operator (due to operator precedence). If we set parentheses around `Expression2`, it works as expected.\r\n\r\n---\r\nI would discourage using the fact that an assignment is an expression. (Ab)using this fact often leads to hard-to-understand code.\r\n\r\n[Ideone]: https://ideone.com/039ZYY","title":"how this Ternary Operator work with this statemnt?","body":"<p>The reason this works is because an assignment is an expression. The value of an assignment is the value assigned. This sounds theoretical, so let us look at an example:</p>\n<pre><code>int i, k;\ni = (k = 5);\nSystem.out.println(i);\nSystem.out.println(k);\n</code></pre>\n<p><a href=\"https://ideone.com/039ZYY\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>The value of the expression <code>k = 5</code> is the assigned value <code>5</code>. This value is then assigned to <code>i</code>.</p>\n<p>Armed with this knowledge, we see that <code>indexToReturn= i</code> is an expression that evaluates to the value of <code>i</code>. When we swap <code>Expression2</code> and <code>Expression3</code>, the ternary operator breaks because the <code> = i</code> is not evaluated as part of the ternary operator (due to operator precedence). If we set parentheses around <code>Expression2</code>, it works as expected.</p>\n<hr />\n<p>I would discourage using the fact that an assignment is an expression. (Ab)using this fact often leads to hard-to-understand code.</p>\n"}],"owner":{"account_id":18843917,"reputation":13,"user_id":17589526,"display_name":"Saar BK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70228379,"answer_count":1,"score":-2,"last_activity_date":1638646192,"creation_date":1638641967,"question_id":70228290,"body_markdown":"i just generate this methode to find max val in some matrix and somehowe i was able to change `int\r\n` val insdie  Ternary Operator (java 8)\r\n\r\n    int  max=0, indexToReturn=0;\r\n\t\t\tint size= arr[0].length;\r\n\t\t\tfor (int i=1 ; i &lt; size ; i++)\r\n\t\t\t{\r\n\t\t\t\t//\r\n\t\t\t\t//                                                 &#175;\\_()_/&#175;\r\n\t\t\t\tmax =  (!(arr[j][indexToReturn] &gt; arr[j][i])) ? indexToReturn= i : arr[j][indexToReturn] ;\r\n\t\t\t}\r\n\t\t return max &gt; 0 ||  indexToReturn==size-1 ? arr[j][indexToReturn] : null;\r\n(the method compile and working)\r\n\r\nim not realy sure evan how its compile from what i saw online Ternary Operator  syntax  :\r\n\r\n    variable = Expression1 ? Expression2: Expression3\r\n\r\n\r\ncan someone explain me what im missing here ?","title":"how this Ternary Operator work with this statemnt?","body":"<p>i just generate this methode to find max val in some matrix and somehowe i was able to change <code>int </code> val insdie  Ternary Operator (java 8)</p>\n<pre><code>int  max=0, indexToReturn=0;\n        int size= arr[0].length;\n        for (int i=1 ; i &lt; size ; i++)\n        {\n            //\n            //                                                 \\_()_/\n            max =  (!(arr[j][indexToReturn] &gt; arr[j][i])) ? indexToReturn= i : arr[j][indexToReturn] ;\n        }\n     return max &gt; 0 ||  indexToReturn==size-1 ? arr[j][indexToReturn] : null;\n</code></pre>\n<p>(the method compile and working)</p>\n<p>im not realy sure evan how its compile from what i saw online Ternary Operator  syntax  :</p>\n<pre><code>variable = Expression1 ? Expression2: Expression3\n</code></pre>\n<p>can someone explain me what im missing here ?</p>\n"},{"tags":["java","arrays","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":4295573,"reputation":75109,"user_id":3510736,"accept_rate":78,"display_name":"Ami Tavory"},"score":1,"creation_date":1443171314,"post_id":32777252,"comment_id":53395224,"body_markdown":"Two general points: 1. when you write a program and it doesn&#39;t work, I suggest you add printouts that indicate what it&#39;s doing: which function was entered, the state of conditions, etc. Your question is something of a &quot;please debug my code&quot; as it stands. 2. If you post code in SO in a specific langage, you might consider adding this to the question&#39;s tag.","body":"Two general points: 1. when you write a program and it doesn&#39;t work, I suggest you add printouts that indicate what it&#39;s doing: which function was entered, the state of conditions, etc. Your question is something of a &quot;please debug my code&quot; as it stands. 2. If you post code in SO in a specific langage, you might consider adding this to the question&#39;s tag."}],"answers":[{"tags":[],"owner":{"account_id":2549136,"reputation":1237,"user_id":2213297,"accept_rate":56,"display_name":"piotrekg2"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1600628574,"creation_date":1443172777,"answer_id":32778860,"question_id":32777252,"body_markdown":"Let `s` denote a sequence of length `N`, and `K` be a given divisor.\r\n\r\n`dp[i][j]` = the number of subsequences of `s[0..i]` with remainder equal to `j`. We will compute `dp` for all `0 &lt;= i &lt; N` and `0 &lt;= j &lt; K`.\r\n    \r\n    dp[i][j] = 0 for all  (i, j)\r\n    \r\n    dp[0][0] += 1\r\n    dp[0][s[0] mod K] += 1\r\n\r\n    for i = 1 .. N - 1\r\n        for j = 0 .. K - 1\r\n            dp[i][j] = dp[i - 1][j]\r\n        for j = 0 .. K - 1\r\n            dp[i][(j + s[i]) mod K] += dp[i - 1][j]\r\n\r\nThe result is `dp[N - 1][0]`","title":"Count total subsequences whose sum is divisible by k","body":"<p>Let <code>s</code> denote a sequence of length <code>N</code>, and <code>K</code> be a given divisor.</p>\n<p><code>dp[i][j]</code> = the number of subsequences of <code>s[0..i]</code> with remainder equal to <code>j</code>. We will compute <code>dp</code> for all <code>0 &lt;= i &lt; N</code> and <code>0 &lt;= j &lt; K</code>.</p>\n<pre><code>dp[i][j] = 0 for all  (i, j)\n\ndp[0][0] += 1\ndp[0][s[0] mod K] += 1\n\nfor i = 1 .. N - 1\n    for j = 0 .. K - 1\n        dp[i][j] = dp[i - 1][j]\n    for j = 0 .. K - 1\n        dp[i][(j + s[i]) mod K] += dp[i - 1][j]\n</code></pre>\n<p>The result is <code>dp[N - 1][0]</code></p>\n"},{"tags":[],"owner":{"account_id":13932132,"reputation":1,"user_id":10060077,"display_name":"geek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531235792,"creation_date":1531235352,"answer_id":51268698,"question_id":32777252,"body_markdown":"    int fun(int i,int s)\r\n    {\r\n\r\n        if(i==1){\r\n\r\n            if(s-a[i]!=0 &amp;&amp; (s-a[i])%k==0)\r\n            return 1;\r\n            else\r\n                return 0;}\r\n        else{\r\n            if((s-a[i])%k==0){\r\n                return 1+fun(i-1,s-a[i])+fun(i-1,s);\r\n            }\r\n            else{\r\n                return fun(i-1,s-a[i])+fun(i-1,s);\r\n            }\r\n        }\r\n    }","title":"Count total subsequences whose sum is divisible by k","body":"<pre><code>int fun(int i,int s)\n{\n\n    if(i==1){\n\n        if(s-a[i]!=0 &amp;&amp; (s-a[i])%k==0)\n        return 1;\n        else\n            return 0;}\n    else{\n        if((s-a[i])%k==0){\n            return 1+fun(i-1,s-a[i])+fun(i-1,s);\n        }\n        else{\n            return fun(i-1,s-a[i])+fun(i-1,s);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1276394,"reputation":53,"user_id":1231558,"display_name":"dilit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633997070,"creation_date":1633997070,"answer_id":69533677,"question_id":32777252,"body_markdown":"Python code of @piotrekg2 solution.\r\nLooks good!\r\n\r\n```\r\nfrom typing import List\r\n\r\n\r\n# dp[i][j] = the number of subsequences of length i with remainder equal to j.\r\ndef count_subseq(s: List[int],k):\r\n    n = len(s)\r\n    dp = [0]*k\r\n    dp[0] = 1  # i=0, remainder=0, only 1 subseq\r\n    for i in range(1,n+1):\r\n        dp2 = dp.copy()   # copy previous i-length results: results without s[i] in subseq\r\n        for j in range(k):\r\n            dp2[(j+s[i-1])%k] += dp[j]\r\n        dp = dp2\r\n    return dp[0]\r\n\r\n\r\nif __name__ == &#39;__main__&#39;:\r\n    print(count_subseq([2,3,5,8],5))\r\n    print(count_subseq([5,5,5],5))\r\n```","title":"Count total subsequences whose sum is divisible by k","body":"<p>Python code of @piotrekg2 solution.\nLooks good!</p>\n<pre><code>from typing import List\n\n\n# dp[i][j] = the number of subsequences of length i with remainder equal to j.\ndef count_subseq(s: List[int],k):\n    n = len(s)\n    dp = [0]*k\n    dp[0] = 1  # i=0, remainder=0, only 1 subseq\n    for i in range(1,n+1):\n        dp2 = dp.copy()   # copy previous i-length results: results without s[i] in subseq\n        for j in range(k):\n            dp2[(j+s[i-1])%k] += dp[j]\n        dp = dp2\n    return dp[0]\n\n\nif __name__ == '__main__':\n    print(count_subseq([2,3,5,8],5))\n    print(count_subseq([5,5,5],5))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20217871,"reputation":1,"user_id":14828156,"display_name":"Taukir Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638645874,"creation_date":1638645874,"answer_id":70228764,"question_id":32777252,"body_markdown":"Faced the same issue. But ended up getting an answer.\r\n\r\nThe answer returning will be always 1 more than the total possible subsequences. This is because we know that 0 is always being a valid answer. So, if let&#39;s say you do not pick any single element from the array, then also the sum=0. So, it considers it as a valid answer and increments our answer by 1. So, to get the actual answer Just decrement the returned value by 1.","title":"Count total subsequences whose sum is divisible by k","body":"<p>Faced the same issue. But ended up getting an answer.</p>\n<p>The answer returning will be always 1 more than the total possible subsequences. This is because we know that 0 is always being a valid answer. So, if let's say you do not pick any single element from the array, then also the sum=0. So, it considers it as a valid answer and increments our answer by 1. So, to get the actual answer Just decrement the returned value by 1.</p>\n"}],"owner":{"account_id":5405575,"reputation":509,"user_id":4304219,"accept_rate":18,"display_name":"coderx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6851,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":32778860,"answer_count":4,"score":1,"last_activity_date":1638645874,"creation_date":1443167164,"question_id":32777252,"body_markdown":"I am trying to write a DP solution for the problem: count total number of sub-sequences possible of an array whose elements&#39; sum is divisible by k.\r\n\r\nI have written the following solution. But it is not giving the correct result. Like in the following code snippet, the array is {1, 2, 1} and k = 3. So expected total number of sub sequences divisible by 3 is 2, but the actual result is 3 which is clearly incorrect.\r\n\r\nPlease point out my mistake.\r\n\r\n    private int countDP(int[] a, int k)\r\n    {\r\n    \tint L = a.length;\r\n    \t\r\n    \tint[][] DP = new int[L][k];\r\n    \t\r\n    \tfor(int i = 0; i &lt; DP.length; i++)\r\n    \t{\r\n    \t\tfor(int j = 0; j &lt; DP[0].length; j++)\r\n    \t\t\tDP[i][j] = -1;\r\n    \t}\r\n    \t\r\n    \tint res = _countDP(a, k, DP, 0, 0);\r\n    \t\r\n    \treturn res;\r\n    }\r\n    \r\n    private int _countDP(int[] a, int k, int[][] DP, int idx, int m) //Not giving the correct result.\r\n    {\r\n    \tif(idx == a.length)\r\n    \t\treturn m == 0 ? 1 : 0;\r\n    \t\r\n    \tif(DP[idx][m] != -1)\r\n    \t\treturn DP[idx][m];\r\n    \t\r\n    \tint ans = 0;\r\n    \t\r\n    \tans = _countDP(a, k, DP, idx + 1, m);\r\n    \tans += _countDP(a, k, DP, idx + 1, (m + a[idx]) % k);\r\n    \t\r\n    \treturn DP[idx][m] = ans;\r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n    \tCountSubnsequences cs = new CountSubnsequences();\r\n    \t\r\n    \tint[] a = {1, 2, 1};\r\n    \tint k = 3;\r\n    \r\n    \tint total1 = cs.countDP(a, k);\r\n    \t\r\n    \tSystem.out.println(&quot;Total numeber of sub sequences: &quot; + total1);\r\n    }","title":"Count total subsequences whose sum is divisible by k","body":"<p>I am trying to write a DP solution for the problem: count total number of sub-sequences possible of an array whose elements' sum is divisible by k.</p>\n\n<p>I have written the following solution. But it is not giving the correct result. Like in the following code snippet, the array is {1, 2, 1} and k = 3. So expected total number of sub sequences divisible by 3 is 2, but the actual result is 3 which is clearly incorrect.</p>\n\n<p>Please point out my mistake.</p>\n\n<pre><code>private int countDP(int[] a, int k)\n{\n    int L = a.length;\n\n    int[][] DP = new int[L][k];\n\n    for(int i = 0; i &lt; DP.length; i++)\n    {\n        for(int j = 0; j &lt; DP[0].length; j++)\n            DP[i][j] = -1;\n    }\n\n    int res = _countDP(a, k, DP, 0, 0);\n\n    return res;\n}\n\nprivate int _countDP(int[] a, int k, int[][] DP, int idx, int m) //Not giving the correct result.\n{\n    if(idx == a.length)\n        return m == 0 ? 1 : 0;\n\n    if(DP[idx][m] != -1)\n        return DP[idx][m];\n\n    int ans = 0;\n\n    ans = _countDP(a, k, DP, idx + 1, m);\n    ans += _countDP(a, k, DP, idx + 1, (m + a[idx]) % k);\n\n    return DP[idx][m] = ans;\n}\n\npublic static void main(String[] args)\n{\n    CountSubnsequences cs = new CountSubnsequences();\n\n    int[] a = {1, 2, 1};\n    int k = 3;\n\n    int total1 = cs.countDP(a, k);\n\n    System.out.println(\"Total numeber of sub sequences: \" + total1);\n}\n</code></pre>\n"},{"tags":["java","swing","javafx","awt"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1638575314,"post_id":70221843,"comment_id":124133851,"body_markdown":"I have definitely encountered the issue you are speaking of. My belief on this (based on nothing but my own intuition on computers) is that Swing/Java is sending these events as quickly as it gets them from the OS. So then the question becomes how do you get the OS to send more rapid events: I am not sure there is an answer to that.","body":"I have definitely encountered the issue you are speaking of. My belief on this (based on nothing but my own intuition on computers) is that Swing/Java is sending these events as quickly as it gets them from the OS. So then the question becomes how do you get the OS to send more rapid events: I am not sure there is an answer to that."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638575506,"post_id":70221843,"comment_id":124133890,"body_markdown":"The short answer is, no, you can&#39;t &quot;fix&quot; this.  This is how the OS interrupts the movement of the cursor across the screen","body":"The short answer is, no, you can&#39;t &quot;fix&quot; this.  This is how the OS interrupts the movement of the cursor across the screen"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1638575546,"post_id":70221843,"comment_id":124133898,"body_markdown":"You can with java SE draw Bezier curves through the points and such which _looks_ more realistic. In a way it also a data reduction; you not really want to store 1000 pixel positions.","body":"You can with java SE draw Bezier curves through the points and such which <i>looks</i> more realistic. In a way it also a data reduction; you not really want to store 1000 pixel positions."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638576839,"post_id":70221843,"comment_id":124134076,"body_markdown":"@Joop Eggen I&#39;m not actually storing the coordinates, but I&#39;d like to use these events to modify buffered image data as accurate as possible. If this is truly as accurate as it gets and I just need to interpolate between the data points, that&#39;s that, but the point of asking this is so I can know that I&#39;m not being any less accurate than every other (non Java) application out there.","body":"@Joop Eggen I&#39;m not actually storing the coordinates, but I&#39;d like to use these events to modify buffered image data as accurate as possible. If this is truly as accurate as it gets and I just need to interpolate between the data points, that&#39;s that, but the point of asking this is so I can know that I&#39;m not being any less accurate than every other (non Java) application out there."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1638577413,"post_id":70221843,"comment_id":124134138,"body_markdown":"One can set the mouse cursor&#39;s speed to get an idea of the possible data sampling of a mouse trajectory. In my experience, the larger the gap, the faster the mouse, the more a straight uncurved line.","body":"One can set the mouse cursor&#39;s speed to get an idea of the possible data sampling of a mouse trajectory. In my experience, the larger the gap, the faster the mouse, the more a straight uncurved line."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638577779,"post_id":70221843,"comment_id":124134185,"body_markdown":"I guess I&#39;ll put together at least some kind of AWT comparison. If AWT can do no better, that might be convincing enough. I don&#39;t want to assume this is the best the OS can do without at least a little proof.","body":"I guess I&#39;ll put together at least some kind of AWT comparison. If AWT can do no better, that might be convincing enough. I don&#39;t want to assume this is the best the OS can do without at least a little proof."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1638581629,"post_id":70221843,"comment_id":124134648,"body_markdown":"@JoopEggen Obviously, you can draw B&#233;zier curves with JavaFX, as well as with Swing/AWT, so theres no need to suggest mixing toolkits here.","body":"@JoopEggen Obviously, you can draw B&#233;zier curves with JavaFX, as well as with Swing/AWT, so theres no need to suggest mixing toolkits here."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1638581933,"post_id":70221843,"comment_id":124134692,"body_markdown":"I didnt downvote (yet) but my guess is its because this kind of question really requires a [mre] to make it reasonably straightforward to answer.","body":"I didnt downvote (yet) but my guess is its because this kind of question really requires a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to make it reasonably straightforward to answer."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1638582505,"post_id":70221843,"comment_id":124134743,"body_markdown":"[*Line painting in painting program JavaFX*](https://stackoverflow.com/q/69348082/230513) examines tracking the _endpoints_ of a continuous line as it&#39;s being drawn, storing the result in a `List&lt;Line&gt;`.","body":"<a href=\"https://stackoverflow.com/q/69348082/230513\"><i>Line painting in painting program JavaFX</i></a> examines tracking the <i>endpoints</i> of a continuous line as it&#39;s being drawn, storing the result in a <code>List&lt;Line&gt;</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1638582706,"post_id":70221843,"comment_id":124134761,"body_markdown":"I suppose this point is also worth making. The JVM is going to be limited as to how quickly it detects mouse events by how quickly the native system detects mouse events. So it doesnt really matter if the JVM detect rate and the native detection rate are the same, or if not if theres a way to bypass the difference: the bottom line is that the native system imposes some limit which can always be exceeded by how fast the user moves the mouse. So there will always be the possibility of skipped pixels and you need to code for that possibility. Joops Bezier suggestion is likely optimal.","body":"I suppose this point is also worth making. The JVM is going to be limited as to how quickly it detects mouse events by how quickly the native system detects mouse events. So it doesnt really matter if the JVM detect rate and the native detection rate are the same, or if not if theres a way to bypass the difference: the bottom line is that the native system imposes some limit which can always be exceeded by how fast the user moves the mouse. So there will always be the possibility of skipped pixels and you need to code for that possibility. Joops Bezier suggestion is likely optimal."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1638587050,"post_id":70221843,"comment_id":124135191,"body_markdown":"[This](https://math.hws.edu/javanotes/source/chapter6/SimplePaint.java) may be slightly better curve-wise than the answer I posted on the other post you linked.","body":"<a href=\"https://math.hws.edu/javanotes/source/chapter6/SimplePaint.java\" rel=\"nofollow noreferrer\">This</a> may be slightly better curve-wise than the answer I posted on the other post you linked."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638600581,"post_id":70221843,"comment_id":124136519,"body_markdown":"@James_D I thought I had a &quot;minex&quot; (coining that term right now) basically but I&#39;ll make it a little more copy-paste friendly and complete now. Also I don&#39;t really mind coding around the gaps if a good result can be reached. For me this is more about being certain that there isn&#39;t some bug or performance issue with JFX specifically. I can&#39;t remember where I&#39;ve seen it, but I vaguely remember one reading a discussion about an alleged JavaFX bug causing &quot;missing&quot; mouse events.","body":"@James_D I thought I had a &quot;minex&quot; (coining that term right now) basically but I&#39;ll make it a little more copy-paste friendly and complete now. Also I don&#39;t really mind coding around the gaps if a good result can be reached. For me this is more about being certain that there isn&#39;t some bug or performance issue with JFX specifically. I can&#39;t remember where I&#39;ve seen it, but I vaguely remember one reading a discussion about an alleged JavaFX bug causing &quot;missing&quot; mouse events."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638601085,"post_id":70221843,"comment_id":124136593,"body_markdown":"Typo: &quot;vaguely remember *once reading&quot;","body":"Typo: &quot;vaguely remember *once reading&quot;"},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638603049,"post_id":70221843,"comment_id":124136867,"body_markdown":"Found an old browser tab with the JFX ticket that made me suspicious, if anyone&#39;s curious. Slightly different issue. https://bugs.openjdk.java.net/browse/JDK-8087922","body":"Found an old browser tab with the JFX ticket that made me suspicious, if anyone&#39;s curious. Slightly different issue. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8087922\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8087922</a>"}],"answers":[{"tags":[],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638645399,"creation_date":1638642065,"answer_id":70228304,"question_id":70221843,"body_markdown":"Since I&#39;ve asked if 1) this can be prevented (presumably not) and 2) for workarounds, I feel like I should at least supply the basis for the workaround to this that I&#39;ll probably be settling on. \r\n\r\nSince a &quot;connect the dots&quot; method is the only way, but I don&#39;t want to draw directly to the Canvas, I can&#39;t use the GraphicsContext line drawing calls in the other linked answer, which appear to invoke external native code for drawing lines and such. So we&#39;ll have to implement our own line drawing algorithm (maybe there&#39;s some library out there to do this?)... \r\n\r\nThis early draft workaround involves drawing an integer color to a generic buffer in memory (this could be a WritableImage in JFX or just a one dimensional int[] buffer etc.) so that the written values can easily be read back later, rather than drawing directly to a Canvas. \r\n\r\n``` lang-java\r\n/*\r\n * Bresenham&#39;s algorithm\r\n */\r\npublic static void drawLine(RasterLayer layer, int x0, int y0, int x1, int y1, int color) {\r\n    if (Math.abs(y1 - y0) &lt; Math.abs(x1 - x0)) {\r\n        if (x0 &gt; x1) {\r\n            plotLineLow(layer, x1, y1, x0, y0, color);\r\n        } else {\r\n            plotLineLow(layer, x0, y0, x1, y1, color);\r\n        }\r\n    } else {\r\n        if (y0 &gt; y1) {\r\n            plotLineHigh(layer, x1, y1, x0, y0, color);\r\n        } else {\r\n            plotLineHigh(layer, x0, y0, x1, y1, color);\r\n        }\r\n    }\r\n}\r\n\r\nprivate static void plotLineLow(RasterLayer layer, int x0, int y0, int x1, int y1, int color) {\r\n    int dx = x1 - x0;\r\n    int dy = y1 - y0;\r\n    int yi = 1;\r\n    if (dy &lt; 0) {\r\n        yi = -1;\r\n        dy = -dy;\r\n    }\r\n    int D = (2 * dy) - dx;\r\n    int y = y0;\r\n    \r\n    for (int x = x0; x &lt; x1; x++) {\r\n        layer.setPixel(x, y, color);\r\n        \r\n        if (D &gt; 0) {\r\n            y = y + yi;\r\n            D = D + (2 * (dy - dx));\r\n        } else {\r\n            D = D + 2 * dy;\r\n        }\r\n    }\r\n}\r\n\r\nprivate static void plotLineHigh(RasterLayer layer, int x0, int y0, int x1, int y1, int color) {\r\n    int dx = x1 - x0;\r\n    int dy = y1 - y0;\r\n    int xi = 1;\r\n    if (dx &lt; 0) {\r\n        xi = -1;\r\n        dx = -dx;\r\n        y1++;\r\n    }\r\n    int D = (2 * dx) - dy;\r\n    int x = x0;\r\n    \r\n    for (int y = y0; y &lt; y1; y++) {\r\n        layer.setPixel(x, y, color);\r\n        \r\n        if (D &gt; 0) {\r\n            x = x + xi;\r\n            D = D + (2 * (dx - dy));\r\n        } else {\r\n            D = D + 2 * dx;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTo make the drawn line thicker I suppose I&#39;ll just have to draw additional adjacent lines by offsetting the x or y coordinates for the additional lines, selected depending on the slope of the line. (Draw additional adjacent lines with offset y values for more horizontal lines, and offset x values for more vertical lines.) Testing so far this seems to work reasonably well. Obviously you could also get fancy with anti-aliased lines and such...\r\n","title":"JavaFX Mouse Move or Drag events &quot;skip&quot; pixels - can this be prevented?","body":"<p>Since I've asked if 1) this can be prevented (presumably not) and 2) for workarounds, I feel like I should at least supply the basis for the workaround to this that I'll probably be settling on.</p>\n<p>Since a &quot;connect the dots&quot; method is the only way, but I don't want to draw directly to the Canvas, I can't use the GraphicsContext line drawing calls in the other linked answer, which appear to invoke external native code for drawing lines and such. So we'll have to implement our own line drawing algorithm (maybe there's some library out there to do this?)...</p>\n<p>This early draft workaround involves drawing an integer color to a generic buffer in memory (this could be a WritableImage in JFX or just a one dimensional int[] buffer etc.) so that the written values can easily be read back later, rather than drawing directly to a Canvas.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Bresenham's algorithm\n */\npublic static void drawLine(RasterLayer layer, int x0, int y0, int x1, int y1, int color) {\n    if (Math.abs(y1 - y0) &lt; Math.abs(x1 - x0)) {\n        if (x0 &gt; x1) {\n            plotLineLow(layer, x1, y1, x0, y0, color);\n        } else {\n            plotLineLow(layer, x0, y0, x1, y1, color);\n        }\n    } else {\n        if (y0 &gt; y1) {\n            plotLineHigh(layer, x1, y1, x0, y0, color);\n        } else {\n            plotLineHigh(layer, x0, y0, x1, y1, color);\n        }\n    }\n}\n\nprivate static void plotLineLow(RasterLayer layer, int x0, int y0, int x1, int y1, int color) {\n    int dx = x1 - x0;\n    int dy = y1 - y0;\n    int yi = 1;\n    if (dy &lt; 0) {\n        yi = -1;\n        dy = -dy;\n    }\n    int D = (2 * dy) - dx;\n    int y = y0;\n    \n    for (int x = x0; x &lt; x1; x++) {\n        layer.setPixel(x, y, color);\n        \n        if (D &gt; 0) {\n            y = y + yi;\n            D = D + (2 * (dy - dx));\n        } else {\n            D = D + 2 * dy;\n        }\n    }\n}\n\nprivate static void plotLineHigh(RasterLayer layer, int x0, int y0, int x1, int y1, int color) {\n    int dx = x1 - x0;\n    int dy = y1 - y0;\n    int xi = 1;\n    if (dx &lt; 0) {\n        xi = -1;\n        dx = -dx;\n        y1++;\n    }\n    int D = (2 * dx) - dy;\n    int x = x0;\n    \n    for (int y = y0; y &lt; y1; y++) {\n        layer.setPixel(x, y, color);\n        \n        if (D &gt; 0) {\n            x = x + xi;\n            D = D + (2 * (dx - dy));\n        } else {\n            D = D + 2 * dx;\n        }\n    }\n}\n</code></pre>\n<p>To make the drawn line thicker I suppose I'll just have to draw additional adjacent lines by offsetting the x or y coordinates for the additional lines, selected depending on the slope of the line. (Draw additional adjacent lines with offset y values for more horizontal lines, and offset x values for more vertical lines.) Testing so far this seems to work reasonably well. Obviously you could also get fancy with anti-aliased lines and such...</p>\n"}],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638645399,"creation_date":1638574956,"question_id":70221843,"body_markdown":"Below example demonstrates &quot;gaps&quot; in drawing due to mouse events arriving too slowly (I presume). I&#39;d like to capture **all** &quot;mouseovered&quot; pixels, without drawing lines from the last pixel written to the current one. Doing this assumes the mouse moved in a straight line, and that may not be the case for very fast movements. \r\n\r\n\r\nDo we have any workarounds to get the missing events? \r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.canvas.GraphicsContext;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    import java.awt.*;\r\n    \r\n    public class DrawTest extends Application {\r\n        \r\n        private static Point point;\r\n        \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Canvas canvas = new Canvas(800, 600);\r\n            AnchorPane anchorPane = new AnchorPane(canvas);\r\n            GraphicsContext gc = canvas.getGraphicsContext2D();\r\n            \r\n            point = MouseInfo.getPointerInfo().getLocation();\r\n            \r\n            gc.setFill(Color.WHITE);\r\n            gc.fillRect(0, 0, 800, 600);\r\n            \r\n            canvas.setOnMouseDragged((event) -&gt; {\r\n                gc.getPixelWriter().setColor((int) event.getX(), (int) event.getY(), Color.BLACK);\r\n                System.out.println(&quot;X &quot; + event.getX() + &quot; Y &quot; + event.getY());\r\n            });\r\n            \r\n            stage.setScene(new Scene(anchorPane));\r\n            stage.show();\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            Application.launch(DrawTest.class, args);\r\n        }\r\n    }\r\n\r\nThis is an example of some of the event coordinates that get rendered with large gaps: \r\n\r\n    X 189.0 Y 248.0\r\n    X 193.0 Y 248.0\r\n    X 199.0 Y 248.0\r\n    X 204.0 Y 247.0\r\n    X 211.0 Y 244.0\r\n    X 225.0 Y 240.0\r\n\r\nI&#39;ve tried using this flag but it didn&#39;t help (on Linux): -Djavafx.animation.fullspeed=true\r\n\r\nI&#39;d be willing to try limited Swing options or maybe even more &quot;native&quot; workarounds, but obviously would prefer a JFX resolution or at least an explanation why JFX doesn&#39;t do this. Would need a Linux compatible solution, Windows too I guess. :P \r\n\r\nThis question is very similar, but the solutions proposed are still of a &quot;connect the dots&quot; nature and not exactly suitable if you need to accurately record or react to the pixel-by-pixel mouse path, so please don&#39;t close this as a duplicate - it&#39;s not. \r\n\r\nhttps://stackoverflow.com/questions/43429251/how-to-draw-a-continuous-line-with-mouse-on-javafx-canvas\r\n\r\nEdit: \r\n\r\nWell... it turns out I guess JavaFX is vindicated after all. \r\nAfter adding the following bit in the middle of the example above, if you&#39;ll forgive the expected thread racing, it does look to me like JFX is matching AWT event for event with this crude polling method. Probably the best that can be done is to fill in the gaps somehow. \r\n\r\n        Thread t = new Thread(() -&gt; {\r\n            while (true) {\r\n                Point p = MouseInfo.getPointerInfo().getLocation();\r\n                if (point.x != p.x || point.y != p.y) {\r\n                    point = p;\r\n                    System.out.println(point);\r\n                }\r\n                try {\r\n                    Thread.sleep(1);\r\n                } catch (InterruptedException e) {\r\n                }\r\n            }\r\n        });\r\n        t.setDaemon(true);\r\n        t.start();\r\n\r\nOutput:\r\n\r\n    java.awt.Point[x=2890,y=301]\r\n    X 2890.0 Y 301.0\r\n    java.awt.Point[x=2884,y=303]\r\n    X 2884.0 Y 303.0\r\n    java.awt.Point[x=2870,y=308]\r\n    X 2870.0 Y 308.0\r\n    X 2848.0 Y 314.0\r\n    java.awt.Point[x=2848,y=314]\r\n    java.awt.Point[x=2822,y=322]\r\n    X 2822.0 Y 322.0\r\n    X 2790.0 Y 330.0\r\n    java.awt.Point[x=2790,y=330]\r\n    java.awt.Point[x=2760,y=338]\r\n    X 2760.0 Y 338.0\r\n    X 2726.0 Y 344.0\r\n    java.awt.Point[x=2726,y=344]\r\n    X 2694.0 Y 350.0\r\n    java.awt.Point[x=2694,y=350]\r\n    X 2668.0 Y 356.0\r\n    java.awt.Point[x=2668,y=356]\r\n    java.awt.Point[x=2646,y=360]\r\n    X 2646.0 Y 360.0\r\n    java.awt.Point[x=2631,y=366]\r\n    X 2631.0 Y 366.0\r\n    X 2623.0 Y 367.0\r\n    java.awt.Point[x=2623,y=367]\r\n    X 2620.0 Y 369.0\r\n    java.awt.Point[x=2620,y=369]\r\n    java.awt.Point[x=2621,y=369]\r\n    X 2621.0 Y 369.0\r\n    X 2622.0 Y 368.0\r\n    java.awt.Point[x=2622,y=368]","title":"JavaFX Mouse Move or Drag events &quot;skip&quot; pixels - can this be prevented?","body":"<p>Below example demonstrates &quot;gaps&quot; in drawing due to mouse events arriving too slowly (I presume). I'd like to capture <strong>all</strong> &quot;mouseovered&quot; pixels, without drawing lines from the last pixel written to the current one. Doing this assumes the mouse moved in a straight line, and that may not be the case for very fast movements.</p>\n<p>Do we have any workarounds to get the missing events?</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport java.awt.*;\n\npublic class DrawTest extends Application {\n    \n    private static Point point;\n    \n    @Override\n    public void start(Stage stage) {\n        Canvas canvas = new Canvas(800, 600);\n        AnchorPane anchorPane = new AnchorPane(canvas);\n        GraphicsContext gc = canvas.getGraphicsContext2D();\n        \n        point = MouseInfo.getPointerInfo().getLocation();\n        \n        gc.setFill(Color.WHITE);\n        gc.fillRect(0, 0, 800, 600);\n        \n        canvas.setOnMouseDragged((event) -&gt; {\n            gc.getPixelWriter().setColor((int) event.getX(), (int) event.getY(), Color.BLACK);\n            System.out.println(&quot;X &quot; + event.getX() + &quot; Y &quot; + event.getY());\n        });\n        \n        stage.setScene(new Scene(anchorPane));\n        stage.show();\n    }\n    \n    public static void main(String[] args) {\n        Application.launch(DrawTest.class, args);\n    }\n}\n</code></pre>\n<p>This is an example of some of the event coordinates that get rendered with large gaps:</p>\n<pre><code>X 189.0 Y 248.0\nX 193.0 Y 248.0\nX 199.0 Y 248.0\nX 204.0 Y 247.0\nX 211.0 Y 244.0\nX 225.0 Y 240.0\n</code></pre>\n<p>I've tried using this flag but it didn't help (on Linux): -Djavafx.animation.fullspeed=true</p>\n<p>I'd be willing to try limited Swing options or maybe even more &quot;native&quot; workarounds, but obviously would prefer a JFX resolution or at least an explanation why JFX doesn't do this. Would need a Linux compatible solution, Windows too I guess. :P</p>\n<p>This question is very similar, but the solutions proposed are still of a &quot;connect the dots&quot; nature and not exactly suitable if you need to accurately record or react to the pixel-by-pixel mouse path, so please don't close this as a duplicate - it's not.</p>\n<p><a href=\"https://stackoverflow.com/questions/43429251/how-to-draw-a-continuous-line-with-mouse-on-javafx-canvas\">How to draw a continuous line with mouse on JavaFX canvas?</a></p>\n<p>Edit:</p>\n<p>Well... it turns out I guess JavaFX is vindicated after all.\nAfter adding the following bit in the middle of the example above, if you'll forgive the expected thread racing, it does look to me like JFX is matching AWT event for event with this crude polling method. Probably the best that can be done is to fill in the gaps somehow.</p>\n<pre><code>    Thread t = new Thread(() -&gt; {\n        while (true) {\n            Point p = MouseInfo.getPointerInfo().getLocation();\n            if (point.x != p.x || point.y != p.y) {\n                point = p;\n                System.out.println(point);\n            }\n            try {\n                Thread.sleep(1);\n            } catch (InterruptedException e) {\n            }\n        }\n    });\n    t.setDaemon(true);\n    t.start();\n</code></pre>\n<p>Output:</p>\n<pre><code>java.awt.Point[x=2890,y=301]\nX 2890.0 Y 301.0\njava.awt.Point[x=2884,y=303]\nX 2884.0 Y 303.0\njava.awt.Point[x=2870,y=308]\nX 2870.0 Y 308.0\nX 2848.0 Y 314.0\njava.awt.Point[x=2848,y=314]\njava.awt.Point[x=2822,y=322]\nX 2822.0 Y 322.0\nX 2790.0 Y 330.0\njava.awt.Point[x=2790,y=330]\njava.awt.Point[x=2760,y=338]\nX 2760.0 Y 338.0\nX 2726.0 Y 344.0\njava.awt.Point[x=2726,y=344]\nX 2694.0 Y 350.0\njava.awt.Point[x=2694,y=350]\nX 2668.0 Y 356.0\njava.awt.Point[x=2668,y=356]\njava.awt.Point[x=2646,y=360]\nX 2646.0 Y 360.0\njava.awt.Point[x=2631,y=366]\nX 2631.0 Y 366.0\nX 2623.0 Y 367.0\njava.awt.Point[x=2623,y=367]\nX 2620.0 Y 369.0\njava.awt.Point[x=2620,y=369]\njava.awt.Point[x=2621,y=369]\nX 2621.0 Y 369.0\nX 2622.0 Y 368.0\njava.awt.Point[x=2622,y=368]\n</code></pre>\n"},{"tags":["java","swing","border","margin","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1638645204,"creation_date":1322539264,"answer_id":8305672,"question_id":8305460,"body_markdown":"Using `setMargin(...)` should work.\r\n\r\nHowever, if you are also using a Border then that may be the problem.\r\n\r\nTry using a `CompoundBorder` where the inner border is an EmptyBorder() and the outer border is your other border. For example:\r\n\r\n    Border rounded = new LineBorder(new Color(210,210,210), 1, true);\r\n    Border empty = new EmptyBorder(0, 3, 0, 0);\r\n    Border border = new CompoundBorder(rounded, empty);\r\n    textField.setBorder(border);\r\n\r\nRead the section from the Swing tutorial on [How to Use Borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) for more information and examples.\r\n\r\n&gt; why the bottom right border is not rounded ?\r\n\r\nI&#39;m not sure why your bottom/right is not rounded. Using the Metal LAF on XP the right borders (top and bottom) appear rounded but the left borders are not rounded. When I use a border size of 2 or more all corners appear equally rounded. \r\n\r\n  [1]: http://www.sscce.org\r\n","title":"Java Swing JtextField inset","body":"<p>Using <code>setMargin(...)</code> should work.</p>\n<p>However, if you are also using a Border then that may be the problem.</p>\n<p>Try using a <code>CompoundBorder</code> where the inner border is an EmptyBorder() and the outer border is your other border. For example:</p>\n<pre><code>Border rounded = new LineBorder(new Color(210,210,210), 1, true);\nBorder empty = new EmptyBorder(0, 3, 0, 0);\nBorder border = new CompoundBorder(rounded, empty);\ntextField.setBorder(border);\n</code></pre>\n<p>Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to Use Borders</a> for more information and examples.</p>\n<blockquote>\n<p>why the bottom right border is not rounded ?</p>\n</blockquote>\n<p>I'm not sure why your bottom/right is not rounded. Using the Metal LAF on XP the right borders (top and bottom) appear rounded but the left borders are not rounded. When I use a border size of 2 or more all corners appear equally rounded.</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1322539375,"creation_date":1322539375,"answer_id":8305681,"question_id":8305460,"body_markdown":"`setMargin(Inset myInset)` worked for me:\r\n\r\n    import java.awt.Insets;\r\n    import javax.swing.*;\r\n    \r\n    public class TextFieldFun {\r\n       public static void main(String[] args) {\r\n          JTextField textfield = new JTextField(20);\r\n          JPanel panel = new JPanel();\r\n          panel.add(textfield);\r\n          \r\n          textfield.setMargin(new Insets(0, 10, 0, 0));\r\n          \r\n          JOptionPane.showMessageDialog(null, panel);\r\n       }\r\n    }","title":"Java Swing JtextField inset","body":"<p><code>setMargin(Inset myInset)</code> worked for me:</p>\n\n<pre><code>import java.awt.Insets;\nimport javax.swing.*;\n\npublic class TextFieldFun {\n   public static void main(String[] args) {\n      JTextField textfield = new JTextField(20);\n      JPanel panel = new JPanel();\n      panel.add(textfield);\n\n      textfield.setMargin(new Insets(0, 10, 0, 0));\n\n      JOptionPane.showMessageDialog(null, panel);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":996505,"reputation":2771,"user_id":1012297,"accept_rate":61,"display_name":"Vincent Roye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11957,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8305672,"answer_count":2,"score":6,"last_activity_date":1638645204,"creation_date":1322537166,"question_id":8305460,"body_markdown":"I am working with Netbeans GUI and I would like to add 3 pixels of space at the beginning of my jTextField :\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/73TzM.jpg\r\n\r\nI have tryied with setMargin, setInset in the GUI but it doesn&#39;t change anything.\r\n\r\nI have another question, why the bottom right border is not rounded ? here is my code :\r\n\r\n    Border roundedBorder = new LineBorder(new Color(210,210,210), 1, true);\r\n    researchTextField.setBorder(roundedBorder);\r\n\r\nthank you very much,\r\n\r\nRegards","title":"Java Swing JtextField inset","body":"<p>I am working with Netbeans GUI and I would like to add 3 pixels of space at the beginning of my jTextField :</p>\n\n<p><img src=\"https://i.stack.imgur.com/73TzM.jpg\" alt=\"enter image description here\"></p>\n\n<p>I have tryied with setMargin, setInset in the GUI but it doesn't change anything.</p>\n\n<p>I have another question, why the bottom right border is not rounded ? here is my code :</p>\n\n<pre><code>Border roundedBorder = new LineBorder(new Color(210,210,210), 1, true);\nresearchTextField.setBorder(roundedBorder);\n</code></pre>\n\n<p>thank you very much,</p>\n\n<p>Regards</p>\n"},{"tags":["java","linux","sh","symlink","nand2tetris"],"comments":[{"owner":{"account_id":3420083,"reputation":687,"user_id":2867993,"display_name":"Martin"},"score":0,"creation_date":1651212354,"post_id":70227998,"comment_id":127314661,"body_markdown":"I had trouble with the HardwareSimulator.sh on archlinux: There was no error, but the GUI was white without any features. On a debian installation, I just did `apt-get install default-jdk` and `bash HardwareSimulator.sh` and things worked.","body":"I had trouble with the HardwareSimulator.sh on archlinux: There was no error, but the GUI was white without any features. On a debian installation, I just did <code>apt-get install default-jdk</code> and <code>bash HardwareSimulator.sh</code> and things worked."},{"owner":{"account_id":3420083,"reputation":687,"user_id":2867993,"display_name":"Martin"},"score":0,"creation_date":1658236218,"post_id":70227998,"comment_id":128997360,"body_markdown":"Update: The error I had was due to java GUIs not working under Wayland. For me, it worked using an X session","body":"Update: The error I had was due to java GUIs not working under Wayland. For me, it worked using an X session"}],"answers":[{"tags":[],"owner":{"account_id":6237986,"reputation":1104,"user_id":4852640,"display_name":"MadOverlord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638645140,"creation_date":1638645140,"answer_id":70228682,"question_id":70227998,"body_markdown":"Not a linux user but a useful tactic in these cases is to google the first line of the error message (&quot;Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so&quot;), which provides several hints. One of them is to install the missing library, ie: &quot;sudo apt install openjdk-17-jdk&quot;","title":"Can&#39;t run the Nand2Tetris Hardware Simulator","body":"<p>Not a linux user but a useful tactic in these cases is to google the first line of the error message (&quot;Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so&quot;), which provides several hints. One of them is to install the missing library, ie: &quot;sudo apt install openjdk-17-jdk&quot;</p>\n"}],"owner":{"account_id":16035492,"reputation":1,"user_id":11573318,"display_name":"Yuval Yarmus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638645140,"creation_date":1638639637,"question_id":70227998,"body_markdown":"I am trying the Nand2Tetris course, and I got to the point where I want to run and test hdl files with the Hardware Simulator. I downloaded the [software suit](https://www.nand2tetris.org/software  &quot;the nand2tetris site&quot;), followed the instruction below and ran: \r\n``` \r\n# I had a dangling symlink issue at the beginning\r\n# and the full path was apparently the way to solve it\r\nchmod +x ~/.../nand2tetris/tools/HardwareSimulator.sh\r\n```\r\nI tried to run the script with:\r\n```./HardwareSimulator.sh```\r\n\r\nand received the following error: \r\n``` \r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n\tat java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n\tat java.base/java.lang.System.load(System.java:1953)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:311)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:281)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2398)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\tat java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1392)\r\n\tat java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1390)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1389)\r\n\tat java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1427)\r\n\tat java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1401)\r\n\tat java.desktop/java.awt.Component.&lt;clinit&gt;(Component.java:624)\r\n\tat HardwareSimulatorMain.main(Unknown Source)\r\n```\r\n\r\nI don&#39;t understand what seems to be the problem and why it states `(Unknown Source)` at the end.\r\n\r\nWhen looking online for a solution I saw it might be a problem with openjdk in [this post](https://stackoverflow.com/questions/67391845/exception-java-lang-unsatisfiedlinkerror-when-trying-to-open-allure-reports-in-w &quot;Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project&quot;).\r\nI also found [this post](https://stackoverflow.com/questions/56478421/java-backward-compatibility &quot;Java backward compatibility&quot;) but it didn&#39;t help me much either.\r\n\r\nI am a relatively new Linux user currently on pop OS.\r\n\r\n**I would really love some help as I am unsure what should I do to fix the problem as well as how to continue the course**\r\n\r\nThanks in advance.","title":"Can&#39;t run the Nand2Tetris Hardware Simulator","body":"<p>I am trying the Nand2Tetris course, and I got to the point where I want to run and test hdl files with the Hardware Simulator. I downloaded the <a href=\"https://www.nand2tetris.org/software\" rel=\"nofollow noreferrer\" title=\"the nand2tetris site\">software suit</a>, followed the instruction below and ran:</p>\n<pre><code># I had a dangling symlink issue at the beginning\n# and the full path was apparently the way to solve it\nchmod +x ~/.../nand2tetris/tools/HardwareSimulator.sh\n</code></pre>\n<p>I tried to run the script with:\n<code>./HardwareSimulator.sh</code></p>\n<p>and received the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\n    at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:311)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:281)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2398)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n    at java.base/java.lang.System.loadLibrary(System.java:1989)\n    at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1392)\n    at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1390)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1389)\n    at java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1427)\n    at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1401)\n    at java.desktop/java.awt.Component.&lt;clinit&gt;(Component.java:624)\n    at HardwareSimulatorMain.main(Unknown Source)\n</code></pre>\n<p>I don't understand what seems to be the problem and why it states <code>(Unknown Source)</code> at the end.</p>\n<p>When looking online for a solution I saw it might be a problem with openjdk in <a href=\"https://stackoverflow.com/questions/67391845/exception-java-lang-unsatisfiedlinkerror-when-trying-to-open-allure-reports-in-w\" title=\"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project\">this post</a>.\nI also found <a href=\"https://stackoverflow.com/questions/56478421/java-backward-compatibility\" title=\"Java backward compatibility\">this post</a> but it didn't help me much either.</p>\n<p>I am a relatively new Linux user currently on pop OS.</p>\n<p><strong>I would really love some help as I am unsure what should I do to fix the problem as well as how to continue the course</strong></p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","deployment","atmosphere","grizzly"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1428517377,"creation_date":1381867118,"answer_id":19389925,"question_id":19389723,"body_markdown":"You&#39;re mapping this JSON \r\n\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;socket&quot;: &quot;0c317829-69bf-43d6-b598-7c0c550635bb&quot;,\r\n        &quot;type&quot;: &quot;getDashboard&quot;,\r\n        &quot;data&quot;: {\r\n            &quot;workstationUuid&quot;: &quot;ddec1caa-a97f-4922-833f-632da07ffc11&quot;\r\n        },\r\n        &quot;reply&quot;: true\r\n    }\r\n\r\nthat contains an element named `data` that has a JSON object as its value. You are trying to deserialize the element named `workstationUuid` from that JSON object into this setter.\r\n\r\n    @JsonProperty(&quot;workstationUuid&quot;)\r\n    public void setWorkstation(String workstationUUID) {\r\n\r\nThis won&#39;t work directly because Jackson sees a JSON_OBJECT, not a String.\r\n\r\nTry creating a class `Data`\r\n\r\n    public class Data { // the name doesn&#39;t matter \r\n        @JsonProperty(&quot;workstationUuid&quot;)\r\n        private String workstationUuid;\r\n        // getter and setter\r\n    }\r\n\r\nthe switch up your method\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    public void setWorkstation(Data data) {\r\n        // use getter to retrieve it","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>You're mapping this JSON </p>\n\n<pre><code>{\n    \"id\": 2,\n    \"socket\": \"0c317829-69bf-43d6-b598-7c0c550635bb\",\n    \"type\": \"getDashboard\",\n    \"data\": {\n        \"workstationUuid\": \"ddec1caa-a97f-4922-833f-632da07ffc11\"\n    },\n    \"reply\": true\n}\n</code></pre>\n\n<p>that contains an element named <code>data</code> that has a JSON object as its value. You are trying to deserialize the element named <code>workstationUuid</code> from that JSON object into this setter.</p>\n\n<pre><code>@JsonProperty(\"workstationUuid\")\npublic void setWorkstation(String workstationUUID) {\n</code></pre>\n\n<p>This won't work directly because Jackson sees a JSON_OBJECT, not a String.</p>\n\n<p>Try creating a class <code>Data</code></p>\n\n<pre><code>public class Data { // the name doesn't matter \n    @JsonProperty(\"workstationUuid\")\n    private String workstationUuid;\n    // getter and setter\n}\n</code></pre>\n\n<p>the switch up your method</p>\n\n<pre><code>@JsonProperty(\"data\")\npublic void setWorkstation(Data data) {\n    // use getter to retrieve it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239897,"reputation":969,"user_id":509789,"accept_rate":70,"display_name":"richardhell"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1451740646,"creation_date":1451740646,"answer_id":34566332,"question_id":19389723,"body_markdown":"Data content is so variable, I think the best form is to define it as &quot;ObjectNode&quot; and next create his own class to parse:\r\n\r\nFinally: \r\n\r\nprivate ObjectNode data;\r\n\r\n\r\n\r\n","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>Data content is so variable, I think the best form is to define it as \"ObjectNode\" and next create his own class to parse:</p>\n\n<p>Finally: </p>\n\n<p>private ObjectNode data;</p>\n"},{"tags":[],"owner":{"account_id":3442975,"reputation":2462,"user_id":2884457,"accept_rate":100,"display_name":"Sindhu"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1513166510,"creation_date":1490056535,"answer_id":42916443,"question_id":19389723,"body_markdown":"If you do not want to define a separate class for nested json , Defining nested json object as JsonNode should work ,for example :\r\n\r\n    {&quot;id&quot;:2,&quot;socket&quot;:&quot;0c317829-69bf-43d6-b598-7c0c550635bb&quot;,&quot;type&quot;:&quot;getDashboard&quot;,&quot;data&quot;:{&quot;workstationUuid&quot;:&quot;ddec1caa-a97f-4922-833f-632da07ffc11&quot;},&quot;reply&quot;:true}\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    \tprivate JsonNode data;\r\n\r\n","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>If you do not want to define a separate class for nested json , Defining nested json object as JsonNode should work ,for example :</p>\n\n<pre><code>{\"id\":2,\"socket\":\"0c317829-69bf-43d6-b598-7c0c550635bb\",\"type\":\"getDashboard\",\"data\":{\"workstationUuid\":\"ddec1caa-a97f-4922-833f-632da07ffc11\"},\"reply\":true}\n\n@JsonProperty(\"data\")\n    private JsonNode data;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546071941,"creation_date":1546070487,"answer_id":53967781,"question_id":19389723,"body_markdown":"Resolved the problem using Jackson library. Prints are called out of Main class and all POJO classes are created. Here is the code snippets.\r\n\r\n**MainClass.java**\r\n     \r\n    public class MainClass {\r\n\t  public static void main(String[] args) throws JsonParseException, \r\n           JsonMappingException, IOException {\r\n\r\n\tString jsonStr = &quot;{\\r\\n&quot; + &quot;\t\\&quot;id\\&quot;: 2,\\r\\n&quot; + &quot;\t\\&quot;socket\\&quot;: \\&quot;0c317829-69bf- \r\n                 43d6-b598-7c0c550635bb\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\\&quot;type\\&quot;: \\&quot;getDashboard\\&quot;,\\r\\n&quot; + &quot;\t\\&quot;data\\&quot;: {\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\\&quot;workstationUuid\\&quot;: \\&quot;ddec1caa-a97f-4922-833f- \r\n                632da07ffc11\\&quot;\\r\\n&quot; + &quot;\t},\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\\&quot;reply\\&quot;: true\\r\\n&quot; + &quot;}&quot;;\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tMyPojo details = mapper.readValue(jsonStr, MyPojo.class);\r\n\r\n\t\tSystem.out.println(&quot;Value for getFirstName is: &quot; + details.getId());\r\n\t\tSystem.out.println(&quot;Value for getLastName  is: &quot; + details.getSocket());\r\n\t\tSystem.out.println(&quot;Value for getChildren is: &quot; + \r\n          details.getData().getWorkstationUuid());\r\n\t\tSystem.out.println(&quot;Value for getChildren is: &quot; + details.getReply());\r\n\r\n\t}\r\n\r\n**MyPojo.java**\r\n\r\n    public class MyPojo {\r\n\t    private String id;\r\n\r\n\t    private Data data;\r\n\r\n\t    private String reply;\r\n \r\n\t    private String socket;\r\n\r\n\t    private String type;\r\n\r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic Data getData() {\r\n    \t\treturn data;\r\n    \t}\r\n    \r\n    \tpublic void setData(Data data) {\r\n    \t\tthis.data = data;\r\n    \t}\r\n    \r\n    \tpublic String getReply() {\r\n    \t\treturn reply;\r\n    \t}\r\n    \r\n    \tpublic void setReply(String reply) {\r\n    \t\tthis.reply = reply;\r\n    \t}\r\n    \r\n    \tpublic String getSocket() {\r\n    \t\treturn socket;\r\n    \t}\r\n    \r\n    \tpublic void setSocket(String socket) {\r\n    \t\tthis.socket = socket;\r\n    \t}\r\n    \r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setType(String type) {\r\n    \t\tthis.type = type;\r\n    \t} \r\n    }\r\n\r\n**Data.java**\r\n\r\n    public class Data {\r\n    \tprivate String workstationUuid;\r\n    \r\n    \tpublic String getWorkstationUuid() {\r\n    \t\treturn workstationUuid;\r\n    \t}\r\n    \r\n    \tpublic void setWorkstationUuid(String workstationUuid) {\r\n    \t\tthis.workstationUuid = workstationUuid;\r\n    \t}\t\r\n    }\r\n\r\n**RESULTS:**\r\n\r\n&lt;pre&gt;\r\nValue for getFirstName is: 2\r\nValue for getLastName  is: 0c317829-69bf-43d6-b598-7c0c550635bb\r\nValue for getChildren is: ddec1caa-a97f-4922-833f-632da07ffc11\r\nValue for getChildren is: true\r\n&lt;/pre&gt;\r\n\r\n","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>Resolved the problem using Jackson library. Prints are called out of Main class and all POJO classes are created. Here is the code snippets.</p>\n\n<p><strong>MainClass.java</strong></p>\n\n<pre><code>public class MainClass {\n  public static void main(String[] args) throws JsonParseException, \n       JsonMappingException, IOException {\n\nString jsonStr = \"{\\r\\n\" + \"    \\\"id\\\": 2,\\r\\n\" + \" \\\"socket\\\": \\\"0c317829-69bf- \n             43d6-b598-7c0c550635bb\\\",\\r\\n\"\n            + \" \\\"type\\\": \\\"getDashboard\\\",\\r\\n\" + \"    \\\"data\\\": {\\r\\n\"\n            + \"     \\\"workstationUuid\\\": \\\"ddec1caa-a97f-4922-833f- \n            632da07ffc11\\\"\\r\\n\" + \" },\\r\\n\"\n            + \" \\\"reply\\\": true\\r\\n\" + \"}\";\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    MyPojo details = mapper.readValue(jsonStr, MyPojo.class);\n\n    System.out.println(\"Value for getFirstName is: \" + details.getId());\n    System.out.println(\"Value for getLastName  is: \" + details.getSocket());\n    System.out.println(\"Value for getChildren is: \" + \n      details.getData().getWorkstationUuid());\n    System.out.println(\"Value for getChildren is: \" + details.getReply());\n\n}\n</code></pre>\n\n<p><strong>MyPojo.java</strong></p>\n\n<pre><code>public class MyPojo {\n    private String id;\n\n    private Data data;\n\n    private String reply;\n\n    private String socket;\n\n    private String type;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Data getData() {\n        return data;\n    }\n\n    public void setData(Data data) {\n        this.data = data;\n    }\n\n    public String getReply() {\n        return reply;\n    }\n\n    public void setReply(String reply) {\n        this.reply = reply;\n    }\n\n    public String getSocket() {\n        return socket;\n    }\n\n    public void setSocket(String socket) {\n        this.socket = socket;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    } \n}\n</code></pre>\n\n<p><strong>Data.java</strong></p>\n\n<pre><code>public class Data {\n    private String workstationUuid;\n\n    public String getWorkstationUuid() {\n        return workstationUuid;\n    }\n\n    public void setWorkstationUuid(String workstationUuid) {\n        this.workstationUuid = workstationUuid;\n    }   \n}\n</code></pre>\n\n<p><strong>RESULTS:</strong></p>\n\n<pre>\nValue for getFirstName is: 2\nValue for getLastName  is: 0c317829-69bf-43d6-b598-7c0c550635bb\nValue for getChildren is: ddec1caa-a97f-4922-833f-632da07ffc11\nValue for getChildren is: true\n</pre>\n"},{"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561543134,"creation_date":1561543134,"answer_id":56770052,"question_id":19389723,"body_markdown":"This way I solved my problem. Hope it helps others.\r\nIn my case I created a class, a field, their getter &amp; setter and then provide the object instead of string.\r\n\r\n**Use this**\r\n\r\n    public static class EncryptedData {\r\n        private String encryptedData;\r\n\r\n        public String getEncryptedData() {\r\n            return encryptedData;\r\n        }\r\n\r\n        public void setEncryptedData(String encryptedData) {\r\n            this.encryptedData = encryptedData;\r\n        }\r\n    }\r\n    \r\n    @PutMapping(value = MY_IP_ADDRESS)\r\n    public ResponseEntity&lt;RestResponse&gt; updateMyIpAddress(@RequestBody final EncryptedData encryptedData) {\r\n    \ttry {\r\n\t\t\tPath path = Paths.get(PUBLIC_KEY);\r\n\t\t\tbyte[] bytes = Files.readAllBytes(path);\r\n\t\t\tPKCS8EncodedKeySpec ks = new PKCS8EncodedKeySpec(base64.decode(bytes));\r\n\t\t\tPrivateKey privateKey = KeyFactory.getInstance(CRYPTO_ALGO_RSA).generatePrivate(ks);\r\n\t\t\t\r\n\t\t\tCipher cipher = Cipher.getInstance(CRYPTO_ALGO_RSA);\r\n\t\t\tcipher.init(Cipher.PRIVATE_KEY, privateKey);\r\n\t\t\tString decryptedData = new String(cipher.doFinal(encryptedData.getEncryptedData().getBytes()));\r\n\t\t\tString[] dataArray = decryptedData.split(&quot;|&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tMethod updateIp = Class.forName(&quot;com.cuanet.client.helper&quot;).getMethod(&quot;methodName&quot;, String.class,String.class);\r\n\t\t\tupdateIp.invoke(null, dataArray[0], dataArray[1]);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(&quot;Unable to update ip address for encrypted data: &quot;+encryptedData, e);\r\n\t\t}\r\n    \t\r\n    \treturn null;\r\n\r\nInstead of this \r\n\r\n    @PutMapping(value = MY_IP_ADDRESS)\r\n    public ResponseEntity&lt;RestResponse&gt; updateMyIpAddress(@RequestBody final EncryptedData encryptedData) {\r\n    \ttry {\r\n\t\t\tPath path = Paths.get(PUBLIC_KEY);\r\n\t\t\tbyte[] bytes = Files.readAllBytes(path);\r\n\t\t\tPKCS8EncodedKeySpec ks = new PKCS8EncodedKeySpec(base64.decode(bytes));\r\n\t\t\tPrivateKey privateKey = KeyFactory.getInstance(CRYPTO_ALGO_RSA).generatePrivate(ks);\r\n\t\t\t\r\n\t\t\tCipher cipher = Cipher.getInstance(CRYPTO_ALGO_RSA);\r\n\t\t\tcipher.init(Cipher.PRIVATE_KEY, privateKey);\r\n\t\t\tString decryptedData = new String(cipher.doFinal(encryptedData.getBytes()));\r\n\t\t\tString[] dataArray = decryptedData.split(&quot;|&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tMethod updateIp = Class.forName(&quot;com.cuanet.client.helper&quot;).getMethod(&quot;methodName&quot;, String.class,String.class);\r\n\t\t\tupdateIp.invoke(null, dataArray[0], dataArray[1]);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(&quot;Unable to update ip address for encrypted data: &quot;+encryptedData, e);\r\n\t\t}\r\n    \t\r\n    \treturn null;\r\n\t}","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>This way I solved my problem. Hope it helps others.\nIn my case I created a class, a field, their getter &amp; setter and then provide the object instead of string.</p>\n\n<p><strong>Use this</strong></p>\n\n<pre><code>public static class EncryptedData {\n    private String encryptedData;\n\n    public String getEncryptedData() {\n        return encryptedData;\n    }\n\n    public void setEncryptedData(String encryptedData) {\n        this.encryptedData = encryptedData;\n    }\n}\n\n@PutMapping(value = MY_IP_ADDRESS)\npublic ResponseEntity&lt;RestResponse&gt; updateMyIpAddress(@RequestBody final EncryptedData encryptedData) {\n    try {\n        Path path = Paths.get(PUBLIC_KEY);\n        byte[] bytes = Files.readAllBytes(path);\n        PKCS8EncodedKeySpec ks = new PKCS8EncodedKeySpec(base64.decode(bytes));\n        PrivateKey privateKey = KeyFactory.getInstance(CRYPTO_ALGO_RSA).generatePrivate(ks);\n\n        Cipher cipher = Cipher.getInstance(CRYPTO_ALGO_RSA);\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\n        String decryptedData = new String(cipher.doFinal(encryptedData.getEncryptedData().getBytes()));\n        String[] dataArray = decryptedData.split(\"|\");\n\n\n        Method updateIp = Class.forName(\"com.cuanet.client.helper\").getMethod(\"methodName\", String.class,String.class);\n        updateIp.invoke(null, dataArray[0], dataArray[1]);\n\n    } catch (Exception e) {\n        LOG.error(\"Unable to update ip address for encrypted data: \"+encryptedData, e);\n    }\n\n    return null;\n</code></pre>\n\n<p>Instead of this </p>\n\n<pre><code>@PutMapping(value = MY_IP_ADDRESS)\npublic ResponseEntity&lt;RestResponse&gt; updateMyIpAddress(@RequestBody final EncryptedData encryptedData) {\n    try {\n        Path path = Paths.get(PUBLIC_KEY);\n        byte[] bytes = Files.readAllBytes(path);\n        PKCS8EncodedKeySpec ks = new PKCS8EncodedKeySpec(base64.decode(bytes));\n        PrivateKey privateKey = KeyFactory.getInstance(CRYPTO_ALGO_RSA).generatePrivate(ks);\n\n        Cipher cipher = Cipher.getInstance(CRYPTO_ALGO_RSA);\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\n        String decryptedData = new String(cipher.doFinal(encryptedData.getBytes()));\n        String[] dataArray = decryptedData.split(\"|\");\n\n\n        Method updateIp = Class.forName(\"com.cuanet.client.helper\").getMethod(\"methodName\", String.class,String.class);\n        updateIp.invoke(null, dataArray[0], dataArray[1]);\n\n    } catch (Exception e) {\n        LOG.error(\"Unable to update ip address for encrypted data: \"+encryptedData, e);\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4621272,"reputation":2975,"user_id":3746306,"accept_rate":50,"display_name":"Nilesh Deokar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620959802,"creation_date":1620959802,"answer_id":67528421,"question_id":19389723,"body_markdown":"If you&#39;re using Kotlin you might wanna try removing `data` keyword from class declaration. \r\n \r\n\r\n       {\r\n          &quot;data&quot;: {\r\n            &quot;Calendar&quot;: {\r\n              &quot;Events&quot;: [\r\n                {\r\n                  &quot;ID&quot;: &quot;1&quot;,\r\n                  &quot;Title&quot;: &quot;Graduation day&quot;\r\n                },\r\n                {\r\n                  &quot;ID&quot;: &quot;2&quot;,\r\n                  &quot;Title&quot;: &quot;Graduation day party&quot;              \r\n                }\r\n              ]\r\n            }\r\n          }\r\n          &quot;code&quot;: 200\r\n        }\r\n\r\n\r\nI had this as a JSON and my POJO class was like this :\r\n\r\n\r\n    class Response(code: Int, val data: Data){\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        class Data(@JsonProperty(&quot;Calendar&quot;) val calendar: Calendar) {}\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        data class Event(\r\n            val ID: Int? = null,\r\n            val Title: String? = null\r\n        )\r\n    \r\n        data class Calendar(\r\n            @JsonProperty(&quot;Events&quot;) val eventsList: ArrayList&lt;Event&gt;\r\n        )\r\n    }\r\n\r\nRemoving `data` from `class Event` and `class Calendar` it worked for me.","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>If you're using Kotlin you might wanna try removing <code>data</code> keyword from class declaration.</p>\n<pre><code>   {\n      &quot;data&quot;: {\n        &quot;Calendar&quot;: {\n          &quot;Events&quot;: [\n            {\n              &quot;ID&quot;: &quot;1&quot;,\n              &quot;Title&quot;: &quot;Graduation day&quot;\n            },\n            {\n              &quot;ID&quot;: &quot;2&quot;,\n              &quot;Title&quot;: &quot;Graduation day party&quot;              \n            }\n          ]\n        }\n      }\n      &quot;code&quot;: 200\n    }\n</code></pre>\n<p>I had this as a JSON and my POJO class was like this :</p>\n<pre><code>class Response(code: Int, val data: Data){\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    class Data(@JsonProperty(&quot;Calendar&quot;) val calendar: Calendar) {}\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    data class Event(\n        val ID: Int? = null,\n        val Title: String? = null\n    )\n\n    data class Calendar(\n        @JsonProperty(&quot;Events&quot;) val eventsList: ArrayList&lt;Event&gt;\n    )\n}\n</code></pre>\n<p>Removing <code>data</code> from <code>class Event</code> and <code>class Calendar</code> it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":21913345,"reputation":75,"user_id":16197546,"display_name":"Dhruv sahu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626155093,"creation_date":1626155093,"answer_id":68357050,"question_id":19389723,"body_markdown":"These types of errors occur when we are using an incorrect Data Type for POJO variables.\r\n\r\n","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>These types of errors occur when we are using an incorrect Data Type for POJO variables.</p>\n"},{"tags":[],"owner":{"account_id":19956973,"reputation":91,"user_id":14625432,"display_name":"dilesh yadav"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638644892,"creation_date":1638644486,"answer_id":70228617,"question_id":19389723,"body_markdown":"To solve this(in case that your data object can have any undefined json or there is no POJO defined for data), simply use [JsonNode][1] to take data as input\r\n\r\n    private JsonNode data;\r\n\r\n  \r\nThen you can use [jsonpath dependency][2] to access the values inside data.\r\n\r\nTo fetch uuid from this json\r\n\r\n    \r\n      &quot;data&quot;: {\r\n        &quot;workStation&quot;: {\r\n            {\r\n              &quot;uuid&quot;: &quot;2&quot;,\r\n              &quot;Title&quot;: &quot;Graduation day party&quot;              \r\n            }\r\n        }\r\n        &quot;code&quot;: 200\r\n      }\r\n    \r\nUse [JsonContext][3] from JsonPath library to read via JsonPath\r\n\r\n    DocumentContext jsonContext = JsonContext.createContext(data);\r\n    String uuid = jsonContext.read(&quot;workStation.uuid&quot;);\r\n\r\nDocumentContext read method takes the path in json as attribute\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html\r\n  [2]: https://javadoc.io/doc/com.jayway.jsonpath/json-path/latest/index.html\r\n  [3]: https://javadoc.io/doc/com.jayway.jsonpath/json-path/2.2.0/com/jayway/jsonpath/internal/JsonContext.html","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>To solve this(in case that your data object can have any undefined json or there is no POJO defined for data), simply use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"noreferrer\">JsonNode</a> to take data as input</p>\n<pre><code>private JsonNode data;\n</code></pre>\n<p>Then you can use <a href=\"https://javadoc.io/doc/com.jayway.jsonpath/json-path/latest/index.html\" rel=\"noreferrer\">jsonpath dependency</a> to access the values inside data.</p>\n<p>To fetch uuid from this json</p>\n<pre><code>  &quot;data&quot;: {\n    &quot;workStation&quot;: {\n        {\n          &quot;uuid&quot;: &quot;2&quot;,\n          &quot;Title&quot;: &quot;Graduation day party&quot;              \n        }\n    }\n    &quot;code&quot;: 200\n  }\n</code></pre>\n<p>Use <a href=\"https://javadoc.io/doc/com.jayway.jsonpath/json-path/2.2.0/com/jayway/jsonpath/internal/JsonContext.html\" rel=\"noreferrer\">JsonContext</a> from JsonPath library to read via JsonPath</p>\n<pre><code>DocumentContext jsonContext = JsonContext.createContext(data);\nString uuid = jsonContext.read(&quot;workStation.uuid&quot;);\n</code></pre>\n<p>DocumentContext read method takes the path in json as attribute</p>\n"}],"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495423,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"answer_count":8,"score":123,"last_activity_date":1638644892,"creation_date":1381866352,"question_id":19389723,"body_markdown":"I&#39;m running into an issue where my deployable jar hits an exception that doesn&#39;t happen when I run this locally in IntelliJ.  \r\n\r\n**Exception:**\r\n\r\n    Receiving an event {id=2, socket=0c317829-69bf-43d6-b598-7c0c550635bb, type=getDashboard, data={workstationUuid=ddec1caa-a97f-4922-833f-632da07ffc11}, reply=true}\r\n    Firing getDashboard event to Socket#0c317829-69bf-43d6-b598-7c0c550635bb\r\n    Failed invoking AtmosphereFramework.doCometSupport()\r\n    java.lang.IllegalArgumentException: Can not deserialize instance of java.lang.String out of START_OBJECT token\r\n     at [Source: N/A; line: -1, column: -1]\r\n            at org.codehaus.jackson.map.ObjectMapper._convert(ObjectMapper.java:2502)\r\n            at org.codehaus.jackson.map.ObjectMapper.convertValue(ObjectMapper.java:2468)\r\n            at com.github.flowersinthesand.portal.support.DefaultDispatcher$DefaultHandler$DataParam.resolve(DefaultDispatcher.java:270)\r\n            at com.github.flowersinthesand.portal.support.DefaultDispatcher$DefaultHandler.handle(DefaultDispatcher.java:204)\r\n            at com.github.flowersinthesand.portal.support.DefaultDispatcher.fire(DefaultDispatcher.java:107)\r\n            at com.github.flowersinthesand.portal.support.AbstractSocketFactory.fire(AbstractSocketFactory.java:73)\r\n            at com.github.flowersinthesand.portal.atmosphere.AtmosphereSocketFactory.onRequest(AtmosphereSocketFactory.java:75)\r\n            at org.atmosphere.cpr.AsynchronousProcessor.action(AsynchronousProcessor.java:256)\r\n            at org.atmosphere.cpr.AsynchronousProcessor.suspended(AsynchronousProcessor.java:166)\r\n            at org.atmosphere.container.Grizzly2WebSocketSupport.service(Grizzly2WebSocketSupport.java:75)\r\n            at org.atmosphere.cpr.AtmosphereFramework.doCometSupport(AtmosphereFramework.java:1342)\r\n            at org.atmosphere.websocket.DefaultWebSocketProcessor.dispatch(DefaultWebSocketProcessor.java:219)\r\n            at org.atmosphere.websocket.DefaultWebSocketProcessor$2.run(DefaultWebSocketProcessor.java:183)\r\n            at org.atmosphere.util.VoidExecutorService.execute(VoidExecutorService.java:101)\r\n            at org.atmosphere.websocket.DefaultWebSocketProcessor.dispatch(DefaultWebSocketProcessor.java:178)\r\n            at org.atmosphere.websocket.DefaultWebSocketProcessor.invokeWebSocketProtocol(DefaultWebSocketProcessor.java:167)\r\n            at org.atmosphere.container.Grizzly2WebSocketSupport$Grizzly2WebSocketApplication.onMessage(Grizzly2WebSocketSupport.java:171)\r\n            at org.glassfish.grizzly.websockets.DefaultWebSocket.onMessage(DefaultWebSocket.java:164)\r\n            at org.glassfish.grizzly.websockets.frametypes.TextFrameType.respond(TextFrameType.java:70)\r\n            at org.glassfish.grizzly.websockets.DataFrame.respond(DataFrame.java:104)\r\n            at org.glassfish.grizzly.websockets.WebSocketFilter.handleRead(WebSocketFilter.java:221)\r\n            at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:265)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:134)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n            at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:78)\r\n            at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:770)\r\n            at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:115)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:55)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:135)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:551)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:531)\r\n            at java.lang.Thread.run(Thread.java:781)\r\n    Caused by: org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\r\n     at [Source: N/A; line: -1, column: -1]\r\n            at org.codehaus.jackson.map.JsonMappingException.from(JsonMappingException.java:163)\r\n            at org.codehaus.jackson.map.deser.StdDeserializationContext.mappingException(StdDeserializationContext.java:219)\r\n            at org.codehaus.jackson.map.deser.std.StringDeserializer.deserialize(StringDeserializer.java:44)\r\n            at org.codehaus.jackson.map.deser.std.StringDeserializer.deserialize(StringDeserializer.java:13)\r\n            at org.codehaus.jackson.map.ObjectMapper._readValue(ObjectMapper.java:2704)\r\n            at org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1315)\r\n            at org.codehaus.jackson.map.ObjectMapper._convert(ObjectMapper.java:2498)\r\n            ... 34 more\r\n    java.lang.IllegalArgumentException: Can not deserialize instance of java.lang.String out of START_OBJECT token\r\n     at [Source: N/A; line: -1, column: -1] Status 500 Message Server Error\r\n\r\n**Socket Handler**\r\n\r\nI believe the exception is occurring when the JSON is parsed into a WorkstationRequest object because of the below item.  This is the socket handler:\r\n\r\n    @On\r\n    @Reply\r\n    @JsonView({Views.WorkstationView.class})\r\n    public WorkstationDashboard getDashboard(@Data WorkstationRequest request) {\r\n        return new WorkstationDashboard(request.getWorkstation());\r\n    }\r\n\r\nThe object the socket handler maps to:\r\n\r\n    public class WorkstationRequest {\r\n    \r\n        /* Class to instantiate if this workstation does not already exist */\r\n        private Class&lt;? extends Workstation&gt; workstationClass;\r\n    \r\n        private WorkflowProcess workflowProcess;\r\n    \r\n        private PhysicalWorkstation workstation;\r\n    \r\n        WorkstationService workstationService;\r\n    \r\n        /**\r\n         * @param workstationClass Required so when jackson maps the UUID we can auto fetch the class\r\n         */\r\n        public WorkstationRequest(Class&lt;? extends Workstation&gt; workstationClass) {\r\n            this.workstationClass = workstationClass;\r\n            workstationService = (WorkstationService) ApplicationContextProvider.getApplicationContext().getBean(&quot;workstationService&quot;);\r\n        }\r\n    \r\n        /* Set the workstation based on UUID.  Will register the workstation if it&#39;s new */\r\n        @JsonProperty(&quot;workstationUuid&quot;)\r\n        public void setWorkstation(String workstationUUID) {\r\n            workstation = (PhysicalWorkstation)WorkstationService.getWorkstation(workstationUUID);\r\n    \r\n            //setup new workstation\r\n            if (workstation == null) {\r\n                WorkstationEntity workstationEntity = workstationService.findByUUID(workstationUUID);\r\n                workstation = (PhysicalWorkstation)Workstation.factory(workstationEntity, workstationClass);\r\n    \r\n                //register with queue\r\n                WorkflowProcessService.getWorkflowProcess(workstation).registerWorkstation(workstation);\r\n            }\r\n        }\r\n    \r\n        public PhysicalWorkstation getWorkstation() {\r\n            return workstation;\r\n        }\r\n    }\r\n\r\nThe JSON being mapped:\r\n\r\n    {&quot;id&quot;:2,&quot;socket&quot;:&quot;0c317829-69bf-43d6-b598-7c0c550635bb&quot;,&quot;type&quot;:&quot;getDashboard&quot;,&quot;data&quot;:{&quot;workstationUuid&quot;:&quot;ddec1caa-a97f-4922-833f-632da07ffc11&quot;},&quot;reply&quot;:true}\r\n\r\n\r\n**WorkstationDashboard.java**\r\n\r\n    public class WorkstationDashboard {\r\n        private HashMap&lt;String, Object&gt; queue = new HashMap&lt;String, Object&gt;();\r\n    \r\n        private LinkedBlockingDeque&lt;JobSetEntity&gt; currentWork;\r\n    \r\n        public WorkstationDashboard() {\r\n            queue.put(&quot;size&quot;, 0);\r\n        }\r\n    \r\n        public WorkstationDashboard(Workstation workstation) {\r\n            fromWorkstation(workstation);\r\n        }\r\n    \r\n        /* Populate dashboard data from a workstation */\r\n        public void fromWorkstation(Workstation workstation) {\r\n            WorkflowProcess workflowProcess = WorkflowProcessService.getWorkflowProcess(workstation);\r\n    \r\n            setCurrentWork(workstation.getCurrentWork());\r\n            setQueueSize(workflowProcess.getQueue().size());\r\n        }\r\n    \r\n        public void setQueueSize(Integer queueSize) {\r\n            queue.put(&quot;size&quot;, queueSize);\r\n        }\r\n    \r\n        public HashMap&lt;String, Object&gt; getQueue() {\r\n            return queue;\r\n        }\r\n    \r\n        public LinkedBlockingDeque&lt;JobSetEntity&gt; getCurrentWork() {\r\n            return currentWork;\r\n        }\r\n    \r\n        public void setCurrentWork(LinkedBlockingDeque&lt;JobSetEntity&gt; currentWork) {\r\n            this.currentWork = currentWork;\r\n        }\r\n    }\r\n\r\nI&#39;m at quite a loss as to how to begin debugging this.  The stack trace never touches my application.  I&#39;m using `Maven -&gt; Package` to deploy my .jar and executing it with `java -jar /path-to-jar.jar`\r\n\r\n**Update:** To prevent this question from being incredibly long, I&#39;ve included my pom.xml here: http://pastebin.com/1ZUtKCfE.  I believe this is a dependency issue since the error only occurs on my deployable jar and not on my local PC.","title":"Can not deserialize instance of java.lang.String out of START_OBJECT token","body":"<p>I'm running into an issue where my deployable jar hits an exception that doesn't happen when I run this locally in IntelliJ.  </p>\n\n<p><strong>Exception:</strong></p>\n\n<pre><code>Receiving an event {id=2, socket=0c317829-69bf-43d6-b598-7c0c550635bb, type=getDashboard, data={workstationUuid=ddec1caa-a97f-4922-833f-632da07ffc11}, reply=true}\nFiring getDashboard event to Socket#0c317829-69bf-43d6-b598-7c0c550635bb\nFailed invoking AtmosphereFramework.doCometSupport()\njava.lang.IllegalArgumentException: Can not deserialize instance of java.lang.String out of START_OBJECT token\n at [Source: N/A; line: -1, column: -1]\n        at org.codehaus.jackson.map.ObjectMapper._convert(ObjectMapper.java:2502)\n        at org.codehaus.jackson.map.ObjectMapper.convertValue(ObjectMapper.java:2468)\n        at com.github.flowersinthesand.portal.support.DefaultDispatcher$DefaultHandler$DataParam.resolve(DefaultDispatcher.java:270)\n        at com.github.flowersinthesand.portal.support.DefaultDispatcher$DefaultHandler.handle(DefaultDispatcher.java:204)\n        at com.github.flowersinthesand.portal.support.DefaultDispatcher.fire(DefaultDispatcher.java:107)\n        at com.github.flowersinthesand.portal.support.AbstractSocketFactory.fire(AbstractSocketFactory.java:73)\n        at com.github.flowersinthesand.portal.atmosphere.AtmosphereSocketFactory.onRequest(AtmosphereSocketFactory.java:75)\n        at org.atmosphere.cpr.AsynchronousProcessor.action(AsynchronousProcessor.java:256)\n        at org.atmosphere.cpr.AsynchronousProcessor.suspended(AsynchronousProcessor.java:166)\n        at org.atmosphere.container.Grizzly2WebSocketSupport.service(Grizzly2WebSocketSupport.java:75)\n        at org.atmosphere.cpr.AtmosphereFramework.doCometSupport(AtmosphereFramework.java:1342)\n        at org.atmosphere.websocket.DefaultWebSocketProcessor.dispatch(DefaultWebSocketProcessor.java:219)\n        at org.atmosphere.websocket.DefaultWebSocketProcessor$2.run(DefaultWebSocketProcessor.java:183)\n        at org.atmosphere.util.VoidExecutorService.execute(VoidExecutorService.java:101)\n        at org.atmosphere.websocket.DefaultWebSocketProcessor.dispatch(DefaultWebSocketProcessor.java:178)\n        at org.atmosphere.websocket.DefaultWebSocketProcessor.invokeWebSocketProtocol(DefaultWebSocketProcessor.java:167)\n        at org.atmosphere.container.Grizzly2WebSocketSupport$Grizzly2WebSocketApplication.onMessage(Grizzly2WebSocketSupport.java:171)\n        at org.glassfish.grizzly.websockets.DefaultWebSocket.onMessage(DefaultWebSocket.java:164)\n        at org.glassfish.grizzly.websockets.frametypes.TextFrameType.respond(TextFrameType.java:70)\n        at org.glassfish.grizzly.websockets.DataFrame.respond(DataFrame.java:104)\n        at org.glassfish.grizzly.websockets.WebSocketFilter.handleRead(WebSocketFilter.java:221)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:265)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:134)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:78)\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:770)\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:115)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:55)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:135)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:551)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:531)\n        at java.lang.Thread.run(Thread.java:781)\nCaused by: org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\n at [Source: N/A; line: -1, column: -1]\n        at org.codehaus.jackson.map.JsonMappingException.from(JsonMappingException.java:163)\n        at org.codehaus.jackson.map.deser.StdDeserializationContext.mappingException(StdDeserializationContext.java:219)\n        at org.codehaus.jackson.map.deser.std.StringDeserializer.deserialize(StringDeserializer.java:44)\n        at org.codehaus.jackson.map.deser.std.StringDeserializer.deserialize(StringDeserializer.java:13)\n        at org.codehaus.jackson.map.ObjectMapper._readValue(ObjectMapper.java:2704)\n        at org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1315)\n        at org.codehaus.jackson.map.ObjectMapper._convert(ObjectMapper.java:2498)\n        ... 34 more\njava.lang.IllegalArgumentException: Can not deserialize instance of java.lang.String out of START_OBJECT token\n at [Source: N/A; line: -1, column: -1] Status 500 Message Server Error\n</code></pre>\n\n<p><strong>Socket Handler</strong></p>\n\n<p>I believe the exception is occurring when the JSON is parsed into a WorkstationRequest object because of the below item.  This is the socket handler:</p>\n\n<pre><code>@On\n@Reply\n@JsonView({Views.WorkstationView.class})\npublic WorkstationDashboard getDashboard(@Data WorkstationRequest request) {\n    return new WorkstationDashboard(request.getWorkstation());\n}\n</code></pre>\n\n<p>The object the socket handler maps to:</p>\n\n<pre><code>public class WorkstationRequest {\n\n    /* Class to instantiate if this workstation does not already exist */\n    private Class&lt;? extends Workstation&gt; workstationClass;\n\n    private WorkflowProcess workflowProcess;\n\n    private PhysicalWorkstation workstation;\n\n    WorkstationService workstationService;\n\n    /**\n     * @param workstationClass Required so when jackson maps the UUID we can auto fetch the class\n     */\n    public WorkstationRequest(Class&lt;? extends Workstation&gt; workstationClass) {\n        this.workstationClass = workstationClass;\n        workstationService = (WorkstationService) ApplicationContextProvider.getApplicationContext().getBean(\"workstationService\");\n    }\n\n    /* Set the workstation based on UUID.  Will register the workstation if it's new */\n    @JsonProperty(\"workstationUuid\")\n    public void setWorkstation(String workstationUUID) {\n        workstation = (PhysicalWorkstation)WorkstationService.getWorkstation(workstationUUID);\n\n        //setup new workstation\n        if (workstation == null) {\n            WorkstationEntity workstationEntity = workstationService.findByUUID(workstationUUID);\n            workstation = (PhysicalWorkstation)Workstation.factory(workstationEntity, workstationClass);\n\n            //register with queue\n            WorkflowProcessService.getWorkflowProcess(workstation).registerWorkstation(workstation);\n        }\n    }\n\n    public PhysicalWorkstation getWorkstation() {\n        return workstation;\n    }\n}\n</code></pre>\n\n<p>The JSON being mapped:</p>\n\n<pre><code>{\"id\":2,\"socket\":\"0c317829-69bf-43d6-b598-7c0c550635bb\",\"type\":\"getDashboard\",\"data\":{\"workstationUuid\":\"ddec1caa-a97f-4922-833f-632da07ffc11\"},\"reply\":true}\n</code></pre>\n\n<p><strong>WorkstationDashboard.java</strong></p>\n\n<pre><code>public class WorkstationDashboard {\n    private HashMap&lt;String, Object&gt; queue = new HashMap&lt;String, Object&gt;();\n\n    private LinkedBlockingDeque&lt;JobSetEntity&gt; currentWork;\n\n    public WorkstationDashboard() {\n        queue.put(\"size\", 0);\n    }\n\n    public WorkstationDashboard(Workstation workstation) {\n        fromWorkstation(workstation);\n    }\n\n    /* Populate dashboard data from a workstation */\n    public void fromWorkstation(Workstation workstation) {\n        WorkflowProcess workflowProcess = WorkflowProcessService.getWorkflowProcess(workstation);\n\n        setCurrentWork(workstation.getCurrentWork());\n        setQueueSize(workflowProcess.getQueue().size());\n    }\n\n    public void setQueueSize(Integer queueSize) {\n        queue.put(\"size\", queueSize);\n    }\n\n    public HashMap&lt;String, Object&gt; getQueue() {\n        return queue;\n    }\n\n    public LinkedBlockingDeque&lt;JobSetEntity&gt; getCurrentWork() {\n        return currentWork;\n    }\n\n    public void setCurrentWork(LinkedBlockingDeque&lt;JobSetEntity&gt; currentWork) {\n        this.currentWork = currentWork;\n    }\n}\n</code></pre>\n\n<p>I'm at quite a loss as to how to begin debugging this.  The stack trace never touches my application.  I'm using <code>Maven -&gt; Package</code> to deploy my .jar and executing it with <code>java -jar /path-to-jar.jar</code></p>\n\n<p><strong>Update:</strong> To prevent this question from being incredibly long, I've included my pom.xml here: <a href=\"http://pastebin.com/1ZUtKCfE\">http://pastebin.com/1ZUtKCfE</a>.  I believe this is a dependency issue since the error only occurs on my deployable jar and not on my local PC.</p>\n"},{"tags":["java","spring-boot","microservices","httprequest","optional-parameters"],"comments":[{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":1,"creation_date":1638635869,"post_id":70227504,"comment_id":124142850,"body_markdown":"I would be helpful to post the Room entity class and the RoomRepository interface as well in your question.","body":"I would be helpful to post the Room entity class and the RoomRepository interface as well in your question."},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1638637234,"post_id":70227504,"comment_id":124143164,"body_markdown":"Thanks! Is your question about `roomRepository.findByRoomChar(capacity, isUnderMaintenance, equipment)` asking how to use variable arguments to a spring-data repository method? or is it about how to make the actual request from the client microservice, using variable arguments on this `ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(&quot;http://localhost:8082/room/search/byRoomChar?capacity=&quot; + capacity + &quot;&amp;isUnderMaintenance=&quot; + isUnderMaintenance + &quot;&amp;equipment=&quot; + equipment, Room[].class);`?","body":"Thanks! Is your question about <code>roomRepository.findByRoomChar(capacity, isUnderMaintenance, equipment)</code> asking how to use variable arguments to a spring-data repository method? or is it about how to make the actual request from the client microservice, using variable arguments on this <code>ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(&quot;http:&#47;&#47;localhost:8082&#47;room&#47;search&zwnj;&#8203;&#47;byRoomChar?capacity&zwnj;&#8203;=&quot; + capacity + &quot;&amp;isUnderMaintenance=&quot; + isUnderMaintenance + &quot;&amp;equipment=&quot; + equipment, Room[].class);</code>?"},{"owner":{"account_id":19414711,"reputation":127,"user_id":14198462,"display_name":"Yuji Reda"},"score":0,"creation_date":1638644352,"post_id":70227504,"comment_id":124144755,"body_markdown":"@GeorgiosSyngouroglou It was about how to make the actual request from the client microservice. Petr Aleksandrov answer seems appropriate but I get an &quot;uri not absolute&quot; exception :(","body":"@GeorgiosSyngouroglou It was about how to make the actual request from the client microservice. Petr Aleksandrov answer seems appropriate but I get an &quot;uri not absolute&quot; exception :("},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":1,"creation_date":1638654450,"post_id":70227504,"comment_id":124146896,"body_markdown":"Looking to this so answer `https://stackoverflow.com/questions/14848877/uri-not-absolute-exception-getting-while-calling-restful-webservice`, you may try this `ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(URLEncoder.encode(uri), Room[].class);`","body":"Looking to this so answer <code>https:&#47;&#47;stackoverflow.com&#47;questions&#47;14848877&#47;uri-not-absolut&zwnj;&#8203;e-exception-getting-&zwnj;&#8203;while-calling-restfu&zwnj;&#8203;l-webservice</code>, you may try this <code>ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(URLEncoder.encode(uri), Room[].class);</code>"},{"owner":{"account_id":19414711,"reputation":127,"user_id":14198462,"display_name":"Yuji Reda"},"score":0,"creation_date":1638691942,"post_id":70227504,"comment_id":124151452,"body_markdown":"@GeorgiosSyngouroglou now my searches return only empty lists. But it&#39;s fine! The assignment was for tomorrow and my messy solution below works. I didn&#39;t know url builders so I will study from the base since they seem quite useful. Thank you for the help Georgios!","body":"@GeorgiosSyngouroglou now my searches return only empty lists. But it&#39;s fine! The assignment was for tomorrow and my messy solution below works. I didn&#39;t know url builders so I will study from the base since they seem quite useful. Thank you for the help Georgios!"}],"answers":[{"tags":[],"owner":{"account_id":4241736,"reputation":13,"user_id":3471408,"accept_rate":100,"display_name":"KeepCoding"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638637850,"creation_date":1638637850,"answer_id":70227777,"question_id":70227504,"body_markdown":"This is because the URI string being built when the parameters are null is like the follwing: \r\n\r\n    http://localhost:8082/room/search/byRoomChar?isUnderMaintenance=null\r\n\r\nSince the &quot;null&quot; is being appended as a value of a parameter, the room server fails trying to deserialize it to a different type.\r\nFor example in the error message you gave means that the &quot;isUnderMaintenance&quot; should be boolean but is &quot;null&quot; string.\r\n\r\nTo solve this problem, I recommend using the `UriComponentBuilder`.\r\n\r\n    @Test\r\n    fun constructUriWithQueryParameter() {\r\n        val uri = UriComponentsBuilder.newInstance()\r\n            .scheme(&quot;http&quot;)\r\n            .host(&quot;localhost&quot;)\r\n            .port(8082)\r\n            .path(&quot;/room/search/byRoomChar&quot;)\r\n            .query(&quot;capacity={capa}&quot;)\r\n            .query(&quot;isUnderMaintenance={isUnderMaintenance}&quot;)\r\n            .query(&quot;equipment={equip}&quot;)\r\n            .buildAndExpand(null, null, null)\r\n            .toUriString()\r\n        assertEquals(\r\n            &quot;http://localhost:8082/room/search/byRoomChar \r\n                 capacity=&amp;isUnderMaintenance=&amp;equipment=&quot;,\r\n            uri\r\n        )\r\n    }","title":"Microservices communication with optional parameters requests","body":"<p>This is because the URI string being built when the parameters are null is like the follwing:</p>\n<pre><code>http://localhost:8082/room/search/byRoomChar?isUnderMaintenance=null\n</code></pre>\n<p>Since the &quot;null&quot; is being appended as a value of a parameter, the room server fails trying to deserialize it to a different type.\nFor example in the error message you gave means that the &quot;isUnderMaintenance&quot; should be boolean but is &quot;null&quot; string.</p>\n<p>To solve this problem, I recommend using the <code>UriComponentBuilder</code>.</p>\n<pre><code>@Test\nfun constructUriWithQueryParameter() {\n    val uri = UriComponentsBuilder.newInstance()\n        .scheme(&quot;http&quot;)\n        .host(&quot;localhost&quot;)\n        .port(8082)\n        .path(&quot;/room/search/byRoomChar&quot;)\n        .query(&quot;capacity={capa}&quot;)\n        .query(&quot;isUnderMaintenance={isUnderMaintenance}&quot;)\n        .query(&quot;equipment={equip}&quot;)\n        .buildAndExpand(null, null, null)\n        .toUriString()\n    assertEquals(\n        &quot;http://localhost:8082/room/search/byRoomChar \n             capacity=&amp;isUnderMaintenance=&amp;equipment=&quot;,\n        uri\n    )\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638638112,"creation_date":1638638112,"answer_id":70227812,"question_id":70227504,"body_markdown":"`UriComponentsBuilder` can help with URI construction. It correctly handles nullable query parameters. \r\n```java\r\nString uri = UriComponentsBuilder.fromHttpUrl(&quot;http://localhost:8082/room/search/byRoomChar&quot;)\r\n            .queryParam(&quot;capacity&quot;, capacity)\r\n            .queryParam(&quot;isUnderMaintenance&quot;, isUnderMaintenance)\r\n            .queryParam(&quot;equipment&quot;, equipment)\r\n            .encode().toUriString();\r\nResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(uri, Room[].class);\r\n```\r\n\r\n\r\nAlso, following answer can be helpful: https://stackoverflow.com/a/25434451/5990117\r\n\r\n","title":"Microservices communication with optional parameters requests","body":"<p><code>UriComponentsBuilder</code> can help with URI construction. It correctly handles nullable query parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String uri = UriComponentsBuilder.fromHttpUrl(&quot;http://localhost:8082/room/search/byRoomChar&quot;)\n            .queryParam(&quot;capacity&quot;, capacity)\n            .queryParam(&quot;isUnderMaintenance&quot;, isUnderMaintenance)\n            .queryParam(&quot;equipment&quot;, equipment)\n            .encode().toUriString();\nResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(uri, Room[].class);\n</code></pre>\n<p>Also, following answer can be helpful: <a href=\"https://stackoverflow.com/a/25434451/5990117\">https://stackoverflow.com/a/25434451/5990117</a></p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638638296,"creation_date":1638638296,"answer_id":70227840,"question_id":70227504,"body_markdown":"If the parameters are not mandatory in your Room API but you still use them in your call to the Database either you have sensible defaults if they are actually not provided by the user. Something along the following lines (in this case you actually don&#39;t need to explicitly define `required = false`):\r\n```java\r\n@GetMapping(path = &quot;/search/byRoomChar&quot;)\r\npublic @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(defaultValue = &quot;10&quot;) Integer capacity,\r\n                                           @RequestParam(defaultValue = &quot;false&quot;) Boolean isUnderMaintenance,\r\n                                           @RequestParam(defaultValue = &quot;default-equipment&quot;) String equipment) {\r\n    return roomRepository.findByRoomChar(capacity, isUnderMaintenance, equipment);\r\n}\r\n```\r\n\r\nOr you define a Repository method with no additional parameters, but this might be trickier since you basically need all the possibilities of null and non-null parameters.","title":"Microservices communication with optional parameters requests","body":"<p>If the parameters are not mandatory in your Room API but you still use them in your call to the Database either you have sensible defaults if they are actually not provided by the user. Something along the following lines (in this case you actually don't need to explicitly define <code>required = false</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/search/byRoomChar&quot;)\npublic @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(defaultValue = &quot;10&quot;) Integer capacity,\n                                           @RequestParam(defaultValue = &quot;false&quot;) Boolean isUnderMaintenance,\n                                           @RequestParam(defaultValue = &quot;default-equipment&quot;) String equipment) {\n    return roomRepository.findByRoomChar(capacity, isUnderMaintenance, equipment);\n}\n</code></pre>\n<p>Or you define a Repository method with no additional parameters, but this might be trickier since you basically need all the possibilities of null and non-null parameters.</p>\n"},{"tags":[],"owner":{"account_id":19414711,"reputation":127,"user_id":14198462,"display_name":"Yuji Reda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638644203,"creation_date":1638644203,"answer_id":70228578,"question_id":70227504,"body_markdown":"I tried Petr Aleksandrov answer. Looks very clean and it is most probably the way to go, but I was getting an &quot;not absolute uri&quot; exception.\r\n\r\nDidn&#39;t have time to look for answers so I created my workaround code. Messy but it worked. \r\n\r\n```\r\n    @GetMapping(path = &quot;/search/byRoomChar&quot;)\r\n    public @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(required = false) Integer capacity,\r\n                                               @RequestParam(required = false) Boolean isUnderMaintenance,\r\n                                               @RequestParam(required = false) String equipment) {\r\n        if(capacity == null &amp;&amp; isUnderMaintenance == null &amp;&amp; equipment == null) {\r\n            ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(&quot;http://localhost:8082/room/search/byRoomChar&quot;, Room[].class);\r\n            return Arrays.asList(roomsResponse.getBody());\r\n        }\r\n        String url = &quot;http://localhost:8082/room/search/byRoomChar?&quot;;\r\n        if(capacity != null) {\r\n            url += &quot;capacity=&quot; + capacity + &quot;&amp;&quot;;\r\n        }\r\n        if(isUnderMaintenance != null) {\r\n            url += &quot;isUnderMaintenance=&quot; + isUnderMaintenance + &quot;&quot;;\r\n        }\r\n        if(equipment != null) {\r\n            url += &quot;equipment=&quot; + equipment;\r\n        }\r\n        ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(url, Room[].class);\r\n        return Arrays.asList(roomsResponse.getBody());\r\n\r\n    }\r\n```","title":"Microservices communication with optional parameters requests","body":"<p>I tried Petr Aleksandrov answer. Looks very clean and it is most probably the way to go, but I was getting an &quot;not absolute uri&quot; exception.</p>\n<p>Didn't have time to look for answers so I created my workaround code. Messy but it worked.</p>\n<pre><code>    @GetMapping(path = &quot;/search/byRoomChar&quot;)\n    public @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(required = false) Integer capacity,\n                                               @RequestParam(required = false) Boolean isUnderMaintenance,\n                                               @RequestParam(required = false) String equipment) {\n        if(capacity == null &amp;&amp; isUnderMaintenance == null &amp;&amp; equipment == null) {\n            ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(&quot;http://localhost:8082/room/search/byRoomChar&quot;, Room[].class);\n            return Arrays.asList(roomsResponse.getBody());\n        }\n        String url = &quot;http://localhost:8082/room/search/byRoomChar?&quot;;\n        if(capacity != null) {\n            url += &quot;capacity=&quot; + capacity + &quot;&amp;&quot;;\n        }\n        if(isUnderMaintenance != null) {\n            url += &quot;isUnderMaintenance=&quot; + isUnderMaintenance + &quot;&quot;;\n        }\n        if(equipment != null) {\n            url += &quot;equipment=&quot; + equipment;\n        }\n        ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(url, Room[].class);\n        return Arrays.asList(roomsResponse.getBody());\n\n    }\n</code></pre>\n"}],"owner":{"account_id":19414711,"reputation":127,"user_id":14198462,"display_name":"Yuji Reda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70227812,"answer_count":4,"score":0,"last_activity_date":1638644203,"creation_date":1638635432,"question_id":70227504,"body_markdown":"I have a room service which returns detail for rooms when requesting http://localhost:8082/room/search/byRoomChar\r\n\r\n```\r\n    @GetMapping(path = &quot;/search/byRoomChar&quot;)\r\n    public @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(required = false) Integer capacity,\r\n                                               @RequestParam(required = false) Boolean isUnderMaintenance,\r\n                                               @RequestParam(required = false) String equipment) {\r\n        return roomRepository.findByRoomChar(capacity, isUnderMaintenance, equipment);\r\n    }\r\n```\r\n\r\nNow I want to request this @GetMapping from the booking service since this is the application gateway that users are going to interact with using the http://localhost:8081/booking/search/byRoomChar.\r\n\r\n```\r\n    @GetMapping(path = &quot;/search/byRoomChar&quot;)\r\n    public @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(required = false) Integer capacity,\r\n                                               @RequestParam(required = false) Boolean isUnderMaintenance,\r\n                                               @RequestParam(required = false) String equipment) {\r\n        ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(&quot;http://localhost:8082/room/search/byRoomChar?capacity=&quot; + capacity + &quot;&amp;isUnderMaintenance=&quot; +\r\n            isUnderMaintenance + &quot;&amp;equipment=&quot; + equipment, Room[].class);\r\n        return Arrays.asList(roomsResponse.getBody());\r\n    }\r\n```\r\nRoom entity code:\r\n```\r\npackage nl.tudelft.sem.template.entities;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.EmbeddedId;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;Room&quot;)\r\npublic class Room {\r\n    @EmbeddedId\r\n    private RoomId id;\r\n\r\n    @Column(name = &quot;capacity&quot;)\r\n    private int capacity;\r\n\r\n    @Column(name = &quot;numberOfPeople&quot;)\r\n    private int numberOfPeople;\r\n\r\n    @Column(name = &quot;isUnderMaintenance&quot;, nullable = false)\r\n    private boolean isUnderMaintenance;\r\n\r\n    @Column(name = &quot;equipment&quot;)\r\n    private String equipment;\r\n\r\n    public Room() {\r\n    }\r\n\r\n    public Room(long roomNumber, long buildingNumber, int capacity,\r\n                int numberOfPeople, boolean isUnderMaintenance, String equipment) {\r\n        RoomId id = new RoomId(roomNumber, buildingNumber);\r\n        this.id = id;\r\n        this.capacity = capacity;\r\n        this.numberOfPeople = numberOfPeople;\r\n        this.isUnderMaintenance = isUnderMaintenance;\r\n        this.equipment = equipment;\r\n    }\r\n\r\n    public RoomId getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(RoomId id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getCapacity() {\r\n        return capacity;\r\n    }\r\n\r\n    public void setCapacity(int capacity) {\r\n        this.capacity = capacity;\r\n    }\r\n\r\n    public int getNumberOfPeople() {\r\n        return numberOfPeople;\r\n    }\r\n\r\n    public void setNumberOfPeople(int numberOfPeople) {\r\n        this.numberOfPeople = numberOfPeople;\r\n    }\r\n\r\n    public boolean getIsUnderMaintenance() {\r\n        return isUnderMaintenance;\r\n    }\r\n\r\n    public void setUnderMaintenance(boolean underMaintenance) {\r\n        isUnderMaintenance = underMaintenance;\r\n    }\r\n\r\n    public String getEquipment() {\r\n        return equipment;\r\n    }\r\n\r\n    public void setEquipment(String equipment) {\r\n        this.equipment = equipment;\r\n    }\r\n}\r\n\r\n```\r\n\r\nRoom repository code:\r\n```\r\npackage nl.tudelft.sem.template.repositories;\r\n\r\nimport java.util.List;\r\nimport nl.tudelft.sem.template.entities.Room;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface RoomRepository extends JpaRepository&lt;Room, Integer&gt; {\r\n    @Query(&quot;SELECT r FROM Room r WHERE (:number is null or r.id.number = :number)&quot;\r\n        + &quot;and r.id.buildingNumber = :buildingNumber&quot;)\r\n    List&lt;Room&gt; findByRoomNum(@Param(&quot;number&quot;) Long number,\r\n                             @Param(&quot;buildingNumber&quot;) Long buildingNumber);\r\n\r\n    @Query(&quot;SELECT r FROM Room r WHERE (:capacity is null or r.capacity = :capacity) and&quot;\r\n        + &quot;(:isUnderMaintenance is null or r.isUnderMaintenance = :isUnderMaintenance) and&quot;\r\n        + &quot;(:equipment is null or r.equipment = :equipment)&quot;)\r\n    List&lt;Room&gt; findByRoomChar(@Param(&quot;capacity&quot;) Integer capacity,\r\n                              @Param(&quot;isUnderMaintenance&quot;) Boolean isUnderMaintenance,\r\n                              @Param(&quot;equipment&quot;) String equipment);\r\n\r\n}\r\n\r\n```\r\n\r\nHowever, this does not work because when omitting parameters when calling the getmapping from the booking service all parameter values are turned into null because of the required=false. And this are converted into Strings inside the hard coded url.\r\n```\r\n2021-12-04 17:13:03.883  WARN 16920 --- [nio-8082-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Boolean&#39;; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [null]]\r\n```\r\n\r\nHow can I make a get http request with optional parameters from within the code?\r\n","title":"Microservices communication with optional parameters requests","body":"<p>I have a room service which returns detail for rooms when requesting http://localhost:8082/room/search/byRoomChar</p>\n<pre><code>    @GetMapping(path = &quot;/search/byRoomChar&quot;)\n    public @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(required = false) Integer capacity,\n                                               @RequestParam(required = false) Boolean isUnderMaintenance,\n                                               @RequestParam(required = false) String equipment) {\n        return roomRepository.findByRoomChar(capacity, isUnderMaintenance, equipment);\n    }\n</code></pre>\n<p>Now I want to request this @GetMapping from the booking service since this is the application gateway that users are going to interact with using the http://localhost:8081/booking/search/byRoomChar.</p>\n<pre><code>    @GetMapping(path = &quot;/search/byRoomChar&quot;)\n    public @ResponseBody List&lt;Room&gt; byCapacity(@RequestParam(required = false) Integer capacity,\n                                               @RequestParam(required = false) Boolean isUnderMaintenance,\n                                               @RequestParam(required = false) String equipment) {\n        ResponseEntity&lt;Room[]&gt; roomsResponse = restTemplate.getForEntity(&quot;http://localhost:8082/room/search/byRoomChar?capacity=&quot; + capacity + &quot;&amp;isUnderMaintenance=&quot; +\n            isUnderMaintenance + &quot;&amp;equipment=&quot; + equipment, Room[].class);\n        return Arrays.asList(roomsResponse.getBody());\n    }\n</code></pre>\n<p>Room entity code:</p>\n<pre><code>package nl.tudelft.sem.template.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;Room&quot;)\npublic class Room {\n    @EmbeddedId\n    private RoomId id;\n\n    @Column(name = &quot;capacity&quot;)\n    private int capacity;\n\n    @Column(name = &quot;numberOfPeople&quot;)\n    private int numberOfPeople;\n\n    @Column(name = &quot;isUnderMaintenance&quot;, nullable = false)\n    private boolean isUnderMaintenance;\n\n    @Column(name = &quot;equipment&quot;)\n    private String equipment;\n\n    public Room() {\n    }\n\n    public Room(long roomNumber, long buildingNumber, int capacity,\n                int numberOfPeople, boolean isUnderMaintenance, String equipment) {\n        RoomId id = new RoomId(roomNumber, buildingNumber);\n        this.id = id;\n        this.capacity = capacity;\n        this.numberOfPeople = numberOfPeople;\n        this.isUnderMaintenance = isUnderMaintenance;\n        this.equipment = equipment;\n    }\n\n    public RoomId getId() {\n        return id;\n    }\n\n    public void setId(RoomId id) {\n        this.id = id;\n    }\n\n    public int getCapacity() {\n        return capacity;\n    }\n\n    public void setCapacity(int capacity) {\n        this.capacity = capacity;\n    }\n\n    public int getNumberOfPeople() {\n        return numberOfPeople;\n    }\n\n    public void setNumberOfPeople(int numberOfPeople) {\n        this.numberOfPeople = numberOfPeople;\n    }\n\n    public boolean getIsUnderMaintenance() {\n        return isUnderMaintenance;\n    }\n\n    public void setUnderMaintenance(boolean underMaintenance) {\n        isUnderMaintenance = underMaintenance;\n    }\n\n    public String getEquipment() {\n        return equipment;\n    }\n\n    public void setEquipment(String equipment) {\n        this.equipment = equipment;\n    }\n}\n\n</code></pre>\n<p>Room repository code:</p>\n<pre><code>package nl.tudelft.sem.template.repositories;\n\nimport java.util.List;\nimport nl.tudelft.sem.template.entities.Room;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface RoomRepository extends JpaRepository&lt;Room, Integer&gt; {\n    @Query(&quot;SELECT r FROM Room r WHERE (:number is null or r.id.number = :number)&quot;\n        + &quot;and r.id.buildingNumber = :buildingNumber&quot;)\n    List&lt;Room&gt; findByRoomNum(@Param(&quot;number&quot;) Long number,\n                             @Param(&quot;buildingNumber&quot;) Long buildingNumber);\n\n    @Query(&quot;SELECT r FROM Room r WHERE (:capacity is null or r.capacity = :capacity) and&quot;\n        + &quot;(:isUnderMaintenance is null or r.isUnderMaintenance = :isUnderMaintenance) and&quot;\n        + &quot;(:equipment is null or r.equipment = :equipment)&quot;)\n    List&lt;Room&gt; findByRoomChar(@Param(&quot;capacity&quot;) Integer capacity,\n                              @Param(&quot;isUnderMaintenance&quot;) Boolean isUnderMaintenance,\n                              @Param(&quot;equipment&quot;) String equipment);\n\n}\n\n</code></pre>\n<p>However, this does not work because when omitting parameters when calling the getmapping from the booking service all parameter values are turned into null because of the required=false. And this are converted into Strings inside the hard coded url.</p>\n<pre><code>2021-12-04 17:13:03.883  WARN 16920 --- [nio-8082-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [null]]\n</code></pre>\n<p>How can I make a get http request with optional parameters from within the code?</p>\n"},{"tags":["java","sockets","client-server"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1638630191,"post_id":70224281,"comment_id":124141558,"body_markdown":"1) your writeUTF and readUTF calls don&#39;t match up in the client and server. In particular, when you `outputToClient.writeUTF(&quot;Please enter your credentials below\\n&quot;);` in the server, this is written out in the client just before you enter the username. Thus your username is read in after the &quot;Credentials&quot; prompt, and the password is read in after the &quot;Username&quot; prompt.","body":"1) your writeUTF and readUTF calls don&#39;t match up in the client and server. In particular, when you <code>outputToClient.writeUTF(&quot;Please enter your credentials below\\n&quot;);</code> in the server, this is written out in the client just before you enter the username. Thus your username is read in after the &quot;Credentials&quot; prompt, and the password is read in after the &quot;Username&quot; prompt."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1638630194,"post_id":70224281,"comment_id":124141560,"body_markdown":"2) Your `scan.nextInt()` followed by `scan.nextLine()` causes an empty string to be read in by `scan.nextLine()`. This is because the newline you enter to terminate the integer is not discarded, and causes the subsequent nextLine() to return immediately with an empty string. The simplest solution is to call `scan.next()` immediately after `scan.nextInt()`.","body":"2) Your <code>scan.nextInt()</code> followed by <code>scan.nextLine()</code> causes an empty string to be read in by <code>scan.nextLine()</code>. This is because the newline you enter to terminate the integer is not discarded, and causes the subsequent nextLine() to return immediately with an empty string. The simplest solution is to call <code>scan.next()</code> immediately after <code>scan.nextInt()</code>."},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1638631470,"post_id":70224281,"comment_id":124141811,"body_markdown":"@PresidentJamesK.Polk would you mind showing how the edited code will be? I didn&#39;t really get how to do it instead","body":"@PresidentJamesK.Polk would you mind showing how the edited code will be? I didn&#39;t really get how to do it instead"},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1638643938,"post_id":70224281,"comment_id":124144664,"body_markdown":"@PresidentJamesK.Polk I updated the post and fix 2 includes what I understood from your 2 comments","body":"@PresidentJamesK.Polk I updated the post and fix 2 includes what I understood from your 2 comments"}],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638643912,"creation_date":1638608452,"question_id":70224281,"body_markdown":"UPDATE:\r\nI tried hardcoding the password and letting the user be input, it just skipped the input part like this:\r\n\r\n```\r\nPlease press one to sign in or two to sign up if you haven&#39;t already1\r\nPlease enter your credentials below\r\nUsername:\r\nPassword:\r\nYour username and/or password are incorrect, access has been denied\r\n```\r\n\r\nUPDATE 2:\r\nI tried the following 2 fixes and non worked:\r\n\r\nFix 1 client\r\n```\r\n\t            System.out.println(inputFromServer.readUTF());\r\n\t\t\t\tint choice = scan.nextInt();\r\n\t\t\t\toutputToServer.writeInt(choice);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tString username = scan.nextLine();\r\n\t\t\t\toutputToServer.writeUTF(username);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tscan.next(); \r\n\t\t\t\tString password = scan.nextLine();\r\n\t\t\t\toutputToServer.writeUTF(password);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n```\r\nfix 1 server:\r\n```\r\noutputToClient.writeUTF(&quot;Please enter your username&quot;);\r\n                        Username = inputFromClient.readUTF();\r\n                        outputToClient.writeUTF(&quot;Password:&quot;);\r\n                        inputFromClient.readUTF();\r\n                        Password = inputFromClient.readUTF();\r\n```\r\n\r\nfix 2 client:\r\n\r\n```\r\n\t            System.out.println(inputFromServer.readUTF());\r\n\t\t\t    int choice = scan.nextInt();\r\n\t\t\t\tscan.next();\r\n\t\t\t\toutputToServer.writeInt(choice);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tString username = scan.nextLine();\r\n\t\t\t\toutputToServer.writeUTF(username);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tString password = scan.nextLine();\r\n\t\t\t\toutputToServer.writeUTF(password);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n```\r\nfix 2 server:\r\n\r\n```\r\n\toutputToClient.writeUTF(&quot;Please enter your username&quot;);\r\n                        Username = inputFromClient.readUTF();\r\n                        outputToClient.writeUTF(&quot;Password:&quot;);\r\n                        inputFromClient.readUTF();\r\n                        Password = inputFromClient.readUTF();\r\n```\r\nI am writing a client-server code in Java where the client has to choose between signing in or signing up and then he needs to input his info accordingly, however, I am facing some bugs. \r\n\r\n\r\nFrom the client-side, I have the following:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\n\r\npublic class MultipleClient {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\ttry {\r\n\t\t\tScanner scan = new Scanner(System.in);\r\n\r\n\t\t\tInetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\r\n\r\n\t\t\tSocket socket = new Socket(ip, 8189);\r\n\r\n\t\t\t// Receiving input and sending output to Server\r\n\t\t\tDataInputStream inputFromServer = new DataInputStream(socket.getInputStream());\r\n\t\t\tDataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream());\r\n\r\n\t\t\twhile (true) {\r\n\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tint choice = scan.nextInt();\r\n\t\t\t\toutputToServer.writeInt(choice);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tString username = scan.nextLine();\r\n\t\t\t\toutputToServer.writeUTF(username);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t\tString password = scan.nextLine();\r\n\t\t\t\toutputToServer.writeUTF(password);\r\n\t\t\t\tSystem.out.println(inputFromServer.readUTF());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhile from the server-side, I have the following:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.text.*;\r\nimport java.util.*;\r\nimport java.net.*;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.SQLException;\r\n\r\npublic class MultipleServer {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tServerSocket serverSocket = new ServerSocket(8189);\r\n\r\n\t\t// Server keeps on receiving new Clients\r\n\t\twhile (true) {\r\n\t\t\tSocket clientSocket = null;\r\n\t\t\ttry {\r\n\t\t\t\t// ServerSocket waits for a Client to connect\r\n\t\t\t\tclientSocket = serverSocket.accept();\r\n\r\n\t\t\t\tSystem.out.println(&quot;A new client is connected : &quot; + clientSocket);\r\n\r\n\t\t\t\t// Receiving input and sending output to Client\r\n\t\t\t\tDataInputStream inputFromClient = new DataInputStream(clientSocket.getInputStream());\r\n\t\t\t\tDataOutputStream outputToClient = new DataOutputStream(clientSocket.getOutputStream());\r\n\r\n\t\t\t\tSystem.out.println(&quot;Assigning new thread for this client&quot;);\r\n\r\n\t\t\t\tSystem.out\r\n\t\t\t\t\t\t.println(&quot;-----------------------------------------------------------------------------------&quot;);\r\n\r\n\t\t\t\t// Create a new Thread object for the Client\r\n\t\t\t\tThread thread = new ClientHandler(clientSocket, inputFromClient, outputToClient);\r\n\t\t\t\tthread.start();\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tclientSocket.close();\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// ClientHandler class\r\nclass ClientHandler extends Thread {\r\n\tfinal Socket clientSocket;\r\n\tfinal DataInputStream inputFromClient;\r\n\tfinal DataOutputStream outputToClient;\r\n\r\n\t// Constructor\r\n\tpublic ClientHandler(Socket clientSocket, DataInputStream inputFromClient, DataOutputStream outputToClient) {\r\n\t\tthis.clientSocket = clientSocket;\r\n\t\tthis.inputFromClient = inputFromClient;\r\n\t\tthis.outputToClient = outputToClient;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// Variables\r\n\t\tString Username = &quot;&quot;;\r\n\t\tString Password = &quot;&quot;;\r\n\t\tint choice;\r\n\t\tString toreturn;\r\n\t\twhile (true) {\r\n\t\t\ttry {\r\n\t\t\t\t// The newInstance() call is a work around for some\r\n\t\t\t\t// broken Java implementations\r\n\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\t// handle the error\r\n\t\t\t}\r\n\r\n\t\t\tConnection conn = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconn = DriverManager.getConnection(\r\n\t\t\t\t\t\t&quot;jdbc:mysql://localhost:3306/test&quot; + &quot;?user=root&amp;password=test&quot;);\r\n\r\n\t\t\t} catch (SQLException ex) {\r\n\t\t\t\t// handle any errors\r\n\t\t\t\tSystem.out.println(&quot;SQLException: &quot; + ex.getMessage());\r\n\t\t\t\tSystem.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n\t\t\t\tSystem.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\toutputToClient.writeUTF(&quot;Please press one to sign in or two to sign up if you haven&#39;t already&quot;);\r\n\t\t\t\tchoice = inputFromClient.readInt();\r\n\r\n\t\t\t\tif (choice != 1 &amp;&amp; choice != 0) {\r\n\t\t\t\t\toutputToClient.writeUTF(&quot;Please choose one of the listed choices&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (choice == 1) {\r\n//here is where the problem is occuring\r\n\t\t\t\t\t\toutputToClient.writeUTF(&quot;Please enter your credentials below\\n&quot;);\r\n\t\t\t\t\t\toutputToClient.writeUTF(&quot;Username:&quot;);\r\n\t\t\t\t\t\tUsername = inputFromClient.readUTF();\r\n\t\t\t\t\t\toutputToClient.writeUTF(&quot;Password:&quot;);\r\n\t\t\t\t\t\tPassword = inputFromClient.readUTF();\r\n\t\t\t\t\t\tString queryoneresult = &quot;&quot;;\r\n\r\n//execution isn&#39;t reaching this part so I don&#39;t think it is relevant but I included it anyway\r\n\t\t\t\t\t\tResultSet rs = null;\r\n\r\n\t\t\t\t\t\tPreparedStatement stmt = conn\r\n\t\t\t\t\t\t\t\t.prepareStatement(&quot;SELECT COUNT(Username)\\n&quot; + &quot;  FROM Authentication\\n&quot;\r\n\t\t\t\t\t\t\t\t\t\t+ &quot; WHERE Username = ? AND\\n&quot; + &quot;       Password = ? \\n&quot; + &quot; LIMIT 0, 1&quot;);\r\n\t\t\t\t\t\tstmt.setString(1, Username);\r\n\t\t\t\t\t\tstmt.setString(2, Password);\r\n\r\n\t\t\t\t\t\trs = stmt.executeQuery();\r\n\r\n\t\t\t\t\t\tif (stmt.execute()) {\r\n\t\t\t\t\t\t\trs = stmt.getResultSet();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tResultSetMetaData rsmd = rs.getMetaData();\r\n\t\t\t\t\t\tint columnsNumber = rsmd.getColumnCount();\r\n\t\t\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\t\t\tfor (int i = 1; i &lt;= columnsNumber; i++) {\r\n\t\t\t\t\t\t\t\tif (i &gt; 1)\r\n\t\t\t\t\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t\t\t\t\tString columnValue = rs.getString(i);\r\n\t\t\t\t\t\t\t\tqueryoneresult = rs.getString(i);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (Integer.valueOf(queryoneresult) == 1) {\r\n\t\t\t\t\t\t\toutputToClient.writeUTF(&quot;Username and password have been verified, you can now proceed &quot;);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toutputToClient\r\n\t\t\t\t\t\t\t\t\t.writeUTF(&quot;Your username and/or password are incorrect, access has been denied&quot;);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMy problem is that I am getting the following output:\r\n\r\n```\r\nPlease press one to sign in or two to sign up if you haven&#39;t already\r\n1\r\nPlease enter your credentials below\r\n\r\nUsername:\r\nsergio\r\nPassword:\r\nYour username and/or password are incorrect, access has been denied\r\n```\r\nso it seems like the server is automatically getting a response for the password and proceeding like this, had executions that looked like this too:\r\n\r\n```\r\nPlease press one to sign in or two to sign up if you haven&#39;t already\r\n1\r\nPlease enter your credentials below\r\n\r\nUsername:\r\nPassword:\r\nsergio\r\nYour username and/or password are incorrect, access has been denied\r\n```\r\n\r\nAny help would be appreciated.","title":"Server is automatically taking an input from the client instead of waiting in Java","body":"<p>UPDATE:\nI tried hardcoding the password and letting the user be input, it just skipped the input part like this:</p>\n<pre><code>Please press one to sign in or two to sign up if you haven't already1\nPlease enter your credentials below\nUsername:\nPassword:\nYour username and/or password are incorrect, access has been denied\n</code></pre>\n<p>UPDATE 2:\nI tried the following 2 fixes and non worked:</p>\n<p>Fix 1 client</p>\n<pre><code>                System.out.println(inputFromServer.readUTF());\n                int choice = scan.nextInt();\n                outputToServer.writeInt(choice);\n                System.out.println(inputFromServer.readUTF());\n                String username = scan.nextLine();\n                outputToServer.writeUTF(username);\n                System.out.println(inputFromServer.readUTF());\n                scan.next(); \n                String password = scan.nextLine();\n                outputToServer.writeUTF(password);\n                System.out.println(inputFromServer.readUTF());\n</code></pre>\n<p>fix 1 server:</p>\n<pre><code>outputToClient.writeUTF(&quot;Please enter your username&quot;);\n                        Username = inputFromClient.readUTF();\n                        outputToClient.writeUTF(&quot;Password:&quot;);\n                        inputFromClient.readUTF();\n                        Password = inputFromClient.readUTF();\n</code></pre>\n<p>fix 2 client:</p>\n<pre><code>                System.out.println(inputFromServer.readUTF());\n                int choice = scan.nextInt();\n                scan.next();\n                outputToServer.writeInt(choice);\n                System.out.println(inputFromServer.readUTF());\n                String username = scan.nextLine();\n                outputToServer.writeUTF(username);\n                System.out.println(inputFromServer.readUTF());\n                String password = scan.nextLine();\n                outputToServer.writeUTF(password);\n                System.out.println(inputFromServer.readUTF());\n</code></pre>\n<p>fix 2 server:</p>\n<pre><code>    outputToClient.writeUTF(&quot;Please enter your username&quot;);\n                        Username = inputFromClient.readUTF();\n                        outputToClient.writeUTF(&quot;Password:&quot;);\n                        inputFromClient.readUTF();\n                        Password = inputFromClient.readUTF();\n</code></pre>\n<p>I am writing a client-server code in Java where the client has to choose between signing in or signing up and then he needs to input his info accordingly, however, I am facing some bugs.</p>\n<p>From the client-side, I have the following:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.Scanner;\n\npublic class MultipleClient {\n    public static void main(String[] args) throws IOException {\n        try {\n            Scanner scan = new Scanner(System.in);\n\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\n\n            Socket socket = new Socket(ip, 8189);\n\n            // Receiving input and sending output to Server\n            DataInputStream inputFromServer = new DataInputStream(socket.getInputStream());\n            DataOutputStream outputToServer = new DataOutputStream(socket.getOutputStream());\n\n            while (true) {\n\n                System.out.println(inputFromServer.readUTF());\n                int choice = scan.nextInt();\n                outputToServer.writeInt(choice);\n                System.out.println(inputFromServer.readUTF());\n                String username = scan.nextLine();\n                outputToServer.writeUTF(username);\n                System.out.println(inputFromServer.readUTF());\n                String password = scan.nextLine();\n                outputToServer.writeUTF(password);\n                System.out.println(inputFromServer.readUTF());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>While from the server-side, I have the following:</p>\n<pre><code>import java.io.*;\nimport java.text.*;\nimport java.util.*;\nimport java.net.*;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\n\npublic class MultipleServer {\n    public static void main(String[] args) throws IOException {\n        Scanner scan = new Scanner(System.in);\n        ServerSocket serverSocket = new ServerSocket(8189);\n\n        // Server keeps on receiving new Clients\n        while (true) {\n            Socket clientSocket = null;\n            try {\n                // ServerSocket waits for a Client to connect\n                clientSocket = serverSocket.accept();\n\n                System.out.println(&quot;A new client is connected : &quot; + clientSocket);\n\n                // Receiving input and sending output to Client\n                DataInputStream inputFromClient = new DataInputStream(clientSocket.getInputStream());\n                DataOutputStream outputToClient = new DataOutputStream(clientSocket.getOutputStream());\n\n                System.out.println(&quot;Assigning new thread for this client&quot;);\n\n                System.out\n                        .println(&quot;-----------------------------------------------------------------------------------&quot;);\n\n                // Create a new Thread object for the Client\n                Thread thread = new ClientHandler(clientSocket, inputFromClient, outputToClient);\n                thread.start();\n\n            } catch (Exception e) {\n                clientSocket.close();\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n// ClientHandler class\nclass ClientHandler extends Thread {\n    final Socket clientSocket;\n    final DataInputStream inputFromClient;\n    final DataOutputStream outputToClient;\n\n    // Constructor\n    public ClientHandler(Socket clientSocket, DataInputStream inputFromClient, DataOutputStream outputToClient) {\n        this.clientSocket = clientSocket;\n        this.inputFromClient = inputFromClient;\n        this.outputToClient = outputToClient;\n    }\n\n    @Override\n    public void run() {\n        // Variables\n        String Username = &quot;&quot;;\n        String Password = &quot;&quot;;\n        int choice;\n        String toreturn;\n        while (true) {\n            try {\n                // The newInstance() call is a work around for some\n                // broken Java implementations\n\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\n            } catch (Exception ex) {\n                // handle the error\n            }\n\n            Connection conn = null;\n\n            try {\n                conn = DriverManager.getConnection(\n                        &quot;jdbc:mysql://localhost:3306/test&quot; + &quot;?user=root&amp;password=test&quot;);\n\n            } catch (SQLException ex) {\n                // handle any errors\n                System.out.println(&quot;SQLException: &quot; + ex.getMessage());\n                System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\n                System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\n            }\n\n            try {\n\n                outputToClient.writeUTF(&quot;Please press one to sign in or two to sign up if you haven't already&quot;);\n                choice = inputFromClient.readInt();\n\n                if (choice != 1 &amp;&amp; choice != 0) {\n                    outputToClient.writeUTF(&quot;Please choose one of the listed choices&quot;);\n                } else {\n                    if (choice == 1) {\n//here is where the problem is occuring\n                        outputToClient.writeUTF(&quot;Please enter your credentials below\\n&quot;);\n                        outputToClient.writeUTF(&quot;Username:&quot;);\n                        Username = inputFromClient.readUTF();\n                        outputToClient.writeUTF(&quot;Password:&quot;);\n                        Password = inputFromClient.readUTF();\n                        String queryoneresult = &quot;&quot;;\n\n//execution isn't reaching this part so I don't think it is relevant but I included it anyway\n                        ResultSet rs = null;\n\n                        PreparedStatement stmt = conn\n                                .prepareStatement(&quot;SELECT COUNT(Username)\\n&quot; + &quot;  FROM Authentication\\n&quot;\n                                        + &quot; WHERE Username = ? AND\\n&quot; + &quot;       Password = ? \\n&quot; + &quot; LIMIT 0, 1&quot;);\n                        stmt.setString(1, Username);\n                        stmt.setString(2, Password);\n\n                        rs = stmt.executeQuery();\n\n                        if (stmt.execute()) {\n                            rs = stmt.getResultSet();\n                        }\n                        ResultSetMetaData rsmd = rs.getMetaData();\n                        int columnsNumber = rsmd.getColumnCount();\n                        while (rs.next()) {\n                            for (int i = 1; i &lt;= columnsNumber; i++) {\n                                if (i &gt; 1)\n                                    System.out.print(&quot; &quot;);\n                                String columnValue = rs.getString(i);\n                                queryoneresult = rs.getString(i);\n                            }\n                        }\n\n                        if (Integer.valueOf(queryoneresult) == 1) {\n                            outputToClient.writeUTF(&quot;Username and password have been verified, you can now proceed &quot;);\n                        } else {\n                            outputToClient\n                                    .writeUTF(&quot;Your username and/or password are incorrect, access has been denied&quot;);\n                        }\n\n                    }\n                }\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n\n    }\n}\n\n</code></pre>\n<p>My problem is that I am getting the following output:</p>\n<pre><code>Please press one to sign in or two to sign up if you haven't already\n1\nPlease enter your credentials below\n\nUsername:\nsergio\nPassword:\nYour username and/or password are incorrect, access has been denied\n</code></pre>\n<p>so it seems like the server is automatically getting a response for the password and proceeding like this, had executions that looked like this too:</p>\n<pre><code>Please press one to sign in or two to sign up if you haven't already\n1\nPlease enter your credentials below\n\nUsername:\nPassword:\nsergio\nYour username and/or password are incorrect, access has been denied\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","https","vert.x","vertx-httpclient"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638304493,"post_id":70175287,"comment_id":124052163,"body_markdown":"What does &quot;I can not get response&quot; mean? Exactly what happens when you make the request? Does the same code work if you request e.g. `https://google.com`? How have you determined that the URL is being converted to lower case?","body":"What does &quot;I can not get response&quot; mean? Exactly what happens when you make the request? Does the same code work if you request e.g. <code>https:&#47;&#47;google.com</code>? How have you determined that the URL is being converted to lower case?"},{"owner":{"account_id":11302207,"reputation":103,"user_id":8287786,"display_name":"Ali Hosseinzadeh"},"score":0,"creation_date":1638337861,"post_id":70175287,"comment_id":124058885,"body_markdown":"@tgdavies I have tested lower and uppercase, By uppercase I get response without any problem. yes,  in form of https://google.com works for me. i can not get my desired response I mean. It detect me as an unknown user and reject my request.","body":"@tgdavies I have tested lower and uppercase, By uppercase I get response without any problem. yes,  in form of <a href=\"https://google.com\" rel=\"nofollow noreferrer\">google.com</a> works for me. i can not get my desired response I mean. It detect me as an unknown user and reject my request."}],"answers":[{"tags":[],"owner":{"account_id":11302207,"reputation":103,"user_id":8287786,"display_name":"Ali Hosseinzadeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638643171,"creation_date":1638642697,"answer_id":70228380,"question_id":70175287,"body_markdown":"I have found the answer! \r\nI have used of *WebClient* of *io.vertx.ext.web.client* to create a http post request. \r\nThere is a method: HttpRequest&lt;Buffer&gt; postAbs(String absoluteURI)\r\nWhich in its documentary we have:\r\n \r\n     /**\r\n       * Create an HTTP POST request to send to the server using an absolute URI, specifying a response handler to receive\r\n       * the response\r\n       * @param absoluteURI  the absolute URI\r\n       * @return  an HTTP client request object\r\n       */\r\n\r\nso it helped me!\r\n\r\nmy method is:\r\n\r\n    public CompletionStage&lt;HttpResponse&gt; post(String uri, MultiMap headers, JsonObject body) {\r\n        return client.postAbs(uri)\r\n                .putHeaders(headers)\r\n                .timeout(requestTimeout.toMillis())\r\n                .sendJsonObject(body)\r\n                .toCompletionStage()\r\n                .thenApply(response -&gt; new HttpResponse(response.statusCode(), response.body() != null ? response.body().getBytes() : new byte[]{}));\r\n    }\r\n\r\nas you see the arguments are different from the previous version.\r\nNow I can enter `https://example.com/Internalservice` as the absolute uri. There will be no changes or conversion in desired uri.\r\n","title":"Create a http request with a uri in Case sensitive mode","body":"<p>I have found the answer!\nI have used of <em>WebClient</em> of <em>io.vertx.ext.web.client</em> to create a http post request.\nThere is a method: HttpRequest postAbs(String absoluteURI)\nWhich in its documentary we have:</p>\n<pre><code> /**\n   * Create an HTTP POST request to send to the server using an absolute URI, specifying a response handler to receive\n   * the response\n   * @param absoluteURI  the absolute URI\n   * @return  an HTTP client request object\n   */\n</code></pre>\n<p>so it helped me!</p>\n<p>my method is:</p>\n<pre><code>public CompletionStage&lt;HttpResponse&gt; post(String uri, MultiMap headers, JsonObject body) {\n    return client.postAbs(uri)\n            .putHeaders(headers)\n            .timeout(requestTimeout.toMillis())\n            .sendJsonObject(body)\n            .toCompletionStage()\n            .thenApply(response -&gt; new HttpResponse(response.statusCode(), response.body() != null ? response.body().getBytes() : new byte[]{}));\n}\n</code></pre>\n<p>as you see the arguments are different from the previous version.\nNow I can enter <code>https://example.com/Internalservice</code> as the absolute uri. There will be no changes or conversion in desired uri.</p>\n"}],"owner":{"account_id":11302207,"reputation":103,"user_id":8287786,"display_name":"Ali Hosseinzadeh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70228380,"answer_count":1,"score":2,"last_activity_date":1638643171,"creation_date":1638302167,"question_id":70175287,"body_markdown":"I have a https request which its uri begins with capital letter. I have tested it in postman and i have gotten response; But in my code by **vertx** (io.vertx.core), I can not get desired response response. It seems that destination server reject me.\r\nIt seems that my desired uri changes to lowercase automatically. Unfortunately the server does not accept the changed mode.\r\n\r\nDesired uri :  /Internalservice\r\n\r\nhttps://example.com/Internalservice\r\n\r\nI use this webClient: io.vertx.ext.web.client;\r\n\r\nThis is my method:\r\n\r\n        public CompletionStage&lt;HttpResponse&gt; post(String host, int port, String uri, MultiMap headers, JsonObject body) {\r\n            return client.post(port, host, uri)\r\n                    .putHeaders(headers)\r\n                    .timeout(requestTimeout.toMillis())\r\n                    .sendJsonObject(body)\r\n                    .toCompletionStage()\r\n                    .thenApply(response -&gt; new HttpResponse(response.statusCode(), response.body() != null ?     response.body().getBytes() : new byte[]{}));\r\n        }\r\n\r\nwhat I have to do to handle this case sensitive uri?","title":"Create a http request with a uri in Case sensitive mode","body":"<p>I have a https request which its uri begins with capital letter. I have tested it in postman and i have gotten response; But in my code by <strong>vertx</strong> (io.vertx.core), I can not get desired response response. It seems that destination server reject me.\nIt seems that my desired uri changes to lowercase automatically. Unfortunately the server does not accept the changed mode.</p>\n<p>Desired uri :  /Internalservice</p>\n<p><a href=\"https://example.com/Internalservice\" rel=\"nofollow noreferrer\">https://example.com/Internalservice</a></p>\n<p>I use this webClient: io.vertx.ext.web.client;</p>\n<p>This is my method:</p>\n<pre><code>    public CompletionStage&lt;HttpResponse&gt; post(String host, int port, String uri, MultiMap headers, JsonObject body) {\n        return client.post(port, host, uri)\n                .putHeaders(headers)\n                .timeout(requestTimeout.toMillis())\n                .sendJsonObject(body)\n                .toCompletionStage()\n                .thenApply(response -&gt; new HttpResponse(response.statusCode(), response.body() != null ?     response.body().getBytes() : new byte[]{}));\n    }\n</code></pre>\n<p>what I have to do to handle this case sensitive uri?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2345906,"reputation":2356,"user_id":2056178,"display_name":"Eugene"},"score":0,"creation_date":1585906607,"post_id":61008760,"comment_id":107934594,"body_markdown":"You should use DTO for this. https://en.wikipedia.org/wiki/Data_transfer_object","body":"You should use DTO for this. <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Data_transfer_object</a>"}],"answers":[{"tags":[],"owner":{"account_id":6393850,"reputation":577,"user_id":4958970,"display_name":"Terry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585906574,"creation_date":1585906574,"answer_id":61008934,"question_id":61008760,"body_markdown":"you can use `@JsonIgnore` annotation on your `public String getPassword()` method to ignore the field during serialization. \r\n\r\nAnd use `@JsonProperty` annotation on your `public String setPassword(String password)` to enable deserialization when you want to set it.\r\n\r\nMore details here : https://www.baeldung.com/jackson-field-serializable-deserializable-or-not","title":"Spring boot, how do I hide or prevent from loading some properties of an entity","body":"<p>you can use <code>@JsonIgnore</code> annotation on your <code>public String getPassword()</code> method to ignore the field during serialization. </p>\n\n<p>And use <code>@JsonProperty</code> annotation on your <code>public String setPassword(String password)</code> to enable deserialization when you want to set it.</p>\n\n<p>More details here : <a href=\"https://www.baeldung.com/jackson-field-serializable-deserializable-or-not\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-field-serializable-deserializable-or-not</a></p>\n"},{"tags":[],"owner":{"account_id":9337042,"reputation":45,"user_id":6930935,"display_name":"Tarfa Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638641984,"creation_date":1585907016,"answer_id":61009071,"question_id":61008760,"body_markdown":"You can use what&#39;s called **DTO** Data Transfer Object. This will help you to map between the result from your entity and what you want to expose to users.","title":"Spring boot, how do I hide or prevent from loading some properties of an entity","body":"<p>You can use what's called <strong>DTO</strong> Data Transfer Object. This will help you to map between the result from your entity and what you want to expose to users.</p>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3833,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638641984,"creation_date":1585905900,"question_id":61008760,"body_markdown":"I have an Account class which contains all the information like username email and password. I would like to use this class for giving me some properties like username or email to show on his/her profile page, but not the password because I know it&#39;s insecure to let this field going through http/https protocol even it&#39;s hashed. I tried to hide it using @Transient, but another class AccountPrincipal still needs this field to authenticate anyways. what&#39;s proper and secure way to do this?\r\n\r\nThis is how the information looks like if I try to get some account information via controller.\r\n\r\n    [\r\n        {\r\n            &quot;accountId&quot;: 1,\r\n            &quot;userName&quot;: &quot;pink&quot;,\r\n            &quot;nuggerPoint&quot;: null,\r\n            &quot;videos&quot;: [],\r\n            &quot;password&quot;: &quot;$2a$10$jrL.YPkkvLN0fThW2e7Lne/J7ak0wb3XF4TyG.xNp9zcomuC1QHjG&quot;\r\n        },\r\n        {\r\n            &quot;accountId&quot;: 2,\r\n            &quot;userName&quot;: &quot;guy&quot;,\r\n            &quot;nuggerPoint&quot;: null,\r\n            &quot;videos&quot;: [],\r\n            &quot;password&quot;: &quot;$2a$10$L2st0.RTpzeoCB72G4JG9eazZpistVxpj51UL2fVbjLxxbb6zKjaa&quot;\r\n        }\r\n    ]\r\n\r\n--\r\n\r\n    @Entity\r\n    @Table(name = &quot;Account&quot;)\r\n    public class Account {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private Long accountId;\r\n        private String userName;\r\n        private String passWord;\r\n    \r\n        public Account(String username, String password, Long nuggerpoint){\r\n            this.userName = username;\r\n            this.passWord = password;\r\n            this.nuggerPoint = nuggerPoint;\r\n        }\r\n        public Long getAccountId(){\r\n            return accountId;\r\n        }\r\n        public void setAccountId(Long accountId){\r\n            this.accountId = accountId;\r\n        }\r\n        public String getUserName(){\r\n            return this.userName;\r\n        }\r\n        public void setUserName(String userName){\r\n            this.userName = userName;\r\n        }\r\n        public String getPassword(){\r\n            return this.passWord;\r\n        }\r\n        public void setPassword(String password){\r\n            this.passWord = password;\r\n        }\r\n        // some other methods and properties\r\n    }\r\n\r\n--\r\n\r\n    public class AccountPrincipal implements UserDetails {\r\n        private Account account;\r\n        public AccountPrincipal(Account account) {\r\n            this.account = account;\r\n        }\r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return this.account.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return this.account.getUserName();\r\n        }\r\n        //Some other methods..\r\n    }\r\n\r\n--\r\n","title":"Spring boot, how do I hide or prevent from loading some properties of an entity","body":"<p>I have an Account class which contains all the information like username email and password. I would like to use this class for giving me some properties like username or email to show on his/her profile page, but not the password because I know it's insecure to let this field going through http/https protocol even it's hashed. I tried to hide it using @Transient, but another class AccountPrincipal still needs this field to authenticate anyways. what's proper and secure way to do this?</p>\n\n<p>This is how the information looks like if I try to get some account information via controller.</p>\n\n<pre><code>[\n    {\n        \"accountId\": 1,\n        \"userName\": \"pink\",\n        \"nuggerPoint\": null,\n        \"videos\": [],\n        \"password\": \"$2a$10$jrL.YPkkvLN0fThW2e7Lne/J7ak0wb3XF4TyG.xNp9zcomuC1QHjG\"\n    },\n    {\n        \"accountId\": 2,\n        \"userName\": \"guy\",\n        \"nuggerPoint\": null,\n        \"videos\": [],\n        \"password\": \"$2a$10$L2st0.RTpzeoCB72G4JG9eazZpistVxpj51UL2fVbjLxxbb6zKjaa\"\n    }\n]\n</code></pre>\n\n<p>--</p>\n\n<pre><code>@Entity\n@Table(name = \"Account\")\npublic class Account {\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long accountId;\n    private String userName;\n    private String passWord;\n\n    public Account(String username, String password, Long nuggerpoint){\n        this.userName = username;\n        this.passWord = password;\n        this.nuggerPoint = nuggerPoint;\n    }\n    public Long getAccountId(){\n        return accountId;\n    }\n    public void setAccountId(Long accountId){\n        this.accountId = accountId;\n    }\n    public String getUserName(){\n        return this.userName;\n    }\n    public void setUserName(String userName){\n        this.userName = userName;\n    }\n    public String getPassword(){\n        return this.passWord;\n    }\n    public void setPassword(String password){\n        this.passWord = password;\n    }\n    // some other methods and properties\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>public class AccountPrincipal implements UserDetails {\n    private Account account;\n    public AccountPrincipal(Account account) {\n        this.account = account;\n    }\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return new ArrayList&lt;&gt;();\n    }\n\n    @Override\n    public String getPassword() {\n        return this.account.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return this.account.getUserName();\n    }\n    //Some other methods..\n}\n</code></pre>\n\n<p>--</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1638627755,"post_id":70226408,"comment_id":124141031,"body_markdown":"Can you share an string example that you try to split ?","body":"Can you share an string example that you try to split ?"},{"owner":{"account_id":23544306,"reputation":11,"user_id":17587999,"display_name":"Pascal Flores"},"score":0,"creation_date":1638629388,"post_id":70226408,"comment_id":124141361,"body_markdown":"The string I use are pretty big, but I can :\nLes Rougon-Macquart doivent se composer dune vingtaine de romans. Depuis 1869, le plan g&#233;n&#233;ral est arr&#234;t&#233;, et je le suis avec une rigueur extr&#234;me. LAssommoir est venu &#224; son heure, je lai &#233;crit, comme j&#233;crirai les autres, sans me d&#233;ranger une seconde de ma ligne droite.","body":"The string I use are pretty big, but I can : Les Rougon-Macquart doivent se composer dune vingtaine de romans. Depuis 1869, le plan g&#233;n&#233;ral est arr&#234;t&#233;, et je le suis avec une rigueur extr&#234;me. LAssommoir est venu &#224; son heure, je lai &#233;crit, comme j&#233;crirai les autres, sans me d&#233;ranger une seconde de ma ligne droite."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1638630181,"post_id":70226408,"comment_id":124141556,"body_markdown":"[The Capacity of an ArrayList vs the Size of an Array in Java](https://www.baeldung.com/java-list-capacity-array-size)","body":"<a href=\"https://www.baeldung.com/java-list-capacity-array-size\" rel=\"nofollow noreferrer\">The Capacity of an ArrayList vs the Size of an Array in Java</a>"},{"owner":{"account_id":23544306,"reputation":11,"user_id":17587999,"display_name":"Pascal Flores"},"score":0,"creation_date":1638630257,"post_id":70226408,"comment_id":124141572,"body_markdown":"But the full strings I use looks like this : https://www.file.io/download/6MHh6ixOzlS0 (these are very big string so I must upload them as files)","body":"But the full strings I use looks like this : <a href=\"https://www.file.io/download/6MHh6ixOzlS0\" rel=\"nofollow noreferrer\">file.io/download/6MHh6ixOzlS0</a> (these are very big string so I must upload them as files)"},{"owner":{"account_id":9989368,"reputation":626,"user_id":7389282,"display_name":"curiousdev"},"score":0,"creation_date":1638630266,"post_id":70226408,"comment_id":124141574,"body_markdown":"Your regex is wrong. Update to `([.!?:])`. The `=;` part matches the characters `=;` literally.","body":"Your regex is wrong. Update to <code>([.!?:])</code>. The <code>=;</code> part matches the characters <code>=;</code> literally."},{"owner":{"account_id":23544306,"reputation":11,"user_id":17587999,"display_name":"Pascal Flores"},"score":0,"creation_date":1638630481,"post_id":70226408,"comment_id":124141614,"body_markdown":"I don&#39;t know well regex but what I would like to select characters after a character . ! ? :, and I don&#39;t know how to do it","body":"I don&#39;t know well regex but what I would like to select characters after a character . ! ? :, and I don&#39;t know how to do it"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1638630749,"post_id":70226408,"comment_id":124141666,"body_markdown":"Everyone, errors in the regex are not the point here. Splitting a long string by a regex that fails to match anything will give an array of length 1, not 0. So while your regex comments are probably helpful, they do not contribute to answering the question.","body":"Everyone, errors in the regex are not the point here. Splitting a long string by a regex that fails to match anything will give an array of length 1, not 0. So while your regex comments are probably helpful, they do not contribute to answering the question."}],"owner":{"account_id":23544306,"reputation":11,"user_id":17587999,"display_name":"Pascal Flores"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638630283,"answer_count":0,"score":0,"last_activity_date":1638641640,"creation_date":1638627409,"question_id":70226408,"body_markdown":"I have a Text class that I made on my own, which splits a string in a list of Sentence (which is basically a list of list of characters). \r\nI had the previous code before that worked perfectly:\r\n\r\n    private List&lt;Sentence&gt; content;\r\n\r\n    public Text(String content) {\r\n        this.content = new ArrayList&lt;Sentence&gt;();\r\n        for (String s : content.split(&quot;([.!?:]=;)&quot;)){\r\n            this.content.add(new Sentence(s));\r\n        }\r\n    }\r\n\r\nNow, I would like to instantiate content by giving it the length of the array returned by `content.split(&quot;([.!?:]=;)&quot;)`. The code now looks like this:\r\n\r\n        private List&lt;Sentence&gt; content;\r\n        public Text(String content) {\r\n        this.content = new ArrayList&lt;Sentence&gt;(content.split(&quot;([.!?:]=;)&quot;).length);\r\n        System.out.println(this.content.size());\r\n        for (String s : content.split(&quot;([.!?:]=;)&quot;)){\r\n            this.content.add(new Sentence(s));\r\n        }\r\n\r\nAnd the result of the console print returns me 0. I don&#39;t understand why. Could somebody help me please?","title":"Empty ArrayList.size() returns 0 when initialized with a length","body":"<p>I have a Text class that I made on my own, which splits a string in a list of Sentence (which is basically a list of list of characters).\nI had the previous code before that worked perfectly:</p>\n<pre><code>private List&lt;Sentence&gt; content;\n\npublic Text(String content) {\n    this.content = new ArrayList&lt;Sentence&gt;();\n    for (String s : content.split(&quot;([.!?:]=;)&quot;)){\n        this.content.add(new Sentence(s));\n    }\n}\n</code></pre>\n<p>Now, I would like to instantiate content by giving it the length of the array returned by <code>content.split(&quot;([.!?:]=;)&quot;)</code>. The code now looks like this:</p>\n<pre><code>    private List&lt;Sentence&gt; content;\n    public Text(String content) {\n    this.content = new ArrayList&lt;Sentence&gt;(content.split(&quot;([.!?:]=;)&quot;).length);\n    System.out.println(this.content.size());\n    for (String s : content.split(&quot;([.!?:]=;)&quot;)){\n        this.content.add(new Sentence(s));\n    }\n</code></pre>\n<p>And the result of the console print returns me 0. I don't understand why. Could somebody help me please?</p>\n"},{"tags":["java","python","apache-spark"],"comments":[{"owner":{"account_id":112426,"reputation":1834,"user_id":296549,"accept_rate":73,"display_name":"Bacon"},"score":1,"creation_date":1438828676,"post_id":31825911,"comment_id":51613051,"body_markdown":"That might be helpful http://stackoverflow.com/a/30851037/296549","body":"That might be helpful <a href=\"http://stackoverflow.com/a/30851037/296549\">stackoverflow.com/a/30851037/296549</a>"},{"owner":{"account_id":180113,"reputation":55487,"user_id":413225,"accept_rate":75,"display_name":"Run"},"score":1,"creation_date":1438831854,"post_id":31825911,"comment_id":51613822,"body_markdown":"Nope... sorry. answers are poorly written. I don&#39;t understand them.","body":"Nope... sorry. answers are poorly written. I don&#39;t understand them."},{"owner":{"account_id":180113,"reputation":55487,"user_id":413225,"accept_rate":75,"display_name":"Run"},"score":0,"creation_date":1438832377,"post_id":31825911,"comment_id":51613934,"body_markdown":"I want to run the python scrip on browsers - not on a terminal or windows command prompt, by the way.","body":"I want to run the python scrip on browsers - not on a terminal or windows command prompt, by the way."},{"owner":{"account_id":180113,"reputation":55487,"user_id":413225,"accept_rate":75,"display_name":"Run"},"score":0,"creation_date":1438834091,"post_id":31825911,"comment_id":51614379,"body_markdown":"my problem is not related to ipython notebook as well.","body":"my problem is not related to ipython notebook as well."},{"owner":{"account_id":44190,"reputation":2019,"user_id":129555,"display_name":"Zach Garner"},"score":1,"creation_date":1444078736,"post_id":31825911,"comment_id":53740503,"body_markdown":"Python+Spark on Windows is not very solid. I&#39;m working with some guys from Microsoft and they aren&#39;t able to get around this kind of issue. Your problem is a little different than mine however. Doublecheck your paths?","body":"Python+Spark on Windows is not very solid. I&#39;m working with some guys from Microsoft and they aren&#39;t able to get around this kind of issue. Your problem is a little different than mine however. Doublecheck your paths?"},{"owner":{"account_id":180113,"reputation":55487,"user_id":413225,"accept_rate":75,"display_name":"Run"},"score":0,"creation_date":1444190049,"post_id":31825911,"comment_id":53792122,"body_markdown":"@ZachGarner I fixed that problem. Just run the script on wsgi. **never user cgi** for python!","body":"@ZachGarner I fixed that problem. Just run the script on wsgi. <b>never user cgi</b> for python!"}],"answers":[{"tags":[],"owner":{"account_id":3006460,"reputation":2911,"user_id":2550910,"accept_rate":71,"display_name":"architectonic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446120805,"creation_date":1446120805,"answer_id":33413921,"question_id":31825911,"body_markdown":"Check if there are any extra information before the Error line that says:\r\n    \r\n    Error: Could not create the Java Virtual Machine.\r\n\r\nIn my case it was an invalid option that I had set in the conf file. Memory (initial heap size) is not allowed to have a comma: 3.5g is for example not acceptable whereas 3500m is.","title":"Spark + Python - Java gateway process exited before sending the driver its port number?","body":"<p>Check if there are any extra information before the Error line that says:</p>\n\n<pre><code>Error: Could not create the Java Virtual Machine.\n</code></pre>\n\n<p>In my case it was an invalid option that I had set in the conf file. Memory (initial heap size) is not allowed to have a comma: 3.5g is for example not acceptable whereas 3500m is.</p>\n"},{"tags":[],"owner":{"account_id":330968,"reputation":21009,"user_id":655372,"accept_rate":79,"display_name":"theheadofabroom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455186850,"creation_date":1455186850,"answer_id":35336865,"question_id":31825911,"body_markdown":"I had a similar issue to this, and eventually when I looked at the my test&#39;s output there were error messages from `$SPARK_HOME/bin/spark-class`, with line numbers. \r\n\r\nAfter tracking down what was going on on the affected lines it turned out that there were single quotes around the `$JAVA_HOME` value in my environmental variables, which was causing issues with path expansion (it was assumed for some reason to be relative to my home directory, rather than an absolute path)\r\n\r\nWhile this may not be your exact issue, it is worth examining the start of your output for extra information to help in narrowing down the root cause.","title":"Spark + Python - Java gateway process exited before sending the driver its port number?","body":"<p>I had a similar issue to this, and eventually when I looked at the my test's output there were error messages from <code>$SPARK_HOME/bin/spark-class</code>, with line numbers. </p>\n\n<p>After tracking down what was going on on the affected lines it turned out that there were single quotes around the <code>$JAVA_HOME</code> value in my environmental variables, which was causing issues with path expansion (it was assumed for some reason to be relative to my home directory, rather than an absolute path)</p>\n\n<p>While this may not be your exact issue, it is worth examining the start of your output for extra information to help in narrowing down the root cause.</p>\n"},{"tags":[],"owner":{"account_id":9721989,"reputation":11,"user_id":7210421,"display_name":"user7210421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480088797,"creation_date":1480088797,"answer_id":40808492,"question_id":31825911,"body_markdown":"My friend has met with the same problem as yours. I checked her computer and found that she had two versions of Java in it. I uninstalled the older one and rewrote the $JAVA_HOME value. The problem was solved.","title":"Spark + Python - Java gateway process exited before sending the driver its port number?","body":"<p>My friend has met with the same problem as yours. I checked her computer and found that she had two versions of Java in it. I uninstalled the older one and rewrote the $JAVA_HOME value. The problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":23394226,"reputation":11,"user_id":17458513,"display_name":"Gus Cunha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638641469,"creation_date":1638640947,"answer_id":70228162,"question_id":31825911,"body_markdown":"I&#39;ve been trying to solve this problem since yesterday. I&#39;ve just solved it. \r\n\r\nI did exactly what this link (https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/) tells us: \r\n\r\n(1) Set PYSPARK_SUBMIT_ARGS; \r\n\r\n(2) Install Open JDK; \r\n\r\n(3) Set JAVA_HOME Environment Variable. \r\n\r\nI won&#39;t try to explain these steps to you because the link can do it much better than me (you just need to follow the steps). \r\n\r\nBy the way, it is a good resource in case you&#39;re learning pyspark. ","title":"Spark + Python - Java gateway process exited before sending the driver its port number?","body":"<p>I've been trying to solve this problem since yesterday. I've just solved it.</p>\n<p>I did exactly what this link (<a href=\"https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/\" rel=\"nofollow noreferrer\">https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/</a>) tells us:</p>\n<p>(1) Set PYSPARK_SUBMIT_ARGS;</p>\n<p>(2) Install Open JDK;</p>\n<p>(3) Set JAVA_HOME Environment Variable.</p>\n<p>I won't try to explain these steps to you because the link can do it much better than me (you just need to follow the steps).</p>\n<p>By the way, it is a good resource in case you're learning pyspark.</p>\n"}],"owner":{"account_id":180113,"reputation":55487,"user_id":413225,"accept_rate":75,"display_name":"Run"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23325,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1638641469,"creation_date":1438759310,"question_id":31825911,"body_markdown":"Why do I get this error on my browser screen,\r\n\r\n&gt; &lt;type &#39;exceptions.Exception&#39;&gt;: Java gateway process exited before\r\n&gt; sending the driver its port number \r\n&gt;       args = (&#39;Java gateway process exited before sending the driver its port number&#39;,) \r\n&gt;       message = &#39;Java gateway process exited before sending the driver its port number&#39;\r\n\r\nfor,\r\n\r\n    #!/Python27/python\r\n    print &quot;Content-type: text/html; charset=utf-8&quot;\r\n    print\r\n    \r\n    # enable debugging\r\n    import cgitb\r\n    cgitb.enable()\r\n    \r\n    import os\r\n    import sys\r\n    \r\n    # Path for spark source folder\r\n    os.environ[&#39;SPARK_HOME&#39;] = &quot;C:\\Apache\\spark-1.4.1&quot;\r\n    \r\n    # Append pyspark to Python Path\r\n    sys.path.append(&quot;C:\\Apache\\spark-1.4.1\\python&quot;)\r\n    \r\n    from pyspark import SparkContext\r\n    from pyspark import SparkConf\r\n    \r\n    print (&quot;Successfully imported Spark Modules&quot;)\r\n    \r\n    # Initialize SparkContext\r\n    sc = SparkContext(&#39;local&#39;)\r\n    words = sc.parallelize([&quot;scala&quot;,&quot;java&quot;,&quot;hadoop&quot;,&quot;spark&quot;,&quot;akka&quot;])\r\n    print words.count()\r\n\r\nI followed this [example][1].\r\n\r\nAny ideas how I can fix it?\r\n\r\n\r\n  [1]: http://renien.github.io/blog/accessing-pyspark-pycharm/","title":"Spark + Python - Java gateway process exited before sending the driver its port number?","body":"<p>Why do I get this error on my browser screen,</p>\n\n<blockquote>\n  <p>: Java gateway process exited before\n  sending the driver its port number \n        args = ('Java gateway process exited before sending the driver its port number',) \n        message = 'Java gateway process exited before sending the driver its port number'</p>\n</blockquote>\n\n<p>for,</p>\n\n<pre><code>#!/Python27/python\nprint \"Content-type: text/html; charset=utf-8\"\nprint\n\n# enable debugging\nimport cgitb\ncgitb.enable()\n\nimport os\nimport sys\n\n# Path for spark source folder\nos.environ['SPARK_HOME'] = \"C:\\Apache\\spark-1.4.1\"\n\n# Append pyspark to Python Path\nsys.path.append(\"C:\\Apache\\spark-1.4.1\\python\")\n\nfrom pyspark import SparkContext\nfrom pyspark import SparkConf\n\nprint (\"Successfully imported Spark Modules\")\n\n# Initialize SparkContext\nsc = SparkContext('local')\nwords = sc.parallelize([\"scala\",\"java\",\"hadoop\",\"spark\",\"akka\"])\nprint words.count()\n</code></pre>\n\n<p>I followed this <a href=\"http://renien.github.io/blog/accessing-pyspark-pycharm/\" rel=\"noreferrer\">example</a>.</p>\n\n<p>Any ideas how I can fix it?</p>\n"},{"tags":["java","hive"],"owner":{"account_id":16719168,"reputation":11,"user_id":17531783,"display_name":"Rajesh Bommidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638640246,"creation_date":1638637417,"question_id":70227734,"body_markdown":"When I try to install hive 3.2.1 , I am getting error as\r\n\r\n    C:\\apache-hive-3.1.2-bin\\bin&gt;hive\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/C:/apache-hive-3.1.2-bin/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/hadoop-3.2.2/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n    2021-12-04T22:07:08,270 INFO [main] org.apache.hadoop.hive.conf.HiveConf - Found configuration file file:/C:/apache-hive-3.1.2-bin/conf/hive-site.xml\r\n    2021-12-04T22:07:08,804 WARN [main] org.apache.hadoop.hive.conf.HiveConf - HiveConf of name hive.server2.enable.impersonation does not exist\r\n    2021-12-04T22:07:10,221 WARN [main] org.apache.hadoop.hive.conf.HiveConf - HiveConf of name hive.server2.enable.impersonation does not exist\r\n    Hive Session ID = c185b9f3-85dc-43c6-88aa-98abdeaf24e0\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\r\n            at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:413)\r\n            at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:389)\r\n            at org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\r\n            at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:705)\r\n            at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:683)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\r\n            at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\n    ..............\r\n\r\nI copied \r\n`C:\\db-derby-10.15.2.0-bin\\lib  *.jar` files to `C:\\apache-hive-3.1.2-bin\\lib` .\r\n\r\nAnd I installed **hadoop3.2.2** and **java 11 versions** ","title":"error occured while installing hive 3.1.2","body":"<p>When I try to install hive 3.2.1 , I am getting error as</p>\n<pre><code>C:\\apache-hive-3.1.2-bin\\bin&gt;hive\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/apache-hive-3.1.2-bin/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/hadoop-3.2.2/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n2021-12-04T22:07:08,270 INFO [main] org.apache.hadoop.hive.conf.HiveConf - Found configuration file file:/C:/apache-hive-3.1.2-bin/conf/hive-site.xml\n2021-12-04T22:07:08,804 WARN [main] org.apache.hadoop.hive.conf.HiveConf - HiveConf of name hive.server2.enable.impersonation does not exist\n2021-12-04T22:07:10,221 WARN [main] org.apache.hadoop.hive.conf.HiveConf - HiveConf of name hive.server2.enable.impersonation does not exist\nHive Session ID = c185b9f3-85dc-43c6-88aa-98abdeaf24e0\nException in thread &quot;main&quot; java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n        at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:413)\n        at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:389)\n        at org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\n        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:705)\n        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:683)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\n..............\n</code></pre>\n<p>I copied\n<code>C:\\db-derby-10.15.2.0-bin\\lib  *.jar</code> files to <code>C:\\apache-hive-3.1.2-bin\\lib</code> .</p>\n<p>And I installed <strong>hadoop3.2.2</strong> and <strong>java 11 versions</strong></p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":10969163,"reputation":6667,"user_id":8060017,"display_name":"Edouard"},"score":1,"creation_date":1638826268,"post_id":70228012,"comment_id":124186700,"body_markdown":"the problem is clearly in your query, where you try to compare a string with a bigint : &quot;ERROR: operator does not exist: character varying = bigint&quot;. Where is your query ?","body":"the problem is clearly in your query, where you try to compare a string with a bigint : &quot;ERROR: operator does not exist: character varying = bigint&quot;. Where is your query ?"},{"owner":{"account_id":17178352,"reputation":153,"user_id":12907709,"display_name":"BANTYC"},"score":1,"creation_date":1638852374,"post_id":70228012,"comment_id":124191686,"body_markdown":"@Edouard, I didn&#39;t write query, I used repository methods. Seems I made incorrect jpa database definition. I&#39;ve rewritten it from a scratch and now everything is fine","body":"@Edouard, I didn&#39;t write query, I used repository methods. Seems I made incorrect jpa database definition. I&#39;ve rewritten it from a scratch and now everything is fine"}],"owner":{"account_id":17178352,"reputation":153,"user_id":12907709,"display_name":"BANTYC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638639813,"creation_date":1638639813,"question_id":70228012,"body_markdown":"I am using jpa at my project and I faced problem querying all entries from table. When I am trying to get entity that has &quot;Many-to-Many&quot; relation with intermediate table application throws this error:\r\n```\r\n2021-12-05 00:20:22.801 ERROR 25380 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: character varying = bigint\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 352\r\n2021-12-05 00:20:22.814 ERROR 25380 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character varying = bigint\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 352\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674) ~[postgresql-42.3.1.jar:42.3.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2364) ~[postgresql-42.3.1.jar:42.3.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:354) ~[postgresql-42.3.1.jar:42.3.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:484) ~[postgresql-42.3.1.jar:42.3.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:404) ~[postgresql-42.3.1.jar:42.3.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:162) ~[postgresql-42.3.1.jar:42.3.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114) ~[postgresql-42.3.1.jar:42.3.1]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:390) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:163) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:104) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:710) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2163) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:589) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:264) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:781) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1001) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:987) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:396) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:81) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy135.findAll(Unknown Source) ~[na:na]\r\n\tat com.warehouse.inventory.api.waybill.WaybillEndpoint.getAll(WaybillEndpoint.java:39) ~[main/:na]\r\n\tat com.warehouse.inventory.api.waybill.WaybillEndpoint$$FastClassBySpringCGLIB$$9bc6bdd5.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat com.warehouse.inventory.api.waybill.WaybillEndpoint$$EnhancerBySpringCGLIB$$4502b52a.getAll(&lt;generated&gt;) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n```\r\nI don&#39;t use ```@NamedQuery``` annotation so that error is really strange for me. Application also generates DDL from hibernate schema so it doesn&#39;t seems that there some missmatch of foreign key and referenced field types.\r\nThe problem appeares only on querying. No issues at all during inserting entries.\r\n\r\nHere is entity classes:\r\n```\r\n@Table(\r\n    name = &quot;commodity&quot;, indexes = {\r\n    @Index(name = &quot;idx_commodity_vendor&quot;, columnList = &quot;vendor_code&quot;),\r\n    @Index(name = &quot;idx_commodity_name&quot;, columnList = &quot;name&quot;)\r\n})\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CommodityEntity {\r\n    @Id\r\n    @Column(name = &quot;vendor_code&quot;, nullable = false, unique = true)\r\n    private String vendorCode;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, unique = true)\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n        name = &quot;waybill_commodity&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;vendor_code&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;waybill_id&quot;))\r\n    @ToString.Exclude\r\n    private List&lt;WaybillCommodityEntity&gt; waybillEntity = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        CommodityEntity that = (CommodityEntity) o;\r\n        return vendorCode != null &amp;&amp; Objects.equals(vendorCode, that.vendorCode);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n```\r\n@Table(name = &quot;waybill_commodity&quot;, indexes = {\r\n    @Index(name = &quot;idx_waybillcommodity_waybill&quot;, columnList = &quot;waybill_id&quot;),\r\n    @Index(name = &quot;idx_waybillcommodity_vendor_code&quot;, columnList = &quot;vendor_code&quot;)\r\n})\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class WaybillCommodityEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne(optional = false, targetEntity = CommodityEntity.class)\r\n    @JoinColumn(name = &quot;vendor_code&quot;, nullable = false)\r\n    @ToString.Exclude\r\n    private CommodityEntity commodity;\r\n\r\n    @ManyToOne(optional = false, targetEntity = WaybillEntity.class)\r\n    @JoinColumn(name = &quot;waybill_id&quot;, nullable = false)\r\n    @ToString.Exclude\r\n    private WaybillEntity waybillEntity;\r\n\r\n    @Column(name = &quot;amount&quot;)\r\n    private Long amount;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        WaybillCommodityEntity that = (WaybillCommodityEntity) o;\r\n        return id != null &amp;&amp; Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n```\r\n@Table(name = &quot;waybill&quot;, indexes = {\r\n    @Index(name = &quot;idx_waybill_counterparty&quot;, columnList = &quot;counterparty&quot;),\r\n    @Index(name = &quot;idx_waybill_type&quot;, columnList = &quot;type&quot;)\r\n})\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class WaybillEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;counterparty&quot;)\r\n    private CounterpartyEntity counterpartyEntity;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = WaybillCommodityEntity.class)\r\n    @JoinTable(\r\n        name = &quot;waybill_commodity&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;waybill_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;vendor_code&quot;))\r\n    @ToString.Exclude\r\n    private List&lt;WaybillCommodityEntity&gt; commodityEntities;\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    private Timestamp createdAt;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        WaybillEntity that = (WaybillEntity) o;\r\n        return id != null &amp;&amp; Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n```\r\n@Table(\r\n    name = &quot;counterparty&quot;,\r\n    indexes = {\r\n        @Index(name = &quot;counterparty_name&quot;, columnList = &quot;name&quot;, unique = true)\r\n    })\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CounterpartyEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        CounterpartyEntity that = (CounterpartyEntity) o;\r\n        return id != null &amp;&amp; Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n","title":"JPA operator does not exist","body":"<p>I am using jpa at my project and I faced problem querying all entries from table. When I am trying to get entity that has &quot;Many-to-Many&quot; relation with intermediate table application throws this error:</p>\n<pre><code>2021-12-05 00:20:22.801 ERROR 25380 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: character varying = bigint\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 352\n2021-12-05 00:20:22.814 ERROR 25380 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\n\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character varying = bigint\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 352\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674) ~[postgresql-42.3.1.jar:42.3.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2364) ~[postgresql-42.3.1.jar:42.3.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:354) ~[postgresql-42.3.1.jar:42.3.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:484) ~[postgresql-42.3.1.jar:42.3.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:404) ~[postgresql-42.3.1.jar:42.3.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:162) ~[postgresql-42.3.1.jar:42.3.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114) ~[postgresql-42.3.1.jar:42.3.1]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:390) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:163) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:104) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:710) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2163) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:589) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:264) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:781) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1001) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:987) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:396) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:81) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.12.jar:5.3.12]\n    at jdk.proxy3/jdk.proxy3.$Proxy135.findAll(Unknown Source) ~[na:na]\n    at com.warehouse.inventory.api.waybill.WaybillEndpoint.getAll(WaybillEndpoint.java:39) ~[main/:na]\n    at com.warehouse.inventory.api.waybill.WaybillEndpoint$$FastClassBySpringCGLIB$$9bc6bdd5.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.12.jar:5.3.12]\n    at com.warehouse.inventory.api.waybill.WaybillEndpoint$$EnhancerBySpringCGLIB$$4502b52a.getAll(&lt;generated&gt;) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n\n</code></pre>\n<p>I don't use <code>@NamedQuery</code> annotation so that error is really strange for me. Application also generates DDL from hibernate schema so it doesn't seems that there some missmatch of foreign key and referenced field types.\nThe problem appeares only on querying. No issues at all during inserting entries.</p>\n<p>Here is entity classes:</p>\n<pre><code>@Table(\n    name = &quot;commodity&quot;, indexes = {\n    @Index(name = &quot;idx_commodity_vendor&quot;, columnList = &quot;vendor_code&quot;),\n    @Index(name = &quot;idx_commodity_name&quot;, columnList = &quot;name&quot;)\n})\n@Entity\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommodityEntity {\n    @Id\n    @Column(name = &quot;vendor_code&quot;, nullable = false, unique = true)\n    private String vendorCode;\n\n    @Column(name = &quot;name&quot;, nullable = false, unique = true)\n    private String name;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n        name = &quot;waybill_commodity&quot;,\n        joinColumns = @JoinColumn(name = &quot;vendor_code&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;waybill_id&quot;))\n    @ToString.Exclude\n    private List&lt;WaybillCommodityEntity&gt; waybillEntity = new ArrayList&lt;&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        CommodityEntity that = (CommodityEntity) o;\n        return vendorCode != null &amp;&amp; Objects.equals(vendorCode, that.vendorCode);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<pre><code>@Table(name = &quot;waybill_commodity&quot;, indexes = {\n    @Index(name = &quot;idx_waybillcommodity_waybill&quot;, columnList = &quot;waybill_id&quot;),\n    @Index(name = &quot;idx_waybillcommodity_vendor_code&quot;, columnList = &quot;vendor_code&quot;)\n})\n@Entity\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class WaybillCommodityEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(optional = false, targetEntity = CommodityEntity.class)\n    @JoinColumn(name = &quot;vendor_code&quot;, nullable = false)\n    @ToString.Exclude\n    private CommodityEntity commodity;\n\n    @ManyToOne(optional = false, targetEntity = WaybillEntity.class)\n    @JoinColumn(name = &quot;waybill_id&quot;, nullable = false)\n    @ToString.Exclude\n    private WaybillEntity waybillEntity;\n\n    @Column(name = &quot;amount&quot;)\n    private Long amount;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        WaybillCommodityEntity that = (WaybillCommodityEntity) o;\n        return id != null &amp;&amp; Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<pre><code>@Table(name = &quot;waybill&quot;, indexes = {\n    @Index(name = &quot;idx_waybill_counterparty&quot;, columnList = &quot;counterparty&quot;),\n    @Index(name = &quot;idx_waybill_type&quot;, columnList = &quot;type&quot;)\n})\n@Entity\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class WaybillEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;counterparty&quot;)\n    private CounterpartyEntity counterpartyEntity;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = WaybillCommodityEntity.class)\n    @JoinTable(\n        name = &quot;waybill_commodity&quot;,\n        joinColumns = @JoinColumn(name = &quot;waybill_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;vendor_code&quot;))\n    @ToString.Exclude\n    private List&lt;WaybillCommodityEntity&gt; commodityEntities;\n\n    @Column(name = &quot;created_at&quot;)\n    private Timestamp createdAt;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        WaybillEntity that = (WaybillEntity) o;\n        return id != null &amp;&amp; Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<pre><code>@Table(\n    name = &quot;counterparty&quot;,\n    indexes = {\n        @Index(name = &quot;counterparty_name&quot;, columnList = &quot;name&quot;, unique = true)\n    })\n@Entity\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CounterpartyEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        CounterpartyEntity that = (CounterpartyEntity) o;\n        return id != null &amp;&amp; Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":2,"creation_date":1638635326,"post_id":70227425,"comment_id":124142700,"body_markdown":"You have to run it once.  Just write the simplest code you can so that you&#39;re 100% sure it&#39;ll work, and leave it to run.","body":"You have to run it once.  Just write the simplest code you can so that you&#39;re 100% sure it&#39;ll work, and leave it to run."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638635335,"creation_date":1638635335,"answer_id":70227491,"question_id":70227425,"body_markdown":"If it is a one-time thing I wouldn&#39;t bother using Spring Batch. I would simply call the external APIs, get the data, transform it and then persist it in your database. You could trigger the process either by exposing an endpoint in your own API to start it or relying on a Scheduled task.\r\n\r\nKeeping things as simple as possible (but never simpler) is one of the greatest assets you can have while developing software but it is also one of the hardest thing to achieve for us as software engineers simply because we usually overthink the solutions.","title":"What would be the best approach for fetch, transform and update data in spring?","body":"<p>If it is a one-time thing I wouldn't bother using Spring Batch. I would simply call the external APIs, get the data, transform it and then persist it in your database. You could trigger the process either by exposing an endpoint in your own API to start it or relying on a Scheduled task.</p>\n<p>Keeping things as simple as possible (but never simpler) is one of the greatest assets you can have while developing software but it is also one of the hardest thing to achieve for us as software engineers simply because we usually overthink the solutions.</p>\n"},{"tags":[],"owner":{"account_id":9337042,"reputation":45,"user_id":6930935,"display_name":"Tarfa Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638639730,"creation_date":1638639730,"answer_id":70228005,"question_id":70227425,"body_markdown":"For this kind of problem, it will be better if you use the ETL (extract, transfer, and load) tool or framework, my recommendation is Kafka check this link, I think it will be helpful [Link][1] \r\n\r\n\r\n  [1]: https://hevodata.com/learn/setting-up-kafka-etl-2-easy-methods/","title":"What would be the best approach for fetch, transform and update data in spring?","body":"<p>For this kind of problem, it will be better if you use the ETL (extract, transfer, and load) tool or framework, my recommendation is Kafka check this link, I think it will be helpful <a href=\"https://hevodata.com/learn/setting-up-kafka-etl-2-easy-methods/\" rel=\"nofollow noreferrer\">Link</a></p>\n"}],"owner":{"account_id":23147101,"reputation":1,"user_id":17249703,"display_name":"Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638639730,"creation_date":1638634943,"question_id":70227425,"body_markdown":"We have a requirement where we need to pull data from multiple rest API services transform it and populate it into new database. There would be huge amount of records that might have to be fetched, transformed and updated this way. But it is one time activity once all the data that we get from rest calls have been transformed and populated into new DB we would not have to re run the transformation anytime later. What is the best way to achieve in spring. \r\n\r\nCan spring batch be possible solution if it has to be a one time execution?","title":"What would be the best approach for fetch, transform and update data in spring?","body":"<p>We have a requirement where we need to pull data from multiple rest API services transform it and populate it into new database. There would be huge amount of records that might have to be fetched, transformed and updated this way. But it is one time activity once all the data that we get from rest calls have been transformed and populated into new DB we would not have to re run the transformation anytime later. What is the best way to achieve in spring.</p>\n<p>Can spring batch be possible solution if it has to be a one time execution?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7999034,"reputation":935,"user_id":6034460,"display_name":"Filipe Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638639643,"creation_date":1638639643,"answer_id":70227999,"question_id":70227930,"body_markdown":"You are trying to call &quot;findViewById&quot; on mrecyclerview, that&#39;s not initialized yet (it&#39;s value is null).\r\n\r\nIt seems you are trying to do the right (bind the recyclerview), but the wrong way. \r\n\r\nGive it a try by changing\r\n\r\n    mrecyclerview.findViewById(R.id.recyclerview);\r\n\r\nto\r\n\r\n    mrecyclerview = (RecyclerView) findViewById(R.id.recyclerview);\r\n\r\nAfter that, you&#39;ll be able to call methods on recyclerview, like .setAdapter(), ...","title":"FATAL EXCEPTION: main in Android studio","body":"<p>You are trying to call &quot;findViewById&quot; on mrecyclerview, that's not initialized yet (it's value is null).</p>\n<p>It seems you are trying to do the right (bind the recyclerview), but the wrong way.</p>\n<p>Give it a try by changing</p>\n<pre><code>mrecyclerview.findViewById(R.id.recyclerview);\n</code></pre>\n<p>to</p>\n<pre><code>mrecyclerview = (RecyclerView) findViewById(R.id.recyclerview);\n</code></pre>\n<p>After that, you'll be able to call methods on recyclerview, like .setAdapter(), ...</p>\n"},{"tags":[],"owner":{"account_id":23545990,"reputation":1,"user_id":17589455,"display_name":"Ved Sengupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638639704,"creation_date":1638639704,"answer_id":70228004,"question_id":70227930,"body_markdown":"You had declared an object by the name `mrecyclerview` right? In line 86 of your code, instead of `mrecyclerview.findViewById(R.id.recyclerview)`, try `mrecyclerview = findViewById(R.id.recyclerview)`. Your error lines show that the problem was caused by a NullPointerException - ` Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference`","title":"FATAL EXCEPTION: main in Android studio","body":"<p>You had declared an object by the name <code>mrecyclerview</code> right? In line 86 of your code, instead of <code>mrecyclerview.findViewById(R.id.recyclerview)</code>, try <code>mrecyclerview = findViewById(R.id.recyclerview)</code>. Your error lines show that the problem was caused by a NullPointerException - <code> Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference</code></p>\n"}],"owner":{"account_id":23332400,"reputation":13,"user_id":17408611,"display_name":"MM Vadhaniya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1638639704,"creation_date":1638638919,"question_id":70227930,"body_markdown":"**Hey Everyone this is my first android app I&#39;m new in Android development. When I try to run this app on my device suddenly it crashes.**\r\n\r\n*And my app crash when I try to log in* \r\n\r\n**This is the main code of JAVA**\r\n\r\n    package com.example.javanots;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    import androidx.recyclerview.widget.StaggeredGridLayoutManager;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n    import com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.firestore.DocumentReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.FirestoreRegistrar;\r\n    import com.google.firebase.firestore.Query;\r\n    import com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n    \r\n    import java.text.BreakIterator;\r\n    \r\n    public class NotesActivity extends AppCompatActivity {\r\n    \r\n        FloatingActionButton mcreatenotefab;\r\n        private FirebaseAuth firebaseAuth;\r\n    \r\n        RecyclerView mrecyclerview;\r\n        StaggeredGridLayoutManager staggeredGridLayoutManager;\r\n    \r\n        FirebaseUser firebaseUser;\r\n        FirebaseFirestore firebaseFirestore;\r\n    \r\n        FirestoreRecyclerAdapter&lt;firebasemodel,NoteViewHolder&gt; noteAdapter;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_notes);\r\n    \r\n            mcreatenotefab=findViewById(R.id.createnotefab);\r\n            firebaseAuth=FirebaseAuth.getInstance();\r\n    \r\n            //Get Data From Particular User Not from All user\r\n            firebaseUser=FirebaseAuth.getInstance().getCurrentUser();\r\n            firebaseFirestore=FirebaseFirestore.getInstance();\r\n    \r\n            getSupportActionBar().setTitle(&quot;All Notes&quot;);\r\n    \r\n            mcreatenotefab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    startActivity(new Intent(NotesActivity.this,Createnote.class));\r\n                }\r\n            });\r\n                //For Get All notes of User\r\n            Query query = firebaseFirestore.collection(&quot;notes&quot;).document(firebaseUser.getUid()).collection(&quot;mynotes&quot;).orderBy(&quot;title&quot;,Query.Direction.ASCENDING);\r\n            FirestoreRecyclerOptions&lt;firebasemodel&gt; allusernotes = new FirestoreRecyclerOptions.Builder&lt;firebasemodel&gt;().setQuery(query,firebasemodel.class).build();\r\n    \r\n            noteAdapter = new FirestoreRecyclerAdapter&lt;firebasemodel, NoteViewHolder&gt;(allusernotes) {\r\n                @Override\r\n                protected void onBindViewHolder(@NonNull NoteViewHolder noteViewHolder, int position, @NonNull firebasemodel firebasemodel) {\r\n                    noteViewHolder.notetitle.setText(firebasemodel.getTitle());\r\n                    noteViewHolder.notecontent.setText(firebasemodel.getContent());\r\n                }\r\n                @NonNull\r\n                @Override\r\n                public NoteViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.notes_layout,parent,false);\r\n                    return new NoteViewHolder(view);\r\n                }\r\n            };\r\n    \r\n            setContentView(R.layout.notes_layout);\r\n            mrecyclerview.findViewById(R.id.recyclerview);\r\n            mrecyclerview.setHasFixedSize(true);\r\n            staggeredGridLayoutManager=new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\r\n            mrecyclerview.setLayoutManager(staggeredGridLayoutManager);\r\n            mrecyclerview.setAdapter(noteAdapter);\r\n        }\r\n        public class NoteViewHolder extends RecyclerView.ViewHolder\r\n        {\r\n    \r\n            private TextView notetitle;\r\n            private TextView notecontent;\r\n            LinearLayout mnote;\r\n    \r\n    \r\n            public NoteViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                notetitle=itemView.findViewById(R.id.notetitel);\r\n                notecontent=itemView.findViewById(R.id.notecontent);\r\n                mnote=itemView.findViewById(R.id.note);\r\n            }\r\n        }\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n    \r\n            getMenuInflater().inflate(R.menu.menu,menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n    \r\n            switch (item.getItemId())\r\n            {\r\n                case R.id.logout: firebaseAuth.signOut();\r\n                finish();\r\n                startActivity(new Intent(NotesActivity.this,MainActivity.class));\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            noteAdapter.startListening();\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n            noteAdapter.startListening();\r\n            if(noteAdapter!=null)\r\n            {\r\n                noteAdapter.startListening();\r\n            }\r\n        }\r\n    }\r\n\r\n**This is my XML codes** \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.NotesActivity&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/createnotefab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_gravity=&quot;bottom|end&quot;\r\n            android:layout_marginRight=&quot;30dp&quot;\r\n            android:layout_marginBottom=&quot;30dp&quot;\r\n            android:background=&quot;#A1F4FB&quot;\r\n            android:src=&quot;@drawable/ic_baseline_add_24&quot;\r\n            app:maxImageSize=&quot;40dp&quot;&gt;\r\n        &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:scrollbars=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n**I&#39;m getting a List of Error I don&#39;t know how to solve it**\r\n   \r\n\r\n     E/AndroidRuntime: FATAL EXCEPTION: main\r\n            Process: com.example.javanots, PID: 24241\r\n            java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.javanots/com.example.javanots.NotesActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3835)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4011)\r\n                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2325)\r\n                at android.os.Handler.dispatchMessage(Handler.java:106)\r\n                at android.os.Looper.loop(Looper.java:246)\r\n                at android.app.ActivityThread.main(ActivityThread.java:8633)\r\n                at java.lang.reflect.Method.invoke(Native Method)\r\n                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n             Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference\r\n                at com.example.javanots.NotesActivity.onCreate(NotesActivity.java:86)\r\n                at android.app.Activity.performCreate(Activity.java:8207)\r\n                at android.app.Activity.performCreate(Activity.java:8191)\r\n                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3808)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4011)&#160;\r\n                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2325)&#160;\r\n                at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                at android.os.Looper.loop(Looper.java:246)&#160;\r\n                at android.app.ActivityThread.main(ActivityThread.java:8633)&#160;\r\n                at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n\r\n**Please Explain My problem&#39;s solution.**\r\n\r\n------------------------------------------------------------------------\r\n","title":"FATAL EXCEPTION: main in Android studio","body":"<p><strong>Hey Everyone this is my first android app I'm new in Android development. When I try to run this app on my device suddenly it crashes.</strong></p>\n<p><em>And my app crash when I try to log in</em></p>\n<p><strong>This is the main code of JAVA</strong></p>\n<pre><code>package com.example.javanots;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.RecyclerView;\nimport androidx.recyclerview.widget.StaggeredGridLayoutManager;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirestoreRegistrar;\nimport com.google.firebase.firestore.Query;\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\n\nimport java.text.BreakIterator;\n\npublic class NotesActivity extends AppCompatActivity {\n\n    FloatingActionButton mcreatenotefab;\n    private FirebaseAuth firebaseAuth;\n\n    RecyclerView mrecyclerview;\n    StaggeredGridLayoutManager staggeredGridLayoutManager;\n\n    FirebaseUser firebaseUser;\n    FirebaseFirestore firebaseFirestore;\n\n    FirestoreRecyclerAdapter&lt;firebasemodel,NoteViewHolder&gt; noteAdapter;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_notes);\n\n        mcreatenotefab=findViewById(R.id.createnotefab);\n        firebaseAuth=FirebaseAuth.getInstance();\n\n        //Get Data From Particular User Not from All user\n        firebaseUser=FirebaseAuth.getInstance().getCurrentUser();\n        firebaseFirestore=FirebaseFirestore.getInstance();\n\n        getSupportActionBar().setTitle(&quot;All Notes&quot;);\n\n        mcreatenotefab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(NotesActivity.this,Createnote.class));\n            }\n        });\n            //For Get All notes of User\n        Query query = firebaseFirestore.collection(&quot;notes&quot;).document(firebaseUser.getUid()).collection(&quot;mynotes&quot;).orderBy(&quot;title&quot;,Query.Direction.ASCENDING);\n        FirestoreRecyclerOptions&lt;firebasemodel&gt; allusernotes = new FirestoreRecyclerOptions.Builder&lt;firebasemodel&gt;().setQuery(query,firebasemodel.class).build();\n\n        noteAdapter = new FirestoreRecyclerAdapter&lt;firebasemodel, NoteViewHolder&gt;(allusernotes) {\n            @Override\n            protected void onBindViewHolder(@NonNull NoteViewHolder noteViewHolder, int position, @NonNull firebasemodel firebasemodel) {\n                noteViewHolder.notetitle.setText(firebasemodel.getTitle());\n                noteViewHolder.notecontent.setText(firebasemodel.getContent());\n            }\n            @NonNull\n            @Override\n            public NoteViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.notes_layout,parent,false);\n                return new NoteViewHolder(view);\n            }\n        };\n\n        setContentView(R.layout.notes_layout);\n        mrecyclerview.findViewById(R.id.recyclerview);\n        mrecyclerview.setHasFixedSize(true);\n        staggeredGridLayoutManager=new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\n        mrecyclerview.setLayoutManager(staggeredGridLayoutManager);\n        mrecyclerview.setAdapter(noteAdapter);\n    }\n    public class NoteViewHolder extends RecyclerView.ViewHolder\n    {\n\n        private TextView notetitle;\n        private TextView notecontent;\n        LinearLayout mnote;\n\n\n        public NoteViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            notetitle=itemView.findViewById(R.id.notetitel);\n            notecontent=itemView.findViewById(R.id.notecontent);\n            mnote=itemView.findViewById(R.id.note);\n        }\n    }\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n\n        getMenuInflater().inflate(R.menu.menu,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        switch (item.getItemId())\n        {\n            case R.id.logout: firebaseAuth.signOut();\n            finish();\n            startActivity(new Intent(NotesActivity.this,MainActivity.class));\n        }\n        return super.onOptionsItemSelected(item);\n    }\n    @Override\n    protected void onStart() {\n        super.onStart();\n        noteAdapter.startListening();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        noteAdapter.startListening();\n        if(noteAdapter!=null)\n        {\n            noteAdapter.startListening();\n        }\n    }\n}\n</code></pre>\n<p><strong>This is my XML codes</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.NotesActivity&quot;&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/createnotefab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_gravity=&quot;bottom|end&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        android:layout_marginBottom=&quot;30dp&quot;\n        android:background=&quot;#A1F4FB&quot;\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\n        app:maxImageSize=&quot;40dp&quot;&gt;\n    &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:scrollbars=&quot;vertical&quot;&gt;\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>I'm getting a List of Error I don't know how to solve it</strong></p>\n<pre><code> E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.example.javanots, PID: 24241\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.javanots/com.example.javanots.NotesActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3835)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4011)\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2325)\n            at android.os.Handler.dispatchMessage(Handler.java:106)\n            at android.os.Looper.loop(Looper.java:246)\n            at android.app.ActivityThread.main(ActivityThread.java:8633)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference\n            at com.example.javanots.NotesActivity.onCreate(NotesActivity.java:86)\n            at android.app.Activity.performCreate(Activity.java:8207)\n            at android.app.Activity.performCreate(Activity.java:8191)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3808)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4011)\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2325)\n            at android.os.Handler.dispatchMessage(Handler.java:106)\n            at android.os.Looper.loop(Looper.java:246)\n            at android.app.ActivityThread.main(ActivityThread.java:8633)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n</code></pre>\n<p><strong>Please Explain My problem's solution.</strong></p>\n<hr />\n"},{"tags":["java","android","post","android-volley"],"comments":[{"owner":{"account_id":9448736,"reputation":674,"user_id":7026461,"accept_rate":75,"display_name":"xgrimau"},"score":0,"creation_date":1638641197,"post_id":70221882,"comment_id":124144038,"body_markdown":"A 500 answer means something unexpected happened in the server. To understand what went wrong we need more information. Does this request work on postman? What is the server expecting in terms of dataTypes?","body":"A 500 answer means something unexpected happened in the server. To understand what went wrong we need more information. Does this request work on postman? What is the server expecting in terms of dataTypes?"},{"owner":{"account_id":21833402,"reputation":26,"user_id":16128066,"display_name":"Emre Atalan"},"score":0,"creation_date":1638648879,"post_id":70221882,"comment_id":124145815,"body_markdown":"I converted my parameter functions (CreditCardParams, ConfigParams...) to new json params, the response is successful. But I don&#39;t understand this solution.\n\nNew json parameters=&gt;\n   jsonObject = new JSONObject(&quot;{\\n&quot; +\n                      &quot; \\&quot;Configuration\\&quot; : {\\n&quot; +\n                      &quot; \\&quot;SELLER\\&quot; : \\&quot;TEST1234\\&quot;,\\n&quot; +\n...\n}})","body":"I converted my parameter functions (CreditCardParams, ConfigParams...) to new json params, the response is successful. But I don&#39;t understand this solution.  New json parameters=&gt;    jsonObject = new JSONObject(&quot;{\\n&quot; +                       &quot; \\&quot;Configuration\\&quot; : {\\n&quot; +                       &quot; \\&quot;SELLER\\&quot; : \\&quot;TEST1234\\&quot;,\\n&quot; + ... }})"}],"answers":[{"tags":[],"owner":{"account_id":23545725,"reputation":1,"user_id":17589227,"display_name":"Okan D&#246;nmez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638638035,"creation_date":1638638035,"answer_id":70227804,"question_id":70221882,"body_markdown":"As you know, 500 server error is an error caused by an exception in the server. If you don&#39;t get an error when you send the JSON file you showed from an http request sender program like postman, the problem is in the JSON object you sent to the server.","title":"Android Post_Method Json Array Response 500","body":"<p>As you know, 500 server error is an error caused by an exception in the server. If you don't get an error when you send the JSON file you showed from an http request sender program like postman, the problem is in the JSON object you sent to the server.</p>\n"}],"owner":{"account_id":21833402,"reputation":26,"user_id":16128066,"display_name":"Emre Atalan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638639279,"creation_date":1638575474,"question_id":70221882,"body_markdown":"I created the functions like the json file in the picture. When I send a post request, the response is &quot;Unexpected response code 500&quot; for. I think the problem is caused by json arrays, I don&#39;t understand exactly why this error is coming. Server url works fine, successfully post on swift. Thanks \r\n\r\n[json_array_requested_from_me][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h21RV.png\r\n\r\n\r\n    private void CreditCardParams(Map&lt;String, String&gt; requestParameters) {\r\n    JSONArray creditCardItems = new JSONArray();\r\n    JSONObject item_creditCardItems = new JSONObject();\r\n    try {\r\n        item_creditCardItems.put(&quot;CC_NUMBER&quot;, &quot;1111&quot;);\r\n        item_creditCardItems.put(&quot;EXP_MONTH&quot;, 11);\r\n        item_creditCardItems.put(&quot;EXP_YEAR&quot;, 1111&quot;);\r\n        item_creditCardItems.put(&quot;CC_CVV&quot;, 111);\r\n        item_creditCardItems.put(&quot;CC_OWNER&quot;, TEST USER);\r\n        item_creditCardItems.put(&quot;INSTALLMENT_NUMBER&quot;, &quot;1&quot;);\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n    creditCardItems.put(item_creditCardItems);\r\n    requestParameters.put(&quot;CreditCard&quot;, (creditCardItems.toString()));\r\n}\r\n\r\n    private void CustomerParams(Map&lt;String, String&gt; requestParameters) {\r\n    JSONArray CustomerItems = new JSONArray();\r\n    JSONObject item_Customer = new JSONObject();\r\n    try {\r\n        item_Customer.put(&quot;FIRST_NAME&quot;, &quot;Firstname&quot;);\r\n        item_Customer.put(&quot;LAST_NAME&quot;, &quot;Lastname&quot;);\r\n        item_Customer.put(&quot;MAIL&quot;, &quot;test@test.com&quot;);\r\n        item_Customer.put(&quot;PHONE&quot;, &quot;+11111111&quot;);\r\n        item_Customer.put(&quot;CITY&quot;, &quot;Test&quot;);\r\n        item_Customer.put(&quot;STATE&quot;, &quot;Test&quot;);\r\n        item_Customer.put(&quot;ADDRESS&quot;, &quot;Test&quot;);\r\n        item_Customer.put(&quot;CLIENT_IP&quot;, &quot;111.11.11.11);\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    CustomerItems.put(item_Customer);\r\n    requestParameters.put(&quot;Customer&quot;, (CustomerItems.toString()));\r\n\r\n}\r\n\r\n    private void ProductParams(Map&lt;String, String&gt; requestParameters) {\r\n    JSONArray ProductItems = new JSONArray();\r\n    JSONObject item_Product = new JSONObject();\r\n    try {\r\n        item_Product.put(&quot;PRODUCT_ID&quot;, &quot;1&quot;);\r\n        item_Product.put(&quot;PRODUCT_NAME&quot;, 1);\r\n        item_Product.put(&quot;PRODUCT_CATEGORY&quot;, Elec.);\r\n        item_Product.put(&quot;PRODUCT_DESCRIPTION&quot;, Info);\r\n        item_Product.put(&quot;PRODUCT_AMOUNT&quot;, 15.00);     \r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n    ProductItems.put(item_Product);\r\n    requestParameters.put(&quot;Product&quot;, (ProductItems.toString()));\r\n\r\n}\r\n\r\n    private void ConfigParams(Map&lt;String, String&gt; requestParameters) {\r\n      JSONArray configItems = new JSONArray();\r\n    JSONObject item = new JSONObject();\r\n    try {\r\n        item.put(&quot;MERCHANT&quot;, &quot;TEST1234&quot;);\r\n        item.put(&quot;MERCHANT_KEY&quot;, 123);\r\n        item.put(&quot;BACK_URL&quot;, &quot;localhost&quot;);\r\n        item.put(&quot;PRICES_CURRENCY&quot;, &quot;USD&quot;);\r\n        item.put(&quot;ORDER_REF_NUMBER&quot;, &quot;RFN0001&quot;);\r\n        item.put(&quot;ORDER_AMOUNT&quot;, 15.00);\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n    configItems.put(item);\r\n    requestParameters.put(&quot;Config&quot;, (configItems.toString()));\r\n}\r\n\r\n        private void post_func(){\r\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\r\n        @Override\r\n        public void onResponse(String response) {\r\n            System.out.println(response);\r\n        }\r\n    },\r\n            new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n        System.out.println(error);\r\n                }\r\n            }\r\n    ){\r\n        @Override\r\n        protected Map&lt;String, String&gt; getParams() {\r\n            Map&lt;String, String&gt; params = new HashMap&lt;String,String&gt;();\r\n            CreditCardParams(params);\r\n            CustomerParams(params);\r\n            ProductParams(params);\r\n            ConfigParams(params);\r\n            return params;\r\n        }\r\n    };\r\n    RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n    requestQueue.add(stringRequest);\r\n}\r\n","title":"Android Post_Method Json Array Response 500","body":"<p>I created the functions like the json file in the picture. When I send a post request, the response is &quot;Unexpected response code 500&quot; for. I think the problem is caused by json arrays, I don't understand exactly why this error is coming. Server url works fine, successfully post on swift. Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/h21RV.png\" rel=\"nofollow noreferrer\">json_array_requested_from_me</a></p>\n<pre><code>private void CreditCardParams(Map&lt;String, String&gt; requestParameters) {\nJSONArray creditCardItems = new JSONArray();\nJSONObject item_creditCardItems = new JSONObject();\ntry {\n    item_creditCardItems.put(&quot;CC_NUMBER&quot;, &quot;1111&quot;);\n    item_creditCardItems.put(&quot;EXP_MONTH&quot;, 11);\n    item_creditCardItems.put(&quot;EXP_YEAR&quot;, 1111&quot;);\n    item_creditCardItems.put(&quot;CC_CVV&quot;, 111);\n    item_creditCardItems.put(&quot;CC_OWNER&quot;, TEST USER);\n    item_creditCardItems.put(&quot;INSTALLMENT_NUMBER&quot;, &quot;1&quot;);\n} catch (JSONException e) {\n    e.printStackTrace();\n}\ncreditCardItems.put(item_creditCardItems);\nrequestParameters.put(&quot;CreditCard&quot;, (creditCardItems.toString()));\n</code></pre>\n<p>}</p>\n<pre><code>private void CustomerParams(Map&lt;String, String&gt; requestParameters) {\nJSONArray CustomerItems = new JSONArray();\nJSONObject item_Customer = new JSONObject();\ntry {\n    item_Customer.put(&quot;FIRST_NAME&quot;, &quot;Firstname&quot;);\n    item_Customer.put(&quot;LAST_NAME&quot;, &quot;Lastname&quot;);\n    item_Customer.put(&quot;MAIL&quot;, &quot;test@test.com&quot;);\n    item_Customer.put(&quot;PHONE&quot;, &quot;+11111111&quot;);\n    item_Customer.put(&quot;CITY&quot;, &quot;Test&quot;);\n    item_Customer.put(&quot;STATE&quot;, &quot;Test&quot;);\n    item_Customer.put(&quot;ADDRESS&quot;, &quot;Test&quot;);\n    item_Customer.put(&quot;CLIENT_IP&quot;, &quot;111.11.11.11);\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n\nCustomerItems.put(item_Customer);\nrequestParameters.put(&quot;Customer&quot;, (CustomerItems.toString()));\n</code></pre>\n<p>}</p>\n<pre><code>private void ProductParams(Map&lt;String, String&gt; requestParameters) {\nJSONArray ProductItems = new JSONArray();\nJSONObject item_Product = new JSONObject();\ntry {\n    item_Product.put(&quot;PRODUCT_ID&quot;, &quot;1&quot;);\n    item_Product.put(&quot;PRODUCT_NAME&quot;, 1);\n    item_Product.put(&quot;PRODUCT_CATEGORY&quot;, Elec.);\n    item_Product.put(&quot;PRODUCT_DESCRIPTION&quot;, Info);\n    item_Product.put(&quot;PRODUCT_AMOUNT&quot;, 15.00);     \n} catch (JSONException e) {\n    e.printStackTrace();\n}\nProductItems.put(item_Product);\nrequestParameters.put(&quot;Product&quot;, (ProductItems.toString()));\n</code></pre>\n<p>}</p>\n<pre><code>private void ConfigParams(Map&lt;String, String&gt; requestParameters) {\n  JSONArray configItems = new JSONArray();\nJSONObject item = new JSONObject();\ntry {\n    item.put(&quot;MERCHANT&quot;, &quot;TEST1234&quot;);\n    item.put(&quot;MERCHANT_KEY&quot;, 123);\n    item.put(&quot;BACK_URL&quot;, &quot;localhost&quot;);\n    item.put(&quot;PRICES_CURRENCY&quot;, &quot;USD&quot;);\n    item.put(&quot;ORDER_REF_NUMBER&quot;, &quot;RFN0001&quot;);\n    item.put(&quot;ORDER_AMOUNT&quot;, 15.00);\n} catch (JSONException e) {\n    e.printStackTrace();\n}\nconfigItems.put(item);\nrequestParameters.put(&quot;Config&quot;, (configItems.toString()));\n</code></pre>\n<p>}</p>\n<pre><code>    private void post_func(){\nStringRequest stringRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\n    @Override\n    public void onResponse(String response) {\n        System.out.println(response);\n    }\n},\n        new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n    System.out.println(error);\n            }\n        }\n){\n    @Override\n    protected Map&lt;String, String&gt; getParams() {\n        Map&lt;String, String&gt; params = new HashMap&lt;String,String&gt;();\n        CreditCardParams(params);\n        CustomerParams(params);\n        ProductParams(params);\n        ConfigParams(params);\n        return params;\n    }\n};\nRequestQueue requestQueue = Volley.newRequestQueue(this);\nrequestQueue.add(stringRequest);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":14252537,"reputation":329,"user_id":10295785,"display_name":"Arild Andreassen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548170339,"creation_date":1548170339,"answer_id":54311332,"question_id":54311109,"body_markdown":"Selenium has a built in scroll to function, if you use\r\n\r\n    WebElement element = driver.findElement(By.cssSelector(&quot;li.ng-scope[translate=&#39;next&#39;]&quot;));\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(element);\r\n    actions.perform();\r\n\r\n\r\nprovided that the identifier is correct","title":"ScrollTo returning and error even though at that location the element is clickable","body":"<p>Selenium has a built in scroll to function, if you use</p>\n\n<pre><code>WebElement element = driver.findElement(By.cssSelector(\"li.ng-scope[translate='next']\"));\nActions actions = new Actions(driver);\nactions.moveToElement(element);\nactions.perform();\n</code></pre>\n\n<p>provided that the identifier is correct</p>\n"}],"owner":{"account_id":7329810,"reputation":89,"user_id":5583115,"display_name":"bradworks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638637656,"creation_date":1548169572,"question_id":54311109,"body_markdown":"I am __scraping__ data of a site that requires me to scroll down then click the next button to a new page. Below is my code:\r\n\r\n    WebElement next = driver.findElement(By.cssSelector(&quot;li.ng-scope[translate=&#39;next&#39;]&quot;));\r\n            row = (ArrayList&lt;WebElement&gt;) driver.findElements(By.cssSelector(&quot;.event-row-container.ng-scope&quot;));\r\n            ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0,&quot;+next.getLocation().y+&quot;)&quot;);\r\n            try {\r\n                Thread.sleep(500);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n            WebDriverWait wait = new WebDriverWait(driver,10);\r\n\r\n            wait.until(ExpectedConditions.elementToBeClickable(next)).click();\r\n                next.click();\r\n\r\nI  end up getting the following error:\r\n\r\n    \r\n\r\n&gt; Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException:\r\n&gt; unknown error: Element &lt;li ng-click=&quot;$ctrl.currentPage !==\r\n&gt; $ctrl.pages.length &amp;amp;&amp;amp; $ctrl.loadPage($ctrl.currentPage + 1);&quot;\r\n&gt; ng-class=&quot;{&#39;page-disabled&#39;: $ctrl.currentPage == $ctrl.pages.length}&quot;\r\n&gt; translate=&quot;next&quot; class=&quot;ng-scope&quot;&gt;...&lt;/li&gt; is not clickable at point\r\n&gt; (360, 14). Other element would receive the click: &lt;div\r\n&gt; class=&quot;mobile-header&quot;&gt;...&lt;/div&gt;   (Session info: chrome=71.0.3578.98) \r\n&gt; (Driver info: chromedriver=2.42.591059\r\n&gt; (a3d9684d10d61aa0c45f6723b327283be1ebaad8),platform=Mac OS X 10.13.6\r\n&gt; x86_64) (WARNING: The server did not provide any stacktrace\r\n&gt; information)\r\n\r\n\r\nThe site i&#39;m trying to scrape is: https://www.sportpesa.co.ke/?sportId=1&amp;section=today","title":"ScrollTo returning and error even though at that location the element is clickable","body":"<p>I am <strong>scraping</strong> data of a site that requires me to scroll down then click the next button to a new page. Below is my code:</p>\n<pre><code>WebElement next = driver.findElement(By.cssSelector(&quot;li.ng-scope[translate='next']&quot;));\n        row = (ArrayList&lt;WebElement&gt;) driver.findElements(By.cssSelector(&quot;.event-row-container.ng-scope&quot;));\n        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0,&quot;+next.getLocation().y+&quot;)&quot;);\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n\n        WebDriverWait wait = new WebDriverWait(driver,10);\n\n        wait.until(ExpectedConditions.elementToBeClickable(next)).click();\n            next.click();\n</code></pre>\n<p>I  end up getting the following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException:\nunknown error: Element ...</li> is not clickable at point\n(360, 14). Other element would receive the click: ...   (Session info: chrome=71.0.3578.98)\n(Driver info: chromedriver=2.42.591059\n(a3d9684d10d61aa0c45f6723b327283be1ebaad8),platform=Mac OS X 10.13.6\nx86_64) (WARNING: The server did not provide any stacktrace\ninformation)</p>\n</blockquote>\n<p>The site i'm trying to scrape is: <a href=\"https://www.sportpesa.co.ke/?sportId=1&amp;section=today\" rel=\"nofollow noreferrer\">https://www.sportpesa.co.ke/?sportId=1&amp;section=today</a></p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":17405548,"reputation":101,"user_id":15302054,"display_name":"Tu Le Anh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638637354,"creation_date":1638637354,"answer_id":70227729,"question_id":70227685,"body_markdown":"In my point, just download the source code from github and modify it yourseft then export that as an .jar\r\n\r\nHow to create an .jar from a java project by Intellij: &lt;https://stackoverflow.com/questions/2025607/how-to-create-a-jar-file-or-export-jar-in-intellij-idea-like-eclipse-java-arch&gt;","title":"How to modifiy a java class in a library used in android studio,kotlin android development","body":"<p>In my point, just download the source code from github and modify it yourseft then export that as an .jar</p>\n<p>How to create an .jar from a java project by Intellij: <a href=\"https://stackoverflow.com/questions/2025607/how-to-create-a-jar-file-or-export-jar-in-intellij-idea-like-eclipse-java-arch\">How to create a .jar file or export JAR in IntelliJ IDEA (like Eclipse Java archive export)?</a></p>\n"}],"owner":{"account_id":22591602,"reputation":109,"user_id":16774621,"display_name":"Dragos Ciupe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638637354,"creation_date":1638636971,"question_id":70227685,"body_markdown":"Basically im using the google maps sdk utility library and they have an IconGenerator class,and all i want to do is just add a new style,which is a color.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/scghC.png\r\n\r\nThis is the class,and i just want to add a public static final int like all those styles and put the case in the switch statement to return a gray hex color code.How can i get acces to this class to modify it and use it in my project?","title":"How to modifiy a java class in a library used in android studio,kotlin android development","body":"<p>Basically im using the google maps sdk utility library and they have an IconGenerator class,and all i want to do is just add a new style,which is a color.</p>\n<p><a href=\"https://i.stack.imgur.com/scghC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scghC.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the class,and i just want to add a public static final int like all those styles and put the case in the switch statement to return a gray hex color code.How can i get acces to this class to modify it and use it in my project?</p>\n"},{"tags":["java","swing","layout-manager","jtextarea","gridbaglayout"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1638615423,"post_id":70224904,"comment_id":124138719,"body_markdown":"I could not reproduce the behaviour here, so it might be an artifact of the JRE being used. Having said that.. *&quot;I am fan of `GridBagLayout`&quot;* is a poor reason for not using a `GridLayout`, IMO.","body":"I could not reproduce the behaviour here, so it might be an artifact of the JRE being used. Having said that.. <i>&quot;I am fan of <code>GridBagLayout</code>&quot;</i> is a poor reason for not using a <code>GridLayout</code>, IMO."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638622813,"post_id":70224904,"comment_id":124139952,"body_markdown":"Java Swing was not designed for proportional layouts as you described.  Give your JTable and your JTextArea the sizes they need and let the JFrame pack to whatever size needed.","body":"Java Swing was not designed for proportional layouts as you described.  Give your JTable and your JTextArea the sizes they need and let the JFrame pack to whatever size needed."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1638626403,"post_id":70224904,"comment_id":124140771,"body_markdown":"@GilbertLeBlanc There are standard layouts which can do it.  Its GridBagLayout which is not designed for proportional layouts.","body":"@GilbertLeBlanc There are standard layouts which can do it.  Its GridBagLayout which is not designed for proportional layouts."},{"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"score":1,"creation_date":1638630794,"post_id":70224904,"comment_id":124141680,"body_markdown":"@AndrewThompson Thanks for comment. No problem, I have to use `GridLayout`, I was wondering why `JTextArea` shrinks without a good reason, The SSCCE is just a minimal excerpt from a more complex GUI which I am working on, and I noticed this *shrink* behaviour to happen unreasonably to the `JScrollPane` which contains the `JTextArea`. Wherever I put it, it shrinks vertically on resize. I suppose the components to obey the setting `weighty`. Anyway thanks :)","body":"@AndrewThompson Thanks for comment. No problem, I have to use <code>GridLayout</code>, I was wondering why <code>JTextArea</code> shrinks without a good reason, The SSCCE is just a minimal excerpt from a more complex GUI which I am working on, and I noticed this <i>shrink</i> behaviour to happen unreasonably to the <code>JScrollPane</code> which contains the <code>JTextArea</code>. Wherever I put it, it shrinks vertically on resize. I suppose the components to obey the setting <code>weighty</code>. Anyway thanks :)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1638631332,"post_id":70224904,"comment_id":124141783,"body_markdown":"*&quot;The SSCCE is just a minimal excerpt from a more complex GUI&quot;* BTW - yes it was a superb SSCCE. It was short, complete, straight to the point and allowed me to test the result with ease. It&#39;s handy to know even if the behaviour is different on different machines - at least then we can rule out the code as being the immediate problem. (Also, I wrote the SSCCE document, and love seeing it being of use to people!)","body":"<i>&quot;The SSCCE is just a minimal excerpt from a more complex GUI&quot;</i> BTW - yes it was a superb SSCCE. It was short, complete, straight to the point and allowed me to test the result with ease. It&#39;s handy to know even if the behaviour is different on different machines - at least then we can rule out the code as being the immediate problem. (Also, I wrote the SSCCE document, and love seeing it being of use to people!)"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638630940,"creation_date":1638630940,"answer_id":70226868,"question_id":70224904,"body_markdown":"GridBagLayout is complex, and while its [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridBagLayout.html) does describe all of its functionality, some of it is easy to misinterpret.\r\n\r\n&gt;I already applied `GridBagConstraints#weighty = 0.5;` to both components, which is supposed to do the job.\r\n\r\nThat is not what weightx and weighty do.\r\n\r\nEqual weightx and weighty values do not coerce components into having the same width or height.  The weight values determine the distribution of *extra space* when a container is larger than the preferred sizes of each component.\r\n\r\nHere is a program which demonstrates this:\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridBagConstraints;\r\n\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JFrame;\r\n\r\n    public class GridBagEqualWeightsDemo {\r\n        static void showWindow() {\r\n            // Source: https://www.gutenberg.org/files/98/98-h/98-h.htm\r\n            String text =\r\n                &quot;It was the best of times, it was the worst of times, it was&quot;\r\n                + &quot; the age of wisdom, it was the age of foolishness, it was the&quot;\r\n                + &quot; epoch of belief, it was the epoch of incredulity, it was the&quot;\r\n                + &quot; season of Light, it was the season of Darkness, it was the&quot;\r\n                + &quot; spring of hope, it was the winter of despair, we had everything&quot;\r\n                + &quot; before us, we had nothing before us, we were all going direct&quot;\r\n                + &quot; to Heaven, we were all going direct the other wayin short,&quot;\r\n                + &quot; the period was so far like the present period, that some of its&quot;\r\n                + &quot; noisiest authorities insisted on its being received, for good&quot;\r\n                + &quot; or for evil, in the superlative degree of comparison only.&quot;;\r\n\r\n            JTextArea topArea = new JTextArea(text, 4, 20);\r\n            topArea.setLineWrap(true);\r\n            topArea.setWrapStyleWord(true);\r\n\r\n            JTextArea bottomArea = new JTextArea(text, 8, 20);\r\n            bottomArea.setLineWrap(true);\r\n            bottomArea.setWrapStyleWord(true);\r\n\r\n            JScrollPane top = new JScrollPane(topArea);\r\n            JScrollPane bottom = new JScrollPane(bottomArea);\r\n\r\n            top.setMinimumSize(top.getPreferredSize());\r\n            bottom.setMinimumSize(bottom.getPreferredSize());\r\n\r\n            JPanel panel = new JPanel(new GridBagLayout());\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n            gbc.weightx = 1;\r\n\r\n            gbc.weighty = 0.5;\r\n            panel.add(top, gbc);\r\n            panel.add(bottom, gbc);\r\n\r\n            JFrame frame = new JFrame(&quot;GridBagConstraints Equal Weights&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(panel);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; showWindow());\r\n        }\r\n    }\r\n\r\nAs you can see, the two components start out with different preferred heights, so GridBagLayout will never give them the same height.  As you make the window taller, the components respective heights look more similar due to the smaller relative difference, but they are never the same.\r\n\r\nGridBagLayout only uses the weighty to determine how to distribute the extra spacethat is, the container height which exceeds each components (different) preferred height.  If the panel is 50 pixels higher than the preferred height, as computed based on each child components preferred size, then equal `weighty` values means each component will be laid out with 25 pixels added to its respective preferred height.\r\n\r\nIf you want to force two components which may have different preferred sizes to always have the same width and/or height, GridBagLayout is the wrong tool for the job.  As you have mentioned, GridLayout is well suited to this.  [SpringLayout](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SpringLayout.html) can also do this, though its usage is complex.\r\n\r\nYou are free (and encouraged!) to use multiple panels inside each other with different layouts.\r\n","title":"How to make components evenly share JPanel container vertical area with GridBagLayout layout on resizing?","body":"<p>GridBagLayout is complex, and while its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\">documentation</a> does describe all of its functionality, some of it is easy to misinterpret.</p>\n<blockquote>\n<p>I already applied <code>GridBagConstraints#weighty = 0.5;</code> to both components, which is supposed to do the job.</p>\n</blockquote>\n<p>That is not what weightx and weighty do.</p>\n<p>Equal weightx and weighty values do not coerce components into having the same width or height.  The weight values determine the distribution of <em>extra space</em> when a container is larger than the preferred sizes of each component.</p>\n<p>Here is a program which demonstrates this:</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.GridBagConstraints;\n\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JPanel;\nimport javax.swing.JFrame;\n\npublic class GridBagEqualWeightsDemo {\n    static void showWindow() {\n        // Source: https://www.gutenberg.org/files/98/98-h/98-h.htm\n        String text =\n            &quot;It was the best of times, it was the worst of times, it was&quot;\n            + &quot; the age of wisdom, it was the age of foolishness, it was the&quot;\n            + &quot; epoch of belief, it was the epoch of incredulity, it was the&quot;\n            + &quot; season of Light, it was the season of Darkness, it was the&quot;\n            + &quot; spring of hope, it was the winter of despair, we had everything&quot;\n            + &quot; before us, we had nothing before us, we were all going direct&quot;\n            + &quot; to Heaven, we were all going direct the other wayin short,&quot;\n            + &quot; the period was so far like the present period, that some of its&quot;\n            + &quot; noisiest authorities insisted on its being received, for good&quot;\n            + &quot; or for evil, in the superlative degree of comparison only.&quot;;\n\n        JTextArea topArea = new JTextArea(text, 4, 20);\n        topArea.setLineWrap(true);\n        topArea.setWrapStyleWord(true);\n\n        JTextArea bottomArea = new JTextArea(text, 8, 20);\n        bottomArea.setLineWrap(true);\n        bottomArea.setWrapStyleWord(true);\n\n        JScrollPane top = new JScrollPane(topArea);\n        JScrollPane bottom = new JScrollPane(bottomArea);\n\n        top.setMinimumSize(top.getPreferredSize());\n        bottom.setMinimumSize(bottom.getPreferredSize());\n\n        JPanel panel = new JPanel(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        gbc.weightx = 1;\n\n        gbc.weighty = 0.5;\n        panel.add(top, gbc);\n        panel.add(bottom, gbc);\n\n        JFrame frame = new JFrame(&quot;GridBagConstraints Equal Weights&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(panel);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; showWindow());\n    }\n}\n</code></pre>\n<p>As you can see, the two components start out with different preferred heights, so GridBagLayout will never give them the same height.  As you make the window taller, the components respective heights look more similar due to the smaller relative difference, but they are never the same.</p>\n<p>GridBagLayout only uses the weighty to determine how to distribute the extra spacethat is, the container height which exceeds each components (different) preferred height.  If the panel is 50 pixels higher than the preferred height, as computed based on each child components preferred size, then equal <code>weighty</code> values means each component will be laid out with 25 pixels added to its respective preferred height.</p>\n<p>If you want to force two components which may have different preferred sizes to always have the same width and/or height, GridBagLayout is the wrong tool for the job.  As you have mentioned, GridLayout is well suited to this.  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SpringLayout.html\" rel=\"nofollow noreferrer\">SpringLayout</a> can also do this, though its usage is complex.</p>\n<p>You are free (and encouraged!) to use multiple panels inside each other with different layouts.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638632479,"creation_date":1638631550,"answer_id":70226935,"question_id":70224904,"body_markdown":"&gt; I already applied GridBagConstraints#weighty = 0.5; to both components, which is supposed to do the job.\r\n\r\nThe `weighty` constraint is used to tell the GridBagLayout how to allocate &quot;extra&quot; (and apparently less) space. \r\n\r\nThat is, each component is first allocated its preferred space. Then if there is extra (or apparently less) space available, that constraint is used.\r\n\r\nIf you add debug code to display the preferred sizes of each scroll pane you will get: \r\n\r\n    java.awt.Dimension[width=223,height=19] // text area\r\n    java.awt.Dimension[width=453,height=403] // table\r\n\r\nSo the issue is with this statement:\r\n\r\n    containerPanel.setPreferredSize(new Dimension(350, 200));\r\n\r\nYou are forcing the components to be smaller than their preferred size. So it appears the GridBagLayout is allocating 50% to each.\r\n\r\n&gt;  I was wondering why JTextArea shrinks without a good reason\r\n\r\nAs the height of the frame grows each component is allocated 50% until the point at which the frame is large enough to display each component at its preferred size. This is why the text area shrinks and the table jumps.\r\n\r\nAs you increase the height from there extra space is allocated at 50/50 as expected.\r\n\r\nIf you uncomment the setPreferredSize() statement you will see the natural layout and the reason for the jumping becomes clear.\r\n\r\n&gt;  I want to make them share the vertical area by percentage for example (%25, %25, 50%)\r\n\r\nIf you want allocations like that then check out [Relative Layout](https://tips4java.wordpress.com/2008/11/02/relative-layout/) which was designed for this purpose.","title":"How to make components evenly share JPanel container vertical area with GridBagLayout layout on resizing?","body":"<blockquote>\n<p>I already applied GridBagConstraints#weighty = 0.5; to both components, which is supposed to do the job.</p>\n</blockquote>\n<p>The <code>weighty</code> constraint is used to tell the GridBagLayout how to allocate &quot;extra&quot; (and apparently less) space.</p>\n<p>That is, each component is first allocated its preferred space. Then if there is extra (or apparently less) space available, that constraint is used.</p>\n<p>If you add debug code to display the preferred sizes of each scroll pane you will get:</p>\n<pre><code>java.awt.Dimension[width=223,height=19] // text area\njava.awt.Dimension[width=453,height=403] // table\n</code></pre>\n<p>So the issue is with this statement:</p>\n<pre><code>containerPanel.setPreferredSize(new Dimension(350, 200));\n</code></pre>\n<p>You are forcing the components to be smaller than their preferred size. So it appears the GridBagLayout is allocating 50% to each.</p>\n<blockquote>\n<p>I was wondering why JTextArea shrinks without a good reason</p>\n</blockquote>\n<p>As the height of the frame grows each component is allocated 50% until the point at which the frame is large enough to display each component at its preferred size. This is why the text area shrinks and the table jumps.</p>\n<p>As you increase the height from there extra space is allocated at 50/50 as expected.</p>\n<p>If you uncomment the setPreferredSize() statement you will see the natural layout and the reason for the jumping becomes clear.</p>\n<blockquote>\n<p>I want to make them share the vertical area by percentage for example (%25, %25, 50%)</p>\n</blockquote>\n<p>If you want allocations like that then check out <a href=\"https://tips4java.wordpress.com/2008/11/02/relative-layout/\" rel=\"nofollow noreferrer\">Relative Layout</a> which was designed for this purpose.</p>\n"}],"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70226935,"answer_count":2,"score":1,"last_activity_date":1638637283,"creation_date":1638614718,"question_id":70224904,"body_markdown":"## The problem: ##\r\n\r\n`JPanel` with `GridBagLayout` contains two `JScrollPane` components, the top one contains `JTextArea`, the bottom one contains `JTable`. I expect this set up to make the components ***fluidly fill*** the container `JPanel` and ***evenly share*** the vertical area of it on resizing. What actually happens is that the top `JScrollPane` component shrinks vertically on resizing giving more vertical area to the bottom `JScrollPane` component to invade; this happens at some sizes, I don not know if they are random.\r\n\r\n## Important notes: ##\r\n\r\nI already applied `GridBagConstraints#weighty = 0.5;` to both components, which is supposed to do the job.\r\n\r\nI noticed that the problem is because of the presence of the `JTextArea`, in that if I **switch locations**; make the `JScrollPane/JTextArea` on the bottom side and `JScrollPane/JTable` on the top side; the bottom component `JScrollPane/JTextArea` shrinks vertically giving more vertical area to the top component `JScrollPane/JTable` to invade.\r\n\r\nI know this exact case can be solved simply using `GridLayout(2,1)` instead of `GridBagLayout` (or may be other solutions), however I am fan of `GridBagLayout` and I want to use most of it. Also if I want to add three components instead of two and I want to make them share the vertical area by percentage for example (%25, %25, 50%) I can use `GridBagConstraints#weighty = (0.25, 0.25, 0.5)` which is easily applicable with `GridBagLayout`.\r\n\r\nSo, in this case how to make components ***evenly share*** the vertical area of `JPanel` container with `GridBagLayout` on resizing?. Or, in other words; how to enforce components to respect `GridBagConstraints#weighty = 0.5;` setting on resizing which is applied to both?\r\n\r\n## Code in [SSCCE][1] format: ##\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.table.DefaultTableModel;\r\n    \r\n    public class GridBagFluidFill {\r\n    \r\n        private static JPanel createFormPanel() {\r\n    \r\n            JPanel containerPanel = new JPanel(new GridBagLayout());\r\n            containerPanel.setPreferredSize(new Dimension(350, 200));\r\n            JScrollPane scrollableTextArea;\r\n            JScrollPane scrollableTable;\r\n    \r\n            JTextArea textArea = new JTextArea();\r\n            scrollableTextArea = new JScrollPane(textArea);\r\n    \r\n            DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot;}, 0);\r\n            JTable table = new JTable(model);\r\n            scrollableTable = new JScrollPane(table);\r\n    \r\n            GridBagConstraints c = new GridBagConstraints();\r\n            c.gridy = 0;\r\n            c.weightx = 1.0;\r\n            // I expect this to reserve 50% of the height all time.\r\n            c.weighty = 0.5;\r\n            c.fill = GridBagConstraints.BOTH;\r\n            c.anchor = GridBagConstraints.PAGE_START;\r\n            containerPanel.add(scrollableTextArea, c);\r\n    \r\n            c = new GridBagConstraints();\r\n            c.gridy = 1;\r\n            c.weightx = 1.0;\r\n            // I expect this to reserve 50% of the height all time.\r\n            c.weighty = 0.5;\r\n            c.fill = GridBagConstraints.BOTH;\r\n            c.anchor = GridBagConstraints.PAGE_END;\r\n            containerPanel.add(scrollableTable, c);\r\n    \r\n            return containerPanel;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            javax.swing.SwingUtilities.invokeLater(() -&gt; {\r\n                JPanel formPanel = createFormPanel();\r\n                JFrame frame = new JFrame(&quot;GridBagFluidFill&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.getContentPane().add(formPanel);\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://sscce.org/","title":"How to make components evenly share JPanel container vertical area with GridBagLayout layout on resizing?","body":"<h2>The problem:</h2>\n<p><code>JPanel</code> with <code>GridBagLayout</code> contains two <code>JScrollPane</code> components, the top one contains <code>JTextArea</code>, the bottom one contains <code>JTable</code>. I expect this set up to make the components <em><strong>fluidly fill</strong></em> the container <code>JPanel</code> and <em><strong>evenly share</strong></em> the vertical area of it on resizing. What actually happens is that the top <code>JScrollPane</code> component shrinks vertically on resizing giving more vertical area to the bottom <code>JScrollPane</code> component to invade; this happens at some sizes, I don not know if they are random.</p>\n<h2>Important notes:</h2>\n<p>I already applied <code>GridBagConstraints#weighty = 0.5;</code> to both components, which is supposed to do the job.</p>\n<p>I noticed that the problem is because of the presence of the <code>JTextArea</code>, in that if I <strong>switch locations</strong>; make the <code>JScrollPane/JTextArea</code> on the bottom side and <code>JScrollPane/JTable</code> on the top side; the bottom component <code>JScrollPane/JTextArea</code> shrinks vertically giving more vertical area to the top component <code>JScrollPane/JTable</code> to invade.</p>\n<p>I know this exact case can be solved simply using <code>GridLayout(2,1)</code> instead of <code>GridBagLayout</code> (or may be other solutions), however I am fan of <code>GridBagLayout</code> and I want to use most of it. Also if I want to add three components instead of two and I want to make them share the vertical area by percentage for example (%25, %25, 50%) I can use <code>GridBagConstraints#weighty = (0.25, 0.25, 0.5)</code> which is easily applicable with <code>GridBagLayout</code>.</p>\n<p>So, in this case how to make components <em><strong>evenly share</strong></em> the vertical area of <code>JPanel</code> container with <code>GridBagLayout</code> on resizing?. Or, in other words; how to enforce components to respect <code>GridBagConstraints#weighty = 0.5;</code> setting on resizing which is applied to both?</p>\n<h2>Code in <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> format:</h2>\n<pre><code>import java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextArea;\nimport javax.swing.table.DefaultTableModel;\n\npublic class GridBagFluidFill {\n\n    private static JPanel createFormPanel() {\n\n        JPanel containerPanel = new JPanel(new GridBagLayout());\n        containerPanel.setPreferredSize(new Dimension(350, 200));\n        JScrollPane scrollableTextArea;\n        JScrollPane scrollableTable;\n\n        JTextArea textArea = new JTextArea();\n        scrollableTextArea = new JScrollPane(textArea);\n\n        DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot;}, 0);\n        JTable table = new JTable(model);\n        scrollableTable = new JScrollPane(table);\n\n        GridBagConstraints c = new GridBagConstraints();\n        c.gridy = 0;\n        c.weightx = 1.0;\n        // I expect this to reserve 50% of the height all time.\n        c.weighty = 0.5;\n        c.fill = GridBagConstraints.BOTH;\n        c.anchor = GridBagConstraints.PAGE_START;\n        containerPanel.add(scrollableTextArea, c);\n\n        c = new GridBagConstraints();\n        c.gridy = 1;\n        c.weightx = 1.0;\n        // I expect this to reserve 50% of the height all time.\n        c.weighty = 0.5;\n        c.fill = GridBagConstraints.BOTH;\n        c.anchor = GridBagConstraints.PAGE_END;\n        containerPanel.add(scrollableTable, c);\n\n        return containerPanel;\n    }\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; {\n            JPanel formPanel = createFormPanel();\n            JFrame frame = new JFrame(&quot;GridBagFluidFill&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(formPanel);\n            frame.pack();\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","servlets","ckfinder","ckfinder3"],"comments":[{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1638624446,"post_id":70225917,"comment_id":124140346,"body_markdown":"A wild guess, could you comment out `registerCKFinder` and use the annotation `@ComponentScan` as shown in 3.1 [here](https://www.baeldung.com/spring-component-scanning)?","body":"A wild guess, could you comment out <code>registerCKFinder</code> and use the annotation <code>@ComponentScan</code> as shown in 3.1 <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1638624600,"post_id":70225917,"comment_id":124140392,"body_markdown":"I mean something like this in your app:\n`@ComponentScan(basePackages = &quot;com.cksource.ckfinder&quot;)\n@Configuration\npublic class MyApp`","body":"I mean something like this in your app: <code>@ComponentScan(basePackages = &quot;com.cksource.ckfinder&quot;) @Configuration public class MyApp</code>"},{"owner":{"account_id":16250332,"reputation":11,"user_id":11734470,"display_name":"Chris Clayson"},"score":0,"creation_date":1638637157,"post_id":70225917,"comment_id":124143147,"body_markdown":"Seems not ... sadly (and I&#39;m not an expert), it looks like `CKFinderServlet` class is not appropriately annotated. Making that change did cause it to pick up the config class and other components, but not the servlet itself.","body":"Seems not ... sadly (and I&#39;m not an expert), it looks like <code>CKFinderServlet</code> class is not appropriately annotated. Making that change did cause it to pick up the config class and other components, but not the servlet itself."},{"owner":{"account_id":16250332,"reputation":11,"user_id":11734470,"display_name":"Chris Clayson"},"score":1,"creation_date":1638640127,"post_id":70225917,"comment_id":124143834,"body_markdown":"Think I&#39;ve solved the problem, the package I was specified in this line:\n`bean.setInitParameters(Map.of(&quot;scan-path&quot;, &quot;&lt;package name&gt;&quot;));`\n\nWas too high-level. It seems the servlet causes does an explicit scan for components in the scan path, so it was picking up all my Spring components.","body":"Think I&#39;ve solved the problem, the package I was specified in this line: <code>bean.setInitParameters(Map.of(&quot;scan-path&quot;, &quot;&lt;package name&gt;&quot;));</code>  Was too high-level. It seems the servlet causes does an explicit scan for components in the scan path, so it was picking up all my Spring components."}],"owner":{"account_id":16250332,"reputation":11,"user_id":11734470,"display_name":"Chris Clayson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638637279,"creation_date":1638623579,"question_id":70225917,"body_markdown":"I have a Spring Boot Web MVC application, that sits at the root of the application. I am trying to add a third party servlet ([CKFinder Java connector](https://ckeditor.com/docs/ckfinder/ckfinder3-java/latest/guides/configuration.html)) to this application.\r\n\r\nI have achieved this with the following:\r\n\r\n```\r\n    @Bean\r\n    public ServletRegistrationBean&lt;CKFinderServlet&gt; registerCkFinder() {\r\n        ServletRegistrationBean&lt;CKFinderServlet&gt; bean =\r\n                new ServletRegistrationBean&lt;&gt;(new CKFinderServlet(), &quot;/ckfinder/*&quot;);\r\n        bean.setLoadOnStartup(-1);\r\n        bean.setInitParameters(\r\n                Map.of(&quot;scan-path&quot;, &quot;&lt;package name&gt;&quot;));\r\n        bean.setMultipartConfig(new MultipartConfigElement(&quot;/tmp/upload&quot;));\r\n        return bean;\r\n    }\r\n```\r\n\r\nThe main website continues to work correctly, but when I try and hit the CKFinder servlet, I get a series of errors that show initialisation issues while errors while trying to evaluate `@Value(...)` parameters while auto-wiring my interceptors and controllers (I don&#39;t fully understand why it is constructing the controllers).\r\n\r\nHaving done some investigation, I get the feeling its to do with application contexts!? I do want to share some context information (such as the security information, logged in user etc), but I otherwise don&#39;t really need any of the other Spring MVC goodness while executing the servlet.\r\n\r\nMy question is threefold:\r\n\r\n 1. Am I right in thinking its to do with contexts? \r\n 1. How do I register the servlet such that it when called the `@Value()` and other Spring stuff evaluates correctly? \r\nOR \r\n 1. How do I register the servlet with a new context such that it doesn&#39;t inherit, and try to initialise, all the Spring MVC components?\r\n\r\nI am also considering putting a controller wrapper around the servlet, but that seems overkill for something that should &quot;just work&quot;.","title":"Spring Boot additional servlet registration","body":"<p>I have a Spring Boot Web MVC application, that sits at the root of the application. I am trying to add a third party servlet (<a href=\"https://ckeditor.com/docs/ckfinder/ckfinder3-java/latest/guides/configuration.html\" rel=\"nofollow noreferrer\">CKFinder Java connector</a>) to this application.</p>\n<p>I have achieved this with the following:</p>\n<pre><code>    @Bean\n    public ServletRegistrationBean&lt;CKFinderServlet&gt; registerCkFinder() {\n        ServletRegistrationBean&lt;CKFinderServlet&gt; bean =\n                new ServletRegistrationBean&lt;&gt;(new CKFinderServlet(), &quot;/ckfinder/*&quot;);\n        bean.setLoadOnStartup(-1);\n        bean.setInitParameters(\n                Map.of(&quot;scan-path&quot;, &quot;&lt;package name&gt;&quot;));\n        bean.setMultipartConfig(new MultipartConfigElement(&quot;/tmp/upload&quot;));\n        return bean;\n    }\n</code></pre>\n<p>The main website continues to work correctly, but when I try and hit the CKFinder servlet, I get a series of errors that show initialisation issues while errors while trying to evaluate <code>@Value(...)</code> parameters while auto-wiring my interceptors and controllers (I don't fully understand why it is constructing the controllers).</p>\n<p>Having done some investigation, I get the feeling its to do with application contexts!? I do want to share some context information (such as the security information, logged in user etc), but I otherwise don't really need any of the other Spring MVC goodness while executing the servlet.</p>\n<p>My question is threefold:</p>\n<ol>\n<li>Am I right in thinking its to do with contexts?</li>\n<li>How do I register the servlet such that it when called the <code>@Value()</code> and other Spring stuff evaluates correctly?\nOR</li>\n<li>How do I register the servlet with a new context such that it doesn't inherit, and try to initialise, all the Spring MVC components?</li>\n</ol>\n<p>I am also considering putting a controller wrapper around the servlet, but that seems overkill for something that should &quot;just work&quot;.</p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1638635567,"post_id":70227469,"comment_id":124142770,"body_markdown":"*I paused the output since it was infinite.* Smells like your terminal has a buffer limit and it&#39;s just discarding the oldest characters.","body":"<i>I paused the output since it was infinite.</i> Smells like your terminal has a buffer limit and it&#39;s just discarding the oldest characters."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638635610,"post_id":70227469,"comment_id":124142781,"body_markdown":"Maybe your output window (e.g. console) runs out of space? Or is this also happening with for example ten prints?","body":"Maybe your output window (e.g. console) runs out of space? Or is this also happening with for example ten prints?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1638635799,"post_id":70227469,"comment_id":124142832,"body_markdown":"Spewing text as fast as possible is going to stress your terminal emulator. Perhaps consider some delays in your tight loops.","body":"Spewing text as fast as possible is going to stress your terminal emulator. Perhaps consider some delays in your tight loops."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638636064,"post_id":70227469,"comment_id":124142892,"body_markdown":"The terminal display has nothing to do with Java","body":"The terminal display has nothing to do with Java"}],"answers":[{"tags":[],"owner":{"account_id":17405548,"reputation":101,"user_id":15302054,"display_name":"Tu Le Anh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638636121,"creation_date":1638636121,"answer_id":70227594,"question_id":70227469,"body_markdown":"I guess you expected a thing such as: \r\n```\r\ngood morning\r\ngood morning\r\nwelcome\r\ngood morning\r\nwelcome\r\ngood morning\r\nwelcome\r\nwelcome\r\n...\r\n```\r\nBut the thing happen here is thread is not stay forever and executed parallel with each other. It execute then jump, execute then jump, .... Beside, the while(true) is execute too fast that will confuse you at the first time, if you set thread.sleep(10) result will much observables\r\n\r\nTry this:\r\n```\r\nclass Mythread1 extends Thread{\r\n    public void run(){\r\n        while (true) {\r\n            System.out.println(&quot;good morning&quot;);\r\n            try {\r\n                Thread.sleep(10);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }}\r\n    }\r\n}\r\nclass Mythread2 extends Thread{\r\n    public void run(){\r\n        while (true) {\r\n            System.out.println(&quot;welcome&quot;);\r\n            try {\r\n                Thread.sleep(10);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\npublic class threads{\r\n    public static void main(String[] args) {\r\n        Mythread1 t1=new Mythread1();\r\n        Mythread2 t2=new Mythread2();\r\n        t1.start();\r\n        t2.start();\r\n    }\r\n}\r\n```","title":"Weird printing behaviour in java threads","body":"<p>I guess you expected a thing such as:</p>\n<pre><code>good morning\ngood morning\nwelcome\ngood morning\nwelcome\ngood morning\nwelcome\nwelcome\n...\n</code></pre>\n<p>But the thing happen here is thread is not stay forever and executed parallel with each other. It execute then jump, execute then jump, .... Beside, the while(true) is execute too fast that will confuse you at the first time, if you set thread.sleep(10) result will much observables</p>\n<p>Try this:</p>\n<pre><code>class Mythread1 extends Thread{\n    public void run(){\n        while (true) {\n            System.out.println(&quot;good morning&quot;);\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }}\n    }\n}\nclass Mythread2 extends Thread{\n    public void run(){\n        while (true) {\n            System.out.println(&quot;welcome&quot;);\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\npublic class threads{\n    public static void main(String[] args) {\n        Mythread1 t1=new Mythread1();\n        Mythread2 t2=new Mythread2();\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638636798,"creation_date":1638636181,"answer_id":70227602,"question_id":70227469,"body_markdown":"Is it the same if you change your code to,\r\n  \r\n    class Mythread1 extends Thread{\r\n        public void run(){\r\n            while (true) {\r\n                System.out.println(&quot;good morning&quot;);\r\n                try {\r\n                    Thread.sleep(100);\r\n                catch(InterruptedException e) {\r\n                    System.out.println(&quot;Interrupted&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    class Mythread2 extends Thread{\r\n        public void run(){\r\n            while (true) {\r\n                System.out.println(&quot;welcome&quot;);\r\n                try {\r\n                    Thread.sleep(100);\r\n                catch(InterruptedException e) {\r\n                    System.out.println(&quot;Interrupted&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n  \r\nA `while(true)` loop is something executed very fast.  \r\nMoreover, you could use `PrintWriter` instead of the slow `System.out.println`.\r\n  \r\n    class Mythread1 extends Thread{\r\n        public void run(){\r\n            PrintWriter writer = new PrintWriter(System.out);\r\n            while (true) {\r\n                writer.println(&quot;good morning&quot;);\r\n                writer.flush();\r\n            }\r\n        }\r\n    }\r\n    class Mythread2 extends Thread{\r\n        public void run(){\r\n            PrintWriter writer = new PrintWriter(System.out);\r\n            while (true) {\r\n                writer.println(&quot;welcome&quot;);\r\n                writer.flush();\r\n            }\r\n        }\r\n    }","title":"Weird printing behaviour in java threads","body":"<p>Is it the same if you change your code to,</p>\n<pre><code>class Mythread1 extends Thread{\n    public void run(){\n        while (true) {\n            System.out.println(&quot;good morning&quot;);\n            try {\n                Thread.sleep(100);\n            catch(InterruptedException e) {\n                System.out.println(&quot;Interrupted&quot;);\n            }\n        }\n    }\n}\nclass Mythread2 extends Thread{\n    public void run(){\n        while (true) {\n            System.out.println(&quot;welcome&quot;);\n            try {\n                Thread.sleep(100);\n            catch(InterruptedException e) {\n                System.out.println(&quot;Interrupted&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>A <code>while(true)</code> loop is something executed very fast.<br />\nMoreover, you could use <code>PrintWriter</code> instead of the slow <code>System.out.println</code>.</p>\n<pre><code>class Mythread1 extends Thread{\n    public void run(){\n        PrintWriter writer = new PrintWriter(System.out);\n        while (true) {\n            writer.println(&quot;good morning&quot;);\n            writer.flush();\n        }\n    }\n}\nclass Mythread2 extends Thread{\n    public void run(){\n        PrintWriter writer = new PrintWriter(System.out);\n        while (true) {\n            writer.println(&quot;welcome&quot;);\n            writer.flush();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23545481,"reputation":1,"user_id":17589018,"display_name":"codersassemble792"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1638636798,"creation_date":1638635209,"question_id":70227469,"body_markdown":"I am new to coding and wrote a very simple java code using the concept of threads. I tried printing two statements &quot;good morning&quot; and &quot;welcome&quot; infinitely using two different threads from two classes to see the behaviour of the threads. However during multiple runs I noticed that sometimes in the output the first line showed incomplete text although not in every single run. Can someone explain what&#39;s going on? \r\n\r\n        class Mythread1 extends Thread{\r\n        public void run(){\r\n            while (true) {\r\n                System.out.println(&quot;good morning&quot;);\r\n            }\r\n        }\r\n    }\r\n    class Mythread2 extends Thread{\r\n        public void run(){\r\n            while (true) {\r\n                System.out.println(&quot;welcome&quot;);\r\n            }\r\n        }\r\n    }\r\n    public class threads{\r\n        public static void main(String[] args) {\r\n            Mythread1 t1=new Mythread1();\r\n            Mythread2 t2=new Mythread2();\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n\r\n\r\n```none\r\nrning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\nwelcome\r\n```\r\nI paused the output since it was infinite.\r\n\r\nRunning again \r\n```none\r\nng\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\ngood morning\r\n```\r\n","title":"Weird printing behaviour in java threads","body":"<p>I am new to coding and wrote a very simple java code using the concept of threads. I tried printing two statements &quot;good morning&quot; and &quot;welcome&quot; infinitely using two different threads from two classes to see the behaviour of the threads. However during multiple runs I noticed that sometimes in the output the first line showed incomplete text although not in every single run. Can someone explain what's going on?</p>\n<pre><code>    class Mythread1 extends Thread{\n    public void run(){\n        while (true) {\n            System.out.println(&quot;good morning&quot;);\n        }\n    }\n}\nclass Mythread2 extends Thread{\n    public void run(){\n        while (true) {\n            System.out.println(&quot;welcome&quot;);\n        }\n    }\n}\npublic class threads{\n    public static void main(String[] args) {\n        Mythread1 t1=new Mythread1();\n        Mythread2 t2=new Mythread2();\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>rning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\nwelcome\n</code></pre>\n<p>I paused the output since it was infinite.</p>\n<p>Running again</p>\n<pre class=\"lang-none prettyprint-override\"><code>ng\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\ngood morning\n</code></pre>\n"},{"tags":["java","android","gradle","sdk","apk"],"answers":[{"tags":[],"owner":{"account_id":11225552,"reputation":91,"user_id":8235269,"display_name":"Vinay Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631711093,"creation_date":1631711093,"answer_id":69193731,"question_id":68564728,"body_markdown":"Fixed in 1.0.3. there was a mistake in generated Gradle POM. update dependency in your project.\r\n\r\n`implementation &#39;ro.holdone:keyboardheightprovider:1.0.3`\r\n","title":"implementation &#39;com.hold1:keyboardheightprovider:0.0.9&#39;","body":"<p>Fixed in 1.0.3. there was a mistake in generated Gradle POM. update dependency in your project.</p>\n<p><code>implementation 'ro.holdone:keyboardheightprovider:1.0.3</code></p>\n"}],"owner":{"account_id":22324539,"reputation":21,"user_id":16546724,"display_name":"zakariae ben messaoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638636758,"creation_date":1627492461,"question_id":68564728,"body_markdown":"This error IS IN A photo editing applications I closed offline gradel mode and it didn&#39;t work Knowing and i change the gradel didn&#39;t work too that \r\n\r\nwhen I click run or trying to upload the APK\r\n\r\nI get this error \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not resolve com.hold1:keyboardheightprovider:0.0.9.\r\n     Required by:\r\n         project :app\r\n      &gt; Could not resolve com.hold1:keyboardheightprovider:0.0.9.\r\n         &gt; Could not get resource &#39;https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom&#39;.\r\n            &gt; Could not GET &#39;https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom&#39;. Received status code 403 from server: Forbidden\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n \r\nI know that&#39;s the error is from\r\ncom.hold1:keyboardheightprovider:0.0.9. \r\n\r\nbut I don&#39;t know what I can do\r\nplease help\r\n\r\n","title":"implementation &#39;com.hold1:keyboardheightprovider:0.0.9&#39;","body":"<p>This error IS IN A photo editing applications I closed offline gradel mode and it didn't work Knowing and i change the gradel didn't work too that</p>\n<p>when I click run or trying to upload the APK</p>\n<p>I get this error</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:checkDebugAarMetadata'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nCould not resolve com.hold1:keyboardheightprovider:0.0.9.\nRequired by:\nproject :app\n&gt; Could not resolve com.hold1:keyboardheightprovider:0.0.9.\n&gt; Could not get resource 'https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom'.\n&gt; Could not GET 'https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom'. Received status code 403 from server: Forbidden</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>I know that's the error is from\ncom.hold1:keyboardheightprovider:0.0.9.</p>\n<p>but I don't know what I can do\nplease help</p>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":6920440,"reputation":1630,"user_id":5313283,"display_name":"M&#252;cahid Kambur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626121531,"creation_date":1626121531,"answer_id":68353508,"question_id":68353351,"body_markdown":"I looked into KeyboardHeightProvider library and I saw that the package name is changed. You should update the package in app gradle.\r\n\r\n    implementation &#39;ro.holdone.keyboardHeightProvider:1.0.1&#39;","title":"Could not resolve com.hold1:keyboardheightprovider:0.0.9","body":"<p>I looked into KeyboardHeightProvider library and I saw that the package name is changed. You should update the package in app gradle.</p>\n<pre><code>implementation 'ro.holdone.keyboardHeightProvider:1.0.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11225552,"reputation":91,"user_id":8235269,"display_name":"Vinay Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631523682,"creation_date":1631518955,"answer_id":69158965,"question_id":68353351,"body_markdown":"Fixed in 1.0.3. there was a mistake in generated Gradle POM. update dependency in your project.\r\n\r\n    implementation &#39;ro.holdone:keyboardheightprovider:1.0.3&#39;\r\n","title":"Could not resolve com.hold1:keyboardheightprovider:0.0.9","body":"<p>Fixed in 1.0.3. there was a mistake in generated Gradle POM. update dependency in your project.</p>\n<pre><code>implementation 'ro.holdone:keyboardheightprovider:1.0.3'\n</code></pre>\n"}],"owner":{"account_id":22192611,"reputation":31,"user_id":16434539,"display_name":"Hayek ab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1697,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638636742,"creation_date":1626120523,"question_id":68353351,"body_markdown":"This error appears in most photo editing applications\r\nI closed offline gradel mode and it didn&#39;t work\r\nKnowing that the application was in the past working without problems, and the problem appeared after updates to Android Studio\r\nTried versions 4.1.1. and 4.1.2. And the. 4.2.2\r\n\r\n```\r\nCould not GET &#39;https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom&#39;. Received status code 403 from server: Forbidden\r\n    Disable Gradle &#39;offline mode&#39; and sync project\r\n\r\nExecuting tasks: [:app:assembleDebug] in project /Users/mohammad/Downloads/QueShot - AdmobAd/QueShot - Green\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve com.hold1:keyboardheightprovider:0.0.9.\r\n     Required by:\r\n         project :app\r\n      &gt; Could not resolve com.hold1:keyboardheightprovider:0.0.9.\r\n         &gt; Could not get resource &#39;https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom&#39;.\r\n            &gt; Could not GET &#39;https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom&#39;. Received status code 403 from server: Forbidden\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n```","title":"Could not resolve com.hold1:keyboardheightprovider:0.0.9","body":"<p>This error appears in most photo editing applications\nI closed offline gradel mode and it didn't work\nKnowing that the application was in the past working without problems, and the problem appeared after updates to Android Studio\nTried versions 4.1.1. and 4.1.2. And the. 4.2.2</p>\n<pre><code>Could not GET 'https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom'. Received status code 403 from server: Forbidden\n    Disable Gradle 'offline mode' and sync project\n\nExecuting tasks: [:app:assembleDebug] in project /Users/mohammad/Downloads/QueShot - AdmobAd/QueShot - Green\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\n   &gt; Could not resolve com.hold1:keyboardheightprovider:0.0.9.\n     Required by:\n         project :app\n      &gt; Could not resolve com.hold1:keyboardheightprovider:0.0.9.\n         &gt; Could not get resource 'https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom'.\n            &gt; Could not GET 'https://dl.bintray.com/crysis21/Android/com/hold1/keyboardheightprovider/0.0.9/keyboardheightprovider-0.0.9.pom'. Received status code 403 from server: Forbidden\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4s\n</code></pre>\n"},{"tags":["java","swing","mouseevent","actionlistener"],"answers":[{"tags":[],"owner":{"account_id":1148764,"reputation":16208,"user_id":1130930,"display_name":"Russell Zahniser"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1327031780,"creation_date":1327031780,"answer_id":8936561,"question_id":8936536,"body_markdown":"In Java, a mouse click only registers if the mouse is pressed and released without moving the mouse at all. This is difficult for most users to accomplish, so most UI elements (like buttons) react to the mouse press and release events and ignore the &quot;click&quot;.\r\n\r\nFor a button, though, a better option is to add an `ActionListener` to it. Then the button itself will listen to the mouse events and decide when it has been clicked.","title":"Java mouse events ignored when mouse is moving?","body":"<p>In Java, a mouse click only registers if the mouse is pressed and released without moving the mouse at all. This is difficult for most users to accomplish, so most UI elements (like buttons) react to the mouse press and release events and ignore the \"click\".</p>\n\n<p>For a button, though, a better option is to add an <code>ActionListener</code> to it. Then the button itself will listen to the mouse events and decide when it has been clicked.</p>\n"},{"tags":[],"owner":{"account_id":15486224,"reputation":407,"user_id":11897477,"display_name":"Oliv&#233;r Raisz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638636469,"creation_date":1638636469,"answer_id":70227631,"question_id":8936536,"body_markdown":"Alright, I may be late to the party but I found some workarounds: \r\n\r\nIf you use either the `mousePressed` (or the `mouseReleased`, similar results) event instead, it&#39;ll work as you intended. Everything in the code stays the same, expect the method name and the `super.mousePressed(e);` call;","title":"Java mouse events ignored when mouse is moving?","body":"<p>Alright, I may be late to the party but I found some workarounds:</p>\n<p>If you use either the <code>mousePressed</code> (or the <code>mouseReleased</code>, similar results) event instead, it'll work as you intended. Everything in the code stays the same, expect the method name and the <code>super.mousePressed(e);</code> call;</p>\n"}],"owner":{"account_id":1185948,"reputation":387,"user_id":1159902,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2782,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":8936561,"answer_count":2,"score":9,"last_activity_date":1638636469,"creation_date":1327031550,"question_id":8936536,"body_markdown":"I&#39;ve been working on a 2d game in java recently, and am currently trying to get the event-handling system working right. I was trying to get a mouse click to start an animation, and it worked until I tried moving the mouse while clicking. At this point nothing happens at all. I am using both mouselistener and mousemotionlistener classes, and the problem still persists.\r\nHere&#39;s the code from Main:\r\n\r\n    public class ML extends MouseAdapter{\r\n\t   public void mouseClicked(MouseEvent m){\r\n\t\t   if(m.getButton()==MouseEvent.BUTTON1)\r\n\t\t   guns.playOnce();\r\n\t   }\r\n\t   public void mouseReleased(MouseEvent m){\r\n\t\t   if(m.getButton()==MouseEvent.BUTTON1);\r\n\t   }\r\n  \r\nIt calls the animator class to play the set of images one time and stop. \r\nThe animator was working perfectly before I included mouse events. I can&#39;t figure out why it wouldn&#39;t work during mouse movement if there is no specified action to perform during that mouse movement.\r\n(If there is an obvious solution, I apologize, I started java not too long ago.)","title":"Java mouse events ignored when mouse is moving?","body":"<p>I've been working on a 2d game in java recently, and am currently trying to get the event-handling system working right. I was trying to get a mouse click to start an animation, and it worked until I tried moving the mouse while clicking. At this point nothing happens at all. I am using both mouselistener and mousemotionlistener classes, and the problem still persists.\nHere's the code from Main:</p>\n\n<pre><code>public class ML extends MouseAdapter{\n   public void mouseClicked(MouseEvent m){\n       if(m.getButton()==MouseEvent.BUTTON1)\n       guns.playOnce();\n   }\n   public void mouseReleased(MouseEvent m){\n       if(m.getButton()==MouseEvent.BUTTON1);\n   }\n</code></pre>\n\n<p>It calls the animator class to play the set of images one time and stop. \nThe animator was working perfectly before I included mouse events. I can't figure out why it wouldn't work during mouse movement if there is no specified action to perform during that mouse movement.\n(If there is an obvious solution, I apologize, I started java not too long ago.)</p>\n"},{"tags":["java","jgit"],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638636369,"creation_date":1417009197,"answer_id":27150698,"question_id":27149949,"body_markdown":"To get a list of tags you can either use `Repository#getTags()` or the `ListTagCommand`.\r\n\r\nThere are annotated and unannotated tags in Git. While unannotated tags directly point to the commit they were placed on, an annotated tag points to a _git object_ that holds - among other meta data like a message - the commit-id.\r\n\r\nThe learning test below ilustrates this:\r\n\r\n    public class TagLearningTest {\r\n    \r\n      @Rule\r\n      public final TemporaryFolder tempFolder = new TemporaryFolder();\r\n    \r\n      private Git git;\r\n    \r\n      @Test\r\n      public void testUnannotatedTag() throws Exception {\r\n        RevCommit commit = git.commit().setMessage(&quot;Tag Me!&quot;).call();\r\n        \r\n        Ref tagRef = git.tag().setAnnotated(false).setName(&quot;Unannotated_Tag&quot;).call();\r\n        \r\n        assertEquals(commit.getId(), tagRef.getObjectId());\r\n        assertNull(git.getRepository().peel(tagRef).getPeeledObjectId());\r\n      }\r\n    \r\n      @Test\r\n      public void testAnnotatedTag() throws Exception {\r\n        RevCommit commit = git.commit().setMessage(&quot;Tag Me!&quot;).call();\r\n        \r\n        Ref tagRef = git.tag().setAnnotated(true).setName(&quot;Annotated_Tag&quot;).call();\r\n        \r\n        assertEquals(commit, git.getRepository().peel(tagRef).getPeeledObjectId());\r\n        ObjectReader objectReader = git.getRepository().newObjectReader();\r\n        ObjectLoader objectLoader = objectReader.open(tagRef.getObjectId());\r\n        RevTag tag = RevTag.parse(objectLoader.getBytes());\r\n        objectReader.release();\r\n        assertEquals(commit.getId(), tag.getObject());\r\n      }\r\n      \r\n      @Before\r\n      public void setUp() throws GitAPIException {\r\n        git = Git.init().setDirectory(tempFolder.getRoot()).call();\r\n      }\r\n    }\r\n\r\nIn JGit, an annotated tag is represented by a `RevTag` that is stored under the id to which the tag ref points to.\r\n\r\nTo tell one form the other, you can _peel_ the ref and then test if its `getPeeledObjectId()` returns non-null.\r\n\r\n    Ref peeledRef = git.getRepository().peel( tagRef );\r\n    boolean annotatedTag = peeledRef.getPeeledObjectId() != null;\r\n\r\nThe peeled object id is the one that points to the commit on which the annotated tag was created.","title":"List commits associated with a given tag with JGit","body":"<p>To get a list of tags you can either use <code>Repository#getTags()</code> or the <code>ListTagCommand</code>.</p>\n<p>There are annotated and unannotated tags in Git. While unannotated tags directly point to the commit they were placed on, an annotated tag points to a <em>git object</em> that holds - among other meta data like a message - the commit-id.</p>\n<p>The learning test below ilustrates this:</p>\n<pre><code>public class TagLearningTest {\n\n  @Rule\n  public final TemporaryFolder tempFolder = new TemporaryFolder();\n\n  private Git git;\n\n  @Test\n  public void testUnannotatedTag() throws Exception {\n    RevCommit commit = git.commit().setMessage(&quot;Tag Me!&quot;).call();\n    \n    Ref tagRef = git.tag().setAnnotated(false).setName(&quot;Unannotated_Tag&quot;).call();\n    \n    assertEquals(commit.getId(), tagRef.getObjectId());\n    assertNull(git.getRepository().peel(tagRef).getPeeledObjectId());\n  }\n\n  @Test\n  public void testAnnotatedTag() throws Exception {\n    RevCommit commit = git.commit().setMessage(&quot;Tag Me!&quot;).call();\n    \n    Ref tagRef = git.tag().setAnnotated(true).setName(&quot;Annotated_Tag&quot;).call();\n    \n    assertEquals(commit, git.getRepository().peel(tagRef).getPeeledObjectId());\n    ObjectReader objectReader = git.getRepository().newObjectReader();\n    ObjectLoader objectLoader = objectReader.open(tagRef.getObjectId());\n    RevTag tag = RevTag.parse(objectLoader.getBytes());\n    objectReader.release();\n    assertEquals(commit.getId(), tag.getObject());\n  }\n  \n  @Before\n  public void setUp() throws GitAPIException {\n    git = Git.init().setDirectory(tempFolder.getRoot()).call();\n  }\n}\n</code></pre>\n<p>In JGit, an annotated tag is represented by a <code>RevTag</code> that is stored under the id to which the tag ref points to.</p>\n<p>To tell one form the other, you can <em>peel</em> the ref and then test if its <code>getPeeledObjectId()</code> returns non-null.</p>\n<pre><code>Ref peeledRef = git.getRepository().peel( tagRef );\nboolean annotatedTag = peeledRef.getPeeledObjectId() != null;\n</code></pre>\n<p>The peeled object id is the one that points to the commit on which the annotated tag was created.</p>\n"},{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1417098752,"creation_date":1417098752,"answer_id":27173024,"question_id":27149949,"body_markdown":"**List all Tags:**\r\n\r\n    List&lt;Ref&gt; call = new Git(repository).tagList().call();\r\n    for (Ref ref : call) {\r\n        System.out.println(&quot;Tag: &quot; + ref + &quot; &quot; + ref.getName() + &quot; &quot; + ref.getObjectId().getName());\r\n    }\r\n\r\n**List commits based on tag:**\r\n\r\nI&#39;d use the log-command based on the tag-name with the peeled-magic as noted by R&#252;diger:\r\n\r\n            LogCommand log = new Git(repository).log();\r\n\r\n            Ref peeledRef = repository.peel(ref);\r\n            if(peeledRef.getPeeledObjectId() != null) {\r\n            \tlog.add(peeledRef.getPeeledObjectId());\r\n            } else {\r\n            \tlog.add(ref.getObjectId());\r\n            }\r\n\r\n\t\t\tIterable&lt;RevCommit&gt; logs = log.call();\r\n\t\t\tfor (RevCommit rev : logs) {\r\n\t\t\t\tSystem.out.println(&quot;Commit: &quot; + rev /* + &quot;, name: &quot; + rev.getName() + &quot;, id: &quot; + rev.getId().getName() */);\r\n\t\t\t}\r\n\r\nSee also my [jgit-cookbook][1] for some related examples.\r\n\r\n\r\n  [1]: https://github.com/centic9/jgit-cookbook/","title":"List commits associated with a given tag with JGit","body":"<p><strong>List all Tags:</strong></p>\n\n<pre><code>List&lt;Ref&gt; call = new Git(repository).tagList().call();\nfor (Ref ref : call) {\n    System.out.println(\"Tag: \" + ref + \" \" + ref.getName() + \" \" + ref.getObjectId().getName());\n}\n</code></pre>\n\n<p><strong>List commits based on tag:</strong></p>\n\n<p>I'd use the log-command based on the tag-name with the peeled-magic as noted by Rdiger:</p>\n\n<pre><code>        LogCommand log = new Git(repository).log();\n\n        Ref peeledRef = repository.peel(ref);\n        if(peeledRef.getPeeledObjectId() != null) {\n            log.add(peeledRef.getPeeledObjectId());\n        } else {\n            log.add(ref.getObjectId());\n        }\n\n        Iterable&lt;RevCommit&gt; logs = log.call();\n        for (RevCommit rev : logs) {\n            System.out.println(\"Commit: \" + rev /* + \", name: \" + rev.getName() + \", id: \" + rev.getId().getName() */);\n        }\n</code></pre>\n\n<p>See also my <a href=\"https://github.com/centic9/jgit-cookbook/\" rel=\"noreferrer\">jgit-cookbook</a> for some related examples.</p>\n"}],"owner":{"account_id":68968,"reputation":1758,"user_id":200937,"accept_rate":57,"display_name":"YaOg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3922,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1638636369,"creation_date":1417006917,"question_id":27149949,"body_markdown":"I need to create a history file that details all tags and for each tag, all its commits.\r\n\r\nI&#39;ve tried to call `getTags()` on the repository object and use those object id&#39;s, but they are not commit id&#39;s.\r\n\r\nI also tried to use `getAllRefsByPeeledObjectId()` on the repository and that does bring back commits but I can&#39;t associate them to tags.\r\n\r\nAny ideas?","title":"List commits associated with a given tag with JGit","body":"<p>I need to create a history file that details all tags and for each tag, all its commits.</p>\n\n<p>I've tried to call <code>getTags()</code> on the repository object and use those object id's, but they are not commit id's.</p>\n\n<p>I also tried to use <code>getAllRefsByPeeledObjectId()</code> on the repository and that does bring back commits but I can't associate them to tags.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","cassandra","datastax","cql","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638636116,"creation_date":1638277662,"answer_id":70169854,"question_id":70122864,"body_markdown":"Are you able to modify your database query? If so, you could modify your query to `SELECT COUNT(user_id) FROM table` and then you will only need to look at one row of data.\r\n\r\nIf not, it looks like you need to use the `.fetchMoreResults()` method to get the next results. I see you don&#39;t want to use async at all. That can be avoided by just calling `.get()`\r\n\r\n    Statement statement = session.prepare(&quot;SELECT user_id from table&quot;);\r\n    ResultSet resultSet = session.execute(statement);\r\n    int count = resultSet.getAvailableWithoutFetching();\r\n    while (!resultSet.isExhausted()) {\r\n        resultSet = resultSet.fetchMoreResults().get();\r\n        count += resultSet.getAvailableWithoutFetching();\r\n    }\r\n    \r\nFull disclosure; I have not used DSE before, this is just what I could glean from their [docs][1]. Things that will need to be checked still, that I can think of:\r\n\r\n1. should the condition be checking `isExhausted()` or `isFullyFetched()`?\r\n2. does `getAvailableWithoutFetching()` return the number of results in the current page, or the total number of results fetched so far? I&#39;ve assumed the former, but if it is the latter then `count` should just be set based on the last `resultSet`&#39;s available size, instead of being added to for each page\r\n\r\nEDIT: I see you have version [4.6.1][2], ok. It seems like the `pagingState()` is worth looking into.\r\n\r\n    Statement statement = session.prepare(&quot;SELECT user_id from table&quot;);\r\n    ResultSet resultSet = session.execute(statement);\r\n    int count = resultSet.getAvailableWithoutFetching();\r\n    ByteBuffer pagingState = resultSet.getExecutionInfo().getPagingState();\r\n    while (pagingState != null) {\r\n        statement = statement.copy(pagingState);\r\n        resultSet = session.execute(statement);\r\n        pagingState = resultSet.getExecutionInfo().getPagingState();\r\n        count += resultSet.getAvailableWithoutFetching();\r\n    }\r\n    return count;\r\n    \r\n\r\n  [1]: https://docs.datastax.com/en/drivers/java-dse/1.0/com/datastax/driver/core/ResultSet.html\r\n  [2]: https://javadoc.io/static/com.datastax.oss/java-driver-core/4.6.1/com/datastax/oss/driver/api/core/cql/ResultSet.html","title":"How to get next resultset in Cassandra DB","body":"<p>Are you able to modify your database query? If so, you could modify your query to <code>SELECT COUNT(user_id) FROM table</code> and then you will only need to look at one row of data.</p>\n<p>If not, it looks like you need to use the <code>.fetchMoreResults()</code> method to get the next results. I see you don't want to use async at all. That can be avoided by just calling <code>.get()</code></p>\n<pre><code>Statement statement = session.prepare(&quot;SELECT user_id from table&quot;);\nResultSet resultSet = session.execute(statement);\nint count = resultSet.getAvailableWithoutFetching();\nwhile (!resultSet.isExhausted()) {\n    resultSet = resultSet.fetchMoreResults().get();\n    count += resultSet.getAvailableWithoutFetching();\n}\n</code></pre>\n<p>Full disclosure; I have not used DSE before, this is just what I could glean from their <a href=\"https://docs.datastax.com/en/drivers/java-dse/1.0/com/datastax/driver/core/ResultSet.html\" rel=\"nofollow noreferrer\">docs</a>. Things that will need to be checked still, that I can think of:</p>\n<ol>\n<li>should the condition be checking <code>isExhausted()</code> or <code>isFullyFetched()</code>?</li>\n<li>does <code>getAvailableWithoutFetching()</code> return the number of results in the current page, or the total number of results fetched so far? I've assumed the former, but if it is the latter then <code>count</code> should just be set based on the last <code>resultSet</code>'s available size, instead of being added to for each page</li>\n</ol>\n<p>EDIT: I see you have version <a href=\"https://javadoc.io/static/com.datastax.oss/java-driver-core/4.6.1/com/datastax/oss/driver/api/core/cql/ResultSet.html\" rel=\"nofollow noreferrer\">4.6.1</a>, ok. It seems like the <code>pagingState()</code> is worth looking into.</p>\n<pre><code>Statement statement = session.prepare(&quot;SELECT user_id from table&quot;);\nResultSet resultSet = session.execute(statement);\nint count = resultSet.getAvailableWithoutFetching();\nByteBuffer pagingState = resultSet.getExecutionInfo().getPagingState();\nwhile (pagingState != null) {\n    statement = statement.copy(pagingState);\n    resultSet = session.execute(statement);\n    pagingState = resultSet.getExecutionInfo().getPagingState();\n    count += resultSet.getAvailableWithoutFetching();\n}\nreturn count;\n</code></pre>\n"}],"owner":{"account_id":10942565,"reputation":1473,"user_id":8041854,"accept_rate":50,"display_name":"Gvtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70169854,"answer_count":1,"score":0,"last_activity_date":1638636116,"creation_date":1637922178,"question_id":70122864,"body_markdown":"Table contains more than 100,000 rows. I am trying to get the total row count. I do not want to use async.\r\n\r\n    Statement statement = session.prepare(&quot;SELECT user_id from table&quot;);\r\n    ResultSet resultSet = session.execute(statement);\r\n    int count = resultSet.getAvailableWithoutFetching()\r\n\r\nI am getting 5000 rows from the above. Is it possible to iterate and get the next 5000 resultsets till 100,000 so I can sum up the rows to get the total count.\r\nI am getting timeout error when using `session.execute(statement.setPageSize(100000));`\r\n\r\n - DSE - 6.8.9\r\n - Cql - 3.4.5\r\n - Cassandra - 4.0.0.681\r\n - Java driver - 4.6.1\r\n\r\n\r\n","title":"How to get next resultset in Cassandra DB","body":"<p>Table contains more than 100,000 rows. I am trying to get the total row count. I do not want to use async.</p>\n<pre><code>Statement statement = session.prepare(&quot;SELECT user_id from table&quot;);\nResultSet resultSet = session.execute(statement);\nint count = resultSet.getAvailableWithoutFetching()\n</code></pre>\n<p>I am getting 5000 rows from the above. Is it possible to iterate and get the next 5000 resultsets till 100,000 so I can sum up the rows to get the total count.\nI am getting timeout error when using <code>session.execute(statement.setPageSize(100000));</code></p>\n<ul>\n<li>DSE - 6.8.9</li>\n<li>Cql - 3.4.5</li>\n<li>Cassandra - 4.0.0.681</li>\n<li>Java driver - 4.6.1</li>\n</ul>\n"},{"tags":["java","selenium","material-ui","datetimepicker"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1638865789,"post_id":70227541,"comment_id":124194996,"body_markdown":"Tried by myself, hit the same exception. There is another div that would recieve the click. Tried click using Actions and JavascriptExecutor but no success. The only solution left is to sendkeys direct to the input.","body":"Tried by myself, hit the same exception. There is another div that would recieve the click. Tried click using Actions and JavascriptExecutor but no success. The only solution left is to sendkeys direct to the input."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638897247,"post_id":70227541,"comment_id":124207659,"body_markdown":"I believe the answer here is that your developers (or you) need to add an `id` attribute or some other unique identifier so that you could create the appropriate XPath to locate the specific component. Remember, the main purpose of these web elements it to provide a function or service, not to be testable by Selenium or some other framework. YOU need to build the elements in the right way that serve your purpose.","body":"I believe the answer here is that your developers (or you) need to add an <code>id</code> attribute or some other unique identifier so that you could create the appropriate XPath to locate the specific component. Remember, the main purpose of these web elements it to provide a function or service, not to be testable by Selenium or some other framework. YOU need to build the elements in the right way that serve your purpose."}],"owner":{"account_id":23545450,"reputation":1,"user_id":17588995,"display_name":"AutomationConfusion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638635651,"creation_date":1638635651,"question_id":70227541,"body_markdown":"The website I&#39;m working with has an identical datetimepicker component to `MobileDateTimePicker` [shown in this page][1].\r\n\r\nI can get past the date selection by using xpath of the exact day I want in calendar view however that doesn&#39;t work for the hours/minutes in the analog clock view shown after selecting a date. \r\n\r\nIs there a specific way to select hours/minutes in material ui date time picker?\r\n\r\n(Manually clicking on exact hours/minutes get the job done but selenium is throwing `Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException: element click intercepted` error when when clicking on span class for the respective hour/minute(s) shown in analog clock.)\r\n\r\nAny help is appreciated. Thanks in advance.\r\n\r\n\r\n  [1]: https://mui.com/components/date-time-picker/#responsiveness","title":"How to set an exact date and time in material ui date time picker component using selenium and java?","body":"<p>The website I'm working with has an identical datetimepicker component to <code>MobileDateTimePicker</code> <a href=\"https://mui.com/components/date-time-picker/#responsiveness\" rel=\"nofollow noreferrer\">shown in this page</a>.</p>\n<p>I can get past the date selection by using xpath of the exact day I want in calendar view however that doesn't work for the hours/minutes in the analog clock view shown after selecting a date.</p>\n<p>Is there a specific way to select hours/minutes in material ui date time picker?</p>\n<p>(Manually clicking on exact hours/minutes get the job done but selenium is throwing <code>Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException: element click intercepted</code> error when when clicking on span class for the respective hour/minute(s) shown in analog clock.)</p>\n<p>Any help is appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring","logging","encoding","logbook"],"answers":[{"tags":[],"owner":{"account_id":21158332,"reputation":41,"user_id":15557142,"display_name":" "},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620313433,"creation_date":1618986645,"answer_id":67190373,"question_id":65474932,"body_markdown":"I am using spring boot, I had the same problem and these lines in the application.yml helped me:\r\n1) For spring boot version below 2.3.0 \r\n**spring.http.encoding.charset = UTF-8 and \r\nspring.http.encoding.force-response = true**\r\n2) For spring boot version higher than 2.3.0 **server.servlet.encoding.charset = UTF-8 and server.servlet.encoding.charset.force-response = true**\r\n","title":"Incorrect display of logs in Cyrillic in Logbook","body":"<p>I am using spring boot, I had the same problem and these lines in the application.yml helped me:</p>\n<ol>\n<li>For spring boot version below 2.3.0\n<strong>spring.http.encoding.charset = UTF-8 and\nspring.http.encoding.force-response = true</strong></li>\n<li>For spring boot version higher than 2.3.0 <strong>server.servlet.encoding.charset = UTF-8 and server.servlet.encoding.charset.force-response = true</strong></li>\n</ol>\n"}],"owner":{"account_id":18311013,"reputation":123,"user_id":13333820,"display_name":"hdbgage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1638635436,"creation_date":1609144945,"question_id":65474932,"body_markdown":"At the moment, Logbook logs requests and responses in the wrong encoding (ISO-8859-1 instead of UTF-8), which is why the Cyrillic alphabet is displayed incorrectly.\r\n\r\n    {&quot;message&quot;:&quot;&#208;&#208;&#190;&#208;&#188;&#208;&#181;&#209; &#209;&#208;&#181;&#208;&#187;&#208;&#181;&#209;&#208;&#190;&#208;&#189;&#208;&#176; &#208;&#180;&#208;&#190;&#208;&#187;&#208;&#182;&#208;&#181;&#208;&#189; &#208;&#177;&#209;&#209;&#209; &#208;&#183;&#208;&#176;&#208;&#191;&#208;&#190;&#208;&#187;&#208;&#189;&#208;&#181;&#208;&#189;}\r\n\r\nCurrently (library version 2.3.0), the log text is generated in org.zalando.logbook.DefaultHttpLogFormatter#format(org.zalando.logbook.Correlation, org.zalando.logbook.HttpResponse), where org is eventually called.zalando. logbook.servlet. LocalResponse#getCharset, which returns ISO-8859-1 encoding instead of UTF_8.\r\n\r\nHow do I change the encoding? How do I configure this?","title":"Incorrect display of logs in Cyrillic in Logbook","body":"<p>At the moment, Logbook logs requests and responses in the wrong encoding (ISO-8859-1 instead of UTF-8), which is why the Cyrillic alphabet is displayed incorrectly.</p>\n<pre><code>{&quot;message&quot;:&quot;    }\n</code></pre>\n<p>Currently (library version 2.3.0), the log text is generated in org.zalando.logbook.DefaultHttpLogFormatter#format(org.zalando.logbook.Correlation, org.zalando.logbook.HttpResponse), where org is eventually called.zalando. logbook.servlet. LocalResponse#getCharset, which returns ISO-8859-1 encoding instead of UTF_8.</p>\n<p>How do I change the encoding? How do I configure this?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638611759,"post_id":70224459,"comment_id":124138104,"body_markdown":"There is no way you can return the `result` object as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this article, [How to read data from Firebase Realtime Database using get()?](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can return the <code>result</code> object as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a>."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1638612024,"post_id":70224459,"comment_id":124138137,"body_markdown":"@AlexMamo: Thanks for your comment. Reading the official Firebase documentation I think it says that you can return the Java object &quot;Calling getValue() on a snapshot returns the Java object representation of the data. &quot; (https://firebase.google.com/docs/database/android/read-and-write#java_4). So actually I would like to get the result of the query in any form (ideally the Java objects as it is stated in the documentation).","body":"@AlexMamo: Thanks for your comment. Reading the official Firebase documentation I think it says that you can return the Java object &quot;Calling getValue() on a snapshot returns the Java object representation of the data. &quot; (<a href=\"https://firebase.google.com/docs/database/android/read-and-write#java_4\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write#ja&zwnj;&#8203;va_4</a>). So actually I would like to get the result of the query in any form (ideally the Java objects as it is stated in the documentation)."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1638612465,"post_id":70224459,"comment_id":124138220,"body_markdown":"@AlexMamo: So is there no way to query the Firebase Database immediately and check whether a certain entry exists? Thanks for your link to the article. Unfortunately I don&#39;t use Kotlin so I can&#39;t really work with that.","body":"@AlexMamo: So is there no way to query the Firebase Database immediately and check whether a certain entry exists? Thanks for your link to the article. Unfortunately I don&#39;t use Kotlin so I can&#39;t really work with that."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638612656,"post_id":70224459,"comment_id":124138243,"body_markdown":"Sure you can check if a specific [child already exists](https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database).","body":"Sure you can check if a specific <a href=\"https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database\">child already exists</a>."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1638614264,"post_id":70224459,"comment_id":124138540,"body_markdown":"@AlexMamo: Thanks for the comment. But how can I get the result of a query like I did with `Query query = FirebaseDatabase.getInstance(&quot;https://...app&quot;).getReference(&quot;Ratings&quot;)\n                .orderByChild(&quot;orderID&quot;).equalTo(orderID);`. I have a query and need the results  of it. If I understood you correctly, I can&#39;t get the Java objects from this query, but can I at least get the String information as in SQL from that query? If I can&#39;t get back the Java object as you stated, what is the offical documentation then referring to when saying &quot;returns the Java object representation of the data&quot;","body":"@AlexMamo: Thanks for the comment. But how can I get the result of a query like I did with <code>Query query = FirebaseDatabase.getInstance(&quot;https:&#47;&#47;...app&quot;).getReference(&zwnj;&#8203;&quot;Ratings&quot;)                 .orderByChild(&quot;orderID&quot;).equalTo(orderID);</code>. I have a query and need the results  of it. If I understood you correctly, I can&#39;t get the Java objects from this query, but can I at least get the String information as in SQL from that query? If I can&#39;t get back the Java object as you stated, what is the offical documentation then referring to when saying &quot;returns the Java object representation of the data&quot;"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1638629281,"post_id":70224459,"comment_id":124141344,"body_markdown":"You may find this [question](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value) helpful","body":"You may find this <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value\">question</a> helpful"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638611775,"answer_count":0,"score":0,"last_activity_date":1638634952,"creation_date":1638610327,"question_id":70224459,"body_markdown":"I am using the Firebas Realtime Database for Android and I would like to read data from my database from the node (&quot;Table&quot;) &quot;Ratings&quot;. Alls entries in that node are from the type `Item_FirebaseDB_Rating` and all of them have a variable called `orderID`. Now I would like to query the Firebase Database once to check, whether there is an entry in it with a specific `orderID`. This should just be a single check, whenever I call the method `checkIfItemAlreadyRated_FirebaseDB ` and it should not continuously check for updates (as many other Firebase Database queries do). \r\n\r\nFor that I use the following method:\r\n\r\n     public static boolean checkIfItemAlreadyRated_FirebaseDB (int orderID) {\r\n            boolean result = false;\r\n    // Not the whole name of the database is given in the URL for privacy reasons.\r\n            DatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;https://...firebasedatabase.app&quot;).getReference();\r\n    \r\n    \r\n            ValueEventListener ratingListener = new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n    \r\n                    Item_FirebaseDB_Rating rating = dataSnapshot.getValue(Item_FirebaseDB_Rating.class);\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    // Getting Post failed, log a message\r\n                    Log.e(&quot;LogTag&quot;, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n                }\r\n            };\r\n    \r\n            Query query = FirebaseDatabase.getInstance(&quot;https://...firebasedatabase.app&quot;).getReference(&quot;Ratings&quot;)\r\n                    .orderByChild(&quot;orderID&quot;).equalTo(orderID);\r\n            query.addListenerForSingleValueEvent(ratingListener);\r\n    \r\n            if(query != null) {\r\n                result = true;\r\n            }\r\n    \r\n    \r\n            return result;\r\n        }\r\n\r\nI have 2 question on that:\r\n\r\n 1. When I call this method, I get an error that I don&#39;t understand &quot;    com.google.firebase.database.DatabaseException: Class com.example.td.bapp.Item_FirebaseDB_Rating does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped.&quot;\r\n 2. I define a query to get the `Item_FirebaseDB_Rating rating` from the database. Now my question is, how can I get this object out of the Listener and use it in the other part of the method? So how can I get the results of the query? There should be something like `query.getResults()` or similar. But I could not find it. \r\n\r\n\r\n\r\n","title":"How to get the result of a query with Firebase Database in Android","body":"<p>I am using the Firebas Realtime Database for Android and I would like to read data from my database from the node (&quot;Table&quot;) &quot;Ratings&quot;. Alls entries in that node are from the type <code>Item_FirebaseDB_Rating</code> and all of them have a variable called <code>orderID</code>. Now I would like to query the Firebase Database once to check, whether there is an entry in it with a specific <code>orderID</code>. This should just be a single check, whenever I call the method <code>checkIfItemAlreadyRated_FirebaseDB </code> and it should not continuously check for updates (as many other Firebase Database queries do).</p>\n<p>For that I use the following method:</p>\n<pre><code> public static boolean checkIfItemAlreadyRated_FirebaseDB (int orderID) {\n        boolean result = false;\n// Not the whole name of the database is given in the URL for privacy reasons.\n        DatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;https://...firebasedatabase.app&quot;).getReference();\n\n\n        ValueEventListener ratingListener = new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n\n                Item_FirebaseDB_Rating rating = dataSnapshot.getValue(Item_FirebaseDB_Rating.class);\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                // Getting Post failed, log a message\n                Log.e(&quot;LogTag&quot;, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n            }\n        };\n\n        Query query = FirebaseDatabase.getInstance(&quot;https://...firebasedatabase.app&quot;).getReference(&quot;Ratings&quot;)\n                .orderByChild(&quot;orderID&quot;).equalTo(orderID);\n        query.addListenerForSingleValueEvent(ratingListener);\n\n        if(query != null) {\n            result = true;\n        }\n\n\n        return result;\n    }\n</code></pre>\n<p>I have 2 question on that:</p>\n<ol>\n<li>When I call this method, I get an error that I don't understand &quot;    com.google.firebase.database.DatabaseException: Class com.example.td.bapp.Item_FirebaseDB_Rating does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped.&quot;</li>\n<li>I define a query to get the <code>Item_FirebaseDB_Rating rating</code> from the database. Now my question is, how can I get this object out of the Listener and use it in the other part of the method? So how can I get the results of the query? There should be something like <code>query.getResults()</code> or similar. But I could not find it.</li>\n</ol>\n"},{"tags":["java","chdir"],"comments":[{"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"score":0,"creation_date":1637748514,"post_id":70093853,"comment_id":123907086,"body_markdown":"why can&#39;t you use absolute path instead?","body":"why can&#39;t you use absolute path instead?"},{"owner":{"account_id":22323778,"reputation":302,"user_id":16546065,"display_name":"64Bit1990"},"score":0,"creation_date":1637748716,"post_id":70093853,"comment_id":123907169,"body_markdown":"I don&#39;t use absolute path because the path has to be dynamic depending on the data passed to the script.\nFor this reason I have saved the paths in a configuration file with `Properties scriptProperties = new Properties ();` and depending on the operation I take the properties necessary to create the path and perform the operation","body":"I don&#39;t use absolute path because the path has to be dynamic depending on the data passed to the script. For this reason I have saved the paths in a configuration file with <code>Properties scriptProperties = new Properties ();</code> and depending on the operation I take the properties necessary to create the path and perform the operation"},{"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"score":0,"creation_date":1637749135,"post_id":70093853,"comment_id":123907349,"body_markdown":"I don&#39;t think this question should be closed - the other question does not have answers, nor does it have alternatives.","body":"I don&#39;t think this question should be closed - the other question does not have answers, nor does it have alternatives."},{"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"score":1,"creation_date":1637749145,"post_id":70093853,"comment_id":123907354,"body_markdown":"you can  convert from relative path to absolute with `getAbsolutePath`","body":"you can  convert from relative path to absolute with <code>getAbsolutePath</code>"},{"owner":{"account_id":6440126,"reputation":6358,"user_id":4990392,"display_name":"Dada"},"score":1,"creation_date":1637749758,"post_id":70093853,"comment_id":123907595,"body_markdown":"@MrParrot The duplicate target already asks the same question. And it has answers. The fact that the answers say &quot;it&#39;s not possible&quot; is irrelevant. If anyone knows a better answer, then the place to post it is on the duplicate target.","body":"@MrParrot The duplicate target already asks the same question. And it has answers. The fact that the answers say &quot;it&#39;s not possible&quot; is irrelevant. If anyone knows a better answer, then the place to post it is on the duplicate target."}],"answers":[{"tags":[],"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637748868,"creation_date":1637748868,"answer_id":70094242,"question_id":70093853,"body_markdown":"If you can use absolute paths (you can convert a relative path to an absolute path by means of `getAbsolutePath`), it should be as simple as:\r\n\r\n```java\r\nPath source = Paths.get(&quot;/my/source/dir/sourcefile.txt&quot;);\r\nPath target = Paths.get(&quot;/my/target/dir/targetfile.txt&quot;); \r\n\r\nFiles.move(source, target); // move\r\nFiles.copy(source, target, StandardCopyOption.REPLACE_EXISTING); //copy\r\n```","title":"Change directory in Java like Perl chdir","body":"<p>If you can use absolute paths (you can convert a relative path to an absolute path by means of <code>getAbsolutePath</code>), it should be as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path source = Paths.get(&quot;/my/source/dir/sourcefile.txt&quot;);\nPath target = Paths.get(&quot;/my/target/dir/targetfile.txt&quot;); \n\nFiles.move(source, target); // move\nFiles.copy(source, target, StandardCopyOption.REPLACE_EXISTING); //copy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16215668,"reputation":9,"user_id":11708570,"display_name":"Vladmix6"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637749039,"creation_date":1637749039,"answer_id":70094291,"question_id":70093853,"body_markdown":"I&#39;m not sure if you can execute all of those commands in Java (because I&#39;m not familiar with all of them), but at least for the usual System commands (like &quot;chdir&quot;) should be possible using this approach: \r\n\r\n    Process exec = Runtime.getRuntime().exec(&quot;sudo -v&quot;);\r\n\r\nor:\r\n\r\n    Process exec = Runtime.getRuntime().exec(&quot;pkill -f &quot; + processName);\r\n\r\nor like this:\r\n\r\n    String[] cmd = { &quot;/bin/sh&quot;, &quot;-c&quot;, &quot;cd /var; ls -l&quot; };\r\n    Process p = Runtime.getRuntime().exec(cmd);\r\n\r\nAs you can see &quot;**exec**&quot; method requires a string containing your desired console command. Also for more complex explanations you can consult this book: https://alvinalexander.com/java/edu/pj/pj010016/. I hope I gor it right ( your question I mean). Cheers!\r\n","title":"Change directory in Java like Perl chdir","body":"<p>I'm not sure if you can execute all of those commands in Java (because I'm not familiar with all of them), but at least for the usual System commands (like &quot;chdir&quot;) should be possible using this approach:</p>\n<pre><code>Process exec = Runtime.getRuntime().exec(&quot;sudo -v&quot;);\n</code></pre>\n<p>or:</p>\n<pre><code>Process exec = Runtime.getRuntime().exec(&quot;pkill -f &quot; + processName);\n</code></pre>\n<p>or like this:</p>\n<pre><code>String[] cmd = { &quot;/bin/sh&quot;, &quot;-c&quot;, &quot;cd /var; ls -l&quot; };\nProcess p = Runtime.getRuntime().exec(cmd);\n</code></pre>\n<p>As you can see &quot;<strong>exec</strong>&quot; method requires a string containing your desired console command. Also for more complex explanations you can consult this book: <a href=\"https://alvinalexander.com/java/edu/pj/pj010016/\" rel=\"nofollow noreferrer\">https://alvinalexander.com/java/edu/pj/pj010016/</a>. I hope I gor it right ( your question I mean). Cheers!</p>\n"}],"owner":{"account_id":22323778,"reputation":302,"user_id":16546065,"display_name":"64Bit1990"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1637748901,"answer_count":2,"score":1,"last_activity_date":1638634723,"creation_date":1637747120,"question_id":70093853,"body_markdown":"In my company we are updating web software that uses a Perl script to perform specific operations. In updating the script, it will be rewritten in Java.\r\n\r\nThe main operations of the script are to move between folders and copy / remove files within them.\r\n\r\nI need to perform Java commands like `chdir`,` rcopy`, `rmove`,` fcopy`, etc which are used in the current Perl script. Searching both on the web and here on Stack Overflow I read that Java does not offer equivalent commands. Is there a way to perform these operations?\r\n\r\nFor now from the Java documentation I was thinking of using `java.nio.file.Files`. Are there better alternatives?\r\n","title":"Change directory in Java like Perl chdir","body":"<p>In my company we are updating web software that uses a Perl script to perform specific operations. In updating the script, it will be rewritten in Java.</p>\n<p>The main operations of the script are to move between folders and copy / remove files within them.</p>\n<p>I need to perform Java commands like <code>chdir</code>,<code> rcopy</code>, <code>rmove</code>,<code> fcopy</code>, etc which are used in the current Perl script. Searching both on the web and here on Stack Overflow I read that Java does not offer equivalent commands. Is there a way to perform these operations?</p>\n<p>For now from the Java documentation I was thinking of using <code>java.nio.file.Files</code>. Are there better alternatives?</p>\n"},{"tags":["java","android","kotlin","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638585429,"post_id":70222607,"comment_id":124135035,"body_markdown":"A successfully generated download URL should *never* give a 403, since it gives public access to the file. If you log `it.toString()` and try to open that URL in the browser, can you access the file?","body":"A successfully generated download URL should <i>never</i> give a 403, since it gives public access to the file. If you log <code>it.toString()</code> and try to open that URL in the browser, can you access the file?"},{"owner":{"account_id":18970001,"reputation":71,"user_id":13843688,"display_name":"callMe_whatever"},"score":0,"creation_date":1638586103,"post_id":70222607,"comment_id":124135094,"body_markdown":"@FrankvanPuffelen I tried to load the url using my browser and it gives me the same error. I don&#39;t know if it&#39;s something to do with my nested `if` statement","body":"@FrankvanPuffelen I tried to load the url using my browser and it gives me the same error. I don&#39;t know if it&#39;s something to do with my nested <code>if</code> statement"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638586253,"post_id":70222607,"comment_id":124135106,"body_markdown":"Hmm... I&#39;m not sure. Hopefully somebody else sees what might be causing this.","body":"Hmm... I&#39;m not sure. Hopefully somebody else sees what might be causing this."},{"owner":{"account_id":18970001,"reputation":71,"user_id":13843688,"display_name":"callMe_whatever"},"score":0,"creation_date":1638586447,"post_id":70222607,"comment_id":124135119,"body_markdown":"@FrankvanPuffelen no worries, thanks for having a look(: Do you know if there&#39;s any other way to accomplish the task?","body":"@FrankvanPuffelen no worries, thanks for having a look(: Do you know if there&#39;s any other way to accomplish the task?"},{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":0,"creation_date":1638592809,"post_id":70222607,"comment_id":124135718,"body_markdown":"Check your Firebase Storage security rules. You might have denied incoming requests.","body":"Check your Firebase Storage security rules. You might have denied incoming requests."},{"owner":{"account_id":18970001,"reputation":71,"user_id":13843688,"display_name":"callMe_whatever"},"score":0,"creation_date":1638593268,"post_id":70222607,"comment_id":124135761,"body_markdown":"@ArpitShukla you&#39;re right, it was to do with security rules. I updated them and now I can get viewable URLs, but the issue is that now, instead of having URLs that point to separate files, all of the generated URLs point to the exact same file (which is not the way I stored them in the input ArrayList). Do you have any idea what could be causing the issue?","body":"@ArpitShukla you&#39;re right, it was to do with security rules. I updated them and now I can get viewable URLs, but the issue is that now, instead of having URLs that point to separate files, all of the generated URLs point to the exact same file (which is not the way I stored them in the input ArrayList). Do you have any idea what could be causing the issue?"},{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":0,"creation_date":1638593368,"post_id":70222607,"comment_id":124135771,"body_markdown":"That&#39;s because you are uploading all files to the same `storageRef`. You need to put all files to different locations.","body":"That&#39;s because you are uploading all files to the same <code>storageRef</code>. You need to put all files to different locations."},{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":0,"creation_date":1638593447,"post_id":70222607,"comment_id":124135781,"body_markdown":"Also, you are iterating from `i=0` to `i=arrayList.size-1`, so the condtion `i == arrayList.size` will never be true. I guess you should check `updatedArrayList.size == arrayList.size`","body":"Also, you are iterating from <code>i=0</code> to <code>i=arrayList.size-1</code>, so the condtion <code>i == arrayList.size</code> will never be true. I guess you should check <code>updatedArrayList.size == arrayList.size</code>"},{"owner":{"account_id":18970001,"reputation":71,"user_id":13843688,"display_name":"callMe_whatever"},"score":0,"creation_date":1638594298,"post_id":70222607,"comment_id":124135872,"body_markdown":"@ArpitShukla Ah! great catch - thanks a lot for pointing that out. About the solution for the URLs, I tried using `if`-statements and there was a noticeable lag. Do you know if there&#39;s an efficient way to do it?","body":"@ArpitShukla Ah! great catch - thanks a lot for pointing that out. About the solution for the URLs, I tried using <code>if</code>-statements and there was a noticeable lag. Do you know if there&#39;s an efficient way to do it?"},{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":0,"creation_date":1638599451,"post_id":70222607,"comment_id":124136375,"body_markdown":"There was a lag because of `if` conditions? I didn&#39;t get that. What do you mean?","body":"There was a lag because of <code>if</code> conditions? I didn&#39;t get that. What do you mean?"},{"owner":{"account_id":18970001,"reputation":71,"user_id":13843688,"display_name":"callMe_whatever"},"score":0,"creation_date":1638633609,"post_id":70222607,"comment_id":124142296,"body_markdown":"@ArpitShukla year, there is a significant lag, even though it is working. I&#39;ll find ways to optimize it. Thanks for the help(:","body":"@ArpitShukla year, there is a significant lag, even though it is working. I&#39;ll find ways to optimize it. Thanks for the help(:"}],"answers":[{"tags":[],"owner":{"account_id":18970001,"reputation":71,"user_id":13843688,"display_name":"callMe_whatever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638633880,"creation_date":1638633880,"answer_id":70227261,"question_id":70222607,"body_markdown":"The issue wasn&#39;t with the logic, it was to do with the security rules for the storage. This is how I resolved the problem:\r\n\r\n**Update storage security rules to:**\r\n\r\n    rules_version = &#39;2&#39;;\r\n    service firebase.storage {\r\n      match /b/{bucket}/o {\r\n        match /{allPaths=**} {\r\n          allow write: if request.auth != null; \r\n          allow read;\r\n        }\r\n      }\r\n    }\r\n\r\n**Reason for the error detailed in the question:**\r\nThe default read and write rules only allow users to read from the storage if they&#39;re authenticated. Changing this by using the above storage rules should fix the issue.","title":"Firebase &quot;putFile()&quot; for more than one file at a time (Kotlin)","body":"<p>The issue wasn't with the logic, it was to do with the security rules for the storage. This is how I resolved the problem:</p>\n<p><strong>Update storage security rules to:</strong></p>\n<pre><code>rules_version = '2';\nservice firebase.storage {\n  match /b/{bucket}/o {\n    match /{allPaths=**} {\n      allow write: if request.auth != null; \n      allow read;\n    }\n  }\n}\n</code></pre>\n<p><strong>Reason for the error detailed in the question:</strong>\nThe default read and write rules only allow users to read from the storage if they're authenticated. Changing this by using the above storage rules should fix the issue.</p>\n"}],"owner":{"account_id":18970001,"reputation":71,"user_id":13843688,"display_name":"callMe_whatever"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70227261,"answer_count":1,"score":0,"last_activity_date":1638633880,"creation_date":1638585214,"question_id":70222607,"body_markdown":"I&#39;m working on a way to pass multiple files (in one go) to the firebase storage. To do so, I&#39;m using the `putFile()` method. This method works perfectly with 1 file, but I&#39;m struggling to get it to work for multiple files (that are stored in an `ArrayList`) at a time. Below is the logic I have used (I know it&#39;s wrong. Any help is much appreciated):\r\n\r\n1. Store files that I want to pass to the storage folder in an `ArrayList`\r\n2. Using a `for-loop`, iterate through the said `ArrayList` and put items at `[i]` --changes \r\n3. In an `OnSuccessListener` for 2, `downloadUrl`\r\n4. Initialise an `ArrayList` to store the `downloadUrl` result\r\n5. In an `OnSuccessListener` for 3, add the downloaded url from 3 into an updated `ArrayList`, only if the current position (i) is == `ArrayList.size-1`. I use this so that there aren&#39;t any duplicated instances every single time that the method is called (i.e. when the loop runs), but the method is only called when the first 4 (above) are done\r\n6. Call a method that uploads the `ArrayList` generated from 5 (+ other things) to a rtdb \r\n\r\n**Below is the code I have written:**\r\n\r\n\r\n        for (i in 0 until arrayList.size){\r\n            storageRef.putFile(arrayList[i])\r\n                .addOnSuccessListener {\r\n                    Log.d(&quot;TAG&quot;, &quot;Successfully uploaded file: ${it.metadata?.path}&quot;)\r\n\r\n                    storageRef.downloadUrl.addOnSuccessListener { it -&gt;\r\n                        it.toString()\r\n                        Log.d(&quot;TAG&quot;, &quot;File location: $it&quot;)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tupdatedArrayList.add(it.toString())\r\n\r\n                        if (i == arrayList.size){\t\t\t\t\t\r\n\t\t\t\t\t\t\t//method that creates an instance of an object and passes data to the rtdb (firebase)\r\n                            createInstanceUploadToFirebase(id, updatedArrayList)\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n\r\n\r\nThe issue with the above is that I now get the following error when I try to access (load the file using the generated `downloadUrl`) the files (apart from the last one) using the `downloadUrl` and only seem to have access to the item at the very last index:\r\n\r\n        {\r\n          &quot;error&quot;: {\r\n            &quot;code&quot;: 403,\r\n            &quot;message&quot;: &quot;Permission denied.&quot;\r\n          }\r\n        }\r\n\r\nAny help is appreciated(:","title":"Firebase &quot;putFile()&quot; for more than one file at a time (Kotlin)","body":"<p>I'm working on a way to pass multiple files (in one go) to the firebase storage. To do so, I'm using the <code>putFile()</code> method. This method works perfectly with 1 file, but I'm struggling to get it to work for multiple files (that are stored in an <code>ArrayList</code>) at a time. Below is the logic I have used (I know it's wrong. Any help is much appreciated):</p>\n<ol>\n<li>Store files that I want to pass to the storage folder in an <code>ArrayList</code></li>\n<li>Using a <code>for-loop</code>, iterate through the said <code>ArrayList</code> and put items at <code>[i]</code> --changes</li>\n<li>In an <code>OnSuccessListener</code> for 2, <code>downloadUrl</code></li>\n<li>Initialise an <code>ArrayList</code> to store the <code>downloadUrl</code> result</li>\n<li>In an <code>OnSuccessListener</code> for 3, add the downloaded url from 3 into an updated <code>ArrayList</code>, only if the current position (i) is == <code>ArrayList.size-1</code>. I use this so that there aren't any duplicated instances every single time that the method is called (i.e. when the loop runs), but the method is only called when the first 4 (above) are done</li>\n<li>Call a method that uploads the <code>ArrayList</code> generated from 5 (+ other things) to a rtdb</li>\n</ol>\n<p><strong>Below is the code I have written:</strong></p>\n<pre><code>    for (i in 0 until arrayList.size){\n        storageRef.putFile(arrayList[i])\n            .addOnSuccessListener {\n                Log.d(&quot;TAG&quot;, &quot;Successfully uploaded file: ${it.metadata?.path}&quot;)\n\n                storageRef.downloadUrl.addOnSuccessListener { it -&gt;\n                    it.toString()\n                    Log.d(&quot;TAG&quot;, &quot;File location: $it&quot;)\n                    \n                    updatedArrayList.add(it.toString())\n\n                    if (i == arrayList.size){                   \n                        //method that creates an instance of an object and passes data to the rtdb (firebase)\n                        createInstanceUploadToFirebase(id, updatedArrayList)\n                    }\n                }\n            }\n    }\n</code></pre>\n<p>The issue with the above is that I now get the following error when I try to access (load the file using the generated <code>downloadUrl</code>) the files (apart from the last one) using the <code>downloadUrl</code> and only seem to have access to the item at the very last index:</p>\n<pre><code>    {\n      &quot;error&quot;: {\n        &quot;code&quot;: 403,\n        &quot;message&quot;: &quot;Permission denied.&quot;\n      }\n    }\n</code></pre>\n<p>Any help is appreciated(:</p>\n"},{"tags":["java","spring-boot","http-headers","locale"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638633490,"creation_date":1638633490,"answer_id":70227202,"question_id":70226270,"body_markdown":"That is the consequence of Spring Framework code. If you check `HttpHeaders` [code][1], you will find that the implementation of the method `setAcceptLanguageAsLocales` is as follows:\r\n```java\r\npublic void setAcceptLanguageAsLocales(List&lt;Locale&gt; locales) {\r\n  setAcceptLanguage(locales.stream()\r\n      .map(locale -&gt; new Locale.LanguageRange(locale.toLanguageTag()))\r\n      .collect(Collectors.toList()));\r\n}\r\n```\r\n\r\nThe important part is the conversion to a `Locale.LanguageRange` object. If you inspect its code, you will find that its `LanguageRange(String range, double weight)` constructor is implemented as follows:\r\n```java\r\npublic LanguageRange(String range, double weight) {\r\n    if (range == null) {\r\n        throw new NullPointerException();\r\n    }\r\n    if (weight &lt; MIN_WEIGHT || weight &gt; MAX_WEIGHT) {\r\n        throw new IllegalArgumentException(&quot;weight=&quot; + weight);\r\n    }\r\n\r\n    range = range.toLowerCase(Locale.ROOT);\r\n\r\n    // Do syntax check.\r\n    boolean isIllFormed = false;\r\n    String[] subtags = range.split(&quot;-&quot;);\r\n    if (isSubtagIllFormed(subtags[0], true)\r\n        || range.endsWith(&quot;-&quot;)) {\r\n        isIllFormed = true;\r\n    } else {\r\n        for (int i = 1; i &lt; subtags.length; i++) {\r\n            if (isSubtagIllFormed(subtags[i], false)) {\r\n                isIllFormed = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    if (isIllFormed) {\r\n        throw new IllegalArgumentException(&quot;range=&quot; + range);\r\n    }\r\n\r\n    this.range = range;\r\n    this.weight = weight;\r\n}\r\n```\r\n\r\nThe important part is the line `range = range.toLowerCase(Locale.ROOT);` that actually converts everything in the provided `locale.toLanguageTag()` to lowercase, hence the result that you observed. The code below mimics Spring Framework code and will show you the results:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Locale&gt; locales = List.of(Locale.US, Locale.GERMANY);\r\n        System.out.println(&quot;::::: Original Locales :::::&quot;);\r\n        System.out.println(locales);\r\n\r\n        System.out.println(&quot;::::: Language Tags :::::&quot;);\r\n        List&lt;Locale.LanguageRange&gt; languages = locales.stream()\r\n                .map(locale -&gt; {\r\n                    String languageTag = locale.toLanguageTag();\r\n                    System.out.println(languageTag);\r\n\r\n                    return new Locale.LanguageRange(languageTag);\r\n                })\r\n                .collect(Collectors.toList());\r\n        System.out.println(&quot;::::: Locales Language Rages :::::&quot;);\r\n        System.out.println(languages);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/HttpHeaders.java","title":"HttpHeaders::setAcceptLanguageAsLocales makes header lowercase","body":"<p>That is the consequence of Spring Framework code. If you check <code>HttpHeaders</code> <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/HttpHeaders.java\" rel=\"nofollow noreferrer\">code</a>, you will find that the implementation of the method <code>setAcceptLanguageAsLocales</code> is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setAcceptLanguageAsLocales(List&lt;Locale&gt; locales) {\n  setAcceptLanguage(locales.stream()\n      .map(locale -&gt; new Locale.LanguageRange(locale.toLanguageTag()))\n      .collect(Collectors.toList()));\n}\n</code></pre>\n<p>The important part is the conversion to a <code>Locale.LanguageRange</code> object. If you inspect its code, you will find that its <code>LanguageRange(String range, double weight)</code> constructor is implemented as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public LanguageRange(String range, double weight) {\n    if (range == null) {\n        throw new NullPointerException();\n    }\n    if (weight &lt; MIN_WEIGHT || weight &gt; MAX_WEIGHT) {\n        throw new IllegalArgumentException(&quot;weight=&quot; + weight);\n    }\n\n    range = range.toLowerCase(Locale.ROOT);\n\n    // Do syntax check.\n    boolean isIllFormed = false;\n    String[] subtags = range.split(&quot;-&quot;);\n    if (isSubtagIllFormed(subtags[0], true)\n        || range.endsWith(&quot;-&quot;)) {\n        isIllFormed = true;\n    } else {\n        for (int i = 1; i &lt; subtags.length; i++) {\n            if (isSubtagIllFormed(subtags[i], false)) {\n                isIllFormed = true;\n                break;\n            }\n        }\n    }\n    if (isIllFormed) {\n        throw new IllegalArgumentException(&quot;range=&quot; + range);\n    }\n\n    this.range = range;\n    this.weight = weight;\n}\n</code></pre>\n<p>The important part is the line <code>range = range.toLowerCase(Locale.ROOT);</code> that actually converts everything in the provided <code>locale.toLanguageTag()</code> to lowercase, hence the result that you observed. The code below mimics Spring Framework code and will show you the results:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Locale&gt; locales = List.of(Locale.US, Locale.GERMANY);\n        System.out.println(&quot;::::: Original Locales :::::&quot;);\n        System.out.println(locales);\n\n        System.out.println(&quot;::::: Language Tags :::::&quot;);\n        List&lt;Locale.LanguageRange&gt; languages = locales.stream()\n                .map(locale -&gt; {\n                    String languageTag = locale.toLanguageTag();\n                    System.out.println(languageTag);\n\n                    return new Locale.LanguageRange(languageTag);\n                })\n                .collect(Collectors.toList());\n        System.out.println(&quot;::::: Locales Language Rages :::::&quot;);\n        System.out.println(languages);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6063614,"reputation":13,"user_id":4734704,"display_name":"Kamui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70227202,"answer_count":1,"score":1,"last_activity_date":1638633490,"creation_date":1638626375,"question_id":70226270,"body_markdown":"When I use setAcceptLanguageAsLocales, header content is all lowercase\r\n```java\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setAcceptLanguageAsLocales(List.of(Locale.US, Locale.GERMANY));\r\n```\r\n\r\nResult:\r\n\r\n    Accept-Language: en-us, de-de\r\n\r\nWhy it is converted to lowercase? I would expect:\r\n\r\n    Accept-Language: en-US, de-DE\r\n\r\n","title":"HttpHeaders::setAcceptLanguageAsLocales makes header lowercase","body":"<p>When I use setAcceptLanguageAsLocales, header content is all lowercase</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpHeaders headers = new HttpHeaders();\nheaders.setAcceptLanguageAsLocales(List.of(Locale.US, Locale.GERMANY));\n</code></pre>\n<p>Result:</p>\n<pre><code>Accept-Language: en-us, de-de\n</code></pre>\n<p>Why it is converted to lowercase? I would expect:</p>\n<pre><code>Accept-Language: en-US, de-DE\n</code></pre>\n"},{"tags":["java","php","tomcat","centos"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1638640823,"post_id":70227170,"comment_id":124143962,"body_markdown":"Put the WAR file into `webapps-javaee` instead.","body":"Put the WAR file into <code>webapps-javaee</code> instead."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1638653390,"post_id":70227170,"comment_id":124146701,"body_markdown":"Does this answer your question? [Tomcat 10.0.4 doesn&#39;t load servlets (@WebServlet classes) with 404 error](https://stackoverflow.com/questions/66806582/tomcat-10-0-4-doesnt-load-servlets-webservlet-classes-with-404-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66806582/tomcat-10-0-4-doesnt-load-servlets-webservlet-classes-with-404-error\">Tomcat 10.0.4 doesn&#39;t load servlets (@WebServlet classes) with 404 error</a>"}],"owner":{"account_id":23089942,"reputation":21,"user_id":17200960,"display_name":"Salman Khalid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638633275,"creation_date":1638633275,"question_id":70227170,"body_markdown":"I am trying to run the PHP JavaBridge.war file by placing in wepapps folder and Deploying it from the manager tool but returned with the following error:\r\n\r\nFAIL - Application at context path [/JavaBridge] could not be started\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/6klnL.png\r\n\r\nWhat could be the reason behind it? \r\n\r\nServer: CentsOS 7\r\nTomcat: 10.0 Version\r\n","title":"PHP JavaBridge.war is not working on tomcat 10 and says FAIL - Application at context path [/JavaBridge] could not be started","body":"<p>I am trying to run the PHP JavaBridge.war file by placing in wepapps folder and Deploying it from the manager tool but returned with the following error:</p>\n<p>FAIL - Application at context path [/JavaBridge] could not be started</p>\n<p><a href=\"https://i.stack.imgur.com/6klnL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6klnL.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be the reason behind it?</p>\n<p>Server: CentsOS 7\nTomcat: 10.0 Version</p>\n"},{"tags":["java","android","android-fragments","progress-bar"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1638631430,"post_id":70226887,"comment_id":124141802,"body_markdown":"There has never been a `setInvisibility()` method on `ProgressBar`. Perhaps you are thinking of `setVisibility(View.INVISIBLE)`.","body":"There has never been a <code>setInvisibility()</code> method on <code>ProgressBar</code>. Perhaps you are thinking of <code>setVisibility(View.INVISIBLE)</code>."},{"owner":{"account_id":19765318,"reputation":125,"user_id":14473487,"display_name":"IceFox_Programming"},"score":0,"creation_date":1638632178,"post_id":70226887,"comment_id":124141963,"body_markdown":"Sorry a minor spelling mistake","body":"Sorry a minor spelling mistake"}],"owner":{"account_id":19765318,"reputation":125,"user_id":14473487,"display_name":"IceFox_Programming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638632922,"creation_date":1638631149,"question_id":70226887,"body_markdown":"I want to turn my progress bar / circle invisible when the images are loaded on the page, but the setVisibilty() doesn&#39;t exist anymore. What is the subistute, because I couldn&#39;t find anything on the internet.\r\n\r\nI wanted to call it after the setAdapter().\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.notes_fragment, container, false);\r\n        BottomNavigationView bottomNav = view.findViewById(R.id.bottomAppBar);\r\n        MaterialToolbar topAppBar = view.findViewById(R.id.topAppBar);\r\n        bottomNav.setSelectedItemId(R.id.notes);\r\n        mProgressCircle = (ProgressBar) view.findViewById(R.id.progress_circle);\r\n\r\n        imageList = new ArrayList&lt;&gt;();\r\n\r\n        currentUser = mAuth.getCurrentUser();\r\n        mUserRef = storage.getReference().child(currentUser.getEmail());\r\n        gridView = view.findViewById(R.id.gridview);\r\n        mUserRef.listAll().addOnSuccessListener(new OnSuccessListener&lt;ListResult&gt;() {\r\n            @Override\r\n            public void onSuccess(ListResult listResult) {\r\n                for(StorageReference file:listResult.getItems()){\r\n                    Log.w(TAG, file.toString());\r\n                    file.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n                            imageList.add(uri.toString());\r\n                            Log.w(TAG,&quot;URI: &quot; + uri.toString());\r\n                        }\r\n                    }).addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n                            adpter = new GridAdapter(getActivity(), imageList);\r\n                            gridView.setAdapter(adpter);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n```    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress_circle&quot;\r\n        style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\r\n        android:layout_width=&quot;78dp&quot;\r\n        android:layout_height=&quot;83dp&quot;\r\n        android:layout_gravity=&quot;center&quot;/&gt;","title":"Progress bar (circle) setVisibility() doesn&#39;t exist anymore? (Android Java)","body":"<p>I want to turn my progress bar / circle invisible when the images are loaded on the page, but the setVisibilty() doesn't exist anymore. What is the subistute, because I couldn't find anything on the internet.</p>\n<p>I wanted to call it after the setAdapter().</p>\n<pre><code>@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.notes_fragment, container, false);\n    BottomNavigationView bottomNav = view.findViewById(R.id.bottomAppBar);\n    MaterialToolbar topAppBar = view.findViewById(R.id.topAppBar);\n    bottomNav.setSelectedItemId(R.id.notes);\n    mProgressCircle = (ProgressBar) view.findViewById(R.id.progress_circle);\n\n    imageList = new ArrayList&lt;&gt;();\n\n    currentUser = mAuth.getCurrentUser();\n    mUserRef = storage.getReference().child(currentUser.getEmail());\n    gridView = view.findViewById(R.id.gridview);\n    mUserRef.listAll().addOnSuccessListener(new OnSuccessListener&lt;ListResult&gt;() {\n        @Override\n        public void onSuccess(ListResult listResult) {\n            for(StorageReference file:listResult.getItems()){\n                Log.w(TAG, file.toString());\n                file.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n                        imageList.add(uri.toString());\n                        Log.w(TAG,&quot;URI: &quot; + uri.toString());\n                    }\n                }).addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n                        adpter = new GridAdapter(getActivity(), imageList);\n                        gridView.setAdapter(adpter);\n                    }\n                });\n            }\n        }\n    });\n</code></pre>\n<pre><code>        android:id=&quot;@+id/progress_circle&quot;\n        style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\n        android:layout_width=&quot;78dp&quot;\n        android:layout_height=&quot;83dp&quot;\n        android:layout_gravity=&quot;center&quot;/&gt;\n</code></pre>\n"},{"tags":["java","android","spring","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":13553745,"reputation":51,"user_id":9777926,"display_name":"Divakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625820034,"creation_date":1625820034,"answer_id":68313776,"question_id":68313478,"body_markdown":"Can You Run the Gradle build with a command line argument --warning-mode=all to see what exactly the deprecated features were used in your build ?","title":"Unable to create .jar file. Error while working with gradle, particularly ./gradlew build. getting java.lang.IllegalAccessError","body":"<p>Can You Run the Gradle build with a command line argument --warning-mode=all to see what exactly the deprecated features were used in your build ?</p>\n"},{"tags":[],"owner":{"account_id":15293327,"reputation":1,"user_id":11034230,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638632281,"creation_date":1638632281,"answer_id":70227032,"question_id":68313478,"body_markdown":"Instead of \r\n\r\n    dependencies {\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: versionLog4j\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: versionLog4j\r\n    }\r\n\r\nuse:\r\n\r\n    dependencies {\r\n        implementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.14.1&#39;\r\n        implementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.14.1&#39;\r\n    }","title":"Unable to create .jar file. Error while working with gradle, particularly ./gradlew build. getting java.lang.IllegalAccessError","body":"<p>Instead of</p>\n<pre><code>dependencies {\n    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: versionLog4j\n    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: versionLog4j\n}\n</code></pre>\n<p>use:</p>\n<pre><code>dependencies {\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.14.1'\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.14.1'\n}\n</code></pre>\n"}],"owner":{"account_id":18227546,"reputation":117,"user_id":13267037,"display_name":"Deepjyoti De"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638632281,"creation_date":1625818774,"question_id":68313478,"body_markdown":"I was trying to build a jar file. Basically trying to dockerize my project. But I was unable to create a jar file. I was getting error.\r\nWhile I was running ```./gradlew build``` I was getting the error:\r\n```&gt; java.lang.IllegalAccessError: class org.gradle.internal.compiler.java.ClassNameCollector (in unnamed module @0x7fd2416f) cannot access class com.sun.tools.javac.code.Symbol$TypeSymbo\r\nl (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x7fd2416f\r\n```\r\n\r\nSo, I ran ```gradle --stacktrace```, then the following reason of error showed up:\r\n```Caused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method compile() for arguments [{group=org.apache.logging.log4j, nam\r\ne=log4j-api, version=2.14.1}] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n```\r\n\r\n# build.gradle\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.5.2&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;org.projects&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;15&#39;\r\ndef versionLog4j = &#39;2.14.1&#39;\r\ndef versionLombok = &#39;1.18.20&#39;\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: versionLog4j\r\n    compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: versionLog4j\r\n    compile group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: versionLombok\r\n    annotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: versionLombok\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n# Java version\r\n```\r\njava 16.0.1 2021-04-20\r\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\r\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\r\n```\r\n# gradle -v\r\n```\r\n\r\n------------------------------------------------------------\r\nGradle 7.1.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2021-07-02 12:16:43 UTC\r\nRevision:     774525a055494e0ece39f522ac7ad17498ce032c\r\n\r\nKotlin:       1.4.31\r\nGroovy:       3.0.7\r\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\nJVM:          16.0.1 (Oracle Corporation 16.0.1+9-24)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n\r\nAdditionally, I have a warning which I can not fix: ```Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.```\r\n","title":"Unable to create .jar file. Error while working with gradle, particularly ./gradlew build. getting java.lang.IllegalAccessError","body":"<p>I was trying to build a jar file. Basically trying to dockerize my project. But I was unable to create a jar file. I was getting error.\nWhile I was running <code>./gradlew build</code> I was getting the error:</p>\n<pre><code>l (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x7fd2416f\n</code></pre>\n<p>So, I ran <code>gradle --stacktrace</code>, then the following reason of error showed up:</p>\n<pre><code>e=log4j-api, version=2.14.1}] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n<h1>build.gradle</h1>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.2'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'org.projects'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '15'\ndef versionLog4j = '2.14.1'\ndef versionLombok = '1.18.20'\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: versionLog4j\n    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: versionLog4j\n    compile group: 'org.projectlombok', name: 'lombok', version: versionLombok\n    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: versionLombok\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    runtimeOnly 'org.postgresql:postgresql'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<h1>Java version</h1>\n<pre><code>java 16.0.1 2021-04-20\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\n</code></pre>\n<h1>gradle -v</h1>\n<pre><code>\n------------------------------------------------------------\nGradle 7.1.1\n------------------------------------------------------------\n\nBuild time:   2021-07-02 12:16:43 UTC\nRevision:     774525a055494e0ece39f522ac7ad17498ce032c\n\nKotlin:       1.4.31\nGroovy:       3.0.7\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          16.0.1 (Oracle Corporation 16.0.1+9-24)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>Additionally, I have a warning which I can not fix: <code>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.</code></p>\n"},{"tags":["java","react-native","gradle"],"comments":[{"owner":{"account_id":5029050,"reputation":457,"user_id":4039886,"display_name":"klaevv"},"score":0,"creation_date":1530065751,"post_id":51052466,"comment_id":89098180,"body_markdown":"I&#39;d try Java 8, worked for me when I got similar error messages. Relevant to this: https://stackoverflow.com/a/48422257/4039886","body":"I&#39;d try Java 8, worked for me when I got similar error messages. Relevant to this: <a href=\"https://stackoverflow.com/a/48422257/4039886\">stackoverflow.com/a/48422257/4039886</a>"}],"answers":[{"tags":[],"owner":{"account_id":1567198,"reputation":1045,"user_id":1455719,"accept_rate":56,"display_name":"user1455719"},"down_vote_count":15,"up_vote_count":1,"is_accepted":false,"score":-14,"last_activity_date":1530059153,"creation_date":1530057543,"answer_id":51052815,"question_id":51052466,"body_markdown":"Java and React Native has no direct relationship . They are two different things. React Native lets you build mobile apps using only JavaScript. And it lets you build mobile apps for Android devices. Android devices uses an SDK which is based on the Java platform.\r\n\r\nReact Native apps will work on Android 4.1 (API 16) upwards.\r\n\r\nAndroid 8.1 Oreo (API 27) is the latest stable version available . And Android 9.0 P (API 28) is the upcoming version which is still in beta\r\n \r\n\r\nReally the fastest way to get around this error is to use JDK 8 ","title":"What Java version does React Native work with?","body":"<p>Java and React Native has no direct relationship . They are two different things. React Native lets you build mobile apps using only JavaScript. And it lets you build mobile apps for Android devices. Android devices uses an SDK which is based on the Java platform.</p>\n\n<p>React Native apps will work on Android 4.1 (API 16) upwards.</p>\n\n<p>Android 8.1 Oreo (API 27) is the latest stable version available . And Android 9.0 P (API 28) is the upcoming version which is still in beta</p>\n\n<p>Really the fastest way to get around this error is to use JDK 8 </p>\n"},{"tags":[],"owner":{"account_id":14407698,"reputation":319,"user_id":10407332,"display_name":"rikongha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600837440,"creation_date":1600837440,"answer_id":64021357,"question_id":51052466,"body_markdown":"java 8, other versions below java10 should work as well","title":"What Java version does React Native work with?","body":"<p>java 8, other versions below java10 should work as well</p>\n"},{"tags":[],"owner":{"account_id":1166051,"reputation":3455,"user_id":1333744,"accept_rate":64,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638631905,"creation_date":1638631905,"answer_id":70226974,"question_id":51052466,"body_markdown":"I had to upgrade from version 8 to support latest android sdk\r\n```\r\nbuildToolsVersion = &quot;30.0.2&quot;\r\nminSdkVersion = 21\r\ncompileSdkVersion = 31\r\ntargetSdkVersion = 31\r\nndkVersion = &quot;23.1.7779620&quot;\r\n```\r\n\r\nI ended up with Java 11.\r\n\r\nIf you are using [sdkman][1], run\r\n\r\n```\r\nsdk install java 11.0.11.hs-adp\r\n```\r\n\r\n\r\n  [1]: https://sdkman.io","title":"What Java version does React Native work with?","body":"<p>I had to upgrade from version 8 to support latest android sdk</p>\n<pre><code>buildToolsVersion = &quot;30.0.2&quot;\nminSdkVersion = 21\ncompileSdkVersion = 31\ntargetSdkVersion = 31\nndkVersion = &quot;23.1.7779620&quot;\n</code></pre>\n<p>I ended up with Java 11.</p>\n<p>If you are using <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman</a>, run</p>\n<pre><code>sdk install java 11.0.11.hs-adp\n</code></pre>\n"}],"owner":{"account_id":10402072,"reputation":5946,"user_id":7670029,"accept_rate":0,"display_name":"jeancode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13298,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":3,"score":8,"last_activity_date":1638631905,"creation_date":1530054273,"question_id":51052466,"body_markdown":"I get an error * What went wrong:\r\nCould not determine java version from &#39;10.0.1&#39;. \r\n\r\nI want to downgrade to an older version of Java rather than upgrade Gradle. I want to know what is the newest version that React Native works with?","title":"What Java version does React Native work with?","body":"<p>I get an error * What went wrong:\nCould not determine java version from '10.0.1'. </p>\n\n<p>I want to downgrade to an older version of Java rather than upgrade Gradle. I want to know what is the newest version that React Native works with?</p>\n"},{"tags":["java","android","sockets","ssl","sslsocketfactory"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1638632771,"post_id":70226965,"comment_id":124142094,"body_markdown":"First you need to make sure your network will allow this.  Are you using a device or an emulator?  If you&#39;re on an emulator, that IP is wrong, it should be 10.0.2.2.  If you&#39;re using a real device make sure its on wifi, on the same network, and that your router is set to allow incoming connections to your server at that port.","body":"First you need to make sure your network will allow this.  Are you using a device or an emulator?  If you&#39;re on an emulator, that IP is wrong, it should be 10.0.2.2.  If you&#39;re using a real device make sure its on wifi, on the same network, and that your router is set to allow incoming connections to your server at that port."},{"owner":{"account_id":23545143,"reputation":11,"user_id":17588722,"display_name":"Andrea Carosi"},"score":0,"creation_date":1638633182,"post_id":70226965,"comment_id":124142191,"body_markdown":"@GabeSechan I am using a real device, it is connected to the same network of the pc and I am sure the server opens that port due to an nmap scan, also the ping from the pc to the mobile works... I think there is something missing in my code but Idk","body":"@GabeSechan I am using a real device, it is connected to the same network of the pc and I am sure the server opens that port due to an nmap scan, also the ping from the pc to the mobile works... I think there is something missing in my code but Idk"}],"owner":{"account_id":23545143,"reputation":11,"user_id":17588722,"display_name":"Andrea Carosi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638631836,"creation_date":1638631836,"question_id":70226965,"body_markdown":"I am currently working on a university little project in which we should make an android application which can communicate with a java SSL Socket. I am kinda new on the SSL connections, I red about keystores and stuff but I didn&#39;t really get it.\r\n\r\nThis is the Android side:\r\n\r\n        SSLSocketFactory socketFactory;\r\n        SSLSocket socket;\r\n        socketFactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n        try {\r\n            socket = (SSLSocket) socketFactory.createSocket(&quot;192.168.1.131&quot;, 7070);\r\n            System.out.println(&quot;Connected!&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\nThis is the java server one:\r\n\r\n            SSLServerSocketFactory socketFactory = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\r\n            SSLServerSocket serverSocket = (SSLServerSocket) socketFactory.createServerSocket(7070);\r\n            serverSocket.setEnabledProtocols(new String[] {&quot;TLSv1.3&quot;});\r\n            while (true) {\r\n                // wait for client connection and check login information\r\n                try {\r\n                    System.err.println(&quot;Waiting for connection...&quot;);\r\n                    SSLSocket socket = (SSLSocket) serverSocket.accept();\r\n                    System.out.println(&quot;Connessione Accettata&quot;);\r\n                    // open BufferedReader for reading data from client\r\n                    BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                    // open PrintWriter for writing data to client\r\n\r\n                    System.out.println(input);\r\n                    //PrintWriter output = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n\r\n                    //output.close();\r\n                    input.close();\r\n                    socket.close();\r\n\r\n                } // end try\r\n                // handle exception communicating with client\r\n                catch (IOException ioException) {\r\n                    ioException.printStackTrace();\r\n                }\r\n            }\r\n\r\nObviously the sockets don&#39;t even connect each other, what should I implement to make it work?","title":"SSL Socket between Android and java","body":"<p>I am currently working on a university little project in which we should make an android application which can communicate with a java SSL Socket. I am kinda new on the SSL connections, I red about keystores and stuff but I didn't really get it.</p>\n<p>This is the Android side:</p>\n<pre><code>    SSLSocketFactory socketFactory;\n    SSLSocket socket;\n    socketFactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n    try {\n        socket = (SSLSocket) socketFactory.createSocket(&quot;192.168.1.131&quot;, 7070);\n        System.out.println(&quot;Connected!&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>This is the java server one:</p>\n<pre><code>        SSLServerSocketFactory socketFactory = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n        SSLServerSocket serverSocket = (SSLServerSocket) socketFactory.createServerSocket(7070);\n        serverSocket.setEnabledProtocols(new String[] {&quot;TLSv1.3&quot;});\n        while (true) {\n            // wait for client connection and check login information\n            try {\n                System.err.println(&quot;Waiting for connection...&quot;);\n                SSLSocket socket = (SSLSocket) serverSocket.accept();\n                System.out.println(&quot;Connessione Accettata&quot;);\n                // open BufferedReader for reading data from client\n                BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                // open PrintWriter for writing data to client\n\n                System.out.println(input);\n                //PrintWriter output = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()));\n\n                //output.close();\n                input.close();\n                socket.close();\n\n            } // end try\n            // handle exception communicating with client\n            catch (IOException ioException) {\n                ioException.printStackTrace();\n            }\n        }\n</code></pre>\n<p>Obviously the sockets don't even connect each other, what should I implement to make it work?</p>\n"},{"tags":["java","scala","geotools","wkt","epsg"],"answers":[{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638627923,"creation_date":1638627923,"answer_id":70226485,"question_id":70225759,"body_markdown":"So the correct transformed coordinate would be: (56.4336819&#176;, 4.1353377&#176;)\r\n\r\nMaybe your source coordinate is inaccurate because it is not in the area where the coordinate system is used.\r\n\r\nFrom epsg.io:\r\n\r\n&gt; Area of use: Europe between 6&#176;E and 12&#176;E: Austria; Belgium; Denmark - onshore and offshore; Germany - onshore and offshore; Norway including - onshore and offshore; Spain - offshore\r\n\r\nYour coordinate is east of Africa, in the Indian Ocean. \r\n\r\nIf I&#39;m using for example coordinates from Austria, I get the following output (in Java):\r\n\r\n    CoordinateReferenceSystem source = CRS.decode(&quot;EPSG:25832&quot;); \r\n    CoordinateReferenceSystem target = CRS.decode(&quot;EPSG:4326&quot;);\r\n    Coordinate coordinate = new Coordinate(959436.64, 5293975.04);\r\n    // when you are using EPSG:3044, you have to change x and y: \r\n    // Coordinate coordinate = new Coordinate(5293975.04, 959436.64);\r\n    MathTransform transform = CRS.findMathTransform(source, target, false);\r\n    JTS.transform(coordinate, coordinate, transform);\r\n\r\n    System.out.println(coordinate);  //(47.63578358581114, 15.117187455070956, NaN)\r\n\r\nAnd that&#39;s the same result as from epsg.io.\r\nNote that I&#39;m using EPSG:25832 instead of EPSG:3044.","title":"GeoTools transform from CRS in meters to CRS in degree (WGS84)","body":"<p>So the correct transformed coordinate would be: (56.4336819, 4.1353377)</p>\n<p>Maybe your source coordinate is inaccurate because it is not in the area where the coordinate system is used.</p>\n<p>From epsg.io:</p>\n<blockquote>\n<p>Area of use: Europe between 6E and 12E: Austria; Belgium; Denmark - onshore and offshore; Germany - onshore and offshore; Norway including - onshore and offshore; Spain - offshore</p>\n</blockquote>\n<p>Your coordinate is east of Africa, in the Indian Ocean.</p>\n<p>If I'm using for example coordinates from Austria, I get the following output (in Java):</p>\n<pre><code>CoordinateReferenceSystem source = CRS.decode(&quot;EPSG:25832&quot;); \nCoordinateReferenceSystem target = CRS.decode(&quot;EPSG:4326&quot;);\nCoordinate coordinate = new Coordinate(959436.64, 5293975.04);\n// when you are using EPSG:3044, you have to change x and y: \n// Coordinate coordinate = new Coordinate(5293975.04, 959436.64);\nMathTransform transform = CRS.findMathTransform(source, target, false);\nJTS.transform(coordinate, coordinate, transform);\n\nSystem.out.println(coordinate);  //(47.63578358581114, 15.117187455070956, NaN)\n</code></pre>\n<p>And that's the same result as from epsg.io.\nNote that I'm using EPSG:25832 instead of EPSG:3044.</p>\n"}],"owner":{"account_id":250416,"reputation":5418,"user_id":527116,"accept_rate":85,"display_name":"aweis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70226485,"answer_count":1,"score":0,"last_activity_date":1638631639,"creation_date":1638622335,"question_id":70225759,"body_markdown":"I am trying to use GeoTools to transform between two coordinate systems, one in meter and the other in degree, but no matter what i try the converted values are not correct. I have tried to follow other examples using the same code, but for some reason it fails to convert between these two coordinate systems: [EPSG:3044] -&gt; [EPSG:4326] (WGS 84)\r\n\r\nI am parsing the `WKT` for both CRS and then transform it using GeoTools - below is my current code, together with my results:\r\n\r\n*EDIT* The source code has been updated to reflect the output of using WKT and the internal CRS decoder.\r\n\r\n    val sourceCRS = CRS.parseWKT(\r\n      &quot;&quot;&quot;PROJCS[&quot;ETRS89 / UTM zone 32N (N-E)&quot;,\r\n        |    GEOGCS[&quot;ETRS89&quot;,\r\n        |        DATUM[&quot;European_Terrestrial_Reference_System_1989&quot;,\r\n        |            SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,\r\n        |                AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],\r\n        |            TOWGS84[0,0,0,0,0,0,0],\r\n        |            AUTHORITY[&quot;EPSG&quot;,&quot;6258&quot;]],\r\n        |        PRIMEM[&quot;Greenwich&quot;,0,\r\n        |            AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],\r\n        |        UNIT[&quot;degree&quot;,0.0174532925199433,\r\n        |            AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],\r\n        |        AUTHORITY[&quot;EPSG&quot;,&quot;4258&quot;]],\r\n        |    PROJECTION[&quot;Transverse_Mercator&quot;],\r\n        |    PARAMETER[&quot;latitude_of_origin&quot;,0],\r\n        |    PARAMETER[&quot;central_meridian&quot;,9],\r\n        |    PARAMETER[&quot;scale_factor&quot;,0.9996],\r\n        |    PARAMETER[&quot;false_easting&quot;,500000],\r\n        |    PARAMETER[&quot;false_northing&quot;,0],\r\n        |    UNIT[&quot;metre&quot;,1,\r\n        |        AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],\r\n        |    AUTHORITY[&quot;EPSG&quot;,&quot;3044&quot;]]&quot;&quot;&quot;.stripMargin)\r\n\r\n    val targetCRS = CRS.parseWKT(\r\n      &quot;&quot;&quot;\r\n        |GEOGCS[&quot;WGS 84&quot;,\r\n        |    DATUM[&quot;WGS_1984&quot;,\r\n        |        SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,\r\n        |            AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],\r\n        |        AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],\r\n        |    PRIMEM[&quot;Greenwich&quot;,0,\r\n        |        AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],\r\n        |    UNIT[&quot;degree&quot;,0.0174532925199433,\r\n        |        AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],\r\n        |    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]\r\n        |&quot;&quot;&quot;.stripMargin)\r\n\r\n    val source = CRS.decode(&quot;EPSG:3044&quot;);\r\n    val target = CRS.decode(&quot;EPSG:4326&quot;);\r\n    \r\n    val originalCoordinate = new Coordinate(5293975.04, 959436.64)\r\n    // WKT\r\n    val coordinateWKT = new Coordinate()\r\n    val wktTransform = CRS.findMathTransform(sourceCRS, targetCRS, true)\r\n    JTS.transform(originalCoordinate, coordinateWKT, wktTransform)\r\n    // EPSG\r\n    val coordinateEPSG = new Coordinate()\r\n    val epsgTransform = CRS.findMathTransform(source, target, true);\r\n    JTS.transform(originalCoordinate, coordinateEPSG, epsgTransform);\r\n    // Output\r\n    System.out.println(s&quot;Original: ${originalCoordinate}&quot;)\r\n    System.out.println(s&quot;EKT: ${coordinateWKT}&quot;)\r\n    System.out.println(s&quot;EPSG: ${coordinateEPSG}&quot;)\r\n\r\nAnd my input and output coordinates are:\r\n\r\n    Original: (5293975.04, 959436.64, NaN)\r\n    EKT: (48.79550725975144, 6.678848738740256, NaN)\r\n    EPSG: (47.63578358581114, 15.117187455070956, NaN)","title":"GeoTools transform from CRS in meters to CRS in degree (WGS84)","body":"<p>I am trying to use GeoTools to transform between two coordinate systems, one in meter and the other in degree, but no matter what i try the converted values are not correct. I have tried to follow other examples using the same code, but for some reason it fails to convert between these two coordinate systems: [EPSG:3044] -&gt; [EPSG:4326] (WGS 84)</p>\n<p>I am parsing the <code>WKT</code> for both CRS and then transform it using GeoTools - below is my current code, together with my results:</p>\n<p><em>EDIT</em> The source code has been updated to reflect the output of using WKT and the internal CRS decoder.</p>\n<pre><code>val sourceCRS = CRS.parseWKT(\n  &quot;&quot;&quot;PROJCS[&quot;ETRS89 / UTM zone 32N (N-E)&quot;,\n    |    GEOGCS[&quot;ETRS89&quot;,\n    |        DATUM[&quot;European_Terrestrial_Reference_System_1989&quot;,\n    |            SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,\n    |                AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],\n    |            TOWGS84[0,0,0,0,0,0,0],\n    |            AUTHORITY[&quot;EPSG&quot;,&quot;6258&quot;]],\n    |        PRIMEM[&quot;Greenwich&quot;,0,\n    |            AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],\n    |        UNIT[&quot;degree&quot;,0.0174532925199433,\n    |            AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],\n    |        AUTHORITY[&quot;EPSG&quot;,&quot;4258&quot;]],\n    |    PROJECTION[&quot;Transverse_Mercator&quot;],\n    |    PARAMETER[&quot;latitude_of_origin&quot;,0],\n    |    PARAMETER[&quot;central_meridian&quot;,9],\n    |    PARAMETER[&quot;scale_factor&quot;,0.9996],\n    |    PARAMETER[&quot;false_easting&quot;,500000],\n    |    PARAMETER[&quot;false_northing&quot;,0],\n    |    UNIT[&quot;metre&quot;,1,\n    |        AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],\n    |    AUTHORITY[&quot;EPSG&quot;,&quot;3044&quot;]]&quot;&quot;&quot;.stripMargin)\n\nval targetCRS = CRS.parseWKT(\n  &quot;&quot;&quot;\n    |GEOGCS[&quot;WGS 84&quot;,\n    |    DATUM[&quot;WGS_1984&quot;,\n    |        SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,\n    |            AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],\n    |        AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],\n    |    PRIMEM[&quot;Greenwich&quot;,0,\n    |        AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],\n    |    UNIT[&quot;degree&quot;,0.0174532925199433,\n    |        AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],\n    |    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]\n    |&quot;&quot;&quot;.stripMargin)\n\nval source = CRS.decode(&quot;EPSG:3044&quot;);\nval target = CRS.decode(&quot;EPSG:4326&quot;);\n\nval originalCoordinate = new Coordinate(5293975.04, 959436.64)\n// WKT\nval coordinateWKT = new Coordinate()\nval wktTransform = CRS.findMathTransform(sourceCRS, targetCRS, true)\nJTS.transform(originalCoordinate, coordinateWKT, wktTransform)\n// EPSG\nval coordinateEPSG = new Coordinate()\nval epsgTransform = CRS.findMathTransform(source, target, true);\nJTS.transform(originalCoordinate, coordinateEPSG, epsgTransform);\n// Output\nSystem.out.println(s&quot;Original: ${originalCoordinate}&quot;)\nSystem.out.println(s&quot;EKT: ${coordinateWKT}&quot;)\nSystem.out.println(s&quot;EPSG: ${coordinateEPSG}&quot;)\n</code></pre>\n<p>And my input and output coordinates are:</p>\n<pre><code>Original: (5293975.04, 959436.64, NaN)\nEKT: (48.79550725975144, 6.678848738740256, NaN)\nEPSG: (47.63578358581114, 15.117187455070956, NaN)\n</code></pre>\n"},{"tags":["java","logical-operators"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1638629168,"post_id":70226637,"comment_id":124141315,"body_markdown":"`||` always is a boolean operator, but `|` isn&#39;t and probably is what you&#39;re looking for. Search for &quot;java binary operators&quot;. N.b. : `|` can also be a boolean operator depending on context. But when its operands are numbers, it&#39;s the binary OR operator","body":"<code>||</code> always is a boolean operator, but <code>|</code> isn&#39;t and probably is what you&#39;re looking for. Search for &quot;java binary operators&quot;. N.b. : <code>|</code> can also be a boolean operator depending on context. But when its operands are numbers, it&#39;s the binary OR operator"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1638629570,"post_id":70226637,"comment_id":124141403,"body_markdown":"1. What is the &quot;expected result&quot;? 2. Why does getting this result in Java require using boolean operators on integers?","body":"1. What is the &quot;expected result&quot;? 2. Why does getting this result in Java require using boolean operators on integers?"},{"owner":{"account_id":2397966,"reputation":2781,"user_id":2096401,"display_name":"TripeHound"},"score":4,"creation_date":1638631061,"post_id":70226637,"comment_id":124141732,"body_markdown":"&quot;_...how can I write this program in..._&quot; You probably _shouldn&#39;t_ write this program in _any_ language. Too easy for someone reading it (including yourself in 6 months time) to get confused over whether `j`/`k` get incremented or not due to short-circuit evaluation.","body":"&quot;<i>...how can I write this program in...</i>&quot; You probably <i>shouldn&#39;t</i> write this program in <i>any</i> language. Too easy for someone reading it (including yourself in 6 months time) to get confused over whether <code>j</code>/<code>k</code> get incremented or not due to short-circuit evaluation."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638631168,"creation_date":1638630203,"answer_id":70226785,"question_id":70226637,"body_markdown":"Theres no direct equivalent, because in C/C++ `0` is `false`, `true` otherwise whereas Java is strongly typed; in Java you cant cast an `int` to a `boolean`.\r\n\r\nIn Java, you have to do the casts from `int` to `boolean` and back again with code:\r\n\r\n    m = (++i != 0) || (++j != 0) &amp;&amp; (++k != 0) ? 1 : 0;\r\n\r\n---\r\n\r\nYou can use the bitwise operators `|` and `&amp;`:\r\n\r\n    m = ++i | ++j &amp; ++k; // valid java, result 2\r\n\r\nbut its semantically different.\r\n","title":"Logical &amp;&amp; and II operation with integer in Java","body":"<p>Theres no direct equivalent, because in C/C++ <code>0</code> is <code>false</code>, <code>true</code> otherwise whereas Java is strongly typed; in Java you cant cast an <code>int</code> to a <code>boolean</code>.</p>\n<p>In Java, you have to do the casts from <code>int</code> to <code>boolean</code> and back again with code:</p>\n<pre><code>m = (++i != 0) || (++j != 0) &amp;&amp; (++k != 0) ? 1 : 0;\n</code></pre>\n<hr />\n<p>You can use the bitwise operators <code>|</code> and <code>&amp;</code>:</p>\n<pre><code>m = ++i | ++j &amp; ++k; // valid java, result 2\n</code></pre>\n<p>but its semantically different.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638631331,"creation_date":1638630555,"answer_id":70226823,"question_id":70226637,"body_markdown":"To conserve the short-circiuting behavior of the operators, you can split them into if statements:\r\n\r\n```\r\nint main()\r\n{\r\n  int i = 1, j = 1, k = 0, m;\r\n  ++i;\r\n  if (i == 0) {\r\n    ++j;\r\n    if (j != 0) {\r\n      ++k;\r\n      if (k == 0) {\r\n        m = 0;\r\n      } else {\r\n        m = 1;\r\n      }\r\n    } else {\r\n      m = 0\r\n    }\r\n  } else {\r\n    m = 1;\r\n  }\r\n  System.out.print(m);\r\n  return 0;\r\n}\r\n```\r\n\r\nAnother possibility would be to convert the integers into booleans (in C++ 0 coerces to false and every other value to true) in each step and eventually convert the final boolean back to 0 or 1. It is at least as unreadable as the nested if statements above:\r\n\r\n```\r\nint main() { \r\n  int i = 1, j = 1, k = 0, m;\r\n  m = ((++i != 0) || (++j != 0) &amp;&amp; (++k != 0)) ? 1 : 0;\r\n  System.out.print(m);\r\n  return 0;\r\n}\r\n```\r\n\r\nBut since all your numbers are constants, the simplest (and most readable) solution is to pre-compute the value:\r\n\r\n```\r\nint main() {\r\n  System.out.println(1);\r\n  return 0;\r\n}\r\n```","title":"Logical &amp;&amp; and II operation with integer in Java","body":"<p>To conserve the short-circiuting behavior of the operators, you can split them into if statements:</p>\n<pre><code>int main()\n{\n  int i = 1, j = 1, k = 0, m;\n  ++i;\n  if (i == 0) {\n    ++j;\n    if (j != 0) {\n      ++k;\n      if (k == 0) {\n        m = 0;\n      } else {\n        m = 1;\n      }\n    } else {\n      m = 0\n    }\n  } else {\n    m = 1;\n  }\n  System.out.print(m);\n  return 0;\n}\n</code></pre>\n<p>Another possibility would be to convert the integers into booleans (in C++ 0 coerces to false and every other value to true) in each step and eventually convert the final boolean back to 0 or 1. It is at least as unreadable as the nested if statements above:</p>\n<pre><code>int main() { \n  int i = 1, j = 1, k = 0, m;\n  m = ((++i != 0) || (++j != 0) &amp;&amp; (++k != 0)) ? 1 : 0;\n  System.out.print(m);\n  return 0;\n}\n</code></pre>\n<p>But since all your numbers are constants, the simplest (and most readable) solution is to pre-compute the value:</p>\n<pre><code>int main() {\n  System.out.println(1);\n  return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":10270603,"reputation":17,"user_id":7579112,"display_name":"Ashik1291"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1638631331,"creation_date":1638629112,"question_id":70226637,"body_markdown":"I have understood reading some problems here about the logical operation in Java. In Java, the whole operation is concentrating on boolean values, unlike C/C++. In C++, \r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n    int main()\r\n    {\r\n        int i=1, j= 1, k=0,m;\r\n        m= ++i || ++j &amp;&amp; ++k ;\r\n        cout&lt;&lt;m;\r\n        return 0;\r\n    }\r\n\r\nI just wanted to learn how can I write this program in Java so that I can get the expected result.","title":"Logical &amp;&amp; and II operation with integer in Java","body":"<p>I have understood reading some problems here about the logical operation in Java. In Java, the whole operation is concentrating on boolean values, unlike C/C++. In C++,</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    int i=1, j= 1, k=0,m;\n    m= ++i || ++j &amp;&amp; ++k ;\n    cout&lt;&lt;m;\n    return 0;\n}\n</code></pre>\n<p>I just wanted to learn how can I write this program in Java so that I can get the expected result.</p>\n"},{"tags":["java","multithreading","java-8","java.util.concurrent"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1638627746,"post_id":70226421,"comment_id":124141029,"body_markdown":"Consider using a CountDownLatch","body":"Consider using a CountDownLatch"},{"owner":{"account_id":9989368,"reputation":626,"user_id":7389282,"display_name":"curiousdev"},"score":0,"creation_date":1638628655,"post_id":70226421,"comment_id":124141203,"body_markdown":"How about using `.whenComplete` on the chain where you run `CompletableFuture.runAsync`?","body":"How about using <code>.whenComplete</code> on the chain where you run <code>CompletableFuture.runAsync</code>?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1638629540,"post_id":70226421,"comment_id":124141399,"body_markdown":"What does `// waiting for all threads to get processed` stand for? If it stands for _nothing_ (i.e., if `processEvent()` really does nothing except wait) then there&#39;s no point to the `runAsync(...)` call. The only reason for your program to do some task T asynchronously is if there&#39;s some other task U that you want your program to do at the same time. If there is no other task U to perform while waiting for T to complete, then you might just as well _call_ the function that does task T instead of running it asynchronously.","body":"What does <code>&#47;&#47; waiting for all threads to get processed</code> stand for? If it stands for <i>nothing</i> (i.e., if <code>processEvent()</code> really does nothing except wait) then there&#39;s no point to the <code>runAsync(...)</code> call. The only reason for your program to do some task T asynchronously is if there&#39;s some other task U that you want your program to do at the same time. If there is no other task U to perform while waiting for T to complete, then you might just as well <i>call</i> the function that does task T instead of running it asynchronously."},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1638630083,"post_id":70226421,"comment_id":124141532,"body_markdown":"Hi @SolomonSlow, this is just a demo program . In real program I have to return the count of successfully processed events and failed event and to get that count I want to wait till the execution of processEventsAsynchronously() get finished","body":"Hi @SolomonSlow, this is just a demo program . In real program I have to return the count of successfully processed events and failed event and to get that count I want to wait till the execution of processEventsAsynchronously() get finished"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1638630220,"post_id":70226421,"comment_id":124141567,"body_markdown":"Yes, but what _else_ does the main thread do while it is waiting? Are you going to put some code into the body of the &quot;waiting for all threads to get processed&quot; loop? What I&#39;m saying is, It doesn&#39;t make any sense to call `runAsync(...)` if you don&#39;t have any code that you plan to put in that loop.","body":"Yes, but what <i>else</i> does the main thread do while it is waiting? Are you going to put some code into the body of the &quot;waiting for all threads to get processed&quot; loop? What I&#39;m saying is, It doesn&#39;t make any sense to call <code>runAsync(...)</code> if you don&#39;t have any code that you plan to put in that loop."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638630977,"creation_date":1638629995,"answer_id":70226756,"question_id":70226421,"body_markdown":"Firs, get rid of the `CompletableFuture.runAsync(...)` call. It serves no purpose (see my comments on your question, above.) Then, use `Executors.awaitTermination()` to wait for all of the events to be processed.  That leaves you with this:\r\n\r\n``` lang-java\r\nprivate void processEvents(List&lt;Object&gt; events) {\r\n    Executor executor = Executors.newFixedThreadPool(5);\r\n    for (Object event : events) {\r\n        Runnable runnable = () -&gt; processEvent(event);\r\n        executor.execute(runnable);\r\n    }\r\n\r\n    // Tell the `executor` to shut down _after_ all of the tasks have completed.\r\n    executor.shutdown();\r\n\r\n    // Wait until the executor has finished shutting down.\r\n    try {\r\n        executor.awaitTermination(9999, TimeUnit.DAYS);\r\n    }\r\n    catch (InterruptedException e) {\r\n        System.err.println(&quot;Uh Oh! **THIS** should never have happened:&quot;);\r\n        e.printStackTrace(System.err);\r\n    }\r\n\r\n    executeRemainingFlow();\r\n}\r\n```\r\n","title":"How to execute code after all the threads finished execution?","body":"<p>Firs, get rid of the <code>CompletableFuture.runAsync(...)</code> call. It serves no purpose (see my comments on your question, above.) Then, use <code>Executors.awaitTermination()</code> to wait for all of the events to be processed.  That leaves you with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void processEvents(List&lt;Object&gt; events) {\n    Executor executor = Executors.newFixedThreadPool(5);\n    for (Object event : events) {\n        Runnable runnable = () -&gt; processEvent(event);\n        executor.execute(runnable);\n    }\n\n    // Tell the `executor` to shut down _after_ all of the tasks have completed.\n    executor.shutdown();\n\n    // Wait until the executor has finished shutting down.\n    try {\n        executor.awaitTermination(9999, TimeUnit.DAYS);\n    }\n    catch (InterruptedException e) {\n        System.err.println(&quot;Uh Oh! **THIS** should never have happened:&quot;);\n        e.printStackTrace(System.err);\n    }\n\n    executeRemainingFlow();\n}\n</code></pre>\n"}],"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638630977,"creation_date":1638627470,"question_id":70226421,"body_markdown":"    private void processEvents(List&lt;Object&gt; events) {\r\n    \r\n            CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(\r\n                    () -&gt; processEventsAsynchronously(events));\r\n            while (!completableFuture.isDone() || completableFuture.isCancelled() || completableFuture.isCompletedExceptionally()) {\r\n                // waiting for all threads to get processed\r\n            }\r\n    \r\n            if (completableFuture.isDone() || completableFuture.isCancelled() || completableFuture.isCompletedExceptionally()) {\r\n                executeRemainingFlow();\r\n            }\r\n        }\r\n    \r\n        private void processEventsAsynchronously(List&lt;Object&gt; events) {\r\n            Executor executor = Executors.newFixedThreadPool(5);\r\n            for (Object event : events) {\r\n                Runnable runnable = () -&gt; processEvent(event);\r\n                executor.execute(runnable);\r\n            }\r\n        }\r\n    \r\n        private void processEvent(Object event) {\r\n        \r\n            try {\r\n                Thread.sleep(3000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void executeRemainingFlow() {\r\n    \r\n        }\r\n\r\nHere I want to process list of events asynchronously and once the processing is done I want to implement remaining flow.\r\nI tried to use CompletableFuture but the code inside the executer getting executed after executeRemainingFlow(). ","title":"How to execute code after all the threads finished execution?","body":"<pre><code>private void processEvents(List&lt;Object&gt; events) {\n\n        CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(\n                () -&gt; processEventsAsynchronously(events));\n        while (!completableFuture.isDone() || completableFuture.isCancelled() || completableFuture.isCompletedExceptionally()) {\n            // waiting for all threads to get processed\n        }\n\n        if (completableFuture.isDone() || completableFuture.isCancelled() || completableFuture.isCompletedExceptionally()) {\n            executeRemainingFlow();\n        }\n    }\n\n    private void processEventsAsynchronously(List&lt;Object&gt; events) {\n        Executor executor = Executors.newFixedThreadPool(5);\n        for (Object event : events) {\n            Runnable runnable = () -&gt; processEvent(event);\n            executor.execute(runnable);\n        }\n    }\n\n    private void processEvent(Object event) {\n    \n        try {\n            Thread.sleep(3000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void executeRemainingFlow() {\n\n    }\n</code></pre>\n<p>Here I want to process list of events asynchronously and once the processing is done I want to implement remaining flow.\nI tried to use CompletableFuture but the code inside the executer getting executed after executeRemainingFlow().</p>\n"},{"tags":["java","spring-boot","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":18076711,"reputation":11,"user_id":15181815,"display_name":"ricardorosa-dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638630603,"creation_date":1638630603,"answer_id":70226827,"question_id":70191536,"body_markdown":"I have the entities Band and Musician and a ManyToMany relationship between them with an association table BandMusician.\r\n\r\nWhat I wanted was to create the entity Musician and the relationship (BandMusician) in the same request. \r\n\r\nAs far as I can gather it is not possible, because in order to create a record in the association table (BandMusician), I would have to have the musician (I&#39;m creating in this request) already created. \r\n\r\nI tried everything just to see if it was POSSIBLE and wasn&#39;t able to do it. But even if it was possible, it would be a very bad practice, since it would make the class too tightly coupled.\r\n\r\nThe clear solution was to create only the Musician with this request, and then send another request to create the connection between Band and Musician.  \r\n\r\nI also tried to create many entries in the BandMusician table with one request, which was also impossible, because the JsonDeserializer table doesn&#39;t seem to accept List&lt;&gt; as a return type. I was trying to avoid making a lot of requests to create the relationship entries (for a musician that is in five bands, for example), but it seems it is better to keep things clear and simple.\r\n\r\nI now save one musician-band relationship per request:\r\n\r\n    {\r\n        &quot;musician&quot;: &quot;Awesome musician&quot;,\r\n        &quot;band&quot;: &quot;Awesome band&quot;,\r\n        &quot;role&quot;: &quot;guitar&quot;,\r\n        &quot;joined&quot;: 2003\r\n    }\r\n\r\n","title":"Spring Boot: POST request to entity with ManyToMany relationship","body":"<p>I have the entities Band and Musician and a ManyToMany relationship between them with an association table BandMusician.</p>\n<p>What I wanted was to create the entity Musician and the relationship (BandMusician) in the same request.</p>\n<p>As far as I can gather it is not possible, because in order to create a record in the association table (BandMusician), I would have to have the musician (I'm creating in this request) already created.</p>\n<p>I tried everything just to see if it was POSSIBLE and wasn't able to do it. But even if it was possible, it would be a very bad practice, since it would make the class too tightly coupled.</p>\n<p>The clear solution was to create only the Musician with this request, and then send another request to create the connection between Band and Musician.</p>\n<p>I also tried to create many entries in the BandMusician table with one request, which was also impossible, because the JsonDeserializer table doesn't seem to accept List&lt;&gt; as a return type. I was trying to avoid making a lot of requests to create the relationship entries (for a musician that is in five bands, for example), but it seems it is better to keep things clear and simple.</p>\n<p>I now save one musician-band relationship per request:</p>\n<pre><code>{\n    &quot;musician&quot;: &quot;Awesome musician&quot;,\n    &quot;band&quot;: &quot;Awesome band&quot;,\n    &quot;role&quot;: &quot;guitar&quot;,\n    &quot;joined&quot;: 2003\n}\n</code></pre>\n"}],"owner":{"account_id":18076711,"reputation":11,"user_id":15181815,"display_name":"ricardorosa-dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70226827,"answer_count":1,"score":1,"last_activity_date":1638630603,"creation_date":1638394692,"question_id":70191536,"body_markdown":"I&#39;m working on a database for adding bands, musicians, instruments, etc.\r\n\r\nI have a table &#39;band&#39; and a table &#39;musician&#39;. They have a ManyToMany relationship (one band can have many musicians, a musician can be in many bands), with an extra table BandMusician that has an embeddedId BandMusicianId. I did it like this because I want the relationship between bands and musicians to have also other information, like the year the musician joined the band.\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Band {\r\n\t\r\n    \t@Id\r\n\t    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \tprivate String genre;\r\n\t    private int year;\r\n\t\r\n    \t@OneToOne(mappedBy = &quot;band&quot;)\r\n    \tprivate Website website;\r\n\t\r\n    \t@OneToMany(mappedBy = &quot;band&quot;)\r\n\t    private List&lt;Album&gt; albuns;\r\n\t\r\n    \t@OneToMany(mappedBy = &quot;band&quot;)\r\n\t    private List&lt;BandMusician&gt; musicians;\r\n\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonDeserialize(using = MusicianJsonDeserializer.class)\r\n    public class Musician {\r\n\t\r\n    \t@Id\r\n\t    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n\t    private String name;\r\n    \t@JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\r\n\t    @JsonProperty(&quot;DoB&quot;)\r\n    \t@Column(name = &quot;date_of_birth&quot;)\r\n\t    private LocalDate DoB;\r\n\t\r\n    \t@ManyToMany\r\n\t    @JoinTable(\r\n    \t\t\tname = &quot;musician_instruments&quot;,\r\n\t    \t\tjoinColumns = @JoinColumn(name = &quot;musician_id&quot;),\r\n    \t\t\tinverseJoinColumns = @JoinColumn(name = &quot;instrument_id&quot;)\r\n\t    )\t\r\n    \tprivate List&lt;Instrument&gt; instruments = new ArrayList&lt;&gt;();\r\n\r\n    \t@OneToMany(mappedBy = &quot;musician&quot;)\r\n\t    private List&lt;BandMusician&gt; bands;\r\n\t\r\n    \tpublic void addInstrument(Instrument instrument) {\r\n\t    \tthis.instruments.add(instrument);\r\n    \t}\r\n\r\n    }\r\n\r\n\r\n    @Embeddable\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class BandMusiciansId implements Serializable{\r\n\t    \r\n        private static final long serialVersionUID = 1L;\r\n\r\n    \t@Column(name = &quot;band_id&quot;)\r\n\t    private Long bandId;\r\n\t\r\n    \t@Column(name = &quot;musician_id&quot;)\r\n\t    private Long musicianId;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class BandMusician {\r\n\t\r\n\t    @EmbeddedId\r\n    \tprivate BandMusiciansId id = new BandMusiciansId();\r\n\t\r\n    \t@ManyToOne\r\n\t    @MapsId(&quot;bandId&quot;)\r\n    \t@JoinColumn(name = &quot;band_id&quot;)\r\n\t    private Band band;\r\n\t\r\n    \t@ManyToOne\r\n\t    @MapsId(&quot;musicianId&quot;)\r\n    \t@JoinColumn(name = &quot;musician_id&quot;)\r\n\t    private Musician musician;\r\n\t\r\n    \tprivate String role;\r\n\t    private int joined;\r\n    }\r\n\r\nWhen I receive a POST request to &quot;/musician&quot; I can save a musician. I&#39;m using Jackson to deserialize a request like this:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;John the Ripper&quot;,\r\n        &quot;DoB&quot;: &quot;03-12-1965&quot;,\r\n        &quot;instruments&quot;: &quot;voice, guitar&quot;,\r\n        &quot;bands&quot;: &quot;Band1, Band2&quot;\r\n    }\r\n\r\nWith Jackson I can get each band, search with the BandRepository and create a BandMusician. \r\n\r\n**THE PROBLEM**: When I receive the request, in order to create a BandMusician I have to create a BandMusiciansId, and to do that I need the bandId and the MusicianId. But I&#39;m creating the musician right now, so I don&#39;t have the musicianId. It is created automatically when I save the musician.\r\n\r\nMusicianJsonDeserializer class\r\n\r\n    public class MusicianJsonDeserializer extends JsonDeserializer&lt;Musician&gt;{\r\n\t\r\n\tprivate final InstrumentRepository instrumentRepository;\r\n\tprivate final BandRepository bandRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic MusicianJsonDeserializer(\r\n\t\t\tInstrumentRepository instrumentRepository,\r\n\t\t\tBandRepository bandRepository\r\n\t) {\r\n\t\tthis.instrumentRepository = instrumentRepository;\r\n\t\tthis.bandRepository = bandRepository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Musician deserialize(JsonParser p, DeserializationContext ctxt) \r\n\t\t\tthrows IOException, JacksonException {\r\n\t\t\r\n\t\tObjectCodec codec = p.getCodec();\r\n\t\tJsonNode root = codec.readTree(p);\r\n\t\t\r\n\t\tMusician musician = new Musician();\r\n\t\tmusician.setName(root.get(&quot;name&quot;).asText());\r\n\t\t\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n\t\tmusician.setDoB(LocalDate.parse(root.get(&quot;DoB&quot;).asText(), formatter));\r\n\t\t\r\n\t\tif (root.get(&quot;instruments&quot;) != null) {\r\n\t\t\tString instrumentList = root.get(&quot;instruments&quot;).asText();\r\n\t\t\tString[] instrumentArray = instrumentList.split(&quot;, &quot;);\r\n\t\t\tList&lt;Instrument&gt; musicianInstrumentList = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfor (String instrument : instrumentArray) {\r\n\t\t\t\tInstrument instrumentFound = \r\n\t\t\t\t\t\tinstrumentRepository.findByName(instrument)\r\n\t\t\t\t\t\t.orElseThrow(RuntimeException::new);\r\n\t\t\t\t// TODO custom exception\r\n\t\t\t\tmusicianInstrumentList.add(instrumentFound);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmusician.setInstruments(musicianInstrumentList);\r\n\t\t}\r\n\t\t\r\n\t\tif (root.get(&quot;bands&quot;) != null) {\r\n\t\t\t// TODO Stuck here!\r\n\r\nWhat I thought of doing: In my MusicianService, after saving the musician, I can create the BandMusician and the relationship. I think doing this in the Service layer would be a bad choice though.\r\n\r\n**EDIT**: To make it easier to understand, I created a project only with the relevant parts of this one and pushed to github (https://github.com/ricardorosa-dev/gettinghelp).\r\nAgain, what I want is to be able to send a POST to &quot;/musician&quot;, that will be caught by the MusicianJsonDeserializer, and somehow create a BandMusicianId and BandMusician for each band sent in the request body.","title":"Spring Boot: POST request to entity with ManyToMany relationship","body":"<p>I'm working on a database for adding bands, musicians, instruments, etc.</p>\n<p>I have a table 'band' and a table 'musician'. They have a ManyToMany relationship (one band can have many musicians, a musician can be in many bands), with an extra table BandMusician that has an embeddedId BandMusicianId. I did it like this because I want the relationship between bands and musicians to have also other information, like the year the musician joined the band.</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Band {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String genre;\n    private int year;\n\n    @OneToOne(mappedBy = &quot;band&quot;)\n    private Website website;\n\n    @OneToMany(mappedBy = &quot;band&quot;)\n    private List&lt;Album&gt; albuns;\n\n    @OneToMany(mappedBy = &quot;band&quot;)\n    private List&lt;BandMusician&gt; musicians;\n\n}\n\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonDeserialize(using = MusicianJsonDeserializer.class)\npublic class Musician {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\n    @JsonProperty(&quot;DoB&quot;)\n    @Column(name = &quot;date_of_birth&quot;)\n    private LocalDate DoB;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;musician_instruments&quot;,\n            joinColumns = @JoinColumn(name = &quot;musician_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;instrument_id&quot;)\n    )   \n    private List&lt;Instrument&gt; instruments = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;musician&quot;)\n    private List&lt;BandMusician&gt; bands;\n\n    public void addInstrument(Instrument instrument) {\n        this.instruments.add(instrument);\n    }\n\n}\n\n\n@Embeddable\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BandMusiciansId implements Serializable{\n    \n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;band_id&quot;)\n    private Long bandId;\n\n    @Column(name = &quot;musician_id&quot;)\n    private Long musicianId;\n}\n\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BandMusician {\n\n    @EmbeddedId\n    private BandMusiciansId id = new BandMusiciansId();\n\n    @ManyToOne\n    @MapsId(&quot;bandId&quot;)\n    @JoinColumn(name = &quot;band_id&quot;)\n    private Band band;\n\n    @ManyToOne\n    @MapsId(&quot;musicianId&quot;)\n    @JoinColumn(name = &quot;musician_id&quot;)\n    private Musician musician;\n\n    private String role;\n    private int joined;\n}\n</code></pre>\n<p>When I receive a POST request to &quot;/musician&quot; I can save a musician. I'm using Jackson to deserialize a request like this:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;John the Ripper&quot;,\n    &quot;DoB&quot;: &quot;03-12-1965&quot;,\n    &quot;instruments&quot;: &quot;voice, guitar&quot;,\n    &quot;bands&quot;: &quot;Band1, Band2&quot;\n}\n</code></pre>\n<p>With Jackson I can get each band, search with the BandRepository and create a BandMusician.</p>\n<p><strong>THE PROBLEM</strong>: When I receive the request, in order to create a BandMusician I have to create a BandMusiciansId, and to do that I need the bandId and the MusicianId. But I'm creating the musician right now, so I don't have the musicianId. It is created automatically when I save the musician.</p>\n<p>MusicianJsonDeserializer class</p>\n<pre><code>public class MusicianJsonDeserializer extends JsonDeserializer&lt;Musician&gt;{\n\nprivate final InstrumentRepository instrumentRepository;\nprivate final BandRepository bandRepository;\n\n@Autowired\npublic MusicianJsonDeserializer(\n        InstrumentRepository instrumentRepository,\n        BandRepository bandRepository\n) {\n    this.instrumentRepository = instrumentRepository;\n    this.bandRepository = bandRepository;\n}\n\n@Override\npublic Musician deserialize(JsonParser p, DeserializationContext ctxt) \n        throws IOException, JacksonException {\n    \n    ObjectCodec codec = p.getCodec();\n    JsonNode root = codec.readTree(p);\n    \n    Musician musician = new Musician();\n    musician.setName(root.get(&quot;name&quot;).asText());\n    \n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n    musician.setDoB(LocalDate.parse(root.get(&quot;DoB&quot;).asText(), formatter));\n    \n    if (root.get(&quot;instruments&quot;) != null) {\n        String instrumentList = root.get(&quot;instruments&quot;).asText();\n        String[] instrumentArray = instrumentList.split(&quot;, &quot;);\n        List&lt;Instrument&gt; musicianInstrumentList = new ArrayList&lt;&gt;();\n        \n        for (String instrument : instrumentArray) {\n            Instrument instrumentFound = \n                    instrumentRepository.findByName(instrument)\n                    .orElseThrow(RuntimeException::new);\n            // TODO custom exception\n            musicianInstrumentList.add(instrumentFound);\n        }\n        \n        musician.setInstruments(musicianInstrumentList);\n    }\n    \n    if (root.get(&quot;bands&quot;) != null) {\n        // TODO Stuck here!\n</code></pre>\n<p>What I thought of doing: In my MusicianService, after saving the musician, I can create the BandMusician and the relationship. I think doing this in the Service layer would be a bad choice though.</p>\n<p><strong>EDIT</strong>: To make it easier to understand, I created a project only with the relevant parts of this one and pushed to github (<a href=\"https://github.com/ricardorosa-dev/gettinghelp\" rel=\"nofollow noreferrer\">https://github.com/ricardorosa-dev/gettinghelp</a>).\nAgain, what I want is to be able to send a POST to &quot;/musician&quot;, that will be caught by the MusicianJsonDeserializer, and somehow create a BandMusicianId and BandMusician for each band sent in the request body.</p>\n"},{"tags":["java","windows","installation"],"answers":[{"tags":[],"owner":{"account_id":19214847,"reputation":25,"user_id":14039803,"display_name":"Th&#224;nh L&#234;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638630601,"creation_date":1638630601,"answer_id":70226826,"question_id":70226719,"body_markdown":"Please check the java version you are running. If my memory is correct then `sun.misc.*` has been removed starting java 9.\r\nPlease check you are using your java version with the command.\r\n\r\n`java -version`","title":"Error installing software and environment variables","body":"<p>Please check the java version you are running. If my memory is correct then <code>sun.misc.*</code> has been removed starting java 9.\nPlease check you are using your java version with the command.</p>\n<p><code>java -version</code></p>\n"}],"owner":{"account_id":9416120,"reputation":481,"user_id":7227146,"accept_rate":20,"display_name":"zest16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638630601,"creation_date":1638629770,"question_id":70226719,"body_markdown":"I want to install a software using the following command in my command prompt:\r\n\r\n`java -Xmx256m -Xms64m -jar TreeForm.jar`\r\n\r\nHowever what I get is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun.misc.Launcher\r\n            at userInterface.Start.&lt;clinit&gt;(Start.java:54)Exception in thread &quot;main&quot; \r\n\r\nAnd if I define an environment variable as `_JAVA_OPTIONS` = `-Xmx256m -Xms64m`, with an additional line on top:\r\n\r\n    Picked up _JAVA_OPTIONS: -Xmx256m -Xms64m\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun.misc.Launcher\r\n            at userInterface.Start.&lt;clinit&gt;(Start.java:54)\r\n\r\nHow can I solve this? I&#39;m using Windows.","title":"Error installing software and environment variables","body":"<p>I want to install a software using the following command in my command prompt:</p>\n<p><code>java -Xmx256m -Xms64m -jar TreeForm.jar</code></p>\n<p>However what I get is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun.misc.Launcher\n        at userInterface.Start.&lt;clinit&gt;(Start.java:54)Exception in thread &quot;main&quot; \n</code></pre>\n<p>And if I define an environment variable as <code>_JAVA_OPTIONS</code> = <code>-Xmx256m -Xms64m</code>, with an additional line on top:</p>\n<pre><code>Picked up _JAVA_OPTIONS: -Xmx256m -Xms64m\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun.misc.Launcher\n        at userInterface.Start.&lt;clinit&gt;(Start.java:54)\n</code></pre>\n<p>How can I solve this? I'm using Windows.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"score":0,"creation_date":1638634680,"post_id":70226489,"comment_id":124142551,"body_markdown":"what is the usage of secretcode ? and what do you actually want to accomplish ?","body":"what is the usage of secretcode ? and what do you actually want to accomplish ?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638630037,"creation_date":1638628950,"answer_id":70226610,"question_id":70226489,"body_markdown":"The big switch/case with duplicate code is not a good idea. I suggest you to use an hashmap.\r\n\r\nAlso, I change the `farbcode` object into an hashmap too to check faster is the item is already added. It&#39;s better because we don&#39;t create a new array each loop iteration.\r\n```java\r\nint[] secretcode = new int[4];\r\nList&lt;String&gt; farbcode = new ArrayList&lt;&gt;();\r\nHashMap&lt;Integer, String&gt; possibleKey = new HashMap&lt;&gt;();\r\n\r\npublic rndmcode() {\r\n    // firstly define all id/keys\r\n\tpossibleKey.put(0, &quot;Blau&quot;);\r\n\tpossibleKey.put(1, &quot;Rot&quot;);\r\n\tpossibleKey.put(2, &quot;Gelb&quot;);\r\n\tpossibleKey.put(3, &quot;Gr&#252;n&quot;);\r\n\tpossibleKey.put(4, &quot;Lila&quot;);\r\n\tpossibleKey.put(5, &quot;Orange&quot;);\r\n\r\n\twhile (farbcode.size() &lt; 4) { // until we don&#39;t have 4 items\r\n\t\tRandom zufallszahl = new Random();\r\n\t\tint rndnumber = zufallszahl.nextInt(6); // find item between 0 and 5\r\n\r\n\t\tString choosed = possibleKey.get(rndnumber);\r\n\t\tif(choosed == null) // check if id registered\r\n\t\t\tSystem.out.println(&quot;Can&#39;t found key for ID: &quot; + rndnumber);\r\n\t\tif(!farbcode.contains(choosed)) // don&#39;t make switch\r\n\t\t\tfarbcode.add(choosed); // add item\r\n\t}\r\n}\r\n\r\npublic String stringo() {\r\n\tStringJoiner sj = new StringJoiner(&quot;, &quot;);\r\n\tfarbcode.forEach(sj::add); // add all element in string\r\n\treturn &quot;[&quot; + sj.toString() + &quot;]&quot;; // format string\r\n}\r\n```","title":"How can I limit each number of occuring only once, so my secret code won&#39;t have double numbers","body":"<p>The big switch/case with duplicate code is not a good idea. I suggest you to use an hashmap.</p>\n<p>Also, I change the <code>farbcode</code> object into an hashmap too to check faster is the item is already added. It's better because we don't create a new array each loop iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] secretcode = new int[4];\nList&lt;String&gt; farbcode = new ArrayList&lt;&gt;();\nHashMap&lt;Integer, String&gt; possibleKey = new HashMap&lt;&gt;();\n\npublic rndmcode() {\n    // firstly define all id/keys\n    possibleKey.put(0, &quot;Blau&quot;);\n    possibleKey.put(1, &quot;Rot&quot;);\n    possibleKey.put(2, &quot;Gelb&quot;);\n    possibleKey.put(3, &quot;Grn&quot;);\n    possibleKey.put(4, &quot;Lila&quot;);\n    possibleKey.put(5, &quot;Orange&quot;);\n\n    while (farbcode.size() &lt; 4) { // until we don't have 4 items\n        Random zufallszahl = new Random();\n        int rndnumber = zufallszahl.nextInt(6); // find item between 0 and 5\n\n        String choosed = possibleKey.get(rndnumber);\n        if(choosed == null) // check if id registered\n            System.out.println(&quot;Can't found key for ID: &quot; + rndnumber);\n        if(!farbcode.contains(choosed)) // don't make switch\n            farbcode.add(choosed); // add item\n    }\n}\n\npublic String stringo() {\n    StringJoiner sj = new StringJoiner(&quot;, &quot;);\n    farbcode.forEach(sj::add); // add all element in string\n    return &quot;[&quot; + sj.toString() + &quot;]&quot;; // format string\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23526140,"reputation":348,"user_id":17572646,"display_name":"Fabio Scagliola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638630296,"creation_date":1638630296,"answer_id":70226797,"question_id":70226489,"body_markdown":"The following sample code includes a method that returns an array of random unique integers \r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.HashSet;\r\nimport java.util.Random;\r\n\r\npublic class Example {\r\n\r\n    // Returns an array of random unique integers \r\n    public static int[] getArrayOfRandomUniqueIntegers(int length, int bound) {\r\n        HashSet&lt;Integer&gt; hashSet = new HashSet&lt;Integer&gt;();\r\n        Random random = new Random();\r\n        while (hashSet.size() &lt; length) {\r\n            int i = random.nextInt(bound);\r\n            if (!hashSet.contains(i)) {\r\n                hashSet.add(i);\r\n            }\r\n        }\r\n        return hashSet.stream().mapToInt(Integer::intValue).toArray();\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int[] array = getArrayOfRandomUniqueIntegers(8, 75);\r\n        System.out.println(Arrays.toString(array));\r\n    }\r\n\r\n}\r\n```\r\n\r\nFabio\r\n\r\n","title":"How can I limit each number of occuring only once, so my secret code won&#39;t have double numbers","body":"<p>The following sample code includes a method that returns an array of random unique integers</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.Random;\n\npublic class Example {\n\n    // Returns an array of random unique integers \n    public static int[] getArrayOfRandomUniqueIntegers(int length, int bound) {\n        HashSet&lt;Integer&gt; hashSet = new HashSet&lt;Integer&gt;();\n        Random random = new Random();\n        while (hashSet.size() &lt; length) {\n            int i = random.nextInt(bound);\n            if (!hashSet.contains(i)) {\n                hashSet.add(i);\n            }\n        }\n        return hashSet.stream().mapToInt(Integer::intValue).toArray();\n    }\n\n    public static void main(String args[]) {\n        int[] array = getArrayOfRandomUniqueIntegers(8, 75);\n        System.out.println(Arrays.toString(array));\n    }\n\n}\n</code></pre>\n<p>Fabio</p>\n"}],"owner":{"account_id":23543726,"reputation":13,"user_id":17587522,"display_name":"Crivenn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70226610,"answer_count":2,"score":0,"last_activity_date":1638630296,"creation_date":1638627961,"question_id":70226489,"body_markdown":"The code is supposed to return a secret code in form of colors, which it did do before the if conditions were added. The problem that occures to me, if I don&#39;t try to limit the numbers to occuring only once is as follows\r\n\r\nRemoving the if conditions from the cases makes the code &quot;work&quot; again but it also results in the numbers being repeated and sometimes leads to not even printing a number. Does anybody have an idea how to stop numbers from reoccuring?\r\n\r\n```\r\nint[] secretcode = new int[4];\t\r\nString[] farbcode = new String[4];\t\r\n\r\npublic rndmcode() { // array &quot;secretcode&quot; wird definiert\r\n\tArrays.fill(farbcode, &quot;&quot;);\r\n\tfor (int i = 0; i &lt; 4 &amp;&amp; farbcode.length &lt; 4; i++){\t\t\t\t\t\t\t\t\t\t\t\t\t\t \r\n        //Schleife um eine Randomziffer von 1-6 zu erstellen und\r\n\t\t//https://trainyourprogrammer.de/java-203-programmierung-von-mastermind.html\t//bis zur 4ten Stelle vom Array, da der Code 4 Zahlen bracht\r\n\t\tRandom zufallszahl = new Random();\t\t\t\t\t\t\t\t\t\t\r\n\t\tint rndnumber = zufallszahl.nextInt(7); //Die Zahlen 1-6 sind meine Farben, die vorrerst nur Zahlen sind\r\n\t\t\r\n\t    switch(rndnumber) {\r\n\t\tcase 1:\r\n\t\t\tif(Arrays.asList(farbcode).contains(&quot;Blau&quot;)){\r\n\t\t\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\t{farbcode[i] += &quot;Blau&quot;;\r\n\t\t\tbreak;}\r\n\t\tcase 2:\r\n\t\t\tif(Arrays.asList(farbcode).contains(&quot;Rot&quot;)) {\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\telse\r\n\t\t\t\t{farbcode[i] += &quot;Rot&quot;;\r\n\t\t\tbreak;}\r\n\t\tcase 3: \r\n\t\t\tif(Arrays.asList(farbcode).contains(&quot;Gelb&quot;)){\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfarbcode[i] += &quot;Gelb&quot;;\r\n\t\t\t\r\n\t\t\tbreak;}\r\n\t\tcase 4:\r\n\t\t\tif(Arrays.asList(farbcode).contains(&quot;Gr&#252;n&quot;)){\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfarbcode[i] += &quot;Gr&#252;n&quot;;\r\n\t\t\t\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase 5:\r\n\t\t\tif(Arrays.asList(farbcode).contains(&quot;Lila&quot;)){\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\telse {farbcode[i] += &quot;Lila&quot;;\r\n\t\t\tbreak;}\r\n\t\t\r\n\t\tcase 6:\r\n\t\t\tif(Arrays.asList(farbcode).contains(&quot;Orange&quot;)){\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\telse {\r\n\t\t\tfarbcode[i] += &quot;Orange&quot;;\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t}\r\n\t}\r\n}\r\npublic String stringo() {\r\n\r\n\tString s = &quot;[&quot;;\r\n\tfor (String element:farbcode) {\r\n\t\ts+=element;\r\n\t\ts+=&quot;, &quot;;\r\n\t}\r\n\ts+= &quot;]&quot;;\r\n\treturn s;\r\n}\r\n```\r\n\r\n","title":"How can I limit each number of occuring only once, so my secret code won&#39;t have double numbers","body":"<p>The code is supposed to return a secret code in form of colors, which it did do before the if conditions were added. The problem that occures to me, if I don't try to limit the numbers to occuring only once is as follows</p>\n<p>Removing the if conditions from the cases makes the code &quot;work&quot; again but it also results in the numbers being repeated and sometimes leads to not even printing a number. Does anybody have an idea how to stop numbers from reoccuring?</p>\n<pre><code>int[] secretcode = new int[4];  \nString[] farbcode = new String[4];  \n\npublic rndmcode() { // array &quot;secretcode&quot; wird definiert\n    Arrays.fill(farbcode, &quot;&quot;);\n    for (int i = 0; i &lt; 4 &amp;&amp; farbcode.length &lt; 4; i++){                                                      \n        //Schleife um eine Randomziffer von 1-6 zu erstellen und\n        //https://trainyourprogrammer.de/java-203-programmierung-von-mastermind.html    //bis zur 4ten Stelle vom Array, da der Code 4 Zahlen bracht\n        Random zufallszahl = new Random();                                      \n        int rndnumber = zufallszahl.nextInt(7); //Die Zahlen 1-6 sind meine Farben, die vorrerst nur Zahlen sind\n        \n        switch(rndnumber) {\n        case 1:\n            if(Arrays.asList(farbcode).contains(&quot;Blau&quot;)){\n        \n            break;\n            }\n            else\n                {farbcode[i] += &quot;Blau&quot;;\n            break;}\n        case 2:\n            if(Arrays.asList(farbcode).contains(&quot;Rot&quot;)) {\n                break;\n            \n            }\n        \n            else\n                {farbcode[i] += &quot;Rot&quot;;\n            break;}\n        case 3: \n            if(Arrays.asList(farbcode).contains(&quot;Gelb&quot;)){\n                break;\n                }\n            else{\n                farbcode[i] += &quot;Gelb&quot;;\n            \n            break;}\n        case 4:\n            if(Arrays.asList(farbcode).contains(&quot;Grn&quot;)){\n                break;\n                }\n            else{\n                farbcode[i] += &quot;Grn&quot;;\n            \n            break;\n            }\n        case 5:\n            if(Arrays.asList(farbcode).contains(&quot;Lila&quot;)){\n                break;\n                }\n            else {farbcode[i] += &quot;Lila&quot;;\n            break;}\n        \n        case 6:\n            if(Arrays.asList(farbcode).contains(&quot;Orange&quot;)){\n                break;\n                }\n            else {\n            farbcode[i] += &quot;Orange&quot;;\n            break;\n            }\n        default:\n        }\n    }\n}\npublic String stringo() {\n\n    String s = &quot;[&quot;;\n    for (String element:farbcode) {\n        s+=element;\n        s+=&quot;, &quot;;\n    }\n    s+= &quot;]&quot;;\n    return s;\n}\n</code></pre>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":1,"creation_date":1638616592,"post_id":70225070,"comment_id":124138889,"body_markdown":"It would be helpful to see the code under the image which caused the exception. Edit your post and copy paste the code into it. You need to establish a connection to the database before playing out a query.","body":"It would be helpful to see the code under the image which caused the exception. Edit your post and copy paste the code into it. You need to establish a connection to the database before playing out a query."},{"owner":{"account_id":20962996,"reputation":21,"user_id":15401998,"display_name":"Abhijith Santhosh"},"score":0,"creation_date":1638617351,"post_id":70225070,"comment_id":124138986,"body_markdown":"database connection was established successfully!!! @DevilsHnd","body":"database connection was established successfully!!! @DevilsHnd"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1638619644,"post_id":70225070,"comment_id":124139346,"body_markdown":"Why do you close that connection as soon as you open it!!!!","body":"Why do you close that connection as soon as you open it!!!!"},{"owner":{"account_id":20962996,"reputation":21,"user_id":15401998,"display_name":"Abhijith Santhosh"},"score":0,"creation_date":1638620254,"post_id":70225070,"comment_id":124139456,"body_markdown":"i changed it know...still the same nullpointe exception error @DevilsHnd","body":"i changed it know...still the same nullpointe exception error @DevilsHnd"},{"owner":{"account_id":20962996,"reputation":21,"user_id":15401998,"display_name":"Abhijith Santhosh"},"score":0,"creation_date":1638620427,"post_id":70225070,"comment_id":124139489,"body_markdown":"well the error is caught by the catch(e1)..which is at the bottom...so maybe something went wrong inside the try block below the actionlistener of btnlogin bottom @DevilsHnd","body":"well the error is caught by the catch(e1)..which is at the bottom...so maybe something went wrong inside the try block below the actionlistener of btnlogin bottom @DevilsHnd"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638626190,"post_id":70225070,"comment_id":124140714,"body_markdown":"`Connection connection = DriverManager.getConnection(`  You are declaring a *brand new variable* named `connection`, and you are assigning a value to that.  This means the `connection` field declared at the top of your class is never assigned a value at all.","body":"<code>Connection connection = DriverManager.getConnection(</code>  You are declaring a <i>brand new variable</i> named <code>connection</code>, and you are assigning a value to that.  This means the <code>connection</code> field declared at the top of your class is never assigned a value at all."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638629750,"post_id":70225070,"comment_id":124141442,"body_markdown":"When using Eclipse [WindowBuilder](https://www.eclipse.org/windowbuilder/) to build your _Swing_ GUI, you don&#39;t have to use null layout. Consider using [GroupLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html) or [SpringLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html) Also consider [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) in your [JDBC](https://docs.oracle.com/javase/tutorial/jdbc/index.html) code.","body":"When using Eclipse <a href=\"https://www.eclipse.org/windowbuilder/\" rel=\"nofollow noreferrer\">WindowBuilder</a> to build your <i>Swing</i> GUI, you don&#39;t have to use null layout. Consider using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html\" rel=\"nofollow noreferrer\">GroupLayout</a> or <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">SpringLayout</a> Also consider <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> in your <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/index.html\" rel=\"nofollow noreferrer\">JDBC</a> code."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638629853,"post_id":70225070,"comment_id":124141472,"body_markdown":"Also consider adhering to [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).","body":"Also consider adhering to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>."}],"answers":[{"tags":[],"owner":{"account_id":3380175,"reputation":3541,"user_id":2837359,"accept_rate":67,"display_name":"404 Not Found"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638628138,"creation_date":1638628138,"answer_id":70226510,"question_id":70225070,"body_markdown":"You have declared `Connection connection =null;` later on in the try block you are using like \r\n\r\n   ` Connection connection = DriverManager.getConnection(jdbcURL, username, password)`  which is altogether different `Connection ` object. you should be using something like .\r\n\r\n     this.connection=DriverManager.getConnection(jdbcURL, username, password)\r\n\r\n     \r\nAlso you can move your code in a different method like \r\n\r\n     public void  initialize() {\r\n    \t  String jdbcURL = &quot;jdbc:postgresql://localhost:5432/your_db&quot;;\r\n          String username = &quot;postgres&quot;;\r\n          String password = &quot;password&quot;;\r\n  \r\n      try {\r\n      this.connection = DriverManager.getConnection(jdbcURL, username, password);\r\n      System.out.print(&quot;Connected&quot;);\r\n      connection.close();      \r\n      }\r\n      catch(SQLException e) {\r\n          System.out.println(&quot;Error in connection&quot;);\r\n          e.printStackTrace();\r\n      }\t\r\n    }\r\n\r\nAnd call inside the constructor like \r\n\r\n     public trail() {\r\n        initialize();\r\n        ....\r\n     }","title":"Unable to resolve NullPointerException in java swing application","body":"<p>You have declared <code>Connection connection =null;</code> later on in the try block you are using like</p>\n<p><code> Connection connection = DriverManager.getConnection(jdbcURL, username, password)</code>  which is altogether different <code>Connection </code> object. you should be using something like .</p>\n<pre><code> this.connection=DriverManager.getConnection(jdbcURL, username, password)\n\n \n</code></pre>\n<p>Also you can move your code in a different method like</p>\n<pre><code> public void  initialize() {\n      String jdbcURL = &quot;jdbc:postgresql://localhost:5432/your_db&quot;;\n      String username = &quot;postgres&quot;;\n      String password = &quot;password&quot;;\n\n  try {\n  this.connection = DriverManager.getConnection(jdbcURL, username, password);\n  System.out.print(&quot;Connected&quot;);\n  connection.close();      \n  }\n  catch(SQLException e) {\n      System.out.println(&quot;Error in connection&quot;);\n      e.printStackTrace();\n  } \n}\n</code></pre>\n<p>And call inside the constructor like</p>\n<pre><code> public trail() {\n    initialize();\n    ....\n }\n</code></pre>\n"}],"owner":{"account_id":20962996,"reputation":21,"user_id":15401998,"display_name":"Abhijith Santhosh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638630270,"creation_date":1638616350,"question_id":70225070,"body_markdown":"I made a simple login page with Java *Swing* in Eclipse and once I run and enter the inputs I am getting an error `java.lang.NullPointerException`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Q87G.png\r\n\r\n    import java.lang.String;\r\n    import java.awt.EventQueue;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JButton;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n\r\n    public class trail extends JFrame {\r\n\t    Connection connection =null;\r\n\t    private JPanel contentPane;\r\n\t    private JTextField id;\r\n\t    private JPasswordField passwordField;\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    String jdbcURL = &quot;jdbc:postgresql://localhost:5432/postgres&quot;;\r\n\t\t    String username = &quot;postgres&quot;;\r\n\t\t    String password = &quot;.......&quot;;\r\n\t\t    try {\r\n\t\t\t    Connection connection = DriverManager.getConnection(jdbcURL, username, password);\r\n    \t\t\tSystem.out.print(&quot;Connected&quot;);\r\n\t\t\t    connection.close();\r\n\t\t\t}\r\n\t\t\tcatch(SQLException e) {\r\n\t\t\t\tSystem.out.println(&quot;Error in connection&quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t    EventQueue.invokeLater(new Runnable() {\r\n\t\t\t    public void run() {\r\n\t\t\t\t    try {\r\n\t\t\t\t\t    trail frame = new trail();\r\n\t\t\t\t\t    frame.setVisible(true);\r\n\t\t\t\t    } catch (Exception e) {\r\n\t\t\t\t\t    e.printStackTrace();\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    });\r\n\t    }\r\n\r\n\t    /**\r\n\t     * Create the frame.\r\n\t     */\r\n\t    public trail() {\r\n\t\t    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    setBounds(100, 100, 519, 550);\r\n\t\t    contentPane = new JPanel();\r\n\t\t    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\t    setContentPane(contentPane);\r\n\t\t    contentPane.setLayout(null);\r\n\t\t    JLabel lblNewLabel = new JLabel(&quot;username&quot;);\r\n\t\t    lblNewLabel.setBounds(94, 114, 45, 13);\r\n\t\t    contentPane.add(lblNewLabel);\r\n\r\n\t\t    id = new JTextField();\r\n\t\t    id.setBounds(246, 111, 96, 19);\r\n\t\t    contentPane.add(id);\r\n\t\t    id.setColumns(10);\r\n\r\n\t\t    JLabel lblNewLabel_1 = new JLabel(&quot;password&quot;);\r\n\t\t    lblNewLabel_1.setBounds(94, 178, 45, 13);\r\n\t\t    contentPane.add(lblNewLabel_1);\r\n\r\n\t\t    passwordField = new JPasswordField();\r\n\t\t    passwordField.setBounds(246, 175, 96, 19);\r\n\t\t    contentPane.add(passwordField);\r\n\r\n\t\t    JButton btnlogin = new JButton(&quot;login&quot;);\r\n\t\t    btnlogin.addActionListener(new ActionListener() {\r\n\t\t\t    @SuppressWarnings(&quot;deprecation&quot;)\r\n\t\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t\t\t    try {\r\n\t\t\t\t        String query = &quot;select * from users where username = ? and password = ?&quot;;\r\n\t\t\t\t        PreparedStatement pst=connection.prepareStatement(query);\r\n\t\t\t\t        pst.setString(1, id.getText());\r\n\t\t\t\t        pst.setString(2, passwordField.getText());\r\n\t\t\t\t        ResultSet rs = pst.executeQuery();\r\n\t\t\t\t        int count = 0;\r\n\t\t\t\t        while(rs.next()) {\r\n\t\t\t\t\t        count = count + 1;\r\n\t\t\t\t\t        if(count == 1)\r\n\t\t\t\t\t        {\r\n\t\t\t\t\t\t        JOptionPane.showMessageDialog(null, &quot;Password and username is correct&quot;);\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t        else if(count&gt;1)\r\n\t\t\t\t\t        {\r\n\t\t\t\t\t\t        JOptionPane.showMessageDialog(null, &quot;redundancy detected&quot;);\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t        else\r\n\t\t\t\t\t        {\r\n\t\t\t\t\t\t        JOptionPane.showMessageDialog(null,&quot;Incorrect credentials&quot;);\r\n\t\t\t\t\t        }\r\n\t\t\t\t        }\r\n\t\t\t\t        rs.close();\r\n\t\t\t\t        pst.close();\r\n\t\t\t\t    }\r\n\t\t\t\t    catch(Exception e1)\r\n\t\t\t\t    {\r\n\t\t\t\t\t    JOptionPane.showMessageDialog(null, e1);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    });\r\n\t\t    btnlogin.setBounds(179, 259, 85, 21);\r\n\t\t    contentPane.add(btnlogin);\r\n\t    }\r\n    }\r\n","title":"Unable to resolve NullPointerException in java swing application","body":"<p>I made a simple login page with Java <em>Swing</em> in Eclipse and once I run and enter the inputs I am getting an error <code>java.lang.NullPointerException</code></p>\n<p><a href=\"https://i.stack.imgur.com/5Q87G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Q87G.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.lang.String;\nimport java.awt.EventQueue;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\nimport javax.swing.JPasswordField;\nimport javax.swing.JButton;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\n\npublic class trail extends JFrame {\n    Connection connection =null;\n    private JPanel contentPane;\n    private JTextField id;\n    private JPasswordField passwordField;\n\n    public static void main(String[] args) {\n        String jdbcURL = &quot;jdbc:postgresql://localhost:5432/postgres&quot;;\n        String username = &quot;postgres&quot;;\n        String password = &quot;.......&quot;;\n        try {\n            Connection connection = DriverManager.getConnection(jdbcURL, username, password);\n            System.out.print(&quot;Connected&quot;);\n            connection.close();\n        }\n        catch(SQLException e) {\n            System.out.println(&quot;Error in connection&quot;);\n            e.printStackTrace();\n        }\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    trail frame = new trail();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public trail() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 519, 550);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        JLabel lblNewLabel = new JLabel(&quot;username&quot;);\n        lblNewLabel.setBounds(94, 114, 45, 13);\n        contentPane.add(lblNewLabel);\n\n        id = new JTextField();\n        id.setBounds(246, 111, 96, 19);\n        contentPane.add(id);\n        id.setColumns(10);\n\n        JLabel lblNewLabel_1 = new JLabel(&quot;password&quot;);\n        lblNewLabel_1.setBounds(94, 178, 45, 13);\n        contentPane.add(lblNewLabel_1);\n\n        passwordField = new JPasswordField();\n        passwordField.setBounds(246, 175, 96, 19);\n        contentPane.add(passwordField);\n\n        JButton btnlogin = new JButton(&quot;login&quot;);\n        btnlogin.addActionListener(new ActionListener() {\n            @SuppressWarnings(&quot;deprecation&quot;)\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    String query = &quot;select * from users where username = ? and password = ?&quot;;\n                    PreparedStatement pst=connection.prepareStatement(query);\n                    pst.setString(1, id.getText());\n                    pst.setString(2, passwordField.getText());\n                    ResultSet rs = pst.executeQuery();\n                    int count = 0;\n                    while(rs.next()) {\n                        count = count + 1;\n                        if(count == 1)\n                        {\n                            JOptionPane.showMessageDialog(null, &quot;Password and username is correct&quot;);\n                        }\n                        else if(count&gt;1)\n                        {\n                            JOptionPane.showMessageDialog(null, &quot;redundancy detected&quot;);\n                        }\n                        else\n                        {\n                            JOptionPane.showMessageDialog(null,&quot;Incorrect credentials&quot;);\n                        }\n                    }\n                    rs.close();\n                    pst.close();\n                }\n                catch(Exception e1)\n                {\n                    JOptionPane.showMessageDialog(null, e1);\n                }\n            }\n        });\n        btnlogin.setBounds(179, 259, 85, 21);\n        contentPane.add(btnlogin);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":2,"creation_date":1638624478,"post_id":70226017,"comment_id":124140355,"body_markdown":"In math they have special name... Find out name and you will find plenty examples","body":"In math they have special name... Find out name and you will find plenty examples"}],"answers":[{"tags":[],"owner":{"account_id":12714208,"reputation":49,"user_id":9236852,"display_name":"hani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638625386,"creation_date":1638625386,"answer_id":70226133,"question_id":70226017,"body_markdown":"You must first iterate and then use the following method to check if any of them are prime numbers or not \r\n\r\n    public static boolean isPrime(int n) {  \r\n       if (n &lt;= 1) {  \r\n           return false;  \r\n       }  \r\n       for (int i = 2; i &lt; Math.sqrt(n); i++) {  \r\n           if (n % i == 0) {  \r\n               return false;  \r\n           }  \r\n       }  \r\n       return true;\r\n    } \r\n\r\n  ","title":"Get numbers that cannot be divided by anything","body":"<p>You must first iterate and then use the following method to check if any of them are prime numbers or not</p>\n<pre><code>public static boolean isPrime(int n) {  \n   if (n &lt;= 1) {  \n       return false;  \n   }  \n   for (int i = 2; i &lt; Math.sqrt(n); i++) {  \n       if (n % i == 0) {  \n           return false;  \n       }  \n   }  \n   return true;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638630174,"creation_date":1638625602,"answer_id":70226166,"question_id":70226017,"body_markdown":"  Like @Selvin said in the comments, these numbers have a name, they are called &quot;prime numbers&quot;.\r\n\r\nFor example, you can use something like this:\r\n\r\n    for (int number : numbers) {\r\n      if (!primeCal(number)) {\r\n         number = null;\r\n      }\r\n    }\r\n\r\n\r\n    private static void primeCal(int num) {\r\n    \tint count = 0;\r\n    \tfor (int i = 1; i &lt;= num; i++) {\r\n    \t   if (num % i == 0) {\r\n    \t        count++;\t        \r\n    \t   }\r\n    \t}\r\n    \tif (count == 2) {\r\n    \t  return true;\r\n        } else {\r\n    \t  return false;     \r\n        }  \r\n     } ","title":"Get numbers that cannot be divided by anything","body":"<p>Like @Selvin said in the comments, these numbers have a name, they are called &quot;prime numbers&quot;.</p>\n<p>For example, you can use something like this:</p>\n<pre><code>for (int number : numbers) {\n  if (!primeCal(number)) {\n     number = null;\n  }\n}\n\n\nprivate static void primeCal(int num) {\n    int count = 0;\n    for (int i = 1; i &lt;= num; i++) {\n       if (num % i == 0) {\n            count++;            \n       }\n    }\n    if (count == 2) {\n      return true;\n    } else {\n      return false;     \n    }  \n } \n</code></pre>\n"}],"owner":{"account_id":19259126,"reputation":123,"user_id":14075401,"display_name":"yesmen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638630174,"creation_date":1638624378,"question_id":70226017,"body_markdown":"how can I use Java to find out numbers that can&#39;t be divided by any other number?\r\n\r\ni have an int array:\r\n\r\n    int[] numbers = new int[25];\r\n\r\n\r\nNow I want to iterate over this array and output all the numbers that are not divisible in a new array. The remaining numbers should no longer appear in the new array.\r\n\r\nFor example, in a range from 1-25, only the numbers [1,3,5,7,11,13,17,19,23] should be output as an array.\r\n\r\nHow exactly do I get to program this?\r\n\r\nThanks in advance!","title":"Get numbers that cannot be divided by anything","body":"<p>how can I use Java to find out numbers that can't be divided by any other number?</p>\n<p>i have an int array:</p>\n<pre><code>int[] numbers = new int[25];\n</code></pre>\n<p>Now I want to iterate over this array and output all the numbers that are not divisible in a new array. The remaining numbers should no longer appear in the new array.</p>\n<p>For example, in a range from 1-25, only the numbers [1,3,5,7,11,13,17,19,23] should be output as an array.</p>\n<p>How exactly do I get to program this?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","ssl","cxf","aix","file-descriptor"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1479463540,"post_id":40529499,"comment_id":68578561,"body_markdown":"@EJP The problem is in the configuration of CXF. This is why there is no code. I can&#39;t go and paste CXF&#39;s code: we just don&#39;t know what&#39;s going on internally there. You want the code that calls? Fine, that&#39;s no issue, will be done in a few minutes, but it won&#39;t give you any more hints.","body":"@EJP The problem is in the configuration of CXF. This is why there is no code. I can&#39;t go and paste CXF&#39;s code: we just don&#39;t know what&#39;s going on internally there. You want the code that calls? Fine, that&#39;s no issue, will be done in a few minutes, but it won&#39;t give you any more hints."},{"owner":{"account_id":222722,"reputation":2329,"user_id":2135941,"accept_rate":75,"display_name":"SanThee"},"score":0,"creation_date":1479464666,"post_id":40529499,"comment_id":68579284,"body_markdown":"@EJP: All of the open file descriptors seem to be stuck at java.net.PlainSocketImpl.create(PlainSocketImpl.java:188); we can search for this code in the OpenJdk but not in the IBM one (which causes the issue) furthermore; the stacktrace uses a lot of weblogic internal code, which is called by cxf, which we call, but our code is limited to the code Olivier provided (with the config I provided)","body":"@EJP: All of the open file descriptors seem to be stuck at java.net.PlainSocketImpl.create(PlainSocketImpl.java:188); we can search for this code in the OpenJdk but not in the IBM one (which causes the issue) furthermore; the stacktrace uses a lot of weblogic internal code, which is called by cxf, which we call, but our code is limited to the code Olivier provided (with the config I provided)"},{"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"score":0,"creation_date":1479464895,"post_id":40529499,"comment_id":68579433,"body_markdown":"have you tried timeouts? If you didnt check yet i found this issue http://stackoverflow.com/questions/5656458/java-net-socketexception-too-many-open-files/37605213#37605213","body":"have you tried timeouts? If you didnt check yet i found this issue <a href=\"http://stackoverflow.com/questions/5656458/java-net-socketexception-too-many-open-files/37605213#37605213\" title=\"java net socketexception too many open files\">stackoverflow.com/questions/5656458/&hellip;</a>"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1479465286,"post_id":40529499,"comment_id":68579725,"body_markdown":"Thanks @HRgiger we&#39;ve already increased the open file limit. It only delays the issue to later in time, and we can&#39;t go much higher. We&#39;ll definitely check the TIME_WAIT settings.","body":"Thanks @HRgiger we&#39;ve already increased the open file limit. It only delays the issue to later in time, and we can&#39;t go much higher. We&#39;ll definitely check the TIME_WAIT settings."},{"owner":{"account_id":222722,"reputation":2329,"user_id":2135941,"accept_rate":75,"display_name":"SanThee"},"score":0,"creation_date":1479465982,"post_id":40529499,"comment_id":68580226,"body_markdown":"@HRgiger: we did: the tcp_timewait (it&#39;s a aix machine) is set to 1 -&gt; this means 15 seconds; it&#39;s not the network connections that leak but the file descriptors associated with them; the network connections get closed properly but the file descriptors remain and augment... thanks for the suggestion though...","body":"@HRgiger: we did: the tcp_timewait (it&#39;s a aix machine) is set to 1 -&gt; this means 15 seconds; it&#39;s not the network connections that leak but the file descriptors associated with them; the network connections get closed properly but the file descriptors remain and augment... thanks for the suggestion though..."},{"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"score":0,"creation_date":1479466143,"post_id":40529499,"comment_id":68580345,"body_markdown":"well at least i tried:) he mentioned &quot;socket connections are treated like files and they use file descriptor, which is a limited resource&quot; that is why I thought it might worth to try.","body":"well at least i tried:) he mentioned &quot;socket connections are treated like files and they use file descriptor, which is a limited resource&quot; that is why I thought it might worth to try."}],"answers":[{"tags":[],"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480270172,"creation_date":1479996580,"answer_id":40788505,"question_id":40529499,"body_markdown":"From my perspective the problem is related to cxf configuration, perhaps interplay of weblogic + cxf is also an issue, because it&#39;s the cxf component that manages the connection (see the stacktrace). So I suggested trying with the different keep-alive settings (how to set keep-alive is described [here][1]). Seems like this didn&#39;t help beat open file descriptors though.\r\n\r\nUPDATE:\r\n\r\nAfter thinking more about your problem:\r\n\r\n    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.getResponseCode(URLConnectionHTTPConduit.java:266)\r\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.doProcessResponseCode(HTTPConduit.java:1550)\r\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1579)\r\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1520)\r\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1317)\r\n\r\nseems like when closing http connection the cxf tries to get some response code back and creates a socket for that, and as those sockets just wait for response that never comes indefinitely that creates a leak. The whole flow is described [here][2] under a Simplified Client Workflow section. So, the next question is, does `tst-cjcsr.just.fgov.be` ever reply? And, my next suggestion is to configure `ReceiveTimeout` for the `http-conf:client` as described in the [link][1] above.\r\n\r\n\r\n  [1]: http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport(includingSSLsupport)-AdvancedConfiguration\r\n  [2]: http://cxf.apache.org/docs/custom-transport.html","title":"File descriptor leak when getting response code. (cxf, ssl)","body":"<p>From my perspective the problem is related to cxf configuration, perhaps interplay of weblogic + cxf is also an issue, because it's the cxf component that manages the connection (see the stacktrace). So I suggested trying with the different keep-alive settings (how to set keep-alive is described <a href=\"http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport(includingSSLsupport)-AdvancedConfiguration\" rel=\"nofollow noreferrer\">here</a>). Seems like this didn't help beat open file descriptors though.</p>\n\n<p>UPDATE:</p>\n\n<p>After thinking more about your problem:</p>\n\n<pre><code>at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.getResponseCode(URLConnectionHTTPConduit.java:266)\nat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.doProcessResponseCode(HTTPConduit.java:1550)\nat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1579)\nat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1520)\nat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1317)\n</code></pre>\n\n<p>seems like when closing http connection the cxf tries to get some response code back and creates a socket for that, and as those sockets just wait for response that never comes indefinitely that creates a leak. The whole flow is described <a href=\"http://cxf.apache.org/docs/custom-transport.html\" rel=\"nofollow noreferrer\">here</a> under a Simplified Client Workflow section. So, the next question is, does <code>tst-cjcsr.just.fgov.be</code> ever reply? And, my next suggestion is to configure <code>ReceiveTimeout</code> for the <code>http-conf:client</code> as described in the <a href=\"http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport(includingSSLsupport)-AdvancedConfiguration\" rel=\"nofollow noreferrer\">link</a> above.</p>\n"}],"owner":{"account_id":222722,"reputation":2329,"user_id":2135941,"accept_rate":75,"display_name":"SanThee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1638630108,"creation_date":1478786574,"question_id":40529499,"body_markdown":"We have a problem in production for quite a while now...\r\n\r\nThis is a follow up of: [my other question][1] but with way more specifics so I think posting it as a new question is justified (if not I&#39;ll just add this info to the other question).\r\n\r\nHere it goes:\r\n\r\nSo, we have a file descriptor leak on aix with (ibm) java 6 weblogic using an application using cxf and we address a web service of our own an also a jsb which routes towards our ws.\r\n\r\nWhen using [File Leak Detector][2] as agent in the startup of weblogic and dumping the getCurrentOpenFiles() and filtering on Listener.SocketRecord programatically we have 2000+ open sockets; \r\n\r\nThese are java sockets and file descriptors, the net-sockets (viewed with netstat) are properly closed, by time, but the programmatic ones (and the ones viewed with \r\n\r\n    lsof -p $pid_of_managed_server 2&gt; /dev/null|grep TCP|wc -l\r\n\r\n)stay open (and eventually cause a too many open files issue)).\r\n\r\nThis is the head of the stack of one of those open file descriptors inside the jvm:\r\n\r\n\trecord socket to tst-cjcsr.com/10.239.7.19:443 by thread:[ACTIVE] ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39; on Thu Nov 10 10:25:56 CET 2016\r\n\t\tat java.net.PlainSocketImpl.create(PlainSocketImpl.java:188)\r\n\t\tat java.net.Socket.createImpl(Socket.java:411)\r\n\t\tat java.net.Socket.connect(Socket.java:544)\r\n\t\tat weblogic.net.http.HttpsClient.openWrappedSSLSocket(HttpsClient.java:565)\r\n\t\tat weblogic.net.http.HttpsClient.openServer(HttpsClient.java:296)\r\n\t\tat weblogic.net.http.HttpsClient.openServer(HttpsClient.java:373)\r\n\t\tat weblogic.net.http.HttpsClient.New(HttpsClient.java:528)\r\n\t\tat weblogic.net.http.HttpsURLConnection.connect(HttpsURLConnection.java:239)\r\n\t\tat weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:409)\r\n\t\tat weblogic.net.http.SOAPHttpsURLConnection.getInputStream(SOAPHttpsURLConnection.java:37)\r\n\t\tat weblogic.net.http.HttpURLConnection.getResponseCode(HttpURLConnection.java:1038)\r\n\t\tat org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.getResponseCode(URLConnectionHTTPConduit.java:266)\r\n\t\tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.doProcessResponseCode(HTTPConduit.java:1550)\r\n\t\tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1579)\r\n\t\tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1520)\r\n\t\tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1317)\r\n\t\tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\r\n\t\tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:632)\r\n\t\tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\r\n\t\tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\r\n\t\tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:572)\r\n\t\tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:481)\r\n\t\tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:382)\r\n\t\tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:335)\r\n\t\tat org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\r\n\t\tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:136)\r\n\t\tat com.sun.proxy.$Proxy380.requestOurRecord(Unknown Source)\r\n\t\tat some.package.application.dossier.DossierBean$1.call(DossierBean.java:225)\r\n\r\nI can imagine that this is a applicative issue because I can&#39;t find other cases online with similar defects.\r\n\r\nDoes anyone can make more sense from this stack?\r\n\r\nFor instance: It strikes me as odd that HTTPConduit.close() wants to _create_ a connection...\r\n\r\nAnother point:\r\nthe issue doesn&#39;t occur with the same stack of technologies for non-https calls. (which does makes sense because the stacktrace mentions Http**s**Client)\r\n\r\nCXF version: 2.7.18\r\n\r\ncxf config:\r\n\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t   xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot;\r\n\t\t   xmlns:soap=&quot;http://cxf.apache.org/bindings/soap&quot;\r\n\t\t   xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\r\n\t\t   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t\t   xsi:schemaLocation=&quot;\r\n\t\t\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\t\t\t\thttp://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd\r\n\t\t\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n\t\t\t\thttp://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd&quot;&gt;\r\n\t\t&lt;import resource=&quot;classpath:META-INF/cxf/cxf.xml&quot;/&gt;\r\n\r\n\t\t&lt;context:property-placeholder location=&quot;file:${config.file.location}cjr-extract-${environment}.properties&quot;/&gt;\r\n\r\n\t\t&lt;jaxws:client id=&quot;OurService&quot;\r\n\t\t\t\t\t  serviceClass=&quot;some.package.ws.extract.generated.OurService&quot;\r\n\t\t\t\t\t  address=&quot;${ws.extract.wsdl.endpoint}&quot;&gt;\r\n\t\t\t&lt;jaxws:binding&gt;\r\n\t\t\t\t&lt;soap:soapBinding version=&quot;1.2&quot;/&gt;\r\n\t\t\t&lt;/jaxws:binding&gt;\r\n\t\t&lt;/jaxws:client&gt;\r\n\r\n\t\t&lt;cxf:bus&gt;\r\n\t\t\t&lt;cxf:outInterceptors&gt;\r\n\t\t\t\t&lt;bean class=&quot;our.package.interceptors.SomeInterceptor&quot;\r\n\t\t\t\t\t  id=&quot;webSecurityInterceptor&quot;&gt;\r\n\t\t\t\t\t&lt;constructor-arg&gt;\r\n\t\t\t\t\t\t&lt;map&gt;\r\n\t\t\t\t\t\t\t&lt;entry key=&quot;action&quot; value=&quot;Timestamp Signature&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;entry key=&quot;user&quot; value=&quot;${org.apache.ws.security.crypto.merlin.keystore.alias}&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;entry key=&quot;passwordCallbackRef&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;ref bean=&quot;passwordCallBack&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/entry&gt;\r\n\t\t\t\t\t\t\t&lt;!--entry key=&quot;signaturePropFile&quot; value=&quot;properties/our.properties&quot;/--&gt;\r\n\t\t\t\t\t\t\t&lt;entry key=&quot;signaturePropFile&quot; value=&quot;file:${location}/our.properties&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot; /&gt;\r\n\t\t\t\t\t\t&lt;/map&gt;\r\n\t\t\t\t\t&lt;/constructor-arg&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/cxf:outInterceptors&gt;\r\n\t\t\t&lt;cxf:properties&gt;\r\n\t\t\t\t&lt;entry key=&quot;signatureParts&quot;\r\n\t\t\t\t\t   value=&quot;{Element}{http://www.w3.org/2003/05/soap-envelope}Body;{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;/&gt;\r\n\t\t\t&lt;/cxf:properties&gt;\r\n\t\t&lt;/cxf:bus&gt;\r\n\r\n\t\t&lt;bean id=&quot;passwordCallBack&quot; class=&quot;our.package.authentication.PasswordCallbackHandler&quot;&gt;\r\n\t\t\t&lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;alias&quot; value=&quot;${org.apache.ws.security.crypto.merlin.keystore.alias}&quot;/&gt;\r\n\t\t&lt;/bean&gt;\r\n\t&lt;/beans&gt;\r\n\r\nJava: \r\n\r\n\tjava version &quot;1.6.0&quot;\r\n\tJava(TM) SE Runtime Environment (build pap3260sr15fp1-20140110_01(SR15 FP1))\r\n\tIBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 AIX ppc-32 jvmap3260sr15-\r\n\t20131231_180656 (JIT enabled, AOT enabled)\r\n\tJ9VM - 20131231_180656\r\n\tJIT  - r9_20130920_46510ifx3\r\n\tGC   - GA24_Java6_SR15_20131231_1152_B180656)\r\n\tJCL  - 20140107_01\r\n\r\nWeblogic 10.3.6\r\n\r\nThanks for hints, pointers, and, of course - if possible -, answers  ;-)\r\n\r\nS.\r\n\r\nEJP requested code, here it is:\r\n\r\nThe call itself:\r\n\r\n    private OurService ourservice;\r\n\r\n    private Callable&lt;RequestOurRecordResponse&gt; callService(final RequestOurRecordRequest request) {\r\n        return new Callable&lt;RequestOurRecordResponse&gt;() {\r\n            @Override\r\n            public RequestOurRecordResponse call() throws Exception {\r\n                try {\r\n                    return ourService.requestOurRecord(request); // this is line 225.\r\n                } catch (Exception e) {\r\n                    facesMessages.error(&quot;technicalError&quot;);\r\n                    log.error(&quot;Encountered technical error&quot;, e);\r\n                    return null;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nThe generated webservice:\r\n\r\n    \r\n    package some.package.ws.extract.generated;\r\n    \r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebResult;\r\n    import javax.jws.WebService;\r\n    import javax.jws.soap.SOAPBinding;\r\n    import javax.xml.bind.annotation.XmlSeeAlso;\r\n    \r\n    \r\n    /**\r\n     * This class was generated by the JAX-WS RI.\r\n     * JAX-WS RI 2.1.7-b01-\r\n     * Generated source version: 2.1\r\n     * \r\n     */\r\n    @WebService(name = &quot;OurService&quot;, targetNamespace = &quot;http://secret/service-v1.0-rc2&quot;)\r\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n    @XmlSeeAlso({\r\n        ObjectFactory.class\r\n    })\r\n    public interface OurService {\r\n        /**\r\n         * \r\n         * @param requestOurRecordRequest\r\n         * @return\r\n         *     returns some.package.ws.extract.generated.RequestOurRecordResponse\r\n         */\r\n        @WebMethod(action = &quot;http://secret/service/RequestOurRecord&quot;)\r\n        @WebResult(name = &quot;requestOurRecordResponse&quot;, targetNamespace = &quot;http://secret/service-v1.0-rc2&quot;, partName = &quot;requestOurRecordResponse&quot;)\r\n        public RequestOurRecordResponse requestOurRecord(\r\n            @WebParam(name = &quot;requestOurRecordRequest&quot;, targetNamespace = &quot;http://secret/service-v1.0-rc2&quot;, partName = &quot;requestOurRecordRequest&quot;)\r\n            RequestOurRecordRequest requestOurRecordRequest);\r\n    }\r\n\r\n\r\nwith:\r\n\r\n    &lt;http-conf:conduit name=&quot;*.http-conduit&quot;&gt;\r\n        &lt;http-conf:client Connection=&quot;Close&quot; /&gt;\r\n    &lt;/http-conf:conduit&gt;\r\n\r\nThe connections (os level) close; but we still have the leak (behavior stated above).\r\n\r\nwith:\r\n\r\n    &lt;http-conf:conduit name=&quot;*.http-conduit&quot;&gt;\r\n        &lt;http-conf:client Connection=&quot;Keep-Alive&quot; /&gt;\r\n    &lt;/http-conf:conduit&gt;\r\n\r\nBoth the connections (os level) as the file descriptors keep going up...\r\n\r\n(additional info: the os level connections go down (after the time out I guess) but the file descriptors stay open...)\r\n\r\n  [1]: https://stackoverflow.com/questions/40401064/weblogic-doesnt-close-files-but-does-close-connections\r\n  [2]: http://file-leak-detector.kohsuke.org/\r\n\r\n","title":"File descriptor leak when getting response code. (cxf, ssl)","body":"<p>We have a problem in production for quite a while now...</p>\n<p>This is a follow up of: <a href=\"https://stackoverflow.com/questions/40401064/weblogic-doesnt-close-files-but-does-close-connections\">my other question</a> but with way more specifics so I think posting it as a new question is justified (if not I'll just add this info to the other question).</p>\n<p>Here it goes:</p>\n<p>So, we have a file descriptor leak on aix with (ibm) java 6 weblogic using an application using cxf and we address a web service of our own an also a jsb which routes towards our ws.</p>\n<p>When using <a href=\"http://file-leak-detector.kohsuke.org/\" rel=\"nofollow noreferrer\">File Leak Detector</a> as agent in the startup of weblogic and dumping the getCurrentOpenFiles() and filtering on Listener.SocketRecord programatically we have 2000+ open sockets;</p>\n<p>These are java sockets and file descriptors, the net-sockets (viewed with netstat) are properly closed, by time, but the programmatic ones (and the ones viewed with</p>\n<pre><code>lsof -p $pid_of_managed_server 2&gt; /dev/null|grep TCP|wc -l\n</code></pre>\n<p>)stay open (and eventually cause a too many open files issue)).</p>\n<p>This is the head of the stack of one of those open file descriptors inside the jvm:</p>\n<pre><code>record socket to tst-cjcsr.com/10.239.7.19:443 by thread:[ACTIVE] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)' on Thu Nov 10 10:25:56 CET 2016\n    at java.net.PlainSocketImpl.create(PlainSocketImpl.java:188)\n    at java.net.Socket.createImpl(Socket.java:411)\n    at java.net.Socket.connect(Socket.java:544)\n    at weblogic.net.http.HttpsClient.openWrappedSSLSocket(HttpsClient.java:565)\n    at weblogic.net.http.HttpsClient.openServer(HttpsClient.java:296)\n    at weblogic.net.http.HttpsClient.openServer(HttpsClient.java:373)\n    at weblogic.net.http.HttpsClient.New(HttpsClient.java:528)\n    at weblogic.net.http.HttpsURLConnection.connect(HttpsURLConnection.java:239)\n    at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:409)\n    at weblogic.net.http.SOAPHttpsURLConnection.getInputStream(SOAPHttpsURLConnection.java:37)\n    at weblogic.net.http.HttpURLConnection.getResponseCode(HttpURLConnection.java:1038)\n    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.getResponseCode(URLConnectionHTTPConduit.java:266)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.doProcessResponseCode(HTTPConduit.java:1550)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1579)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1520)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1317)\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:632)\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:572)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:481)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:382)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:335)\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:136)\n    at com.sun.proxy.$Proxy380.requestOurRecord(Unknown Source)\n    at some.package.application.dossier.DossierBean$1.call(DossierBean.java:225)\n</code></pre>\n<p>I can imagine that this is a applicative issue because I can't find other cases online with similar defects.</p>\n<p>Does anyone can make more sense from this stack?</p>\n<p>For instance: It strikes me as odd that HTTPConduit.close() wants to <em>create</em> a connection...</p>\n<p>Another point:\nthe issue doesn't occur with the same stack of technologies for non-https calls. (which does makes sense because the stacktrace mentions Http<strong>s</strong>Client)</p>\n<p>CXF version: 2.7.18</p>\n<p>cxf config:</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot;\n       xmlns:soap=&quot;http://cxf.apache.org/bindings/soap&quot;\n       xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n            http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\n            http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd&quot;&gt;\n    &lt;import resource=&quot;classpath:META-INF/cxf/cxf.xml&quot;/&gt;\n\n    &lt;context:property-placeholder location=&quot;file:${config.file.location}cjr-extract-${environment}.properties&quot;/&gt;\n\n    &lt;jaxws:client id=&quot;OurService&quot;\n                  serviceClass=&quot;some.package.ws.extract.generated.OurService&quot;\n                  address=&quot;${ws.extract.wsdl.endpoint}&quot;&gt;\n        &lt;jaxws:binding&gt;\n            &lt;soap:soapBinding version=&quot;1.2&quot;/&gt;\n        &lt;/jaxws:binding&gt;\n    &lt;/jaxws:client&gt;\n\n    &lt;cxf:bus&gt;\n        &lt;cxf:outInterceptors&gt;\n            &lt;bean class=&quot;our.package.interceptors.SomeInterceptor&quot;\n                  id=&quot;webSecurityInterceptor&quot;&gt;\n                &lt;constructor-arg&gt;\n                    &lt;map&gt;\n                        &lt;entry key=&quot;action&quot; value=&quot;Timestamp Signature&quot;/&gt;\n                        &lt;entry key=&quot;user&quot; value=&quot;${org.apache.ws.security.crypto.merlin.keystore.alias}&quot;/&gt;\n                        &lt;entry key=&quot;passwordCallbackRef&quot;&gt;\n                            &lt;ref bean=&quot;passwordCallBack&quot;/&gt;\n                        &lt;/entry&gt;\n                        &lt;!--entry key=&quot;signaturePropFile&quot; value=&quot;properties/our.properties&quot;/--&gt;\n                        &lt;entry key=&quot;signaturePropFile&quot; value=&quot;file:${location}/our.properties&quot;/&gt;\n                        &lt;entry key=&quot;signatureKeyIdentifier&quot; value=&quot;DirectReference&quot; /&gt;\n                    &lt;/map&gt;\n                &lt;/constructor-arg&gt;\n            &lt;/bean&gt;\n        &lt;/cxf:outInterceptors&gt;\n        &lt;cxf:properties&gt;\n            &lt;entry key=&quot;signatureParts&quot;\n                   value=&quot;{Element}{http://www.w3.org/2003/05/soap-envelope}Body;{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;/&gt;\n        &lt;/cxf:properties&gt;\n    &lt;/cxf:bus&gt;\n\n    &lt;bean id=&quot;passwordCallBack&quot; class=&quot;our.package.authentication.PasswordCallbackHandler&quot;&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;\n        &lt;property name=&quot;alias&quot; value=&quot;${org.apache.ws.security.crypto.merlin.keystore.alias}&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Java:</p>\n<pre><code>java version &quot;1.6.0&quot;\nJava(TM) SE Runtime Environment (build pap3260sr15fp1-20140110_01(SR15 FP1))\nIBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 AIX ppc-32 jvmap3260sr15-\n20131231_180656 (JIT enabled, AOT enabled)\nJ9VM - 20131231_180656\nJIT  - r9_20130920_46510ifx3\nGC   - GA24_Java6_SR15_20131231_1152_B180656)\nJCL  - 20140107_01\n</code></pre>\n<p>Weblogic 10.3.6</p>\n<p>Thanks for hints, pointers, and, of course - if possible -, answers  ;-)</p>\n<p>S.</p>\n<p>EJP requested code, here it is:</p>\n<p>The call itself:</p>\n<pre><code>private OurService ourservice;\n\nprivate Callable&lt;RequestOurRecordResponse&gt; callService(final RequestOurRecordRequest request) {\n    return new Callable&lt;RequestOurRecordResponse&gt;() {\n        @Override\n        public RequestOurRecordResponse call() throws Exception {\n            try {\n                return ourService.requestOurRecord(request); // this is line 225.\n            } catch (Exception e) {\n                facesMessages.error(&quot;technicalError&quot;);\n                log.error(&quot;Encountered technical error&quot;, e);\n                return null;\n            }\n        }\n    };\n}\n</code></pre>\n<p>The generated webservice:</p>\n<pre><code>package some.package.ws.extract.generated;\n\nimport javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebResult;\nimport javax.jws.WebService;\nimport javax.jws.soap.SOAPBinding;\nimport javax.xml.bind.annotation.XmlSeeAlso;\n\n\n/**\n * This class was generated by the JAX-WS RI.\n * JAX-WS RI 2.1.7-b01-\n * Generated source version: 2.1\n * \n */\n@WebService(name = &quot;OurService&quot;, targetNamespace = &quot;http://secret/service-v1.0-rc2&quot;)\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\n@XmlSeeAlso({\n    ObjectFactory.class\n})\npublic interface OurService {\n    /**\n     * \n     * @param requestOurRecordRequest\n     * @return\n     *     returns some.package.ws.extract.generated.RequestOurRecordResponse\n     */\n    @WebMethod(action = &quot;http://secret/service/RequestOurRecord&quot;)\n    @WebResult(name = &quot;requestOurRecordResponse&quot;, targetNamespace = &quot;http://secret/service-v1.0-rc2&quot;, partName = &quot;requestOurRecordResponse&quot;)\n    public RequestOurRecordResponse requestOurRecord(\n        @WebParam(name = &quot;requestOurRecordRequest&quot;, targetNamespace = &quot;http://secret/service-v1.0-rc2&quot;, partName = &quot;requestOurRecordRequest&quot;)\n        RequestOurRecordRequest requestOurRecordRequest);\n}\n</code></pre>\n<p>with:</p>\n<pre><code>&lt;http-conf:conduit name=&quot;*.http-conduit&quot;&gt;\n    &lt;http-conf:client Connection=&quot;Close&quot; /&gt;\n&lt;/http-conf:conduit&gt;\n</code></pre>\n<p>The connections (os level) close; but we still have the leak (behavior stated above).</p>\n<p>with:</p>\n<pre><code>&lt;http-conf:conduit name=&quot;*.http-conduit&quot;&gt;\n    &lt;http-conf:client Connection=&quot;Keep-Alive&quot; /&gt;\n&lt;/http-conf:conduit&gt;\n</code></pre>\n<p>Both the connections (os level) as the file descriptors keep going up...</p>\n<p>(additional info: the os level connections go down (after the time out I guess) but the file descriptors stay open...)</p>\n"},{"tags":["java","android","android-studio","android-fragments","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638629419,"creation_date":1638629419,"answer_id":70226668,"question_id":70226591,"body_markdown":"Change your\\\r\n`startActivity(new Intent(getActivity(), RecipeActivity.class));`\\\r\nto `startActivity(new Intent(HomePage.this, RecipeActivity.class));`\r\n\r\nAnd make sure that all the Activities are added in the `AndroidManifest.xml`","title":"Call an Activity that is not a fragment activity on Navigation Drawer","body":"<p>Change your<br />\n<code>startActivity(new Intent(getActivity(), RecipeActivity.class));</code><br />\nto <code>startActivity(new Intent(HomePage.this, RecipeActivity.class));</code></p>\n<p>And make sure that all the Activities are added in the <code>AndroidManifest.xml</code></p>\n"}],"owner":{"account_id":23544773,"reputation":3,"user_id":17588400,"display_name":"Magic Dream"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70226668,"answer_count":1,"score":0,"last_activity_date":1638629886,"creation_date":1638628798,"question_id":70226591,"body_markdown":"I am new in Android Studio. I have a Navigation Drawer and I am trying to call an activity which is not a fragment activity and I am confused about it. I want to call the RecipeActivity to add in the Navigation Drawer but that activity extends AppCompatActivity and not a Fragment. How can I fix this?\r\n\r\nRecipeActivity.java\r\n```\r\npublic class RecipeActivity extends AppCompatActivity {\r\n\r\n    List&lt;Recipe&gt; listRecipe;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.fragment_recipe);\r\n\r\n        \r\n\r\n        RecyclerView myRv = (RecyclerView) findViewById(R.id.recyclerview_id);\r\n        RecyclerViewAdapter myAdapter = new RecyclerViewAdapter(this, listRecipe);\r\n        myRv.setLayoutManager(new GridLayoutManager(this, 2));\r\n        myRv.setAdapter(myAdapter);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe HomePage.java contains the navigation drawer code\r\n```\r\npublic class HomePage extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n    private DrawerLayout drawer;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        drawer = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\r\n                R.string.navigation_draw_open, R.string.navigation_draw_close);\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        if (savedInstanceState == null){\r\n\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                new HomeFragment()).commit();\r\n\r\n        navigationView.setCheckedItem((R.id.nav_home));\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch(item.getItemId()){\r\n            case R.id.nav_home:\r\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                        new HomeFragment()).commit();\r\n                break;\r\n            case R.id.nav_recipe:\r\n                //startActivity(new Intent(HomePage.this, RecipeActivity.class));\r\n\r\n\r\n                startActivity(new Intent(getActivity(), RecipeActivity.class));\r\n               //getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                     //  new RecipeActivity()).commit();\r\n\r\n               // Intent newIntent = new Intent(HomePage.this, RecipeActivity.class);\r\n               // startActivity(newIntent);\r\n                break;\r\n\r\n            case R.id.nav_logout:\r\n                Toast.makeText(this, &quot;Logged out&quot;, Toast.LENGTH_SHORT).show();\r\n                 break;\r\n        }\r\n\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawer.isDrawerOpen(GravityCompat.START)){\r\n            drawer.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n        super.onBackPressed();\r\n    }\r\n}\r\n```\r\n\r\nThank you.","title":"Call an Activity that is not a fragment activity on Navigation Drawer","body":"<p>I am new in Android Studio. I have a Navigation Drawer and I am trying to call an activity which is not a fragment activity and I am confused about it. I want to call the RecipeActivity to add in the Navigation Drawer but that activity extends AppCompatActivity and not a Fragment. How can I fix this?</p>\n<p>RecipeActivity.java</p>\n<pre><code>public class RecipeActivity extends AppCompatActivity {\n\n    List&lt;Recipe&gt; listRecipe;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_recipe);\n\n        \n\n        RecyclerView myRv = (RecyclerView) findViewById(R.id.recyclerview_id);\n        RecyclerViewAdapter myAdapter = new RecyclerViewAdapter(this, listRecipe);\n        myRv.setLayoutManager(new GridLayoutManager(this, 2));\n        myRv.setAdapter(myAdapter);\n    }\n\n}\n</code></pre>\n<p>The HomePage.java contains the navigation drawer code</p>\n<pre><code>public class HomePage extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    private DrawerLayout drawer;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home_page);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        drawer = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\n                R.string.navigation_draw_open, R.string.navigation_draw_close);\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        if (savedInstanceState == null){\n\n        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                new HomeFragment()).commit();\n\n        navigationView.setCheckedItem((R.id.nav_home));\n        }\n\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch(item.getItemId()){\n            case R.id.nav_home:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new HomeFragment()).commit();\n                break;\n            case R.id.nav_recipe:\n                //startActivity(new Intent(HomePage.this, RecipeActivity.class));\n\n\n                startActivity(new Intent(getActivity(), RecipeActivity.class));\n               //getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                     //  new RecipeActivity()).commit();\n\n               // Intent newIntent = new Intent(HomePage.this, RecipeActivity.class);\n               // startActivity(newIntent);\n                break;\n\n            case R.id.nav_logout:\n                Toast.makeText(this, &quot;Logged out&quot;, Toast.LENGTH_SHORT).show();\n                 break;\n        }\n\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawer.isDrawerOpen(GravityCompat.START)){\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n        super.onBackPressed();\n    }\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","hibernate","spring"],"comments":[{"owner":{"account_id":98263,"reputation":7066,"user_id":266103,"accept_rate":87,"display_name":"shrini1000"},"score":2,"creation_date":1352209393,"post_id":832375,"comment_id":18058010,"body_markdown":"check http://static.springsource.org/spring/docs/2.0.x/reference/transaction.html section 9.5.3","body":"check <a href=\"http://static.springsource.org/spring/docs/2.0.x/reference/transaction.html\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/2.0.x/reference/&hellip;</a> section 9.5.3"}],"answers":[{"tags":[],"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1399402333,"creation_date":1241655537,"answer_id":832384,"question_id":832375,"body_markdown":"Call `setRollbackOnly()` on the `SessionContext` if you&#39;re in an EJB.\r\n\r\nYou can inject `SessionContext` like so:\r\n\r\n    public MyClass {\r\n        @Resource\r\n        private SessionContext sessionContext;\r\n\r\n        @Transactional(propagation = Propagation.REQUIRED, \r\n                       isolation = Isolation.DEFAULT, \r\n                       readOnly = false)\r\n        public int saveAll(){\r\n            //do stuff;\r\n            if(oops == true) {\r\n                 sessionContext.setRollbackOnly();\r\n                 return;\r\n            }\r\n        }\r\n\r\n\r\n`setRollbackOnly()` is a member of `EJBContext`.  `SessionContext` extends `EJBContext`:\r\n[http://java.sun.com/j2ee/1.4/docs/api/javax/ejb/SessionContext.html][1]  Note it&#39;s only available in session EJBs.\r\n\r\n`@Resource` is a standard Java EE annotation, so you should probably check your setup in Eclipse.  Here&#39;s an [example][2] of how to inject the SessionContext using `@Resource`.\r\n\r\nI suspect that this is probably not your solution, since it seems like you may not be working with EJBs -- explaining why Eclipse is not finding `@Resource`.\r\n\r\nIf that&#39;s the case, then you will need to interact with the transaction directly -- see transaction template.\r\n\r\n  [1]: http://java.sun.com/j2ee/1.4/docs/api/javax/ejb/SessionContext.html\r\n  [2]: http://www.java2s.com/Tutorial/Java/0415__EJB3/InjectSessionContext.htm","title":"Force a transactional rollback without encountering an exception?","body":"<p>Call <code>setRollbackOnly()</code> on the <code>SessionContext</code> if you're in an EJB.</p>\n\n<p>You can inject <code>SessionContext</code> like so:</p>\n\n<pre><code>public MyClass {\n    @Resource\n    private SessionContext sessionContext;\n\n    @Transactional(propagation = Propagation.REQUIRED, \n                   isolation = Isolation.DEFAULT, \n                   readOnly = false)\n    public int saveAll(){\n        //do stuff;\n        if(oops == true) {\n             sessionContext.setRollbackOnly();\n             return;\n        }\n    }\n</code></pre>\n\n<p><code>setRollbackOnly()</code> is a member of <code>EJBContext</code>.  <code>SessionContext</code> extends <code>EJBContext</code>:\n<a href=\"http://java.sun.com/j2ee/1.4/docs/api/javax/ejb/SessionContext.html\" rel=\"noreferrer\">http://java.sun.com/j2ee/1.4/docs/api/javax/ejb/SessionContext.html</a>  Note it's only available in session EJBs.</p>\n\n<p><code>@Resource</code> is a standard Java EE annotation, so you should probably check your setup in Eclipse.  Here's an <a href=\"http://www.java2s.com/Tutorial/Java/0415__EJB3/InjectSessionContext.htm\" rel=\"noreferrer\">example</a> of how to inject the SessionContext using <code>@Resource</code>.</p>\n\n<p>I suspect that this is probably not your solution, since it seems like you may not be working with EJBs -- explaining why Eclipse is not finding <code>@Resource</code>.</p>\n\n<p>If that's the case, then you will need to interact with the transaction directly -- see transaction template.</p>\n"},{"tags":[],"owner":{"account_id":19172,"reputation":1610,"user_id":44700,"accept_rate":100,"display_name":"Ruggs"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1241656893,"creation_date":1241656893,"answer_id":832434,"question_id":832375,"body_markdown":"You should have spring inject the transactional manager.  Then you can just call the rollback method on it.","title":"Force a transactional rollback without encountering an exception?","body":"<p>You should have spring inject the transactional manager.  Then you can just call the rollback method on it.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1325777942,"creation_date":1241710613,"answer_id":835384,"question_id":832375,"body_markdown":"In Spring Transactions, you use `TransactionStatus.setRollbackOnly()`.  \r\n\r\nThe problem you have here is that you&#39;re using `@Transactional` to demarcate your transactions. This has the benefit of being non-invasive, but it also means that if you want to manually interact with the transaction context, you can&#39;t.\r\n\r\nIf you want tight control of your transaction status, you have to use programmatic transactions rather than declarative annotations. This means using Spring&#39;s TransactionTemplate, or use its PlatformTransactionManager directly. See section 9.6 of the Spring reference manual.\r\n\r\nWith `TransactionTemplate`, you provide a callback object which implements `TransactionCallback`, and the code in this callback has access to the `TransactionStatus` objects.\r\n\r\nIt&#39;s not as nice as `@Transactional`, but you get closer control of your tx status. ","title":"Force a transactional rollback without encountering an exception?","body":"<p>In Spring Transactions, you use <code>TransactionStatus.setRollbackOnly()</code>.  </p>\n\n<p>The problem you have here is that you're using <code>@Transactional</code> to demarcate your transactions. This has the benefit of being non-invasive, but it also means that if you want to manually interact with the transaction context, you can't.</p>\n\n<p>If you want tight control of your transaction status, you have to use programmatic transactions rather than declarative annotations. This means using Spring's TransactionTemplate, or use its PlatformTransactionManager directly. See section 9.6 of the Spring reference manual.</p>\n\n<p>With <code>TransactionTemplate</code>, you provide a callback object which implements <code>TransactionCallback</code>, and the code in this callback has access to the <code>TransactionStatus</code> objects.</p>\n\n<p>It's not as nice as <code>@Transactional</code>, but you get closer control of your tx status. </p>\n"},{"tags":[],"owner":{"account_id":42845,"reputation":5288,"user_id":124982,"accept_rate":83,"display_name":"JARC"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1245678251,"creation_date":1245678251,"answer_id":1027287,"question_id":832375,"body_markdown":"Throw an exception and use the framework as designed otherwise do not use declarative transaction management and follow skaffman advise above. Keep it simple.","title":"Force a transactional rollback without encountering an exception?","body":"<p>Throw an exception and use the framework as designed otherwise do not use declarative transaction management and follow skaffman advise above. Keep it simple.</p>\n"},{"tags":[],"owner":{"account_id":1048258,"reputation":29,"user_id":1052796,"display_name":"Urs"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1399402188,"creation_date":1321568062,"answer_id":8175142,"question_id":832375,"body_markdown":"I have service methods annotated with `@Transactional`. When the validation fails, and I already have an entity attached to the current unit of work, I use `sessionFactory.getCurrentSession().evict(entity)` to make sure nothing is written to the database. That way I don&#39;t need to throw an exception.","title":"Force a transactional rollback without encountering an exception?","body":"<p>I have service methods annotated with <code>@Transactional</code>. When the validation fails, and I already have an entity attached to the current unit of work, I use <code>sessionFactory.getCurrentSession().evict(entity)</code> to make sure nothing is written to the database. That way I don't need to throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":52114,"reputation":2354,"user_id":155708,"display_name":"Jakub"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1445836163,"creation_date":1363084910,"answer_id":15358985,"question_id":832375,"body_markdown":"We don&#39;t use EJB, but simple Spring and we have chosen AOP approach.\r\nWe&#39;ve implemented new annotation `@TransactionalWithRollback` and used AOP to wrap those annotated methods with &quot;around&quot; advice. To implement the advice we use mentioned `TransactionTemplate`. This means a little work at the beginning, but as a result we can just annotate a method with `@TransactionalWithRollback` like we use `@Transactional` in other cases. The main code looks clean and simple.\r\n\r\n\r\n    //\r\n    // Service class - looks nice\r\n    //\r\n    class MyServiceImpl implements MyService {\r\n        @TransactionalWithRollback\r\n        public int serviceMethod {\r\n            // DO &quot;read only&quot; WORK\r\n        }\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n    //\r\n    // Annotation definition\r\n    //\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.METHOD})\r\n    public @interface TransactionalWithRollback {\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n    //\r\n    // the around advice implementation\r\n    //\r\n    public class TransactionalWithRollbackInterceptor {\r\n        private TransactionTemplate txTemplate;\r\n        @Autowired private void setTransactionManager(PlatformTransactionManager txMan) {\r\n            txTemplate = new TransactionTemplate(txMan);\r\n        }\r\n\r\n        public Object doInTransactionWithRollback(final ProceedingJoinPoint pjp) throws Throwable {\r\n            return txTemplate.execute(new TransactionCallback&lt;Object&gt;() {\r\n                @Override public Object doInTransaction(TransactionStatus status) {\r\n                    status.setRollbackOnly();\r\n                    try {\r\n                        return pjp.proceed();\r\n                    } catch(RuntimeException e) {\r\n                        throw e;\r\n                    } catch (Throwable e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n    //\r\n    // snippet from applicationContext.xml:\r\n    //\r\n    &lt;bean id=&quot;txWithRollbackInterceptor&quot; class=&quot;net.gmc.planner.aop.TransactionalWithRollbackInterceptor&quot; /&gt;\r\n\t\r\n    &lt;aop:config&gt;\r\n        &lt;aop:aspect id=&quot;txWithRollbackAspect&quot; ref=&quot;txWithRollbackInterceptor&quot;&gt;\r\n            &lt;aop:pointcut \r\n                id=&quot;servicesWithTxWithRollbackAnnotation&quot; \r\n                expression=&quot;execution( * org.projectx..*.*(..) ) and @annotation(org.projectx.aop.TransactionalWithRollback)&quot;/&gt;\r\n            &lt;aop:around method=&quot;doInTransactionWithRollback&quot; pointcut-ref=&quot;servicesWithTxWithRollbackAnnotation&quot;/&gt;\r\n        &lt;/aop:aspect&gt;\r\n    &lt;/aop:config&gt;","title":"Force a transactional rollback without encountering an exception?","body":"<p>We don't use EJB, but simple Spring and we have chosen AOP approach.\nWe've implemented new annotation <code>@TransactionalWithRollback</code> and used AOP to wrap those annotated methods with \"around\" advice. To implement the advice we use mentioned <code>TransactionTemplate</code>. This means a little work at the beginning, but as a result we can just annotate a method with <code>@TransactionalWithRollback</code> like we use <code>@Transactional</code> in other cases. The main code looks clean and simple.</p>\n\n<pre><code>//\n// Service class - looks nice\n//\nclass MyServiceImpl implements MyService {\n    @TransactionalWithRollback\n    public int serviceMethod {\n        // DO \"read only\" WORK\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>//\n// Annotation definition\n//\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD})\npublic @interface TransactionalWithRollback {\n}\n</code></pre>\n\n<hr>\n\n<pre><code>//\n// the around advice implementation\n//\npublic class TransactionalWithRollbackInterceptor {\n    private TransactionTemplate txTemplate;\n    @Autowired private void setTransactionManager(PlatformTransactionManager txMan) {\n        txTemplate = new TransactionTemplate(txMan);\n    }\n\n    public Object doInTransactionWithRollback(final ProceedingJoinPoint pjp) throws Throwable {\n        return txTemplate.execute(new TransactionCallback&lt;Object&gt;() {\n            @Override public Object doInTransaction(TransactionStatus status) {\n                status.setRollbackOnly();\n                try {\n                    return pjp.proceed();\n                } catch(RuntimeException e) {\n                    throw e;\n                } catch (Throwable e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>//\n// snippet from applicationContext.xml:\n//\n&lt;bean id=\"txWithRollbackInterceptor\" class=\"net.gmc.planner.aop.TransactionalWithRollbackInterceptor\" /&gt;\n\n&lt;aop:config&gt;\n    &lt;aop:aspect id=\"txWithRollbackAspect\" ref=\"txWithRollbackInterceptor\"&gt;\n        &lt;aop:pointcut \n            id=\"servicesWithTxWithRollbackAnnotation\" \n            expression=\"execution( * org.projectx..*.*(..) ) and @annotation(org.projectx.aop.TransactionalWithRollback)\"/&gt;\n        &lt;aop:around method=\"doInTransactionWithRollback\" pointcut-ref=\"servicesWithTxWithRollbackAnnotation\"/&gt;\n    &lt;/aop:aspect&gt;\n&lt;/aop:config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4432713,"reputation":341,"user_id":3609472,"display_name":"Melquiades Fagundez"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1399402165,"creation_date":1399400842,"answer_id":23502214,"question_id":832375,"body_markdown":"This works for me:\r\n\r\n    TransactionInterceptor.currentTransactionStatus().setRollbackOnly();\r\n\r\n","title":"Force a transactional rollback without encountering an exception?","body":"<p>This works for me:</p>\n\n<pre><code>TransactionInterceptor.currentTransactionStatus().setRollbackOnly();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638629309,"creation_date":1638629309,"answer_id":70226658,"question_id":832375,"body_markdown":"&gt; At the moment, I&#39;m forcing an exception when I encounter the right\r\n&gt; conditions, but it&#39;s ugly and I don&#39;t like it.\r\n\r\nWhy is it ugly? I would argue otherwise. You have your `@Transactional` on your public method, with `rollbackFor` property like so:\r\n\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public void myMethod() throws IllegalStateException {\r\n\r\nand then if your method goes south, you throw a standard Java exception, probably:\r\n\r\n    throw new IllegalStateException(&quot;XXX&quot;);\r\n\r\nThis is beautiful, you use an existing standard Java exception using only a 1-liner, the framework does the rollback and that&#39;s it.","title":"Force a transactional rollback without encountering an exception?","body":"<blockquote>\n<p>At the moment, I'm forcing an exception when I encounter the right\nconditions, but it's ugly and I don't like it.</p>\n</blockquote>\n<p>Why is it ugly? I would argue otherwise. You have your <code>@Transactional</code> on your public method, with <code>rollbackFor</code> property like so:</p>\n<pre><code>@Transactional(rollbackFor = Exception.class)\npublic void myMethod() throws IllegalStateException {\n</code></pre>\n<p>and then if your method goes south, you throw a standard Java exception, probably:</p>\n<pre><code>throw new IllegalStateException(&quot;XXX&quot;);\n</code></pre>\n<p>This is beautiful, you use an existing standard Java exception using only a 1-liner, the framework does the rollback and that's it.</p>\n"}],"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58771,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":835384,"answer_count":8,"score":56,"last_activity_date":1638629309,"creation_date":1241655084,"question_id":832375,"body_markdown":"I have a method that does a bunch of things; amongst them doing a number of inserts and updates.\r\n\r\nIt&#39;s declared thusly:\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.DEFAULT, readOnly = false)\r\n    public int saveAll() {\r\n     //do stuff;\r\n    }\r\n\r\nIt works exactly as it is supposed to and I have no problems with it. There are situations however when I want to force the rollback in spite of there not being an exception... at the moment, I&#39;m forcing an exception when I encounter the right conditions, but it&#39;s ugly and I don&#39;t like it.\r\n\r\nCan I actively call the rollback somehow?\r\n\r\nThe exception calls it... I&#39;m thinking maybe I can too.","title":"Force a transactional rollback without encountering an exception?","body":"<p>I have a method that does a bunch of things; amongst them doing a number of inserts and updates.</p>\n<p>It's declared thusly:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.DEFAULT, readOnly = false)\npublic int saveAll() {\n //do stuff;\n}\n</code></pre>\n<p>It works exactly as it is supposed to and I have no problems with it. There are situations however when I want to force the rollback in spite of there not being an exception... at the moment, I'm forcing an exception when I encounter the right conditions, but it's ugly and I don't like it.</p>\n<p>Can I actively call the rollback somehow?</p>\n<p>The exception calls it... I'm thinking maybe I can too.</p>\n"},{"tags":["java","utf-8","jar","manifest","manifest.mf"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1663062624,"post_id":14867281,"comment_id":130145357,"body_markdown":"MANIFEST.MF is always UTF8 (https://docs.oracle.com/en/java/javase/18/docs/specs/jar/jar.html#name-value-pairs-and-sections)","body":"MANIFEST.MF is always UTF8 (<a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/jar/jar.html#name-value-pairs-and-sections\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/specs/jar/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1360816804,"creation_date":1360816804,"answer_id":14867904,"question_id":14867281,"body_markdown":"This indicates a problem with your code.  Your code is currently depending on the default platform encoding, and doesn&#39;t work if that encoding is not &quot;UTF-8&quot;.  therefore, you should change the places in your code which depend on the default platform encoding to use the &quot;UTF-8&quot; encoding explicitly.  \r\n\r\nand, no, you can&#39;t specify that in the manifest.","title":"Specify encoding in manifest file","body":"<p>This indicates a problem with your code.  Your code is currently depending on the default platform encoding, and doesn't work if that encoding is not \"UTF-8\".  therefore, you should change the places in your code which depend on the default platform encoding to use the \"UTF-8\" encoding explicitly.  </p>\n\n<p>and, no, you can't specify that in the manifest.</p>\n"}],"owner":{"account_id":1702346,"reputation":1335,"user_id":1562071,"accept_rate":74,"display_name":"Abi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14867904,"answer_count":1,"score":1,"last_activity_date":1638629108,"creation_date":1360812166,"question_id":14867281,"body_markdown":"I created a jar using the Export functionality in Eclipse and when I try to execute it in the following way it fails\r\n\r\n    java -jar Code.jar\r\n\r\nHowever it works correctly for \r\n\r\n    java -Dfile.encoding=UTF-8 -jar Code.jar\r\n\r\nCurrent manifest file\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: test.Reader\r\n    Class-Path: .\r\n\r\nHow can I mention the encoding inside the manifest file? So that I dont have to mention it explicitly while running the jar file?","title":"Specify encoding in manifest file","body":"<p>I created a jar using the Export functionality in Eclipse and when I try to execute it in the following way it fails</p>\n\n<pre><code>java -jar Code.jar\n</code></pre>\n\n<p>However it works correctly for </p>\n\n<pre><code>java -Dfile.encoding=UTF-8 -jar Code.jar\n</code></pre>\n\n<p>Current manifest file</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: test.Reader\nClass-Path: .\n</code></pre>\n\n<p>How can I mention the encoding inside the manifest file? So that I dont have to mention it explicitly while running the jar file?</p>\n"},{"tags":["java","time","time-estimation"],"comments":[{"owner":{"account_id":3595277,"reputation":44026,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":2,"creation_date":1550428134,"post_id":54736326,"comment_id":96254993,"body_markdown":"I think runtime should be defined as `long runtime = timeEnd - timeStart;`. The end time will be greater than the start time, so with your way that will give negative numbers.","body":"I think runtime should be defined as <code>long runtime = timeEnd - timeStart;</code>. The end time will be greater than the start time, so with your way that will give negative numbers."},{"owner":{"account_id":9931876,"reputation":85,"user_id":7351526,"display_name":"Fxguy1"},"score":0,"creation_date":1550428628,"post_id":54736326,"comment_id":96255127,"body_markdown":"Yes! Thank you! I&#39;m horrible with math....That fixed the negative value but the estimates / total time still seem to be off quite a bit (as in I ran through 10 loops and the calculated was 3 sec and the build was 27 seconds....","body":"Yes! Thank you! I&#39;m horrible with math....That fixed the negative value but the estimates / total time still seem to be off quite a bit (as in I ran through 10 loops and the calculated was 3 sec and the build was 27 seconds...."},{"owner":{"account_id":3595277,"reputation":44026,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":1,"creation_date":1550428771,"post_id":54736326,"comment_id":96255173,"body_markdown":"It just stood out to me since I&#39;ve written that exact equation like a hundred times. Note though, you could have debugged this fairly easily. If you would have checked the value of the variables that lead to the end result, you would have noticed that `runtime` was negative. Make sure you&#39;re thoroughly checking your data before consulting for help. Debugging is a crucial skill.","body":"It just stood out to me since I&#39;ve written that exact equation like a hundred times. Note though, you could have debugged this fairly easily. If you would have checked the value of the variables that lead to the end result, you would have noticed that <code>runtime</code> was negative. Make sure you&#39;re thoroughly checking your data before consulting for help. Debugging is a crucial skill."}],"owner":{"account_id":9931876,"reputation":85,"user_id":7351526,"display_name":"Fxguy1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638629008,"creation_date":1550427989,"question_id":54736326,"body_markdown":"I have a project in Java that is __scraping__ a fairly large amount of HTML and I&#39;d like to display an estimate of the time remaining. \r\n\r\nI thought I could grab the time (in milliseconds) at the start and at the end of each loop and then subtract to get the total time to run. Then I figured I know exactly how many times I need to run through so I could just multiply by that to get a total estimated time. \r\n\r\nThen for estimated time remaining I could just keep a running total time and subtract from the total estimated time. \r\n\r\nThe problem is that my output seems to be negative numbers...? \r\n\r\nCurrentPage ++;\r\n                long timeend = System.currentTimeMillis();\r\n                \r\n                // Calculate Time\r\n                long runtime = timestart - timeend;\r\n                long timetotal = 0;\r\n                timetotal = timetotal + runtime;\r\n                long averagetime = timetotal / CurrentPage;\r\n                long timeestimated = averagetime * totalpages;\r\n                long timeremaining = timeestimated -timetotal;\r\n                \r\n                \r\n                String RunTime= String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(runtime), TimeUnit.MILLISECONDS.toSeconds(runtime));\r\n                String AverageTime=String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(averagetime), TimeUnit.MILLISECONDS.toSeconds(averagetime));\r\n                String TimeEstimated=String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(timeestimated), TimeUnit.MILLISECONDS.toSeconds(timeestimated));\r\n                String TimeRemaining=String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(timeremaining), TimeUnit.MILLISECONDS.toSeconds(timeremaining));\r\n                \r\n                \r\n                System.out.println(&quot;Page &quot; + CurrentPage +&quot; completed&quot;);\r\n                System.out.println(&quot;Current Runtime = &quot; + RunTime);\r\n                System.out.println(&quot;Average Runtime = &quot; + AverageTime);\r\n                System.out.println(&quot;Estimated time = &quot; + TimeEstimated);\r\n                System.out.println(&quot;Estimated time remaining  = &quot; +TimeRemaining);\r\n\r\nMy output looks like this:     \r\n\r\n    Page 9 completed\r\n    Current Runtime = 0 min, -3 sec\r\n    Average Runtime = 0 min, 0 sec\r\n    Estimated time = 0 min, -3 sec\r\n    Estimated time remaining  = 0 min, 0 sec\r\n    Page 10 completed\r\n    Current Runtime = 0 min, -3 sec\r\n    Average Runtime = 0 min, 0 sec\r\n    Estimated time = 0 min, -3 sec\r\n    Estimated time remaining  = 0 min, 0 sec\r\n    Page 11 completed\r\n    Current Runtime = 0 min, -4 sec\r\n    Average Runtime = 0 min, 0 sec\r\n    Estimated time = 0 min, -3 sec\r\n    Estimated time remaining  = 0 min, 0 sec\r\n\r\nSo I&#39;m obviously doing something wrong, but cant quite figure out what it is. When I run through 10 loops the Current Runtime adds up to 20 seconds and the build /runtime is 27 seconds... so I&#39;m at a loss. \r\n\r\n","title":"Estimate time remaining with variable runtime","body":"<p>I have a project in Java that is <strong>scraping</strong> a fairly large amount of HTML and I'd like to display an estimate of the time remaining.</p>\n<p>I thought I could grab the time (in milliseconds) at the start and at the end of each loop and then subtract to get the total time to run. Then I figured I know exactly how many times I need to run through so I could just multiply by that to get a total estimated time.</p>\n<p>Then for estimated time remaining I could just keep a running total time and subtract from the total estimated time.</p>\n<p>The problem is that my output seems to be negative numbers...?</p>\n<p>CurrentPage ++;\nlong timeend = System.currentTimeMillis();</p>\n<pre><code>            // Calculate Time\n            long runtime = timestart - timeend;\n            long timetotal = 0;\n            timetotal = timetotal + runtime;\n            long averagetime = timetotal / CurrentPage;\n            long timeestimated = averagetime * totalpages;\n            long timeremaining = timeestimated -timetotal;\n            \n            \n            String RunTime= String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(runtime), TimeUnit.MILLISECONDS.toSeconds(runtime));\n            String AverageTime=String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(averagetime), TimeUnit.MILLISECONDS.toSeconds(averagetime));\n            String TimeEstimated=String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(timeestimated), TimeUnit.MILLISECONDS.toSeconds(timeestimated));\n            String TimeRemaining=String.format(&quot;%d min, %d sec&quot;, TimeUnit.MILLISECONDS.toMinutes(timeremaining), TimeUnit.MILLISECONDS.toSeconds(timeremaining));\n            \n            \n            System.out.println(&quot;Page &quot; + CurrentPage +&quot; completed&quot;);\n            System.out.println(&quot;Current Runtime = &quot; + RunTime);\n            System.out.println(&quot;Average Runtime = &quot; + AverageTime);\n            System.out.println(&quot;Estimated time = &quot; + TimeEstimated);\n            System.out.println(&quot;Estimated time remaining  = &quot; +TimeRemaining);\n</code></pre>\n<p>My output looks like this:</p>\n<pre><code>Page 9 completed\nCurrent Runtime = 0 min, -3 sec\nAverage Runtime = 0 min, 0 sec\nEstimated time = 0 min, -3 sec\nEstimated time remaining  = 0 min, 0 sec\nPage 10 completed\nCurrent Runtime = 0 min, -3 sec\nAverage Runtime = 0 min, 0 sec\nEstimated time = 0 min, -3 sec\nEstimated time remaining  = 0 min, 0 sec\nPage 11 completed\nCurrent Runtime = 0 min, -4 sec\nAverage Runtime = 0 min, 0 sec\nEstimated time = 0 min, -3 sec\nEstimated time remaining  = 0 min, 0 sec\n</code></pre>\n<p>So I'm obviously doing something wrong, but cant quite figure out what it is. When I run through 10 loops the Current Runtime adds up to 20 seconds and the build /runtime is 27 seconds... so I'm at a loss.</p>\n"},{"tags":["java","selenium","web-scraping"],"comments":[{"owner":{"account_id":13638490,"reputation":1041,"user_id":9838946,"display_name":"Timothy T."},"score":1,"creation_date":1550558217,"post_id":54760007,"comment_id":96301072,"body_markdown":"Can you post the HTML of the table? Specifically trying to see if it has table header and body elements.","body":"Can you post the HTML of the table? Specifically trying to see if it has table header and body elements."},{"owner":{"account_id":8565158,"reputation":64,"user_id":6417865,"display_name":"sjana"},"score":0,"creation_date":1550558418,"post_id":54760007,"comment_id":96301150,"body_markdown":"The rows must be having a common field, like a class. Find all elements having that property using findElements, and extract text from each one of them.","body":"The rows must be having a common field, like a class. Find all elements having that property using findElements, and extract text from each one of them."},{"owner":{"account_id":13550524,"reputation":48,"user_id":9775506,"display_name":"Arvind Carpenter"},"score":0,"creation_date":1550559801,"post_id":54760007,"comment_id":96301689,"body_markdown":"@TimothyT. i have updated the HTML of table in question","body":"@TimothyT. i have updated the HTML of table in question"}],"answers":[{"tags":[],"owner":{"account_id":14382898,"reputation":668,"user_id":10389622,"display_name":"akshay patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550558837,"creation_date":1550558837,"answer_id":54760267,"question_id":54760007,"body_markdown":"You haven&#39;t post the HTML hence taking my own example where i am iterating using row and col count please check and let us know if you have any doubts..\r\n\r\n    package Testng_Pack;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class table { \r\n     \r\n     WebDriver driver = null;\r\n     @BeforeTest\r\n        public void setup() throws Exception { \r\n             System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;D:\\\\Selenium Files\\\\geckodriver.exe&quot;);\r\n      driver = new FirefoxDriver();\r\n             driver.manage().window().maximize();\r\n             driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\r\n             driver.get(&quot;Pass the URL here&quot;); \r\n        } \r\n     \r\n      @AfterTest\r\n     public void tearDown() throws Exception { \r\n       driver.quit();\r\n         } \r\n      \r\n     @Test\r\n     public void print_data(){\r\n     \r\n     //Get number of rows In table.\r\n     int Row_count = driver.findElements(By.xpath(&quot;//*[@id=&#39;post-body-6522850981930750493&#39;]/div[1]/table/tbody/tr&quot;)).size();\r\n     System.out.println(&quot;Number Of Rows = &quot;+Row_count);\r\n     \r\n     //Get number of columns In table.\r\n     int Col_count = driver.findElements(By.xpath(&quot;//*[@id=&#39;post-body-6522850981930750493&#39;]/div[1]/table/tbody/tr[1]/td&quot;)).size();\r\n     System.out.println(&quot;Number Of Columns = &quot;+Col_count);\r\n     \r\n     //divided xpath In three parts to pass Row_count and Col_count values.\r\n     String first_part = &quot;//*[@id=&#39;post-body-6522850981930750493&#39;]/div[1]/table/tbody/tr[&quot;;\r\n     String second_part = &quot;]/td[&quot;;\r\n     String third_part = &quot;]&quot;;\r\n     \r\n     //Used for loop for number of rows.\r\n     for (int i=1; i&lt;=Row_count; i++){\r\n      //Used for loop for number of columns.\r\n      for(int j=1; j&lt;=Col_count; j++){\r\n       //Prepared final xpath of specific cell as per values of i and j.\r\n       String final_xpath = first_part+i+second_part+j+third_part;\r\n       //Will retrieve value from located cell and print It.\r\n       String Table_data = driver.findElement(By.xpath(final_xpath)).getText();\r\n       System.out.print(Table_data +&quot;  &quot;);   \r\n      }\r\n       System.out.println(&quot;&quot;);\r\n       System.out.println(&quot;&quot;);  \r\n     } \r\n     }\r\n    }","title":"Scrape table using selenium in java","body":"<p>You haven't post the HTML hence taking my own example where i am iterating using row and col count please check and let us know if you have any doubts..</p>\n\n<pre><code>package Testng_Pack;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\npublic class table { \n\n WebDriver driver = null;\n @BeforeTest\n    public void setup() throws Exception { \n         System.setProperty(\"webdriver.gecko.driver\", \"D:\\\\Selenium Files\\\\geckodriver.exe\");\n  driver = new FirefoxDriver();\n         driver.manage().window().maximize();\n         driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\n         driver.get(\"Pass the URL here\"); \n    } \n\n  @AfterTest\n public void tearDown() throws Exception { \n   driver.quit();\n     } \n\n @Test\n public void print_data(){\n\n //Get number of rows In table.\n int Row_count = driver.findElements(By.xpath(\"//*[@id='post-body-6522850981930750493']/div[1]/table/tbody/tr\")).size();\n System.out.println(\"Number Of Rows = \"+Row_count);\n\n //Get number of columns In table.\n int Col_count = driver.findElements(By.xpath(\"//*[@id='post-body-6522850981930750493']/div[1]/table/tbody/tr[1]/td\")).size();\n System.out.println(\"Number Of Columns = \"+Col_count);\n\n //divided xpath In three parts to pass Row_count and Col_count values.\n String first_part = \"//*[@id='post-body-6522850981930750493']/div[1]/table/tbody/tr[\";\n String second_part = \"]/td[\";\n String third_part = \"]\";\n\n //Used for loop for number of rows.\n for (int i=1; i&lt;=Row_count; i++){\n  //Used for loop for number of columns.\n  for(int j=1; j&lt;=Col_count; j++){\n   //Prepared final xpath of specific cell as per values of i and j.\n   String final_xpath = first_part+i+second_part+j+third_part;\n   //Will retrieve value from located cell and print It.\n   String Table_data = driver.findElement(By.xpath(final_xpath)).getText();\n   System.out.print(Table_data +\"  \");   \n  }\n   System.out.println(\"\");\n   System.out.println(\"\");  \n } \n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1550568480,"creation_date":1550561746,"answer_id":54760933,"question_id":54760007,"body_markdown":"Below mentioned code will automatically count the rows and columns mentioned in table.\r\nIt will work for table with `tr` and `td` tagnames. You just have to pass the web table xpath to the code.\r\n\r\n\t@Test \r\n\tpublic void testWebTable()  { \r\n\tWebElement simpleTable = driver.findElement(By.xpath(&quot;//table[@id=&#39;txn-display-table&#39;]//tbody&quot;)); \r\n\r\n\t\t// Get all rows \r\n\t\tList&lt;WebElement&gt; rows = simpleTable.findElements(By.tagName(&quot;tr&quot;)); \r\n\t\tAssert.assertEquals(rows.size(),4); \r\n\r\n\t\t// Print data from each row \r\n\t\tfor (WebElement row : rows) { \r\n\t\t    List&lt;WebElement&gt; cols = row.findElements(By.tagName(&quot;td&quot;)); \r\n\t\t    for (WebElement col : cols) {\r\n\t\t\t\t System.out.print(col.getText() + &quot;\\t&quot;); \r\n\t\t\t   } System.out.println(); \r\n\t\t   }\r\n\t\t}\r\n","title":"Scrape table using selenium in java","body":"<p>Below mentioned code will automatically count the rows and columns mentioned in table.\nIt will work for table with <code>tr</code> and <code>td</code> tagnames. You just have to pass the web table xpath to the code.</p>\n\n<pre><code>@Test \npublic void testWebTable()  { \nWebElement simpleTable = driver.findElement(By.xpath(\"//table[@id='txn-display-table']//tbody\")); \n\n    // Get all rows \n    List&lt;WebElement&gt; rows = simpleTable.findElements(By.tagName(\"tr\")); \n    Assert.assertEquals(rows.size(),4); \n\n    // Print data from each row \n    for (WebElement row : rows) { \n        List&lt;WebElement&gt; cols = row.findElements(By.tagName(\"td\")); \n        for (WebElement col : cols) {\n             System.out.print(col.getText() + \"\\t\"); \n           } System.out.println(); \n       }\n    }\n</code></pre>\n"}],"owner":{"account_id":13550524,"reputation":48,"user_id":9775506,"display_name":"Arvind Carpenter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54760933,"answer_count":2,"score":1,"last_activity_date":1638628963,"creation_date":1550557562,"question_id":54760007,"body_markdown":"I am __scraping__ transactions of an account from a transaction table which has a following format:-\r\n[Table format][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CcG54.jpg\r\n\r\nif i know the number of rows then i can loop over it and get the required data by using seperate locators for each of the field\r\n\r\nhow i scrape these whole table, beacause i don&#39;t know how many transaction will be there, i need something through which i can loop over it and scrape the transactions. i am using selenium for __scraping__ in java.\r\n\r\nHere is the HTML of transaction table :-\r\n\r\n    &lt;div id=&quot;txn-display&quot;&gt; \r\n    &lt;!-- Transactions start  --&gt;\r\n    &lt;!--#include virtual=&quot;mobile-statement.shtml&quot; --&gt;\r\n        &lt;table id=&quot;txn-display-table&quot;&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;Date&lt;/th&gt;\r\n                    &lt;th colspan=&quot;2&quot;&gt;Description&lt;/th&gt;\r\n                    &lt;th&gt;Type&lt;/th&gt;\r\n                    &lt;th class=&quot;amount-cell&quot;&gt;Amount Spent  (&lt;em class=&quot;WebRupee&quot;&gt;Rs.&lt;/em&gt;)&lt;/th&gt;                        \r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n    \t\t&lt;tbody&gt;\r\n    \t\t\t&lt;tr class=&quot;gridEven&quot;&gt;\r\n    \t\t\t\t&lt;td&gt;12/02/2019&lt;/td&gt;\r\n    \t\t\t\t&lt;td colspan=&quot;2&quot; class=&quot;word-break&quot;&gt;INTERGLOBE AVIATION LT .             IND&lt;/td&gt;\r\n    \t\t\t\t&lt;td class=&quot;txn-type&quot;&gt;Debit&lt;/td&gt;\r\n    \t            &lt;td class=&quot;amount-cell&quot;&gt;320&lt;/td&gt;\t                    \r\n    \t        &lt;/tr&gt;\r\n    \t\t\t&lt;tr class=&quot;gridOdd&quot;&gt;\r\n    \t\t\t\t&lt;td&gt;27/01/2019&lt;/td&gt;\r\n    \t\t\t\t&lt;td colspan=&quot;2&quot; class=&quot;word-break&quot;&gt;PETROL TRXN FEE RVRSL EXCLUDING TAX&lt;/td&gt;\r\n    \t\t\t\t&lt;td class=&quot;txn-type&quot;&gt;Credit&lt;/td&gt;\r\n    \t            &lt;td class=&quot;amount-cell&quot;&gt;8.21&lt;/td&gt;\t                    \r\n    \t        &lt;/tr&gt;\r\n    \t\t\t&lt;tr class=&quot;gridEven&quot;&gt;\r\n    \t\t\t\t&lt;td&gt;27/01/2019&lt;/td&gt;\r\n    \t\t\t\t&lt;td colspan=&quot;2&quot; class=&quot;word-break&quot;&gt;SHELL R K R ENTERPRISE BANGALORE     IND&lt;/td&gt;\r\n    \t\t\t\t&lt;td class=&quot;txn-type&quot;&gt;Debit&lt;/td&gt;\r\n    \t            &lt;td class=&quot;amount-cell&quot;&gt;831.06&lt;/td&gt;\t                    \r\n    \t        &lt;/tr&gt;\r\n    \t    &lt;/tbody&gt;\r\n        &lt;/table&gt;    \t\r\n    &lt;/div&gt;","title":"Scrape table using selenium in java","body":"<p>I am <strong>scraping</strong> transactions of an account from a transaction table which has a following format:-\n<a href=\"https://i.stack.imgur.com/CcG54.jpg\" rel=\"nofollow noreferrer\">Table format</a></p>\n<p>if i know the number of rows then i can loop over it and get the required data by using seperate locators for each of the field</p>\n<p>how i scrape these whole table, beacause i don't know how many transaction will be there, i need something through which i can loop over it and scrape the transactions. i am using selenium for <strong>scraping</strong> in java.</p>\n<p>Here is the HTML of transaction table :-</p>\n<pre><code>&lt;div id=&quot;txn-display&quot;&gt; \n&lt;!-- Transactions start  --&gt;\n&lt;!--#include virtual=&quot;mobile-statement.shtml&quot; --&gt;\n    &lt;table id=&quot;txn-display-table&quot;&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Date&lt;/th&gt;\n                &lt;th colspan=&quot;2&quot;&gt;Description&lt;/th&gt;\n                &lt;th&gt;Type&lt;/th&gt;\n                &lt;th class=&quot;amount-cell&quot;&gt;Amount Spent  (&lt;em class=&quot;WebRupee&quot;&gt;Rs.&lt;/em&gt;)&lt;/th&gt;                        \n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr class=&quot;gridEven&quot;&gt;\n                &lt;td&gt;12/02/2019&lt;/td&gt;\n                &lt;td colspan=&quot;2&quot; class=&quot;word-break&quot;&gt;INTERGLOBE AVIATION LT .             IND&lt;/td&gt;\n                &lt;td class=&quot;txn-type&quot;&gt;Debit&lt;/td&gt;\n                &lt;td class=&quot;amount-cell&quot;&gt;320&lt;/td&gt;                        \n            &lt;/tr&gt;\n            &lt;tr class=&quot;gridOdd&quot;&gt;\n                &lt;td&gt;27/01/2019&lt;/td&gt;\n                &lt;td colspan=&quot;2&quot; class=&quot;word-break&quot;&gt;PETROL TRXN FEE RVRSL EXCLUDING TAX&lt;/td&gt;\n                &lt;td class=&quot;txn-type&quot;&gt;Credit&lt;/td&gt;\n                &lt;td class=&quot;amount-cell&quot;&gt;8.21&lt;/td&gt;                       \n            &lt;/tr&gt;\n            &lt;tr class=&quot;gridEven&quot;&gt;\n                &lt;td&gt;27/01/2019&lt;/td&gt;\n                &lt;td colspan=&quot;2&quot; class=&quot;word-break&quot;&gt;SHELL R K R ENTERPRISE BANGALORE     IND&lt;/td&gt;\n                &lt;td class=&quot;txn-type&quot;&gt;Debit&lt;/td&gt;\n                &lt;td class=&quot;amount-cell&quot;&gt;831.06&lt;/td&gt;                     \n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;        \n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1638789537,"post_id":70226589,"comment_id":124173160,"body_markdown":"are you calling `getBaseStyle` a lot? - if so, you will create a lot of style entries and excel limits the max number of styles and may ignore or just act up if the xlsx file has too many style entries","body":"are you calling <code>getBaseStyle</code> a lot? - if so, you will create a lot of style entries and excel limits the max number of styles and may ignore or just act up if the xlsx file has too many style entries"},{"owner":{"account_id":20075062,"reputation":11,"user_id":14950423,"display_name":" "},"score":0,"creation_date":1638797368,"post_id":70226589,"comment_id":124175906,"body_markdown":"hello, i call it once, then I apply this style in a loop","body":"hello, i call it once, then I apply this style in a loop"}],"owner":{"account_id":20075062,"reputation":11,"user_id":14950423,"display_name":" "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638628762,"creation_date":1638628762,"question_id":70226589,"body_markdown":"First, I create a style in which I describe the location of the text\r\n\r\n            XSSFFont font = workbook.createFont();\r\n\t\t\tfont.setFontHeight((short) (12 * 20));\r\n\t\t\tfont.setFontName(&quot;Times New Roman&quot;);\r\n\t\t\t \r\n\t\t\tXSSFCellStyle style = workbook.createCellStyle();\r\n\t\t\tstyle.setWrapText(true);\r\n\t\t\tstyle.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\tstyle.setVerticalAlignment(VerticalAlignment.CENTER);\r\n\t\t\tstyle.setFont(font);\r\n\r\nNext, I create a basic style that I will apply to all cells.\r\n\r\n    XSSFCellStyle baseStyle = getBaseStyle(style, workbook);\r\n    ....\r\n    public static XSSFCellStyle getBaseStyle(CellStyle style, XSSFWorkbook wb) {\r\n\t\tXSSFCellStyle baseStyle = wb.createCellStyle();\r\n\t\tbaseStyle.cloneStyleFrom(style);\r\n\t\tbaseStyle.setBorderBottom(BorderStyle.THIN);\r\n   \t \tbaseStyle.setBorderTop(BorderStyle.THIN);\r\n   \t \tbaseStyle.setBorderRight(BorderStyle.THIN);\r\n   \t \tbaseStyle.setBorderLeft(BorderStyle.THIN);\r\n   \t \t\r\n\t\treturn baseStyle;\r\n\t}\r\n\r\n\r\nThe problem is that the final style(baseStyle) I created is not displayed correctly in Excel\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDesired result\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/li4Hj.png\r\n  [2]: https://i.stack.imgur.com/4yMEG.png\r\n\r\nAm I not using styles correctly? Thank you in advance!","title":"Incorrect display of cell styles apache poi","body":"<p>First, I create a style in which I describe the location of the text</p>\n<pre><code>        XSSFFont font = workbook.createFont();\n        font.setFontHeight((short) (12 * 20));\n        font.setFontName(&quot;Times New Roman&quot;);\n         \n        XSSFCellStyle style = workbook.createCellStyle();\n        style.setWrapText(true);\n        style.setAlignment(HorizontalAlignment.CENTER);\n        style.setVerticalAlignment(VerticalAlignment.CENTER);\n        style.setFont(font);\n</code></pre>\n<p>Next, I create a basic style that I will apply to all cells.</p>\n<pre><code>XSSFCellStyle baseStyle = getBaseStyle(style, workbook);\n....\npublic static XSSFCellStyle getBaseStyle(CellStyle style, XSSFWorkbook wb) {\n    XSSFCellStyle baseStyle = wb.createCellStyle();\n    baseStyle.cloneStyleFrom(style);\n    baseStyle.setBorderBottom(BorderStyle.THIN);\n    baseStyle.setBorderTop(BorderStyle.THIN);\n    baseStyle.setBorderRight(BorderStyle.THIN);\n    baseStyle.setBorderLeft(BorderStyle.THIN);\n    \n    return baseStyle;\n}\n</code></pre>\n<p>The problem is that the final style(baseStyle) I created is not displayed correctly in Excel\n<a href=\"https://i.stack.imgur.com/li4Hj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/li4Hj.png\" alt=\"enter image description here\" /></a></p>\n<p>Desired result\n<a href=\"https://i.stack.imgur.com/4yMEG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4yMEG.png\" alt=\"enter image description here\" /></a></p>\n<p>Am I not using styles correctly? Thank you in advance!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"display_name":"user14483828"},"score":0,"creation_date":1638626326,"post_id":70226189,"comment_id":124140748,"body_markdown":"Im not an android developer but cant it be that you are getting a TextView in your code for password but have it as a EditText in your xml","body":"Im not an android developer but cant it be that you are getting a TextView in your code for password but have it as a EditText in your xml"},{"owner":{"display_name":"user16764516"},"score":0,"creation_date":1638626840,"post_id":70226189,"comment_id":124140854,"body_markdown":"Yes i can checked its have no restriction for password field...","body":"Yes i can checked its have no restriction for password field..."}],"answers":[{"tags":[],"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638628397,"creation_date":1638628397,"answer_id":70226550,"question_id":70226189,"body_markdown":"You are referring to the `R.id.Username` component which is the `SIGN UP`&#160;text and you are casting the fields as `TextView`s instead of `EditText`s.\r\n\r\nChange your variables to:\r\n```\r\nEditText Username=(EditText) findViewById(R.id.edittext);\r\nEditText password=(EditText) findViewById(R.id.password);\r\n```","title":"Why get login failed while click on login button","body":"<p>You are referring to the <code>R.id.Username</code> component which is the <code>SIGN UP</code>text and you are casting the fields as <code>TextView</code>s instead of <code>EditText</code>s.</p>\n<p>Change your variables to:</p>\n<pre><code>EditText Username=(EditText) findViewById(R.id.edittext);\nEditText password=(EditText) findViewById(R.id.password);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638628433,"creation_date":1638628433,"answer_id":70226557,"question_id":70226189,"body_markdown":"You are getting the text from the wrong reference, Change the below code to later.\r\n\r\n    TextView Username=(TextView) findViewById(R.id.Username);\r\n\r\nto         \r\n\r\n    TextView Username=(TextView) findViewById(R.id.edittext);\r\n\r\n","title":"Why get login failed while click on login button","body":"<p>You are getting the text from the wrong reference, Change the below code to later.</p>\n<pre><code>TextView Username=(TextView) findViewById(R.id.Username);\n</code></pre>\n<p>to</p>\n<pre><code>TextView Username=(TextView) findViewById(R.id.edittext);\n</code></pre>\n"}],"owner":{"display_name":"user16764516"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70226550,"answer_count":2,"score":0,"last_activity_date":1638628433,"creation_date":1638625767,"question_id":70226189,"body_markdown":"If i click on login button my username and password is same as condition but get login failed in `Toast Message`. Insert correct username and password compiler going to else part. I don&#39;t know what is the problem. I am stuck from 4 hours. If you know please solve i am a newbie.\r\n\r\nHere down is my code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TextView Username=(TextView) findViewById(R.id.Username);\r\n        TextView password=(TextView) findViewById(R.id.password);\r\n\r\n        Button loginbtn=(Button) findViewById(R.id.Button);\r\n        loginbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (Username.getText().toString().equals(&quot;ADMIN&quot;) &amp;&amp; password.getText().toString().equals(&quot;ADMIN&quot;)) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Login Successfull&quot;, Toast.LENGTH_SHORT).show();\r\n                } else{\r\n                    Toast.makeText(getApplicationContext(), &quot;Login Faild!!&quot;, Toast.LENGTH_SHORT).show();\r\n                 }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**activity.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/backs&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/Username&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:text=&quot;Sign in&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edittext&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:layout_marginEnd=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        android:background=&quot;#FFFFFF&quot;\r\n        android:drawableLeft=&quot;@drawable/ic_baseline_person_outline_24&quot;\r\n        android:drawablePadding=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Username&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textColorHint=&quot;#000000&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/Username&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;\r\n        android:layout_marginEnd=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        android:background=&quot;#FFFFFF&quot;\r\n        android:drawableLeft=&quot;@drawable/ic_baseline_lock_24&quot;\r\n        android:drawablePadding=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textColorHint=&quot;#000000&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.95&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/edittext&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:text=&quot;Forgot password&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.837&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/password&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Button&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;28dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        android:background=&quot;@drawable/bg&quot;\r\n        android:text=&quot;@string/login&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/other&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;288dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:paddingLeft=&quot;30dp&quot;\r\n        android:paddingRight=&quot;30dp&quot;\r\n        android:text=&quot;or sign in with&quot;\r\n        android:textColor=&quot;#BDB9B9&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/Button&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/other&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;48dp&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginRight=&quot;20dp&quot;\r\n            android:src=&quot;@drawable/google&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;50dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginRight=&quot;20dp&quot;\r\n            android:src=&quot;@drawable/facebook&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;48dp&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:layout_marginRight=&quot;20dp&quot;\r\n            android:src=&quot;@drawable/twitter&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**OUTPUT**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cRK3r.png","title":"Why get login failed while click on login button","body":"<p>If i click on login button my username and password is same as condition but get login failed in <code>Toast Message</code>. Insert correct username and password compiler going to else part. I don't know what is the problem. I am stuck from 4 hours. If you know please solve i am a newbie.</p>\n<p>Here down is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TextView Username=(TextView) findViewById(R.id.Username);\n        TextView password=(TextView) findViewById(R.id.password);\n\n        Button loginbtn=(Button) findViewById(R.id.Button);\n        loginbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (Username.getText().toString().equals(&quot;ADMIN&quot;) &amp;&amp; password.getText().toString().equals(&quot;ADMIN&quot;)) {\n                    Toast.makeText(getApplicationContext(), &quot;Login Successfull&quot;, Toast.LENGTH_SHORT).show();\n                } else{\n                    Toast.makeText(getApplicationContext(), &quot;Login Faild!!&quot;, Toast.LENGTH_SHORT).show();\n                 }\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>activity.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/backs&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Username&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:text=&quot;Sign in&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;30sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edittext&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:layout_marginEnd=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        android:background=&quot;#FFFFFF&quot;\n        android:drawableLeft=&quot;@drawable/ic_baseline_person_outline_24&quot;\n        android:drawablePadding=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Username&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:padding=&quot;10dp&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textColorHint=&quot;#000000&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/Username&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/password&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginTop=&quot;40dp&quot;\n        android:layout_marginEnd=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        android:background=&quot;#FFFFFF&quot;\n        android:drawableLeft=&quot;@drawable/ic_baseline_lock_24&quot;\n        android:drawablePadding=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Password&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:padding=&quot;10dp&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textColorHint=&quot;#000000&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.95&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/edittext&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:text=&quot;Forgot password&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textSize=&quot;18sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.837&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/password&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/Button&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginTop=&quot;28dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        android:background=&quot;@drawable/bg&quot;\n        android:text=&quot;@string/login&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/other&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;288dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:layout_marginRight=&quot;20dp&quot;\n        android:paddingLeft=&quot;30dp&quot;\n        android:paddingRight=&quot;30dp&quot;\n        android:text=&quot;or sign in with&quot;\n        android:textColor=&quot;#BDB9B9&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/Button&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/other&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;48dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginRight=&quot;20dp&quot;\n            android:src=&quot;@drawable/google&quot; /&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginRight=&quot;20dp&quot;\n            android:src=&quot;@drawable/facebook&quot; /&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;48dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginRight=&quot;20dp&quot;\n            android:src=&quot;@drawable/twitter&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<p><a href=\"https://i.stack.imgur.com/cRK3r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cRK3r.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","vuejs3"],"owner":{"account_id":19759909,"reputation":43,"user_id":14632912,"display_name":"Joan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1638627817,"creation_date":1638481512,"question_id":70206863,"body_markdown":"I&#39;m just taking a vue3 project and need a bit of help with a dynamic route. \r\n\r\nFirstly, I have a pet.json archive where I have information about dogs and cats. I&#39;m gonna show you my project:\r\n\r\nApp.vue\r\n\r\n    &lt;template&gt;\r\n      &lt;div id=&quot;app&quot;&gt;\r\n        &lt;app-header /&gt;\r\n        &lt;div class=&quot;app-container&quot;&gt;\r\n          &lt;router-link to=&quot;{ id: PetDetail, params: { id: json.id, pet:pet }}&quot;\r\n            &gt;&lt;router-view\r\n          /&gt;&lt;/router-link&gt;\r\n        &lt;/div&gt;\r\n        &lt;Footer /&gt;\r\n      &lt;/div&gt;\r\n    &lt;/template&gt;\r\n    \r\n    &lt;script&gt;\r\n    import AppHeader from &quot;@/components/AppHeader.vue&quot;;\r\n    import Footer from &quot;@/components/Footer.vue&quot;;\r\n    \r\n    export default {\r\n      name: &quot;App&quot;,\r\n      components: {\r\n        AppHeader,\r\n        Footer,\r\n      },\r\n    };\r\n    &lt;/script&gt;\r\n\r\nroute.js\r\n\r\n    import { createRouter, createWebHistory } from &quot;vue-router&quot;;\r\n    import Home from &quot;@/views/Home.vue&quot;;\r\n    import NotFound from &quot;@/views/NotFound.vue&quot;;\r\n    import PetDetail from &quot;@/components/PetDetail.vue&quot;;\r\n    \r\n    const routes = [\r\n      {\r\n        path: &quot;/&quot;,\r\n        name: &quot;Home&quot;,\r\n        component: Home,\r\n      },\r\n    \r\n      {\r\n        path: &quot;/:catchAll(.*)&quot;,\r\n        name: &quot;NotFound&quot;,\r\n        component: NotFound,\r\n      },\r\n    \r\n      {\r\n        path: &quot;/pet/:id?&quot;,\r\n        name: &quot;PetDetail&quot;,\r\n        component: PetDetail,\r\n      },\r\n    ];\r\n    \r\n    const router = createRouter({\r\n      history: createWebHistory(process.env.BASE_URL),\r\n      routes,\r\n    });\r\n    \r\n    export default router;\r\n\r\nPetDetail.vue\r\n\r\n    &lt;template&gt;\r\n      &lt;header id=&quot;header&quot; class=&quot;header&quot;&gt;\r\n        &lt;div class=&quot;header-container_pet container&quot;&gt;\r\n          &lt;nav&gt;\r\n            &lt;a class=&quot;btn-icon logo-btn&quot; href=&quot;/&quot;&gt;\r\n              &lt;img\r\n                class=&quot;logo logo-normal&quot;\r\n                src=&quot;../assets/logo_white.svg&quot;\r\n                alt=&quot;Logo petinder&quot;\r\n              /&gt;\r\n              &lt;img\r\n                class=&quot;logo logo-white&quot;\r\n                src=&quot;../assets/logo.svg&quot;\r\n                alt=&quot;Logo petinder&quot;\r\n              /&gt;\r\n            &lt;/a&gt;\r\n            &lt;ul class=&quot;menu-links&quot;&gt;\r\n              &lt;li&gt;&lt;a href=&quot;&quot;&gt;Servicios&lt;/a&gt;&lt;/li&gt;\r\n              &lt;li&gt;&lt;a href=&quot;&quot;&gt;Sobre nosotros&lt;/a&gt;&lt;/li&gt;\r\n              &lt;li&gt;&lt;a href=&quot;&quot;&gt;Contactar&lt;/a&gt;&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n          &lt;/nav&gt;\r\n    \r\n          &lt;a href=&quot;&quot; class=&quot;btn btn-login btn-light&quot; title=&quot;Iniciar sesi&#243;n&quot;\r\n            &gt;Iniciar sesi&#243;n&lt;/a\r\n          &gt;\r\n    \r\n          &lt;div id=&quot;menuIcon&quot; class=&quot;menu-icon&quot;&gt;\r\n            &lt;div id=&quot;menuIconBar&quot; class=&quot;menu-icon-bar&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/header&gt;\r\n      &lt;main class=&quot;page-home&quot;&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n          &lt;div class=&quot;block-featured-content&quot;&gt;\r\n            &lt;div class=&quot;foto-pet&quot;&gt;\r\n              &lt;div class=&quot;foto-pet-color&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;pet-info&quot;&gt;\r\n              &lt;p class=&quot;pet-title&quot;&gt;\r\n                Darko &lt;span class=&quot;blue-text&quot;&gt;5 a&#241;os, Barcelona&lt;/span&gt;\r\n              &lt;/p&gt;\r\n              &lt;div class=&quot;pet-details&quot;&gt;\r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Especie&lt;/span&gt;\r\n                  &lt;span class=&quot;pet-detail-data&quot;&gt;Perro&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Sexo&lt;/span&gt;\r\n                  &lt;span class=&quot;pet-detail-data&quot;&gt;Macho&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Medida&lt;/span&gt;\r\n                  &lt;span class=&quot;pet-detail-data&quot;&gt;Peque&#241;o&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Fecha de nacimiento&lt;/span&gt;\r\n                  &lt;span class=&quot;pet-detail-data&quot;&gt;08/10/2016&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Estado&lt;/span&gt;\r\n                  &lt;span class=&quot;pet-detail-data&quot;&gt;En adopci&#243;n&lt;/span&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;buttom&quot;&gt;\r\n                &lt;div class=&quot;buttom-adoptar&quot;&gt;\r\n                  &lt;p class=&quot;p-adoptar-text&quot;&gt;Lo quiero adoptar&lt;/p&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;buttom-compartir&quot;&gt;\r\n                  &lt;p class=&quot;p-compartir-text&quot;&gt;Compartir&lt;/p&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;pet-history&quot;&gt;\r\n            &lt;h3 class=&quot;my-history&quot;&gt;Mi historia&lt;/h3&gt;\r\n            &lt;p class=&quot;my-history-text&quot;&gt;\r\n              Darko a sus 5 a&#241;os de edad tiene que volver a buscar un hogar, su\r\n              due&#241;a ingresaba y nadie se pod&#237;a hacer cargo de &#233;l. Como buen Bulldog\r\n              Franc&#233;s es muy bueno, cari&#241;oso y sociable, pero a la vez cabezota y\r\n              obstinado, ideal para amantes de esta raza. Esperamos que Darko no\r\n              tenga que pasar mucho m&#225;s tiempo en una jaula y por fin, encuentre esa\r\n              familia que lo cuide y quiera como se merece.\r\n            &lt;/p&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;pet-extras&quot;&gt;\r\n            &lt;div class=&quot;pet-extra&quot;&gt;\r\n              &lt;h3 class=&quot;my-history&quot;&gt;Mi personalidad&lt;/h3&gt;\r\n              &lt;div class=&quot;tags&quot;&gt;\r\n                &lt;span class=&quot;tag-blue&quot;&gt;Bueno con otros perros&lt;/span&gt;\r\n                &lt;span class=&quot;tag-blue&quot;&gt;Cari&#241;oso&lt;/span&gt;\r\n                &lt;span class=&quot;tag-blue&quot;&gt;A veces ladro&lt;/span&gt;\r\n                &lt;span class=&quot;tag-blue&quot;&gt;Amigable con extra&#241;os&lt;/span&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;pet-extra&quot;&gt;\r\n              &lt;h3 class=&quot;my-history&quot;&gt;Me entregan&lt;/h3&gt;\r\n              &lt;div class=&quot;pet-details-extra&quot;&gt;\r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Vacunado&lt;/span&gt;\r\n                  &lt;span class=&quot;tag-red&quot;&gt;No&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Desparasitado&lt;/span&gt;\r\n                  &lt;span class=&quot;tag-green&quot;&gt;Si&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Esterilizado&lt;/span&gt;\r\n                  &lt;span class=&quot;tag-green&quot;&gt;Si&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-title&quot;&gt;Microchip&lt;/span&gt;\r\n                  &lt;span class=&quot;tag-green&quot;&gt;Si&lt;/span&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n    \r\n            &lt;div class=&quot;pet-extra&quot;&gt;\r\n              &lt;h3 class=&quot;my-history&quot;&gt;Tienes que saber&lt;/h3&gt;\r\n              &lt;div class=&quot;pet-details-extra&quot;&gt;\r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-data&quot;&gt;Estoy en tratamiento m&#233;dico&lt;/span&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;pet-detail&quot;&gt;\r\n                  &lt;span class=&quot;pet-detail-data&quot;&gt;Soy positivo en Leishmania&lt;/span&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;section class=&quot;block-actions&quot;&gt;\r\n          &lt;div class=&quot;container&quot;&gt;\r\n            &lt;div class=&quot;match-box&quot;&gt;\r\n              &lt;p class=&quot;match-text&quot;&gt;\r\n                Si &lt;b&gt;Darko&lt;/b&gt; ya ha sido adoptado/a o no hac&#233;is match, tenemos\r\n                otros animales que te necesitan. Encu&#233;ntralos\r\n              &lt;/p&gt;\r\n              &lt;form class=&quot;search-bar&quot;&gt;\r\n                &lt;input\r\n                  type=&quot;text&quot;\r\n                  placeholder=&quot;Busca a tu nuevo mejor amigo&quot;\r\n                  class=&quot;form-control search-control&quot;\r\n                /&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn-icon search-button&quot;&gt;&lt;/button&gt;\r\n              &lt;/form&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/section&gt;\r\n      &lt;/main&gt;\r\n    &lt;/template&gt;\r\n    &lt;script&gt;\r\n    import json from &quot;@/pets.json&quot;;\r\n    export default {\r\n      name: &quot;PetDetail&quot;,\r\n      data() {\r\n        return {\r\n          id: this.$route.params.id,\r\n          object: {},\r\n        };\r\n      },\r\n      mounted() {\r\n        this.object = json.objects.find((item) =&gt; item.id == this.$route.params.id);\r\n      },\r\n    };\r\n    &lt;/script&gt;\r\n    &lt;style scoped lang=&quot;scss&quot;&gt;&lt;/style&gt;\r\n\r\n\r\nPetList.vue\r\n\r\n    &lt;template&gt;\r\n      &lt;div class=&quot;container&quot;&gt;\r\n        &lt;h2 class=&quot;title&quot;&gt;&#218;ltimas incorporaciones&lt;/h2&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n          &lt;div\r\n            class=&quot;col-sm-6 col-md-4 col-lg-3&quot;\r\n            v-for=&quot;pet in pets&quot;\r\n            :key=&quot;pet.name&quot;\r\n          &gt;\r\n            &lt;article class=&quot;card&quot;&gt;\r\n              &lt;div class=&quot;card-header&quot;&gt;\r\n                &lt;img\r\n                  class=&quot;card-img-top&quot;\r\n                  :src=&quot;pet.image_url&quot;\r\n                  alt=&quot;{{ pet.name }}&quot;\r\n                /&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;card-body&quot;&gt;\r\n                &lt;div class=&quot;card-main&quot;&gt;\r\n                  &lt;!-- &lt;h3 class=&quot;card-title&quot;&gt;{{ pet.nom }}&lt;/h3&gt; --&gt;\r\n                  &lt;h3 class=&quot;card-title&quot;&gt;{{ pet.name }}&lt;/h3&gt;\r\n                  &lt;p class=&quot;card-text&quot;&gt;{{ pet.location }}&lt;/p&gt;\r\n                &lt;/div&gt;\r\n                &lt;ul class=&quot;card-icons&quot;&gt;\r\n                  &lt;li&gt;\r\n                    &lt;img\r\n                      v-if=&quot;pet.species == &#39;Gato&#39;&quot;\r\n                      class=&quot;card-icon&quot;\r\n                      src=&quot;../assets/icons/icon_cat.svg&quot;\r\n                      alt=&quot;{{ pet.species }}&quot;\r\n                    /&gt;\r\n                    &lt;img\r\n                      v-if=&quot;pet.species == &#39;Perro&#39;&quot;\r\n                      class=&quot;card-icon&quot;\r\n                      src=&quot;../assets/icons/icon_dog.svg&quot;\r\n                      alt=&quot;{{ pet.species }}&quot;\r\n                    /&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                    &lt;img\r\n                      v-if=&quot;pet.sex == &#39;Macho&#39;&quot;\r\n                      class=&quot;card-icon&quot;\r\n                      src=&quot;../assets/icons/icon_male.svg&quot;\r\n                      alt=&quot;{{ pet.sex }}&quot;\r\n                    /&gt;\r\n                    &lt;img\r\n                      v-if=&quot;pet.sex == &#39;Hembra&#39;&quot;\r\n                      class=&quot;card-icon&quot;\r\n                      src=&quot;../assets/icons/icon_female.svg&quot;\r\n                      alt=&quot;{{ pet.sex }}&quot;\r\n                    /&gt;\r\n                  &lt;/li&gt;\r\n                &lt;/ul&gt;\r\n              &lt;/div&gt;\r\n            &lt;/article&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/template&gt;\r\n    &lt;script&gt;\r\n    import json from &quot;@/pets.json&quot;;\r\n    export default {\r\n      name: &quot;PetList&quot;,\r\n      data() {\r\n        return {\r\n          pets: json.data,\r\n        };\r\n      },\r\n    };\r\n    &lt;/script&gt;\r\n    &lt;style scoped lang=&quot;scss&quot;&gt;&lt;/style&gt;\r\n\r\npet.json\r\n\r\n    &quot;data&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;: 1,\r\n    \t\t\t&quot;name&quot;: &quot;Thor&quot;,\r\n    \t\t\t&quot;image_url&quot;: &quot;https://petinder-images.netlify.app/thor.png&quot;,\r\n    \t\t\t&quot;location&quot;: &quot;Barcelona&quot;,\r\n    \t\t\t&quot;species&quot;: &quot;Gato&quot;,\r\n    \t\t\t&quot;sex&quot;: &quot;Macho&quot;,\r\n    \t\t\t&quot;size&quot;: &quot;Mediano&quot;,\r\n    \t\t\t&quot;birth_date&quot;: &quot;2018-06-01&quot;,\r\n    \t\t\t&quot;handle_status&quot;: {\r\n    \t\t\t\t&quot;vaccinated&quot;: false,\r\n    \t\t\t\t&quot;dewormed&quot;: true,\r\n    \t\t\t\t&quot;sterilized&quot;: true,\r\n    \t\t\t\t&quot;microchip&quot;: true\r\n    \t\t\t},\r\n    \t\t\t&quot;bio&quot;: &quot;Thor lleg&#243; de Montcada y es algo t&#237;mido pero con un poco de confianza se deja mimar y acariciar.&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;En adopci&#243;n&quot;,\r\n    \t\t\t&quot;personality&quot;: [\r\n    \t\t\t\t&quot;Bueno con gatos&quot;,\r\n    \t\t\t\t&quot;Timido&quot;,\r\n    \t\t\t\t&quot;Juguet&#243;n&quot;\r\n    \t\t\t],\r\n    \t\t\t&quot;info_notes&quot;: []\r\n    \t\t},\r\n\r\nPetList.vue prints all pet cards in home page. And I need click on each pet to go to their card using his id. \r\n\r\nI don&#39;t know where is my problem but for sure I&#39;m not calling good the route link. ","title":"How to fix a dynamic route","body":"<p>I'm just taking a vue3 project and need a bit of help with a dynamic route.</p>\n<p>Firstly, I have a pet.json archive where I have information about dogs and cats. I'm gonna show you my project:</p>\n<p>App.vue</p>\n<pre><code>&lt;template&gt;\n  &lt;div id=&quot;app&quot;&gt;\n    &lt;app-header /&gt;\n    &lt;div class=&quot;app-container&quot;&gt;\n      &lt;router-link to=&quot;{ id: PetDetail, params: { id: json.id, pet:pet }}&quot;\n        &gt;&lt;router-view\n      /&gt;&lt;/router-link&gt;\n    &lt;/div&gt;\n    &lt;Footer /&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport AppHeader from &quot;@/components/AppHeader.vue&quot;;\nimport Footer from &quot;@/components/Footer.vue&quot;;\n\nexport default {\n  name: &quot;App&quot;,\n  components: {\n    AppHeader,\n    Footer,\n  },\n};\n&lt;/script&gt;\n</code></pre>\n<p>route.js</p>\n<pre><code>import { createRouter, createWebHistory } from &quot;vue-router&quot;;\nimport Home from &quot;@/views/Home.vue&quot;;\nimport NotFound from &quot;@/views/NotFound.vue&quot;;\nimport PetDetail from &quot;@/components/PetDetail.vue&quot;;\n\nconst routes = [\n  {\n    path: &quot;/&quot;,\n    name: &quot;Home&quot;,\n    component: Home,\n  },\n\n  {\n    path: &quot;/:catchAll(.*)&quot;,\n    name: &quot;NotFound&quot;,\n    component: NotFound,\n  },\n\n  {\n    path: &quot;/pet/:id?&quot;,\n    name: &quot;PetDetail&quot;,\n    component: PetDetail,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n</code></pre>\n<p>PetDetail.vue</p>\n<pre><code>&lt;template&gt;\n  &lt;header id=&quot;header&quot; class=&quot;header&quot;&gt;\n    &lt;div class=&quot;header-container_pet container&quot;&gt;\n      &lt;nav&gt;\n        &lt;a class=&quot;btn-icon logo-btn&quot; href=&quot;/&quot;&gt;\n          &lt;img\n            class=&quot;logo logo-normal&quot;\n            src=&quot;../assets/logo_white.svg&quot;\n            alt=&quot;Logo petinder&quot;\n          /&gt;\n          &lt;img\n            class=&quot;logo logo-white&quot;\n            src=&quot;../assets/logo.svg&quot;\n            alt=&quot;Logo petinder&quot;\n          /&gt;\n        &lt;/a&gt;\n        &lt;ul class=&quot;menu-links&quot;&gt;\n          &lt;li&gt;&lt;a href=&quot;&quot;&gt;Servicios&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=&quot;&quot;&gt;Sobre nosotros&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=&quot;&quot;&gt;Contactar&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/nav&gt;\n\n      &lt;a href=&quot;&quot; class=&quot;btn btn-login btn-light&quot; title=&quot;Iniciar sesin&quot;\n        &gt;Iniciar sesin&lt;/a\n      &gt;\n\n      &lt;div id=&quot;menuIcon&quot; class=&quot;menu-icon&quot;&gt;\n        &lt;div id=&quot;menuIconBar&quot; class=&quot;menu-icon-bar&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/header&gt;\n  &lt;main class=&quot;page-home&quot;&gt;\n    &lt;div class=&quot;container&quot;&gt;\n      &lt;div class=&quot;block-featured-content&quot;&gt;\n        &lt;div class=&quot;foto-pet&quot;&gt;\n          &lt;div class=&quot;foto-pet-color&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;pet-info&quot;&gt;\n          &lt;p class=&quot;pet-title&quot;&gt;\n            Darko &lt;span class=&quot;blue-text&quot;&gt;5 aos, Barcelona&lt;/span&gt;\n          &lt;/p&gt;\n          &lt;div class=&quot;pet-details&quot;&gt;\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Especie&lt;/span&gt;\n              &lt;span class=&quot;pet-detail-data&quot;&gt;Perro&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Sexo&lt;/span&gt;\n              &lt;span class=&quot;pet-detail-data&quot;&gt;Macho&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Medida&lt;/span&gt;\n              &lt;span class=&quot;pet-detail-data&quot;&gt;Pequeo&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Fecha de nacimiento&lt;/span&gt;\n              &lt;span class=&quot;pet-detail-data&quot;&gt;08/10/2016&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Estado&lt;/span&gt;\n              &lt;span class=&quot;pet-detail-data&quot;&gt;En adopcin&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;buttom&quot;&gt;\n            &lt;div class=&quot;buttom-adoptar&quot;&gt;\n              &lt;p class=&quot;p-adoptar-text&quot;&gt;Lo quiero adoptar&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;buttom-compartir&quot;&gt;\n              &lt;p class=&quot;p-compartir-text&quot;&gt;Compartir&lt;/p&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;pet-history&quot;&gt;\n        &lt;h3 class=&quot;my-history&quot;&gt;Mi historia&lt;/h3&gt;\n        &lt;p class=&quot;my-history-text&quot;&gt;\n          Darko a sus 5 aos de edad tiene que volver a buscar un hogar, su\n          duea ingresaba y nadie se poda hacer cargo de l. Como buen Bulldog\n          Francs es muy bueno, carioso y sociable, pero a la vez cabezota y\n          obstinado, ideal para amantes de esta raza. Esperamos que Darko no\n          tenga que pasar mucho ms tiempo en una jaula y por fin, encuentre esa\n          familia que lo cuide y quiera como se merece.\n        &lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;pet-extras&quot;&gt;\n        &lt;div class=&quot;pet-extra&quot;&gt;\n          &lt;h3 class=&quot;my-history&quot;&gt;Mi personalidad&lt;/h3&gt;\n          &lt;div class=&quot;tags&quot;&gt;\n            &lt;span class=&quot;tag-blue&quot;&gt;Bueno con otros perros&lt;/span&gt;\n            &lt;span class=&quot;tag-blue&quot;&gt;Carioso&lt;/span&gt;\n            &lt;span class=&quot;tag-blue&quot;&gt;A veces ladro&lt;/span&gt;\n            &lt;span class=&quot;tag-blue&quot;&gt;Amigable con extraos&lt;/span&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;pet-extra&quot;&gt;\n          &lt;h3 class=&quot;my-history&quot;&gt;Me entregan&lt;/h3&gt;\n          &lt;div class=&quot;pet-details-extra&quot;&gt;\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Vacunado&lt;/span&gt;\n              &lt;span class=&quot;tag-red&quot;&gt;No&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Desparasitado&lt;/span&gt;\n              &lt;span class=&quot;tag-green&quot;&gt;Si&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Esterilizado&lt;/span&gt;\n              &lt;span class=&quot;tag-green&quot;&gt;Si&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-title&quot;&gt;Microchip&lt;/span&gt;\n              &lt;span class=&quot;tag-green&quot;&gt;Si&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;pet-extra&quot;&gt;\n          &lt;h3 class=&quot;my-history&quot;&gt;Tienes que saber&lt;/h3&gt;\n          &lt;div class=&quot;pet-details-extra&quot;&gt;\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-data&quot;&gt;Estoy en tratamiento mdico&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;pet-detail&quot;&gt;\n              &lt;span class=&quot;pet-detail-data&quot;&gt;Soy positivo en Leishmania&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;section class=&quot;block-actions&quot;&gt;\n      &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;match-box&quot;&gt;\n          &lt;p class=&quot;match-text&quot;&gt;\n            Si &lt;b&gt;Darko&lt;/b&gt; ya ha sido adoptado/a o no hacis match, tenemos\n            otros animales que te necesitan. Encuntralos\n          &lt;/p&gt;\n          &lt;form class=&quot;search-bar&quot;&gt;\n            &lt;input\n              type=&quot;text&quot;\n              placeholder=&quot;Busca a tu nuevo mejor amigo&quot;\n              class=&quot;form-control search-control&quot;\n            /&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn-icon search-button&quot;&gt;&lt;/button&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/section&gt;\n  &lt;/main&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport json from &quot;@/pets.json&quot;;\nexport default {\n  name: &quot;PetDetail&quot;,\n  data() {\n    return {\n      id: this.$route.params.id,\n      object: {},\n    };\n  },\n  mounted() {\n    this.object = json.objects.find((item) =&gt; item.id == this.$route.params.id);\n  },\n};\n&lt;/script&gt;\n&lt;style scoped lang=&quot;scss&quot;&gt;&lt;/style&gt;\n</code></pre>\n<p>PetList.vue</p>\n<pre><code>&lt;template&gt;\n  &lt;div class=&quot;container&quot;&gt;\n    &lt;h2 class=&quot;title&quot;&gt;ltimas incorporaciones&lt;/h2&gt;\n    &lt;div class=&quot;row&quot;&gt;\n      &lt;div\n        class=&quot;col-sm-6 col-md-4 col-lg-3&quot;\n        v-for=&quot;pet in pets&quot;\n        :key=&quot;pet.name&quot;\n      &gt;\n        &lt;article class=&quot;card&quot;&gt;\n          &lt;div class=&quot;card-header&quot;&gt;\n            &lt;img\n              class=&quot;card-img-top&quot;\n              :src=&quot;pet.image_url&quot;\n              alt=&quot;{{ pet.name }}&quot;\n            /&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;card-body&quot;&gt;\n            &lt;div class=&quot;card-main&quot;&gt;\n              &lt;!-- &lt;h3 class=&quot;card-title&quot;&gt;{{ pet.nom }}&lt;/h3&gt; --&gt;\n              &lt;h3 class=&quot;card-title&quot;&gt;{{ pet.name }}&lt;/h3&gt;\n              &lt;p class=&quot;card-text&quot;&gt;{{ pet.location }}&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;ul class=&quot;card-icons&quot;&gt;\n              &lt;li&gt;\n                &lt;img\n                  v-if=&quot;pet.species == 'Gato'&quot;\n                  class=&quot;card-icon&quot;\n                  src=&quot;../assets/icons/icon_cat.svg&quot;\n                  alt=&quot;{{ pet.species }}&quot;\n                /&gt;\n                &lt;img\n                  v-if=&quot;pet.species == 'Perro'&quot;\n                  class=&quot;card-icon&quot;\n                  src=&quot;../assets/icons/icon_dog.svg&quot;\n                  alt=&quot;{{ pet.species }}&quot;\n                /&gt;\n              &lt;/li&gt;\n              &lt;li&gt;\n                &lt;img\n                  v-if=&quot;pet.sex == 'Macho'&quot;\n                  class=&quot;card-icon&quot;\n                  src=&quot;../assets/icons/icon_male.svg&quot;\n                  alt=&quot;{{ pet.sex }}&quot;\n                /&gt;\n                &lt;img\n                  v-if=&quot;pet.sex == 'Hembra'&quot;\n                  class=&quot;card-icon&quot;\n                  src=&quot;../assets/icons/icon_female.svg&quot;\n                  alt=&quot;{{ pet.sex }}&quot;\n                /&gt;\n              &lt;/li&gt;\n            &lt;/ul&gt;\n          &lt;/div&gt;\n        &lt;/article&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport json from &quot;@/pets.json&quot;;\nexport default {\n  name: &quot;PetList&quot;,\n  data() {\n    return {\n      pets: json.data,\n    };\n  },\n};\n&lt;/script&gt;\n&lt;style scoped lang=&quot;scss&quot;&gt;&lt;/style&gt;\n</code></pre>\n<p>pet.json</p>\n<pre><code>&quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Thor&quot;,\n            &quot;image_url&quot;: &quot;https://petinder-images.netlify.app/thor.png&quot;,\n            &quot;location&quot;: &quot;Barcelona&quot;,\n            &quot;species&quot;: &quot;Gato&quot;,\n            &quot;sex&quot;: &quot;Macho&quot;,\n            &quot;size&quot;: &quot;Mediano&quot;,\n            &quot;birth_date&quot;: &quot;2018-06-01&quot;,\n            &quot;handle_status&quot;: {\n                &quot;vaccinated&quot;: false,\n                &quot;dewormed&quot;: true,\n                &quot;sterilized&quot;: true,\n                &quot;microchip&quot;: true\n            },\n            &quot;bio&quot;: &quot;Thor lleg de Montcada y es algo tmido pero con un poco de confianza se deja mimar y acariciar.&quot;,\n            &quot;status&quot;: &quot;En adopcin&quot;,\n            &quot;personality&quot;: [\n                &quot;Bueno con gatos&quot;,\n                &quot;Timido&quot;,\n                &quot;Juguetn&quot;\n            ],\n            &quot;info_notes&quot;: []\n        },\n</code></pre>\n<p>PetList.vue prints all pet cards in home page. And I need click on each pet to go to their card using his id.</p>\n<p>I don't know where is my problem but for sure I'm not calling good the route link.</p>\n"},{"tags":["java","servlets","prometheus","httpserver"],"answers":[{"tags":[],"owner":{"account_id":171404,"reputation":7897,"user_id":398797,"accept_rate":75,"display_name":"evgenyl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638627798,"creation_date":1550256887,"answer_id":54715500,"question_id":54667887,"body_markdown":"You are changing the client side configuration, but it&#39;s not enough. You should also update the __scraping__ endpoint of Prometheus &quot;server side&quot; configuration.\r\n\r\nTake a look into [Prometheus Configuration][1]:\r\n\r\n&gt; &gt;  The job name assigned to scraped metrics by default. job_name: &lt;job_name&gt;\r\n&gt; \r\n&gt; \\# How frequently to scrape targets from this job. [ scrape_interval: &lt;duration&gt; | default = &lt;global_config.scrape_interval&gt; ]\r\n&gt; \r\n&gt; Per-scrape timeout when scraping this job. [ scrape_timeout: &lt;duration&gt; | default = &lt;global_config.scrape_timeout&gt; ]\r\n&gt; \r\n&gt; \\# The HTTP resource path on which to fetch metrics from targets.\r\n&gt; **[ metrics_path: &lt;path&gt; | default = /metrics ]**\r\n\r\n\r\n  [1]: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config","title":"How to override prometheus by default endpoint /metrics","body":"<p>You are changing the client side configuration, but it's not enough. You should also update the <strong>scraping</strong> endpoint of Prometheus &quot;server side&quot; configuration.</p>\n<p>Take a look into <a href=\"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config\" rel=\"nofollow noreferrer\">Prometheus Configuration</a>:</p>\n<blockquote>\n<blockquote>\n<p>The job name assigned to scraped metrics by default. job_name: &lt;job_name&gt;</p>\n</blockquote>\n<p># How frequently to scrape targets from this job. [ scrape_interval:  | default = &lt;global_config.scrape_interval&gt; ]</p>\n<p>Per-scrape timeout when scraping this job. [ scrape_timeout:  | default = &lt;global_config.scrape_timeout&gt; ]</p>\n<p># The HTTP resource path on which to fetch metrics from targets.\n<strong>[ metrics_path:  | default = /metrics ]</strong></p>\n</blockquote>\n"}],"owner":{"account_id":12169182,"reputation":403,"user_id":8884457,"display_name":"vikash srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638627798,"creation_date":1550053650,"question_id":54667887,"body_markdown":"I am trying to expose metrics using prometheus httpserver (io.prometheus.client.exporter.HTTPServer) for which i am using below given dependency.\r\n \r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;simpleclient_httpserver&lt;/artifactId&gt;\r\n      &lt;version&gt;0.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPrometheus httpserver by default exposes all the metrics in &quot;/metrics&quot; endpoint and i want to override it and restrict it to expose metrics for any particular endpoint only (like &quot;/prometheusMetrics&quot;). Using below code i running prometheus httpserver and exposing metrics.\r\n\r\n    @ServiceBean(singleton = true)\r\n    public class PrometheusCustomHTTPServer {\r\n\t\r\n\tprivate static Logger s_logger = LoggerFactory.getLogger(PrometheusCustomHTTPServer.class);\r\n\t\r\n\tprivate HTTPServer httpServer;\r\n\t private static CollectorRegistry registry = CollectorRegistry.defaultRegistry;\r\n\t private static boolean initailized = false;\r\n\t\r\n\t\r\n\t@PostConstruct\r\n\tpublic void start() {\r\n\t\tif(httpServer == null) {\r\n\t\t\tString hostAddress;\r\n\t\t\ttry {\r\n\t\t\t\tint port = 9090;\r\n\t\t\t\thttpServer = new HTTPServer(port,true); \r\n\t\t\t\ts_logger.error(&quot;started prometheus at http://&quot;+port);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tSystem.out.println(&quot;Exception occured while starting of prometheus server&quot; + e);\r\n\t\t\t}\r\n\t\t\tinitialize(registry);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static  synchronized void initialize(CollectorRegistry registryToUse) {\r\n\t\tif(!initailized) {\r\n\t\t\t new StandardExports().register(registry);\r\n\t\t\t new MemoryPoolsExports().register(registry); \r\n\t\t      new GarbageCollectorExports().register(registry);\r\n\t\t      new ThreadExports().register(registry);\r\n\t\t      new ClassLoadingExports().register(registry);\t\r\n\t\t\t System.out.println(&quot;StandardExports initialized&quot;);\r\n\t\t\t initailized = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n","title":"How to override prometheus by default endpoint /metrics","body":"<p>I am trying to expose metrics using prometheus httpserver (io.prometheus.client.exporter.HTTPServer) for which i am using below given dependency.</p>\n\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n  &lt;artifactId&gt;simpleclient_httpserver&lt;/artifactId&gt;\n  &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Prometheus httpserver by default exposes all the metrics in \"/metrics\" endpoint and i want to override it and restrict it to expose metrics for any particular endpoint only (like \"/prometheusMetrics\"). Using below code i running prometheus httpserver and exposing metrics.</p>\n\n<pre><code>@ServiceBean(singleton = true)\npublic class PrometheusCustomHTTPServer {\n\nprivate static Logger s_logger = LoggerFactory.getLogger(PrometheusCustomHTTPServer.class);\n\nprivate HTTPServer httpServer;\n private static CollectorRegistry registry = CollectorRegistry.defaultRegistry;\n private static boolean initailized = false;\n\n\n@PostConstruct\npublic void start() {\n    if(httpServer == null) {\n        String hostAddress;\n        try {\n            int port = 9090;\n            httpServer = new HTTPServer(port,true); \n            s_logger.error(\"started prometheus at http://\"+port);\n        } catch (IOException e) {\n            System.out.println(\"Exception occured while starting of prometheus server\" + e);\n        }\n        initialize(registry);\n    }\n}\n\nprivate static  synchronized void initialize(CollectorRegistry registryToUse) {\n    if(!initailized) {\n         new StandardExports().register(registry);\n         new MemoryPoolsExports().register(registry); \n          new GarbageCollectorExports().register(registry);\n          new ThreadExports().register(registry);\n          new ClassLoadingExports().register(registry); \n         System.out.println(\"StandardExports initialized\");\n         initailized = true;\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","arrays","input","methods","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638627705,"creation_date":1638627705,"answer_id":70226454,"question_id":70226418,"body_markdown":"Instanciate a `Scanner` and pass it\r\n\r\n    String[] Array = {&quot;can&quot;, &quot;car&quot;, &quot;cam&quot;};\r\n    Scanner sc = new Scanner(System.in);\r\n    menus(Array, sc);\r\n\r\n","title":"in java how can  call a method like this -----&gt;","body":"<p>Instanciate a <code>Scanner</code> and pass it</p>\n<pre><code>String[] Array = {&quot;can&quot;, &quot;car&quot;, &quot;cam&quot;};\nScanner sc = new Scanner(System.in);\nmenus(Array, sc);\n</code></pre>\n"}],"owner":{"account_id":23345128,"reputation":3,"user_id":17419545,"display_name":"Sel&#231;uk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70226454,"answer_count":1,"score":-1,"last_activity_date":1638627705,"creation_date":1638627437,"question_id":70226418,"body_markdown":"    public static int menus(String[]items,Scanner input) {}\r\n\r\nwe can call this for first part like that\r\nin main method\r\n\r\n    String[] Array ={&quot;can&quot;,&quot;car&quot;,&quot;cam&quot;};\r\n    \t\tmenus(Array,?);\r\n\r\nbut how can  call second parameter(scanner input part) ?\r\n","title":"in java how can  call a method like this -----&gt;","body":"<pre><code>public static int menus(String[]items,Scanner input) {}\n</code></pre>\n<p>we can call this for first part like that\nin main method</p>\n<pre><code>String[] Array ={&quot;can&quot;,&quot;car&quot;,&quot;cam&quot;};\n        menus(Array,?);\n</code></pre>\n<p>but how can  call second parameter(scanner input part) ?</p>\n"},{"tags":["java","docker","ubuntu","dockerfile","docker-java"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1638629145,"post_id":70226451,"comment_id":124141308,"body_markdown":"I wouldn&#39;t expect this to usually be a problem: a Docker image usually contains a single application and its runtime, so you wouldn&#39;t usually have multiple JVMs or a version-manager tool in your image.  Anything you need to invoke `source` or `.` to use will be a little awkward in Docker since environment variables will get reset after every `RUN` command.","body":"I wouldn&#39;t expect this to usually be a problem: a Docker image usually contains a single application and its runtime, so you wouldn&#39;t usually have multiple JVMs or a version-manager tool in your image.  Anything you need to invoke <code>source</code> or <code>.</code> to use will be a little awkward in Docker since environment variables will get reset after every <code>RUN</code> command."},{"owner":{"account_id":2653614,"reputation":19207,"user_id":2294755,"accept_rate":23,"display_name":"Hackaholic"},"score":0,"creation_date":1638629628,"post_id":70226451,"comment_id":124141414,"body_markdown":"you set which java version you want to use by setting env &#39;JAVA_HOME`","body":"you set which java version you want to use by setting env &#39;JAVA_HOME`"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638631136,"post_id":70226451,"comment_id":124141747,"body_markdown":"Furthermore, `RUN` is executed at image build time, not at container run time. --- As an aside: I would recommend to use a lightweight image for production deployment, e.g. [one of the eclipse temurin images (`hub.docker.com`)](https://hub.docker.com/_/eclipse-temurin) or even [google&#39;s distroless java image (`console.cloud.google.com`)](https://console.cloud.google.com/gcr/images/distroless/GLOBAL/java).","body":"Furthermore, <code>RUN</code> is executed at image build time, not at container run time. --- As an aside: I would recommend to use a lightweight image for production deployment, e.g. <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\">one of the eclipse temurin images (<code>hub.docker.com</code>)</a> or even <a href=\"https://console.cloud.google.com/gcr/images/distroless/GLOBAL/java\" rel=\"nofollow noreferrer\">google&#39;s distroless java image (<code>console.cloud.google.com</code>)</a>."},{"owner":{"account_id":16736478,"reputation":1,"user_id":12097439,"display_name":"Zarki"},"score":0,"creation_date":1638633502,"post_id":70226451,"comment_id":124142269,"body_markdown":"@DavidMaze I needed to use 2 JVMs because I built opencv from source using Java 8. Java 11 was causing too many problems. Then, I needed Java 11 to run my application.\n\nI&#39;m not looking for a work around, just an explanation of this behaviour.","body":"@DavidMaze I needed to use 2 JVMs because I built opencv from source using Java 8. Java 11 was causing too many problems. Then, I needed Java 11 to run my application.  I&#39;m not looking for a work around, just an explanation of this behaviour."},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1638641946,"post_id":70226451,"comment_id":124144198,"body_markdown":"Is the fundamental problem that [Using the RUN instruction in a Dockerfile with &#39;source&#39; does not work](https://stackoverflow.com/questions/20635472/using-the-run-instruction-in-a-dockerfile-with-source-does-not-work)?","body":"Is the fundamental problem that <a href=\"https://stackoverflow.com/questions/20635472/using-the-run-instruction-in-a-dockerfile-with-source-does-not-work\">Using the RUN instruction in a Dockerfile with &#39;source&#39; does not work</a>?"},{"owner":{"account_id":16736478,"reputation":1,"user_id":12097439,"display_name":"Zarki"},"score":0,"creation_date":1638643580,"post_id":70226451,"comment_id":124144576,"body_markdown":"@DavidMaze Not really, it does work as long as I use the next command in the same layer. The question is why am I using java 8 in the container runtime and java 11 in interactive mode ? What&#39;s the mechanism that changes this behavior ?","body":"@DavidMaze Not really, it does work as long as I use the next command in the same layer. The question is why am I using java 8 in the container runtime and java 11 in interactive mode ? What&#39;s the mechanism that changes this behavior ?"}],"owner":{"account_id":16736478,"reputation":1,"user_id":12097439,"display_name":"Zarki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638627696,"creation_date":1638627696,"question_id":70226451,"body_markdown":"Here is my Dockerfile\r\n\r\n```\r\nFROM ubuntu:20.04\r\n\r\n# Install java 8 with apt-get\r\nRUN apt-get update -qq &amp;&amp; apt-get install -yqq openjdk-8-jdk\r\n\r\n# Install java 11 with sdkman\r\nRUN apt-get install -yqq curl unzip zip\r\nRUN curl -s &quot;https://get.sdkman.io&quot; | bash\r\nRUN /bin/bash -c &quot;source /root/.sdkman/bin/sdkman-init.sh; sdk install java 11.0.12-open&quot;\r\n\r\n# Print java version\r\nRUN java -version\r\n```\r\n\r\n`RUN java -version` says **java 8**\r\n\r\nIn interactive mode (`docker run --rm -it &lt;image-id&gt;`), it says **java 11**\r\n\r\nUsing `RUN /bin/bash -c &quot;source /root/.sdkman/bin/sdkman-init.sh; java -version&quot;` in the Dockerfile gives **java 11**\r\n\r\nWhy ? What could explain the difference between those behaviors ? Installing java 11 with apt-get doesn&#39;t give this problem, the default java version becomes 11 no matter what.","title":"Docker: different java versions in interactive and non-interactive modes","body":"<p>Here is my Dockerfile</p>\n<pre><code>FROM ubuntu:20.04\n\n# Install java 8 with apt-get\nRUN apt-get update -qq &amp;&amp; apt-get install -yqq openjdk-8-jdk\n\n# Install java 11 with sdkman\nRUN apt-get install -yqq curl unzip zip\nRUN curl -s &quot;https://get.sdkman.io&quot; | bash\nRUN /bin/bash -c &quot;source /root/.sdkman/bin/sdkman-init.sh; sdk install java 11.0.12-open&quot;\n\n# Print java version\nRUN java -version\n</code></pre>\n<p><code>RUN java -version</code> says <strong>java 8</strong></p>\n<p>In interactive mode (<code>docker run --rm -it &lt;image-id&gt;</code>), it says <strong>java 11</strong></p>\n<p>Using <code>RUN /bin/bash -c &quot;source /root/.sdkman/bin/sdkman-init.sh; java -version&quot;</code> in the Dockerfile gives <strong>java 11</strong></p>\n<p>Why ? What could explain the difference between those behaviors ? Installing java 11 with apt-get doesn't give this problem, the default java version becomes 11 no matter what.</p>\n"},{"tags":["java","authentication","automation","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1638544843,"post_id":70215581,"comment_id":124124633,"body_markdown":"Did you try static setting `RestAssured.filters(new SessionFilter());`?","body":"Did you try static setting <code>RestAssured.filters(new SessionFilter());</code>?"},{"owner":{"account_id":12186649,"reputation":11,"user_id":8896164,"display_name":"Ege per"},"score":0,"creation_date":1638545598,"post_id":70215581,"comment_id":124124948,"body_markdown":"Sorry I couldn&#39;t get it :(, can you give an example in a little code section ? So that I can implement in my code. Thanks !","body":"Sorry I couldn&#39;t get it :(, can you give an example in a little code section ? So that I can implement in my code. Thanks !"}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638627036,"creation_date":1638627036,"answer_id":70226357,"question_id":70215581,"body_markdown":"Static setting can solve this. `RestAssured.filters(new SessionFilter());` \r\n\r\nRemove `public static SessionFilter session = new SessionFilter();`\r\n\r\n```\r\npublic class Authenticator {\r\n\r\n  public static void Authenticate(){\r\n    RestAssured.baseURI = &quot;http://localhost:8080&quot;;\r\n\r\n    String authenticationResponse = given().header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .body(JiraInputs.auth())\r\n            .when().post(&quot;/rest/auth/1/session&quot;)\r\n            .then().log().all().extract().response().asString();\r\n  }\r\n}\r\n\r\n\r\npublic class AddAttachment {\r\n\r\n  public static void addAttachment(){\r\n\r\n    // Add Attachment\r\n    RestAssured.baseURI=&quot;http://localhost:8080&quot;; \r\n\r\n    given().header(&quot;X-Atlassian-Token&quot;,&quot;no-check&quot;)\r\n            .header(&quot;Content-Type&quot;,&quot;multipart/form-data&quot;)\r\n            .multiPart(&quot;file&quot;,new File(&quot;src/test/java/Repo/jira&quot;))\r\n            .pathParam(&quot;id&quot;,&quot;10000&quot;)\r\n    .when()\r\n            .post(&quot;/rest/api/2/issue/{id}/attachments&quot;)\r\n            .then().log().all().extract().response().asString();\r\n  }\r\n}\r\n\r\n\r\npublic class MainClass {\r\n\r\n    public static void main(String[] args) {\r\n        RestAssured.filters(new SessionFilter());\r\n        Authenticator.Authenticate();\r\n        AddAttachment.addAttachment();\r\n    }\r\n}\r\n```","title":"Cannot use sessionfilter parameter in my other classes","body":"<p>Static setting can solve this. <code>RestAssured.filters(new SessionFilter());</code></p>\n<p>Remove <code>public static SessionFilter session = new SessionFilter();</code></p>\n<pre><code>public class Authenticator {\n\n  public static void Authenticate(){\n    RestAssured.baseURI = &quot;http://localhost:8080&quot;;\n\n    String authenticationResponse = given().header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .body(JiraInputs.auth())\n            .when().post(&quot;/rest/auth/1/session&quot;)\n            .then().log().all().extract().response().asString();\n  }\n}\n\n\npublic class AddAttachment {\n\n  public static void addAttachment(){\n\n    // Add Attachment\n    RestAssured.baseURI=&quot;http://localhost:8080&quot;; \n\n    given().header(&quot;X-Atlassian-Token&quot;,&quot;no-check&quot;)\n            .header(&quot;Content-Type&quot;,&quot;multipart/form-data&quot;)\n            .multiPart(&quot;file&quot;,new File(&quot;src/test/java/Repo/jira&quot;))\n            .pathParam(&quot;id&quot;,&quot;10000&quot;)\n    .when()\n            .post(&quot;/rest/api/2/issue/{id}/attachments&quot;)\n            .then().log().all().extract().response().asString();\n  }\n}\n\n\npublic class MainClass {\n\n    public static void main(String[] args) {\n        RestAssured.filters(new SessionFilter());\n        Authenticator.Authenticate();\n        AddAttachment.addAttachment();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12186649,"reputation":11,"user_id":8896164,"display_name":"Ege per"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638627036,"creation_date":1638540265,"question_id":70215581,"body_markdown":"I&#39;m trying to create a cookie-based session with RestAssured. Then I&#39;m trying to add a comment on my jira ticket which I created before. Seems like I can create session id with method Authenticate(), but I cannot use that session in my other methods which are in different java files. Seems like ilter(Authenticator.session) is not working in my other methods, because in console I&#39;m getting error\r\n\r\n&gt; You do not have permission to create attachments for this issue\r\n\r\nbut when I run all these under main method in a single java class, it works properly.\r\n\r\n    public class Authenticator {\r\n    public static SessionFilter session = new SessionFilter();\r\n\r\n    public static void Authenticate(){\r\n        RestAssured.baseURI = &quot;http://localhost:8080&quot;;\r\n\r\n\r\n        String authenticationResponse = given().header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .filter(session)\r\n                .body(JiraInputs.auth())\r\n                .when().post(&quot;/rest/auth/1/session&quot;)\r\n                .then().log().all().extract().response().asString();\r\n\r\n\r\n    }\r\n\r\n\r\n    public class AddAttachment {\r\n\r\n    public static void addAttachment(){\r\n\r\n        // Add Attachment\r\n        RestAssured.baseURI=&quot;http://localhost:8080&quot;;\r\n        System.out.println(Authenticator.session.getSessionId());\r\n\r\n        given().header(&quot;X-Atlassian-Token&quot;,&quot;no-check&quot;)\r\n                .header(&quot;Content-Type&quot;,&quot;multipart/form-data&quot;)\r\n                .multiPart(&quot;file&quot;,new File(&quot;src/test/java/Repo/jira&quot;))\r\n                .pathParam(&quot;id&quot;,&quot;10000&quot;).filter(Authenticator.session).when().\r\n                post(&quot;/rest/api/2/issue/{id}/attachments&quot;)\r\n                .then().log().all().extract().response().asString();\r\n        System.out.println(Authenticator.session.getSessionId());\r\n\r\n\r\n\r\n    }\r\n    }\r\n\r\n\r\n    public class MainClass {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        // Authenticate\r\n        Authenticator.Authenticate();\r\n        AddAttachment.addAttachment();\r\n\r\n    }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n     {\r\n            &quot;errorMessages&quot;: [\r\n                &quot;You do not have permission to create attachments for this issue.&quot;\r\n            ],\r\n            &quot;errors&quot;: {\r\n                \r\n            }\r\n            }\r\n\r\n\r\n","title":"Cannot use sessionfilter parameter in my other classes","body":"<p>I'm trying to create a cookie-based session with RestAssured. Then I'm trying to add a comment on my jira ticket which I created before. Seems like I can create session id with method Authenticate(), but I cannot use that session in my other methods which are in different java files. Seems like ilter(Authenticator.session) is not working in my other methods, because in console I'm getting error</p>\n<blockquote>\n<p>You do not have permission to create attachments for this issue</p>\n</blockquote>\n<p>but when I run all these under main method in a single java class, it works properly.</p>\n<pre><code>public class Authenticator {\npublic static SessionFilter session = new SessionFilter();\n\npublic static void Authenticate(){\n    RestAssured.baseURI = &quot;http://localhost:8080&quot;;\n\n\n    String authenticationResponse = given().header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .filter(session)\n            .body(JiraInputs.auth())\n            .when().post(&quot;/rest/auth/1/session&quot;)\n            .then().log().all().extract().response().asString();\n\n\n}\n\n\npublic class AddAttachment {\n\npublic static void addAttachment(){\n\n    // Add Attachment\n    RestAssured.baseURI=&quot;http://localhost:8080&quot;;\n    System.out.println(Authenticator.session.getSessionId());\n\n    given().header(&quot;X-Atlassian-Token&quot;,&quot;no-check&quot;)\n            .header(&quot;Content-Type&quot;,&quot;multipart/form-data&quot;)\n            .multiPart(&quot;file&quot;,new File(&quot;src/test/java/Repo/jira&quot;))\n            .pathParam(&quot;id&quot;,&quot;10000&quot;).filter(Authenticator.session).when().\n            post(&quot;/rest/api/2/issue/{id}/attachments&quot;)\n            .then().log().all().extract().response().asString();\n    System.out.println(Authenticator.session.getSessionId());\n\n\n\n}\n}\n\n\npublic class MainClass {\n\npublic static void main(String[] args) {\n\n\n    // Authenticate\n    Authenticator.Authenticate();\n    AddAttachment.addAttachment();\n\n}\n}\n</code></pre>\n\n<pre><code> {\n        &quot;errorMessages&quot;: [\n            &quot;You do not have permission to create attachments for this issue.&quot;\n        ],\n        &quot;errors&quot;: {\n            \n        }\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":2,"creation_date":1638626676,"post_id":70226294,"comment_id":124140829,"body_markdown":"Are you sure that&#39;s the _exact_ command you entered? Not, for example, a space between `javax` and `.net.ssl.keyStore`? Best to copy and paste the exact input and output from the console directly into your question.","body":"Are you sure that&#39;s the <i>exact</i> command you entered? Not, for example, a space between <code>javax</code> and <code>.net.ssl.keyStore</code>? Best to copy and paste the exact input and output from the console directly into your question."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1638626949,"post_id":70226294,"comment_id":124140876,"body_markdown":"Youre just running `java` and defining a property (and see above; its likely the command is being entered incorrectly), youll also want to tell it what to run.","body":"Youre just running <code>java</code> and defining a property (and see above; its likely the command is being entered incorrectly), youll also want to tell it what to run."},{"owner":{"account_id":16954351,"reputation":59,"user_id":13019362,"display_name":"Lucas"},"score":0,"creation_date":1638631808,"post_id":70226294,"comment_id":124141894,"body_markdown":"`java -Djavax.net.ssl.keyStore=keystore1.jks`                                                   Error: Could not find or load main class .net.ssl.keyStore=keystore1.jks                                                Caused by: java.lang.ClassNotFoundException: /net/ssl/keyStore=keystore1/jks                 That&#39;s the exact command i used","body":"<code>java -Djavax.net.ssl.keyStore=keystore1.jks</code>                                                   Error: Could not find or load main class .net.ssl.keyStore=keystore1.jks                                                Caused by: java.lang.ClassNotFoundException: /net/ssl/keyStore=keystore1/jks                 That&#39;s the exact command i used"}],"owner":{"account_id":16954351,"reputation":59,"user_id":13019362,"display_name":"Lucas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1038,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638626862,"creation_date":1638626558,"question_id":70226294,"body_markdown":"I try to put federated container using `-Djavax`\r\n\r\nWhen using this command `java -Djavax.net.ssl.keyStore=xyz.jks` i get an error could not find or load main class .net.ssl.keyStore-xyz.jks.\r\n\r\nI use java version 1.8.0, is net.ssl class included in this version?","title":"Could not find or load main class .net.ssl.keyStore","body":"<p>I try to put federated container using <code>-Djavax</code></p>\n<p>When using this command <code>java -Djavax.net.ssl.keyStore=xyz.jks</code> i get an error could not find or load main class .net.ssl.keyStore-xyz.jks.</p>\n<p>I use java version 1.8.0, is net.ssl class included in this version?</p>\n"},{"tags":["java","bash","classpath"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638626734,"creation_date":1638626734,"answer_id":70226319,"question_id":70226287,"body_markdown":"You should not use direct class name. You have to use the full package.\r\n\r\nIf in your IDE you wrote for exammple: `package hw4;` and you want to run the class `Elevator`, use this :\r\n```\r\njava -cp dl.jar hw4.Elevator\r\n```\r\nIt seems to correspond to your jar file.\r\n\r\nThe `src` folder is not on the class path. It&#39;s just a directory in your IDE to order all files as project files and project content.","title":"I am having trouble with running a jar file","body":"<p>You should not use direct class name. You have to use the full package.</p>\n<p>If in your IDE you wrote for exammple: <code>package hw4;</code> and you want to run the class <code>Elevator</code>, use this :</p>\n<pre><code>java -cp dl.jar hw4.Elevator\n</code></pre>\n<p>It seems to correspond to your jar file.</p>\n<p>The <code>src</code> folder is not on the class path. It's just a directory in your IDE to order all files as project files and project content.</p>\n"}],"owner":{"account_id":20199571,"reputation":69,"user_id":14815658,"display_name":"marti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638626734,"creation_date":1638626503,"question_id":70226287,"body_markdown":"I try to run a java program with the following script:\r\n\r\n    #!/usr/bin/env bash\r\n    \r\n    java -cp dl.jar Elevator\r\n\r\nElevator is the main class. But I get an error every time.\r\n\r\n    Error: Could not find or load main class Elevator\r\n    Caused by: java.lang.ClassNotFoundException: Elevator\r\n\r\nMy classes are all in the .jar file under the directory src/hw4. I have tried adding src/hw4 to the classpath, but to no avail.","title":"I am having trouble with running a jar file","body":"<p>I try to run a java program with the following script:</p>\n<pre><code>#!/usr/bin/env bash\n\njava -cp dl.jar Elevator\n</code></pre>\n<p>Elevator is the main class. But I get an error every time.</p>\n<pre><code>Error: Could not find or load main class Elevator\nCaused by: java.lang.ClassNotFoundException: Elevator\n</code></pre>\n<p>My classes are all in the .jar file under the directory src/hw4. I have tried adding src/hw4 to the classpath, but to no avail.</p>\n"},{"tags":["java","algorithm","complexity-theory"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1375400142,"post_id":18006377,"comment_id":26332000,"body_markdown":"are you sure you want to round the distance between points to integers?","body":"are you sure you want to round the distance between points to integers?"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1375400585,"post_id":18006377,"comment_id":26332133,"body_markdown":"FYI: Point classes already exist in java with methods like distance already defined. [Point2D](http://docs.oracle.com/javase/6/docs/api/java/awt/geom/Point2D.html) which has int and double implementations","body":"FYI: Point classes already exist in java with methods like distance already defined. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/geom/Point2D.html\" rel=\"nofollow noreferrer\">Point2D</a> which has int and double implementations"},{"owner":{"account_id":484123,"reputation":1933,"user_id":899611,"accept_rate":54,"display_name":"luckysing_noobster"},"score":0,"creation_date":1375400840,"post_id":18006377,"comment_id":26332199,"body_markdown":"Thanks @Thilo now that  I think about it I  should have used double.","body":"Thanks @Thilo now that  I think about it I  should have used double."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1375401028,"post_id":18006377,"comment_id":26332233,"body_markdown":"Re: rounding: actually, since this is the square of the distance, `int` should be fine. Better not to use Math.pow in the first place, stay in the realm of integer calculation.","body":"Re: rounding: actually, since this is the square of the distance, <code>int</code> should be fine. Better not to use Math.pow in the first place, stay in the realm of integer calculation."},{"owner":{"account_id":484123,"reputation":1933,"user_id":899611,"accept_rate":54,"display_name":"luckysing_noobster"},"score":0,"creation_date":1375401299,"post_id":18006377,"comment_id":26332296,"body_markdown":"ok that makes much more sense!@JavaDevil:I will look into it thanks!","body":"ok that makes much more sense!@JavaDevil:I will look into it thanks!"},{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":1,"creation_date":1375404091,"post_id":18006377,"comment_id":26332984,"body_markdown":"You want to make it clear (at least in your function name) that you are calculating the square of the distance, not the distance.","body":"You want to make it clear (at least in your function name) that you are calculating the square of the distance, not the distance."}],"answers":[{"tags":[],"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375400139,"creation_date":1375400139,"answer_id":18006416,"question_id":18006377,"body_markdown":"You are not using the Pythagorean Theorem correctly. The Pythagorean Theorem states that the sum of the squares of two legs is the square of the diagonal, and you are interpreting it to mean that the sum of the two legs is equal to the diagonal. You should use this for the Pythagorean Theorem testing:\r\n\r\n    if (distance3 == Math.sqrt(distance1*distance1 + distance2*distance2)) {\r\n        return true;\r\n    }","title":"Given four coordinates check whether it forms a square","body":"<p>You are not using the Pythagorean Theorem correctly. The Pythagorean Theorem states that the sum of the squares of two legs is the square of the diagonal, and you are interpreting it to mean that the sum of the two legs is equal to the diagonal. You should use this for the Pythagorean Theorem testing:</p>\n\n<pre><code>if (distance3 == Math.sqrt(distance1*distance1 + distance2*distance2)) {\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2061418,"reputation":901,"user_id":1837856,"accept_rate":93,"display_name":"masotann"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1375400562,"creation_date":1375400562,"answer_id":18006485,"question_id":18006377,"body_markdown":"Here&#39;s a corner case:\r\n\r\nWhat if dist1 is the diagonal distance of the square? (I&#39;m assuming the 4 points are in arbitrary order.)\r\n\r\nYou probably need to do another check for the distances:\r\n\r\n    if(dist1 == dist2){\r\n        //do stuff\r\n    }\r\n    else if(dist1 == dist3){\r\n        //do stuff\r\n    }\r\n    else if(dist2 == dist3){\r\n        //do stuff\r\n    }\r\n    else return false;","title":"Given four coordinates check whether it forms a square","body":"<p>Here's a corner case:</p>\n\n<p>What if dist1 is the diagonal distance of the square? (I'm assuming the 4 points are in arbitrary order.)</p>\n\n<p>You probably need to do another check for the distances:</p>\n\n<pre><code>if(dist1 == dist2){\n    //do stuff\n}\nelse if(dist1 == dist3){\n    //do stuff\n}\nelse if(dist2 == dist3){\n    //do stuff\n}\nelse return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":445412,"reputation":8623,"user_id":837847,"display_name":"James Waldby - jwpat7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375405731,"creation_date":1375405731,"answer_id":18007164,"question_id":18006377,"body_markdown":"If you add an `else if(dist2 == dist3){...}` alternative (as suggested in another answer also) then it is true that your `isSquare` method will recognize a square when the four points form a square.   However, your code will also report some non-squares as being squares.  For example, consider the set of points {(0,0), (1,1), (0,-1), (-1,0)}.  Then your `distance1,2,3` values are 2, 1, 1, respectively, which will satisfy the tests in the `dist2 == dist3` case.\r\n\r\nAny non-degenerate quadrilateral has a total of six inter-corner distances.  Knowing five of those distances constrains the remaining distance to either of two values; that is, it doesn&#39;t uniquely constrain it.  So I imagine that a square-testing method based on inter-corner distances will have to compute and test all six of them.","title":"Given four coordinates check whether it forms a square","body":"<p>If you add an <code>else if(dist2 == dist3){...}</code> alternative (as suggested in another answer also) then it is true that your <code>isSquare</code> method will recognize a square when the four points form a square.   However, your code will also report some non-squares as being squares.  For example, consider the set of points {(0,0), (1,1), (0,-1), (-1,0)}.  Then your <code>distance1,2,3</code> values are 2, 1, 1, respectively, which will satisfy the tests in the <code>dist2 == dist3</code> case.</p>\n\n<p>Any non-degenerate quadrilateral has a total of six inter-corner distances.  Knowing five of those distances constrains the remaining distance to either of two values; that is, it doesn't uniquely constrain it.  So I imagine that a square-testing method based on inter-corner distances will have to compute and test all six of them.</p>\n"},{"tags":[],"owner":{"account_id":12828,"reputation":3825,"user_id":25459,"accept_rate":98,"display_name":"akalenuk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1375422086,"creation_date":1375422086,"answer_id":18009503,"question_id":18006377,"body_markdown":"You know, you can do the same check much easier. You just have to check two things:\r\n&quot;four points make a parallelogram&quot; and &quot;one of its angles is right&quot;.\r\n\r\nFirst is true when `P3 = P1 + (P2-P1) + (P4-P1)` \r\n\r\nAnd the second when `(P2-P1)*(P4-P1) = 0`\r\n\r\nWhere `A*B` is a dot product `(A.x * B.x + A.y * B.y)`\r\n\r\nThe only catch here is computational error. You can&#39;t expect floats to be exactly equal, so instead of `A=B` you should consider using something like `abs(A-B) &lt; E` where `E` is small enough for your case. ","title":"Given four coordinates check whether it forms a square","body":"<p>You know, you can do the same check much easier. You just have to check two things:\n\"four points make a parallelogram\" and \"one of its angles is right\".</p>\n\n<p>First is true when <code>P3 = P1 + (P2-P1) + (P4-P1)</code> </p>\n\n<p>And the second when <code>(P2-P1)*(P4-P1) = 0</code></p>\n\n<p>Where <code>A*B</code> is a dot product <code>(A.x * B.x + A.y * B.y)</code></p>\n\n<p>The only catch here is computational error. You can't expect floats to be exactly equal, so instead of <code>A=B</code> you should consider using something like <code>abs(A-B) &lt; E</code> where <code>E</code> is small enough for your case. </p>\n"},{"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375456888,"creation_date":1375456888,"answer_id":18020577,"question_id":18006377,"body_markdown":"Does this make sense?\r\n\r\n    &lt;script&gt;\r\n\r\n    function isSquare(p1,p2,p3,p4){\r\n      if ((areACorner(p1,p2,p3) &amp;&amp; areACorner(p4,p2,p3))\r\n       || (areACorner(p1,p2,p4) &amp;&amp; areACorner(p3,p2,p4))\r\n       || (areACorner(p1,p3,p4) &amp;&amp; areACorner(p2,p3,p4))) return true\r\n       \r\n      return false\r\n    }\r\n\r\n    function areACorner(p1,p2,p3){\r\n      //pivot point is p1\r\n      return Math.abs(p2.y - p1.y) == Math.abs(p3.x - p1.x) \r\n          &amp;&amp; Math.abs(p2.x - p1.x) == Math.abs(p3.y - p1.y)\r\n    }\r\n\r\n    &lt;/script&gt;\r\n\r\nOutput:\r\n\r\n    console.log(isSquare({x:0,y:0},{x:1,y:1},{x:0,y:1},{x:1,y:0}))\r\n    true\r\n\r\n    console.log(isSquare({x:0,y:0},{x:1,y:1},{x:-1,y:-1},{x:1,y:0}))\r\n    false","title":"Given four coordinates check whether it forms a square","body":"<p>Does this make sense?</p>\n\n<pre><code>&lt;script&gt;\n\nfunction isSquare(p1,p2,p3,p4){\n  if ((areACorner(p1,p2,p3) &amp;&amp; areACorner(p4,p2,p3))\n   || (areACorner(p1,p2,p4) &amp;&amp; areACorner(p3,p2,p4))\n   || (areACorner(p1,p3,p4) &amp;&amp; areACorner(p2,p3,p4))) return true\n\n  return false\n}\n\nfunction areACorner(p1,p2,p3){\n  //pivot point is p1\n  return Math.abs(p2.y - p1.y) == Math.abs(p3.x - p1.x) \n      &amp;&amp; Math.abs(p2.x - p1.x) == Math.abs(p3.y - p1.y)\n}\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>console.log(isSquare({x:0,y:0},{x:1,y:1},{x:0,y:1},{x:1,y:0}))\ntrue\n\nconsole.log(isSquare({x:0,y:0},{x:1,y:1},{x:-1,y:-1},{x:1,y:0}))\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391574,"reputation":22257,"user_id":752320,"accept_rate":100,"display_name":"Geobits"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375570510,"creation_date":1375508059,"answer_id":18029667,"question_id":18006377,"body_markdown":"Your function doesn&#39;t take everything into account. You&#39;re only checking one point against the others. [jwpat7][1] mentions this, so here&#39;s an example:\r\n\r\n![bad square!][2]\r\n\r\nAssume the points are in this order: (red, yellow, green, blue), and each block on the grid is one.\r\n\r\nYour `distance1` and `distance2` will both be equal to 4, so you&#39;re essentially saying that the last point can be **any** point where `distance3 = 8`. This is the blue line. If the last point is anywhere on that line, you just approved it as square.\r\n\r\nYou can fix this easily by doing the same check , but using the next coordinate as the &#39;base&#39;, instead of 0. If your check passes for two points, it&#39;s **definitely** a square.\r\n\r\n----\r\n\r\nAlternative:\r\n----------\r\n\r\nYou can check if it&#39;s *not* a square. In a valid square, there are only two valid distances, side length(`s`), and diagonal length(`d`).\r\n\r\nSince you&#39;re using squared distance, `d = s * 2`\r\n\r\nIf *any* distance(there are only six) does not equal either `d` or `s`, it **cannot** be a square. If *all six* do, it **must** be a square.\r\n\r\nThe advantage is that if you check to prove it **is** a square, you have to do all six distance checks. If you want to prove it&#39;s **not** a square, you can just stop after you find a bad one. \r\n\r\nSo, it depends on your data. If you&#39;re expecting more squares than non-squares, you might want to check for squareness. If you expect more non-squares, you should check for non-squareness. That way you get a better average case, even though the worst case is slower.\r\n\r\n\r\n    public static boolean isSquare(List&lt;Point&gt; points){\r\n        if(points == null || points.size() != 4)\r\n            return false;\r\n        int dist1 = sqDistance(points.get(0), points.get(1));\r\n        int dist2 = sqDistance(points.get(0), points.get(2));\r\n        if(dist1 == dist2){ //if neither are the diagonal\r\n            dist2 = sqDistance(points.get(0), points.get(3));\r\n        }\r\n        int s = Math.min(dist1, dist2);\r\n        int d = s * 2;\r\n\r\n        for(int i=0;i&lt;points.size;i++){\r\n            for(int j=i+1;j&lt;points.size();j++){\r\n                int dist = sqDistance(points.get(i), points.get(j));\r\n                if(dist != s &amp;&amp; dist != d))\r\n                    return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18007164/752320\r\n  [2]: http://i.stack.imgur.com/qZZEO.png","title":"Given four coordinates check whether it forms a square","body":"<p>Your function doesn't take everything into account. You're only checking one point against the others. <a href=\"https://stackoverflow.com/a/18007164/752320\">jwpat7</a> mentions this, so here's an example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/qZZEO.png\" alt=\"bad square!\"></p>\n\n<p>Assume the points are in this order: (red, yellow, green, blue), and each block on the grid is one.</p>\n\n<p>Your <code>distance1</code> and <code>distance2</code> will both be equal to 4, so you're essentially saying that the last point can be <strong>any</strong> point where <code>distance3 = 8</code>. This is the blue line. If the last point is anywhere on that line, you just approved it as square.</p>\n\n<p>You can fix this easily by doing the same check , but using the next coordinate as the 'base', instead of 0. If your check passes for two points, it's <strong>definitely</strong> a square.</p>\n\n<hr>\n\n<h2>Alternative:</h2>\n\n<p>You can check if it's <em>not</em> a square. In a valid square, there are only two valid distances, side length(<code>s</code>), and diagonal length(<code>d</code>).</p>\n\n<p>Since you're using squared distance, <code>d = s * 2</code></p>\n\n<p>If <em>any</em> distance(there are only six) does not equal either <code>d</code> or <code>s</code>, it <strong>cannot</strong> be a square. If <em>all six</em> do, it <strong>must</strong> be a square.</p>\n\n<p>The advantage is that if you check to prove it <strong>is</strong> a square, you have to do all six distance checks. If you want to prove it's <strong>not</strong> a square, you can just stop after you find a bad one. </p>\n\n<p>So, it depends on your data. If you're expecting more squares than non-squares, you might want to check for squareness. If you expect more non-squares, you should check for non-squareness. That way you get a better average case, even though the worst case is slower.</p>\n\n<pre><code>public static boolean isSquare(List&lt;Point&gt; points){\n    if(points == null || points.size() != 4)\n        return false;\n    int dist1 = sqDistance(points.get(0), points.get(1));\n    int dist2 = sqDistance(points.get(0), points.get(2));\n    if(dist1 == dist2){ //if neither are the diagonal\n        dist2 = sqDistance(points.get(0), points.get(3));\n    }\n    int s = Math.min(dist1, dist2);\n    int d = s * 2;\n\n    for(int i=0;i&lt;points.size;i++){\n        for(int j=i+1;j&lt;points.size();j++){\n            int dist = sqDistance(points.get(i), points.get(j));\n            if(dist != s &amp;&amp; dist != d))\n                return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1984634,"reputation":1098,"user_id":1780261,"accept_rate":57,"display_name":"codeaperature"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457243176,"creation_date":1457243176,"answer_id":35823606,"question_id":18006377,"body_markdown":"If you use something like (my C code), where I use squared distance (to avoid sqrt):\r\n\r\n    int sqDist(Point p1, Point p2) {\r\n        int x = p1.x - p2.x;\r\n        int y = p1.y - p2.y;\r\n        return(x*x + y*y);\r\n    }\r\n\r\nwhere Point is simply:\r\n\r\n    typedef struct {\r\n        int x, y;\r\n    } Point;\r\n\r\n`\r\n\r\nIn your code, calculate the permutations of each corner to one another, find the smallest / largest edges (in squared values), then you can check that you have 4 sides and 2 diagonals:\r\n\r\n\r\n    int squares[6];\r\n\r\n    squares[0] = sqDist(p[0], p[1]);\r\n    squares[1] = sqDist(p[0], p[2]);\r\n    squares[2] = sqDist(p[0], p[3]);\r\n    squares[3] = sqDist(p[1], p[2]);\r\n    squares[4] = sqDist(p[1], p[3]);\r\n    squares[5] = sqDist(p[2], p[3]);\r\n    \r\n    int side = squares[0];\r\n    int diagonal = squares[0];\r\n    int i = 0;\r\n    while((++i &lt;= 4) &amp;&amp; (side &gt;= diagonal)) {\r\n        if(squares[i] &lt; side) side = squares[i];\r\n        if(squares[i] &gt; diagonal) diagonal = squares[i];\r\n    }\r\n    int diagonal_cnt = 0;\r\n    int side_cnt = 0;\r\n    int error = 0;\r\n    for(int i = 0; i &lt; 6; i++) {\r\n       if(abs(side - squares[i]) &lt;= error) side_cnt++;\r\n       if(abs(diagonal - squares[i]) &lt;= error) diagonal_cnt++;\r\n    }\r\n    printf(&quot;Square = %s\\n&quot;, ((side_cnt == 4) &amp;&amp; (diagonal_cnt == 2)) ? &quot;true&quot; : &quot;false&quot;);\r\n\r\n\r\nYou could change the `error` value to handle floating points errors -- if you&#39;d like to convert this routine to handle floating point values.\r\n\r\nNote: If all points are at the same location, I consider this a point (not a square).\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Given four coordinates check whether it forms a square","body":"<p>If you use something like (my C code), where I use squared distance (to avoid sqrt):</p>\n\n<pre><code>int sqDist(Point p1, Point p2) {\n    int x = p1.x - p2.x;\n    int y = p1.y - p2.y;\n    return(x*x + y*y);\n}\n</code></pre>\n\n<p>where Point is simply:</p>\n\n<pre><code>typedef struct {\n    int x, y;\n} Point;\n</code></pre>\n\n<p>`</p>\n\n<p>In your code, calculate the permutations of each corner to one another, find the smallest / largest edges (in squared values), then you can check that you have 4 sides and 2 diagonals:</p>\n\n<pre><code>int squares[6];\n\nsquares[0] = sqDist(p[0], p[1]);\nsquares[1] = sqDist(p[0], p[2]);\nsquares[2] = sqDist(p[0], p[3]);\nsquares[3] = sqDist(p[1], p[2]);\nsquares[4] = sqDist(p[1], p[3]);\nsquares[5] = sqDist(p[2], p[3]);\n\nint side = squares[0];\nint diagonal = squares[0];\nint i = 0;\nwhile((++i &lt;= 4) &amp;&amp; (side &gt;= diagonal)) {\n    if(squares[i] &lt; side) side = squares[i];\n    if(squares[i] &gt; diagonal) diagonal = squares[i];\n}\nint diagonal_cnt = 0;\nint side_cnt = 0;\nint error = 0;\nfor(int i = 0; i &lt; 6; i++) {\n   if(abs(side - squares[i]) &lt;= error) side_cnt++;\n   if(abs(diagonal - squares[i]) &lt;= error) diagonal_cnt++;\n}\nprintf(\"Square = %s\\n\", ((side_cnt == 4) &amp;&amp; (diagonal_cnt == 2)) ? \"true\" : \"false\");\n</code></pre>\n\n<p>You could change the <code>error</code> value to handle floating points errors -- if you'd like to convert this routine to handle floating point values.</p>\n\n<p>Note: If all points are at the same location, I consider this a point (not a square).</p>\n"}],"owner":{"account_id":484123,"reputation":1933,"user_id":899611,"accept_rate":54,"display_name":"luckysing_noobster"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14026,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":7,"score":2,"last_activity_date":1638625500,"creation_date":1375399929,"question_id":18006377,"body_markdown":"So I am trying to write a simple method which takes in set of four coordinates and decide whether they form a square or not.My approach is start with a point and calculate the distance between the other three points and the base point.From this we can get the two sides which have same value and the one which is a diagonal.Then I use Pythagoras theorem to find if the sides square is equal to the diagonal.If it is the isSquare method return true else false.The thing I want to find out is there some cases I might be missing out on or if something is wrong with the approach.Thanks for the all the help.\r\n\r\n\r\n    public class CoordinatesSquare {\r\n\r\n\tpublic static boolean isSquare(List&lt;Point&gt; listPoints) {\r\n\t\tif (listPoints != null &amp;&amp; listPoints.size() == 4) {\r\n\t\t\tint distance1 = distance(listPoints.get(0), listPoints.get(1));\r\n\t\t\tint distance2 = distance(listPoints.get(0), listPoints.get(2));\r\n\t\t\tint distance3 = distance(listPoints.get(0), listPoints.get(3));\r\n\r\n\t\t\tif (distance1 == distance2) {\r\n\t\t\t\t// checking if the sides are equal to the diagonal\r\n\t\t\t\tif (distance3 == distance1 + distance2) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (distance1 == distance3) {\r\n\t\t\t\t// checking if the sides are equal to the diagonal\r\n\t\t\t\tif (distance2 == distance1 + distance3) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate static int distance(Point point, Point point2) {\r\n                  //(x2-x1)^2+(y2-y1)^2\r\n\t\treturn (int) (Math.pow(point2.x - point.x, 2) + (Math.pow(point2.y\r\n\t\t\t\t- point.y, 2)));\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tList&lt;Point&gt; pointz = new ArrayList&lt;Point&gt;();\r\n\t\tpointz.add(new Point(2, 2));\r\n\t\tpointz.add(new Point(2, 4));\r\n\t\tpointz.add(new Point(4, 2));\r\n\t\tpointz.add(new Point(4, 4));\r\n\t\tSystem.out.println(CoordinatesSquare.isSquare(pointz));\r\n\t}\r\n    }\r\n\r\n\r\n    //Point Class\r\n     public class Point {\r\n\tInteger x;\r\n\tInteger y;\r\n\tboolean isVisited;\r\n\r\n\tpublic Point(Integer x, Integer y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif(obj!=null &amp;&amp; obj.getClass().equals(this.getClass())){\r\n\t\t\treturn ((Point) obj).x.equals(this.x)&amp;&amp;((Point) obj).y.equals(this.y);\r\n\t\t}\r\n\t\treturn false;\r\n\r\n\t}\r\n    }\r\n\r\n","title":"Given four coordinates check whether it forms a square","body":"<p>So I am trying to write a simple method which takes in set of four coordinates and decide whether they form a square or not.My approach is start with a point and calculate the distance between the other three points and the base point.From this we can get the two sides which have same value and the one which is a diagonal.Then I use Pythagoras theorem to find if the sides square is equal to the diagonal.If it is the isSquare method return true else false.The thing I want to find out is there some cases I might be missing out on or if something is wrong with the approach.Thanks for the all the help.</p>\n\n<pre><code>public class CoordinatesSquare {\n\npublic static boolean isSquare(List&lt;Point&gt; listPoints) {\n    if (listPoints != null &amp;&amp; listPoints.size() == 4) {\n        int distance1 = distance(listPoints.get(0), listPoints.get(1));\n        int distance2 = distance(listPoints.get(0), listPoints.get(2));\n        int distance3 = distance(listPoints.get(0), listPoints.get(3));\n\n        if (distance1 == distance2) {\n            // checking if the sides are equal to the diagonal\n            if (distance3 == distance1 + distance2) {\n                return true;\n            }\n\n        } else if (distance1 == distance3) {\n            // checking if the sides are equal to the diagonal\n            if (distance2 == distance1 + distance3) {\n                return true;\n            }\n\n        }\n    }\n    return false;\n}\n\nprivate static int distance(Point point, Point point2) {\n              //(x2-x1)^2+(y2-y1)^2\n    return (int) (Math.pow(point2.x - point.x, 2) + (Math.pow(point2.y\n            - point.y, 2)));\n}\n\npublic static void main(String args[]) {\n    List&lt;Point&gt; pointz = new ArrayList&lt;Point&gt;();\n    pointz.add(new Point(2, 2));\n    pointz.add(new Point(2, 4));\n    pointz.add(new Point(4, 2));\n    pointz.add(new Point(4, 4));\n    System.out.println(CoordinatesSquare.isSquare(pointz));\n}\n}\n\n\n//Point Class\n public class Point {\nInteger x;\nInteger y;\nboolean isVisited;\n\npublic Point(Integer x, Integer y) {\n    this.x = x;\n    this.y = y;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if(obj!=null &amp;&amp; obj.getClass().equals(this.getClass())){\n        return ((Point) obj).x.equals(this.x)&amp;&amp;((Point) obj).y.equals(this.y);\n    }\n    return false;\n\n}\n}\n</code></pre>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":5,"creation_date":1638624361,"post_id":70225977,"comment_id":124140321,"body_markdown":"Micro benchmarks are misleading. The first two snippets are likely optimized away, the last one likely isn&#39;t because object references are kept.","body":"Micro benchmarks are misleading. The first two snippets are likely optimized away, the last one likely isn&#39;t because object references are kept."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":2,"creation_date":1638624490,"post_id":70225977,"comment_id":124140362,"body_markdown":"[**How do I write a correct micro-benchmark in Java?**](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"<a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\"><b>How do I write a correct micro-benchmark in Java?</b></a>"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638624331,"creation_date":1638624331,"answer_id":70226014,"question_id":70225977,"body_markdown":"Two issues:\r\n\r\n1. As [Dave Newton said][1], microbenchmarks are misleading. More in this question&#39;s answers: [*How do I write a correct micro-benchmark in Java?*](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)\r\n\r\n2. But also probably: Because in cases 1 and 2, you don&#39;t build up ten million `Node` objects in memory, you have at most two at any given time. As you&#39;re going along, you release previous nodes. But in case 3, you keep all the `Node` objects you ever create, so you end up with ten million small objects in memory. That requires a lot of overhead in terms of memory management, slowing things down markedly.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70225977/in-java-why-is-it-slow/70226014#comment124140321_70225977","title":"In java, why is it slow?","body":"<p>Two issues:</p>\n<ol>\n<li><p>As <a href=\"https://stackoverflow.com/questions/70225977/in-java-why-is-it-slow/70226014#comment124140321_70225977\">Dave Newton said</a>, microbenchmarks are misleading. More in this question's answers: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\"><em>How do I write a correct micro-benchmark in Java?</em></a></p>\n</li>\n<li><p>But also probably: Because in cases 1 and 2, you don't build up ten million <code>Node</code> objects in memory, you have at most two at any given time. As you're going along, you release previous nodes. But in case 3, you keep all the <code>Node</code> objects you ever create, so you end up with ten million small objects in memory. That requires a lot of overhead in terms of memory management, slowing things down markedly.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":19214847,"reputation":25,"user_id":14039803,"display_name":"Th&#224;nh L&#234;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70226014,"answer_count":1,"score":0,"last_activity_date":1638625495,"creation_date":1638624105,"question_id":70225977,"body_markdown":"I have defined a class with information:\r\n```\r\n    public static class Node {\r\n        Node prev;\r\n        public Node() {\r\n        }\r\n        public Node(Node prev) {\r\n            this.prev = prev;\r\n        }\r\n    }\r\n```\r\n**Test case 1 :**\r\n```\r\n   @Test\r\n    public void test1() {\r\n        long start = System.nanoTime();\r\n\r\n        for (int i = 0; i &lt; 10_000_000; i++) {\r\n            Node newNode = new Node();\r\n        }\r\n\r\n        long timeRun = System.nanoTime() - start;\r\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\r\n    }\r\n```\r\nFor the above test case, my machine complete needs nanoseconds `8434100` -&gt; 0.008 second\r\n\r\n**Test case 2 :**\r\n```\r\n    @Test\r\n    public void test() {\r\n        Node last = null;\r\n        long start = System.nanoTime();\r\n\r\n        for (int i = 0; i &lt; 10_000_000; i++) {\r\n            Node newNode = new Node();\r\n            last = newNode ;\r\n        }\r\n\r\n        long timeRun = System.nanoTime() - start;\r\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\r\n    }\r\n```\r\nIn the above case, I will create a storage variable `last` to store the last `node` object.\r\n\r\nFor the above test case, my machine complete needs nanoseconds `9522600` -&gt; 0.009 second\r\n\r\n**Test case 3 :**\r\n\r\nMutation in this case.\r\n\r\n```\r\n    @Test\r\n    public void test() {\r\n        Node last = null;\r\n        long start = System.nanoTime();\r\n\r\n        for (int i = 0; i &lt; 10_000_000; i++) {\r\n            Node newNode = new Node(last);\r\n            last = newNode ;\r\n        }\r\n\r\n        long timeRun = System.nanoTime() - start;\r\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\r\n    }\r\n```\r\n\r\nCase 3, quite similar to case 2 but I will pass `last` object to `constructor` of `Node`.\r\nFor the above test case, my machine complete needs nanoseconds `933890100` -&gt; 0.9 second.\r\n\r\nAmazingly, it&#39;s 100 times slower.\r\n\r\n**Test case 4 :**\r\n\r\n```\r\n   @Test\r\n    public void test() {\r\n        List&lt;Node&gt; list = new ArrayList&lt;&gt;();\r\n        Node last = null;\r\n        long start = System.nanoTime();\r\n\r\n        for (int i = 0; i &lt; 10_000_000; i++) {\r\n            Node newNode  = new Node(last);\r\n            list.add(newNode);\r\n            last = newNode ;\r\n        }\r\n        long timeRun = System.nanoTime() - start;\r\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\r\n    }\r\n```\r\nIn case 4, I had a `list` to store `newNode` to list.\r\nFor the above test case, my machine complete needs nanoseconds `360559900` -&gt; 0.3 second.\r\nIt is faster than case 3. Did java re-optimize it?\r\n\r\n**Questions**\r\n\r\nDo you know why it&#39;s slow? please let me know. I have researched and read a lot but no answer yet","title":"In java, why is it slow?","body":"<p>I have defined a class with information:</p>\n<pre><code>    public static class Node {\n        Node prev;\n        public Node() {\n        }\n        public Node(Node prev) {\n            this.prev = prev;\n        }\n    }\n</code></pre>\n<p><strong>Test case 1 :</strong></p>\n<pre><code>   @Test\n    public void test1() {\n        long start = System.nanoTime();\n\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            Node newNode = new Node();\n        }\n\n        long timeRun = System.nanoTime() - start;\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\n    }\n</code></pre>\n<p>For the above test case, my machine complete needs nanoseconds <code>8434100</code> -&gt; 0.008 second</p>\n<p><strong>Test case 2 :</strong></p>\n<pre><code>    @Test\n    public void test() {\n        Node last = null;\n        long start = System.nanoTime();\n\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            Node newNode = new Node();\n            last = newNode ;\n        }\n\n        long timeRun = System.nanoTime() - start;\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\n    }\n</code></pre>\n<p>In the above case, I will create a storage variable <code>last</code> to store the last <code>node</code> object.</p>\n<p>For the above test case, my machine complete needs nanoseconds <code>9522600</code> -&gt; 0.009 second</p>\n<p><strong>Test case 3 :</strong></p>\n<p>Mutation in this case.</p>\n<pre><code>    @Test\n    public void test() {\n        Node last = null;\n        long start = System.nanoTime();\n\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            Node newNode = new Node(last);\n            last = newNode ;\n        }\n\n        long timeRun = System.nanoTime() - start;\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\n    }\n</code></pre>\n<p>Case 3, quite similar to case 2 but I will pass <code>last</code> object to <code>constructor</code> of <code>Node</code>.\nFor the above test case, my machine complete needs nanoseconds <code>933890100</code> -&gt; 0.9 second.</p>\n<p>Amazingly, it's 100 times slower.</p>\n<p><strong>Test case 4 :</strong></p>\n<pre><code>   @Test\n    public void test() {\n        List&lt;Node&gt; list = new ArrayList&lt;&gt;();\n        Node last = null;\n        long start = System.nanoTime();\n\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            Node newNode  = new Node(last);\n            list.add(newNode);\n            last = newNode ;\n        }\n        long timeRun = System.nanoTime() - start;\n        System.out.println(&quot;nanoTime: &quot; + timeRun);\n    }\n</code></pre>\n<p>In case 4, I had a <code>list</code> to store <code>newNode</code> to list.\nFor the above test case, my machine complete needs nanoseconds <code>360559900</code> -&gt; 0.3 second.\nIt is faster than case 3. Did java re-optimize it?</p>\n<p><strong>Questions</strong></p>\n<p>Do you know why it's slow? please let me know. I have researched and read a lot but no answer yet</p>\n"},{"tags":["java","hibernate","jpa","jax-rs","quarkus"],"comments":[{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1638179612,"post_id":70124523,"comment_id":124010033,"body_markdown":"a standard approach to read chunks of larger amounts of data would be pagination, how does your use-case look like so that this is not feasable?","body":"a standard approach to read chunks of larger amounts of data would be pagination, how does your use-case look like so that this is not feasable?"},{"owner":{"account_id":6155074,"reputation":447,"user_id":4798337,"accept_rate":40,"display_name":"sithmein"},"score":0,"creation_date":1638216462,"post_id":70124523,"comment_id":124024610,"body_markdown":"I want to avoid paging because if streaming results works there is no need for paging.","body":"I want to avoid paging because if streaming results works there is no need for paging."}],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638625481,"creation_date":1638198569,"answer_id":70156892,"question_id":70124523,"body_markdown":"Here you have some resources that can help you with this:\r\n\r\n - Using reactive Hibernate: https://quarkusio.zulipchat.com/#narrow/stream/187030-users/topic/Large.20datasets.20using.20reactive.20SQL.20clients\r\n - Paging vs Forward only ResultSets: https://knes1.github.io/blog/2015/2015-10-19-streaming-mysql-results-using-java8-streams-and-spring-data.html\r\n\r\nThe last article is for SpringBoot, but the idea can also be implemented with Quarkus.\r\n\r\n\r\n------------Edit:\r\n\r\nOK, I&#39;ve worked out an example where I do a batch select. I did it with Panache, but you can do it easily also without it.\r\n\r\nI&#39;m returning a ScrollableResult, then use this in the Rest resource to stream it via SSE (server sent event) to the client.\r\n\r\n------------Edit 2:\r\n\r\nI&#39;ve added the setFetchSize to the query. You should play with this number and set it between 1-50. If value = 1, then the db rows will be fetched 1 by 1, this mimics streaming the most. And it will use the least amount of memory, but the I/O between the db &amp; app will be more often. \r\n\r\nAnd the usage of a StatelessSession is highly recommended when doing bulk operations like this.\r\n\r\n```\r\n@Entity\r\npublic class Fruit extends PanacheEntity {\r\n\r\n    public String name;\r\n    \r\n    // I&#39;ve removed the logic from here to the Rest resource, \r\n     // otherwise you cannot close the session\r\n    \r\n}\r\n```\r\n\r\n```\r\n@Path(&quot;/fruits&quot;)\r\npublic class FruitResource {\r\n\r\n    @GET\r\n    @Produces(SERVER_SENT_EVENTS)\r\n    public void fruitsStream(@Context Sse sse, @Context SseEventSink sink) {\r\n        var sf = Fruit.getEntityManager().getEntityManagerFactory().unwrap(SessionFactory.class);\r\n\r\n        try (var session = sf.openStatelessSession();\r\n             var scrollableResults = session.createQuery(&quot;select f from Fruit f&quot;)\r\n                                    .scroll(ScrollMode.FORWARD_ONLY) \r\n                                    .setFetchSize(1) {\r\n            while (scrollableResults.next()) {\r\n                sink.send(sse.newEventBuilder().data(scrollableResults.get(0)).mediaType(APPLICATION_JSON_TYPE).build());\r\n            }\r\n            sink.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen I call this Rest endpoint like this (via httpie):\r\n\r\n```\r\n&gt; http :8080/fruits --stream\r\n\r\ndata: {&quot;id&quot;:9996,&quot;name&quot;:&quot;applecfcdd592-1934-4f0e-a6a8-2f88fae5d14c&quot;}\r\n\r\ndata: {&quot;id&quot;:9997,&quot;name&quot;:&quot;apple7f5045a8-03bd-4bf5-9809-03b22069d9f3&quot;}\r\n\r\ndata: {&quot;id&quot;:9998,&quot;name&quot;:&quot;apple0982b65a-bc74-408f-a6e7-a165ec3250a1&quot;}\r\n\r\ndata: {&quot;id&quot;:9999,&quot;name&quot;:&quot;apple2f347c25-d0a1-46b7-bcb6-1f1fd5098402&quot;}\r\n\r\ndata: {&quot;id&quot;:10000,&quot;name&quot;:&quot;apple65d456b8-fb04-41da-bf07-73c962930629&quot;}\r\n```\r\n\r\nHope this helps you.","title":"How to stream large data from database via REST in Quarkus","body":"<p>Here you have some resources that can help you with this:</p>\n<ul>\n<li>Using reactive Hibernate: <a href=\"https://quarkusio.zulipchat.com/#narrow/stream/187030-users/topic/Large.20datasets.20using.20reactive.20SQL.20clients\" rel=\"nofollow noreferrer\">https://quarkusio.zulipchat.com/#narrow/stream/187030-users/topic/Large.20datasets.20using.20reactive.20SQL.20clients</a></li>\n<li>Paging vs Forward only ResultSets: <a href=\"https://knes1.github.io/blog/2015/2015-10-19-streaming-mysql-results-using-java8-streams-and-spring-data.html\" rel=\"nofollow noreferrer\">https://knes1.github.io/blog/2015/2015-10-19-streaming-mysql-results-using-java8-streams-and-spring-data.html</a></li>\n</ul>\n<p>The last article is for SpringBoot, but the idea can also be implemented with Quarkus.</p>\n<p>------------Edit:</p>\n<p>OK, I've worked out an example where I do a batch select. I did it with Panache, but you can do it easily also without it.</p>\n<p>I'm returning a ScrollableResult, then use this in the Rest resource to stream it via SSE (server sent event) to the client.</p>\n<p>------------Edit 2:</p>\n<p>I've added the setFetchSize to the query. You should play with this number and set it between 1-50. If value = 1, then the db rows will be fetched 1 by 1, this mimics streaming the most. And it will use the least amount of memory, but the I/O between the db &amp; app will be more often.</p>\n<p>And the usage of a StatelessSession is highly recommended when doing bulk operations like this.</p>\n<pre><code>@Entity\npublic class Fruit extends PanacheEntity {\n\n    public String name;\n    \n    // I've removed the logic from here to the Rest resource, \n     // otherwise you cannot close the session\n    \n}\n</code></pre>\n<pre><code>@Path(&quot;/fruits&quot;)\npublic class FruitResource {\n\n    @GET\n    @Produces(SERVER_SENT_EVENTS)\n    public void fruitsStream(@Context Sse sse, @Context SseEventSink sink) {\n        var sf = Fruit.getEntityManager().getEntityManagerFactory().unwrap(SessionFactory.class);\n\n        try (var session = sf.openStatelessSession();\n             var scrollableResults = session.createQuery(&quot;select f from Fruit f&quot;)\n                                    .scroll(ScrollMode.FORWARD_ONLY) \n                                    .setFetchSize(1) {\n            while (scrollableResults.next()) {\n                sink.send(sse.newEventBuilder().data(scrollableResults.get(0)).mediaType(APPLICATION_JSON_TYPE).build());\n            }\n            sink.close();\n        }\n    }\n}\n</code></pre>\n<p>Then I call this Rest endpoint like this (via httpie):</p>\n<pre><code>&gt; http :8080/fruits --stream\n\ndata: {&quot;id&quot;:9996,&quot;name&quot;:&quot;applecfcdd592-1934-4f0e-a6a8-2f88fae5d14c&quot;}\n\ndata: {&quot;id&quot;:9997,&quot;name&quot;:&quot;apple7f5045a8-03bd-4bf5-9809-03b22069d9f3&quot;}\n\ndata: {&quot;id&quot;:9998,&quot;name&quot;:&quot;apple0982b65a-bc74-408f-a6e7-a165ec3250a1&quot;}\n\ndata: {&quot;id&quot;:9999,&quot;name&quot;:&quot;apple2f347c25-d0a1-46b7-bcb6-1f1fd5098402&quot;}\n\ndata: {&quot;id&quot;:10000,&quot;name&quot;:&quot;apple65d456b8-fb04-41da-bf07-73c962930629&quot;}\n</code></pre>\n<p>Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":16137151,"reputation":127,"user_id":11649327,"display_name":"so1999"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638290069,"creation_date":1638290069,"answer_id":70172826,"question_id":70124523,"body_markdown":"Do your results have to be all in one response? How about making the client request the next results page until there&#39;s no next - a typical REST API pagination exercise? Also the JPA backend will only fetch that page from the database so there&#39;s no moment when everything would sit in memory.","title":"How to stream large data from database via REST in Quarkus","body":"<p>Do your results have to be all in one response? How about making the client request the next results page until there's no next - a typical REST API pagination exercise? Also the JPA backend will only fetch that page from the database so there's no moment when everything would sit in memory.</p>\n"},{"tags":[],"owner":{"account_id":23466184,"reputation":76,"user_id":17520349,"display_name":"Murali D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638336571,"creation_date":1638336571,"answer_id":70179530,"question_id":70124523,"body_markdown":"Based on your requirement you have two options:\r\n\r\nOption 1: \r\nTake HATEOAS approach (https://restfulapi.net/hateoas/). One of standard pattern to exchange large data sets over REST standard. So in this approach server will respond with set of HATEOAS URIs in first response quickly. Where each HATEOAS URI represents on group of elements. So you need to generate these URIs based on data size and let client code to take responsibility of calling these URIs individually as REST APIs to get actual data. But again in this option also you can consider Reactive style to get more advantage of streaming processing with small memory foot print.\r\n\r\nOption 2: \r\nAs suggested by @Serkan above, continuously stream the result set from database as REST response to client. Here you need to make sure the gateway between client and Service for timeout settings. If there is no gateway you are good. So you can take advantage of reactive programming at all layers to achieve continuous streaming. &quot;DAO/data access layer&quot; --&gt; &quot;Service layer&quot; --&gt; REST Controller --&gt; Client. Spring reactor is compliant of JAX-RS as well. https://quarkus.io/guides/getting-started-reactive. This is best architecture style while dealing large data processing.","title":"How to stream large data from database via REST in Quarkus","body":"<p>Based on your requirement you have two options:</p>\n<p>Option 1:\nTake HATEOAS approach (<a href=\"https://restfulapi.net/hateoas/\" rel=\"nofollow noreferrer\">https://restfulapi.net/hateoas/</a>). One of standard pattern to exchange large data sets over REST standard. So in this approach server will respond with set of HATEOAS URIs in first response quickly. Where each HATEOAS URI represents on group of elements. So you need to generate these URIs based on data size and let client code to take responsibility of calling these URIs individually as REST APIs to get actual data. But again in this option also you can consider Reactive style to get more advantage of streaming processing with small memory foot print.</p>\n<p>Option 2:\nAs suggested by @Serkan above, continuously stream the result set from database as REST response to client. Here you need to make sure the gateway between client and Service for timeout settings. If there is no gateway you are good. So you can take advantage of reactive programming at all layers to achieve continuous streaming. &quot;DAO/data access layer&quot; --&gt; &quot;Service layer&quot; --&gt; REST Controller --&gt; Client. Spring reactor is compliant of JAX-RS as well. <a href=\"https://quarkus.io/guides/getting-started-reactive\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-reactive</a>. This is best architecture style while dealing large data processing.</p>\n"}],"owner":{"account_id":6155074,"reputation":447,"user_id":4798337,"accept_rate":40,"display_name":"sithmein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1638625481,"creation_date":1637930063,"question_id":70124523,"body_markdown":"I&#39;m implementing a `GET` method in Quarkus that should send large amounts of data to the client. The data is read from the database using JPA/Hibernate, serialized to JSON, and then sent to the client. How can this can be done efficiently without having the whole data in memory? I tried the following three possibilities all without success:\r\n\r\n1. Use `getResultList` from JPA and return a `Response` with the list as the body. A `MessageBodyWriter` will take care of serializing the list to JSON. However, this will pull all data into memory which is not feasible for a larger number of records.\r\n2. Use `getResultStream` from JPA and return a `Response` with the stream as the body. A `MessageBodyWriter` will take care of serializing the stream to JSON. Unfortunately this doesn&#39;t work because it seems the `EntityManager` is closed after the JAX-RS method has been executed and before the `MessageBodyWriter` is invoked. This means that the underlying `ResultSet` is also closed and the writer cannot read from the stream any more.\r\n3. Use a `StreamingOutput` as `Response` body. The same problem as in 2. occurs.\r\n\r\nSo my question is: what&#39;s the trick for sending large data read via JPA with Quarkus?","title":"How to stream large data from database via REST in Quarkus","body":"<p>I'm implementing a <code>GET</code> method in Quarkus that should send large amounts of data to the client. The data is read from the database using JPA/Hibernate, serialized to JSON, and then sent to the client. How can this can be done efficiently without having the whole data in memory? I tried the following three possibilities all without success:</p>\n<ol>\n<li>Use <code>getResultList</code> from JPA and return a <code>Response</code> with the list as the body. A <code>MessageBodyWriter</code> will take care of serializing the list to JSON. However, this will pull all data into memory which is not feasible for a larger number of records.</li>\n<li>Use <code>getResultStream</code> from JPA and return a <code>Response</code> with the stream as the body. A <code>MessageBodyWriter</code> will take care of serializing the stream to JSON. Unfortunately this doesn't work because it seems the <code>EntityManager</code> is closed after the JAX-RS method has been executed and before the <code>MessageBodyWriter</code> is invoked. This means that the underlying <code>ResultSet</code> is also closed and the writer cannot read from the stream any more.</li>\n<li>Use a <code>StreamingOutput</code> as <code>Response</code> body. The same problem as in 2. occurs.</li>\n</ol>\n<p>So my question is: what's the trick for sending large data read via JPA with Quarkus?</p>\n"},{"tags":["java","excel","servlets","apache-poi","xssf"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1638618448,"post_id":70220339,"comment_id":124139174,"body_markdown":"Your question is in its current form not answerable. You basically need to debug first what exactly was (not) written to the response. Before setting header for 1st time, invoke `response.reset()`. If that throws any exception then it means that the response is already contamined and that would explain the corrupted Excel file. If not then just go ahead. Another way to investigate: write XLSX (character based) instead of XLS (byte based) and open the downloaded file in a text editor. Any corrupted characters should be easily recognizable and trackable to their cause.","body":"Your question is in its current form not answerable. You basically need to debug first what exactly was (not) written to the response. Before setting header for 1st time, invoke <code>response.reset()</code>. If that throws any exception then it means that the response is already contamined and that would explain the corrupted Excel file. If not then just go ahead. Another way to investigate: write XLSX (character based) instead of XLS (byte based) and open the downloaded file in a text editor. Any corrupted characters should be easily recognizable and trackable to their cause."},{"owner":{"account_id":8167604,"reputation":1,"user_id":6149320,"display_name":"durgapmenon"},"score":0,"creation_date":1638622286,"post_id":70220339,"comment_id":124139838,"body_markdown":"Wow! This worked! Did response.reset() and it worked!! Thank you so much!","body":"Wow! This worked! Did response.reset() and it worked!! Thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":8167604,"reputation":1,"user_id":6149320,"display_name":"durgapmenon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638625456,"creation_date":1638625456,"answer_id":70226149,"question_id":70220339,"body_markdown":"Thanks a lot BalusC!\r\n\r\nI&#39;ve reset the HttpServletResponse object as suggested and then set the header and wrote the excel to the ServletOutputStream. \r\n\r\n    response.reset()\r\n\r\nThe excel downloaded perfectly!","title":"Excel file exported to ServletOutputStream is corrupted","body":"<p>Thanks a lot BalusC!</p>\n<p>I've reset the HttpServletResponse object as suggested and then set the header and wrote the excel to the ServletOutputStream.</p>\n<pre><code>response.reset()\n</code></pre>\n<p>The excel downloaded perfectly!</p>\n"}],"owner":{"account_id":8167604,"reputation":1,"user_id":6149320,"display_name":"durgapmenon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70226149,"answer_count":1,"score":0,"last_activity_date":1638625456,"creation_date":1638563494,"question_id":70220339,"body_markdown":"I am writing an excel file onto ServletOutputStream (using HSSFWorkBook for xls and XSSFWorkBook for xlsx). The excel that gets downloaded as part of the ServletResponse is corrupted and contains junk characters. \r\n\r\n      outStream = response.getOutputStream(); //ServletOutputStream outStream\r\n      workbook.write(outStream); //HSSFWorkBook/XSSFWorkBook\r\n      workbook.close();\r\n      outStream.flush();\r\n\r\n\r\nI have tried writing the excel file onto FileOutputStream and it works fine. The excel file is readable and intact. \r\n\r\nHad checked several other StackOverflow queries on the same issue. Had tried changing the Content Type of servlet response to &quot;application/excel&quot;, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;, &quot;application/vnd.ms-excel&quot; etc. But the issue still persists.\r\n\r\nHowever, I need to write the excel to ServletOutputStream (aware of the binary nature of the servlet output stream and had also tried writing excel to ByteOutputStream and then writing from the derived ByteOuputArray to ServletOutputStream). \r\n\r\nPlease help.\r\n\r\nPS: This code has been done from both JSP and Java Servlet class. Both produce the same outcome.\r\n\r\n","title":"Excel file exported to ServletOutputStream is corrupted","body":"<p>I am writing an excel file onto ServletOutputStream (using HSSFWorkBook for xls and XSSFWorkBook for xlsx). The excel that gets downloaded as part of the ServletResponse is corrupted and contains junk characters.</p>\n<pre><code>  outStream = response.getOutputStream(); //ServletOutputStream outStream\n  workbook.write(outStream); //HSSFWorkBook/XSSFWorkBook\n  workbook.close();\n  outStream.flush();\n</code></pre>\n<p>I have tried writing the excel file onto FileOutputStream and it works fine. The excel file is readable and intact.</p>\n<p>Had checked several other StackOverflow queries on the same issue. Had tried changing the Content Type of servlet response to &quot;application/excel&quot;, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;, &quot;application/vnd.ms-excel&quot; etc. But the issue still persists.</p>\n<p>However, I need to write the excel to ServletOutputStream (aware of the binary nature of the servlet output stream and had also tried writing excel to ByteOutputStream and then writing from the derived ByteOuputArray to ServletOutputStream).</p>\n<p>Please help.</p>\n<p>PS: This code has been done from both JSP and Java Servlet class. Both produce the same outcome.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638625201,"creation_date":1638625201,"answer_id":70226106,"question_id":70221136,"body_markdown":"I had to set it manually. I&#39;m not sure is there a way to set it in the entity bean itself. But I set it manually in the service layer.","title":"How to set creationUserID from user entity to the Accounts entity","body":"<p>I had to set it manually. I'm not sure is there a way to set it in the entity bean itself. But I set it manually in the service layer.</p>\n"}],"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638625201,"creation_date":1638568872,"question_id":70221136,"body_markdown":"In my application, when a user creates an account, it will pass the user details. The creationUserID in the ACCOUNT table is the userId of the User table. Below is the JSON request structure.\r\n\r\n```json\r\n{\r\n    &quot;accountNo&quot;:1001,\r\n\t&quot;balance&quot;:4000,    \r\n\t&quot;ownerOfTheAccount&quot; : {\r\n\t\t&quot;userID&quot;: 4,\r\n\t\t&quot;fName&quot; : &quot;Dan&quot;,\r\n\t\t&quot;lName&quot;:&quot;Brown&quot;,\r\n\t\t&quot;email&quot; :&quot;dan@brown&quot;\r\n\t}\r\n}\r\n```\r\n\r\nI want to set the creationUserID to the accounts entity. The creation user ID needs to taken from the user entity. How can I set the userID =4 in my example, as the creationUserID field in the ACCOUNT entity? I&#39;m new to JPA.\r\n\r\n```sql\r\ncreate table ACCOUNT (\r\n  account_number int (10) not null primary key,\r\n  balance float (20) not null,\r\n  user_id  varchar_ignorecase (25) not null,\r\n  creation_date AS CURRENT_TIMESTAMP(),\r\n                 \r\n  constraint fk_account_customer foreign key(user_id) references USERS(user_id)\r\n);\r\n```\r\n\r\nUser entity and Account entity have OneToOne mapping.","title":"How to set creationUserID from user entity to the Accounts entity","body":"<p>In my application, when a user creates an account, it will pass the user details. The creationUserID in the ACCOUNT table is the userId of the User table. Below is the JSON request structure.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;accountNo&quot;:1001,\n    &quot;balance&quot;:4000,    \n    &quot;ownerOfTheAccount&quot; : {\n        &quot;userID&quot;: 4,\n        &quot;fName&quot; : &quot;Dan&quot;,\n        &quot;lName&quot;:&quot;Brown&quot;,\n        &quot;email&quot; :&quot;dan@brown&quot;\n    }\n}\n</code></pre>\n<p>I want to set the creationUserID to the accounts entity. The creation user ID needs to taken from the user entity. How can I set the userID =4 in my example, as the creationUserID field in the ACCOUNT entity? I'm new to JPA.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table ACCOUNT (\n  account_number int (10) not null primary key,\n  balance float (20) not null,\n  user_id  varchar_ignorecase (25) not null,\n  creation_date AS CURRENT_TIMESTAMP(),\n                 \n  constraint fk_account_customer foreign key(user_id) references USERS(user_id)\n);\n</code></pre>\n<p>User entity and Account entity have OneToOne mapping.</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":0,"creation_date":1638612108,"post_id":70224600,"comment_id":124138156,"body_markdown":"Do you mean group by column 1? Would you please share sample input and expected output?","body":"Do you mean group by column 1? Would you please share sample input and expected output?"},{"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"score":0,"creation_date":1638613177,"post_id":70224600,"comment_id":124138348,"body_markdown":"For instance, there is multiple column that have the same value(eg: Malaysia), but they are under one row named &quot;Country&quot;. Therefore, I would like to combine all data in one column named &quot;Malaysia&quot;.","body":"For instance, there is multiple column that have the same value(eg: Malaysia), but they are under one row named &quot;Country&quot;. Therefore, I would like to combine all data in one column named &quot;Malaysia&quot;."},{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":0,"creation_date":1638613382,"post_id":70224600,"comment_id":124138382,"body_markdown":"Got it. I think you are interchanging rows and columns. Each line of your CSV is a row and each command separated value in a row is a column. I assume you would like to group data by column `Country` and that happens to be the first column. Again, request you edit the question to share sample input and output.","body":"Got it. I think you are interchanging rows and columns. Each line of your CSV is a row and each command separated value in a row is a column. I assume you would like to group data by column <code>Country</code> and that happens to be the first column. Again, request you edit the question to share sample input and output."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1638613876,"post_id":70224600,"comment_id":124138467,"body_markdown":"I strongly suggest that you use a CSV parser instead. If any of the field values contains the delimiter character, your code will break.","body":"I strongly suggest that you use a CSV parser instead. If any of the field values contains the delimiter character, your code will break."},{"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"score":0,"creation_date":1638616536,"post_id":70224600,"comment_id":124138882,"body_markdown":"What error do you get? A compile time error, or a runtime error? Please paste the error you get.","body":"What error do you get? A compile time error, or a runtime error? Please paste the error you get."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639068412,"post_id":70224600,"comment_id":124259668,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638624586,"creation_date":1638624586,"answer_id":70226043,"question_id":70224600,"body_markdown":"A couple of things:\r\n\r\n 1. While grouping you are referring to `line[1]` incorrectly. `line` variable can&#39;t be accessed there.\r\n 2. `Collectors.groupingBy(Function, Collector)` takes a function and collector\r\n 3. When grouping is done the result will be a `Map` with grouping value as the key in the `Map` (in this case String). Hence the result type has to be changed from `List&lt;List&lt;String&gt;&gt;` to `Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt;`\r\n\r\nHere is the running example code:\r\n```java\r\npackage org.openapex.samples.misc.parse.csv;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ReadAndGroup70224600 {\r\n    private final static String COMMA_DELIMITER = &quot;,&quot;;\r\n    public static void main(String[] args) throws IOException{\r\n        readCSVFile(&quot;/resource/population.csv&quot;);\r\n    }\r\n\r\n    public static Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; readCSVFile(String file) throws IOException {\r\n        Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; result = Files.readAllLines(Paths.get(file))\r\n                .stream()\r\n                .skip(1)\r\n                .map(line -&gt; Arrays.asList(line.split(COMMA_DELIMITER)))\r\n                .collect(Collectors.groupingBy(value -&gt; value.get(0), Collectors.toList()));\r\n        System.out.println(result);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nWith the following input:\r\n```csv\r\ncountry,city,population\r\nUSA,San Francisco,20000\r\nUSA,NewYork City,60000\r\nAustralia,Sydney,25000\r\nAustralia,Melbourne,22000\r\nUSA,Boston,40000\r\nEngland,London,70000\r\n\r\n```\r\nIt produces the following output:\r\n```\r\n{USA=[[USA, San Francisco, 20000], [USA, NewYork City, 60000], [USA, Boston, 40000]], England=[[England, London, 70000]], Australia=[[Australia, Sydney, 25000], [Australia, Melbourne, 22000]]}\r\n```","title":"Failed to group the data by row in CSV file with Java","body":"<p>A couple of things:</p>\n<ol>\n<li>While grouping you are referring to <code>line[1]</code> incorrectly. <code>line</code> variable can't be accessed there.</li>\n<li><code>Collectors.groupingBy(Function, Collector)</code> takes a function and collector</li>\n<li>When grouping is done the result will be a <code>Map</code> with grouping value as the key in the <code>Map</code> (in this case String). Hence the result type has to be changed from <code>List&lt;List&lt;String&gt;&gt;</code> to <code>Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt;</code></li>\n</ol>\n<p>Here is the running example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.openapex.samples.misc.parse.csv;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class ReadAndGroup70224600 {\n    private final static String COMMA_DELIMITER = &quot;,&quot;;\n    public static void main(String[] args) throws IOException{\n        readCSVFile(&quot;/resource/population.csv&quot;);\n    }\n\n    public static Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; readCSVFile(String file) throws IOException {\n        Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; result = Files.readAllLines(Paths.get(file))\n                .stream()\n                .skip(1)\n                .map(line -&gt; Arrays.asList(line.split(COMMA_DELIMITER)))\n                .collect(Collectors.groupingBy(value -&gt; value.get(0), Collectors.toList()));\n        System.out.println(result);\n        return result;\n    }\n}\n</code></pre>\n<p>With the following input:</p>\n<pre><code>country,city,population\nUSA,San Francisco,20000\nUSA,NewYork City,60000\nAustralia,Sydney,25000\nAustralia,Melbourne,22000\nUSA,Boston,40000\nEngland,London,70000\n\n</code></pre>\n<p>It produces the following output:</p>\n<pre><code>{USA=[[USA, San Francisco, 20000], [USA, NewYork City, 60000], [USA, Boston, 40000]], England=[[England, London, 70000]], Australia=[[Australia, Sydney, 25000], [Australia, Melbourne, 22000]]}\n</code></pre>\n"}],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638624586,"creation_date":1638611707,"question_id":70224600,"body_markdown":"Any clue why does there is an error on line[1] (cannot find symbol line)? I would like to group data based on row number 1 in the CSV file, but I failed to do so. \r\n```java\r\nprivate final static String COMMA_DELIMITER = &quot;,&quot;;\r\n     public List&lt;List&lt;String&gt;&gt; readCSVFile() throws IOException{\r\n          List&lt;List&lt;String&gt;&gt; result = Files.readAllLines(Paths.get(&quot;D:\\\\APLC\\\\time_series_covid19_confirmed_global.csv&quot;))\r\n                                         .stream()\r\n                                         .skip(1)\r\n                                         .map(line -&gt; Arrays.asList(line.split(COMMA_DELIMITER)))\r\n                                         .collect(Collectors.groupingBy(line[1]).toList()); \r\n          return result; \r\n     }\r\n}\r\n```\r\n\r\nSample Output:\r\nFROM:\r\n| Country| 20/06/2021| 21/06/2021 |\r\n|:---- |:------:| -----:|\r\n| Malaysia| 1 | 2 |\r\n| Malaysia| 1 | 2 |\r\n| Malaysia| 1 | 2 |\r\n\r\n\r\nTO: \r\n| Country| 20/06/2021| 21/06/2021 |\r\n|:---- |:------:| -----:|\r\n| Malaysia| 3 | 6 |\r\n","title":"Failed to group the data by row in CSV file with Java","body":"<p>Any clue why does there is an error on line[1] (cannot find symbol line)? I would like to group data based on row number 1 in the CSV file, but I failed to do so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final static String COMMA_DELIMITER = &quot;,&quot;;\n     public List&lt;List&lt;String&gt;&gt; readCSVFile() throws IOException{\n          List&lt;List&lt;String&gt;&gt; result = Files.readAllLines(Paths.get(&quot;D:\\\\APLC\\\\time_series_covid19_confirmed_global.csv&quot;))\n                                         .stream()\n                                         .skip(1)\n                                         .map(line -&gt; Arrays.asList(line.split(COMMA_DELIMITER)))\n                                         .collect(Collectors.groupingBy(line[1]).toList()); \n          return result; \n     }\n}\n</code></pre>\n<p>Sample Output:\nFROM:\n| Country| 20/06/2021| 21/06/2021 |\n|:---- |:------:| -----:|\n| Malaysia| 1 | 2 |\n| Malaysia| 1 | 2 |\n| Malaysia| 1 | 2 |</p>\n<p>TO:\n| Country| 20/06/2021| 21/06/2021 |\n|:---- |:------:| -----:|\n| Malaysia| 3 | 6 |</p>\n"},{"tags":["java","visual-studio-code","vscode-code-runner"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1638753929,"post_id":70226030,"comment_id":124165138,"body_markdown":"Use Java extension to run again. see if the error goes away.","body":"Use Java extension to run again. see if the error goes away."},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1638841014,"post_id":70226030,"comment_id":124189877,"body_markdown":"Install this extension if you want to have full support for java: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack","body":"Install this extension if you want to have full support for java: <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a>"}],"owner":{"account_id":23412119,"reputation":43,"user_id":17473630,"display_name":"Wassim BEN FATMA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638624463,"creation_date":1638624463,"question_id":70226030,"body_markdown":"hope you doing great. So,I&#39;ve been newly coding java on vscode using code-runner extension and i&#39;ve encountred an issue:\r\n\r\n&gt; Main method not found in class MultiplyFun, please define the main method or a JavaFX application class must extend javafx.application.Application.\r\n\r\nhere&#39;s my code\r\nNotice: i wanted to make a main class to execute all\r\n\r\n    class MultiplyFun {\r\n    \r\n          // Method with 2 parameter\r\n          static int Multiply(int a, int b) {\r\n                return a * b;\r\n          }\r\n    \r\n          // Method with the same name but 2 double parameter\r\n          static double Multiply(double a, double b) {\r\n                return a * b;\r\n          }\r\n    }\r\n    \r\n    class Main {\r\n          public static void main(String[] args) {\r\n                System.out.println(MultiplyFun.Multiply(2, 4));\r\n                System.out.println(MultiplyFun.Multiply(5.5, 6.3));\r\n          }\r\n    }\r\n\r\n","title":"VS code-runner:Main method not found in class,please define the main method or a JavaFX application class must extend javafx.application.Application","body":"<p>hope you doing great. So,I've been newly coding java on vscode using code-runner extension and i've encountred an issue:</p>\n<blockquote>\n<p>Main method not found in class MultiplyFun, please define the main method or a JavaFX application class must extend javafx.application.Application.</p>\n</blockquote>\n<p>here's my code\nNotice: i wanted to make a main class to execute all</p>\n<pre><code>class MultiplyFun {\n\n      // Method with 2 parameter\n      static int Multiply(int a, int b) {\n            return a * b;\n      }\n\n      // Method with the same name but 2 double parameter\n      static double Multiply(double a, double b) {\n            return a * b;\n      }\n}\n\nclass Main {\n      public static void main(String[] args) {\n            System.out.println(MultiplyFun.Multiply(2, 4));\n            System.out.println(MultiplyFun.Multiply(5.5, 6.3));\n      }\n}\n</code></pre>\n"},{"tags":["java","date","calendar","formatting","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638622605,"post_id":5621825,"comment_id":124139904,"body_markdown":"For new readers to this question I recommend you neither use `GregorianCalendar` nor `SimpleDateFormat`. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use for example `LocalDate` or `ZonedDteTime` and also `DateTimeFormatter`. All are from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For new readers to this question I recommend you neither use <code>GregorianCalendar</code> nor <code>SimpleDateFormat</code>. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use for example <code>LocalDate</code> or <code>ZonedDteTime</code> and also <code>DateTimeFormatter</code>. All are from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":30849,"reputation":39971,"user_id":84378,"accept_rate":85,"display_name":"Reverend Gonzo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302527666,"creation_date":1302527666,"answer_id":5621866,"question_id":5621825,"body_markdown":"Calendar.getTime() returns a Date which can be used with SimpleDateFormat.","title":"How can I utilize SimpleDateFormat with Calendar?","body":"<p>Calendar.getTime() returns a Date which can be used with SimpleDateFormat.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1302527732,"creation_date":1302527732,"answer_id":5621883,"question_id":5621825,"body_markdown":"Simply call `calendar.getTime()` and pass the resulting `Date` object to the `format` method.","title":"How can I utilize SimpleDateFormat with Calendar?","body":"<p>Simply call <code>calendar.getTime()</code> and pass the resulting <code>Date</code> object to the <code>format</code> method.</p>\n"},{"tags":[],"owner":{"account_id":356606,"reputation":4953,"user_id":696216,"accept_rate":71,"display_name":"janhink"},"down_vote_count":2,"up_vote_count":110,"is_accepted":true,"score":108,"last_activity_date":1408027356,"creation_date":1302527789,"answer_id":5621893,"question_id":5621825,"body_markdown":"Try this:\r\n\r\n    Calendar cal = new GregorianCalendar();\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    dateFormat.setTimeZone(cal.getTimeZone());\r\n    System.out.println(dateFormat.format(cal.getTime()));\r\n\r\n","title":"How can I utilize SimpleDateFormat with Calendar?","body":"<p>Try this:</p>\n\n<pre><code>Calendar cal = new GregorianCalendar();\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\ndateFormat.setTimeZone(cal.getTimeZone());\nSystem.out.println(dateFormat.format(cal.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398636,"reputation":407,"user_id":763416,"display_name":"JamesKingston"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1336658174,"creation_date":1336658174,"answer_id":10535533,"question_id":5621825,"body_markdown":"eQui&#39;s answer is missing a step\r\n\r\n    Calendar cal = new GregorianCalendar();\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    #---- This uses the provided calendar for the output -----\r\n    dateFormat.setCalendar(cal); \r\n    System.out.println(dateFormat.format(cal.getTime()));","title":"How can I utilize SimpleDateFormat with Calendar?","body":"<p>eQui's answer is missing a step</p>\n\n<pre><code>Calendar cal = new GregorianCalendar();\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\n#---- This uses the provided calendar for the output -----\ndateFormat.setCalendar(cal); \nSystem.out.println(dateFormat.format(cal.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638624313,"creation_date":1638624313,"answer_id":70226010,"question_id":5621825,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date and time work. So not `GregorianCalendar`. Since a `GregorianCalendar` was holding all of date, time of day and time zone, the general modern substitute for it is `ZonedDateTime`.\r\n\r\nYou didnt specify what *needed output* would be. I am assuming that we want output for a human user. So use Javas built in localized format for the users locale:\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER\r\n\t\t\t= DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG)\r\n\t\t\t\t\t.withLocale(Locale.forLanguageTag(&quot;es&quot;));\r\n\r\nI specified Spanish language just as an example. If you want to use the JVMs default locale, you may either specify `Locale.getDefault(Locale.Category.FORMAT)` or leave out the call to `withLocale()` completely. Now formatting a `ZonedDateTime` is straightforward (and simpler than it was with a `GregorianCalendar`):\r\n\r\n\t\tZonedDateTime zdt = ZonedDateTime.of(\r\n\t\t\t\t2011, 4, 11, 19, 11, 15, 0, ZoneId.of(&quot;Australia/Perth&quot;));\r\n\t\tSystem.out.println(zdt.format(FORMATTER));\r\n\r\nOutput from this example:\r\n\r\n&gt; 11 de abril de 2011, 19:11:15 AWST\r\n\r\nIn case you only need dates and no time of day or time zone, you need two changes:\r\n\r\n 1. Use `LocalDate` instead of `ZonedDateTime`.\r\n 2. Use `DateTimeFormatter.ofLocalizedDate()` instead of `.ofLocalizedDateTime()`.\r\n\r\n## What if I really got a `GregorianCalendar`?\r\n\r\nIf you got a `GregorianCalendar` from a legacy API not yet upgraded to java.time, convert to `ZonedDateTime`:\r\n\r\n\t\tGregorianCalendar cal = new GregorianCalendar(\r\n\t\t\t\tTimeZone.getTimeZone(ZoneId.of(&quot;Australia/Perth&quot;)));\r\n\t\tcal.set(2011, Calendar.APRIL, 11, 19, 11, 15);\r\n\t\tZonedDateTime zdt = cal.toZonedDateTime();\r\n\r\nThen proceed as before. Output will be the same.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"How can I utilize SimpleDateFormat with Calendar?","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date and time work. So not <code>GregorianCalendar</code>. Since a <code>GregorianCalendar</code> was holding all of date, time of day and time zone, the general modern substitute for it is <code>ZonedDateTime</code>.</p>\n<p>You didnt specify what <em>needed output</em> would be. I am assuming that we want output for a human user. So use Javas built in localized format for the users locale:</p>\n<pre><code>private static final DateTimeFormatter FORMATTER\n        = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG)\n                .withLocale(Locale.forLanguageTag(&quot;es&quot;));\n</code></pre>\n<p>I specified Spanish language just as an example. If you want to use the JVMs default locale, you may either specify <code>Locale.getDefault(Locale.Category.FORMAT)</code> or leave out the call to <code>withLocale()</code> completely. Now formatting a <code>ZonedDateTime</code> is straightforward (and simpler than it was with a <code>GregorianCalendar</code>):</p>\n<pre><code>    ZonedDateTime zdt = ZonedDateTime.of(\n            2011, 4, 11, 19, 11, 15, 0, ZoneId.of(&quot;Australia/Perth&quot;));\n    System.out.println(zdt.format(FORMATTER));\n</code></pre>\n<p>Output from this example:</p>\n<blockquote>\n<p>11 de abril de 2011, 19:11:15 AWST</p>\n</blockquote>\n<p>In case you only need dates and no time of day or time zone, you need two changes:</p>\n<ol>\n<li>Use <code>LocalDate</code> instead of <code>ZonedDateTime</code>.</li>\n<li>Use <code>DateTimeFormatter.ofLocalizedDate()</code> instead of <code>.ofLocalizedDateTime()</code>.</li>\n</ol>\n<h2>What if I really got a <code>GregorianCalendar</code>?</h2>\n<p>If you got a <code>GregorianCalendar</code> from a legacy API not yet upgraded to java.time, convert to <code>ZonedDateTime</code>:</p>\n<pre><code>    GregorianCalendar cal = new GregorianCalendar(\n            TimeZone.getTimeZone(ZoneId.of(&quot;Australia/Perth&quot;)));\n    cal.set(2011, Calendar.APRIL, 11, 19, 11, 15);\n    ZonedDateTime zdt = cal.toZonedDateTime();\n</code></pre>\n<p>Then proceed as before. Output will be the same.</p>\n<h2>Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":120418,"reputation":6408,"user_id":312853,"accept_rate":99,"display_name":"Denys S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97300,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":5621893,"answer_count":5,"score":74,"last_activity_date":1638624313,"creation_date":1302527510,"question_id":5621825,"body_markdown":"I&#39;ve got GregorianCalendar instances and need to use SimpleDateFormat (or maybe something that can be used with calendar but that provides required #fromat() feature) to get needed output. Please, suggest work arounds as good as permanent solutions. ","title":"How can I utilize SimpleDateFormat with Calendar?","body":"<p>I've got GregorianCalendar instances and need to use SimpleDateFormat (or maybe something that can be used with calendar but that provides required #fromat() feature) to get needed output. Please, suggest work arounds as good as permanent solutions. </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":3,"creation_date":1638621106,"post_id":70225553,"comment_id":124139601,"body_markdown":"What do you have in production? Any application server, images, container, any cloud provider? War requires application server... Spring-boot jar contains tomcat embedded","body":"What do you have in production? Any application server, images, container, any cloud provider? War requires application server... Spring-boot jar contains tomcat embedded"}],"answers":[{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1638623569,"creation_date":1638620950,"answer_id":70225578,"question_id":70225553,"body_markdown":"It really depends on how you deploy the software in production,\r\n  \r\n- If you use an **external** application server, like Apache Tomcat for example, which is installed in a production environment, then I would probably say `war`.\r\n- If you use the **embedded** application server provided by spring-boot, I would say `jar`. This scenario is most common in cloud production environments or when your result will be a docker image.\r\n- I have also seen in the past the deployment of a web Java project by directly copying the build result from the `target` directory of the project (using for example `mvn package`) to the production Tomcat. I mean by copying the directories WEB-INF, META-INF etc from your` target/artifactId-version` directory to the production location `tomcat-home/webapps/ROOT/` directory (or whichever the root directory of your project is located in production -  if you use virtual hosts).\r\n  \r\nI am not an expert in devops and cloud technologies, this is my opinion in this generic question. If you add more information about your production environment you will probably receive more specific answers.","title":"Which is better in production environment, jar or war?","body":"<p>It really depends on how you deploy the software in production,</p>\n<ul>\n<li>If you use an <strong>external</strong> application server, like Apache Tomcat for example, which is installed in a production environment, then I would probably say <code>war</code>.</li>\n<li>If you use the <strong>embedded</strong> application server provided by spring-boot, I would say <code>jar</code>. This scenario is most common in cloud production environments or when your result will be a docker image.</li>\n<li>I have also seen in the past the deployment of a web Java project by directly copying the build result from the <code>target</code> directory of the project (using for example <code>mvn package</code>) to the production Tomcat. I mean by copying the directories WEB-INF, META-INF etc from your<code> target/artifactId-version</code> directory to the production location <code>tomcat-home/webapps/ROOT/</code> directory (or whichever the root directory of your project is located in production -  if you use virtual hosts).</li>\n</ul>\n<p>I am not an expert in devops and cloud technologies, this is my opinion in this generic question. If you add more information about your production environment you will probably receive more specific answers.</p>\n"}],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1638625877,"answer_count":1,"score":-3,"last_activity_date":1638624244,"creation_date":1638620719,"question_id":70225553,"body_markdown":"I use spring boot and which is better to have in production environment, `jar` or `war`?\r\n\r\nProduction environment has Tomcat and Weblogic. ","title":"Which is better in production environment, jar or war?","body":"<p>I use spring boot and which is better to have in production environment, <code>jar</code> or <code>war</code>?</p>\n<p>Production environment has Tomcat and Weblogic.</p>\n"},{"tags":["java","spark-java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1638589122,"post_id":70222836,"comment_id":124135401,"body_markdown":"Have you confirmed that after post-ing your new records are actually in your database?","body":"Have you confirmed that after post-ing your new records are actually in your database?"},{"owner":{"account_id":23540923,"reputation":1,"user_id":17585125,"display_name":"HamdanAs"},"score":0,"creation_date":1638593448,"post_id":70222836,"comment_id":124135783,"body_markdown":"yes, i&#39;ve posting 10 records, and for each record, i check it eventualy... the data will show using GET Method again if i restart the program","body":"yes, i&#39;ve posting 10 records, and for each record, i check it eventualy... the data will show using GET Method again if i restart the program"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":2,"creation_date":1638618488,"post_id":70222836,"comment_id":124139179,"body_markdown":"Probably not Apache Spark related. Can you remove the tag?","body":"Probably not Apache Spark related. Can you remove the tag?"}],"owner":{"account_id":23540923,"reputation":1,"user_id":17585125,"display_name":"HamdanAs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638623127,"creation_date":1638588668,"question_id":70222836,"body_markdown":"So, this is the problem... when i insert new data to database using post method, it worked, the med table in database have new data. but when i fetch the data using GET Method, the data i inserted last time not showing.\r\n\r\ni use spark for routing and rest client to test the endpoint. i&#39;ve tried to render the data using react js but its the same, not rendering latest data.\r\n\r\nthis is the route : \r\n```\r\npublic static void main(String[] args) {\r\n        options(&quot;/*&quot;, (request, response) -&gt; {\r\n\r\n            String accessControlRequestHeaders = request.headers(&quot;Access-Control-Request-Headers&quot;);\r\n            if (accessControlRequestHeaders != null) {\r\n                response.header(&quot;Access-Control-Allow-Headers&quot;, accessControlRequestHeaders);\r\n            }\r\n\r\n            String accessControlRequestMethod = request.headers(&quot;Access-Control-Request-Method&quot;);\r\n            if (accessControlRequestMethod != null) {\r\n                response.header(&quot;Access-Control-Allow-Methods&quot;, accessControlRequestMethod);\r\n            }\r\n\r\n            return &quot;OK&quot;;\r\n        });\r\n\r\n        // -- Check the authentication\r\n        before((Filter) (req, res) -&gt; {\r\n            validateLogin(CommonUtils.getJsonConvertor(), req);\r\n\r\n            res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,PUT,PATCH,POST,DELETE&quot;);\r\n            res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Content-Type, X-Auth-Token&quot;);\r\n            res.header(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\r\n            System.out.println(&quot;API Endpoint accessed&quot;);\r\n        });\r\n\r\n        after((req, res) -&gt; {\r\n            res.type(Constants.STANDARD_RESPONSE_CONTENTTYPE);\r\n        });\r\n\r\n        // -- Handle the exceptions\r\n        handleExceptions(CommonUtils.getJsonConvertor());\r\n\r\n        new AuthController(CommonUtils.getJsonConvertor());\r\n        new MedController(CommonUtils.getJsonConvertor());\r\n    }\r\n```\r\n\r\n```\r\npublic void initializeController(final Gson jsonConverter) {\r\n        get(&quot;/med&quot;, (req, res) -&gt; {\r\n            return getAll();\r\n        }, CommonUtils.getJsonTransformer());\r\n\r\n        get(&quot;/med/:id&quot;, (req, res) -&gt; {\r\n            return find(req);\r\n        }, CommonUtils.getJsonTransformer());\r\n\r\n        post(&quot;/med&quot;, (req, res) -&gt; {\r\n            return insert(jsonConverter, req, res);\r\n        }, CommonUtils.getJsonTransformer());\r\n\r\n        put(&quot;/med/:id&quot;, (req, res) -&gt; {\r\n            return update(jsonConverter, req, res);\r\n        }, CommonUtils.getJsonTransformer());\r\n\r\n        delete(&quot;/med/:id&quot;, (req, res) -&gt; {\r\n            return deleteById(req, res);\r\n        }, CommonUtils.getJsonTransformer());\r\n    }\r\n```\r\n\r\n\r\n","title":"GET Method not fetching latest data i POSTED Java and Spark","body":"<p>So, this is the problem... when i insert new data to database using post method, it worked, the med table in database have new data. but when i fetch the data using GET Method, the data i inserted last time not showing.</p>\n<p>i use spark for routing and rest client to test the endpoint. i've tried to render the data using react js but its the same, not rendering latest data.</p>\n<p>this is the route :</p>\n<pre><code>public static void main(String[] args) {\n        options(&quot;/*&quot;, (request, response) -&gt; {\n\n            String accessControlRequestHeaders = request.headers(&quot;Access-Control-Request-Headers&quot;);\n            if (accessControlRequestHeaders != null) {\n                response.header(&quot;Access-Control-Allow-Headers&quot;, accessControlRequestHeaders);\n            }\n\n            String accessControlRequestMethod = request.headers(&quot;Access-Control-Request-Method&quot;);\n            if (accessControlRequestMethod != null) {\n                response.header(&quot;Access-Control-Allow-Methods&quot;, accessControlRequestMethod);\n            }\n\n            return &quot;OK&quot;;\n        });\n\n        // -- Check the authentication\n        before((Filter) (req, res) -&gt; {\n            validateLogin(CommonUtils.getJsonConvertor(), req);\n\n            res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n            res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,PUT,PATCH,POST,DELETE&quot;);\n            res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Content-Type, X-Auth-Token&quot;);\n            res.header(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n\n            System.out.println(&quot;API Endpoint accessed&quot;);\n        });\n\n        after((req, res) -&gt; {\n            res.type(Constants.STANDARD_RESPONSE_CONTENTTYPE);\n        });\n\n        // -- Handle the exceptions\n        handleExceptions(CommonUtils.getJsonConvertor());\n\n        new AuthController(CommonUtils.getJsonConvertor());\n        new MedController(CommonUtils.getJsonConvertor());\n    }\n</code></pre>\n<pre><code>public void initializeController(final Gson jsonConverter) {\n        get(&quot;/med&quot;, (req, res) -&gt; {\n            return getAll();\n        }, CommonUtils.getJsonTransformer());\n\n        get(&quot;/med/:id&quot;, (req, res) -&gt; {\n            return find(req);\n        }, CommonUtils.getJsonTransformer());\n\n        post(&quot;/med&quot;, (req, res) -&gt; {\n            return insert(jsonConverter, req, res);\n        }, CommonUtils.getJsonTransformer());\n\n        put(&quot;/med/:id&quot;, (req, res) -&gt; {\n            return update(jsonConverter, req, res);\n        }, CommonUtils.getJsonTransformer());\n\n        delete(&quot;/med/:id&quot;, (req, res) -&gt; {\n            return deleteById(req, res);\n        }, CommonUtils.getJsonTransformer());\n    }\n</code></pre>\n"},{"tags":["java","makefile","javac"],"answers":[{"tags":[],"owner":{"account_id":20199571,"reputation":69,"user_id":14815658,"display_name":"marti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638622535,"creation_date":1638621466,"answer_id":70225645,"question_id":70225549,"body_markdown":"Got it using the -cp option:\r\n\r\n    -cp ./src","title":"Why is my makefile not compiling a java interface?","body":"<p>Got it using the -cp option:</p>\n<pre><code>-cp ./src\n</code></pre>\n"}],"owner":{"account_id":20199571,"reputation":69,"user_id":14815658,"display_name":"marti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638622535,"creation_date":1638620692,"question_id":70225549,"body_markdown":"I have a makefile to compile several .java files. It seems to locate the files just fine. However, when it attempts to compile the first java file it says that it cannot find symbol for State. State is an interface, and the only interface in my project.\r\n\r\n    javac src/hw4/ClosedState.java\r\n    src/hw4/ClosedState.java:3: error: cannot find symbol\r\n    public class ClosedState implements State {\r\n                                        ^\r\n      symbol: class State\r\n    src/hw4/ClosedState.java:6: error: cannot find symbol\r\n        public void doAction(Context context) { context.setState(this); }\r\n                             ^\r\n      symbol:   class Context\r\n      location: class ClosedState\r\n    src/hw4/ClosedState.java:5: error: method does not override or implement a method from a supertype\r\n        @Override\r\n        ^\r\n    3 errors\r\n\r\nThis is my makefile:\r\n\r\n    JAVAC=javac\r\n    sources = $(shell find ./src/hw4/ -type f -name &#39;*.java&#39;)\r\n    classes = $(sources:.java=.class)\r\n    \r\n    all: myProgram jar clean\r\n    \r\n    myProgram: $(classes)\r\n    \r\n    clean :\r\n            rm -f *.class\r\n    \r\n    %.class : %.java\r\n            $(JAVAC) $&lt;\r\n    \r\n    jar: $(classes)\r\n            jar cvf dl.jar $(classes)\r\n\r\n&#39;hw4&#39; is the package name and I am running the makefile from outside the src directory.","title":"Why is my makefile not compiling a java interface?","body":"<p>I have a makefile to compile several .java files. It seems to locate the files just fine. However, when it attempts to compile the first java file it says that it cannot find symbol for State. State is an interface, and the only interface in my project.</p>\n<pre><code>javac src/hw4/ClosedState.java\nsrc/hw4/ClosedState.java:3: error: cannot find symbol\npublic class ClosedState implements State {\n                                    ^\n  symbol: class State\nsrc/hw4/ClosedState.java:6: error: cannot find symbol\n    public void doAction(Context context) { context.setState(this); }\n                         ^\n  symbol:   class Context\n  location: class ClosedState\nsrc/hw4/ClosedState.java:5: error: method does not override or implement a method from a supertype\n    @Override\n    ^\n3 errors\n</code></pre>\n<p>This is my makefile:</p>\n<pre><code>JAVAC=javac\nsources = $(shell find ./src/hw4/ -type f -name '*.java')\nclasses = $(sources:.java=.class)\n\nall: myProgram jar clean\n\nmyProgram: $(classes)\n\nclean :\n        rm -f *.class\n\n%.class : %.java\n        $(JAVAC) $&lt;\n\njar: $(classes)\n        jar cvf dl.jar $(classes)\n</code></pre>\n<p>'hw4' is the package name and I am running the makefile from outside the src directory.</p>\n"},{"tags":["java","utf-8","byte-order-mark"],"comments":[{"owner":{"account_id":33225,"reputation":15469,"user_id":92813,"accept_rate":71,"display_name":"Chris"},"score":0,"creation_date":1343153692,"post_id":1835430,"comment_id":15413545,"body_markdown":"maybe: http://www.rgagnon.com/javadetails/java-handle-utf8-file-with-bom.html","body":"maybe: <a href=\"http://www.rgagnon.com/javadetails/java-handle-utf8-file-with-bom.html\" rel=\"nofollow noreferrer\">rgagnon.com/javadetails/java-handle-utf8-file-with-bom.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1259784541,"creation_date":1259784541,"answer_id":1835455,"question_id":1835430,"body_markdown":"Regrettably not. You&#39;ll have to identify and skip yourself. [This page][1] details what you have to watch for. Also see [this SO question][2] for more details.\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/bom.html\r\n  [2]: https://stackoverflow.com/questions/712004/does-java-have-methods-to-get-the-various-byte-order-marks","title":"Byte order mark screws up file reading in Java","body":"<p>Regrettably not. You'll have to identify and skip yourself. <a href=\"http://mindprod.com/jgloss/bom.html\" rel=\"nofollow noreferrer\">This page</a> details what you have to watch for. Also see <a href=\"https://stackoverflow.com/questions/712004/does-java-have-methods-to-get-the-various-byte-order-marks\">this SO question</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":75307,"reputation":69281,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"down_vote_count":1,"up_vote_count":127,"is_accepted":true,"score":126,"last_activity_date":1419254088,"creation_date":1259785241,"answer_id":1835529,"question_id":1835430,"body_markdown":"**EDIT**: I&#39;ve made a proper release on GitHub: https://github.com/gpakosz/UnicodeBOMInputStream\r\n\r\n----\r\n\r\nHere is a class I coded a while ago, I just edited the package name before pasting. Nothing special, it is quite similar to solutions posted in SUN&#39;s bug database. Incorporate it in your code and you&#39;re fine.\r\n\r\n\r\n    /* ____________________________________________________________________________\r\n     * \r\n     * File:    UnicodeBOMInputStream.java\r\n     * Author:  Gregory Pakosz.\r\n     * Date:    02 - November - 2005    \r\n     * ____________________________________________________________________________\r\n     */\r\n    package com.stackoverflow.answer;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.PushbackInputStream;\r\n    \r\n    /**\r\n     * The &lt;code&gt;UnicodeBOMInputStream&lt;/code&gt; class wraps any\r\n     * &lt;code&gt;InputStream&lt;/code&gt; and detects the presence of any Unicode BOM\r\n     * (Byte Order Mark) at its beginning, as defined by\r\n     * &lt;a href=&quot;http://www.faqs.org/rfcs/rfc3629.html&quot;&gt;RFC 3629 - UTF-8, a transformation format of ISO 10646&lt;/a&gt;\r\n     * \r\n     * &lt;p&gt;The\r\n     * &lt;a href=&quot;http://www.unicode.org/unicode/faq/utf_bom.html&quot;&gt;Unicode FAQ&lt;/a&gt;\r\n     * defines 5 types of BOMs:&lt;ul&gt;\r\n     * &lt;li&gt;&lt;pre&gt;00 00 FE FF  = UTF-32, big-endian&lt;/pre&gt;&lt;/li&gt;\r\n     * &lt;li&gt;&lt;pre&gt;FF FE 00 00  = UTF-32, little-endian&lt;/pre&gt;&lt;/li&gt;\r\n     * &lt;li&gt;&lt;pre&gt;FE FF        = UTF-16, big-endian&lt;/pre&gt;&lt;/li&gt;\r\n     * &lt;li&gt;&lt;pre&gt;FF FE        = UTF-16, little-endian&lt;/pre&gt;&lt;/li&gt;\r\n     * &lt;li&gt;&lt;pre&gt;EF BB BF     = UTF-8&lt;/pre&gt;&lt;/li&gt;\r\n     * &lt;/ul&gt;&lt;/p&gt;\r\n     * \r\n     * &lt;p&gt;Use the {@link #getBOM()} method to know whether a BOM has been detected\r\n     * or not.\r\n     * &lt;/p&gt;\r\n     * &lt;p&gt;Use the {@link #skipBOM()} method to remove the detected BOM from the\r\n     * wrapped &lt;code&gt;InputStream&lt;/code&gt; object.&lt;/p&gt;\r\n     */\r\n    public class UnicodeBOMInputStream extends InputStream\r\n    {\r\n      /**\r\n       * Type safe enumeration class that describes the different types of Unicode\r\n       * BOMs.\r\n       */\r\n      public static final class BOM\r\n      {\r\n        /**\r\n         * NONE.\r\n         */\r\n        public static final BOM NONE = new BOM(new byte[]{},&quot;NONE&quot;);\r\n        \r\n        /**\r\n         * UTF-8 BOM (EF BB BF).\r\n         */\r\n        public static final BOM UTF_8 = new BOM(new byte[]{(byte)0xEF,\r\n                                                           (byte)0xBB,\r\n                                                           (byte)0xBF},\r\n                                                &quot;UTF-8&quot;);\r\n        \r\n        /**\r\n         * UTF-16, little-endian (FF FE).\r\n         */\r\n        public static final BOM UTF_16_LE = new BOM(new byte[]{ (byte)0xFF,\r\n                                                                (byte)0xFE},\r\n                                                    &quot;UTF-16 little-endian&quot;);\r\n        \r\n        /**\r\n         * UTF-16, big-endian (FE FF).\r\n         */\r\n        public static final BOM UTF_16_BE = new BOM(new byte[]{ (byte)0xFE,\r\n                                                                (byte)0xFF},\r\n                                                    &quot;UTF-16 big-endian&quot;);\r\n        \r\n        /**\r\n         * UTF-32, little-endian (FF FE 00 00).\r\n         */\r\n        public static final BOM UTF_32_LE = new BOM(new byte[]{ (byte)0xFF,\r\n                                                                (byte)0xFE,\r\n                                                                (byte)0x00,\r\n                                                                (byte)0x00},\r\n                                                    &quot;UTF-32 little-endian&quot;);\r\n        \r\n        /**\r\n         * UTF-32, big-endian (00 00 FE FF).\r\n         */\r\n        public static final BOM UTF_32_BE = new BOM(new byte[]{ (byte)0x00,\r\n                                                                (byte)0x00,\r\n                                                                (byte)0xFE,\r\n                                                                (byte)0xFF},\r\n                                                    &quot;UTF-32 big-endian&quot;);\r\n    \r\n        /**\r\n         * Returns a &lt;code&gt;String&lt;/code&gt; representation of this &lt;code&gt;BOM&lt;/code&gt;\r\n         * value.\r\n         */\r\n        public final String toString()\r\n        {\r\n          return description;\r\n        }\r\n        \r\n        /**\r\n         * Returns the bytes corresponding to this &lt;code&gt;BOM&lt;/code&gt; value.\r\n         */\r\n        public final byte[] getBytes()\r\n        {\r\n          final int     length = bytes.length;\r\n          final byte[]  result = new byte[length];\r\n          \r\n          // Make a defensive copy\r\n          System.arraycopy(bytes,0,result,0,length);\r\n          \r\n          return result;\r\n        }\r\n        \r\n        private BOM(final byte bom[], final String description)\r\n        {\r\n          assert(bom != null)               : &quot;invalid BOM: null is not allowed&quot;;\r\n          assert(description != null)       : &quot;invalid description: null is not allowed&quot;;\r\n          assert(description.length() != 0) : &quot;invalid description: empty string is not allowed&quot;;\r\n          \r\n          this.bytes          = bom;\r\n          this.description  = description;\r\n        }\r\n        \r\n                final byte    bytes[];\r\n        private final String  description;\r\n        \r\n      } // BOM\r\n      \r\n      /**\r\n       * Constructs a new &lt;code&gt;UnicodeBOMInputStream&lt;/code&gt; that wraps the\r\n       * specified &lt;code&gt;InputStream&lt;/code&gt;.\r\n       * \r\n       * @param inputStream an &lt;code&gt;InputStream&lt;/code&gt;.\r\n       * \r\n       * @throws NullPointerException when &lt;code&gt;inputStream&lt;/code&gt; is\r\n       * &lt;code&gt;null&lt;/code&gt;.\r\n       * @throws IOException on reading from the specified &lt;code&gt;InputStream&lt;/code&gt;\r\n       * when trying to detect the Unicode BOM.\r\n       */\r\n      public UnicodeBOMInputStream(final InputStream inputStream) throws  NullPointerException,\r\n                                                                          IOException\r\n                                                                          \r\n      {\r\n        if (inputStream == null)\r\n          throw new NullPointerException(&quot;invalid input stream: null is not allowed&quot;);\r\n        \r\n        in = new PushbackInputStream(inputStream,4);\r\n        \r\n        final byte  bom[] = new byte[4];\r\n        final int   read  = in.read(bom);\r\n        \r\n        switch(read)\r\n        {\r\n          case 4:\r\n            if ((bom[0] == (byte)0xFF) &amp;&amp;\r\n                (bom[1] == (byte)0xFE) &amp;&amp;\r\n                (bom[2] == (byte)0x00) &amp;&amp;\r\n                (bom[3] == (byte)0x00))\r\n            {\r\n              this.bom = BOM.UTF_32_LE;\r\n              break;\r\n            }\r\n            else\r\n            if ((bom[0] == (byte)0x00) &amp;&amp;\r\n                (bom[1] == (byte)0x00) &amp;&amp;\r\n                (bom[2] == (byte)0xFE) &amp;&amp;\r\n                (bom[3] == (byte)0xFF))\r\n            {\r\n              this.bom = BOM.UTF_32_BE;\r\n              break;\r\n            }\r\n    \r\n          case 3:\r\n            if ((bom[0] == (byte)0xEF) &amp;&amp;\r\n                (bom[1] == (byte)0xBB) &amp;&amp;\r\n                (bom[2] == (byte)0xBF))\r\n            {\r\n              this.bom = BOM.UTF_8;\r\n              break;\r\n            }\r\n    \r\n          case 2:\r\n            if ((bom[0] == (byte)0xFF) &amp;&amp;\r\n                (bom[1] == (byte)0xFE))\r\n            {\r\n              this.bom = BOM.UTF_16_LE;\r\n              break;\r\n            }\r\n            else\r\n            if ((bom[0] == (byte)0xFE) &amp;&amp;\r\n                (bom[1] == (byte)0xFF))\r\n            {\r\n              this.bom = BOM.UTF_16_BE;\r\n              break;\r\n            }\r\n    \r\n          default:\r\n            this.bom = BOM.NONE;\r\n            break;\r\n        }\r\n    \r\n        if (read &gt; 0)\r\n          in.unread(bom,0,read);\r\n      }\r\n      \r\n      /**\r\n       * Returns the &lt;code&gt;BOM&lt;/code&gt; that was detected in the wrapped\r\n       * &lt;code&gt;InputStream&lt;/code&gt; object.\r\n       * \r\n       * @return a &lt;code&gt;BOM&lt;/code&gt; value.\r\n       */\r\n      public final BOM getBOM()\r\n      {\r\n        // BOM type is immutable.\r\n        return bom;\r\n      }\r\n      \r\n      /**\r\n       * Skips the &lt;code&gt;BOM&lt;/code&gt; that was found in the wrapped\r\n       * &lt;code&gt;InputStream&lt;/code&gt; object.\r\n       * \r\n       * @return this &lt;code&gt;UnicodeBOMInputStream&lt;/code&gt;.\r\n       * \r\n       * @throws IOException when trying to skip the BOM from the wrapped\r\n       * &lt;code&gt;InputStream&lt;/code&gt; object.\r\n       */\r\n      public final synchronized UnicodeBOMInputStream skipBOM() throws IOException\r\n      {\r\n        if (!skipped)\r\n        {\r\n          in.skip(bom.bytes.length);\r\n          skipped = true;\r\n        }\r\n        return this;\r\n      }\r\n      \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public int read() throws IOException\r\n      {\r\n        return in.read();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public int read(final byte b[]) throws  IOException,\r\n                                              NullPointerException\r\n      {\r\n        return in.read(b,0,b.length);\r\n      }\r\n      \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public int read(final byte b[],\r\n                      final int off,\r\n                      final int len) throws IOException,\r\n                                            NullPointerException\r\n      {\r\n        return in.read(b,off,len);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public long skip(final long n) throws IOException\r\n      {\r\n        return in.skip(n);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public int available() throws IOException\r\n      {\r\n        return in.available();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public void close() throws IOException\r\n      {\r\n        in.close();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public synchronized void mark(final int readlimit)\r\n      {\r\n        in.mark(readlimit);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public synchronized void reset() throws IOException\r\n      {\r\n        in.reset();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      public boolean markSupported() \r\n      {\r\n        return in.markSupported();\r\n      }\r\n      \r\n      private final PushbackInputStream in;\r\n      private final BOM                 bom;\r\n      private       boolean             skipped = false;\r\n    \r\n    } // UnicodeBOMInputStream\r\n\r\nAnd you&#39;re using it this way:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public final class UnicodeBOMInputStreamUsage\r\n    {\r\n      public static void main(final String[] args) throws Exception\r\n      {\r\n        FileInputStream fis = new FileInputStream(&quot;test/offending_bom.txt&quot;);\r\n        UnicodeBOMInputStream ubis = new UnicodeBOMInputStream(fis);\r\n        \r\n        System.out.println(&quot;detected BOM: &quot; + ubis.getBOM());\r\n        \r\n        System.out.print(&quot;Reading the content of the file without skipping the BOM: &quot;);\r\n        InputStreamReader isr = new InputStreamReader(ubis);\r\n        BufferedReader br = new BufferedReader(isr);\r\n        \r\n        System.out.println(br.readLine());\r\n        \r\n        br.close();\r\n        isr.close();\r\n        ubis.close();\r\n        fis.close();\r\n        \r\n        fis = new FileInputStream(&quot;test/offending_bom.txt&quot;);\r\n        ubis = new UnicodeBOMInputStream(fis);\r\n        isr = new InputStreamReader(ubis);\r\n        br = new BufferedReader(isr);\r\n        \r\n        ubis.skipBOM();\r\n        \r\n        System.out.print(&quot;Reading the content of the file after skipping the BOM: &quot;);\r\n        System.out.println(br.readLine());\r\n        \r\n        br.close();\r\n        isr.close();\r\n        ubis.close();\r\n        fis.close();\r\n      }\r\n      \r\n    } // UnicodeBOMInputStreamUsage","title":"Byte order mark screws up file reading in Java","body":"<p><strong>EDIT</strong>: I've made a proper release on GitHub: <a href=\"https://github.com/gpakosz/UnicodeBOMInputStream\" rel=\"noreferrer\">https://github.com/gpakosz/UnicodeBOMInputStream</a></p>\n\n<hr>\n\n<p>Here is a class I coded a while ago, I just edited the package name before pasting. Nothing special, it is quite similar to solutions posted in SUN's bug database. Incorporate it in your code and you're fine.</p>\n\n<pre><code>/* ____________________________________________________________________________\n * \n * File:    UnicodeBOMInputStream.java\n * Author:  Gregory Pakosz.\n * Date:    02 - November - 2005    \n * ____________________________________________________________________________\n */\npackage com.stackoverflow.answer;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PushbackInputStream;\n\n/**\n * The &lt;code&gt;UnicodeBOMInputStream&lt;/code&gt; class wraps any\n * &lt;code&gt;InputStream&lt;/code&gt; and detects the presence of any Unicode BOM\n * (Byte Order Mark) at its beginning, as defined by\n * &lt;a href=\"http://www.faqs.org/rfcs/rfc3629.html\"&gt;RFC 3629 - UTF-8, a transformation format of ISO 10646&lt;/a&gt;\n * \n * &lt;p&gt;The\n * &lt;a href=\"http://www.unicode.org/unicode/faq/utf_bom.html\"&gt;Unicode FAQ&lt;/a&gt;\n * defines 5 types of BOMs:&lt;ul&gt;\n * &lt;li&gt;&lt;pre&gt;00 00 FE FF  = UTF-32, big-endian&lt;/pre&gt;&lt;/li&gt;\n * &lt;li&gt;&lt;pre&gt;FF FE 00 00  = UTF-32, little-endian&lt;/pre&gt;&lt;/li&gt;\n * &lt;li&gt;&lt;pre&gt;FE FF        = UTF-16, big-endian&lt;/pre&gt;&lt;/li&gt;\n * &lt;li&gt;&lt;pre&gt;FF FE        = UTF-16, little-endian&lt;/pre&gt;&lt;/li&gt;\n * &lt;li&gt;&lt;pre&gt;EF BB BF     = UTF-8&lt;/pre&gt;&lt;/li&gt;\n * &lt;/ul&gt;&lt;/p&gt;\n * \n * &lt;p&gt;Use the {@link #getBOM()} method to know whether a BOM has been detected\n * or not.\n * &lt;/p&gt;\n * &lt;p&gt;Use the {@link #skipBOM()} method to remove the detected BOM from the\n * wrapped &lt;code&gt;InputStream&lt;/code&gt; object.&lt;/p&gt;\n */\npublic class UnicodeBOMInputStream extends InputStream\n{\n  /**\n   * Type safe enumeration class that describes the different types of Unicode\n   * BOMs.\n   */\n  public static final class BOM\n  {\n    /**\n     * NONE.\n     */\n    public static final BOM NONE = new BOM(new byte[]{},\"NONE\");\n\n    /**\n     * UTF-8 BOM (EF BB BF).\n     */\n    public static final BOM UTF_8 = new BOM(new byte[]{(byte)0xEF,\n                                                       (byte)0xBB,\n                                                       (byte)0xBF},\n                                            \"UTF-8\");\n\n    /**\n     * UTF-16, little-endian (FF FE).\n     */\n    public static final BOM UTF_16_LE = new BOM(new byte[]{ (byte)0xFF,\n                                                            (byte)0xFE},\n                                                \"UTF-16 little-endian\");\n\n    /**\n     * UTF-16, big-endian (FE FF).\n     */\n    public static final BOM UTF_16_BE = new BOM(new byte[]{ (byte)0xFE,\n                                                            (byte)0xFF},\n                                                \"UTF-16 big-endian\");\n\n    /**\n     * UTF-32, little-endian (FF FE 00 00).\n     */\n    public static final BOM UTF_32_LE = new BOM(new byte[]{ (byte)0xFF,\n                                                            (byte)0xFE,\n                                                            (byte)0x00,\n                                                            (byte)0x00},\n                                                \"UTF-32 little-endian\");\n\n    /**\n     * UTF-32, big-endian (00 00 FE FF).\n     */\n    public static final BOM UTF_32_BE = new BOM(new byte[]{ (byte)0x00,\n                                                            (byte)0x00,\n                                                            (byte)0xFE,\n                                                            (byte)0xFF},\n                                                \"UTF-32 big-endian\");\n\n    /**\n     * Returns a &lt;code&gt;String&lt;/code&gt; representation of this &lt;code&gt;BOM&lt;/code&gt;\n     * value.\n     */\n    public final String toString()\n    {\n      return description;\n    }\n\n    /**\n     * Returns the bytes corresponding to this &lt;code&gt;BOM&lt;/code&gt; value.\n     */\n    public final byte[] getBytes()\n    {\n      final int     length = bytes.length;\n      final byte[]  result = new byte[length];\n\n      // Make a defensive copy\n      System.arraycopy(bytes,0,result,0,length);\n\n      return result;\n    }\n\n    private BOM(final byte bom[], final String description)\n    {\n      assert(bom != null)               : \"invalid BOM: null is not allowed\";\n      assert(description != null)       : \"invalid description: null is not allowed\";\n      assert(description.length() != 0) : \"invalid description: empty string is not allowed\";\n\n      this.bytes          = bom;\n      this.description  = description;\n    }\n\n            final byte    bytes[];\n    private final String  description;\n\n  } // BOM\n\n  /**\n   * Constructs a new &lt;code&gt;UnicodeBOMInputStream&lt;/code&gt; that wraps the\n   * specified &lt;code&gt;InputStream&lt;/code&gt;.\n   * \n   * @param inputStream an &lt;code&gt;InputStream&lt;/code&gt;.\n   * \n   * @throws NullPointerException when &lt;code&gt;inputStream&lt;/code&gt; is\n   * &lt;code&gt;null&lt;/code&gt;.\n   * @throws IOException on reading from the specified &lt;code&gt;InputStream&lt;/code&gt;\n   * when trying to detect the Unicode BOM.\n   */\n  public UnicodeBOMInputStream(final InputStream inputStream) throws  NullPointerException,\n                                                                      IOException\n\n  {\n    if (inputStream == null)\n      throw new NullPointerException(\"invalid input stream: null is not allowed\");\n\n    in = new PushbackInputStream(inputStream,4);\n\n    final byte  bom[] = new byte[4];\n    final int   read  = in.read(bom);\n\n    switch(read)\n    {\n      case 4:\n        if ((bom[0] == (byte)0xFF) &amp;&amp;\n            (bom[1] == (byte)0xFE) &amp;&amp;\n            (bom[2] == (byte)0x00) &amp;&amp;\n            (bom[3] == (byte)0x00))\n        {\n          this.bom = BOM.UTF_32_LE;\n          break;\n        }\n        else\n        if ((bom[0] == (byte)0x00) &amp;&amp;\n            (bom[1] == (byte)0x00) &amp;&amp;\n            (bom[2] == (byte)0xFE) &amp;&amp;\n            (bom[3] == (byte)0xFF))\n        {\n          this.bom = BOM.UTF_32_BE;\n          break;\n        }\n\n      case 3:\n        if ((bom[0] == (byte)0xEF) &amp;&amp;\n            (bom[1] == (byte)0xBB) &amp;&amp;\n            (bom[2] == (byte)0xBF))\n        {\n          this.bom = BOM.UTF_8;\n          break;\n        }\n\n      case 2:\n        if ((bom[0] == (byte)0xFF) &amp;&amp;\n            (bom[1] == (byte)0xFE))\n        {\n          this.bom = BOM.UTF_16_LE;\n          break;\n        }\n        else\n        if ((bom[0] == (byte)0xFE) &amp;&amp;\n            (bom[1] == (byte)0xFF))\n        {\n          this.bom = BOM.UTF_16_BE;\n          break;\n        }\n\n      default:\n        this.bom = BOM.NONE;\n        break;\n    }\n\n    if (read &gt; 0)\n      in.unread(bom,0,read);\n  }\n\n  /**\n   * Returns the &lt;code&gt;BOM&lt;/code&gt; that was detected in the wrapped\n   * &lt;code&gt;InputStream&lt;/code&gt; object.\n   * \n   * @return a &lt;code&gt;BOM&lt;/code&gt; value.\n   */\n  public final BOM getBOM()\n  {\n    // BOM type is immutable.\n    return bom;\n  }\n\n  /**\n   * Skips the &lt;code&gt;BOM&lt;/code&gt; that was found in the wrapped\n   * &lt;code&gt;InputStream&lt;/code&gt; object.\n   * \n   * @return this &lt;code&gt;UnicodeBOMInputStream&lt;/code&gt;.\n   * \n   * @throws IOException when trying to skip the BOM from the wrapped\n   * &lt;code&gt;InputStream&lt;/code&gt; object.\n   */\n  public final synchronized UnicodeBOMInputStream skipBOM() throws IOException\n  {\n    if (!skipped)\n    {\n      in.skip(bom.bytes.length);\n      skipped = true;\n    }\n    return this;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public int read() throws IOException\n  {\n    return in.read();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public int read(final byte b[]) throws  IOException,\n                                          NullPointerException\n  {\n    return in.read(b,0,b.length);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public int read(final byte b[],\n                  final int off,\n                  final int len) throws IOException,\n                                        NullPointerException\n  {\n    return in.read(b,off,len);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public long skip(final long n) throws IOException\n  {\n    return in.skip(n);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public int available() throws IOException\n  {\n    return in.available();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public void close() throws IOException\n  {\n    in.close();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public synchronized void mark(final int readlimit)\n  {\n    in.mark(readlimit);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public synchronized void reset() throws IOException\n  {\n    in.reset();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public boolean markSupported() \n  {\n    return in.markSupported();\n  }\n\n  private final PushbackInputStream in;\n  private final BOM                 bom;\n  private       boolean             skipped = false;\n\n} // UnicodeBOMInputStream\n</code></pre>\n\n<p>And you're using it this way:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.InputStreamReader;\n\npublic final class UnicodeBOMInputStreamUsage\n{\n  public static void main(final String[] args) throws Exception\n  {\n    FileInputStream fis = new FileInputStream(\"test/offending_bom.txt\");\n    UnicodeBOMInputStream ubis = new UnicodeBOMInputStream(fis);\n\n    System.out.println(\"detected BOM: \" + ubis.getBOM());\n\n    System.out.print(\"Reading the content of the file without skipping the BOM: \");\n    InputStreamReader isr = new InputStreamReader(ubis);\n    BufferedReader br = new BufferedReader(isr);\n\n    System.out.println(br.readLine());\n\n    br.close();\n    isr.close();\n    ubis.close();\n    fis.close();\n\n    fis = new FileInputStream(\"test/offending_bom.txt\");\n    ubis = new UnicodeBOMInputStream(fis);\n    isr = new InputStreamReader(ubis);\n    br = new BufferedReader(isr);\n\n    ubis.skipBOM();\n\n    System.out.print(\"Reading the content of the file after skipping the BOM: \");\n    System.out.println(br.readLine());\n\n    br.close();\n    isr.close();\n    ubis.close();\n    fis.close();\n  }\n\n} // UnicodeBOMInputStreamUsage\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1259840272,"creation_date":1259785794,"answer_id":1835577,"question_id":1835430,"body_markdown":"[Google Data API][1] has an [`UnicodeReader`][2] which automagically detects the encoding.\r\n\r\nYou can use it instead of `InputStreamReader`. Here&#39;s an -slightly compactized- extract of its source which is pretty straightforward:\r\n\r\n    public class UnicodeReader extends Reader {\r\n        private static final int BOM_SIZE = 4;\r\n        private final InputStreamReader reader;\r\n    \r\n        /**\r\n         * Construct UnicodeReader\r\n         * @param in Input stream.\r\n         * @param defaultEncoding Default encoding to be used if BOM is not found,\r\n         * or &lt;code&gt;null&lt;/code&gt; to use system default encoding.\r\n         * @throws IOException If an I/O error occurs.\r\n         */\r\n        public UnicodeReader(InputStream in, String defaultEncoding) throws IOException {\r\n            byte bom[] = new byte[BOM_SIZE];\r\n            String encoding;\r\n            int unread;\r\n            PushbackInputStream pushbackStream = new PushbackInputStream(in, BOM_SIZE);\r\n            int n = pushbackStream.read(bom, 0, bom.length);\r\n    \r\n            // Read ahead four bytes and check for BOM marks.\r\n            if ((bom[0] == (byte) 0xEF) &amp;&amp; (bom[1] == (byte) 0xBB) &amp;&amp; (bom[2] == (byte) 0xBF)) {\r\n                encoding = &quot;UTF-8&quot;;\r\n                unread = n - 3;\r\n            } else if ((bom[0] == (byte) 0xFE) &amp;&amp; (bom[1] == (byte) 0xFF)) {\r\n                encoding = &quot;UTF-16BE&quot;;\r\n                unread = n - 2;\r\n            } else if ((bom[0] == (byte) 0xFF) &amp;&amp; (bom[1] == (byte) 0xFE)) {\r\n                encoding = &quot;UTF-16LE&quot;;\r\n                unread = n - 2;\r\n            } else if ((bom[0] == (byte) 0x00) &amp;&amp; (bom[1] == (byte) 0x00) &amp;&amp; (bom[2] == (byte) 0xFE) &amp;&amp; (bom[3] == (byte) 0xFF)) {\r\n                encoding = &quot;UTF-32BE&quot;;\r\n                unread = n - 4;\r\n            } else if ((bom[0] == (byte) 0xFF) &amp;&amp; (bom[1] == (byte) 0xFE) &amp;&amp; (bom[2] == (byte) 0x00) &amp;&amp; (bom[3] == (byte) 0x00)) {\r\n                encoding = &quot;UTF-32LE&quot;;\r\n                unread = n - 4;\r\n            } else {\r\n                encoding = defaultEncoding;\r\n                unread = n;\r\n            }\r\n    \r\n            // Unread bytes if necessary and skip BOM marks.\r\n            if (unread &gt; 0) {\r\n                pushbackStream.unread(bom, (n - unread), unread);\r\n            } else if (unread &lt; -1) {\r\n                pushbackStream.unread(bom, 0, 0);\r\n            }\r\n    \r\n            // Use given encoding.\r\n            if (encoding == null) {\r\n                reader = new InputStreamReader(pushbackStream);\r\n            } else {\r\n                reader = new InputStreamReader(pushbackStream, encoding);\r\n            }\r\n        }\r\n    \r\n        public String getEncoding() {\r\n            return reader.getEncoding();\r\n        }\r\n    \r\n        public int read(char[] cbuf, int off, int len) throws IOException {\r\n            return reader.read(cbuf, off, len);\r\n        }\r\n    \r\n        public void close() throws IOException {\r\n            reader.close();\r\n        }\r\n    }\r\n\r\n  [1]: http://code.google.com/apis/gdata/\r\n  [2]: http://code.google.com/apis/gdata/javadoc/com/google/gdata/util/io/base/UnicodeReader.html\r\n","title":"Byte order mark screws up file reading in Java","body":"<p><a href=\"http://code.google.com/apis/gdata/\" rel=\"noreferrer\">Google Data API</a> has an <a href=\"http://code.google.com/apis/gdata/javadoc/com/google/gdata/util/io/base/UnicodeReader.html\" rel=\"noreferrer\"><code>UnicodeReader</code></a> which automagically detects the encoding.</p>\n\n<p>You can use it instead of <code>InputStreamReader</code>. Here's an -slightly compactized- extract of its source which is pretty straightforward:</p>\n\n<pre><code>public class UnicodeReader extends Reader {\n    private static final int BOM_SIZE = 4;\n    private final InputStreamReader reader;\n\n    /**\n     * Construct UnicodeReader\n     * @param in Input stream.\n     * @param defaultEncoding Default encoding to be used if BOM is not found,\n     * or &lt;code&gt;null&lt;/code&gt; to use system default encoding.\n     * @throws IOException If an I/O error occurs.\n     */\n    public UnicodeReader(InputStream in, String defaultEncoding) throws IOException {\n        byte bom[] = new byte[BOM_SIZE];\n        String encoding;\n        int unread;\n        PushbackInputStream pushbackStream = new PushbackInputStream(in, BOM_SIZE);\n        int n = pushbackStream.read(bom, 0, bom.length);\n\n        // Read ahead four bytes and check for BOM marks.\n        if ((bom[0] == (byte) 0xEF) &amp;&amp; (bom[1] == (byte) 0xBB) &amp;&amp; (bom[2] == (byte) 0xBF)) {\n            encoding = \"UTF-8\";\n            unread = n - 3;\n        } else if ((bom[0] == (byte) 0xFE) &amp;&amp; (bom[1] == (byte) 0xFF)) {\n            encoding = \"UTF-16BE\";\n            unread = n - 2;\n        } else if ((bom[0] == (byte) 0xFF) &amp;&amp; (bom[1] == (byte) 0xFE)) {\n            encoding = \"UTF-16LE\";\n            unread = n - 2;\n        } else if ((bom[0] == (byte) 0x00) &amp;&amp; (bom[1] == (byte) 0x00) &amp;&amp; (bom[2] == (byte) 0xFE) &amp;&amp; (bom[3] == (byte) 0xFF)) {\n            encoding = \"UTF-32BE\";\n            unread = n - 4;\n        } else if ((bom[0] == (byte) 0xFF) &amp;&amp; (bom[1] == (byte) 0xFE) &amp;&amp; (bom[2] == (byte) 0x00) &amp;&amp; (bom[3] == (byte) 0x00)) {\n            encoding = \"UTF-32LE\";\n            unread = n - 4;\n        } else {\n            encoding = defaultEncoding;\n            unread = n;\n        }\n\n        // Unread bytes if necessary and skip BOM marks.\n        if (unread &gt; 0) {\n            pushbackStream.unread(bom, (n - unread), unread);\n        } else if (unread &lt; -1) {\n            pushbackStream.unread(bom, 0, 0);\n        }\n\n        // Use given encoding.\n        if (encoding == null) {\n            reader = new InputStreamReader(pushbackStream);\n        } else {\n            reader = new InputStreamReader(pushbackStream, encoding);\n        }\n    }\n\n    public String getEncoding() {\n        return reader.getEncoding();\n    }\n\n    public int read(char[] cbuf, int off, int len) throws IOException {\n        return reader.read(cbuf, off, len);\n    }\n\n    public void close() throws IOException {\n        reader.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31982,"reputation":8778,"user_id":88198,"accept_rate":86,"display_name":"rescdsk"},"down_vote_count":0,"up_vote_count":108,"is_accepted":false,"score":108,"last_activity_date":1431465091,"creation_date":1315841332,"answer_id":7390288,"question_id":1835430,"body_markdown":"The [**Apache Commons IO**](http://commons.apache.org/io/) library has an `InputStream` that can detect and discard BOMs: [`BOMInputStream` (javadoc)](http://commons.apache.org/io/apidocs/org/apache/commons/io/input/BOMInputStream.html):\r\n\r\n    BOMInputStream bomIn = new BOMInputStream(in);\r\n    int firstNonBOMByte = bomIn.read(); // Skips BOM\r\n    if (bomIn.hasBOM()) {\r\n        // has a UTF-8 BOM\r\n    }\r\n\r\nIf you also need to detect different encodings, it can also distinguish among various different byte-order marks, e.g. UTF-8 vs. UTF-16 big + little endian - details at the doc link above.  You can then use the detected [`ByteOrderMark`](http://commons.apache.org/io/apidocs/org/apache/commons/io/ByteOrderMark.html) to choose a [`Charset`](http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html?is-external=true) to decode the stream.  (There&#39;s probably a more streamlined way to do this if you need all of this functionality - maybe the UnicodeReader in BalusC&#39;s answer?).  Note that, in general, there&#39;s not a very good way to detect what encoding some bytes are in, but if the stream starts with a BOM, apparently this can be helpful.\r\n\r\n**Edit**: If you need to detect the BOM in UTF-16, UTF-32, etc, then the constructor should be:\r\n\r\n    new BOMInputStream(is, ByteOrderMark.UTF_8, ByteOrderMark.UTF_16BE,\r\n            ByteOrderMark.UTF_16LE, ByteOrderMark.UTF_32BE, ByteOrderMark.UTF_32LE)\r\n\r\nUpvote @martin-charlesworth&#39;s comment :)","title":"Byte order mark screws up file reading in Java","body":"<p>The <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\"><strong>Apache Commons IO</strong></a> library has an <code>InputStream</code> that can detect and discard BOMs: <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/input/BOMInputStream.html\" rel=\"noreferrer\"><code>BOMInputStream</code> (javadoc)</a>:</p>\n\n<pre><code>BOMInputStream bomIn = new BOMInputStream(in);\nint firstNonBOMByte = bomIn.read(); // Skips BOM\nif (bomIn.hasBOM()) {\n    // has a UTF-8 BOM\n}\n</code></pre>\n\n<p>If you also need to detect different encodings, it can also distinguish among various different byte-order marks, e.g. UTF-8 vs. UTF-16 big + little endian - details at the doc link above.  You can then use the detected <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/ByteOrderMark.html\" rel=\"noreferrer\"><code>ByteOrderMark</code></a> to choose a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html?is-external=true\" rel=\"noreferrer\"><code>Charset</code></a> to decode the stream.  (There's probably a more streamlined way to do this if you need all of this functionality - maybe the UnicodeReader in BalusC's answer?).  Note that, in general, there's not a very good way to detect what encoding some bytes are in, but if the stream starts with a BOM, apparently this can be helpful.</p>\n\n<p><strong>Edit</strong>: If you need to detect the BOM in UTF-16, UTF-32, etc, then the constructor should be:</p>\n\n<pre><code>new BOMInputStream(is, ByteOrderMark.UTF_8, ByteOrderMark.UTF_16BE,\n        ByteOrderMark.UTF_16LE, ByteOrderMark.UTF_32BE, ByteOrderMark.UTF_32LE)\n</code></pre>\n\n<p>Upvote @martin-charlesworth's comment :)</p>\n"},{"tags":[],"owner":{"display_name":"user1092126"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1440484366,"creation_date":1376661431,"answer_id":18275066,"question_id":1835430,"body_markdown":"More simple solution:\r\n\r\n\r\n    public class BOMSkipper\r\n    {\r\n        public static void skip(Reader reader) throws IOException\r\n        {\r\n            reader.mark(1);\r\n            char[] possibleBOM = new char[1];\r\n            reader.read(possibleBOM);\r\n    \r\n            if (possibleBOM[0] != &#39;\\ufeff&#39;)\r\n            {\r\n                reader.reset();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nUsage sample:\r\n\r\n    BufferedReader input = new BufferedReader(new InputStreamReader(new FileInputStream(file), fileExpectedCharset));\r\n    BOMSkipper.skip(input);\r\n    //Now UTF prefix not present:\r\n    input.readLine();\r\n    ...\r\n\r\nIt works with all 5 UTF encodings!","title":"Byte order mark screws up file reading in Java","body":"<p>More simple solution:</p>\n\n<pre><code>public class BOMSkipper\n{\n    public static void skip(Reader reader) throws IOException\n    {\n        reader.mark(1);\n        char[] possibleBOM = new char[1];\n        reader.read(possibleBOM);\n\n        if (possibleBOM[0] != '\\ufeff')\n        {\n            reader.reset();\n        }\n    }\n}\n</code></pre>\n\n<p>Usage sample:</p>\n\n<pre><code>BufferedReader input = new BufferedReader(new InputStreamReader(new FileInputStream(file), fileExpectedCharset));\nBOMSkipper.skip(input);\n//Now UTF prefix not present:\ninput.readLine();\n...\n</code></pre>\n\n<p>It works with all 5 UTF encodings!</p>\n"},{"tags":[],"owner":{"account_id":178183,"reputation":41234,"user_id":409976,"accept_rate":68,"display_name":"Kevin Meredith"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1468602548,"creation_date":1380038294,"answer_id":18986524,"question_id":1835430,"body_markdown":"The `Apache Commons IO` Library&#39;s [BOMInputStream](https://commons.apache.org/proper/commons-io/javadocs/api-2.2/org/apache/commons/io/input/BOMInputStream.html) has already been mentioned by @rescdsk, but I did not see it mention how to get an `InputStream` **without** the BOM.\r\n\r\nHere&#39;s how I did it in Scala.\r\n\r\n     import java.io._\r\n     val file = new File(path_to_xml_file_with_BOM)\r\n     val fileInpStream = new FileInputStream(file)   \r\n     val bomIn = new BOMInputStream(fileInpStream, \r\n             false); // false means don&#39;t include BOM","title":"Byte order mark screws up file reading in Java","body":"<p>The <code>Apache Commons IO</code> Library's <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.2/org/apache/commons/io/input/BOMInputStream.html\" rel=\"noreferrer\">BOMInputStream</a> has already been mentioned by @rescdsk, but I did not see it mention how to get an <code>InputStream</code> <strong>without</strong> the BOM.</p>\n\n<p>Here's how I did it in Scala.</p>\n\n<pre><code> import java.io._\n val file = new File(path_to_xml_file_with_BOM)\n val fileInpStream = new FileInputStream(file)   \n val bomIn = new BOMInputStream(fileInpStream, \n         false); // false means don't include BOM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3053060,"reputation":149,"user_id":2587259,"accept_rate":29,"display_name":"Andreas Baaserud"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1448566308,"creation_date":1448566308,"answer_id":33945855,"question_id":1835430,"body_markdown":"To simply remove the BOM characters from your file, I recomend using [Apache Common IO][1]\r\n\r\n    public BOMInputStream(InputStream delegate,\r\n                  boolean include)\r\n    Constructs a new BOM InputStream that detects a a ByteOrderMark.UTF_8 and optionally includes it.\r\n    Parameters:\r\n    delegate - the InputStream to delegate to\r\n    include - true to include the UTF-8 BOM or false to exclude it\r\n\r\nSet include to false and your BOM characters will be excluded.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html#BOMInputStream(java.io.InputStream,%20boolean)","title":"Byte order mark screws up file reading in Java","body":"<p>To simply remove the BOM characters from your file, I recomend using <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html#BOMInputStream(java.io.InputStream,%20boolean)\" rel=\"noreferrer\">Apache Common IO</a></p>\n\n<pre><code>public BOMInputStream(InputStream delegate,\n              boolean include)\nConstructs a new BOM InputStream that detects a a ByteOrderMark.UTF_8 and optionally includes it.\nParameters:\ndelegate - the InputStream to delegate to\ninclude - true to include the UTF-8 BOM or false to exclude it\n</code></pre>\n\n<p>Set include to false and your BOM characters will be excluded.</p>\n"},{"tags":[],"owner":{"account_id":8138182,"reputation":71,"user_id":6129212,"display_name":"Amy B Higgins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516217015,"creation_date":1516217015,"answer_id":48308525,"question_id":1835430,"body_markdown":"I had the same problem, and because I wasn&#39;t reading in a bunch of files I did a simpler solution.  I think my encoding was UTF-8 because when I printed out the offending character with the help of this page: https://stackoverflow.com/questions/2220366/get-unicode-value-of-a-character I found that it was `\\ufeff`.  I used the code `System.out.println( &quot;\\\\u&quot; + Integer.toHexString(str.charAt(0) | 0x10000).substring(1) );` to print out the offending unicode value.\r\n\r\nOnce I had the offending unicode value, I replaced it in the first line of my file before I went on reading.  The business logic of that section:\r\n\r\n    String str = reader.readLine().trim();\r\n    str = str.replace(&quot;\\ufeff&quot;, &quot;&quot;);\r\n\r\nThis fixed my problem.  Then I was able to go on processing the file with no issue.  I added on `trim()` just in case of leading or trailing whitespace, you can do that or not, based on what your specific needs are.","title":"Byte order mark screws up file reading in Java","body":"<p>I had the same problem, and because I wasn't reading in a bunch of files I did a simpler solution.  I think my encoding was UTF-8 because when I printed out the offending character with the help of this page: <a href=\"https://stackoverflow.com/questions/2220366/get-unicode-value-of-a-character\">Get unicode value of a character</a> I found that it was <code>\\ufeff</code>.  I used the code <code>System.out.println( \"\\\\u\" + Integer.toHexString(str.charAt(0) | 0x10000).substring(1) );</code> to print out the offending unicode value.</p>\n\n<p>Once I had the offending unicode value, I replaced it in the first line of my file before I went on reading.  The business logic of that section:</p>\n\n<pre><code>String str = reader.readLine().trim();\nstr = str.replace(\"\\ufeff\", \"\");\n</code></pre>\n\n<p>This fixed my problem.  Then I was able to go on processing the file with no issue.  I added on <code>trim()</code> just in case of leading or trailing whitespace, you can do that or not, based on what your specific needs are.</p>\n"},{"tags":[],"owner":{"display_name":"user8514159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599048000,"creation_date":1599048000,"answer_id":63705068,"question_id":1835430,"body_markdown":"NotePad++ is a good tool to convert UTF-8 encoding to UTF-8(BOM) encoding.\r\n\r\n[https://notepad-plus-plus.org/downloads/][1]\r\n\r\n**UTF8BOMTester.java**\r\n\r\n    public class UTF8BOMTester {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tFile file = new File(&quot;test.txt&quot;);\r\n\t\tboolean same = UTF8BOMInputStream.isSameEncodingType(file);\r\n\t\tSystem.out.println(same);\r\n\t\tif (same) {\r\n\t\t\tUTF8BOMInputStream is = new UTF8BOMInputStream(file);\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\r\n\t\t\tSystem.out.println(br.readLine());\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tstatic void bytesPrint(byte[] b) {\r\n\t\tfor (byte a : b)\r\n\t\t\tSystem.out.printf(&quot;%x &quot;, a);\r\n\t}}\r\n\r\n**UTF8BOMInputStream.java**\r\n\r\n    public class UTF8BOMInputStream extends InputStream {\r\n\r\n\tbyte[] SYMBLE_BOM = { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF };\r\n\tFileInputStream fis;\r\n\tfinal boolean isSameEncodingType;\r\n\tpublic UTF8BOMInputStream(File file) throws IOException {\r\n\t\tFileInputStream fis=new FileInputStream(file);\r\n\t\tbyte[] symble=new byte[3];\r\n\t\tfis.read(symble);\r\n\t\tbytesPrint(symble);\r\n\t\tisSameEncodingType=isSameEncodingType(symble);\r\n\t\tif(isSameEncodingType)\r\n\t\t\tthis.fis=fis;\r\n\t\telse\r\n\t\t\tthis.fis=null;\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int read() throws IOException {\r\n\t\treturn fis.read();\r\n\t}\r\n\r\n\tvoid bytesPrint(byte[] b) {\r\n\t\tfor (byte a : b)\r\n\t\t\tSystem.out.printf(&quot;%x &quot;, a);\r\n\t}\r\n\r\n\tboolean bytesCompare(byte[] a, byte[] b) {\r\n\t\tif (a.length != b.length)\r\n\t\t\treturn false;\r\n\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tif (a[i] != b[i])\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tboolean isSameEncodingType(byte[] symble) {\r\n\t\treturn bytesCompare(symble,SYMBLE_BOM);\r\n\t}\r\n\tpublic static boolean isSameEncodingType(File file) throws IOException {\r\n\t\treturn (new UTF8BOMInputStream(file)).isSameEncodingType;\r\n\t}\r\n\r\n\r\n  [1]: https://notepad-plus-plus.org/downloads/","title":"Byte order mark screws up file reading in Java","body":"<p>NotePad++ is a good tool to convert UTF-8 encoding to UTF-8(BOM) encoding.</p>\n<p><a href=\"https://notepad-plus-plus.org/downloads/\" rel=\"nofollow noreferrer\">https://notepad-plus-plus.org/downloads/</a></p>\n<p><strong>UTF8BOMTester.java</strong></p>\n<pre><code>public class UTF8BOMTester {\n\npublic static void main(String[] args) throws FileNotFoundException, IOException {\n    // TODO Auto-generated method stub\n    File file = new File(&quot;test.txt&quot;);\n    boolean same = UTF8BOMInputStream.isSameEncodingType(file);\n    System.out.println(same);\n    if (same) {\n        UTF8BOMInputStream is = new UTF8BOMInputStream(file);\n        BufferedReader br = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\n        System.out.println(br.readLine());\n    }\n\n}\n\nstatic void bytesPrint(byte[] b) {\n    for (byte a : b)\n        System.out.printf(&quot;%x &quot;, a);\n}}\n</code></pre>\n<p><strong>UTF8BOMInputStream.java</strong></p>\n<pre><code>public class UTF8BOMInputStream extends InputStream {\n\nbyte[] SYMBLE_BOM = { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF };\nFileInputStream fis;\nfinal boolean isSameEncodingType;\npublic UTF8BOMInputStream(File file) throws IOException {\n    FileInputStream fis=new FileInputStream(file);\n    byte[] symble=new byte[3];\n    fis.read(symble);\n    bytesPrint(symble);\n    isSameEncodingType=isSameEncodingType(symble);\n    if(isSameEncodingType)\n        this.fis=fis;\n    else\n        this.fis=null;\n    \n}\n\n@Override\npublic int read() throws IOException {\n    return fis.read();\n}\n\nvoid bytesPrint(byte[] b) {\n    for (byte a : b)\n        System.out.printf(&quot;%x &quot;, a);\n}\n\nboolean bytesCompare(byte[] a, byte[] b) {\n    if (a.length != b.length)\n        return false;\n\n    for (int i = 0; i &lt; a.length; i++) {\n        if (a[i] != b[i])\n            return false;\n    }\n    return true;\n}\nboolean isSameEncodingType(byte[] symble) {\n    return bytesCompare(symble,SYMBLE_BOM);\n}\npublic static boolean isSameEncodingType(File file) throws IOException {\n    return (new UTF8BOMInputStream(file)).isSameEncodingType;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8700453,"reputation":21,"user_id":6510541,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612578928,"creation_date":1612578928,"answer_id":66073045,"question_id":1835430,"body_markdown":"Here is my code to read csv files in most char sets. It should cover 99% situations.\r\n``` lang-java\r\n\t\ttry(InputStream inputStream = new FileInputStream(csvFile);){\r\n        \tBOMInputStream bomInputStream = new BOMInputStream(inputStream ,ByteOrderMark.UTF_8, ByteOrderMark.UTF_16LE, ByteOrderMark.UTF_16BE, ByteOrderMark.UTF_32LE, ByteOrderMark.UTF_32BE);\r\n\t\t\tCharset charset;\r\n\t\t\tif(!bomInputStream.hasBOM()) charset = StandardCharsets.UTF_8;\r\n\t\t\telse if(bomInputStream.hasBOM(ByteOrderMark.UTF_8)) charset = StandardCharsets.UTF_8;\r\n\t\t\telse if(bomInputStream.hasBOM(ByteOrderMark.UTF_16LE)) charset = StandardCharsets.UTF_16LE;\r\n\t\t\telse if(bomInputStream.hasBOM(ByteOrderMark.UTF_16BE)) charset = StandardCharsets.UTF_16BE;\r\n\t\t\telse { throw new Exception(&quot;The charset of the file &quot; + csvFile + &quot; is not supported.&quot;);}\r\n\t\t\t\r\n\t\t\ttry(Reader streamReader = new InputStreamReader(bomInputStream, charset);\r\n\t\t\t\tBufferedReader bufferedReader = new BufferedReader(streamReader);) {\r\n\t\t\t\tfor(String line; (line = bufferedReader.readLine()) != null; ) {\r\n\t\t\t        String[] columns = line.split(&quot;,&quot;);\r\n\t\t\t //read csv columns\r\n\t\t\t}\r\n\t\t}\r\n```","title":"Byte order mark screws up file reading in Java","body":"<p>Here is my code to read csv files in most char sets. It should cover 99% situations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try(InputStream inputStream = new FileInputStream(csvFile);){\n            BOMInputStream bomInputStream = new BOMInputStream(inputStream ,ByteOrderMark.UTF_8, ByteOrderMark.UTF_16LE, ByteOrderMark.UTF_16BE, ByteOrderMark.UTF_32LE, ByteOrderMark.UTF_32BE);\n            Charset charset;\n            if(!bomInputStream.hasBOM()) charset = StandardCharsets.UTF_8;\n            else if(bomInputStream.hasBOM(ByteOrderMark.UTF_8)) charset = StandardCharsets.UTF_8;\n            else if(bomInputStream.hasBOM(ByteOrderMark.UTF_16LE)) charset = StandardCharsets.UTF_16LE;\n            else if(bomInputStream.hasBOM(ByteOrderMark.UTF_16BE)) charset = StandardCharsets.UTF_16BE;\n            else { throw new Exception(&quot;The charset of the file &quot; + csvFile + &quot; is not supported.&quot;);}\n            \n            try(Reader streamReader = new InputStreamReader(bomInputStream, charset);\n                BufferedReader bufferedReader = new BufferedReader(streamReader);) {\n                for(String line; (line = bufferedReader.readLine()) != null; ) {\n                    String[] columns = line.split(&quot;,&quot;);\n             //read csv columns\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638622470,"creation_date":1638622470,"answer_id":70225779,"question_id":1835430,"body_markdown":"IMO none of the given answers is really satisfying. Just skipping the BOM and then read the rest of the stream in the current platform&#39;s default encoding is definitively wrong. Remember: The platform default on Unix/Linux and windows differ: former is UTF-8, later is ANSI. Such a solution only works if the rest of the stream (after the BOM) only contains 7-bit ASCII characters (which, I admit, in most programmer near files like configurations is true). But as soon there are non ASCII characters, you will fail with this approach. \r\n\r\nThat&#39;s why all java classes/methods, which can convert byte arrays/streams to string (and vice versa) have a second parameter indicating the encoding to be used (Reader, Writer, Scanner, String.getBytes(), etc.). \r\n\r\nThere are so much character encodings out in the world, not only UTF-xx. And still - in the current year 2021 - there are so much encoding problems between end user applications, especially if they run on different platforms (iOS, windows, unix). All these problems only exist because the programmer was too lazy to learn how character encoding works.\r\n\r\nThus, it&#39;s an absolute MUST to evaluate first the encoding to be used, and then performing the string/stream conversion using the found encoding. Consulting the respective specification(s) is the first step. And only if you cannot be sure which encoding you encounter while reading a stream you have to evaluate it by yourself. But caution: such an evaluation always will only be a &#39;best guess&#39;, there is no algorithm which can cover all possibilities.\r\n\r\nIn this sense, Lee&#39;s answer (and coding example) from Feb 6,2021 is IMO the best one, except that he falls back to UTF-8 if there is no BOM.","title":"Byte order mark screws up file reading in Java","body":"<p>IMO none of the given answers is really satisfying. Just skipping the BOM and then read the rest of the stream in the current platform's default encoding is definitively wrong. Remember: The platform default on Unix/Linux and windows differ: former is UTF-8, later is ANSI. Such a solution only works if the rest of the stream (after the BOM) only contains 7-bit ASCII characters (which, I admit, in most programmer near files like configurations is true). But as soon there are non ASCII characters, you will fail with this approach.</p>\n<p>That's why all java classes/methods, which can convert byte arrays/streams to string (and vice versa) have a second parameter indicating the encoding to be used (Reader, Writer, Scanner, String.getBytes(), etc.).</p>\n<p>There are so much character encodings out in the world, not only UTF-xx. And still - in the current year 2021 - there are so much encoding problems between end user applications, especially if they run on different platforms (iOS, windows, unix). All these problems only exist because the programmer was too lazy to learn how character encoding works.</p>\n<p>Thus, it's an absolute MUST to evaluate first the encoding to be used, and then performing the string/stream conversion using the found encoding. Consulting the respective specification(s) is the first step. And only if you cannot be sure which encoding you encounter while reading a stream you have to evaluate it by yourself. But caution: such an evaluation always will only be a 'best guess', there is no algorithm which can cover all possibilities.</p>\n<p>In this sense, Lee's answer (and coding example) from Feb 6,2021 is IMO the best one, except that he falls back to UTF-8 if there is no BOM.</p>\n"}],"owner":{"account_id":78421,"reputation":18825,"user_id":223201,"accept_rate":89,"display_name":"Tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91735,"favorite_count":0,"down_vote_count":0,"up_vote_count":127,"accepted_answer_id":1835529,"answer_count":11,"score":127,"last_activity_date":1638622470,"creation_date":1259784255,"question_id":1835430,"body_markdown":"I&#39;m trying to read CSV files using Java. Some of the files may have a byte order mark in the beginning, but not all. When present, the byte order gets read along with the rest of the first line, thus causing problems with string compares.\r\n\r\nIs there an easy way to skip the byte order mark when it is present?","title":"Byte order mark screws up file reading in Java","body":"<p>I'm trying to read CSV files using Java. Some of the files may have a byte order mark in the beginning, but not all. When present, the byte order gets read along with the rest of the first line, thus causing problems with string compares.</p>\n<p>Is there an easy way to skip the byte order mark when it is present?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":12229449,"reputation":125,"user_id":8925971,"display_name":"Cheikh HAIBALA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638619805,"creation_date":1638619128,"answer_id":70225387,"question_id":70225302,"body_markdown":"for this you can use  a cron with this annoation @Scheduled\r\n\r\nSpring will schedule the annotated method to run at 10:15 AM on the 15th day of every month\r\n\r\n    @Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\r\n    public void scheduleTaskUsingCronExpression() {\r\n     \r\n        long now = System.currentTimeMillis() / 1000;\r\n        System.out.println(\r\n          &quot;schedule tasks using cron jobs - &quot; + now);\r\n    }\r\n\r\nsee this doc https://spring.io/guides/gs/scheduling-tasks/\r\nand this https://spring.io/guides/gs/scheduling-tasks/\r\n\r\n\r\nIn Order to get the cron exp from the db :\r\nsee this https://stackoverflow.com/questions/15250928/how-to-change-springs-scheduled-fixeddelay-at-runtime\r\n","title":"How to schedule a task at runtime where the frequency of the scheduler is read from the database","body":"<p>for this you can use  a cron with this annoation @Scheduled</p>\n<p>Spring will schedule the annotated method to run at 10:15 AM on the 15th day of every month</p>\n<pre><code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\npublic void scheduleTaskUsingCronExpression() {\n \n    long now = System.currentTimeMillis() / 1000;\n    System.out.println(\n      &quot;schedule tasks using cron jobs - &quot; + now);\n}\n</code></pre>\n<p>see this doc <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/scheduling-tasks/</a>\nand this <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/scheduling-tasks/</a></p>\n<p>In Order to get the cron exp from the db :\nsee this <a href=\"https://stackoverflow.com/questions/15250928/how-to-change-springs-scheduled-fixeddelay-at-runtime\">How to change Spring&#39;s @Scheduled fixedDelay at runtime?</a></p>\n"},{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638621399,"creation_date":1638621075,"answer_id":70225595,"question_id":70225302,"body_markdown":"To give more other alternative solutions beside @Scheduled annotation.\r\n\r\nYou can use ScheduledExecutorService to execute task with fixed rate or fixed delay.\r\n\r\n    ScheduledExecutorService executorService = Executors\r\n      .newSingleThreadScheduledExecutor();\r\n\r\nThen you can use below function which depend on your need:\r\n\r\n    scheduleAtFixedRate\r\n    scheduleWithFixedDelay\r\n\r\nExample:\r\n\r\n    Future&lt;String&gt; resultFuture = \r\n      executorService.schedule(callableTask, 1, TimeUnit.SECONDS);\r\n    Future&lt;String&gt; resultFuture = service\r\n      .scheduleAtFixedRate(runnableTask, 100, 450, TimeUnit.MILLISECONDS);\r\n    service.scheduleWithFixedDelay(task, 100, 150, TimeUnit.MILLISECONDS);\r\n\r\n\r\nRefer:\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\nhttps://www.baeldung.com/java-executor-service-tutorial\r\n\r\nPS: i highly recommend quartz framework also, it can schedule task with many different policies. ","title":"How to schedule a task at runtime where the frequency of the scheduler is read from the database","body":"<p>To give more other alternative solutions beside @Scheduled annotation.</p>\n<p>You can use ScheduledExecutorService to execute task with fixed rate or fixed delay.</p>\n<pre><code>ScheduledExecutorService executorService = Executors\n  .newSingleThreadScheduledExecutor();\n</code></pre>\n<p>Then you can use below function which depend on your need:</p>\n<pre><code>scheduleAtFixedRate\nscheduleWithFixedDelay\n</code></pre>\n<p>Example:</p>\n<pre><code>Future&lt;String&gt; resultFuture = \n  executorService.schedule(callableTask, 1, TimeUnit.SECONDS);\nFuture&lt;String&gt; resultFuture = service\n  .scheduleAtFixedRate(runnableTask, 100, 450, TimeUnit.MILLISECONDS);\nservice.scheduleWithFixedDelay(task, 100, 150, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>Refer:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html</a>\n<a href=\"https://www.baeldung.com/java-executor-service-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-executor-service-tutorial</a></p>\n<p>PS: i highly recommend quartz framework also, it can schedule task with many different policies.</p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638622258,"creation_date":1638622258,"answer_id":70225749,"question_id":70225302,"body_markdown":"You may use [Task Exection and Sceduling API](https://docs.spring.io/spring-framework/docs/5.0.1.RELEASE/spring-framework-reference/integration.html#scheduling) of Spring.\r\n  \r\nYour task to run in a scheduled mode\r\n    \r\n    public class MyTask implements Runnable {\r\n\r\n        public void run(){\r\n            System.out.println(&quot;MyTask is running&quot;);\r\n        }\r\n    }\r\n  \r\nA service to be used for dynamically creation of sceduled jobs.\r\nInspired by [this so answer](https://stackoverflow.com/questions/46974272/how-to-add-new-schedule-job-dynamically-with-spring).  \r\nYou may add it in your library.\r\n  \r\n    @Component\r\n    public class DbScheduledJobs {\r\n\r\n        private final TaskScheduler executor;\r\n\r\n        @Autowired\r\n        public DbScheduledJobs(TaskScheduler taskExecutor) {\r\n            this.executor = taskExecutor;\r\n        }\r\n\r\n        public void schedule(final Runnable task, String cronLike) {\r\n            executor.schedule(task, new CronTrigger(cronLike));\r\n        }\r\n\r\n        public void schedule(final Runnable task, LocalDateTime runOnceAt) {\r\n            executor.schedule(task, Date.from(runAt.atZone(ZoneId.systemDefault()).toInstant()));\r\n        }\r\n\r\n        public void schedulingExamples(final Runnable task) {\r\n            // Schedule a task to run once at the given date (here in 1minute)\r\n            executor.schedule(task, Date.from(LocalDateTime.now().plusMinutes(1)\r\n                    .atZone(ZoneId.systemDefault()).toInstant()));\r\n\r\n            // Schedule a task that will run as soon as possible and every 1000ms\r\n            executor.scheduleAtFixedRate(task, 1000);\r\n\r\n            // Schedule a task that will first run at the given date and every 1000ms\r\n            executor.scheduleAtFixedRate(task, Date.from(LocalDateTime.now().plusMinutes(1)\r\n                    .atZone(ZoneId.systemDefault()).toInstant()), 1000);\r\n\r\n            // Schedule a task that will run as soon as possible and every 1000ms after the previous completion\r\n            executor.scheduleWithFixedDelay(task, 1000);\r\n\r\n            // Schedule a task that will run as soon as possible and every 1000ms after the previous completion\r\n            executor.scheduleWithFixedDelay(task, Date.from(LocalDateTime.now().plusMinutes(1)\r\n                    .atZone(ZoneId.systemDefault()).toInstant()), 1000);\r\n\r\n            // Schedule a task with the given cron expression\r\n            executor.schedule(task, new CronTrigger(&quot;*/5 * * * * MON-FRI&quot;));\r\n        }\r\n    }\r\n  \r\nYour actual service, which reads from Db.\r\n  \r\n    @Service\r\n    public class DbService {\r\n\r\n        private final DbScheduledJobs dbScheduledJobs;\r\n\r\n        @Autowired\r\n        public DbService(DbScheduledJobs dbScheduledJobs) {\r\n            this.dbScheduledJobs = dbScheduledJobs;\r\n        }\r\n\r\n        public void example() {\r\n            // Read your cron like schedule from db\r\n            String cronLikeScedule = &quot;fetched from db&quot;; // Ex. &quot;*/5 * * * * MON-FRI&quot;\r\n\r\n            // Choose your Runnable instance - either statically or using Reflection.\r\n            Runnable myRunnable = new MyTask();\r\n\r\n            // Add this task to run on a schedule basis dynamically.\r\n            this.dbScheduledJobs.schedule(myRunnable, cronLikeScedule);\r\n        }\r\n    }\r\n  \r\nHope that it helps, this solution is not tested.\r\n","title":"How to schedule a task at runtime where the frequency of the scheduler is read from the database","body":"<p>You may use <a href=\"https://docs.spring.io/spring-framework/docs/5.0.1.RELEASE/spring-framework-reference/integration.html#scheduling\" rel=\"nofollow noreferrer\">Task Exection and Sceduling API</a> of Spring.</p>\n<p>Your task to run in a scheduled mode</p>\n<pre><code>public class MyTask implements Runnable {\n\n    public void run(){\n        System.out.println(&quot;MyTask is running&quot;);\n    }\n}\n</code></pre>\n<p>A service to be used for dynamically creation of sceduled jobs.\nInspired by <a href=\"https://stackoverflow.com/questions/46974272/how-to-add-new-schedule-job-dynamically-with-spring\">this so answer</a>.<br />\nYou may add it in your library.</p>\n<pre><code>@Component\npublic class DbScheduledJobs {\n\n    private final TaskScheduler executor;\n\n    @Autowired\n    public DbScheduledJobs(TaskScheduler taskExecutor) {\n        this.executor = taskExecutor;\n    }\n\n    public void schedule(final Runnable task, String cronLike) {\n        executor.schedule(task, new CronTrigger(cronLike));\n    }\n\n    public void schedule(final Runnable task, LocalDateTime runOnceAt) {\n        executor.schedule(task, Date.from(runAt.atZone(ZoneId.systemDefault()).toInstant()));\n    }\n\n    public void schedulingExamples(final Runnable task) {\n        // Schedule a task to run once at the given date (here in 1minute)\n        executor.schedule(task, Date.from(LocalDateTime.now().plusMinutes(1)\n                .atZone(ZoneId.systemDefault()).toInstant()));\n\n        // Schedule a task that will run as soon as possible and every 1000ms\n        executor.scheduleAtFixedRate(task, 1000);\n\n        // Schedule a task that will first run at the given date and every 1000ms\n        executor.scheduleAtFixedRate(task, Date.from(LocalDateTime.now().plusMinutes(1)\n                .atZone(ZoneId.systemDefault()).toInstant()), 1000);\n\n        // Schedule a task that will run as soon as possible and every 1000ms after the previous completion\n        executor.scheduleWithFixedDelay(task, 1000);\n\n        // Schedule a task that will run as soon as possible and every 1000ms after the previous completion\n        executor.scheduleWithFixedDelay(task, Date.from(LocalDateTime.now().plusMinutes(1)\n                .atZone(ZoneId.systemDefault()).toInstant()), 1000);\n\n        // Schedule a task with the given cron expression\n        executor.schedule(task, new CronTrigger(&quot;*/5 * * * * MON-FRI&quot;));\n    }\n}\n</code></pre>\n<p>Your actual service, which reads from Db.</p>\n<pre><code>@Service\npublic class DbService {\n\n    private final DbScheduledJobs dbScheduledJobs;\n\n    @Autowired\n    public DbService(DbScheduledJobs dbScheduledJobs) {\n        this.dbScheduledJobs = dbScheduledJobs;\n    }\n\n    public void example() {\n        // Read your cron like schedule from db\n        String cronLikeScedule = &quot;fetched from db&quot;; // Ex. &quot;*/5 * * * * MON-FRI&quot;\n\n        // Choose your Runnable instance - either statically or using Reflection.\n        Runnable myRunnable = new MyTask();\n\n        // Add this task to run on a schedule basis dynamically.\n        this.dbScheduledJobs.schedule(myRunnable, cronLikeScedule);\n    }\n}\n</code></pre>\n<p>Hope that it helps, this solution is not tested.</p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1638622258,"creation_date":1638618425,"question_id":70225302,"body_markdown":"In the spring boot app, I have to call a method for a given frequency.This frequency will be read from the database. Frequent could be seconds or minutes or hours or days, etc. How do I implement this schedule for spring boot?\r\n\r\n\r\n ","title":"How to schedule a task at runtime where the frequency of the scheduler is read from the database","body":"<p>In the spring boot app, I have to call a method for a given frequency.This frequency will be read from the database. Frequent could be seconds or minutes or hours or days, etc. How do I implement this schedule for spring boot?</p>\n"},{"tags":["java","arrays","null","integer","zero"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1638621262,"post_id":70225556,"comment_id":124139632,"body_markdown":"Have a counter.  Special values are a bad idea.","body":"Have a counter.  Special values are a bad idea."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638624968,"post_id":70225556,"comment_id":124140461,"body_markdown":"An [IntBuffer](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/IntBuffer.html) is almost certainly what you want.  For example, `IntBuffer values = IntBuffer.allocate(10);`","body":"An <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/IntBuffer.html\" rel=\"nofollow noreferrer\">IntBuffer</a> is almost certainly what you want.  For example, <code>IntBuffer values = IntBuffer.allocate(10);</code>"}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638621347,"creation_date":1638621002,"answer_id":70225583,"question_id":70225556,"body_markdown":"You need to keep track of which positions are filled via additional variables. A Java array itself (when created) is initialized with 0-s and it is technically always full.\r\n\r\nIf you need a dynamically expanding array, my suggestion is to use `java.util.List`, which is very handy and in most situations can replace a Java array nicely.\r\n\r\nA List tutorial is easy to find, here is [an example](https://www.javatpoint.com/java-list) .\r\n\r\nAnd this is how you use it:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n....\r\nList&lt;String&gt; a = new ArrayList&lt;&gt;();\r\na.add(&quot;Hello&quot;);\r\na.add(&quot;World&quot;);\r\nSystem.out.println(a.size());\r\n```\r\n\r\nYou can easily convert to a standard array: `a.toArray()`.","title":"How do I check if my int array is empty, with the standard value being 0?","body":"<p>You need to keep track of which positions are filled via additional variables. A Java array itself (when created) is initialized with 0-s and it is technically always full.</p>\n<p>If you need a dynamically expanding array, my suggestion is to use <code>java.util.List</code>, which is very handy and in most situations can replace a Java array nicely.</p>\n<p>A List tutorial is easy to find, here is <a href=\"https://www.javatpoint.com/java-list\" rel=\"nofollow noreferrer\">an example</a> .</p>\n<p>And this is how you use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\n....\nList&lt;String&gt; a = new ArrayList&lt;&gt;();\na.add(&quot;Hello&quot;);\na.add(&quot;World&quot;);\nSystem.out.println(a.size());\n</code></pre>\n<p>You can easily convert to a standard array: <code>a.toArray()</code>.</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638621058,"creation_date":1638621058,"answer_id":70225593,"question_id":70225556,"body_markdown":"You are probably using an `int[]`? The primitive type `int` can not be `null`. A very simple solution would be to use the wrapper class `Integer`.\r\n\r\n    Integer[] intArray = {null, 0, 10};","title":"How do I check if my int array is empty, with the standard value being 0?","body":"<p>You are probably using an <code>int[]</code>? The primitive type <code>int</code> can not be <code>null</code>. A very simple solution would be to use the wrapper class <code>Integer</code>.</p>\n<pre><code>Integer[] intArray = {null, 0, 10};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23344355,"reputation":87,"user_id":17418873,"display_name":"GoatPonny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638621829,"creation_date":1638621829,"answer_id":70225684,"question_id":70225556,"body_markdown":"If your numbers are always greater or equal 0, you could just set unused numbers to -1.","title":"How do I check if my int array is empty, with the standard value being 0?","body":"<p>If your numbers are always greater or equal 0, you could just set unused numbers to -1.</p>\n"}],"owner":{"account_id":23526968,"reputation":13,"user_id":17573345,"display_name":"TyroneJamesTheThird"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70225593,"answer_count":3,"score":0,"last_activity_date":1638621829,"creation_date":1638620748,"question_id":70225556,"body_markdown":"So I have come across an issue I do not seem to be able to fix. So lets say I have an int array and want to check whether the array still has space to add a certain element (from 0-) or has no space left, which would mean I would need to create a new array.\r\n\r\nThe issue is that when my int array has a space to store ten values, all of the spaces are filled with 0, so my program thinks that this array is full. And I can not exclude 0 either because the element which I want to add could be 0 aswell.\r\n\r\nAny advice?","title":"How do I check if my int array is empty, with the standard value being 0?","body":"<p>So I have come across an issue I do not seem to be able to fix. So lets say I have an int array and want to check whether the array still has space to add a certain element (from 0-) or has no space left, which would mean I would need to create a new array.</p>\n<p>The issue is that when my int array has a space to store ten values, all of the spaces are filled with 0, so my program thinks that this array is full. And I can not exclude 0 either because the element which I want to add could be 0 aswell.</p>\n<p>Any advice?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1638498922,"post_id":70208821,"comment_id":124110961,"body_markdown":"Post your code. What is the ArrayList of?","body":"Post your code. What is the ArrayList of?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638498941,"post_id":70208821,"comment_id":124110963,"body_markdown":"[Filtering a list in Java](https://zetcode.com/java/filterlist/) - I&#39;d recommend scrolling down to the &quot;Filtering a list with Java 8 streams&quot; section","body":"<a href=\"https://zetcode.com/java/filterlist/\" rel=\"nofollow noreferrer\">Filtering a list in Java</a> - I&#39;d recommend scrolling down to the &quot;Filtering a list with Java 8 streams&quot; section"}],"answers":[{"tags":[],"owner":{"account_id":15490363,"reputation":13,"user_id":11850476,"display_name":"MSWS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638499120,"creation_date":1638499120,"answer_id":70208871,"question_id":70208821,"body_markdown":"You can use Java Streams&#39; Filter method to filter the List using a `Predicate`.\r\n\r\nhttps://www.geeksforgeeks.org/stream-filter-java-examples/\r\n\r\nQuick Example: `list = list.stream().filter(num -&gt; !(num + &quot;&quot;).contains(&quot;98765432&quot;));`","title":"Removing element from ArrayList if contains value","body":"<p>You can use Java Streams' Filter method to filter the List using a <code>Predicate</code>.</p>\n<p><a href=\"https://www.geeksforgeeks.org/stream-filter-java-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/stream-filter-java-examples/</a></p>\n<p>Quick Example: <code>list = list.stream().filter(num -&gt; !(num + &quot;&quot;).contains(&quot;98765432&quot;));</code></p>\n"},{"tags":[],"owner":{"account_id":20347782,"reputation":23,"user_id":14925164,"display_name":"Kenan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638499162,"creation_date":1638499162,"answer_id":70208875,"question_id":70208821,"body_markdown":"Perform a regular loop inside each element from the ArrayList.Then use the .contain function to search for a specific value at each element in the ArrayList(in your case a specific number:98765432).Finally over-write that element with a new string startIndex and endIndex.","title":"Removing element from ArrayList if contains value","body":"<p>Perform a regular loop inside each element from the ArrayList.Then use the .contain function to search for a specific value at each element in the ArrayList(in your case a specific number:98765432).Finally over-write that element with a new string startIndex and endIndex.</p>\n"}],"owner":{"account_id":23530967,"reputation":1,"user_id":17576615,"display_name":"Simply Bacon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638533818,"answer_count":2,"score":0,"last_activity_date":1638621458,"creation_date":1638498567,"question_id":70208821,"body_markdown":"I have an ArrayList that&#39;s populated with sentences but need certain elements to be removed based on if they contain a certain integer.\r\n\r\nHere&#39;s what my ArrayList looks like\r\n```\r\n[Savings 12345678 0.60, Checking 98765432 0.01, Deposit 98765432 300, Transfer 98765432 12345678 300]\r\n```\r\nI want to remove elements that include ***98765432***\r\n\r\n(`Checking 98765432 0.01`, `Deposit 98765432 300`, and `Transfer 98765432 12345678 300`)\r\n\r\nbut keep `Savings 12345678 0.60`.","title":"Removing element from ArrayList if contains value","body":"<p>I have an ArrayList that's populated with sentences but need certain elements to be removed based on if they contain a certain integer.</p>\n<p>Here's what my ArrayList looks like</p>\n<pre><code>[Savings 12345678 0.60, Checking 98765432 0.01, Deposit 98765432 300, Transfer 98765432 12345678 300]\n</code></pre>\n<p>I want to remove elements that include <em><strong>98765432</strong></em></p>\n<p>(<code>Checking 98765432 0.01</code>, <code>Deposit 98765432 300</code>, and <code>Transfer 98765432 12345678 300</code>)</p>\n<p>but keep <code>Savings 12345678 0.60</code>.</p>\n"},{"tags":["java","spring","hibernate","intellij-idea","maven-dependency"],"comments":[{"owner":{"display_name":"user17186249"},"score":1,"creation_date":1636526007,"post_id":69908712,"comment_id":123577362,"body_markdown":"Does anybody else have ever used `JPA Hibernate Metamodel classes in IntelliJ IDEA`?","body":"Does anybody else have ever used <code>JPA Hibernate Metamodel classes in IntelliJ IDEA</code>?"}],"answers":[{"tags":[],"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636526419,"creation_date":1636526419,"answer_id":69908832,"question_id":69908712,"body_markdown":"Try remove .Final from version or just use another version","title":"Cannot generate JPA Hibernate Metamodel classes in IntelliJ IDEA","body":"<p>Try remove .Final from version or just use another version</p>\n"}],"owner":{"display_name":"user17186249"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3637,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69908832,"answer_count":1,"score":5,"last_activity_date":1638621392,"creation_date":1636525471,"question_id":69908712,"body_markdown":"In my Java project, I get &quot;*java: cannot find symbol*&quot; errors pointing Metamodel classes e.g. `Company_`. \r\n\r\nSo, first I checked `my-project\\target\\generated-sources\\annotations` and see that it is empty. Then, after several search on the web and SO, I see that the necessary settings seems to be ok and this is the first time I get this problem. \r\n\r\nHere is corresponding settings in `pom.xml`:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.7.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd I have already had this settings and these have not been changed:\r\n\r\n[Settings][1]\r\n\r\n&gt;Settings &gt; Build execution, Deployment &gt; Compiler &gt; Annotation Processors &gt; my-project (selected) : &lt;br&gt;\r\n    Enable annotation processing (checked)&lt;br&gt;\r\n    Obtain processors from project classpath (selected)&lt;br&gt;\r\n    Store generated sources relative to: Module content root&lt;br&gt;\r\n    Production sources directory: target\\generated-sources\\annotations&lt;br&gt;\r\n    Test sources directory: target\\generated-test-sources\\test-annotations&lt;br&gt;\r\n\r\nI tried to rebuild project, module, etc. but there is still nothing in `my-project\\target\\generated-sources\\annotations` directory. So, how can I generate these **JPA Hibernate Metamodel classes** in IntelliJ IDEA? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VYVes.png","title":"Cannot generate JPA Hibernate Metamodel classes in IntelliJ IDEA","body":"<p>In my Java project, I get &quot;<em>java: cannot find symbol</em>&quot; errors pointing Metamodel classes e.g. <code>Company_</code>.</p>\n<p>So, first I checked <code>my-project\\target\\generated-sources\\annotations</code> and see that it is empty. Then, after several search on the web and SO, I see that the necessary settings seems to be ok and this is the first time I get this problem.</p>\n<p>Here is corresponding settings in <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n    &lt;version&gt;5.3.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I have already had this settings and these have not been changed:</p>\n<p><a href=\"https://i.stack.imgur.com/VYVes.png\" rel=\"nofollow noreferrer\">Settings</a></p>\n<blockquote>\n<p>Settings &gt; Build execution, Deployment &gt; Compiler &gt; Annotation Processors &gt; my-project (selected) : <br>\nEnable annotation processing (checked)<br>\nObtain processors from project classpath (selected)<br>\nStore generated sources relative to: Module content root<br>\nProduction sources directory: target\\generated-sources\\annotations<br>\nTest sources directory: target\\generated-test-sources\\test-annotations<br></p>\n</blockquote>\n<p>I tried to rebuild project, module, etc. but there is still nothing in <code>my-project\\target\\generated-sources\\annotations</code> directory. So, how can I generate these <strong>JPA Hibernate Metamodel classes</strong> in IntelliJ IDEA?</p>\n"},{"tags":["java","opengl-es","opengl-es-2.0","coordinate-transformation"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638615029,"creation_date":1638614729,"answer_id":70224906,"question_id":70224831,"body_markdown":"If you want to rotate around a pivot you have to:\r\n\r\n- Translate the object so that the pivot point is moved to (0, 0).\r\n- Rotate the object.\r\n- Move the object so that the pivot point moves in its original position.\r\n\r\n```java\r\nfloat pivotX = 300;\r\nfloat pivotY = 300;\r\nMatrix.setIdentityM(rotationMatrix, 0);\r\nMatrix.translateM(rotationMatrix, 0, pivotX, pivotY, 0);\r\nMatrix.rotateM(rotationMatrix, 0, angle, 0, 0, -1.0f);\r\nMatrix.translateM(rotationMatrix, 0, -pivotX, -pivotY, 0);\r\n```\r\n\r\n---\r\n\r\nHowever, I recommend drawing the rectangle so that the center of the rectangle is at position (0, 0). Finally move the rectangle to its target position in the scene:\r\n\r\n\r\n```java\r\nMatrix.setIdentityM(rotationMatrix, 0);\r\nMatrix.translateM(rotationMatrix, 0, pivotX, pivotY, 0);\r\nMatrix.rotateM(rotationMatrix, 0, angle, 0, 0, -1.0f);\r\nMatrix.multiplyMM(scratch, 0, mvpMatrix, 0, rotationMatrix, 0);\r\n\r\nrectangle.x = -100;\r\nrectangle.y = -100;\r\nrectangle.w = 200;\r\nrectangle.h = 200;\r\nrectangle.draw(scratch);\r\n```","title":"OpenGL ES rotating shape around its center","body":"<p>If you want to rotate around a pivot you have to:</p>\n<ul>\n<li>Translate the object so that the pivot point is moved to (0, 0).</li>\n<li>Rotate the object.</li>\n<li>Move the object so that the pivot point moves in its original position.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>float pivotX = 300;\nfloat pivotY = 300;\nMatrix.setIdentityM(rotationMatrix, 0);\nMatrix.translateM(rotationMatrix, 0, pivotX, pivotY, 0);\nMatrix.rotateM(rotationMatrix, 0, angle, 0, 0, -1.0f);\nMatrix.translateM(rotationMatrix, 0, -pivotX, -pivotY, 0);\n</code></pre>\n<hr />\n<p>However, I recommend drawing the rectangle so that the center of the rectangle is at position (0, 0). Finally move the rectangle to its target position in the scene:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Matrix.setIdentityM(rotationMatrix, 0);\nMatrix.translateM(rotationMatrix, 0, pivotX, pivotY, 0);\nMatrix.rotateM(rotationMatrix, 0, angle, 0, 0, -1.0f);\nMatrix.multiplyMM(scratch, 0, mvpMatrix, 0, rotationMatrix, 0);\n\nrectangle.x = -100;\nrectangle.y = -100;\nrectangle.w = 200;\nrectangle.h = 200;\nrectangle.draw(scratch);\n</code></pre>\n"}],"owner":{"account_id":23344355,"reputation":87,"user_id":17418873,"display_name":"GoatPonny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70224906,"answer_count":1,"score":1,"last_activity_date":1638621299,"creation_date":1638613892,"question_id":70224831,"body_markdown":"I tried to rotate rectangle using rotateMatrix, following tutorial on https://developer.android.com/training/graphics/opengl/motion, but when I runned it, the rectangle is rotating around (I think) point 0,0. What do I need to change to make it rotate around it&#39;s center?\r\n\r\n    @Override\r\n    public void onSurfaceChanged(GL10 gl, int width, int height) {\r\n        MainGLRenderer.width = width;\r\n        MainGLRenderer.height = height;\r\n\r\n        loadLevel();\r\n\r\n        GLES20.glViewport(0, 0, width, height);\r\n\r\n        Matrix.orthoM(projectionMatrix, 0, 0, width, height, 0, 1, -1);\r\n        Matrix.setLookAtM(viewMatrix, 0, 0, 0, 1, 0f, 0f, 0f, 0f, 1.0f, 0.0f);\r\n        Matrix.multiplyMM(mvpMatrix, 0, projectionMatrix, 0, viewMatrix, 0);\r\n    }\r\n\r\n    @Override\r\n    public void onDrawFrame(GL10 gl) {\r\n        GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\r\n\r\n        float[] scratch = new float[16];\r\n        long time = SystemClock.uptimeMillis() % 4000L;\r\n        float angle = 0.090f * ((int) time);\r\n        Matrix.setRotateM(rotationMatrix, 0, angle, 0, 0, -1.0f);\r\n        Matrix.multiplyMM(scratch, 0, mvpMatrix, 0, rotationMatrix, 0);\r\n\r\n        rectangle.x = 200;\r\n        rectangle.y = 200;\r\n        rectangle.w = 200;\r\n        rectangle.h = 200;\r\n        rectangle.draw(scratch);\r\n    }","title":"OpenGL ES rotating shape around its center","body":"<p>I tried to rotate rectangle using rotateMatrix, following tutorial on <a href=\"https://developer.android.com/training/graphics/opengl/motion\" rel=\"nofollow noreferrer\">https://developer.android.com/training/graphics/opengl/motion</a>, but when I runned it, the rectangle is rotating around (I think) point 0,0. What do I need to change to make it rotate around it's center?</p>\n<pre><code>@Override\npublic void onSurfaceChanged(GL10 gl, int width, int height) {\n    MainGLRenderer.width = width;\n    MainGLRenderer.height = height;\n\n    loadLevel();\n\n    GLES20.glViewport(0, 0, width, height);\n\n    Matrix.orthoM(projectionMatrix, 0, 0, width, height, 0, 1, -1);\n    Matrix.setLookAtM(viewMatrix, 0, 0, 0, 1, 0f, 0f, 0f, 0f, 1.0f, 0.0f);\n    Matrix.multiplyMM(mvpMatrix, 0, projectionMatrix, 0, viewMatrix, 0);\n}\n\n@Override\npublic void onDrawFrame(GL10 gl) {\n    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\n\n    float[] scratch = new float[16];\n    long time = SystemClock.uptimeMillis() % 4000L;\n    float angle = 0.090f * ((int) time);\n    Matrix.setRotateM(rotationMatrix, 0, angle, 0, 0, -1.0f);\n    Matrix.multiplyMM(scratch, 0, mvpMatrix, 0, rotationMatrix, 0);\n\n    rectangle.x = 200;\n    rectangle.y = 200;\n    rectangle.w = 200;\n    rectangle.h = 200;\n    rectangle.draw(scratch);\n}\n</code></pre>\n"},{"tags":["java","dictionary","caching","java-8"],"comments":[{"owner":{"account_id":2436754,"reputation":53,"user_id":2126471,"display_name":"Michael"},"score":1,"creation_date":1638617141,"post_id":70225088,"comment_id":124138967,"body_markdown":"Have a look at the Google Guava Cache implementations!","body":"Have a look at the Google Guava Cache implementations!"}],"answers":[{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638617433,"creation_date":1638617433,"answer_id":70225183,"question_id":70225088,"body_markdown":"If you can add external libraries you could use [guava][1] or [Caffeine][2]\r\n\r\nAnother option is to have a daemon thread that wakes up periodically and removes the untouched objects but I think is better to use an existing library.\r\n\r\n\r\n  [1]: https://www.baeldung.com/guava-cache\r\n  [2]: https://www.baeldung.com/java-caching-caffeine","title":"Exists a Java Map cache data structure?","body":"<p>If you can add external libraries you could use <a href=\"https://www.baeldung.com/guava-cache\" rel=\"nofollow noreferrer\">guava</a> or <a href=\"https://www.baeldung.com/java-caching-caffeine\" rel=\"nofollow noreferrer\">Caffeine</a></p>\n<p>Another option is to have a daemon thread that wakes up periodically and removes the untouched objects but I think is better to use an existing library.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638621250,"creation_date":1638621250,"answer_id":70225616,"question_id":70225088,"body_markdown":"You can extend [LinkedHashMap](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html) as LRU cache.\r\n\r\n    static class LRUCache&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\r\n        private int maxSize;\r\n\r\n        private LRUCache(int maxSize) {\r\n            super(maxSize, 0.75f, true);\r\n            this.maxSize = maxSize;\r\n        }\r\n\r\n        @Override\r\n        protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\r\n            return size() &gt; maxSize;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        LRUCache&lt;Integer, Integer&gt; cache = new LRUCache&lt;&gt;(2);\r\n        cache.put(1, 1);\r\n        cache.put(2, 2);\r\n        cache.get(1);\r\n        cache.put(3, 3);\r\n        cache.get(1);\r\n        cache.put(4, 4);\r\n        cache.get(1);\r\n        cache.put(5, 5);\r\n        System.out.println(cache);\r\n    }\r\n\r\noutput:\r\n\r\n    {1=1, 5=5}\r\n\r\nYou can implement a removal strategy in `removeEldestEntry()`.\r\n","title":"Exists a Java Map cache data structure?","body":"<p>You can extend <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a> as LRU cache.</p>\n<pre><code>static class LRUCache&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\n    private int maxSize;\n\n    private LRUCache(int maxSize) {\n        super(maxSize, 0.75f, true);\n        this.maxSize = maxSize;\n    }\n\n    @Override\n    protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\n        return size() &gt; maxSize;\n    }\n}\n\npublic static void main(String[] args) {\n    LRUCache&lt;Integer, Integer&gt; cache = new LRUCache&lt;&gt;(2);\n    cache.put(1, 1);\n    cache.put(2, 2);\n    cache.get(1);\n    cache.put(3, 3);\n    cache.get(1);\n    cache.put(4, 4);\n    cache.get(1);\n    cache.put(5, 5);\n    System.out.println(cache);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>{1=1, 5=5}\n</code></pre>\n<p>You can implement a removal strategy in <code>removeEldestEntry()</code>.</p>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1638625923,"answer_count":2,"score":-1,"last_activity_date":1638621250,"creation_date":1638616464,"question_id":70225088,"body_markdown":"I need to handle a Cached Map in my java application.\r\nThis is map is an always growing structure and the I need some method to remove old objects in the map when they are not used for a while.\r\n\r\nIs there any existing Java map structure that implements this logic defining a maximum lifetime of the object in the map or some common library that implements this map?\r\nI&#39;m using Java8 and Java-Commons libraries.\r\n\r\n","title":"Exists a Java Map cache data structure?","body":"<p>I need to handle a Cached Map in my java application.\nThis is map is an always growing structure and the I need some method to remove old objects in the map when they are not used for a while.</p>\n<p>Is there any existing Java map structure that implements this logic defining a maximum lifetime of the object in the map or some common library that implements this map?\nI'm using Java8 and Java-Commons libraries.</p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1344427237,"post_id":11863955,"comment_id":15781783,"body_markdown":"What SLF4J related jar files do you have? Should be at least two, api and bindings. Their versions need to match.","body":"What SLF4J related jar files do you have? Should be at least two, api and bindings. Their versions need to match."},{"owner":{"account_id":1730962,"reputation":21,"user_id":1584586,"display_name":"user1584586"},"score":0,"creation_date":1344427616,"post_id":11863955,"comment_id":15781962,"body_markdown":"57.[INFO] +- org.slf4j:slf4j-log4j12:jar:1.6.1:compile \n58.[INFO] | - org.slf4j:slf4j-api:jar:1.6.1:compile","body":"57.[INFO] +- org.slf4j:slf4j-log4j12:jar:1.6.1:compile  58.[INFO] | - org.slf4j:slf4j-api:jar:1.6.1:compile"},{"owner":{"account_id":1730962,"reputation":21,"user_id":1584586,"display_name":"user1584586"},"score":0,"creation_date":1344429048,"post_id":11863955,"comment_id":15782698,"body_markdown":"i have added the dependency tree ...","body":"i have added the dependency tree ..."},{"owner":{"account_id":1730962,"reputation":21,"user_id":1584586,"display_name":"user1584586"},"score":0,"creation_date":1344437143,"post_id":11863955,"comment_id":15786685,"body_markdown":"I have the three JARs.. slf4j-api-1.6.6, slf4j-log4j12-1.6.6 and log4j1.2.17. Did i miss any other JARs","body":"I have the three JARs.. slf4j-api-1.6.6, slf4j-log4j12-1.6.6 and log4j1.2.17. Did i miss any other JARs"}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1344468620,"creation_date":1344468620,"answer_id":11874723,"question_id":11863955,"body_markdown":"&gt; &quot;org.slf4j:jcl-over-slf4j:jar:1.5.8:compile&quot;\r\n\r\nThat one needs to be upgraded to 1.6.6.\r\n\r\nIt provides the implementation of Commons Logging that dispatches to SLF4J. (You should probably also exclude the other commons-logging jar because of that).","title":"Issue with SLF4J binding","body":"<blockquote>\n  <p>\"org.slf4j:jcl-over-slf4j:jar:1.5.8:compile\"</p>\n</blockquote>\n\n<p>That one needs to be upgraded to 1.6.6.</p>\n\n<p>It provides the implementation of Commons Logging that dispatches to SLF4J. (You should probably also exclude the other commons-logging jar because of that).</p>\n"}],"owner":{"account_id":1730962,"reputation":21,"user_id":1584586,"display_name":"user1584586"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638621236,"creation_date":1344426867,"question_id":11863955,"body_markdown":"    1. SLF4J: slf4j-api 1.6.x (or later) is incompatible with this binding.    \r\n    2. SLF4J: Your binding is version 1.5.5 or earlier.    \r\n    3. SLF4J: Upgrade your binding to version 1.6.x. or 2.0.x    \r\n    4. Aug 8, 2012 3:56:54 PM org.apache.catalina.core.StandardContext listenerStart    \r\n    SEVERE: Exception sending context initialized event to listener instance of class   org.springframework.web.util.Log4jConfigListener    \r\n    5. java.lang.NoSuchMethodError: org.slf4j.impl.StaticLoggerBinder.getSingleton()Lorg/slf4j/impl/StaticLoggerBinder;    \r\n    6. at org.slf4j.LoggerFactory.bind(LoggerFactory.java:121)    \r\n    7. at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:111)    \r\n    8. at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:268)    \r\n    9. at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:241)    \r\n    10. at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)    \r\n    11. at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:131)    \r\n    12. at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)    \r\n    at org.springframework.util.PropertyPlaceholderHelper.&lt;clinit&gt;  (PropertyPlaceholderHelper.java:40)    \r\n    13. at org.springframework.util.SystemPropertyUtils.&lt;clinit&gt;(SystemPropertyUtils.java:49)    \r\n    \r\n        Dependency are     \r\n    13. [WARNING] The POM for org:jfreechart:jar:1.0.14 is missing, no dependency inform ation available    \r\n    13.   [WARNING] The POM for org:JFreeCharts:jar:1.0 is missing, no dependency information available    \r\n    13.   [WARNING] The POM for org.cpr:cpr:jar:1.0 is missing, no dependency information available    \r\n    13.   [WARNING] The artifact axis:axis-jaxrpc:jar:1.4 has been relocated to org.apache.axis:axis-jaxrpc:jar:1.4    \r\n    13.   [INFO]    \r\n    13.   [INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ JiraWeb ---    \r\n    13.   [WARNING] Missing POM for org.jiraAPI:soap:jar:4.4.5    \r\n    13.   [WARNING] Missing POM for org.jiraAPI:soapDEV:jar:4.4.5    \r\n    13.   [WARNING] Missing POM for org:jfreechart:jar:1.0.14    \r\n    13.   [WARNING] Missing POM for org:JFreeCharts:jar:1.0    \r\n    13.   [WARNING] While downloading axis:axis-jaxrpc:1.4    \r\n    13.   This artifact has been relocated to org.apache.axis:axis-jaxrpc:1.4.    \r\n    13.   [WARNING] Missing POM for org.cpr:cpr:jar:1.0    \r\n    13.   [INFO] com.jpmc.gti.jira:JiraWeb:war:1.0.1-SNAPSHOT    \r\n    13.   [INFO] +- org.springframework:spring-context:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] |  +- org.springframework:spring-aop:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] |  +- org.springframework:spring-beans:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] |  +- org.springframework:spring-core:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] |  +- org.springframework:spring-expression:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] |  \\- org.springframework:spring-asm:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] +- org.springframework:spring-context-support:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] +- org.springframework:spring-jdbc:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] +- org.springframework:spring-web:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] |  \\- aopalliance:aopalliance:jar:1.0:compile    \r\n    13.   [INFO] +- org.springframework:spring-webmvc:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] +- org.springframework:spring-tx:jar:3.0.5.RELEASE:compile    \r\n    13.   [INFO] +- javax.servlet:servlet-api:jar:2.5:provided    \r\n    13.   [INFO] +- org.directwebremoting:dwr:jar:3.0rc1:compile    \r\n    13.   [INFO] |  \\- org.mortbay.jetty:cometd:jar:6.1.4:compile    \r\n    13.   [INFO] |     \\- org.mortbay.jetty:jetty-util:jar:6.1.4:compile    \r\n    13.   [INFO] +- org.jiraAPI:soap:jar:4.4.5:compile    \r\n    13.   [INFO] +- org.jiraAPI:soapDEV:jar:4.4.5:compile    \r\n    13.   [INFO] +- commons-logging:commons-logging:jar:1.1.1:compile    \r\n    13.   [INFO] +- commons-lang:commons-lang:jar:2.4:compile    \r\n    13.   [INFO] +- commons-pool:commons-pool:jar:1.4:compile    \r\n    13.   [INFO] +- commons-collections:commons-collections:jar:3.2:compile    \r\n    13.   [INFO] +- commons-dbcp:commons-dbcp:jar:1.2.2:compile    \r\n    13.   [INFO] +- commons-discovery:commons-discovery:jar:0.4:compile    \r\n    13.   [INFO] +- commons-net:commons-net:jar:1.4.1:compile    \r\n    13.   [INFO] |  \\- oro:oro:jar:2.0.8:compile    \r\n    13.   [INFO] +- commons-io:commons-io:jar:1.4:compile    \r\n    13.   [INFO] +- commons-fileupload:commons-fileupload:jar:1.2:compile    \r\n    13.   [INFO] +- log4j:log4j:jar:1.2.14:compile    \r\n    13.   [INFO] +- org.slf4j:slf4j-log4j12:jar:1.6.1:compile    \r\n    13.   [INFO] |  \\- org.slf4j:slf4j-api:jar:1.6.1:compile    \r\n    13.   [INFO] +- junit:junit:jar:4.8.2:compile    \r\n    13.   [INFO] +- oracle:oracle:jar:11.1.0.6:compile    \r\n    13.   [INFO] +- javax.servlet:jstl:jar:1.1.2:runtime    \r\n    13.   [INFO] +- taglibs:standard:jar:1.1.2:compile    \r\n    13.   [INFO] +- org.apache.tiles:tiles-jsp:jar:2.2.2:compile    \r\n    13.   [INFO] |  +- org.apache.tiles:tiles-servlet:jar:2.2.2:compile    \r\n    13.   [INFO] |  \\- org.apache.tiles:tiles-template:jar:2.2.2:compile    \r\n    13.   [INFO] +- org.apache.tiles:tiles-core:jar:2.2.2:compile    \r\n    13.   [INFO] |  +- commons-digester:commons-digester:jar:2.0:compile    \r\n    13.   [INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:1.5.8:compile    \r\n    13.   [INFO] +- org.apache.tiles:tiles-api:jar:2.2.2:compile    \r\n    13.   [INFO] +- org.apache.poi:poi:jar:3.7:compile    \r\n    13.   [INFO] +- org.apache.poi:poi-ooxml:jar:3.7:compile    \r\n    13.   [INFO] |  +- org.apache.poi:poi-ooxml-schemas:jar:3.7:compile    \r\n    13.   [INFO] |  |  +- org.apache.xmlbeans:xmlbeans:jar:2.3.0:compile    \r\n    13.   [INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:compile    \r\n    13.   [INFO] |  |  \\- org.apache.geronimo.specs:geronimo-stax-api_1.0_spec:jar:1.0:compile    \r\n    13.   [INFO] |  \\- dom4j:dom4j:jar:1.6.1:compile    \r\n    13.   [INFO] |     \\- xml-apis:xml-apis:jar:1.0.b2:compile    \r\n    13.   [INFO] +- org.springframework:spring-test:jar:3.0.5.RELEASE:test    \r\n    13.   [INFO] +- org.easymock:easymock:jar:2.5.2:test    \r\n    13.   [INFO] +- org.easymock:easymockclassextension:jar:2.5.2:test    \r\n    13.   [INFO] |  +- cglib:cglib-nodep:jar:2.2:test    \r\n    13.   [INFO] |  \\- org.objenesis:objenesis:jar:1.2:test    \r\n    13.   [INFO] +- net.sf.ezmorph:ezmorph:jar:0.8.1:compile    \r\n    13.   [INFO] +- jfree:jcommon:jar:1.0.9:compile    \r\n    13.   [INFO] +- org:jfreechart:jar:1.0.14:compile    \r\n    13.   [INFO] +- org:JFreeCharts:jar:1.0:compile    \r\n    13.   [INFO] +- axis:axis:jar:1.4:compile    \r\n    13.   [INFO] |  +- org.apache.axis:axis-saaj:jar:1.4:compile    \r\n    13.   [INFO] |  \\- axis:axis-wsdl4j:jar:1.5.1:runtime    \r\n    13.   [INFO] +- org.apache.axis:axis-jaxrpc:jar:1.4:compile    \r\n    13.   [INFO] +- org.cpr:cpr:jar:1.0:compile    \r\n    13.   [INFO] +- com.sun.jersey:jersey-core:jar:1.12:compile    \r\n    13.   [INFO] +- com.sun.jersey:jersey-client:jar:1.12:compile    \r\n    13.   [INFO] +- net.sf.json-lib:json-lib:jar:jdk15:2.3:compile    \r\n    13.   [INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.8.0:compile    \r\n    13.   [INFO] +- org.quartz-scheduler:quartz:jar:2.1.5:compile    \r\n    13.   [INFO] |  \\- c3p0:c3p0:jar:0.9.1.1:compile    \r\n    13.   [INFO] \\- javax.mail:mail:jar:1.4:compile    \r\n    13.   [INFO]    \\- javax.activation:activation:jar:1.1:compile    \r\n    14. Anyone has faced this issue.. any pointer will be really helpful. Thanks.    \r\n\r\n","title":"Issue with SLF4J binding","body":"<pre><code>1. SLF4J: slf4j-api 1.6.x (or later) is incompatible with this binding.    \n2. SLF4J: Your binding is version 1.5.5 or earlier.    \n3. SLF4J: Upgrade your binding to version 1.6.x. or 2.0.x    \n4. Aug 8, 2012 3:56:54 PM org.apache.catalina.core.StandardContext listenerStart    \nSEVERE: Exception sending context initialized event to listener instance of class   org.springframework.web.util.Log4jConfigListener    \n5. java.lang.NoSuchMethodError: org.slf4j.impl.StaticLoggerBinder.getSingleton()Lorg/slf4j/impl/StaticLoggerBinder;    \n6. at org.slf4j.LoggerFactory.bind(LoggerFactory.java:121)    \n7. at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:111)    \n8. at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:268)    \n9. at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:241)    \n10. at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)    \n11. at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:131)    \n12. at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)    \nat org.springframework.util.PropertyPlaceholderHelper.&lt;clinit&gt;  (PropertyPlaceholderHelper.java:40)    \n13. at org.springframework.util.SystemPropertyUtils.&lt;clinit&gt;(SystemPropertyUtils.java:49)    \n\n    Dependency are     \n13. [WARNING] The POM for org:jfreechart:jar:1.0.14 is missing, no dependency inform ation available    \n13.   [WARNING] The POM for org:JFreeCharts:jar:1.0 is missing, no dependency information available    \n13.   [WARNING] The POM for org.cpr:cpr:jar:1.0 is missing, no dependency information available    \n13.   [WARNING] The artifact axis:axis-jaxrpc:jar:1.4 has been relocated to org.apache.axis:axis-jaxrpc:jar:1.4    \n13.   [INFO]    \n13.   [INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ JiraWeb ---    \n13.   [WARNING] Missing POM for org.jiraAPI:soap:jar:4.4.5    \n13.   [WARNING] Missing POM for org.jiraAPI:soapDEV:jar:4.4.5    \n13.   [WARNING] Missing POM for org:jfreechart:jar:1.0.14    \n13.   [WARNING] Missing POM for org:JFreeCharts:jar:1.0    \n13.   [WARNING] While downloading axis:axis-jaxrpc:1.4    \n13.   This artifact has been relocated to org.apache.axis:axis-jaxrpc:1.4.    \n13.   [WARNING] Missing POM for org.cpr:cpr:jar:1.0    \n13.   [INFO] com.jpmc.gti.jira:JiraWeb:war:1.0.1-SNAPSHOT    \n13.   [INFO] +- org.springframework:spring-context:jar:3.0.5.RELEASE:compile    \n13.   [INFO] |  +- org.springframework:spring-aop:jar:3.0.5.RELEASE:compile    \n13.   [INFO] |  +- org.springframework:spring-beans:jar:3.0.5.RELEASE:compile    \n13.   [INFO] |  +- org.springframework:spring-core:jar:3.0.5.RELEASE:compile    \n13.   [INFO] |  +- org.springframework:spring-expression:jar:3.0.5.RELEASE:compile    \n13.   [INFO] |  \\- org.springframework:spring-asm:jar:3.0.5.RELEASE:compile    \n13.   [INFO] +- org.springframework:spring-context-support:jar:3.0.5.RELEASE:compile    \n13.   [INFO] +- org.springframework:spring-jdbc:jar:3.0.5.RELEASE:compile    \n13.   [INFO] +- org.springframework:spring-web:jar:3.0.5.RELEASE:compile    \n13.   [INFO] |  \\- aopalliance:aopalliance:jar:1.0:compile    \n13.   [INFO] +- org.springframework:spring-webmvc:jar:3.0.5.RELEASE:compile    \n13.   [INFO] +- org.springframework:spring-tx:jar:3.0.5.RELEASE:compile    \n13.   [INFO] +- javax.servlet:servlet-api:jar:2.5:provided    \n13.   [INFO] +- org.directwebremoting:dwr:jar:3.0rc1:compile    \n13.   [INFO] |  \\- org.mortbay.jetty:cometd:jar:6.1.4:compile    \n13.   [INFO] |     \\- org.mortbay.jetty:jetty-util:jar:6.1.4:compile    \n13.   [INFO] +- org.jiraAPI:soap:jar:4.4.5:compile    \n13.   [INFO] +- org.jiraAPI:soapDEV:jar:4.4.5:compile    \n13.   [INFO] +- commons-logging:commons-logging:jar:1.1.1:compile    \n13.   [INFO] +- commons-lang:commons-lang:jar:2.4:compile    \n13.   [INFO] +- commons-pool:commons-pool:jar:1.4:compile    \n13.   [INFO] +- commons-collections:commons-collections:jar:3.2:compile    \n13.   [INFO] +- commons-dbcp:commons-dbcp:jar:1.2.2:compile    \n13.   [INFO] +- commons-discovery:commons-discovery:jar:0.4:compile    \n13.   [INFO] +- commons-net:commons-net:jar:1.4.1:compile    \n13.   [INFO] |  \\- oro:oro:jar:2.0.8:compile    \n13.   [INFO] +- commons-io:commons-io:jar:1.4:compile    \n13.   [INFO] +- commons-fileupload:commons-fileupload:jar:1.2:compile    \n13.   [INFO] +- log4j:log4j:jar:1.2.14:compile    \n13.   [INFO] +- org.slf4j:slf4j-log4j12:jar:1.6.1:compile    \n13.   [INFO] |  \\- org.slf4j:slf4j-api:jar:1.6.1:compile    \n13.   [INFO] +- junit:junit:jar:4.8.2:compile    \n13.   [INFO] +- oracle:oracle:jar:11.1.0.6:compile    \n13.   [INFO] +- javax.servlet:jstl:jar:1.1.2:runtime    \n13.   [INFO] +- taglibs:standard:jar:1.1.2:compile    \n13.   [INFO] +- org.apache.tiles:tiles-jsp:jar:2.2.2:compile    \n13.   [INFO] |  +- org.apache.tiles:tiles-servlet:jar:2.2.2:compile    \n13.   [INFO] |  \\- org.apache.tiles:tiles-template:jar:2.2.2:compile    \n13.   [INFO] +- org.apache.tiles:tiles-core:jar:2.2.2:compile    \n13.   [INFO] |  +- commons-digester:commons-digester:jar:2.0:compile    \n13.   [INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:1.5.8:compile    \n13.   [INFO] +- org.apache.tiles:tiles-api:jar:2.2.2:compile    \n13.   [INFO] +- org.apache.poi:poi:jar:3.7:compile    \n13.   [INFO] +- org.apache.poi:poi-ooxml:jar:3.7:compile    \n13.   [INFO] |  +- org.apache.poi:poi-ooxml-schemas:jar:3.7:compile    \n13.   [INFO] |  |  +- org.apache.xmlbeans:xmlbeans:jar:2.3.0:compile    \n13.   [INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:compile    \n13.   [INFO] |  |  \\- org.apache.geronimo.specs:geronimo-stax-api_1.0_spec:jar:1.0:compile    \n13.   [INFO] |  \\- dom4j:dom4j:jar:1.6.1:compile    \n13.   [INFO] |     \\- xml-apis:xml-apis:jar:1.0.b2:compile    \n13.   [INFO] +- org.springframework:spring-test:jar:3.0.5.RELEASE:test    \n13.   [INFO] +- org.easymock:easymock:jar:2.5.2:test    \n13.   [INFO] +- org.easymock:easymockclassextension:jar:2.5.2:test    \n13.   [INFO] |  +- cglib:cglib-nodep:jar:2.2:test    \n13.   [INFO] |  \\- org.objenesis:objenesis:jar:1.2:test    \n13.   [INFO] +- net.sf.ezmorph:ezmorph:jar:0.8.1:compile    \n13.   [INFO] +- jfree:jcommon:jar:1.0.9:compile    \n13.   [INFO] +- org:jfreechart:jar:1.0.14:compile    \n13.   [INFO] +- org:JFreeCharts:jar:1.0:compile    \n13.   [INFO] +- axis:axis:jar:1.4:compile    \n13.   [INFO] |  +- org.apache.axis:axis-saaj:jar:1.4:compile    \n13.   [INFO] |  \\- axis:axis-wsdl4j:jar:1.5.1:runtime    \n13.   [INFO] +- org.apache.axis:axis-jaxrpc:jar:1.4:compile    \n13.   [INFO] +- org.cpr:cpr:jar:1.0:compile    \n13.   [INFO] +- com.sun.jersey:jersey-core:jar:1.12:compile    \n13.   [INFO] +- com.sun.jersey:jersey-client:jar:1.12:compile    \n13.   [INFO] +- net.sf.json-lib:json-lib:jar:jdk15:2.3:compile    \n13.   [INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.8.0:compile    \n13.   [INFO] +- org.quartz-scheduler:quartz:jar:2.1.5:compile    \n13.   [INFO] |  \\- c3p0:c3p0:jar:0.9.1.1:compile    \n13.   [INFO] \\- javax.mail:mail:jar:1.4:compile    \n13.   [INFO]    \\- javax.activation:activation:jar:1.1:compile    \n14. Anyone has faced this issue.. any pointer will be really helpful. Thanks.    \n</code></pre>\n"},{"tags":["java","jlayer"],"comments":[{"owner":{"account_id":23541323,"reputation":11,"user_id":17585473,"display_name":"Sevenerz"},"score":0,"creation_date":1638620396,"post_id":70223152,"comment_id":124139484,"body_markdown":"In Eclipse, No exceptions appeared. but Export with JAR file, exception has appeared. I Edited my Code. Check it please...","body":"In Eclipse, No exceptions appeared. but Export with JAR file, exception has appeared. I Edited my Code. Check it please..."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638628523,"post_id":70223152,"comment_id":124141178,"body_markdown":"_exception has appeared_ [Edit] your question and post the exception and the stack trace. _I edited my code. Check it please_ The only way I can help you debug your code is to reproduce your problem and I can&#39;t because you have not posted a [mcve]. It appears class `Player` is a class that you wrote but I can&#39;t find the code of that class in your question.","body":"<i>exception has appeared</i> <a href=\"https://stackoverflow.com/posts/70223152/edit\">Edit</a> your question and post the exception and the stack trace. <i>I edited my code. Check it please</i> The only way I can help you debug your code is to reproduce your problem and I can&#39;t because you have not posted a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It appears class <code>Player</code> is a class that you wrote but I can&#39;t find the code of that class in your question."}],"owner":{"account_id":23541323,"reputation":11,"user_id":17585473,"display_name":"Sevenerz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638621032,"creation_date":1638594001,"question_id":70223152,"body_markdown":"This code can play in Eclipse Debug, but Can&#39;t play on Jar file. \r\nthis is a code.\r\nthis is my Main class.\r\n\r\n    Music lobby = new Music(&quot;LOBBY.mp3&quot;, true);\r\n    \r\n    lobby.start();\r\n\r\n\r\nCan music files be used as &#39;getClass().getClassLoader().getResource&#39;?\r\n\r\nThere is Full code.\r\n\r\n    public class Music extends Thread {\r\n\r\n\tprivate Player player;\r\n\tprivate boolean isLoop;\r\n\tprivate File file;\r\n\tprivate InputStream fis;\r\n\tprivate BufferedInputStream bis;\r\n\t\r\n\tprivate URL url;\r\n\r\n\tpublic Music(String name, boolean isLoop) {\r\n\r\n\t\ttry {\r\n\t\t\tthis.isLoop = isLoop;\r\n\t\t\t//file = new File(&quot;C:/Users/leesn/git/scg/eclipse-workspace/scgproject/src/music/&quot; + name);\r\n\t\t\tfile = new File(First.class.getResource(&quot;../music/&quot; + name).toURI());\r\n\t\t\t//file = new File(scg.class.getClassLoader().getResource(&quot;../music/&quot; + name));\r\n\t\t\t//url = First.class.getResource(&quot;../music/&quot; + name);\r\n\t\t\t//url = scg.class.getResource(&quot;../music/&quot; +name);\r\n\t\t\t//fis = new FileInputStream(file); //default\r\n\t\t\t//fis = getClass().getResourceAsStream(name);\r\n\t\t\t//fis = this.getClass().getResourceAsStream(&quot;../music/&quot; +name);\r\n\t\t\t//fis = scg.class.getClassLoader().getResourceAsStream(&quot;../music/&quot; + name); //error\t\r\n\t\t\t//fis = ClassLoader.getSystemResourceAsStream(&quot;../music/&quot; + name); //error\r\n\t\t\t//file = new File();\r\n\t\t\t//fis = scg.class.getResourceAsStream(&quot;../music/&quot; + name);\r\n\t\t\tfis = new FileInputStream(file);\r\n\t\t\tbis = new BufferedInputStream(fis);\r\n\t\t\tplayer = new Player(bis);\r\n\t\t\t//player = new Player(getClass().getResourceAsStream(&quot;../music/&quot; +name));\r\n\t\t\t//player = new Player(url.openStream());\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\tSystem.out.println(&quot;Error with &quot; + name);\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;You Cant Play this mp3 file.&quot;, &quot;Warning!!&quot;,JOptionPane.ERROR_MESSAGE);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void close() {\r\n\t\tisLoop = false;\r\n\t\tplayer.close();\r\n\t\tthis.interrupt();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tdo {\r\n\t\t\t\tplayer.play();\r\n\t\t\t\tfis = new FileInputStream(file);\r\n\t\t\t\tbis = new BufferedInputStream(fis);\r\n\t\t\t\tplayer = new Player(bis);\r\n\t\t\t} while (isLoop);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nIn Eclipse, There is No Exception. but Export JAR file, Can&#39;t Play music files.","title":"Why JLayer Music can&#39;t play in Jar file?","body":"<p>This code can play in Eclipse Debug, but Can't play on Jar file.\nthis is a code.\nthis is my Main class.</p>\n<pre><code>Music lobby = new Music(&quot;LOBBY.mp3&quot;, true);\n\nlobby.start();\n</code></pre>\n<p>Can music files be used as 'getClass().getClassLoader().getResource'?</p>\n<p>There is Full code.</p>\n<pre><code>public class Music extends Thread {\n\nprivate Player player;\nprivate boolean isLoop;\nprivate File file;\nprivate InputStream fis;\nprivate BufferedInputStream bis;\n\nprivate URL url;\n\npublic Music(String name, boolean isLoop) {\n\n    try {\n        this.isLoop = isLoop;\n        //file = new File(&quot;C:/Users/leesn/git/scg/eclipse-workspace/scgproject/src/music/&quot; + name);\n        file = new File(First.class.getResource(&quot;../music/&quot; + name).toURI());\n        //file = new File(scg.class.getClassLoader().getResource(&quot;../music/&quot; + name));\n        //url = First.class.getResource(&quot;../music/&quot; + name);\n        //url = scg.class.getResource(&quot;../music/&quot; +name);\n        //fis = new FileInputStream(file); //default\n        //fis = getClass().getResourceAsStream(name);\n        //fis = this.getClass().getResourceAsStream(&quot;../music/&quot; +name);\n        //fis = scg.class.getClassLoader().getResourceAsStream(&quot;../music/&quot; + name); //error \n        //fis = ClassLoader.getSystemResourceAsStream(&quot;../music/&quot; + name); //error\n        //file = new File();\n        //fis = scg.class.getResourceAsStream(&quot;../music/&quot; + name);\n        fis = new FileInputStream(file);\n        bis = new BufferedInputStream(fis);\n        player = new Player(bis);\n        //player = new Player(getClass().getResourceAsStream(&quot;../music/&quot; +name));\n        //player = new Player(url.openStream());\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        System.out.println(&quot;Error with &quot; + name);\n        JOptionPane.showMessageDialog(null,&quot;You Cant Play this mp3 file.&quot;, &quot;Warning!!&quot;,JOptionPane.ERROR_MESSAGE);\n    }\n}\n\npublic void close() {\n    isLoop = false;\n    player.close();\n    this.interrupt();\n}\n\n@Override\npublic void run() {\n    try {\n        do {\n            player.play();\n            fis = new FileInputStream(file);\n            bis = new BufferedInputStream(fis);\n            player = new Player(bis);\n        } while (isLoop);\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n<p>In Eclipse, There is No Exception. but Export JAR file, Can't Play music files.</p>\n"},{"tags":["java","android","list","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638561015,"post_id":70219694,"comment_id":124130421,"body_markdown":"I&#39;m not 100% certain, but I strongly suspect you are checking the list size before `onChildAdded` or `onDataChange` has been called. Data is loaded from Firebase asynchronously, and that means you have to carefully check the flow of the code. Any code that needs the data from the database needs to be inside the callback, or be called from there. I recommend checking https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519 and https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener for more info","body":"I&#39;m not 100% certain, but I strongly suspect you are checking the list size before <code>onChildAdded</code> or <code>onDataChange</code> has been called. Data is loaded from Firebase asynchronously, and that means you have to carefully check the flow of the code. Any code that needs the data from the database needs to be inside the callback, or be called from there. I recommend checking <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\" title=\"getcontactsfromfirebase method return an empty list\">stackoverflow.com/questions/50434836/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\" title=\"setting singleton property value in firebase listener\">stackoverflow.com/questions/33203379/&hellip;</a> for more info"},{"owner":{"account_id":16108267,"reputation":801,"user_id":11627241,"display_name":"Laila Campos"},"score":0,"creation_date":1638561639,"post_id":70219694,"comment_id":124130608,"body_markdown":"The first answer says to put all code that returns the list into the onDataChange method. As far as I know, I&#39;m doing that, right?","body":"The first answer says to put all code that returns the list into the onDataChange method. As far as I know, I&#39;m doing that, right?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638568072,"post_id":70219694,"comment_id":124132407,"body_markdown":"That&#39;s what&#39;s not clear to me. In the first snippet: all code that **uses** the data from the database needs to be inside the `onDataChange`. It&#39;s unclear to me when &quot;the list size is always 0&quot; happens in relation to that code, but since you never use the list in `onDataChange`, I suspect that you are using it elsewhere, at a moment that the `onDataChange` hasn&#39;t run yet.","body":"That&#39;s what&#39;s not clear to me. In the first snippet: all code that <b>uses</b> the data from the database needs to be inside the <code>onDataChange</code>. It&#39;s unclear to me when &quot;the list size is always 0&quot; happens in relation to that code, but since you never use the list in <code>onDataChange</code>, I suspect that you are using it elsewhere, at a moment that the <code>onDataChange</code> hasn&#39;t run yet."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638611291,"post_id":70219694,"comment_id":124138032,"body_markdown":"Please show us the code where you are checking the size of the list.","body":"Please show us the code where you are checking the size of the list."},{"owner":{"account_id":16108267,"reputation":801,"user_id":11627241,"display_name":"Laila Campos"},"score":0,"creation_date":1638620207,"post_id":70219694,"comment_id":124139446,"body_markdown":"Those two methods are the only places in my code where I refer to my `locationKeysString` list at all. The second method, `addLocation`, is where I check the list size. Other than that I call that same method only once, inside the `onStop()` method of my main activity.","body":"Those two methods are the only places in my code where I refer to my <code>locationKeysString</code> list at all. The second method, <code>addLocation</code>, is where I check the list size. Other than that I call that same method only once, inside the <code>onStop()</code> method of my main activity."}],"owner":{"account_id":16108267,"reputation":801,"user_id":11627241,"display_name":"Laila Campos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638620417,"creation_date":1638559428,"question_id":70219694,"body_markdown":"I&#39;m trying to store multiple lists of locations inside my database.\r\nI want the keys to follow a pattern, like &quot;LocationList 1 &quot;, &quot;LocationList 2&quot; and so on.\r\n\r\nFor that I created a list to hold all the keys.\r\nFirst I want to check if there are any children in the database. If there are none, I want to add a child called &quot;LocationList 1&quot; and store that string in my list.\r\nIf there&#39;s already a child with that name (meaning my list&#39;s size is not 0), then I want to add a key with the name &quot;LocationList &lt;number of items in list here + 1&gt;&quot;.\r\nBut something in my logic is wrong because the list size is always 0.\r\n\r\nHere&#39;s my method for retrieving all keys:\r\n```\r\n    private void getKeysList() {\r\n\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if(snapshot.hasChildren()) {\r\n                    locationKeysString.add(snapshot.getKey());;\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nHere&#39;s my method for adding a location list to database:\r\n\r\n```\r\npublic Task&lt;Void&gt; addLocation(List&lt;Location&gt; locationList, Context context) {\r\n\r\n        getKeysList();\r\n        int itemNumber = locationKeysString.size();\r\n        String keyValue = new String();\r\n        Task&lt;Void&gt; task;\r\n\r\n        if (itemNumber == 0) {\r\n            keyValue = &quot;LocationList &quot; + 1;\r\n            locationKeysString.add(keyValue);\r\n            task = databaseReference\r\n                    .child(keyValue)\r\n                    .setValue(locationList)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void unused) {\r\n                            Toast.makeText(context, R.string.add_to_database_success, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(context, R.string.add_to_database_failure, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n        } else {\r\n            keyValue = &quot;LocationList &quot; + (itemNumber + 1);\r\n            locationKeysString.add(keyValue);\r\n            task = databaseReference\r\n                    .child(keyValue)\r\n                    .setValue(locationList)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void unused) {\r\n                            Toast.makeText(context, R.string.add_to_database_success, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(context, R.string.add_to_database_failure, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n        }\r\n\r\n        return task;\r\n    }\r\n```\r\n\r\nBut when I run my application it keeps adding locations to a single location list in the database, &quot;LocationList 1&quot;:\r\n[![enter image description here][1]][1]\r\n\r\n&quot;LocationList 2&quot; is never created.\r\n\r\nI&#39;ve also tried the following:\r\n```\r\n    private void getKeysList() {\r\n        \r\n        databaseReference.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                \r\n                locationKeysString.add(snapshot.getKey());\r\n            }\r\n\r\n           [...]);\r\n    }\r\n```\r\nBut list size is still 0.\r\n\r\nWhat am I doing wrong? And besides that, is there some way I can improve my code?\r\n\r\nThank you.\r\n\r\nEdit: Those two methods, `getKeysList()` and `addLocation()` are the only places in my code where I refer to my `locationKeysString` list at all.\r\n\r\nOther than that I call `addLocation()` only once in my `onStop()` method of my main activity:\r\n\r\n```\r\n@Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        MyLocation myLocation = (MyLocation) getApplicationContext();\r\n        locationList = myLocation.getLocationList();\r\n\r\n        DAOLocation daoLocation = new DAOLocation();\r\n        daoLocation.addLocation(locationList, this);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fNa2h.png","title":"Firebase - Why is list size always 0 (when trying to add key to list inside event listener)","body":"<p>I'm trying to store multiple lists of locations inside my database.\nI want the keys to follow a pattern, like &quot;LocationList 1 &quot;, &quot;LocationList 2&quot; and so on.</p>\n<p>For that I created a list to hold all the keys.\nFirst I want to check if there are any children in the database. If there are none, I want to add a child called &quot;LocationList 1&quot; and store that string in my list.\nIf there's already a child with that name (meaning my list's size is not 0), then I want to add a key with the name &quot;LocationList &lt;number of items in list here + 1&gt;&quot;.\nBut something in my logic is wrong because the list size is always 0.</p>\n<p>Here's my method for retrieving all keys:</p>\n<pre><code>    private void getKeysList() {\n\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                if(snapshot.hasChildren()) {\n                    locationKeysString.add(snapshot.getKey());;\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n</code></pre>\n<p>Here's my method for adding a location list to database:</p>\n<pre><code>public Task&lt;Void&gt; addLocation(List&lt;Location&gt; locationList, Context context) {\n\n        getKeysList();\n        int itemNumber = locationKeysString.size();\n        String keyValue = new String();\n        Task&lt;Void&gt; task;\n\n        if (itemNumber == 0) {\n            keyValue = &quot;LocationList &quot; + 1;\n            locationKeysString.add(keyValue);\n            task = databaseReference\n                    .child(keyValue)\n                    .setValue(locationList)\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void unused) {\n                            Toast.makeText(context, R.string.add_to_database_success, Toast.LENGTH_SHORT).show();\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(context, R.string.add_to_database_failure, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n        } else {\n            keyValue = &quot;LocationList &quot; + (itemNumber + 1);\n            locationKeysString.add(keyValue);\n            task = databaseReference\n                    .child(keyValue)\n                    .setValue(locationList)\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void unused) {\n                            Toast.makeText(context, R.string.add_to_database_success, Toast.LENGTH_SHORT).show();\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(context, R.string.add_to_database_failure, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n        }\n\n        return task;\n    }\n</code></pre>\n<p>But when I run my application it keeps adding locations to a single location list in the database, &quot;LocationList 1&quot;:\n<a href=\"https://i.stack.imgur.com/fNa2h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fNa2h.png\" alt=\"enter image description here\" /></a></p>\n<p>&quot;LocationList 2&quot; is never created.</p>\n<p>I've also tried the following:</p>\n<pre><code>    private void getKeysList() {\n        \n        databaseReference.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                \n                locationKeysString.add(snapshot.getKey());\n            }\n\n           [...]);\n    }\n</code></pre>\n<p>But list size is still 0.</p>\n<p>What am I doing wrong? And besides that, is there some way I can improve my code?</p>\n<p>Thank you.</p>\n<p>Edit: Those two methods, <code>getKeysList()</code> and <code>addLocation()</code> are the only places in my code where I refer to my <code>locationKeysString</code> list at all.</p>\n<p>Other than that I call <code>addLocation()</code> only once in my <code>onStop()</code> method of my main activity:</p>\n<pre><code>@Override\n    protected void onStop() {\n        super.onStop();\n\n        MyLocation myLocation = (MyLocation) getApplicationContext();\n        locationList = myLocation.getLocationList();\n\n        DAOLocation daoLocation = new DAOLocation();\n        daoLocation.addLocation(locationList, this);\n    }\n</code></pre>\n"},{"tags":["java","http","micronaut"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1617637810,"post_id":66948619,"comment_id":118352613,"body_markdown":"Are you saying that you want to call a service that returns a response that has a `text/html` content type, and you want to parse the HTML and create a `List&lt;Pharmacy&gt;` from the contents of the HTML?","body":"Are you saying that you want to call a service that returns a response that has a <code>text&#47;html</code> content type, and you want to parse the HTML and create a <code>List&lt;Pharmacy&gt;</code> from the contents of the HTML?"},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1617644885,"post_id":66948619,"comment_id":118355590,"body_markdown":"Yes. But i want to know if i can do that without the low-level http client. If exists some way to do that with the declarative client.","body":"Yes. But i want to know if i can do that without the low-level http client. If exists some way to do that with the declarative client."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1617645250,"post_id":66948619,"comment_id":118355746,"body_markdown":"There is nothing in Micronaut that will parse HTML and create a `List&lt;Pharmacy&gt;` for you.  You would have to write that yourself.","body":"There is nothing in Micronaut that will parse HTML and create a <code>List&lt;Pharmacy&gt;</code> for you.  You would have to write that yourself."},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1617656266,"post_id":66948619,"comment_id":118359816,"body_markdown":"@JeffScottBrown with the low-level http client? maybe there&#39;s a filter or transformer to translate the data.","body":"@JeffScottBrown with the low-level http client? maybe there&#39;s a filter or transformer to translate the data."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1617659188,"post_id":66948619,"comment_id":118360647,"body_markdown":"&quot;maybe there&#39;s a filter or transformer to translate the data.&quot; - One could be written.  We don&#39;t provide one in micronaut.  There isn&#39;t anything in Micronaut that parses HTML payloads.","body":"&quot;maybe there&#39;s a filter or transformer to translate the data.&quot; - One could be written.  We don&#39;t provide one in micronaut.  There isn&#39;t anything in Micronaut that parses HTML payloads."},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1617669214,"post_id":66948619,"comment_id":118362704,"body_markdown":"I see @JeffScottBrown that&#39;s solved my question. Thanks. But what do you recommend me?","body":"I see @JeffScottBrown that&#39;s solved my question. Thanks. But what do you recommend me?"}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638619976,"creation_date":1617828322,"answer_id":66993878,"question_id":66948619,"body_markdown":"There is no fully-fledged framework AFAIK that provides support for *HTML* content to `POJO` mapping (which is usually referred to as __scraping__) as is the case for *Micronaut*, .\r\n\r\nMeanwhile you can easily plug a converter bean based on [jspoon][1] intercepting and transforming your API results in equivalent POJOs:\r\n\r\n    class Root {\r\n        @Selector(value = &quot;.pharmacy&quot;) List&lt;Pharmacy&gt; pharmacies;\r\n    }\r\n\r\n    class Pharmacy {\r\n        @Selector(value = &quot;span:nth-child(1)&quot;) String name;\r\n    }\r\n\r\n    @Client(&quot;${services.minsal.url}&quot;)\r\n    public interface PharmacyClient {\r\n        @Get(&quot;${services.minsal.path}?${services.minsal.param}=${services.minsal.value}&quot;)\r\n        Flowable&lt;String&gt; retrieve();\r\n    }\r\n\r\n    @Singleton\r\n    public class ConverterService {\r\n\r\n        public List&lt;Pharmacy&gt; toPharmacies(String htmlContent) {\r\n            Jspoon jspoon = Jspoon.create();\r\n            HtmlAdapter&lt;Root&gt; htmlAdapter = jspoon.adapter(Root.class);\r\n            return htmlAdapter.fromHtml(htmlContent).pharmacies;\r\n        }\r\n    }\r\n\r\n    public class StoreService {\r\n    \r\n        private final PharmacyClient pharmacyClient;\r\n        private final ConverterService converterService;\r\n    \r\n        public StoreService(PharmacyClient pharmacyClient, ConverterService converterService) {\r\n            this.pharmacyClient = pharmacyClient;\r\n            this.converterService = converterService;\r\n        }\r\n    \r\n        public Flowable&lt;List&lt;Store&gt;&gt; all() {\r\n            Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve().map(this.converterService::toPharmacies)\r\n            return listFlowable\r\n                    .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\r\n                    .flatMap(pharmacies -&gt;\r\n                            Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i&#39;d like to user Pharmacy objects\r\n                                    .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\r\n                                    .collect(Collectors.toList())\r\n                            )\r\n                    );\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/DroidsOnRoids/jspoon\r\n","title":"How to bind text response to json and put in object on a declarative client on micronaut?","body":"<p>There is no fully-fledged framework AFAIK that provides support for <em>HTML</em> content to <code>POJO</code> mapping (which is usually referred to as <strong>scraping</strong>) as is the case for <em>Micronaut</em>, .</p>\n<p>Meanwhile you can easily plug a converter bean based on <a href=\"https://github.com/DroidsOnRoids/jspoon\" rel=\"nofollow noreferrer\">jspoon</a> intercepting and transforming your API results in equivalent POJOs:</p>\n<pre><code>class Root {\n    @Selector(value = &quot;.pharmacy&quot;) List&lt;Pharmacy&gt; pharmacies;\n}\n\nclass Pharmacy {\n    @Selector(value = &quot;span:nth-child(1)&quot;) String name;\n}\n\n@Client(&quot;${services.minsal.url}&quot;)\npublic interface PharmacyClient {\n    @Get(&quot;${services.minsal.path}?${services.minsal.param}=${services.minsal.value}&quot;)\n    Flowable&lt;String&gt; retrieve();\n}\n\n@Singleton\npublic class ConverterService {\n\n    public List&lt;Pharmacy&gt; toPharmacies(String htmlContent) {\n        Jspoon jspoon = Jspoon.create();\n        HtmlAdapter&lt;Root&gt; htmlAdapter = jspoon.adapter(Root.class);\n        return htmlAdapter.fromHtml(htmlContent).pharmacies;\n    }\n}\n\npublic class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n    private final ConverterService converterService;\n\n    public StoreService(PharmacyClient pharmacyClient, ConverterService converterService) {\n        this.pharmacyClient = pharmacyClient;\n        this.converterService = converterService;\n    }\n\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\n        Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve().map(this.converterService::toPharmacies)\n        return listFlowable\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\n                .flatMap(pharmacies -&gt;\n                        Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i'd like to user Pharmacy objects\n                                .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\n                                .collect(Collectors.toList())\n                        )\n                );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618278761,"creation_date":1617911411,"answer_id":67010955,"question_id":66948619,"body_markdown":"I ended up with this.\r\n\r\n```\r\n@Client(&quot;${services.url}&quot;)\r\npublic interface PharmacyClient {\r\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\r\n    Flowable&lt;Pharmacy[]&gt; retrieve();\r\n}\r\n```\r\n```\r\npublic class StoreService {\r\n\r\n    private final PharmacyClient pharmacyClient;\r\n\r\n    public StoreService(PharmacyClient pharmacyClient) {\r\n        this.pharmacyClient = pharmacyClient;\r\n    }\r\n\r\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\r\n        Flowable&lt;Pharmacy[]&gt; flowable = this.pharmacyClient.retrieve();\r\n        return flowable\r\n                .switchMap(pharmacies -&gt;\r\n                        Flowable.just(Arrays.stream(pharmacies)\r\n                                .map(pharmacyStoreMapping)\r\n                                .collect(Collectors.toList())\r\n                        )\r\n                ).doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nStill I want to know if i can change arrays to list in the declarative client.  \r\nMeanwhile i think this it&#39;s a good option.\r\n\r\n# UPDATE\r\nI have been wrong all this time. First of all I don&#39;t need to add a list to the flowable because when the framework exposes the service it responds with a list of elements already.\r\nSo finally I did this:\r\n\r\n```\r\n@Client(&quot;${services.url}&quot;)\r\npublic interface PharmacyClient {\r\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\r\n    Flowable&lt;Pharmacy&gt; retrieve();\r\n}\r\n```\r\n```\r\npublic class StoreService {\r\n\r\n    private final PharmacyClient pharmacyClient;\r\n\r\n    public StoreService(PharmacyClient pharmacyClient) {\r\n        this.pharmacyClient = pharmacyClient;\r\n    }\r\n\r\n    public Flowable&lt;Store&gt; all() {\r\n        Flowable&lt;Pharmacy&gt; flowable = this.pharmacyClient.retrieve();\r\n        return flowable\r\n                .switchMap(pharmacyPublisherFunction)\r\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\r\n\r\n}\r\n```\r\nAs we can see the http client automatically transform the text/html data into json and it parses it well. I don&#39;t know why really. Maybe @JeffScottBrown can gives us some hints.","title":"How to bind text response to json and put in object on a declarative client on micronaut?","body":"<p>I ended up with this.</p>\n<pre><code>@Client(&quot;${services.url}&quot;)\npublic interface PharmacyClient {\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\n    Flowable&lt;Pharmacy[]&gt; retrieve();\n}\n</code></pre>\n<pre><code>public class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n\n    public StoreService(PharmacyClient pharmacyClient) {\n        this.pharmacyClient = pharmacyClient;\n    }\n\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\n        Flowable&lt;Pharmacy[]&gt; flowable = this.pharmacyClient.retrieve();\n        return flowable\n                .switchMap(pharmacies -&gt;\n                        Flowable.just(Arrays.stream(pharmacies)\n                                .map(pharmacyStoreMapping)\n                                .collect(Collectors.toList())\n                        )\n                ).doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\n    }\n\n}\n</code></pre>\n<p>Still I want to know if i can change arrays to list in the declarative client.<br />\nMeanwhile i think this it's a good option.</p>\n<h1>UPDATE</h1>\n<p>I have been wrong all this time. First of all I don't need to add a list to the flowable because when the framework exposes the service it responds with a list of elements already.\nSo finally I did this:</p>\n<pre><code>@Client(&quot;${services.url}&quot;)\npublic interface PharmacyClient {\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\n    Flowable&lt;Pharmacy&gt; retrieve();\n}\n</code></pre>\n<pre><code>public class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n\n    public StoreService(PharmacyClient pharmacyClient) {\n        this.pharmacyClient = pharmacyClient;\n    }\n\n    public Flowable&lt;Store&gt; all() {\n        Flowable&lt;Pharmacy&gt; flowable = this.pharmacyClient.retrieve();\n        return flowable\n                .switchMap(pharmacyPublisherFunction)\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\n\n}\n</code></pre>\n<p>As we can see the http client automatically transform the text/html data into json and it parses it well. I don't know why really. Maybe @JeffScottBrown can gives us some hints.</p>\n"}],"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1010,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67010955,"answer_count":2,"score":2,"last_activity_date":1638619976,"creation_date":1617600572,"question_id":66948619,"body_markdown":"I made my declarative http client on my app built in micronaut. This need to consume a services which responds with text/html type.  \r\n\r\nI manage to get a list but with `LinkedHashMap` inside. And I want them to be objects of `Pharmacy`\r\n\r\nMy question is: how I can transform that response into a List of object?\r\n\r\n```\r\n@Client(&quot;${services.url}&quot;)\r\npublic interface PharmacyClient {\r\n    @Get(&quot;${services.path}?${services.param}=${services.value}&quot;)\r\n    Flowable&lt;List&lt;Pharmacy&gt;&gt; retrieve();\r\n}\r\n```\r\n```\r\npublic class StoreService {\r\n\r\n    private final PharmacyClient pharmacyClient;\r\n\r\n    public StoreService(PharmacyClient pharmacyClient) {\r\n        this.pharmacyClient = pharmacyClient;\r\n    }\r\n\r\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\r\n        Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve();\r\n        return listFlowable\r\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\r\n                .flatMap(pharmacies -&gt;\r\n                        Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i&#39;d like to user Pharmacy objects\r\n                                .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\r\n                                .collect(Collectors.toList())\r\n                        )\r\n                );\r\n    }\r\n}\r\n\r\n```\r\nCode: https://github.com/j1cs/drugstore-demo/tree/master/backend","title":"How to bind text response to json and put in object on a declarative client on micronaut?","body":"<p>I made my declarative http client on my app built in micronaut. This need to consume a services which responds with text/html type.</p>\n<p>I manage to get a list but with <code>LinkedHashMap</code> inside. And I want them to be objects of <code>Pharmacy</code></p>\n<p>My question is: how I can transform that response into a List of object?</p>\n<pre><code>@Client(&quot;${services.url}&quot;)\npublic interface PharmacyClient {\n    @Get(&quot;${services.path}?${services.param}=${services.value}&quot;)\n    Flowable&lt;List&lt;Pharmacy&gt;&gt; retrieve();\n}\n</code></pre>\n<pre><code>public class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n\n    public StoreService(PharmacyClient pharmacyClient) {\n        this.pharmacyClient = pharmacyClient;\n    }\n\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\n        Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve();\n        return listFlowable\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\n                .flatMap(pharmacies -&gt;\n                        Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i'd like to user Pharmacy objects\n                                .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\n                                .collect(Collectors.toList())\n                        )\n                );\n    }\n}\n\n</code></pre>\n<p>Code: <a href=\"https://github.com/j1cs/drugstore-demo/tree/master/backend\" rel=\"nofollow noreferrer\">https://github.com/j1cs/drugstore-demo/tree/master/backend</a></p>\n"},{"tags":["java","multithreading","thread-safety","concurrenthashmap"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1638619926,"post_id":70219914,"comment_id":124139394,"body_markdown":"Since Java 7, you don&#39;t need to repeat the generics in the constructor, you can simply your hash map construction to `new ConcurrentHashMap&lt;&gt;()`","body":"Since Java 7, you don&#39;t need to repeat the generics in the constructor, you can simply your hash map construction to <code>new ConcurrentHashMap&lt;&gt;()</code>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638561315,"creation_date":1638561315,"answer_id":70219996,"question_id":70219914,"body_markdown":"`ConcurrentHashMap` guarantees that the entire method invocation of `compute` (or `computeIfAbsent` or `computeIfPresent`) is done atomically. So, e.g., you could do something like this:\r\n\r\n```java\r\nmyMap.compute(someKeyValue, (k, v) -&gt; {v.add(new SomeOtherClass()); return v;});\r\n```\r\n\r\n**Note:**\\\r\nUsing `compute` is analogous to the original snippet that assumes that `somKeyValue` is present in the map. Using `computeIfPresent` is probably safer, though.","title":"How to make operations on the value of a concurrent map atomic?","body":"<p><code>ConcurrentHashMap</code> guarantees that the entire method invocation of <code>compute</code> (or <code>computeIfAbsent</code> or <code>computeIfPresent</code>) is done atomically. So, e.g., you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myMap.compute(someKeyValue, (k, v) -&gt; {v.add(new SomeOtherClass()); return v;});\n</code></pre>\n<p><strong>Note:</strong><br />\nUsing <code>compute</code> is analogous to the original snippet that assumes that <code>somKeyValue</code> is present in the map. Using <code>computeIfPresent</code> is probably safer, though.</p>\n"}],"owner":{"account_id":16879198,"reputation":509,"user_id":12424975,"display_name":"Samuele B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70219996,"answer_count":1,"score":3,"last_activity_date":1638619877,"creation_date":1638560684,"question_id":70219914,"body_markdown":"Let&#39;s say I have the following field inside of a class:\r\n\r\n```\r\nConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\r\n```\r\nAn instance of this class is shared among many threads.\r\n\r\nIf I want to add or remove an element from a set associated with a key, I could do:\r\n\r\n```\r\nSet&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\r\nsetVal.add(new SomeOtherClass());\r\n```\r\n\r\nThe `get` operation is atomic, therefore thread-safe. However, there&#39;s no guarantee that, in between the `get` and the `add` instruction, some other thread won&#39;t modify the structure messing with the first one&#39;s execution.\r\n\r\nWhat would be the best way to make the whole operation atomic?\r\n\r\nHere&#39;s what I&#39;ve come up with, but I don&#39;t believe it to be very efficient (or to be making the best use out of Java&#39;s structures):\r\n\r\nI have a ReentrantLock field, so my class looks like this:\r\n```\r\nclass A {\r\n    ReentrantLock lock = new ReentrantLock();\r\n    ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\r\n}\r\n```\r\n\r\nThen the method call looks something like this:\r\n```\r\nlock.lock();\r\nSet&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\r\nsynchronized(setVal) {\r\n    lock.unlock();\r\n    setVal.add(new SomeOtherClass());\r\n}\r\n```\r\n\r\nThe idea being that we let go of the lock once we have made sure no one else will access the Set we&#39;re trying to modify. However, I don&#39;t think this is making the best use of the `ConcurrentMap` or that it makes much sense to have a lock, a concurrent structure, and a `synchronized` block all used to achieve one operation.\r\n\r\nIs there a better way to go about this?","title":"How to make operations on the value of a concurrent map atomic?","body":"<p>Let's say I have the following field inside of a class:</p>\n<pre><code>ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\n</code></pre>\n<p>An instance of this class is shared among many threads.</p>\n<p>If I want to add or remove an element from a set associated with a key, I could do:</p>\n<pre><code>Set&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\nsetVal.add(new SomeOtherClass());\n</code></pre>\n<p>The <code>get</code> operation is atomic, therefore thread-safe. However, there's no guarantee that, in between the <code>get</code> and the <code>add</code> instruction, some other thread won't modify the structure messing with the first one's execution.</p>\n<p>What would be the best way to make the whole operation atomic?</p>\n<p>Here's what I've come up with, but I don't believe it to be very efficient (or to be making the best use out of Java's structures):</p>\n<p>I have a ReentrantLock field, so my class looks like this:</p>\n<pre><code>class A {\n    ReentrantLock lock = new ReentrantLock();\n    ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\n}\n</code></pre>\n<p>Then the method call looks something like this:</p>\n<pre><code>lock.lock();\nSet&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\nsynchronized(setVal) {\n    lock.unlock();\n    setVal.add(new SomeOtherClass());\n}\n</code></pre>\n<p>The idea being that we let go of the lock once we have made sure no one else will access the Set we're trying to modify. However, I don't think this is making the best use of the <code>ConcurrentMap</code> or that it makes much sense to have a lock, a concurrent structure, and a <code>synchronized</code> block all used to achieve one operation.</p>\n<p>Is there a better way to go about this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638619705,"creation_date":1638619186,"answer_id":70225395,"question_id":70225295,"body_markdown":"When you create an array in Java, the elements in the array will initially have a default value. For non-primitives, this value is `null`. So `farbcode = new String[4]` will create a new array that can store 4 `String`&#39;s, but initially it will contain 4 `null` values.\r\n\r\nYou use `farbcode[i] += &quot;Some value&quot;` with `farbcode[i]` initially being `null`. When you append a String to a `null` value, the `null` will be converted to the string `&quot;null&quot;`, to which the string will be appended.\r\n\r\nSo for example\r\n\r\n```\r\nString str = null + &quot;String&quot;; // Will become &quot;nullString&quot;\r\n```\r\n\r\n```\r\nString str = null;\r\nstr += &quot;String&quot;; // Same as above\r\n```\r\n    \r\nSo, to prevent this from happening, make sure that the elements in the array don&#39;t contain the value `null` when appending values to it.\r\n\r\nYou can use `Arrays.fill(farbcode, &quot;&quot;);` to set all the elements in the array to an empty string at the beginning of your loop.\r\n\r\nAs an aside, Java has a built-in function to convert an array to a string. You can replace your `stringo()` function with `Arrays.toString(farbcode)`.","title":"Why does every element in my array start with &quot;null&quot;?","body":"<p>When you create an array in Java, the elements in the array will initially have a default value. For non-primitives, this value is <code>null</code>. So <code>farbcode = new String[4]</code> will create a new array that can store 4 <code>String</code>'s, but initially it will contain 4 <code>null</code> values.</p>\n<p>You use <code>farbcode[i] += &quot;Some value&quot;</code> with <code>farbcode[i]</code> initially being <code>null</code>. When you append a String to a <code>null</code> value, the <code>null</code> will be converted to the string <code>&quot;null&quot;</code>, to which the string will be appended.</p>\n<p>So for example</p>\n<pre><code>String str = null + &quot;String&quot;; // Will become &quot;nullString&quot;\n</code></pre>\n<pre><code>String str = null;\nstr += &quot;String&quot;; // Same as above\n</code></pre>\n<p>So, to prevent this from happening, make sure that the elements in the array don't contain the value <code>null</code> when appending values to it.</p>\n<p>You can use <code>Arrays.fill(farbcode, &quot;&quot;);</code> to set all the elements in the array to an empty string at the beginning of your loop.</p>\n<p>As an aside, Java has a built-in function to convert an array to a string. You can replace your <code>stringo()</code> function with <code>Arrays.toString(farbcode)</code>.</p>\n"}],"owner":{"account_id":23543726,"reputation":13,"user_id":17587522,"display_name":"Crivenn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70225395,"answer_count":1,"score":0,"last_activity_date":1638619705,"creation_date":1638618389,"question_id":70225295,"body_markdown":"I want to make a random color code generator and it also works, but instead of simply giving me the color it also spits out &quot;null&quot; right before it.\r\n\r\nSo in the end my output looks like `[nullBlue, nullgreen, nullyellow, nullred]` anybody know a quick fix?\r\n\r\n```\r\npublic class rndmcode {\r\n\r\n    int[] secretcode = new int[4];\r\n    String[] farbcode = new String[4];\r\n\r\n    public rndmcode() { // array &quot;secretcode&quot; wird definiert\r\n        for (int i = 0; i &lt; 4; i++) { //Schleife um eine Randomziffer von 1-6 zu erstellen und\r\n            \r\n            Random zufallszahl = new Random();\r\n            int rndnumber = zufallszahl.nextInt(7); //Die Zahlen 1-6 sind meine Farben, die vorrerst nur Zahlen sind\r\n\r\n            switch (rndnumber) {\r\n                case 1:\r\n                    farbcode[i] += &quot;Blau&quot;;\r\n                    break;\r\n                case 2:\r\n                    farbcode[i] += &quot;Rot&quot;;\r\n                    break;\r\n                case 3:\r\n                    farbcode[i] += &quot;Gelb&quot;;\r\n                    break;\r\n                case 4:\r\n                    farbcode[i] += &quot;Gr&#252;n&quot;;\r\n                    break;\r\n                case 5:\r\n                    farbcode[i] += &quot;Lila&quot;;\r\n                    break;\r\n                case 6:\r\n                    farbcode[i] += &quot;Orange&quot;;\r\n                default:\r\n                    if (farbcode == null)\r\n                        break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public String stringo() {\r\n        String s = &quot;[&quot;;\r\n        for (String element : farbcode) {\r\n            s += element;\r\n            s += &quot;, &quot;;\r\n\r\n        }\r\n        s += &quot;]&quot;;\r\n        return s;\r\n    }\r\n}\r\n```","title":"Why does every element in my array start with &quot;null&quot;?","body":"<p>I want to make a random color code generator and it also works, but instead of simply giving me the color it also spits out &quot;null&quot; right before it.</p>\n<p>So in the end my output looks like <code>[nullBlue, nullgreen, nullyellow, nullred]</code> anybody know a quick fix?</p>\n<pre><code>public class rndmcode {\n\n    int[] secretcode = new int[4];\n    String[] farbcode = new String[4];\n\n    public rndmcode() { // array &quot;secretcode&quot; wird definiert\n        for (int i = 0; i &lt; 4; i++) { //Schleife um eine Randomziffer von 1-6 zu erstellen und\n            \n            Random zufallszahl = new Random();\n            int rndnumber = zufallszahl.nextInt(7); //Die Zahlen 1-6 sind meine Farben, die vorrerst nur Zahlen sind\n\n            switch (rndnumber) {\n                case 1:\n                    farbcode[i] += &quot;Blau&quot;;\n                    break;\n                case 2:\n                    farbcode[i] += &quot;Rot&quot;;\n                    break;\n                case 3:\n                    farbcode[i] += &quot;Gelb&quot;;\n                    break;\n                case 4:\n                    farbcode[i] += &quot;Grn&quot;;\n                    break;\n                case 5:\n                    farbcode[i] += &quot;Lila&quot;;\n                    break;\n                case 6:\n                    farbcode[i] += &quot;Orange&quot;;\n                default:\n                    if (farbcode == null)\n                        break;\n            }\n        }\n    }\n\n    public String stringo() {\n        String s = &quot;[&quot;;\n        for (String element : farbcode) {\n            s += element;\n            s += &quot;, &quot;;\n\n        }\n        s += &quot;]&quot;;\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","sdk","javafx-11","openjfx"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1543940788,"post_id":53617191,"comment_id":94095263,"body_markdown":"@Jos&#233;Pereda but the error sounds misleading, isn&#39;t it? What&#39;s the root cause for that? I meant the IllegalAccessError one.","body":"@Jos&#233;Pereda but the error sounds misleading, isn&#39;t it? What&#39;s the root cause for that? I meant the IllegalAccessError one."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1543940877,"post_id":53617191,"comment_id":94095315,"body_markdown":"@Mehdi - This is where you can start off with using openjfx - https://openjfx.io/openjfx-docs/#introduction from Java11 onwards.","body":"@Mehdi - This is where you can start off with using openjfx - <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#introduction</a> from Java11 onwards."},{"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"score":0,"creation_date":1543940962,"post_id":53617191,"comment_id":94095362,"body_markdown":"@nullpointer yes my bad, I didn&#39;t understand the question initially","body":"@nullpointer yes my bad, I didn&#39;t understand the question initially"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1543941113,"post_id":53617191,"comment_id":94095449,"body_markdown":"@nullpointer Right, probably this [question](https://stackoverflow.com/questions/53447738/java-fx-modular-application-module-not-found-java-11-intellij) will help as well. It is a mixture of both issues.","body":"@nullpointer Right, probably this <a href=\"https://stackoverflow.com/questions/53447738/java-fx-modular-application-module-not-found-java-11-intellij\">question</a> will help as well. It is a mixture of both issues."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1543942498,"post_id":53617191,"comment_id":94096185,"body_markdown":"@Jos&#233;Pereda Thanks. Not very satisfied with that either. I can understand by the error that the module `javafx.controls` has not been resolved on the module path, but then the question is why even after explicitly specifying is the module not resolved? The [`--show-module-resolution`](https://stackoverflow.com/questions/48339598/list-the-modules-resolved-during-the-application-startup) would be useful here to see what modules are getting resolved.","body":"@Jos&#233;Pereda Thanks. Not very satisfied with that either. I can understand by the error that the module <code>javafx.controls</code> has not been resolved on the module path, but then the question is why even after explicitly specifying is the module not resolved? The <a href=\"https://stackoverflow.com/questions/48339598/list-the-modules-resolved-during-the-application-startup\"><code>--show-module-resolution</code></a> would be useful here to see what modules are getting resolved."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1543942822,"post_id":53617191,"comment_id":94096351,"body_markdown":"@nullpointer the exception itself is related to a wrong path for the JavaFX library. Nevertheless the module `javafx.fxml` should be added as well.","body":"@nullpointer the exception itself is related to a wrong path for the JavaFX library. Nevertheless the module <code>javafx.fxml</code> should be added as well."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1543960024,"post_id":53617191,"comment_id":94104271,"body_markdown":"@Jos&#233;Pereda Thanks for pointing that out, however it does not change anything. I still get the same error.","body":"@Jos&#233;Pereda Thanks for pointing that out, however it does not change anything. I still get the same error."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1543966138,"post_id":53617191,"comment_id":94106271,"body_markdown":"Can you open a terminal and type `dir &quot;C:\\mypath\\SDKS\\javafx-sdk-11.0.1\\lib&quot;` and post the result (or a screenshot), obviously with your real path?","body":"Can you open a terminal and type <code>dir &quot;C:\\mypath\\SDKS\\javafx-sdk-11.0.1\\lib&quot;</code> and post the result (or a screenshot), obviously with your real path?"},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1543975631,"post_id":53617191,"comment_id":94108540,"body_markdown":"@Jos&#233;Pereda I have edited the post and added the output from that command","body":"@Jos&#233;Pereda I have edited the post and added the output from that command"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1544128952,"post_id":53617191,"comment_id":94177039,"body_markdown":"Please, add an edit to your question, and post the exception you get when you run   with only these VM options: `--module-path=&quot;C:\\User\\..\\javafx-sdk-11.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml`.  Also you could add a screenshot of your IntelliJ&#39;s Run configuration.","body":"Please, add an edit to your question, and post the exception you get when you run   with only these VM options: <code>--module-path=&quot;C:\\User\\..\\javafx-sdk-11.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml</code>.  Also you could add a screenshot of your IntelliJ&#39;s Run configuration."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1544149642,"post_id":53617191,"comment_id":94182994,"body_markdown":"@Jos&#233;Pereda it is done","body":"@Jos&#233;Pereda it is done"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1544174595,"post_id":53617191,"comment_id":94190842,"body_markdown":"Ok, you wouldn&#39;t need the `--add-exports` now, but that won&#39;t change it. When you run your project from IntelliJ, you still get the same failure right?. Check the run window (Alt+4) and post the full command line that IntelliJ generates (if you see something like `..\\jdk-11\\bin\\java.exe...` click on the ellipsis to get the full command line).","body":"Ok, you wouldn&#39;t need the <code>--add-exports</code> now, but that won&#39;t change it. When you run your project from IntelliJ, you still get the same failure right?. Check the run window (Alt+4) and post the full command line that IntelliJ generates (if you see something like <code>..\\jdk-11\\bin\\java.exe...</code> click on the ellipsis to get the full command line)."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1544205623,"post_id":53617191,"comment_id":94206884,"body_markdown":"@Jos&#233;Pereda edited the post","body":"@Jos&#233;Pereda edited the post"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1544206636,"post_id":53617191,"comment_id":94207304,"body_markdown":"Thanks, after editing your command line I see the reason why it is failing: you have an extra `-p`, that means the same as `--add-module`, which is invalidating the first one, and only adds base and graphics, but not controls and fxml. The question is why you have this `-p` added. Can you remove all the `--add-exports` and check again? You shouldn&#39;t get that extra `-p`.","body":"Thanks, after editing your command line I see the reason why it is failing: you have an extra <code>-p</code>, that means the same as <code>--add-module</code>, which is invalidating the first one, and only adds base and graphics, but not controls and fxml. The question is why you have this <code>-p</code> added. Can you remove all the <code>--add-exports</code> and check again? You shouldn&#39;t get that extra <code>-p</code>."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1544236361,"post_id":53617191,"comment_id":94215849,"body_markdown":"I tried again and it didn&#39;t work. I think I will just build it with maven or gradle","body":"I tried again and it didn&#39;t work. I think I will just build it with maven or gradle"}],"answers":[{"tags":[],"owner":{"account_id":16028140,"reputation":11,"user_id":11567864,"display_name":"Chris999Tian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594432377,"creation_date":1594395318,"answer_id":62837679,"question_id":53617191,"body_markdown":"Try: \r\n\r\n```\r\n--module-path C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib --add-modules=ALL-MODULE-PATH\r\n```\r\n\r\nas Runconfiguration, I don&#39;t know, maybe it works?","title":"javafx.controls could not be found JavaFX 11 / JDK 11.0.1","body":"<p>Try:</p>\n<pre><code>--module-path C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib --add-modules=ALL-MODULE-PATH\n</code></pre>\n<p>as Runconfiguration, I don't know, maybe it works?</p>\n"},{"tags":[],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615225051,"creation_date":1615225051,"answer_id":66534538,"question_id":53617191,"body_markdown":"Alternatively, convert your project to Maven, then add the JavaFX dependencies as:\r\n\r\n    &lt;!-- JavaFx --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n                &lt;classifier&gt;win&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nChange the version according to your used Java Version, since anything above Java 10 does not include the JavaFX libraries, this is what I recommend if you want to deploy your application on other machines anyway","title":"javafx.controls could not be found JavaFX 11 / JDK 11.0.1","body":"<p>Alternatively, convert your project to Maven, then add the JavaFX dependencies as:</p>\n<pre><code>&lt;!-- JavaFx --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n            &lt;classifier&gt;win&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Change the version according to your used Java Version, since anything above Java 10 does not include the JavaFX libraries, this is what I recommend if you want to deploy your application on other machines anyway</p>\n"}],"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8951,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1638618941,"answer_count":2,"score":6,"last_activity_date":1638618978,"creation_date":1543940216,"question_id":53617191,"body_markdown":"I am using InteliJ, I&#39;ve gone through all other solutions that seem to work for everybody else. I was getting an error:\r\n\r\n    Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x5782d366) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x5782d366\r\n\r\nI then added the following to VM options in the run config:\r\n\r\n    --module-path=&quot;C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib&quot; \\ \r\n        --add-modules=javafx.controls \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED\r\n\r\nThat seemed to partially fix the problem? Howerver when I try to run this I don&#39;t get a whole stack trace of errors, I get these three lines:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-11.0.1\\bin\\java.exe&quot; \\\r\n        --module-path=C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib \\\r\n        --add-modules=javafx.controls,javafx.fxml \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED \\\r\n        --add-modules javafx.base,javafx.graphics \\\r\n        --add-reads javafx.base=ALL-UNNAMED \\\r\n        --add-reads javafx.graphics=ALL-UNNAMED \\\r\n        &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\lib\\idea_rt.jar=60572:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\bin&quot; \\\r\n        -Dfile.encoding=UTF-8 \\\r\n        -classpath C:\\Users\\mresp_000\\Desktop\\Business\\Code\\VirtualBeats\\out\\production\\VirtualBeats;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\src.zip;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx-swt.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.web.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.fxml.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.media.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.swing.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.controls.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\r\n        -p C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\r\n        virtualbeats.Main\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module javafx.controls not found\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\nI get the same error when I only put in the following to the VM options:\r\n\r\n    --module-path=&quot;C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib&quot;\r\n    --add-modules=javafx.controls,javafx.fxml\r\n\r\nHere is a picture of my [run options][1] (I have ticked and un-ticked the &quot;include dependencies withg provided scope&quot; box, neither work.\r\n\r\nThe library is pointing to the right place and I&#39;ve tried rebuilding the project, nothing is working. When I go to my command line and type:\r\n\r\n    dir &quot;C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib&quot;\r\n\r\nI get the following output:\r\n![output of cmd][2]\r\n\r\nSo everything is infact there and pointing to the exact location it needs to be pointing to. Adding the .jar extension to the add-module also does nothing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R9YPD.png\r\n  [2]: https://i.stack.imgur.com/KQaG4.png","title":"javafx.controls could not be found JavaFX 11 / JDK 11.0.1","body":"<p>I am using InteliJ, I've gone through all other solutions that seem to work for everybody else. I was getting an error:</p>\n\n<pre><code>Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x5782d366) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x5782d366\n</code></pre>\n\n<p>I then added the following to VM options in the run config:</p>\n\n<pre><code>--module-path=\"C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\" \\ \n    --add-modules=javafx.controls \\\n    --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED\n</code></pre>\n\n<p>That seemed to partially fix the problem? Howerver when I try to run this I don't get a whole stack trace of errors, I get these three lines:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-11.0.1\\bin\\java.exe\" \\\n    --module-path=C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib \\\n    --add-modules=javafx.controls,javafx.fxml \\\n    --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED \\\n    --add-modules javafx.base,javafx.graphics \\\n    --add-reads javafx.base=ALL-UNNAMED \\\n    --add-reads javafx.graphics=ALL-UNNAMED \\\n    \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\lib\\idea_rt.jar=60572:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\bin\" \\\n    -Dfile.encoding=UTF-8 \\\n    -classpath C:\\Users\\mresp_000\\Desktop\\Business\\Code\\VirtualBeats\\out\\production\\VirtualBeats;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\src.zip;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx-swt.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.web.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.fxml.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.media.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.swing.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.controls.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\n    -p C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\n    virtualbeats.Main\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I get the same error when I only put in the following to the VM options:</p>\n\n<pre><code>--module-path=\"C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\"\n--add-modules=javafx.controls,javafx.fxml\n</code></pre>\n\n<p>Here is a picture of my <a href=\"https://i.stack.imgur.com/R9YPD.png\" rel=\"noreferrer\">run options</a> (I have ticked and un-ticked the \"include dependencies withg provided scope\" box, neither work.</p>\n\n<p>The library is pointing to the right place and I've tried rebuilding the project, nothing is working. When I go to my command line and type:</p>\n\n<pre><code>dir \"C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\"\n</code></pre>\n\n<p>I get the following output:\n<img src=\"https://i.stack.imgur.com/KQaG4.png\" alt=\"output of cmd\"></p>\n\n<p>So everything is infact there and pointing to the exact location it needs to be pointing to. Adding the .jar extension to the add-module also does nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":4,"creation_date":1638618600,"post_id":70225313,"comment_id":124139194,"body_markdown":"Can you show the code that you currently have? It&#39;s unclear what you are asking. Are you asking how to assign a field from an argument? `this.television = television`?","body":"Can you show the code that you currently have? It&#39;s unclear what you are asking. Are you asking how to assign a field from an argument? <code>this.television = television</code>?"},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1638620512,"post_id":70225313,"comment_id":124139503,"body_markdown":"You may want to dig into what Objects are a bit more.  The point of Objects is for you to be able to define objects as real-world concepts and use them as such.  An example would be a car is an object and so you create an INSTANCE of a car.  A car has four tires which have 4 instances of objects.  So the tires are &quot;attributes&quot; of the car.  AND the tires also have attributes and so on.  Tires may have bolts and nuts.  It also might have a rim etc.","body":"You may want to dig into what Objects are a bit more.  The point of Objects is for you to be able to define objects as real-world concepts and use them as such.  An example would be a car is an object and so you create an INSTANCE of a car.  A car has four tires which have 4 instances of objects.  So the tires are &quot;attributes&quot; of the car.  AND the tires also have attributes and so on.  Tires may have bolts and nuts.  It also might have a rim etc."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639042826,"post_id":70225313,"comment_id":124249158,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6297098,"reputation":323,"user_id":8214832,"display_name":"Lakshya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1638618951,"creation_date":1638618951,"answer_id":70225362,"question_id":70225313,"body_markdown":"```\r\n\r\nclass Television {\r\n    String name;\r\n    \r\n    Television(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n}\r\n\r\nclass TelevisionShop {\r\n    public Television[] televisions;\r\n    \r\n    \r\n    TelevisionShop(Television[] televisions) {\r\n        this.televisions = televisions;\r\n    }\r\n}\r\n\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t    Television t1 = new Television(&quot;t1&quot;);\r\n\t    Television t2 = new Television(&quot;t2&quot;);\r\n\t    Television[] televisions = {t1,t2};\r\n\t\tTelevisionShop shop = new TelevisionShop(televisions);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nI guess this is the most straightforward way.","title":"Can you declare class name as an attribute of another class in Java?","body":"<pre><code>\nclass Television {\n    String name;\n    \n    Television(String name) {\n        this.name = name;\n    }\n    \n}\n\nclass TelevisionShop {\n    public Television[] televisions;\n    \n    \n    TelevisionShop(Television[] televisions) {\n        this.televisions = televisions;\n    }\n}\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n        Television t1 = new Television(&quot;t1&quot;);\n        Television t2 = new Television(&quot;t2&quot;);\n        Television[] televisions = {t1,t2};\n        TelevisionShop shop = new TelevisionShop(televisions);\n        \n    }\n}\n</code></pre>\n<p>I guess this is the most straightforward way.</p>\n"}],"owner":{"account_id":16986827,"reputation":7,"user_id":12287396,"display_name":"Andrew Namaye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":70225362,"answer_count":1,"score":-3,"last_activity_date":1638618951,"creation_date":1638618503,"question_id":70225313,"body_markdown":"I have a class called Television and the second class is called Televisionshop and has Television[] television as an array attribute. And also a constructor called Televisionshop(Television [] television). How can I initialize the attribute to this constructor. ?","title":"Can you declare class name as an attribute of another class in Java?","body":"<p>I have a class called Television and the second class is called Televisionshop and has Television[] television as an array attribute. And also a constructor called Televisionshop(Television [] television). How can I initialize the attribute to this constructor. ?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1638571009,"post_id":70221359,"comment_id":124133081,"body_markdown":"Never mock a collection type like `LinkedMultiValueMap`.  Just make a real one.","body":"Never mock a collection type like <code>LinkedMultiValueMap</code>.  Just make a real one."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1638576220,"post_id":70221359,"comment_id":124133994,"body_markdown":"Or any type that&#39;s just plain data with no behavior to modify. @LouisWasserman","body":"Or any type that&#39;s just plain data with no behavior to modify. @LouisWasserman"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":0,"creation_date":1638643284,"post_id":70221359,"comment_id":124144510,"body_markdown":"@LouisWasserman &gt;&gt; You mean, to make a map out of LinkedMultiValueMap?","body":"@LouisWasserman &gt;&gt; You mean, to make a map out of LinkedMultiValueMap?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1638643361,"post_id":70221359,"comment_id":124144525,"body_markdown":"I mean to make a real `LinkedMultiValueMap`.  Don&#39;t mock it, construct it.","body":"I mean to make a real <code>LinkedMultiValueMap</code>.  Don&#39;t mock it, construct it."}],"answers":[{"tags":[],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638618237,"creation_date":1638610958,"answer_id":70224528,"question_id":70221359,"body_markdown":"As mentioned in comments, It doesn&#39;t make sense to mock either value object or any type of objects that doesn&#39;t contain any logic or is time consuming or needs a lot of resources or is not under test ( is external or is used by your functionality but is not your functionality).\r\n\r\nSaid this, I usually consider two categories of &#39;testing&#39;:\r\n\r\n - testing functionalities that invoke other functionalities\r\n - testing functionalities that has their own logic, then, for a given input they do have a definite output\r\n\r\nThe service you are testing belongs to the first category, so I would test that the web service you invoke is called with the right parameters.\r\n\r\nSo, I don&#39;t know Spring, but you should use a series of\r\n ```\r\nMockito.verify(mockObject).methodToCall(parameter1, parameter2);\r\n```","title":"Junit mocking for Linked MultiValueMap","body":"<p>As mentioned in comments, It doesn't make sense to mock either value object or any type of objects that doesn't contain any logic or is time consuming or needs a lot of resources or is not under test ( is external or is used by your functionality but is not your functionality).</p>\n<p>Said this, I usually consider two categories of 'testing':</p>\n<ul>\n<li>testing functionalities that invoke other functionalities</li>\n<li>testing functionalities that has their own logic, then, for a given input they do have a definite output</li>\n</ul>\n<p>The service you are testing belongs to the first category, so I would test that the web service you invoke is called with the right parameters.</p>\n<p>So, I don't know Spring, but you should use a series of</p>\n<pre><code>Mockito.verify(mockObject).methodToCall(parameter1, parameter2);\n</code></pre>\n"}],"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638618237,"creation_date":1638570717,"question_id":70221359,"body_markdown":"I&#39;m trying to mock a method with a LinkedMultiValueMap, but without any success. To cut a long story short, I&#39;ve just begun to work with Mockito and Junit testing a few days ago, and I actually don&#39;t know what I&#39;m doing. I&#39;ll provide my test method code, with my tryout to write a mock test.\r\n\r\n    @Service\r\n    public class VaultService {\r\n    public VaultService() {\r\n    \r\n            String baseUrl = System.getenv(&quot;VAULT_HOST&quot;) + &quot;/api/v&quot; + System.getenv(&quot;VAULT_API_VERSION&quot;);\r\n            String userAgent = System.getenv(&quot;APPLICATION_NAME&quot;) + &quot;/&quot; + System.getenv(&quot;APPLICATION_VERSION&quot;);\r\n    \r\n            webClient = WebClient.builder()\r\n                    .baseUrl(baseUrl)\r\n                    .defaultHeader(HttpHeaders.USER_AGENT, userAgent)\r\n                    .defaultHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE)\r\n                    .build();\r\n        }\r\n    \r\n        @Scheduled(fixedDelay = 1200000)\r\n        public void authenticate() {\r\n            LinkedMultiValueMap&lt;String, String&gt; login = new LinkedMultiValueMap&lt;&gt;();\r\n            login.add(&quot;username&quot;, System.getenv(&quot;VAULT_USERNAME&quot;));\r\n            login.add(&quot;password&quot;, System.getenv(&quot;VAULT_PASSWORD&quot;));\r\n    \r\n            webClient.post()\r\n                    .uri(&quot;/auth&quot;)\r\n                    .body(BodyInserters.fromMultipartData(login))\r\n                    .retrieve()\r\n                    .bodyToMono(AuthenticationResponse.class)\r\n                    .map(authenticationResponse -&gt; {\r\n                        setSessionId(authenticationResponse.sessionId);\r\n                        return authenticationResponse;\r\n                    })\r\n                    .block();\r\n        }\r\n    }\r\n\r\nAnd here&#39;s my failed try to write a mock test:\r\n\r\n    class VaultServiceTest {\r\n        private WebClient webClientMock;\r\n    \r\n        @BeforeEach\r\n        void setup() {\r\n            webClientMock = mock(WebClient.class);\r\n        }\r\n    \r\n        @Test\r\n        void authenticate() {\r\n            VaultService vaultService = new VaultService();\r\n            LinkedMultiValueMap&lt;String, String&gt; testAuthenticate = mock(LinkedMultiValueMap.class);\r\n            when(testAuthenticate.get(&quot;password&quot;)).thenReturn(Collections.emptyList());\r\n        }\r\n    }","title":"Junit mocking for Linked MultiValueMap","body":"<p>I'm trying to mock a method with a LinkedMultiValueMap, but without any success. To cut a long story short, I've just begun to work with Mockito and Junit testing a few days ago, and I actually don't know what I'm doing. I'll provide my test method code, with my tryout to write a mock test.</p>\n<pre><code>@Service\npublic class VaultService {\npublic VaultService() {\n\n        String baseUrl = System.getenv(&quot;VAULT_HOST&quot;) + &quot;/api/v&quot; + System.getenv(&quot;VAULT_API_VERSION&quot;);\n        String userAgent = System.getenv(&quot;APPLICATION_NAME&quot;) + &quot;/&quot; + System.getenv(&quot;APPLICATION_VERSION&quot;);\n\n        webClient = WebClient.builder()\n                .baseUrl(baseUrl)\n                .defaultHeader(HttpHeaders.USER_AGENT, userAgent)\n                .defaultHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n    }\n\n    @Scheduled(fixedDelay = 1200000)\n    public void authenticate() {\n        LinkedMultiValueMap&lt;String, String&gt; login = new LinkedMultiValueMap&lt;&gt;();\n        login.add(&quot;username&quot;, System.getenv(&quot;VAULT_USERNAME&quot;));\n        login.add(&quot;password&quot;, System.getenv(&quot;VAULT_PASSWORD&quot;));\n\n        webClient.post()\n                .uri(&quot;/auth&quot;)\n                .body(BodyInserters.fromMultipartData(login))\n                .retrieve()\n                .bodyToMono(AuthenticationResponse.class)\n                .map(authenticationResponse -&gt; {\n                    setSessionId(authenticationResponse.sessionId);\n                    return authenticationResponse;\n                })\n                .block();\n    }\n}\n</code></pre>\n<p>And here's my failed try to write a mock test:</p>\n<pre><code>class VaultServiceTest {\n    private WebClient webClientMock;\n\n    @BeforeEach\n    void setup() {\n        webClientMock = mock(WebClient.class);\n    }\n\n    @Test\n    void authenticate() {\n        VaultService vaultService = new VaultService();\n        LinkedMultiValueMap&lt;String, String&gt; testAuthenticate = mock(LinkedMultiValueMap.class);\n        when(testAuthenticate.get(&quot;password&quot;)).thenReturn(Collections.emptyList());\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1638686869,"post_id":70225236,"comment_id":124150815,"body_markdown":"As far as I know, there is no option to set pattern fills or picture fills to character runs in Word. How would you do this using The Word GUI? Apache POI cannot do what Word itself is not able to do.","body":"As far as I know, there is no option to set pattern fills or picture fills to character runs in Word. How would you do this using The Word GUI? Apache POI cannot do what Word itself is not able to do."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1638696669,"post_id":70225236,"comment_id":124152201,"body_markdown":"There is a way to do that in word, maybe indirectly: https://www.techwalla.com/articles/how-to-group-picture-text-in-ms-word You are able to group a text box and an image and put the result anywhere in the document. But I agree that the result is not a simple text run","body":"There is a way to do that in word, maybe indirectly: <a href=\"https://www.techwalla.com/articles/how-to-group-picture-text-in-ms-word\" rel=\"nofollow noreferrer\">techwalla.com/articles/how-to-group-picture-text-in-ms-word</a> You are able to group a text box and an image and put the result anywhere in the document. But I agree that the result is not a simple text run"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1638698049,"post_id":70225236,"comment_id":124152453,"body_markdown":"To be fait, I really thought when I asked the question that Word was able to directly add a pattern under a text.","body":"To be fait, I really thought when I asked the question that Word was able to directly add a pattern under a text."}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638617887,"creation_date":1638617887,"question_id":70225236,"body_markdown":"I know that it is possible to set the color of the run by: https://stackoverflow.com/questions/35419619/how-can-i-set-background-colour-of-a-run-a-word-in-line-or-a-paragraph-in-a-do\r\n\r\nThe relevant code is for example (see the answer in the referenced question):\r\n\r\n     XWPFRun run=paragraph.createRun();  \r\n     run.setText(&quot;background color&quot;);\r\n     CTShd cTShd = run.getCTR().addNewRPr().addNewShd();\r\n     cTShd.setVal(STShd.CLEAR);\r\n     cTShd.setColor(&quot;auto&quot;);\r\n     cTShd.setFill(&quot;00FFFF&quot;);\r\n\r\nI would like to use an image instead as a pattern, is it possible? I know that the argument used for the fill argument is an object, so is it possible to use a picture reference or something like that?\r\n\r\nI also know how to add directly a picture in a docx document, for example:\r\n\r\n         Image image = // my image to use\r\n         float widthEMU = // the width of the image in EMU\r\n         float heightEMU = // the height of the image in EMU\r\n         BufferedImage bimage = new BufferedImage((int) width, (int) height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n         // Draw the image on to the buffered image\r\n         Graphics2D bGr = bimage.createGraphics();\r\n         bGr.drawImage(_image, 0, 0, null);\r\n         bGr.dispose();\r\n\r\n         ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n         ImageIO.write(bimage, &quot;png&quot;, os);\r\n         InputStream is = new ByteArrayInputStream(os.toByteArray());\r\n         XWPFPicture pic = run.addPicture(is, XWPFDocument.PICTURE_TYPE_PNG, &quot;Picture&quot;, widthEMU, heightEMU);\r\n\r\n","title":"How can I set background fill of a run (a word in line or a paragraph) in a docx file by using Apache POI?","body":"<p>I know that it is possible to set the color of the run by: <a href=\"https://stackoverflow.com/questions/35419619/how-can-i-set-background-colour-of-a-run-a-word-in-line-or-a-paragraph-in-a-do\">How can I set background colour of a run (a word in line or a paragraph) in a docx file by using Apache POI?</a></p>\n<p>The relevant code is for example (see the answer in the referenced question):</p>\n<pre><code> XWPFRun run=paragraph.createRun();  \n run.setText(&quot;background color&quot;);\n CTShd cTShd = run.getCTR().addNewRPr().addNewShd();\n cTShd.setVal(STShd.CLEAR);\n cTShd.setColor(&quot;auto&quot;);\n cTShd.setFill(&quot;00FFFF&quot;);\n</code></pre>\n<p>I would like to use an image instead as a pattern, is it possible? I know that the argument used for the fill argument is an object, so is it possible to use a picture reference or something like that?</p>\n<p>I also know how to add directly a picture in a docx document, for example:</p>\n<pre><code>     Image image = // my image to use\n     float widthEMU = // the width of the image in EMU\n     float heightEMU = // the height of the image in EMU\n     BufferedImage bimage = new BufferedImage((int) width, (int) height, BufferedImage.TYPE_INT_ARGB);\n\n     // Draw the image on to the buffered image\n     Graphics2D bGr = bimage.createGraphics();\n     bGr.drawImage(_image, 0, 0, null);\n     bGr.dispose();\n\n     ByteArrayOutputStream os = new ByteArrayOutputStream();\n     ImageIO.write(bimage, &quot;png&quot;, os);\n     InputStream is = new ByteArrayInputStream(os.toByteArray());\n     XWPFPicture pic = run.addPicture(is, XWPFDocument.PICTURE_TYPE_PNG, &quot;Picture&quot;, widthEMU, heightEMU);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8201,"page":1791,"page_size":100}
